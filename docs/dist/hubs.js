/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return options.scheduler ? undefined : fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key)
            ? builtInSymbols.has(key)
            : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject(value) ? reactive(value) : value;
const toReadonly = (value) => isObject(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job) {
                if (("production" !== 'production')) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length || pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            throw new Error(`Maximum recursive updates exceeded. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            (instance.emitted = {})[handlerName] = true;
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__emits !== undefined) {
        return comp.__emits;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__emits = null);
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    return (comp.__emits = normalized);
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

let isRenderingCompiledSlot = 0;
const setCompiledSlotRendering = (n) => (isRenderingCompiledSlot += n);

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance) {
    if (!ctx)
        return fn;
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we need to push a null block to
        // avoid that. This isn't necessary if rendering a compiled `<slot>`.
        if (!isRenderingCompiledSlot) {
            openBlock(true /* null block that disables tracking */);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (!isRenderingCompiledSlot) {
            closeBlock();
        }
        return res;
    };
    // mark this as a compiled slot function.
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (Component.inheritAttrs !== false && fallthroughAttrs) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment) ;
            }
        }
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function normalizeSuspenseChildren(vnode) {
    const { shapeFlag, children } = vnode;
    let content;
    let fallback;
    if (shapeFlag & 32 /* SLOTS_CHILDREN */) {
        content = normalizeSuspenseSlot(children.default);
        fallback = normalizeSuspenseSlot(children.fallback);
    }
    else {
        content = normalizeSuspenseSlot(children);
        fallback = normalizeVNode(null);
    }
    return {
        content,
        fallback
    };
}
function normalizeSuspenseSlot(s) {
    if (isFunction(s)) {
        s = s();
    }
    if (isArray(s)) {
        const singleChild = filterSingleRoot(s);
        s = singleChild;
    }
    return normalizeVNode(s);
}
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                const key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        attrs[key] = value;
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance);
                    }
                }
                else {
                    attrs[key] = value;
                }
            }
        }
    }
    else {
        // full props update.
        setFullProps(instance, rawProps, props, attrs);
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawProps || EMPTY_OBJ, key, undefined, instance);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    trigger(instance, "set" /* SET */, '$attrs');
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    if (rawProps) {
        for (const key in rawProps) {
            const value = rawProps[key];
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                props[camelKey] = value;
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                // Any non-declared (either as a prop or an emitted event) props are put
                // into a separate `attrs` object for spreading. Make sure to preserve
                // original key casing
                attrs[key] = value;
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, rawCurrentProps[key], instance);
        }
    }
}
function resolvePropValue(options, props, key, value, instance) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue(props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (!hasOwn(props, key) && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__props) {
        return comp.__props;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__props = EMPTY_ARR);
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    return (comp.__props = [normalized, needCastKeys]);
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR
!isInSSRComponentSetup && injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
const onErrorCaptured = (hook, target = currentInstance) => {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
};
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */, [
                    instance && instance.proxy
                ]);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */, [
                instance && instance.proxy
            ]);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isArray(source) ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep || forceTrigger || hasChanged(newValue, oldValue)) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job;
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, cb, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? () => publicThis[source]
        : source.bind(publicThis);
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function traverse(value, seen = new Set()) {
    if (!isObject(value) || seen.has(value)) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => withCtx((props) => {
    return normalizeSlotValue(rawSlot(props));
}, ctx);
const normalizeObjectSlots = (rawSlots, slots) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            instance.slots = children;
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        const hook = binding.dir[name];
        if (hook) {
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            isCustomElement: NO,
            errorHandler: undefined,
            warnHandler: undefined
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null)
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                        // global mixin with props/emits de-optimizes props/emits
                        // normalization caching.
                        if (mixin.props || mixin.emits) {
                            context.deopt = true;
                        }
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode));
        return;
    }
    let value;
    if (!vnode) {
        // means unmount
        value = null;
    }
    else if (isAsyncWrapper(vnode)) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    else if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
        value = vnode.component.exposed || vnode.component.proxy;
    }
    else {
        value = vnode.el;
    }
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            refs[ref] = value;
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // - In the case of a Fragment, we need to provide the actual parent
            // of the Fragment itself so it can move its children.
            oldVNode.type === Fragment ||
                // - In the case of different nodes, there is going to be a replacement
                // which also requires the correct parent container
                !isSameVNodeType(oldVNode, newVNode) ||
                // - In the case of a component, it could contain anything.
                oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                oldVNode.shapeFlag & 64 /* TELEPORT */
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (patchFlag > 0) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        setupComponent(instance);
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                const subTree = (instance.subTree = renderComponentRoot(instance));
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    hydrateNode(initialVNode.el, subTree, instance, parentSuspense, null);
                }
                else {
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, scopedInitialVNode);
                    }, parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                const { a } = instance;
                if (a &&
                    initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    queuePostRenderEffect(a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, next, vnode);
                    }, parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, null);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren = currentBlock || EMPTY_ARR;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        const { content, fallback } = normalizeSuspenseChildren(vnode);
        vnode.ssContent = content;
        vnode.ssFallback = fallback;
    }
    if (// avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    return {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, child);
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return child.el === null ? child : cloneVNode(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && setCompiledSlotRendering(1);
                normalizeChildren(vnode, slot());
                slot._c && setCompiledSlotRendering(-1);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.vnode.patchFlag & 1024 /* DYNAMIC_SLOTS */) {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
                else {
                    children._ = 1 /* STABLE */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, toMerge[key])
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue()
                : defaultValue;
        }
        else ;
    }
}
let shouldCacheAccess = true;
function applyOptions(instance, options, deferredData = [], deferredWatch = [], deferredProvide = [], asMixin = false) {
    const { 
    // composition
    mixins, extends: extendsOptions, 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // assets
    components, directives, 
    // lifecycle
    beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, 
    // public API
    expose } = options;
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    const globalMixins = instance.appContext.mixins;
    if (asMixin && render && instance.render === NOOP) {
        instance.render = render;
    }
    // applyOptions is called non-as-mixin once per instance
    if (!asMixin) {
        shouldCacheAccess = false;
        callSyncHook('beforeCreate', "bc" /* BEFORE_CREATE */, options, instance, globalMixins);
        shouldCacheAccess = true;
        // global mixins are applied first
        applyMixins(instance, globalMixins, deferredData, deferredWatch, deferredProvide);
    }
    // extending a base component...
    if (extendsOptions) {
        applyOptions(instance, extendsOptions, deferredData, deferredWatch, deferredProvide, true);
    }
    // local mixins
    if (mixins) {
        applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide);
    }
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        if (isArray(injectOptions)) {
            for (let i = 0; i < injectOptions.length; i++) {
                const key = injectOptions[i];
                ctx[key] = inject(key);
            }
        }
        else {
            for (const key in injectOptions) {
                const opt = injectOptions[key];
                if (isObject(opt)) {
                    ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
                }
                else {
                    ctx[key] = inject(opt);
                }
            }
        }
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (!asMixin) {
        if (deferredData.length) {
            deferredData.forEach(dataFn => resolveData(instance, dataFn, publicThis));
        }
        if (dataOptions) {
            // @ts-ignore dataOptions is not fully type safe
            resolveData(instance, dataOptions, publicThis);
        }
    }
    else if (dataOptions) {
        deferredData.push(dataOptions);
    }
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        deferredWatch.push(watchOptions);
    }
    if (!asMixin && deferredWatch.length) {
        deferredWatch.forEach(watchOptions => {
            for (const key in watchOptions) {
                createWatcher(watchOptions[key], ctx, publicThis, key);
            }
        });
    }
    if (provideOptions) {
        deferredProvide.push(provideOptions);
    }
    if (!asMixin && deferredProvide.length) {
        deferredProvide.forEach(provideOptions => {
            const provides = isFunction(provideOptions)
                ? provideOptions.call(publicThis)
                : provideOptions;
            Reflect.ownKeys(provides).forEach(key => {
                provide(key, provides[key]);
            });
        });
    }
    // asset options.
    // To reduce memory usage, only components with mixins or extends will have
    // resolved asset registry attached to instance.
    if (asMixin) {
        if (components) {
            extend(instance.components ||
                (instance.components = extend({}, instance.type.components)), components);
        }
        if (directives) {
            extend(instance.directives ||
                (instance.directives = extend({}, instance.type.directives)), directives);
        }
    }
    // lifecycle options
    if (!asMixin) {
        callSyncHook('created', "c" /* CREATED */, options, instance, globalMixins);
    }
    if (beforeMount) {
        onBeforeMount(beforeMount.bind(publicThis));
    }
    if (mounted) {
        onMounted(mounted.bind(publicThis));
    }
    if (beforeUpdate) {
        onBeforeUpdate(beforeUpdate.bind(publicThis));
    }
    if (updated) {
        onUpdated(updated.bind(publicThis));
    }
    if (activated) {
        onActivated(activated.bind(publicThis));
    }
    if (deactivated) {
        onDeactivated(deactivated.bind(publicThis));
    }
    if (errorCaptured) {
        onErrorCaptured(errorCaptured.bind(publicThis));
    }
    if (renderTracked) {
        onRenderTracked(renderTracked.bind(publicThis));
    }
    if (renderTriggered) {
        onRenderTriggered(renderTriggered.bind(publicThis));
    }
    if (beforeUnmount) {
        onBeforeUnmount(beforeUnmount.bind(publicThis));
    }
    if (unmounted) {
        onUnmounted(unmounted.bind(publicThis));
    }
    if (isArray(expose)) {
        if (!asMixin) {
            if (expose.length) {
                const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
                expose.forEach(key => {
                    exposed[key] = toRef(publicThis, key);
                });
            }
            else if (!instance.exposed) {
                instance.exposed = EMPTY_OBJ;
            }
        }
    }
}
function callSyncHook(name, type, options, instance, globalMixins) {
    for (let i = 0; i < globalMixins.length; i++) {
        callHookWithMixinAndExtends(name, type, globalMixins[i], instance);
    }
    callHookWithMixinAndExtends(name, type, options, instance);
}
function callHookWithMixinAndExtends(name, type, options, instance) {
    const { extends: base, mixins } = options;
    const selfHook = options[name];
    if (base) {
        callHookWithMixinAndExtends(name, type, base, instance);
    }
    if (mixins) {
        for (let i = 0; i < mixins.length; i++) {
            callHookWithMixinAndExtends(name, type, mixins[i], instance);
        }
    }
    if (selfHook) {
        callWithAsyncErrorHandling(selfHook.bind(instance.proxy), instance, type);
    }
}
function applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide) {
    for (let i = 0; i < mixins.length; i++) {
        applyOptions(instance, mixins[i], deferredData, deferredWatch, deferredProvide, true);
    }
}
function resolveData(instance, dataFn, publicThis) {
    shouldCacheAccess = false;
    const data = dataFn.call(publicThis, publicThis);
    shouldCacheAccess = true;
    if (!isObject(data)) ;
    else if (instance.data === EMPTY_OBJ) {
        instance.data = reactive(data);
    }
    else {
        // existing data: this is a mixin or extends.
        extend(instance.data, data);
    }
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function resolveMergedOptions(instance) {
    const raw = instance.type;
    const { __merged, mixins, extends: extendsOptions } = raw;
    if (__merged)
        return __merged;
    const globalMixins = instance.appContext.mixins;
    if (!globalMixins.length && !mixins && !extendsOptions)
        return raw;
    const options = {};
    globalMixins.forEach(m => mergeOptions(options, m, instance));
    mergeOptions(options, raw, instance);
    return (raw.__merged = options);
}
function mergeOptions(to, from, instance) {
    const strats = instance.appContext.config.optionMergeStrategies;
    const { mixins, extends: extendsOptions } = from;
    extendsOptions && mergeOptions(to, extendsOptions, instance);
    mixins &&
        mixins.forEach((m) => mergeOptions(to, m, instance));
    for (const key in from) {
        if (strats && hasOwn(strats, key)) {
            to[key] = strats[key](to[key], from[key], instance.proxy, key);
        }
        else {
            to[key] = from[key];
        }
    }
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // let @vue/reactivity know it should never observe Vue public instances.
        if (key === "__v_skip" /* SKIP */) {
            return true;
        }
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            return globalProperties[key];
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance, Component);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.0.11";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
let tempContainer;
let tempSVGContainer;
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: innerHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG) {
        const temp = isSVG
            ? tempSVGContainer ||
                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))
            : tempContainer || (tempContainer = doc.createElement('div'));
        temp.innerHTML = content;
        const first = temp.firstChild;
        let node = first;
        let last = node;
        while (node) {
            last = node;
            nodeOps.insert(node, parent, anchor);
            node = temp.firstChild;
        }
        return [first, last];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var _imports_0$1 = "https://blairhome.ngrok.io/test-vue-app/dist/1a6ace377133f14a.png";

pushScopeId("data-v-36bd408d");
const _hoisted_1$4 = {
  "xr-layer": "",
  class: "fade"
};
const _hoisted_2$4 = /*#__PURE__*/createVNode("p", null, " Here's some more text just to make things not blank. ", -1 /* HOISTED */);
popScopeId();


var script$5 = {
  expose: [],
  props: {
  msg: String
},
  setup(__props) {



const shared = inject('shared');

return (_ctx, _cache) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", _hoisted_1$4, toDisplayString(__props.msg), 1 /* TEXT */),
    _hoisted_2$4,
    createVNode("button", {
      "xr-layer": "",
      onClick: _cache[1] || (_cache[1] = (...args) => (unref(shared).increment && unref(shared).increment(...args)))
    }, "count is: " + toDisplayString(unref(shared).state.count), 1 /* TEXT */)
  ], 64 /* STABLE_FRAGMENT */))
}
}

};

function styleInject(css, ref) {
  if ( ref === void 0 ) ref = {};
  var insertAt = ref.insertAt;

  if (!css || typeof document === 'undefined') { return; }

  var head = document.head || document.getElementsByTagName('head')[0];
  var style = document.createElement('style');
  style.type = 'text/css';

  if (insertAt === 'top') {
    if (head.firstChild) {
      head.insertBefore(style, head.firstChild);
    } else {
      head.appendChild(style);
    }
  } else {
    head.appendChild(style);
  }

  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
}

var css_248z$5 = "\na[data-v-36bd408d] {\n  color: #b542b9;\n}\n*[data-v-36bd408d] {\n    line-height : normal;\n}\n.fade[data-v-36bd408d] {\n  color: #9803a5;\n  /* transition: color 1s; */\n}\n.fade[data-v-36bd408d]:hover {\n  color: #a78e06;\n}\np[data-v-36bd408d] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-36bd408d] {\n      /* text-align: center; */\n\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-36bd408d] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n/* button :hover {\n    background-color: -internal-light-dark(rgb(150, 150, 150), rgb(121, 121, 121));\n} */\n";
styleInject(css_248z$5);

script$5.__scopeId = "data-v-36bd408d";
script$5.__file = "src/components/NetworkedHelloWorld.vue";

pushScopeId("data-v-2e228cef");
const _hoisted_1$3 = { id: "top" };
const _hoisted_2$3 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0$1
}, null, -1 /* HOISTED */);
popScopeId();

var script$4 = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1$3, [
    _hoisted_2$3,
    createVNode(script$5, { msg: "Networked Vue Component with Shared Button Count" })
  ]))
}
}

};

var css_248z$4 = "\n#top[data-v-2e228cef] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n  border: 5;\n  border-radius: 10px;\n  border-color: red;\n  width: 400px; height: 450px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-2e228cef] {\n    box-sizing: content-box;\n}\nimg[data-v-2e228cef] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z$4);

script$4.__scopeId = "data-v-2e228cef";
script$4.__file = "src/apps/HubsTest1/App.vue";

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}e.prototype.isVector2=!0;const r=[];for(let Ih=0;Ih<256;Ih++)r[Ih]=(Ih<16?"0":"")+Ih.toString(16);let n=1234567;const i=Math.PI/180,s=180/Math.PI;function a(t,e,r){return Math.max(e,Math.min(r,t))}function o(t,e){return (t%e+e)%e}function u(t,e,r){return (1-r)*t+r*e}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:i,RAD2DEG:s,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:a,euclideanModulo:o,mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},inverseLerp:function(t,e,r){return t!==e?(r-t)/(e-t):0},lerp:u,damp:function(t,e,r,n){return u(t,e,1-Math.exp(-r*n))},pingpong:function(t,e=1){return e-Math.abs(o(t,2*e)-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i},radToDeg:function(t){return t*s},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}});class c{constructor(t=0,e=0,r=0,n=1){this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(0===a)return t[e+0]=o,t[e+1]=u,t[e+2]=h,void(t[e+3]=c);if(1===a)return t[e+0]=l,t[e+1]=p,t[e+2]=f,void(t[e+3]=d);if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(a(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}slerpQuaternions(t,e,r){this.copy(t).slerp(e,r);}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}c.prototype.isQuaternion=!0;class l{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(f.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return p.copy(this).projectOnVector(t),this.sub(p)}reflect(t){return this.sub(p.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(a(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}l.prototype.isVector3=!0;const p=new l,f=new c;class m{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new m).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/y.setFromMatrixColumn(t,0).length(),i=1/y.setFromMatrixColumn(t,1).length(),s=1/y.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(v,t,x)}lookAt(t,e,r){const n=this.elements;return _.subVectors(t,e),0===_.lengthSq()&&(_.z=1),_.normalize(),w.crossVectors(r,_),0===w.lengthSq()&&(1===Math.abs(r.z)?_.x+=1e-4:_.z+=1e-4,_.normalize(),w.crossVectors(r,_)),w.normalize(),b.crossVectors(_,w),n[0]=w.x,n[4]=b.x,n[8]=_.x,n[1]=w.y,n[5]=b.y,n[9]=_.y,n[2]=w.z,n[6]=b.z,n[10]=_.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],N=n[12],E=n[1],S=n[5],T=n[9],O=n[13],z=n[2],C=n[6],A=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*E+o*z+u*D,i[4]=s*_+a*S+o*C+u*k,i[8]=s*M+a*T+o*A+u*I,i[12]=s*N+a*O+o*R+u*L,i[1]=h*b+c*E+l*z+p*D,i[5]=h*_+c*S+l*C+p*k,i[9]=h*M+c*T+l*A+p*I,i[13]=h*N+c*O+l*R+p*L,i[2]=f*b+d*E+m*z+y*D,i[6]=f*_+d*S+m*C+y*k,i[10]=f*M+d*T+m*A+y*I,i[14]=f*N+d*O+m*R+y*L,i[3]=g*b+v*E+x*z+w*D,i[7]=g*_+v*S+x*C+w*k,i[11]=g*M+v*T+x*A+w*I,i[15]=g*N+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15],g=c*m*u-d*l*u+d*o*p-a*m*p-c*o*y+a*l*y,v=f*l*u-h*m*u-f*o*p+s*m*p+h*o*y-s*l*y,x=h*d*u-f*c*u+f*a*p-s*d*p-h*a*y+s*c*y,w=f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m,b=e*g+r*v+n*x+i*w;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/b;return t[0]=g*_,t[1]=(d*l*i-c*m*i-d*n*p+r*m*p+c*n*y-r*l*y)*_,t[2]=(a*m*i-d*o*i+d*n*u-r*m*u-a*n*y+r*o*y)*_,t[3]=(c*o*i-a*l*i-c*n*u+r*l*u+a*n*p-r*o*p)*_,t[4]=v*_,t[5]=(h*m*i-f*l*i+f*n*p-e*m*p-h*n*y+e*l*y)*_,t[6]=(f*o*i-s*m*i-f*n*u+e*m*u+s*n*y-e*o*y)*_,t[7]=(s*l*i-h*o*i+h*n*u-e*l*u-s*n*p+e*o*p)*_,t[8]=x*_,t[9]=(f*c*i-h*d*i-f*r*p+e*d*p+h*r*y-e*c*y)*_,t[10]=(s*d*i-f*a*i+f*r*u-e*d*u-s*r*y+e*a*y)*_,t[11]=(h*a*i-s*c*i-h*r*u+e*c*u+s*r*p-e*a*p)*_,t[12]=w*_,t[13]=(h*d*n-f*c*n+f*r*l-e*d*l-h*r*m+e*c*m)*_,t[14]=(f*a*n-s*d*n-f*r*o+e*d*o+s*r*m-e*a*m)*_,t[15]=(s*c*n-h*a*n+h*r*o-e*c*o-s*r*l+e*a*l)*_,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,n,i,s){return this.set(1,r,i,0,t,1,s,0,e,n,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=y.set(n[0],n[1],n[2]).length();const s=y.set(n[4],n[5],n[6]).length(),a=y.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],g.copy(this);const o=1/i,u=1/s,h=1/a;return g.elements[0]*=o,g.elements[1]*=o,g.elements[2]*=o,g.elements[4]*=u,g.elements[5]*=u,g.elements[6]*=u,g.elements[8]*=h,g.elements[9]*=h,g.elements[10]*=h,e.setFromRotationMatrix(g),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}m.prototype.isMatrix4=!0;const y=new l,g=new m,v=new l(0,0,0),x=new l(1,1,1),w=new l,b=new l,_=new l;new m;class ot{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=h*s-a*u,l=a*o-h*i,p=u*i-s*o,f=e*c+r*l+n*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=c*d,t[1]=(n*u-h*r)*d,t[2]=(a*r-n*s)*d,t[3]=l*d,t[4]=(h*e-n*o)*d,t[5]=(n*i-a*e)*d,t[6]=p*d,t[7]=(r*o-u*e)*d,t[8]=(s*e-r*i)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);return this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1),this}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return (new this.constructor).fromArray(this.elements)}}ot.prototype.isMatrix3=!0;new ot;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new l(0,0,0));Object.freeze(new l(1,0,0));Object.freeze(new l(0,1,0));Object.freeze(new l(0,0,1));Object.freeze(new l(1,1,1));Object.freeze(new c);({RIGHT:Object.freeze(new l(1,0,0)),UP:Object.freeze(new l(0,1,0)),NEAR:Object.freeze(new l(0,0,1)),LEFT:Object.freeze(new l(-1,0,0)),DOWN:Object.freeze(new l(0,-1,0)),FAR:Object.freeze(new l(0,0,-1))});var ee=function(t){return function(e){return 1-t(1-e)}},re=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},ne=ee,ie=re,se=function(t){return function(e){return Math.pow(e,t)}},ae=function(t){return function(e){return e*e*((t+1)*e-t)}},oe=function(t){var e=ae(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ue=se(2),he=ee(ue),ce=re(ue),le=function(t){return 1-Math.sin(Math.acos(t))},pe=ee(le),fe=re(pe),de=ae(1.525),me=ee(de),ye=re(de),ge=oe(1.525),ve=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},xe="undefined"!=typeof Float32Array,we=function(t,e){return 1-3*e+3*t},be=function(t,e){return 3*e-6*t},_e=function(t){return 3*t},Me=function(t,e,r){return 3*we(e,r)*t*t+2*be(e,r)*t+_e(e)},Ne=function(t,e,r){return ((we(e,r)*t+be(e,r))*t+_e(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:ee,mirrored:re,createReversedEasing:ne,createMirroredEasing:ie,createExpoIn:se,createBackIn:ae,createAnticipateEasing:oe,linear:function(t){return t},easeIn:ue,easeOut:he,easeInOut:ce,circIn:le,circOut:pe,circInOut:fe,backIn:de,backOut:me,backInOut:ye,anticipate:ge,bounceOut:ve,bounceIn:function(t){return 1-ve(1-t)},bounceInOut:function(t){return t<.5?.5*(1-ve(1-2*t)):.5*ve(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=xe?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=Me(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=Me(n,t,r)))return n;n-=(Ne(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=Ne(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=Ne(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:Ne(s(i),e,n)}}});function Re(t){return "number"==typeof t}function De(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function ke(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ie(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Le(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Be(t){return "string"==typeof t}var Fe=Array.isArray;function Pe(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ue(t){return Array.isArray(t)||Pe(t)}function je(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function qe(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function He(t){return t&&!0===t.constructor.prototype.isRange||!1}function Ve(t){return t&&!0===t.constructor.prototype.isIndex||!1}function $e(t){return "boolean"==typeof t}function Ge(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function We(t){return t&&!0===t.constructor.prototype.isHelp||!1}function Ye(t){return "function"==typeof t}function Ze(t){return t instanceof Date}function Xe(t){return t instanceof RegExp}function Qe(t){return !(!t||"object"!=typeof t||t.constructor!==Object||ke(t)||Ie(t))}function Je(t){return null===t}function Ke(t){return void 0===t}function tr(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function er(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function rr(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function nr(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function ir(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function sr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function ar(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function lr(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function pr(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function fr(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function dr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function mr(t){return t&&!0===t.constructor.prototype.isChain||!1}function yr(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":De(t)?"BigNumber":ke(t)?"Complex":Ie(t)?"Fraction":Pe(t)?"Matrix":Le(t)?"Unit":Ve(t)?"Index":He(t)?"Range":Ge(t)?"ResultSet":hr(t)?t.type:mr(t)?"Chain":We(t)?"Help":"Object":"function"===e?"Function":e}function gr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return gr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(De(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return vr(t,gr)}function vr(t,e){var r={};for(var n in t)Er(t,n)&&(r[n]=e(t[n]));return r}function xr(t,e){for(var r in e)Er(e,r)&&(t[r]=e[r]);return t}function br(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!br(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!br(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!br(t[r],e[r]))return !1;return !0}return t===e}function Er(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kr=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=A(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(N):n.types:[]).map(M)}function M(t){return t.name}function N(t){return null===t.conversion||void 0===t.conversion}function E(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=E(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=E(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function C(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function A(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(N):a.types;if(a.restParam){var u=o.filter(N);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(C);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,N=l?x(s[4].params[0]):e,E=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,A=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,Q=c?s[3].params.length:-1,J=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===Q&&M(e)&&A(r)?H.apply(t,arguments):arguments.length===J&&N(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&E(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function J(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(Q(e),t)},"...Function":function(t){return B(Q(t),J(t))},"string, ...Function":function(t,e){return B(t,J(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function Ir(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Lr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Br(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Re(e)?r=e:Re(e.precision)&&(r=e.precision)),n){case"fixed":return Pr(t,r);case"exponential":return Ur(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=jr(Fr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Re(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Re(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Fr(t),a=e?jr(s,e):s;if(a.exponent<n||a.exponent>=i)return Ur(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(qr(e-o.length))),o=o.concat(qr(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=qr(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Fr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function Pr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Fr(t),n="number"==typeof e?jr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(qr(a-i.length))),s<0&&(i=qr(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Ur(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Fr(t),n=e?jr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(qr(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function jr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function qr(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Hr=Number.EPSILON||2220446049250313e-31;function Vr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Hr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function $r(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return Gr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():Gr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Gr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Wr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Yr(t,e){return "number"==typeof t?Br(t,e):De(t)?$r(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?Qr(t,e):Be(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+Yr(t[r],e))).join(", ")+"}":String(t)}function Zr(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function Xr(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qr(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=Qr(t[i],e);return r+="]"}return Yr(t,e)}function Jr(t,e,r){if(!(this instanceof Jr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function Kr(t,e,r){if(!(this instanceof Kr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function tn(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function en(t,e,r){var n,i=t.length;if(i!==e[r])throw new Jr(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new Jr(e.length-1,e.length,"<");en(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Jr(e.length+1,e.length,">")}function rn(t,e){if(0===e.length){if(Array.isArray(t))throw new Jr(t.length,0)}else en(t,e,0);}function nn(t,e){if(!Re(t)||!Ir(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Kr(t,e)}function sn(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Re(t)||!Ir(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(e)+")")})),an(t,e,0,void 0!==r?r:0),t}function an(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),an(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,an(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function on(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Jr(0,i(tn(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new Jr(i(e),i(tn(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof Jr)throw new Jr(i(e),i(tn(t)),"!=");throw o}return r}function un(t,e,r,n){var i=n||tn(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=hn(t,e,0);i.length<e;)i.push(1);return t}function hn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=hn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function cn(t,e){return Array.prototype.map.call(t,e)}function ln(t,e){Array.prototype.forEach.call(t,e);}function pn(t,e){return Array.prototype.join.call(t,e)}function fn(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?fn(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function mn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(gn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function gn(t){return t&&"?"===t[0]?t.slice(1):t}Jr.prototype=new RangeError,Jr.prototype.constructor=RangeError,Jr.prototype.name="DimensionError",Jr.prototype.isDimensionError=!0,Kr.prototype=new RangeError,Kr.prototype.constructor=RangeError,Kr.prototype.name="IndexError",Kr.prototype.isIndexError=!0;var vn=function(){return vn=kr.create,kr},xn=mn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=vn();return s.types=[{name:"number",test:Re},{name:"Complex",test:ke},{name:"BigNumber",test:De},{name:"Fraction",test:Ie},{name:"Unit",test:Le},{name:"string",test:Be},{name:"Chain",test:mr},{name:"Array",test:Fe},{name:"Matrix",test:Pe},{name:"DenseMatrix",test:je},{name:"SparseMatrix",test:qe},{name:"Range",test:He},{name:"Index",test:Ve},{name:"boolean",test:$e},{name:"ResultSet",test:Ge},{name:"Help",test:We},{name:"function",test:Ye},{name:"Date",test:Ze},{name:"RegExp",test:Xe},{name:"null",test:Je},{name:"undefined",test:Ke},{name:"AccessorNode",test:tr},{name:"ArrayNode",test:er},{name:"AssignmentNode",test:rr},{name:"BlockNode",test:nr},{name:"ConditionalNode",test:ir},{name:"ConstantNode",test:sr},{name:"FunctionNode",test:or},{name:"FunctionAssignmentNode",test:ar},{name:"IndexNode",test:ur},{name:"Node",test:hr},{name:"ObjectNode",test:cr},{name:"OperatorNode",test:lr},{name:"ParenthesisNode",test:pr},{name:"RangeNode",test:fr},{name:"SymbolNode",test:dr},{name:"Object",test:Qe}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||wn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||bn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||bn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||bn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||_n(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||wn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||_n(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||bn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||wn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||_n(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function wn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function bn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function _n(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Mn,Nn,En=mn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),Sn=9e15,Tn="0123456789abcdef",On="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Sn,maxE:Sn,crypto:!1},An=!0,Rn="[DecimalError] Invalid argument: ",Dn=Math.floor,kn=Math.pow,In=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ln=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Bn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn=1e7,Un=On.length-1,jn=zn.length-1,qn={name:"[object Decimal]"};function Hn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=ti(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=ti(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Vn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rn+t)}function $n(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=kn(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==kn(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==kn(10,e-3)-1,a}function Gn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Tn.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}qn.absoluteValue=qn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Yn(t)},qn.ceil=function(){return Yn(new this.constructor(this),this.e+1,2)},qn.comparedTo=qn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},qn.cosine=qn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/hi(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=ui(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,ci(n,r)),n.precision=t,n.rounding=e,Yn(2==Nn||3==Nn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},qn.cubeRoot=qn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(An=!1,(s=c.s*kn(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Hn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=kn(r,1/3),t=Dn((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=Wn(h.plus(c).times(o),h.plus(u),a+2,1),Hn(o.d).slice(0,a)===(r=Hn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Yn(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(Yn(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return An=!0,Yn(n,t,l.rounding,e)},qn.decimalPlaces=qn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-Dn(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},qn.dividedBy=qn.div=function(t){return Wn(this,new this.constructor(t))},qn.dividedToIntegerBy=qn.divToInt=function(t){var e=this.constructor;return Yn(Wn(this,new e(t),0,1,1),e.precision,e.rounding)},qn.equals=qn.eq=function(t){return 0===this.cmp(t)},qn.floor=function(){return Yn(new this.constructor(this),this.e+1,3)},qn.greaterThan=qn.gt=function(t){return this.cmp(t)>0},qn.greaterThanOrEqualTo=qn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},qn.hyperbolicCosine=qn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/hi(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=ui(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return Yn(s,a.precision=r,a.rounding=n,!0)},qn.hyperbolicSine=qn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=ui(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=ui(s,2,i=i.times(1/hi(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,Yn(i,e,r,!0)},qn.hyperbolicTangent=qn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Wn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},qn.inverseCosine=qn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?Jn(r,i,s):new r(0):new r(NaN):e.isZero()?Jn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Jn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},qn.inverseHyperbolicCosine=qn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,An=!1,r=r.times(r).minus(1).sqrt().plus(r),An=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},qn.inverseHyperbolicSine=qn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,An=!1,r=r.times(r).plus(1).sqrt().plus(r),An=!0,n.precision=t,n.rounding=e,r.ln())},qn.inverseHyperbolicTangent=qn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Yn(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Wn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},qn.inverseSine=qn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=Jn(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},qn.inverseTangent=qn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=jn)return (a=Jn(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=jn)return (a=Jn(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(An=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),An=!0,Yn(a,c.precision=l,c.rounding=p,!0)},qn.isFinite=function(){return !!this.d},qn.isInteger=qn.isInt=function(){return !!this.d&&Dn(this.e/7)>this.d.length-2},qn.isNaN=function(){return !this.s},qn.isNegative=qn.isNeg=function(){return this.s<0},qn.isPositive=qn.isPos=function(){return this.s>0},qn.isZero=function(){return !!this.d&&0===this.d[0]},qn.lessThan=qn.lt=function(t){return this.cmp(t)<0},qn.lessThanOrEqualTo=qn.lte=function(t){return this.cmp(t)<1},qn.logarithm=qn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(An=!1,a=si(h,o=l+5),n=e?Qn(c,o+10):si(t,o),$n((u=Wn(a,n,o,1)).d,i=l,p))do{if(a=si(h,o+=10),n=e?Qn(c,o+10):si(t,o),u=Wn(a,n,o,1),!s){+Hn(u.d).slice(i+1,i+15)+1==1e14&&(u=Yn(u,l+1,0));break}}while($n(u.d,i+=10,p));return An=!0,Yn(u,l,p)},qn.minus=qn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return An?Yn(t,o,u):t}if(r=Dn(t.e/7),c=Dn(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=Pn-1;--h[i],h[n]+=Pn;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=Xn(h,r),An?Yn(t,o,u):t):new d(3===u?-0:0)},qn.modulo=qn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Yn(new n(r),n.precision,n.rounding):(An=!1,9==n.modulo?(e=Wn(r,t.abs(),0,3,1)).s*=t.s:e=Wn(r,t,0,n.modulo,1),e=e.times(t),An=!0,r.minus(e))},qn.naturalExponential=qn.exp=function(){return ii(this)},qn.naturalLogarithm=qn.ln=function(){return si(this)},qn.negated=qn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Yn(t)},qn.plus=qn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),An?Yn(t,o,u):t;if(s=Dn(l.e/7),n=Dn(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/Pn|0,h[i]%=Pn;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=Xn(h,n),An?Yn(t,o,u):t},qn.precision=qn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Rn+t);return r.d?(e=Kn(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},qn.round=function(){var t=this,e=t.constructor;return Yn(new e(t),t.e+1,e.rounding)},qn.sine=qn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return ui(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/hi(5,r)),e=ui(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,ci(n,r)),n.precision=t,n.rounding=e,Yn(Nn>2?r.neg():r,t,e,!0)):new n(NaN)},qn.squareRoot=qn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(An=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Hn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=Dn((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(Wn(a,s,r+2,1)).times(.5),Hn(s.d).slice(0,r)===(e=Hn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Yn(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(Yn(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return An=!0,Yn(n,u,c.rounding,t)},qn.tangent=qn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=Wn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Yn(2==Nn||4==Nn?r.neg():r,t,e,!0)):new n(NaN)},qn.times=qn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=Dn(c.e/7)+Dn(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%Pn|0,e=o/Pn|0;s[i]=(s[i]+e)%Pn|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=Xn(s,r),An?Yn(t,l.precision,l.rounding):t},qn.toBinary=function(t,e){return li(this,2,t,e)},qn.toDecimalPlaces=qn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Vn(t,0,1e9),void 0===e?e=n.rounding:Vn(e,0,8),Yn(r,t+r.e+1,e))},qn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Zn(n,!0):(Vn(t,0,1e9),void 0===e?e=i.rounding:Vn(e,0,8),r=Zn(n=Yn(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},qn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=Zn(i):(Vn(t,0,1e9),void 0===e?e=s.rounding:Vn(e,0,8),r=Zn(n=Yn(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},qn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=Kn(d)-f.e-1)%7,e.d[0]=kn(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Rn+o);t=o.gt(e)?s>0?e:h:o;}for(An=!1,o=new m(Hn(d)),c=m.precision,m.precision=s=7*d.length*2;l=Wn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=Wn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=Wn(h,n,s,1).minus(f).abs().cmp(Wn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,An=!0,p},qn.toHexadecimal=qn.toHex=function(t,e){return li(this,16,t,e)},qn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Vn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(An=!1,r=Wn(r,t,0,e,1).times(t),An=!0,Yn(r)):(t.s=r.s,r=t),r},qn.toNumber=function(){return +this},qn.toOctal=function(t,e){return li(this,8,t,e)},qn.toPower=qn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(kn(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return Yn(o,n,s);if((e=Dn(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=ei(u,o,r,n),t.s<0?new u(1).div(i):Yn(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=kn(+o,h))&&isFinite(r)?new u(r+"").e:Dn(h*(Math.log("0."+Hn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(An=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=ii(t.times(si(o,n+r)),n)).d&&$n((i=Yn(i,n+5,1)).d,n,s)&&(e=n+10,+Hn((i=Yn(ii(t.times(si(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Yn(i,n+1,0))),i.s=a,An=!0,u.rounding=s,Yn(i,n,s))},qn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Zn(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Vn(t,1,1e9),void 0===e?e=i.rounding:Vn(e,0,8),r=Zn(n=Yn(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},qn.toSignificantDigits=qn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Vn(t,1,1e9),void 0===e?e=r.rounding:Vn(e,0,8)),Yn(new r(this),t,e)},qn.toString=function(){var t=this,e=t.constructor,r=Zn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},qn.truncated=qn.trunc=function(){return Yn(new this.constructor(this),this.e+1,1)},qn.valueOf=qn.toJSON=function(){var t=this,e=t.constructor,r=Zn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var Wn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,N,E,S,T,O,z=n.constructor,C=n.s==i.s?1:-1,A=n.d,R=i.d;if(!(A&&A[0]&&R&&R[0]))return new z(n.s&&i.s&&(A?!R||A[0]!=R[0]:R)?A&&0==A[0]||!R?0*C:C/0:NaN);for(u?(f=1,c=n.e-i.e):(u=Pn,f=7,c=Dn(n.e/f)-Dn(i.e/f)),T=R.length,E=A.length,v=(g=new z(C)).d=[],l=0;R[l]==(A[l]||0);l++);if(R[l]>(A[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<E||p)&&_--;l++)M=p*u+(A[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<E;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),A=t(A,p,u),T=R.length,E=A.length),N=T,w=(x=A.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=A[N]||0:(x=[A[N]],w=1);}while((N++<E||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,Mn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,Yn(g,o?s+g.e+1:s,a,d);}return g}}();function Yn(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/kn(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/kn(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%kn(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/kn(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=kn(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=kn(10,7-s),l[p]=a>0?(c/kn(10,i-a)%kn(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==Pn&&(l[0]=1));break}if(l[p]+=o,l[p]!=Pn)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return An&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function Zn(t,e,r){if(!t.isFinite())return ai(t);var n,i=t.e,s=Hn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ti(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+ti(-i-1)+s,r&&(n=r-a)>0&&(s+=ti(n))):i>=a?(s+=ti(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ti(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ti(n))),s}function Xn(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function Qn(t,e,r){if(e>Un)throw An=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return Yn(new t(On),e,1,!0)}function Jn(t,e,r){if(e>jn)throw Error("[DecimalError] Precision limit exceeded");return Yn(new t(zn),e,r,!0)}function Kn(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function ti(t){for(var e="";t--;)e+="0";return e}function ei(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(An=!1;;){if(r%2&&pi((s=s.times(e)).d,a)&&(i=!0),0===(r=Dn(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}pi((e=e.times(e)).d,a);}return An=!0,s}function ri(t){return 1&t.d[t.d.length-1]}function ni(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function ii(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(An=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(kn(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=Yn(s.times(t),u,1),r=r.times(++c),Hn((o=a.plus(Wn(s,r,u,1))).d).slice(0,u)===Hn(a.d).slice(0,u)){for(i=l;i--;)a=Yn(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&$n(a.d,u-n,f,h)))return Yn(a,p.precision=d,f,An=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function si(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(An=!1,c=v):c=e,y.precision=c+=10,n=(r=Hn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=Qn(y,c+2,v).times(s+""),d=si(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?Yn(d,v,g,An=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Hn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=Wn(d.minus(1),d.plus(1),c,1),p=Yn(d.times(d),c,1),i=3;;){if(a=Yn(a.times(p),c,1),Hn((h=u.plus(Wn(a,new y(i),c,1))).d).slice(0,c)===Hn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(Qn(y,c+2,v).times(s+""))),u=Wn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!$n(u.d,c-10,g,o))return Yn(u,y.precision=v,g,An=!0);y.precision=c+=10,h=a=d=Wn(l.minus(1),l.plus(1),c,1),p=Yn(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function ai(t){return String(t.s*t.s/0)}function oi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),An&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function ui(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(An=!1,u=r.times(r),o=new t(n);;){if(a=Wn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=Wn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return An=!0,a.d.length=c+1,a}function hi(t,e){for(var r=t;--e;)r*=t;return r}function ci(t,e){var r,n=e.s<0,i=Jn(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Nn=n?4:1,e;if((r=e.divToInt(i)).isZero())Nn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return Nn=ri(r)?n?2:3:n?4:1,e;Nn=ri(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function li(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Vn(r,1,1e9),void 0===n?n=f.rounding:Vn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=Zn(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=Gn(Zn(p),10,i),p.e=p.d.length),s=u=(l=Gn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=Wn(t,p,r,n,0,i)).d,s=t.e,h=Mn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=Tn.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=Gn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=Tn.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=ai(t);return t.s<0?"-"+c:c}function pi(t,e){if(t.length>e)return t.length=e,!0}function fi(t){return new this(t).abs()}function di(t){return new this(t).acos()}function mi(t){return new this(t).acosh()}function yi(t,e){return new this(t).plus(e)}function gi(t){return new this(t).asin()}function vi(t){return new this(t).asinh()}function xi(t){return new this(t).atan()}function wi(t){return new this(t).atanh()}function bi(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?Jn(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=Jn(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Wn(t,e,s,1)),e=Jn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Wn(t,e,s,1)):(r=Jn(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function _i(t){return new this(t).cbrt()}function Mi(t){return Yn(t=new this(t),t.e+1,2)}function Ni(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Sn,0,"toExpPos",0,Sn,"maxE",0,Sn,"minE",-Sn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Cn[r]),void 0!==(n=t[r])){if(!(Dn(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Rn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Cn[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Rn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function Ei(t){return new this(t).cos()}function Si(t){return new this(t).cosh()}function Ti(t,e){return new this(t).div(e)}function Oi(t){return new this(t).exp()}function zi(t){return Yn(t=new this(t),t.e+1,3)}function Ci(){var t,e,r=new this(0);for(An=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return An=!0,new this(1/0);r=e;}return An=!0,r.sqrt()}function Ai(t){return t instanceof Qi||t&&"[object Decimal]"===t.name||!1}function Ri(t){return new this(t).ln()}function Di(t,e){return new this(t).log(e)}function ki(t){return new this(t).log(2)}function Ii(t){return new this(t).log(10)}function Li(){return ni(this,arguments,"lt")}function Bi(){return ni(this,arguments,"gt")}function Fi(t,e){return new this(t).mod(e)}function Pi(t,e){return new this(t).mul(e)}function Ui(t,e){return new this(t).pow(e)}function ji(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Vn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=kn(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function qi(t){return Yn(t=new this(t),t.e+1,this.rounding)}function Hi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Vi(t){return new this(t).sin()}function $i(t){return new this(t).sinh()}function Gi(t){return new this(t).sqrt()}function Wi(t,e){return new this(t).sub(e)}function Yi(t){return new this(t).tan()}function Zi(t){return new this(t).tanh()}function Xi(t){return Yn(t=new this(t),t.e+1,1)}qn[Symbol.for("nodejs.util.inspect.custom")]=qn.toString,qn[Symbol.toStringTag]="Decimal";var Qi=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(An?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(An?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):oi(i,t.toString())}if("string"!==n)throw Error(Rn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Fn.test(t)?oi(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ln.test(e))r=16,e=e.toLowerCase();else if(In.test(e))r=2;else {if(!Bn.test(e))throw Error(Rn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=ei(n,new n(r),s,2*s)),s=c=(h=Gn(e,r,Pn)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=Xn(h,c),t.d=h,An=!1,a&&(t=Wn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?kn(2,u):Qi.pow(2,u))),An=!0,t)}(i,t)}if(s.prototype=qn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ni,s.clone=t,s.isDecimal=Ai,s.abs=fi,s.acos=di,s.acosh=mi,s.add=yi,s.asin=gi,s.asinh=vi,s.atan=xi,s.atanh=wi,s.atan2=bi,s.cbrt=_i,s.ceil=Mi,s.cos=Ei,s.cosh=Si,s.div=Ti,s.exp=Oi,s.floor=zi,s.hypot=Ci,s.ln=Ri,s.log=Di,s.log10=Ii,s.log2=ki,s.max=Li,s.min=Bi,s.mod=Fi,s.mul=Pi,s.pow=Ui,s.random=ji,s.round=qi,s.sign=Hi,s.sin=Vi,s.sinh=$i,s.sqrt=Gi,s.sub=Wi,s.tan=Yi,s.tanh=Zi,s.trunc=Xi,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Cn);On=new Qi(On),zn=new Qi(zn);var Ji,Ki=mn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=Qi.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),ts={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
Ji=ts,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Ji.exports=s;}();var es=Rr(ts.exports),rs=mn("Complex",[],(()=>(es.prototype.type="Complex",es.prototype.isComplex=!0,es.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},es.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},es.prototype.format=function(t){var e=this.im,r=this.re,n=Br(this.re,t),i=Br(this.im,t),s=Re(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},es.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return es(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Re(r)){if(Le(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Re(n))return new es({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},es.prototype.valueOf=es.prototype.toString,es.fromJSON=function(t){return new es(t)},es.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},es)),{isClass:!0}),ns={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=1,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(ns);var is=Rr(ns.exports),ss=mn("Fraction",[],(()=>(is.prototype.type="Fraction",is.prototype.isFraction=!0,is.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},is.fromJSON=function(t){return new is(t)},is)),{isClass:!0}),as=mn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(De(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(De(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(De(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return Lr(r)===Lr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Br(this.start,t);return 1!==this.step&&(e+=":"+Br(this.step,t)),e+=":"+Br(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),os=mn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),us=mn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Be(e))throw new Error("Invalid datatype: "+e);if(Pe(t))"DenseMatrix"===t.type?(this._data=gr(t._data),this._size=gr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Fe(t.data)&&Fe(t.size))this._data=t.data,this._size=t.size,rn(this._data,this._size),this._datatype=e||t.datatype;else if(Fe(t))this._data=h(t),this._size=tn(this._data),rn(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+yr(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Ve(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new Jr(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)nn(s[o],t._size[o]),nn(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return nn(e,t.length),t[e]})).valueOf():a.map((function(s){return nn(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if(Pe(r)?(i=r.size(),r=r.valueOf()):i=tn(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new Jr(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=un(r,s.length,c,i);}if(!br(s,i))throw new Jr(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){nn(e),t[e]=r[n[0]];})):o.forEach((function(s,o){nn(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;Fe(n);)n=n[0];return n}return t._size=e.slice(0),t._data=sn(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];Fe(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return fn(this._data,yr)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);for(var e=0;e<t.length;e++)nn(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];nn(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!Fe(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Jr(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)nn(s=t[n],a.length),a=a[s];return nn(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ue(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=on(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:gr(this._data),size:gr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return Fe(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?fn(n,yr):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){Fe(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return gr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return Yr(this._data,t)},r.prototype.toString=function(){return Yr(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!Fe(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(De(n)&&(n=n.toNumber()),!Re(n)||!Ir(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(Fe(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if(Pe(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=De(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=sn(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Re(t)&&Ir(t)&&Re(e)&&Ir(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return nn(t,this._size[0]),nn(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function hs(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return hs(t,e)})):e(t)}var cs="number",ls="number, number";function ps(t){return Math.abs(t)}function fs(t,e){return t+e}function ds(t,e){return t*e}function ms(t){return -t}function ys(t){return Math.ceil(t)}function gs(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function vs(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function xs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(Pr(t,e))}ps.signature=cs,fs.signature=ls,ds.signature=ls,ms.signature=cs,ys.signature=cs,gs.signature=ls,vs.signature=ls,xs.signature=ls;var ws=mn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return hs(t,this)}})}));function bs(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var _s="equalScalar",Ms=mn(_s,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(_s,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Vr(t.re,e.re,r)&&Vr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));mn(_s,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(_s,{"number, number":function(t,e){return Vr(t,e,r.epsilon)}})}));var Ns=mn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Be(e))throw new Error("Invalid datatype: "+e);if(Pe(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?gr(e._values):void 0,t._index=gr(e._index),t._ptr=gr(e._ptr),t._size=gr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&Fe(t.index)&&Fe(t.ptr)&&Fe(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Fe(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+yr(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(Be(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(Fe(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Ve(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new Jr(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)nn(u[r],t._size[r]),nn(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if(Pe(r)?(i=r.size(),r=r.toArray()):i=tn(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new Jr(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=un(r,s.length,u,i);}if(!br(s,i))throw new Jr(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;Be(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?gr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return fn(this._values,yr)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];nn(e,this._size[0]),nn(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;Be(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),nn(s,o),nn(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ue(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Re(t)||!Ir(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!Fe(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Re(e)||!Ir(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?gr(this._values):void 0,index:gr(this._index),ptr:gr(this._ptr),size:gr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;Be(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+Yr(e,t)+" x "+Yr(r,t)+"] density: "+Yr(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+Yr(this._index[u],t)+", "+Yr(s,t)+") ==> "+(this._values?Yr(this._values[u],t):"X");}return i},i.prototype.toString=function(){return Yr(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!Fe(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(De(s)&&(s=s.toNumber()),!Re(s)||!Ir(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;Be(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(Fe(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if(Pe(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Re(t)&&Ir(t)&&Re(e)&&Ir(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return nn(t,this._size[0]),nn(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),Es=mn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return hs(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),Ss=mn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return hs(t,this)}})})),Ts=mn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return hs(t,this)}})})),Os=mn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),zs=mn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:ms,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return hs(t,this)}})})),Cs=mn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:ps,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return hs(t,this)},Unit:function(t){return t.abs()}})})),As=mn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":fs,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Rs=mn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var N=o[M],E=s?y(n,a[M]):y(a[M],n);d(E,m)||(v.push(N),g.push(E));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Ds=mn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:gr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),ks=mn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Rs({typed:e,equalScalar:s}),o=Ds({typed:e});return e("ceil",{number:function(t){return Vr(t,n(t),r.epsilon)?n(t):ys(t)},"number, number":function(t,e){if(Vr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return bs(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return bs(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Qi.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number":function(t,e){return hs(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Is=mn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Ds({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return hs(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),Ls=mn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Rs({typed:e,equalScalar:s}),o=Ds({typed:e});return e("floor",{number:function(t){return Vr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Vr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return bs(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return bs(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Qi.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number":function(t,e){return hs(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Bs=mn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Jr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],N=c[d+1],E=M;E<N;E++)w[f=h[E]]=i?v(u[E],s[f][d]):v(s[f][d],u[E]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Fs=mn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Jr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,C=s&&c?[]:void 0,A=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(N=o[_],E=o[_+1],M=N;M<E;M++)b=a[M],T.push(b),A[b]=D,z&&(z[b]=s[M]);for(N=p[_],E=p[_+1],M=N;M<E;M++)if(A[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?A[b]=null:z[b]=k;}}else T.push(b),R[b]=D,C&&(C[b]=c[M]);if(z&&C)for(M=O[_];M<T.length;)A[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=C[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),Ps=mn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Us=mn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new Jr(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),js=mn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new Jr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var N=l[M],E=l[M+1],S=N;S<E;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),qs=mn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Jr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,N=c[_],E=c[_+1],S=N;S<E;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Hs=mn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Jr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E=s&&c?[]:void 0,S=[],T=[],O=E?[]:void 0,z=E?[]:void 0,C=[],A=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],N=o[_+1];M<N;M++)b=a[M],S.push(b),C[b]=R,O&&(O[b]=s[M]);for(M=p[_],N=p[_+1];M<N;M++)C[b=l[M]]!==R&&S.push(b),A[b]=R,z&&(z[b]=c[M]);if(E)for(M=T[_];M<S.length;){var D=C[b=S[M]],k=A[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(E.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:E,index:S,ptr:T,size:[y,g],datatype:m})}})),Vs=mn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));mn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=js({typed:e,equalScalar:n}),a=qs({typed:e}),o=Hs({typed:e,equalScalar:n}),u=Rs({typed:e,equalScalar:n}),h=Vs({typed:e,DenseMatrix:i}),c=Us({typed:e}),l=Ds({typed:e});return e("mod",{"number, number":gs,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var Gs=mn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ds,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Ws=mn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Rs({typed:e,equalScalar:s}),u=Ds({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var N=0;N<d;N++){var E=l[N];if(!w(E,b))for(var S=u[N],T=u[N+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(E,a[O])):(M[z]=!0,y.push(z),_[z]=x(E,a[O]));}}for(var C=y.length,A=0;A<C;A++){var R=y[A];m[A]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],N=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),E=0;E<y;E++){M[E]=_.length;var S=l[E],T=l[E+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var C=z+1,A=void 0,R=S;R<T;R++){var D=c[R];O!==C?(A=v(a[z][D],h[R]),O=C):A=g(A,v(a[z][D],h[R]));}O!==C||x(A,w)||(_.push(z),b.push(A));}}return M[y]=_.length,N},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),N=[],E=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var C=u[O],A=u[O+1],R=C;R<A;R++){var D=o[R];E[D]!==T?(E[D]=T,b.push(D),N[D]=g(z,a[R])):N[D]=y(N[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=N[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,N,E,S,T=y?[]:void 0,O=[],z=[],C=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),A=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],N=p[D+1],_=M;_<N;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k?(R[E]=k,O.push(E),A[E]=v(c[_],a[x])):A[E]=g(A[E],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k&&(R[E]=k,O.push(E));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=A[F];}}return z[m]=O.length,C}});return e("multiply",xr({"Array, Array":function(t,e){h(tn(t),tn(e));var n=this(r(t),r(e));return Pe(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),Ys=mn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Bs({typed:e}),u=qs({typed:e}),h=Hs({typed:e,equalScalar:n}),c=Ps({typed:e,DenseMatrix:a}),l=Us({typed:e}),p=Ds({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return Zs(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Zs(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Zs(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Zs(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function Zs(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new Jr(r.length,n.length)}var Xs=mn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new Jr(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,N=b[l]===_?x[l]:m;g[l][p]=y(M,N);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),Qs=mn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return hs(t,this)}})}));function Js(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function Ks(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:Js(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var ta=mn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=De(t)||De(e)?i:null;if(De(t)&&(t=t.toNumber()),De(e)&&(e=e.toNumber()),!Ir(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!Ir(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=sn([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function ea(){throw new Error('No "bignumber" implementation available')}function ra(){throw new Error('No "fraction" implementation available')}function na(t,e,r,n){if(!(this instanceof na))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}na.prototype=new Error,na.prototype.constructor=Error,na.prototype.name="ArgumentsError",na.prototype.isArgumentsError=!0;var ia=mn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:tn,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function sa(t,e){if(ha(t)&&oa(t,e))return t[e];if("function"==typeof t[e]&&ua(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function aa(t,e,r){if(ha(t)&&oa(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function oa(t,e){return !(!t||"object"!=typeof t)&&(!!Er(ca,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function ua(t,e){return null!=t&&"function"==typeof t[e]&&(!(Er(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!Er(la,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ha(t){return "object"==typeof t&&t&&t.constructor===Object}var ca={length:!0,name:!0},la={toString:!0,valueOf:!0,toLocaleString:!0},pa=mn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ma,"string, Index":fa,"Array, Index, any":function(t,e,n){return r(gr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(gr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":da,"string, Index, string, string":da,"Object, Index, any":ya})}));function fa(t,e){if(!Ve(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new Jr(e.size().length,1);var r=t.length;nn(e.min()[0],r),nn(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function da(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new Jr(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new Jr(i.size()[0],r.length);var s=t.length;nn(e.min()[0]),nn(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ma(t,e){if(1!==e.size().length)throw new Jr(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return sa(t,r)}function ya(t,e,r){if(1!==e.size().length)throw new Jr(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=gr(t);return aa(i,n,r),i}var ga=mn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){De(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!Ir(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?sn(a,t,r):a}})),va=mn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:Yr,"any, Object | function | number":Yr})})),xa=mn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):ea,Fraction:n?t=>n(t):ra};return function(t,e){var r=yr(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),wa=mn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,yr(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,yr(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),ba=mn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!Ir(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:Ir(e)||t>=0||r.predictable?vs(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!Ir(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=tn(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function _a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_a(Object(r),!0).forEach((function(e){Na(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Na(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ea="Number of decimals in function round must be an integer",Sa=mn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Rs({typed:e,equalScalar:n}),u=Vs({typed:e,DenseMatrix:a}),h=Ds({typed:e});return e("round",Ma(Ma({},Ta),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(Ea);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(Ea);return t.round(e)},"Array | Matrix":function(t){return hs(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),Ta={number:xs,"number, number":function(t,e){if(!Ir(e))throw new TypeError(Ea);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return xs(t,e)}},Oa=mn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));mn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var za=mn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Ca=mn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Aa=mn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Ra=mn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});Ks((function(t){return new t(1).exp()}),{hasher:ka}),Ks((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:ka});var Da=Ks((function(t){return t.acos(-1)}),{hasher:ka});function ka(t){return t[0].precision}function Ia(){return (Ia=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function La(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ba(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?La(Object(r),!0).forEach((function(e){Fa(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Fa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ks((function(t){return Da(t).times(2)}),{hasher:ka});var Pa=mn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!ke(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)E();}function N(t){return t>="0"&&t<="9"}function E(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?E():"-"===n&&(e+=n,E()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,E(),!N(n))return S(i),null}else {for(;N(n);)e+=n,E();"."===n&&(e+=n,E());}for(;N(n);)e+=n,E();if("E"===n||"e"===n){var s="",a=r;if(s+=n,E(),"+"!==n&&"-"!==n||(s+=n,E()),!N(n))return S(a),e;for(e+=s;N(n);)e+=n,E();}return e}function O(){for(var t="";N(n)||_.isValidAlpha(n);)t+=n,E();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(E(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;E(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(N){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,E(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=C(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),E(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=gr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])Er(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(yr(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(yr(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(yr(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(yr(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var C=Ks((t=>{if(Er(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(Er(B,r)&&Wr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=Er(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function A(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==C(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ba({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ba(Ba({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,A(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=gr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(Le(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=gr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(Er(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&Er(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(Er(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!Er(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&ke(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)Er(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&ke(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(Er(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Ia({},R.SHORT,R.LONG),R.BINARY_SHORT=Ia({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Ia({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)Er(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Da(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!Er(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(Er(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(Er(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(Er(F,V)){var $=B[F[V]],G={};for(var W in $)Er($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(Er(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)Er(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Er(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!N(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(Er(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(Er(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)Er(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var E in l)Er(l,E)&&(M[E]=l[E]);M.name=b,_.UNITS[b]=M;}return delete C.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});mn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return hs(t,this)}})}));mn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));mn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Bs({typed:e}),u=Fs({typed:e,equalScalar:i}),h=Ps({typed:e,DenseMatrix:s}),c=Us({typed:e}),l=Ds({typed:e});return e("add",xr({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Ha=mn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=Pe(t)?t._data:t,c=Pe(t)?t._datatype:void 0,l=Pe(s)?s._data:s,p=Pe(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var N=y(i(h[0][0]),l[0][0]),E=1;E<u;E++)N=m(N,y(i(h[E][0]),l[E][0]));return N}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return Pe(t)?t.size():s(t)}})),Va={end:!0},$a=mn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(Er(t,e)&&e in Va)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!hr(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&br(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function Ga(t){return t&&t.isIndexError?new Kr(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Wa(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return sa(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Ga(n)}}}var Ya=mn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=Wa({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError('Node expected for parameter "object"');if(!ur(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(tr(t)||er(t)||sr(t)||or(t)||cr(t)||pr(t)||dr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return sa(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),Za=mn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(hr))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=cn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(cn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return cn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var Xa=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Qa(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<Xa.length;i++)if(n in Xa[i])return i;return null}function Ja(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=Qa(r,e);if(null===i)return null;var s=Xa[i][n];if(Er(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function Ka(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=Qa(n,r);if(null===o)return null;var u=Xa[o][s];if(Er(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var to=mn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=Wa({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return aa(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Ga(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!dr(t)&&!tr(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(dr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!ur(this.index))throw new TypeError('IndexNode expected as "index"');if(!hr(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=Qa(t,e),n=Qa(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return aa(i,u,s)}}if(dr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return aa(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=sa(i,c),u=n(t,e,o),l=a(t,e,r);return aa(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!dr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return aa(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),eo=mn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!hr(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=cn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return ln(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),ro=mn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError("Parameter condition must be a Node");if(!hr(e))throw new TypeError("Parameter trueExpr must be a Node");if(!hr(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(De(t))return !t.isZero();if(ke(t))return !(!t.re&&!t.im);if(Le(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+yr(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.condition.toString(t),i=Qa(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=Qa(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=Qa(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.condition.toHTML(t),i=Qa(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=Qa(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=Qa(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),no=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},io={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},so={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ao=function(t,e){return no({},t,e)},oo={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},uo={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ho={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(uo.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(uo.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(uo.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(uo.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(uo.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(uo.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(uo.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(uo.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(uo.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(uo.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(uo.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(uo.bitAnd,"${args[1]}\\right)")},bitNot:{1:uo.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(uo.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(uo.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(uo.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(uo.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(uo.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(uo.and,"${args[1]}\\right)")},not:{1:uo.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(uo.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(uo.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(uo.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(uo.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(uo.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(uo.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(uo.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(uo.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(uo.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(uo.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(uo.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(uo.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(uo.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(oo.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},co={deg:"^\\circ"};function lo(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?ao:i,a=String(t),o="",u=s(no({},io),n?no({},so):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function po(t,e){return (e=void 0!==e&&e)?Er(co,t)?co[t]:"\\mathrm{"+lo(t)+"}":Er(oo,t)?oo[t]:lo(t)}var fo=mn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return Yr(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(yr(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(yr(this.value)){case"string":return "\\mathtt{"+lo(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),mo=mn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!hr(r))throw new TypeError('Node expected for parameter "expr"');if(t in Va)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=Qa(t,e),n=Qa(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);ln(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=pn(this.types,","),u=s+"("+pn(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,aa(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+Xr(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Xr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(po).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),yo=mn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(hr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(De(t)?t.toNumber():t,De(r)?r.toNumber():r,De(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=cn(this.dimensions,(function(r,i){if(fr(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(dr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=sa(t,"index");return function(t,e,n){var s=cn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&sr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Xr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),go=mn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return hr(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(Er(this.properties,n)){var i=Zr(n),s=JSON.parse(i);if(!oa(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)Er(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)Er(this.properties,e)&&t(this.properties[e],"properties["+Zr(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)Er(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+Zr(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)Er(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push(Zr(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push('<span class="math-symbol math-property">'+Xr(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),vo=mn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=Qa(t,e),o=Ja(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=Qa(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===Xa[a][c].latexLeftParens){s=[!1];break}if(!1===Xa[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=Qa(n[0],e),d=Ka(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=Qa(n[1],e),x=Ka(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===Xa[a][m].latexLeftParens&&(l=!1),!1===Xa[f][y].latexParens&&(l=!1)),null!==v&&(!1===Xa[a][m].latexRightParens&&(p=!1),!1===Xa[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=Qa(r,e),i=Ka(t,r,e),s=Ja(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!ua(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=sa(t,this.fn),n=cn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,cn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Ja(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Ja(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Xr(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Xr(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(this.op)+"</span>"):'<span class="math-function">'+Xr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=uo[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=Ja(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),xo=mn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),wo=mn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError("Node expected");if(!hr(e))throw new TypeError("Node expected");if(n&&!hr(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=Qa(t,e),n={},i=Qa(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=Qa(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=Qa(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return dr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),bo=mn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!sa(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=uo[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function _o(){return (_o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function Mo(){return (Mo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var No={createBigNumberClass:Ki},Eo={createComplexClass:rs},So={createMatrixClass:os},To={MatrixDependencies:So,createDenseMatrixClass:us},Oo={createFractionClass:ss},zo={BigNumberDependencies:No,ComplexDependencies:Eo,DenseMatrixDependencies:To,FractionDependencies:Oo,createTyped:xn},Co={typedDependencies:zo,createEqualScalar:Ms},Ao={MatrixDependencies:So,equalScalarDependencies:Co,typedDependencies:zo,createSparseMatrixClass:Ns},Ro={typedDependencies:zo,createNumber:Es},Do={FractionDependencies:Oo,typedDependencies:zo,createFraction:Ts},ko={DenseMatrixDependencies:To,MatrixDependencies:So,SparseMatrixDependencies:Ao,typedDependencies:zo,createMatrix:Os},Io={typedDependencies:zo,createUnaryMinus:zs},Lo={typedDependencies:zo,createAbs:Cs},Bo={typedDependencies:zo,createAddScalar:As},Fo={BigNumberDependencies:No,DenseMatrixDependencies:To,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,zerosDependencies:{BigNumberDependencies:No,matrixDependencies:ko,typedDependencies:zo,createZeros:ga},createRound:Sa},Uo={typedDependencies:zo,createMultiplyScalar:Gs},jo={matrixDependencies:ko,typedDependencies:zo,createSize:ia},qo={addScalarDependencies:Bo,dotDependencies:{addScalarDependencies:Bo,conjDependencies:{typedDependencies:zo,createConj:Qs},multiplyScalarDependencies:Uo,sizeDependencies:jo,typedDependencies:zo,createDot:Ha},equalScalarDependencies:Co,matrixDependencies:ko,multiplyScalarDependencies:Uo,typedDependencies:zo,createMultiply:Ws},Ho={DenseMatrixDependencies:To,addScalarDependencies:Bo,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,unaryMinusDependencies:Io,createSubtract:Ys},Vo={DenseMatrixDependencies:To,matrixDependencies:ko,typedDependencies:zo,createLarger:Ca},$o={BigNumberDependencies:No,DenseMatrixDependencies:To,SparseMatrixDependencies:Ao,matrixDependencies:ko,typedDependencies:zo,createIdentity:ta},Wo={bignumberDependencies:{BigNumberDependencies:No,typedDependencies:zo,createBignumber:Ss},fractionDependencies:Do,numberDependencies:Ro,createNumeric:xa},Yo={numericDependencies:Wo,typedDependencies:zo,createDivideScalar:wa},Zo={matrixDependencies:ko,typedDependencies:zo,createSubset:pa},Xo={BigNumberDependencies:No,ComplexDependencies:Eo,FractionDependencies:Oo,absDependencies:Lo,addScalarDependencies:Bo,divideScalarDependencies:Yo,equalDependencies:{DenseMatrixDependencies:To,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,createEqual:Oa},fixDependencies:{ComplexDependencies:Eo,ceilDependencies:{equalScalarDependencies:Co,matrixDependencies:ko,roundDependencies:Fo,typedDependencies:zo,createCeil:ks},floorDependencies:{equalScalarDependencies:Co,matrixDependencies:ko,roundDependencies:Fo,typedDependencies:zo,createFloor:Ls},matrixDependencies:ko,typedDependencies:zo,createFix:Is},formatDependencies:{typedDependencies:zo,createFormat:va},isNumericDependencies:{typedDependencies:zo,createIsNumeric:ws},multiplyScalarDependencies:Uo,numberDependencies:Ro,powDependencies:{ComplexDependencies:Eo,fractionDependencies:Do,identityDependencies:$o,matrixDependencies:ko,multiplyDependencies:qo,numberDependencies:Ro,typedDependencies:zo,createPow:ba},roundDependencies:Fo,subtractDependencies:Ho,createUnitClass:Pa},Ko={createNode:$a},tu={UnitDependencies:Xo,NodeDependencies:Ko,createSymbolNode:mn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return sa(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?sa(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=Xr(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=po(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:Ko,subsetDependencies:Zo,createAccessorNode:Ya},ArrayNodeDependencies:{NodeDependencies:Ko,createArrayNode:Za},AssignmentNodeDependencies:{matrixDependencies:ko,NodeDependencies:Ko,subsetDependencies:Zo,createAssignmentNode:to},BlockNodeDependencies:{NodeDependencies:Ko,ResultSetDependencies:{createResultSet:En},createBlockNode:eo},ConditionalNodeDependencies:{NodeDependencies:Ko,createConditionalNode:ro},ConstantNodeDependencies:{NodeDependencies:Ko,createConstantNode:fo},FunctionAssignmentNodeDependencies:{NodeDependencies:Ko,typedDependencies:zo,createFunctionAssignmentNode:mo},FunctionNodeDependencies:{NodeDependencies:Ko,SymbolNodeDependencies:tu,createFunctionNode:mn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!hr(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=cn(this.args,(function(r){return r._compile(t,e)}));if(dr(this.fn)){var n=this.fn.name,s=n in t?sa(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?sa(e,n):s)(a,t,_o({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?sa(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?sa(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?sa(t,n):s).apply(null,cn(r,(function(r){return r(t,e,i)})))}}if(tr(this.fn)&&ur(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!ua(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,_o({},e,n)):s[l].apply(s,cn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,_o({},e,n)):s.apply(s,cn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(hr(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(hr(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!hr(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&Er(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (ar(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+Xr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&Er(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(ho[this.name]&&(r=ho[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:Ko,RangeDependencies:{createRangeClass:as},sizeDependencies:jo,createIndexNode:yo},ObjectNodeDependencies:{NodeDependencies:Ko,createObjectNode:go},OperatorNodeDependencies:{NodeDependencies:Ko,createOperatorNode:vo},ParenthesisNodeDependencies:{NodeDependencies:Ko,createParenthesisNode:xo},RangeNodeDependencies:{NodeDependencies:Ko,createRangeNode:wo},RelationalNodeDependencies:{NodeDependencies:Ko,createRelationalNode:bo},SymbolNodeDependencies:tu,numericDependencies:Wo,typedDependencies:zo,createParse:mn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return hs(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,N=3,E=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function C(t,e){return t.expression.substr(t.index,e)}function A(t){return C(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(A(t),t.nestingLevel);)R(t);if("#"===A(t))for(;"\n"!==A(t)&&""!==A(t);)t.comment+=A(t),R(t);if(""!==A(t)){if("\n"===A(t)&&!t.nestingLevel)return t.tokenType=_,t.token=A(t),void R(t);var e=A(t),r=C(t,2),n=C(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=C(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=A(t),R(t),t.token+=A(t),R(t);x.isHexDigit(A(t));)t.token+=A(t),R(t);return}if("."===A(t))t.token+=A(t),R(t),x.isDigit(A(t))||(t.tokenType=_);else {for(;x.isDigit(A(t));)t.token+=A(t),R(t);x.isDecimalMark(A(t),k(t))&&(t.token+=A(t),R(t));}for(;x.isDigit(A(t));)t.token+=A(t),R(t);if("E"===A(t)||"e"===A(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=A(t),R(t),"+"!==A(t)&&"-"!==A(t)||(t.token+=A(t),R(t)),!x.isDigit(A(t)))throw at(t,'Digit expected, got "'+A(t)+'"');for(;x.isDigit(A(t));)t.token+=A(t),R(t);if(x.isDecimalMark(A(t),k(t)))throw at(t,'Digit expected, got "'+A(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+A(t)+'"')}else {if(!x.isAlpha(A(t),D(t),k(t))){for(t.tokenType=E;""!==A(t);)t.token+=A(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(A(t),D(t),k(t))||x.isDigit(A(t));)t.token+=A(t),R(t);Er(T,t.token)?t.tokenType=_:t.tokenType=N;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};Mo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(dr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(tr(s))return L(t),n=U(t),new a(s.object,s.index,n);if(or(s)&&dr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){dr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Er(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Er(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};Er(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=Q(t);for(var s={"+":"add","-":"subtract"};Er(s,t.token);)n=s[r=t.token],L(t),i=[e,Q(t)],e=new d(r,n,i);return e}function Q(t){var e,r,n,i;r=e=J(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Er(s,t.token);)i=s[n=t.token],L(t),r=J(t),e=new d(n,i,[e,r]);return e}function J(t){var e,r;for(r=e=K(t);t.tokenType===N||"in"===t.token&&sr(e)||!(t.tokenType!==M||sr(r)||lr(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&sr(r);){if(n.push(Mo({},t)),L(t),t.tokenType!==M){Mo(t,n.pop());break}if(n.push(Mo({},t)),L(t),t.tokenType!==N&&"("!==t.token){n.pop(),Mo(t,n.pop());break}Mo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Er(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===N&&Er(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===N||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,Er(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===N||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;Er(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!dr(e)&&!tr(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==N)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==A(t)&&'"'!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==A(t)&&"'"!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:zo,createEvaluate:mn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return hs(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return hs(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:Yo,equalScalarDependencies:Co,invDependencies:{absDependencies:Lo,addScalarDependencies:Bo,detDependencies:{lupDependencies:{DenseMatrixDependencies:To,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Vo,smallerDependencies:{DenseMatrixDependencies:To,matrixDependencies:ko,typedDependencies:zo,createSmaller:za},createFibonacciHeapClass:Aa},addScalarDependencies:Bo,equalScalarDependencies:Co,createSpaClass:Ra},SparseMatrixDependencies:Ao,absDependencies:Lo,addScalarDependencies:Bo,divideScalarDependencies:Yo,equalScalarDependencies:Co,largerDependencies:Vo,matrixDependencies:ko,multiplyScalarDependencies:Uo,subtractDependencies:Ho,typedDependencies:zo,unaryMinusDependencies:Io,createLup:mn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],N=[],E=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),N.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),C=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,C)&&(T=t,C=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,E[1],_,M,N),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return N.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:N,size:E}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=gr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,N=0,E=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,N)&&(M=e,N=T,E=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],E));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),C=new l({data:v,size:x}),A=[];for(e=0,d=w.length;e<d;e++)A[w[e]]=e;return {L:z,U:C,p:A,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:ko,multiplyDependencies:qo,subtractDependencies:Ho,typedDependencies:zo,unaryMinusDependencies:Io,createDet:mn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return gr(t)},"Array | Matrix":function(t){var e;switch((e=Pe(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return gr(t);case 1:if(1===e[0])return gr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return gr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yr(e)+")")}}})}))},divideScalarDependencies:Yo,identityDependencies:$o,matrixDependencies:ko,multiplyDependencies:qo,typedDependencies:zo,unaryMinusDependencies:Io,createInv:mn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=Pe(t)?t.size():tn(t);switch(e.length){case 1:if(1===e[0])return Pe(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+Yr(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return Pe(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yr(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],N=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)N[l]=i(N[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)N[l]=n(N[l],p);}}}return g}}))},matrixDependencies:ko,multiplyDependencies:qo,typedDependencies:zo,createDivide:mn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Rs({typed:e,equalScalar:i}),u=Ds({typed:e});return e("divide",xr({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var nu={exports:{}};function iu(){}iu.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},nu.exports=iu,nu.exports.TinyEmitter=iu;function pu(t,e,r,n=0){n++;for(let i=t.firstChild;i;i=i.nextSibling)if(i.nodeType===Node.ELEMENT_NODE){const t=i;e.call(r,t,n)&&pu(t,e,r,n);}}function fu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Ar);class du{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class mu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function yu(t,e=new du,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(yu(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}const gu=document.createElement("div");function vu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}gu.id="VIEWPORT",gu.style.position="fixed",gu.style.width="100vw",gu.style.height="100vh",gu.style.visibility="hidden",gu.style.pointerEvents="none";var xu={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(xu);var wu={exports:{}};function bu(t,e){return " "+t+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}function _u(t){var e=t.tagName;return "http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e}function Mu(t,e){let r="";for(const n of t.childNodes)r+=Nu(n,e);return r}function Nu(t,e){var r;const n=null==(r=e.replacer)?void 0:r.call(e,t);if("string"==typeof n)return n;if("#document"===t.nodeName||"#document-fragment"===t.nodeName)return Mu(t,e);if(t.tagName)return function(t,e){let r="<"+_u(t);r+=function(t,e){return t.hasAttribute("xmlns")||!e&&t.namespaceURI===t.parentElement.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(t,0===e.depth);for(const n of t.attributes)r+=bu(n.name,n.value);return t.childNodes.length>0?(e.depth++,r+=">",r+=Mu(t,e),r+="</"+_u(t)+">",e.depth--):r+="/>",r}(t,e);if("#text"===t.nodeName)return function(t){return (t.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t);if("#comment"===t.nodeName);else if("#cdata-section"===t.nodeName)return function(t){return "<![CDATA["+t.nodeValue+"]]>"}(t);return ""}!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(wu);const Eu=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new du,this.padding=new mu,this.margin=new mu,this.border=new mu,this.childLayers=[],this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgDocument="",this._rasterizingDocument="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=t=>{if(this.element===t)return;const e=t,r=xh.layers.get(e);if(r){const t=r.bounds;let n="";const i=`min-width:${t.width}px;min-height:${t.height}px;visibility:hidden`;let s=!1;for(const e of r.element.attributes)"style"==e.name?(n+=bu(e.name,e.value+";"+i),s=!0):n+=bu(e.name,e.value);s||(n+=bu("style",i));const a=e.tagName.toLowerCase();return `<${a} ${n}></${a}>`}},xh.layers.set(t,this),this.id=t.getAttribute(xh.ELEMENT_UID_ATTRIBUTE)||xh.generateElementUID(),t.setAttribute(xh.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(xh.LAYER_ATTRIBUTE,""),this.parentLayer=xh.getClosestLayer(this.element.parentElement),this.eventCallback("layercreated",{target:t}),Eu.cachedCanvases.limit=xh.layers.size*Eu.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}set canvas(t){this._canvas!==t&&(this._canvas=t,this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}));}get canvas(){return this._canvas}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){yu(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),this.needsRefresh=!1,this._updateParentAndChildLayers(),xh.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=xh.getClosestLayer(this.element.parentElement),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,pu(t,this._tryConvertElementToWebLayer,this);for(const i of r){xh.getClosestLayer(i.element.parentElement)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(xh.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(xh.ELEMENT_UID_ATTRIBUTE,xh.generateElementUID());if(e.hasAttribute(xh.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=xh.layers.get(e);return t||(t=new Eu(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){if("VIDEO"===this.element.nodeName)return;let{width:t,height:e}=this.bounds;if(t*e>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(this.element,this.padding),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}(this.element,this.margin),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(this.element,this.border),t+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),e+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const i=xh.attributeHTML(xh.ELEMENT_UID_ATTRIBUTE,""+this.id),s=this.element,a="inline"===getComputedStyle(s).display;xh.updateInputAttributes(s);const o=(r=s,n=this.serializationReplacer,Nu(r,{depth:0,replacer:n}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")).replace(i,`${i} ${xh.RENDERING_ATTRIBUTE}="" ${a?`${xh.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+xh.getPsuedoAttributes(this.pseudoStates)),u=this._getParentsHTML(s);u[0]=u[0].replace("html","html "+xh.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const[h]=await Promise.all([xh.getEmbeddedCSS(this.element),xh.embedExternalResources(this.element)]),c='<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[a[href]{color:#0000EE;text-decoration:underline;}'+h.join("")+']]></style></defs><foreignObject x="0" y="0" width="'+t+'" height="'+e+'">'+u[0]+o+u[1]+"</foreignObject></svg>",l=this._svgDocument=c,p=Eu.canvasHashes.get(l);if(p&&Eu.cachedCanvases.has(p))return void(this.canvas=Eu.cachedCanvases.get(p));this.cachedBounds.set(l,(new du).copy(this.bounds)),this.cachedMargin.set(l,(new mu).copy(this.margin)),xh.addToRasterizeQueue(this);}var r,n;}async rasterize(){return new Promise((t=>{this.svgImage.onload=()=>{xh.addToRenderQueue(this),t();},this._rasterizingDocument=this._svgDocument,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument),this.svgImage.complete&&this.svgImage.currentSrc===this.svgImage.src&&(xh.addToRenderQueue(this),this.svgImage.onload=null,t());}))}render(){const t=this._rasterizingDocument;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);if(!this.svgImage.complete)return void xh.addToRenderQueue(this);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i}=this.cachedMargin.get(t);const s=this._hashingCanvas;let a=s.width,o=s.height;const u=s.getContext("2d");u.clearRect(0,0,a,o),u.imageSmoothingEnabled=!1,u.drawImage(this.svgImage,n,i,e,r,0,0,a,o);const h=u.getImageData(0,0,a,o).data,c=xh.arrayBufferToBase64(wu.exports.hash(new Uint8Array(h)))+"?w="+e+";h="+r;Eu.canvasHashes.set(t,c);const l=Eu.blankRetryCounts.get(t)||0;if(xh.isBlankImage(h)&&l<10)return Eu.blankRetryCounts.set(t,l+1),void setTimeout((()=>xh.addToRenderQueue(this)),500);if(Eu.cachedCanvases.has(c))return void(this.canvas=Eu.cachedCanvases.get(c));const p=this.pixelRatio||parseFloat(this.element.getAttribute(xh.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,f=Eu.cachedCanvases.size===Eu.cachedCanvases.limit?Eu.cachedCanvases.shift()[1]:document.createElement("canvas");let d=f.width=e*p,m=f.height=r*p;const y=f.getContext("2d");y.imageSmoothingEnabled=!1,y.clearRect(0,0,d,m),y.drawImage(this.svgImage,n,i,e,r,0,0,d,m),Eu.cachedCanvases.set(c,f),this.canvas=f;}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${xh.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n.parentElement);return [e.join(""),r.join("")]}};let Su=Eu;Su.DEFAULT_CACHE_SIZE=4,Su.blankRetryCounts=new Map,Su.canvasHashes=new xu.LRUMap(1e3),Su.cachedCanvases=new xu.LRUMap(Eu.DEFAULT_CACHE_SIZE);var Tu,Ou,zu=[],Cu="ResizeObserver loop completed with undelivered notifications.";(Ou=Tu||(Tu={})).BORDER_BOX="border-box",Ou.CONTENT_BOX="content-box",Ou.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Au,Ru=function(t){return Object.freeze(t)},Du=function(t,e){this.inlineSize=t,this.blockSize=e,Ru(this);},ku=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ru(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Iu=function(t){return t instanceof SVGElement&&"getBBox"in t},Lu=function(t){if(Iu(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},Bu=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},Fu="undefined"!=typeof window?window:{},Pu=new WeakMap,Uu=/auto|scroll/,ju=/^tb|vertical/,qu=/msie|trident/i.test(Fu.navigator&&Fu.navigator.userAgent),Hu=function(t){return parseFloat(t||"0")},Vu=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new Du((r?e:t)||0,(r?t:e)||0)},$u=Ru({devicePixelContentBoxSize:Vu(),borderBoxSize:Vu(),contentBoxSize:Vu(),contentRect:new ku(0,0,0,0)}),Gu=function(t,e){if(void 0===e&&(e=!1),Pu.has(t)&&!e)return Pu.get(t);if(Lu(t))return Pu.set(t,$u),$u;var r=getComputedStyle(t),n=Iu(t)&&t.ownerSVGElement&&t.getBBox(),i=!qu&&"border-box"===r.boxSizing,s=ju.test(r.writingMode||""),a=!n&&Uu.test(r.overflowY||""),o=!n&&Uu.test(r.overflowX||""),u=n?0:Hu(r.paddingTop),h=n?0:Hu(r.paddingRight),c=n?0:Hu(r.paddingBottom),l=n?0:Hu(r.paddingLeft),p=n?0:Hu(r.borderTopWidth),f=n?0:Hu(r.borderRightWidth),d=n?0:Hu(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:Hu(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:Hu(r.width)-b-w,N=n?n.height:Hu(r.height)-_-x,E=M+m+w+g,S=N+y+x+v,T=Ru({devicePixelContentBoxSize:Vu(Math.round(M*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:Vu(E,S,s),contentBoxSize:Vu(M,N,s),contentRect:new ku(l,u,M,N)});return Pu.set(t,T),T},Wu=function(t,e,r){var n=Gu(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Tu.DEVICE_PIXEL_CONTENT_BOX:return a;case Tu.BORDER_BOX:return i;default:return s}},Yu=function(t){var e=Gu(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Ru([e.borderBoxSize]),this.contentBoxSize=Ru([e.contentBoxSize]),this.devicePixelContentBoxSize=Ru([e.devicePixelContentBoxSize]);},Zu=function(t){if(Lu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},Xu=function(){var t=1/0,e=[];zu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new Yu(e.target),i=Zu(e.target);n.push(r),e.lastReportedSize=Wu(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},Qu=function(t){zu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(Zu(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},Ju=function(){var t,e=0;for(Qu(e);zu.some((function(t){return t.activeTargets.length>0}));)e=Xu(),Qu(e);return zu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Cu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Cu),window.dispatchEvent(t)),e>0},Ku=[],th=function(t){if(!Au){var e=0,r=document.createTextNode("");new MutationObserver((function(){return Ku.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),Au=function(){r.textContent=""+(e?e--:e++);};}Ku.push(t),Au();},eh=0,rh={attributes:!0,characterData:!0,childList:!0,subtree:!0},nh=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ih=function(t){return void 0===t&&(t=0),Date.now()+t},sh=!1,ah=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!sh){sh=!0;var r,n=ih(t);r=function(){var r=!1;try{r=Ju();}finally{if(sh=!1,t=n-ih(),!eh)return;r?e.run(1e3):t>0?e.run(t):e.start();}},th((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,rh)};document.body?e():Fu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),nh.forEach((function(e){return Fu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),nh.forEach((function(e){return Fu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),oh=function(t){!eh&&t>0&&ah.start(),!(eh+=t)&&ah.stop();},uh=function(){function t(t,e){this.target=t,this.observedBox=e||Tu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=Wu(this.target,this.observedBox,!0);return t=this.target,Iu(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),hh=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},ch=new WeakMap,lh=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},ph=function(){function t(){}return t.connect=function(t,e){var r=new hh(t,e);ch.set(t,r);},t.observe=function(t,e,r){var n=ch.get(t),i=0===n.observationTargets.length;lh(n.observationTargets,e)<0&&(i&&zu.push(n),n.observationTargets.push(new uh(e,r&&r.box)),oh(1),ah.schedule());},t.unobserve=function(t,e){var r=ch.get(t),n=lh(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&zu.splice(zu.indexOf(r),1),r.observationTargets.splice(n,1),oh(-1));},t.disconnect=function(t){var e=this,r=ch.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),fh=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ph.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bu(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ph.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bu(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ph.unobserve(this,t);},t.prototype.disconnect=function(){ph.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const dh=self.ResizeObserver||fh;const mh=new m,yh=new m,gh=new TextDecoder,vh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;const i=e.createElement("style");n.append(i);const s=i.sheet;let a=0;if(fu(s,`[${vh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",a++),fu(s,`[${vh.RENDERING_ATTRIBUTE}], [${vh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",a++),fu(s,`[${vh.RENDERING_ATTRIBUTE}] [${vh.LAYER_ATTRIBUTE}], [${vh.RENDERING_ATTRIBUTE}] [${vh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",a++),fu(s,`[${vh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",a++),fu(s,`[${vh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",a++),fu(s,`[${vh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:static !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",a++),fu(s,`[${vh.RENDERING_PARENT_ATTRIBUTE}]::before, [${vh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",a++),r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{o();}));}const o=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},u=t=>{var e=t.nodeName.toUpperCase();-1!==h.indexOf(e)&&t.addEventListener("load",o);},h=["STYLE","LINK"],c=new MutationObserver((t=>{var r;for(const n of t){-1!==h.indexOf(n.target.nodeName.toUpperCase())&&(o(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)u(t);}}));c.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,c);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){vh.tasksPending=!1;const t=vh.serializeQueue,e=vh.rasterizeQueue,r=vh.renderQueue,n=vh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&vh.rasterizeTaskCount<vh.TASK_ASYNC_MAX_COUNT&&(vh.rasterizeTaskCount++,e.shift().rasterize().then((()=>{vh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===vh.serializeQueue.length&&0===vh.renderQueue.length&&(0===vh.rasterizeQueue.length||vh.rasterizeTaskCount===vh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,vh.scheduleIdle(vh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e){if(vh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t){const e=t.ownerDocument,r=t.getRootNode();if(e.contains(t)||e.contains(null==r?void 0:r.host))return t;const n=r.host||e.createElement("div");n.setAttribute(xh.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.position="fixed",n.style.width="100%",n.style.height="100%",n.style.top="-100000px",n.style.contain="strict",r.host||n.appendChild(t),e.documentElement.appendChild(n);}(t),vh.initRootNodeObservation(t);const r=new MutationObserver(vh._handleMutations);this.mutationObservers.set(t,r),this.startMutationObserver(t);const n=new dh((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(vh.setLayerNeedsRefresh),t.traverseParentLayers(vh.setLayerNeedsRefresh);}}));n.observe(t),this.resizeObservers.set(t,n),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const i=new Su(t,e);return this.rootLayers.set(t,i),i}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t){const e=t&&t.closest(`[${vh.LAYER_ATTRIBUTE}]`);return this.layers.get(e)}static parseCSSTransform(t,e,r,n,i=new m){const s=t.transform,a=t.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var o=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=o[0],i.elements[1]=o[1],i.elements[4]=o[2],i.elements[5]=o[3],i.elements[12]=o[4],i.elements[13]=o[5];}else {if(0!=s.indexOf("matrix3d("))return null;o=s.substring(9,s.length-1).split(", ").map(parseFloat);i.fromArray(o);}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=n,i.elements[13]*=-1*n;var u=a.split(" ").map(parseFloat),h=(u[0]-e/2)*n,c=(u[1]-r/2)*n*-1,l=u[2]||0,p=mh.identity().makeTranslation(-h,-c,-l),f=yh.identity().makeTranslation(h,c,l);for(const d of i.elements)if(isNaN(d))return null;return i.premultiply(f).multiply(p)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(vh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(vh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(vh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(vh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=vh.mutationObservers.values();for(const e of t)vh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of vh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){vh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${vh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${vh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${vh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${vh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t){return t=new URL(t,window.location.href).href,new Promise((e=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{e(r);},r.onerror=()=>{e(r);},r.send();}))}static async getEmbeddedCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));let i=!1;for(const s of n)if(!r.has(s))if(i=!0,"STYLE"==s.tagName){const t=s.sheet;let e="";for(const r of t.cssRules)e+=r.cssText+"\n";r.set(s,this.generateEmbeddedCSS(window.location.href,e));}else r.set(s,this.getURL(s.getAttribute("href")).then((t=>{if(!t.response)return "";this._addDynamicPseudoClassRules(e);var r=gh.decode(t.response);return this.generateEmbeddedCSS(window.location.href,r)})));return i&&this._addDynamicPseudoClassRules(e),Promise.all(r.values())}static async getDataURL(t){var e;const r=await this.getURL(t),n=new Uint8Array(r.response),i=null==(e=r.getResponseHeader("Content-Type"))?void 0:e.split(";")[0];if("text/css"==i){let e=gh.decode(n);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);return r.length>0?"data:"+i+";base64,"+r:""}return "data:"+i+";base64,"+this.arrayBufferToBase64(n)}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let xh=vh;if(xh.ATTRIBUTE_PREFIX="xr",xh._nextUID=0,xh.serializer=new XMLSerializer,xh.rootLayers=new Map,xh.layers=new Map,xh.mutationObservers=new Map,xh.resizeObservers=new Map,xh.serializeQueue=[],xh.rasterizeQueue=[],xh.renderQueue=[],xh.focusElement=null,xh.activeElement=null,xh.targetElement=null,xh.rootNodeObservers=new Map,xh.TASK_ASYNC_MAX_COUNT=2,xh.TASK_SYNC_MAX_TIME=200,xh.rasterizeTaskCount=0,xh.tasksPending=!1,xh._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=vh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(vh.setLayerNeedsRefresh):r.traverseLayers(vh.setLayerNeedsRefresh);}}},xh._triggerRefresh=async t=>{const e=vh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(vh.setLayerNeedsRefresh):e.traverseLayers(vh.setLayerNeedsRefresh));},xh.embeddedCSS=new Map,self.THREE)var wh=self.THREE;else wh=t;const bh=new wh.Matrix4,_h=new wh.Vector3,Mh=new wh.Vector3,Nh=new du,Eh=new du,Sh=Symbol("ON_BEFORE_UPDATE");class Th extends wh.Object3D{constructor(t,e={}){super(),this.element=t,this.options=e,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new wh.Mesh(zh.GEOMETRY,new wh.MeshBasicMaterial({side:wh.DoubleSide,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new wh.Mesh(zh.GEOMETRY,new wh.MeshBasicMaterial({visible:!1})),this.cursor=new wh.Object3D,this.depthMaterial=new wh.MeshDepthMaterial({depthPacking:wh.RGBADepthPacking,alphaTest:.001}),this.domLayout=new wh.Object3D,this.domSize=new wh.Vector3(1,1,1),this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=t.id,this._webLayer=xh.getClosestLayer(t),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(t,e,r)=>{this._camera=r;},this._boundsMesh.matrixAutoUpdate=!0,zh.layersByElement.set(this.element,this),zh.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new wh.VideoTexture(t),e.wrapS=wh.ClampToEdgeWrapping,e.wrapT=wh.ClampToEdgeWrapping,e.minFilter=wh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.canvas;let e=this.textures.get(t);return e?this.textureNeedsUpdate&&(this.textureNeedsUpdate=!1,e.needsUpdate=!0):(e=new wh.Texture(t),e.needsUpdate=!0,e.wrapS=wh.ClampToEdgeWrapping,e.wrapT=wh.ClampToEdgeWrapping,e.minFilter=wh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(xh.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get bounds(){return this._webLayer.bounds}get parentWebLayer(){return this._webLayer.parentLayer&&zh.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){this._webLayer.refresh(),this.childWebLayers.length=0;for(const e of this._webLayer.childLayers){const r=zh.getClosestLayerForElement(e.element);r&&(this.childWebLayers.push(r),t&&r.refresh(t));}this._refreshVideoBounds(),this._refreshDOMLayout();}updateLayout(){this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1);}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;e.image&&r.map!==e&&(r.map=e,r.depthWrite=!1,r.needsUpdate=!0,this.depthMaterial.map=e,this.depthMaterial.needsUpdate=!0),r.transparent=!0;const n=t.material.opacity<.005;if(n?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&n&&(this.parent&&this.parent.remove(this),this.dispose()),!this._camera)return;this._localZ=Math.abs(_h.setFromMatrixPosition(this.matrix).z+_h.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(_h).applyMatrix4(this._camera.matrixWorldInverse).z);let i=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<1e-8?this._renderZ=i:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index);}get rootWebLayer(){return zh.layersByElement.get(this._webLayer.rootLayer.element)}[Sh](){}_doUpdate(){this[Sh](),this.updateContent(),this.updateLayout(),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),xh.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){const e=this.element.querySelector(t);if(e)return zh.layersByElement.get(e)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),xh.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds,{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_refreshDOMLayout(){if(this.needsRemoval)return;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const t=this.bounds,e=t.width,r=t.height,n=1/zh.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(n*e,1e-5),Math.max(n*r,1e-5),1),!zh.shouldApplyDOMLayout(this))return;const i=this.parentWebLayer instanceof Th?this.parentWebLayer.bounds:function(t){return gu.parentNode||document.documentElement.append(gu),t.left=pageXOffset,t.top=pageYOffset,t.width=gu.offsetWidth,t.height=gu.offsetHeight,t}(Nh),s=-i.width/2+e/2,a=i.height/2-r/2;this.domLayout.position.set(n*(s+t.left),n*(a-t.top),0);const o=getComputedStyle(this.element),u=o.transform;if(u&&"none"!==u){const t=xh.parseCSSTransform(o,e,r,n,bh);t&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(t),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale));}}}const Oh=class extends wh.Object3D{constructor(t,e={}){super(),this.options=e,this._interactionRays=[],this._raycaster=new wh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);};const r="string"==typeof t?vu(t):t;xh.createLayerTree(r,((t,{target:e})=>{var n,i;if("layercreated"===t){const t=new Th(e,this.options);e===r?(t[Sh]=()=>this._updateInteractions(),t.isRoot=!0,this.rootLayer=t,this.add(t)):null==(n=t.parentWebLayer)||n.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t);}else if("layerpainted"===t){const t=xh.layers.get(e);Oh.layersByElement.get(t.element).textureNeedsUpdate=!0;}else if("layermoved"===t){const t=Oh.layersByElement.get(e);null==(i=t.parentWebLayer)||i.add(t);}})),this.refresh(),this.update();}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}querySelector(t){return this.rootLayer.querySelector(t)}refresh(){this.rootLayer.refresh(!0);}update(){this.rootLayer.update(!0);}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(t,e){const r=t.object.parent,n=e.object.parent;return r.depth!==n.depth?n.depth-r.depth:n.index-r.index}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof wh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(_h),e.getWorldDirection(Mh)),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}static getLayerForQuery(t){const e=document.querySelector(t);return Oh.layersByElement.get(e)}static getClosestLayerForElement(t){const e=t&&t.closest(`[${xh.LAYER_ATTRIBUTE}]`);return Oh.layersByElement.get(e)}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=Oh.layersByMesh;e.ray.copy(t),r.length=0,e.intersectObject(this,!0,r),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=yu(t.element,Nh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return pu(t.element,(t=>{if(!r.contains(t))return !1;const n=yu(t,Eh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let zh=Oh;zh.layersByElement=new WeakMap,zh.layersByMesh=new WeakMap,zh.DEFAULT_LAYER_SEPARATION=.001,zh.DEFAULT_PIXELS_PER_UNIT=1e3,zh.GEOMETRY=new wh.PlaneGeometry(1,1,2,2);

class HubsApp$3 {
    constructor (App, createOptions={}) {
        this.isInteractive = false;
        this.isNetworked = false;
        this.isStatic = true;

        this.takeOwnership = this.takeOwnershipProto.bind(this);
        this.setSharedData = this.setSharedDataProto.bind(this);

        this.headDiv = document.createElement("div");
        this.appDiv  = document.createElement("div");
    
        // this.headDiv.style.position = "absolute";
        // this.headDiv.style.left = -10000+'px';
        // this.headDiv.style.top = 0+'px';
        
        this.headDiv.appendChild(this.appDiv);
        // document.body.appendChild(this.headDiv)

        this.vueApp = createApp(App, createOptions);
    }

    mount() {
        this.vueRoot = this.vueApp.mount(this.appDiv);
        this.webLayer3D = new zh(this.vueRoot.$el, {
            autoRefresh: true,
            onLayerCreate: (layer) => {
                // nothing yet
            },
            onAfterRasterize(layer) {
                   // nothing yet
            },
            textureEncoding: THREE.sRGBEncoding,
            renderOrderOffset: 0  // -1000
        });
    }

    setNetworkMethods(takeOwnership, setSharedData) {
        this.takeOwnership = takeOwnership;
        this.setSharedData = setSharedData;
    }

    // dummy functions, just to avoid errors if they get called before
    // networking is initialized, or called when networked is false
    takeOwnershipProto() {
        return true;
    }
    setSharedDataProto(object) {
        return true;
    }

    // receive data updates.  should be overridden by subclasses
    updateSharedData(dataObject) {
        raise("updateData should be overridden by subclasses");
    }

    // receive data updates.  should be overridden by subclasses
    getSharedData(dataObject) {
        raise("getSharedData should be overridden by subclasses");
    }
    
    play() {
        // if we can figure out how to pause, then restart here
    }

    pause() {
        // perhaps figure out how to pause the Vue component?
    }

    destroy() {
        // TODO: destroy the vue component and any resources, etc., it has
    }
}

class Store {
    constructor(app) {
        this._state = reactive({
            count: 0
        });
        this.app = app;
        this.state = readonly(this._state);
    }    

    increment() {
        if (this.app.takeOwnership()) {
            this._state.count++;
            this.app.setSharedData(this.state);
        }
    }
    
    updateSharedData(dataObject) {
        // need to update the elements within the state, because otherwise
        // the data won't flow to the components
        this._state.count = dataObject.count;
    }
}

class HubsApp$2 extends HubsApp$3 {
    constructor () {
        super(script$4);

        // create our shared data object that will
        // share data between vue and hubs
        this.shared = new Store(this);
        this.vueApp.provide('shared', this.shared);

        this.isInteractive = true;
        this.isNetworked = true;
        this.isStatic = false;

        console.log (JSON.stringify(this.shared.data));
    }
    
    updateSharedData(dataObject) {
        this.shared.updateSharedData(dataObject);
    }

    getSharedData() {
        return this.shared.state;
    }
}

var init$2 = function () {
    let app = new HubsApp$2();
    app.mount();
    return app
};

pushScopeId("data-v-469af010");
const _hoisted_1$2 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createVNode("a", {
    href: "https://vitejs.dev/guide/features.html",
    target: "_blank"
  }, " Vite Documentation and Then Some! "),
  /*#__PURE__*/createTextVNode(" | "),
  /*#__PURE__*/createVNode("a", {
    href: "https://v3.vuejs.org/",
    target: "_blank"
  }, "Vue 3 Documentation")
], -1 /* HOISTED */);
const _hoisted_2$2 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createTextVNode(" Edit "),
  /*#__PURE__*/createVNode("code", null, "components/HelloWorld.vue"),
  /*#__PURE__*/createTextVNode(" to test hot module replacement while running project as \"npm run dev\". ")
], -1 /* HOISTED */);
popScopeId();


var script$3 = {
  expose: [],
  props: {
  msg: String
},
  setup(__props) {



const state = reactive({ count: 0 });

return (_ctx, _cache) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", null, toDisplayString(__props.msg), 1 /* TEXT */),
    _hoisted_1$2,
    createVNode("button", {
      "xr-layer": "",
      onClick: _cache[1] || (_cache[1] = $event => (unref(state).count++))
    }, "count is: " + toDisplayString(unref(state).count), 1 /* TEXT */),
    _hoisted_2$2
  ], 64 /* STABLE_FRAGMENT */))
}
}

};

var css_248z$3 = "\na[data-v-469af010] {\n  color: #42b983;\n}\n*[data-v-469af010] {\n    box-sizing: content-box;\n    line-height : normal;\n}\np[data-v-469af010] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-469af010] {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-469af010] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n";
styleInject(css_248z$3);

script$3.__scopeId = "data-v-469af010";
script$3.__file = "src/components/HelloWorld.vue";

pushScopeId("data-v-7b320820");
const _hoisted_1$1 = { id: "top" };
const _hoisted_2$1 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0$1
}, null, -1 /* HOISTED */);
popScopeId();

// This starter template is using Vue 3 experimental <script setup> SFCs
// Check out https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md

var script$2 = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1$1, [
    _hoisted_2$1,
    createVNode(script$3, { msg: "Vue Component with Local Button Count" })
  ]))
}
}

};

var css_248z$2 = "\n#top[data-v-7b320820] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n\n  width: 500px; height: 500px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-7b320820] {\n    box-sizing: content-box;\n}\nimg[data-v-7b320820] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z$2);

script$2.__scopeId = "data-v-7b320820";
script$2.__file = "src/apps/HubsTest2/App.vue";

class HubsApp$1 extends HubsApp$3 {
    constructor () {
        super(script$2);
        this.isInteractive = true;
    }
}

var init$1 = function () {
    let app = new HubsApp$1();
    app.mount();
    return app
};

var _imports_0 = "https://blairhome.ngrok.io/test-vue-app/dist/175aa02d2f25839c.jpg";

var script$1 = {
  expose: [],
  props: {
  msg: String
},
  setup(__props) {



reactive({ count: 0 });

return (_ctx, _cache) => {
  return (openBlock(), createBlock("h2", null, toDisplayString(__props.msg), 1 /* TEXT */))
}
}

};

var css_248z$1 = "\na[data-v-4679d783] {\n  color: #42b983;\n}\n*[data-v-4679d783] {\n    box-sizing: content-box;\n    line-height : normal;\n}\np[data-v-4679d783] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-4679d783] {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-4679d783] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n";
styleInject(css_248z$1);

script$1.__scopeId = "data-v-4679d783";
script$1.__file = "src/components/CenterTitle.vue";

pushScopeId("data-v-907f7f52");
const _hoisted_1 = { id: "top" };
const _hoisted_2 = /*#__PURE__*/createVNode("img", {
  src: _imports_0,
  width: "300"
}, null, -1 /* HOISTED */);
const _hoisted_3 = /*#__PURE__*/createVNode("div", { class: "displaytext" }, "3-D computer graphics help to construct the visual realities of AR and VR, in particular photorealism. The uncanny valley.", -1 /* HOISTED */);
popScopeId();

// This starter template is using Vue 3 experimental <script setup> SFCs
// Check out https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md

var script = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1, [
    createVNode(script$1, { msg: "3-D Graphics and the Construction of Visual Reality" }),
    _hoisted_2,
    _hoisted_3
  ]))
}
}

};

var css_248z = "\n#top[data-v-907f7f52] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: justify;\n  color: #50312c;\n  margin-top: 30px;\n\n  width: 300px; height: 200px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-907f7f52] {\n    box-sizing: content-box;\n}\nimg[data-v-907f7f52] {\n    max-width: 500px;\n        display: inline;\n}\n";
styleInject(css_248z);

script.__scopeId = "data-v-907f7f52";
script.__file = "src/apps/3D/App.vue";

class HubsApp extends HubsApp$3 {
    constructor (width, height) {
        super(width, height, script);
        this.isInteractive = true;
    }
}

var init = function () {
    let app = new HubsApp(2.5, 2.5);
    app.mount();
    return app
};

export { init$2 as hubsTest1, init$1 as hubsTest2, init as my3D };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHVicy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vc3JjL2Fzc2V0cy9sb2dvLnBuZyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL05ldHdvcmtlZEhlbGxvV29ybGQudnVlIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWluamVjdC9kaXN0L3N0eWxlLWluamVjdC5lcy5qcyIsIi4uLy4uL3NyYy9hcHBzL0h1YnNUZXN0MS9BcHAudnVlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1ZlY3RvcjIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1F1YXRlcm5pb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvVmVjdG9yMy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRyaXg0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL0V1bGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUGxhbmUuanMiLCIuLi8uLi9jb3JlL21hdGgtdXRpbHMudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHBvcG1vdGlvbi9lYXNpbmcvZGlzdC9lYXNpbmcuZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvaXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWZ1bmN0aW9uL3R5cGVkLWZ1bmN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL251bWJlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvZm9ybWF0dGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL3N0cmluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lcnJvci9EaW1lbnNpb25FcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lcnJvci9JbmRleEVycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2FycmF5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2ZhY3RvcnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vY29yZS9mdW5jdGlvbi90eXBlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL3Jlc3VsdHNldC9SZXN1bHRTZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVjaW1hbC5qcy9kZWNpbWFsLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2JpZ251bWJlci9CaWdOdW1iZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY29tcGxleC5qcy9jb21wbGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvY29tcGxleC9Db21wbGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYWN0aW9uLmpzL2ZyYWN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvZnJhY3Rpb24vRnJhY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvUmFuZ2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvTWF0cml4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L0RlbnNlTWF0cml4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2NvbGxlY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vcGxhaW4vbnVtYmVyL2FyaXRobWV0aWMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vdXRpbHMvaXNOdW1lcmljLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL2VxdWFsU2NhbGFyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2NvbXBsZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvU3BhcnNlTWF0cml4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbnVtYmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvYmlnbnVtYmVyL2Z1bmN0aW9uL2JpZ251bWJlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2ZyYWN0aW9uL2Z1bmN0aW9uL2ZyYWN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L2Z1bmN0aW9uL21hdHJpeC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3VuYXJ5TWludXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9hYnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9hZGRTY2FsYXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9jZWlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZml4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZmxvb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9tb2QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9tdWx0aXBseVNjYWxhci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL211bHRpcGx5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvc3VidHJhY3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vY29tcGxleC9jb25qLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2xydVF1ZXVlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2Z1bmN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9pZGVudGl0eS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9ub29wLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Vycm9yL0FyZ3VtZW50c0Vycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9zaXplLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2N1c3RvbXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3N1YnNldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvemVyb3MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vc3RyaW5nL2Zvcm1hdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi91dGlscy9udW1lcmljLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZGl2aWRlU2NhbGFyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvcG93LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvcm91bmQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9lcXVhbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL3NtYWxsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9sYXJnZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvRmlib25hY2NpSGVhcC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9TcGEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL2NvbnN0YW50cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL3VuaXQvVW5pdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL3VuaXQvZnVuY3Rpb24vdW5pdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL3VuaXQvZnVuY3Rpb24vY3JlYXRlVW5pdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2FkZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvZG90LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24va2V5d29yZHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL05vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi90cmFuc2Zvcm0vdXRpbHMvZXJyb3JUcmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL3V0aWxzL2FjY2Vzcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQWNjZXNzb3JOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9BcnJheU5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9vcGVyYXRvcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0Fzc2lnbm1lbnROb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS91dGlscy9hc3NpZ24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0Jsb2NrTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQ29uZGl0aW9uYWxOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VzY2FwZS1sYXRleC9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2xhdGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Db25zdGFudE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0luZGV4Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvT2JqZWN0Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvT3BlcmF0b3JOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9QYXJlbnRoZXNpc05vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1JhbmdlTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUmVsYXRpb25hbE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0Z1bmN0aW9uTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL3BhcnNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGcmFjdGlvbi5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1plcm9zLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTaXplLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEb3QuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb25qLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNMYXJnZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJZGVudGl0eS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc051bWVyaWMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNCaWdudW1iZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTdWJzZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNVbml0Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFcXVhbC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZpeC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NlaWwuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGbG9vci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Zvcm1hdC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0lzTnVtZXJpYy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1Bvdy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTeW1ib2xOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvU3ltYm9sTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXZhbHVhdGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQYXJzZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0FjY2Vzc29yTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0FycmF5Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Fzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmxvY2tOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUmVzdWx0U2V0LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29uZGl0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29uc3RhbnROb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Z1bmN0aW9uTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0luZGV4Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JhbmdlQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNPYmplY3ROb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzT3BlcmF0b3JOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUGFyZW50aGVzaXNOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUmFuZ2VOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUmVsYXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vZnVuY3Rpb24vZXZhbHVhdGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RpdmlkZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ludi5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0x1cC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NwYUNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRmlib25hY2NpSGVhcENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU21hbGxlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYWxnZWJyYS9kZWNvbXBvc2l0aW9uL2x1cC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvZGV0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9pbnYuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9kaXZpZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGlueS1lbWl0dGVyL2luZGV4LmpzIiwiLi4vLi4vd2ViLWxheWVyL2RvbS11dGlscy50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXRleHQtZW5jb2RpbmcvdGV4dC5taW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHJ1X21hcC9scnUuanMiLCIuLi8uLi93ZWItbGF5ZXIveG1sLXNlcmlhbGl6ZXIudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFzdC1zaGEyNTYvc2hhMjU2LmpzIiwiLi4vLi4vd2ViLWxheWVyL1dlYkxheWVyLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9mcmVlemUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlclNpemUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZWxlbWVudC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZ2xvYmFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckRldGFpbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcyIsIi4uLy4uL3dlYi1sYXllci9XZWJSZW5kZXJlci50cyIsIi4uLy4uL3dlYi1sYXllci90aHJlZS90aHJlZS13ZWItbGF5ZXIudHMiLCIuLi8uLi9zcmMvYXBwcy9IdWJzQXBwLmpzIiwiLi4vLi4vc3JjL2FwcHMvSHVic1Rlc3QxL3NoYXJlZC5qcyIsIi4uLy4uL3NyYy9hcHBzL0h1YnNUZXN0MS9odWJzLmpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUiLCIuLi8uLi9zcmMvYXBwcy9IdWJzVGVzdDIvQXBwLnZ1ZSIsIi4uLy4uL3NyYy9hcHBzL0h1YnNUZXN0Mi9odWJzLmpzIiwiLi4vLi4vc3JjL2Fzc2V0cy91bmNhbm55LmpwZyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0NlbnRlclRpdGxlLnZ1ZSIsIi4uLy4uL3NyYy9hcHBzLzNEL0FwcC52dWUiLCIuLi8uLi9zcmMvYXBwcy8zRC9odWJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcclxuICogaXMgaW4gdGhhdCBtYXAuXHJcbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXHJcbiAqIFxcL1xcKiNcXF9cXF9QVVJFXFxfXFxfXFwqXFwvXHJcbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIsIGV4cGVjdHNMb3dlckNhc2UpIHtcclxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyB2YWwgPT4gISFtYXBbdmFsLnRvTG93ZXJDYXNlKCldIDogdmFsID0+ICEhbWFwW3ZhbF07XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXHJcbiAqL1xyXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcclxuICAgIFsxIC8qIFRFWFQgKi9dOiBgVEVYVGAsXHJcbiAgICBbMiAvKiBDTEFTUyAqL106IGBDTEFTU2AsXHJcbiAgICBbNCAvKiBTVFlMRSAqL106IGBTVFlMRWAsXHJcbiAgICBbOCAvKiBQUk9QUyAqL106IGBQUk9QU2AsXHJcbiAgICBbMTYgLyogRlVMTF9QUk9QUyAqL106IGBGVUxMX1BST1BTYCxcclxuICAgIFszMiAvKiBIWURSQVRFX0VWRU5UUyAqL106IGBIWURSQVRFX0VWRU5UU2AsXHJcbiAgICBbNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXTogYFNUQUJMRV9GUkFHTUVOVGAsXHJcbiAgICBbMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovXTogYEtFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqL106IGBVTktFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFs1MTIgLyogTkVFRF9QQVRDSCAqL106IGBORUVEX1BBVENIYCxcclxuICAgIFsxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi9dOiBgRFlOQU1JQ19TTE9UU2AsXHJcbiAgICBbMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqL106IGBERVZfUk9PVF9GUkFHTUVOVGAsXHJcbiAgICBbLTEgLyogSE9JU1RFRCAqL106IGBIT0lTVEVEYCxcclxuICAgIFstMiAvKiBCQUlMICovXTogYEJBSUxgXHJcbn07XG5cbi8qKlxyXG4gKiBEZXYgb25seVxyXG4gKi9cclxuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcclxuICAgIFsxIC8qIFNUQUJMRSAqL106ICdTVEFCTEUnLFxyXG4gICAgWzIgLyogRFlOQU1JQyAqL106ICdEWU5BTUlDJyxcclxuICAgIFszIC8qIEZPUldBUkRFRCAqL106ICdGT1JXQVJERUQnXHJcbn07XG5cbmNvbnN0IEdMT0JBTFNfV0hJVEVfTElTVEVEID0gJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksJyArXHJcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcclxuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XHJcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChHTE9CQUxTX1dISVRFX0xJU1RFRCk7XG5cbmNvbnN0IHJhbmdlID0gMjtcclxuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcclxuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcclxuICAgICAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgxLCBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA+IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xyXG59XG5cbi8qKlxyXG4gKiBPbiB0aGUgY2xpZW50IHdlIG9ubHkgbmVlZCB0byBvZmZlciBzcGVjaWFsIGNhc2VzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdFxyXG4gKiBoYXZlIGRpZmZlcmVudCBuYW1lcyBmcm9tIHRoZWlyIGNvcnJlc3BvbmRpbmcgZG9tIHByb3BlcnRpZXM6XHJcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxyXG4gKiAtIGFsbG93ZnVsbHNjcmVlbiAtPiBhbGxvd0Z1bGxzY3JlZW5cclxuICogLSBmb3Jtbm92YWxpZGF0ZSAtPiBmb3JtTm9WYWxpZGF0ZVxyXG4gKiAtIGlzbWFwIC0+IGlzTWFwXHJcbiAqIC0gbm9tb2R1bGUgLT4gbm9Nb2R1bGVcclxuICogLSBub3ZhbGlkYXRlIC0+IG5vVmFsaWRhdGVcclxuICogLSByZWFkb25seSAtPiByZWFkT25seVxyXG4gKi9cclxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xyXG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcclxuLyoqXHJcbiAqIFRoZSBmdWxsIGxpc3QgaXMgbmVlZGVkIGR1cmluZyBTU1IgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBpbml0aWFsIG1hcmt1cC5cclxuICovXHJcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyArXHJcbiAgICBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixgICtcclxuICAgIGBsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGAgK1xyXG4gICAgYGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgKTtcclxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xyXG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XHJcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcclxuICAgIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcclxuICAgIGlmIChpc1Vuc2FmZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlKTtcclxufVxyXG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcclxuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXHJcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXHJcbiAgICBodG1sRm9yOiAnZm9yJyxcclxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXHJcbn07XHJcbi8qKlxyXG4gKiBDU1MgcHJvcGVydGllcyB0aGF0IGFjY2VwdCBwbGFpbiBudW1iZXJzXHJcbiAqL1xyXG5jb25zdCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsYm9yZGVyLWltYWdlLW91dHNldCxib3JkZXItaW1hZ2Utc2xpY2UsYCArXHJcbiAgICBgYm9yZGVyLWltYWdlLXdpZHRoLGJveC1mbGV4LGJveC1mbGV4LWdyb3VwLGJveC1vcmRpbmFsLWdyb3VwLGNvbHVtbi1jb3VudCxgICtcclxuICAgIGBjb2x1bW5zLGZsZXgsZmxleC1ncm93LGZsZXgtcG9zaXRpdmUsZmxleC1zaHJpbmssZmxleC1uZWdhdGl2ZSxmbGV4LW9yZGVyLGAgK1xyXG4gICAgYGdyaWQtcm93LGdyaWQtcm93LWVuZCxncmlkLXJvdy1zcGFuLGdyaWQtcm93LXN0YXJ0LGdyaWQtY29sdW1uLGAgK1xyXG4gICAgYGdyaWQtY29sdW1uLWVuZCxncmlkLWNvbHVtbi1zcGFuLGdyaWQtY29sdW1uLXN0YXJ0LGZvbnQtd2VpZ2h0LGxpbmUtY2xhbXAsYCArXHJcbiAgICBgbGluZS1oZWlnaHQsb3BhY2l0eSxvcmRlcixvcnBoYW5zLHRhYi1zaXplLHdpZG93cyx6LWluZGV4LHpvb20sYCArXHJcbiAgICAvLyBTVkdcclxuICAgIGBmaWxsLW9wYWNpdHksZmxvb2Qtb3BhY2l0eSxzdG9wLW9wYWNpdHksc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxgICtcclxuICAgIGBzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGhgKTtcclxuLyoqXHJcbiAqIEtub3duIGF0dHJpYnV0ZXMsIHRoaXMgaXMgdXNlZCBmb3Igc3RyaW5naWZpY2F0aW9uIG9mIHJ1bnRpbWUgc3RhdGljIG5vZGVzXHJcbiAqIHNvIHRoYXQgd2UgZG9uJ3Qgc3RyaW5naWZ5IGJpbmRpbmdzIHRoYXQgY2Fubm90IGJlIHNldCBmcm9tIEhUTUwuXHJcbiAqIERvbid0IGFsc28gZm9yZ2V0IHRvIGFsbG93IGBkYXRhLSpgIGFuZCBgYXJpYS0qYCFcclxuICogR2VuZXJhdGVkIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9BdHRyaWJ1dGVzXHJcbiAqL1xyXG5jb25zdCBpc0tub3duQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGAgK1xyXG4gICAgYGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGAgK1xyXG4gICAgYGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGAgK1xyXG4gICAgYGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxgICtcclxuICAgIGBjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxgICtcclxuICAgIGBkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sYCArXHJcbiAgICBgZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxgICtcclxuICAgIGBoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbnRlZ3JpdHksYCArXHJcbiAgICBgaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LGAgK1xyXG4gICAgYG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsYCArXHJcbiAgICBgb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LGAgK1xyXG4gICAgYHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsYCArXHJcbiAgICBgc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LGAgK1xyXG4gICAgYHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLGAgK1xyXG4gICAgYHZhbHVlLHdpZHRoLHdyYXBgKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU3R5bGUoaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xyXG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooLispLztcclxuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGNzc1RleHQuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XHJcbiAgICBsZXQgcmV0ID0gJyc7XHJcbiAgICBpZiAoIXN0eWxlcykge1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xyXG4gICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wKG5vcm1hbGl6ZWRLZXkpKSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciB2YWxpZCB2YWx1ZXNcclxuICAgICAgICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xyXG4gICAgbGV0IHJlcyA9ICcnO1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJlcyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy50cmltKCk7XHJcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50XHJcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xyXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXHJcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXHJcbiAgICAnZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xyXG4gICAgJ3RpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsJyArXHJcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xyXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcclxuICAgICdvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LCcgK1xyXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxyXG5jb25zdCBTVkdfVEFHUyA9ICdzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsJyArXHJcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcclxuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xyXG4gICAgJ2ZlRGlzdGFuY2VMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLCcgK1xyXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXHJcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcclxuICAgICdmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssJyArXHJcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xyXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXHJcbiAgICAndGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3JztcclxuY29uc3QgVk9JRF9UQUdTID0gJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJztcclxuY29uc3QgaXNIVE1MVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEhUTUxfVEFHUyk7XHJcbmNvbnN0IGlzU1ZHVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFNWR19UQUdTKTtcclxuY29uc3QgaXNWb2lkVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0ciA9ICcnICsgc3RyaW5nO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBsZXQgZXNjYXBlZDtcclxuICAgIGxldCBpbmRleDtcclxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xyXG4gICAgICAgICAgICBjYXNlIDM0OiAvLyBcIlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmcXVvdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6IC8vICZcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmFtcDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vICdcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJiMzOTsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjA6IC8vIDxcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmx0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MjogLy8gPlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmZ3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgIGh0bWwgKz0gZXNjYXBlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xyXG59XHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc3ludGF4Lmh0bWwjY29tbWVudHNcclxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsICcnKTtcclxufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVxdWFsO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcclxuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xyXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcclxuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcclxuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcclxufVxyXG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcclxuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcclxufVxuXG4vKipcclxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc09iamVjdCh2YWwpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XHJcbiAgICBpZiAoaXNNYXAodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xyXG4gICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn07XG5cbi8qKlxyXG4gKiBMaXN0IG9mIEBiYWJlbC9wYXJzZXIgcGx1Z2lucyB0aGF0IGFyZSB1c2VkIGZvciB0ZW1wbGF0ZSBleHByZXNzaW9uXHJcbiAqIHRyYW5zZm9ybXMgYW5kIFNGQyBzY3JpcHQgdHJhbnNmb3Jtcy4gQnkgZGVmYXVsdCB3ZSBlbmFibGUgcHJvcG9zYWxzIHNsYXRlZFxyXG4gKiBmb3IgRVMyMDIwLiBUaGlzIHdpbGwgbmVlZCB0byBiZSB1cGRhdGVkIGFzIHRoZSBzcGVjIG1vdmVzIGZvcndhcmQuXHJcbiAqIEZ1bGwgbGlzdCBhdCBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9uZXh0L2JhYmVsLXBhcnNlciNwbHVnaW5zXHJcbiAqL1xyXG5jb25zdCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zID0gW1xyXG4gICAgJ2JpZ0ludCcsXHJcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcidcclxuXTtcclxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXHJcbiAgICA6IHt9O1xyXG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xyXG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cclxuICovXHJcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XHJcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcclxuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xyXG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XHJcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XHJcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XHJcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xyXG4gICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXHJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn07XHJcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcclxuICAgIGtleSAhPT0gJ05hTicgJiZcclxuICAgIGtleVswXSAhPT0gJy0nICYmXHJcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XHJcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxyXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXHJcbicsa2V5LHJlZiwnICtcclxuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XHJcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoKHN0cikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XHJcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xyXG59KTtcclxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gKHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCkpO1xyXG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxyXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gdmFsdWUgIT09IG9sZFZhbHVlICYmICh2YWx1ZSA9PT0gdmFsdWUgfHwgb2xkVmFsdWUgPT09IG9sZFZhbHVlKTtcclxuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xyXG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn07XHJcbmxldCBfZ2xvYmFsVGhpcztcclxuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkF0dHIsIGlzTWFwLCBpc01vZGVsTGlzdGVuZXIsIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiaW1wb3J0IHsgRU1QVFlfT0JKLCBpc0FycmF5LCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgZXh0ZW5kLCBoYXNPd24sIGlzT2JqZWN0LCBoYXNDaGFuZ2VkLCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgZWZmZWN0U3RhY2sgPSBbXTtcclxubGV0IGFjdGl2ZUVmZmVjdDtcclxuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xyXG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xyXG5mdW5jdGlvbiBpc0VmZmVjdChmbikge1xyXG4gICAgcmV0dXJuIGZuICYmIGZuLl9pc0VmZmVjdCA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcclxuICAgIGlmIChpc0VmZmVjdChmbikpIHtcclxuICAgICAgICBmbiA9IGZuLnJhdztcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdCA9IGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKTtcclxuICAgIGlmICghb3B0aW9ucy5sYXp5KSB7XHJcbiAgICAgICAgZWZmZWN0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHN0b3AoZWZmZWN0KSB7XHJcbiAgICBpZiAoZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMub25TdG9wKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uU3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZmZlY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBmdW5jdGlvbiByZWFjdGl2ZUVmZmVjdCgpIHtcclxuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2NoZWR1bGVyID8gdW5kZWZpbmVkIDogZm4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFlZmZlY3RTdGFjay5pbmNsdWRlcyhlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RTdGFjay5wdXNoKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gZWZmZWN0U3RhY2tbZWZmZWN0U3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0LmlkID0gdWlkKys7XHJcbiAgICBlZmZlY3QuYWxsb3dSZWN1cnNlID0gISFvcHRpb25zLmFsbG93UmVjdXJzZTtcclxuICAgIGVmZmVjdC5faXNFZmZlY3QgPSB0cnVlO1xyXG4gICAgZWZmZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICBlZmZlY3QucmF3ID0gZm47XHJcbiAgICBlZmZlY3QuZGVwcyA9IFtdO1xyXG4gICAgZWZmZWN0Lm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgcmV0dXJuIGVmZmVjdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhbnVwKGVmZmVjdCkge1xyXG4gICAgY29uc3QgeyBkZXBzIH0gPSBlZmZlY3Q7XHJcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZGVwc1tpXS5kZWxldGUoZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVwcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG59XHJcbmxldCBzaG91bGRUcmFjayA9IHRydWU7XHJcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcclxuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XHJcbiAgICBzaG91bGRUcmFjayA9IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xyXG4gICAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XHJcbiAgICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsYXN0O1xyXG59XHJcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XHJcbiAgICBpZiAoIXNob3VsZFRyYWNrIHx8IGFjdGl2ZUVmZmVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgKGRlcHNNYXAgPSBuZXcgTWFwKCkpKTtcclxuICAgIH1cclxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xyXG4gICAgaWYgKCFkZXApIHtcclxuICAgICAgICBkZXBzTWFwLnNldChrZXksIChkZXAgPSBuZXcgU2V0KCkpKTtcclxuICAgIH1cclxuICAgIGlmICghZGVwLmhhcyhhY3RpdmVFZmZlY3QpKSB7XHJcbiAgICAgICAgZGVwLmFkZChhY3RpdmVFZmZlY3QpO1xyXG4gICAgICAgIGFjdGl2ZUVmZmVjdC5kZXBzLnB1c2goZGVwKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGFjdGl2ZUVmZmVjdC5vcHRpb25zLm9uVHJhY2spIHtcclxuICAgICAgICAgICAgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZUVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBrZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIodGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0KSB7XHJcbiAgICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKCFkZXBzTWFwKSB7XHJcbiAgICAgICAgLy8gbmV2ZXIgYmVlbiB0cmFja2VkXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmZWN0cyA9IG5ldyBTZXQoKTtcclxuICAgIGNvbnN0IGFkZCA9IChlZmZlY3RzVG9BZGQpID0+IHtcclxuICAgICAgICBpZiAoZWZmZWN0c1RvQWRkKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdHNUb0FkZC5mb3JFYWNoKGVmZmVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0ICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0LmFsbG93UmVjdXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuYWRkKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAodHlwZSA9PT0gXCJjbGVhclwiIC8qIENMRUFSICovKSB7XHJcbiAgICAgICAgLy8gY29sbGVjdGlvbiBiZWluZyBjbGVhcmVkXHJcbiAgICAgICAgLy8gdHJpZ2dlciBhbGwgZWZmZWN0cyBmb3IgdGFyZ2V0XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKGFkZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChrZXkgPT09ICdsZW5ndGgnICYmIGlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcgfHwga2V5ID49IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQoZGVwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gc2NoZWR1bGUgcnVucyBmb3IgU0VUIHwgQUREIHwgREVMRVRFXHJcbiAgICAgICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxzbyBydW4gZm9yIGl0ZXJhdGlvbiBrZXkgb24gQUREIHwgREVMRVRFIHwgTWFwLlNFVFxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkXCIgLyogQUREICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGluZGV4IGFkZGVkIHRvIGFycmF5IC0+IGxlbmd0aCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KCdsZW5ndGgnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLzpcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInNldFwiIC8qIFNFVCAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW4gPSAoZWZmZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMub25UcmlnZ2VyKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdCxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVGFyZ2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLnNjaGVkdWxlcihlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVmZmVjdHMuZm9yRWFjaChydW4pO1xyXG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XHJcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpXHJcbiAgICAubWFwKGtleSA9PiBTeW1ib2xba2V5XSlcclxuICAgIC5maWx0ZXIoaXNTeW1ib2wpKTtcclxuY29uc3QgZ2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd0dldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKGZhbHNlLCB0cnVlKTtcclxuY29uc3QgcmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlKTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSwgdHJ1ZSk7XHJcbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHt9O1xyXG5bJ2luY2x1ZGVzJywgJ2luZGV4T2YnLCAnbGFzdEluZGV4T2YnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBhcnIgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiAvKiBHRVQgKi8sIGkgKyAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIHJ1biB0aGUgbWV0aG9kIHVzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGZpcnN0ICh3aGljaCBtYXkgYmUgcmVhY3RpdmUpXHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KGFyciwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGF0IGRpZG4ndCB3b3JrLCBydW4gaXQgYWdhaW4gdXNpbmcgcmF3IHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseShhcnIsIGFyZ3MubWFwKHRvUmF3KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG5bJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3Vuc2hpZnQnLCAnc3BsaWNlJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gQXJyYXkucHJvdG90eXBlW2tleV07XHJcbiAgICBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXIoaXNSZWFkb25seSA9IGZhbHNlLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUkFXICovICYmXHJcbiAgICAgICAgICAgIHJlY2VpdmVyID09PVxyXG4gICAgICAgICAgICAgICAgKGlzUmVhZG9ubHlcclxuICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlNYXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFkb25seU1hcFxyXG4gICAgICAgICAgICAgICAgICAgIDogc2hhbGxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFjdGl2ZU1hcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xyXG4gICAgICAgIGlmICghaXNSZWFkb25seSAmJiB0YXJnZXRJc0FycmF5ICYmIGhhc093bihhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5LCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XHJcbiAgICAgICAgaWYgKGlzU3ltYm9sKGtleSlcclxuICAgICAgICAgICAgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KVxyXG4gICAgICAgICAgICA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNSZWFkb25seSkge1xyXG4gICAgICAgICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSZWYocmVzKSkge1xyXG4gICAgICAgICAgICAvLyByZWYgdW53cmFwcGluZyAtIGRvZXMgbm90IGFwcGx5IGZvciBBcnJheSArIGludGVnZXIga2V5LlxyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRVbndyYXAgPSAhdGFyZ2V0SXNBcnJheSB8fCAhaXNJbnRlZ2VyS2V5KGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVbndyYXAgPyByZXMudmFsdWUgOiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgcmV0dXJuZWQgdmFsdWUgaW50byBhIHByb3h5IGFzIHdlbGwuIHdlIGRvIHRoZSBpc09iamVjdCBjaGVja1xyXG4gICAgICAgICAgICAvLyBoZXJlIHRvIGF2b2lkIGludmFsaWQgdmFsdWUgd2FybmluZy4gQWxzbyBuZWVkIHRvIGxhenkgYWNjZXNzIHJlYWRvbmx5XHJcbiAgICAgICAgICAgIC8vIGFuZCByZWFjdGl2ZSBoZXJlIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5ID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHNldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKCk7XHJcbmNvbnN0IHNoYWxsb3dTZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcih0cnVlKTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dGVyKHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XHJcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICAgICAgaWYgKCFzaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgICAgICAgICBvbGRWYWx1ZSA9IHRvUmF3KG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSlcclxuICAgICAgICAgICAgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGhcclxuICAgICAgICAgICAgOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgdGFyZ2V0IGlzIHNvbWV0aGluZyB1cCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9mIG9yaWdpbmFsXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIERFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcclxuICAgIHRyYWNrKHRhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgaXNBcnJheSh0YXJnZXQpID8gJ2xlbmd0aCcgOiBJVEVSQVRFX0tFWSk7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbn1cclxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0LFxyXG4gICAgc2V0LFxyXG4gICAgZGVsZXRlUHJvcGVydHksXHJcbiAgICBoYXMsXHJcbiAgICBvd25LZXlzXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IHJlYWRvbmx5R2V0LFxyXG4gICAgc2V0KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBtdXRhYmxlSGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd0dldCxcclxuICAgIHNldDogc2hhbGxvd1NldFxyXG59KTtcclxuLy8gUHJvcHMgaGFuZGxlcnMgYXJlIHNwZWNpYWwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgc2hvdWxkIG5vdCB1bndyYXAgdG9wLWxldmVsXHJcbi8vIHJlZnMgKGluIG9yZGVyIHRvIGFsbG93IHJlZnMgdG8gYmUgZXhwbGljaXRseSBwYXNzZWQgZG93biksIGJ1dCBzaG91bGRcclxuLy8gcmV0YWluIHRoZSByZWFjdGl2aXR5IG9mIHRoZSBub3JtYWwgcmVhZG9ubHkgb2JqZWN0LlxyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgcmVhZG9ubHlIYW5kbGVycywge1xyXG4gICAgZ2V0OiBzaGFsbG93UmVhZG9ubHlHZXRcclxufSk7XG5cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xyXG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcclxuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcclxuZnVuY3Rpb24gZ2V0JDEodGFyZ2V0LCBrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSwgaXNTaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIC8vICMxNzcyOiByZWFkb25seShyZWFjdGl2ZShNYXApKSBzaG91bGQgcmV0dXJuIHJlYWRvbmx5ICsgcmVhY3RpdmUgdmVyc2lvblxyXG4gICAgLy8gb2YgdGhlIHZhbHVlXHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIHJhd0tleSk7XHJcbiAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcclxuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIHJhd0tleSk7XHJcbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcclxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcclxufVxyXG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCB2YWx1ZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuZnVuY3Rpb24gc2V0JDEoa2V5LCB2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XHJcbiAgICBpZiAoaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcclxuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xyXG4gICAgaWYgKGhhZEl0ZW1zKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBDTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXHJcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xyXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XHJcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XHJcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcclxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcclxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcclxuICAgICAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXHJcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcclxuaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xyXG4gICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCB0cnVlKTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xyXG4gICAgICAgID8gaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgIDogaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcclxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxyXG59O1xyXG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcclxuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcclxuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXHJcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcclxuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xyXG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcclxuICAgICAgICBjYXNlICdBcnJheSc6XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcclxuICAgICAgICBjYXNlICdNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1NldCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XHJcbiAgICAgICAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxyXG4gICAgICAgID8gMCAvKiBJTlZBTElEICovXHJcbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLCByZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiBhIHNoYWxsb3dseS1yZWFjdGl2ZSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3RcclxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcclxuICogcm9vdCBsZXZlbCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSByZWFkb25seSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QuIE5vdGUgdGhlIHJldHVybmVkIGNvcHkgaXMgbm90XHJcbiAqIG1hZGUgcmVhY3RpdmUsIGJ1dCBgcmVhZG9ubHlgIGNhbiBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeSByZWFjdGl2ZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCByZWFkb25seU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4gKiByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlNYXApO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seSwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXHJcbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxyXG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dICYmXHJcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxyXG4gICAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYSB3aGl0ZWxpc3Qgb2YgdmFsdWUgdHlwZXMgY2FuIGJlIG9ic2VydmVkLlxyXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnMpO1xyXG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcclxuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHJldHVybiAoKG9ic2VydmVkICYmIHRvUmF3KG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pKSB8fCBvYnNlcnZlZCk7XHJcbn1cclxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xyXG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogU0tJUCAqLywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuY29uc3QgY29udmVydCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgPyByZWFjdGl2ZSh2YWwpIDogdmFsO1xyXG5mdW5jdGlvbiBpc1JlZihyKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbihyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiByZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xyXG59XHJcbmNsYXNzIFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX3Jhd1ZhbHVlLCBfc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBfcmF3VmFsdWU7XHJcbiAgICAgICAgdGhpcy5fc2hhbGxvdyA9IF9zaGFsbG93O1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IF9zaGFsbG93ID8gX3Jhd1ZhbHVlIDogY29udmVydChfcmF3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHRyYWNrKHRvUmF3KHRoaXMpLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHRvUmF3KG5ld1ZhbCksIHRoaXMuX3Jhd1ZhbHVlKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9zaGFsbG93ID8gbmV3VmFsIDogY29udmVydChuZXdWYWwpO1xyXG4gICAgICAgICAgICB0cmlnZ2VyKHRvUmF3KHRoaXMpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgbmV3VmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmF3VmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmKSB7XHJcbiAgICB0cmlnZ2VyKHRvUmF3KHJlZiksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyByZWYudmFsdWUgOiB2b2lkIDApO1xyXG59XHJcbmZ1bmN0aW9uIHVucmVmKHJlZikge1xyXG4gICAgcmV0dXJuIGlzUmVmKHJlZikgPyByZWYudmFsdWUgOiByZWY7XHJcbn1cclxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcclxuICAgIHNldDogKHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgIGlmIChpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xyXG4gICAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpXHJcbiAgICAgICAgPyBvYmplY3RXaXRoUmVmc1xyXG4gICAgICAgIDogbmV3IFByb3h5KG9iamVjdFdpdGhSZWZzLCBzaGFsbG93VW53cmFwSGFuZGxlcnMpO1xyXG59XHJcbmNsYXNzIEN1c3RvbVJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KCgpID0+IHRyYWNrKHRoaXMsIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKSwgKCkgPT4gdHJpZ2dlcih0aGlzLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJykpO1xyXG4gICAgICAgIHRoaXMuX2dldCA9IGdldDtcclxuICAgICAgICB0aGlzLl9zZXQgPSBzZXQ7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldCgpO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX3NldChuZXdWYWwpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgcmV0W2tleV0gPSB0b1JlZihvYmplY3QsIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmNsYXNzIE9iamVjdFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX29iamVjdCwgX2tleSkge1xyXG4gICAgICAgIHRoaXMuX29iamVjdCA9IF9vYmplY3Q7XHJcbiAgICAgICAgdGhpcy5fa2V5ID0gX2tleTtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX29iamVjdFt0aGlzLl9rZXldID0gbmV3VmFsO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRvUmVmKG9iamVjdCwga2V5KSB7XHJcbiAgICByZXR1cm4gaXNSZWYob2JqZWN0W2tleV0pXHJcbiAgICAgICAgPyBvYmplY3Rba2V5XVxyXG4gICAgICAgIDogbmV3IE9iamVjdFJlZkltcGwob2JqZWN0LCBrZXkpO1xyXG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihnZXR0ZXIsIF9zZXR0ZXIsIGlzUmVhZG9ubHkpIHtcclxuICAgICAgICB0aGlzLl9zZXR0ZXIgPSBfc2V0dGVyO1xyXG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lZmZlY3QgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgICAgIGxhenk6IHRydWUsXHJcbiAgICAgICAgICAgIHNjaGVkdWxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyKHRvUmF3KHRoaXMpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10gPSBpc1JlYWRvbmx5O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIC8vIHRoZSBjb21wdXRlZCByZWYgbWF5IGdldCB3cmFwcGVkIGJ5IG90aGVyIHByb3hpZXMgZS5nLiByZWFkb25seSgpICMzMzc2XHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRvUmF3KHRoaXMpO1xyXG4gICAgICAgIGlmIChzZWxmLl9kaXJ0eSkge1xyXG4gICAgICAgICAgICBzZWxmLl92YWx1ZSA9IHRoaXMuZWZmZWN0KCk7XHJcbiAgICAgICAgICAgIHNlbGYuX2RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyYWNrKHNlbGYsIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICByZXR1cm4gc2VsZi5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zZXR0ZXIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucykge1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBzZXR0ZXI7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xyXG4gICAgICAgIHNldHRlciA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICA/ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IE5PT1A7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xyXG4gICAgICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpIHx8ICFnZXR0ZXJPck9wdGlvbnMuc2V0KTtcclxufVxuXG5leHBvcnQgeyBJVEVSQVRFX0tFWSwgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZWZmZWN0LCBlbmFibGVUcmFja2luZywgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIHBhdXNlVHJhY2tpbmcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCJpbXBvcnQgeyBwYXVzZVRyYWNraW5nLCByZXNldFRyYWNraW5nLCBpc1JlZiwgdG9SYXcsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNSZWFjdGl2ZSwgZWZmZWN0LCBzdG9wLCByZWYsIGlzUHJveHksIHByb3h5UmVmcywgdG9SZWYsIHJlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHRyYWNrLCBjb21wdXRlZCBhcyBjb21wdXRlZCQxLCBpc1JlYWRvbmx5IH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmV4cG9ydCB7IGN1c3RvbVJlZiwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUHJvbWlzZSwgaXNBcnJheSwgZXh0ZW5kLCBFTVBUWV9PQkosIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT24sIGhhc093biwgaXNNb2RlbExpc3RlbmVyLCBkZWYsIGlzUmVzZXJ2ZWRQcm9wLCBFTVBUWV9BUlIsIGlzT2JqZWN0LCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIHJlbW92ZSwgTk9PUCwgaGFzQ2hhbmdlZCwgaXNTZXQsIGlzTWFwLCBpbnZva2VBcnJheUZucywgTk8sIGdldEdsb2JhbFRoaXMsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVTdHlsZSwgaXNHbG9iYWxseVdoaXRlbGlzdGVkIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuZXhwb3J0IHsgY2FtZWxpemUsIGNhcGl0YWxpemUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5IH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcclxuICAgIHN0YWNrLnB1c2godm5vZGUpO1xyXG59XHJcbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xyXG4gICAgc3RhY2sucG9wKCk7XHJcbn1cclxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcclxuICAgIC8vIGF2b2lkIHByb3BzIGZvcm1hdHRpbmcgb3Igd2FybiBoYW5kbGVyIHRyYWNraW5nIGRlcHMgdGhhdCBtaWdodCBiZSBtdXRhdGVkXHJcbiAgICAvLyBkdXJpbmcgcGF0Y2gsIGxlYWRpbmcgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxyXG4gICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xyXG4gICAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcclxuICAgIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcclxuICAgIGlmIChhcHBXYXJuSGFuZGxlcikge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBXYXJuSGFuZGxlciwgaW5zdGFuY2UsIDExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi8sIFtcclxuICAgICAgICAgICAgbXNnICsgYXJncy5qb2luKCcnKSxcclxuICAgICAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgICAgICAgICAubWFwKCh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YClcclxuICAgICAgICAgICAgICAgIC5qb2luKCdcXG4nKSxcclxuICAgICAgICAgICAgdHJhY2VcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAodHJhY2UubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXHJcbiAgICAgICAgICAgICFmYWxzZSkge1xyXG4gICAgICAgICAgICB3YXJuQXJncy5wdXNoKGBcXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmVzZXRUcmFja2luZygpO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xyXG4gICAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKCFjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICAvLyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgc3RhY2sgYmVjYXVzZSBpdCB3aWxsIGJlIGluY29tcGxldGUgZHVyaW5nIHVwZGF0ZXNcclxuICAgIC8vIHRoYXQgZGlkIG5vdCBzdGFydCBmcm9tIHRoZSByb290LiBSZS1jb25zdHJ1Y3QgdGhlIHBhcmVudCBjaGFpbiB1c2luZ1xyXG4gICAgLy8gaW5zdGFuY2UgcGFyZW50IHBvaW50ZXJzLlxyXG4gICAgY29uc3Qgbm9ybWFsaXplZFN0YWNrID0gW107XHJcbiAgICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcclxuICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgbGFzdC5yZWN1cnNlQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXHJcbiAgICAgICAgICAgICAgICByZWN1cnNlQ291bnQ6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcclxuICAgICAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVkU3RhY2s7XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcclxuICAgIGNvbnN0IGxvZ3MgPSBbXTtcclxuICAgIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XHJcbiAgICAgICAgbG9ncy5wdXNoKC4uLihpID09PSAwID8gW10gOiBbYFxcbmBdKSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbG9ncztcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XHJcbiAgICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xyXG4gICAgY29uc3QgaXNSb290ID0gdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnBhcmVudCA9PSBudWxsIDogZmFsc2U7XHJcbiAgICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKHZub2RlLmNvbXBvbmVudCwgdm5vZGUudHlwZSwgaXNSb290KX1gO1xyXG4gICAgY29uc3QgY2xvc2UgPSBgPmAgKyBwb3N0Zml4O1xyXG4gICAgcmV0dXJuIHZub2RlLnByb3BzXHJcbiAgICAgICAgPyBbb3BlbiwgLi4uZm9ybWF0UHJvcHModm5vZGUucHJvcHMpLCBjbG9zZV1cclxuICAgICAgICA6IFtvcGVuICsgY2xvc2VdO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3BzKHByb3BzKSB7XHJcbiAgICBjb25zdCByZXMgPSBbXTtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XHJcbiAgICBrZXlzLnNsaWNlKDAsIDMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAzKSB7XHJcbiAgICAgICAgcmVzLnB1c2goYCAuLi5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0UHJvcChrZXksIHZhbHVlLCByYXcpIHtcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8XHJcbiAgICAgICAgdmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PWAsIHZhbHVlXTtcclxuICAgIH1cclxufVxuXG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0ge1xyXG4gICAgW1wiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovXTogJ2JlZm9yZUNyZWF0ZSBob29rJyxcclxuICAgIFtcImNcIiAvKiBDUkVBVEVEICovXTogJ2NyZWF0ZWQgaG9vaycsXHJcbiAgICBbXCJibVwiIC8qIEJFRk9SRV9NT1VOVCAqL106ICdiZWZvcmVNb3VudCBob29rJyxcclxuICAgIFtcIm1cIiAvKiBNT1VOVEVEICovXTogJ21vdW50ZWQgaG9vaycsXHJcbiAgICBbXCJidVwiIC8qIEJFRk9SRV9VUERBVEUgKi9dOiAnYmVmb3JlVXBkYXRlIGhvb2snLFxyXG4gICAgW1widVwiIC8qIFVQREFURUQgKi9dOiAndXBkYXRlZCcsXHJcbiAgICBbXCJidW1cIiAvKiBCRUZPUkVfVU5NT1VOVCAqL106ICdiZWZvcmVVbm1vdW50IGhvb2snLFxyXG4gICAgW1widW1cIiAvKiBVTk1PVU5URUQgKi9dOiAndW5tb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYVwiIC8qIEFDVElWQVRFRCAqL106ICdhY3RpdmF0ZWQgaG9vaycsXHJcbiAgICBbXCJkYVwiIC8qIERFQUNUSVZBVEVEICovXTogJ2RlYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZWNcIiAvKiBFUlJPUl9DQVBUVVJFRCAqL106ICdlcnJvckNhcHR1cmVkIGhvb2snLFxyXG4gICAgW1wicnRjXCIgLyogUkVOREVSX1RSQUNLRUQgKi9dOiAncmVuZGVyVHJhY2tlZCBob29rJyxcclxuICAgIFtcInJ0Z1wiIC8qIFJFTkRFUl9UUklHR0VSRUQgKi9dOiAncmVuZGVyVHJpZ2dlcmVkIGhvb2snLFxyXG4gICAgWzAgLyogU0VUVVBfRlVOQ1RJT04gKi9dOiAnc2V0dXAgZnVuY3Rpb24nLFxyXG4gICAgWzEgLyogUkVOREVSX0ZVTkNUSU9OICovXTogJ3JlbmRlciBmdW5jdGlvbicsXHJcbiAgICBbMiAvKiBXQVRDSF9HRVRURVIgKi9dOiAnd2F0Y2hlciBnZXR0ZXInLFxyXG4gICAgWzMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi9dOiAnd2F0Y2hlciBjYWxsYmFjaycsXHJcbiAgICBbNCAvKiBXQVRDSF9DTEVBTlVQICovXTogJ3dhdGNoZXIgY2xlYW51cCBmdW5jdGlvbicsXHJcbiAgICBbNSAvKiBOQVRJVkVfRVZFTlRfSEFORExFUiAqL106ICduYXRpdmUgZXZlbnQgaGFuZGxlcicsXHJcbiAgICBbNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqL106ICdjb21wb25lbnQgZXZlbnQgaGFuZGxlcicsXHJcbiAgICBbNyAvKiBWTk9ERV9IT09LICovXTogJ3Zub2RlIGhvb2snLFxyXG4gICAgWzggLyogRElSRUNUSVZFX0hPT0sgKi9dOiAnZGlyZWN0aXZlIGhvb2snLFxyXG4gICAgWzkgLyogVFJBTlNJVElPTl9IT09LICovXTogJ3RyYW5zaXRpb24gaG9vaycsXHJcbiAgICBbMTAgLyogQVBQX0VSUk9SX0hBTkRMRVIgKi9dOiAnYXBwIGVycm9ySGFuZGxlcicsXHJcbiAgICBbMTEgLyogQVBQX1dBUk5fSEFORExFUiAqL106ICdhcHAgd2FybkhhbmRsZXInLFxyXG4gICAgWzEyIC8qIEZVTkNUSU9OX1JFRiAqL106ICdyZWYgZnVuY3Rpb24nLFxyXG4gICAgWzEzIC8qIEFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi9dOiAnYXN5bmMgY29tcG9uZW50IGxvYWRlcicsXHJcbiAgICBbMTQgLyogU0NIRURVTEVSICovXTogJ3NjaGVkdWxlciBmbHVzaC4gVGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWxzIGJ1Zy4gJyArXHJcbiAgICAgICAgJ1BsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vbmV3LWlzc3VlLnZ1ZWpzLm9yZy8/cmVwbz12dWVqcy92dWUtbmV4dCdcclxufTtcclxuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgbGV0IHJlcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmVzID0gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcclxuICAgICAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XHJcbiAgICAgICAgICAgIHJlcy5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmFsdWVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XHJcbiAgICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XHJcbiAgICAgICAgLy8gdGhlIGV4cG9zZWQgaW5zdGFuY2UgaXMgdGhlIHJlbmRlciBwcm94eSB0byBrZWVwIGl0IGNvbnNpc3RlbnQgd2l0aCAyLnhcclxuICAgICAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcclxuICAgICAgICAvLyBpbiBwcm9kdWN0aW9uIHRoZSBob29rIHJlY2VpdmVzIG9ubHkgdGhlIGVycm9yIGNvZGVcclxuICAgICAgICBjb25zdCBlcnJvckluZm8gPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBFcnJvclR5cGVTdHJpbmdzW3R5cGVdIDogdHlwZTtcclxuICAgICAgICB3aGlsZSAoY3VyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FwdHVyZWRIb29rcyA9IGN1ci5lYztcclxuICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvckNhcHR1cmVkSG9va3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzW2ldKGVyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm8pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFwcC1sZXZlbCBoYW5kbGluZ1xyXG4gICAgICAgIGNvbnN0IGFwcEVycm9ySGFuZGxlciA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmVycm9ySGFuZGxlcjtcclxuICAgICAgICBpZiAoYXBwRXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBFcnJvckhhbmRsZXIsIG51bGwsIDEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovLCBbZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mb10pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYpO1xyXG59XHJcbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzW3R5cGVdO1xyXG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcclxuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhcm4oYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xyXG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY3Jhc2ggaW4gZGV2IGJ5IGRlZmF1bHQgc28gaXQncyBtb3JlIG5vdGljZWFibGVcclxuICAgICAgICBpZiAodGhyb3dJbkRldikge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gcmVjb3ZlciBpbiBwcm9kIHRvIHJlZHVjZSB0aGUgaW1wYWN0IG9uIGVuZC11c2VyXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59XG5cbmxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XHJcbmxldCBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xyXG5jb25zdCBxdWV1ZSA9IFtdO1xyXG5sZXQgZmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHBlbmRpbmdQcmVGbHVzaENicyA9IFtdO1xyXG5sZXQgYWN0aXZlUHJlRmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcHJlRmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbmxldCBwb3N0Rmx1c2hJbmRleCA9IDA7XHJcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5sZXQgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XHJcbmxldCBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IgPSBudWxsO1xyXG5jb25zdCBSRUNVUlNJT05fTElNSVQgPSAxMDA7XHJcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XHJcbiAgICBjb25zdCBwID0gY3VycmVudEZsdXNoUHJvbWlzZSB8fCByZXNvbHZlZFByb21pc2U7XHJcbiAgICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xyXG59XHJcbi8vICMyNzY4XHJcbi8vIFVzZSBiaW5hcnktc2VhcmNoIHRvIGZpbmQgYSBzdWl0YWJsZSBwb3NpdGlvbiBpbiB0aGUgcXVldWUsXHJcbi8vIHNvIHRoYXQgdGhlIHF1ZXVlIG1haW50YWlucyB0aGUgaW5jcmVhc2luZyBvcmRlciBvZiBqb2IncyBpZCxcclxuLy8gd2hpY2ggY2FuIHByZXZlbnQgdGhlIGpvYiBmcm9tIGJlaW5nIHNraXBwZWQgYW5kIGFsc28gY2FuIGF2b2lkIHJlcGVhdGVkIHBhdGNoaW5nLlxyXG5mdW5jdGlvbiBmaW5kSW5zZXJ0aW9uSW5kZXgoam9iKSB7XHJcbiAgICAvLyB0aGUgc3RhcnQgaW5kZXggc2hvdWxkIGJlIGBmbHVzaEluZGV4ICsgMWBcclxuICAgIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xyXG4gICAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcclxuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IChzdGFydCArIGVuZCkgPj4+IDE7XHJcbiAgICAgICAgY29uc3QgbWlkZGxlSm9iSWQgPSBnZXRJZChxdWV1ZVttaWRkbGVdKTtcclxuICAgICAgICBtaWRkbGVKb2JJZCA8IGpvYklkID8gKHN0YXJ0ID0gbWlkZGxlICsgMSkgOiAoZW5kID0gbWlkZGxlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGFydDtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcclxuICAgIC8vIHRoZSBkZWR1cGUgc2VhcmNoIHVzZXMgdGhlIHN0YXJ0SW5kZXggYXJndW1lbnQgb2YgQXJyYXkuaW5jbHVkZXMoKVxyXG4gICAgLy8gYnkgZGVmYXVsdCB0aGUgc2VhcmNoIGluZGV4IGluY2x1ZGVzIHRoZSBjdXJyZW50IGpvYiB0aGF0IGlzIGJlaW5nIHJ1blxyXG4gICAgLy8gc28gaXQgY2Fubm90IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIGFnYWluLlxyXG4gICAgLy8gaWYgdGhlIGpvYiBpcyBhIHdhdGNoKCkgY2FsbGJhY2ssIHRoZSBzZWFyY2ggd2lsbCBzdGFydCB3aXRoIGEgKzEgaW5kZXggdG9cclxuICAgIC8vIGFsbG93IGl0IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIC0gaXQgaXMgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0b1xyXG4gICAgLy8gZW5zdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3AuXHJcbiAgICBpZiAoKCFxdWV1ZS5sZW5ndGggfHxcclxuICAgICAgICAhcXVldWUuaW5jbHVkZXMoam9iLCBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXgpKSAmJlxyXG4gICAgICAgIGpvYiAhPT0gY3VycmVudFByZUZsdXNoUGFyZW50Sm9iKSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gZmluZEluc2VydGlvbkluZGV4KGpvYik7XHJcbiAgICAgICAgaWYgKHBvcyA+IC0xKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShwb3MsIDAsIGpvYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGpvYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlRmx1c2goKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xyXG4gICAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xyXG4gICAgICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbnZhbGlkYXRlSm9iKGpvYikge1xyXG4gICAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcclxuICAgIGlmIChpID4gZmx1c2hJbmRleCkge1xyXG4gICAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZUNiKGNiLCBhY3RpdmVRdWV1ZSwgcGVuZGluZ1F1ZXVlLCBpbmRleCkge1xyXG4gICAgaWYgKCFpc0FycmF5KGNiKSkge1xyXG4gICAgICAgIGlmICghYWN0aXZlUXVldWUgfHxcclxuICAgICAgICAgICAgIWFjdGl2ZVF1ZXVlLmluY2x1ZGVzKGNiLCBjYi5hbGxvd1JlY3Vyc2UgPyBpbmRleCArIDEgOiBpbmRleCkpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1F1ZXVlLnB1c2goY2IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIGNiIGlzIGFuIGFycmF5LCBpdCBpcyBhIGNvbXBvbmVudCBsaWZlY3ljbGUgaG9vayB3aGljaCBjYW4gb25seSBiZVxyXG4gICAgICAgIC8vIHRyaWdnZXJlZCBieSBhIGpvYiwgd2hpY2ggaXMgYWxyZWFkeSBkZWR1cGVkIGluIHRoZSBtYWluIHF1ZXVlLCBzb1xyXG4gICAgICAgIC8vIHdlIGNhbiBza2lwIGR1cGxpY2F0ZSBjaGVjayBoZXJlIHRvIGltcHJvdmUgcGVyZlxyXG4gICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKC4uLmNiKTtcclxuICAgIH1cclxuICAgIHF1ZXVlRmx1c2goKTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVByZUZsdXNoQ2IoY2IpIHtcclxuICAgIHF1ZXVlQ2IoY2IsIGFjdGl2ZVByZUZsdXNoQ2JzLCBwZW5kaW5nUHJlRmx1c2hDYnMsIHByZUZsdXNoSW5kZXgpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlUG9zdEZsdXNoQ2IoY2IpIHtcclxuICAgIHF1ZXVlQ2IoY2IsIGFjdGl2ZVBvc3RGbHVzaENicywgcGVuZGluZ1Bvc3RGbHVzaENicywgcG9zdEZsdXNoSW5kZXgpO1xyXG59XHJcbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoc2VlbiwgcGFyZW50Sm9iID0gbnVsbCkge1xyXG4gICAgaWYgKHBlbmRpbmdQcmVGbHVzaENicy5sZW5ndGgpIHtcclxuICAgICAgICBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IgPSBwYXJlbnRKb2I7XHJcbiAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnMgPSBbLi4ubmV3IFNldChwZW5kaW5nUHJlRmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoID0gMDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcmVGbHVzaEluZGV4ID0gMDsgcHJlRmx1c2hJbmRleCA8IGFjdGl2ZVByZUZsdXNoQ2JzLmxlbmd0aDsgcHJlRmx1c2hJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUHJlRmx1c2hDYnMgPSBudWxsO1xyXG4gICAgICAgIHByZUZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IG51bGw7XHJcbiAgICAgICAgLy8gcmVjdXJzaXZlbHkgZmx1c2ggdW50aWwgaXQgZHJhaW5zXHJcbiAgICAgICAgZmx1c2hQcmVGbHVzaENicyhzZWVuLCBwYXJlbnRKb2IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcclxuICAgIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xyXG4gICAgICAgIC8vICMxOTQ3IGFscmVhZHkgaGFzIGFjdGl2ZSBxdWV1ZSwgbmVzdGVkIGZsdXNoUG9zdEZsdXNoQ2JzIGNhbGxcclxuICAgICAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zb3J0KChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpKTtcclxuICAgICAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcclxuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcclxuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcclxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcclxuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxyXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXHJcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmbHVzaEpvYnMoc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xyXG4gICAgaWYgKCFzZWVuLmhhcyhmbikpIHtcclxuICAgICAgICBzZWVuLnNldChmbiwgMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKTtcclxuICAgICAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkLiBgICtcclxuICAgICAgICAgICAgICAgIGBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBgICtcclxuICAgICAgICAgICAgICAgIGBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgYCArXHJcbiAgICAgICAgICAgICAgICBgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XHJcbi8vIEV4cG9zZSB0aGUgSE1SIHJ1bnRpbWUgb24gdGhlIGdsb2JhbCBvYmplY3RcclxuLy8gVGhpcyBtYWtlcyBpdCBlbnRpcmVseSB0cmVlLXNoYWthYmxlIHdpdGhvdXQgcG9sbHV0aW5nIHRoZSBleHBvcnRzIGFuZCBtYWtlc1xyXG4vLyBpdCBlYXNpZXIgdG8gYmUgdXNlZCBpbiB0b29saW5ncyBsaWtlIHZ1ZS1sb2FkZXJcclxuLy8gTm90ZTogZm9yIGEgY29tcG9uZW50IHRvIGJlIGVsaWdpYmxlIGZvciBITVIgaXQgYWxzbyBuZWVkcyB0aGUgX19obXJJZCBvcHRpb25cclxuLy8gdG8gYmUgc2V0IHNvIHRoYXQgaXRzIGluc3RhbmNlcyBjYW4gYmUgcmVnaXN0ZXJlZCAvIHJlbW92ZWQuXHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgIGNvbnN0IGdsb2JhbE9iamVjdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgPyBnbG9iYWxcclxuICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgPyB3aW5kb3dcclxuICAgICAgICAgICAgICAgIDoge307XHJcbiAgICBnbG9iYWxPYmplY3QuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcclxuICAgICAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcclxuICAgICAgICByZXJlbmRlcjogdHJ5V3JhcChyZXJlbmRlciksXHJcbiAgICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcclxuICAgIH07XHJcbn1cclxuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWdpc3RlckhNUihpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XHJcbiAgICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICBpZiAoIXJlY29yZCkge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZChpZCwgaW5zdGFuY2UudHlwZSk7XHJcbiAgICAgICAgcmVjb3JkID0gbWFwLmdldChpZCk7XHJcbiAgICB9XHJcbiAgICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gdW5yZWdpc3RlckhNUihpbnN0YW5jZSkge1xyXG4gICAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgY29tcG9uZW50KSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudCkge1xyXG4gICAgICAgIHdhcm4oYEhNUiBBUEkgdXNhZ2UgaXMgb3V0IG9mIGRhdGUuXFxuYCArXHJcbiAgICAgICAgICAgIGBQbGVhc2UgdXBncmFkZSB2dWUtbG9hZGVyL3ZpdGUvcm9sbHVwLXBsdWdpbi12dWUgb3Igb3RoZXIgcmVsZXZhbnQgYCArXHJcbiAgICAgICAgICAgIGBkZXBlbmRlbmN5IHRoYXQgaGFuZGxlcyBWdWUgU0ZDIGNvbXBpbGF0aW9uLmApO1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKG1hcC5oYXMoaWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbWFwLnNldChpZCwge1xyXG4gICAgICAgIGNvbXBvbmVudDogaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudCxcclxuICAgICAgICBpbnN0YW5jZXM6IG5ldyBTZXQoKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmIChuZXdSZW5kZXIpXHJcbiAgICAgICAgcmVjb3JkLmNvbXBvbmVudC5yZW5kZXIgPSBuZXdSZW5kZXI7XHJcbiAgICAvLyBBcnJheS5mcm9tIGNyZWF0ZXMgYSBzbmFwc2hvdCB3aGljaCBhdm9pZHMgdGhlIHNldCBiZWluZyBtdXRhdGVkIGR1cmluZ1xyXG4gICAgLy8gdXBkYXRlc1xyXG4gICAgQXJyYXkuZnJvbShyZWNvcmQuaW5zdGFuY2VzKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAobmV3UmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcclxuICAgICAgICAvLyB0aGlzIGZsYWcgZm9yY2VzIGNoaWxkIGNvbXBvbmVudHMgd2l0aCBzbG90IGNvbnRlbnQgdG8gdXBkYXRlXHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XHJcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBjb25zdCB7IGNvbXBvbmVudCwgaW5zdGFuY2VzIH0gPSByZWNvcmQ7XHJcbiAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMoY29tcG9uZW50KSkge1xyXG4gICAgICAgIC8vIDEuIFVwZGF0ZSBleGlzdGluZyBjb21wIGRlZmluaXRpb24gdG8gbWF0Y2ggbmV3IG9uZVxyXG4gICAgICAgIG5ld0NvbXAgPSBpc0NsYXNzQ29tcG9uZW50KG5ld0NvbXApID8gbmV3Q29tcC5fX3ZjY09wdHMgOiBuZXdDb21wO1xyXG4gICAgICAgIGV4dGVuZChjb21wb25lbnQsIG5ld0NvbXApO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3Q29tcCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb21wb25lbnRba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAyLiBNYXJrIGNvbXBvbmVudCBkaXJ0eS4gVGhpcyBmb3JjZXMgdGhlIHJlbmRlcmVyIHRvIHJlcGxhY2UgdGhlIGNvbXBvbmVudFxyXG4gICAgICAgIC8vIG9uIHBhdGNoLlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQoY29tcG9uZW50KTtcclxuICAgICAgICAvLyAzLiBNYWtlIHN1cmUgdG8gdW5tYXJrIHRoZSBjb21wb25lbnQgYWZ0ZXIgdGhlIHJlbG9hZC5cclxuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKCgpID0+IHtcclxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgQXJyYXkuZnJvbShpbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gNC4gRm9yY2UgdGhlIHBhcmVudCBpbnN0YW5jZSB0byByZS1yZW5kZXIuIFRoaXMgd2lsbCBjYXVzZSBhbGwgdXBkYXRlZFxyXG4gICAgICAgICAgICAvLyBjb21wb25lbnRzIHRvIGJlIHVubW91bnRlZCBhbmQgcmUtbW91bnRlZC4gUXVldWUgdGhlIHVwZGF0ZSBzbyB0aGF0IHdlXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGVuZCB1cCBmb3JjaW5nIHRoZSBzYW1lIHBhcmVudCB0byByZS1yZW5kZXIgbXVsdGlwbGUgdGltZXMuXHJcbiAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCkge1xyXG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIG1vdW50ZWQgdmlhIGNyZWF0ZUFwcCgpIGhhcyBhIHJlbG9hZCBtZXRob2RcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBpbnNpZGUgdHJlZSBjcmVhdGVkIHZpYSByYXcgcmVuZGVyKCkuIEZvcmNlIHJlbG9hZC5cclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcclxuICAgIHJldHVybiAoaWQsIGFyZykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBgICtcclxuICAgICAgICAgICAgICAgIGBGdWxsIHJlbG9hZCByZXF1aXJlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbmxldCBkZXZ0b29scztcclxuZnVuY3Rpb24gc2V0RGV2dG9vbHNIb29rKGhvb2spIHtcclxuICAgIGRldnRvb2xzID0gaG9vaztcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XHJcbiAgICAvLyBUT0RPIHF1ZXVlIGlmIGRldnRvb2xzIGlzIHVuZGVmaW5lZFxyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XHJcbiAgICAgICAgRnJhZ21lbnQsXHJcbiAgICAgICAgVGV4dCxcclxuICAgICAgICBDb21tZW50LFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpO1xyXG59XG5cbmZ1bmN0aW9uIGVtaXQoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCB7IGVtaXRzT3B0aW9ucywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKGVtaXRzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHRoZSBlbWl0cyBvcHRpb24gbm9yIGFzIGFuIFwiJHt0b0hhbmRsZXJLZXkoZXZlbnQpfVwiIHByb3AuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBhcmdzID0gcmF3QXJncztcclxuICAgIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoJ3VwZGF0ZTonKTtcclxuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhcHBseSBtb2RpZmllcnMgb24gYXJnc1xyXG4gICAgY29uc3QgbW9kZWxBcmcgPSBpc01vZGVsTGlzdGVuZXIgJiYgZXZlbnQuc2xpY2UoNyk7XHJcbiAgICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcclxuICAgICAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gJ21vZGVsVmFsdWUnID8gJ21vZGVsJyA6IG1vZGVsQXJnfU1vZGlmaWVyc2A7XHJcbiAgICAgICAgY29uc3QgeyBudW1iZXIsIHRyaW0gfSA9IHByb3BzW21vZGlmaWVyc0tleV0gfHwgRU1QVFlfT0JKO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChhID0+IGEudHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCh0b051bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xyXG4gICAgICAgICAgICB3YXJuKGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgYCArXHJcbiAgICAgICAgICAgICAgICBgJHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICBgTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgYCArXHJcbiAgICAgICAgICAgICAgICBgdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgYFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoZXZlbnQpfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBoYW5kbGVyTmFtZTtcclxuICAgIGxldCBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KSldIHx8XHJcbiAgICAgICAgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxyXG4gICAgICAgIHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpKV07XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYWxzbyB0cmlnZ2VyIGtlYmFiLWNhc2UgZXF1aXZhbGVudFxyXG4gICAgLy8gZm9yIHByb3BzIHBhc3NlZCB2aWEga2ViYWItY2FzZVxyXG4gICAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xyXG4gICAgICAgIGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSkpXTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XHJcbiAgICBpZiAob25jZUhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcclxuICAgICAgICAgICAgKGluc3RhbmNlLmVtaXR0ZWQgPSB7fSlbaGFuZGxlck5hbWVdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhvbmNlSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGlmICghYXBwQ29udGV4dC5kZW9wdCAmJiBjb21wLl9fZW1pdHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjb21wLl9fZW1pdHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcclxuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG51bGwpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgIHJhdy5mb3JFYWNoKGtleSA9PiAobm9ybWFsaXplZFtrZXldID0gbnVsbCkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNvbXAuX19lbWl0cyA9IG5vcm1hbGl6ZWQpO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XHJcbn1cblxubGV0IGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90ID0gMDtcclxuY29uc3Qgc2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nID0gKG4pID0+IChpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCArPSBuKTtcclxuLyoqXHJcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgYDxzbG90Lz5gXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBcclxuLy8gdGhpcyBpcyBub3QgYSB1c2VyLWZhY2luZyBmdW5jdGlvbiwgc28gdGhlIGZhbGxiYWNrIGlzIGFsd2F5cyBnZW5lcmF0ZWQgYnlcclxuLy8gdGhlIGNvbXBpbGVyIGFuZCBndWFyYW50ZWVkIHRvIGJlIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGFuIGFycmF5XHJcbmZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcclxuICAgIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgd2FybihgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGAgK1xyXG4gICAgICAgICAgICBgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgYCArXHJcbiAgICAgICAgICAgIGBwYXJlbnQgdGVtcGxhdGUuYCk7XHJcbiAgICAgICAgc2xvdCA9ICgpID0+IFtdO1xyXG4gICAgfVxyXG4gICAgLy8gYSBjb21waWxlZCBzbG90IGRpc2FibGVzIGJsb2NrIHRyYWNraW5nIGJ5IGRlZmF1bHQgdG8gYXZvaWQgbWFudWFsXHJcbiAgICAvLyBpbnZvY2F0aW9uIGludGVyZmVyaW5nIHdpdGggdGVtcGxhdGUtYmFzZWQgYmxvY2sgdHJhY2tpbmcsIGJ1dCBpblxyXG4gICAgLy8gYHJlbmRlclNsb3RgIHdlIGNhbiBiZSBzdXJlIHRoYXQgaXQncyB0ZW1wbGF0ZS1iYXNlZCBzbyB3ZSBjYW4gZm9yY2VcclxuICAgIC8vIGVuYWJsZSBpdC5cclxuICAgIGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90Kys7XHJcbiAgICBvcGVuQmxvY2soKTtcclxuICAgIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xyXG4gICAgY29uc3QgcmVuZGVyZWQgPSBjcmVhdGVCbG9jayhGcmFnbWVudCwgeyBrZXk6IHByb3BzLmtleSB8fCBgXyR7bmFtZX1gIH0sIHZhbGlkU2xvdENvbnRlbnQgfHwgKGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdKSwgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxIC8qIFNUQUJMRSAqL1xyXG4gICAgICAgID8gNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXHJcbiAgICAgICAgOiAtMiAvKiBCQUlMICovKTtcclxuICAgIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcclxuICAgICAgICByZW5kZXJlZC5zbG90U2NvcGVJZHMgPSBbcmVuZGVyZWQuc2NvcGVJZCArICctcyddO1xyXG4gICAgfVxyXG4gICAgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QtLTtcclxuICAgIHJldHVybiByZW5kZXJlZDtcclxufVxyXG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xyXG4gICAgcmV0dXJuIHZub2Rlcy5zb21lKGNoaWxkID0+IHtcclxuICAgICAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAgICAgPyB2bm9kZXNcclxuICAgICAgICA6IG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXHJcbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcclxuICovXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG4vKipcclxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcclxuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxyXG4gKiAvLyAuLi5yZW5kZXJcclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcclxuICAgIHJldHVybiBwcmV2O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcclxufVxyXG4vKipcclxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXHJcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XHJcbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XHJcbiAgICBpZiAoIWN0eClcclxuICAgICAgICByZXR1cm4gZm47XHJcbiAgICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAvLyBJZiBhIHVzZXIgY2FsbHMgYSBjb21waWxlZCBzbG90IGluc2lkZSBhIHRlbXBsYXRlIGV4cHJlc3Npb24gKCMxNzQ1KSwgaXRcclxuICAgICAgICAvLyBjYW4gbWVzcyB1cCBibG9jayB0cmFja2luZywgc28gYnkgZGVmYXVsdCB3ZSBuZWVkIHRvIHB1c2ggYSBudWxsIGJsb2NrIHRvXHJcbiAgICAgICAgLy8gYXZvaWQgdGhhdC4gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAuXHJcbiAgICAgICAgaWYgKCFpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdCkge1xyXG4gICAgICAgICAgICBvcGVuQmxvY2sodHJ1ZSAvKiBudWxsIGJsb2NrIHRoYXQgZGlzYWJsZXMgdHJhY2tpbmcgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcclxuICAgICAgICBjb25zdCByZXMgPSBmbiguLi5hcmdzKTtcclxuICAgICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcclxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIGNsb3NlQmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbiAgICAvLyBtYXJrIHRoaXMgYXMgYSBjb21waWxlZCBzbG90IGZ1bmN0aW9uLlxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIGluIHZub2RlLnRzIC0+IG5vcm1hbGl6ZUNoaWxkcmVuKCkgdG8gc2V0IHRoZSBzbG90XHJcbiAgICAvLyByZW5kZXJpbmcgZmxhZy5cclxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xyXG4gICAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgdG8gdHJhY2sgd2hldGhlciAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlci5cclxuICogSWYgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIgdGhlbiB0aGUgd2FybmluZyBmb3IgZmFpbGVkIGF0dHJzXHJcbiAqIGZhbGx0aHJvdWdoIGNhbiBiZSBzdXBwcmVzc2VkLlxyXG4gKi9cclxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XHJcbiAgICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IHR5cGU6IENvbXBvbmVudCwgdm5vZGUsIHByb3h5LCB3aXRoUHJveHksIHByb3BzLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLCBzbG90cywgYXR0cnMsIGVtaXQsIHJlbmRlciwgcmVuZGVyQ2FjaGUsIGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICBsZXQgcmVzdWx0O1xyXG4gICAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZmFsbHRocm91Z2hBdHRycztcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gd2l0aFByb3h5IGlzIGEgcHJveHkgd2l0aCBhIGRpZmZlcmVudCBgaGFzYCB0cmFwIG9ubHkgZm9yXHJcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2suXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5jYWxsKHByb3h5VG9Vc2UsIHByb3h5VG9Vc2UsIHJlbmRlckNhY2hlLCBwcm9wcywgc2V0dXBTdGF0ZSwgZGF0YSwgY3R4KSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxcclxuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAvLyBpbiBkZXYsIG1hcmsgYXR0cnMgYWNjZXNzZWQgaWYgb3B0aW9uYWwgcHJvcHMgKGF0dHJzID09PSBwcm9wcylcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmxlbmd0aCA+IDFcclxuICAgICAgICAgICAgICAgID8gcmVuZGVyKHByb3BzLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9KVxyXG4gICAgICAgICAgICAgICAgOiByZW5kZXIocHJvcHMsIG51bGwgLyogd2Uga25vdyBpdCBkb2Vzbid0IG5lZWQgaXQgKi8pKTtcclxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wc1xyXG4gICAgICAgICAgICAgICAgPyBhdHRyc1xyXG4gICAgICAgICAgICAgICAgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhdHRyIG1lcmdpbmdcclxuICAgICAgICAvLyBpbiBkZXYgbW9kZSwgY29tbWVudHMgYXJlIHByZXNlcnZlZCwgYW5kIGl0J3MgcG9zc2libGUgZm9yIGEgdGVtcGxhdGVcclxuICAgICAgICAvLyB0byBoYXZlIGNvbW1lbnRzIGFsb25nIHNpZGUgdGhlIHJvb3QgZWxlbWVudCB3aGljaCBtYWtlcyBpdCBhIGZyYWdtZW50XHJcbiAgICAgICAgbGV0IHJvb3QgPSByZXN1bHQ7XHJcbiAgICAgICAgbGV0IHNldFJvb3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICByZXN1bHQucGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmluaGVyaXRBdHRycyAhPT0gZmFsc2UgJiYgZmFsbHRocm91Z2hBdHRycykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGhhbmRsZXJzIHdoZW4gdGhleSBmYWlsIHRvIGZhbGx0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGBvbmAsIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgdG8gcmVmbGVjdCBldmVudCBjYXNpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V4dHJhQXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzIChgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2V2ZW50QXR0cnMuam9pbignLCAnKX0pIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgZGlyZWN0aXZlc1xyXG4gICAgICAgIGlmICh2bm9kZS5kaXJzKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluaGVyaXQgdHJhbnNpdGlvbiBkYXRhXHJcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QudHJhbnNpdGlvbiA9IHZub2RlLnRyYW5zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0Um9vdCkge1xyXG4gICAgICAgICAgICBzZXRSb290KHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEgLyogUkVOREVSX0ZVTkNUSU9OICovKTtcclxuICAgICAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcclxuICAgIH1cclxuICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqIEluIGRldiBtb2RlLCB0ZW1wbGF0ZSByb290IGxldmVsIGNvbW1lbnRzIGFyZSByZW5kZXJlZCwgd2hpY2ggdHVybnMgdGhlXHJcbiAqIHRlbXBsYXRlIGludG8gYSBmcmFnbWVudCByb290LCBidXQgd2UgbmVlZCB0byBsb2NhdGUgdGhlIHNpbmdsZSBlbGVtZW50XHJcbiAqIHJvb3QgZm9yIGF0dHJzIGFuZCBzY29wZSBpZCBwcm9jZXNzaW5nLlxyXG4gKi9cclxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XHJcbiAgICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbik7XHJcbiAgICBpZiAoIWNoaWxkUm9vdCkge1xyXG4gICAgICAgIHJldHVybiBbdm5vZGUsIHVuZGVmaW5lZF07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcclxuICAgIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcclxuICAgIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcclxuICAgICAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcclxufTtcclxuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbikge1xyXG4gICAgbGV0IHNpbmdsZVJvb3Q7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgLy8gaWdub3JlIHVzZXIgY29tbWVudFxyXG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzaW5nbGVSb290O1xyXG59XHJcbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xyXG4gICAgbGV0IHJlcztcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50IC8vIHBvdGVudGlhbCB2LWlmIGJyYW5jaCBzd2l0Y2hcclxuICAgICk7XHJcbn07XHJcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XHJcbiAgICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xyXG4gICAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcclxuICAgIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcclxuICAgIC8vIFBhcmVudCBjb21wb25lbnQncyByZW5kZXIgZnVuY3Rpb24gd2FzIGhvdC11cGRhdGVkLiBTaW5jZSB0aGlzIG1heSBoYXZlXHJcbiAgICAvLyBjYXVzZWQgdGhlIGNoaWxkIGNvbXBvbmVudCdzIHNsb3RzIGNvbnRlbnQgdG8gaGF2ZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvXHJcbiAgICAvLyBmb3JjZSB0aGUgY2hpbGQgdG8gdXBkYXRlIGFzIHdlbGwuXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBmb3JjZSBjaGlsZCB1cGRhdGUgZm9yIHJ1bnRpbWUgZGlyZWN0aXZlIG9yIHRyYW5zaXRpb24gb24gY29tcG9uZW50IHZub2RlLlxyXG4gICAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLykge1xyXG4gICAgICAgICAgICAvLyBzbG90IGNvbnRlbnQgdGhhdCByZWZlcmVuY2VzIHZhbHVlcyB0aGF0IG1pZ2h0IGhhdmUgY2hhbmdlZCxcclxuICAgICAgICAgICAgLy8gZS5nLiBpbiBhIHYtZm9yXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykge1xyXG4gICAgICAgICAgICBpZiAoIXByZXZQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHRoaXMgZmxhZyBpbmRpY2F0ZXMgcHJvcHMgYXJlIGFsd2F5cyBub24tbnVsbFxyXG4gICAgICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHRoaXMgcGF0aCBpcyBvbmx5IHRha2VuIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIHNvIHByZXNlbmNlIG9mIGFueSBjaGlsZHJlbiBsZWFkcyB0byBhIGZvcmNlZCB1cGRhdGVcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xyXG4gICAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xyXG4gICAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcclxuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXHJcbiAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwgLy8gSG9zdE5vZGVcclxuKSB7XHJcbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XHJcbi8vIFN1c3BlbnNlIGV4cG9zZXMgYSBjb21wb25lbnQtbGlrZSBBUEksIGFuZCBpcyB0cmVhdGVkIGxpa2UgYSBjb21wb25lbnRcclxuLy8gaW4gdGhlIGNvbXBpbGVyLCBidXQgaW50ZXJuYWxseSBpdCdzIGEgc3BlY2lhbCBidWlsdC1pbiB0eXBlIHRoYXQgaG9va3NcclxuLy8gZGlyZWN0bHkgaW50byB0aGUgcmVuZGVyZXIuXHJcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcclxuICAgIG5hbWU6ICdTdXNwZW5zZScsXHJcbiAgICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XHJcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xyXG4gICAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXHJcbiAgICAvLyBpbnRlcm5hbHMuXHJcbiAgICBfX2lzU3VzcGVuc2U6IHRydWUsXHJcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgXHJcbiAgICAvLyBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsIHBhc3NlZCBmcm9tIHJlbmRlcmVyXHJcbiAgICByZW5kZXJlckludGVybmFscykge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50U3VzcGVuc2UobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxyXG4gICAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5XHJcbn07XHJcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXHJcbmNvbnN0IFN1c3BlbnNlID0gKFN1c3BlbnNlSW1wbFxyXG4gICAgKTtcclxuZnVuY3Rpb24gbW91bnRTdXNwZW5zZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAodm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSk7XHJcbiAgICAvLyBzdGFydCBtb3VudGluZyB0aGUgY29udGVudCBzdWJ0cmVlIGluIGFuIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICBwYXRjaChudWxsLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIGhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAvLyBub3cgY2hlY2sgaWYgd2UgaGF2ZSBlbmNvdW50ZXJlZCBhbnkgYXN5bmMgZGVwc1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XHJcbiAgICAgICAgLy8gaGFzIGFzeW5jXHJcbiAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZS5zc0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XHJcbiAgICBzdXNwZW5zZS52bm9kZSA9IG4yO1xyXG4gICAgbjIuZWwgPSBuMS5lbDtcclxuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcclxuICAgIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcclxuICAgIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcclxuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcclxuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgcGF0Y2gocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXHJcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcclxuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxyXG4gICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblBlbmRpbmcgPSBuMi5wcm9wcyAmJiBuMi5wcm9wcy5vblBlbmRpbmc7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUGVuZGluZykpIHtcclxuICAgICAgICAgICAgICAgIG9uUGVuZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG1vdW50IHBlbmRpbmcgYnJhbmNoIGluIG9mZi1kb20gY29udGFpbmVyXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5jb21pbmcgYnJhbmNoIGhhcyBubyBhc3luYyBkZXBzLCByZXNvbHZlIG5vdy5cclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYGNvbnNvbGUuaW5mb2AgY2Fubm90IGJlIG51bGwgZXJyb3JcclxuICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogdW5tb3VudCwgbjogbmV4dCwgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gdG9OdW1iZXIodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudGltZW91dCk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IHtcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgIGlzU1ZHLFxyXG4gICAgICAgIGNvbnRhaW5lcixcclxuICAgICAgICBoaWRkZW5Db250YWluZXIsXHJcbiAgICAgICAgYW5jaG9yLFxyXG4gICAgICAgIGRlcHM6IDAsXHJcbiAgICAgICAgcGVuZGluZ0lkOiAwLFxyXG4gICAgICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAtMSxcclxuICAgICAgICBhY3RpdmVCcmFuY2g6IG51bGwsXHJcbiAgICAgICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcclxuICAgICAgICBpc0luRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgICAgaXNIeWRyYXRpbmcsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGVmZmVjdHM6IFtdLFxyXG4gICAgICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgcGVuZGluZ0lkLCBlZmZlY3RzLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghcmVzdW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaW5pdGlhbCBhbmNob3Igb24gbW91bnRcclxuICAgICAgICAgICAgICAgIGxldCB7IGFuY2hvciB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIHRyZWVcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmFsbGJhY2sgdHJlZSB3YXMgbW91bnRlZCwgaXQgbWF5IGhhdmUgYmVlbiBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHBhcnQgb2YgYSBwYXJlbnQgc3VzcGVuc2UuIGdldCB0aGUgbGF0ZXN0IGFuY2hvciBmb3IgaW5zZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgY29udGVudCBmcm9tIG9mZi1kb20gY29udGFpbmVyIHRvIGFjdHVhbCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGZsdXNoIGJ1ZmZlcmVkIGVmZmVjdHNcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZVxyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xyXG4gICAgICAgICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIG1lcmdlIGJ1ZmZlcmVkIHBvc3Qgam9ic1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhhdCBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBmbHVzaCBhbGwgam9ic1xyXG4gICAgICAgICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcmVzb2x2ZSBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvblJlc29sdmUgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblJlc29sdmU7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVzb2x2ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XHJcbiAgICAgICAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGlzU1ZHIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEBmYWxsYmFjayBldmVudFxyXG4gICAgICAgICAgICBjb25zdCBvbkZhbGxiYWNrID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25GYWxsYmFjaztcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25GYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgIG9uRmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xyXG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBtYXkgaGF2ZSBiZWVuIHJlcGxhY2VkIGlmIGFuIHVwZGF0ZSBoYXBwZW5lZCBiZWZvcmUgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmVsID0gaHlkcmF0ZWRFbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCB2bm9kZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXHJcbiAgICAgICAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksIHN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25seSBkZWNyZWFzZSBkZXBzIGNvdW50IGlmIHN1c3BlbnNlIGlzIG5vdCBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gc3VzcGVuc2U7XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVN1c3BlbnNlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XHJcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxyXG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcclxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXHJcbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XHJcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcclxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgbGV0IGNvbnRlbnQ7XHJcbiAgICBsZXQgZmFsbGJhY2s7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb250ZW50ID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmRlZmF1bHQpO1xyXG4gICAgICAgIGZhbGxiYWNrID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4pO1xyXG4gICAgICAgIGZhbGxiYWNrID0gbm9ybWFsaXplVk5vZGUobnVsbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgZmFsbGJhY2tcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgcyA9IHMoKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHMpKSB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcyA9IHNpbmdsZUNoaWxkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZVZOb2RlKHMpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xyXG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaChmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcclxuICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHBhcmVudENvbXBvbmVudCB9ID0gc3VzcGVuc2U7XHJcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XHJcbiAgICAvLyBpbiBjYXNlIHN1c3BlbnNlIGlzIHRoZSByb290IG5vZGUgb2YgYSBjb21wb25lbnQsXHJcbiAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdGhlIEhPQyBlbFxyXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcclxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgLy8gcmVzdWx0IG9mIGJpdHdpc2UgZmxhZyBjb21wYXJpc29uXHJcbmlzU1NSID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHByb3BzID0ge307XHJcbiAgICBjb25zdCBhdHRycyA9IHt9O1xyXG4gICAgZGVmKGF0dHJzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XHJcbiAgICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XHJcbiAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGlmIChpc1N0YXRlZnVsKSB7XHJcbiAgICAgICAgLy8gc3RhdGVmdWxcclxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGlzU1NSID8gcHJvcHMgOiBzaGFsbG93UmVhY3RpdmUocHJvcHMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gb3B0aW9uYWwgcHJvcHMsIHByb3BzID09PSBhdHRyc1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBkZWNsYXJlZCBwcm9wc1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xyXG4gICAgY29uc3QgeyBwcm9wcywgYXR0cnMsIHZub2RlOiB7IHBhdGNoRmxhZyB9IH0gPSBpbnN0YW5jZTtcclxuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGlmIChcclxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XHJcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxyXG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcclxuICAgICEoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgKGluc3RhbmNlLnR5cGUuX19obXJJZCB8fFxyXG4gICAgICAgICAgICAoaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC50eXBlLl9faG1ySWQpKSkgJiZcclxuICAgICAgICAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmXHJcbiAgICAgICAgIShwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSkge1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBST1BTICovKSB7XHJcbiAgICAgICAgICAgIC8vIENvbXBpbGVyLWdlbmVyYXRlZCBwcm9wcyAmIG5vIGtleXMgY2hhbmdlLCBqdXN0IHNldCB0aGUgdXBkYXRlZFxyXG4gICAgICAgICAgICAvLyB0aGUgcHJvcHMuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcclxuICAgICAgICAgICAgICAgIC8vIFBST1BTIGZsYWcgZ3VhcmFudGVlcyByYXdQcm9wcyB0byBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhdHRyIC8gcHJvcHMgc2VwYXJhdGlvbiB3YXMgZG9uZSBvbiBpbml0IGFuZCB3aWxsIGJlIGNvbnNpc3RlbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNvZGUgcGF0aCwgc28ganVzdCBjaGVjayBpZiBhdHRycyBoYXZlIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBjYW1lbGl6ZWRLZXksIHZhbHVlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZnVsbCBwcm9wcyB1cGRhdGUuXHJcbiAgICAgICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgICAgICAvLyBpbiBjYXNlIG9mIGR5bmFtaWMgcHJvcHMsIGNoZWNrIGlmIHdlIG5lZWQgdG8gZGVsZXRlIGtleXMgZnJvbVxyXG4gICAgICAgIC8vIHRoZSBwcm9wcyBvYmplY3RcclxuICAgICAgICBsZXQga2ViYWJLZXk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHxcclxuICAgICAgICAgICAgICAgIC8vIGZvciBjYW1lbENhc2VcclxuICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXHJcbiAgICAgICAgICAgICAgICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3UHJvcHMgfHwgRU1QVFlfT0JKLCBrZXksIHVuZGVmaW5lZCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIGZ1bmN0aW9uYWwgY29tcG9uZW50IHcvbyBwcm9wcyBkZWNsYXJhdGlvbiwgcHJvcHMgYW5kXHJcbiAgICAgICAgLy8gYXR0cnMgcG9pbnQgdG8gdGhlIHNhbWUgb2JqZWN0IHNvIGl0IHNob3VsZCBhbHJlYWR5IGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHRyaWdnZXIgdXBkYXRlcyBmb3IgJGF0dHJzIGluIGNhc2UgaXQncyB1c2VkIGluIGNvbXBvbmVudCBzbG90c1xyXG4gICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiAvKiBTRVQgKi8sICckYXR0cnMnKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xyXG4gICAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBpZiAocmF3UHJvcHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3Agb3B0aW9uIG5hbWVzIGFyZSBjYW1lbGl6ZWQgZHVyaW5nIG5vcm1hbGl6YXRpb24sIHNvIHRvIHN1cHBvcnRcclxuICAgICAgICAgICAgLy8ga2ViYWIgLT4gY2FtZWwgY29udmVyc2lvbiBoZXJlIHdlIG5lZWQgdG8gY2FtZWxpemUgdGhlIGtleS5cclxuICAgICAgICAgICAgbGV0IGNhbWVsS2V5O1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgKGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBbnkgbm9uLWRlY2xhcmVkIChlaXRoZXIgYXMgYSBwcm9wIG9yIGFuIGVtaXR0ZWQgZXZlbnQpIHByb3BzIGFyZSBwdXRcclxuICAgICAgICAgICAgICAgIC8vIGludG8gYSBzZXBhcmF0ZSBgYXR0cnNgIG9iamVjdCBmb3Igc3ByZWFkaW5nLiBNYWtlIHN1cmUgdG8gcHJlc2VydmVcclxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIGtleSBjYXNpbmdcclxuICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChuZWVkQ2FzdEtleXMpIHtcclxuICAgICAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xyXG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgcmF3Q3VycmVudFByb3BzW2tleV0sIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcclxuICAgIGlmIChvcHQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xyXG4gICAgICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093bihwcm9wcywga2V5KSAmJiAhaGFzRGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiZcclxuICAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGlmICghYXBwQ29udGV4dC5kZW9wdCAmJiBjb21wLl9fcHJvcHMpIHtcclxuICAgICAgICByZXR1cm4gY29tcC5fX3Byb3BzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzKVxyXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIHJldHVybiAoY29tcC5fX3Byb3BzID0gRU1QVFlfQVJSKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguYCwgcmF3W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyYXcpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChyYXcpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHJhd1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IChub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID1cclxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IG9wdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBib29sZWFuSW5kZXggPiAtMTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcm9wIG5lZWRzIGJvb2xlYW4gY2FzdGluZyBvciBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xlYW5JbmRleCA+IC0xIHx8IGhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKG5vcm1hbGl6ZWRLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoY29tcC5fX3Byb3BzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c10pO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XHJcbiAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLy8gdXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIHR5cGUgY29uc3RydWN0b3JzXHJcbi8vIHNvIHRoYXQgaXQgd29ya3MgYWNyb3NzIHZtcyAvIGlmcmFtZXMuXHJcbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xyXG4gICAgY29uc3QgbWF0Y2ggPSBjdG9yICYmIGN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcclxuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XHJcbn1cclxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XHJcbiAgICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUeXBlSW5kZXgodHlwZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgaWYgKGlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gZXhwZWN0ZWRUeXBlcy5maW5kSW5kZXgodCA9PiBpc1NhbWVUeXBlKHQsIHR5cGUpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBvcHRpb25zID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgaWYgKG9wdCA9PSBudWxsKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB2YWxpZGF0ZVByb3Aoa2V5LCByZXNvbHZlZFZhbHVlc1trZXldLCBvcHQsICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgIWhhc093bihyYXdQcm9wcywgaHlwaGVuYXRlKGtleSkpKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgaXNBYnNlbnQpIHtcclxuICAgIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciB9ID0gcHJvcDtcclxuICAgIC8vIHJlcXVpcmVkIVxyXG4gICAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XHJcbiAgICAgICAgd2FybignTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gbWlzc2luZyBidXQgb3B0aW9uYWxcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gdHlwZSBjaGVja1xyXG4gICAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcclxuICAgICAgICAvLyB2YWx1ZSBpcyB2YWxpZCBhcyBsb25nIGFzIG9uZSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVzIG1hdGNoXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcclxuICAgICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCAnJyk7XHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSB2YWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjdXN0b20gdmFsaWRhdG9yXHJcbiAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnQnKTtcclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBsZXQgdmFsaWQ7XHJcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xyXG4gICAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcclxuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXHJcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcclxuICAgICAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkLFxyXG4gICAgICAgIGV4cGVjdGVkVHlwZVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi5gICtcclxuICAgICAgICBgIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKX1gO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XHJcbiAgICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcclxuICAgIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcclxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxyXG4gICAgICAgICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XHJcbiAgICB9XHJcbiAgICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxyXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWVzc2FnZTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcclxuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1gO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcclxuICAgIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddO1xyXG4gICAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShlbGVtID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xyXG4gICAgcmV0dXJuIGFyZ3Muc29tZShlbGVtID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKTtcclxufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcclxuICAgICAgICAvLyBjYWNoZSB0aGUgZXJyb3IgaGFuZGxpbmcgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWUgaG9va1xyXG4gICAgICAgIC8vIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZWhcIiBzdGFuZHMgZm9yIFwid2l0aCBlcnJvclxyXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXHJcbiAgICAgICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8XHJcbiAgICAgICAgICAgIChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIGhvb2sgZG9lcyBub3Qgc3luY2hyb25vdXNseSB0cmlnZ2VyIG90aGVyIGhvb2tzLCB3aGljaFxyXG4gICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgYmUgZmFsc2Ugd2hlbiB0aGUgdXNlciBkb2VzIHNvbWV0aGluZyByZWFsbHkgZnVua3kuXHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBpZiAocHJlcGVuZCkge1xyXG4gICAgICAgICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd3JhcHBlZEhvb2s7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3NbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgJycpKTtcclxuICAgICAgICB3YXJuKGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYCArXHJcbiAgICAgICAgICAgIGBhc3NvY2lhdGVkIHdpdGguIGAgK1xyXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xyXG4gICAgICAgICAgICAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmBcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcclxuLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1JcclxuIWlzSW5TU1JDb21wb25lbnRTZXR1cCAmJiBpbmplY3RIb29rKGxpZmVjeWNsZSwgaG9vaywgdGFyZ2V0KTtcclxuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiIC8qIEJFRk9SRV9NT1VOVCAqLyk7XHJcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIgLyogTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIgLyogQkVGT1JFX1VQREFURSAqLyk7XHJcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIgLyogVVBEQVRFRCAqLyk7XHJcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXCJidW1cIiAvKiBCRUZPUkVfVU5NT1VOVCAqLyk7XHJcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIgLyogVU5NT1VOVEVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqLyk7XHJcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqLyk7XHJcbmNvbnN0IG9uRXJyb3JDYXB0dXJlZCA9IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcclxuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xyXG59O1xuXG4vLyBTaW1wbGUgZWZmZWN0LlxyXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XHJcbn1cclxuLy8gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMgdG8gdHJpZ2dlciBvbiB1bmRlZmluZWQgaW5pdGlhbCB2YWx1ZXNcclxuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XHJcbiAgICAgICAgd2FybihgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgYCArXHJcbiAgICAgICAgICAgIGBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uVHJhY2ssIG9uVHJpZ2dlciB9ID0gRU1QVFlfT0JKLCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2Fybihgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVlcCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggc291cmNlOiBgLCBzLCBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYCArXHJcbiAgICAgICAgICAgIGBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYCk7XHJcbiAgICB9O1xyXG4gICAgbGV0IGdldHRlcjtcclxuICAgIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9ICEhc291cmNlLl9zaGFsbG93O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlO1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8sIFtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8sIFtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbb25JbnZhbGlkYXRlXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNsZWFudXA7XHJcbiAgICBsZXQgb25JbnZhbGlkYXRlID0gKGZuKSA9PiB7XHJcbiAgICAgICAgY2xlYW51cCA9IHJ1bm5lci5vcHRpb25zLm9uU3RvcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBXQVRDSF9DTEVBTlVQICovKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIGxldCBvbGRWYWx1ZSA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xyXG4gICAgY29uc3Qgam9iID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghcnVubmVyLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyB3YXRjaChzb3VyY2UsIGNiKVxyXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHJ1bm5lcigpO1xyXG4gICAgICAgICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBXQVRDSF9DQUxMQkFDSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHVuZGVmaW5lZCA6IG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW52YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxyXG4gICAgICAgICAgICBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gaW1wb3J0YW50OiBtYXJrIHRoZSBqb2IgYXMgYSB3YXRjaGVyIGNhbGxiYWNrIHNvIHRoYXQgc2NoZWR1bGVyIGtub3dzXHJcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXHJcbiAgICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcclxuICAgIGxldCBzY2hlZHVsZXI7XHJcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9IGpvYjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcclxuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkZWZhdWx0OiAncHJlJ1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCBpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUHJlRmx1c2hDYihqb2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gd2l0aCAncHJlJyBvcHRpb24sIHRoZSBmaXJzdCBjYWxsIG11c3QgaGFwcGVuIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIHNvIGl0IGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5LlxyXG4gICAgICAgICAgICAgICAgam9iKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcnVubmVyID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgIGxhenk6IHRydWUsXHJcbiAgICAgICAgb25UcmFjayxcclxuICAgICAgICBvblRyaWdnZXIsXHJcbiAgICAgICAgc2NoZWR1bGVyXHJcbiAgICB9KTtcclxuICAgIHJlY29yZEluc3RhbmNlQm91bmRFZmZlY3QocnVubmVyLCBpbnN0YW5jZSk7XHJcbiAgICAvLyBpbml0aWFsIHJ1blxyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChydW5uZXIsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJ1bm5lcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBzdG9wKHJ1bm5lcik7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZShpbnN0YW5jZS5lZmZlY3RzLCBydW5uZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLy8gdGhpcy4kd2F0Y2hcclxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcclxuICAgIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSlcclxuICAgICAgICA/ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXVxyXG4gICAgICAgIDogc291cmNlLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICByZXR1cm4gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMsIHRoaXMpO1xyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuID0gbmV3IFNldCgpKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBzZWVuLmhhcyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZWVuLmFkZCh2YWx1ZSk7XHJcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcclxuICAgICAgICBsZWF2aW5nVk5vZGVzOiBuZXcgTWFwKClcclxuICAgIH07XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XHJcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcclxuICAgIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIG1vZGU6IFN0cmluZyxcclxuICAgICAgICBhcHBlYXI6IEJvb2xlYW4sXHJcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxyXG4gICAgICAgIC8vIGVudGVyXHJcbiAgICAgICAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBsZWF2ZVxyXG4gICAgICAgIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgLy8gYXBwZWFyXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xyXG4gICAgICAgIGxldCBwcmV2VHJhbnNpdGlvbktleTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHNcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB0cmFjayByZWFjdGl2aXR5IGZvciB0aGVzZSBwcm9wcyBzbyB1c2UgdGhlIHJhd1xyXG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcclxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RlICYmICFbJ2luLW91dCcsICdvdXQtaW4nLCAnZGVmYXVsdCddLmluY2x1ZGVzKG1vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBjaGlsZHJlbiBoYXMgYSBndWFyYW50ZWVkIGxlbmd0aCBvZiAxLlxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgPHRyYW5zaXRpb24+PGtlZXAtYWxpdmUvPjwvdHJhbnNpdGlvbj4sIHdlIG5lZWQgdG9cclxuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZSBvZiB0aGUga2VwdC1hbGl2ZSBjaGlsZHJlbi5cclxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xyXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbktleUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChnZXRUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRUcmFuc2l0aW9uS2V5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgbW9kZVxyXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxyXG4gICAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmXHJcbiAgICAgICAgICAgICAgICAoIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSB8fCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb2xkIHRyZWUncyBob29rcyBpbiBjYXNlIG9mIGR5bmFtaWMgdHJhbnNpdGlvblxyXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgYmV0d2VlbiBkaWZmZXJlbnQgdmlld3NcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XHJcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XHJcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xyXG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xyXG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xyXG59XHJcbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxyXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcclxuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcclxuICAgICAgICBob29rICYmXHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIFRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaG9va3MgPSB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBwZXJzaXN0ZWQsXHJcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcclxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxyXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcclxuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgICAgICBob29rKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XHJcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChvbkxlYXZlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9uZSh2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBob29rcztcclxufVxyXG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcclxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxyXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXHJcbi8vIHVubW91bnRlZC5cclxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xyXG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xyXG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxyXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSkge1xyXG4gICAgbGV0IHJldCA9IFtdO1xyXG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKVxyXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XHJcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXHJcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xyXG4gICAgICAgICAgICByZXQucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzExMjYgaWYgYSB0cmFuc2l0aW9uIGNoaWxkcmVuIGxpc3QgY29udGFpbnMgbXVsdGlwbGUgc3ViIGZyYWdtZW50cywgdGhlc2VcclxuICAgIC8vIGZyYWdtZW50cyB3aWxsIGJlIG1lcmdlZCBpbnRvIGEgZmxhdCBjaGlsZHJlbiBhcnJheS4gU2luY2UgZWFjaCB2LWZvclxyXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtb3BcclxuICAgIC8vIHRoZXNlIGNoaWxkcmVuIHRvIGZvcmNlIGZ1bGwgZGlmZnMgdG8gZW5zdXJlIGNvcnJlY3QgYmVoYXZpb3IuXHJcbiAgICBpZiAoa2V5ZWRGcmFnbWVudENvdW50ID4gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMiAvKiBCQUlMICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcclxuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcclxuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxyXG4gICAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cclxuICAgIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XHJcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXHJcbiAgICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXHJcbiAgICAgICAgLy8gY3R4IHdoZXJlIHRoZSByZW5kZXJlciBwYXNzZXMgaW4gaXRzIGludGVybmFscyxcclxuICAgICAgICAvLyBhbmQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBleHBvc2VzIGFjdGl2YXRlL2RlYWN0aXZhdGUgaW1wbGVtZW50YXRpb25zLlxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXHJcbiAgICAgICAgLy8gcmVuZGVyZXIgdG8gZmFjaWxpdGF0ZSB0cmVlLXNoYWtpbmcuXHJcbiAgICAgICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcclxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxyXG4gICAgICAgIC8vIGZvciBLZWVwQWxpdmUsIHdlIGp1c3QgbmVlZCB0byByZW5kZXIgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xyXG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXI6IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiBfdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSB9ID0gc2hhcmVkQ29udGV4dDtcclxuICAgICAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIEVOVEVSICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIC8vIGluIGNhc2UgcHJvcHMgaGF2ZSBjaGFuZ2VkXHJcbiAgICAgICAgICAgIHBhdGNoKGluc3RhbmNlLnZub2RlLCB2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHZub2RlLnNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxIC8qIExFQVZFICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5kYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXHJcbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXHJcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICB7IGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSk7XHJcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxyXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcclxuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wKTtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xyXG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxyXG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxyXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcclxuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxyXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcclxuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcclxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIEFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcclxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXHJcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cclxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxyXG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xyXG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XHJcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcclxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cclxuICAgIC8vIGFycmF5cy5cclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xyXG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXHJcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxyXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcclxuICAgIGxldCBzaGFwZUZsYWcgPSB2bm9kZS5zaGFwZUZsYWc7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgPSBzaGFwZUZsYWc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xyXG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09ICdfJyB8fCBrZXkgPT09ICckc3RhYmxlJztcclxuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKVxyXG4gICAgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpXHJcbiAgICA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xyXG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICB3YXJuKGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IGAgK1xyXG4gICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG59LCBjdHgpO1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMpID0+IHtcclxuICAgIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xyXG4gICAgICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkpIHtcclxuICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gYCArXHJcbiAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xyXG4gICAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XHJcbn07XHJcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcclxuICAgIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnNsb3RzID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIC8vIG1ha2UgY29tcGlsZXIgbWFya2VyIG5vbi1lbnVtZXJhYmxlXHJcbiAgICAgICAgICAgIGRlZihjaGlsZHJlbiwgJ18nLCB0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCAoaW5zdGFuY2Uuc2xvdHMgPSB7fSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLnNsb3RzID0ge307XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZWYoaW5zdGFuY2Uuc2xvdHMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxufTtcclxuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcclxuICAgIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XHJcbiAgICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gY29tcGlsZWQgc2xvdHMuXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyZW50IHdhcyBITVIgdXBkYXRlZCBzbyBzbG90IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHVwZGF0ZSBzbG90cyBhbmQgbWFyayBpbnN0YW5jZSBmb3IgaG1yIGFzIHdlbGxcclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxIC8qIFNUQUJMRSAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgQU5EIHN0YWJsZS5cclxuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlLCBhbmQgc2tpcCBzdGFsZSBzbG90cyByZW1vdmFsLlxyXG4gICAgICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIGJ1dCBkeW5hbWljICh2LWlmL3YtZm9yIG9uIHNsb3RzKSAtIHVwZGF0ZSBzbG90cywgYnV0IHNraXBcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIC8vICMyODkzXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlbmRlcmluZyB0aGUgb3B0aW1pemVkIHNsb3RzIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBkZWxldGUgdGhlIGBzbG90cy5fYCBmbGFnIGlmIG5lY2Vzc2FyeSB0byBtYWtlIHN1YnNlcXVlbnQgdXBkYXRlcyByZWxpYWJsZSxcclxuICAgICAgICAgICAgICAgIC8vIGkuZS4gbGV0IHRoZSBgcmVuZGVyU2xvdGAgY3JlYXRlIHRoZSBiYWlsZWQgRnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNsb3RzLl87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAvLyBub24gc2xvdCBvYmplY3QgY2hpbGRyZW4gKGRpcmVjdCB2YWx1ZSkgcGFzc2VkIHRvIGEgY29tcG9uZW50XHJcbiAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIHN0YWxlIHNsb3RzXHJcbiAgICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xyXG4gICAgICAgICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiAhKGtleSBpbiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcblxuLyoqXHJcblJ1bnRpbWUgaGVscGVyIGZvciBhcHBseWluZyBkaXJlY3RpdmVzIHRvIGEgdm5vZGUuIEV4YW1wbGUgdXNhZ2U6XHJcblxuY29uc3QgY29tcCA9IHJlc29sdmVDb21wb25lbnQoJ2NvbXAnKVxyXG5jb25zdCBmb28gPSByZXNvbHZlRGlyZWN0aXZlKCdmb28nKVxyXG5jb25zdCBiYXIgPSByZXNvbHZlRGlyZWN0aXZlKCdiYXInKVxyXG5cbnJldHVybiB3aXRoRGlyZWN0aXZlcyhoKGNvbXApLCBbXHJcbiAgW2ZvbywgdGhpcy54XSxcclxuICBbYmFyLCB0aGlzLnldXHJcbl0pXHJcbiovXHJcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcclxuICAgIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcclxuICAgICAgICB3YXJuKCdEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBZGRzIGRpcmVjdGl2ZXMgdG8gYSBWTm9kZS5cclxuICovXHJcbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XHJcbiAgICBjb25zdCBpbnRlcm5hbEluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgaWYgKGludGVybmFsSW5zdGFuY2UgPT09IG51bGwpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGludGVybmFsSW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xyXG4gICAgICAgICAgICBkaXIgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGVkOiBkaXIsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkOiBkaXJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmluZGluZ3MucHVzaCh7XHJcbiAgICAgICAgICAgIGRpcixcclxuICAgICAgICAgICAgaW5zdGFuY2UsXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxyXG4gICAgICAgICAgICBhcmcsXHJcbiAgICAgICAgICAgIG1vZGlmaWVyc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcclxuICAgIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcclxuICAgICAgICBpZiAob2xkQmluZGluZ3MpIHtcclxuICAgICAgICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcHA6IG51bGwsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgIGlzTmF0aXZlVGFnOiBOTyxcclxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcclxuICAgICAgICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcclxuICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50OiBOTyxcclxuICAgICAgICAgICAgZXJyb3JIYW5kbGVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHdhcm5IYW5kbGVyOiB1bmRlZmluZWRcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1peGluczogW10sXHJcbiAgICAgICAgY29tcG9uZW50czoge30sXHJcbiAgICAgICAgZGlyZWN0aXZlczoge30sXHJcbiAgICAgICAgcHJvdmlkZXM6IE9iamVjdC5jcmVhdGUobnVsbClcclxuICAgIH07XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybihgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XHJcbiAgICAgICAgICAgIHJvb3RQcm9wcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYXBwID0gKGNvbnRleHQuYXBwID0ge1xyXG4gICAgICAgICAgICBfdWlkOiB1aWQrKyxcclxuICAgICAgICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcclxuICAgICAgICAgICAgX3Byb3BzOiByb290UHJvcHMsXHJcbiAgICAgICAgICAgIF9jb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdsb2JhbCBtaXhpbiB3aXRoIHByb3BzL2VtaXRzIGRlLW9wdGltaXplcyBwcm9wcy9lbWl0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uIGNhY2hpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbi5wcm9wcyB8fCBtaXhpbi5lbWl0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZW9wdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogJycpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBpc1NWRykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYXBwIGNvbnRleHQgb24gdGhlIHJvb3QgVk5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHNldCBvbiB0aGUgcm9vdCBpbnN0YW5jZSBvbiBpbml0aWFsIG1vdW50LlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIoY2xvbmVWTm9kZSh2bm9kZSksIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bm1vdW50KCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGRvZXNuJ3QgYWxsb3cgc3ltYm9scyBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI0NTg3XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgfTtcclxufVxuXG5sZXQgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiAvc3ZnLy50ZXN0KGNvbnRhaW5lci5uYW1lc3BhY2VVUkkpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSAnZm9yZWlnbk9iamVjdCc7XHJcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4IC8qIENPTU1FTlQgKi87XHJcbi8vIE5vdGU6IGh5ZHJhdGlvbiBpcyBET00tc3BlY2lmaWNcclxuLy8gQnV0IHdlIGhhdmUgdG8gcGxhY2UgaXQgaW4gY29yZSBkdWUgdG8gdGlnaHQgY291cGxpbmcgd2l0aCBjb3JlIC0gc3BsaXR0aW5nXHJcbi8vIGl0IG91dCBjcmVhdGVzIGEgdG9uIG9mIHVubmVjZXNzYXJ5IGNvbXBsZXhpdHkuXHJcbi8vIEh5ZHJhdGlvbiBhbHNvIGRlcGVuZHMgb24gc29tZSByZW5kZXJlciBpbnRlcm5hbCBsb2dpYyB3aGljaCBuZWVkcyB0byBiZVxyXG4vLyBwYXNzZWQgaW4gdmlhIGFyZ3VtZW50cy5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICBjb25zdCB7IG10OiBtb3VudENvbXBvbmVudCwgcDogcGF0Y2gsIG86IHsgcGF0Y2hQcm9wLCBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcmVtb3ZlLCBpbnNlcnQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCBoeWRyYXRlID0gKHZub2RlLCBjb250YWluZXIpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gYCArXHJcbiAgICAgICAgICAgICAgICBgUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYCk7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhc01pc21hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcclxuICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xyXG4gICAgICAgIGlmIChoYXNNaXNtYXRjaCAmJiAhZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBlcnJvciBzaG91bGQgc2hvdyB1cCBpbiBwcm9kdWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snO1xyXG4gICAgICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50U3RhcnQpO1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGNvbnN0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xyXG4gICAgICAgIHZub2RlLmVsID0gbm9kZTtcclxuICAgICAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBURVhUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhICE9PSB2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2g6YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gQ2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG5vZGUuZGF0YSl9YCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gU2VydmVyOiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgYW5jaG9yLCBhZG9wdCBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdGF0aWMgdm5vZGUgaGFzIGl0cyBjb250ZW50IHN0cmlwcGVkIGR1cmluZyBidWlsZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZG9wdCBpdCBmcm9tIHRoZSBzZXJ2ZXItcmVuZGVyZWQgSFRNTC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZFRvQWRvcHRDb250ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUudHlwZS50b0xvd2VyQ2FzZSgpICE9PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHNldHRpbmcgdXAgdGhlIHJlbmRlciBlZmZlY3QsIGlmIHRoZSBpbml0aWFsIHZub2RlIGFscmVhZHlcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgLmVsIHNldCwgdGhlIGNvbXBvbmVudCB3aWxsIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBpdHMgc3ViLXRyZWUuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHlkcmF0ZUNvbXBvbmVudCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQodm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jIGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRBc3luYyA9IHZub2RlLnR5cGUuX19hc3luY0xvYWRlcjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9hZEFzeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRBc3luYygpLnRoZW4oaHlkcmF0ZUNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlQ29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgYmUgYXN5bmMsIHNvIGluIHRoZSBjYXNlIG9mIGZyYWdtZW50cyB3ZSBjYW5ub3QgcmVseVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGNvbXBvbmVudCdzIHJlbmRlcmVkIG91dHB1dCB0byBkZXRlcm1pbmUgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkLCB3ZSBkbyBhIGxvb2thaGVhZCB0byBmaW5kIHRoZSBlbmQgYW5jaG9yIG5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBpc0ZyYWdtZW50U3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKHBhcmVudE5vZGUobm9kZSkpLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgSG9zdFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzIH0gPSB2bm9kZTtcclxuICAgICAgICAvLyBza2lwIHByb3BzICYgY2hpbGRyZW4gaWYgdGhpcyBpcyBob2lzdGVkIHN0YXRpYyBub2Rlc1xyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgIT09IC0xIC8qIEhPSVNURUQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmIGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgY2xpY2sgbGlzdGVuZXJzICh3aGljaCBpcyBtb3N0IG9mdGVuKSB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIHByb3BzLlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwgJ29uQ2xpY2snLCBudWxsLCBwcm9wcy5vbkNsaWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2bm9kZSAvIGRpcmVjdGl2ZSBob29rc1xyXG4gICAgICAgICAgICBsZXQgdm5vZGVIb29rcztcclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY2hpbGRyZW5cclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovICYmXHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICAhKHByb3BzICYmIChwcm9wcy5pbm5lckhUTUwgfHwgcHJvcHMudGV4dENvbnRlbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oZWwuZmlyc3RDaGlsZCwgdm5vZGUsIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgbW9yZSBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgU1NSZWQgRE9NIGNvbnRhaW5zIG1vcmUgbm9kZXMgdGhhbiBpdCBzaG91bGQuIFJlbW92ZSB0aGVtLlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIENsaWVudDogJHtlbC50ZXh0Q29udGVudH1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIFNlcnZlcjogJHt2bm9kZS5jaGlsZHJlbn1gKTtcclxuICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbC5uZXh0U2libGluZztcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlbltpXVxyXG4gICAgICAgICAgICAgICAgOiAoY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xyXG4gICAgICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzV2FybmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke2NvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgU1NSZWQgRE9NIGRpZG4ndCBjb250YWluIGVub3VnaCBub2Rlcy4gTW91bnQgdGhlIG1pc3Npbmcgb25lcy5cclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xyXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxyXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZygodm5vZGUuYW5jaG9yID0gbmV4dCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgZGlkbid0IGh5ZHJhdGUgc3VjY2Vzc2Z1bGx5LCBzaW5jZSB3ZSBkaWRuJ3QgZ2V0IGEgZW5kIGFuY2hvclxyXG4gICAgICAgICAgICAvLyBiYWNrLiBUaGlzIHNob3VsZCBoYXZlIGxlZCB0byBub2RlL2NoaWxkcmVuIG1pc21hdGNoIHdhcm5pbmdzLlxyXG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBhbmNob3IgaXMgbWlzc2luZywgd2UgbmVlZCB0byBjcmVhdGUgb25lIGFuZCBpbnNlcnQgaXRcclxuICAgICAgICAgICAgaW5zZXJ0KCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCkpLCBjb250YWluZXIsIG5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xyXG4gICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XFxuLSBDbGllbnQgdm5vZGU6YCwgdm5vZGUudHlwZSwgYFxcbi0gU2VydmVyIHJlbmRlcmVkIERPTTpgLCBub2RlLCBub2RlLm5vZGVUeXBlID09PSAzIC8qIFRFWFQgKi9cclxuICAgICAgICAgICAgICAgID8gYCh0ZXh0KWBcclxuICAgICAgICAgICAgICAgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWBcclxuICAgICAgICAgICAgICAgICAgICA6IGBgKTtcclxuICAgICAgICB2bm9kZS5lbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4Y2Vzc2l2ZSBmcmFnbWVudCBub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUobmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICByZW1vdmUobm9kZSk7XHJcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbmV4dCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgIH07XHJcbiAgICBjb25zdCBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3IgPSAobm9kZSkgPT4ge1xyXG4gICAgICAgIGxldCBtYXRjaCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICdbJylcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xyXG59XG5cbmxldCBzdXBwb3J0ZWQ7XHJcbmxldCBwZXJmO1xyXG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XHJcbiAgICAgICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XHJcbiAgICAgICAgcGVyZi5tYXJrKGVuZFRhZyk7XHJcbiAgICAgICAgcGVyZi5tZWFzdXJlKGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcclxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cclxuICpcclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGAgK1xyXG4gICAgICAgICAgICBgY29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBleHBsaWNpdGx5IHJlcGxhY2UgZmVhdHVyZSBmbGFnIGdsb2JhbHMgYCArXHJcbiAgICAgICAgICAgIGB3aXRoIGJvb2xlYW4gbGl0ZXJhbHMgdG8gZ2V0IHByb3BlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGZpbmFsIGJ1bmRsZS4gYCArXHJcbiAgICAgICAgICAgIGBTZWUgaHR0cDovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MgZm9yIG1vcmUgZGV0YWlscy5gKTtcclxuICAgIH1cclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xyXG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XHJcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCwgZGVsYXkgPSAyMDAsIHRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgc3VzcGVuc2libGUgPSB0cnVlLCBvbkVycm9yOiB1c2VyT25FcnJvciB9ID0gc291cmNlO1xyXG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgIGxldCByZXNvbHZlZENvbXA7XHJcbiAgICBsZXQgcmV0cmllcyA9IDA7XHJcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcclxuICAgICAgICByZXRyaWVzKys7XHJcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBsb2FkKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XHJcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxyXG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyT25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGNvbXApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb21wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgICAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxyXG4gICAgICAgIG5hbWU6ICdBc3luY0NvbXBvbmVudFdyYXBwZXInLFxyXG4gICAgICAgIHNldHVwKCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgICAgICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZFxyXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovLCAhZXJyb3JDb21wb25lbnQgLyogZG8gbm90IHRocm93IGluIGRldiBpZiB1c2VyIHByb3ZpZGVkIGVycm9yIGNvbXBvbmVudCAqLyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHN1c3BlbnNlLWNvbnRyb2xsZWQgb3IgU1NSLlxyXG4gICAgICAgICAgICBpZiAoKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZhbHNlICkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb21wID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCB7IHZub2RlOiB7IHJlZiwgcHJvcHMsIGNoaWxkcmVuIH0gfSkge1xyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgLy8gZW5zdXJlIGlubmVyIGNvbXBvbmVudCBpbmhlcml0cyB0aGUgYXN5bmMgd3JhcHBlcidzIHJlZiBvd25lclxyXG4gICAgdm5vZGUucmVmID0gcmVmO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XG5cbmNvbnN0IHByb2RFZmZlY3RPcHRpb25zID0ge1xyXG4gICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgIC8vICMxODAxLCAjMjA0MyBjb21wb25lbnQgcmVuZGVyIGVmZmVjdHMgc2hvdWxkIGFsbG93IHJlY3Vyc2l2ZSB1cGRhdGVzXHJcbiAgICBhbGxvd1JlY3Vyc2U6IHRydWVcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzY2hlZHVsZXI6IHF1ZXVlSm9iLFxyXG4gICAgICAgIGFsbG93UmVjdXJzZTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrOiBpbnN0YW5jZS5ydGMgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDAsXHJcbiAgICAgICAgb25UcmlnZ2VyOiBpbnN0YW5jZS5ydGcgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDBcclxuICAgIH07XHJcbn1cclxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2VcclxuICAgIDtcclxuY29uc3Qgc2V0UmVmID0gKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpID0+IHtcclxuICAgIGlmIChpc0FycmF5KHJhd1JlZikpIHtcclxuICAgICAgICByYXdSZWYuZm9yRWFjaCgociwgaSkgPT4gc2V0UmVmKHIsIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSwgcGFyZW50U3VzcGVuc2UsIHZub2RlKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHZhbHVlO1xyXG4gICAgaWYgKCF2bm9kZSkge1xyXG4gICAgICAgIC8vIG1lYW5zIHVubW91bnRcclxuICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkpIHtcclxuICAgICAgICAvLyB3aGVuIG1vdW50aW5nIGFzeW5jIGNvbXBvbmVudHMsIG5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZSxcclxuICAgICAgICAvLyBiZWNhdXNlIHRoZSB0ZW1wbGF0ZSByZWYgaXMgZm9yd2FyZGVkIHRvIGlubmVyIGNvbXBvbmVudFxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2bm9kZS5jb21wb25lbnQuZXhwb3NlZCB8fCB2bm9kZS5jb21wb25lbnQucHJveHk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHZub2RlLmVsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xyXG4gICAgICAgIHdhcm4oYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXHJcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XHJcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xyXG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XHJcbiAgICAvLyB1bnNldCBvbGQgcmVmXHJcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xyXG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xyXG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyAjMTc4OTogZm9yIG5vbi1udWxsIHZhbHVlcywgc2V0IHRoZW0gYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgLy8gbnVsbCB2YWx1ZXMgbWVhbnMgdGhpcyBpcyB1bm1vdW50IGFuZCBpdCBzaG91bGQgbm90IG92ZXJ3cml0ZSBhbm90aGVyXHJcbiAgICAgICAgLy8gcmVmIHdpdGggdGhlIHNhbWUga2V5XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvU2V0LmlkID0gLTE7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9TZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlZihyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvU2V0LmlkID0gLTE7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9TZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIgLyogRlVOQ1RJT05fUkVGICovLCBbdmFsdWUsIHJlZnNdKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgdmFsdWUsIGAoJHt0eXBlb2YgdmFsdWV9KWApO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVGhlIGNyZWF0ZVJlbmRlcmVyIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGdlbmVyaWMgYXJndW1lbnRzOlxyXG4gKiBIb3N0Tm9kZSBhbmQgSG9zdEVsZW1lbnQsIGNvcnJlc3BvbmRpbmcgdG8gTm9kZSBhbmQgRWxlbWVudCB0eXBlcyBpbiB0aGVcclxuICogaG9zdCBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGZvciBydW50aW1lLWRvbSwgSG9zdE5vZGUgd291bGQgYmUgdGhlIERPTVxyXG4gKiBgTm9kZWAgaW50ZXJmYWNlIGFuZCBIb3N0RWxlbWVudCB3b3VsZCBiZSB0aGUgRE9NIGBFbGVtZW50YCBpbnRlcmZhY2UuXHJcbiAqXHJcbiAqIEN1c3RvbSByZW5kZXJlcnMgY2FuIHBhc3MgaW4gdGhlIHBsYXRmb3JtIHNwZWNpZmljIHR5cGVzIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIGNvbnN0IHsgcmVuZGVyLCBjcmVhdGVBcHAgfSA9IGNyZWF0ZVJlbmRlcmVyPE5vZGUsIEVsZW1lbnQ+KHtcclxuICogICBwYXRjaFByb3AsXHJcbiAqICAgLi4ubm9kZU9wc1xyXG4gKiB9KVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XHJcbn1cclxuLy8gU2VwYXJhdGUgQVBJIGZvciBjcmVhdGluZyBoeWRyYXRpb24tZW5hYmxlZCByZW5kZXJlci5cclxuLy8gSHlkcmF0aW9uIGxvZ2ljIGlzIG9ubHkgdXNlZCB3aGVuIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgbWFraW5nIGl0XHJcbi8vIHRyZWUtc2hha2FibGUuXHJcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XHJcbiAgICAvLyBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyBjaGVja1xyXG4gICAge1xyXG4gICAgICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xyXG4gICAgICAgIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcclxuICAgICAgICBzZXREZXZ0b29sc0hvb2sodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBpbnNlcnQ6IGhvc3RJbnNlcnQsIHJlbW92ZTogaG9zdFJlbW92ZSwgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLCBmb3JjZVBhdGNoUHJvcDogaG9zdEZvcmNlUGF0Y2hQcm9wLCBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCwgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LCBzZXRUZXh0OiBob3N0U2V0VGV4dCwgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCwgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCwgY2xvbmVOb2RlOiBob3N0Q2xvbmVOb2RlLCBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudCB9ID0gb3B0aW9ucztcclxuICAgIC8vIE5vdGU6IGZ1bmN0aW9ucyBpbnNpZGUgdGhpcyBjbG9zdXJlIHNob3VsZCB1c2UgYGNvbnN0IHh4eCA9ICgpID0+IHt9YFxyXG4gICAgLy8gc3R5bGUgaW4gb3JkZXIgdG8gcHJldmVudCBiZWluZyBpbmxpbmVkIGJ5IG1pbmlmaWVycy5cclxuICAgIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIGlzU1ZHID0gZmFsc2UsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgLy8gcGF0Y2hpbmcgJiBub3Qgc2FtZSB0eXBlLCB1bm1vdW50IG9sZCB0cmVlXHJcbiAgICAgICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xyXG4gICAgICAgICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgbjEgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMiAvKiBCQUlMICovKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBUZXh0OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCByZWZcclxuICAgICAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxyXG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcclxuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxyXG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxyXG4gICAgICAgICAgICBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XHJcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCwgc2xvdFNjb3BlSWRzLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XHJcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxyXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXHJcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi87XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcclxuICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIEZyYWdtZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgdGhlIGFjdHVhbCBwYXJlbnRcclxuICAgICAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgIG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBub2RlcywgdGhlcmUgaXMgZ29pbmcgdG8gYmUgYSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHxcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQsIGl0IGNvdWxkIGNvbnRhaW4gYW55dGhpbmcuXHJcbiAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi9cclxuICAgICAgICAgICAgICAgID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpXHJcbiAgICAgICAgICAgICAgICA6IC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lcjtcclxuICAgICAgICAgICAgcGF0Y2gob2xkVk5vZGUsIG5ld1ZOb2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCB2bm9kZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgdmFsaWQgcHJvcFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAoaG9zdEZvcmNlUGF0Y2hQcm9wICYmIGhvc3RGb3JjZVBhdGNoUHJvcChlbCwga2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgIShrZXkgaW4gbmV3UHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgb2xkUHJvcHNba2V5XSwgbnVsbCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IChuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIHNsb3QgZnJhZ21lbnQgd2l0aCA6c2xvdHRlZCBzY29wZSBpZHNcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgLy8gYSBmcmFnbWVudCBjYW4gb25seSBoYXZlIGFycmF5IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIGVpdGhlciBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLCBvciBpbXBsaWNpdGx5IGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gZnJvbSBhcnJheXMuXHJcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4objIuY2hpbGRyZW4sIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovICYmXHJcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gJiZcclxuICAgICAgICAgICAgICAgIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgLy8gYSBzdGFibGUgZnJhZ21lbnQgKHRlbXBsYXRlIHJvb3Qgb3IgPHRlbXBsYXRlIHYtZm9yPikgZG9lc24ndCBuZWVkIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBjaGlsZHJlbiBvcmRlciwgYnV0IGl0IG1heSBjb250YWluIGR5bmFtaWNDaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgIC8vICMyMDgwIGlmIHRoZSBzdGFibGUgZnJhZ21lbnQgaGFzIGEga2V5LCBpdCdzIGEgPHRlbXBsYXRlIHYtZm9yPiB0aGF0IG1heVxyXG4gICAgICAgICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cclxuICAgICAgICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNvbXBvbmVudCBpcyBiZWluZyBtb3ZlZC5cclxuICAgICAgICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUgLyogc2hhbGxvdyAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBrZXllZCAvIHVua2V5ZWQsIG9yIG1hbnVhbCBmcmFnbWVudHMuXHJcbiAgICAgICAgICAgICAgICAvLyBmb3Iga2V5ZWQgJiB1bmtleWVkLCBzaW5jZSB0aGV5IGFyZSBjb21waWxlciBnZW5lcmF0ZWQgZnJvbSB2LWZvcixcclxuICAgICAgICAgICAgICAgIC8vIGVhY2ggY2hpbGQgaXMgZ3VhcmFudGVlZCB0byBiZSBhIGJsb2NrIHNvIHRoZSBmcmFnbWVudCB3aWxsIG5ldmVyXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGR5bmFtaWNDaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoaW5pdGlhbFZOb2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmplY3QgcmVuZGVyZXIgaW50ZXJuYWxzIGZvciBrZWVwQWxpdmVcclxuICAgICAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5jdHgucmVuZGVyZXIgPSBpbnRlcm5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlc29sdmUgcHJvcHMgYW5kIHNsb3RzIGZvciBzZXR1cCBjb250ZXh0XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldHVwKCkgaXMgYXN5bmMuIFRoaXMgY29tcG9uZW50IHJlbGllcyBvbiBhc3luYyBsb2dpYyB0byBiZSByZXNvbHZlZFxyXG4gICAgICAgIC8vIGJlZm9yZSBwcm9jZWVkaW5nXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCk7XHJcbiAgICAgICAgICAgIC8vIEdpdmUgaXQgYSBwbGFjZWhvbGRlciBpZiB0aGlzIGlzIG5vdCBoeWRyYXRpb25cclxuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgc2VsZi1kZWZpbmVkIGZhbGxiYWNrXHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XHJcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0IHJ1bm5lci5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0KGZ1bmN0aW9uIGNvbXBvbmVudEVmZmVjdCgpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChibSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJUcmVlID0gKGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGhhcyBhZG9wdGVkIGhvc3Qgbm9kZSAtIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnQuXHJcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZU5vZGUoaW5pdGlhbFZOb2RlLmVsLCBzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFjdGl2YXRlZCBob29rIGZvciBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgICAgICAgICAgICAgLy8gIzE3NDIgYWN0aXZhdGVkIGhvb2sgbXVzdCBiZSBhY2Nlc3NlZCBhZnRlciBmaXJzdCByZW5kZXJcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBob29rIG1heSBiZSBpbmplY3RlZCBieSBhIGNoaWxkIGtlZXAtYWxpdmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGEsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gIzI0NTg6IGRlZmVyZW5jZSBtb3VudC1vbmx5IG9iamVjdCBwYXJhbWV0ZXJzIHRvIHByZXZlbnQgbWVtbGVha3NcclxuICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVDb21wb25lbnRcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdHJpZ2dlcmVkIGJ5IG11dGF0aW9uIG9mIGNvbXBvbmVudCdzIG93biBzdGF0ZSAobmV4dDogbnVsbClcclxuICAgICAgICAgICAgICAgIC8vIE9SIHBhcmVudCBjYWxsaW5nIHByb2Nlc3NDb21wb25lbnQgKG5leHQ6IFZOb2RlKVxyXG4gICAgICAgICAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVVcGRhdGUgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZVVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoKHByZXZUcmVlLCBuZXh0VHJlZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcclxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSwgXHJcbiAgICAgICAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcclxuICAgICAgICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLXRyaWdnZXJlZCB1cGRhdGUuIEluIGNhc2Ugb2YgSE9DLCB1cGRhdGUgcGFyZW50IGNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGVsLiBIT0MgaXMgaW5kaWNhdGVkIGJ5IHBhcmVudCBpbnN0YW5jZSdzIHN1YlRyZWUgcG9pbnRpbmdcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGlsZCBjb21wb25lbnQncyB2bm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAodSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlVXBkYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEZXZFZmZlY3RPcHRpb25zKGluc3RhbmNlKSA6IHByb2RFZmZlY3RPcHRpb25zKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xyXG4gICAgICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xyXG4gICAgICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcclxuICAgICAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAvLyBwcm9wcyB1cGRhdGUgbWF5IGhhdmUgdHJpZ2dlcmVkIHByZS1mbHVzaCB3YXRjaGVycy5cclxuICAgICAgICAvLyBmbHVzaCB0aGVtIGJlZm9yZSB0aGUgcmVuZGVyIHVwZGF0ZS5cclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHVuZGVmaW5lZCwgaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcclxuICAgICAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aFxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgYmUgZWl0aGVyIGZ1bGx5LWtleWVkIG9yIG1peGVkIChzb21lIGtleWVkIHNvbWUgbm90KVxyXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgcGF0Y2hGbGFnIG1lYW5zIGNoaWxkcmVuIGFyZSBndWFyYW50ZWVkIHRvIGJlIGFycmF5c1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIHVua2V5ZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hpbGRyZW4gaGFzIDMgcG9zc2liaWxpdGllczogdGV4dCwgYXJyYXkgb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogVEVYVF9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAvLyB0ZXh0IGNoaWxkcmVuIGZhc3QgcGF0aFxyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjMiAhPT0gYzEpIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBhcnJheXMsIGNhbm5vdCBhc3N1bWUgYW55dGhpbmcsIGRvIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IGNoaWxkcmVuLCBqdXN0IHVubW91bnQgb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIHRleHQgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gbmV3IGNoaWxkcmVuIGlzIGFycmF5IE9SIG51bGxcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3IGlmIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcclxuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xyXG4gICAgICAgICAgICBwYXRjaChjMVtpXSwgbmV4dENoaWxkLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZFxyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsIGZhbHNlLCBjb21tb25MZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbW91bnQgbmV3XHJcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGNhbiBiZSBhbGwta2V5ZWQgb3IgbWl4ZWRcclxuICAgIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTsgLy8gcHJldiBlbmRpbmcgaW5kZXhcclxuICAgICAgICBsZXQgZTIgPSBsMiAtIDE7IC8vIG5leHQgZW5kaW5nIGluZGV4XHJcbiAgICAgICAgLy8gMS4gc3luYyBmcm9tIHN0YXJ0XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpIGQgZVxyXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtpXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDIuIHN5bmMgZnJvbSBlbmRcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gZCBlIChiIGMpXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2UxXTtcclxuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbZTJdID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKSk7XHJcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlMS0tO1xyXG4gICAgICAgICAgICBlMi0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAzLiBjb21tb24gc2VxdWVuY2UgKyBtb3VudFxyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDEsIGUyID0gMlxyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gYyAoYSBiKVxyXG4gICAgICAgIC8vIGkgPSAwLCBlMSA9IC0xLCBlMiA9IDBcclxuICAgICAgICBpZiAoaSA+IGUxKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSksIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA0LiBjb21tb24gc2VxdWVuY2UgKyB1bm1vdW50XHJcbiAgICAgICAgLy8gKGEgYikgY1xyXG4gICAgICAgIC8vIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMiwgZTIgPSAxXHJcbiAgICAgICAgLy8gYSAoYiBjKVxyXG4gICAgICAgIC8vIChiIGMpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gMCwgZTIgPSAtMVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPiBlMikge1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBlMSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gNS4gdW5rbm93biBzZXF1ZW5jZVxyXG4gICAgICAgIC8vIFtpIC4uLiBlMSArIDFdOiBhIGIgW2MgZCBlXSBmIGdcclxuICAgICAgICAvLyBbaSAuLi4gZTIgKyAxXTogYSBiIFtlIGQgYyBoXSBmIGdcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSA0LCBlMiA9IDVcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgczEgPSBpOyAvLyBwcmV2IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIGNvbnN0IHMyID0gaTsgLy8gbmV4dCBzdGFydGluZyBpbmRleFxyXG4gICAgICAgICAgICAvLyA1LjEgYnVpbGQga2V5OmluZGV4IG1hcCBmb3IgbmV3Q2hpbGRyZW5cclxuICAgICAgICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLCBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNS4yIGxvb3AgdGhyb3VnaCBvbGQgY2hpbGRyZW4gbGVmdCB0byBiZSBwYXRjaGVkIGFuZCB0cnkgdG8gcGF0Y2hcclxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgbm9kZXMgJiByZW1vdmUgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnRcclxuICAgICAgICAgICAgbGV0IGo7XHJcbiAgICAgICAgICAgIGxldCBwYXRjaGVkID0gMDtcclxuICAgICAgICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcclxuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnkgbm9kZSBoYXMgbW92ZWRcclxuICAgICAgICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xyXG4gICAgICAgICAgICAvLyB3b3JrcyBhcyBNYXA8bmV3SW5kZXgsIG9sZEluZGV4PlxyXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgb2xkSW5kZXggaXMgb2Zmc2V0IGJ5ICsxXHJcbiAgICAgICAgICAgIC8vIGFuZCBvbGRJbmRleCA9IDAgaXMgYSBzcGVjaWFsIHZhbHVlIGluZGljYXRpbmcgdGhlIG5ldyBub2RlIGhhc1xyXG4gICAgICAgICAgICAvLyBubyBjb3JyZXNwb25kaW5nIG9sZCBub2RlLlxyXG4gICAgICAgICAgICAvLyB1c2VkIGZvciBkZXRlcm1pbmluZyBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKylcclxuICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbmV3IGNoaWxkcmVuIGhhdmUgYmVlbiBwYXRjaGVkIHNvIHRoaXMgY2FuIG9ubHkgYmUgYSByZW1vdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBrZXktbGVzcyBub2RlLCB0cnkgdG8gbG9jYXRlIGEga2V5LWxlc3Mgbm9kZSBvZiB0aGUgc2FtZSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gocHJldkNoaWxkLCBjMltuZXdJbmRleF0sIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gNS4zIG1vdmUgYW5kIG1vdW50XHJcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlIG9ubHkgd2hlbiBub2RlcyBoYXZlIG1vdmVkXHJcbiAgICAgICAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWRcclxuICAgICAgICAgICAgICAgID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKVxyXG4gICAgICAgICAgICAgICAgOiBFTVBUWV9BUlI7XHJcbiAgICAgICAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAvLyBsb29waW5nIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiB1c2UgbGFzdCBwYXRjaGVkIG5vZGUgYXMgYW5jaG9yXHJcbiAgICAgICAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGlmOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHN0YWJsZSBzdWJzZXF1ZW5jZSAoZS5nLiBhIHJldmVyc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgY3VycmVudCBub2RlIGlzIG5vdCBhbW9uZyB0aGUgc3RhYmxlIHNlcXVlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMiAvKiBSRU9SREVSICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcclxuICAgICAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pIHtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xyXG4gICAgICAgICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNpbmdsZSBub2Rlc1xyXG4gICAgICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uID0gbW92ZVR5cGUgIT09IDIgLyogUkVPUkRFUiAqLyAmJlxyXG4gICAgICAgICAgICBzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiZcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjtcclxuICAgICAgICBpZiAobmVlZFRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG1vdmVUeXBlID09PSAwIC8qIEVOVEVSICovKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHJlZiwgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHVuc2V0IHJlZlxyXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiBkaXJzO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcclxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xyXG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cclxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxyXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcclxuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xyXG4gICAgY29uc3QgcCA9IGFyci5zbGljZSgpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gWzBdO1xyXG4gICAgbGV0IGksIGosIHUsIHYsIGM7XHJcbiAgICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSAhPT0gMCkge1xyXG4gICAgICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1ID0gMDtcclxuICAgICAgICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xyXG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gJycpO1xyXG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xyXG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XHJcbiAgICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XHJcbiAgICAgICAgaWYgKCFzZWxlY3QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcclxuICAgIF9faXNUZWxlcG9ydDogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcclxuICAgICAgICBjb25zdCB7IG1jOiBtb3VudENoaWxkcmVuLCBwYzogcGF0Y2hDaGlsZHJlbiwgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH0gfSA9IGludGVybmFscztcclxuICAgICAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XHJcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSBuMjtcclxuICAgICAgICAvLyAjMzMwMlxyXG4gICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIGluc2VydCBhbmNob3JzIGluIHRoZSBtYWluIHZpZXdcclxuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAobjIuZWwgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgc3RhcnQnKVxyXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IGVuZCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAvLyAjMjY1MiB3ZSBjb3VsZCBiZSB0ZWxlcG9ydGluZyBmcm9tIGEgbm9uLVNWRyB0cmVlIGludG8gYW4gU1ZHIHRyZWVcclxuICAgICAgICAgICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgKmFsd2F5cyogaGFzIEFycmF5IGNoaWxkcmVuLiBUaGlzIGlzIGVuZm9yY2VkIGluIGJvdGggdGhlXHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlciBhbmQgdm5vZGUgY2hpbGRyZW4gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb250ZW50XHJcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gbjEuYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IG4xLnRhcmdldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBuMS50YXJnZXRBbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcclxuICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAobjIuZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggd2hlbiB0aGUgdGVsZXBvcnQgaGFwcGVucyB0byBiZSBhIGJsb2NrIHJvb3RcclxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIG4yLmR5bmFtaWNDaGlsZHJlbiwgY3VycmVudENvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBldmVuIGluIGJsb2NrIHRyZWUgbW9kZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBhbGwgcm9vdC1sZXZlbCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIHRlbGVwb3J0IGluaGVyaXQgcHJldmlvdXMgRE9NIHJlZmVyZW5jZXMgc28gdGhhdCB0aGV5IGNhblxyXG4gICAgICAgICAgICAgICAgLy8gYmUgbW92ZWQgaW4gZnV0dXJlIHBhdGNoZXMuXHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGN1cnJlbnRDb250YWluZXIsIGN1cnJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkIC0+IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIG1haW4gY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBjb250YWluZXIsIG1haW5BbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBuZXh0VGFyZ2V0LCBudWxsLCBpbnRlcm5hbHMsIDAgLyogVEFSR0VUX0NIQU5HRSAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlZCAtPiBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIHRlbGVwb3J0IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgdGFyZ2V0LCB0YXJnZXRBbmNob3IsIGludGVybmFscywgMSAvKiBUT0dHTEUgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XHJcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBhbmNob3IsIHRhcmdldEFuY2hvciwgdGFyZ2V0LCBwcm9wcyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKHRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFuIHVubW91bnRlZCB0ZWxlcG9ydCBzaG91bGQgYWx3YXlzIHJlbW92ZSBpdHMgY2hpbGRyZW4gaWYgbm90IGRpc2FibGVkXHJcbiAgICAgICAgaWYgKGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcclxufTtcclxuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBSRU9SREVSICovKSB7XHJcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXHJcbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVEFSR0VUX0NIQU5HRSAqLykge1xyXG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogUkVPUkRFUiAqLztcclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxyXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcclxuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxyXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XHJcbn1cclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XHJcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IGZvciBjb21wb25lbnRzIHdpdGggbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHxcclxuICAgICAgICAgICAgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpO1xyXG4gICAgICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xyXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0byBpbXBsaWNpdCBzZWxmLXJlZmVyZW5jZVxyXG4gICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcclxuICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBgICtcclxuICAgICAgICAgICAgYGNhbiBvbmx5IGJlIHVzZWQgaW4gcmVuZGVyKCkgb3Igc2V0dXAoKS5gKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XHJcbiAgICByZXR1cm4gKHJlZ2lzdHJ5ICYmXHJcbiAgICAgICAgKHJlZ2lzdHJ5W25hbWVdIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhbWVsaXplKG5hbWUpXSB8fFxyXG4gICAgICAgICAgICByZWdpc3RyeVtjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKV0pKTtcclxufVxuXG5jb25zdCBGcmFnbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnRnJhZ21lbnQnIDogdW5kZWZpbmVkKTtcclxuY29uc3QgVGV4dCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnVGV4dCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBDb21tZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdDb21tZW50JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnU3RhdGljJyA6IHVuZGVmaW5lZCk7XHJcbi8vIFNpbmNlIHYtaWYgYW5kIHYtZm9yIGFyZSB0aGUgdHdvIHBvc3NpYmxlIHdheXMgbm9kZSBzdHJ1Y3R1cmUgY2FuIGR5bmFtaWNhbGx5XHJcbi8vIGNoYW5nZSwgb25jZSB3ZSBjb25zaWRlciB2LWlmIGJyYW5jaGVzIGFuZCBlYWNoIHYtZm9yIGZyYWdtZW50IGEgYmxvY2ssIHdlXHJcbi8vIGNhbiBkaXZpZGUgYSB0ZW1wbGF0ZSBpbnRvIG5lc3RlZCBibG9ja3MsIGFuZCB3aXRoaW4gZWFjaCBibG9jayB0aGUgbm9kZVxyXG4vLyBzdHJ1Y3R1cmUgd291bGQgYmUgc3RhYmxlLiBUaGlzIGFsbG93cyB1cyB0byBza2lwIG1vc3QgY2hpbGRyZW4gZGlmZmluZ1xyXG4vLyBhbmQgb25seSB3b3JyeSBhYm91dCB0aGUgZHluYW1pYyBub2RlcyAoaW5kaWNhdGVkIGJ5IHBhdGNoIGZsYWdzKS5cclxuY29uc3QgYmxvY2tTdGFjayA9IFtdO1xyXG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcclxuLyoqXHJcbiAqIE9wZW4gYSBibG9jay5cclxuICogVGhpcyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYC4gSXQgY2Fubm90IGJlIHBhcnQgb2YgYGNyZWF0ZUJsb2NrYFxyXG4gKiBiZWNhdXNlIHRoZSBjaGlsZHJlbiBvZiB0aGUgYmxvY2sgYXJlIGV2YWx1YXRlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYCBpdHNlbGZcclxuICogaXMgY2FsbGVkLiBUaGUgZ2VuZXJhdGVkIGNvZGUgdHlwaWNhbGx5IGxvb2tzIGxpa2UgdGhpczpcclxuICpcclxuICogYGBganNcclxuICogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gKiAgIHJldHVybiAob3BlbkJsb2NrKCksY3JlYXRlQmxvY2soJ2RpdicsIG51bGwsIFsuLi5dKSlcclxuICogfVxyXG4gKiBgYGBcclxuICogZGlzYWJsZVRyYWNraW5nIGlzIHRydWUgd2hlbiBjcmVhdGluZyBhIHYtZm9yIGZyYWdtZW50IGJsb2NrLCBzaW5jZSBhIHYtZm9yXHJcbiAqIGZyYWdtZW50IGFsd2F5cyBkaWZmcyBpdHMgY2hpbGRyZW4uXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBvcGVuQmxvY2soZGlzYWJsZVRyYWNraW5nID0gZmFsc2UpIHtcclxuICAgIGJsb2NrU3RhY2sucHVzaCgoY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKSk7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcclxuICAgIGJsb2NrU3RhY2sucG9wKCk7XHJcbiAgICBjdXJyZW50QmxvY2sgPSBibG9ja1N0YWNrW2Jsb2NrU3RhY2subGVuZ3RoIC0gMV0gfHwgbnVsbDtcclxufVxyXG4vLyBXaGV0aGVyIHdlIHNob3VsZCBiZSB0cmFja2luZyBkeW5hbWljIGNoaWxkIG5vZGVzIGluc2lkZSBhIGJsb2NrLlxyXG4vLyBPbmx5IHRyYWNrcyB3aGVuIHRoaXMgdmFsdWUgaXMgPiAwXHJcbi8vIFdlIGFyZSBub3QgdXNpbmcgYSBzaW1wbGUgYm9vbGVhbiBiZWNhdXNlIHRoaXMgdmFsdWUgbWF5IG5lZWQgdG8gYmVcclxuLy8gaW5jcmVtZW50ZWQvZGVjcmVtZW50ZWQgYnkgbmVzdGVkIHVzYWdlIG9mIHYtb25jZSAoc2VlIGJlbG93KVxyXG5sZXQgc2hvdWxkVHJhY2sgPSAxO1xyXG4vKipcclxuICogQmxvY2sgdHJhY2tpbmcgc29tZXRpbWVzIG5lZWRzIHRvIGJlIGRpc2FibGVkLCBmb3IgZXhhbXBsZSBkdXJpbmcgdGhlXHJcbiAqIGNyZWF0aW9uIG9mIGEgdHJlZSB0aGF0IG5lZWRzIHRvIGJlIGNhY2hlZCBieSB2LW9uY2UuIFRoZSBjb21waWxlciBnZW5lcmF0ZXNcclxuICogY29kZSBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYCBqc1xyXG4gKiBfY2FjaGVbMV0gfHwgKFxyXG4gKiAgIHNldEJsb2NrVHJhY2tpbmcoLTEpLFxyXG4gKiAgIF9jYWNoZVsxXSA9IGNyZWF0ZVZOb2RlKC4uLiksXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygxKSxcclxuICogICBfY2FjaGVbMV1cclxuICogKVxyXG4gKiBgYGBcclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUpIHtcclxuICAgIHNob3VsZFRyYWNrICs9IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cclxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcclxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKTtcclxuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcclxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlI7XHJcbiAgICAvLyBjbG9zZSBibG9ja1xyXG4gICAgY2xvc2VCbG9jaygpO1xyXG4gICAgLy8gYSBibG9jayBpcyBhbHdheXMgZ29pbmcgdG8gYmUgcGF0Y2hlZCwgc28gdHJhY2sgaXQgYXMgYSBjaGlsZCBvZiBpdHNcclxuICAgIC8vIHBhcmVudCBibG9ja1xyXG4gICAgaWYgKHNob3VsZFRyYWNrID4gMCAmJiBjdXJyZW50QmxvY2spIHtcclxuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlID8gdmFsdWUuX192X2lzVk5vZGUgPT09IHRydWUgOiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgbjIuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gJiZcclxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG4yLnR5cGUpKSB7XHJcbiAgICAgICAgLy8gSE1SIG9ubHk6IGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaG90LXVwZGF0ZWQsIGZvcmNlIGEgcmVsb2FkLlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xyXG59XHJcbmxldCB2bm9kZUFyZ3NUcmFuc2Zvcm1lcjtcclxuLyoqXHJcbiAqIEludGVybmFsIEFQSSBmb3IgcmVnaXN0ZXJpbmcgYW4gYXJndW1lbnRzIHRyYW5zZm9ybSBmb3IgY3JlYXRlVk5vZGVcclxuICogdXNlZCBmb3IgY3JlYXRpbmcgc3R1YnMgaW4gdGhlIHRlc3QtdXRpbHNcclxuICogSXQgaXMgKmludGVybmFsKiBidXQgbmVlZHMgdG8gYmUgZXhwb3NlZCBmb3IgdGVzdC11dGlscyB0byBwaWNrIHVwIHByb3BlclxyXG4gKiB0eXBpbmdzXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcclxuICAgIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XHJcbn1cclxuY29uc3QgY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICByZXR1cm4gX2NyZWF0ZVZOb2RlKC4uLih2bm9kZUFyZ3NUcmFuc2Zvcm1lclxyXG4gICAgICAgID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKVxyXG4gICAgICAgIDogYXJncykpO1xyXG59O1xyXG5jb25zdCBJbnRlcm5hbE9iamVjdEtleSA9IGBfX3ZJbnRlcm5hbGA7XHJcbmNvbnN0IG5vcm1hbGl6ZUtleSA9ICh7IGtleSB9KSA9PiBrZXkgIT0gbnVsbCA/IGtleSA6IG51bGw7XHJcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7IHJlZiB9KSA9PiB7XHJcbiAgICByZXR1cm4gKHJlZiAhPSBudWxsXHJcbiAgICAgICAgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpXHJcbiAgICAgICAgICAgID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiB9XHJcbiAgICAgICAgICAgIDogcmVmXHJcbiAgICAgICAgOiBudWxsKTtcclxufTtcclxuY29uc3QgY3JlYXRlVk5vZGUgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm1cclxuICAgIDogX2NyZWF0ZVZOb2RlKTtcclxuZnVuY3Rpb24gX2NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBpc0Jsb2NrTm9kZSA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXR5cGUpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVk5vZGUodHlwZSkpIHtcclxuICAgICAgICAvLyBjcmVhdGVWTm9kZSByZWNlaXZpbmcgYW4gZXhpc3Rpbmcgdm5vZGUuIFRoaXMgaGFwcGVucyBpbiBjYXNlcyBsaWtlXHJcbiAgICAgICAgLy8gPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiLz5cclxuICAgICAgICAvLyAjMjA3OCBtYWtlIHN1cmUgdG8gbWVyZ2UgcmVmcyBkdXJpbmcgdGhlIGNsb25lIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcclxuICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHR5cGUsIHByb3BzLCB0cnVlIC8qIG1lcmdlUmVmOiB0cnVlICovKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZWQ7XHJcbiAgICB9XHJcbiAgICAvLyBjbGFzcyBjb21wb25lbnQgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChpc0NsYXNzQ29tcG9uZW50KHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZSA9IHR5cGUuX192Y2NPcHRzO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgJiBzdHlsZSBub3JtYWxpemF0aW9uLlxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgLy8gZm9yIHJlYWN0aXZlIG9yIHByb3h5IG9iamVjdHMsIHdlIG5lZWQgdG8gY2xvbmUgaXQgdG8gZW5hYmxlIG11dGF0aW9uLlxyXG4gICAgICAgIGlmIChpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IGV4dGVuZCh7fSwgcHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcclxuICAgICAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xyXG4gICAgICAgICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xyXG4gICAgICAgICAgICAvLyByZWFjdGl2ZSBzdGF0ZSBvYmplY3RzIG5lZWQgdG8gYmUgY2xvbmVkIHNpbmNlIHRoZXkgYXJlIGxpa2VseSB0byBiZVxyXG4gICAgICAgICAgICAvLyBtdXRhdGVkXHJcbiAgICAgICAgICAgIGlmIChpc1Byb3h5KHN0eWxlKSAmJiAhaXNBcnJheShzdHlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5jb2RlIHRoZSB2bm9kZSB0eXBlIGluZm9ybWF0aW9uIGludG8gYSBiaXRtYXBcclxuICAgIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpXHJcbiAgICAgICAgPyAxIC8qIEVMRU1FTlQgKi9cclxuICAgICAgICA6IGlzU3VzcGVuc2UodHlwZSlcclxuICAgICAgICAgICAgPyAxMjggLyogU1VTUEVOU0UgKi9cclxuICAgICAgICAgICAgOiBpc1RlbGVwb3J0KHR5cGUpXHJcbiAgICAgICAgICAgICAgICA/IDY0IC8qIFRFTEVQT1JUICovXHJcbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KHR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbih0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDIgLyogRlVOQ1RJT05BTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJiBpc1Byb3h5KHR5cGUpKSB7XHJcbiAgICAgICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xyXG4gICAgICAgIHdhcm4oYFZ1ZSByZWNlaXZlZCBhIENvbXBvbmVudCB3aGljaCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gYCArXHJcbiAgICAgICAgICAgIGBsZWFkIHRvIHVubmVjZXNzYXJ5IHBlcmZvcm1hbmNlIG92ZXJoZWFkLCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgYCArXHJcbiAgICAgICAgICAgIGBtYXJraW5nIHRoZSBjb21wb25lbnQgd2l0aCBcXGBtYXJrUmF3XFxgIG9yIHVzaW5nIFxcYHNoYWxsb3dSZWZcXGAgYCArXHJcbiAgICAgICAgICAgIGBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLCBgXFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgdm5vZGUgPSB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgW1wiX192X3NraXBcIiAvKiBTS0lQICovXTogdHJ1ZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHByb3BzLFxyXG4gICAgICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcclxuICAgICAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXHJcbiAgICAgICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXHJcbiAgICAgICAgc2xvdFNjb3BlSWRzOiBudWxsLFxyXG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGNvbXBvbmVudDogbnVsbCxcclxuICAgICAgICBzdXNwZW5zZTogbnVsbCxcclxuICAgICAgICBzc0NvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgc3NGYWxsYmFjazogbnVsbCxcclxuICAgICAgICBkaXJzOiBudWxsLFxyXG4gICAgICAgIHRyYW5zaXRpb246IG51bGwsXHJcbiAgICAgICAgZWw6IG51bGwsXHJcbiAgICAgICAgYW5jaG9yOiBudWxsLFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IG51bGwsXHJcbiAgICAgICAgc3RhdGljQ291bnQ6IDAsXHJcbiAgICAgICAgc2hhcGVGbGFnLFxyXG4gICAgICAgIHBhdGNoRmxhZyxcclxuICAgICAgICBkeW5hbWljUHJvcHMsXHJcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IG51bGxcclxuICAgIH07XHJcbiAgICAvLyB2YWxpZGF0ZSBrZXlcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcclxuICAgICAgICB3YXJuKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XHJcbiAgICB9XHJcbiAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xyXG4gICAgLy8gbm9ybWFsaXplIHN1c3BlbnNlIGNoaWxkcmVuXHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50LCBmYWxsYmFjayB9ID0gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50ID0gY29udGVudDtcclxuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrID0gZmFsbGJhY2s7XHJcbiAgICB9XHJcbiAgICBpZiAoc2hvdWxkVHJhY2sgPiAwICYmXHJcbiAgICAgICAgLy8gYXZvaWQgYSBibG9jayBub2RlIGZyb20gdHJhY2tpbmcgaXRzZWxmXHJcbiAgICAgICAgIWlzQmxvY2tOb2RlICYmXHJcbiAgICAgICAgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXHJcbiAgICAgICAgY3VycmVudEJsb2NrICYmXHJcbiAgICAgICAgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cclxuICAgICAgICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcclxuICAgICAgICAvLyBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIHVwZGF0ZSwgaXQgbmVlZHMgdG8gcGVyc2lzdCB0aGUgaW5zdGFuY2Ugb24gdG9cclxuICAgICAgICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXHJcbiAgICAgICAgKHBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXHJcbiAgICAgICAgLy8gdm5vZGUgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGR5bmFtaWMgZHVlIHRvIGhhbmRsZXIgY2FjaGluZy5cclxuICAgICAgICBwYXRjaEZsYWcgIT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIGNsb25lVk5vZGUodm5vZGUsIGV4dHJhUHJvcHMsIG1lcmdlUmVmID0gZmFsc2UpIHtcclxuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBOT1QgdXNpbmcgc3ByZWFkIG9yIGV4dGVuZCB0byBhdm9pZCB0aGUgcnVudGltZVxyXG4gICAgLy8ga2V5IGVudW1lcmF0aW9uIGNvc3QuXHJcbiAgICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgW1wiX192X3NraXBcIiAvKiBTS0lQICovXTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiB2bm9kZS50eXBlLFxyXG4gICAgICAgIHByb3BzOiBtZXJnZWRQcm9wcyxcclxuICAgICAgICBrZXk6IG1lcmdlZFByb3BzICYmIG5vcm1hbGl6ZUtleShtZXJnZWRQcm9wcyksXHJcbiAgICAgICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmXHJcbiAgICAgICAgICAgID8gLy8gIzIwNzggaW4gdGhlIGNhc2Ugb2YgPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiIHJlZj1cImV4dHJhXCIvPlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZub2RlIGl0c2VsZiBhbHJlYWR5IGhhcyBhIHJlZiwgY2xvbmVWTm9kZSB3aWxsIG5lZWQgdG8gbWVyZ2VcclxuICAgICAgICAgICAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXHJcbiAgICAgICAgICAgICAgICBtZXJnZVJlZiAmJiByZWZcclxuICAgICAgICAgICAgICAgICAgICA/IGlzQXJyYXkocmVmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV1cclxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxyXG4gICAgICAgICAgICA6IHJlZixcclxuICAgICAgICBzY29wZUlkOiB2bm9kZS5zY29wZUlkLFxyXG4gICAgICAgIHNsb3RTY29wZUlkczogdm5vZGUuc2xvdFNjb3BlSWRzLFxyXG4gICAgICAgIGNoaWxkcmVuOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGF0Y2hGbGFnID09PSAtMSAvKiBIT0lTVEVEICovICYmIGlzQXJyYXkoY2hpbGRyZW4pXHJcbiAgICAgICAgICAgID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKVxyXG4gICAgICAgICAgICA6IGNoaWxkcmVuLFxyXG4gICAgICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogdm5vZGUudGFyZ2V0QW5jaG9yLFxyXG4gICAgICAgIHN0YXRpY0NvdW50OiB2bm9kZS5zdGF0aWNDb3VudCxcclxuICAgICAgICBzaGFwZUZsYWc6IHZub2RlLnNoYXBlRmxhZyxcclxuICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIHdpdGggZXh0cmEgcHJvcHMsIHdlIGNhbiBubyBsb25nZXIgYXNzdW1lIGl0c1xyXG4gICAgICAgIC8vIGV4aXN0aW5nIHBhdGNoIGZsYWcgdG8gYmUgcmVsaWFibGUgYW5kIG5lZWQgdG8gYWRkIHRoZSBGVUxMX1BST1BTIGZsYWcuXHJcbiAgICAgICAgLy8gbm90ZTogcGVyc2VydmUgZmxhZyBmb3IgZnJhZ21lbnRzIHNpbmNlIHRoZXkgdXNlIHRoZSBmbGFnIGZvciBjaGlsZHJlblxyXG4gICAgICAgIC8vIGZhc3QgcGF0aHMgb25seS5cclxuICAgICAgICBwYXRjaEZsYWc6IGV4dHJhUHJvcHMgJiYgdm5vZGUudHlwZSAhPT0gRnJhZ21lbnRcclxuICAgICAgICAgICAgPyBwYXRjaEZsYWcgPT09IC0xIC8vIGhvaXN0ZWQgbm9kZVxyXG4gICAgICAgICAgICAgICAgPyAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgICAgICA6IHBhdGNoRmxhZyB8IDE2IC8qIEZVTExfUFJPUFMgKi9cclxuICAgICAgICAgICAgOiBwYXRjaEZsYWcsXHJcbiAgICAgICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXHJcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXHJcbiAgICAgICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcclxuICAgICAgICBkaXJzOiB2bm9kZS5kaXJzLFxyXG4gICAgICAgIHRyYW5zaXRpb246IHZub2RlLnRyYW5zaXRpb24sXHJcbiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXHJcbiAgICAgICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XHJcbiAgICAgICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xyXG4gICAgICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXHJcbiAgICAgICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXHJcbiAgICAgICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxyXG4gICAgICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcclxuICAgICAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXHJcbiAgICAgICAgZWw6IHZub2RlLmVsLFxyXG4gICAgICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBEZXYgb25seSwgZm9yIEhNUiBvZiBob2lzdGVkIHZub2RlcyByZXVzZWQgaW4gdi1mb3JcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL2lzc3Vlcy8yMDIyXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xyXG4gICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNsb25lZDtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gJyAnLCBmbGFnID0gMCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xyXG4gICAgLy8gQSBzdGF0aWMgdm5vZGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgc3RyaW5naWZpZWQgZWxlbWVudHMsIGFuZCB0aGUgbnVtYmVyXHJcbiAgICAvLyBvZiBlbGVtZW50cyBpcyBuZWNlc3NhcnkgZm9yIGh5ZHJhdGlvbi5cclxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcclxuICAgIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gJycsIFxyXG4vLyB3aGVuIHVzZWQgYXMgdGhlIHYtZWxzZSBicmFuY2gsIHRoZSBjb21tZW50IG5vZGUgbXVzdCBiZSBjcmVhdGVkIGFzIGFcclxuLy8gYmxvY2sgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcy5cclxuYXNCbG9jayA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gYXNCbG9ja1xyXG4gICAgICAgID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSlcclxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcclxuICAgICAgICAvLyBmcmFnbWVudFxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShGcmFnbWVudCwgbnVsbCwgY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIGFscmVhZHkgdm5vZGUsIHRoaXMgc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiBzaW5jZSBjb21waWxlZCB0ZW1wbGF0ZXNcclxuICAgICAgICAvLyBhbHdheXMgcHJvZHVjZSBhbGwtdm5vZGUgY2hpbGRyZW4gYXJyYXlzXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnNcclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XHJcbiAgICB9XHJcbn1cclxuLy8gb3B0aW1pemVkIG5vcm1hbGl6YXRpb24gZm9yIHRlbXBsYXRlLWNvbXBpbGVkIHJlbmRlciBmbnNcclxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcclxuICAgIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XHJcbiAgICBsZXQgdHlwZSA9IDA7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHwgc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHNsb3QgdG8gcGxhaW4gY2hpbGRyZW4gZm9yIHBsYWluIGVsZW1lbnQgYW5kIFRlbGVwb3J0XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAoc2xvdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gX2MgbWFya2VyIGlzIGFkZGVkIGJ5IHdpdGhDdHgoKSBpbmRpY2F0aW5nIHRoaXMgaXMgYSBjb21waWxlZCBzbG90XHJcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIHNldENvbXBpbGVkU2xvdFJlbmRlcmluZygxKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcoLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uudm5vZGUucGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDIgLyogRFlOQU1JQyAqLztcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDEgLyogU1RBQkxFICovO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xyXG4gICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcclxuICAgICAgICAvLyBmb3JjZSB0ZWxlcG9ydCBjaGlsZHJlbiB0byBhcnJheSBzbyBpdCBjYW4gYmUgbW92ZWQgYXJvdW5kXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0eXBlID0gOCAvKiBURVhUX0NISUxEUkVOICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHJldCA9IGV4dGVuZCh7fSwgYXJnc1swXSk7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcgIT09IGluY29taW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgdG9NZXJnZVtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY29taW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XHJcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XHJcbiAgICAgICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcclxuICAgICAgICAvLyBvd24gcHJvdmlkZXMgb2JqZWN0IHVzaW5nIHBhcmVudCBwcm92aWRlcyBvYmplY3QgYXMgcHJvdG90eXBlLlxyXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XHJcbiAgICAgICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cclxuICAgICAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xyXG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cclxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vICMyNDAwXHJcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcclxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW50YW5jZSBpcyBhdCByb290XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbFxyXG4gICAgICAgICAgICA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlc1xyXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZSgpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlLCBvcHRpb25zLCBkZWZlcnJlZERhdGEgPSBbXSwgZGVmZXJyZWRXYXRjaCA9IFtdLCBkZWZlcnJlZFByb3ZpZGUgPSBbXSwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgLy8gY29tcG9zaXRpb25cclxuICAgIG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMsIFxyXG4gICAgLy8gc3RhdGVcclxuICAgIGRhdGE6IGRhdGFPcHRpb25zLCBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLCBtZXRob2RzLCB3YXRjaDogd2F0Y2hPcHRpb25zLCBwcm92aWRlOiBwcm92aWRlT3B0aW9ucywgaW5qZWN0OiBpbmplY3RPcHRpb25zLCBcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgXHJcbiAgICAvLyBsaWZlY3ljbGVcclxuICAgIGJlZm9yZU1vdW50LCBtb3VudGVkLCBiZWZvcmVVcGRhdGUsIHVwZGF0ZWQsIGFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQsIGJlZm9yZURlc3Ryb3ksIGJlZm9yZVVubW91bnQsIGRlc3Ryb3llZCwgdW5tb3VudGVkLCByZW5kZXIsIHJlbmRlclRyYWNrZWQsIHJlbmRlclRyaWdnZXJlZCwgZXJyb3JDYXB0dXJlZCwgXHJcbiAgICAvLyBwdWJsaWMgQVBJXHJcbiAgICBleHBvc2UgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XHJcbiAgICBjb25zdCBnbG9iYWxNaXhpbnMgPSBpbnN0YW5jZS5hcHBDb250ZXh0Lm1peGlucztcclxuICAgIGlmIChhc01peGluICYmIHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseU9wdGlvbnMgaXMgY2FsbGVkIG5vbi1hcy1taXhpbiBvbmNlIHBlciBpbnN0YW5jZVxyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICBjYWxsU3luY0hvb2soJ2JlZm9yZUNyZWF0ZScsIFwiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKTtcclxuICAgICAgICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgLy8gZ2xvYmFsIG1peGlucyBhcmUgYXBwbGllZCBmaXJzdFxyXG4gICAgICAgIGFwcGx5TWl4aW5zKGluc3RhbmNlLCBnbG9iYWxNaXhpbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlKTtcclxuICAgIH1cclxuICAgIC8vIGV4dGVuZGluZyBhIGJhc2UgY29tcG9uZW50Li4uXHJcbiAgICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIGV4dGVuZHNPcHRpb25zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyBsb2NhbCBtaXhpbnNcclxuICAgIGlmIChtaXhpbnMpIHtcclxuICAgICAgICBhcHBseU1peGlucyhpbnN0YW5jZSwgbWl4aW5zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gb3B0aW9ucyBpbml0aWFsaXphdGlvbiBvcmRlciAodG8gYmUgY29uc2lzdGVudCB3aXRoIFZ1ZSAyKTpcclxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXHJcbiAgICAvLyAtIGluamVjdFxyXG4gICAgLy8gLSBtZXRob2RzXHJcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxyXG4gICAgLy8gLSBjb21wdXRlZFxyXG4gICAgLy8gLSB3YXRjaCAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5qZWN0T3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gaW5qZWN0T3B0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1ldGhvZHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lIG1ldGhvZHMgdG8gdGhlIHByb3h5IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aG9zZSBhcmUgcmVhZC1vbmx5IGJ1dCByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgIGlmIChkZWZlcnJlZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkRGF0YS5mb3JFYWNoKGRhdGFGbiA9PiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIGRhdGFPcHRpb25zIGlzIG5vdCBmdWxseSB0eXBlIHNhZmVcclxuICAgICAgICAgICAgcmVzb2x2ZURhdGEoaW5zdGFuY2UsIGRhdGFPcHRpb25zLCBwdWJsaWNUaGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zdCByYXdEYXRhID0gdG9SYXcoaW5zdGFuY2UuZGF0YSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgLy8gZXhwb3NlIGRhdGEgb24gY3R4IGR1cmluZyBkZXZcclxuICAgICAgICAgICAgICAgIGlmIChrZXlbMF0gIT09ICckJyAmJiBrZXlbMF0gIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcmF3RGF0YVtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRhdGFPcHRpb25zKSB7XHJcbiAgICAgICAgZGVmZXJyZWREYXRhLnB1c2goZGF0YU9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihvcHQpXHJcbiAgICAgICAgICAgICAgICA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24ob3B0LmdldClcclxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBnZXQgPT09IE5PT1ApIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYENvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaGFzIG5vIGdldHRlci5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldClcclxuICAgICAgICAgICAgICAgID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XHJcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCh7XHJcbiAgICAgICAgICAgICAgICBnZXQsXHJcbiAgICAgICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNldDogdiA9PiAoYy52YWx1ZSA9IHYpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgIGRlZmVycmVkV2F0Y2gucHVzaCh3YXRjaE9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhc01peGluICYmIGRlZmVycmVkV2F0Y2gubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVmZXJyZWRXYXRjaC5mb3JFYWNoKHdhdGNoT3B0aW9ucyA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlV2F0Y2hlcih3YXRjaE9wdGlvbnNba2V5XSwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcclxuICAgICAgICBkZWZlcnJlZFByb3ZpZGUucHVzaChwcm92aWRlT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFzTWl4aW4gJiYgZGVmZXJyZWRQcm92aWRlLmxlbmd0aCkge1xyXG4gICAgICAgIGRlZmVycmVkUHJvdmlkZS5mb3JFYWNoKHByb3ZpZGVPcHRpb25zID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IHByb3ZpZGVPcHRpb25zO1xyXG4gICAgICAgICAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBhc3NldCBvcHRpb25zLlxyXG4gICAgLy8gVG8gcmVkdWNlIG1lbW9yeSB1c2FnZSwgb25seSBjb21wb25lbnRzIHdpdGggbWl4aW5zIG9yIGV4dGVuZHMgd2lsbCBoYXZlXHJcbiAgICAvLyByZXNvbHZlZCBhc3NldCByZWdpc3RyeSBhdHRhY2hlZCB0byBpbnN0YW5jZS5cclxuICAgIGlmIChhc01peGluKSB7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIChpbnN0YW5jZS5jb21wb25lbnRzID0gZXh0ZW5kKHt9LCBpbnN0YW5jZS50eXBlLmNvbXBvbmVudHMpKSwgY29tcG9uZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChpbnN0YW5jZS5kaXJlY3RpdmVzIHx8XHJcbiAgICAgICAgICAgICAgICAoaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGV4dGVuZCh7fSwgaW5zdGFuY2UudHlwZS5kaXJlY3RpdmVzKSksIGRpcmVjdGl2ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGxpZmVjeWNsZSBvcHRpb25zXHJcbiAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICBjYWxsU3luY0hvb2soJ2NyZWF0ZWQnLCBcImNcIiAvKiBDUkVBVEVEICovLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKTtcclxuICAgIH1cclxuICAgIGlmIChiZWZvcmVNb3VudCkge1xyXG4gICAgICAgIG9uQmVmb3JlTW91bnQoYmVmb3JlTW91bnQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAobW91bnRlZCkge1xyXG4gICAgICAgIG9uTW91bnRlZChtb3VudGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZVVwZGF0ZSkge1xyXG4gICAgICAgIG9uQmVmb3JlVXBkYXRlKGJlZm9yZVVwZGF0ZS5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICh1cGRhdGVkKSB7XHJcbiAgICAgICAgb25VcGRhdGVkKHVwZGF0ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgb25BY3RpdmF0ZWQoYWN0aXZhdGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgb25EZWFjdGl2YXRlZChkZWFjdGl2YXRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChlcnJvckNhcHR1cmVkKSB7XHJcbiAgICAgICAgb25FcnJvckNhcHR1cmVkKGVycm9yQ2FwdHVyZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVuZGVyVHJhY2tlZCkge1xyXG4gICAgICAgIG9uUmVuZGVyVHJhY2tlZChyZW5kZXJUcmFja2VkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlbmRlclRyaWdnZXJlZCkge1xyXG4gICAgICAgIG9uUmVuZGVyVHJpZ2dlcmVkKHJlbmRlclRyaWdnZXJlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYmVmb3JlRGVzdHJveSkge1xyXG4gICAgICAgIHdhcm4oYFxcYGJlZm9yZURlc3Ryb3lcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGBiZWZvcmVVbm1vdW50XFxgLmApO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZVVubW91bnQpIHtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoYmVmb3JlVW5tb3VudC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZGVzdHJveWVkKSB7XHJcbiAgICAgICAgd2FybihgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmApO1xyXG4gICAgfVxyXG4gICAgaWYgKHVubW91bnRlZCkge1xyXG4gICAgICAgIG9uVW5tb3VudGVkKHVubW91bnRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcclxuICAgICAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICAgICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKHt9KSk7XHJcbiAgICAgICAgICAgICAgICBleHBvc2UuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cG9zZWRba2V5XSA9IHRvUmVmKHB1YmxpY1RoaXMsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IEVNUFRZX09CSjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgVGhlIFxcYGV4cG9zZVxcYCBvcHRpb24gaXMgaWdub3JlZCB3aGVuIHVzZWQgaW4gbWl4aW5zLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsU3luY0hvb2sobmFtZSwgdHlwZSwgb3B0aW9ucywgaW5zdGFuY2UsIGdsb2JhbE1peGlucykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iYWxNaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjYWxsSG9va1dpdGhNaXhpbkFuZEV4dGVuZHMobmFtZSwgdHlwZSwgZ2xvYmFsTWl4aW5zW2ldLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBjYWxsSG9va1dpdGhNaXhpbkFuZEV4dGVuZHMobmFtZSwgdHlwZSwgb3B0aW9ucywgaW5zdGFuY2UpO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBvcHRpb25zLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBleHRlbmRzOiBiYXNlLCBtaXhpbnMgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBzZWxmSG9vayA9IG9wdGlvbnNbbmFtZV07XHJcbiAgICBpZiAoYmFzZSkge1xyXG4gICAgICAgIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBiYXNlLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2FsbEhvb2tXaXRoTWl4aW5BbmRFeHRlbmRzKG5hbWUsIHR5cGUsIG1peGluc1tpXSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWxmSG9vaykge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHNlbGZIb29rLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlNaXhpbnMoaW5zdGFuY2UsIG1peGlucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBtaXhpbnNbaV0sIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YUZuLCBwdWJsaWNUaGlzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFGbikpIHtcclxuICAgICAgICB3YXJuKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcclxuICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xyXG4gICAgfVxyXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRhdGEgPSBkYXRhRm4uY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNQcm9taXNlKGRhdGEpKSB7XHJcbiAgICAgICAgd2FybihgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGAgK1xyXG4gICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcclxuICAgICAgICAgICAgYGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmApO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbnN0YW5jZS5kYXRhID09PSBFTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5kYXRhID0gcmVhY3RpdmUoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBleGlzdGluZyBkYXRhOiB0aGlzIGlzIGEgbWl4aW4gb3IgZXh0ZW5kcy5cclxuICAgICAgICBleHRlbmQoaW5zdGFuY2UuZGF0YSwgZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XHJcbiAgICBjb25zdCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoJy4nKVxyXG4gICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpXHJcbiAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XHJcbiAgICBpZiAoaXNTdHJpbmcocmF3KSkge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xyXG4gICAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICAgICAgcmF3LmZvckVhY2gociA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcilcclxuICAgICAgICAgICAgICAgID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgOiBjdHhbcmF3LmhhbmRsZXJdO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBsZXQgY3VyID0gY3R4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXI7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCByYXcgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgY29uc3QgeyBfX21lcmdlZCwgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gcmF3O1xyXG4gICAgaWYgKF9fbWVyZ2VkKVxyXG4gICAgICAgIHJldHVybiBfX21lcmdlZDtcclxuICAgIGNvbnN0IGdsb2JhbE1peGlucyA9IGluc3RhbmNlLmFwcENvbnRleHQubWl4aW5zO1xyXG4gICAgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKVxyXG4gICAgICAgIHJldHVybiByYXc7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChtID0+IG1lcmdlT3B0aW9ucyhvcHRpb25zLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgbWVyZ2VPcHRpb25zKG9wdGlvbnMsIHJhdywgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIChyYXcuX19tZXJnZWQgPSBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBzdHJhdHMgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XHJcbiAgICBleHRlbmRzT3B0aW9ucyAmJiBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBpbnN0YW5jZSk7XHJcbiAgICBtaXhpbnMgJiZcclxuICAgICAgICBtaXhpbnMuZm9yRWFjaCgobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBpbnN0YW5jZSkpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIGlmIChzdHJhdHMgJiYgaGFzT3duKHN0cmF0cywga2V5KSkge1xyXG4gICAgICAgICAgICB0b1trZXldID0gc3RyYXRzW2tleV0odG9ba2V5XSwgZnJvbVtrZXldLCBpbnN0YW5jZS5wcm94eSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiAjMjQzNyBJbiBWdWUgMywgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBoYXZlIGEgcHVibGljIGluc3RhbmNlIHByb3h5IGJ1dFxyXG4gKiB0aGV5IGV4aXN0IGluIHRoZSBpbnRlcm5hbCBwYXJlbnQgY2hhaW4uIEZvciBjb2RlIHRoYXQgcmVsaWVzIG9uIHRyYXZlcnNpbmdcclxuICogcHVibGljICRwYXJlbnQgY2hhaW5zLCBza2lwIGZ1bmN0aW9uYWwgb25lcyBhbmQgZ28gdG8gdGhlIHBhcmVudCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xyXG4gICAgaWYgKCFpKVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgaWYgKGlzU3RhdGVmdWxDb21wb25lbnQoaSkpXHJcbiAgICAgICAgcmV0dXJuIGkuZXhwb3NlZCA/IGkuZXhwb3NlZCA6IGkucHJveHk7XHJcbiAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xyXG59O1xyXG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHtcclxuICAgICQ6IGkgPT4gaSxcclxuICAgICRlbDogaSA9PiBpLnZub2RlLmVsLFxyXG4gICAgJGRhdGE6IGkgPT4gaS5kYXRhLFxyXG4gICAgJHByb3BzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzKSxcclxuICAgICRhdHRyczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuYXR0cnMpIDogaS5hdHRycyksXHJcbiAgICAkc2xvdHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMpLFxyXG4gICAgJHJlZnM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzKSxcclxuICAgICRwYXJlbnQ6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpLFxyXG4gICAgJHJvb3Q6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5yb290KSxcclxuICAgICRlbWl0OiBpID0+IGkuZW1pdCxcclxuICAgICRvcHRpb25zOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUpLFxyXG4gICAgJGZvcmNlVXBkYXRlOiBpID0+ICgpID0+IHF1ZXVlSm9iKGkudXBkYXRlKSxcclxuICAgICRuZXh0VGljazogaSA9PiBuZXh0VGljay5iaW5kKGkucHJveHkpLFxyXG4gICAgJHdhdGNoOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUClcclxufSk7XHJcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcclxuICAgIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGxldCBAdnVlL3JlYWN0aXZpdHkga25vdyBpdCBzaG91bGQgbmV2ZXIgb2JzZXJ2ZSBWdWUgcHVibGljIGluc3RhbmNlcy5cclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIgLyogU0tJUCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcclxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxyXG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xyXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXHJcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTRVRVUCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogREFUQSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQ09OVEVYVCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBQUk9QUyAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogU0VUVVAgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogREFUQSAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBQUk9QUyAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIE9USEVSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcclxuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcclxuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcclxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXHJcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcclxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxyXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAoIWlzU3RyaW5nKGtleSkgfHxcclxuICAgICAgICAgICAgICAgIC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXHJcbiAgICAgICAgICAgICAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcclxuICAgICAgICAgICAgICAgIGtleS5pbmRleE9mKCdfX3YnKSAhPT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJlxyXG4gICAgICAgICAgICAgICAgKGtleVswXSA9PT0gJyQnIHx8IGtleVswXSA9PT0gJ18nKSAmJlxyXG4gICAgICAgICAgICAgICAgaGFzT3duKGRhdGEsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGlmIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcclxuICAgICAgICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGhhcyh7IF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH0gfSwga2V5KSB7XHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICByZXR1cm4gKGFjY2Vzc0NhY2hlW2tleV0gIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICAoKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkgfHxcclxuICAgICAgICAgICAgaGFzT3duKGN0eCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KSk7XHJcbiAgICB9XHJcbn07XHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlKSB7XHJcbiAgICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcclxuICAgICAgICB3YXJuKGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gYCArXHJcbiAgICAgICAgICAgIGBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gKTtcclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XHJcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICAvLyBmYXN0IHBhdGggZm9yIHVuc2NvcGFibGVzIHdoZW4gdXNpbmcgYHdpdGhgIGJsb2NrXHJcbiAgICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XHJcbiAgICB9LFxyXG4gICAgaGFzKF8sIGtleSkge1xyXG4gICAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gJ18nICYmICFpc0dsb2JhbGx5V2hpdGVsaXN0ZWQoa2V5KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXM7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyBJbiBkZXYgbW9kZSwgdGhlIHByb3h5IHRhcmdldCBleHBvc2VzIHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgc2VlbiBvbiBgdGhpc2BcclxuLy8gZm9yIGVhc2llciBjb25zb2xlIGluc3BlY3Rpb24uIEluIHByb2QgbW9kZSBpdCB3aWxsIGJlIGFuIGVtcHR5IG9iamVjdCBzb1xyXG4vLyB0aGVzZSBwcm9wZXJ0aWVzIGRlZmluaXRpb25zIGNhbiBiZSBza2lwcGVkLlxyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcclxuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCBpbnN0YW5jZSBmb3IgcHJveHkgaGFuZGxlcnNcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlXHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBwdWJsaWMgcHJvcGVydGllc1xyXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXHJcbiAgICAgICAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcclxuICAgICAgICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGV4cG9zZSBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgY29uc3QgeyBnbG9iYWxQcm9wZXJ0aWVzIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcclxuICAgIE9iamVjdC5rZXlzKGdsb2JhbFByb3BlcnRpZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBnbG9iYWxQcm9wZXJ0aWVzW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcclxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XHJcbiAgICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykge1xyXG4gICAgICAgICAgICB3YXJuKGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiBgICtcclxuICAgICAgICAgICAgICAgIGB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG5sZXQgdWlkJDEgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xyXG4gICAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XHJcbiAgICAvLyBpbmhlcml0IHBhcmVudCBhcHAgY29udGV4dCAtIG9yIC0gaWYgcm9vdCwgYWRvcHQgZnJvbSByb290IHZub2RlXHJcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgdWlkOiB1aWQkMSsrLFxyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIGFwcENvbnRleHQsXHJcbiAgICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXHJcbiAgICAgICAgdXBkYXRlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlcjogbnVsbCxcclxuICAgICAgICBwcm94eTogbnVsbCxcclxuICAgICAgICBleHBvc2VkOiBudWxsLFxyXG4gICAgICAgIHdpdGhQcm94eTogbnVsbCxcclxuICAgICAgICBlZmZlY3RzOiBudWxsLFxyXG4gICAgICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxyXG4gICAgICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcclxuICAgICAgICAvLyBsb2NhbCByZXNvdmxlZCBhc3NldHNcclxuICAgICAgICBjb21wb25lbnRzOiBudWxsLFxyXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXHJcbiAgICAgICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcclxuICAgICAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICAvLyBlbWl0XHJcbiAgICAgICAgZW1pdDogbnVsbCxcclxuICAgICAgICBlbWl0dGVkOiBudWxsLFxyXG4gICAgICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcclxuICAgICAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgLy8gc3RhdGVcclxuICAgICAgICBjdHg6IEVNUFRZX09CSixcclxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcHJvcHM6IEVNUFRZX09CSixcclxuICAgICAgICBhdHRyczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcmVmczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcclxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxyXG4gICAgICAgIHN1c3BlbnNlLFxyXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcclxuICAgICAgICBhc3luY0RlcDogbnVsbCxcclxuICAgICAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcclxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGJjOiBudWxsLFxyXG4gICAgICAgIGM6IG51bGwsXHJcbiAgICAgICAgYm06IG51bGwsXHJcbiAgICAgICAgbTogbnVsbCxcclxuICAgICAgICBidTogbnVsbCxcclxuICAgICAgICB1OiBudWxsLFxyXG4gICAgICAgIHVtOiBudWxsLFxyXG4gICAgICAgIGJ1bTogbnVsbCxcclxuICAgICAgICBkYTogbnVsbCxcclxuICAgICAgICBhOiBudWxsLFxyXG4gICAgICAgIHJ0ZzogbnVsbCxcclxuICAgICAgICBydGM6IG51bGwsXHJcbiAgICAgICAgZWM6IG51bGxcclxuICAgIH07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59O1xyXG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi87XHJcbn1cclxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XHJcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XHJcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XHJcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XHJcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxyXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcclxuICAgIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIC8vIDEuIGNyZWF0ZSBwdWJsaWMgaW5zdGFuY2UgLyByZW5kZXIgcHJveHlcclxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxyXG4gICAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIC8vIDIuIGNhbGwgc2V0dXAoKVxyXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gKGluc3RhbmNlLnNldHVwQ29udGV4dCA9XHJcbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNldHVwLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLywgWyhwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcywgc2V0dXBDb250ZXh0XSk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzU1NSKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaGVyZSBhbmQgd2FpdCBmb3IgcmUtZW50cnkuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGFuIGlubGluZSByZW5kZXIgZnVuY3Rpb25cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBgICtcclxuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYmluZGluZ3MuXHJcbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG59XHJcbmxldCBjb21waWxlO1xyXG4vLyBkZXYgb25seVxyXG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XHJcbi8qKlxyXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxyXG4gKiBOb3RlIHRoZSBleHBvcnRlZCBtZXRob2QgdXNlcyBhbnkgdG8gYXZvaWQgZC50cyByZWx5aW5nIG9uIHRoZSBjb21waWxlciB0eXBlcy5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XHJcbiAgICBjb21waWxlID0gX2NvbXBpbGU7XHJcbn1cclxuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKSB7XHJcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgLy8gdGVtcGxhdGUgLyByZW5kZXIgZnVuY3Rpb24gbm9ybWFsaXphdGlvblxyXG4gICAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcclxuICAgICAgICAvLyBjb3VsZCBiZSBzZXQgZnJvbSBzZXR1cCgpXHJcbiAgICAgICAgaWYgKGNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlICYmICFDb21wb25lbnQucmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZShDb21wb25lbnQudGVtcGxhdGUsIHtcclxuICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudDogaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuaXNDdXN0b21FbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyczogQ29tcG9uZW50LmRlbGltaXRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gKENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUCk7XHJcbiAgICAgICAgLy8gZm9yIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2tzLCB0aGUgcmVuZGVyXHJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcclxuICAgICAgICAvLyBhbHNvIG9ubHkgYWxsb3dzIGEgd2hpdGVsaXN0IG9mIGdsb2JhbHMgdG8gZmFsbHRocm91Z2guXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5fcmMpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uud2l0aFByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzdXBwb3J0IGZvciAyLnggb3B0aW9uc1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlLCBDb21wb25lbnQpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxyXG4gICAgLy8gdGhlIHJ1bnRpbWUgY29tcGlsYXRpb24gb2YgdGVtcGxhdGUgaW4gU1NSIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlclxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcclxuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGF0dHJIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eTogKCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgZXhwb3NlID0gZXhwb3NlZCA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKGV4cG9zZWQpO1xyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0ckhhbmRsZXJzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXR0cnM6IGluc3RhbmNlLmF0dHJzLFxyXG4gICAgICAgICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXHJcbiAgICAgICAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8gcmVjb3JkIGVmZmVjdHMgY3JlYXRlZCBkdXJpbmcgYSBjb21wb25lbnQncyBzZXR1cCgpIHNvIHRoYXQgdGhleSBjYW4gYmVcclxuLy8gc3RvcHBlZCB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuZnVuY3Rpb24gcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChlZmZlY3QsIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAoaW5zdGFuY2UuZWZmZWN0cyB8fCAoaW5zdGFuY2UuZWZmZWN0cyA9IFtdKSkucHVzaChlZmZlY3QpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xyXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KVxyXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXHJcbiAgICAgICAgOiBDb21wb25lbnQubmFtZTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmFtZSA9XHJcbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcclxufVxyXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMpO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChjLmVmZmVjdCk7XHJcbiAgICByZXR1cm4gYztcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVQcm9wcygpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZUVtaXQoKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgZGVmaW5lRW1pdCgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHVzZUNvbnRleHQoKSB7XHJcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpKSB7XHJcbiAgICAgICAgd2FybihgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xyXG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgaWYgKGwgPT09IDIpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXHJcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGwgPiAzKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcclxuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgd2FybihgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XHJcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xyXG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcclxuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xyXG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXHJcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcclxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcclxuICAgICAgICBoZWFkZXIob2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFjdGl2ZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFkb25seSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgICc+J1xyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5KG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcclxuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja3MucHVzaChbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xyXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcclxuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxyXG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcclxuICAgICAgICBpZiAodi5fc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgUmVmYDtcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XHJcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogRm9yIHByZWZpeGluZyBrZXlzIGluIHYtb249XCJvYmpcIiB3aXRoIFwib25cIlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdG9IYW5kbGVycyhvYmopIHtcclxuICAgIGNvbnN0IHJldCA9IHt9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHdhcm4oYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmV0W3RvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vLyBDb3JlIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgdmVyc2lvbiA9IFwiMy4wLjExXCI7XHJcbi8qKlxyXG4gKiBTU1IgdXRpbHMgZm9yIFxcQHZ1ZS9zZXJ2ZXItcmVuZGVyZXIuIE9ubHkgZXhwb3NlZCBpbiBjanMgYnVpbGRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHNzclV0aWxzID0gKG51bGwpO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdCwgZGVmaW5lUHJvcHMsIGRldnRvb2xzLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgaCwgaGFuZGxlRXJyb3IsIGluaXRDdXN0b21Gb3JtYXR0ZXIsIGluamVjdCwgaXNSdW50aW1lT25seSwgaXNWTm9kZSwgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQ29udGV4dCwgdXNlU1NSQ29udGV4dCwgdXNlVHJhbnNpdGlvblN0YXRlLCB2ZXJzaW9uLCB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdpdGhDdHgsIHdpdGhEaXJlY3RpdmVzLCB3aXRoU2NvcGVJZCB9O1xuIiwiaW1wb3J0IHsgY2FtZWxpemUsIHdhcm4sIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCwgd2F0Y2hFZmZlY3QsIG9uVXBkYXRlZCwgRnJhZ21lbnQsIGgsIEJhc2VUcmFuc2l0aW9uLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgY3JlYXRlVk5vZGUsIGNyZWF0ZVJlbmRlcmVyLCBpc1J1bnRpbWVPbmx5LCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciB9IGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0FycmF5LCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc09uLCBpc01vZGVsTGlzdGVuZXIsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGludm9rZUFycmF5Rm5zLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpc0hUTUxUYWcsIGlzU1ZHVGFnIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmNvbnN0IGRvYyA9ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiBudWxsKTtcclxubGV0IHRlbXBDb250YWluZXI7XHJcbmxldCB0ZW1wU1ZHQ29udGFpbmVyO1xyXG5jb25zdCBub2RlT3BzID0ge1xyXG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcclxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAodGFnID09PSAnc2VsZWN0JyAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCBwcm9wcy5tdWx0aXBsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcclxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXHJcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xyXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxyXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcclxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcclxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XHJcbiAgICB9LFxyXG4gICAgY2xvbmVOb2RlKGVsKSB7XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gZWwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIC8vICMzMDcyXHJcbiAgICAgICAgLy8gLSBpbiBgcGF0Y2hET01Qcm9wYCwgd2Ugc3RvcmUgdGhlIGFjdHVhbCB2YWx1ZSBpbiB0aGUgYGVsLl92YWx1ZWAgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gLSBub3JtYWxseSwgZWxlbWVudHMgdXNpbmcgYDp2YWx1ZWAgYmluZGluZ3Mgd2lsbCBub3QgYmUgaG9pc3RlZCwgYnV0IGlmXHJcbiAgICAgICAgLy8gICB0aGUgYm91bmQgdmFsdWUgaXMgYSBjb25zdGFudCwgZS5nLiBgOnZhbHVlPVwidHJ1ZVwiYCAtIHRoZXkgZG8gZ2V0XHJcbiAgICAgICAgLy8gICBob2lzdGVkLlxyXG4gICAgICAgIC8vIC0gaW4gcHJvZHVjdGlvbiwgaG9pc3RlZCBub2RlcyBhcmUgY2xvbmVkIHdoZW4gc3Vic2VxdWVudCBpbnNlcnRzLCBidXRcclxuICAgICAgICAvLyAgIGNsb25lTm9kZSgpIGRvZXMgbm90IGNvcHkgdGhlIGN1c3RvbSBwcm9wZXJ0eSB3ZSBhdHRhY2hlZC5cclxuICAgICAgICAvLyAtIFRoaXMgbWF5IG5lZWQgdG8gYWNjb3VudCBmb3Igb3RoZXIgY3VzdG9tIERPTSBwcm9wZXJ0aWVzIHdlIGF0dGFjaCB0b1xyXG4gICAgICAgIC8vICAgZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gYF92YWx1ZWAgaW4gdGhlIGZ1dHVyZS5cclxuICAgICAgICBpZiAoYF92YWx1ZWAgaW4gZWwpIHtcclxuICAgICAgICAgICAgY2xvbmVkLl92YWx1ZSA9IGVsLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcclxuICAgIH0sXHJcbiAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAvLyBSZWFzb246IGlubmVySFRNTC5cclxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cclxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXHJcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRykge1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IHRlbXBTVkdDb250YWluZXIgfHxcclxuICAgICAgICAgICAgICAgICh0ZW1wU1ZHQ29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgJ3N2ZycpKVxyXG4gICAgICAgICAgICA6IHRlbXBDb250YWluZXIgfHwgKHRlbXBDb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICBjb25zdCBmaXJzdCA9IHRlbXAuZmlyc3RDaGlsZDtcclxuICAgICAgICBsZXQgbm9kZSA9IGZpcnN0O1xyXG4gICAgICAgIGxldCBsYXN0ID0gbm9kZTtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBsYXN0ID0gbm9kZTtcclxuICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnQobm9kZSwgcGFyZW50LCBhbmNob3IpO1xyXG4gICAgICAgICAgICBub2RlID0gdGVtcC5maXJzdENoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcclxuICAgIH1cclxufTtcblxuLy8gY29tcGlsZXIgc2hvdWxkIG5vcm1hbGl6ZSBjbGFzcyArIDpjbGFzcyBiaW5kaW5ncyBvbiB0aGUgc2FtZSBlbGVtZW50XHJcbi8vIGludG8gYSBzaW5nbGUgYmluZGluZyBbJ3N0YXRpY0NsYXNzJywgZHluYW1pY11cclxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZGlyZWN0bHkgc2V0dGluZyBjbGFzc05hbWUgc2hvdWxkIGJlIGZhc3RlciB0aGFuIHNldEF0dHJpYnV0ZSBpbiB0aGVvcnlcclxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGVsZW1lbnQgZHVyaW5nIGEgdHJhbnNpdGlvbiwgdGFrZSB0aGUgdGVtcG9yYXJ5IHRyYW5zaXRpb25cclxuICAgICAgICAvLyBjbGFzc2VzIGludG8gYWNjb3VudC5cclxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl92dGM7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gKHZhbHVlXHJcbiAgICAgICAgICAgICAgICA/IFt2YWx1ZSwgLi4udHJhbnNpdGlvbkNsYXNzZXNdXHJcbiAgICAgICAgICAgICAgICA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xyXG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKG5leHQpKSB7XHJcbiAgICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xyXG4gICAgICAgICAgICAvLyBpbmRpY2F0ZXMgdGhhdCB0aGUgYGRpc3BsYXlgIG9mIHRoZSBlbGVtZW50IGlzIGNvbnRyb2xsZWQgYnkgYHYtc2hvd2AsXHJcbiAgICAgICAgICAgIC8vIHNvIHdlIGFsd2F5cyBrZWVwIHRoZSBjdXJyZW50IGBkaXNwbGF5YCB2YWx1ZSByZWdhcmRsZXNzIG9mIHRoZSBgc3R5bGVgIHZhbHVlLFxyXG4gICAgICAgICAgICAvLyB0aHVzIGhhbmRpbmcgb3ZlciBjb250cm9sIHRvIGB2LXNob3dgLlxyXG4gICAgICAgICAgICBpZiAoJ192b2QnIGluIGVsKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gY3VycmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcclxuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXYgJiYgIWlzU3RyaW5nKHByZXYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xyXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XHJcbiAgICAgICAgdmFsLmZvckVhY2godiA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnLS0nKSkge1xyXG4gICAgICAgICAgICAvLyBjdXN0b20gcHJvcGVydHkgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gIWltcG9ydGFudFxyXG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoaHlwaGVuYXRlKHByZWZpeGVkKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XHJcbmNvbnN0IHByZWZpeENhY2hlID0ge307XHJcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xyXG4gICAgaWYgKG5hbWUgIT09ICdmaWx0ZXInICYmIG5hbWUgaW4gc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZSk7XHJcbiAgICB9XHJcbiAgICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcclxuICAgICAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmF3TmFtZTtcclxufVxuXG5jb25zdCB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xyXG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXHJcbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmIHZhbHVlID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gX19VTlNBRkVfX1xyXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXHJcbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXHJcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcclxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcclxuLy8gdW5tb3VudGVkLlxyXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xyXG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiYgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJykge1xyXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cclxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4gY29tcGlsZXMgdG8geyBtdWx0aXBsZTogJycgfVxyXG4gICAgICAgICAgICBlbFtrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPGRpdiA6aWQ9XCJudWxsXCI+XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSAnJztcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgLy8gZS5nLiA8aW1nIDp3aWR0aD1cIm51bGxcIj5cclxuICAgICAgICAgICAgZWxba2V5XSA9IDA7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3dcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICBgdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cclxubGV0IF9nZXROb3cgPSBEYXRlLm5vdztcclxubGV0IHNraXBUaW1lc3RhbXBDaGVjayA9IGZhbHNlO1xyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlXHJcbiAgICAvLyB0aW1lc3RhbXAgY2FuIGVpdGhlciBiZSBoaS1yZXMgKHJlbGF0aXZlIHRvIHBhZ2UgbG9hZCkgb3IgbG93LXJlc1xyXG4gICAgLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbiAgICAvLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuXHJcbiAgICBpZiAoX2dldE5vdygpID4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykudGltZVN0YW1wKSB7XHJcbiAgICAgICAgLy8gaWYgdGhlIGxvdy1yZXMgdGltZXN0YW1wIHdoaWNoIGlzIGJpZ2dlciB0aGFuIHRoZSBldmVudCB0aW1lc3RhbXBcclxuICAgICAgICAvLyAod2hpY2ggaXMgZXZhbHVhdGVkIEFGVEVSKSBpdCBtZWFucyB0aGUgZXZlbnQgaXMgdXNpbmcgYSBoaS1yZXMgdGltZXN0YW1wLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHVzZSB0aGUgaGktcmVzIHZlcnNpb24gZm9yIGV2ZW50IGxpc3RlbmVycyBhcyB3ZWxsLlxyXG4gICAgICAgIF9nZXROb3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIH1cclxuICAgIC8vICMzNDg1OiBGaXJlZm94IDw9IDUzIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wIGltcGxlbWVudGF0aW9uXHJcbiAgICAvLyBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvIHNhZmUgdG8gZXhjbHVkZS5cclxuICAgIGNvbnN0IGZmTWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpO1xyXG4gICAgc2tpcFRpbWVzdGFtcENoZWNrID0gISEoZmZNYXRjaCAmJiBOdW1iZXIoZmZNYXRjaFsxXSkgPD0gNTMpO1xyXG59XHJcbi8vIFRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXBlYXRlZGx5IGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCksIHdlIGNhY2hlXHJcbi8vIGFuZCB1c2UgdGhlIHNhbWUgdGltZXN0YW1wIGZvciBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIGluIHRoZSBzYW1lIHRpY2suXHJcbmxldCBjYWNoZWROb3cgPSAwO1xyXG5jb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmNvbnN0IHJlc2V0ID0gKCkgPT4ge1xyXG4gICAgY2FjaGVkTm93ID0gMDtcclxufTtcclxuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4ocmVzZXQpLCAoY2FjaGVkTm93ID0gX2dldE5vdygpKSk7XHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xyXG4gICAgLy8gdmVpID0gdnVlIGV2ZW50IGludm9rZXJzXHJcbiAgICBjb25zdCBpbnZva2VycyA9IGVsLl92ZWkgfHwgKGVsLl92ZWkgPSB7fSk7XHJcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcclxuICAgIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgLy8gcGF0Y2hcclxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XHJcbiAgICAgICAgaWYgKG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBhZGRcclxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZVxyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XHJcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIGxldCBtO1xyXG4gICAgICAgIHdoaWxlICgobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSkge1xyXG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2h5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKSwgb3B0aW9uc107XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcclxuICAgICAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gb3V0ZXIgZWxlbWVudCBkdXJpbmcgcGF0Y2gsIGFuZCB0cmlnZ2VyZWQgYWdhaW4uIFRoaXNcclxuICAgICAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgICAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxyXG4gICAgICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSBlLnRpbWVTdGFtcCB8fCBfZ2V0Tm93KCk7XHJcbiAgICAgICAgaWYgKHNraXBUaW1lc3RhbXBDaGVjayB8fCB0aW1lU3RhbXAgPj0gaW52b2tlci5hdHRhY2hlZCAtIDEpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovLCBbZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xyXG4gICAgcmV0dXJuIGludm9rZXI7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcclxuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZuID0+IChlKSA9PiAhZS5fc3RvcHBlZCAmJiBmbihlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgbmF0aXZlT25SRSA9IC9eb25bYS16XS87XHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wID0gKF8sIGtleSkgPT4ga2V5ID09PSAndmFsdWUnO1xyXG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGlzU1ZHID0gZmFsc2UsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgIC8vIHNwZWNpYWxcclxuICAgICAgICBjYXNlICdjbGFzcyc6XHJcbiAgICAgICAgICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzdHlsZSc6XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPGlucHV0IHYtbW9kZWwgdHlwZT1cImNoZWNrYm94XCI+IHdpdGhcclxuICAgICAgICAgICAgICAgIC8vIDp0cnVlLXZhbHVlICYgOmZhbHNlLXZhbHVlXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdpZmllZC5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd0cnVlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdmYWxzZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgLy8gbW9zdCBrZXlzIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZSBvbiBzdmcgZWxlbWVudHMgdG8gd29ya1xyXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUxcclxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gb3IgbmF0aXZlIG9uY2xpY2sgd2l0aCBmdW5jdGlvbiB2YWx1ZXNcclxuICAgICAgICBpZiAoa2V5IGluIGVsICYmIG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBzcGVsbGNoZWNrIGFuZCBkcmFnZ2FibGUgYXJlIG51bWVyYXRlZCBhdHRycywgaG93ZXZlciB0aGVpclxyXG4gICAgLy8gY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllcyBhcmUgYWN0dWFsbHkgYm9vbGVhbnMgLSB0aGlzIGxlYWRzIHRvXHJcbiAgICAvLyBzZXR0aW5nIGl0IHdpdGggYSBzdHJpbmcgXCJmYWxzZVwiIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0b1xyXG4gICAgLy8gYHRydWVgLCBzbyB3ZSBuZWVkIHRvIGFsd2F5cyB0cmVhdCB0aGVtIGFzIGF0dHJpYnV0ZXMuXHJcbiAgICAvLyBOb3RlIHRoYXQgYGNvbnRlbnRFZGl0YWJsZWAgZG9lc24ndCBoYXZlIHRoaXMgcHJvYmxlbTogaXRzIERPTVxyXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXHJcbiAgICBpZiAoa2V5ID09PSAnc3BlbGxjaGVjaycgfHwga2V5ID09PSAnZHJhZ2dhYmxlJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNzg3LCAjMjg0MCBmb3JtIHByb3BlcnR5IG9uIGZvcm0gZWxlbWVudHMgaXMgcmVhZG9ubHkgYW5kIG11c3QgYmUgc2V0IGFzXHJcbiAgICAvLyBhdHRyaWJ1dGUuXHJcbiAgICBpZiAoa2V5ID09PSAnZm9ybScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMTUyNiA8aW5wdXQgbGlzdD4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAoa2V5ID09PSAnbGlzdCcgJiYgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMyNzY2IDx0ZXh0YXJlYSB0eXBlPiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChrZXkgPT09ICd0eXBlJyAmJiBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gbmF0aXZlIG9uY2xpY2sgd2l0aCBzdHJpbmcgdmFsdWUsIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBrZXkgaW4gZWw7XHJcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSAnJHN0eWxlJykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XHJcbiAgICAgICAgaWYgKCFtb2QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIFNGQydzIENTUyB2YXJpYWJsZSBpbmplY3Rpb24gZmVhdHVyZS5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIGdldHRlcihpbnN0YW5jZS5wcm94eSkpO1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHdhdGNoRWZmZWN0KHNldFZhcnMsIHsgZmx1c2g6ICdwb3N0JyB9KSk7XHJcbiAgICBvblVwZGF0ZWQoc2V0VmFycyk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xyXG4gICAgICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xyXG4gICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXHJcbiAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcclxuICAgIH1cclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHZub2RlLmVsLnN0eWxlO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcclxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFyc1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcclxuY29uc3QgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XHJcbi8vIERPTSBUcmFuc2l0aW9uIGlzIGEgaGlnaGVyLW9yZGVyLWNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcGxhdGZvcm0tYWdub3N0aWNcclxuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXHJcbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcclxuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uJztcclxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcclxuICAgIG5hbWU6IFN0cmluZyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGNzczoge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXHJcbiAgICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcclxufTtcclxuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIEJhc2VUcmFuc2l0aW9uLnByb3BzLCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSk7XHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcclxuICAgIGxldCB7IG5hbWUgPSAndicsIHR5cGUsIGNzcyA9IHRydWUsIGR1cmF0aW9uLCBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLCBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCwgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLCBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcywgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLCBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLCBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCwgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gIH0gPSByYXdQcm9wcztcclxuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcclxuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghY3NzKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcclxuICAgIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xyXG4gICAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XHJcbiAgICBjb25zdCB7IG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlciwgb25BcHBlYXIgPSBvbkVudGVyLCBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWQgfSA9IGJhc2VQcm9wcztcclxuICAgIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcclxuICAgICAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XHJcbiAgICAgICAgICAgIGhvb2sgJiYgaG9vayhlbCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoaG9vayAmJiBob29rLmxlbmd0aCA+IDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xyXG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgb25CZWZvcmVFbnRlciAmJiBvbkJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xyXG4gICAgICAgICAgICBvbkJlZm9yZUFwcGVhciAmJiBvbkJlZm9yZUFwcGVhcihlbCk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcclxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcclxuICAgICAgICBvbkxlYXZlKGVsLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgc28gKi1sZWF2ZS1mcm9tIGNsYXNzZXMgaW1tZWRpYXRlbHkgdGFrZSBlZmZlY3QgKCMyNTkzKVxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShvbkxlYXZlICYmIG9uTGVhdmUubGVuZ3RoID4gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGxlYXZlRHVyYXRpb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25MZWF2ZSAmJiBvbkxlYXZlKGVsLCByZXNvbHZlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIGZhbHNlKTtcclxuICAgICAgICAgICAgb25FbnRlckNhbmNlbGxlZCAmJiBvbkVudGVyQ2FuY2VsbGVkKGVsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQgJiYgb25BcHBlYXJDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XHJcbiAgICAgICAgICAgIG9uTGVhdmVDYW5jZWxsZWQgJiYgb25MZWF2ZUNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pIHtcclxuICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcclxuICAgICAgICByZXR1cm4gW051bWJlck9mKGR1cmF0aW9uLmVudGVyKSwgTnVtYmVyT2YoZHVyYXRpb24ubGVhdmUpXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIFtuLCBuXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcclxuICAgIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxyXG4gICAgICAgIHZhbGlkYXRlRHVyYXRpb24ocmVzKTtcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbih2YWwpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBgICtcclxuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBOYU4gLSBgICtcclxuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgICAoZWwuX3Z0YyB8fFxyXG4gICAgICAgIChlbC5fdnRjID0gbmV3IFNldCgpKSkuYWRkKGNscyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xyXG4gICAgY29uc3QgeyBfdnRjIH0gPSBlbDtcclxuICAgIGlmIChfdnRjKSB7XHJcbiAgICAgICAgX3Z0Yy5kZWxldGUoY2xzKTtcclxuICAgICAgICBpZiAoIV92dGMuc2l6ZSkge1xyXG4gICAgICAgICAgICBlbC5fdnRjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBuZXh0RnJhbWUoY2IpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcclxuICAgIH0pO1xyXG59XHJcbmxldCBlbmRJZCA9IDA7XHJcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcclxuICAgIGNvbnN0IGlkID0gKGVsLl9lbmRJZCA9ICsrZW5kSWQpO1xyXG4gICAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlkID09PSBlbC5fZW5kSWQpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoZXhwbGljaXRUaW1lb3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XHJcbiAgICBsZXQgZW5kZWQgPSAwO1xyXG4gICAgY29uc3QgZW5kID0gKCkgPT4ge1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxuICAgICAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsICYmICsrZW5kZWQgPj0gcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdGltZW91dCArIDEpO1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcclxuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcclxuICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoVFJBTlNJVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEZWxheScpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xyXG4gICAgbGV0IHR5cGUgPSBudWxsO1xyXG4gICAgbGV0IHRpbWVvdXQgPSAwO1xyXG4gICAgbGV0IHByb3BDb3VudCA9IDA7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBBTklNQVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XHJcbiAgICAgICAgdHlwZSA9XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgICAgIDogQU5JTUFUSU9OXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxyXG4gICAgICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmXHJcbiAgICAgICAgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KHN0eWxlc1tUUkFOU0lUSU9OICsgJ1Byb3BlcnR5J10pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgcHJvcENvdW50LFxyXG4gICAgICAgIGhhc1RyYW5zZm9ybVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XHJcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xyXG59XHJcbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyXHJcbi8vIG51bWJlcnMgaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxyXG4vLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duXHJcbi8vIChpLmUuIGFjdGluZyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXHJcbmZ1bmN0aW9uIHRvTXMocykge1xyXG4gICAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKCcsJywgJy4nKSkgKiAxMDAwO1xyXG59XHJcbi8vIHN5bmNocm9ub3VzbHkgZm9yY2UgbGF5b3V0IHRvIHB1dCBlbGVtZW50cyBpbnRvIGEgY2VydGFpbiBzdGF0ZVxyXG5mdW5jdGlvbiBmb3JjZVJlZmxvdygpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IHtcclxuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxyXG4gICAgcHJvcHM6IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XHJcbiAgICAgICAgdGFnOiBTdHJpbmcsXHJcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcclxuICAgIH0pLFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcclxuICAgICAgICBsZXQgcHJldkNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICBvblVwZGF0ZWQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBpcyBndWFyYW50ZWVkIHRvIGV4aXN0IGFmdGVyIGluaXRpYWwgcmVuZGVyXHJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XHJcbiAgICAgICAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKHByZXZDaGlsZHJlblswXS5lbCwgaW5zdGFuY2Uudm5vZGUuZWwsIG1vdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcclxuICAgICAgICAgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XHJcbiAgICAgICAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gKGVsLl9tb3ZlQ2IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHByZXZDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NYXAuc2V0KGNoaWxkLCBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XHJcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcclxuICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgIGlmIChlbC5fbW92ZUNiKSB7XHJcbiAgICAgICAgZWwuX21vdmVDYigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsLl9lbnRlckNiKSB7XHJcbiAgICAgICAgZWwuX2VudGVyQ2IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XHJcbiAgICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XHJcbiAgICBjb25zdCBvbGRQb3MgPSBwb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XHJcbiAgICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XHJcbiAgICBjb25zdCBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xyXG4gICAgaWYgKGR4IHx8IGR5KSB7XHJcbiAgICAgICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XHJcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XHJcbiAgICAgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XHJcbiAgICAvLyBEZXRlY3Qgd2hldGhlciBhbiBlbGVtZW50IHdpdGggdGhlIG1vdmUgY2xhc3MgYXBwbGllZCBoYXNcclxuICAgIC8vIENTUyB0cmFuc2l0aW9ucy4gU2luY2UgdGhlIGVsZW1lbnQgbWF5IGJlIGluc2lkZSBhbiBlbnRlcmluZ1xyXG4gICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZVxyXG4gICAgLy8gYWxsIG90aGVyIHRyYW5zaXRpb24gY2xhc3NlcyBhcHBsaWVkIHRvIGVuc3VyZSBvbmx5IHRoZSBtb3ZlIGNsYXNzXHJcbiAgICAvLyBpcyBhcHBsaWVkLlxyXG4gICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcclxuICAgIGlmIChlbC5fdnRjKSB7XHJcbiAgICAgICAgZWwuX3Z0Yy5mb3JFYWNoKGNscyA9PiB7XHJcbiAgICAgICAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbW92ZUNsYXNzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gKHJvb3Qubm9kZVR5cGUgPT09IDFcclxuICAgICAgICA/IHJvb3RcclxuICAgICAgICA6IHJvb3QucGFyZW50Tm9kZSk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG4gICAgY29uc3QgeyBoYXNUcmFuc2Zvcm0gfSA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcclxuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XHJcbiAgICByZXR1cm4gaGFzVHJhbnNmb3JtO1xyXG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcclxuICAgIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXTtcclxuICAgIHJldHVybiBpc0FycmF5KGZuKSA/IHZhbHVlID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcclxufTtcclxuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0KGUpIHtcclxuICAgIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XHJcbiAgICAgICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCAnaW5wdXQnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyKGVsLCB0eXBlKSB7XHJcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcclxuICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xyXG4gICAgZWwuZGlzcGF0Y2hFdmVudChlKTtcclxufVxyXG4vLyBXZSBhcmUgZXhwb3J0aW5nIHRoZSB2LW1vZGVsIHJ1bnRpbWUgZGlyZWN0bHkgYXMgdm5vZGUgaG9va3Mgc28gdGhhdCBpdCBjYW5cclxuLy8gYmUgdHJlZS1zaGFrZW4gaW4gY2FzZSB2LW1vZGVsIGlzIG5ldmVyIHVzZWQuXHJcbmNvbnN0IHZNb2RlbFRleHQgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcic7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/ICdjaGFuZ2UnIDogJ2lucHV0JywgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2FzdFRvTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IHRvTnVtYmVyKGRvbVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGRvbVZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWwudmFsdWUgPSBlbC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhenkpIHtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcclxuICAgICAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxyXG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXHJcbiAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcclxuICAgICAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCBvbkNvbXBvc2l0aW9uRW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgZWwudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICAvLyBhdm9pZCBjbGVhcmluZyB1bnJlc29sdmVkIHRleHQuICMyMzAyXHJcbiAgICAgICAgaWYgKGVsLmNvbXBvc2luZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbCkge1xyXG4gICAgICAgICAgICBpZiAodHJpbSAmJiBlbC52YWx1ZS50cmltKCkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcicpICYmIHRvTnVtYmVyKGVsLnZhbHVlKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHZNb2RlbENoZWNrYm94ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgXywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9kZWxWYWx1ZSA9IGVsLl9tb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ24gPSBlbC5fYXNzaWduO1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5hZGQoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFzc2lnbihjbG9uZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxyXG4gICAgbW91bnRlZDogc2V0Q2hlY2tlZCxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXRDaGVja2VkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZ2V0VmFsdWUoZWwpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAuY2FsbChlbC5vcHRpb25zLCAobykgPT4gby5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgIC5tYXAoKG8pID0+IG51bWJlciA/IHRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pKTtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihlbC5tdWx0aXBsZVxyXG4gICAgICAgICAgICAgICAgPyBpc1NldE1vZGVsXHJcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxcclxuICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXHJcbiAgICAvLyA8b3B0aW9uPnMuXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgX2JpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSkge1xyXG4gICAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xyXG4gICAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXkodmFsdWUpICYmICFpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPiBleHBlY3RzIGFuIEFycmF5IG9yIFNldCB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGAgK1xyXG4gICAgICAgICAgICAgICAgYGJ1dCBnb3QgJHtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKX0uYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xyXG4gICAgICAgIGlmIChpc011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzTXVsdGlwbGUpIHtcclxuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICB9XHJcbn1cclxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIHNldCB2aWEgOnZhbHVlIGJpbmRpbmdzXHJcbmZ1bmN0aW9uIGdldFZhbHVlKGVsKSB7XHJcbiAgICByZXR1cm4gJ192YWx1ZScgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgZm9yIHRydWUtdmFsdWUgYW5kIGZhbHNlLXZhbHVlIHNldCB2aWEgOnRydWUtdmFsdWUgb3IgOmZhbHNlLXZhbHVlIGJpbmRpbmdzXHJcbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcclxuICAgIGNvbnN0IGtleSA9IGNoZWNrZWQgPyAnX3RydWVWYWx1ZScgOiAnX2ZhbHNlVmFsdWUnO1xyXG4gICAgcmV0dXJuIGtleSBpbiBlbCA/IGVsW2tleV0gOiBjaGVja2VkO1xyXG59XHJcbmNvbnN0IHZNb2RlbER5bmFtaWMgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnY3JlYXRlZCcpO1xyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdtb3VudGVkJyk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAndXBkYXRlZCcpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XHJcbiAgICBsZXQgbW9kZWxUb1VzZTtcclxuICAgIHN3aXRjaCAoZWwudGFnTmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ1NFTEVDVCc6XHJcbiAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxTZWxlY3Q7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1RFWFRBUkVBJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHN3aXRjaCAodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxDaGVja2JveDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsUmFkaW87XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBmbiA9IG1vZGVsVG9Vc2VbaG9va107XHJcbiAgICBmbiAmJiBmbihlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSk7XHJcbn1cblxuY29uc3Qgc3lzdGVtTW9kaWZpZXJzID0gWydjdHJsJywgJ3NoaWZ0JywgJ2FsdCcsICdtZXRhJ107XHJcbmNvbnN0IG1vZGlmaWVyR3VhcmRzID0ge1xyXG4gICAgc3RvcDogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxyXG4gICAgcHJldmVudDogZSA9PiBlLnByZXZlbnREZWZhdWx0KCksXHJcbiAgICBzZWxmOiBlID0+IGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQsXHJcbiAgICBjdHJsOiBlID0+ICFlLmN0cmxLZXksXHJcbiAgICBzaGlmdDogZSA9PiAhZS5zaGlmdEtleSxcclxuICAgIGFsdDogZSA9PiAhZS5hbHRLZXksXHJcbiAgICBtZXRhOiBlID0+ICFlLm1ldGFLZXksXHJcbiAgICBsZWZ0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDAsXHJcbiAgICBtaWRkbGU6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMSxcclxuICAgIHJpZ2h0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDIsXHJcbiAgICBleGFjdDogKGUsIG1vZGlmaWVycykgPT4gc3lzdGVtTW9kaWZpZXJzLnNvbWUobSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcclxufTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcclxuICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XHJcbiAgICAgICAgICAgIGlmIChndWFyZCAmJiBndWFyZChldmVudCwgbW9kaWZpZXJzKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcclxuICAgIH07XHJcbn07XHJcbi8vIEtlcHQgZm9yIDIueCBjb21wYXQuXHJcbi8vIE5vdGU6IElFMTEgY29tcGF0IGZvciBgc3BhY2ViYXJgIGFuZCBgZGVsYCBpcyByZW1vdmVkIGZvciBub3cuXHJcbmNvbnN0IGtleU5hbWVzID0ge1xyXG4gICAgZXNjOiAnZXNjYXBlJyxcclxuICAgIHNwYWNlOiAnICcsXHJcbiAgICB1cDogJ2Fycm93LXVwJyxcclxuICAgIGxlZnQ6ICdhcnJvdy1sZWZ0JyxcclxuICAgIHJpZ2h0OiAnYXJyb3ctcmlnaHQnLFxyXG4gICAgZG93bjogJ2Fycm93LWRvd24nLFxyXG4gICAgZGVsZXRlOiAnYmFja3NwYWNlJ1xyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcclxuICAgIHJldHVybiAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoISgna2V5JyBpbiBldmVudCkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCBldmVudEtleSA9IGh5cGhlbmF0ZShldmVudC5rZXkpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAvLyBOb25lIG9mIHRoZSBwcm92aWRlZCBrZXkgbW9kaWZpZXJzIG1hdGNoIHRoZSBjdXJyZW50IGV2ZW50IGtleVxyXG4gICAgICAgICFtb2RpZmllcnMuc29tZShrID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xyXG4gICAgfTtcclxufTtcblxuY29uc3QgdlNob3cgPSB7XHJcbiAgICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGVsLl92b2QgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fdm9kIDogJ25vbmUnO1xyXG59XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IGV4dGVuZCh7IHBhdGNoUHJvcCwgZm9yY2VQYXRjaFByb3AgfSwgbm9kZU9wcyk7XHJcbi8vIGxhenkgY3JlYXRlIHRoZSByZW5kZXJlciAtIHRoaXMgbWFrZXMgY29yZSByZW5kZXJlciBsb2dpYyB0cmVlLXNoYWthYmxlXHJcbi8vIGluIGNhc2UgdGhlIHVzZXIgb25seSBpbXBvcnRzIHJlYWN0aXZpdHkgdXRpbGl0aWVzIGZyb20gVnVlLlxyXG5sZXQgcmVuZGVyZXI7XHJcbmxldCBlbmFibGVkSHlkcmF0aW9uID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyIHx8IChyZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucykpO1xyXG59XHJcbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xyXG4gICAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uXHJcbiAgICAgICAgPyByZW5kZXJlclxyXG4gICAgICAgIDogY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKTtcclxuICAgIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyO1xyXG59XHJcbi8vIHVzZSBleHBsaWNpdCB0eXBlIGNhc3RzIGhlcmUgdG8gYXZvaWQgaW1wb3J0KCkgY2FsbHMgaW4gcm9sbGVkLXVwIGQudHNcclxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGh5ZHJhdGUgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZUFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDdXN0b21FbGVtZW50Q2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjbGVhciBjb250ZW50IGJlZm9yZSBtb3VudGluZ1xyXG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBjb25zdCBwcm94eSA9IG1vdW50KGNvbnRhaW5lciwgZmFsc2UsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3YtY2xvYWsnKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhcHA7XHJcbn0pO1xyXG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XHJcbiAgICAgICAgaW5qZWN0Q3VzdG9tRWxlbWVudENoZWNrKGFwcCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XHJcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYXBwO1xyXG59KTtcclxuZnVuY3Rpb24gaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKSB7XHJcbiAgICAvLyBJbmplY3QgYGlzTmF0aXZlVGFnYFxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIGZvciBjb21wb25lbnQgbmFtZSB2YWxpZGF0aW9uIChkZXYgb25seSlcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNOYXRpdmVUYWcnLCB7XHJcbiAgICAgICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZyksXHJcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXHJcbiAgICB9KTtcclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBpbmplY3RDdXN0b21FbGVtZW50Q2hlY2soYXBwKSB7XHJcbiAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzQ3VzdG9tRWxlbWVudCcsIHtcclxuICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgcnVudGltZSBjb21waWxlci5gICtcclxuICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgbXVzdCBiZSBwYXNzZWQgdG8gXFxgQHZ1ZS9jb21waWxlci1kb21cXGAgaW4gdGhlIGJ1aWxkIHNldHVwIGluc3RlYWRgICtcclxuICAgICAgICAgICAgICAgICAgICBgLSBmb3IgZXhhbXBsZSwgdmlhIHRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgb3B0aW9uIGluIHZ1ZS1sb2FkZXI6IGh0dHBzOi8vdnVlLWxvYWRlci52dWVqcy5vcmcvb3B0aW9ucy5odG1sI2NvbXBpbGVyb3B0aW9ucy5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmXHJcbiAgICAgICAgY29udGFpbmVyLm1vZGUgPT09ICdjbG9zZWQnKSB7XHJcbiAgICAgICAgd2FybihgbW91bnRpbmcgb24gYSBTaGFkb3dSb290IHdpdGggXFxge21vZGU6IFwiY2xvc2VkXCJ9XFxgIG1heSBsZWFkIHRvIHVucHJlZGljdGFibGUgYnVnc2ApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxufVxuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBoeWRyYXRlLCByZW5kZXIsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdk1vZGVsQ2hlY2tib3gsIHZNb2RlbER5bmFtaWMsIHZNb2RlbFJhZGlvLCB2TW9kZWxTZWxlY3QsIHZNb2RlbFRleHQsIHZTaG93LCB3aXRoS2V5cywgd2l0aE1vZGlmaWVycyB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgXCJodHRwczovL2JsYWlyaG9tZS5uZ3Jvay5pby90ZXN0LXZ1ZS1hcHAvZGlzdC8xYTZhY2UzNzcxMzNmMTRhLnBuZ1wiIiwiPHRlbXBsYXRlPlxuICA8aDEgeHItbGF5ZXIgY2xhc3M9XCJmYWRlXCI+e3sgbXNnIH19PC9oMT5cbiAgPHA+XG4gICAgSGVyZSdzIHNvbWUgbW9yZSB0ZXh0IGp1c3QgdG8gbWFrZSB0aGluZ3Mgbm90IGJsYW5rLlxuICA8L3A+XG5cbiAgPGJ1dHRvbiB4ci1sYXllciBAY2xpY2s9XCJzaGFyZWQuaW5jcmVtZW50XCI+Y291bnQgaXM6IHt7IHNoYXJlZC5zdGF0ZS5jb3VudCB9fTwvYnV0dG9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IGRlZmluZVByb3BzLCBpbmplY3QgfSBmcm9tICd2dWUnXG5cbmRlZmluZVByb3BzKHtcbiAgbXNnOiBTdHJpbmdcbn0pXG5cbmNvbnN0IHNoYXJlZCA9IGluamVjdCgnc2hhcmVkJylcbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuYSB7XG4gIGNvbG9yOiAjYjU0MmI5O1xufVxuXG4qIHtcbiAgICBsaW5lLWhlaWdodCA6IG5vcm1hbDtcbn1cblxuLmZhZGUge1xuICBjb2xvcjogIzk4MDNhNTtcbiAgLyogdHJhbnNpdGlvbjogY29sb3IgMXM7ICovXG59XG5cbi5mYWRlOmhvdmVyIHtcbiAgY29sb3I6ICNhNzhlMDY7XG59XG4gIFxucCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xufVxuaDEge1xuICAgICAgLyogdGV4dC1hbGlnbjogY2VudGVyOyAqL1xuXG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjY3ZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMC42N2VtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuYnV0dG9uIHtcbiAgICAvKiB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAzMHB4OyAqL1xuICAgIGFwcGVhcmFuY2U6IGF1dG87XG4gICAgLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGIgIWltcG9ydGFudDtcbiAgICB0ZXh0LXJlbmRlcmluZzogYXV0bztcbiAgICBjb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsoYmxhY2ssIHdoaXRlKTtcbiAgICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICAgIHdvcmQtc3BhY2luZzogbm9ybWFsO1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIHRleHQtaW5kZW50OiAwcHg7XG4gICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDIzOSwgMjM5LCAyMzkpLCByZ2IoNTksIDU5LCA1OSkpO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgbWFyZ2luOiAwZW07XG4gICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDtcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xuICAgIGJvcmRlci13aWR0aDogMnB4O1xuICAgIGJvcmRlci1zdHlsZTogb3V0c2V0O1xuICAgIGJvcmRlci1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDExOCwgMTE4LCAxMTgpLCByZ2IoMTMzLCAxMzMsIDEzMykpO1xuICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG59XG5cbi8qIGJ1dHRvbiA6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigxNTAsIDE1MCwgMTUwKSwgcmdiKDEyMSwgMTIxLCAxMjEpKTtcbn0gKi9cbjwvc3R5bGU+XG4iLCJmdW5jdGlvbiBzdHlsZUluamVjdChjc3MsIHJlZikge1xuICBpZiAoIHJlZiA9PT0gdm9pZCAwICkgcmVmID0ge307XG4gIHZhciBpbnNlcnRBdCA9IHJlZi5pbnNlcnRBdDtcblxuICBpZiAoIWNzcyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybjsgfVxuXG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICBpZiAoaW5zZXJ0QXQgPT09ICd0b3AnKSB7XG4gICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkge1xuICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGUsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlSW5qZWN0O1xuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwidG9wXCI+XG4gICAgICA8aW1nIGFsdD1cIlZ1ZSBsb2dvXCIgc3JjPVwiLi4vLi4vYXNzZXRzL2xvZ28ucG5nXCIgLz5cbiAgICAgIDxTb21lVGV4dCBtc2c9XCJOZXR3b3JrZWQgVnVlIENvbXBvbmVudCB3aXRoIFNoYXJlZCBCdXR0b24gQ291bnRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgU29tZVRleHQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9OZXR3b3JrZWRIZWxsb1dvcmxkLnZ1ZSdcbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuI3RvcCB7XG4gIGZvbnQtZmFtaWx5OiBBdmVuaXIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjNTAzMTJjO1xuICBtYXJnaW4tdG9wOiAzMHB4O1xuICBib3JkZXI6IDU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlci1jb2xvcjogcmVkO1xuICB3aWR0aDogNDAwcHg7IGhlaWdodDogNDUwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cblxuKiB7XG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xufVxuPC9zdHlsZT5cbiIsImNsYXNzIFZlY3RvcjIge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAgKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0fVxuXG5cdGdldCB3aWR0aCgpIHtcblxuXHRcdHJldHVybiB0aGlzLng7XG5cblx0fVxuXG5cdHNldCB3aWR0aCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLnggPSB2YWx1ZTtcblxuXHR9XG5cblx0Z2V0IGhlaWdodCgpIHtcblxuXHRcdHJldHVybiB0aGlzLnk7XG5cblx0fVxuXG5cdHNldCBoZWlnaHQoIHZhbHVlICkge1xuXG5cdFx0dGhpcy55ID0gdmFsdWU7XG5cblx0fVxuXG5cdHNldCggeCwgeSApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCA9IHNjYWxhcjtcblx0XHR0aGlzLnkgPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WCggeCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WSggeSApIHtcblxuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0Q29tcG9uZW50KCBpbmRleCwgdmFsdWUgKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiB0aGlzLnggPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHRoaXMueSA9IHZhbHVlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Q29tcG9uZW50KCBpbmRleCApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHJldHVybiB0aGlzLng7XG5cdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLnk7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy54LCB0aGlzLnkgKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKz0gdi54O1xuXHRcdHRoaXMueSArPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGVkVmVjdG9yKCB2LCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHYueCAqIHM7XG5cdFx0dGhpcy55ICs9IHYueSAqIHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggLT0gdi54O1xuXHRcdHRoaXMueSAtPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHYgKSB7XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCAqPSBzY2FsYXI7XG5cdFx0dGhpcy55ICo9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlU2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIHNjYWxhciApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDMoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHkgKyBlWyA2IF07XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWluKCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWF4KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXAoIG1pbiwgbWF4ICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW4ueCwgTWF0aC5taW4oIG1heC54LCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wU2NhbGFyKCBtaW5WYWwsIG1heFZhbCApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy55ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGgucm91bmQoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kVG9aZXJvKCkge1xuXG5cdFx0dGhpcy54ID0gKCB0aGlzLnggPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueCApIDogTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gKCB0aGlzLnkgPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueSApIDogTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bmVnYXRlKCkge1xuXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTtcblxuXHR9XG5cblx0Y3Jvc3MoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54O1xuXG5cdH1cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSApO1xuXG5cdH1cblxuXHRtYW5oYXR0YW5MZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xuXG5cdH1cblxuXHRhbmdsZSgpIHtcblxuXHRcdC8vIGNvbXB1dGVzIHRoZSBhbmdsZSBpbiByYWRpYW5zIHdpdGggcmVzcGVjdCB0byB0aGUgcG9zaXRpdmUgeC1heGlzXG5cblx0XHRjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoIC0gdGhpcy55LCAtIHRoaXMueCApICsgTWF0aC5QSTtcblxuXHRcdHJldHVybiBhbmdsZTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueTtcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApO1xuXG5cdH1cblxuXHRzZXRMZW5ndGgoIGxlbmd0aCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKCBsZW5ndGggKTtcblxuXHR9XG5cblx0bGVycCggdiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggKz0gKCB2LnggLSB0aGlzLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSArPSAoIHYueSAtIHRoaXMueSApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggdiApIHtcblxuXHRcdHJldHVybiAoICggdi54ID09PSB0aGlzLnggKSAmJiAoIHYueSA9PT0gdGhpcy55ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLng7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMueTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG5cdFx0aWYgKCBvZmZzZXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuXHRcdHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZUFyb3VuZCggY2VudGVyLCBhbmdsZSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggYW5nbGUgKSwgcyA9IE1hdGguc2luKCBhbmdsZSApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCAtIGNlbnRlci54O1xuXHRcdGNvbnN0IHkgPSB0aGlzLnkgLSBjZW50ZXIueTtcblxuXHRcdHRoaXMueCA9IHggKiBjIC0geSAqIHMgKyBjZW50ZXIueDtcblx0XHR0aGlzLnkgPSB4ICogcyArIHkgKiBjICsgY2VudGVyLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmFuZG9tKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59XG5cblZlY3RvcjIucHJvdG90eXBlLmlzVmVjdG9yMiA9IHRydWU7XG5cbmV4cG9ydCB7IFZlY3RvcjIgfTtcbiIsImNvbnN0IF9sdXQgPSBbXTtcblxuZm9yICggbGV0IGkgPSAwOyBpIDwgMjU2OyBpICsrICkge1xuXG5cdF9sdXRbIGkgXSA9ICggaSA8IDE2ID8gJzAnIDogJycgKSArICggaSApLnRvU3RyaW5nKCAxNiApO1xuXG59XG5cbmxldCBfc2VlZCA9IDEyMzQ1Njc7XG5cblxuY29uc3QgREVHMlJBRCA9IE1hdGguUEkgLyAxODA7XG5jb25zdCBSQUQyREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2XG5mdW5jdGlvbiBnZW5lcmF0ZVVVSUQoKSB7XG5cblx0Y29uc3QgZDAgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IGQxID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCBkMiA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcblx0Y29uc3QgZDMgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IHV1aWQgPSBfbHV0WyBkMCAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQxICYgMHhmZiBdICsgX2x1dFsgZDEgPj4gOCAmIDB4ZmYgXSArICctJyArIF9sdXRbIGQxID4+IDE2ICYgMHgwZiB8IDB4NDAgXSArIF9sdXRbIGQxID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQyICYgMHgzZiB8IDB4ODAgXSArIF9sdXRbIGQyID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMiA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQyID4+IDI0ICYgMHhmZiBdICtcblx0XHRcdF9sdXRbIGQzICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gOCAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gMjQgJiAweGZmIF07XG5cblx0Ly8gLnRvVXBwZXJDYXNlKCkgaGVyZSBmbGF0dGVucyBjb25jYXRlbmF0ZWQgc3RyaW5ncyB0byBzYXZlIGhlYXAgbWVtb3J5IHNwYWNlLlxuXHRyZXR1cm4gdXVpZC50b1VwcGVyQ2FzZSgpO1xuXG59XG5cbmZ1bmN0aW9uIGNsYW1wKCB2YWx1ZSwgbWluLCBtYXggKSB7XG5cblx0cmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIHZhbHVlICkgKTtcblxufVxuXG4vLyBjb21wdXRlIGV1Y2xpZGlhbiBtb2R1bG8gb2YgbSAlIG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb25cbmZ1bmN0aW9uIGV1Y2xpZGVhbk1vZHVsbyggbiwgbSApIHtcblxuXHRyZXR1cm4gKCAoIG4gJSBtICkgKyBtICkgJSBtO1xuXG59XG5cbi8vIExpbmVhciBtYXBwaW5nIGZyb20gcmFuZ2UgPGExLCBhMj4gdG8gcmFuZ2UgPGIxLCBiMj5cbmZ1bmN0aW9uIG1hcExpbmVhciggeCwgYTEsIGEyLCBiMSwgYjIgKSB7XG5cblx0cmV0dXJuIGIxICsgKCB4IC0gYTEgKSAqICggYjIgLSBiMSApIC8gKCBhMiAtIGExICk7XG5cbn1cblxuLy8gaHR0cHM6Ly93d3cuZ2FtZWRldi5uZXQvdHV0b3JpYWxzL3Byb2dyYW1taW5nL2dlbmVyYWwtYW5kLWdhbWVwbGF5LXByb2dyYW1taW5nL2ludmVyc2UtbGVycC1hLXN1cGVyLXVzZWZ1bC15ZXQtb2Z0ZW4tb3Zlcmxvb2tlZC1mdW5jdGlvbi1yNTIzMC9cbmZ1bmN0aW9uIGludmVyc2VMZXJwKCB4LCB5LCB2YWx1ZSApIHtcblxuXHRpZiAoIHggIT09IHkgKSB7XG5cblx0XHRyZXR1cm4gKCB2YWx1ZSAtIHggKSAvICggeSAtIHggKTtcblxuXHRcdCB9IGVsc2Uge1xuXG5cdFx0cmV0dXJuIDA7XG5cblx0XHQgfVxuXG59XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uXG5mdW5jdGlvbiBsZXJwKCB4LCB5LCB0ICkge1xuXG5cdHJldHVybiAoIDEgLSB0ICkgKiB4ICsgdCAqIHk7XG5cbn1cblxuLy8gaHR0cDovL3d3dy5yb3J5ZHJpc2NvbGwuY29tLzIwMTYvMDMvMDcvZnJhbWUtcmF0ZS1pbmRlcGVuZGVudC1kYW1waW5nLXVzaW5nLWxlcnAvXG5mdW5jdGlvbiBkYW1wKCB4LCB5LCBsYW1iZGEsIGR0ICkge1xuXG5cdHJldHVybiBsZXJwKCB4LCB5LCAxIC0gTWF0aC5leHAoIC0gbGFtYmRhICogZHQgKSApO1xuXG59XG5cbi8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci92Y3Nqbnl6N3g0XG5mdW5jdGlvbiBwaW5ncG9uZyggeCwgbGVuZ3RoID0gMSApIHtcblxuXHRyZXR1cm4gbGVuZ3RoIC0gTWF0aC5hYnMoIGV1Y2xpZGVhbk1vZHVsbyggeCwgbGVuZ3RoICogMiApIC0gbGVuZ3RoICk7XG5cbn1cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhzdGVwXG5mdW5jdGlvbiBzbW9vdGhzdGVwKCB4LCBtaW4sIG1heCApIHtcblxuXHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdGlmICggeCA+PSBtYXggKSByZXR1cm4gMTtcblxuXHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdHJldHVybiB4ICogeCAqICggMyAtIDIgKiB4ICk7XG5cbn1cblxuZnVuY3Rpb24gc21vb3RoZXJzdGVwKCB4LCBtaW4sIG1heCApIHtcblxuXHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdGlmICggeCA+PSBtYXggKSByZXR1cm4gMTtcblxuXHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdHJldHVybiB4ICogeCAqIHggKiAoIHggKiAoIHggKiA2IC0gMTUgKSArIDEwICk7XG5cbn1cblxuLy8gUmFuZG9tIGludGVnZXIgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbFxuZnVuY3Rpb24gcmFuZEludCggbG93LCBoaWdoICkge1xuXG5cdHJldHVybiBsb3cgKyBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBoaWdoIC0gbG93ICsgMSApICk7XG5cbn1cblxuLy8gUmFuZG9tIGZsb2F0IGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRGbG9hdCggbG93LCBoaWdoICkge1xuXG5cdHJldHVybiBsb3cgKyBNYXRoLnJhbmRvbSgpICogKCBoaWdoIC0gbG93ICk7XG5cbn1cblxuLy8gUmFuZG9tIGZsb2F0IGZyb20gPC1yYW5nZS8yLCByYW5nZS8yPiBpbnRlcnZhbFxuZnVuY3Rpb24gcmFuZEZsb2F0U3ByZWFkKCByYW5nZSApIHtcblxuXHRyZXR1cm4gcmFuZ2UgKiAoIDAuNSAtIE1hdGgucmFuZG9tKCkgKTtcblxufVxuXG4vLyBEZXRlcm1pbmlzdGljIHBzZXVkby1yYW5kb20gZmxvYXQgaW4gdGhlIGludGVydmFsIFsgMCwgMSBdXG5mdW5jdGlvbiBzZWVkZWRSYW5kb20oIHMgKSB7XG5cblx0aWYgKCBzICE9PSB1bmRlZmluZWQgKSBfc2VlZCA9IHMgJSAyMTQ3NDgzNjQ3O1xuXG5cdC8vIFBhcmstTWlsbGVyIGFsZ29yaXRobVxuXG5cdF9zZWVkID0gX3NlZWQgKiAxNjgwNyAlIDIxNDc0ODM2NDc7XG5cblx0cmV0dXJuICggX3NlZWQgLSAxICkgLyAyMTQ3NDgzNjQ2O1xuXG59XG5cbmZ1bmN0aW9uIGRlZ1RvUmFkKCBkZWdyZWVzICkge1xuXG5cdHJldHVybiBkZWdyZWVzICogREVHMlJBRDtcblxufVxuXG5mdW5jdGlvbiByYWRUb0RlZyggcmFkaWFucyApIHtcblxuXHRyZXR1cm4gcmFkaWFucyAqIFJBRDJERUc7XG5cbn1cblxuZnVuY3Rpb24gaXNQb3dlck9mVHdvKCB2YWx1ZSApIHtcblxuXHRyZXR1cm4gKCB2YWx1ZSAmICggdmFsdWUgLSAxICkgKSA9PT0gMCAmJiB2YWx1ZSAhPT0gMDtcblxufVxuXG5mdW5jdGlvbiBjZWlsUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmNlaWwoIE1hdGgubG9nKCB2YWx1ZSApIC8gTWF0aC5MTjIgKSApO1xuXG59XG5cbmZ1bmN0aW9uIGZsb29yUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmZsb29yKCBNYXRoLmxvZyggdmFsdWUgKSAvIE1hdGguTE4yICkgKTtcblxufVxuXG5mdW5jdGlvbiBzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCBxLCBhLCBiLCBjLCBvcmRlciApIHtcblxuXHQvLyBJbnRyaW5zaWMgUHJvcGVyIEV1bGVyIEFuZ2xlcyAtIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWxlcl9hbmdsZXNcblxuXHQvLyByb3RhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGF4ZXMgaW4gdGhlIG9yZGVyIHNwZWNpZmllZCBieSAnb3JkZXInXG5cdC8vIHJvdGF0aW9uIGJ5IGFuZ2xlICdhJyBpcyBhcHBsaWVkIGZpcnN0LCB0aGVuIGJ5IGFuZ2xlICdiJywgdGhlbiBieSBhbmdsZSAnYydcblx0Ly8gYW5nbGVzIGFyZSBpbiByYWRpYW5zXG5cblx0Y29uc3QgY29zID0gTWF0aC5jb3M7XG5cdGNvbnN0IHNpbiA9IE1hdGguc2luO1xuXG5cdGNvbnN0IGMyID0gY29zKCBiIC8gMiApO1xuXHRjb25zdCBzMiA9IHNpbiggYiAvIDIgKTtcblxuXHRjb25zdCBjMTMgPSBjb3MoICggYSArIGMgKSAvIDIgKTtcblx0Y29uc3QgczEzID0gc2luKCAoIGEgKyBjICkgLyAyICk7XG5cblx0Y29uc3QgYzFfMyA9IGNvcyggKCBhIC0gYyApIC8gMiApO1xuXHRjb25zdCBzMV8zID0gc2luKCAoIGEgLSBjICkgLyAyICk7XG5cblx0Y29uc3QgYzNfMSA9IGNvcyggKCBjIC0gYSApIC8gMiApO1xuXHRjb25zdCBzM18xID0gc2luKCAoIGMgLSBhICkgLyAyICk7XG5cblx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRjYXNlICdYWVgnOlxuXHRcdFx0cS5zZXQoIGMyICogczEzLCBzMiAqIGMxXzMsIHMyICogczFfMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWVpZJzpcblx0XHRcdHEuc2V0KCBzMiAqIHMxXzMsIGMyICogczEzLCBzMiAqIGMxXzMsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1pYWic6XG5cdFx0XHRxLnNldCggczIgKiBjMV8zLCBzMiAqIHMxXzMsIGMyICogczEzLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdYWlgnOlxuXHRcdFx0cS5zZXQoIGMyICogczEzLCBzMiAqIHMzXzEsIHMyICogYzNfMSwgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWVhZJzpcblx0XHRcdHEuc2V0KCBzMiAqIGMzXzEsIGMyICogczEzLCBzMiAqIHMzXzEsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1pZWic6XG5cdFx0XHRxLnNldCggczIgKiBzM18xLCBzMiAqIGMzXzEsIGMyICogczEzLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0aFV0aWxzOiAuc2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlciApO1xuXG5cdH1cblxufVxuXG5cblxuXG5leHBvcnQge1xuXHRERUcyUkFELFxuXHRSQUQyREVHLFxuXHRnZW5lcmF0ZVVVSUQsXG5cdGNsYW1wLFxuXHRldWNsaWRlYW5Nb2R1bG8sXG5cdG1hcExpbmVhcixcblx0aW52ZXJzZUxlcnAsXG5cdGxlcnAsXG5cdGRhbXAsXG5cdHBpbmdwb25nLFxuXHRzbW9vdGhzdGVwLFxuXHRzbW9vdGhlcnN0ZXAsXG5cdHJhbmRJbnQsXG5cdHJhbmRGbG9hdCxcblx0cmFuZEZsb2F0U3ByZWFkLFxuXHRzZWVkZWRSYW5kb20sXG5cdGRlZ1RvUmFkLFxuXHRyYWRUb0RlZyxcblx0aXNQb3dlck9mVHdvLFxuXHRjZWlsUG93ZXJPZlR3byxcblx0Zmxvb3JQb3dlck9mVHdvLFxuXHRzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyLFxufTtcbiIsImltcG9ydCAqIGFzIE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5cbmNsYXNzIFF1YXRlcm5pb24ge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdH1cblxuXHRzdGF0aWMgc2xlcnAoIHFhLCBxYiwgcW0sIHQgKSB7XG5cblx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5RdWF0ZXJuaW9uOiBTdGF0aWMgLnNsZXJwKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHFtLnNsZXJwUXVhdGVybmlvbnMoIHFhLCBxYiwgdCApIGluc3RlYWQuJyApO1xuXHRcdHJldHVybiBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKTtcblxuXHR9XG5cblx0c3RhdGljIHNsZXJwRmxhdCggZHN0LCBkc3RPZmZzZXQsIHNyYzAsIHNyY09mZnNldDAsIHNyYzEsIHNyY09mZnNldDEsIHQgKSB7XG5cblx0XHQvLyBmdXp6LWZyZWUsIGFycmF5LWJhc2VkIFF1YXRlcm5pb24gU0xFUlAgb3BlcmF0aW9uXG5cblx0XHRsZXQgeDAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMCBdLFxuXHRcdFx0eTAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMSBdLFxuXHRcdFx0ejAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMiBdLFxuXHRcdFx0dzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMCBdLFxuXHRcdFx0eTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdLFxuXHRcdFx0ejEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMiBdLFxuXHRcdFx0dzEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMyBdO1xuXG5cdFx0aWYgKCB0ID09PSAwICkge1xuXG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDAgXSA9IHgwO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MDtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejA7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcwO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0ID09PSAxICkge1xuXG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDAgXSA9IHgxO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MTtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejE7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcxO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB3MCAhPT0gdzEgfHwgeDAgIT09IHgxIHx8IHkwICE9PSB5MSB8fCB6MCAhPT0gejEgKSB7XG5cblx0XHRcdGxldCBzID0gMSAtIHQ7XG5cdFx0XHRjb25zdCBjb3MgPSB4MCAqIHgxICsgeTAgKiB5MSArIHowICogejEgKyB3MCAqIHcxLFxuXHRcdFx0XHRkaXIgPSAoIGNvcyA+PSAwID8gMSA6IC0gMSApLFxuXHRcdFx0XHRzcXJTaW4gPSAxIC0gY29zICogY29zO1xuXG5cdFx0XHQvLyBTa2lwIHRoZSBTbGVycCBmb3IgdGlueSBzdGVwcyB0byBhdm9pZCBudW1lcmljIHByb2JsZW1zOlxuXHRcdFx0aWYgKCBzcXJTaW4gPiBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0XHRjb25zdCBzaW4gPSBNYXRoLnNxcnQoIHNxclNpbiApLFxuXHRcdFx0XHRcdGxlbiA9IE1hdGguYXRhbjIoIHNpbiwgY29zICogZGlyICk7XG5cblx0XHRcdFx0cyA9IE1hdGguc2luKCBzICogbGVuICkgLyBzaW47XG5cdFx0XHRcdHQgPSBNYXRoLnNpbiggdCAqIGxlbiApIC8gc2luO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHREaXIgPSB0ICogZGlyO1xuXG5cdFx0XHR4MCA9IHgwICogcyArIHgxICogdERpcjtcblx0XHRcdHkwID0geTAgKiBzICsgeTEgKiB0RGlyO1xuXHRcdFx0ejAgPSB6MCAqIHMgKyB6MSAqIHREaXI7XG5cdFx0XHR3MCA9IHcwICogcyArIHcxICogdERpcjtcblxuXHRcdFx0Ly8gTm9ybWFsaXplIGluIGNhc2Ugd2UganVzdCBkaWQgYSBsZXJwOlxuXHRcdFx0aWYgKCBzID09PSAxIC0gdCApIHtcblxuXHRcdFx0XHRjb25zdCBmID0gMSAvIE1hdGguc3FydCggeDAgKiB4MCArIHkwICogeTAgKyB6MCAqIHowICsgdzAgKiB3MCApO1xuXG5cdFx0XHRcdHgwICo9IGY7XG5cdFx0XHRcdHkwICo9IGY7XG5cdFx0XHRcdHowICo9IGY7XG5cdFx0XHRcdHcwICo9IGY7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGRzdFsgZHN0T2Zmc2V0IF0gPSB4MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MDtcblxuXHR9XG5cblx0c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KCBkc3QsIGRzdE9mZnNldCwgc3JjMCwgc3JjT2Zmc2V0MCwgc3JjMSwgc3JjT2Zmc2V0MSApIHtcblxuXHRcdGNvbnN0IHgwID0gc3JjMFsgc3JjT2Zmc2V0MCBdO1xuXHRcdGNvbnN0IHkwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDEgXTtcblx0XHRjb25zdCB6MCA9IHNyYzBbIHNyY09mZnNldDAgKyAyIF07XG5cdFx0Y29uc3QgdzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxIF07XG5cdFx0Y29uc3QgeTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdO1xuXHRcdGNvbnN0IHoxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDIgXTtcblx0XHRjb25zdCB3MSA9IHNyYzFbIHNyY09mZnNldDEgKyAzIF07XG5cblx0XHRkc3RbIGRzdE9mZnNldCBdID0geDAgKiB3MSArIHcwICogeDEgKyB5MCAqIHoxIC0gejAgKiB5MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwICogdzEgKyB3MCAqIHkxICsgejAgKiB4MSAtIHgwICogejE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAyIF0gPSB6MCAqIHcxICsgdzAgKiB6MSArIHgwICogeTEgLSB5MCAqIHgxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMyBdID0gdzAgKiB3MSAtIHgwICogeDEgLSB5MCAqIHkxIC0gejAgKiB6MTtcblxuXHRcdHJldHVybiBkc3Q7XG5cblx0fVxuXG5cdGdldCB4KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cblx0fVxuXG5cdHNldCB4KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ggPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cblx0fVxuXG5cdHNldCB5KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3kgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB6KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3o7XG5cblx0fVxuXG5cdHNldCB6KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ogPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB3KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3c7XG5cblx0fVxuXG5cdHNldCB3KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3cgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgdyApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl93ICk7XG5cblx0fVxuXG5cdGNvcHkoIHF1YXRlcm5pb24gKSB7XG5cblx0XHR0aGlzLl94ID0gcXVhdGVybmlvbi54O1xuXHRcdHRoaXMuX3kgPSBxdWF0ZXJuaW9uLnk7XG5cdFx0dGhpcy5feiA9IHF1YXRlcm5pb24uejtcblx0XHR0aGlzLl93ID0gcXVhdGVybmlvbi53O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21FdWxlciggZXVsZXIsIHVwZGF0ZSApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLl94LCB5ID0gZXVsZXIuX3ksIHogPSBldWxlci5feiwgb3JkZXIgPSBldWxlci5fb3JkZXI7XG5cblx0XHQvLyBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvXG5cdFx0Ly8gXHQyMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy9cblx0XHQvL1x0Y29udGVudC9TcGluQ2FsYy5tXG5cblx0XHRjb25zdCBjb3MgPSBNYXRoLmNvcztcblx0XHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRcdGNvbnN0IGMxID0gY29zKCB4IC8gMiApO1xuXHRcdGNvbnN0IGMyID0gY29zKCB5IC8gMiApO1xuXHRcdGNvbnN0IGMzID0gY29zKCB6IC8gMiApO1xuXG5cdFx0Y29uc3QgczEgPSBzaW4oIHggLyAyICk7XG5cdFx0Y29uc3QgczIgPSBzaW4oIHkgLyAyICk7XG5cdFx0Y29uc3QgczMgPSBzaW4oIHogLyAyICk7XG5cblx0XHRzd2l0Y2ggKCBvcmRlciApIHtcblxuXHRcdFx0Y2FzZSAnWFlaJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1lYWic6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWFknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWllYJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1laWCc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdYWlknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL2FuZ2xlVG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxuXG5cdFx0Ly8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWRcblxuXHRcdGNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlIC8gMiwgcyA9IE1hdGguc2luKCBoYWxmQW5nbGUgKTtcblxuXHRcdHRoaXMuX3ggPSBheGlzLnggKiBzO1xuXHRcdHRoaXMuX3kgPSBheGlzLnkgKiBzO1xuXHRcdHRoaXMuX3ogPSBheGlzLnogKiBzO1xuXHRcdHRoaXMuX3cgPSBNYXRoLmNvcyggaGFsZkFuZ2xlICk7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVJvdGF0aW9uTWF0cml4KCBtICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHMsXG5cblx0XHRcdG0xMSA9IHRlWyAwIF0sIG0xMiA9IHRlWyA0IF0sIG0xMyA9IHRlWyA4IF0sXG5cdFx0XHRtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdLFxuXHRcdFx0bTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF0sXG5cblx0XHRcdHRyYWNlID0gbTExICsgbTIyICsgbTMzO1xuXG5cdFx0aWYgKCB0cmFjZSA+IDAgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAwLjUgLyBNYXRoLnNxcnQoIHRyYWNlICsgMS4wICk7XG5cblx0XHRcdHRoaXMuX3cgPSAwLjI1IC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0zMiAtIG0yMyApICogcztcblx0XHRcdHRoaXMuX3kgPSAoIG0xMyAtIG0zMSApICogcztcblx0XHRcdHRoaXMuX3ogPSAoIG0yMSAtIG0xMiApICogcztcblxuXHRcdH0gZWxzZSBpZiAoIG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0xMSAtIG0yMiAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMzIgLSBtMjMgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMTMgKyBtMzEgKSAvIHM7XG5cblx0XHR9IGVsc2UgaWYgKCBtMjIgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0yMiAtIG0xMSAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMTMgLSBtMzEgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl95ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMjMgKyBtMzIgKSAvIHM7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMzMgLSBtMTEgLSBtMjIgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTIxIC0gbTEyICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTEzICsgbTMxICkgLyBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTIzICsgbTMyICkgLyBzO1xuXHRcdFx0dGhpcy5feiA9IDAuMjUgKiBzO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Vbml0VmVjdG9ycyggdkZyb20sIHZUbyApIHtcblxuXHRcdC8vIGFzc3VtZXMgZGlyZWN0aW9uIHZlY3RvcnMgdkZyb20gYW5kIHZUbyBhcmUgbm9ybWFsaXplZFxuXG5cdFx0bGV0IHIgPSB2RnJvbS5kb3QoIHZUbyApICsgMTtcblxuXHRcdGlmICggciA8IE51bWJlci5FUFNJTE9OICkge1xuXG5cdFx0XHQvLyB2RnJvbSBhbmQgdlRvIHBvaW50IGluIG9wcG9zaXRlIGRpcmVjdGlvbnNcblxuXHRcdFx0ciA9IDA7XG5cblx0XHRcdGlmICggTWF0aC5hYnMoIHZGcm9tLnggKSA+IE1hdGguYWJzKCB2RnJvbS56ICkgKSB7XG5cblx0XHRcdFx0dGhpcy5feCA9IC0gdkZyb20ueTtcblx0XHRcdFx0dGhpcy5feSA9IHZGcm9tLng7XG5cdFx0XHRcdHRoaXMuX3ogPSAwO1xuXHRcdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0dGhpcy5feSA9IC0gdkZyb20uejtcblx0XHRcdFx0dGhpcy5feiA9IHZGcm9tLnk7XG5cdFx0XHRcdHRoaXMuX3cgPSByO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBjcm9zc1ZlY3RvcnMoIHZGcm9tLCB2VG8gKTsgLy8gaW5saW5lZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeSBvbiBWZWN0b3IzXG5cblx0XHRcdHRoaXMuX3ggPSB2RnJvbS55ICogdlRvLnogLSB2RnJvbS56ICogdlRvLnk7XG5cdFx0XHR0aGlzLl95ID0gdkZyb20ueiAqIHZUby54IC0gdkZyb20ueCAqIHZUby56O1xuXHRcdFx0dGhpcy5feiA9IHZGcm9tLnggKiB2VG8ueSAtIHZGcm9tLnkgKiB2VG8ueDtcblx0XHRcdHRoaXMuX3cgPSByO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGFuZ2xlVG8oIHEgKSB7XG5cblx0XHRyZXR1cm4gMiAqIE1hdGguYWNvcyggTWF0aC5hYnMoIE1hdGhVdGlscy5jbGFtcCggdGhpcy5kb3QoIHEgKSwgLSAxLCAxICkgKSApO1xuXG5cdH1cblxuXHRyb3RhdGVUb3dhcmRzKCBxLCBzdGVwICkge1xuXG5cdFx0Y29uc3QgYW5nbGUgPSB0aGlzLmFuZ2xlVG8oIHEgKTtcblxuXHRcdGlmICggYW5nbGUgPT09IDAgKSByZXR1cm4gdGhpcztcblxuXHRcdGNvbnN0IHQgPSBNYXRoLm1pbiggMSwgc3RlcCAvIGFuZ2xlICk7XG5cblx0XHR0aGlzLnNsZXJwKCBxLCB0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aWRlbnRpdHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAsIDEgKTtcblxuXHR9XG5cblx0aW52ZXJ0KCkge1xuXG5cdFx0Ly8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLmNvbmp1Z2F0ZSgpO1xuXG5cdH1cblxuXHRjb25qdWdhdGUoKSB7XG5cblx0XHR0aGlzLl94ICo9IC0gMTtcblx0XHR0aGlzLl95ICo9IC0gMTtcblx0XHR0aGlzLl96ICo9IC0gMTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feCAqIHYuX3ggKyB0aGlzLl95ICogdi5feSArIHRoaXMuX3ogKiB2Ll96ICsgdGhpcy5fdyAqIHYuX3c7XG5cblx0fVxuXG5cdGxlbmd0aFNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3ggKiB0aGlzLl94ICsgdGhpcy5feSAqIHRoaXMuX3kgKyB0aGlzLl96ICogdGhpcy5feiArIHRoaXMuX3cgKiB0aGlzLl93O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdyApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRsZXQgbCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRpZiAoIGwgPT09IDAgKSB7XG5cblx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdHRoaXMuX3cgPSAxO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bCA9IDEgLyBsO1xuXG5cdFx0XHR0aGlzLl94ID0gdGhpcy5feCAqIGw7XG5cdFx0XHR0aGlzLl95ID0gdGhpcy5feSAqIGw7XG5cdFx0XHR0aGlzLl96ID0gdGhpcy5feiAqIGw7XG5cdFx0XHR0aGlzLl93ID0gdGhpcy5fdyAqIGw7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHEsIHAgKSB7XG5cblx0XHRpZiAoIHAgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggcSwgcCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGhpcywgcSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggcSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHEsIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIHtcblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9jb2RlL2luZGV4Lmh0bVxuXG5cdFx0Y29uc3QgcWF4ID0gYS5feCwgcWF5ID0gYS5feSwgcWF6ID0gYS5feiwgcWF3ID0gYS5fdztcblx0XHRjb25zdCBxYnggPSBiLl94LCBxYnkgPSBiLl95LCBxYnogPSBiLl96LCBxYncgPSBiLl93O1xuXG5cdFx0dGhpcy5feCA9IHFheCAqIHFidyArIHFhdyAqIHFieCArIHFheSAqIHFieiAtIHFheiAqIHFieTtcblx0XHR0aGlzLl95ID0gcWF5ICogcWJ3ICsgcWF3ICogcWJ5ICsgcWF6ICogcWJ4IC0gcWF4ICogcWJ6O1xuXHRcdHRoaXMuX3ogPSBxYXogKiBxYncgKyBxYXcgKiBxYnogKyBxYXggKiBxYnkgLSBxYXkgKiBxYng7XG5cdFx0dGhpcy5fdyA9IHFhdyAqIHFidyAtIHFheCAqIHFieCAtIHFheSAqIHFieSAtIHFheiAqIHFiejtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzbGVycCggcWIsIHQgKSB7XG5cblx0XHRpZiAoIHQgPT09IDAgKSByZXR1cm4gdGhpcztcblx0XHRpZiAoIHQgPT09IDEgKSByZXR1cm4gdGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMuX3gsIHkgPSB0aGlzLl95LCB6ID0gdGhpcy5feiwgdyA9IHRoaXMuX3c7XG5cblx0XHQvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL3NsZXJwL1xuXG5cdFx0bGV0IGNvc0hhbGZUaGV0YSA9IHcgKiBxYi5fdyArIHggKiBxYi5feCArIHkgKiBxYi5feSArIHogKiBxYi5fejtcblxuXHRcdGlmICggY29zSGFsZlRoZXRhIDwgMCApIHtcblxuXHRcdFx0dGhpcy5fdyA9IC0gcWIuX3c7XG5cdFx0XHR0aGlzLl94ID0gLSBxYi5feDtcblx0XHRcdHRoaXMuX3kgPSAtIHFiLl95O1xuXHRcdFx0dGhpcy5feiA9IC0gcWIuX3o7XG5cblx0XHRcdGNvc0hhbGZUaGV0YSA9IC0gY29zSGFsZlRoZXRhO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBjb3NIYWxmVGhldGEgPj0gMS4wICkge1xuXG5cdFx0XHR0aGlzLl93ID0gdztcblx0XHRcdHRoaXMuX3ggPSB4O1xuXHRcdFx0dGhpcy5feSA9IHk7XG5cdFx0XHR0aGlzLl96ID0gejtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzcXJTaW5IYWxmVGhldGEgPSAxLjAgLSBjb3NIYWxmVGhldGEgKiBjb3NIYWxmVGhldGE7XG5cblx0XHRpZiAoIHNxclNpbkhhbGZUaGV0YSA8PSBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDEgLSB0O1xuXHRcdFx0dGhpcy5fdyA9IHMgKiB3ICsgdCAqIHRoaXMuX3c7XG5cdFx0XHR0aGlzLl94ID0gcyAqIHggKyB0ICogdGhpcy5feDtcblx0XHRcdHRoaXMuX3kgPSBzICogeSArIHQgKiB0aGlzLl95O1xuXHRcdFx0dGhpcy5feiA9IHMgKiB6ICsgdCAqIHRoaXMuX3o7XG5cblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XG5cdFx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2luSGFsZlRoZXRhID0gTWF0aC5zcXJ0KCBzcXJTaW5IYWxmVGhldGEgKTtcblx0XHRjb25zdCBoYWxmVGhldGEgPSBNYXRoLmF0YW4yKCBzaW5IYWxmVGhldGEsIGNvc0hhbGZUaGV0YSApO1xuXHRcdGNvbnN0IHJhdGlvQSA9IE1hdGguc2luKCAoIDEgLSB0ICkgKiBoYWxmVGhldGEgKSAvIHNpbkhhbGZUaGV0YSxcblx0XHRcdHJhdGlvQiA9IE1hdGguc2luKCB0ICogaGFsZlRoZXRhICkgLyBzaW5IYWxmVGhldGE7XG5cblx0XHR0aGlzLl93ID0gKCB3ICogcmF0aW9BICsgdGhpcy5fdyAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3ggPSAoIHggKiByYXRpb0EgKyB0aGlzLl94ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feSA9ICggeSAqIHJhdGlvQSArIHRoaXMuX3kgKiByYXRpb0IgKTtcblx0XHR0aGlzLl96ID0gKCB6ICogcmF0aW9BICsgdGhpcy5feiAqIHJhdGlvQiApO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNsZXJwUXVhdGVybmlvbnMoIHFhLCBxYiwgdCApIHtcblxuXHRcdHRoaXMuY29weSggcWEgKS5zbGVycCggcWIsIHQgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCBxdWF0ZXJuaW9uICkge1xuXG5cdFx0cmV0dXJuICggcXVhdGVybmlvbi5feCA9PT0gdGhpcy5feCApICYmICggcXVhdGVybmlvbi5feSA9PT0gdGhpcy5feSApICYmICggcXVhdGVybmlvbi5feiA9PT0gdGhpcy5feiApICYmICggcXVhdGVybmlvbi5fdyA9PT0gdGhpcy5fdyApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLl95ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLl96ID0gYXJyYXlbIG9mZnNldCArIDIgXTtcblx0XHR0aGlzLl93ID0gYXJyYXlbIG9mZnNldCArIDMgXTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy5feDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy5feTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy5fejtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGhpcy5fdztcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCApIHtcblxuXHRcdHRoaXMuX3ggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLl95ID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy5feiA9IGF0dHJpYnV0ZS5nZXRaKCBpbmRleCApO1xuXHRcdHRoaXMuX3cgPSBhdHRyaWJ1dGUuZ2V0VyggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5RdWF0ZXJuaW9uLnByb3RvdHlwZS5pc1F1YXRlcm5pb24gPSB0cnVlO1xuXG5leHBvcnQgeyBRdWF0ZXJuaW9uIH07XG4iLCJpbXBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4vUXVhdGVybmlvbi5qcyc7XG5cbmNsYXNzIFZlY3RvcjMge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwICkge1xuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHo7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiApIHtcblxuXHRcdGlmICggeiA9PT0gdW5kZWZpbmVkICkgeiA9IHRoaXMuejsgLy8gc3ByaXRlLnNjYWxlLnNldCh4LHkpXG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCA9IHNjYWxhcjtcblx0XHR0aGlzLnkgPSBzY2FsYXI7XG5cdFx0dGhpcy56ID0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFgoIHggKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFkoIHkgKSB7XG5cblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFooIHogKSB7XG5cblx0XHR0aGlzLnogPSB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudCggaW5kZXgsIHZhbHVlICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogdGhpcy54ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB0aGlzLnkgPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHRoaXMueiA9IHZhbHVlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Q29tcG9uZW50KCBpbmRleCApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHJldHVybiB0aGlzLng7XG5cdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLnk7XG5cdFx0XHRjYXNlIDI6IHJldHVybiB0aGlzLno7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy54LCB0aGlzLnksIHRoaXMueiApO1xuXG5cdH1cblxuXHRjb3B5KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gdi54O1xuXHRcdHRoaXMueSA9IHYueTtcblx0XHR0aGlzLnogPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKz0gdi54O1xuXHRcdHRoaXMueSArPSB2Lnk7XG5cdFx0dGhpcy56ICs9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggKz0gcztcblx0XHR0aGlzLnkgKz0gcztcblx0XHR0aGlzLnogKz0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICsgYi54O1xuXHRcdHRoaXMueSA9IGEueSArIGIueTtcblx0XHR0aGlzLnogPSBhLnogKyBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGVkVmVjdG9yKCB2LCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHYueCAqIHM7XG5cdFx0dGhpcy55ICs9IHYueSAqIHM7XG5cdFx0dGhpcy56ICs9IHYueiAqIHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggLT0gdi54O1xuXHRcdHRoaXMueSAtPSB2Lnk7XG5cdFx0dGhpcy56IC09IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggLT0gcztcblx0XHR0aGlzLnkgLT0gcztcblx0XHR0aGlzLnogLT0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54IC0gYi54O1xuXHRcdHRoaXMueSA9IGEueSAtIGIueTtcblx0XHR0aGlzLnogPSBhLnogLSBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCAqPSB2Lng7XG5cdFx0dGhpcy55ICo9IHYueTtcblx0XHR0aGlzLnogKj0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggKj0gc2NhbGFyO1xuXHRcdHRoaXMueSAqPSBzY2FsYXI7XG5cdFx0dGhpcy56ICo9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggKiBiLng7XG5cdFx0dGhpcy55ID0gYS55ICogYi55O1xuXHRcdHRoaXMueiA9IGEueiAqIGIuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseUV1bGVyKCBldWxlciApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLlZlY3RvcjM6IC5hcHBseUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggZXVsZXIgKSApO1xuXG5cdH1cblxuXHRhcHBseUF4aXNBbmdsZSggYXhpcywgYW5nbGUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgZVsgNiBdICogejtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDcgXSAqIHo7XG5cdFx0dGhpcy56ID0gZVsgMiBdICogeCArIGVbIDUgXSAqIHkgKyBlWyA4IF0gKiB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5Tm9ybWFsTWF0cml4KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKCBtICkubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHRjb25zdCB3ID0gMSAvICggZVsgMyBdICogeCArIGVbIDcgXSAqIHkgKyBlWyAxMSBdICogeiArIGVbIDE1IF0gKTtcblxuXHRcdHRoaXMueCA9ICggZVsgMCBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA4IF0gKiB6ICsgZVsgMTIgXSApICogdztcblx0XHR0aGlzLnkgPSAoIGVbIDEgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOSBdICogeiArIGVbIDEzIF0gKSAqIHc7XG5cdFx0dGhpcy56ID0gKCBlWyAyIF0gKiB4ICsgZVsgNiBdICogeSArIGVbIDEwIF0gKiB6ICsgZVsgMTQgXSApICogdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseVF1YXRlcm5pb24oIHEgKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IHF4ID0gcS54LCBxeSA9IHEueSwgcXogPSBxLnosIHF3ID0gcS53O1xuXG5cdFx0Ly8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcblxuXHRcdGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuXHRcdGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuXHRcdGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuXHRcdGNvbnN0IGl3ID0gLSBxeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7XG5cblx0XHQvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG5cblx0XHR0aGlzLnggPSBpeCAqIHF3ICsgaXcgKiAtIHF4ICsgaXkgKiAtIHF6IC0gaXogKiAtIHF5O1xuXHRcdHRoaXMueSA9IGl5ICogcXcgKyBpdyAqIC0gcXkgKyBpeiAqIC0gcXggLSBpeCAqIC0gcXo7XG5cdFx0dGhpcy56ID0gaXogKiBxdyArIGl3ICogLSBxeiArIGl4ICogLSBxeSAtIGl5ICogLSBxeDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRwcm9qZWN0KCBjYW1lcmEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoIGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UgKS5hcHBseU1hdHJpeDQoIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4ICk7XG5cblx0fVxuXG5cdHVucHJvamVjdCggY2FtZXJhICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KCBjYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UgKS5hcHBseU1hdHJpeDQoIGNhbWVyYS5tYXRyaXhXb3JsZCApO1xuXG5cdH1cblxuXHR0cmFuc2Zvcm1EaXJlY3Rpb24oIG0gKSB7XG5cblx0XHQvLyBpbnB1dDogVEhSRUUuTWF0cml4NCBhZmZpbmUgbWF0cml4XG5cdFx0Ly8gdmVjdG9yIGludGVycHJldGVkIGFzIGEgZGlyZWN0aW9uXG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA4IF0gKiB6O1xuXHRcdHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOSBdICogejtcblx0XHR0aGlzLnogPSBlWyAyIF0gKiB4ICsgZVsgNiBdICogeSArIGVbIDEwIF0gKiB6O1xuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGRpdmlkZSggdiApIHtcblxuXHRcdHRoaXMueCAvPSB2Lng7XG5cdFx0dGhpcy55IC89IHYueTtcblx0XHR0aGlzLnogLz0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpdmlkZVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoIDEgLyBzY2FsYXIgKTtcblxuXHR9XG5cblx0bWluKCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5taW4oIHRoaXMueiwgdi56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWF4KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIHRoaXMueSwgdi55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIHRoaXMueiwgdi56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXAoIG1pbiwgbWF4ICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW4ueCwgTWF0aC5taW4oIG1heC54LCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCBtaW4ueiwgTWF0aC5taW4oIG1heC56LCB0aGlzLnogKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wU2NhbGFyKCBtaW5WYWwsIG1heFZhbCApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy55ICkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnogKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wTGVuZ3RoKCBtaW4sIG1heCApIHtcblxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIGxlbmd0aCB8fCAxICkubXVsdGlwbHlTY2FsYXIoIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIGxlbmd0aCApICkgKTtcblxuXHR9XG5cblx0Zmxvb3IoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLmZsb29yKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjZWlsKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5jZWlsKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNlaWwoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9IE1hdGguY2VpbCggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmQoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLnJvdW5kKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZFRvWmVybygpIHtcblxuXHRcdHRoaXMueCA9ICggdGhpcy54IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9ICggdGhpcy55IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9ICggdGhpcy56IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnogKSA6IE1hdGguZmxvb3IoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xuXHRcdHRoaXMueSA9IC0gdGhpcy55O1xuXHRcdHRoaXMueiA9IC0gdGhpcy56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRvdCggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2Lno7XG5cblx0fVxuXG5cdC8vIFRPRE8gbGVuZ3RoU3F1YXJlZD9cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLno7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiApO1xuXG5cdH1cblxuXHRtYW5oYXR0YW5MZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApICsgTWF0aC5hYnMoIHRoaXMueiApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xuXG5cdH1cblxuXHRzZXRMZW5ndGgoIGxlbmd0aCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKCBsZW5ndGggKTtcblxuXHR9XG5cblx0bGVycCggdiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggKz0gKCB2LnggLSB0aGlzLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSArPSAoIHYueSAtIHRoaXMueSApICogYWxwaGE7XG5cdFx0dGhpcy56ICs9ICggdi56IC0gdGhpcy56ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRsZXJwVmVjdG9ycyggdjEsIHYyLCBhbHBoYSApIHtcblxuXHRcdHRoaXMueCA9IHYxLnggKyAoIHYyLnggLSB2MS54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgPSB2MS55ICsgKCB2Mi55IC0gdjEueSApICogYWxwaGE7XG5cdFx0dGhpcy56ID0gdjEueiArICggdjIueiAtIHYxLnogKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNyb3NzKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnMoIHRoaXMsIHYgKTtcblxuXHR9XG5cblx0Y3Jvc3NWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYXggPSBhLngsIGF5ID0gYS55LCBheiA9IGEuejtcblx0XHRjb25zdCBieCA9IGIueCwgYnkgPSBiLnksIGJ6ID0gYi56O1xuXG5cdFx0dGhpcy54ID0gYXkgKiBieiAtIGF6ICogYnk7XG5cdFx0dGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7XG5cdFx0dGhpcy56ID0gYXggKiBieSAtIGF5ICogYng7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cHJvamVjdE9uVmVjdG9yKCB2ICkge1xuXG5cdFx0Y29uc3QgZGVub21pbmF0b3IgPSB2Lmxlbmd0aFNxKCk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkgcmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwICk7XG5cblx0XHRjb25zdCBzY2FsYXIgPSB2LmRvdCggdGhpcyApIC8gZGVub21pbmF0b3I7XG5cblx0XHRyZXR1cm4gdGhpcy5jb3B5KCB2ICkubXVsdGlwbHlTY2FsYXIoIHNjYWxhciApO1xuXG5cdH1cblxuXHRwcm9qZWN0T25QbGFuZSggcGxhbmVOb3JtYWwgKSB7XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMgKS5wcm9qZWN0T25WZWN0b3IoIHBsYW5lTm9ybWFsICk7XG5cblx0XHRyZXR1cm4gdGhpcy5zdWIoIF92ZWN0b3IgKTtcblxuXHR9XG5cblx0cmVmbGVjdCggbm9ybWFsICkge1xuXG5cdFx0Ly8gcmVmbGVjdCBpbmNpZGVudCB2ZWN0b3Igb2ZmIHBsYW5lIG9ydGhvZ29uYWwgdG8gbm9ybWFsXG5cdFx0Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aFxuXG5cdFx0cmV0dXJuIHRoaXMuc3ViKCBfdmVjdG9yLmNvcHkoIG5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAyICogdGhpcy5kb3QoIG5vcm1hbCApICkgKTtcblxuXHR9XG5cblx0YW5nbGVUbyggdiApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gTWF0aC5zcXJ0KCB0aGlzLmxlbmd0aFNxKCkgKiB2Lmxlbmd0aFNxKCkgKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgPT09IDAgKSByZXR1cm4gTWF0aC5QSSAvIDI7XG5cblx0XHRjb25zdCB0aGV0YSA9IHRoaXMuZG90KCB2ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdC8vIGNsYW1wLCB0byBoYW5kbGUgbnVtZXJpY2FsIHByb2JsZW1zXG5cblx0XHRyZXR1cm4gTWF0aC5hY29zKCBNYXRoVXRpbHMuY2xhbXAoIHRoZXRhLCAtIDEsIDEgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVRvU3F1YXJlZCggdiApICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9TcXVhcmVkKCB2ICkge1xuXG5cdFx0Y29uc3QgZHggPSB0aGlzLnggLSB2LngsIGR5ID0gdGhpcy55IC0gdi55LCBkeiA9IHRoaXMueiAtIHYuejtcblxuXHRcdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHo7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApICsgTWF0aC5hYnMoIHRoaXMueiAtIHYueiApO1xuXG5cdH1cblxuXHRzZXRGcm9tU3BoZXJpY2FsKCBzICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVNwaGVyaWNhbENvb3Jkcyggcy5yYWRpdXMsIHMucGhpLCBzLnRoZXRhICk7XG5cblx0fVxuXG5cdHNldEZyb21TcGhlcmljYWxDb29yZHMoIHJhZGl1cywgcGhpLCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IHNpblBoaVJhZGl1cyA9IE1hdGguc2luKCBwaGkgKSAqIHJhZGl1cztcblxuXHRcdHRoaXMueCA9IHNpblBoaVJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApO1xuXHRcdHRoaXMueSA9IE1hdGguY29zKCBwaGkgKSAqIHJhZGl1cztcblx0XHR0aGlzLnogPSBzaW5QaGlSYWRpdXMgKiBNYXRoLmNvcyggdGhldGEgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ3lsaW5kcmljYWwoIGMgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMoIGMucmFkaXVzLCBjLnRoZXRhLCBjLnkgKTtcblxuXHR9XG5cblx0c2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKCByYWRpdXMsIHRoZXRhLCB5ICkge1xuXG5cdFx0dGhpcy54ID0gcmFkaXVzICogTWF0aC5zaW4oIHRoZXRhICk7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSByYWRpdXMgKiBNYXRoLmNvcyggdGhldGEgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4UG9zaXRpb24oIG0gKSB7XG5cblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDEyIF07XG5cdFx0dGhpcy55ID0gZVsgMTMgXTtcblx0XHR0aGlzLnogPSBlWyAxNCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhTY2FsZSggbSApIHtcblxuXHRcdGNvbnN0IHN4ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAwICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3kgPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDEgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzeiA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMiApLmxlbmd0aCgpO1xuXG5cdFx0dGhpcy54ID0gc3g7XG5cdFx0dGhpcy55ID0gc3k7XG5cdFx0dGhpcy56ID0gc3o7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeENvbHVtbiggbSwgaW5kZXggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5mcm9tQXJyYXkoIG0uZWxlbWVudHMsIGluZGV4ICogNCApO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4M0NvbHVtbiggbSwgaW5kZXggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5mcm9tQXJyYXkoIG0uZWxlbWVudHMsIGluZGV4ICogMyApO1xuXG5cdH1cblxuXHRlcXVhbHMoIHYgKSB7XG5cblx0XHRyZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICYmICggdi56ID09PSB0aGlzLnogKSApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy54ID0gYXJyYXlbIG9mZnNldCBdO1xuXHRcdHRoaXMueSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cdFx0dGhpcy56ID0gYXJyYXlbIG9mZnNldCArIDIgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy54O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLnk7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuejtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG5cdFx0aWYgKCBvZmZzZXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuXHRcdHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXHRcdHRoaXMueiA9IGF0dHJpYnV0ZS5nZXRaKCBpbmRleCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJhbmRvbSgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy55ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnogPSBNYXRoLnJhbmRvbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59XG5cblZlY3RvcjMucHJvdG90eXBlLmlzVmVjdG9yMyA9IHRydWU7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfcXVhdGVybmlvbiA9IC8qQF9fUFVSRV9fKi8gbmV3IFF1YXRlcm5pb24oKTtcblxuZXhwb3J0IHsgVmVjdG9yMyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIE1hdHJpeDQge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5lbGVtZW50cyA9IFtcblxuXHRcdFx0MSwgMCwgMCwgMCxcblx0XHRcdDAsIDEsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0XTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLicgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0KCBuMTEsIG4xMiwgbjEzLCBuMTQsIG4yMSwgbjIyLCBuMjMsIG4yNCwgbjMxLCBuMzIsIG4zMywgbjM0LCBuNDEsIG40MiwgbjQzLCBuNDQgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbjExOyB0ZVsgNCBdID0gbjEyOyB0ZVsgOCBdID0gbjEzOyB0ZVsgMTIgXSA9IG4xNDtcblx0XHR0ZVsgMSBdID0gbjIxOyB0ZVsgNSBdID0gbjIyOyB0ZVsgOSBdID0gbjIzOyB0ZVsgMTMgXSA9IG4yNDtcblx0XHR0ZVsgMiBdID0gbjMxOyB0ZVsgNiBdID0gbjMyOyB0ZVsgMTAgXSA9IG4zMzsgdGVbIDE0IF0gPSBuMzQ7XG5cdFx0dGVbIDMgXSA9IG40MTsgdGVbIDcgXSA9IG40MjsgdGVbIDExIF0gPSBuNDM7IHRlWyAxNSBdID0gbjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IE1hdHJpeDQoKS5mcm9tQXJyYXkoIHRoaXMuZWxlbWVudHMgKTtcblxuXHR9XG5cblx0Y29weSggbSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXTsgdGVbIDEgXSA9IG1lWyAxIF07IHRlWyAyIF0gPSBtZVsgMiBdOyB0ZVsgMyBdID0gbWVbIDMgXTtcblx0XHR0ZVsgNCBdID0gbWVbIDQgXTsgdGVbIDUgXSA9IG1lWyA1IF07IHRlWyA2IF0gPSBtZVsgNiBdOyB0ZVsgNyBdID0gbWVbIDcgXTtcblx0XHR0ZVsgOCBdID0gbWVbIDggXTsgdGVbIDkgXSA9IG1lWyA5IF07IHRlWyAxMCBdID0gbWVbIDEwIF07IHRlWyAxMSBdID0gbWVbIDExIF07XG5cdFx0dGVbIDEyIF0gPSBtZVsgMTIgXTsgdGVbIDEzIF0gPSBtZVsgMTMgXTsgdGVbIDE0IF0gPSBtZVsgMTQgXTsgdGVbIDE1IF0gPSBtZVsgMTUgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5UG9zaXRpb24oIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsIG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAxMiBdID0gbWVbIDEyIF07XG5cdFx0dGVbIDEzIF0gPSBtZVsgMTMgXTtcblx0XHR0ZVsgMTQgXSA9IG1lWyAxNCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyAzIF0sIG1lWyA2IF0sIDAsXG5cdFx0XHRtZVsgMSBdLCBtZVsgNCBdLCBtZVsgNyBdLCAwLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDUgXSwgbWVbIDggXSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdEJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0eEF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMCApO1xuXHRcdHlBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHR4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLFxuXHRcdFx0eEF4aXMueSwgeUF4aXMueSwgekF4aXMueSwgMCxcblx0XHRcdHhBeGlzLnosIHlBeGlzLnosIHpBeGlzLnosIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHRyYWN0Um90YXRpb24oIG0gKSB7XG5cblx0XHQvLyB0aGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IHJlZmxlY3Rpb24gbWF0cmljZXNcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVggPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDAgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVkgPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDEgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVogPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdICogc2NhbGVYO1xuXHRcdHRlWyAxIF0gPSBtZVsgMSBdICogc2NhbGVYO1xuXHRcdHRlWyAyIF0gPSBtZVsgMiBdICogc2NhbGVYO1xuXHRcdHRlWyAzIF0gPSAwO1xuXG5cdFx0dGVbIDQgXSA9IG1lWyA0IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDUgXSA9IG1lWyA1IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDYgXSA9IG1lWyA2IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gbWVbIDggXSAqIHNjYWxlWjtcblx0XHR0ZVsgOSBdID0gbWVbIDkgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTAgXSA9IG1lWyAxMCBdICogc2NhbGVaO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDE0IF0gPSAwO1xuXHRcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25Gcm9tRXVsZXIoIGV1bGVyICkge1xuXG5cdFx0aWYgKCAhICggZXVsZXIgJiYgZXVsZXIuaXNFdWxlciApICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4NDogLm1ha2VSb3RhdGlvbkZyb21FdWxlcigpIG5vdyBleHBlY3RzIGEgRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCB4ID0gZXVsZXIueCwgeSA9IGV1bGVyLnksIHogPSBldWxlci56O1xuXHRcdGNvbnN0IGEgPSBNYXRoLmNvcyggeCApLCBiID0gTWF0aC5zaW4oIHggKTtcblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHkgKSwgZCA9IE1hdGguc2luKCB5ICk7XG5cdFx0Y29uc3QgZSA9IE1hdGguY29zKCB6ICksIGYgPSBNYXRoLnNpbiggeiApO1xuXG5cdFx0aWYgKCBldWxlci5vcmRlciA9PT0gJ1hZWicgKSB7XG5cblx0XHRcdGNvbnN0IGFlID0gYSAqIGUsIGFmID0gYSAqIGYsIGJlID0gYiAqIGUsIGJmID0gYiAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSAtIGMgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhZiArIGJlICogZDtcblx0XHRcdHRlWyA1IF0gPSBhZSAtIGJmICogZDtcblx0XHRcdHRlWyA5IF0gPSAtIGIgKiBjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmYgLSBhZSAqIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYmUgKyBhZiAqIGQ7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWFonICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgKyBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gZGUgKiBiIC0gY2Y7XG5cdFx0XHR0ZVsgOCBdID0gYSAqIGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhICogZjtcblx0XHRcdHRlWyA1IF0gPSBhICogZTtcblx0XHRcdHRlWyA5IF0gPSAtIGI7XG5cblx0XHRcdHRlWyAyIF0gPSBjZiAqIGIgLSBkZTtcblx0XHRcdHRlWyA2IF0gPSBkZiArIGNlICogYjtcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1pYWScgKSB7XG5cblx0XHRcdGNvbnN0IGNlID0gYyAqIGUsIGNmID0gYyAqIGYsIGRlID0gZCAqIGUsIGRmID0gZCAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjZSAtIGRmICogYjtcblx0XHRcdHRlWyA0IF0gPSAtIGEgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGRlICsgY2YgKiBiO1xuXG5cdFx0XHR0ZVsgMSBdID0gY2YgKyBkZSAqIGI7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gZGYgLSBjZSAqIGI7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGEgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWVgnICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmUgKiBkIC0gYWY7XG5cdFx0XHR0ZVsgOCBdID0gYWUgKiBkICsgYmY7XG5cblx0XHRcdHRlWyAxIF0gPSBjICogZjtcblx0XHRcdHRlWyA1IF0gPSBiZiAqIGQgKyBhZTtcblx0XHRcdHRlWyA5IF0gPSBhZiAqIGQgLSBiZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZDtcblx0XHRcdHRlWyA2IF0gPSBiICogYztcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1laWCcgKSB7XG5cblx0XHRcdGNvbnN0IGFjID0gYSAqIGMsIGFkID0gYSAqIGQsIGJjID0gYiAqIGMsIGJkID0gYiAqIGQ7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSBiZCAtIGFjICogZjtcblx0XHRcdHRlWyA4IF0gPSBiYyAqIGYgKyBhZDtcblxuXHRcdFx0dGVbIDEgXSA9IGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZCAqIGU7XG5cdFx0XHR0ZVsgNiBdID0gYWQgKiBmICsgYmM7XG5cdFx0XHR0ZVsgMTAgXSA9IGFjIC0gYmQgKiBmO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdYWlknICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBmO1xuXHRcdFx0dGVbIDggXSA9IGQgKiBlO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWMgKiBmICsgYmQ7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gYWQgKiBmIC0gYmM7XG5cblx0XHRcdHRlWyAyIF0gPSBiYyAqIGYgLSBhZDtcblx0XHRcdHRlWyA2IF0gPSBiICogZTtcblx0XHRcdHRlWyAxMCBdID0gYmQgKiBmICsgYWM7XG5cblx0XHR9XG5cblx0XHQvLyBib3R0b20gcm93XG5cdFx0dGVbIDMgXSA9IDA7XG5cdFx0dGVbIDcgXSA9IDA7XG5cdFx0dGVbIDExIF0gPSAwO1xuXG5cdFx0Ly8gbGFzdCBjb2x1bW5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oIHEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5jb21wb3NlKCBfemVybywgcSwgX29uZSApO1xuXG5cdH1cblxuXHRsb29rQXQoIGV5ZSwgdGFyZ2V0LCB1cCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdF96LnN1YlZlY3RvcnMoIGV5ZSwgdGFyZ2V0ICk7XG5cblx0XHRpZiAoIF96Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIGV5ZSBhbmQgdGFyZ2V0IGFyZSBpbiB0aGUgc2FtZSBwb3NpdGlvblxuXG5cdFx0XHRfei56ID0gMTtcblxuXHRcdH1cblxuXHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdF94LmNyb3NzVmVjdG9ycyggdXAsIF96ICk7XG5cblx0XHRpZiAoIF94Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIHVwIGFuZCB6IGFyZSBwYXJhbGxlbFxuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB1cC56ICkgPT09IDEgKSB7XG5cblx0XHRcdFx0X3oueCArPSAwLjAwMDE7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0X3oueiArPSAwLjAwMDE7XG5cblx0XHRcdH1cblxuXHRcdFx0X3oubm9ybWFsaXplKCk7XG5cdFx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0fVxuXG5cdFx0X3gubm9ybWFsaXplKCk7XG5cdFx0X3kuY3Jvc3NWZWN0b3JzKCBfeiwgX3ggKTtcblxuXHRcdHRlWyAwIF0gPSBfeC54OyB0ZVsgNCBdID0gX3kueDsgdGVbIDggXSA9IF96Lng7XG5cdFx0dGVbIDEgXSA9IF94Lnk7IHRlWyA1IF0gPSBfeS55OyB0ZVsgOSBdID0gX3oueTtcblx0XHR0ZVsgMiBdID0gX3guejsgdGVbIDYgXSA9IF95Lno7IHRlWyAxMCBdID0gX3ouejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggbSwgbiApIHtcblxuXHRcdGlmICggbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCBtLCBuICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgNCBdLCBhMTMgPSBhZVsgOCBdLCBhMTQgPSBhZVsgMTIgXTtcblx0XHRjb25zdCBhMjEgPSBhZVsgMSBdLCBhMjIgPSBhZVsgNSBdLCBhMjMgPSBhZVsgOSBdLCBhMjQgPSBhZVsgMTMgXTtcblx0XHRjb25zdCBhMzEgPSBhZVsgMiBdLCBhMzIgPSBhZVsgNiBdLCBhMzMgPSBhZVsgMTAgXSwgYTM0ID0gYWVbIDE0IF07XG5cdFx0Y29uc3QgYTQxID0gYWVbIDMgXSwgYTQyID0gYWVbIDcgXSwgYTQzID0gYWVbIDExIF0sIGE0NCA9IGFlWyAxNSBdO1xuXG5cdFx0Y29uc3QgYjExID0gYmVbIDAgXSwgYjEyID0gYmVbIDQgXSwgYjEzID0gYmVbIDggXSwgYjE0ID0gYmVbIDEyIF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDUgXSwgYjIzID0gYmVbIDkgXSwgYjI0ID0gYmVbIDEzIF07XG5cdFx0Y29uc3QgYjMxID0gYmVbIDIgXSwgYjMyID0gYmVbIDYgXSwgYjMzID0gYmVbIDEwIF0sIGIzNCA9IGJlWyAxNCBdO1xuXHRcdGNvbnN0IGI0MSA9IGJlWyAzIF0sIGI0MiA9IGJlWyA3IF0sIGI0MyA9IGJlWyAxMSBdLCBiNDQgPSBiZVsgMTUgXTtcblxuXHRcdHRlWyAwIF0gPSBhMTEgKiBiMTEgKyBhMTIgKiBiMjEgKyBhMTMgKiBiMzEgKyBhMTQgKiBiNDE7XG5cdFx0dGVbIDQgXSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMiArIGExNCAqIGI0Mjtcblx0XHR0ZVsgOCBdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzO1xuXHRcdHRlWyAxMiBdID0gYTExICogYjE0ICsgYTEyICogYjI0ICsgYTEzICogYjM0ICsgYTE0ICogYjQ0O1xuXG5cdFx0dGVbIDEgXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MTtcblx0XHR0ZVsgNSBdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyICsgYTI0ICogYjQyO1xuXHRcdHRlWyA5IF0gPSBhMjEgKiBiMTMgKyBhMjIgKiBiMjMgKyBhMjMgKiBiMzMgKyBhMjQgKiBiNDM7XG5cdFx0dGVbIDEzIF0gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDQ7XG5cblx0XHR0ZVsgMiBdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxO1xuXHRcdHRlWyA2IF0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDI7XG5cdFx0dGVbIDEwIF0gPSBhMzEgKiBiMTMgKyBhMzIgKiBiMjMgKyBhMzMgKiBiMzMgKyBhMzQgKiBiNDM7XG5cdFx0dGVbIDE0IF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7XG5cblx0XHR0ZVsgMyBdID0gYTQxICogYjExICsgYTQyICogYjIxICsgYTQzICogYjMxICsgYTQ0ICogYjQxO1xuXHRcdHRlWyA3IF0gPSBhNDEgKiBiMTIgKyBhNDIgKiBiMjIgKyBhNDMgKiBiMzIgKyBhNDQgKiBiNDI7XG5cdFx0dGVbIDExIF0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDM7XG5cdFx0dGVbIDE1IF0gPSBhNDEgKiBiMTQgKyBhNDIgKiBiMjQgKyBhNDMgKiBiMzQgKyBhNDQgKiBiNDQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHMgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDggXSAqPSBzOyB0ZVsgMTIgXSAqPSBzO1xuXHRcdHRlWyAxIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOSBdICo9IHM7IHRlWyAxMyBdICo9IHM7XG5cdFx0dGVbIDIgXSAqPSBzOyB0ZVsgNiBdICo9IHM7IHRlWyAxMCBdICo9IHM7IHRlWyAxNCBdICo9IHM7XG5cdFx0dGVbIDMgXSAqPSBzOyB0ZVsgNyBdICo9IHM7IHRlWyAxMSBdICo9IHM7IHRlWyAxNSBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBuMTEgPSB0ZVsgMCBdLCBuMTIgPSB0ZVsgNCBdLCBuMTMgPSB0ZVsgOCBdLCBuMTQgPSB0ZVsgMTIgXTtcblx0XHRjb25zdCBuMjEgPSB0ZVsgMSBdLCBuMjIgPSB0ZVsgNSBdLCBuMjMgPSB0ZVsgOSBdLCBuMjQgPSB0ZVsgMTMgXTtcblx0XHRjb25zdCBuMzEgPSB0ZVsgMiBdLCBuMzIgPSB0ZVsgNiBdLCBuMzMgPSB0ZVsgMTAgXSwgbjM0ID0gdGVbIDE0IF07XG5cdFx0Y29uc3QgbjQxID0gdGVbIDMgXSwgbjQyID0gdGVbIDcgXSwgbjQzID0gdGVbIDExIF0sIG40NCA9IHRlWyAxNSBdO1xuXG5cdFx0Ly9UT0RPOiBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnRcblx0XHQvLyggYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtIClcblxuXHRcdHJldHVybiAoXG5cdFx0XHRuNDEgKiAoXG5cdFx0XHRcdCsgbjE0ICogbjIzICogbjMyXG5cdFx0XHRcdCAtIG4xMyAqIG4yNCAqIG4zMlxuXHRcdFx0XHQgLSBuMTQgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTIgKiBuMjMgKiBuMzRcblx0XHRcdCkgK1xuXHRcdFx0bjQyICogKFxuXHRcdFx0XHQrIG4xMSAqIG4yMyAqIG4zNFxuXHRcdFx0XHQgLSBuMTEgKiBuMjQgKiBuMzNcblx0XHRcdFx0ICsgbjE0ICogbjIxICogbjMzXG5cdFx0XHRcdCAtIG4xMyAqIG4yMSAqIG4zNFxuXHRcdFx0XHQgKyBuMTMgKiBuMjQgKiBuMzFcblx0XHRcdFx0IC0gbjE0ICogbjIzICogbjMxXG5cdFx0XHQpICtcblx0XHRcdG40MyAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjExICogbjIyICogbjM0XG5cdFx0XHRcdCAtIG4xNCAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgKyBuMTIgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjE0ICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMiAqIG4yNCAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDQgKiAoXG5cdFx0XHRcdC0gbjEzICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMSAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgKyBuMTEgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEzICogbjIxICogbjMyXG5cdFx0XHRcdCAtIG4xMiAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgKyBuMTIgKiBuMjMgKiBuMzFcblx0XHRcdClcblxuXHRcdCk7XG5cblx0fVxuXG5cdHRyYW5zcG9zZSgpIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRsZXQgdG1wO1xuXG5cdFx0dG1wID0gdGVbIDEgXTsgdGVbIDEgXSA9IHRlWyA0IF07IHRlWyA0IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDIgXTsgdGVbIDIgXSA9IHRlWyA4IF07IHRlWyA4IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDYgXTsgdGVbIDYgXSA9IHRlWyA5IF07IHRlWyA5IF0gPSB0bXA7XG5cblx0XHR0bXAgPSB0ZVsgMyBdOyB0ZVsgMyBdID0gdGVbIDEyIF07IHRlWyAxMiBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA3IF07IHRlWyA3IF0gPSB0ZVsgMTMgXTsgdGVbIDEzIF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDExIF07IHRlWyAxMSBdID0gdGVbIDE0IF07IHRlWyAxNCBdID0gdG1wO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFBvc2l0aW9uKCB4LCB5LCB6ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0aWYgKCB4LmlzVmVjdG9yMyApIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4Lng7XG5cdFx0XHR0ZVsgMTMgXSA9IHgueTtcblx0XHRcdHRlWyAxNCBdID0geC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4O1xuXHRcdFx0dGVbIDEzIF0gPSB5O1xuXHRcdFx0dGVbIDE0IF0gPSB6O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGludmVydCgpIHtcblxuXHRcdC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bVxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cyxcblxuXHRcdFx0bjExID0gdGVbIDAgXSwgbjIxID0gdGVbIDEgXSwgbjMxID0gdGVbIDIgXSwgbjQxID0gdGVbIDMgXSxcblx0XHRcdG4xMiA9IHRlWyA0IF0sIG4yMiA9IHRlWyA1IF0sIG4zMiA9IHRlWyA2IF0sIG40MiA9IHRlWyA3IF0sXG5cdFx0XHRuMTMgPSB0ZVsgOCBdLCBuMjMgPSB0ZVsgOSBdLCBuMzMgPSB0ZVsgMTAgXSwgbjQzID0gdGVbIDExIF0sXG5cdFx0XHRuMTQgPSB0ZVsgMTIgXSwgbjI0ID0gdGVbIDEzIF0sIG4zNCA9IHRlWyAxNCBdLCBuNDQgPSB0ZVsgMTUgXSxcblxuXHRcdFx0dDExID0gbjIzICogbjM0ICogbjQyIC0gbjI0ICogbjMzICogbjQyICsgbjI0ICogbjMyICogbjQzIC0gbjIyICogbjM0ICogbjQzIC0gbjIzICogbjMyICogbjQ0ICsgbjIyICogbjMzICogbjQ0LFxuXHRcdFx0dDEyID0gbjE0ICogbjMzICogbjQyIC0gbjEzICogbjM0ICogbjQyIC0gbjE0ICogbjMyICogbjQzICsgbjEyICogbjM0ICogbjQzICsgbjEzICogbjMyICogbjQ0IC0gbjEyICogbjMzICogbjQ0LFxuXHRcdFx0dDEzID0gbjEzICogbjI0ICogbjQyIC0gbjE0ICogbjIzICogbjQyICsgbjE0ICogbjIyICogbjQzIC0gbjEyICogbjI0ICogbjQzIC0gbjEzICogbjIyICogbjQ0ICsgbjEyICogbjIzICogbjQ0LFxuXHRcdFx0dDE0ID0gbjE0ICogbjIzICogbjMyIC0gbjEzICogbjI0ICogbjMyIC0gbjE0ICogbjIyICogbjMzICsgbjEyICogbjI0ICogbjMzICsgbjEzICogbjIyICogbjM0IC0gbjEyICogbjIzICogbjM0O1xuXG5cdFx0Y29uc3QgZGV0ID0gbjExICogdDExICsgbjIxICogdDEyICsgbjMxICogdDEzICsgbjQxICogdDE0O1xuXG5cdFx0aWYgKCBkZXQgPT09IDAgKSByZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAgKTtcblxuXHRcdGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG5cblx0XHR0ZVsgMCBdID0gdDExICogZGV0SW52O1xuXHRcdHRlWyAxIF0gPSAoIG4yNCAqIG4zMyAqIG40MSAtIG4yMyAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMSAqIG40MyArIG4yMSAqIG4zNCAqIG40MyArIG4yMyAqIG4zMSAqIG40NCAtIG4yMSAqIG4zMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAyIF0gPSAoIG4yMiAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMiAqIG40MSArIG4yNCAqIG4zMSAqIG40MiAtIG4yMSAqIG4zNCAqIG40MiAtIG4yMiAqIG4zMSAqIG40NCArIG4yMSAqIG4zMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAzIF0gPSAoIG4yMyAqIG4zMiAqIG40MSAtIG4yMiAqIG4zMyAqIG40MSAtIG4yMyAqIG4zMSAqIG40MiArIG4yMSAqIG4zMyAqIG40MiArIG4yMiAqIG4zMSAqIG40MyAtIG4yMSAqIG4zMiAqIG40MyApICogZGV0SW52O1xuXG5cdFx0dGVbIDQgXSA9IHQxMiAqIGRldEludjtcblx0XHR0ZVsgNSBdID0gKCBuMTMgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzMgKiBuNDEgKyBuMTQgKiBuMzEgKiBuNDMgLSBuMTEgKiBuMzQgKiBuNDMgLSBuMTMgKiBuMzEgKiBuNDQgKyBuMTEgKiBuMzMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNiBdID0gKCBuMTQgKiBuMzIgKiBuNDEgLSBuMTIgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzEgKiBuNDIgKyBuMTEgKiBuMzQgKiBuNDIgKyBuMTIgKiBuMzEgKiBuNDQgLSBuMTEgKiBuMzIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyA4IF0gPSB0MTMgKiBkZXRJbnY7XG5cdFx0dGVbIDkgXSA9ICggbjE0ICogbjIzICogbjQxIC0gbjEzICogbjI0ICogbjQxIC0gbjE0ICogbjIxICogbjQzICsgbjExICogbjI0ICogbjQzICsgbjEzICogbjIxICogbjQ0IC0gbjExICogbjIzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDEwIF0gPSAoIG4xMiAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMiAqIG40MSArIG4xNCAqIG4yMSAqIG40MiAtIG4xMSAqIG4yNCAqIG40MiAtIG4xMiAqIG4yMSAqIG40NCArIG4xMSAqIG4yMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAxMSBdID0gKCBuMTMgKiBuMjIgKiBuNDEgLSBuMTIgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjEgKiBuNDIgKyBuMTEgKiBuMjMgKiBuNDIgKyBuMTIgKiBuMjEgKiBuNDMgLSBuMTEgKiBuMjIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyAxMiBdID0gdDE0ICogZGV0SW52O1xuXHRcdHRlWyAxMyBdID0gKCBuMTMgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjMgKiBuMzEgKyBuMTQgKiBuMjEgKiBuMzMgLSBuMTEgKiBuMjQgKiBuMzMgLSBuMTMgKiBuMjEgKiBuMzQgKyBuMTEgKiBuMjMgKiBuMzQgKSAqIGRldEludjtcblx0XHR0ZVsgMTQgXSA9ICggbjE0ICogbjIyICogbjMxIC0gbjEyICogbjI0ICogbjMxIC0gbjE0ICogbjIxICogbjMyICsgbjExICogbjI0ICogbjMyICsgbjEyICogbjIxICogbjM0IC0gbjExICogbjIyICogbjM0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDE1IF0gPSAoIG4xMiAqIG4yMyAqIG4zMSAtIG4xMyAqIG4yMiAqIG4zMSArIG4xMyAqIG4yMSAqIG4zMiAtIG4xMSAqIG4yMyAqIG4zMiAtIG4xMiAqIG4yMSAqIG4zMyArIG4xMSAqIG4yMiAqIG4zMyApICogZGV0SW52O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNjYWxlKCB2ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHggPSB2LngsIHkgPSB2LnksIHogPSB2Lno7XG5cblx0XHR0ZVsgMCBdICo9IHg7IHRlWyA0IF0gKj0geTsgdGVbIDggXSAqPSB6O1xuXHRcdHRlWyAxIF0gKj0geDsgdGVbIDUgXSAqPSB5OyB0ZVsgOSBdICo9IHo7XG5cdFx0dGVbIDIgXSAqPSB4OyB0ZVsgNiBdICo9IHk7IHRlWyAxMCBdICo9IHo7XG5cdFx0dGVbIDMgXSAqPSB4OyB0ZVsgNyBdICo9IHk7IHRlWyAxMSBdICo9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0TWF4U2NhbGVPbkF4aXMoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVhTcSA9IHRlWyAwIF0gKiB0ZVsgMCBdICsgdGVbIDEgXSAqIHRlWyAxIF0gKyB0ZVsgMiBdICogdGVbIDIgXTtcblx0XHRjb25zdCBzY2FsZVlTcSA9IHRlWyA0IF0gKiB0ZVsgNCBdICsgdGVbIDUgXSAqIHRlWyA1IF0gKyB0ZVsgNiBdICogdGVbIDYgXTtcblx0XHRjb25zdCBzY2FsZVpTcSA9IHRlWyA4IF0gKiB0ZVsgOCBdICsgdGVbIDkgXSAqIHRlWyA5IF0gKyB0ZVsgMTAgXSAqIHRlWyAxMCBdO1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggTWF0aC5tYXgoIHNjYWxlWFNxLCBzY2FsZVlTcSwgc2NhbGVaU3EgKSApO1xuXG5cdH1cblxuXHRtYWtlVHJhbnNsYXRpb24oIHgsIHksIHogKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCwgeCxcblx0XHRcdDAsIDEsIDAsIHksXG5cdFx0XHQwLCAwLCAxLCB6LFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25YKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCBjLCAtIHMsIDAsXG5cdFx0XHQwLCBzLCBjLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25ZKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdCBjLCAwLCBzLCAwLFxuXHRcdFx0IDAsIDEsIDAsIDAsXG5cdFx0XHQtIHMsIDAsIGMsIDAsXG5cdFx0XHQgMCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25aKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdGMsIC0gcywgMCwgMCxcblx0XHRcdHMsIGMsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25BeGlzKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdC8vIEJhc2VkIG9uIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcmVmZXJlbmNlL2FydGljbGVzL2FydGljbGUxMTk5LmFzcFxuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCBhbmdsZSApO1xuXHRcdGNvbnN0IHMgPSBNYXRoLnNpbiggYW5nbGUgKTtcblx0XHRjb25zdCB0ID0gMSAtIGM7XG5cdFx0Y29uc3QgeCA9IGF4aXMueCwgeSA9IGF4aXMueSwgeiA9IGF4aXMuejtcblx0XHRjb25zdCB0eCA9IHQgKiB4LCB0eSA9IHQgKiB5O1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHR4ICogeCArIGMsIHR4ICogeSAtIHMgKiB6LCB0eCAqIHogKyBzICogeSwgMCxcblx0XHRcdHR4ICogeSArIHMgKiB6LCB0eSAqIHkgKyBjLCB0eSAqIHogLSBzICogeCwgMCxcblx0XHRcdHR4ICogeiAtIHMgKiB5LCB0eSAqIHogKyBzICogeCwgdCAqIHogKiB6ICsgYywgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNjYWxlKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHgsIDAsIDAsIDAsXG5cdFx0XHQwLCB5LCAwLCAwLFxuXHRcdFx0MCwgMCwgeiwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNoZWFyKCB4eSwgeHosIHl4LCB5eiwgengsIHp5ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIHl4LCB6eCwgMCxcblx0XHRcdHh5LCAxLCB6eSwgMCxcblx0XHRcdHh6LCB5eiwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29tcG9zZSggcG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IHF1YXRlcm5pb24uX3gsIHkgPSBxdWF0ZXJuaW9uLl95LCB6ID0gcXVhdGVybmlvbi5feiwgdyA9IHF1YXRlcm5pb24uX3c7XG5cdFx0Y29uc3QgeDIgPSB4ICsgeCxcdHkyID0geSArIHksIHoyID0geiArIHo7XG5cdFx0Y29uc3QgeHggPSB4ICogeDIsIHh5ID0geCAqIHkyLCB4eiA9IHggKiB6Mjtcblx0XHRjb25zdCB5eSA9IHkgKiB5MiwgeXogPSB5ICogejIsIHp6ID0geiAqIHoyO1xuXHRcdGNvbnN0IHd4ID0gdyAqIHgyLCB3eSA9IHcgKiB5Miwgd3ogPSB3ICogejI7XG5cblx0XHRjb25zdCBzeCA9IHNjYWxlLngsIHN5ID0gc2NhbGUueSwgc3ogPSBzY2FsZS56O1xuXG5cdFx0dGVbIDAgXSA9ICggMSAtICggeXkgKyB6eiApICkgKiBzeDtcblx0XHR0ZVsgMSBdID0gKCB4eSArIHd6ICkgKiBzeDtcblx0XHR0ZVsgMiBdID0gKCB4eiAtIHd5ICkgKiBzeDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSAoIHh5IC0gd3ogKSAqIHN5O1xuXHRcdHRlWyA1IF0gPSAoIDEgLSAoIHh4ICsgenogKSApICogc3k7XG5cdFx0dGVbIDYgXSA9ICggeXogKyB3eCApICogc3k7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gKCB4eiArIHd5ICkgKiBzejtcblx0XHR0ZVsgOSBdID0gKCB5eiAtIHd4ICkgKiBzejtcblx0XHR0ZVsgMTAgXSA9ICggMSAtICggeHggKyB5eSApICkgKiBzejtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IHBvc2l0aW9uLng7XG5cdFx0dGVbIDEzIF0gPSBwb3NpdGlvbi55O1xuXHRcdHRlWyAxNCBdID0gcG9zaXRpb24uejtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGVjb21wb3NlKCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRsZXQgc3ggPSBfdjEuc2V0KCB0ZVsgMCBdLCB0ZVsgMSBdLCB0ZVsgMiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3kgPSBfdjEuc2V0KCB0ZVsgNCBdLCB0ZVsgNSBdLCB0ZVsgNiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSBfdjEuc2V0KCB0ZVsgOCBdLCB0ZVsgOSBdLCB0ZVsgMTAgXSApLmxlbmd0aCgpO1xuXG5cdFx0Ly8gaWYgZGV0ZXJtaW5lIGlzIG5lZ2F0aXZlLCB3ZSBuZWVkIHRvIGludmVydCBvbmUgc2NhbGVcblx0XHRjb25zdCBkZXQgPSB0aGlzLmRldGVybWluYW50KCk7XG5cdFx0aWYgKCBkZXQgPCAwICkgc3ggPSAtIHN4O1xuXG5cdFx0cG9zaXRpb24ueCA9IHRlWyAxMiBdO1xuXHRcdHBvc2l0aW9uLnkgPSB0ZVsgMTMgXTtcblx0XHRwb3NpdGlvbi56ID0gdGVbIDE0IF07XG5cblx0XHQvLyBzY2FsZSB0aGUgcm90YXRpb24gcGFydFxuXHRcdF9tMS5jb3B5KCB0aGlzICk7XG5cblx0XHRjb25zdCBpbnZTWCA9IDEgLyBzeDtcblx0XHRjb25zdCBpbnZTWSA9IDEgLyBzeTtcblx0XHRjb25zdCBpbnZTWiA9IDEgLyBzejtcblxuXHRcdF9tMS5lbGVtZW50c1sgMCBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMSBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMiBdICo9IGludlNYO1xuXG5cdFx0X20xLmVsZW1lbnRzWyA0IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA1IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA2IF0gKj0gaW52U1k7XG5cblx0XHRfbTEuZWxlbWVudHNbIDggXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDkgXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDEwIF0gKj0gaW52U1o7XG5cblx0XHRxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggX20xICk7XG5cblx0XHRzY2FsZS54ID0gc3g7XG5cdFx0c2NhbGUueSA9IHN5O1xuXHRcdHNjYWxlLnogPSBzejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkge1xuXG5cdFx0aWYgKCBmYXIgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB4ID0gMiAqIG5lYXIgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IHkgPSAyICogbmVhciAvICggdG9wIC0gYm90dG9tICk7XG5cblx0XHRjb25zdCBhID0gKCByaWdodCArIGxlZnQgKSAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgYiA9ICggdG9wICsgYm90dG9tICkgLyAoIHRvcCAtIGJvdHRvbSApO1xuXHRcdGNvbnN0IGMgPSAtICggZmFyICsgbmVhciApIC8gKCBmYXIgLSBuZWFyICk7XG5cdFx0Y29uc3QgZCA9IC0gMiAqIGZhciAqIG5lYXIgLyAoIGZhciAtIG5lYXIgKTtcblxuXHRcdHRlWyAwIF0gPSB4O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gYTtcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMSBdID0gMDtcdHRlWyA1IF0gPSB5O1x0dGVbIDkgXSA9IGI7XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDIgXSA9IDA7XHR0ZVsgNiBdID0gMDtcdHRlWyAxMCBdID0gYztcdHRlWyAxNCBdID0gZDtcblx0XHR0ZVsgMyBdID0gMDtcdHRlWyA3IF0gPSAwO1x0dGVbIDExIF0gPSAtIDE7XHR0ZVsgMTUgXSA9IDA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZU9ydGhvZ3JhcGhpYyggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgdyA9IDEuMCAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgaCA9IDEuMCAvICggdG9wIC0gYm90dG9tICk7XG5cdFx0Y29uc3QgcCA9IDEuMCAvICggZmFyIC0gbmVhciApO1xuXG5cdFx0Y29uc3QgeCA9ICggcmlnaHQgKyBsZWZ0ICkgKiB3O1xuXHRcdGNvbnN0IHkgPSAoIHRvcCArIGJvdHRvbSApICogaDtcblx0XHRjb25zdCB6ID0gKCBmYXIgKyBuZWFyICkgKiBwO1xuXG5cdFx0dGVbIDAgXSA9IDIgKiB3O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gMDtcdHRlWyAxMiBdID0gLSB4O1xuXHRcdHRlWyAxIF0gPSAwO1x0dGVbIDUgXSA9IDIgKiBoO1x0dGVbIDkgXSA9IDA7XHR0ZVsgMTMgXSA9IC0geTtcblx0XHR0ZVsgMiBdID0gMDtcdHRlWyA2IF0gPSAwO1x0dGVbIDEwIF0gPSAtIDIgKiBwO1x0dGVbIDE0IF0gPSAtIHo7XG5cdFx0dGVbIDMgXSA9IDA7XHR0ZVsgNyBdID0gMDtcdHRlWyAxMSBdID0gMDtcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHRpZiAoIHRlWyBpIF0gIT09IG1lWyBpIF0gKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRzWyBpIF0gPSBhcnJheVsgaSArIG9mZnNldCBdO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0ZVsgMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0ZVsgMSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0ZVsgMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDQgXSA9IHRlWyA0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDUgXSA9IHRlWyA1IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgOCBdID0gdGVbIDggXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgOSBdID0gdGVbIDkgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTAgXSA9IHRlWyAxMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMSBdID0gdGVbIDExIF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgMTIgXSA9IHRlWyAxMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMyBdID0gdGVbIDEzIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDE0IF0gPSB0ZVsgMTQgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTUgXSA9IHRlWyAxNSBdO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxufVxuXG5NYXRyaXg0LnByb3RvdHlwZS5pc01hdHJpeDQgPSB0cnVlO1xuXG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbTEgPSAvKkBfX1BVUkVfXyovIG5ldyBNYXRyaXg0KCk7XG5jb25zdCBfemVybyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoIDAsIDAsIDAgKTtcbmNvbnN0IF9vbmUgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCAxLCAxLCAxICk7XG5jb25zdCBfeCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF95ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ogPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmV4cG9ydCB7IE1hdHJpeDQgfTtcbiIsImltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24uanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSAnLi9NYXRyaXg0LmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jb25zdCBfbWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4NCgpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5cbmNsYXNzIEV1bGVyIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCwgb3JkZXIgPSBFdWxlci5EZWZhdWx0T3JkZXIgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyO1xuXG5cdH1cblxuXHRnZXQgeCgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94O1xuXG5cdH1cblxuXHRzZXQgeCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl94ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl95O1xuXG5cdH1cblxuXHRzZXQgeSggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl95ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeigpIHtcblxuXHRcdHJldHVybiB0aGlzLl96O1xuXG5cdH1cblxuXHRzZXQgeiggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl96ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgb3JkZXIoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fb3JkZXI7XG5cblx0fVxuXG5cdHNldCBvcmRlciggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl9vcmRlciA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0c2V0KCB4LCB5LCB6LCBvcmRlciApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX29yZGVyID0gb3JkZXIgfHwgdGhpcy5fb3JkZXI7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3osIHRoaXMuX29yZGVyICk7XG5cblx0fVxuXG5cdGNvcHkoIGV1bGVyICkge1xuXG5cdFx0dGhpcy5feCA9IGV1bGVyLl94O1xuXHRcdHRoaXMuX3kgPSBldWxlci5feTtcblx0XHR0aGlzLl96ID0gZXVsZXIuX3o7XG5cdFx0dGhpcy5fb3JkZXIgPSBldWxlci5fb3JkZXI7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVJvdGF0aW9uTWF0cml4KCBtLCBvcmRlciwgdXBkYXRlICkge1xuXG5cdFx0Ly8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZClcblxuXHRcdGNvbnN0IHRlID0gbS5lbGVtZW50cztcblx0XHRjb25zdCBtMTEgPSB0ZVsgMCBdLCBtMTIgPSB0ZVsgNCBdLCBtMTMgPSB0ZVsgOCBdO1xuXHRcdGNvbnN0IG0yMSA9IHRlWyAxIF0sIG0yMiA9IHRlWyA1IF0sIG0yMyA9IHRlWyA5IF07XG5cdFx0Y29uc3QgbTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF07XG5cblx0XHRvcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWic6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggY2xhbXAoIG0xMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMTMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFonOlxuXG5cdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0yMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMjMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhZJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCBjbGFtcCggbTMyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMTEgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWCc6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggLSBjbGFtcCggbTMxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTIyICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlgnOlxuXG5cdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmFzaW4oIGNsYW1wKCBtMjEsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIxICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWFpZJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMTIsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEyICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggbTMyLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuX29yZGVyID0gb3JkZXI7XG5cblx0XHRpZiAoIHVwZGF0ZSAhPT0gZmFsc2UgKSB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVF1YXRlcm5pb24oIHEsIG9yZGVyLCB1cGRhdGUgKSB7XG5cblx0XHRfbWF0cml4Lm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICk7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoIF9tYXRyaXgsIG9yZGVyLCB1cGRhdGUgKTtcblxuXHR9XG5cblx0c2V0RnJvbVZlY3RvcjMoIHYsIG9yZGVyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCB2LngsIHYueSwgdi56LCBvcmRlciB8fCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRyZW9yZGVyKCBuZXdPcmRlciApIHtcblxuXHRcdC8vIFdBUk5JTkc6IHRoaXMgZGlzY2FyZHMgcmV2b2x1dGlvbiBpbmZvcm1hdGlvbiAtYmhvdXN0b25cblxuXHRcdF9xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggdGhpcyApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLCBuZXdPcmRlciApO1xuXG5cdH1cblxuXHRlcXVhbHMoIGV1bGVyICkge1xuXG5cdFx0cmV0dXJuICggZXVsZXIuX3ggPT09IHRoaXMuX3ggKSAmJiAoIGV1bGVyLl95ID09PSB0aGlzLl95ICkgJiYgKCBldWxlci5feiA9PT0gdGhpcy5feiApICYmICggZXVsZXIuX29yZGVyID09PSB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyAwIF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyAyIF07XG5cdFx0aWYgKCBhcnJheVsgMyBdICE9PSB1bmRlZmluZWQgKSB0aGlzLl9vcmRlciA9IGFycmF5WyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX29yZGVyO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHR0b1ZlY3RvcjMoIG9wdGlvbmFsUmVzdWx0ICkge1xuXG5cdFx0aWYgKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdFx0cmV0dXJuIG9wdGlvbmFsUmVzdWx0LnNldCggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IzKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdF9vbkNoYW5nZSggY2FsbGJhY2sgKSB7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrID0gY2FsbGJhY2s7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlQ2FsbGJhY2soKSB7fVxuXG59XG5cbkV1bGVyLnByb3RvdHlwZS5pc0V1bGVyID0gdHJ1ZTtcblxuRXVsZXIuRGVmYXVsdE9yZGVyID0gJ1hZWic7XG5FdWxlci5Sb3RhdGlvbk9yZGVycyA9IFsgJ1hZWicsICdZWlgnLCAnWlhZJywgJ1haWScsICdZWFonLCAnWllYJyBdO1xuXG5leHBvcnQgeyBFdWxlciB9O1xuIiwiY2xhc3MgTWF0cml4MyB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCxcblx0XHRcdDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjIxLCBuMjIsIG4yMywgbjMxLCBuMzIsIG4zMyApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyAxIF0gPSBuMjE7IHRlWyAyIF0gPSBuMzE7XG5cdFx0dGVbIDMgXSA9IG4xMjsgdGVbIDQgXSA9IG4yMjsgdGVbIDUgXSA9IG4zMjtcblx0XHR0ZVsgNiBdID0gbjEzOyB0ZVsgNyBdID0gbjIzOyB0ZVsgOCBdID0gbjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07XG5cdFx0dGVbIDMgXSA9IG1lWyAzIF07IHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTtcblx0XHR0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07IHRlWyA4IF0gPSBtZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAwICk7XG5cdFx0eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyA0IF0sIG1lWyA4IF0sXG5cdFx0XHRtZVsgMSBdLCBtZVsgNSBdLCBtZVsgOSBdLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDYgXSwgbWVbIDEwIF1cblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgMyBdLCBhMTMgPSBhZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IGFlWyAxIF0sIGEyMiA9IGFlWyA0IF0sIGEyMyA9IGFlWyA3IF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDUgXSwgYTMzID0gYWVbIDggXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyAzIF0sIGIxMyA9IGJlWyA2IF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDQgXSwgYjIzID0gYmVbIDcgXTtcblx0XHRjb25zdCBiMzEgPSBiZVsgMiBdLCBiMzIgPSBiZVsgNSBdLCBiMzMgPSBiZVsgOCBdO1xuXG5cdFx0dGVbIDAgXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTtcblx0XHR0ZVsgMyBdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyO1xuXHRcdHRlWyA2IF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzM7XG5cblx0XHR0ZVsgMSBdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuXHRcdHRlWyA0IF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG5cdFx0dGVbIDcgXSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcblxuXHRcdHRlWyAyIF0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7XG5cdFx0dGVbIDUgXSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjtcblx0XHR0ZVsgOCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgMyBdICo9IHM7IHRlWyA2IF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDcgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOCBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhID0gdGVbIDAgXSwgYiA9IHRlWyAxIF0sIGMgPSB0ZVsgMiBdLFxuXHRcdFx0ZCA9IHRlWyAzIF0sIGUgPSB0ZVsgNCBdLCBmID0gdGVbIDUgXSxcblx0XHRcdGcgPSB0ZVsgNiBdLCBoID0gdGVbIDcgXSwgaSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sXG5cdFx0XHRuMTIgPSB0ZVsgMyBdLCBuMjIgPSB0ZVsgNCBdLCBuMzIgPSB0ZVsgNSBdLFxuXHRcdFx0bjEzID0gdGVbIDYgXSwgbjIzID0gdGVbIDcgXSwgbjMzID0gdGVbIDggXSxcblxuXHRcdFx0dDExID0gbjMzICogbjIyIC0gbjMyICogbjIzLFxuXHRcdFx0dDEyID0gbjMyICogbjEzIC0gbjMzICogbjEyLFxuXHRcdFx0dDEzID0gbjIzICogbjEyIC0gbjIyICogbjEzLFxuXG5cdFx0XHRkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTM7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjMxICogbjIzIC0gbjMzICogbjIxICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjMyICogbjIxIC0gbjMxICogbjIyICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMyBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA0IF0gPSAoIG4zMyAqIG4xMSAtIG4zMSAqIG4xMyApICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4zMSAqIG4xMiAtIG4zMiAqIG4xMSApICogZGV0SW52O1xuXG5cdFx0dGVbIDYgXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMjEgKiBuMTMgLSBuMjMgKiBuMTEgKSAqIGRldEludjtcblx0XHR0ZVsgOCBdID0gKCBuMjIgKiBuMTEgLSBuMjEgKiBuMTIgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRsZXQgdG1wO1xuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dG1wID0gbVsgMSBdOyBtWyAxIF0gPSBtWyAzIF07IG1bIDMgXSA9IHRtcDtcblx0XHR0bXAgPSBtWyAyIF07IG1bIDIgXSA9IG1bIDYgXTsgbVsgNiBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDUgXTsgbVsgNSBdID0gbVsgNyBdOyBtWyA3IF0gPSB0bXA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Tm9ybWFsTWF0cml4KCBtYXRyaXg0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoIG1hdHJpeDQgKS5pbnZlcnQoKS50cmFuc3Bvc2UoKTtcblxuXHR9XG5cblx0dHJhbnNwb3NlSW50b0FycmF5KCByICkge1xuXG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRyWyAwIF0gPSBtWyAwIF07XG5cdFx0clsgMSBdID0gbVsgMyBdO1xuXHRcdHJbIDIgXSA9IG1bIDYgXTtcblx0XHRyWyAzIF0gPSBtWyAxIF07XG5cdFx0clsgNCBdID0gbVsgNCBdO1xuXHRcdHJbIDUgXSA9IG1bIDcgXTtcblx0XHRyWyA2IF0gPSBtWyAyIF07XG5cdFx0clsgNyBdID0gbVsgNSBdO1xuXHRcdHJbIDggXSA9IG1bIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRVdlRyYW5zZm9ybSggdHgsIHR5LCBzeCwgc3ksIHJvdGF0aW9uLCBjeCwgY3kgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHJvdGF0aW9uICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCByb3RhdGlvbiApO1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHRzeCAqIGMsIHN4ICogcywgLSBzeCAqICggYyAqIGN4ICsgcyAqIGN5ICkgKyBjeCArIHR4LFxuXHRcdFx0LSBzeSAqIHMsIHN5ICogYywgLSBzeSAqICggLSBzICogY3ggKyBjICogY3kgKSArIGN5ICsgdHksXG5cdFx0XHQwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggc3gsIHN5ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzeDsgdGVbIDMgXSAqPSBzeDsgdGVbIDYgXSAqPSBzeDtcblx0XHR0ZVsgMSBdICo9IHN5OyB0ZVsgNCBdICo9IHN5OyB0ZVsgNyBdICo9IHN5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gdGVbIDAgXSwgYTEyID0gdGVbIDMgXSwgYTEzID0gdGVbIDYgXTtcblx0XHRjb25zdCBhMjEgPSB0ZVsgMSBdLCBhMjIgPSB0ZVsgNCBdLCBhMjMgPSB0ZVsgNyBdO1xuXG5cdFx0dGVbIDAgXSA9IGMgKiBhMTEgKyBzICogYTIxO1xuXHRcdHRlWyAzIF0gPSBjICogYTEyICsgcyAqIGEyMjtcblx0XHR0ZVsgNiBdID0gYyAqIGExMyArIHMgKiBhMjM7XG5cblx0XHR0ZVsgMSBdID0gLSBzICogYTExICsgYyAqIGEyMTtcblx0XHR0ZVsgNCBdID0gLSBzICogYTEyICsgYyAqIGEyMjtcblx0XHR0ZVsgNyBdID0gLSBzICogYTEzICsgYyAqIGEyMztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIHR4LCB0eSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gKz0gdHggKiB0ZVsgMiBdOyB0ZVsgMyBdICs9IHR4ICogdGVbIDUgXTsgdGVbIDYgXSArPSB0eCAqIHRlWyA4IF07XG5cdFx0dGVbIDEgXSArPSB0eSAqIHRlWyAyIF07IHRlWyA0IF0gKz0gdHkgKiB0ZVsgNSBdOyB0ZVsgNyBdICs9IHR5ICogdGVbIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDk7IGkgKysgKSB7XG5cblx0XHRcdGlmICggdGVbIGkgXSAhPT0gbWVbIGkgXSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgOTsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG59XG5cbk1hdHJpeDMucHJvdG90eXBlLmlzTWF0cml4MyA9IHRydWU7XG5cbmV4cG9ydCB7IE1hdHJpeDMgfTtcbiIsImltcG9ydCB7IE1hdHJpeDMgfSBmcm9tICcuL01hdHJpeDMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ZlY3RvcjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsTWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4MygpO1xuXG5jbGFzcyBQbGFuZSB7XG5cblx0Y29uc3RydWN0b3IoIG5vcm1hbCA9IG5ldyBWZWN0b3IzKCAxLCAwLCAwICksIGNvbnN0YW50ID0gMCApIHtcblxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWRcblxuXHRcdHRoaXMubm9ybWFsID0gbm9ybWFsO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBjb25zdGFudDtcblxuXHR9XG5cblx0c2V0KCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggbm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IGNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudHMoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5zZXQoIHgsIHksIHogKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggbm9ybWFsLCBwb2ludCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHBvaW50LmRvdCggdGhpcy5ub3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ29wbGFuYXJQb2ludHMoIGEsIGIsIGMgKSB7XG5cblx0XHRjb25zdCBub3JtYWwgPSBfdmVjdG9yMS5zdWJWZWN0b3JzKCBjLCBiICkuY3Jvc3MoIF92ZWN0b3IyLnN1YlZlY3RvcnMoIGEsIGIgKSApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT9cblxuXHRcdHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgYSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHBsYW5lICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggcGxhbmUubm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IHBsYW5lLmNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdC8vIE5vdGU6IHdpbGwgbGVhZCB0byBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBwbGFuZSBpcyBpbnZhbGlkLlxuXG5cdFx0Y29uc3QgaW52ZXJzZU5vcm1hbExlbmd0aCA9IDEuMCAvIHRoaXMubm9ybWFsLmxlbmd0aCgpO1xuXHRcdHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKCBpbnZlcnNlTm9ybWFsTGVuZ3RoICk7XG5cdFx0dGhpcy5jb25zdGFudCAqPSBpbnZlcnNlTm9ybWFsTGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMuY29uc3RhbnQgKj0gLSAxO1xuXHRcdHRoaXMubm9ybWFsLm5lZ2F0ZSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWwuZG90KCBwb2ludCApICsgdGhpcy5jb25zdGFudDtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBzcGhlcmUuY2VudGVyICkgLSBzcGhlcmUucmFkaXVzO1xuXG5cdH1cblxuXHRwcm9qZWN0UG9pbnQoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBwb2ludCApICkuYWRkKCBwb2ludCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RMaW5lKCBsaW5lLCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IGxpbmUuZGVsdGEoIF92ZWN0b3IxICk7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHRoaXMubm9ybWFsLmRvdCggZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBsaW5lLnN0YXJ0ICkgPT09IDAgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gVW5zdXJlIGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgbWV0aG9kIHRvIGhhbmRsZSB0aGlzIGNhc2UuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHQgPSAtICggbGluZS5zdGFydC5kb3QoIHRoaXMubm9ybWFsICkgKyB0aGlzLmNvbnN0YW50ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdGlmICggdCA8IDAgfHwgdCA+IDEgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBkaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggbGluZS5zdGFydCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzTGluZSggbGluZSApIHtcblxuXHRcdC8vIE5vdGU6IHRoaXMgdGVzdHMgaWYgYSBsaW5lIGludGVyc2VjdHMgdGhlIHBsYW5lLCBub3Qgd2hldGhlciBpdCAob3IgaXRzIGVuZC1wb2ludHMpIGFyZSBjb3BsYW5hciB3aXRoIGl0LlxuXG5cdFx0Y29uc3Qgc3RhcnRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKTtcblx0XHRjb25zdCBlbmRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuZW5kICk7XG5cblx0XHRyZXR1cm4gKCBzdGFydFNpZ24gPCAwICYmIGVuZFNpZ24gPiAwICkgfHwgKCBlbmRTaWduIDwgMCAmJiBzdGFydFNpZ24gPiAwICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNTcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcGxhbmFyUG9pbnQoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXgsIG9wdGlvbmFsTm9ybWFsTWF0cml4ICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsTWF0cml4ID0gb3B0aW9uYWxOb3JtYWxNYXRyaXggfHwgX25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3QgcmVmZXJlbmNlUG9pbnQgPSB0aGlzLmNvcGxhbmFyUG9pbnQoIF92ZWN0b3IxICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdGNvbnN0IG5vcm1hbCA9IHRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myggbm9ybWFsTWF0cml4ICkubm9ybWFsaXplKCk7XG5cblx0XHR0aGlzLmNvbnN0YW50ID0gLSByZWZlcmVuY2VQb2ludC5kb3QoIG5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAtPSBvZmZzZXQuZG90KCB0aGlzLm5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcGxhbmUgKSB7XG5cblx0XHRyZXR1cm4gcGxhbmUubm9ybWFsLmVxdWFscyggdGhpcy5ub3JtYWwgKSAmJiAoIHBsYW5lLmNvbnN0YW50ID09PSB0aGlzLmNvbnN0YW50ICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5QbGFuZS5wcm90b3R5cGUuaXNQbGFuZSA9IHRydWU7XG5cbmV4cG9ydCB7IFBsYW5lIH07XG4iLCJpbXBvcnQge1ZlY3RvcjJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjInXG5pbXBvcnQge1ZlY3RvcjN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge1ZlY3RvcjR9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjQnXG5pbXBvcnQge1F1YXRlcm5pb259IGZyb20gJ3RocmVlL3NyYy9tYXRoL1F1YXRlcm5pb24nXG5pbXBvcnQge0V1bGVyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9FdWxlcidcbmltcG9ydCB7Q29sb3J9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0NvbG9yJ1xuaW1wb3J0IHtCb3gyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gyJ1xuaW1wb3J0IHtCb3gzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gzJ1xuaW1wb3J0IHtSYXl9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1JheSdcbmltcG9ydCB7TGluZTN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0xpbmUzJ1xuaW1wb3J0IHtQbGFuZX0gZnJvbSAndGhyZWUvc3JjL21hdGgvUGxhbmUnXG5cbi8vIGltcG9ydCB7TWF0cml4M30gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4Mydcbi8vIGltcG9ydCB7TWF0cml4NH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcblxuXG4vLyBleHBvcnQgY2xhc3MgUHJvcGVydHlJdGVyYXRvcjxUID0gYW55PiBpbXBsZW1lbnRzIEl0ZXJhdG9yPG51bWJlcj4ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX29iajpULCBwcml2YXRlIF9rZXlzOlJlYWRvbmx5QXJyYXk8a2V5b2YgVD4pIHt9XG4vLyAgICAgcHJpdmF0ZSBfaWR4ID0gMFxuLy8gICAgIG5leHQoKSA6IEl0ZXJhdG9yUmVzdWx0PG51bWJlciwgbnVtYmVyPiB7XG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICBkb25lOiB0aGlzLl9pZHggPT09IChWZWN0b3IyS2V5cy5sZW5ndGggLSAxKSxcbi8vICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vYmpbdGhpcy5fa2V5c1t0aGlzLl9pZHgrK11dIGFzIGFueVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMicge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IyIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjJLZXlzID0gWyd4JywneSddIGFzIGNvbnN0XG4vLyBWZWN0b3IyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBWZWN0b3IyS2V5cylcbi8vIH1cblxuLy8gZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnIHtcbi8vICAgICBpbnRlcmZhY2UgVmVjdG9yMyB7XG4vLyAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IFByb3BlcnR5SXRlcmF0b3Jcbi8vICAgICB9XG4vLyB9XG4vLyBjb25zdCBWZWN0b3IzS2V5cyA9IFsneCcsJ3knLCd6J10gYXMgY29uc3Rcbi8vIFZlY3RvcjMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjNLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbicge1xuLy8gICAgIGludGVyZmFjZSBRdWF0ZXJuaW9uIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFF1YXRlcm5pb25LZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gUXVhdGVybmlvbi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgUXVhdGVybmlvbktleXMpXG4vLyB9XG5cbi8vIGltcG9ydCB7dHJhY2tlZH0gZnJvbSAnLi90cmFja2luZydcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd3Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeCcpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3knKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ196Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfdycpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ3InKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdnJylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAnYicpXG5cbmV4cG9ydCBjb25zdCBWXzAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMigwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDEsMSkpXG5leHBvcnQgY29uc3QgVl8wMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwwKSlcbmV4cG9ydCBjb25zdCBWXzEwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMDEwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLDEsMCkpXG5leHBvcnQgY29uc3QgVl8wMDEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwxKSlcbmV4cG9ydCBjb25zdCBWXzExMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwxLDEpKVxuZXhwb3J0IGNvbnN0IFFfSURFTlRJVFkgPSBPYmplY3QuZnJlZXplKG5ldyBRdWF0ZXJuaW9uKVxuXG5leHBvcnQgY29uc3QgRElSRUNUSU9OID0ge1xuICAgIFJJR0hUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDEsIDAsIDApKSxcbiAgICBVUDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAxLCAwKSksXG4gICAgTkVBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAxKSksXG4gICAgTEVGVDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygtMSwgMCwgMCkpLFxuICAgIERPV046IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgLTEsIDApKSxcbiAgICBGQVI6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgMCwgLTEpKVxufVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvQm94Mycge1xuLy8gICAgIGludGVyZmFjZSBCb3gzIHtcbi8vICAgICAgICAgbGVmdDpudW1iZXJcbi8vICAgICAgICAgcmlnaHQ6bnVtYmVyXG4vLyAgICAgICAgIGJvdHRvbTpudW1iZXJcbi8vICAgICAgICAgdG9wOm51bWJlclxuLy8gICAgICAgICBjZW50ZXI6VmVjdG9yM1xuLy8gICAgIH1cbi8vIH1cblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnbGVmdCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAncmlnaHQnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueFxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3RvcCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi55XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnYm90dG9tJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4Lnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBjb25zdCBjZW50ZXJNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdjZW50ZXInLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIWNlbnRlck1hcC5oYXModGhpcykpIGNlbnRlck1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENlbnRlcihjZW50ZXJNYXAuZ2V0KHRoaXMpKVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IHNpemVNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdzaXplJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgaWYgKCFzaXplTWFwLmhhcyh0aGlzKSkgc2l6ZU1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoc2l6ZU1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuZXhwb3J0IHtcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjMsXG4gICAgVmVjdG9yNCxcbiAgICBRdWF0ZXJuaW9uLFxuICAgIEV1bGVyLFxuICAgIENvbG9yLFxuICAgIEJveDIsXG4gICAgQm94MyxcbiAgICBSYXksXG4gICAgTGluZTMsXG4gICAgUGxhbmUsXG59XG5cblxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IyTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yNExpa2Uge3g6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBRdWF0ZXJuaW9uTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbG9yTGlrZSB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQm94M0xpa2Uge21pbjpWZWN0b3IzTGlrZSwgbWF4OlZlY3RvcjNMaWtlfVxuLy8gZXhwb3J0IGludGVyZmFjZSBSYXlMaWtlIHtvcmlnaW46VmVjdG9yM0xpa2UsIGRpcmVjdGlvbjpWZWN0b3IzTGlrZX1cblxuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4MydcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5leHBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzJ1xuXG4vKlxuKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBhIHVuaXRsZXNzIHNjYWxhciBtZWFzdXJlIG9mIHRoZSBkaWZmZXJlbmNlXG4qIGJldHdlZW4gdGhlIGB0YXJnZXRgIHZhbHVlIGFuZCB0aGUgcHJldmlvdXMgdGFyZ2V0IHZhbHVlIChzdGFnZWQgb3IgY29tbWl0dGVkKVxuKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlbGF0aXZlX2NoYW5nZV9hbmRfZGlmZmVyZW5jZVxuKiBcbiogRXhhY3RseSBob3cgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBjYWxjdWxhdGVkIGlzIGJhc2VkIG9uIHRoZSB2YWx1ZSB0eXBlOlxuXG4qIG51bWJlciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIGFic29sdXRlIHZhbHVlXG4qIHZlY3RvciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIG1hZ25pdHVkZVxuKiBib3ggLSBhdmcgY29ycmVzcG9uZGluZyBjb3JuZXIgZGlzdGFuY2VzIC8gYXZnIHNpemUgbWFnbml0dWRlXG4qIHF1YXRlcm5pb24gLSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gLyBtYXggYW5ndWxhciBkaXN0YW5jZSAoMTgwIGRlZylcbiogY29sb3IgLSBhdmcgcmdiIGRpc3RhbmNlIC8gbWF4IHJnYiBkaXN0YW5jZSAod2hpdGUgPSBzcXJ0KDMpKVxuKiBcbiogSWYgdGhlcmUgaXMgbm8gY2hhbmdlLCB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyAwXG4qIE90aGVyd2lzZSwgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgcG9zaXRpdmUuIFxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVsYXRpdmVEaWZmZXJlbmNlPFQgZXh0ZW5kcyBNYXRoVHlwZSA9IE1hdGhUeXBlPihzdGFydDpULCBlbmQ6VCkge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VOdW1iZXIoc3RhcnQsIGVuZCBhcyBudW1iZXIpICAgIFxuICAgIGlmICgnaXNWZWN0b3IzJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMyhzdGFydCBhcyBWZWN0b3IzLCBlbmQgYXMgVmVjdG9yMykgICAgXG4gICAgaWYgKCdpc1ZlY3RvcjInIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IyKHN0YXJ0IGFzIFZlY3RvcjIsIGVuZCBhcyBWZWN0b3IyKSAgICBcbiAgICBpZiAoJ2lzQm94MycgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoc3RhcnQgYXMgQm94MywgZW5kIGFzIEJveDMpXG4gICAgLy8gdGhlIGZvbGxvd2luZyB0eXBlcyBhcmUgbmF0dXJhbGx5IGJvdW5kZWQsXG4gICAgLy8gc28gaW5zdGVhZCBvZiBkaXZpZGluZyBieSBhdmVyYWdlIG1hZ25pdHVkZXMsXG4gICAgLy8gd2UgY2FuIHNpbXBseSBkaXZpZGUgYnkgdGhlIG1heGltdW0gZGlzdGFuY2UgXG4gICAgLy8gYmV0d2VlbiBhbnkgdHdvIHBvc3NpYmxlIHZhbHVlc1xuICAgIGlmICgnaXNRdWF0ZXJuaW9uJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlUXVhdGVybmlvbihzdGFydCBhcyBRdWF0ZXJuaW9uLCBlbmQgYXMgUXVhdGVybmlvbilcbiAgICBpZiAoJ2lzQ29sb3InIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VDb2xvcihzdGFydCBhcyBDb2xvciwgZW5kIGFzIENvbG9yKVxuICAgIHJldHVybiBJbmZpbml0eVxufVxuZXhwb3J0IHR5cGUgTWF0aFR5cGUgPSBudW1iZXJ8VmVjdG9yMnxWZWN0b3IzfENvbG9yfFF1YXRlcm5pb258Qm94M1xuXG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlTnVtYmVyKHM6bnVtYmVyLCBlOm51bWJlcikge1xuICAgIGlmIChlID09PSBzKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZS1zKVxuICAgIGNvbnN0IGF2Z0Fic29sdXRlVmFsdWUgPSAoKE1hdGguYWJzKGUpICsgTWF0aC5hYnMocykpLzIpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnQWJzb2x1dGVWYWx1ZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjMoczpUSFJFRS5WZWN0b3IzLGU6VEhSRUUuVmVjdG9yMykge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjIoczpUSFJFRS5WZWN0b3IyLGU6VEhSRUUuVmVjdG9yMikge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoczpCb3gzLCBlOkJveDMpIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgY29uc3QgdiA9IHNjcmF0Y2hWM1xuICAgIGNvbnN0IG1pbkRpc3QgPSBlLm1pbi5kaXN0YW5jZVRvKHMubWluKVxuICAgIGNvbnN0IG1heERpc3QgPSBlLm1heC5kaXN0YW5jZVRvKHMubWF4KVxuICAgIGNvbnN0IGF2Z0Rpc3RhbmNlID0gKG1pbkRpc3QgKyBtYXhEaXN0KSAvIDJcbiAgICBjb25zdCBhdmdTaXplTWFnbml0dWRlID0gKGUuZ2V0U2l6ZSh2KS5sZW5ndGgoKSArIHMuZ2V0U2l6ZSh2KS5sZW5ndGgoKSkgLyAyXG4gICAgcmV0dXJuIGF2Z0Rpc3RhbmNlIC8gYXZnU2l6ZU1hZ25pdHVkZVxufVxuY29uc3Qgc2NyYXRjaFYzID0gbmV3IFZlY3RvcjNcblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VRdWF0ZXJuaW9uKHM6UXVhdGVybmlvbiwgZTpRdWF0ZXJuaW9uKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIHJldHVybiBzLmFuZ2xlVG8oZSkgLyBNYXRoLlBJXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQ29sb3IoczpDb2xvciwgZTpDb2xvcikge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICBjb25zdCB2ID0gc2NyYXRjaFYzXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2LnNldChcbiAgICAgICAgTWF0aC5hYnMoZS5yIC0gcy5yKSxcbiAgICAgICAgTWF0aC5hYnMoZS5nIC0gcy5nKSwgXG4gICAgICAgIE1hdGguYWJzKGUuYiAtIHMuYilcbiAgICApLmxlbmd0aCgpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gc3FydDNcbn1cbmNvbnN0IHNxcnQzID0gTWF0aC5zcXJ0KDMpXG5cblxuXG4vKiogXG4gKiBSZXR1cm4gcmFuZG9tIG51bWJlciB3aXRoIGdhdXNzaWFuIGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzdGFuZGFyZERldmlhdGlvbj0xXVxuICovXG5leHBvcnQgY29uc3QgZ2F1c3NpYW4gPSAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuICB2YXIgdSA9IE1hdGgucmFuZG9tKClcbiAgcmV0dXJuICh1JTFlLTg+NWUtOT8xOi0xKSpNYXRoLnNxcnQoLU1hdGgubG9nKE1hdGgubWF4KDFlLTksdSkpKSpzdGFuZGFyZERldmlhdGlvbjtcbn1cbi8vIGV4cG9ydCBjb25zdCBnYXVzc2lhbiA9ICgoKSA9PiB7XG4vLyAgICAgY29uc3QgXzJQSSA9IE1hdGguUElcbi8vICAgICBsZXQgejA6bnVtYmVyLCB6MTpudW1iZXJcbi8vICAgICBsZXQgZ2VuZXJhdGUgPSBmYWxzZVxuLy8gICAgIHJldHVybiAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuLy8gICAgICAgICBnZW5lcmF0ZSA9ICFnZW5lcmF0ZVxuLy8gICAgICAgICBpZiAoIWdlbmVyYXRlKSByZXR1cm4gejEgKiBzdGFuZGFyZERldmlhdGlvblxuLy8gICAgICAgICBsZXQgdTE6bnVtYmVyLCB1MjpudW1iZXJcbi8vICAgICAgICAgZG8geyB1MSA9IE1hdGgucmFuZG9tKCkgfSB3aGlsZSAodTEgPCBOdW1iZXIuRVBTSUxPTilcbi8vICAgICAgICAgdTIgPSBNYXRoLnJhbmRvbSgpXG4vLyAgICAgICAgIHowID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1MSkpICogTWF0aC5jb3MoXzJQSSAqIHUyKVxuLy8gICAgICAgICB6MSA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2codTEpKSAqIE1hdGguc2luKF8yUEkgKiB1Milcbi8vICAgICAgICAgcmV0dXJuIHowICogc3RhbmRhcmREZXZpYXRpb25cbi8vICAgICB9XG4vLyB9KSgpXG5cbi8qKlxuICogUmV0dXJuIHJhbmRvbSBudW1iZXIgd2l0aCBsZXZ5IGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzY2FsZT0xXVxuICogXG4gKiBCYXNlZCBvbjpcbiAqIGh0dHA6Ly9hbmRyZXdlY2tmb3JkLmJsb2dzcG90LmNvbS8yMDExLzA1L2dlbmVyYXRpbmctbGV2eS1yYW5kb20tdmFyaWFibGVzLWZyb20uaHRtbFxuICovXG5leHBvcnQgY29uc3QgbGV2eSA9IChzY2FsZT0xKSA9PiAge1xuICAgIGNvbnN0IHN0ZERldmlhdGlvbiA9IE1hdGguc3FydCggTWF0aC5zcXJ0KDEgLyAoMiAqIHNjYWxlKSkgKVxuICAgIHJldHVybiAxIC8gKGdhdXNzaWFuKHN0ZERldmlhdGlvbikgKiogMilcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gcXVhdGVybmlvblxuICogQHBhcmFtIG91dCBcbiAqIEBwYXJhbSB0d2lzdFNjYWxlIFxuICogQHBhcmFtIHN3aW5nU2NhbGUgXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21RdWF0ZXJuaW9uID0gKCgpID0+IHtcbiAgICBjb25zdCBfMlBJID0gTWF0aC5QSSAqIDJcbiAgICBjb25zdCBWXzAwMSA9IG5ldyBWZWN0b3IzKDAsMCwxKVxuICAgIGNvbnN0IHR3aXN0ID0gbmV3IFF1YXRlcm5pb25cbiAgICBjb25zdCBzd2luZyA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgY29uc3Qgc3dpbmdBeGlzID0gbmV3IFZlY3RvcjNcbiAgICBjb25zdCBvdXQgPSBuZXcgUXVhdGVybmlvblxuICAgIHJldHVybiBmdW5jdGlvbiByYW5kb21RdWF0ZXJuaW9uKHR3aXN0U2NhbGU9MSwgc3dpbmdTY2FsZT0xKSB7XG4gICAgICAgIHZhciB0d2lzdE1hZ25pdHVkZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIF8yUEkgKiB0d2lzdFNjYWxlIFxuICAgICAgICB2YXIgc3dpbmdEaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogXzJQSVxuICAgICAgICB2YXIgc3dpbmdNYWduaXR1ZGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIHN3aW5nU2NhbGVcbiAgICAgICAgc3dpbmdBeGlzLnNldCgxLDAsMCkuYXBwbHlBeGlzQW5nbGUoVl8wMDEsIHN3aW5nRGlyZWN0aW9uKVxuICAgICAgICB0d2lzdC5zZXRGcm9tQXhpc0FuZ2xlKFZfMDAxLCB0d2lzdE1hZ25pdHVkZSlcbiAgICAgICAgc3dpbmcuc2V0RnJvbUF4aXNBbmdsZShzd2luZ0F4aXMsIHN3aW5nTWFnbml0dWRlKVxuICAgICAgICByZXR1cm4gb3V0Lm11bHRpcGx5UXVhdGVybmlvbnMoc3dpbmcsIHR3aXN0KVxuICAgIH1cbn0pKClcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVNlbGVjdDxUPihhcnI6VFtdLCB3ZWlnaHRzPzpudW1iZXJbXSkgOiBUIHtcbiAgICBsZXQgdG90YWwgPSAwXG4gICAgZm9yIChsZXQgaT0wOyBpPCBhcnIubGVuZ3RoOyBpKyspIHsgdG90YWwgKz0gd2VpZ2h0cz8uW2ldfHwxIH1cbiAgICBjb25zdCB0aHJlc2hvbGQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxcbiAgICB0b3RhbCA9IDBcbiAgICBmb3IgKGxldCBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b3RhbCArPSB3ZWlnaHRzPy5baV18fDFcbiAgICAgICAgaWYgKHRvdGFsID4gdGhyZXNob2xkKSByZXR1cm4gYXJyW2ldXG4gICAgfVxuICAgIHJldHVybiBhcnJbMF0gLy8gbWFrZSB0c2MgaGFwcHlcbn1cblxuLyoqXG4gKiBVc2UgdGhlIHN3aW5nLXR3aXN0IGRlY29tcG9zaXRpb24gdG8gZ2V0IHRoZSBjb21wb25lbnQgb2YgYSByb3RhdGlvblxuICogYXJvdW5kIHRoZSBnaXZlbiBheGlzLlxuICogXG4gKiBAcGFyYW0gcm90YXRpb24gIFRoZSByb3RhdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGF4aXMgKHNob3VsZCBiZSBub3JtYWxpemVkKS5cbiAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCBvZiByb3RhdGlvbiBhYm91dCB0aGUgYXhpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dHJhY3RSb3RhdGlvbkFib3V0QXhpcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdmVjID0gbmV3IFZlY3RvcjNcbiAgICByZXR1cm4gZnVuY3Rpb24gZXh0cmFjdFJvdGF0aW9uQWJvdXRBeGlzKHJvdDpRdWF0ZXJuaW9uLCBkaXJlY3Rpb246VmVjdG9yMywgb3V0OlF1YXRlcm5pb24pIHtcbiAgICAgICAgY29uc3Qgcm90QXhpcyA9IHZlYy5zZXQocm90LngsIHJvdC55LCByb3QueilcbiAgICAgICAgY29uc3QgZG90UHJvZCA9IGRpcmVjdGlvbi5kb3Qocm90QXhpcykgICAgICBcbiAgICAgICAgLy8gU2hvcnRjdXQgY2FsY3VsYXRpb24gb2YgYHByb2plY3Rpb25gIHJlcXVpcmVzIGBkaXJlY3Rpb25gIHRvIGJlIG5vcm1hbGl6ZWRcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZlYy5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZG90UHJvZClcbiAgICAgICAgY29uc3QgdHdpc3QgPSBvdXQuc2V0KHByb2plY3Rpb24ueCwgcHJvamVjdGlvbi55LCBwcm9qZWN0aW9uLnosIHJvdC53KS5ub3JtYWxpemUoKVxuICAgICAgICBpZiAoZG90UHJvZCA8IDAuMCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGB0d2lzdGAgcG9pbnRzIHRvd2FyZHMgYGRpcmVjdGlvbmBcbiAgICAgICAgICAgIHR3aXN0LnggPSAtdHdpc3QueFxuICAgICAgICAgICAgdHdpc3QueSA9IC10d2lzdC55XG4gICAgICAgICAgICB0d2lzdC56ID0gLXR3aXN0LnpcbiAgICAgICAgICAgIHR3aXN0LncgPSAtdHdpc3Qud1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0d2lzdFxuICAgIH1cbn0pKCkiLCJ2YXIgREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEggPSAxLjUyNTtcbnZhciByZXZlcnNlZCA9IGZ1bmN0aW9uIChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoMSAtIHApO1xuICAgIH07XG59O1xudmFyIG1pcnJvcmVkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCA8PSAwLjUgPyBlYXNpbmcoMiAqIHApIC8gMiA6ICgyIC0gZWFzaW5nKDIgKiAoMSAtIHApKSkgLyAyO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZVJldmVyc2VkRWFzaW5nID0gcmV2ZXJzZWQ7XG52YXIgY3JlYXRlTWlycm9yZWRFYXNpbmcgPSBtaXJyb3JlZDtcbnZhciBjcmVhdGVFeHBvSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHAsIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVCYWNrSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiBwICogKChwb3dlciArIDEpICogcCAtIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nID0gZnVuY3Rpb24gKHBvd2VyKSB7XG4gICAgdmFyIGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0Vhc2luZyhwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuICAgIH07XG59O1xudmFyIGxpbmVhciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHA7XG59O1xudmFyIGVhc2VJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVFeHBvSW4oMik7XG52YXIgZWFzZU91dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChlYXNlSW4pO1xudmFyIGVhc2VJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChlYXNlSW4pO1xudmFyIGNpcmNJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xufTtcbnZhciBjaXJjT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGNpcmNJbik7XG52YXIgY2lyY0luT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGNpcmNPdXQpO1xudmFyIGJhY2tJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIGJhY2tPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoYmFja0luKTtcbnZhciBiYWNrSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoYmFja0luKTtcbnZhciBhbnRpY2lwYXRlID0gLyojX19QVVJFX18qL2NyZWF0ZUFudGljaXBhdGVFYXNpbmcoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPSA0LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbnZhciBCT1VOQ0VfVEhJUkRfVEhSRVNIT0xEID0gOS4wIC8gMTAuMDtcbnZhciBjYSA9IDQzNTYuMCAvIDM2MS4wO1xudmFyIGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbnZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG52YXIgYm91bmNlT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPyA3LjU2MjUgKiBwMiA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRCA/IDkuMDc1ICogcDIgLSA5LjkgKiBwICsgMy40IDogcCA8IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPyBjYSAqIHAyIC0gY2IgKiBwICsgY2MgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG52YXIgYm91bmNlSW4gPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCk7XG59O1xudmFyIGJvdW5jZUluT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHAgKiAyLjAgLSAxLjApICsgMC41O1xufTtcbnZhciBORVdUT05fSVRFUkFUSU9OUyA9IDg7XG52YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xudmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbnZhciBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xudmFyIEtfU1BMSU5FX1RBQkxFX1NJWkUgPSAxMTtcbnZhciBLX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyAoS19TUExJTkVfVEFCTEVfU0laRSAtIDEuMCk7XG52YXIgRkxPQVRfMzJfU1VQUE9SVEVEID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgYSA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbn07XG52YXIgYiA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYTIgLSA2LjAgKiBhMTtcbn07XG52YXIgYyA9IGZ1bmN0aW9uIChhMSkge1xuICAgIHJldHVybiAzLjAgKiBhMTtcbn07XG52YXIgZ2V0U2xvcGUgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIDMuMCAqIGEoYTEsIGEyKSAqIHQgKiB0ICsgMi4wICogYihhMSwgYTIpICogdCArIGMoYTEpO1xufTtcbnZhciBjYWxjQmV6aWVyID0gZnVuY3Rpb24gKHQsIGExLCBhMikge1xuICAgIHJldHVybiAoKGEoYTEsIGEyKSAqIHQgKyBiKGExLCBhMikpICogdCArIGMoYTEpKSAqIHQ7XG59O1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IEZMT0FUXzMyX1NVUFBPUlRFRCA/IG5ldyBGbG9hdDMyQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSkgOiBuZXcgQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSk7XG4gICAgdmFyIGJpbmFyeVN1YmRpdmlkZSA9IGZ1bmN0aW9uIChhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICB2YXIgY3VycmVudFQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUO1xuICAgIH07XG4gICAgdmFyIG5ld3RvblJhcGhzb25JdGVyYXRlID0gZnVuY3Rpb24gKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgICAgZm9yICg7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfTtcbiAgICB2YXIgY2FsY1NhbXBsZVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLX1NQTElORV9UQUJMRV9TSVpFOyArK2kpIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIEtfU0FNUExFX1NURVBfU0laRSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2V0VEZvclggPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLjA7XG4gICAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBLX1NQTElORV9UQUJMRV9TSVpFIC0gMTtcbiAgICAgICAgdmFyIGRpc3QgPSAwLjA7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSAwLjA7XG4gICAgICAgIHZhciBpbml0aWFsU2xvcGUgPSAwLjA7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIEtfU0FNUExFX1NURVBfU0laRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gYVg7XG4gICAgICAgIH0gZWxzZSBpZiAoYVggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxjQmV6aWVyKGdldFRGb3JYKGFYKSwgbVkxLCBtWTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiByZXNvbHZlcjtcbn1cblxuZXhwb3J0IHsgcmV2ZXJzZWQsIG1pcnJvcmVkLCBjcmVhdGVSZXZlcnNlZEVhc2luZywgY3JlYXRlTWlycm9yZWRFYXNpbmcsIGNyZWF0ZUV4cG9JbiwgY3JlYXRlQmFja0luLCBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIGJvdW5jZU91dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBjdWJpY0JlemllciB9O1xuIiwiLy8gdHlwZSBjaGVja3MgZm9yIGFsbCBrbm93biB0eXBlc1xuLy9cbi8vIG5vdGUgdGhhdDpcbi8vXG4vLyAtIGNoZWNrIGJ5IGR1Y2stdHlwaW5nIG9uIGEgcHJvcGVydHkgbGlrZSBgaXNVbml0YCwgaW5zdGVhZCBvZiBjaGVja2luZyBpbnN0YW5jZW9mLlxuLy8gICBpbnN0YW5jZW9mIGNhbm5vdCBiZSB1c2VkIGJlY2F1c2UgdGhhdCB3b3VsZCBub3QgYWxsb3cgdG8gcGFzcyBkYXRhIGZyb21cbi8vICAgb25lIGluc3RhbmNlIG9mIG1hdGguanMgdG8gYW5vdGhlciBzaW5jZSBlYWNoIGhhcyBpdCdzIG93biBpbnN0YW5jZSBvZiBVbml0LlxuLy8gLSBjaGVjayB0aGUgYGlzVW5pdGAgcHJvcGVydHkgdmlhIHRoZSBjb25zdHJ1Y3Rvciwgc28gdGhlcmUgd2lsbCBiZSBub1xuLy8gICBtYXRjaGVzIGZvciBcImZha2VcIiBpbnN0YW5jZXMgbGlrZSBwbGFpbiBvYmplY3RzIHdpdGggYSBwcm9wZXJ0eSBgaXNVbml0YC5cbi8vICAgVGhhdCBpcyBpbXBvcnRhbnQgZm9yIHNlY3VyaXR5IHJlYXNvbnMuXG4vLyAtIEl0IG11c3Qgbm90IGJlIHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoZSB0eXBlIGNoZWNrcyB1c2VkIGludGVybmFsbHksXG4vLyAgIGZvciBzZWN1cml0eSByZWFzb25zLCBzbyB0aGVzZSBmdW5jdGlvbnMgYXJlIG5vdCBleHBvc2VkIGluIHRoZSBleHByZXNzaW9uXG4vLyAgIHBhcnNlci5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCaWdOdW1iZXIoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0JpZ051bWJlciA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBsZXgoeCkge1xuICByZXR1cm4geCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpLmlzQ29tcGxleCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyYWN0aW9uKHgpIHtcbiAgcmV0dXJuIHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih4KS5pc0ZyYWN0aW9uID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5pdCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzVW5pdCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0IGZ1bmN0aW9uIGlzTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIGEgY29sbGVjdGlvbjogYW4gQXJyYXkgb3IgTWF0cml4XG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm5zIHtib29sZWFufSBpc0NvbGxlY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xsZWN0aW9uKHgpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgfHwgaXNNYXRyaXgoeCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEZW5zZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNEZW5zZU1hdHJpeCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYXJzZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNTcGFyc2VNYXRyaXggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZSh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzUmFuZ2UgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzSW5kZXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZXN1bHRTZXQoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc1Jlc3VsdFNldCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0hlbHAoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0hlbHAgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIERhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gIHJldHVybiAhISh4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4LmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgIWlzQ29tcGxleCh4KSAmJiAhaXNGcmFjdGlvbih4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsKHgpIHtcbiAgcmV0dXJuIHggPT09IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoeCkge1xuICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzb3JOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0FjY2Vzc29yTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheU5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQXJyYXlOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Fzc2lnbm1lbnROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Fzc2lnbm1lbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNCbG9ja05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0NvbmRpdGlvbmFsTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdGFudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQ29uc3RhbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbk5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Ob2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNJbmRleE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT2JqZWN0Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYXRvck5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT3BlcmF0b3JOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmVudGhlc2lzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNQYXJlbnRoZXNpc05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmFuZ2VOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1JhbmdlTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTeW1ib2xOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1N5bWJvbE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhaW4oeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0NoYWluID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVPZih4KSB7XG4gIHZhciB0ID0gdHlwZW9mIHg7XG5cbiAgaWYgKHQgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gSmF2YVNjcmlwdCB0eXBlc1xuICAgIGlmICh4ID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSByZXR1cm4gJ0FycmF5JztcbiAgICBpZiAoeCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiAnRGF0ZSc7XG4gICAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiAnUmVnRXhwJzsgLy8gbWF0aC5qcyB0eXBlc1xuXG4gICAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4gJ0JpZ051bWJlcic7XG4gICAgaWYgKGlzQ29tcGxleCh4KSkgcmV0dXJuICdDb21wbGV4JztcbiAgICBpZiAoaXNGcmFjdGlvbih4KSkgcmV0dXJuICdGcmFjdGlvbic7XG4gICAgaWYgKGlzTWF0cml4KHgpKSByZXR1cm4gJ01hdHJpeCc7XG4gICAgaWYgKGlzVW5pdCh4KSkgcmV0dXJuICdVbml0JztcbiAgICBpZiAoaXNJbmRleCh4KSkgcmV0dXJuICdJbmRleCc7XG4gICAgaWYgKGlzUmFuZ2UoeCkpIHJldHVybiAnUmFuZ2UnO1xuICAgIGlmIChpc1Jlc3VsdFNldCh4KSkgcmV0dXJuICdSZXN1bHRTZXQnO1xuICAgIGlmIChpc05vZGUoeCkpIHJldHVybiB4LnR5cGU7XG4gICAgaWYgKGlzQ2hhaW4oeCkpIHJldHVybiAnQ2hhaW4nO1xuICAgIGlmIChpc0hlbHAoeCkpIHJldHVybiAnSGVscCc7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG5cbiAgaWYgKHQgPT09ICdmdW5jdGlvbicpIHJldHVybiAnRnVuY3Rpb24nO1xuICByZXR1cm4gdDsgLy8gY2FuIGJlICdzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nLCAuLi5cbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuLyoqXG4gKiBDbG9uZSBhbiBvYmplY3RcbiAqXG4gKiAgICAgY2xvbmUoeClcbiAqXG4gKiBDYW4gY2xvbmUgYW55IHByaW1pdGl2ZSB0eXBlLCBhcnJheSwgYW5kIG9iamVjdC5cbiAqIElmIHggaGFzIGEgZnVuY3Rpb24gY2xvbmUsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHRvIGNsb25lIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHsqfSB4XG4gKiBAcmV0dXJuIHsqfSBjbG9uZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZSh4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7IC8vIGltbXV0YWJsZSBwcmltaXRpdmUgdHlwZXNcblxuICBpZiAodHlwZSA9PT0gJ251bWJlcicgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nIHx8IHggPT09IG51bGwgfHwgeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHg7XG4gIH0gLy8gdXNlIGNsb25lIGZ1bmN0aW9uIG9mIHRoZSBvYmplY3Qgd2hlbiBhdmFpbGFibGVcblxuXG4gIGlmICh0eXBlb2YgeC5jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB4LmNsb25lKCk7XG4gIH0gLy8gYXJyYXlcblxuXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIHgubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNsb25lKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh4IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIG5ldyBEYXRlKHgudmFsdWVPZigpKTtcbiAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4geDsgLy8gYmlnbnVtYmVycyBhcmUgaW1tdXRhYmxlXG5cbiAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjbG9uZSAnICsgeCk7IC8vIFRPRE86IGNsb25lIGEgUmVnRXhwXG4gIC8vIG9iamVjdFxuXG4gIHJldHVybiBtYXBPYmplY3QoeCwgY2xvbmUpO1xufVxuLyoqXG4gKiBBcHBseSBtYXAgdG8gYWxsIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGggbWFwcGVkIHByb3BlcnRpZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2spIHtcbiAgdmFyIGNsb25lID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkpIHtcbiAgICAgIGNsb25lW2tleV0gPSBjYWxsYmFjayhvYmplY3Rba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb25lO1xufVxuLyoqXG4gKiBFeHRlbmQgb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KGIsIHByb3ApKSB7XG4gICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCBleHRlbmQgYW4gb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXh0ZW5kKGEsIGIpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIEFycmF5cyB0byBkZWVwRXh0ZW5kXG4gIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmQnKTtcbiAgfVxuXG4gIGZvciAodmFyIHByb3AgaW4gYikge1xuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgcHJvcCBub3QgYmVpbmcgaW4gT2JqZWN0LnByb3RvdHlwZSBvciBGdW5jdGlvbi5wcm90b3R5cGVcbiAgICAvLyB0byBwcmV2ZW50IHBvbGx1dGluZyBmb3IgZXhhbXBsZSBPYmplY3QuX19wcm90b19fLlxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShiLCBwcm9wKSAmJiAhKHByb3AgaW4gT2JqZWN0LnByb3RvdHlwZSkgJiYgIShwcm9wIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIGlmIChiW3Byb3BdICYmIGJbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICBpZiAoYVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYVtwcm9wXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFbcHJvcF0gJiYgYVtwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgZGVlcEV4dGVuZChhW3Byb3BdLCBiW3Byb3BdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJbcHJvcF0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCB0ZXN0IGVxdWFsaXR5IG9mIGFsbCBmaWVsZHMgaW4gdHdvIHBhaXJzIG9mIGFycmF5cyBvciBvYmplY3RzLlxuICogQ29tcGFyZXMgdmFsdWVzIGFuZCBmdW5jdGlvbnMgc3RyaWN0bHkgKGllLiAyIGlzIG5vdCB0aGUgc2FtZSBhcyAnMicpLlxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYVxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhLCBiKSB7XG4gIHZhciBwcm9wLCBpLCBsZW47XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGIpIHx8ICEoYiBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYSkge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBiKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYikge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBhKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmbGF0dGVuIGEgbmVzdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXN0ZWRPYmplY3RcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgZmxhdHRlbmVkIG9iamVjdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QpIHtcbiAgdmFyIGZsYXR0ZW5lZE9iamVjdCA9IHt9O1xuXG4gIF9kZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QsIGZsYXR0ZW5lZE9iamVjdCk7XG5cbiAgcmV0dXJuIGZsYXR0ZW5lZE9iamVjdDtcbn0gLy8gaGVscGVyIGZ1bmN0aW9uIHVzZWQgYnkgZGVlcEZsYXR0ZW5cblxuZnVuY3Rpb24gX2RlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCwgZmxhdHRlbmVkT2JqZWN0KSB7XG4gIGZvciAodmFyIHByb3AgaW4gbmVzdGVkT2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KG5lc3RlZE9iamVjdCwgcHJvcCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG5lc3RlZE9iamVjdFtwcm9wXTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgX2RlZXBGbGF0dGVuKHZhbHVlLCBmbGF0dGVuZWRPYmplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxhdHRlbmVkT2JqZWN0W3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBzdXBwb3J0cyBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgc3VwcG9ydGVkXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gY2FuRGVmaW5lUHJvcGVydHkoKSB7XG4gIC8vIHRlc3QgbmVlZGVkIGZvciBicm9rZW4gSUU4IGltcGxlbWVudGF0aW9uXG4gIHRyeSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7fVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBdHRhY2ggYSBsYXp5IGxvYWRpbmcgcHJvcGVydHkgdG8gYSBjb25zdGFudC5cbiAqIFRoZSBnaXZlbiBmdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHByb3BlcnR5IGlzIGZpcnN0IHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0ICAgICAgICAgT2JqZWN0IHdoZXJlIHRvIGFkZCB0aGUgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wICAgICAgICAgICBQcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB2YWx1ZVJlc29sdmVyIEZ1bmN0aW9uIHJldHVybmluZyB0aGUgcHJvcGVydHkgdmFsdWUuIENhbGxlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhvdXQgYXJndW1lbnRzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5KG9iamVjdCwgcHJvcCwgdmFsdWVSZXNvbHZlcikge1xuICB2YXIgX3VuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gIHZhciBfdmFsdWU7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcCwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKF91bmluaXRpYWxpemVkKSB7XG4gICAgICAgIF92YWx1ZSA9IHZhbHVlUmVzb2x2ZXIoKTtcbiAgICAgICAgX3VuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgIF91bmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9KTtcbn1cbi8qKlxuICogVHJhdmVyc2UgYSBwYXRoIGludG8gYW4gb2JqZWN0LlxuICogV2hlbiBhIG5hbWVzcGFjZSBpcyBtaXNzaW5nLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGggICBBIGRvdCBzZXBhcmF0ZWQgc3RyaW5nIGxpa2UgJ25hbWUuc3BhY2UnXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBwYXRoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlKG9iamVjdCwgcGF0aCkge1xuICBpZiAocGF0aCAmJiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHJhdmVyc2Uob2JqZWN0LCBwYXRoLnNwbGl0KCcuJykpO1xuICB9XG5cbiAgdmFyIG9iaiA9IG9iamVjdDtcblxuICBpZiAocGF0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG5cbiAgICAgIGlmICghKGtleSBpbiBvYmopKSB7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICB9XG5cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG4vKipcbiAqIEEgc2FmZSBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIGEgZmFjdG9yeSBoYXMgZmllbGRzOlxuICpcbiAqIC0gZmFjdG9yeTogZnVuY3Rpb24gKHR5cGU6IE9iamVjdCwgY29uZmlnOiBPYmplY3QsIGxvYWQ6IGZ1bmN0aW9uLCB0eXBlZDogZnVuY3Rpb24gWywgbWF0aDogT2JqZWN0XSkgICAocmVxdWlyZWQpXG4gKiAtIG5hbWU6IHN0cmluZyAob3B0aW9uYWwpXG4gKiAtIHBhdGg6IHN0cmluZyAgICBBIGRvdCBzZXBhcmF0ZWQgcGF0aCAob3B0aW9uYWwpXG4gKiAtIG1hdGg6IGJvb2xlYW4gICBJZiB0cnVlIChmYWxzZSBieSBkZWZhdWx0KSwgdGhlIG1hdGggbmFtZXNwYWNlIGlzIHBhc3NlZFxuICogICAgICAgICAgICAgICAgICAgYXMgZmlmdGggYXJndW1lbnQgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGVnYWN5RmFjdG9yeShvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LmZhY3RvcnkgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIEdldCBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGlzUGF0aChwYXRoKSkge1xuICAgICAgcmV0dXJuIGdldChvYmplY3QsIHBhdGguc3BsaXQoJy4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmplY3RbcGF0aF07XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoaWxkID0gb2JqZWN0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuICAgIGNoaWxkID0gY2hpbGQgPyBjaGlsZFtrZXldIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuLyoqXG4gKiBTZXQgYSBuZXN0ZWQgcHJvcGVydHkgaW4gYW4gb2JqZWN0XG4gKiBNdXRhdGVzIHRoZSBvYmplY3QgaXRzZWxmXG4gKiBJZiB0aGUgcGF0aCBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGhcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaXNQYXRoKHBhdGgpKSB7XG4gICAgICByZXR1cm4gc2V0KG9iamVjdCwgcGF0aC5zcGxpdCgnLicpLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdFtwYXRoXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGQgPSBvYmplY3Q7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuXG4gICAgaWYgKGNoaWxkW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2hpbGRba2V5XSA9IHt9O1xuICAgIH1cblxuICAgIGNoaWxkID0gY2hpbGRba2V5XTtcbiAgfVxuXG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbGFzdEtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICBjaGlsZFtsYXN0S2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB2YWx1ZSB0byB0cmFuc2Zvcm0gYSB2YWx1ZSB3aGVuIHBpY2tpbmcgaXRcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmplY3QsIHByb3BlcnRpZXMsIHRyYW5zZm9ybSkge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IGdldChvYmplY3QsIGtleSk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0KGNvcHksIGtleSwgdHJhbnNmb3JtID8gdHJhbnNmb3JtKHZhbHVlLCBrZXkpIDogdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuLyoqXG4gKiBTaGFsbG93IHZlcnNpb24gb2YgcGljaywgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXNcbiAqIGJ1dCBub3QgZm9yIG5lc3RlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tTaGFsbG93KG9iamVjdCwgcHJvcGVydGllcykge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvcHlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGtleSA9PiBvYmplY3Rba2V5XSk7XG59IC8vIGhlbHBlciBmdW5jdGlvbiB0byB0ZXN0IHdoZXRoZXIgYSBzdHJpbmcgY29udGFpbnMgYSBwYXRoIGxpa2UgJ3VzZXIubmFtZSdcblxuZnVuY3Rpb24gaXNQYXRoKHN0cikge1xuICByZXR1cm4gc3RyLmluZGV4T2YoJy4nKSAhPT0gLTE7XG59IiwiLyoqXG4gKiB0eXBlZC1mdW5jdGlvblxuICpcbiAqIFR5cGUgY2hlY2tpbmcgZm9yIEphdmFTY3JpcHQgZnVuY3Rpb25zXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvblxuICovXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gT2xkTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBPbGROb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC50eXBlZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiAgZnVuY3Rpb24gb2sgKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90T2sgKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZGVmICgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgcGFyYW1zOiBQYXJhbVtdLFxuICAgKiAgIGZuOiBmdW5jdGlvblxuICAgKiB9fSBTaWduYXR1cmVcbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICB0eXBlczogVHlwZVtdLFxuICAgKiAgIHJlc3RQYXJhbTogYm9vbGVhblxuICAgKiB9fSBQYXJhbVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0eXBlSW5kZXg6IG51bWJlcixcbiAgICogICB0ZXN0OiBmdW5jdGlvbixcbiAgICogICBjb252ZXJzaW9uPzogQ29udmVyc2lvbkRlZixcbiAgICogICBjb252ZXJzaW9uSW5kZXg6IG51bWJlcixcbiAgICogfX0gVHlwZVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIGZyb206IHN0cmluZyxcbiAgICogICB0bzogc3RyaW5nLFxuICAgKiAgIGNvbnZlcnQ6IGZ1bmN0aW9uICgqKSA6ICpcbiAgICogfX0gQ29udmVyc2lvbkRlZlxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0ZXN0OiBmdW5jdGlvbigqKSA6IGJvb2xlYW5cbiAgICogfX0gVHlwZURlZlxuICAgKi9cblxuICAvLyBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgZnVuY3Rpb24gY3JlYXRlICgpIHtcbiAgICAvLyBkYXRhIHR5cGUgdGVzdHNcbiAgICB2YXIgX3R5cGVzID0gW1xuICAgICAgeyBuYW1lOiAnbnVtYmVyJywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJyB9IH0sXG4gICAgICB7IG5hbWU6ICdzdHJpbmcnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnIH0gfSxcbiAgICAgIHsgbmFtZTogJ2Jvb2xlYW4nLCAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nIH0gfSxcbiAgICAgIHsgbmFtZTogJ0Z1bmN0aW9uJywgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJ30gfSxcbiAgICAgIHsgbmFtZTogJ0FycmF5JywgICAgIHRlc3Q6IEFycmF5LmlzQXJyYXkgfSxcbiAgICAgIHsgbmFtZTogJ0RhdGUnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgRGF0ZSB9IH0sXG4gICAgICB7IG5hbWU6ICdSZWdFeHAnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cCB9IH0sXG4gICAgICB7IG5hbWU6ICdPYmplY3QnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0XG4gICAgICB9fSxcbiAgICAgIHsgbmFtZTogJ251bGwnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSBudWxsIH0gfSxcbiAgICAgIHsgbmFtZTogJ3VuZGVmaW5lZCcsIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSB1bmRlZmluZWQgfSB9XG4gICAgXTtcblxuICAgIHZhciBhbnlUeXBlID0ge1xuICAgICAgbmFtZTogJ2FueScsXG4gICAgICB0ZXN0OiBva1xuICAgIH1cblxuICAgIC8vIHR5cGVzIHdoaWNoIG5lZWQgdG8gYmUgaWdub3JlZFxuICAgIHZhciBfaWdub3JlID0gW107XG5cbiAgICAvLyB0eXBlIGNvbnZlcnNpb25zXG4gICAgdmFyIF9jb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBvYmplY3QsIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHR5cGVkIGZ1bmN0aW9uIGF0IHRoZSBlbmRcbiAgICB2YXIgdHlwZWQgPSB7XG4gICAgICB0eXBlczogX3R5cGVzLFxuICAgICAgY29udmVyc2lvbnM6IF9jb252ZXJzaW9ucyxcbiAgICAgIGlnbm9yZTogX2lnbm9yZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSB0ZXN0IGZ1bmN0aW9uIGZvciBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU5hbWVcbiAgICAgKiBAcmV0dXJuIHtUeXBlRGVmfSBSZXR1cm5zIHRoZSB0eXBlIGRlZmluaXRpb24gd2hlbiBmb3VuZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgVGhyb3dzIGEgVHlwZUVycm9yIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlQnlOYW1lICh0eXBlTmFtZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gdHlwZU5hbWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVOYW1lID09PSAnYW55JykgeyAvLyBzcGVjaWFsIGJha2VkLWluIGNhc2UgJ2FueSdcbiAgICAgICAgcmV0dXJuIGFueVR5cGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBoaW50ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gdHlwZSBcIicgKyB0eXBlTmFtZSArICdcIicgK1xuICAgICAgICAgIChoaW50ID8gKCcuIERpZCB5b3UgbWVhbiBcIicgKyBoaW50Lm5hbWUgKyAnXCI/JykgOiAnJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGluZGV4IG9mIGEgdHlwZSBkZWZpbml0aW9uLiBIYW5kbGVzIHNwZWNpYWwgY2FzZSAnYW55J1xuICAgICAqIEBwYXJhbSB7VHlwZURlZn0gdHlwZVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVHlwZUluZGV4KHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBhbnlUeXBlKSB7XG4gICAgICAgIHJldHVybiA5OTk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlZC50eXBlcy5pbmRleE9mKHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSB0eXBlIHRoYXQgbWF0Y2hlcyBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGZpcnN0IHR5cGUgZm9yIHdoaWNoXG4gICAgICogICAgICAgICAgICAgICAgICB0aGUgdHlwZSB0ZXN0IG1hdGNoZXMgdGhlIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlTmFtZSh2YWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkudGVzdCh2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBoYXMgdW5rbm93biB0eXBlLiBWYWx1ZTogJyArIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc3BlY2lmaWMgc2lnbmF0dXJlIGZyb20gYSAoY29tcG9zZWQpIHR5cGVkIGZ1bmN0aW9uLCBmb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgdHlwZWQuZmluZChmbiwgWydudW1iZXInLCAnc3RyaW5nJ10pXG4gICAgICogICB0eXBlZC5maW5kKGZuLCAnbnVtYmVyLCBzdHJpbmcnKVxuICAgICAqXG4gICAgICogRnVuY3Rpb24gZmluZCBvbmx5IG9ubHkgd29ya3MgZm9yIGV4YWN0IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBBIHR5cGVkLWZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gc2lnbmF0dXJlICAgU2lnbmF0dXJlIHRvIGJlIGZvdW5kLCBjYW4gYmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbiBhcnJheSBvciBhIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259ICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbWF0Y2hpbmcgc2lnbmF0dXJlLCBvclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93cyBhbiBlcnJvciB3aGVuIG5vIHNpZ25hdHVyZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQgKGZuLCBzaWduYXR1cmUpIHtcbiAgICAgIGlmICghZm4uc2lnbmF0dXJlcykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiBpcyBubyB0eXBlZC1mdW5jdGlvbicpO1xuICAgICAgfVxuXG4gICAgICAvLyBub3JtYWxpemUgaW5wdXRcbiAgICAgIHZhciBhcnI7XG4gICAgICBpZiAodHlwZW9mIHNpZ25hdHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYXJyID0gc2lnbmF0dXJlLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyW2ldID0gYXJyW2ldLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzaWduYXR1cmUpKSB7XG4gICAgICAgIGFyciA9IHNpZ25hdHVyZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgYXJyYXkgb3IgYSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHIgPSBhcnIuam9pbignLCcpO1xuXG4gICAgICAvLyBmaW5kIGFuIGV4YWN0IG1hdGNoXG4gICAgICB2YXIgbWF0Y2ggPSBmbi5zaWduYXR1cmVzW3N0cl07XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBleHRlbmQgZmluZCB0byBtYXRjaCBub24tZXhhY3Qgc2lnbmF0dXJlc1xuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTaWduYXR1cmUgbm90IGZvdW5kIChzaWduYXR1cmU6ICcgKyAoZm4ubmFtZSB8fCAndW5uYW1lZCcpICsgJygnICsgYXJyLmpvaW4oJywgJykgKyAnKSknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZ2l2ZW4gdmFsdWUgdG8gYW5vdGhlciBkYXRhIHR5cGUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydCAodmFsdWUsIHR5cGUpIHtcbiAgICAgIHZhciBmcm9tID0gZmluZFR5cGVOYW1lKHZhbHVlKTtcblxuICAgICAgLy8gY2hlY2sgY29udmVyc2lvbiBpcyBuZWVkZWRcbiAgICAgIGlmICh0eXBlID09PSBmcm9tKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC5jb252ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY29udmVyc2lvbiA9IHR5cGVkLmNvbnZlcnNpb25zW2ldO1xuICAgICAgICBpZiAoY29udmVyc2lvbi5mcm9tID09PSBmcm9tICYmIGNvbnZlcnNpb24udG8gPT09IHR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gY29udmVyc2lvbi5jb252ZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGZyb20gJyArIGZyb20gKyAnIHRvICcgKyB0eXBlKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU3RyaW5naWZ5IHBhcmFtZXRlcnMgaW4gYSBub3JtYWxpemVkIHdheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeVBhcmFtcyAocGFyYW1zKSB7XG4gICAgICByZXR1cm4gcGFyYW1zXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIHZhciB0eXBlTmFtZXMgPSBwYXJhbS50eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gKHBhcmFtLnJlc3RQYXJhbSA/ICcuLi4nIDogJycpICsgdHlwZU5hbWVzLmpvaW4oJ3wnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSBwYXJhbWV0ZXIsIGxpa2UgXCIuLi5udW1iZXIgfCBib29sZWFuXCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1cbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtQYXJhbX0gcGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZVBhcmFtIChwYXJhbSwgY29udmVyc2lvbnMpIHtcbiAgICAgIHZhciByZXN0UGFyYW0gPSBwYXJhbS5pbmRleE9mKCcuLi4nKSA9PT0gMDtcbiAgICAgIHZhciB0eXBlcyA9ICghcmVzdFBhcmFtKVxuICAgICAgICAgID8gcGFyYW1cbiAgICAgICAgICA6IChwYXJhbS5sZW5ndGggPiAzKVxuICAgICAgICAgICAgICA/IHBhcmFtLnNsaWNlKDMpXG4gICAgICAgICAgICAgIDogJ2FueSc7XG5cbiAgICAgIHZhciB0eXBlTmFtZXMgPSB0eXBlcy5zcGxpdCgnfCcpLm1hcCh0cmltKVxuICAgICAgICAgIC5maWx0ZXIobm90RW1wdHkpXG4gICAgICAgICAgLmZpbHRlcihub3RJZ25vcmUpO1xuXG4gICAgICB2YXIgbWF0Y2hpbmdDb252ZXJzaW9ucyA9IGZpbHRlckNvbnZlcnNpb25zKGNvbnZlcnNpb25zLCB0eXBlTmFtZXMpO1xuXG4gICAgICB2YXIgZXhhY3RUeXBlcyA9IHR5cGVOYW1lcy5tYXAoZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUodHlwZU5hbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogdHlwZU5hbWUsXG4gICAgICAgICAgdHlwZUluZGV4OiBmaW5kVHlwZUluZGV4KHR5cGUpLFxuICAgICAgICAgIHRlc3Q6IHR5cGUudGVzdCxcbiAgICAgICAgICBjb252ZXJzaW9uOiBudWxsLFxuICAgICAgICAgIGNvbnZlcnNpb25JbmRleDogLTFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29udmVydGlibGVUeXBlcyA9IG1hdGNoaW5nQ29udmVyc2lvbnMubWFwKGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUoY29udmVyc2lvbi5mcm9tKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGNvbnZlcnNpb24uZnJvbSxcbiAgICAgICAgICB0eXBlSW5kZXg6IGZpbmRUeXBlSW5kZXgodHlwZSksXG4gICAgICAgICAgdGVzdDogdHlwZS50ZXN0LFxuICAgICAgICAgIGNvbnZlcnNpb246IGNvbnZlcnNpb24sXG4gICAgICAgICAgY29udmVyc2lvbkluZGV4OiBjb252ZXJzaW9ucy5pbmRleE9mKGNvbnZlcnNpb24pXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZXM6IGV4YWN0VHlwZXMuY29uY2F0KGNvbnZlcnRpYmxlVHlwZXMpLFxuICAgICAgICByZXN0UGFyYW06IHJlc3RQYXJhbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHNpZ25hdHVyZSB3aXRoIGNvbW1hIHNlcGFyYXRlZCBwYXJhbWV0ZXJzLFxuICAgICAqIGxpa2UgXCJudW1iZXIgfCBib29sZWFuLCAuLi5zdHJpbmdcIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge1NpZ25hdHVyZSB8IG51bGx9IHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlU2lnbmF0dXJlIChzaWduYXR1cmUsIGZuLCBjb252ZXJzaW9ucykge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgICBpZiAoc2lnbmF0dXJlLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgcGFyYW1zID0gc2lnbmF0dXJlXG4gICAgICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAgICAgLm1hcCh0cmltKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0sIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICB2YXIgcGFyc2VkUGFyYW0gPSBwYXJzZVBhcmFtKHBhcmFtLCBjb252ZXJzaW9ucyk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnNlZFBhcmFtLnJlc3RQYXJhbSAmJiAoaW5kZXggIT09IGFycmF5Lmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIHJlc3QgcGFyYW1ldGVyIFwiJyArIHBhcmFtICsgJ1wiOiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29ubHkgYWxsb3dlZCBmb3IgdGhlIGxhc3QgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUGFyYW07XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc29tZShpc0ludmFsaWRQYXJhbSkpIHtcbiAgICAgICAgLy8gaW52YWxpZCBzaWduYXR1cmU6IGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIgaGFzIG5vIHR5cGVzXG4gICAgICAgIC8vICh0aGV5IG1heSBoYXZlIGJlZW4gZmlsdGVyZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgZm46IGZuXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHNldCBvZiBwYXJhbXMgY29udGFpbnMgYSByZXN0UGFyYW1cbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBsYXN0IHBhcmFtZXRlciBpcyBhIHJlc3RQYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1Jlc3RQYXJhbShwYXJhbXMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGxhc3QocGFyYW1zKVxuICAgICAgcmV0dXJuIHBhcmFtID8gcGFyYW0ucmVzdFBhcmFtIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgcGFyYW1ldGVyIGNvbnRhaW5zIGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhdCBsZWFzdCBvbmUgb2YgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjb250YWlucyBhIGNvbnZlcnNpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29udmVyc2lvbnMocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5zb21lKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0eXBlLmNvbnZlcnNpb24gIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHR5cGUgdGVzdCBmb3IgYSBzaW5nbGUgcGFyYW1ldGVyLCB3aGljaCBjYW4gaGF2ZSBvbmUgb3IgbXVsdGlwbGVcbiAgICAgKiB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKHg6ICopIDogYm9vbGVhbn0gUmV0dXJucyBhIHRlc3QgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdChwYXJhbSkge1xuICAgICAgaWYgKCFwYXJhbSB8fCBwYXJhbS50eXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gb2s7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRUeXBlQnlOYW1lKHBhcmFtLnR5cGVzWzBdLm5hbWUpLnRlc3Q7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdmFyIHRlc3QwID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMF0ubmFtZSkudGVzdDtcbiAgICAgICAgdmFyIHRlc3QxID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMV0ubmFtZSkudGVzdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9yKHgpIHtcbiAgICAgICAgICByZXR1cm4gdGVzdDAoeCkgfHwgdGVzdDEoeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgeyAvLyBwYXJhbS50eXBlcy5sZW5ndGggPiAyXG4gICAgICAgIHZhciB0ZXN0cyA9IHBhcmFtLnR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgIHJldHVybiBmaW5kVHlwZUJ5TmFtZSh0eXBlLm5hbWUpLnRlc3Q7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvcih4KSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRlc3RzW2ldKHgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXN0IGZvciBhbGwgcGFyYW1ldGVycyBvZiBhIHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oYXJnczogQXJyYXk8Kj4pIDogYm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdHMocGFyYW1zKSB7XG4gICAgICB2YXIgdGVzdHMsIHRlc3QwLCB0ZXN0MTtcblxuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIC8vIHZhcmlhYmxlIGFyZ3VtZW50cyBsaWtlICcuLi5udW1iZXInXG4gICAgICAgIHRlc3RzID0gaW5pdGlhbChwYXJhbXMpLm1hcChjb21waWxlVGVzdCk7XG4gICAgICAgIHZhciB2YXJJbmRleCA9IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgdmFyIGxhc3RUZXN0ID0gY29tcGlsZVRlc3QobGFzdChwYXJhbXMpKTtcbiAgICAgICAgdmFyIHRlc3RSZXN0UGFyYW0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSB2YXJJbmRleDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghbGFzdFRlc3QoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0ZXN0c1tpXShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZXN0UmVzdFBhcmFtKGFyZ3MpICYmIChhcmdzLmxlbmd0aCA+PSB2YXJJbmRleCArIDEpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIG5vIHZhcmlhYmxlIGFyZ3VtZW50c1xuICAgICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdDAoYXJnc1swXSkgJiYgYXJncy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHRlc3QxID0gY29tcGlsZVRlc3QocGFyYW1zWzFdKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRlc3QwKGFyZ3NbMF0pICYmIHRlc3QxKGFyZ3NbMV0pICYmIGFyZ3MubGVuZ3RoID09PSAyO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICAgICAgdGVzdHMgPSBwYXJhbXMubWFwKGNvbXBpbGVUZXN0KTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoIXRlc3RzW2ldKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcGFyYW1ldGVyIGF0IGEgc3BlY2lmaWMgaW5kZXggb2YgYSBzaWduYXR1cmUuXG4gICAgICogSGFuZGxlcyByZXN0IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm4ge1BhcmFtIHwgbnVsbH0gUmV0dXJucyB0aGUgbWF0Y2hpbmcgcGFyYW1ldGVyIHdoZW4gZm91bmQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4IDwgc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGhcbiAgICAgICAgICA/IHNpZ25hdHVyZS5wYXJhbXNbaW5kZXhdXG4gICAgICAgICAgOiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcylcbiAgICAgICAgICAgICAgPyBsYXN0KHNpZ25hdHVyZS5wYXJhbXMpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdHlwZSBuYW1lcyBvZiBhIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4Y2x1ZGVDb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBSZXR1cm5zIGFuIGFycmF5IHdpdGggdHlwZSBuYW1lc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEV4cGVjdGVkVHlwZU5hbWVzIChzaWduYXR1cmUsIGluZGV4LCBleGNsdWRlQ29udmVyc2lvbnMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KTtcbiAgICAgIHZhciB0eXBlcyA9IHBhcmFtXG4gICAgICAgICAgPyBleGNsdWRlQ29udmVyc2lvbnNcbiAgICAgICAgICAgICAgICAgID8gcGFyYW0udHlwZXMuZmlsdGVyKGlzRXhhY3RUeXBlKVxuICAgICAgICAgICAgICAgICAgOiBwYXJhbS50eXBlc1xuICAgICAgICAgIDogW107XG5cbiAgICAgIHJldHVybiB0eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgYSB0eXBlXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0eXBlIG5hbWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgaXMgYW4gZXhhY3QgdHlwZSBvciBjb252ZXJzaW9uXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0V4YWN0VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5jb252ZXJzaW9uID09PSBudWxsIHx8IHR5cGUuY29udmVyc2lvbiA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgZXJyb3IgbWVzc2FnZXM6IGNyZWF0ZSBhbiBhcnJheSB3aXRoXG4gICAgICogYWxsIGF2YWlsYWJsZSB0eXBlcyBvbiBhIHNwZWNpZmljIGFyZ3VtZW50IGluZGV4LlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gUmV0dXJucyBhbiBhcnJheSB3aXRoIGF2YWlsYWJsZSB0eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRXhwZWN0ZWRQYXJhbXMoc2lnbmF0dXJlcywgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlTmFtZXMgPSB1bmlxKGZsYXRNYXAoc2lnbmF0dXJlcywgZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlLCBpbmRleCwgZmFsc2UpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gKHR5cGVOYW1lcy5pbmRleE9mKCdhbnknKSAhPT0gLTEpID8gWydhbnknXSA6IHR5cGVOYW1lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2FycmF5LjwqPn0gYXJncyAgICAgICAgICBUaGUgYWN0dWFsIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlcyAgQSBsaXN0IHdpdGggYXZhaWxhYmxlIHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtUeXBlRXJyb3J9IFJldHVybnMgYSB0eXBlIGVycm9yIHdpdGggYWRkaXRpb25hbCBkYXRhXG4gICAgICogICAgICAgICAgICAgICAgICAgICBhdHRhY2hlZCB0byBpdCBpbiB0aGUgcHJvcGVydHkgYGRhdGFgXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSwgYXJncywgc2lnbmF0dXJlcykge1xuICAgICAgdmFyIGVyciwgZXhwZWN0ZWQ7XG4gICAgICB2YXIgX25hbWUgPSBuYW1lIHx8ICd1bm5hbWVkJztcblxuICAgICAgLy8gdGVzdCBmb3Igd3JvbmcgdHlwZSBhdCBzb21lIGluZGV4XG4gICAgICB2YXIgbWF0Y2hpbmdTaWduYXR1cmVzID0gc2lnbmF0dXJlcztcbiAgICAgIHZhciBpbmRleDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFyZ3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0TWF0Y2hpbmdEZWZzID0gbWF0Y2hpbmdTaWduYXR1cmVzLmZpbHRlcihmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgdmFyIHRlc3QgPSBjb21waWxlVGVzdChnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkpO1xuICAgICAgICAgIHJldHVybiAoaW5kZXggPCBzaWduYXR1cmUucGFyYW1zLmxlbmd0aCB8fCBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykpICYmXG4gICAgICAgICAgICAgIHRlc3QoYXJnc1tpbmRleF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobmV4dE1hdGNoaW5nRGVmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBubyBtYXRjaGluZyBzaWduYXR1cmVzIGFueW1vcmUsIHRocm93IGVycm9yIFwid3JvbmcgdHlwZVwiXG4gICAgICAgICAgZXhwZWN0ZWQgPSBtZXJnZUV4cGVjdGVkUGFyYW1zKG1hdGNoaW5nU2lnbmF0dXJlcywgaW5kZXgpO1xuICAgICAgICAgIGlmIChleHBlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsVHlwZSA9IGZpbmRUeXBlTmFtZShhcmdzW2luZGV4XSk7XG5cbiAgICAgICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgZXhwZWN0ZWQuam9pbignIG9yICcpICtcbiAgICAgICAgICAgICAgICAnLCBhY3R1YWw6ICcgKyBhY3R1YWxUeXBlICsgJywgaW5kZXg6ICcgKyBpbmRleCArICcpJyk7XG4gICAgICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd3cm9uZ1R5cGUnLFxuICAgICAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUeXBlLFxuICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hdGNoaW5nU2lnbmF0dXJlcyA9IG5leHRNYXRjaGluZ0RlZnM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdGVzdCBmb3IgdG9vIGZldyBhcmd1bWVudHNcbiAgICAgIHZhciBsZW5ndGhzID0gbWF0Y2hpbmdTaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykgPyBJbmZpbml0eSA6IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCBNYXRoLm1pbi5hcHBseShudWxsLCBsZW5ndGhzKSkge1xuICAgICAgICBleHBlY3RlZCA9IG1lcmdlRXhwZWN0ZWRQYXJhbXMobWF0Y2hpbmdTaWduYXR1cmVzLCBpbmRleCk7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBmZXcgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAnIChleHBlY3RlZDogJyArIGV4cGVjdGVkLmpvaW4oJyBvciAnKSArXG4gICAgICAgICAgICAnLCBpbmRleDogJyArIGFyZ3MubGVuZ3RoICsgJyknKTtcbiAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0b29GZXdBcmdzJyxcbiAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgaW5kZXg6IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIC8vIHRlc3QgZm9yIHRvbyBtYW55IGFyZ3VtZW50c1xuICAgICAgdmFyIG1heExlbmd0aCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGxlbmd0aHMpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBtYXhMZW5ndGggKyAnLCBhY3R1YWw6ICcgKyBhcmdzLmxlbmd0aCArICcpJyk7XG4gICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgIGNhdGVnb3J5OiAndG9vTWFueUFyZ3MnLFxuICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICBpbmRleDogYXJncy5sZW5ndGgsXG4gICAgICAgICAgZXhwZWN0ZWRMZW5ndGg6IG1heExlbmd0aFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBvZiB0eXBlIFwiJyArIGFyZ3Muam9pbignLCAnKSArXG4gICAgICAgICAgJ1wiIGRvIG5vdCBtYXRjaCBhbnkgb2YgdGhlIGRlZmluZWQgc2lnbmF0dXJlcyBvZiBmdW5jdGlvbiAnICsgX25hbWUgKyAnLicpO1xuICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgIGNhdGVnb3J5OiAnbWlzbWF0Y2gnLFxuICAgICAgICBhY3R1YWw6IGFyZ3MubWFwKGZpbmRUeXBlTmFtZSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbG93ZXN0IGluZGV4IG9mIGFsbCBleGFjdCB0eXBlcyBvZiBhIHBhcmFtZXRlciAobm8gY29udmVyc2lvbnMpXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsb3dlc3QgdHlwZSBpbiB0eXBlZC50eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdFR5cGVJbmRleCAocGFyYW0pIHtcbiAgICAgIHZhciBtaW4gPSA5OTk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW0udHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRXhhY3RUeXBlKHBhcmFtLnR5cGVzW2ldKSkge1xuICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcGFyYW0udHlwZXNbaV0udHlwZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGxvd2VzdCBpbmRleCBvZiB0aGUgY29udmVyc2lvbiBvZiBhbGwgdHlwZXMgb2YgdGhlIHBhcmFtZXRlclxuICAgICAqIGhhdmluZyBhIGNvbnZlcnNpb25cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbG93ZXN0IGluZGV4IG9mIHRoZSBjb252ZXJzaW9ucyBvZiB0aGlzIHR5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXggKHBhcmFtKSB7XG4gICAgICB2YXIgbWluID0gOTk5O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNFeGFjdFR5cGUocGFyYW0udHlwZXNbaV0pKSB7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwYXJhbS50eXBlc1tpXS5jb252ZXJzaW9uSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gcGFyYW1zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0xXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIGEgbmVnYXRpdmUgbnVtYmVyIHdoZW4gcGFyYW0xIG11c3QgZ2V0IGEgbG93ZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgIGluZGV4IHRoYW4gcGFyYW0yLCBhIHBvc2l0aXZlIG51bWJlciB3aGVuIHRoZSBvcHBvc2l0ZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgIG9yIHplcm8gd2hlbiBib3RoIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVQYXJhbXMgKHBhcmFtMSwgcGFyYW0yKSB7XG4gICAgICB2YXIgYztcblxuICAgICAgLy8gY29tcGFyZSBoYXZpbmcgYSByZXN0IHBhcmFtZXRlciBvciBub3RcbiAgICAgIGMgPSBwYXJhbTEucmVzdFBhcmFtIC0gcGFyYW0yLnJlc3RQYXJhbTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIGhhdmluZyBjb252ZXJzaW9ucyBvciBub3RcbiAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhwYXJhbTEpIC0gaGFzQ29udmVyc2lvbnMocGFyYW0yKTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBpbmRleCBvZiB0aGUgdHlwZXNcbiAgICAgIGMgPSBnZXRMb3dlc3RUeXBlSW5kZXgocGFyYW0xKSAtIGdldExvd2VzdFR5cGVJbmRleChwYXJhbTIpO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIGluZGV4IG9mIGFueSBjb252ZXJzaW9uXG4gICAgICByZXR1cm4gZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4KHBhcmFtMSkgLSBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgocGFyYW0yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBzaWduYXR1cmVzXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyBhIG5lZ2F0aXZlIG51bWJlciB3aGVuIHBhcmFtMSBtdXN0IGdldCBhIGxvd2VyXG4gICAgICogICAgICAgICAgICAgICAgICBpbmRleCB0aGFuIHBhcmFtMiwgYSBwb3NpdGl2ZSBudW1iZXIgd2hlbiB0aGUgb3Bwb3NpdGUsXG4gICAgICogICAgICAgICAgICAgICAgICBvciB6ZXJvIHdoZW4gYm90aCBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlU2lnbmF0dXJlcyAoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGxlbiA9IE1hdGgubWluKHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aCwgc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoKTtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGM7XG5cbiAgICAgIC8vIGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgYXQgYWxsIG9yIG5vdFxuICAgICAgYyA9IHNpZ25hdHVyZTEucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpIC0gc2lnbmF0dXJlMi5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucylcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBuZXh0IGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgb25lIGJ5IG9uZVxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUxLnBhcmFtc1tpXSkgLSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUyLnBhcmFtc1tpXSk7XG4gICAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZXMgb2YgdGhlIHBhcmFtcyBvbmUgYnkgb25lXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYyA9IGNvbXBhcmVQYXJhbXMoc2lnbmF0dXJlMS5wYXJhbXNbaV0sIHNpZ25hdHVyZTIucGFyYW1zW2ldKTtcbiAgICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBudW1iZXIgb2YgcGFyYW1zXG4gICAgICByZXR1cm4gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoIC0gc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYXJhbXMgY29udGFpbmluZyBhbGwgdHlwZXMgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIHRoZSBkZWZpbmVkIHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdHlwZU5hbWVzXG4gICAgICogQHJldHVybiB7Q29udmVyc2lvbkRlZltdfSBSZXR1cm5zIHRoZSBjb252ZXJzaW9ucyB0aGF0IGFyZSBhdmFpbGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBldmVyeSB0eXBlIChpZiBhbnkpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyQ29udmVyc2lvbnMoY29udmVyc2lvbnMsIHR5cGVOYW1lcykge1xuICAgICAgdmFyIG1hdGNoZXMgPSB7fTtcblxuICAgICAgY29udmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29udmVyc2lvbikge1xuICAgICAgICBpZiAodHlwZU5hbWVzLmluZGV4T2YoY29udmVyc2lvbi5mcm9tKSA9PT0gLTEgJiZcbiAgICAgICAgICAgIHR5cGVOYW1lcy5pbmRleE9mKGNvbnZlcnNpb24udG8pICE9PSAtMSAmJlxuICAgICAgICAgICAgIW1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSkge1xuICAgICAgICAgIG1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSA9IGNvbnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcykubWFwKGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzW2Zyb21dO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcHJvY2VzcyBhcmd1bWVudHMgYmVmb3JlIGNhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uOlxuICAgICAqIC0gaWYgbmVlZGVkIGNvbnZlcnQgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAtIGluIGNhc2Ugb2YgcmVzdCBwYXJhbWV0ZXJzLCBtb3ZlIHRoZSByZXN0IHBhcmFtZXRlcnMgaW50byBhbiBBcnJheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIHdyYXBwZWQgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlQXJnc1ByZXByb2Nlc3NpbmcocGFyYW1zLCBmbikge1xuICAgICAgdmFyIGZuQ29udmVydCA9IGZuO1xuXG4gICAgICAvLyBUT0RPOiBjYW4gd2UgbWFrZSB0aGlzIHdyYXBwZXIgZnVuY3Rpb24gc21hcnRlci9zaW1wbGVyP1xuXG4gICAgICBpZiAocGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgIHZhciByZXN0UGFyYW0gPSBoYXNSZXN0UGFyYW0ocGFyYW1zKTtcbiAgICAgICAgdmFyIGNvbXBpbGVkQ29udmVyc2lvbnMgPSBwYXJhbXMubWFwKGNvbXBpbGVBcmdDb252ZXJzaW9uKVxuXG4gICAgICAgIGZuQ29udmVydCA9IGZ1bmN0aW9uIGNvbnZlcnRBcmdzKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgdmFyIGxhc3QgPSByZXN0UGFyYW0gPyBhcmd1bWVudHMubGVuZ3RoIC0gMSA6IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBjb21waWxlZENvbnZlcnNpb25zW2ldKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIGFyZ3NbbGFzdF0gPSBhcmd1bWVudHNbbGFzdF0ubWFwKGNvbXBpbGVkQ29udmVyc2lvbnNbbGFzdF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZm5QcmVwcm9jZXNzID0gZm5Db252ZXJ0O1xuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwYXJhbXMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmblByZXByb2Nlc3MgPSBmdW5jdGlvbiBwcmVwcm9jZXNzUmVzdFBhcmFtcyAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZuQ29udmVydC5hcHBseSh0aGlzLFxuICAgICAgICAgICAgICBzbGljZShhcmd1bWVudHMsIDAsIG9mZnNldCkuY29uY2F0KFtzbGljZShhcmd1bWVudHMsIG9mZnNldCldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuUHJlcHJvY2VzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIGNvbnZlcnNpb24gZm9yIGEgcGFyYW1ldGVyIHRvIHRoZSByaWdodCB0eXBlXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbiB0aGF0IHdpbGwgY29udmVydCBhcmd1bWVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcmdDb252ZXJzaW9uKHBhcmFtKSB7XG4gICAgICB2YXIgdGVzdDAsIHRlc3QxLCBjb252ZXJzaW9uMCwgY29udmVyc2lvbjE7XG4gICAgICB2YXIgdGVzdHMgPSBbXTtcbiAgICAgIHZhciBjb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgICBwYXJhbS50eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlLmNvbnZlcnNpb24pIHtcbiAgICAgICAgICB0ZXN0cy5wdXNoKGZpbmRUeXBlQnlOYW1lKHR5cGUuY29udmVyc2lvbi5mcm9tKS50ZXN0KTtcbiAgICAgICAgICBjb252ZXJzaW9ucy5wdXNoKHR5cGUuY29udmVyc2lvbi5jb252ZXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBvcHRpbWl6ZWQgY29udmVyc2lvbiBmdW5jdGlvbnMgZGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YgY29udmVyc2lvbnNcbiAgICAgIHN3aXRjaCAoY29udmVyc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0ZXN0MCA9IHRlc3RzWzBdXG4gICAgICAgICAgY29udmVyc2lvbjAgPSBjb252ZXJzaW9uc1swXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGlmICh0ZXN0MChhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMChhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGVzdDAgPSB0ZXN0c1swXVxuICAgICAgICAgIHRlc3QxID0gdGVzdHNbMV1cbiAgICAgICAgICBjb252ZXJzaW9uMCA9IGNvbnZlcnNpb25zWzBdO1xuICAgICAgICAgIGNvbnZlcnNpb24xID0gY29udmVyc2lvbnNbMV07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBpZiAodGVzdDAoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjAoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRlc3QxKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24xKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb25zW2ldKGFyZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gYXJyYXkgd2l0aCBzaWduYXR1cmVzIGludG8gYSBtYXAgd2l0aCBzaWduYXR1cmVzLFxuICAgICAqIHdoZXJlIHNpZ25hdHVyZXMgd2l0aCB1bmlvbiB0eXBlcyBhcmUgc3BsaXQgaW50byBzZXBhcmF0ZSBzaWduYXR1cmVzXG4gICAgICpcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGVyZSBhcmUgY29uZmxpY3RpbmcgdHlwZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAgUmV0dXJucyBhIG1hcCB3aXRoIHNpZ25hdHVyZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMga2V5IGFuZCB0aGUgb3JpZ2luYWwgZnVuY3Rpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhpcyBzaWduYXR1cmUgYXMgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKSB7XG4gICAgICB2YXIgc2lnbmF0dXJlc01hcCA9IHt9O1xuICAgICAgc2lnbmF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKCFzaWduYXR1cmUucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgICAgc3BsaXRQYXJhbXMoc2lnbmF0dXJlLnBhcmFtcywgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICBzaWduYXR1cmVzTWFwW3N0cmluZ2lmeVBhcmFtcyhwYXJhbXMpXSA9IHNpZ25hdHVyZS5mbjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzaWduYXR1cmVzTWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHBhcmFtcyB3aXRoIHVuaW9uIHR5cGVzIGluIHRvIHNlcGFyYXRlIHBhcmFtcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHNwbGl0UGFyYW1zKFtbJ0FycmF5JywgJ09iamVjdCddLCBbJ3N0cmluZycsICdSZWdFeHAnXSlcbiAgICAgKiAgICAgLy8gcmV0dXJuczpcbiAgICAgKiAgICAgLy8gW1xuICAgICAqICAgICAvLyAgIFsnQXJyYXknLCAnc3RyaW5nJ10sXG4gICAgICogICAgIC8vICAgWydBcnJheScsICdSZWdFeHAnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdzdHJpbmcnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdSZWdFeHAnXVxuICAgICAqICAgICAvLyBdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlQ29udmVyc2lvblR5cGVzXG4gICAgICogQHJldHVybiB7UGFyYW1bXX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdFBhcmFtcyhwYXJhbXMsIGlnbm9yZUNvbnZlcnNpb25UeXBlcykge1xuICAgICAgZnVuY3Rpb24gX3NwbGl0UGFyYW1zKHBhcmFtcywgaW5kZXgsIHR5cGVzKSB7XG4gICAgICAgIGlmIChpbmRleCA8IHBhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbaW5kZXhdXG4gICAgICAgICAgdmFyIGZpbHRlcmVkVHlwZXMgPSBpZ25vcmVDb252ZXJzaW9uVHlwZXNcbiAgICAgICAgICAgICAgPyBwYXJhbS50eXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICAgIDogcGFyYW0udHlwZXM7XG4gICAgICAgICAgdmFyIHR5cGVHcm91cHNcblxuICAgICAgICAgIGlmIChwYXJhbS5yZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IHRoZSB0eXBlcyBvZiBhIHJlc3QgcGFyYW1ldGVyIGluIHR3bzpcbiAgICAgICAgICAgIC8vIG9uZSB3aXRoIG9ubHkgZXhhY3QgdHlwZXMsIGFuZCBvbmUgd2l0aCBleGFjdCB0eXBlcyBhbmQgY29udmVyc2lvbnNcbiAgICAgICAgICAgIHZhciBleGFjdFR5cGVzID0gZmlsdGVyZWRUeXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICB0eXBlR3JvdXBzID0gZXhhY3RUeXBlcy5sZW5ndGggPCBmaWx0ZXJlZFR5cGVzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gW2V4YWN0VHlwZXMsIGZpbHRlcmVkVHlwZXNdXG4gICAgICAgICAgICAgICAgOiBbZmlsdGVyZWRUeXBlc11cblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IGFsbCB0aGUgdHlwZXMgb2YgYSByZWd1bGFyIHBhcmFtZXRlciBpbnRvIG9uZSB0eXBlIHBlciBncm91cFxuICAgICAgICAgICAgdHlwZUdyb3VwcyA9IGZpbHRlcmVkVHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbdHlwZV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVjdXJzZSBvdmVyIHRoZSBncm91cHMgd2l0aCB0eXBlc1xuICAgICAgICAgIHJldHVybiBmbGF0TWFwKHR5cGVHcm91cHMsIGZ1bmN0aW9uICh0eXBlR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3BsaXRQYXJhbXMocGFyYW1zLCBpbmRleCArIDEsIHR5cGVzLmNvbmNhdChbdHlwZUdyb3VwXSkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBwYXJhbWV0ZXJzLiBOb3cgYnVpbGQgYSBuZXcgUGFyYW1cbiAgICAgICAgICB2YXIgc3BsaXR0ZWRQYXJhbXMgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUsIHR5cGVJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZXM6IHR5cGUsXG4gICAgICAgICAgICAgIHJlc3RQYXJhbTogKHR5cGVJbmRleCA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpICYmIGhhc1Jlc3RQYXJhbShwYXJhbXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gW3NwbGl0dGVkUGFyYW1zXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3NwbGl0UGFyYW1zKHBhcmFtcywgMCwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0d28gc2lnbmF0dXJlcyBoYXZlIGEgY29uZmxpY3Rpbmcgc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBzaWduYXR1cmVzIGNvbmZsaWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29uZmxpY3RpbmdQYXJhbXMoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGlpID0gTWF0aC5tYXgoc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoLCBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFyIHR5cGVzTmFtZXMxID0gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlMSwgaSwgdHJ1ZSk7XG4gICAgICAgIHZhciB0eXBlc05hbWVzMiA9IGdldEV4cGVjdGVkVHlwZU5hbWVzKHNpZ25hdHVyZTIsIGksIHRydWUpO1xuXG4gICAgICAgIGlmICghaGFzT3ZlcmxhcCh0eXBlc05hbWVzMSwgdHlwZXNOYW1lczIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW4xID0gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoO1xuICAgICAgdmFyIGxlbjIgPSBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGg7XG4gICAgICB2YXIgcmVzdFBhcmFtMSA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUxLnBhcmFtcyk7XG4gICAgICB2YXIgcmVzdFBhcmFtMiA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUyLnBhcmFtcyk7XG5cbiAgICAgIHJldHVybiByZXN0UGFyYW0xXG4gICAgICAgICAgPyByZXN0UGFyYW0yID8gKGxlbjEgPT09IGxlbjIpIDogKGxlbjIgPj0gbGVuMSlcbiAgICAgICAgICA6IHJlc3RQYXJhbTIgPyAobGVuMSA+PSBsZW4yKSAgOiAobGVuMSA9PT0gbGVuMilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lICAgICAgICAgICAgICAgVGhlIG5hbWUgZm9yIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gc2lnbmF0dXJlc01hcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW4gb2JqZWN0IHdpdGggb25lIG9yXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZSBzaWduYXR1cmVzIGFzIGtleSwgYW5kIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZSBhcyB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gIFJldHVybnMgdGhlIGNyZWF0ZWQgdHlwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc2lnbmF0dXJlc01hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTm8gc2lnbmF0dXJlcyBwcm92aWRlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXJzZSB0aGUgc2lnbmF0dXJlcywgYW5kIGNoZWNrIGZvciBjb25mbGljdHNcbiAgICAgIHZhciBwYXJzZWRTaWduYXR1cmVzID0gW107XG4gICAgICBPYmplY3Qua2V5cyhzaWduYXR1cmVzTWFwKVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2lnbmF0dXJlKHNpZ25hdHVyZSwgc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdLCB0eXBlZC5jb252ZXJzaW9ucyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKG5vdE51bGwpXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHBhcnNlZFNpZ25hdHVyZSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIHBhcmFtZXRlciBjb25mbGljdHMgd2l0aCBhbHJlYWR5IHBhcnNlZCBzaWduYXR1cmVzXG4gICAgICAgICAgICB2YXIgY29uZmxpY3RpbmdTaWduYXR1cmUgPSBmaW5kSW5BcnJheShwYXJzZWRTaWduYXR1cmVzLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFzQ29uZmxpY3RpbmdQYXJhbXMocywgcGFyc2VkU2lnbmF0dXJlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY29uZmxpY3RpbmdTaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29uZmxpY3Rpbmcgc2lnbmF0dXJlcyBcIicgK1xuICAgICAgICAgICAgICAgICAgc3RyaW5naWZ5UGFyYW1zKGNvbmZsaWN0aW5nU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIgYW5kIFwiJyArXG4gICAgICAgICAgICAgICAgICBzdHJpbmdpZnlQYXJhbXMocGFyc2VkU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlZFNpZ25hdHVyZXMucHVzaChwYXJzZWRTaWduYXR1cmUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAvLyBzcGxpdCBhbmQgZmlsdGVyIHRoZSB0eXBlcyBvZiB0aGUgc2lnbmF0dXJlcywgYW5kIHRoZW4gb3JkZXIgdGhlbVxuICAgICAgdmFyIHNpZ25hdHVyZXMgPSBmbGF0TWFwKHBhcnNlZFNpZ25hdHVyZXMsIGZ1bmN0aW9uIChwYXJzZWRTaWduYXR1cmUpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHBhcnNlZFNpZ25hdHVyZSA/IHNwbGl0UGFyYW1zKHBhcnNlZFNpZ25hdHVyZS5wYXJhbXMsIGZhbHNlKSA6IFtdXG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgIGZuOiBwYXJzZWRTaWduYXR1cmUuZm5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pLmZpbHRlcihub3ROdWxsKTtcblxuICAgICAgc2lnbmF0dXJlcy5zb3J0KGNvbXBhcmVTaWduYXR1cmVzKTtcblxuICAgICAgLy8gd2UgY3JlYXRlIGEgaGlnaGx5IG9wdGltaXplZCBjaGVja3MgZm9yIHRoZSBmaXJzdCBjb3VwbGUgb2Ygc2lnbmF0dXJlcyB3aXRoIG1heCAyIGFyZ3VtZW50c1xuICAgICAgdmFyIG9rMCA9IHNpZ25hdHVyZXNbMF0gJiYgc2lnbmF0dXJlc1swXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzBdLnBhcmFtcyk7XG4gICAgICB2YXIgb2sxID0gc2lnbmF0dXJlc1sxXSAmJiBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMV0ucGFyYW1zKTtcbiAgICAgIHZhciBvazIgPSBzaWduYXR1cmVzWzJdICYmIHNpZ25hdHVyZXNbMl0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1syXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMyA9IHNpZ25hdHVyZXNbM10gJiYgc2lnbmF0dXJlc1szXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzNdLnBhcmFtcyk7XG4gICAgICB2YXIgb2s0ID0gc2lnbmF0dXJlc1s0XSAmJiBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbNF0ucGFyYW1zKTtcbiAgICAgIHZhciBvazUgPSBzaWduYXR1cmVzWzVdICYmIHNpZ25hdHVyZXNbNV0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1s1XS5wYXJhbXMpO1xuICAgICAgdmFyIGFsbE9rID0gb2swICYmIG9rMSAmJiBvazIgJiYgb2szICYmIG9rNCAmJiBvazU7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIHRlc3RzXG4gICAgICB2YXIgdGVzdHMgPSBzaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlVGVzdHMoc2lnbmF0dXJlLnBhcmFtcyk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRlc3QwMCA9IG9rMCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QxMCA9IG9rMSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QyMCA9IG9rMiA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMl0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QzMCA9IG9rMyA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbM10ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q0MCA9IG9rNCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q1MCA9IG9rNSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuXG4gICAgICB2YXIgdGVzdDAxID0gb2swID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1swXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDExID0gb2sxID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1sxXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDIxID0gb2syID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1syXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDMxID0gb2szID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1szXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDQxID0gb2s0ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s0XS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDUxID0gb2s1ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s1XS5wYXJhbXNbMV0pIDogbm90T2s7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIGZ1bmN0aW9uc1xuICAgICAgdmFyIGZucyA9IHNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nKHNpZ25hdHVyZS5wYXJhbXMsIHNpZ25hdHVyZS5mbik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGZuMCA9IG9rMCA/IGZuc1swXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMSA9IG9rMSA/IGZuc1sxXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMiA9IG9rMiA/IGZuc1syXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMyA9IG9rMyA/IGZuc1szXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNCA9IG9rNCA/IGZuc1s0XSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNSA9IG9rNSA/IGZuc1s1XSA6IHVuZGVmO1xuXG4gICAgICB2YXIgbGVuMCA9IG9rMCA/IHNpZ25hdHVyZXNbMF0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjEgPSBvazEgPyBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4yID0gb2syID8gc2lnbmF0dXJlc1syXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMyA9IG9rMyA/IHNpZ25hdHVyZXNbM10ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjQgPSBvazQgPyBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW41ID0gb2s1ID8gc2lnbmF0dXJlc1s1XS5wYXJhbXMubGVuZ3RoIDogLTE7XG5cbiAgICAgIC8vIHNpbXBsZSBhbmQgZ2VuZXJpYywgYnV0IGFsc28gc2xvd1xuICAgICAgdmFyIGlTdGFydCA9IGFsbE9rID8gNiA6IDA7XG4gICAgICB2YXIgaUVuZCA9IHNpZ25hdHVyZXMubGVuZ3RoO1xuICAgICAgdmFyIGdlbmVyaWMgPSBmdW5jdGlvbiBnZW5lcmljKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGlTdGFydDsgaSA8IGlFbmQ7IGkrKykge1xuICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm5zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IobmFtZSwgYXJndW1lbnRzLCBzaWduYXR1cmVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgLy8gZmFzdCwgc3BlY2lhbGl6ZWQgdmVyc2lvbi4gRmFsbHMgYmFjayB0byB0aGUgc2xvd2VyLCBnZW5lcmljIG9uZSBpZiBuZWVkZWRcbiAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4wICYmIHRlc3QwMChhcmcwKSAmJiB0ZXN0MDEoYXJnMSkpIHsgcmV0dXJuIGZuMC5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMSAmJiB0ZXN0MTAoYXJnMCkgJiYgdGVzdDExKGFyZzEpKSB7IHJldHVybiBmbjEuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjIgJiYgdGVzdDIwKGFyZzApICYmIHRlc3QyMShhcmcxKSkgeyByZXR1cm4gZm4yLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4zICYmIHRlc3QzMChhcmcwKSAmJiB0ZXN0MzEoYXJnMSkpIHsgcmV0dXJuIGZuMy5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuNCAmJiB0ZXN0NDAoYXJnMCkgJiYgdGVzdDQxKGFyZzEpKSB7IHJldHVybiBmbjQuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjUgJiYgdGVzdDUwKGFyZzApICYmIHRlc3Q1MShhcmcxKSkgeyByZXR1cm4gZm41LmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyaWMuYXBwbHkoZm4sIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBuYW1lIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZTogbmFtZX0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBvbGQgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgT2JqZWN0LmRlZmluZVByb3BlcnR5IGFuZCBzb21lIGRvbid0IHN1cHBvcnQgc2V0dGluZyB0aGUgbmFtZSBwcm9wZXJ0eVxuICAgICAgICAvLyB0aGUgZnVuY3Rpb24gbmFtZSBpcyBub3QgZXNzZW50aWFsIGZvciB0aGUgZnVuY3Rpb25pbmcsIGl0J3MgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLFxuICAgICAgICAvLyBzbyBpdCdzIGZpbmUgdG8gaGF2ZSB1bm5hbWVkIGZ1bmN0aW9ucy5cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIHNpZ25hdHVyZXMgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICBmbi5zaWduYXR1cmVzID0gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKTtcblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgc2hvdWxkIGJlIE5PVCBiZSBpZ25vcmVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVOYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3RJZ25vcmUodHlwZU5hbWUpIHtcbiAgICAgIHJldHVybiB0eXBlZC5pZ25vcmUuaW5kZXhPZih0eXBlTmFtZSkgPT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaW0gYSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBzdHJpbmcgaXMgbm90IGVtcHR5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90RW1wdHkoc3RyKSB7XG4gICAgICByZXR1cm4gISFzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgbm90IHN0cmljdCBlcXVhbCB0byBudWxsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90TnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHBhcmFtZXRlciBoYXMgbm8gdHlwZXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludmFsaWRQYXJhbSAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBidXQgdGhlIGxhc3QgaXRlbXMgb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycikge1xuICAgICAgcmV0dXJuIGFyci5zbGljZSgwLCBhcnIubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBsYXN0IGl0ZW0gb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGljZSBhbiBhcnJheSBvciBmdW5jdGlvbiBBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0ge0FycmF5IHwgQXJndW1lbnRzIHwgSUFyZ3VtZW50c30gYXJyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgc29tZSBpdGVtXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYXJyYXkgY29udGFpbnMgaXRlbSwgZmFsc2UgaWYgbm90LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGFycmF5LCBpdGVtKSB7XG4gICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBhcnJheXMgaGF2ZSBvdmVybGFwcGluZyBpdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGF0IGxlYXN0IG9uZSBpdGVtIGV4aXN0cyBpbiBib3RoIGFycmF5c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc092ZXJsYXAoYXJyYXkxLCBhcnJheTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb250YWlucyhhcnJheTIsIGFycmF5MVtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBpdGVtIGZyb20gYW4gYXJyYXkgZm9yIHdoaWNoIHRlc3QoYXJyW2ldKSByZXR1cm5zIHRydWVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB0ZXN0XG4gICAgICogQHJldHVybiB7KiB8IHVuZGVmaW5lZH0gUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hpbmcgaXRlbVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHVuZGVmaW5lZCB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluQXJyYXkoYXJyLCB0ZXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGVzdChhcnJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGFycltpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdW5pcXVlIGl0ZW1zIG9mIGFuIGFycmF5IHdpdGggc3RyaW5nc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGFyclxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHt9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbnRyaWVzW2FycltpXV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVudHJpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXQgbWFwIHRoZSByZXN1bHQgaW52b2tpbmcgYSBjYWxsYmFjayBmb3IgZXZlcnkgaXRlbSBpbiBhbiBhcnJheS5cbiAgICAgKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9zYW1naWxlcy83NjJlZTMzN2RmZjQ4NjIzZTcyOVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChhcnIsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyLm1hcChjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBmdW5jdGlvbiBuYW1lIGZyb20gYSBzZXQgb2YgdHlwZWQgZnVuY3Rpb25zLFxuICAgICAqIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBuYW1lIG9mIGFsbCBmdW5jdGlvbnMgbWF0Y2ggKGlmIGdpdmVuKVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb25bXX0gZm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmFtZSAoZm5zKSB7XG4gICAgICB2YXIgbmFtZSA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm4gPSBmbnNbaV07XG5cbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgbmFtZXMgYXJlIHRoZSBzYW1lIHdoZW4gZGVmaW5lZFxuICAgICAgICBpZiAoKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgZm4uc2lnbmF0dXJlID09PSAnc3RyaW5nJykgJiYgZm4ubmFtZSAhPT0gJycpIHtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChuYW1lICE9PSBmbi5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGdW5jdGlvbiBuYW1lcyBkbyBub3QgbWF0Y2ggKGV4cGVjdGVkOiAnICsgbmFtZSArICcsIGFjdHVhbDogJyArIGZuLm5hbWUgKyAnKScpO1xuICAgICAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgICAgIGFjdHVhbDogZm4ubmFtZSxcbiAgICAgICAgICAgICAgZXhwZWN0ZWQ6IG5hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIC8vIGV4dHJhY3QgYW5kIG1lcmdlIGFsbCBzaWduYXR1cmVzIG9mIGEgbGlzdCB3aXRoIHR5cGVkIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGV4dHJhY3RTaWduYXR1cmVzKGZucykge1xuICAgICAgdmFyIGVycjtcbiAgICAgIHZhciBzaWduYXR1cmVzTWFwID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlVW5pcXVlKF9zaWduYXR1cmUsIF9mbikge1xuICAgICAgICBpZiAoc2lnbmF0dXJlc01hcC5oYXNPd25Qcm9wZXJ0eShfc2lnbmF0dXJlKSAmJiBfZm4gIT09IHNpZ25hdHVyZXNNYXBbX3NpZ25hdHVyZV0pIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ1NpZ25hdHVyZSBcIicgKyBfc2lnbmF0dXJlICsgJ1wiIGlzIGRlZmluZWQgdHdpY2UnKTtcbiAgICAgICAgICBlcnIuZGF0YSA9IHtzaWduYXR1cmU6IF9zaWduYXR1cmV9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAvLyBlbHNlOiBib3RoIHNpZ25hdHVyZXMgcG9pbnQgdG8gdGhlIHNhbWUgZnVuY3Rpb24sIHRoYXQncyBmaW5lXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZuID0gZm5zW2ldO1xuXG4gICAgICAgIC8vIHRlc3Qgd2hldGhlciB0aGlzIGlzIGEgdHlwZWQtZnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIG1lcmdlIHRoZSBzaWduYXR1cmVzXG4gICAgICAgICAgZm9yICh2YXIgc2lnbmF0dXJlIGluIGZuLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIGlmIChmbi5zaWduYXR1cmVzLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVVbmlxdWUoc2lnbmF0dXJlLCBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV0pO1xuICAgICAgICAgICAgICBzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0gPSBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsaWRhdGVVbmlxdWUoZm4uc2lnbmF0dXJlLCBmbik7XG4gICAgICAgICAgc2lnbmF0dXJlc01hcFtmbi5zaWduYXR1cmVdID0gZm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gaXMgbm8gdHlwZWQtZnVuY3Rpb24gKGluZGV4OiAnICsgaSArICcpJyk7XG4gICAgICAgICAgZXJyLmRhdGEgPSB7aW5kZXg6IGl9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2lnbmF0dXJlc01hcDtcbiAgICB9XG5cbiAgICB0eXBlZCA9IGNyZWF0ZVR5cGVkRnVuY3Rpb24oJ3R5cGVkJywge1xuICAgICAgJ3N0cmluZywgT2JqZWN0JzogY3JlYXRlVHlwZWRGdW5jdGlvbixcbiAgICAgICdPYmplY3QnOiBmdW5jdGlvbiAoc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAvLyBmaW5kIGV4aXN0aW5nIG5hbWVcbiAgICAgICAgdmFyIGZucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBzaWduYXR1cmUgaW4gc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAgIGlmIChzaWduYXR1cmVzTWFwLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgIGZucy5wdXNoKHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gZ2V0TmFtZShmbnMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKTtcbiAgICAgIH0sXG4gICAgICAnLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAoZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKGdldE5hbWUoZm5zKSwgZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSk7XG4gICAgICB9LFxuICAgICAgJ3N0cmluZywgLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAobmFtZSwgZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIGV4dHJhY3RTaWduYXR1cmVzKGZucykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHlwZWQuY3JlYXRlID0gY3JlYXRlO1xuICAgIHR5cGVkLnR5cGVzID0gX3R5cGVzO1xuICAgIHR5cGVkLmNvbnZlcnNpb25zID0gX2NvbnZlcnNpb25zO1xuICAgIHR5cGVkLmlnbm9yZSA9IF9pZ25vcmU7XG4gICAgdHlwZWQuY29udmVydCA9IGNvbnZlcnQ7XG4gICAgdHlwZWQuZmluZCA9IGZpbmQ7XG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSB0eXBlXG4gICAgICogQHBhcmFtIHt7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn19IHR5cGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtiZWZvcmVPYmplY3RUZXN0PXRydWVdXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsIHRoZSBuZXcgdGVzdCB3aWxsIGJlIGluc2VydGVkIGJlZm9yZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdGVzdCB3aXRoIG5hbWUgJ09iamVjdCcgKGlmIGFueSksIHNpbmNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RzIGZvciBPYmplY3QgbWF0Y2ggQXJyYXkgYW5kIGNsYXNzZXMgdG9vLlxuICAgICAqL1xuICAgIHR5cGVkLmFkZFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgYmVmb3JlT2JqZWN0VGVzdCkge1xuICAgICAgaWYgKCF0eXBlIHx8IHR5cGVvZiB0eXBlLm5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlLnRlc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJlZm9yZU9iamVjdFRlc3QgIT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQudHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodHlwZWQudHlwZXNbaV0ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIHR5cGVkLnR5cGVzLnNwbGljZShpLCAwLCB0eXBlKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0eXBlZC50eXBlcy5wdXNoKHR5cGUpO1xuICAgIH07XG5cbiAgICAvLyBhZGQgYSBjb252ZXJzaW9uXG4gICAgdHlwZWQuYWRkQ29udmVyc2lvbiA9IGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICBpZiAoIWNvbnZlcnNpb25cbiAgICAgICAgICB8fCB0eXBlb2YgY29udmVyc2lvbi5mcm9tICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLnRvICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLmNvbnZlcnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7ZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBjb252ZXJ0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdHlwZWQuY29udmVyc2lvbnMucHVzaChjb252ZXJzaW9uKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHR5cGVkO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZSgpO1xufSkpO1xuIiwiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge3tzaWduOiAnKycgfCAnLScgfCAnJywgY29lZmZpY2llbnRzOiBudW1iZXJbXSwgZXhwb25lbnQ6IG51bWJlcn19IFNwbGl0VmFsdWVcbiAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgbnVtYmVyIGlzIGludGVnZXJcbiAqIEBwYXJhbSB7bnVtYmVyIHwgYm9vbGVhbn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzSW50ZWdlclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgPT09IE1hdGgucm91bmQodmFsdWUpIDogZmFsc2U7IC8vIE5vdGU6IHdlIHVzZSA9PSwgbm90ID09PSwgYXMgd2UgY2FuIGhhdmUgQm9vbGVhbnMgYXMgd2VsbFxufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpZ24gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2lnbiA9IC8qICNfX1BVUkVfXyAqL01hdGguc2lnbiB8fCBmdW5jdGlvbiAoeCkge1xuICBpZiAoeCA+IDApIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmICh4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTIgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzIgPSAvKiAjX19QVVJFX18gKi9NYXRoLmxvZzIgfHwgZnVuY3Rpb24gbG9nMih4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4yO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTEwIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxMCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMTAgfHwgZnVuY3Rpb24gbG9nMTAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCkgLyBNYXRoLkxOMTA7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgbnVtYmVyICsgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxcCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMXAgfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHggKyAxKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSBjdWJpYyByb290IGZvciBhIG51bWJlclxuICpcbiAqIENvZGUgZnJvbSBlczYtc2hpbS5qczpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9lczYtc2hpbS9ibG9iL21hc3Rlci9lczYtc2hpbS5qcyNMMTU2NC1MMTU3N1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjdWJpYyByb290IG9mIHhcbiAqL1xuXG5leHBvcnQgdmFyIGNicnQgPSAvKiAjX19QVVJFX18gKi9NYXRoLmNicnQgfHwgZnVuY3Rpb24gY2JydCh4KSB7XG4gIGlmICh4ID09PSAwKSB7XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICB2YXIgbmVnYXRlID0geCA8IDA7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKG5lZ2F0ZSkge1xuICAgIHggPSAteDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZSh4KSkge1xuICAgIHJlc3VsdCA9IE1hdGguZXhwKE1hdGgubG9nKHgpIC8gMyk7IC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3ViZV9yb290I051bWVyaWNhbF9tZXRob2RzXG5cbiAgICByZXN1bHQgPSAoeCAvIChyZXN1bHQgKiByZXN1bHQpICsgMiAqIHJlc3VsdCkgLyAzO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHg7XG4gIH1cblxuICByZXR1cm4gbmVnYXRlID8gLXJlc3VsdCA6IHJlc3VsdDtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgZXhwb25lbnRpYXRpb24gbWludXMgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzXG4gKi9cblxuZXhwb3J0IHZhciBleHBtMSA9IC8qICNfX1BVUkVfXyAqL01hdGguZXhwbTEgfHwgZnVuY3Rpb24gZXhwbTEoeCkge1xuICByZXR1cm4geCA+PSAyZS00IHx8IHggPD0gLTJlLTQgPyBNYXRoLmV4cCh4KSAtIDEgOiB4ICsgeCAqIHggLyAyICsgeCAqIHggKiB4IC8gNjtcbn07XG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgdG8gYSBmb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICBmb3JtYXQodmFsdWUpXG4gKiAgICBmb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gKiAgICBmb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqICAgIGZvcm1hdCh2YWx1ZSwgZm4pXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAge251bWJlcn0gdmFsdWUgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gKiAgICB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gKiAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IG5vdGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpeGVkJyAgICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2V4cG9uZW50aWFsJyAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJyAgICBBbHdheXMgdXNlIGVuZ2luZWVyaW5nIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjRlKzAnIGFuZCAnMTQuMGUrNidcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvJyAoZGVmYXVsdCkgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGxvd2VyRXhwYCBhbmQgYHVwcGVyRXhwYCBib3VuZHMsIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGV4Y2x1ZGVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBwcmVjaXNpb24gICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgdG90YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IHJvdW5kaW5nIGFueSBkaWdpdHMuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTIuMDcxLCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAvLyAnMTInXG4gKiAgICBmb3JtYXQoMi4zLCAgICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogMn0pICAvLyAnMi4zMCdcbiAqICAgIGZvcm1hdCg1Mi44LCAgIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgIC8vICc1LjI4ZSsxJ1xuICogICAgZm9ybWF0KDEyMzQ1Njc4LCB7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgLy8gJzEyLjM0NTY3OGUrNidcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gaGFuZGxlIGZvcm1hdCh2YWx1ZSwgZm4pXG4gICAgcmV0dXJuIG9wdGlvbnModmFsdWUpO1xuICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG5cblxuICBpZiAodmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuICdJbmZpbml0eSc7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IC1JbmZpbml0eSkge1xuICAgIHJldHVybiAnLUluZmluaXR5JztcbiAgfSBlbHNlIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ05hTic7XG4gIH0gLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG9wdGlvbnNcblxuXG4gIHZhciBub3RhdGlvbiA9ICdhdXRvJztcbiAgdmFyIHByZWNpc2lvbjtcblxuICBpZiAob3B0aW9ucykge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMpKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIob3B0aW9ucy5wcmVjaXNpb24pKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG4gICAgICByZXR1cm4gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucyAmJiBvcHRpb25zKS5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaWdpdHMgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhciBlID0gYXJndW1lbnRzWzRdO1xuICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBub3RhdGlvbiBcIicgKyBub3RhdGlvbiArICdcIi4gJyArICdDaG9vc2UgXCJhdXRvXCIsIFwiZXhwb25lbnRpYWxcIiwgb3IgXCJmaXhlZFwiLicpO1xuICB9XG59XG4vKipcbiAqIFNwbGl0IGEgbnVtYmVyIGludG8gc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7U3BsaXRWYWx1ZX1cbiAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0TnVtYmVyKHZhbHVlKSB7XG4gIC8vIHBhcnNlIHRoZSBpbnB1dCB2YWx1ZVxuICB2YXIgbWF0Y2ggPSBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkubWF0Y2goL14wKj8oLT8pKFxcZCtcXC4/XFxkKikoZShbKy1dP1xcZCspKT8kLyk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignSW52YWxpZCBudW1iZXIgJyArIHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzaWduID0gbWF0Y2hbMV07XG4gIHZhciBkaWdpdHMgPSBtYXRjaFsyXTtcbiAgdmFyIGV4cG9uZW50ID0gcGFyc2VGbG9hdChtYXRjaFs0XSB8fCAnMCcpO1xuICB2YXIgZG90ID0gZGlnaXRzLmluZGV4T2YoJy4nKTtcbiAgZXhwb25lbnQgKz0gZG90ICE9PSAtMSA/IGRvdCAtIDEgOiBkaWdpdHMubGVuZ3RoIC0gMTtcbiAgdmFyIGNvZWZmaWNpZW50cyA9IGRpZ2l0cy5yZXBsYWNlKCcuJywgJycpIC8vIHJlbW92ZSB0aGUgZG90IChtdXN0IGJlIHJlbW92ZWQgYmVmb3JlIHJlbW92aW5nIGxlYWRpbmcgemVyb3MpXG4gIC5yZXBsYWNlKC9eMCovLCBmdW5jdGlvbiAoemVyb3MpIHtcbiAgICAvLyByZW1vdmUgbGVhZGluZyB6ZXJvcywgYWRkIHRoZWlyIGNvdW50IHRvIHRoZSBleHBvbmVudFxuICAgIGV4cG9uZW50IC09IHplcm9zLmxlbmd0aDtcbiAgICByZXR1cm4gJyc7XG4gIH0pLnJlcGxhY2UoLzAqJC8sICcnKSAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3NcbiAgLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZCk7XG4gIH0pO1xuXG4gIGlmIChjb2VmZmljaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29lZmZpY2llbnRzLnB1c2goMCk7XG4gICAgZXhwb25lbnQrKztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2lnbjogc2lnbixcbiAgICBjb2VmZmljaWVudHM6IGNvZWZmaWNpZW50cyxcbiAgICBleHBvbmVudDogZXhwb25lbnRcbiAgfTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKTtcbiAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcblxuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzO1xuXG4gIGlmIChpc051bWJlcihwcmVjaXNpb24pKSB7XG4gICAgLy8gYWRkIHplcm9lcyB0byBnaXZlIGNvcnJlY3Qgc2lnIGZpZ3NcbiAgICB3aGlsZSAocHJlY2lzaW9uID4gYy5sZW5ndGggfHwgZSAtIG5ld0V4cCArIDEgPiBjLmxlbmd0aCkge1xuICAgICAgYy5wdXNoKDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb25jYXRlbmF0ZSBjb2VmZmljaWVudHMgd2l0aCBuZWNlc3NhcnkgemVyb3NcbiAgICAvLyBhZGQgemVyb3MgaWYgbmVjZXNzYXJ5IChmb3IgZXhhbXBsZTogMWUrOCAtPiAxMDBlKzYpXG4gICAgdmFyIG1pc3NpbmdaZXJvcyA9IE1hdGguYWJzKGUgLSBuZXdFeHApIC0gKGMubGVuZ3RoIC0gMSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pc3NpbmdaZXJvczsgaSsrKSB7XG4gICAgICBjLnB1c2goMCk7XG4gICAgfVxuICB9IC8vIGZpbmQgZGlmZmVyZW5jZSBpbiBleHBvbmVudHNcblxuXG4gIHZhciBleHBEaWZmID0gTWF0aC5hYnMoZSAtIG5ld0V4cCk7XG4gIHZhciBkZWNpbWFsSWR4ID0gMTsgLy8gcHVzaCBkZWNpbWFsIGluZGV4IG92ZXIgYnkgZXhwRGlmZiB0aW1lc1xuXG4gIHdoaWxlIChleHBEaWZmID4gMCkge1xuICAgIGRlY2ltYWxJZHgrKztcbiAgICBleHBEaWZmLS07XG4gIH0gLy8gaWYgYWxsIGNvZWZmaWNpZW50IHZhbHVlcyBhcmUgemVybyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCBhbmQgcHJlY2lzaW9uIGlzIHVuc2V0LCBkb24ndCBhZGQgYSBkZWNpbWFsIHZhbHVlLlxuICAvLyBvdGhlcndpc2UgY29uY2F0IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGNvZWZmaWNpZW50c1xuXG5cbiAgdmFyIGRlY2ltYWxzID0gYy5zbGljZShkZWNpbWFsSWR4KS5qb2luKCcnKTtcbiAgdmFyIGRlY2ltYWxWYWwgPSBpc051bWJlcihwcmVjaXNpb24pICYmIGRlY2ltYWxzLmxlbmd0aCB8fCBkZWNpbWFscy5tYXRjaCgvWzEtOV0vKSA/ICcuJyArIGRlY2ltYWxzIDogJyc7XG4gIHZhciBzdHIgPSBjLnNsaWNlKDAsIGRlY2ltYWxJZHgpLmpvaW4oJycpICsgZGVjaW1hbFZhbCArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBuZXdFeHAudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIHN0cjtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggZml4ZWQgbm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWwgcG9pbnQuIG51bGwgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgdmFyIHNwbGl0VmFsdWUgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gdHlwZW9mIHByZWNpc2lvbiA9PT0gJ251bWJlcicgPyByb3VuZERpZ2l0cyhzcGxpdFZhbHVlLCBzcGxpdFZhbHVlLmV4cG9uZW50ICsgMSArIHByZWNpc2lvbikgOiBzcGxpdFZhbHVlO1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzO1xuICB2YXIgcCA9IHJvdW5kZWQuZXhwb25lbnQgKyAxOyAvLyBleHBvbmVudCBtYXkgaGF2ZSBjaGFuZ2VkXG4gIC8vIGFwcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuICB2YXIgcHAgPSBwICsgKHByZWNpc2lvbiB8fCAwKTtcblxuICBpZiAoYy5sZW5ndGggPCBwcCkge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcCAtIGMubGVuZ3RoKSk7XG4gIH0gLy8gcHJlcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuXG4gIGlmIChwIDwgMCkge1xuICAgIGMgPSB6ZXJvcygtcCArIDEpLmNvbmNhdChjKTtcbiAgICBwID0gMTtcbiAgfSAvLyBpbnNlcnQgYSBkb3QgaWYgbmVlZGVkXG5cblxuICBpZiAocCA8IGMubGVuZ3RoKSB7XG4gICAgYy5zcGxpY2UocCwgMCwgcCA9PT0gMCA/ICcwLicgOiAnLicpO1xuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGMuam9pbignJyk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IC8vIHJvdW5kIGlmIG5lZWRlZCwgZWxzZSBjcmVhdGUgYSBjbG9uZVxuXG5cbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHByZWNpc2lvbiA/IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pIDogc3BsaXQ7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gIHZhciBlID0gcm91bmRlZC5leHBvbmVudDsgLy8gYXBwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcmVjaXNpb24gLSBjLmxlbmd0aCkpO1xuICB9IC8vIGZvcm1hdCBhcyBgQy5DQ0NlK0VFRWAgb3IgYEMuQ0NDZS1FRUVgXG5cblxuICB2YXIgZmlyc3QgPSBjLnNoaWZ0KCk7XG4gIHJldHVybiByb3VuZGVkLnNpZ24gKyBmaXJzdCArIChjLmxlbmd0aCA+IDAgPyAnLicgKyBjLmpvaW4oJycpIDogJycpICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIGU7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGEgY2VydGFpbiBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSBPcHRpb25hbCBudW1iZXIgb2YgZGlnaXRzLlxuICogQHBhcmFtIHt7bG93ZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZCwgdXBwZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZH19IFtvcHRpb25zXVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeSBkZWZhdWx0OlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyRXhwID0gLTMgKGluY2wpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXIgPSArNSAoZXhjbClcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucykge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfSAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cblxuXG4gIHZhciBsb3dlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sb3dlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sb3dlckV4cCA6IC0zO1xuICB2YXIgdXBwZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMudXBwZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXBwZXJFeHAgOiA1O1xuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcHJlY2lzaW9uID8gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikgOiBzcGxpdDtcblxuICBpZiAocm91bmRlZC5leHBvbmVudCA8IGxvd2VyRXhwIHx8IHJvdW5kZWQuZXhwb25lbnQgPj0gdXBwZXJFeHApIHtcbiAgICAvLyBleHBvbmVudGlhbCBub3RhdGlvblxuICAgIHJldHVybiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICB9IGVsc2Uge1xuICAgIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gICAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50OyAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcblxuICAgIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgICAgYyA9IGMuY29uY2F0KHplcm9zKHByZWNpc2lvbiAtIGMubGVuZ3RoKSk7XG4gICAgfSAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcbiAgICAvLyBUT0RPOiBzaW1wbGlmeSB0aGUgbmV4dCBzdGF0ZW1lbnRcblxuXG4gICAgYyA9IGMuY29uY2F0KHplcm9zKGUgLSBjLmxlbmd0aCArIDEgKyAoYy5sZW5ndGggPCBwcmVjaXNpb24gPyBwcmVjaXNpb24gLSBjLmxlbmd0aCA6IDApKSk7IC8vIHByZXBlbmQgemVyb3NcblxuICAgIGMgPSB6ZXJvcygtZSkuY29uY2F0KGMpO1xuICAgIHZhciBkb3QgPSBlID4gMCA/IGUgOiAwO1xuXG4gICAgaWYgKGRvdCA8IGMubGVuZ3RoIC0gMSkge1xuICAgICAgYy5zcGxpY2UoZG90ICsgMSwgMCwgJy4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmRlZC5zaWduICsgYy5qb2luKCcnKTtcbiAgfVxufVxuLyoqXG4gKiBSb3VuZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBhIG51bWJlciAqXG4gKiBAcGFyYW0ge1NwbGl0VmFsdWV9IHNwbGl0ICAgICAgIEEgdmFsdWUgc3BsaXQgd2l0aCAuc3BsaXROdW1iZXIodmFsdWUpXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uICBBIHBvc2l0aXZlIGludGVnZXJcbiAqIEByZXR1cm4ge1NwbGl0VmFsdWV9XG4gKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICogICAgICAgICAgICAgIHdpdGggcm91bmRlZCBkaWdpdHNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikge1xuICAvLyBjcmVhdGUgYSBjbG9uZVxuICB2YXIgcm91bmRlZCA9IHtcbiAgICBzaWduOiBzcGxpdC5zaWduLFxuICAgIGNvZWZmaWNpZW50czogc3BsaXQuY29lZmZpY2llbnRzLFxuICAgIGV4cG9uZW50OiBzcGxpdC5leHBvbmVudFxuICB9O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBwcmVwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIHdoaWxlIChwcmVjaXNpb24gPD0gMCkge1xuICAgIGMudW5zaGlmdCgwKTtcbiAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgcHJlY2lzaW9uKys7XG4gIH1cblxuICBpZiAoYy5sZW5ndGggPiBwcmVjaXNpb24pIHtcbiAgICB2YXIgcmVtb3ZlZCA9IGMuc3BsaWNlKHByZWNpc2lvbiwgYy5sZW5ndGggLSBwcmVjaXNpb24pO1xuXG4gICAgaWYgKHJlbW92ZWRbMF0gPj0gNSkge1xuICAgICAgdmFyIGkgPSBwcmVjaXNpb24gLSAxO1xuICAgICAgY1tpXSsrO1xuXG4gICAgICB3aGlsZSAoY1tpXSA9PT0gMTApIHtcbiAgICAgICAgYy5wb3AoKTtcblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIGMudW5zaGlmdCgwKTtcbiAgICAgICAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaS0tO1xuICAgICAgICBjW2ldKys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQ7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBhcnJheSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cbmZ1bmN0aW9uIHplcm9zKGxlbmd0aCkge1xuICB2YXIgYXJyID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFyci5wdXNoKDApO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgYSBudW1iZXIuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKiAgIDIuMzQgcmV0dXJucyAzXG4gKiAgIDAuMDAzNCByZXR1cm5zIDJcbiAqICAgMTIwLjVlKzMwIHJldHVybnMgNFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBkaWdpdHMgICBOdW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZGlnaXRzKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKCkucmVwbGFjZSgvZS4qJC8sICcnKSAvLyByZW1vdmUgZXhwb25lbnRpYWwgbm90YXRpb25cbiAgLnJlcGxhY2UoL14wXFwuPzAqfFxcLi8sICcnKSAvLyByZW1vdmUgZGVjaW1hbCBwb2ludCBhbmQgbGVhZGluZyB6ZXJvc1xuICAubGVuZ3RoO1xufVxuLyoqXG4gKiBNaW5pbXVtIG51bWJlciBhZGRlZCB0byBvbmUgdGhhdCBtYWtlcyB0aGUgcmVzdWx0IGRpZmZlcmVudCB0aGFuIG9uZVxuICovXG5cbmV4cG9ydCB2YXIgREJMX0VQU0lMT04gPSBOdW1iZXIuRVBTSUxPTiB8fCAyLjIyMDQ0NjA0OTI1MDMxMzA4MDg0NzI2MzMzNjE4MTZFLTE2O1xuLyoqXG4gKiBDb21wYXJlcyB0d28gZmxvYXRpbmcgcG9pbnQgbnVtYmVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4ICAgICAgICAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW2Vwc2lsb25dICBUaGUgbWF4aW11bSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZXBzaWxvbiBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsLlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgdHdvIG51bWJlcnMgYXJlIG5lYXJseSBlcXVhbFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgLy8gaWYgZXBzaWxvbiBpcyBudWxsIG9yIHVuZGVmaW5lZCwgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWxcbiAgaWYgKGVwc2lsb24gPT09IG51bGwgfHwgZXBzaWxvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHggPT09IHk7XG4gIH1cblxuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5hTlxuXG5cbiAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGF0IHRoaXMgcG9pbnQgeCBhbmQgeSBzaG91bGQgYmUgZmluaXRlXG5cblxuICBpZiAoaXNGaW5pdGUoeCkgJiYgaXNGaW5pdGUoeSkpIHtcbiAgICAvLyBjaGVjayBudW1iZXJzIGFyZSB2ZXJ5IGNsb3NlLCBuZWVkZWQgd2hlbiBjb21wYXJpbmcgbnVtYmVycyBuZWFyIHplcm9cbiAgICB2YXIgZGlmZiA9IE1hdGguYWJzKHggLSB5KTtcblxuICAgIGlmIChkaWZmIDwgREJMX0VQU0lMT04pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgcmVsYXRpdmUgZXJyb3JcbiAgICAgIHJldHVybiBkaWZmIDw9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh5KSkgKiBlcHNpbG9uO1xuICAgIH1cbiAgfSAvLyBJbmZpbml0ZSBhbmQgTnVtYmVyIG9yIG5lZ2F0aXZlIEluZmluaXRlIGFuZCBwb3NpdGl2ZSBJbmZpbml0ZSBjYXNlc1xuXG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgYXJjY29zIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgYWNvc2ggPSBNYXRoLmFjb3NoIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggLSAxKSArIHgpO1xufTtcbmV4cG9ydCB2YXIgYXNpbmggPSBNYXRoLmFzaW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggKyAxKSArIHgpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIGFyY3RhbmdlbnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBhdGFuaCA9IE1hdGguYXRhbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKCgxICsgeCkgLyAoMSAtIHgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGNvc2ggPSBNYXRoLmNvc2ggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIChNYXRoLmV4cCh4KSArIE1hdGguZXhwKC14KSkgLyAyO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2luaCA9IE1hdGguc2luaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciB0YW5oID0gTWF0aC50YW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHZhciBlID0gTWF0aC5leHAoMiAqIHgpO1xuICByZXR1cm4gKGUgLSAxKSAvIChlICsgMSk7XG59OyIsIi8qKlxuICogQ29udmVydCBhIEJpZ051bWJlciB0byBhIGZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgIGZvcm1hdCh2YWx1ZSlcbiAqICAgIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAqICAgIGZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICogICAgZm9ybWF0KHZhbHVlLCBmbilcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICB7bnVtYmVyfSB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAqICAgIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAqICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbm90YXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZml4ZWQnICAgICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZXhwb25lbnRpYWwnICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycgKGRlZmF1bHQpIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLCBhbmQgdXNlc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBleGNsdWRlZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gcHJlY2lzaW9uICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIHRvdGFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTJlOCwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxMjAwMDAwMDAwJ1xuICogICAgZm9ybWF0KDIuMywgICAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDR9KSAgLy8gcmV0dXJucyAnMi4zMDAwJ1xuICogICAgZm9ybWF0KDUyLjgsICAge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgLy8gcmV0dXJucyAnNS4yOGUrMSdcbiAqICAgIGZvcm1hdCgxMjQwMCwgIHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAgIC8vIHJldHVybnMgJzEyLjQwMGUrMydcbiAqXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGhhbmRsZSBmb3JtYXQodmFsdWUsIGZuKVxuICAgIHJldHVybiBvcHRpb25zKHZhbHVlKTtcbiAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlc1xuXG5cbiAgaWYgKCF2YWx1ZS5pc0Zpbml0ZSgpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmlzTmFOKCkgPyAnTmFOJyA6IHZhbHVlLmd0KDApID8gJ0luZmluaXR5JyA6ICctSW5maW5pdHknO1xuICB9IC8vIGRlZmF1bHQgdmFsdWVzIGZvciBvcHRpb25zXG5cblxuICB2YXIgbm90YXRpb24gPSAnYXV0byc7XG4gIHZhciBwcmVjaXNpb247XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJlY2lzaW9uKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAge1xuICAgICAgICAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIHVwcGVyIGFuZCBsb3dlciB0byBiZSBCaWdOdW1iZXJzIHRoZW1zZWx2ZXNcbiAgICAgICAgdmFyIGxvd2VyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxvd2VyRXhwIDogLTM7XG4gICAgICAgIHZhciB1cHBlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51cHBlckV4cCA6IDU7IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2UgemVyb1xuXG4gICAgICAgIGlmICh2YWx1ZS5pc1plcm8oKSkgcmV0dXJuICcwJzsgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIG91dHB1dCBleHBvbmVudGlhbCBub3RhdGlvblxuXG4gICAgICAgIHZhciBzdHI7XG4gICAgICAgIHZhciByb3VuZGVkID0gdmFsdWUudG9TaWduaWZpY2FudERpZ2l0cyhwcmVjaXNpb24pO1xuICAgICAgICB2YXIgZXhwID0gcm91bmRlZC5lO1xuXG4gICAgICAgIGlmIChleHAgPj0gbG93ZXJFeHAgJiYgZXhwIDwgdXBwZXJFeHApIHtcbiAgICAgICAgICAvLyBub3JtYWwgbnVtYmVyIG5vdGF0aW9uXG4gICAgICAgICAgc3RyID0gcm91bmRlZC50b0ZpeGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXhwb25lbnRpYWwgbm90YXRpb25cbiAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICAgICAgICB9IC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvcyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludFxuXG5cbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGRpZ2l0cyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICB2YXIgZSA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vdGF0aW9uIFwiJyArIG5vdGF0aW9uICsgJ1wiLiAnICsgJ0Nob29zZSBcImF1dG9cIiwgXCJleHBvbmVudGlhbFwiLCBvciBcImZpeGVkXCIuJyk7XG4gIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgQmlnTnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7QmlnTnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcbiAgdmFyIGUgPSB2YWx1ZS5lO1xuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzOyAvLyBmaW5kIGRpZmZlcmVuY2UgaW4gZXhwb25lbnRzLCBhbmQgY2FsY3VsYXRlIHRoZSB2YWx1ZSB3aXRob3V0IGV4cG9uZW50XG5cbiAgdmFyIHZhbHVlV2l0aG91dEV4cCA9IHZhbHVlLm11bChNYXRoLnBvdygxMCwgLW5ld0V4cCkpO1xuICB2YXIgdmFsdWVTdHIgPSB2YWx1ZVdpdGhvdXRFeHAudG9QcmVjaXNpb24ocHJlY2lzaW9uKTtcblxuICBpZiAodmFsdWVTdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhbHVlU3RyID0gdmFsdWVXaXRob3V0RXhwLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWVTdHIgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgbmV3RXhwLnRvU3RyaW5nKCk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKHByZWNpc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwocHJlY2lzaW9uIC0gMSk7IC8vIE5vdGUgdGhlIG9mZnNldCBvZiBvbmVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbCgpO1xuICB9XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGZpeGVkIG5vdGF0aW9uLlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCBwb2ludC4gVW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbikge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZChwcmVjaXNpb24pO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0TnVtYmVyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdEJpZ051bWJlciB9IGZyb20gJy4vYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyc7XG4vKipcbiAqIENoZWNrIGlmIGEgdGV4dCBlbmRzIHdpdGggYSBjZXJ0YWluIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHRleHQsIHNlYXJjaCkge1xuICB2YXIgc3RhcnQgPSB0ZXh0Lmxlbmd0aCAtIHNlYXJjaC5sZW5ndGg7XG4gIHZhciBlbmQgPSB0ZXh0Lmxlbmd0aDtcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpID09PSBzZWFyY2g7XG59XG4vKipcbiAqIEZvcm1hdCBhIHZhbHVlIG9mIGFueSB0eXBlIGludG8gYSBzdHJpbmcuXG4gKlxuICogVXNhZ2U6XG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUpXG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqXG4gKiBXaGVuIHZhbHVlIGlzIGEgZnVuY3Rpb246XG4gKlxuICogLSBXaGVuIHRoZSBmdW5jdGlvbiBoYXMgYSBwcm9wZXJ0eSBgc3ludGF4YCwgaXQgcmV0dXJucyB0aGlzXG4gKiAgIHN5bnRheCBkZXNjcmlwdGlvbi5cbiAqIC0gSW4gb3RoZXIgY2FzZXMsIGEgc3RyaW5nIGAnZnVuY3Rpb24nYCBpcyByZXR1cm5lZC5cbiAqXG4gKiBXaGVuIGB2YWx1ZWAgaXMgYW4gT2JqZWN0OlxuICpcbiAqIC0gV2hlbiB0aGUgb2JqZWN0IGNvbnRhaW5zIGEgcHJvcGVydHkgYGZvcm1hdGAgYmVpbmcgYSBmdW5jdGlvbiwgdGhpc1xuICogICBmdW5jdGlvbiBpcyBpbnZva2VkIGFzIGB2YWx1ZS5mb3JtYXQob3B0aW9ucylgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICogLSBXaGVuIHRoZSBvYmplY3QgaGFzIGl0cyBvd24gYHRvU3RyaW5nYCBtZXRob2QsIHRoaXMgbWV0aG9kIGlzIGludm9rZWRcbiAqICAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKiAtIEluIG90aGVyIGNhc2VzIHRoZSBmdW5jdGlvbiB3aWxsIGxvb3Agb3ZlciBhbGwgb2JqZWN0IHByb3BlcnRpZXMgYW5kXG4gKiAgIHJldHVybiBKU09OIG9iamVjdCBub3RhdGlvbiBsaWtlICd7XCJhXCI6IDIsIFwiYlwiOiAzfScuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqICAgICBtYXRoLmZvcm1hdCgyLzcpICAgICAgICAgICAgICAgIC8vICcwLjI4NTcxNDI4NTcxNDI4NTcnXG4gKiAgICAgbWF0aC5mb3JtYXQobWF0aC5waSwgMykgICAgICAgICAvLyAnMy4xNCdcbiAqICAgICBtYXRoLmZvcm1hdChuZXcgQ29tcGxleCgyLCAzKSkgIC8vICcyICsgM2knXG4gKiAgICAgbWF0aC5mb3JtYXQoJ2hlbGxvJykgICAgICAgICAgICAvLyAnXCJoZWxsb1wiJ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgICAgICAgICAgVmFsdWUgdG8gYmUgc3RyaW5naWZpZWRcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAoaXNCaWdOdW1iZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEJpZ051bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH0gLy8gbm90ZTogd2UgdXNlIHVuc2FmZSBkdWNrLXR5cGluZyBoZXJlIHRvIGNoZWNrIGZvciBGcmFjdGlvbnMsIHRoaXMgaXNcbiAgLy8gb2sgaGVyZSBzaW5jZSB3ZSdyZSBvbmx5IGludm9raW5nIHRvU3RyaW5nIG9yIGNvbmNhdGVuYXRpbmcgaXRzIHZhbHVlc1xuXG5cbiAgaWYgKGxvb2tzTGlrZUZyYWN0aW9uKHZhbHVlKSkge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLmZyYWN0aW9uICE9PSAnZGVjaW1hbCcpIHtcbiAgICAgIC8vIG91dHB1dCBhcyByYXRpbywgbGlrZSAnMS8zJ1xuICAgICAgcmV0dXJuIHZhbHVlLnMgKiB2YWx1ZS5uICsgJy8nICsgdmFsdWUuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3V0cHV0IGFzIGRlY2ltYWwsIGxpa2UgJzAuKDMpJ1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEFycmF5KHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsdWUuc3ludGF4ID8gU3RyaW5nKHZhbHVlLnN5bnRheCkgOiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHZhbHVlLmZvcm1hdChvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpICE9PSB7fS50b1N0cmluZygpKSB7XG4gICAgICAvLyB0aGlzIG9iamVjdCBoYXMgYSBub24tbmF0aXZlIHRvU3RyaW5nIG1ldGhvZCwgdXNlIHRoYXQgb25lXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXModmFsdWUpLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gJ1wiJyArIGtleSArICdcIjogJyArIGZvcm1hdCh2YWx1ZVtrZXldLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICd7JyArIGVudHJpZXMuam9pbignLCAnKSArICd9JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbi8qKlxuICogU3RyaW5naWZ5IGEgdmFsdWUgaW50byBhIHN0cmluZyBlbmNsb3NlZCBpbiBkb3VibGUgcXVvdGVzLlxuICogVW5lc2NhcGVkIGRvdWJsZSBxdW90ZXMgYW5kIGJhY2tzbGFzaGVzIGluc2lkZSB0aGUgdmFsdWUgYXJlIGVzY2FwZWQuXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkge1xuICB2YXIgdGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gIHZhciBlc2NhcGVkID0gJyc7XG4gIHZhciBpID0gMDtcblxuICB3aGlsZSAoaSA8IHRleHQubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYztcbiAgICAgIGkrKztcbiAgICAgIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgICAgaWYgKGMgPT09ICcnIHx8ICdcIlxcXFwvYmZucnR1Jy5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICBlc2NhcGVkICs9ICdcXFxcJzsgLy8gbm8gdmFsaWQgZXNjYXBlIGNoYXJhY3RlciAtPiBlc2NhcGUgaXRcbiAgICAgIH1cblxuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgZXNjYXBlZCArPSAnXFxcXFwiJztcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiAnXCInICsgZXNjYXBlZCArICdcIic7XG59XG4vKipcbiAqIEVzY2FwZSBzcGVjaWFsIEhUTUwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUodmFsdWUpIHtcbiAgdmFyIHRleHQgPSBTdHJpbmcodmFsdWUpO1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC8nL2csICcmIzM5OycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG4gIHJldHVybiB0ZXh0O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmb3JtYXQgYW4gbi1kaW1lbnNpb25hbCBtYXRyaXhcbiAqIEV4YW1wbGUgb3V0cHV0OiBcIltbMSwgMl0sIFszLCA0XV1cIlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoYXJyYXksIG9wdGlvbnMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdmFyIHN0ciA9ICdbJztcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBmb3JtYXRBcnJheShhcnJheVtpXSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICddJztcbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtYXQoYXJyYXksIG9wdGlvbnMpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSB2YWx1ZSBsb29rcyBsaWtlIGEgRnJhY3Rpb24gKHVuc2FmZSBkdWNrLXR5cGUgY2hlY2spXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cblxuZnVuY3Rpb24gbG9va3NMaWtlRnJhY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnMgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUuZCA9PT0gJ251bWJlcicgfHwgZmFsc2U7XG59XG4vKipcbiAqIENvbXBhcmUgdHdvIHN0cmluZ3NcbiAqIEBwYXJhbSB7c3RyaW5nfSB4XG4gKiBAcGFyYW0ge3N0cmluZ30geVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVGV4dCh4LCB5KSB7XG4gIC8vIHdlIGRvbid0IHdhbnQgdG8gY29udmVydCBudW1iZXJzIHRvIHN0cmluZywgb25seSBhY2NlcHQgc3RyaW5nIGlucHV0XG4gIGlmICghaXNTdHJpbmcoeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQgaW4gZnVuY3Rpb24gY29tcGFyZVRleHQgJyArICcoZXhwZWN0ZWQ6IHN0cmluZyBvciBBcnJheSBvciBNYXRyaXgsIGFjdHVhbDogJyArIHR5cGVPZih4KSArICcsIGluZGV4OiAwKScpO1xuICB9XG5cbiAgaWYgKCFpc1N0cmluZyh5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiBjb21wYXJlVGV4dCAnICsgJyhleHBlY3RlZDogc3RyaW5nIG9yIEFycmF5IG9yIE1hdHJpeCwgYWN0dWFsOiAnICsgdHlwZU9mKHkpICsgJywgaW5kZXg6IDEpJyk7XG4gIH1cblxuICByZXR1cm4geCA9PT0geSA/IDAgOiB4ID4geSA/IDEgOiAtMTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0RpbWVuc2lvbiBtaXNtYXRjaCAoPGFjdHVhbCBzaXplPiAhPSA8ZXhwZWN0ZWQgc2l6ZT4pJ1xuICogQHBhcmFtIHtudW1iZXIgfCBudW1iZXJbXX0gYWN0dWFsICAgICAgICBUaGUgYWN0dWFsIHNpemVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVtYmVyW119IGV4cGVjdGVkICAgICAgVGhlIGV4cGVjdGVkIHNpemVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcmVsYXRpb249JyE9J10gICAgICAgICAgT3B0aW9uYWwgcmVsYXRpb24gYmV0d2VlbiBhY3R1YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGV4cGVjdGVkIHNpemU6ICchPScsICc8JywgZXRjLlxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gRGltZW5zaW9uRXJyb3IoYWN0dWFsLCBleHBlY3RlZCwgcmVsYXRpb24pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERpbWVuc2lvbkVycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICB0aGlzLnJlbGF0aW9uID0gcmVsYXRpb247XG4gIHRoaXMubWVzc2FnZSA9ICdEaW1lbnNpb24gbWlzbWF0Y2ggKCcgKyAoQXJyYXkuaXNBcnJheShhY3R1YWwpID8gJ1snICsgYWN0dWFsLmpvaW4oJywgJykgKyAnXScgOiBhY3R1YWwpICsgJyAnICsgKHRoaXMucmVsYXRpb24gfHwgJyE9JykgKyAnICcgKyAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkgPyAnWycgKyBleHBlY3RlZC5qb2luKCcsICcpICsgJ10nIDogZXhwZWN0ZWQpICsgJyknO1xuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2VFcnJvcjtcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0RpbWVuc2lvbkVycm9yJztcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5pc0RpbWVuc2lvbkVycm9yID0gdHJ1ZTsiLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0luZGV4IG91dCBvZiByYW5nZSAoaW5kZXggPCBtaW4pJ1xuICogICAgICdJbmRleCBvdXQgb2YgcmFuZ2UgKGluZGV4IDwgbWF4KSdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggICAgIFRoZSBhY3R1YWwgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdICAgTWluaW11bSBpbmRleCAoaW5jbHVkZWQpXG4gKiBAcGFyYW0ge251bWJlcn0gW21heF0gICAgIE1heGltdW0gaW5kZXggKGV4Y2x1ZGVkKVxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gSW5kZXhFcnJvcihpbmRleCwgbWluLCBtYXgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZGV4RXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuaW5kZXggPSBpbmRleDtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aGlzLm1pbiA9IDA7XG4gICAgdGhpcy5tYXggPSBtaW47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gIH1cblxuICBpZiAodGhpcy5taW4gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4IDwgdGhpcy5taW4pIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcgPCAnICsgdGhpcy5taW4gKyAnKSc7XG4gIH0gZWxzZSBpZiAodGhpcy5tYXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4ID49IHRoaXMubWF4KSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnID4gJyArICh0aGlzLm1heCAtIDEpICsgJyknO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyknO1xuICB9XG5cbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuSW5kZXhFcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuSW5kZXhFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZUVycm9yO1xuSW5kZXhFcnJvci5wcm90b3R5cGUubmFtZSA9ICdJbmRleEVycm9yJztcbkluZGV4RXJyb3IucHJvdG90eXBlLmlzSW5kZXhFcnJvciA9IHRydWU7IiwiaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4vc3RyaW5nLmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS5cbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBzaXplIG9mIHRoZSBmaXJzdCBlbnRyeSwgaXQgZG9lcyBub3QgdmFsaWRhdGVcbiAqIHdoZXRoZXIgYWxsIGRpbWVuc2lvbnMgbWF0Y2guICh1c2UgZnVuY3Rpb24gYHZhbGlkYXRlYCBmb3IgdGhhdClcbiAqIEBwYXJhbSB7QXJyYXl9IHhcbiAqIEBSZXR1cm4ge051bWJlcltdfSBzaXplXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5U2l6ZSh4KSB7XG4gIHZhciBzID0gW107XG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICBzLnB1c2goeC5sZW5ndGgpO1xuICAgIHggPSB4WzBdO1xuICB9XG5cbiAgcmV0dXJuIHM7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIGhhcyBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAdGhyb3dzIERpbWVuc2lvbkVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF92YWxpZGF0ZShhcnJheSwgc2l6ZSwgZGltKSB7XG4gIHZhciBpO1xuICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChsZW4gIT09IHNpemVbZGltXSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihsZW4sIHNpemVbZGltXSk7XG4gIH1cblxuICBpZiAoZGltIDwgc2l6ZS5sZW5ndGggLSAxKSB7XG4gICAgLy8gcmVjdXJzaXZlbHkgdmFsaWRhdGUgZWFjaCBjaGlsZCBhcnJheVxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoIC0gMSwgc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9XG5cbiAgICAgIF92YWxpZGF0ZShhcnJheVtpXSwgc2l6ZSwgZGltTmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxhc3QgZGltZW5zaW9uLiBub25lIG9mIHRoZSBjaGlsZHMgbWF5IGJlIGFuIGFycmF5XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVtpXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoICsgMSwgc2l6ZS5sZW5ndGgsICc+Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgaGFzXG4gKiBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHRocm93cyBEaW1lbnNpb25FcnJvclxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFycmF5LCBzaXplKSB7XG4gIHZhciBpc1NjYWxhciA9IHNpemUubGVuZ3RoID09PSAwO1xuXG4gIGlmIChpc1NjYWxhcikge1xuICAgIC8vIHNjYWxhclxuICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFycmF5Lmxlbmd0aCwgMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5XG4gICAgX3ZhbGlkYXRlKGFycmF5LCBzaXplLCAwKTtcbiAgfVxufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgaW5kZXggaXMgYW4gaW50ZWdlciBudW1iZXIgd2l0aCBpbmRleCA+PSAwIGFuZCBpbmRleCA8IGxlbmd0aFxuICogd2hlbiBsZW5ndGggaXMgcHJvdmlkZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAgICBaZXJvLWJhc2VkIGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTGVuZ3RoIG9mIHRoZSBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4KGluZGV4LCBsZW5ndGgpIHtcbiAgaWYgKCFpc051bWJlcihpbmRleCkgfHwgIWlzSW50ZWdlcihpbmRleCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBtdXN0IGJlIGFuIGludGVnZXIgKHZhbHVlOiAnICsgaW5kZXggKyAnKScpO1xuICB9XG5cbiAgaWYgKGluZGV4IDwgMCB8fCB0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBpbmRleCA+PSBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgSW5kZXhFcnJvcihpbmRleCwgbGVuZ3RoKTtcbiAgfVxufVxuLyoqXG4gKiBSZXNpemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS4gVGhlIHJlc2l6ZWQgYXJyYXkgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemUgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHplcm8gYnkgZGVmYXVsdC4gU3BlY2lmeSBmb3IgZXhhbXBsZSBgbnVsbGAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGNsZWFybHkgc2VlIGVudHJpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0LlxuICogQHJldHVybiB7QXJyYXl9IGFycmF5ICAgICAgICAgVGhlIHJlc2l6ZWQgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplKGFycmF5LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIHNjYWxhcnMsIGhhdmluZyBzaXplPVtdID9cbiAgLy8gY2hlY2sgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50c1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzaXppbmcgdG8gc2NhbGFyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfSAvLyBjaGVjayB3aGV0aGVyIHNpemUgY29udGFpbnMgcG9zaXRpdmUgaW50ZWdlcnNcblxuXG4gIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgIH1cbiAgfSk7IC8vIHJlY3Vyc2l2ZWx5IHJlc2l6ZSB0aGUgYXJyYXlcblxuICB2YXIgX2RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMDtcblxuICBfcmVzaXplKGFycmF5LCBzaXplLCAwLCBfZGVmYXVsdFZhbHVlKTtcblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHJlc2l6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgICAgICAgICBDdXJyZW50IGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcmVzaXplKGFycmF5LCBzaXplLCBkaW0sIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgaTtcbiAgdmFyIGVsZW07XG4gIHZhciBvbGRMZW4gPSBhcnJheS5sZW5ndGg7XG4gIHZhciBuZXdMZW4gPSBzaXplW2RpbV07XG4gIHZhciBtaW5MZW4gPSBNYXRoLm1pbihvbGRMZW4sIG5ld0xlbik7IC8vIGFwcGx5IG5ldyBsZW5ndGhcblxuICBhcnJheS5sZW5ndGggPSBuZXdMZW47XG5cbiAgaWYgKGRpbSA8IHNpemUubGVuZ3RoIC0gMSkge1xuICAgIC8vIG5vbi1sYXN0IGRpbWVuc2lvblxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTsgLy8gcmVzaXplIGV4aXN0aW5nIGNoaWxkIGFycmF5c1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG1pbkxlbjsgaSsrKSB7XG4gICAgICAvLyByZXNpemUgY2hpbGQgYXJyYXlcbiAgICAgIGVsZW0gPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW0pKSB7XG4gICAgICAgIGVsZW0gPSBbZWxlbV07IC8vIGFkZCBhIGRpbWVuc2lvblxuXG4gICAgICAgIGFycmF5W2ldID0gZWxlbTtcbiAgICAgIH1cblxuICAgICAgX3Jlc2l6ZShlbGVtLCBzaXplLCBkaW1OZXh0LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gLy8gY3JlYXRlIG5ldyBjaGlsZCBhcnJheXNcblxuXG4gICAgZm9yIChpID0gbWluTGVuOyBpIDwgbmV3TGVuOyBpKyspIHtcbiAgICAgIC8vIGdldCBjaGlsZCBhcnJheVxuICAgICAgZWxlbSA9IFtdO1xuICAgICAgYXJyYXlbaV0gPSBlbGVtOyAvLyByZXNpemUgbmV3IGNoaWxkIGFycmF5XG5cbiAgICAgIF9yZXNpemUoZWxlbSwgc2l6ZSwgZGltTmV4dCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbGFzdCBkaW1lbnNpb25cbiAgICAvLyByZW1vdmUgZGltZW5zaW9ucyBvZiBleGlzdGluZyB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgIHdoaWxlIChBcnJheS5pc0FycmF5KGFycmF5W2ldKSkge1xuICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldWzBdO1xuICAgICAgfVxuICAgIH0gLy8gZmlsbCBuZXcgZWxlbWVudHMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZVxuXG5cbiAgICBmb3IgKGkgPSBtaW5MZW47IGkgPCBuZXdMZW47IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFJlLXNoYXBlIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgdG8gZml0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICAgIEFycmF5IHRvIGJlIHJlc2hhcGVkXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBzaXplcyAgTGlzdCBvZiBzaXplcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheX0gICAgICAgICAgICAgICBBcnJheSB3aG9zZSBkYXRhIGhhcyBiZWVuIGZvcm1hdHRlZCB0byBmaXQgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqXG4gKiBAdGhyb3dzIHtEaW1lbnNpb25FcnJvcn0gICAgICAgSWYgdGhlIHByb2R1Y3Qgb2YgdGhlIG5ldyBkaW1lbnNpb24gc2l6ZXMgZG9lc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBlcXVhbCB0aGF0IG9mIHRoZSBvbGQgb25lc1xuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2hhcGUoYXJyYXksIHNpemVzKSB7XG4gIHZhciBmbGF0QXJyYXkgPSBmbGF0dGVuKGFycmF5KTtcbiAgdmFyIG5ld0FycmF5O1xuXG4gIGZ1bmN0aW9uIHByb2R1Y3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKiBjdXJyKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIUFycmF5LmlzQXJyYXkoc2l6ZXMpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoMCwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gIH1cblxuICB2YXIgdG90YWxTaXplID0gMTtcblxuICBmb3IgKHZhciBzaXplSW5kZXggPSAwOyBzaXplSW5kZXggPCBzaXplcy5sZW5ndGg7IHNpemVJbmRleCsrKSB7XG4gICAgdG90YWxTaXplICo9IHNpemVzW3NpemVJbmRleF07XG4gIH1cblxuICBpZiAoZmxhdEFycmF5Lmxlbmd0aCAhPT0gdG90YWxTaXplKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHByb2R1Y3Qoc2l6ZXMpLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3QXJyYXkgPSBfcmVzaGFwZShmbGF0QXJyYXksIHNpemVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRGltZW5zaW9uRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihwcm9kdWN0KHNpemVzKSwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHJldHVybiBuZXdBcnJheTtcbn1cbi8qKlxuICogSXRlcmF0aXZlbHkgcmUtc2hhcGUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSB0byBmaXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaGFwZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemVzICBMaXN0IG9mIHNpemVzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5fSAgICAgICAgICAgICAgIEFycmF5IHdob3NlIGRhdGEgaGFzIGJlZW4gZm9ybWF0dGVkIHRvIGZpdCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICovXG5cbmZ1bmN0aW9uIF9yZXNoYXBlKGFycmF5LCBzaXplcykge1xuICAvLyB0ZXN0aW5nIGlmIHRoZXJlIGFyZSBlbm91Z2ggZWxlbWVudHMgZm9yIHRoZSByZXF1ZXN0ZWQgc2hhcGVcbiAgdmFyIHRtcEFycmF5ID0gYXJyYXk7XG4gIHZhciB0bXBBcnJheTI7IC8vIGZvciBlYWNoIGRpbWVuc2lvbnMgc3RhcnRpbmcgYnkgdGhlIGxhc3Qgb25lIGFuZCBpZ25vcmluZyB0aGUgZmlyc3Qgb25lXG5cbiAgZm9yICh2YXIgc2l6ZUluZGV4ID0gc2l6ZXMubGVuZ3RoIC0gMTsgc2l6ZUluZGV4ID4gMDsgc2l6ZUluZGV4LS0pIHtcbiAgICB2YXIgc2l6ZSA9IHNpemVzW3NpemVJbmRleF07XG4gICAgdG1wQXJyYXkyID0gW107IC8vIGFnZ3JlZ2F0ZSB0aGUgZWxlbWVudHMgb2YgdGhlIGN1cnJlbnQgdG1wQXJyYXkgaW4gZWxlbWVudHMgb2YgdGhlIHJlcXVlc3RlZCBzaXplXG5cbiAgICB2YXIgbGVuZ3RoID0gdG1wQXJyYXkubGVuZ3RoIC8gc2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRtcEFycmF5Mi5wdXNoKHRtcEFycmF5LnNsaWNlKGkgKiBzaXplLCAoaSArIDEpICogc2l6ZSkpO1xuICAgIH0gLy8gc2V0IGl0IGFzIHRoZSBuZXcgdG1wQXJyYXkgZm9yIHRoZSBuZXh0IGxvb3AgdHVybiBvciBmb3IgcmV0dXJuXG5cblxuICAgIHRtcEFycmF5ID0gdG1wQXJyYXkyO1xuICB9XG5cbiAgcmV0dXJuIHRtcEFycmF5O1xufVxuLyoqXG4gKiBTcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBbc2l6ZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0dXJucyB0aGUgYXJyYXkgaXRzZWxmXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gc3F1ZWV6ZShhcnJheSwgc2l6ZSkge1xuICB2YXIgcyA9IHNpemUgfHwgYXJyYXlTaXplKGFycmF5KTsgLy8gc3F1ZWV6ZSBvdXRlciBkaW1lbnNpb25zXG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpICYmIGFycmF5Lmxlbmd0aCA9PT0gMSkge1xuICAgIGFycmF5ID0gYXJyYXlbMF07XG4gICAgcy5zaGlmdCgpO1xuICB9IC8vIGZpbmQgdGhlIGZpcnN0IGRpbWVuc2lvbiB0byBiZSBzcXVlZXplZFxuXG5cbiAgdmFyIGRpbXMgPSBzLmxlbmd0aDtcblxuICB3aGlsZSAoc1tkaW1zIC0gMV0gPT09IDEpIHtcbiAgICBkaW1zLS07XG4gIH0gLy8gc3F1ZWV6ZSBpbm5lciBkaW1lbnNpb25zXG5cblxuICBpZiAoZGltcyA8IHMubGVuZ3RoKSB7XG4gICAgYXJyYXkgPSBfc3F1ZWV6ZShhcnJheSwgZGltcywgMCk7XG4gICAgcy5sZW5ndGggPSBkaW1zO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBzcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyBSZXF1aXJlZCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheSB8ICp9IFJldHVybnMgdGhlIHNxdWVlemVkIGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9zcXVlZXplKGFycmF5LCBkaW1zLCBkaW0pIHtcbiAgdmFyIGksIGlpO1xuXG4gIGlmIChkaW0gPCBkaW1zKSB7XG4gICAgdmFyIG5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IF9zcXVlZXplKGFycmF5W2ldLCBkaW1zLCBuZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICBhcnJheSA9IGFycmF5WzBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogVW5zcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXk6IGFkZCBkaW1lbnNpb25zIHdoZW4gbWlzc2luZ1xuICpcbiAqIFBhcmFtdGVyIGBzaXplYCB3aWxsIGJlIG11dGF0ZWQgdG8gbWF0Y2ggdGhlIG5ldywgdW5xdWVlemVkIG1hdHJpeCBzaXplLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyAgICAgICBEZXNpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IFtvdXRlcl0gICAgTnVtYmVyIG9mIG91dGVyIGRpbWVuc2lvbnMgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IFtzaXplXSBDdXJyZW50IHNpemUgb2YgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldHVybnMgdGhlIGFycmF5IGl0c2VsZlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNxdWVlemUoYXJyYXksIGRpbXMsIG91dGVyLCBzaXplKSB7XG4gIHZhciBzID0gc2l6ZSB8fCBhcnJheVNpemUoYXJyYXkpOyAvLyB1bnNxdWVlemUgb3V0ZXIgZGltZW5zaW9uc1xuXG4gIGlmIChvdXRlcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0ZXI7IGkrKykge1xuICAgICAgYXJyYXkgPSBbYXJyYXldO1xuICAgICAgcy51bnNoaWZ0KDEpO1xuICAgIH1cbiAgfSAvLyB1bnNxdWVlemUgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgYXJyYXkgPSBfdW5zcXVlZXplKGFycmF5LCBkaW1zLCAwKTtcblxuICB3aGlsZSAocy5sZW5ndGggPCBkaW1zKSB7XG4gICAgcy5wdXNoKDEpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSB1bnNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zIFJlcXVpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICBDdXJyZW50IGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5IHwgKn0gUmV0dXJucyB0aGUgc3F1ZWV6ZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3Vuc3F1ZWV6ZShhcnJheSwgZGltcywgZGltKSB7XG4gIHZhciBpLCBpaTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICB2YXIgbmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gX3Vuc3F1ZWV6ZShhcnJheVtpXSwgZGltcywgbmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGQgPSBkaW07IGQgPCBkaW1zOyBkKyspIHtcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIEZsYXR0ZW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSwgcHV0IGFsbCBlbGVtZW50cyBpbiBhIG9uZSBkaW1lbnNpb25hbFxuICogYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgQSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICBUaGUgZmxhdHRlbmVkIGFycmF5ICgxIGRpbWVuc2lvbmFsKVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIC8vIGlmIG5vdCBhbiBhcnJheSwgcmV0dXJuIGFzIGlzXG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgdmFyIGZsYXQgPSBbXTtcbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChjYWxsYmFjayk7IC8vIHRyYXZlcnNlIHRocm91Z2ggc3ViLWFycmF5cyByZWN1cnNpdmVseVxuICAgIH0gZWxzZSB7XG4gICAgICBmbGF0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmbGF0O1xufVxuLyoqXG4gKiBBIHNhZmUgbWFwXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEEgc2FmZSBmb3JFYWNoXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChhcnJheSwgY2FsbGJhY2spIHtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBBIHNhZmUgZmlsdGVyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKGFycmF5LCBjYWxsYmFjaykge1xuICBpZiAoYXJyYXlTaXplKGFycmF5KS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGRpbWVuc2lvbmFsIG1hdHJpY2VzIHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBGaWx0ZXIgdmFsdWVzIGluIGEgY2FsbGJhY2sgZ2l2ZW4gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVnZXhwXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyB0aGUgZmlsdGVyZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclJlZ0V4cChhcnJheSwgcmVnZXhwKSB7XG4gIGlmIChhcnJheVNpemUoYXJyYXkpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgZGltZW5zaW9uYWwgbWF0cmljZXMgc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBlbnRyeSA9PiByZWdleHAudGVzdChlbnRyeSkpO1xufVxuLyoqXG4gKiBBIHNhZmUgam9pblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXBhcmF0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xufVxuLyoqXG4gKiBBc3NpZ24gYSBudW1lcmljIGlkZW50aWZpZXIgdG8gZXZlcnkgZWxlbWVudCBvZiBhIHNvcnRlZCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYSAgQW4gYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIG9yaWdpbmFsIHZhbHVlIGFuZCBpdHMgaWRlbnRpZmllclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG4gIHZhciBjb3VudCA9IDA7XG4gIGJbMF0gPSB7XG4gICAgdmFsdWU6IGFbMF0sXG4gICAgaWRlbnRpZmllcjogMFxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldID09PSBhW2kgLSAxXSkge1xuICAgICAgY291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cblxuICAgIGIucHVzaCh7XG4gICAgICB2YWx1ZTogYVtpXSxcbiAgICAgIGlkZW50aWZpZXI6IGNvdW50XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYjtcbn1cbi8qKlxuICogUmVtb3ZlIHRoZSBudW1lcmljIGlkZW50aWZpZXIgZnJvbSB0aGUgZWxlbWVudHNcbiAqIEBwYXJhbSB7YXJyYXl9IGEgIEFuIGFycmF5XG4gKiBAcmV0dXJuIHthcnJheX0gQW4gYXJyYXkgb2YgdmFsdWVzIHdpdGhvdXQgaWRlbnRpZmllcnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhbGl6ZShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgYi5wdXNoKGFbaV0udmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIGI7XG59XG4vKipcbiAqIENoZWNrIHRoZSBkYXRhdHlwZSBvZiBhIGdpdmVuIG9iamVjdFxuICogVGhpcyBpcyBhIGxvdyBsZXZlbCBpbXBsZW1lbnRhdGlvbiB0aGF0IHNob3VsZCBvbmx5IGJlIHVzZWQgYnlcbiAqIHBhcmVudCBNYXRyaXggY2xhc3NlcyBzdWNoIGFzIFNwYXJzZU1hdHJpeCBvciBEZW5zZU1hdHJpeFxuICogVGhpcyBtZXRob2QgZG9lcyBub3QgdmFsaWRhdGUgQXJyYXkgTWF0cml4IHNoYXBlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHlwZU9mICAgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gdXNlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhIHZhbHVlXG4gKiBAcmV0dXJuIHN0cmluZ1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheURhdGFUeXBlKGFycmF5LCB0eXBlT2YpIHtcbiAgdmFyIHR5cGU7IC8vIHRvIGhvbGQgdHlwZSBpbmZvXG5cbiAgdmFyIGxlbmd0aCA9IDA7IC8vIHRvIGhvbGQgbGVuZ3RoIHZhbHVlIHRvIGVuc3VyZSBpdCBoYXMgY29uc2lzdGVudCBzaXplc1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpdGVtKTsgLy8gU2F2aW5nIHRoZSB0YXJnZXQgbWF0cml4IHJvdyBzaXplXG5cbiAgICBpZiAoaSA9PT0gMCAmJiBpc0FycmF5KSB7XG4gICAgICBsZW5ndGggPSBpdGVtLmxlbmd0aDtcbiAgICB9IC8vIElmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYW4gYXJyYXkgYnV0IHRoZSBsZW5ndGggZG9lcyBub3QgZXF1YWwgdGhlIHRhcmdldFZlY3RvclNpemVcblxuXG4gICAgaWYgKGlzQXJyYXkgJiYgaXRlbS5sZW5ndGggIT09IGxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgaXRlbVR5cGUgPSBpc0FycmF5ID8gZ2V0QXJyYXlEYXRhVHlwZShpdGVtLCB0eXBlT2YpIC8vIHJlY3Vyc2UgaW50byBhIG5lc3RlZCBhcnJheVxuICAgIDogdHlwZU9mKGl0ZW0pO1xuXG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdHlwZSA9IGl0ZW1UeXBlOyAvLyBmaXJzdCBpdGVtXG4gICAgfSBlbHNlIGlmICh0eXBlICE9PSBpdGVtVHlwZSkge1xuICAgICAgcmV0dXJuICdtaXhlZCc7XG4gICAgfSBlbHNlIHsvLyB3ZSdyZSBnb29kLCBldmVyeXRoaW5nIGhhcyB0aGUgc2FtZSB0eXBlIHNvIGZhclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0eXBlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhc3QgaXRlbSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0gYXJyYXlcbiAqIEByZXR1cm5zIHsqfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cbi8qKlxuICogR2V0IGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhcnJheS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICByZXR1cm4gYXJyYXkuc2xpY2UoMCwgYXJyYXkubGVuZ3RoIC0gMSk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBvciBzdHJpbmcgY29udGFpbnMgYW4gaXRlbVxuICogQHBhcmFtIHtBcnJheSB8IHN0cmluZ30gYXJyYXlcbiAqIEBwYXJhbSB7Kn0gaXRlbVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSIsImltcG9ydCB7IGNvbnRhaW5zIH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBwaWNrU2hhbGxvdyB9IGZyb20gJy4vb2JqZWN0LmpzJztcbi8qKlxuICogQ3JlYXRlIGEgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gaW5qZWN0IGRlcGVuZGVuY2llcy5cbiAqXG4gKiBUaGUgY3JlYXRlZCBmdW5jdGlvbnMgYXJlIG1lbW9pemVkLCBhIGNvbnNlY3V0aXZlIGNhbGwgb2YgdGhlIGZhY3RvcnlcbiAqIHdpdGggdGhlIGV4YWN0IHNhbWUgaW5wdXRzIHdpbGwgcmV0dXJuIHRoZSBzYW1lIGZ1bmN0aW9uIGluc3RhbmNlLlxuICogVGhlIG1lbW9pemVkIGNhY2hlIGlzIGV4cG9zZWQgb24gYGZhY3RvcnkuY2FjaGVgIGFuZCBjYW4gYmUgY2xlYXJlZFxuICogaWYgbmVlZGVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGNvbnN0IG5hbWUgPSAnbG9nJ1xuICogICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IFsnY29uZmlnJywgJ3R5cGVkJywgJ2RpdmlkZVNjYWxhcicsICdDb21wbGV4J11cbiAqXG4gKiAgICAgZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZyA9IGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoeyB0eXBlZCwgY29uZmlnLCBkaXZpZGVTY2FsYXIsIENvbXBsZXggfSkgPT4ge1xuICogICAgICAgLy8gLi4uIGNyZWF0ZSB0aGUgZnVuY3Rpb24gbG9nIGhlcmUgYW5kIHJldHVybiBpdFxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZFxuICogQHBhcmFtIHtzdHJpbmdbXX0gZGVwZW5kZW5jaWVzIFRoZSBuYW1lcyBvZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGUgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggYWxsIGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtPYmplY3R9IFttZXRhXSAgICAgICAgIE9wdGlvbmFsIG9iamVjdCB3aXRoIG1ldGEgaW5mb3JtYXRpb24gdGhhdCB3aWxsIGJlIGF0dGFjaGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdGhlIGNyZWF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBhcyBwcm9wZXJ0eSBgbWV0YWAuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCBjcmVhdGUsIG1ldGEpIHtcbiAgZnVuY3Rpb24gYXNzZXJ0QW5kQ3JlYXRlKHNjb3BlKSB7XG4gICAgLy8gd2Ugb25seSBwYXNzIHRoZSByZXF1ZXN0ZWQgZGVwZW5kZW5jaWVzIHRvIHRoZSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gdG8gcHJldmVudCBmdW5jdGlvbnMgdG8gcmVseSBvbiBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAgICAvLyByZXF1ZXN0ZWQuXG4gICAgdmFyIGRlcHMgPSBwaWNrU2hhbGxvdyhzY29wZSwgZGVwZW5kZW5jaWVzLm1hcChzdHJpcE9wdGlvbmFsTm90YXRpb24pKTtcbiAgICBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSk7XG4gICAgcmV0dXJuIGNyZWF0ZShkZXBzKTtcbiAgfVxuXG4gIGFzc2VydEFuZENyZWF0ZS5pc0ZhY3RvcnkgPSB0cnVlO1xuICBhc3NlcnRBbmRDcmVhdGUuZm4gPSBuYW1lO1xuICBhc3NlcnRBbmRDcmVhdGUuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLnNsaWNlKCkuc29ydCgpO1xuXG4gIGlmIChtZXRhKSB7XG4gICAgYXNzZXJ0QW5kQ3JlYXRlLm1ldGEgPSBtZXRhO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydEFuZENyZWF0ZTtcbn1cbi8qKlxuICogU29ydCBhbGwgZmFjdG9yaWVzIHN1Y2ggdGhhdCB3aGVuIGxvYWRpbmcgaW4gb3JkZXIsIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGZhY3Rvcmllc1xuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIHNvcnRlZCBmYWN0b3JpZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRGYWN0b3JpZXMoZmFjdG9yaWVzKSB7XG4gIHZhciBmYWN0b3JpZXNCeU5hbWUgPSB7fTtcbiAgZmFjdG9yaWVzLmZvckVhY2goZmFjdG9yeSA9PiB7XG4gICAgZmFjdG9yaWVzQnlOYW1lW2ZhY3RvcnkuZm5dID0gZmFjdG9yeTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY29udGFpbnNEZXBlbmRlbmN5KGZhY3RvcnksIGRlcGVuZGVuY3kpIHtcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgIGlmIChpc0ZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgIGlmIChjb250YWlucyhmYWN0b3J5LmRlcGVuZGVuY2llcywgZGVwZW5kZW5jeS5mbiB8fCBkZXBlbmRlbmN5Lm5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFjdG9yeS5kZXBlbmRlbmNpZXMuc29tZShkID0+IGNvbnRhaW5zRGVwZW5kZW5jeShmYWN0b3JpZXNCeU5hbWVbZF0sIGRlcGVuZGVuY3kpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgc29ydGVkID0gW107XG5cbiAgZnVuY3Rpb24gYWRkRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgdmFyIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IHNvcnRlZC5sZW5ndGggJiYgIWNvbnRhaW5zRGVwZW5kZW5jeShzb3J0ZWRbaW5kZXhdLCBmYWN0b3J5KSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBzb3J0ZWQuc3BsaWNlKGluZGV4LCAwLCBmYWN0b3J5KTtcbiAgfSAvLyBzb3J0IHJlZ3VsYXIgZmFjdG9yeSBmdW5jdGlvbnNcblxuXG4gIGZhY3Rvcmllcy5maWx0ZXIoaXNGYWN0b3J5KS5mb3JFYWNoKGFkZEZhY3RvcnkpOyAvLyBzb3J0IGxlZ2FjeSBmYWN0b3J5IGZ1bmN0aW9ucyBBRlRFUiB0aGUgcmVndWxhciBmYWN0b3J5IGZ1bmN0aW9uc1xuXG4gIGZhY3Rvcmllcy5maWx0ZXIoZmFjdG9yeSA9PiAhaXNGYWN0b3J5KGZhY3RvcnkpKS5mb3JFYWNoKGFkZEZhY3RvcnkpO1xuICByZXR1cm4gc29ydGVkO1xufSAvLyBUT0RPOiBjb21tZW50IG9yIGNsZWFudXAgaWYgdW51c2VkIGluIHRoZSBlbmRcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmYWN0b3JpZXMpIHtcbiAgdmFyIHNjb3BlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgc29ydEZhY3RvcmllcyhmYWN0b3JpZXMpLmZvckVhY2goZmFjdG9yeSA9PiBmYWN0b3J5KHNjb3BlKSk7XG4gIHJldHVybiBzY29wZTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpdCBoYXNcbiAqIHByb3BlcnRpZXMgbmFtZSwgZGVwZW5kZW5jaWVzLCBhbmQgYSBmdW5jdGlvbiBjcmVhdGUuXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmFjdG9yeShvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5mbiA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShvYmouZGVwZW5kZW5jaWVzKTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgYWxsIGRlcGVuZGVuY2llcyBvZiBhIGxpc3Qgd2l0aCBkZXBlbmRlbmNpZXMgYXJlIGF2YWlsYWJsZSBpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gKlxuICogV2lsbCB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiB0aGVyZSBhcmUgZGVwZW5kZW5jaWVzIG1pc3NpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICBOYW1lIGZvciB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZC4gVXNlZCB0byBnZW5lcmF0ZSBhIHVzZWZ1bCBlcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSkge1xuICB2YXIgYWxsRGVmaW5lZCA9IGRlcGVuZGVuY2llcy5maWx0ZXIoZGVwZW5kZW5jeSA9PiAhaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkpIC8vIGZpbHRlciBvcHRpb25hbHNcbiAgLmV2ZXJ5KGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gIT09IHVuZGVmaW5lZCk7XG5cbiAgaWYgKCFhbGxEZWZpbmVkKSB7XG4gICAgdmFyIG1pc3NpbmdEZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuZmlsdGVyKGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gPT09IHVuZGVmaW5lZCk7IC8vIFRPRE86IGNyZWF0ZSBhIGN1c3RvbSBlcnJvciBjbGFzcyBmb3IgdGhpcywgYSBNYXRoanNFcnJvciBvciBzb21ldGhpbmcgbGlrZSB0aGF0XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGZ1bmN0aW9uIFxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiLCBcIikgKyBcInNvbWUgZGVwZW5kZW5jaWVzIGFyZSBtaXNzaW5nOiBcIi5jb25jYXQobWlzc2luZ0RlcGVuZGVuY2llcy5tYXAoZCA9PiBcIlxcXCJcIi5jb25jYXQoZCwgXCJcXFwiXCIpKS5qb2luKCcsICcpLCBcIi5cIikpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkge1xuICByZXR1cm4gZGVwZW5kZW5jeSAmJiBkZXBlbmRlbmN5WzBdID09PSAnPyc7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaXBPcHRpb25hbE5vdGF0aW9uKGRlcGVuZGVuY3kpIHtcbiAgcmV0dXJuIGRlcGVuZGVuY3kgJiYgZGVwZW5kZW5jeVswXSA9PT0gJz8nID8gZGVwZW5kZW5jeS5zbGljZSgxKSA6IGRlcGVuZGVuY3k7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSB0eXBlZC1mdW5jdGlvbiB3aGljaCBjaGVja3MgdGhlIHR5cGVzIG9mIHRoZSBhcmd1bWVudHMgYW5kXG4gKiBjYW4gbWF0Y2ggdGhlbSBhZ2FpbnN0IG11bHRpcGxlIHByb3ZpZGVkIHNpZ25hdHVyZXMuIFRoZSB0eXBlZC1mdW5jdGlvblxuICogYXV0b21hdGljYWxseSBjb252ZXJ0cyBpbnB1dHMgaW4gb3JkZXIgdG8gZmluZCBhIG1hdGNoaW5nIHNpZ25hdHVyZS5cbiAqIFR5cGVkIGZ1bmN0aW9ucyB0aHJvdyBpbmZvcm1hdGl2ZSBlcnJvcnMgaW4gY2FzZSBvZiB3cm9uZyBpbnB1dCBhcmd1bWVudHMuXG4gKlxuICogU2VlIHRoZSBsaWJyYXJ5IFt0eXBlZC1mdW5jdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvbilcbiAqIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICAgbWF0aC50eXBlZChuYW1lLCBzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKiAgICAgbWF0aC50eXBlZChzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggbXVsdGlwbGUgdHlwZXMgcGVyIGFyZ3VtZW50ICh0eXBlIHVuaW9uKVxuICogICAgIGNvbnN0IGZuMiA9IHR5cGVkKHtcbiAqICAgICAgICdudW1iZXIgfCBib29sZWFuJzogZnVuY3Rpb24gKGIpIHtcbiAqICAgICAgICAgcmV0dXJuICdiIGlzIGEgbnVtYmVyIG9yIGJvb2xlYW4nXG4gKiAgICAgICB9LFxuICogICAgICAgJ3N0cmluZywgbnVtYmVyIHwgYm9vbGVhbic6IGZ1bmN0aW9uIChhLCBiKSB7XG4gKiAgICAgICAgIHJldHVybiAnYSBpcyBhIHN0cmluZywgYiBpcyBhIG51bWJlciBvciBib29sZWFuJ1xuICogICAgICAgfVxuICogICAgIH0pXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggYW4gYW55IHR5cGUgYXJndW1lbnRcbiAqICAgICBjb25zdCBsb2cgPSB0eXBlZCh7XG4gKiAgICAgICAnc3RyaW5nLCBhbnknOiBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coJ2V2ZW50OiAnICsgZXZlbnQgKyAnLCBkYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25hbCBuYW1lIGZvciB0aGUgdHlwZWQtZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgZnVuY3Rpb24+fSBzaWduYXR1cmVzICAgT2JqZWN0IHdpdGggb25lIG9yIG11bHRpcGxlIGZ1bmN0aW9uIHNpZ25hdHVyZXNcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gVGhlIGNyZWF0ZWQgdHlwZWQtZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0FycmF5LCBpc0FycmF5Tm9kZSwgaXNBc3NpZ25tZW50Tm9kZSwgaXNCaWdOdW1iZXIsIGlzQmxvY2tOb2RlLCBpc0Jvb2xlYW4sIGlzQ2hhaW4sIGlzQ29tcGxleCwgaXNDb25kaXRpb25hbE5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0RhdGUsIGlzRGVuc2VNYXRyaXgsIGlzRnJhY3Rpb24sIGlzRnVuY3Rpb24sIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzSGVscCwgaXNJbmRleCwgaXNJbmRleE5vZGUsIGlzTWF0cml4LCBpc05vZGUsIGlzTnVsbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc09iamVjdE5vZGUsIGlzT3BlcmF0b3JOb2RlLCBpc1BhcmVudGhlc2lzTm9kZSwgaXNSYW5nZSwgaXNSYW5nZU5vZGUsIGlzUmVnRXhwLCBpc1Jlc3VsdFNldCwgaXNTcGFyc2VNYXRyaXgsIGlzU3RyaW5nLCBpc1N5bWJvbE5vZGUsIGlzVW5kZWZpbmVkLCBpc1VuaXQgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgdHlwZWRGdW5jdGlvbiBmcm9tICd0eXBlZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBkaWdpdHMgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnOyAvLyByZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG5cbnZhciBfY3JlYXRlVHlwZWQyID0gZnVuY3Rpb24gX2NyZWF0ZVR5cGVkKCkge1xuICAvLyBpbml0aWFsbHksIHJldHVybiB0aGUgb3JpZ2luYWwgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgLy8gY29uc2VjdXRpdmVseSwgcmV0dXJuIGEgbmV3IGluc3RhbmNlIGZyb20gdHlwZWQuY3JlYXRlLlxuICBfY3JlYXRlVHlwZWQyID0gdHlwZWRGdW5jdGlvbi5jcmVhdGU7XG4gIHJldHVybiB0eXBlZEZ1bmN0aW9uO1xufTtcblxudmFyIGRlcGVuZGVuY2llcyA9IFsnP0JpZ051bWJlcicsICc/Q29tcGxleCcsICc/RGVuc2VNYXRyaXgnLCAnP0ZyYWN0aW9uJ107XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IHR5cGVkIGluc3RhbmNlXG4gKiBAcGFyYW0ge09iamVjdH0gZGVwZW5kZW5jaWVzICAgT2JqZWN0IHdpdGggZGF0YSB0eXBlcyBsaWtlIENvbXBsZXggYW5kIEJpZ051bWJlclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlVHlwZWQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KCd0eXBlZCcsIGRlcGVuZGVuY2llcywgZnVuY3Rpb24gY3JlYXRlVHlwZWQoX3JlZikge1xuICB2YXIge1xuICAgIEJpZ051bWJlcixcbiAgICBDb21wbGV4LFxuICAgIERlbnNlTWF0cml4LFxuICAgIEZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuXG4gIC8vIFRPRE86IHR5cGVkLWZ1bmN0aW9uIG11c3QgYmUgYWJsZSB0byBzaWxlbnRseSBpZ25vcmUgc2lnbmF0dXJlcyB3aXRoIHVua25vd24gZGF0YSB0eXBlc1xuICAvLyBnZXQgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgdmFyIHR5cGVkID0gX2NyZWF0ZVR5cGVkMigpOyAvLyBkZWZpbmUgYWxsIHR5cGVzLiBUaGUgb3JkZXIgb2YgdGhlIHR5cGVzIGRldGVybWluZXMgaW4gd2hpY2ggb3JkZXIgZnVuY3Rpb25cbiAgLy8gYXJndW1lbnRzIGFyZSB0eXBlLWNoZWNrZWQgKHNvIGZvciBwZXJmb3JtYW5jZSBpdCdzIGltcG9ydGFudCB0byBwdXQgdGhlXG4gIC8vIG1vc3QgdXNlZCB0eXBlcyBmaXJzdCkuXG5cblxuICB0eXBlZC50eXBlcyA9IFt7XG4gICAgbmFtZTogJ251bWJlcicsXG4gICAgdGVzdDogaXNOdW1iZXJcbiAgfSwge1xuICAgIG5hbWU6ICdDb21wbGV4JyxcbiAgICB0ZXN0OiBpc0NvbXBsZXhcbiAgfSwge1xuICAgIG5hbWU6ICdCaWdOdW1iZXInLFxuICAgIHRlc3Q6IGlzQmlnTnVtYmVyXG4gIH0sIHtcbiAgICBuYW1lOiAnRnJhY3Rpb24nLFxuICAgIHRlc3Q6IGlzRnJhY3Rpb25cbiAgfSwge1xuICAgIG5hbWU6ICdVbml0JyxcbiAgICB0ZXN0OiBpc1VuaXRcbiAgfSwge1xuICAgIG5hbWU6ICdzdHJpbmcnLFxuICAgIHRlc3Q6IGlzU3RyaW5nXG4gIH0sIHtcbiAgICBuYW1lOiAnQ2hhaW4nLFxuICAgIHRlc3Q6IGlzQ2hhaW5cbiAgfSwge1xuICAgIG5hbWU6ICdBcnJheScsXG4gICAgdGVzdDogaXNBcnJheVxuICB9LCB7XG4gICAgbmFtZTogJ01hdHJpeCcsXG4gICAgdGVzdDogaXNNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdEZW5zZU1hdHJpeCcsXG4gICAgdGVzdDogaXNEZW5zZU1hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ1NwYXJzZU1hdHJpeCcsXG4gICAgdGVzdDogaXNTcGFyc2VNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdSYW5nZScsXG4gICAgdGVzdDogaXNSYW5nZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4JyxcbiAgICB0ZXN0OiBpc0luZGV4XG4gIH0sIHtcbiAgICBuYW1lOiAnYm9vbGVhbicsXG4gICAgdGVzdDogaXNCb29sZWFuXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVzdWx0U2V0JyxcbiAgICB0ZXN0OiBpc1Jlc3VsdFNldFxuICB9LCB7XG4gICAgbmFtZTogJ0hlbHAnLFxuICAgIHRlc3Q6IGlzSGVscFxuICB9LCB7XG4gICAgbmFtZTogJ2Z1bmN0aW9uJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uXG4gIH0sIHtcbiAgICBuYW1lOiAnRGF0ZScsXG4gICAgdGVzdDogaXNEYXRlXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVnRXhwJyxcbiAgICB0ZXN0OiBpc1JlZ0V4cFxuICB9LCB7XG4gICAgbmFtZTogJ251bGwnLFxuICAgIHRlc3Q6IGlzTnVsbFxuICB9LCB7XG4gICAgbmFtZTogJ3VuZGVmaW5lZCcsXG4gICAgdGVzdDogaXNVbmRlZmluZWRcbiAgfSwge1xuICAgIG5hbWU6ICdBY2Nlc3Nvck5vZGUnLFxuICAgIHRlc3Q6IGlzQWNjZXNzb3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQXJyYXlOb2RlJyxcbiAgICB0ZXN0OiBpc0FycmF5Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Fzc2lnbm1lbnROb2RlJyxcbiAgICB0ZXN0OiBpc0Fzc2lnbm1lbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQmxvY2tOb2RlJyxcbiAgICB0ZXN0OiBpc0Jsb2NrTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0NvbmRpdGlvbmFsTm9kZScsXG4gICAgdGVzdDogaXNDb25kaXRpb25hbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdDb25zdGFudE5vZGUnLFxuICAgIHRlc3Q6IGlzQ29uc3RhbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnRnVuY3Rpb25Ob2RlJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4Tm9kZScsXG4gICAgdGVzdDogaXNJbmRleE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdOb2RlJyxcbiAgICB0ZXN0OiBpc05vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3ROb2RlJyxcbiAgICB0ZXN0OiBpc09iamVjdE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPcGVyYXRvck5vZGUnLFxuICAgIHRlc3Q6IGlzT3BlcmF0b3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnUGFyZW50aGVzaXNOb2RlJyxcbiAgICB0ZXN0OiBpc1BhcmVudGhlc2lzTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1JhbmdlTm9kZScsXG4gICAgdGVzdDogaXNSYW5nZU5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdTeW1ib2xOb2RlJyxcbiAgICB0ZXN0OiBpc1N5bWJvbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3QnLFxuICAgIHRlc3Q6IGlzT2JqZWN0XG4gIH0gLy8gb3JkZXIgJ09iamVjdCcgbGFzdCwgaXQgbWF0Y2hlcyBvbiBvdGhlciBjbGFzc2VzIHRvb1xuICBdO1xuICB0eXBlZC5jb252ZXJzaW9ucyA9IFt7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFCaWdOdW1iZXIpIHtcbiAgICAgICAgdGhyb3dOb0JpZ251bWJlcih4KTtcbiAgICAgIH0gLy8gbm90ZTogY29udmVyc2lvbiBmcm9tIG51bWJlciB0byBCaWdOdW1iZXIgY2FuIGZhaWwgaWYgeCBoYXMgPjE1IGRpZ2l0c1xuXG5cbiAgICAgIGlmIChkaWdpdHMoeCkgPiAxNSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgbnVtYmVyIHdpdGggPjE1IHNpZ25pZmljYW50IGRpZ2l0cyB0byBCaWdOdW1iZXIgJyArICcodmFsdWU6ICcgKyB4ICsgJykuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlci4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgsIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnc3RyaW5nJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiB4ICsgJyc7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0JpZ051bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudG9OdW1iZXIoKSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgRnJhY3Rpb24gdG8gQmlnTnVtYmVyIG9yIHZpY2UgdmVyc2EuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlciBvciBmcmFjdGlvbih4KSB0byBjb252ZXJ0IHRvIEZyYWN0aW9uLicpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdGcmFjdGlvbicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudmFsdWVPZigpLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZiA9IG5ldyBGcmFjdGlvbih4KTtcblxuICAgICAgaWYgKGYudmFsdWVPZigpICE9PSB4KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBudW1iZXIgdG8gYSBGcmFjdGlvbiB3aGVuIHRoZXJlIHdpbGwgYmUgYSBsb3NzIG9mIHByZWNpc2lvbiAnICsgJyh2YWx1ZTogJyArIHggKyAnKS4gJyArICdVc2UgZnVuY3Rpb24gZnJhY3Rpb24oeCkgdG8gY29udmVydCB0byBGcmFjdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGY7XG4gICAgfVxuICB9LCB7XG4gICAgLy8gRklYTUU6IGFkZCBjb252ZXJzaW9uIGZyb20gRnJhY3Rpb24gdG8gbnVtYmVyLCBmb3IgZXhhbXBsZSBmb3IgYHNxcnQoZnJhY3Rpb24oMSwzKSlgXG4gICAgLy8gIGZyb206ICdGcmFjdGlvbicsXG4gICAgLy8gIHRvOiAnbnVtYmVyJyxcbiAgICAvLyAgY29udmVydDogZnVuY3Rpb24gKHgpIHtcbiAgICAvLyAgICByZXR1cm4geC52YWx1ZU9mKClcbiAgICAvLyAgfVxuICAgIC8vIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ251bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB2YXIgbiA9IE51bWJlcih4KTtcblxuICAgICAgaWYgKGlzTmFOKG4pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBhIG51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gQmlnTnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gRnJhY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIENvbXBsZXgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdudW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuICt4O1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigreCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oK3gpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ3N0cmluZycsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdBcnJheScsXG4gICAgdG86ICdNYXRyaXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoYXJyYXkpIHtcbiAgICAgIGlmICghRGVuc2VNYXRyaXgpIHtcbiAgICAgICAgdGhyb3dOb01hdHJpeCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGFycmF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnTWF0cml4JyxcbiAgICB0bzogJ0FycmF5JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KG1hdHJpeCkge1xuICAgICAgcmV0dXJuIG1hdHJpeC52YWx1ZU9mKCk7XG4gICAgfVxuICB9XTtcbiAgcmV0dXJuIHR5cGVkO1xufSk7XG5cbmZ1bmN0aW9uIHRocm93Tm9CaWdudW1iZXIoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIEJpZ051bWJlcjogbm8gY2xhc3MgJ0JpZ051bWJlcicgcHJvdmlkZWRcIikpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vQ29tcGxleCh4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgQ29tcGxleCBudW1iZXI6IG5vIGNsYXNzICdDb21wbGV4JyBwcm92aWRlZFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9NYXRyaXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgYXJyYXkgaW50byBhIE1hdHJpeDogbm8gY2xhc3MgXFwnRGVuc2VNYXRyaXhcXCcgcHJvdmlkZWQnKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb0ZyYWN0aW9uKHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBGcmFjdGlvbiwgbm8gY2xhc3MgJ0ZyYWN0aW9uJyBwcm92aWRlZC5cIikpO1xufSIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1Jlc3VsdFNldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZVJlc3VsdFNldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBIFJlc3VsdFNldCBjb250YWlucyBhIGxpc3Qgb3IgcmVzdWx0c1xuICAgKiBAY2xhc3MgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGVudHJpZXNcbiAgICogQGNvbnN0cnVjdG9yIFJlc3VsdFNldFxuICAgKi9cbiAgZnVuY3Rpb24gUmVzdWx0U2V0KGVudHJpZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzdWx0U2V0KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzIHx8IFtdO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudHlwZSA9ICdSZXN1bHRTZXQnO1xuICBSZXN1bHRTZXQucHJvdG90eXBlLmlzUmVzdWx0U2V0ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFycmF5IHdpdGggcmVzdWx0cyBob2xkIGJ5IHRoaXMgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge0FycmF5fSBlbnRyaWVzXG4gICAqL1xuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RyaW5naWZpZWQgcmVzdWx0cyBvZiB0aGUgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyaW5nXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1snICsgdGhpcy5lbnRyaWVzLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlc3VsdFNldFwiLCBcImVudHJpZXNcIjogWy4uLl19YFxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSZXN1bHRTZXQnLFxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmVzdWx0U2V0IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVzdWx0U2V0XCIsIFwiZW50cmllc1wiOiBbLi4uXX1gXG4gICAqIEByZXR1cm4ge1Jlc3VsdFNldH1cbiAgICovXG5cblxuICBSZXN1bHRTZXQuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmVzdWx0U2V0KGpzb24uZW50cmllcyk7XG4gIH07XG5cbiAgcmV0dXJuIFJlc3VsdFNldDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLypcclxuICogIGRlY2ltYWwuanMgdjEwLjIuMVxyXG4gKiAgQW4gYXJiaXRyYXJ5LXByZWNpc2lvbiBEZWNpbWFsIHR5cGUgZm9yIEphdmFTY3JpcHQuXHJcbiAqICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9kZWNpbWFsLmpzXHJcbiAqICBDb3B5cmlnaHQgKGMpIDIwMjAgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogIE1JVCBMaWNlbmNlXHJcbiAqL1xyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBFRElUQUJMRSBERUZBVUxUUyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCBtYWduaXR1ZGUuXHJcbiAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgdG9FeHBOZWdgLCBgdG9FeHBQb3NgLCBgbWluRWAgYW5kIGBtYXhFYC5cclxudmFyIEVYUF9MSU1JVCA9IDllMTUsICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOWUxNVxyXG5cclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLCBhbmQgb24gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBhcmd1bWVudCB0b1xyXG4gIC8vIGB0b0RlY2ltYWxQbGFjZXNgLCBgdG9FeHBvbmVudGlhbGAsIGB0b0ZpeGVkYCwgYHRvUHJlY2lzaW9uYCBhbmQgYHRvU2lnbmlmaWNhbnREaWdpdHNgLlxyXG4gIE1BWF9ESUdJVFMgPSAxZTksICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAxZTlcclxuXHJcbiAgLy8gQmFzZSBjb252ZXJzaW9uIGFscGhhYmV0LlxyXG4gIE5VTUVSQUxTID0gJzAxMjM0NTY3ODlhYmNkZWYnLFxyXG5cclxuICAvLyBUaGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgMTAgKDEwMjUgZGlnaXRzKS5cclxuICBMTjEwID0gJzIuMzAyNTg1MDkyOTk0MDQ1Njg0MDE3OTkxNDU0Njg0MzY0MjA3NjAxMTAxNDg4NjI4NzcyOTc2MDMzMzI3OTAwOTY3NTcyNjA5Njc3MzUyNDgwMjM1OTk3MjA1MDg5NTk4Mjk4MzQxOTY3Nzg0MDQyMjg2MjQ4NjMzNDA5NTI1NDY1MDgyODA2NzU2NjY2Mjg3MzY5MDk4NzgxNjg5NDgyOTA3MjA4MzI1NTU0NjgwODQzNzk5ODk0ODI2MjMzMTk4NTI4MzkzNTA1MzA4OTY1Mzc3NzMyNjI4ODQ2MTYzMzY2MjIyMjg3Njk4MjE5ODg2NzQ2NTQzNjY3NDc0NDA0MjQzMjc0MzY1MTU1MDQ4OTM0MzE0OTM5MzkxNDc5NjE5NDA0NDAwMjIyMTA1MTAxNzE0MTc0ODAwMzY4ODA4NDAxMjY0NzA4MDY4NTU2Nzc0MzIxNjIyODM1NTIyMDExNDgwNDY2MzcxNTY1OTEyMTM3MzQ1MDc0Nzg1Njk0NzY4MzQ2MzYxNjc5MjEwMTgwNjQ0NTA3MDY0ODAwMDI3NzUwMjY4NDkxNjc0NjU1MDU4Njg1NjkzNTY3MzQyMDY3MDU4MTEzNjQyOTIyNDU1NDQwNTc1ODkyNTcyNDIwODI0MTMxNDY5NTY4OTAxNjc1ODk0MDI1Njc3NjMxMTM1NjkxOTI5MjAzMzM3NjU4NzE0MTY2MDIzMDEwNTcwMzA4OTYzNDU3MjA3NTQ0MDM3MDg0NzQ2OTk0MDE2ODI2OTI4MjgwODQ4MTE4NDI4OTMxNDg0ODUyNDk0ODY0NDg3MTkyNzgwOTY3NjI3MTI3NTc3NTM5NzAyNzY2ODYwNTk1MjQ5NjcxNjY3NDE4MzQ4NTcwNDQyMjUwNzE5Nzk2NTAwNDcxNDk1MTA1MDQ5MjIxNDc3NjU2NzYzNjkzODY2Mjk3Njk3OTUyMjExMDcxODI2NDU0OTczNDc3MjY2MjQyNTcwOTQyOTMyMjU4Mjc5ODUwMjU4NTUwOTc4NTI2NTM4MzIwNzYwNjcyNjMxNzE2NDMwOTUwNTk5NTA4NzgwNzUyMzcxMDMzMzEwMTE5Nzg1NzU0NzMzMTU0MTQyMTgwODQyNzU0Mzg2MzU5MTc3ODExNzA1NDMwOTgyNzQ4MjM4NTA0NTY0ODAxOTA5NTYxMDI5OTI5MTgyNDMxODIzNzUyNTM1NzcwOTc1MDUzOTU2NTE4NzY5NzUxMDM3NDk3MDg4ODY5MjE4MDIwNTE4OTMzOTUwNzIzODUzOTIwNTE0NDYzNDE5NzI2NTI4NzI4Njk2NTExMDg2MjU3MTQ5MjE5ODg0OTk3ODc0ODg3Mzc3MTM0NTY4NjIwOTE2NzA1OCcsXHJcblxyXG4gIC8vIFBpICgxMDI1IGRpZ2l0cykuXHJcbiAgUEkgPSAnMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjkzOTkzNzUxMDU4MjA5NzQ5NDQ1OTIzMDc4MTY0MDYyODYyMDg5OTg2MjgwMzQ4MjUzNDIxMTcwNjc5ODIxNDgwODY1MTMyODIzMDY2NDcwOTM4NDQ2MDk1NTA1ODIyMzE3MjUzNTk0MDgxMjg0ODExMTc0NTAyODQxMDI3MDE5Mzg1MjExMDU1NTk2NDQ2MjI5NDg5NTQ5MzAzODE5NjQ0Mjg4MTA5NzU2NjU5MzM0NDYxMjg0NzU2NDgyMzM3ODY3ODMxNjUyNzEyMDE5MDkxNDU2NDg1NjY5MjM0NjAzNDg2MTA0NTQzMjY2NDgyMTMzOTM2MDcyNjAyNDkxNDEyNzM3MjQ1ODcwMDY2MDYzMTU1ODgxNzQ4ODE1MjA5MjA5NjI4MjkyNTQwOTE3MTUzNjQzNjc4OTI1OTAzNjAwMTEzMzA1MzA1NDg4MjA0NjY1MjEzODQxNDY5NTE5NDE1MTE2MDk0MzMwNTcyNzAzNjU3NTk1OTE5NTMwOTIxODYxMTczODE5MzI2MTE3OTMxMDUxMTg1NDgwNzQ0NjIzNzk5NjI3NDk1NjczNTE4ODU3NTI3MjQ4OTEyMjc5MzgxODMwMTE5NDkxMjk4MzM2NzMzNjI0NDA2NTY2NDMwODYwMjEzOTQ5NDYzOTUyMjQ3MzcxOTA3MDIxNzk4NjA5NDM3MDI3NzA1MzkyMTcxNzYyOTMxNzY3NTIzODQ2NzQ4MTg0Njc2Njk0MDUxMzIwMDA1NjgxMjcxNDUyNjM1NjA4Mjc3ODU3NzEzNDI3NTc3ODk2MDkxNzM2MzcxNzg3MjE0Njg0NDA5MDEyMjQ5NTM0MzAxNDY1NDk1ODUzNzEwNTA3OTIyNzk2ODkyNTg5MjM1NDIwMTk5NTYxMTIxMjkwMjE5NjA4NjQwMzQ0MTgxNTk4MTM2Mjk3NzQ3NzEzMDk5NjA1MTg3MDcyMTEzNDk5OTk5OTgzNzI5NzgwNDk5NTEwNTk3MzE3MzI4MTYwOTYzMTg1OTUwMjQ0NTk0NTUzNDY5MDgzMDI2NDI1MjIzMDgyNTMzNDQ2ODUwMzUyNjE5MzExODgxNzEwMTAwMDMxMzc4Mzg3NTI4ODY1ODc1MzMyMDgzODE0MjA2MTcxNzc2NjkxNDczMDM1OTgyNTM0OTA0Mjg3NTU0Njg3MzExNTk1NjI4NjM4ODIzNTM3ODc1OTM3NTE5NTc3ODE4NTc3ODA1MzIxNzEyMjY4MDY2MTMwMDE5Mjc4NzY2MTExOTU5MDkyMTY0MjAxOTg5MzgwOTUyNTcyMDEwNjU0ODU4NjMyNzg5JyxcclxuXHJcblxyXG4gIC8vIFRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBvZiB0aGUgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICBERUZBVUxUUyA9IHtcclxuXHJcbiAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIHN0YXRlZCByYW5nZXMgKGluY2x1c2l2ZSkuXHJcbiAgICAvLyBNb3N0IG9mIHRoZXNlIHZhbHVlcyBjYW4gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyB0aGUgYERlY2ltYWwuY29uZmlnYCBtZXRob2QuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgcmVzdWx0IG9mIGEgY2FsY3VsYXRpb24gb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgLy8gRS5nLiBgRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwIH0pO2BcclxuICAgIHByZWNpc2lvbjogMjAsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYX0RJR0lUU1xyXG5cclxuICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byBgcHJlY2lzaW9uYC5cclxuICAgIC8vXHJcbiAgICAvLyBST1VORF9VUCAgICAgICAgIDAgQXdheSBmcm9tIHplcm8uXHJcbiAgICAvLyBST1VORF9ET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgLy8gUk9VTkRfQ0VJTCAgICAgICAyIFRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfRkxPT1IgICAgICAzIFRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgIC8vIFJPVU5EX0hBTEZfRE9XTiAgNSBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgZG93bi5cclxuICAgIC8vIFJPVU5EX0hBTEZfRVZFTiAgNiBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyBldmVuIG5laWdoYm91ci5cclxuICAgIC8vIFJPVU5EX0hBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9IQUxGX0ZMT09SIDggVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy9cclxuICAgIC8vIEUuZy5cclxuICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gNDtgXHJcbiAgICAvLyBgRGVjaW1hbC5yb3VuZGluZyA9IERlY2ltYWwuUk9VTkRfSEFMRl9VUDtgXHJcbiAgICByb3VuZGluZzogNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgLy9cclxuICAgIC8vIFVQICAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgIC8vIERPV04gICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZCAoSmF2YVNjcmlwdCAlKS5cclxuICAgIC8vIEZMT09SICAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAvLyBIQUxGX0VWRU4gIDYgVGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cclxuICAgIC8vIEVVQ0xJRCAgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuIEFsd2F5cyBwb3NpdGl2ZS5cclxuICAgIC8vXHJcbiAgICAvLyBUcnVuY2F0ZWQgZGl2aXNpb24gKDEpLCBmbG9vcmVkIGRpdmlzaW9uICgzKSwgdGhlIElFRUUgNzU0IHJlbWFpbmRlciAoNiksIGFuZCBFdWNsaWRpYW5cclxuICAgIC8vIGRpdmlzaW9uICg5KSBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLiBUaGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc29cclxuICAgIC8vIGJlIHVzZWQsIGJ1dCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgIG1vZHVsbzogMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOVxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC03XHJcbiAgICB0b0V4cE5lZzogLTcsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1FWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMjFcclxuICAgIHRvRXhwUG9zOiAgMjEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgbWluRTogLUVYUF9MSU1JVCwgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgbWF4RTogRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBFWFBfTElNSVRcclxuXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICBjcnlwdG86IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlL2ZhbHNlXHJcbiAgfSxcclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgRURJVEFCTEUgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuXHJcbiAgaW5leGFjdCwgcXVhZHJhbnQsXHJcbiAgZXh0ZXJuYWwgPSB0cnVlLFxyXG5cclxuICBkZWNpbWFsRXJyb3IgPSAnW0RlY2ltYWxFcnJvcl0gJyxcclxuICBpbnZhbGlkQXJndW1lbnQgPSBkZWNpbWFsRXJyb3IgKyAnSW52YWxpZCBhcmd1bWVudDogJyxcclxuICBwcmVjaXNpb25MaW1pdEV4Y2VlZGVkID0gZGVjaW1hbEVycm9yICsgJ1ByZWNpc2lvbiBsaW1pdCBleGNlZWRlZCcsXHJcbiAgY3J5cHRvVW5hdmFpbGFibGUgPSBkZWNpbWFsRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyxcclxuXHJcbiAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuICBtYXRocG93ID0gTWF0aC5wb3csXHJcblxyXG4gIGlzQmluYXJ5ID0gL14wYihbMDFdKyhcXC5bMDFdKik/fFxcLlswMV0rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNIZXggPSAvXjB4KFswLTlhLWZdKyhcXC5bMC05YS1mXSopP3xcXC5bMC05YS1mXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc09jdGFsID0gL14wbyhbMC03XSsoXFwuWzAtN10qKT98XFwuWzAtN10rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNEZWNpbWFsID0gL14oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxyXG5cclxuICBCQVNFID0gMWU3LFxyXG4gIExPR19CQVNFID0gNyxcclxuICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcclxuXHJcbiAgTE4xMF9QUkVDSVNJT04gPSBMTjEwLmxlbmd0aCAtIDEsXHJcbiAgUElfUFJFQ0lTSU9OID0gUEkubGVuZ3RoIC0gMSxcclxuXHJcbiAgLy8gRGVjaW1hbC5wcm90b3R5cGUgb2JqZWN0XHJcbiAgUCA9IHsgbmFtZTogJ1tvYmplY3QgRGVjaW1hbF0nIH07XHJcblxyXG5cclxuLy8gRGVjaW1hbCBwcm90b3R5cGUgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgIGFic1xyXG4gKiAgY2VpbFxyXG4gKiAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICBjbXBcclxuICogIGNvc2luZSAgICAgICAgICAgICAgICAgICAgY29zXHJcbiAqICBjdWJlUm9vdCAgICAgICAgICAgICAgICAgIGNicnRcclxuICogIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICAgZHBcclxuICogIGRpdmlkZWRCeSAgICAgICAgICAgICAgICAgZGl2XHJcbiAqICBkaXZpZGVkVG9JbnRlZ2VyQnkgICAgICAgIGRpdlRvSW50XHJcbiAqICBlcXVhbHMgICAgICAgICAgICAgICAgICAgIGVxXHJcbiAqICBmbG9vclxyXG4gKiAgZ3JlYXRlclRoYW4gICAgICAgICAgICAgICBndFxyXG4gKiAgZ3JlYXRlclRoYW5PckVxdWFsVG8gICAgICBndGVcclxuICogIGh5cGVyYm9saWNDb3NpbmUgICAgICAgICAgY29zaFxyXG4gKiAgaHlwZXJib2xpY1NpbmUgICAgICAgICAgICBzaW5oXHJcbiAqICBoeXBlcmJvbGljVGFuZ2VudCAgICAgICAgIHRhbmhcclxuICogIGludmVyc2VDb3NpbmUgICAgICAgICAgICAgYWNvc1xyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgICBhY29zaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNTaW5lICAgICBhc2luaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ICBhdGFuaFxyXG4gKiAgaW52ZXJzZVNpbmUgICAgICAgICAgICAgICBhc2luXHJcbiAqICBpbnZlcnNlVGFuZ2VudCAgICAgICAgICAgIGF0YW5cclxuICogIGlzRmluaXRlXHJcbiAqICBpc0ludGVnZXIgICAgICAgICAgICAgICAgIGlzSW50XHJcbiAqICBpc05hTlxyXG4gKiAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICBpc05lZ1xyXG4gKiAgaXNQb3NpdGl2ZSAgICAgICAgICAgICAgICBpc1Bvc1xyXG4gKiAgaXNaZXJvXHJcbiAqICBsZXNzVGhhbiAgICAgICAgICAgICAgICAgIGx0XHJcbiAqICBsZXNzVGhhbk9yRXF1YWxUbyAgICAgICAgIGx0ZVxyXG4gKiAgbG9nYXJpdGhtICAgICAgICAgICAgICAgICBsb2dcclxuICogIFttYXhpbXVtXSAgICAgICAgICAgICAgICAgW21heF1cclxuICogIFttaW5pbXVtXSAgICAgICAgICAgICAgICAgW21pbl1cclxuICogIG1pbnVzICAgICAgICAgICAgICAgICAgICAgc3ViXHJcbiAqICBtb2R1bG8gICAgICAgICAgICAgICAgICAgIG1vZFxyXG4gKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgICBleHBcclxuICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICAgbG5cclxuICogIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgbmVnXHJcbiAqICBwbHVzICAgICAgICAgICAgICAgICAgICAgIGFkZFxyXG4gKiAgcHJlY2lzaW9uICAgICAgICAgICAgICAgICBzZFxyXG4gKiAgcm91bmRcclxuICogIHNpbmUgICAgICAgICAgICAgICAgICAgICAgc2luXHJcbiAqICBzcXVhcmVSb290ICAgICAgICAgICAgICAgIHNxcnRcclxuICogIHRhbmdlbnQgICAgICAgICAgICAgICAgICAgdGFuXHJcbiAqICB0aW1lcyAgICAgICAgICAgICAgICAgICAgIG11bFxyXG4gKiAgdG9CaW5hcnlcclxuICogIHRvRGVjaW1hbFBsYWNlcyAgICAgICAgICAgdG9EUFxyXG4gKiAgdG9FeHBvbmVudGlhbFxyXG4gKiAgdG9GaXhlZFxyXG4gKiAgdG9GcmFjdGlvblxyXG4gKiAgdG9IZXhhZGVjaW1hbCAgICAgICAgICAgICB0b0hleFxyXG4gKiAgdG9OZWFyZXN0XHJcbiAqICB0b051bWJlclxyXG4gKiAgdG9PY3RhbFxyXG4gKiAgdG9Qb3dlciAgICAgICAgICAgICAgICAgICBwb3dcclxuICogIHRvUHJlY2lzaW9uXHJcbiAqICB0b1NpZ25pZmljYW50RGlnaXRzICAgICAgIHRvU0RcclxuICogIHRvU3RyaW5nXHJcbiAqICB0cnVuY2F0ZWQgICAgICAgICAgICAgICAgIHRydW5jXHJcbiAqICB2YWx1ZU9mICAgICAgICAgICAgICAgICAgIHRvSlNPTlxyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICByZXR1cm4gZmluYWxpc2UoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgcG9zaXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmNlaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5cclxuICogICAxICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqICAtMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gKiAgIDAgICAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLFxyXG4gKiAgIE5hTiAgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBEZWNpbWFsIGlzIE5hTi5cclxuICpcclxuICovXHJcblAuY29tcGFyZWRUbyA9IFAuY21wID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgaSwgaiwgeGRMLCB5ZEwsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgeWQgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5kLFxyXG4gICAgeHMgPSB4LnMsXHJcbiAgICB5cyA9IHkucztcclxuXHJcbiAgLy8gRWl0aGVyIE5hTiBvciDCsUluZmluaXR5P1xyXG4gIGlmICgheGQgfHwgIXlkKSB7XHJcbiAgICByZXR1cm4gIXhzIHx8ICF5cyA/IE5hTiA6IHhzICE9PSB5cyA/IHhzIDogeGQgPT09IHlkID8gMCA6ICF4ZCBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICB9XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSByZXR1cm4geGRbMF0gPyB4cyA6IHlkWzBdID8gLXlzIDogMDtcclxuXHJcbiAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gIGlmICh4cyAhPT0geXMpIHJldHVybiB4cztcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKHguZSAhPT0geS5lKSByZXR1cm4geC5lID4geS5lIF4geHMgPCAwID8gMSA6IC0xO1xyXG5cclxuICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gIGZvciAoaSA9IDAsIGogPSB4ZEwgPCB5ZEwgPyB4ZEwgOiB5ZEw7IGkgPCBqOyArK2kpIHtcclxuICAgIGlmICh4ZFtpXSAhPT0geWRbaV0pIHJldHVybiB4ZFtpXSA+IHlkW2ldIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gIHJldHVybiB4ZEwgPT09IHlkTCA/IDAgOiB4ZEwgPiB5ZEwgXiB4cyA8IDAgPyAxIDogLTE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIGNvcygwKSAgICAgICAgID0gMVxyXG4gKiBjb3MoLTApICAgICAgICA9IDFcclxuICogY29zKEluZmluaXR5KSAgPSBOYU5cclxuICogY29zKC1JbmZpbml0eSkgPSBOYU5cclxuICogY29zKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuY29zaW5lID0gUC5jb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5kKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gY29zKDApID0gY29zKC0wKSA9IDFcclxuICBpZiAoIXguZFswXSkgcmV0dXJuIG5ldyBDdG9yKDEpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBjb3NpbmUoQ3RvciwgdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSAzID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqICBjYnJ0KDApICA9ICAwXHJcbiAqICBjYnJ0KC0wKSA9IC0wXHJcbiAqICBjYnJ0KDEpICA9ICAxXHJcbiAqICBjYnJ0KC0xKSA9IC0xXHJcbiAqICBjYnJ0KE4pICA9ICBOXHJcbiAqICBjYnJ0KC1JKSA9IC1JXHJcbiAqICBjYnJ0KEkpICA9ICBJXHJcbiAqXHJcbiAqIE1hdGguY2JydCh4KSA9ICh4IDwgMCA/IC1NYXRoLnBvdygteCwgMS8zKSA6IE1hdGgucG93KHgsIDEvMykpXHJcbiAqXHJcbiAqL1xyXG5QLmN1YmVSb290ID0gUC5jYnJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBlLCBtLCBuLCByLCByZXAsIHMsIHNkLCB0LCB0MywgdDNwbHVzeCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSB4LnMgKiBtYXRocG93KHgucyAqIHgsIDEgLyAzKTtcclxuXHJcbiAgIC8vIE1hdGguY2JydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgIC8vIFBhc3MgeCB0byBNYXRoLnBvdyBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICBpZiAoIXMgfHwgTWF0aC5hYnMocykgPT0gMSAvIDApIHtcclxuICAgIG4gPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgZSA9IHguZTtcclxuXHJcbiAgICAvLyBBZGp1c3QgbiBleHBvbmVudCBzbyBpdCBpcyBhIG11bHRpcGxlIG9mIDMgYXdheSBmcm9tIHggZXhwb25lbnQuXHJcbiAgICBpZiAocyA9IChlIC0gbi5sZW5ndGggKyAxKSAlIDMpIG4gKz0gKHMgPT0gMSB8fCBzID09IC0yID8gJzAnIDogJzAwJyk7XHJcbiAgICBzID0gbWF0aHBvdyhuLCAxIC8gMyk7XHJcblxyXG4gICAgLy8gUmFyZWx5LCBlIG1heSBiZSBvbmUgbGVzcyB0aGFuIHRoZSByZXN1bHQgZXhwb25lbnQgdmFsdWUuXHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAzKSAtIChlICUgMyA9PSAoZSA8IDAgPyAtMSA6IDIpKTtcclxuXHJcbiAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gJzVlJyArIGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgfVxyXG5cclxuICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICAgIHIucyA9IHgucztcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgLy8gSGFsbGV5J3MgbWV0aG9kLlxyXG4gIC8vIFRPRE8/IENvbXBhcmUgTmV3dG9uJ3MgbWV0aG9kLlxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSByO1xyXG4gICAgdDMgPSB0LnRpbWVzKHQpLnRpbWVzKHQpO1xyXG4gICAgdDNwbHVzeCA9IHQzLnBsdXMoeCk7XHJcbiAgICByID0gZGl2aWRlKHQzcGx1c3gucGx1cyh4KS50aW1lcyh0KSwgdDNwbHVzeC5wbHVzKHQzKSwgc2QgKyAyLCAxKTtcclxuXHJcbiAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvciA0OTk5XHJcbiAgICAgIC8vICwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHcsXHJcbiAgICBkID0gdGhpcy5kLFxyXG4gICAgbiA9IE5hTjtcclxuXHJcbiAgaWYgKGQpIHtcclxuICAgIHcgPSBkLmxlbmd0aCAtIDE7XHJcbiAgICBuID0gKHcgLSBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpKSAqIExPR19CQVNFO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3Qgd29yZC5cclxuICAgIHcgPSBkW3ddO1xyXG4gICAgaWYgKHcpIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbi0tO1xyXG4gICAgaWYgKG4gPCAwKSBuID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBuO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuIC8gMCA9IElcclxuICogIG4gLyBOID0gTlxyXG4gKiAgbiAvIEkgPSAwXHJcbiAqICAwIC8gbiA9IDBcclxuICogIDAgLyAwID0gTlxyXG4gKiAgMCAvIE4gPSBOXHJcbiAqICAwIC8gSSA9IDBcclxuICogIE4gLyBuID0gTlxyXG4gKiAgTiAvIDAgPSBOXHJcbiAqICBOIC8gTiA9IE5cclxuICogIE4gLyBJID0gTlxyXG4gKiAgSSAvIG4gPSBJXHJcbiAqICBJIC8gMCA9IElcclxuICogIEkgLyBOID0gTlxyXG4gKiAgSSAvIEkgPSBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiBkaXZpZGUodGhpcywgbmV3IHRoaXMuY29uc3RydWN0b3IoeSkpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbFxyXG4gKiBieSB0aGUgdmFsdWUgb2YgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuZGl2VG9JbnQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIHJldHVybiBmaW5hbGlzZShkaXZpZGUoeCwgbmV3IEN0b3IoeSksIDAsIDEsIDEpLCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5lcXVhbHMgPSBQLmVxID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgbmVnYXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmZsb29yID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCwgb3RoZXJ3aXNlIHJldHVyblxyXG4gKiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZ3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBrID0gdGhpcy5jbXAoeSk7XHJcbiAgcmV0dXJuIGsgPT0gMSB8fCBrID09PSAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbMSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGNvc2goeCkgPSAxICsgeF4yLzIhICsgeF40LzQhICsgeF42LzYhICsgLi4uXHJcbiAqXHJcbiAqIGNvc2goMCkgICAgICAgICA9IDFcclxuICogY29zaCgtMCkgICAgICAgID0gMVxyXG4gKiBjb3NoKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBjb3NoKC1JbmZpbml0eSkgPSBJbmZpbml0eVxyXG4gKiBjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKSAgIHJlc3VsdFxyXG4gKiAxMDAwICAgICAgOSAgICAgICAgICAgICAgICAgOS44NTAzNTU1NzAwODUyMzQ5Njk0ZSs0MzNcclxuICogMTAwMDAgICAgIDI1ICAgICAgICAgICAgICAgIDQuNDAzNDA5MTEyODMxNDYwNzkzNmUrNDM0MlxyXG4gKiAxMDAwMDAgICAgMTcxICAgICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAxMDAwMDAwICAgMzgxNyAgICAgICAgICAgICAgMS41MTY2MDc2OTg0MDEwNDM3NzI1ZSs0MzQyOTRcclxuICogMTAwMDAwMDAgIGFiYW5kb25lZCBhZnRlciAyIG1pbnV0ZSB3YWl0XHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgY29zaCh4KSA9IDAuNSAqIChleHAoeCkgKyBleHAoLXgpKVxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljQ29zaW5lID0gUC5jb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBrLCBuLCBwciwgcm0sIGxlbixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBvbmUgPSBuZXcgQ3RvcigxKTtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4LnMgPyAxIC8gMCA6IE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBvbmU7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDEgLSA4Y29zXjIoeCkgKyA4Y29zXjQoeCkgKyAxXHJcbiAgLy8gaS5lLiBjb3MoeCkgPSAxIC0gY29zXjIoeC80KSg4IC0gOGNvc14yKHgvNCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAvLyBUT0RPPyBFc3RpbWF0aW9uIHJldXNlZCBmcm9tIGNvc2luZSgpIGFuZCBtYXkgbm90IGJlIG9wdGltYWwgaGVyZS5cclxuICBpZiAobGVuIDwgMzIpIHtcclxuICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICBuID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gMTY7XHJcbiAgICBuID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gIH1cclxuXHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKG4pLCBuZXcgQ3RvcigxKSwgdHJ1ZSk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgdmFyIGNvc2gyX3gsXHJcbiAgICBpID0gayxcclxuICAgIGQ4ID0gbmV3IEN0b3IoOCk7XHJcbiAgZm9yICg7IGktLTspIHtcclxuICAgIGNvc2gyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IG9uZS5taW51cyhjb3NoMl94LnRpbWVzKGQ4Lm1pbnVzKGNvc2gyX3gudGltZXMoZDgpKSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogc2luaCh4KSA9IHggKyB4XjMvMyEgKyB4XjUvNSEgKyB4XjcvNyEgKyAuLi5cclxuICpcclxuICogc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBzaW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBzaW5oKC1JbmZpbml0eSkgPSAtSW5maW5pdHlcclxuICogc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKVxyXG4gKiAxMCAgICAgICAyIG1zXHJcbiAqIDEwMCAgICAgIDUgbXNcclxuICogMTAwMCAgICAgMTQgbXNcclxuICogMTAwMDAgICAgODIgbXNcclxuICogMTAwMDAwICAgODg2IG1zICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAyMDAwMDAgICAyNjEzIG1zXHJcbiAqIDMwMDAwMCAgIDU0MDcgbXNcclxuICogNDAwMDAwICAgODgyNCBtc1xyXG4gKiA1MDAwMDAgICAxMzAyNiBtcyAgICAgICAgICA4LjcwODA2NDM2MTI3MTgwODQxMjllKzIxNzE0NlxyXG4gKiAxMDAwMDAwICA0ODU0MyBtc1xyXG4gKlxyXG4gKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIHNpbmgoeCkgPSAwLjUgKiAoZXhwKHgpIC0gZXhwKC14KSlcclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY1NpbmUgPSBQLnNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGssIHByLCBybSwgbGVuLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICBpZiAobGVuIDwgMykge1xyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIEFsdGVybmF0aXZlIGFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCgzeCkgPSBzaW5oKHgpKDMgKyA0c2luaF4yKHgpKVxyXG4gICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzMpKDMgKyA0c2luaF4yKHgvMykpXHJcbiAgICAvLyAzIG11bHRpcGxpY2F0aW9ucyBhbmQgMSBhZGRpdGlvblxyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCg1eCkgPSBzaW5oKHgpKDUgKyBzaW5oXjIoeCkoMjAgKyAxNnNpbmheMih4KSkpXHJcbiAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvNSkoNSArIHNpbmheMih4LzUpKDIwICsgMTZzaW5oXjIoeC81KSkpXHJcbiAgICAvLyA0IG11bHRpcGxpY2F0aW9ucyBhbmQgMiBhZGRpdGlvbnNcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgICB4ID0geC50aW1lcygxIC8gdGlueVBvdyg1LCBrKSk7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG5cclxuICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICB2YXIgc2luaDJfeCxcclxuICAgICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgICBmb3IgKDsgay0tOykge1xyXG4gICAgICBzaW5oMl94ID0geC50aW1lcyh4KTtcclxuICAgICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW5oMl94LnRpbWVzKGQxNi50aW1lcyhzaW5oMl94KS5wbHVzKGQyMCkpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIHRhbmgoeCkgPSBzaW5oKHgpIC8gY29zaCh4KVxyXG4gKlxyXG4gKiB0YW5oKDApICAgICAgICAgPSAwXHJcbiAqIHRhbmgoLTApICAgICAgICA9IC0wXHJcbiAqIHRhbmgoSW5maW5pdHkpICA9IDFcclxuICogdGFuaCgtSW5maW5pdHkpID0gLTFcclxuICogdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNUYW5nZW50ID0gUC50YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyk7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDc7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHJldHVybiBkaXZpZGUoeC5zaW5oKCksIHguY29zaCgpLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgKGludmVyc2UgY29zaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZlxyXG4gKiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy0xLCAxXVxyXG4gKiBSYW5nZTogWzAsIHBpXVxyXG4gKlxyXG4gKiBhY29zKHgpID0gcGkvMiAtIGFzaW4oeClcclxuICpcclxuICogYWNvcygwKSAgICAgICA9IHBpLzJcclxuICogYWNvcygtMCkgICAgICA9IHBpLzJcclxuICogYWNvcygxKSAgICAgICA9IDBcclxuICogYWNvcygtMSkgICAgICA9IHBpXHJcbiAqIGFjb3MoMS8yKSAgICAgPSBwaS8zXHJcbiAqIGFjb3MoLTEvMikgICAgPSAyKnBpLzNcclxuICogYWNvcyh8eHwgPiAxKSA9IE5hTlxyXG4gKiBhY29zKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VDb3NpbmUgPSBQLmFjb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBrID0geC5hYnMoKS5jbXAoMSksXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoayAhPT0gLTEpIHtcclxuICAgIHJldHVybiBrID09PSAwXHJcbiAgICAgIC8vIHx4fCBpcyAxXHJcbiAgICAgID8geC5pc05lZygpID8gZ2V0UGkoQ3RvciwgcHIsIHJtKSA6IG5ldyBDdG9yKDApXHJcbiAgICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgICAgOiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYWNvcygwLjUpID0gcGkvMyBhbmQgYWNvcygtMC41KSA9IDIqcGkvM1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguYXNpbigpO1xyXG4gIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gaGFsZlBpLm1pbnVzKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBpbiByYWRpYW5zIG9mIHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWzEsIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWzAsIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhY29zaCh4KSA9IGxuKHggKyBzcXJ0KHheMiAtIDEpKVxyXG4gKlxyXG4gKiBhY29zaCh4IDwgMSkgICAgID0gTmFOXHJcbiAqIGFjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICogYWNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGFjb3NoKC1JbmZpbml0eSkgPSBOYU5cclxuICogYWNvc2goMCkgICAgICAgICA9IE5hTlxyXG4gKiBhY29zaCgtMCkgICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKDEpICAgICAgICAgPSAwXHJcbiAqIGFjb3NoKC0xKSAgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgPSBQLmFjb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoeC5sdGUoMSkpIHJldHVybiBuZXcgQ3Rvcih4LmVxKDEpID8gMCA6IE5hTik7XHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLm1pbnVzKDEpLnNxcnQoKS5wbHVzKHgpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LmxuKCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXNpbmgoeCkgPSBsbih4ICsgc3FydCh4XjIgKyAxKSlcclxuICpcclxuICogYXNpbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogYXNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gKiBhc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBhc2luaCgtMCkgICAgICAgID0gLTBcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNTaW5lID0gUC5hc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgMiAqIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgubG4oKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyB0YW5nZW50IGluIHJhZGlhbnMgb2YgdGhlXHJcbiAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLTEsIDFdXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXRhbmgoeCkgPSAwLjUgKiBsbigoMSArIHgpIC8gKDEgLSB4KSlcclxuICpcclxuICogYXRhbmgofHh8ID4gMSkgICA9IE5hTlxyXG4gKiBhdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGF0YW5oKEluZmluaXR5KSAgPSBOYU5cclxuICogYXRhbmgoLUluZmluaXR5KSA9IE5hTlxyXG4gKiBhdGFuaCgwKSAgICAgICAgID0gMFxyXG4gKiBhdGFuaCgtMCkgICAgICAgID0gLTBcclxuICogYXRhbmgoMSkgICAgICAgICA9IEluZmluaXR5XHJcbiAqIGF0YW5oKC0xKSAgICAgICAgPSAtSW5maW5pdHlcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ID0gUC5hdGFuaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLCB3cHIsIHhzZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5lID49IDApIHJldHVybiBuZXcgQ3Rvcih4LmFicygpLmVxKDEpID8geC5zIC8gMCA6IHguaXNaZXJvKCkgPyB4IDogTmFOKTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgeHNkID0geC5zZCgpO1xyXG5cclxuICBpZiAoTWF0aC5tYXgoeHNkLCBwcikgPCAyICogLXguZSAtIDEpIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgcHIsIHJtLCB0cnVlKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSB4c2QgLSB4LmU7XHJcblxyXG4gIHggPSBkaXZpZGUoeC5wbHVzKDEpLCBuZXcgQ3RvcigxKS5taW51cyh4KSwgd3ByICsgcHIsIDEpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHgubG4oKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LnRpbWVzKDAuNSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgKGludmVyc2Ugc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waS8yLCBwaS8yXVxyXG4gKlxyXG4gKiBhc2luKHgpID0gMiphdGFuKHgvKDEgKyBzcXJ0KDEgLSB4XjIpKSlcclxuICpcclxuICogYXNpbigwKSAgICAgICA9IDBcclxuICogYXNpbigtMCkgICAgICA9IC0wXHJcbiAqIGFzaW4oMS8yKSAgICAgPSBwaS82XHJcbiAqIGFzaW4oLTEvMikgICAgPSAtcGkvNlxyXG4gKiBhc2luKDEpICAgICAgID0gcGkvMlxyXG4gKiBhc2luKC0xKSAgICAgID0gLXBpLzJcclxuICogYXNpbih8eHwgPiAxKSA9IE5hTlxyXG4gKiBhc2luKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgVGF5bG9yIHNlcmllcy5cclxuICpcclxuICovXHJcblAuaW52ZXJzZVNpbmUgPSBQLmFzaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSwgayxcclxuICAgIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGsgPSB4LmFicygpLmNtcCgxKTtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKGsgIT09IC0xKSB7XHJcblxyXG4gICAgLy8gfHh8IGlzIDFcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgIGhhbGZQaS5zID0geC5zO1xyXG4gICAgICByZXR1cm4gaGFsZlBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFzaW4oMS8yKSA9IHBpLzYgYW5kIGFzaW4oLTEvMikgPSAtcGkvNlxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguZGl2KG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKS5wbHVzKDEpKS5hdGFuKCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC50aW1lcygyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCAoaW52ZXJzZSB0YW5nZW50KSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAqXHJcbiAqIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAqXHJcbiAqIGF0YW4oMCkgICAgICAgICA9IDBcclxuICogYXRhbigtMCkgICAgICAgID0gLTBcclxuICogYXRhbigxKSAgICAgICAgID0gcGkvNFxyXG4gKiBhdGFuKC0xKSAgICAgICAgPSAtcGkvNFxyXG4gKiBhdGFuKEluZmluaXR5KSAgPSBwaS8yXHJcbiAqIGF0YW4oLUluZmluaXR5KSA9IC1waS8yXHJcbiAqIGF0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlVGFuZ2VudCA9IFAuYXRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaSwgaiwgaywgbiwgcHgsIHQsIHIsIHdwciwgeDIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHtcclxuICAgIGlmICgheC5zKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmIChwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICByLnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoeC5pc1plcm8oKSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG4gIH0gZWxzZSBpZiAoeC5hYnMoKS5lcSgxKSAmJiBwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC4yNSk7XHJcbiAgICByLnMgPSB4LnM7XHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgLy8gVE9ETz8gaWYgKHggPj0gMSAmJiBwciA8PSBQSV9QUkVDSVNJT04pIGF0YW4oeCkgPSBoYWxmUGkgKiB4LnMgLSBhdGFuKDEgLyB4KTtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgLy8gRW5zdXJlIHx4fCA8IDAuNDJcclxuICAvLyBhdGFuKHgpID0gMiAqIGF0YW4oeCAvICgxICsgc3FydCgxICsgeF4yKSkpXHJcblxyXG4gIGsgPSBNYXRoLm1pbigyOCwgd3ByIC8gTE9HX0JBU0UgKyAyIHwgMCk7XHJcblxyXG4gIGZvciAoaSA9IGs7IGk7IC0taSkgeCA9IHguZGl2KHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cygxKSk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGogPSBNYXRoLmNlaWwod3ByIC8gTE9HX0JBU0UpO1xyXG4gIG4gPSAxO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICByID0gbmV3IEN0b3IoeCk7XHJcbiAgcHggPSB4O1xyXG5cclxuICAvLyBhdGFuKHgpID0geCAtIHheMy8zICsgeF41LzUgLSB4XjcvNyArIC4uLlxyXG4gIGZvciAoOyBpICE9PSAtMTspIHtcclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgdCA9IHIubWludXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgciA9IHQucGx1cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgaWYgKHIuZFtqXSAhPT0gdm9pZCAwKSBmb3IgKGkgPSBqOyByLmRbaV0gPT09IHQuZFtpXSAmJiBpLS07KTtcclxuICB9XHJcblxyXG4gIGlmIChrKSByID0gci50aW1lcygyIDw8IChrIC0gMSkpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLmQ7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5kLmxlbmd0aCAtIDI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBOYU4sIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhdGhpcy5zO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmVnYXRpdmUgPSBQLmlzTmVnID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPCAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgcG9zaXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzUG9zaXRpdmUgPSBQLmlzUG9zID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiB0aGlzLmRbMF0gPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbiA9IFAubHQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAxO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdG8gdGhlIHNwZWNpZmllZCBiYXNlLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIElmIG5vIGJhc2UgaXMgc3BlY2lmaWVkLCByZXR1cm4gbG9nWzEwXShhcmcpLlxyXG4gKlxyXG4gKiBsb2dbYmFzZV0oYXJnKSA9IGxuKGFyZykgLyBsbihiYXNlKVxyXG4gKlxyXG4gKiBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkIGlmIHRoZSBiYXNlIG9mIHRoZSBsb2cgaXMgMTAsIGFuZCAnYWxtb3N0IGFsd2F5cydcclxuICogb3RoZXJ3aXNlOlxyXG4gKlxyXG4gKiBEZXBlbmRpbmcgb24gdGhlIHJvdW5kaW5nIG1vZGUsIHRoZSByZXN1bHQgbWF5IGJlIGluY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGZpcnN0IGZpZnRlZW5cclxuICogcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OTk5OTk5OTk5OTkgb3IgWzUwXTAwMDAwMDAwMDAwMDAwLiBJbiB0aGF0IGNhc2UsIHRoZSBtYXhpbXVtIGVycm9yXHJcbiAqIGJldHdlZW4gdGhlIHJlc3VsdCBhbmQgdGhlIGNvcnJlY3RseSByb3VuZGVkIHJlc3VsdCB3aWxsIGJlIG9uZSB1bHAgKHVuaXQgaW4gdGhlIGxhc3QgcGxhY2UpLlxyXG4gKlxyXG4gKiBsb2dbLWJdKGEpICAgICAgID0gTmFOXHJcbiAqIGxvZ1swXShhKSAgICAgICAgPSBOYU5cclxuICogbG9nWzFdKGEpICAgICAgICA9IE5hTlxyXG4gKiBsb2dbTmFOXShhKSAgICAgID0gTmFOXHJcbiAqIGxvZ1tJbmZpbml0eV0oYSkgPSBOYU5cclxuICogbG9nW2JdKDApICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiBsb2dbYl0oLTApICAgICAgID0gLUluZmluaXR5XHJcbiAqIGxvZ1tiXSgtYSkgICAgICAgPSBOYU5cclxuICogbG9nW2JdKDEpICAgICAgICA9IDBcclxuICogbG9nW2JdKEluZmluaXR5KSA9IEluZmluaXR5XHJcbiAqIGxvZ1tiXShOYU4pICAgICAgPSBOYU5cclxuICpcclxuICogW2Jhc2VdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqXHJcbiAqL1xyXG5QLmxvZ2FyaXRobSA9IFAubG9nID0gZnVuY3Rpb24gKGJhc2UpIHtcclxuICB2YXIgaXNCYXNlMTAsIGQsIGRlbm9taW5hdG9yLCBrLCBpbmYsIG51bSwgc2QsIHIsXHJcbiAgICBhcmcgPSB0aGlzLFxyXG4gICAgQ3RvciA9IGFyZy5jb25zdHJ1Y3RvcixcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBndWFyZCA9IDU7XHJcblxyXG4gIC8vIERlZmF1bHQgYmFzZSBpcyAxMC5cclxuICBpZiAoYmFzZSA9PSBudWxsKSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoMTApO1xyXG4gICAgaXNCYXNlMTAgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoYmFzZSk7XHJcbiAgICBkID0gYmFzZS5kO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYmFzZSBpcyBuZWdhdGl2ZSwgb3Igbm9uLWZpbml0ZSwgb3IgaXMgMCBvciAxLlxyXG4gICAgaWYgKGJhc2UucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYmFzZS5lcSgxKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgaXNCYXNlMTAgPSBiYXNlLmVxKDEwKTtcclxuICB9XHJcblxyXG4gIGQgPSBhcmcuZDtcclxuXHJcbiAgLy8gSXMgYXJnIG5lZ2F0aXZlLCBub24tZmluaXRlLCAwIG9yIDE/XHJcbiAgaWYgKGFyZy5zIDwgMCB8fCAhZCB8fCAhZFswXSB8fCBhcmcuZXEoMSkpIHtcclxuICAgIHJldHVybiBuZXcgQ3RvcihkICYmICFkWzBdID8gLTEgLyAwIDogYXJnLnMgIT0gMSA/IE5hTiA6IGQgPyAwIDogMSAvIDApO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhlIHJlc3VsdCB3aWxsIGhhdmUgYSBub24tdGVybWluYXRpbmcgZGVjaW1hbCBleHBhbnNpb24gaWYgYmFzZSBpcyAxMCBhbmQgYXJnIGlzIG5vdCBhblxyXG4gIC8vIGludGVnZXIgcG93ZXIgb2YgMTAuXHJcbiAgaWYgKGlzQmFzZTEwKSB7XHJcbiAgICBpZiAoZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGluZiA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGsgPSBkWzBdOyBrICUgMTAgPT09IDA7KSBrIC89IDEwO1xyXG4gICAgICBpbmYgPSBrICE9PSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBzZCA9IHByICsgZ3VhcmQ7XHJcbiAgbnVtID0gbmF0dXJhbExvZ2FyaXRobShhcmcsIHNkKTtcclxuICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG5cclxuICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSA1IHJvdW5kaW5nIGRpZ2l0cy5cclxuICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgLy8gSWYgYXQgYSByb3VuZGluZyBib3VuZGFyeSwgaS5lLiB0aGUgcmVzdWx0J3Mgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCxcclxuICAvLyBjYWxjdWxhdGUgMTAgZnVydGhlciBkaWdpdHMuXHJcbiAgLy9cclxuICAvLyBJZiB0aGUgcmVzdWx0IGlzIGtub3duIHRvIGhhdmUgYW4gaW5maW5pdGUgZGVjaW1hbCBleHBhbnNpb24sIHJlcGVhdCB0aGlzIHVudGlsIGl0IGlzIGNsZWFyXHJcbiAgLy8gdGhhdCB0aGUgcmVzdWx0IGlzIGFib3ZlIG9yIGJlbG93IHRoZSBib3VuZGFyeS4gT3RoZXJ3aXNlLCBpZiBhZnRlciBjYWxjdWxhdGluZyB0aGUgMTBcclxuICAvLyBmdXJ0aGVyIGRpZ2l0cywgdGhlIGxhc3QgMTQgYXJlIG5pbmVzLCByb3VuZCB1cCBhbmQgYXNzdW1lIHRoZSByZXN1bHQgaXMgZXhhY3QuXHJcbiAgLy8gQWxzbyBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdCBpZiB0aGUgbGFzdCAxNCBhcmUgemVyby5cclxuICAvL1xyXG4gIC8vIEV4YW1wbGUgb2YgYSByZXN1bHQgdGhhdCB3aWxsIGJlIGluY29ycmVjdGx5IHJvdW5kZWQ6XHJcbiAgLy8gbG9nWzEwNDg1NzZdKDQ1MDM1OTk2MjczNzA1MDIpID0gMi42MDAwMDAwMDAwMDAwMDAwOTYxMDI3OTUxMTQ0NDc0Ni4uLlxyXG4gIC8vIFRoZSBhYm92ZSByZXN1bHQgY29ycmVjdGx5IHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWwgcGxhY2Ugc2hvdWxkIGJlIDIuNywgYnV0IGl0XHJcbiAgLy8gd2lsbCBiZSBnaXZlbiBhcyAyLjYgYXMgdGhlcmUgYXJlIDE1IHplcm9zIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSByZXF1ZXN0ZWQgZGVjaW1hbCBwbGFjZSwgc29cclxuICAvLyB0aGUgZXhhY3QgcmVzdWx0IHdvdWxkIGJlIGFzc3VtZWQgdG8gYmUgMi42LCB3aGljaCByb3VuZGVkIHVzaW5nIFJPVU5EX0NFSUwgdG8gMSBkZWNpbWFsXHJcbiAgLy8gcGxhY2UgaXMgc3RpbGwgMi42LlxyXG4gIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgayA9IHByLCBybSkpIHtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIHNkICs9IDEwO1xyXG4gICAgICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gICAgICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG4gICAgICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgICAgIGlmICghaW5mKSB7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQsIGFzIHRoZSBmaXJzdCBtYXkgYmUgNC5cclxuICAgICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UoayArIDEsIGsgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDEsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrICs9IDEwLCBybSkpO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdsdCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdndCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiAgbiAtIDAgPSBuXHJcbiAqICBuIC0gTiA9IE5cclxuICogIG4gLSBJID0gLUlcclxuICogIDAgLSBuID0gLW5cclxuICogIDAgLSAwID0gMFxyXG4gKiAgMCAtIE4gPSBOXHJcbiAqICAwIC0gSSA9IC1JXHJcbiAqICBOIC0gbiA9IE5cclxuICogIE4gLSAwID0gTlxyXG4gKiAgTiAtIE4gPSBOXHJcbiAqICBOIC0gSSA9IE5cclxuICogIEkgLSBuID0gSVxyXG4gKiAgSSAtIDAgPSBJXHJcbiAqICBJIC0gTiA9IE5cclxuICogIEkgLSBJID0gTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZCwgZSwgaSwgaiwgaywgbGVuLCBwciwgcm0sIHhkLCB4ZSwgeExUeSwgeWQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgIGVsc2UgaWYgKHguZCkgeS5zID0gLXkucztcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICBlbHNlIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zICE9PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICB9XHJcblxyXG4gIHhkID0geC5kO1xyXG4gIHlkID0geS5kO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIHplcm8gYW5kIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoeWRbMF0pIHkucyA9IC15LnM7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvIGFuZCB4IGlzIG5vbi16ZXJvLlxyXG4gICAgZWxzZSBpZiAoeGRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICAvLyBSZXR1cm4gemVybyBpZiBib3RoIGFyZSB6ZXJvLlxyXG4gICAgLy8gRnJvbSBJRUVFIDc1NCAoMjAwOCkgNi4zOiAwIC0gMCA9IC0wIC0gLTAgPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eS5cclxuICAgIGVsc2UgcmV0dXJuIG5ldyBDdG9yKHJtID09PSAzID8gLTAgOiAwKTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9XHJcblxyXG4gIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGUgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgayA9IHhlIC0gZTtcclxuXHJcbiAgLy8gSWYgYmFzZSAxZTcgZXhwb25lbnRzIGRpZmZlci4uLlxyXG4gIGlmIChrKSB7XHJcbiAgICB4TFR5ID0gayA8IDA7XHJcblxyXG4gICAgaWYgKHhMVHkpIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBrID0gLWs7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IHhlO1xyXG4gICAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTnVtYmVycyB3aXRoIG1hc3NpdmVseSBkaWZmZXJlbnQgZXhwb25lbnRzIHdvdWxkIHJlc3VsdCBpbiBhIHZlcnkgaGlnaCBudW1iZXIgb2ZcclxuICAgIC8vIHplcm9zIG5lZWRpbmcgdG8gYmUgcHJlcGVuZGVkLCBidXQgdGhpcyBjYW4gYmUgYXZvaWRlZCB3aGlsZSBzdGlsbCBlbnN1cmluZyBjb3JyZWN0XHJcbiAgICAvLyByb3VuZGluZyBieSBsaW1pdGluZyB0aGUgbnVtYmVyIG9mIHplcm9zIHRvIGBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSkgKyAyYC5cclxuICAgIGkgPSBNYXRoLm1heChNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSksIGxlbikgKyAyO1xyXG5cclxuICAgIGlmIChrID4gaSkge1xyXG4gICAgICBrID0gaTtcclxuICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgZC5yZXZlcnNlKCk7XHJcbiAgICBmb3IgKGkgPSBrOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuXHJcbiAgLy8gQmFzZSAxZTcgZXhwb25lbnRzIGVxdWFsLlxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gQ2hlY2sgZGlnaXRzIHRvIGRldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cclxuXHJcbiAgICBpID0geGQubGVuZ3RoO1xyXG4gICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgeExUeSA9IGkgPCBsZW47XHJcbiAgICBpZiAoeExUeSkgbGVuID0gaTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgaWYgKHhkW2ldICE9IHlkW2ldKSB7XHJcbiAgICAgICAgeExUeSA9IHhkW2ldIDwgeWRbaV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBrID0gMDtcclxuICB9XHJcblxyXG4gIGlmICh4TFR5KSB7XHJcbiAgICBkID0geGQ7XHJcbiAgICB4ZCA9IHlkO1xyXG4gICAgeWQgPSBkO1xyXG4gICAgeS5zID0gLXkucztcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgLy8gQXBwZW5kIHplcm9zIHRvIGB4ZGAgaWYgc2hvcnRlci5cclxuICAvLyBEb24ndCBhZGQgemVyb3MgdG8gYHlkYCBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0aW9uIG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgYHlkYCBsZW5ndGguXHJcbiAgZm9yIChpID0geWQubGVuZ3RoIC0gbGVuOyBpID4gMDsgLS1pKSB4ZFtsZW4rK10gPSAwO1xyXG5cclxuICAvLyBTdWJ0cmFjdCB5ZCBmcm9tIHhkLlxyXG4gIGZvciAoaSA9IHlkLmxlbmd0aDsgaSA+IGs7KSB7XHJcblxyXG4gICAgaWYgKHhkWy0taV0gPCB5ZFtpXSkge1xyXG4gICAgICBmb3IgKGogPSBpOyBqICYmIHhkWy0tal0gPT09IDA7KSB4ZFtqXSA9IEJBU0UgLSAxO1xyXG4gICAgICAtLXhkW2pdO1xyXG4gICAgICB4ZFtpXSArPSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIHhkW2ldIC09IHlkW2ldO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyB4ZFstLWxlbl0gPT09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICBmb3IgKDsgeGRbMF0gPT09IDA7IHhkLnNoaWZ0KCkpIC0tZTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoIXhkWzBdKSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICB5LmQgPSB4ZDtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICAgbiAlIDAgPSAgTlxyXG4gKiAgIG4gJSBOID0gIE5cclxuICogICBuICUgSSA9ICBuXHJcbiAqICAgMCAlIG4gPSAgMFxyXG4gKiAgLTAgJSBuID0gLTBcclxuICogICAwICUgMCA9ICBOXHJcbiAqICAgMCAlIE4gPSAgTlxyXG4gKiAgIDAgJSBJID0gIDBcclxuICogICBOICUgbiA9ICBOXHJcbiAqICAgTiAlIDAgPSAgTlxyXG4gKiAgIE4gJSBOID0gIE5cclxuICogICBOICUgSSA9ICBOXHJcbiAqICAgSSAlIG4gPSAgTlxyXG4gKiAgIEkgJSAwID0gIE5cclxuICogICBJICUgTiA9ICBOXHJcbiAqICAgSSAlIEkgPSAgTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1vZHVsbyBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSBtb2R1bG8gbW9kZS5cclxuICpcclxuICovXHJcblAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBxLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrFJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIMKxMC5cclxuICBpZiAoIXguZCB8fCAheS5zIHx8IHkuZCAmJiAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gUmV0dXJuIHggaWYgeSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwLlxyXG4gIGlmICgheS5kIHx8IHguZCAmJiAheC5kWzBdKSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxuICB9XHJcblxyXG4gIC8vIFByZXZlbnQgcm91bmRpbmcgb2YgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucy5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBpZiAoQ3Rvci5tb2R1bG8gPT0gOSkge1xyXG5cclxuICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgLy8gcmVzdWx0ID0geCAtIHEgKiB5ICAgIHdoZXJlICAwIDw9IHJlc3VsdCA8IGFicyh5KVxyXG4gICAgcSA9IGRpdmlkZSh4LCB5LmFicygpLCAwLCAzLCAxKTtcclxuICAgIHEucyAqPSB5LnM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHEgPSBkaXZpZGUoeCwgeSwgMCwgQ3Rvci5tb2R1bG8sIDEpO1xyXG4gIH1cclxuXHJcbiAgcSA9IHEudGltZXMoeSk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHgubWludXMocSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICogaS5lLiB0aGUgYmFzZSBlIHJhaXNlZCB0byB0aGUgcG93ZXIgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5uYXR1cmFsRXhwb25lbnRpYWwgPSBQLmV4cCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gbmF0dXJhbEV4cG9uZW50aWFsKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm5hdHVyYWxMb2dhcml0aG0gPSBQLmxuID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBuYXR1cmFsTG9nYXJpdGhtKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbmVnYXRlZCwgaS5lLiBhcyBpZiBtdWx0aXBsaWVkIGJ5XHJcbiAqIC0xLlxyXG4gKlxyXG4gKi9cclxuUC5uZWdhdGVkID0gUC5uZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICB4LnMgPSAteC5zO1xyXG4gIHJldHVybiBmaW5hbGlzZSh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiArIDAgPSBuXHJcbiAqICBuICsgTiA9IE5cclxuICogIG4gKyBJID0gSVxyXG4gKiAgMCArIG4gPSBuXHJcbiAqICAwICsgMCA9IDBcclxuICogIDAgKyBOID0gTlxyXG4gKiAgMCArIEkgPSBJXHJcbiAqICBOICsgbiA9IE5cclxuICogIE4gKyAwID0gTlxyXG4gKiAgTiArIE4gPSBOXHJcbiAqICBOICsgSSA9IE5cclxuICogIEkgKyBuID0gSVxyXG4gKiAgSSArIDAgPSBJXHJcbiAqICBJICsgTiA9IE5cclxuICogIEkgKyBJID0gSVxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHBsdXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGNhcnJ5LCBkLCBlLCBpLCBrLCBsZW4sIHByLCBybSwgeGQsIHlkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gIGlmICgheC5kIHx8ICF5LmQpIHtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCBkaWZmZXJlbnQgc2lnbnMuXHJcbiAgICAvLyBSZXR1cm4geSBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgZWxzZSBpZiAoIXguZCkgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgPT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgfVxyXG5cclxuICB4ZCA9IHguZDtcclxuICB5ZCA9IHkuZDtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgemVyby5cclxuICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoIXlkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfVxyXG5cclxuICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAvLyBDYWxjdWxhdGUgYmFzZSAxZTcgZXhwb25lbnRzLlxyXG4gIGsgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG4gIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgaSA9IGsgLSBlO1xyXG5cclxuICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgaWYgKGkpIHtcclxuXHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBpID0gLWk7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IGs7XHJcbiAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMaW1pdCBudW1iZXIgb2YgemVyb3MgcHJlcGVuZGVkIHRvIG1heChjZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMS5cclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcbiAgICBsZW4gPSBrID4gbGVuID8gayArIDEgOiBsZW4gKyAxO1xyXG5cclxuICAgIGlmIChpID4gbGVuKSB7XHJcbiAgICAgIGkgPSBsZW47XHJcbiAgICAgIGQubGVuZ3RoID0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gTm90ZTogRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICBkLnJldmVyc2UoKTtcclxuICAgIGZvciAoOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuICBpID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBJZiB5ZCBpcyBsb25nZXIgdGhhbiB4ZCwgc3dhcCB4ZCBhbmQgeWQgc28geGQgcG9pbnRzIHRvIHRoZSBsb25nZXIgYXJyYXkuXHJcbiAgaWYgKGxlbiAtIGkgPCAwKSB7XHJcbiAgICBpID0gbGVuO1xyXG4gICAgZCA9IHlkO1xyXG4gICAgeWQgPSB4ZDtcclxuICAgIHhkID0gZDtcclxuICB9XHJcblxyXG4gIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHlkLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhkIGNhbiBiZSBsZWZ0IGFzIHRoZXkgYXJlLlxyXG4gIGZvciAoY2FycnkgPSAwOyBpOykge1xyXG4gICAgY2FycnkgPSAoeGRbLS1pXSA9IHhkW2ldICsgeWRbaV0gKyBjYXJyeSkgLyBCQVNFIHwgMDtcclxuICAgIHhkW2ldICU9IEJBU0U7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FycnkpIHtcclxuICAgIHhkLnVuc2hpZnQoY2FycnkpO1xyXG4gICAgKytlO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgeS5kID0geGQ7XHJcbiAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogW3pdIHtib29sZWFufG51bWJlcn0gV2hldGhlciB0byBjb3VudCBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3M6IHRydWUsIGZhbHNlLCAxIG9yIDAuXHJcbiAqXHJcbiAqL1xyXG5QLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoeikge1xyXG4gIHZhciBrLFxyXG4gICAgeCA9IHRoaXM7XHJcblxyXG4gIGlmICh6ICE9PSB2b2lkIDAgJiYgeiAhPT0gISF6ICYmIHogIT09IDEgJiYgeiAhPT0gMCkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgeik7XHJcblxyXG4gIGlmICh4LmQpIHtcclxuICAgIGsgPSBnZXRQcmVjaXNpb24oeC5kKTtcclxuICAgIGlmICh6ICYmIHguZSArIDEgPiBrKSBrID0geC5lICsgMTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IE5hTjtcclxuICB9XHJcblxyXG4gIHJldHVybiBrO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciB1c2luZ1xyXG4gKiByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnJvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHguZSArIDEsIEN0b3Iucm91bmRpbmcpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogc2luKHgpID0geCAtIHheMy8zISArIHheNS81ISAtIC4uLlxyXG4gKlxyXG4gKiBzaW4oMCkgICAgICAgICA9IDBcclxuICogc2luKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW4oSW5maW5pdHkpICA9IE5hTlxyXG4gKiBzaW4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiBzaW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5zaW5lID0gUC5zaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBzaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID4gMiA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogIHNxcnQoLW4pID0gIE5cclxuICogIHNxcnQoTikgID0gIE5cclxuICogIHNxcnQoLUkpID0gIE5cclxuICogIHNxcnQoSSkgID0gIElcclxuICogIHNxcnQoMCkgID0gIDBcclxuICogIHNxcnQoLTApID0gLTBcclxuICpcclxuICovXHJcblAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbSwgbiwgc2QsIHIsIHJlcCwgdCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgZCA9IHguZCxcclxuICAgIGUgPSB4LmUsXHJcbiAgICBzID0geC5zLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gIGlmIChzICE9PSAxIHx8ICFkIHx8ICFkWzBdKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoIXMgfHwgcyA8IDAgJiYgKCFkIHx8IGRbMF0pID8gTmFOIDogZCA/IHggOiAxIC8gMCk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSBNYXRoLnNxcnQoK3gpO1xyXG5cclxuICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICBuID0gZGlnaXRzVG9TdHJpbmcoZCk7XHJcblxyXG4gICAgaWYgKChuLmxlbmd0aCArIGUpICUgMiA9PSAwKSBuICs9ICcwJztcclxuICAgIHMgPSBNYXRoLnNxcnQobik7XHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgIH1cclxuXHJcbiAgICByID0gbmV3IEN0b3Iobik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gIH1cclxuXHJcbiAgc2QgPSAoZSA9IEN0b3IucHJlY2lzaW9uKSArIDM7XHJcblxyXG4gIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICBmb3IgKDs7KSB7XHJcbiAgICB0ID0gcjtcclxuICAgIHIgPSB0LnBsdXMoZGl2aWRlKHgsIHQsIHNkICsgMiwgMSkpLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgLy8gVE9ETz8gUmVwbGFjZSB3aXRoIGZvci1sb29wIGFuZCBjaGVja1JvdW5kaW5nRGlnaXRzLlxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgc2QpID09PSAobiA9IGRpZ2l0c1RvU3RyaW5nKHIuZCkpLnNsaWNlKDAsIHNkKSkge1xyXG4gICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHMgYXJlIDk5OTkgb3JcclxuICAgICAgLy8gNDk5OSwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIHRhbigwKSAgICAgICAgID0gMFxyXG4gKiB0YW4oLTApICAgICAgICA9IC0wXHJcbiAqIHRhbihJbmZpbml0eSkgID0gTmFOXHJcbiAqIHRhbigtSW5maW5pdHkpID0gTmFOXHJcbiAqIHRhbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLnRhbmdlbnQgPSBQLnRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguc2luKCk7XHJcbiAgeC5zID0gMTtcclxuICB4ID0gZGl2aWRlKHgsIG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKSwgcHIgKyAxMCwgMCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSA0ID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gKiAwID0gMFxyXG4gKiAgbiAqIE4gPSBOXHJcbiAqICBuICogSSA9IElcclxuICogIDAgKiBuID0gMFxyXG4gKiAgMCAqIDAgPSAwXHJcbiAqICAwICogTiA9IE5cclxuICogIDAgKiBJID0gTlxyXG4gKiAgTiAqIG4gPSBOXHJcbiAqICBOICogMCA9IE5cclxuICogIE4gKiBOID0gTlxyXG4gKiAgTiAqIEkgPSBOXHJcbiAqICBJICogbiA9IElcclxuICogIEkgKiAwID0gTlxyXG4gKiAgSSAqIE4gPSBOXHJcbiAqICBJICogSSA9IElcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhpcyBEZWNpbWFsIHRpbWVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC50aW1lcyA9IFAubXVsID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgY2FycnksIGUsIGksIGssIHIsIHJMLCB0LCB4ZEwsIHlkTCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIHlkID0gKHkgPSBuZXcgQ3Rvcih5KSkuZDtcclxuXHJcbiAgeS5zICo9IHgucztcclxuXHJcbiAgIC8vIElmIGVpdGhlciBpcyBOYU4sIMKxSW5maW5pdHkgb3IgwrEwLi4uXHJcbiAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIHJldHVybiBuZXcgQ3RvcigheS5zIHx8IHhkICYmICF4ZFswXSAmJiAheWQgfHwgeWQgJiYgIXlkWzBdICYmICF4ZFxyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrEwIGFuZCB5IGlzIMKxSW5maW5pdHksIG9yIHkgaXMgwrEwIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgID8gTmFOXHJcblxyXG4gICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgaXMgwrFJbmZpbml0eS5cclxuICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxyXG4gICAgICA6ICF4ZCB8fCAheWQgPyB5LnMgLyAwIDogeS5zICogMCk7XHJcbiAgfVxyXG5cclxuICBlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKSArIG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGRMID0geGQubGVuZ3RoO1xyXG4gIHlkTCA9IHlkLmxlbmd0aDtcclxuXHJcbiAgLy8gRW5zdXJlIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gIGlmICh4ZEwgPCB5ZEwpIHtcclxuICAgIHIgPSB4ZDtcclxuICAgIHhkID0geWQ7XHJcbiAgICB5ZCA9IHI7XHJcbiAgICByTCA9IHhkTDtcclxuICAgIHhkTCA9IHlkTDtcclxuICAgIHlkTCA9IHJMO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgciA9IFtdO1xyXG4gIHJMID0geGRMICsgeWRMO1xyXG4gIGZvciAoaSA9IHJMOyBpLS07KSByLnB1c2goMCk7XHJcblxyXG4gIC8vIE11bHRpcGx5IVxyXG4gIGZvciAoaSA9IHlkTDsgLS1pID49IDA7KSB7XHJcbiAgICBjYXJyeSA9IDA7XHJcbiAgICBmb3IgKGsgPSB4ZEwgKyBpOyBrID4gaTspIHtcclxuICAgICAgdCA9IHJba10gKyB5ZFtpXSAqIHhkW2sgLSBpIC0gMV0gKyBjYXJyeTtcclxuICAgICAgcltrLS1dID0gdCAlIEJBU0UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHQgLyBCQVNFIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICByW2tdID0gKHJba10gKyBjYXJyeSkgJSBCQVNFIHwgMDtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKDsgIXJbLS1yTF07KSByLnBvcCgpO1xyXG5cclxuICBpZiAoY2FycnkpICsrZTtcclxuICBlbHNlIHIuc2hpZnQoKTtcclxuXHJcbiAgeS5kID0gcjtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudChyLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSAyLCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0JpbmFyeSA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMiwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBkcGBcclxuICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLlxyXG4gKlxyXG4gKiBJZiBgZHBgIGlzIG9taXR0ZWQsIHJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9EZWNpbWFsUGxhY2VzID0gUC50b0RQID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHJldHVybiB4O1xyXG5cclxuICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIHJvdW5kZWQgdG9cclxuICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgc3RyLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgMSwgcm0pO1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSwgZHAgKyAxKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIG5vcm1hbCAoZml4ZWQtcG9pbnQpIG5vdGF0aW9uIHRvXHJcbiAqIGBkcGAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgYW5kIHJvdW5kZWQgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpc1xyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBBcyB3aXRoIEphdmFTY3JpcHQgbnVtYmVycywgKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqICgtMCkudG9GaXhlZCgxKSBpcyAnMC4wJywgYnV0ICgtMC4wMSkudG9GaXhlZCgxKSBpcyAnLTAuMCcuXHJcbiAqICgtMCkudG9GaXhlZCgzKSBpcyAnMC4wMDAnLlxyXG4gKiAoLTAuNSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKlxyXG4gKi9cclxuUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciBzdHIsIHksXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHkgPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh5LCBmYWxzZSwgZHAgKyB5LmUgKyAxKTtcclxuICB9XHJcblxyXG4gIC8vIFRvIGRldGVybWluZSB3aGV0aGVyIHRvIGFkZCB0aGUgbWludXMgc2lnbiBsb29rIGF0IHRoZSB2YWx1ZSBiZWZvcmUgaXQgd2FzIHJvdW5kZWQsXHJcbiAgLy8gaS5lLiBsb29rIGF0IGB4YCByYXRoZXIgdGhhbiBgeWAuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgYXMgYSBzaW1wbGUgZnJhY3Rpb24gd2l0aCBhbiBpbnRlZ2VyXHJcbiAqIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci5cclxuICpcclxuICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBtYXhpbXVtXHJcbiAqIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgdGhlIGxvd2VzdFxyXG4gKiB2YWx1ZSBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICpcclxuICogW21heERdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IE1heGltdW0gZGVub21pbmF0b3IuIEludGVnZXIgPj0gMSBhbmQgPCBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtYXhEKSB7XHJcbiAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGssIG4sIG4wLCBuMSwgcHIsIHEsIHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheGQpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgbjEgPSBkMCA9IG5ldyBDdG9yKDEpO1xyXG4gIGQxID0gbjAgPSBuZXcgQ3RvcigwKTtcclxuXHJcbiAgZCA9IG5ldyBDdG9yKGQxKTtcclxuICBlID0gZC5lID0gZ2V0UHJlY2lzaW9uKHhkKSAtIHguZSAtIDE7XHJcbiAgayA9IGUgJSBMT0dfQkFTRTtcclxuICBkLmRbMF0gPSBtYXRocG93KDEwLCBrIDwgMCA/IExPR19CQVNFICsgayA6IGspO1xyXG5cclxuICBpZiAobWF4RCA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gZCBpcyAxMCoqZSwgdGhlIG1pbmltdW0gbWF4LWRlbm9taW5hdG9yIG5lZWRlZC5cclxuICAgIG1heEQgPSBlID4gMCA/IGQgOiBuMTtcclxuICB9IGVsc2Uge1xyXG4gICAgbiA9IG5ldyBDdG9yKG1heEQpO1xyXG4gICAgaWYgKCFuLmlzSW50KCkgfHwgbi5sdChuMSkpIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIG4pO1xyXG4gICAgbWF4RCA9IG4uZ3QoZCkgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgbiA9IG5ldyBDdG9yKGRpZ2l0c1RvU3RyaW5nKHhkKSk7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBDdG9yLnByZWNpc2lvbiA9IGUgPSB4ZC5sZW5ndGggKiBMT0dfQkFTRSAqIDI7XHJcblxyXG4gIGZvciAoOzspICB7XHJcbiAgICBxID0gZGl2aWRlKG4sIGQsIDAsIDEsIDEpO1xyXG4gICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgIGlmIChkMi5jbXAobWF4RCkgPT0gMSkgYnJlYWs7XHJcbiAgICBkMCA9IGQxO1xyXG4gICAgZDEgPSBkMjtcclxuICAgIGQyID0gbjE7XHJcbiAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMikpO1xyXG4gICAgbjAgPSBkMjtcclxuICAgIGQyID0gZDtcclxuICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIpKTtcclxuICAgIG4gPSBkMjtcclxuICB9XHJcblxyXG4gIGQyID0gZGl2aWRlKG1heEQubWludXMoZDApLCBkMSwgMCwgMSwgMSk7XHJcbiAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgbjAucyA9IG4xLnMgPSB4LnM7XHJcblxyXG4gIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDE/XHJcbiAgciA9IGRpdmlkZShuMSwgZDEsIGUsIDEpLm1pbnVzKHgpLmFicygpLmNtcChkaXZpZGUobjAsIGQwLCBlLCAxKS5taW51cyh4KS5hYnMoKSkgPCAxXHJcbiAgICAgID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiByO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDE2LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0hleGFkZWNpbWFsID0gUC50b0hleCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMTYsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJucyBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIGB5YCBpbiB0aGUgZGlyZWN0aW9uIG9mIHJvdW5kaW5nXHJcbiAqIG1vZGUgYHJtYCwgb3IgYERlY2ltYWwucm91bmRpbmdgIGlmIGBybWAgaXMgb21pdHRlZCwgdG8gdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHNpZ24gYXMgdGhpcyBEZWNpbWFsLCB1bmxlc3MgZWl0aGVyIHRoaXMgRGVjaW1hbFxyXG4gKiBvciBgeWAgaXMgTmFOLCBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSBhbHNvIGJlIE5hTi5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLlxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBtYWduaXR1ZGUgdG8gcm91bmQgdG8gYSBtdWx0aXBsZSBvZi5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xyXG4gKlxyXG4gKi9cclxuUC50b05lYXJlc3QgPSBmdW5jdGlvbiAoeSwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICBpZiAoeSA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geC5cclxuICAgIGlmICgheC5kKSByZXR1cm4geDtcclxuXHJcbiAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHggaXMgbm90IGZpbml0ZSwgcmV0dXJuIHggaWYgeSBpcyBub3QgTmFOLCBlbHNlIE5hTi5cclxuICAgIGlmICgheC5kKSByZXR1cm4geS5zID8geCA6IHk7XHJcblxyXG4gICAgLy8gSWYgeSBpcyBub3QgZmluaXRlLCByZXR1cm4gSW5maW5pdHkgd2l0aCB0aGUgc2lnbiBvZiB4IGlmIHkgaXMgSW5maW5pdHksIGVsc2UgTmFOLlxyXG4gICAgaWYgKCF5LmQpIHtcclxuICAgICAgaWYgKHkucykgeS5zID0geC5zO1xyXG4gICAgICByZXR1cm4geTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHkgaXMgbm90IHplcm8sIGNhbGN1bGF0ZSB0aGUgbmVhcmVzdCBtdWx0aXBsZSBvZiB5IHRvIHguXHJcbiAgaWYgKHkuZFswXSkge1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHggPSBkaXZpZGUoeCwgeSwgMCwgcm0sIDEpLnRpbWVzKHkpO1xyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgZmluYWxpc2UoeCk7XHJcblxyXG4gIC8vIElmIHkgaXMgemVybywgcmV0dXJuIHplcm8gd2l0aCB0aGUgc2lnbiBvZiB4LlxyXG4gIH0gZWxzZSB7XHJcbiAgICB5LnMgPSB4LnM7XHJcbiAgICB4ID0geTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXHJcbiAqIFplcm8ga2VlcHMgaXRzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiArdGhpcztcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSA4LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b09jdGFsID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCA4LCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWRcclxuICogdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRUNNQVNjcmlwdCBjb21wbGlhbnQuXHJcbiAqXHJcbiAqICAgcG93KHgsIE5hTikgICAgICAgICAgICAgICAgICAgICAgICAgICA9IE5hTlxyXG4gKiAgIHBvdyh4LCDCsTApICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMVxyXG5cclxuICogICBwb3coTmFOLCBub24temVybykgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA+IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhhYnMoeCkgPiAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdyhhYnMoeCkgPT0gMSwgwrFJbmZpbml0eSkgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA8IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KGFicyh4KSA8IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygrSW5maW5pdHksIHkgPiAwKSAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coK0luZmluaXR5LCB5IDwgMCkgICAgICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA+IDApICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygtSW5maW5pdHksIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgPSAtMFxyXG4gKiAgIHBvdygtSW5maW5pdHksIGV2ZW4gaW50ZWdlciA8IDApICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA+IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA8IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgID0gLTBcclxuICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA+IDApICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC0wLCBldmVuIGludGVnZXIgPCAwKSAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhmaW5pdGUgeCA8IDAsIGZpbml0ZSBub24taW50ZWdlcikgPSBOYU5cclxuICpcclxuICogRm9yIG5vbi1pbnRlZ2VyIG9yIHZlcnkgbGFyZ2UgZXhwb25lbnRzIHBvdyh4LCB5KSBpcyBjYWxjdWxhdGVkIHVzaW5nXHJcbiAqXHJcbiAqICAgeF55ID0gZXhwKHkqbG4oeCkpXHJcbiAqXHJcbiAqIEFzc3VtaW5nIHRoZSBmaXJzdCAxNSByb3VuZGluZyBkaWdpdHMgYXJlIGVhY2ggZXF1YWxseSBsaWtlbHkgdG8gYmUgYW55IGRpZ2l0IDAtOSwgdGhlXHJcbiAqIHByb2JhYmlsaXR5IG9mIGFuIGluY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0XHJcbiAqIFAoWzQ5XTl7MTR9IHwgWzUwXTB7MTR9KSA9IDIgKiAwLjIgKiAxMF4tMTQgPSA0ZS0xNSA9IDEvMi41ZSsxNFxyXG4gKiBpLmUuIDEgaW4gMjUwLDAwMCwwMDAsMDAwLDAwMFxyXG4gKlxyXG4gKiBJZiBhIHJlc3VsdCBpcyBpbmNvcnJlY3RseSByb3VuZGVkIHRoZSBtYXhpbXVtIGVycm9yIHdpbGwgYmUgMSB1bHAgKHVuaXQgaW4gbGFzdCBwbGFjZSkuXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAudG9Qb3dlciA9IFAucG93ID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZSwgaywgcHIsIHIsIHJtLCBzLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHluID0gKyh5ID0gbmV3IEN0b3IoeSkpO1xyXG5cclxuICAvLyBFaXRoZXIgwrFJbmZpbml0eSwgTmFOIG9yIMKxMD9cclxuICBpZiAoIXguZCB8fCAheS5kIHx8ICF4LmRbMF0gfHwgIXkuZFswXSkgcmV0dXJuIG5ldyBDdG9yKG1hdGhwb3coK3gsIHluKSk7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgaWYgKHguZXEoMSkpIHJldHVybiB4O1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKHkuZXEoMSkpIHJldHVybiBmaW5hbGlzZSh4LCBwciwgcm0pO1xyXG5cclxuICAvLyB5IGV4cG9uZW50XHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIC8vIElmIHkgaXMgYSBzbWFsbCBpbnRlZ2VyIHVzZSB0aGUgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJyBhbGdvcml0aG0uXHJcbiAgaWYgKGUgPj0geS5kLmxlbmd0aCAtIDEgJiYgKGsgPSB5biA8IDAgPyAteW4gOiB5bikgPD0gTUFYX1NBRkVfSU5URUdFUikge1xyXG4gICAgciA9IGludFBvdyhDdG9yLCB4LCBrLCBwcik7XHJcbiAgICByZXR1cm4geS5zIDwgMCA/IG5ldyBDdG9yKDEpLmRpdihyKSA6IGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgfVxyXG5cclxuICBzID0geC5zO1xyXG5cclxuICAvLyBpZiB4IGlzIG5lZ2F0aXZlXHJcbiAgaWYgKHMgPCAwKSB7XHJcblxyXG4gICAgLy8gaWYgeSBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgaWYgKGUgPCB5LmQubGVuZ3RoIC0gMSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmVzdWx0IGlzIHBvc2l0aXZlIGlmIHggaXMgbmVnYXRpdmUgYW5kIHRoZSBsYXN0IGRpZ2l0IG9mIGludGVnZXIgeSBpcyBldmVuLlxyXG4gICAgaWYgKCh5LmRbZV0gJiAxKSA9PSAwKSBzID0gMTtcclxuXHJcbiAgICAvLyBpZiB4LmVxKC0xKVxyXG4gICAgaWYgKHguZSA9PSAwICYmIHguZFswXSA9PSAxICYmIHguZC5sZW5ndGggPT0gMSkge1xyXG4gICAgICB4LnMgPSBzO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVzdGltYXRlIHJlc3VsdCBleHBvbmVudC5cclxuICAvLyB4XnkgPSAxMF5lLCAgd2hlcmUgZSA9IHkgKiBsb2cxMCh4KVxyXG4gIC8vIGxvZzEwKHgpID0gbG9nMTAoeF9zaWduaWZpY2FuZCkgKyB4X2V4cG9uZW50XHJcbiAgLy8gbG9nMTAoeF9zaWduaWZpY2FuZCkgPSBsbih4X3NpZ25pZmljYW5kKSAvIGxuKDEwKVxyXG4gIGsgPSBtYXRocG93KCt4LCB5bik7XHJcbiAgZSA9IGsgPT0gMCB8fCAhaXNGaW5pdGUoaylcclxuICAgID8gbWF0aGZsb29yKHluICogKE1hdGgubG9nKCcwLicgKyBkaWdpdHNUb1N0cmluZyh4LmQpKSAvIE1hdGguTE4xMCArIHguZSArIDEpKVxyXG4gICAgOiBuZXcgQ3RvcihrICsgJycpLmU7XHJcblxyXG4gIC8vIEV4cG9uZW50IGVzdGltYXRlIG1heSBiZSBpbmNvcnJlY3QgZS5nLiB4OiAwLjk5OTk5OTk5OTk5OTk5OTk5OSwgeTogMi4yOSwgZTogMCwgci5lOiAtMS5cclxuXHJcbiAgLy8gT3ZlcmZsb3cvdW5kZXJmbG93P1xyXG4gIGlmIChlID4gQ3Rvci5tYXhFICsgMSB8fCBlIDwgQ3Rvci5taW5FIC0gMSkgcmV0dXJuIG5ldyBDdG9yKGUgPiAwID8gcyAvIDAgOiAwKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBDdG9yLnJvdW5kaW5nID0geC5zID0gMTtcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIGV4dHJhIGd1YXJkIGRpZ2l0cyBuZWVkZWQgdG8gZW5zdXJlIGZpdmUgY29ycmVjdCByb3VuZGluZyBkaWdpdHMgZnJvbVxyXG4gIC8vIG5hdHVyYWxMb2dhcml0aG0oeCkuIEV4YW1wbGUgb2YgZmFpbHVyZSB3aXRob3V0IHRoZXNlIGV4dHJhIGRpZ2l0cyAocHJlY2lzaW9uOiAxMCk6XHJcbiAgLy8gbmV3IERlY2ltYWwoMi4zMjQ1NikucG93KCcyMDg3OTg3NDM2NTM0NTY2LjQ2NDExJylcclxuICAvLyBzaG91bGQgYmUgMS4xNjIzNzc4MjNlKzc2NDkxNDkwNTE3MzgxNSwgYnV0IGlzIDEuMTYyMzU1ODIzZSs3NjQ5MTQ5MDUxNzM4MTVcclxuICBrID0gTWF0aC5taW4oMTIsIChlICsgJycpLmxlbmd0aCk7XHJcblxyXG4gIC8vIHIgPSB4XnkgPSBleHAoeSpsbih4KSlcclxuICByID0gbmF0dXJhbEV4cG9uZW50aWFsKHkudGltZXMobmF0dXJhbExvZ2FyaXRobSh4LCBwciArIGspKSwgcHIpO1xyXG5cclxuICAvLyByIG1heSBiZSBJbmZpbml0eSwgZS5nLiAoMC45OTk5OTk5OTk5OTk5OTk5KS5wb3coLTFlKzQwKVxyXG4gIGlmIChyLmQpIHtcclxuXHJcbiAgICAvLyBUcnVuY2F0ZSB0byB0aGUgcmVxdWlyZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICByID0gZmluYWxpc2UociwgcHIgKyA1LCAxKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCBpbmNyZWFzZSB0aGUgcHJlY2lzaW9uIGJ5IDEwIGFuZCByZWNhbGN1bGF0ZVxyXG4gICAgLy8gdGhlIHJlc3VsdC5cclxuICAgIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgcHIsIHJtKSkge1xyXG4gICAgICBlID0gcHIgKyAxMDtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBpbmNyZWFzZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICAgIHIgPSBmaW5hbGlzZShuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIGUgKyBrKSksIGUpLCBlICsgNSwgMSk7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0ICh0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgbWF5IGJlIDQgb3IgOSkuXHJcbiAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShwciArIDEsIHByICsgMTUpICsgMSA9PSAxZTE0KSB7XHJcbiAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHIucyA9IHM7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgYHNkYCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudFxyXG4gKiB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBub3JtYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHZhciBzdHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCBzZCA8PSB4LmUgfHwgeC5lIDw9IEN0b3IudG9FeHBOZWcsIHNkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgc2RgXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAsIG9yIHRvIGBwcmVjaXNpb25gIGFuZCBgcm91bmRpbmdgIHJlc3BlY3RpdmVseSBpZlxyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9TRCgpIGRpZ2l0cyBvdXQgb2YgcmFuZ2U6IHtzZH0nXHJcbiAqICd0b1NEKCkgZGlnaXRzIG5vdCBhbiBpbnRlZ2VyOiB7c2R9J1xyXG4gKiAndG9TRCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAqXHJcbiAqL1xyXG5QLnRvU2lnbmlmaWNhbnREaWdpdHMgPSBQLnRvU0QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzZCA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGlzIERlY2ltYWwgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXHJcbiAqIGB0b0V4cFBvc2AsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIGB0b0V4cE5lZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdHJ1bmNhdGVkIHRvIGEgd2hvbGUgbnVtYmVyLlxyXG4gKlxyXG4gKi9cclxuUC50cnVuY2F0ZWQgPSBQLnRydW5jID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKiBVbmxpa2UgYHRvU3RyaW5nYCwgbmVnYXRpdmUgemVybyB3aWxsIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4vLyBBZGQgYWxpYXNlcyB0byBtYXRjaCBCaWdEZWNpbWFsIG1ldGhvZCBuYW1lcy5cclxuLy8gUC5hZGQgPSBQLnBsdXM7XHJcblAuc3VidHJhY3QgPSBQLm1pbnVzO1xyXG5QLm11bHRpcGx5ID0gUC50aW1lcztcclxuUC5kaXZpZGUgPSBQLmRpdjtcclxuUC5yZW1haW5kZXIgPSBQLm1vZDtcclxuUC5jb21wYXJlVG8gPSBQLmNtcDtcclxuUC5uZWdhdGUgPSBQLm5lZztcclxuICovXHJcblxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgRGVjaW1hbC5wcm90b3R5cGUgKFApIGFuZC9vciBEZWNpbWFsIG1ldGhvZHMsIGFuZCB0aGVpciBjYWxsZXJzLlxyXG5cclxuXHJcbi8qXHJcbiAqICBkaWdpdHNUb1N0cmluZyAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5sb2dhcml0aG0sIFAuc3F1YXJlUm9vdCwgUC50b0ZyYWN0aW9uLCBQLnRvUG93ZXIsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXRlVG9TdHJpbmcsIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgY2hlY2tJbnQzMiAgICAgICAgICAgICAgIFAudG9EZWNpbWFsUGxhY2VzLCBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b05lYXJlc3QsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLCB0b1N0cmluZ0JpbmFyeSwgcmFuZG9tXHJcbiAqICBjaGVja1JvdW5kaW5nRGlnaXRzICAgICAgUC5sb2dhcml0aG0sIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBjb252ZXJ0QmFzZSAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnksIHBhcnNlT3RoZXJcclxuICogIGNvcyAgICAgICAgICAgICAgICAgICAgICBQLmNvc1xyXG4gKiAgZGl2aWRlICAgICAgICAgICAgICAgICAgIFAuYXRhbmgsIFAuY3ViZVJvb3QsIFAuZGl2aWRlZEJ5LCBQLmRpdmlkZWRUb0ludGVnZXJCeSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgUC5tb2R1bG8sIFAuc3F1YXJlUm9vdCwgUC50YW4sIFAudGFuaCwgUC50b0ZyYWN0aW9uLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCB0b1N0cmluZ0JpbmFyeSwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRheWxvclNlcmllcywgYXRhbjIsIHBhcnNlT3RoZXJcclxuICogIGZpbmFsaXNlICAgICAgICAgICAgICAgICBQLmFic29sdXRlVmFsdWUsIFAuYXRhbiwgUC5hdGFuaCwgUC5jZWlsLCBQLmNvcywgUC5jb3NoLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY3ViZVJvb3QsIFAuZGl2aWRlZFRvSW50ZWdlckJ5LCBQLmZsb29yLCBQLmxvZ2FyaXRobSwgUC5taW51cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLm1vZHVsbywgUC5uZWdhdGVkLCBQLnBsdXMsIFAucm91bmQsIFAuc2luLCBQLnNpbmgsIFAuc3F1YXJlUm9vdCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRhbiwgUC50aW1lcywgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCBQLnRvUG93ZXIsIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRydW5jYXRlZCwgZGl2aWRlLCBnZXRMbjEwLCBnZXRQaSwgbmF0dXJhbEV4cG9uZW50aWFsLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNlaWwsIGZsb29yLCByb3VuZCwgdHJ1bmNcclxuICogIGZpbml0ZVRvU3RyaW5nICAgICAgICAgICBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZywgUC52YWx1ZU9mLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5XHJcbiAqICBnZXRCYXNlMTBFeHBvbmVudCAgICAgICAgUC5taW51cywgUC5wbHVzLCBQLnRpbWVzLCBwYXJzZU90aGVyXHJcbiAqICBnZXRMbjEwICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGdldFBpICAgICAgICAgICAgICAgICAgICBQLmFjb3MsIFAuYXNpbiwgUC5hdGFuLCB0b0xlc3NUaGFuSGFsZlBpLCBhdGFuMlxyXG4gKiAgZ2V0UHJlY2lzaW9uICAgICAgICAgICAgIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb25cclxuICogIGdldFplcm9TdHJpbmcgICAgICAgICAgICBkaWdpdHNUb1N0cmluZywgZmluaXRlVG9TdHJpbmdcclxuICogIGludFBvdyAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIHBhcnNlT3RoZXJcclxuICogIGlzT2RkICAgICAgICAgICAgICAgICAgICB0b0xlc3NUaGFuSGFsZlBpXHJcbiAqICBtYXhPck1pbiAgICAgICAgICAgICAgICAgbWF4LCBtaW5cclxuICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICBQLm5hdHVyYWxFeHBvbmVudGlhbCwgUC50b1Bvd2VyXHJcbiAqICBuYXR1cmFsTG9nYXJpdGhtICAgICAgICAgUC5hY29zaCwgUC5hc2luaCwgUC5hdGFuaCwgUC5sb2dhcml0aG0sIFAubmF0dXJhbExvZ2FyaXRobSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIG5hdHVyYWxFeHBvbmVudGlhbFxyXG4gKiAgbm9uRmluaXRlVG9TdHJpbmcgICAgICAgIGZpbml0ZVRvU3RyaW5nLCB0b1N0cmluZ0JpbmFyeVxyXG4gKiAgcGFyc2VEZWNpbWFsICAgICAgICAgICAgIERlY2ltYWxcclxuICogIHBhcnNlT3RoZXIgICAgICAgICAgICAgICBEZWNpbWFsXHJcbiAqICBzaW4gICAgICAgICAgICAgICAgICAgICAgUC5zaW5cclxuICogIHRheWxvclNlcmllcyAgICAgICAgICAgICBQLmNvc2gsIFAuc2luaCwgY29zLCBzaW5cclxuICogIHRvTGVzc1RoYW5IYWxmUGkgICAgICAgICBQLmNvcywgUC5zaW5cclxuICogIHRvU3RyaW5nQmluYXJ5ICAgICAgICAgICBQLnRvQmluYXJ5LCBQLnRvSGV4YWRlY2ltYWwsIFAudG9PY3RhbFxyXG4gKiAgdHJ1bmNhdGUgICAgICAgICAgICAgICAgIGludFBvd1xyXG4gKlxyXG4gKiAgVGhyb3dzOiAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uLCBjaGVja0ludDMyLCBnZXRMbjEwLCBnZXRQaSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsTG9nYXJpdGhtLCBjb25maWcsIHBhcnNlT3RoZXIsIHJhbmRvbSwgRGVjaW1hbFxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBkaWdpdHNUb1N0cmluZyhkKSB7XHJcbiAgdmFyIGksIGssIHdzLFxyXG4gICAgaW5kZXhPZkxhc3RXb3JkID0gZC5sZW5ndGggLSAxLFxyXG4gICAgc3RyID0gJycsXHJcbiAgICB3ID0gZFswXTtcclxuXHJcbiAgaWYgKGluZGV4T2ZMYXN0V29yZCA+IDApIHtcclxuICAgIHN0ciArPSB3O1xyXG4gICAgZm9yIChpID0gMTsgaSA8IGluZGV4T2ZMYXN0V29yZDsgaSsrKSB7XHJcbiAgICAgIHdzID0gZFtpXSArICcnO1xyXG4gICAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgICAgc3RyICs9IHdzO1xyXG4gICAgfVxyXG5cclxuICAgIHcgPSBkW2ldO1xyXG4gICAgd3MgPSB3ICsgJyc7XHJcbiAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICBpZiAoaykgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIGlmICh3ID09PSAwKSB7XHJcbiAgICByZXR1cm4gJzAnO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zIG9mIGxhc3Qgdy5cclxuICBmb3IgKDsgdyAlIDEwID09PSAwOykgdyAvPSAxMDtcclxuXHJcbiAgcmV0dXJuIHN0ciArIHc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjaGVja0ludDMyKGksIG1pbiwgbWF4KSB7XHJcbiAgaWYgKGkgIT09IH5+aSB8fCBpIDwgbWluIHx8IGkgPiBtYXgpIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIGkpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIDUgcm91bmRpbmcgZGlnaXRzIGlmIGByZXBlYXRpbmdgIGlzIG51bGwsIDQgb3RoZXJ3aXNlLlxyXG4gKiBgcmVwZWF0aW5nID09IG51bGxgIGlmIGNhbGxlciBpcyBgbG9nYCBvciBgcG93YCxcclxuICogYHJlcGVhdGluZyAhPSBudWxsYCBpZiBjYWxsZXIgaXMgYG5hdHVyYWxMb2dhcml0aG1gIG9yIGBuYXR1cmFsRXhwb25lbnRpYWxgLlxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tSb3VuZGluZ0RpZ2l0cyhkLCBpLCBybSwgcmVwZWF0aW5nKSB7XHJcbiAgdmFyIGRpLCBrLCByLCByZDtcclxuXHJcbiAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGFycmF5IGQuXHJcbiAgZm9yIChrID0gZFswXTsgayA+PSAxMDsgayAvPSAxMCkgLS1pO1xyXG5cclxuICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgZD9cclxuICBpZiAoLS1pIDwgMCkge1xyXG4gICAgaSArPSBMT0dfQkFTRTtcclxuICAgIGRpID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgZGkgPSBNYXRoLmNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgfVxyXG5cclxuICAvLyBpIGlzIHRoZSBpbmRleCAoMCAtIDYpIG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAvLyBFLmcuIGlmIHdpdGhpbiB0aGUgd29yZCAzNDg3NTYzIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBpcyA1LFxyXG4gIC8vIHRoZW4gaSA9IDQsIGsgPSAxMDAwLCByZCA9IDM0ODc1NjMgJSAxMDAwID0gNTYzXHJcbiAgayA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gaSk7XHJcbiAgcmQgPSBkW2RpXSAlIGsgfCAwO1xyXG5cclxuICBpZiAocmVwZWF0aW5nID09IG51bGwpIHtcclxuICAgIGlmIChpIDwgMykge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICByID0gcm0gPCA0ICYmIHJkID09IDk5OTk5IHx8IHJtID4gMyAmJiByZCA9PSA0OTk5OSB8fCByZCA9PSA1MDAwMCB8fCByZCA9PSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IChybSA8IDQgJiYgcmQgKyAxID09IGsgfHwgcm0gPiAzICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAyKSAtIDEgfHxcclxuICAgICAgICAgIChyZCA9PSBrIC8gMiB8fCByZCA9PSAwKSAmJiAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IDA7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChpIDwgNCkge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMSkgcmQgPSByZCAvIDEwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMikgcmQgPSByZCAvIDEwIHwgMDtcclxuICAgICAgciA9IChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCA9PSA5OTk5IHx8ICFyZXBlYXRpbmcgJiYgcm0gPiAzICYmIHJkID09IDQ5OTk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gKChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCArIDEgPT0gayB8fFxyXG4gICAgICAoIXJlcGVhdGluZyAmJiBybSA+IDMpICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMDAgfCAwKSA9PSBtYXRocG93KDEwLCBpIC0gMykgLSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vLyBDb252ZXJ0IHN0cmluZyBvZiBgYmFzZUluYCB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGBiYXNlT3V0YC5cclxuLy8gRWcuIGNvbnZlcnRCYXNlKCcyNTUnLCAxMCwgMTYpIHJldHVybnMgWzE1LCAxNV0uXHJcbi8vIEVnLiBjb252ZXJ0QmFzZSgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG5mdW5jdGlvbiBjb252ZXJ0QmFzZShzdHIsIGJhc2VJbiwgYmFzZU91dCkge1xyXG4gIHZhciBqLFxyXG4gICAgYXJyID0gWzBdLFxyXG4gICAgYXJyTCxcclxuICAgIGkgPSAwLFxyXG4gICAgc3RyTCA9IHN0ci5sZW5ndGg7XHJcblxyXG4gIGZvciAoOyBpIDwgc3RyTDspIHtcclxuICAgIGZvciAoYXJyTCA9IGFyci5sZW5ndGg7IGFyckwtLTspIGFyclthcnJMXSAqPSBiYXNlSW47XHJcbiAgICBhcnJbMF0gKz0gTlVNRVJBTFMuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xyXG4gICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcclxuICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PT0gdm9pZCAwKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIGNvcyh4KSA9IDEgLSB4XjIvMiEgKyB4XjQvNCEgLSAuLi5cclxuICogfHh8IDwgcGkvMlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zaW5lKEN0b3IsIHgpIHtcclxuICB2YXIgaywgeSxcclxuICAgIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDgqKGNvc140KHgpIC0gY29zXjIoeCkpICsgMVxyXG4gIC8vIGkuZS4gY29zKHgpID0gOCooY29zXjQoeC80KSAtIGNvc14yKHgvNCkpICsgMVxyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgaWYgKGxlbiA8IDMyKSB7XHJcbiAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgeSA9ICgxIC8gdGlueVBvdyg0LCBrKSkudG9TdHJpbmcoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IDE2O1xyXG4gICAgeSA9ICcyLjMyODMwNjQzNjUzODY5NjI4OTA2MjVlLTEwJztcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uICs9IGs7XHJcblxyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMSwgeC50aW1lcyh5KSwgbmV3IEN0b3IoMSkpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIGZvciAodmFyIGkgPSBrOyBpLS07KSB7XHJcbiAgICB2YXIgY29zMnggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IGNvczJ4LnRpbWVzKGNvczJ4KS5taW51cyhjb3MyeCkudGltZXMoOCkucGx1cygxKTtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uIC09IGs7XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuXHJcbiAqL1xyXG52YXIgZGl2aWRlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgLy8gQXNzdW1lcyBub24temVybyB4IGFuZCBrLCBhbmQgaGVuY2Ugbm9uLXplcm8gcmVzdWx0LlxyXG4gIGZ1bmN0aW9uIG11bHRpcGx5SW50ZWdlcih4LCBrLCBiYXNlKSB7XHJcbiAgICB2YXIgdGVtcCxcclxuICAgICAgY2FycnkgPSAwLFxyXG4gICAgICBpID0geC5sZW5ndGg7XHJcblxyXG4gICAgZm9yICh4ID0geC5zbGljZSgpOyBpLS07KSB7XHJcbiAgICAgIHRlbXAgPSB4W2ldICogayArIGNhcnJ5O1xyXG4gICAgICB4W2ldID0gdGVtcCAlIGJhc2UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHRlbXAgLyBiYXNlIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgdmFyIGksIHI7XHJcblxyXG4gICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgIHIgPSBhTCA+IGJMID8gMSA6IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChpID0gciA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgciA9IGFbaV0gPiBiW2ldID8gMSA6IC0xO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBhTCwgYmFzZSkge1xyXG4gICAgdmFyIGkgPSAwO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgZm9yICg7IGFMLS07KSB7XHJcbiAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgIGFbYUxdID0gaSAqIGJhc2UgKyBhW2FMXSAtIGJbYUxdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFhWzBdICYmIGEubGVuZ3RoID4gMTspIGEuc2hpZnQoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbiAoeCwgeSwgcHIsIHJtLCBkcCwgYmFzZSkge1xyXG4gICAgdmFyIGNtcCwgZSwgaSwgaywgbG9nQmFzZSwgbW9yZSwgcHJvZCwgcHJvZEwsIHEsIHFkLCByZW0sIHJlbUwsIHJlbTAsIHNkLCB0LCB4aSwgeEwsIHlkMCxcclxuICAgICAgeUwsIHl6LFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgc2lnbiA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICB5ZCA9IHkuZDtcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGQgPyB5ZCAmJiB4ZFswXSA9PSB5ZFswXSA6ICF5ZCkgPyBOYU4gOlxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgMCBvciB5IGlzIMKxSW5maW5pdHksIG9yIHJldHVybiDCsUluZmluaXR5IGFzIHkgaXMgMC5cclxuICAgICAgICB4ZCAmJiB4ZFswXSA9PSAwIHx8ICF5ZCA/IHNpZ24gKiAwIDogc2lnbiAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChiYXNlKSB7XHJcbiAgICAgIGxvZ0Jhc2UgPSAxO1xyXG4gICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgIGxvZ0Jhc2UgPSBMT0dfQkFTRTtcclxuICAgICAgZSA9IG1hdGhmbG9vcih4LmUgLyBsb2dCYXNlKSAtIG1hdGhmbG9vcih5LmUgLyBsb2dCYXNlKTtcclxuICAgIH1cclxuXHJcbiAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgcSA9IG5ldyBDdG9yKHNpZ24pO1xyXG4gICAgcWQgPSBxLmQgPSBbXTtcclxuXHJcbiAgICAvLyBSZXN1bHQgZXhwb25lbnQgbWF5IGJlIG9uZSBsZXNzIHRoYW4gZS5cclxuICAgIC8vIFRoZSBkaWdpdCBhcnJheSBvZiBhIERlY2ltYWwgZnJvbSB0b1N0cmluZ0JpbmFyeSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IHlkW2ldID09ICh4ZFtpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICBpZiAoeWRbaV0gPiAoeGRbaV0gfHwgMCkpIGUtLTtcclxuXHJcbiAgICBpZiAocHIgPT0gbnVsbCkge1xyXG4gICAgICBzZCA9IHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSBpZiAoZHApIHtcclxuICAgICAgc2QgPSBwciArICh4LmUgLSB5LmUpICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNkID0gcHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkIDwgMCkge1xyXG4gICAgICBxZC5wdXNoKDEpO1xyXG4gICAgICBtb3JlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHByZWNpc2lvbiBpbiBudW1iZXIgb2YgYmFzZSAxMCBkaWdpdHMgdG8gYmFzZSAxZTcgZGlnaXRzLlxyXG4gICAgICBzZCA9IHNkIC8gbG9nQmFzZSArIDIgfCAwO1xyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICAgIC8vIGRpdmlzb3IgPCAxZTdcclxuICAgICAgaWYgKHlMID09IDEpIHtcclxuICAgICAgICBrID0gMDtcclxuICAgICAgICB5ZCA9IHlkWzBdO1xyXG4gICAgICAgIHNkKys7XHJcblxyXG4gICAgICAgIC8vIGsgaXMgdGhlIGNhcnJ5LlxyXG4gICAgICAgIGZvciAoOyAoaSA8IHhMIHx8IGspICYmIHNkLS07IGkrKykge1xyXG4gICAgICAgICAgdCA9IGsgKiBiYXNlICsgKHhkW2ldIHx8IDApO1xyXG4gICAgICAgICAgcWRbaV0gPSB0IC8geWQgfCAwO1xyXG4gICAgICAgICAgayA9IHQgJSB5ZCB8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb3JlID0gayB8fCBpIDwgeEw7XHJcblxyXG4gICAgICAvLyBkaXZpc29yID49IDFlN1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpc2UgeGQgYW5kIHlkIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWQgaXMgPj0gYmFzZS8yXHJcbiAgICAgICAgayA9IGJhc2UgLyAoeWRbMF0gKyAxKSB8IDA7XHJcblxyXG4gICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgeWQgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeGQgPSBtdWx0aXBseUludGVnZXIoeGQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICAgICAgICB4TCA9IHhkLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgcmVtID0geGQuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgIGZvciAoOyByZW1MIDwgeUw7KSByZW1bcmVtTCsrXSA9IDA7XHJcblxyXG4gICAgICAgIHl6ID0geWQuc2xpY2UoKTtcclxuICAgICAgICB5ei51bnNoaWZ0KDApO1xyXG4gICAgICAgIHlkMCA9IHlkWzBdO1xyXG5cclxuICAgICAgICBpZiAoeWRbMV0gPj0gYmFzZSAvIDIpICsreWQwO1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBrID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBrLlxyXG4gICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGsgd2lsbCBiZSBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gdGhlIGN1cnJlbnQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBrID0gcmVtMCAvIHlkMCB8IDA7XHJcblxyXG4gICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAoaylcclxuICAgICAgICAgICAgLy8gIDIuIGlmIHByb2R1Y3QgPiByZW1haW5kZXI6IHByb2R1Y3QgLT0gZGl2aXNvciwgay0tXHJcbiAgICAgICAgICAgIC8vICAzLiByZW1haW5kZXIgLT0gcHJvZHVjdFxyXG4gICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcclxuICAgICAgICAgICAgLy8gICAgNS4gY29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yXHJcbiAgICAgICAgICAgIC8vICAgIDYuIElmIHJlbWFpbmRlciA+IGRpdmlzb3I6IHJlbWFpbmRlciAtPSBkaXZpc29yLCBrKytcclxuXHJcbiAgICAgICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgICAgIGlmIChrID49IGJhc2UpIGsgPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHlJbnRlZ2VyKHlkLCBrLCBiYXNlKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID4gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgay0tO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWQsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAvLyBJZiBrIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LCBzbyBjaGFuZ2UgY21wIHRvIDFcclxuICAgICAgICAgICAgICAvLyB0byBhdm9pZCBpdC4gSWYgayBpcyAxIHRoZXJlIGlzIGEgbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3cuXHJcbiAgICAgICAgICAgICAgaWYgKGsgPT0gMCkgY21wID0gayA9IDE7XHJcbiAgICAgICAgICAgICAgcHJvZCA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QudW5zaGlmdCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHByZXZpb3VzIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgY21wID0gY29tcGFyZSh5ZCwgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBrKys7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5ZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XHJcbiAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgfSAgICAvLyBpZiBjbXAgPT09IDEsIGsgd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBrLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgcWRbaSsrXSA9IGs7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wICYmIHJlbVswXSkge1xyXG4gICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhkW3hpXSB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtID0gW3hkW3hpXV07XHJcbiAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPT0gdm9pZCAwKSAmJiBzZC0tKTtcclxuXHJcbiAgICAgICAgbW9yZSA9IHJlbVswXSAhPT0gdm9pZCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgIGlmICghcWRbMF0pIHFkLnNoaWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9nQmFzZSBpcyAxIHdoZW4gZGl2aWRlIGlzIGJlaW5nIHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgIGlmIChsb2dCYXNlID09IDEpIHtcclxuICAgICAgcS5lID0gZTtcclxuICAgICAgaW5leGFjdCA9IG1vcmU7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gVG8gY2FsY3VsYXRlIHEuZSwgZmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHFkWzBdLlxyXG4gICAgICBmb3IgKGkgPSAxLCBrID0gcWRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGkrKztcclxuICAgICAgcS5lID0gaSArIGUgKiBsb2dCYXNlIC0gMTtcclxuXHJcbiAgICAgIGZpbmFsaXNlKHEsIGRwID8gcHIgKyBxLmUgKyAxIDogcHIsIHJtLCBtb3JlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcTtcclxuICB9O1xyXG59KSgpO1xyXG5cclxuXHJcbi8qXHJcbiAqIFJvdW5kIGB4YCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqIENoZWNrIGZvciBvdmVyL3VuZGVyLWZsb3cuXHJcbiAqL1xyXG4gZnVuY3Rpb24gZmluYWxpc2UoeCwgc2QsIHJtLCBpc1RydW5jYXRlZCkge1xyXG4gIHZhciBkaWdpdHMsIGksIGosIGssIHJkLCByb3VuZFVwLCB3LCB4ZCwgeGRpLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIERvbid0IHJvdW5kIGlmIHNkIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxyXG4gIG91dDogaWYgKHNkICE9IG51bGwpIHtcclxuICAgIHhkID0geC5kO1xyXG5cclxuICAgIC8vIEluZmluaXR5L05hTi5cclxuICAgIGlmICgheGQpIHJldHVybiB4O1xyXG5cclxuICAgIC8vIHJkOiB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgLy8gdzogdGhlIHdvcmQgb2YgeGQgY29udGFpbmluZyByZCwgYSBiYXNlIDFlNyBudW1iZXIuXHJcbiAgICAvLyB4ZGk6IHRoZSBpbmRleCBvZiB3IHdpdGhpbiB4ZC5cclxuICAgIC8vIGRpZ2l0czogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgIC8vIGk6IHdoYXQgd291bGQgYmUgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3IGlmIGFsbCB0aGUgbnVtYmVycyB3ZXJlIDcgZGlnaXRzIGxvbmcgKGkuZS4gaWZcclxuICAgIC8vIHRoZXkgaGFkIGxlYWRpbmcgemVyb3MpXHJcbiAgICAvLyBqOiBpZiA+IDAsIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIHcgKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG5cclxuICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkgeGQuXHJcbiAgICBmb3IgKGRpZ2l0cyA9IDEsIGsgPSB4ZFswXTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcbiAgICBpID0gc2QgLSBkaWdpdHM7XHJcblxyXG4gICAgLy8gSXMgdGhlIHJvdW5kaW5nIGRpZ2l0IGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgIGogPSBzZDtcclxuICAgICAgdyA9IHhkW3hkaSA9IDBdO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgIHJkID0gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHhkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgICBrID0geGQubGVuZ3RoO1xyXG4gICAgICBpZiAoeGRpID49IGspIHtcclxuICAgICAgICBpZiAoaXNUcnVuY2F0ZWQpIHtcclxuXHJcbiAgICAgICAgICAvLyBOZWVkZWQgYnkgYG5hdHVyYWxFeHBvbmVudGlhbGAsIGBuYXR1cmFsTG9nYXJpdGhtYCBhbmQgYHNxdWFyZVJvb3RgLlxyXG4gICAgICAgICAgZm9yICg7IGsrKyA8PSB4ZGk7KSB4ZC5wdXNoKDApO1xyXG4gICAgICAgICAgdyA9IHJkID0gMDtcclxuICAgICAgICAgIGRpZ2l0cyA9IDE7XHJcbiAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdyA9IGsgPSB4ZFt4ZGldO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgICAgICBmb3IgKGRpZ2l0cyA9IDE7IGsgPj0gMTA7IGsgLz0gMTApIGRpZ2l0cysrO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LlxyXG4gICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcsIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3IGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZGlnaXRzLlxyXG4gICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyBkaWdpdHM7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiB3LlxyXG4gICAgICAgIHJkID0gaiA8IDAgPyAwIDogdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFyZSB0aGVyZSBhbnkgbm9uLXplcm8gZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdD9cclxuICAgIGlzVHJ1bmNhdGVkID0gaXNUcnVuY2F0ZWQgfHwgc2QgPCAwIHx8XHJcbiAgICAgIHhkW3hkaSArIDFdICE9PSB2b2lkIDAgfHwgKGogPCAwID8gdyA6IHcgJSBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkpO1xyXG5cclxuICAgIC8vIFRoZSBleHByZXNzaW9uIGB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpYCByZXR1cm5zIGFsbCB0aGUgZGlnaXRzIG9mIHcgdG8gdGhlIHJpZ2h0XHJcbiAgICAvLyBvZiB0aGUgZGlnaXQgYXQgKGxlZnQtdG8tcmlnaHQpIGluZGV4IGosIGUuZy4gaWYgdyBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb25cclxuICAgIC8vIHdpbGwgZ2l2ZSA3MTQuXHJcblxyXG4gICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICA/IChyZCB8fCBpc1RydW5jYXRlZCkgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgaXNUcnVuY2F0ZWQgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBkaWdpdCB0byB0aGUgbGVmdCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgb2RkLlxyXG4gICAgICAgICgoaSA+IDAgPyBqID4gMCA/IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSA6IDAgOiB4ZFt4ZGkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgaWYgKHNkIDwgMSB8fCAheGRbMF0pIHtcclxuICAgICAgeGQubGVuZ3RoID0gMDtcclxuICAgICAgaWYgKHJvdW5kVXApIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgIHhkWzBdID0gbWF0aHBvdygxMCwgKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRSk7XHJcbiAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeGRbMF0gPSB4LmUgPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXhjZXNzIGRpZ2l0cy5cclxuICAgIGlmIChpID09IDApIHtcclxuICAgICAgeGQubGVuZ3RoID0geGRpO1xyXG4gICAgICBrID0gMTtcclxuICAgICAgeGRpLS07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ZC5sZW5ndGggPSB4ZGkgKyAxO1xyXG4gICAgICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuXHJcbiAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIHcuXHJcbiAgICAgIHhkW3hkaV0gPSBqID4gMCA/ICh3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaikgJSBtYXRocG93KDEwLCBqKSB8IDApICogayA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kVXApIHtcclxuICAgICAgZm9yICg7Oykge1xyXG5cclxuICAgICAgICAvLyBJcyB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgICAgICBpZiAoeGRpID09IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4ZFswXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4ZFswXTsgaiA+PSAxMDsgaiAvPSAxMCkgaSsrO1xyXG4gICAgICAgICAgaiA9IHhkWzBdICs9IGs7XHJcbiAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwKSBrKys7XHJcblxyXG4gICAgICAgICAgLy8gaWYgaSAhPSBrIHRoZSBsZW5ndGggaGFzIGluY3JlYXNlZC5cclxuICAgICAgICAgIGlmIChpICE9IGspIHtcclxuICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgIGlmICh4ZFswXSA9PSBCQVNFKSB4ZFswXSA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhkW3hkaV0gKz0gaztcclxuICAgICAgICAgIGlmICh4ZFt4ZGldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgeGRbeGRpLS1dID0gMDtcclxuICAgICAgICAgIGsgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhkLmxlbmd0aDsgeGRbLS1pXSA9PT0gMDspIHhkLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgLy8gT3ZlcmZsb3c/XHJcbiAgICBpZiAoeC5lID4gQ3Rvci5tYXhFKSB7XHJcblxyXG4gICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgeC5lID0gTmFOO1xyXG5cclxuICAgIC8vIFVuZGVyZmxvdz9cclxuICAgIH0gZWxzZSBpZiAoeC5lIDwgQ3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmUgPSAwO1xyXG4gICAgICB4LmQgPSBbMF07XHJcbiAgICAgIC8vIEN0b3IudW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgIH0gLy8gZWxzZSBDdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmaW5pdGVUb1N0cmluZyh4LCBpc0V4cCwgc2QpIHtcclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5vbkZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gIHZhciBrLFxyXG4gICAgZSA9IHguZSxcclxuICAgIHN0ciA9IGRpZ2l0c1RvU3RyaW5nKHguZCksXHJcbiAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSBzdHIgKyAoeC5lIDwgMCA/ICdlJyA6ICdlKycpICsgeC5lO1xyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgIHN0ciA9ICcwLicgKyBnZXRaZXJvU3RyaW5nKC1lIC0gMSkgKyBzdHI7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2UgaWYgKGUgPj0gbGVuKSB7XHJcbiAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhlICsgMSAtIGxlbik7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGUgLSAxKSA+IDApIHN0ciA9IHN0ciArICcuJyArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICgoayA9IGUgKyAxKSA8IGxlbikgc3RyID0gc3RyLnNsaWNlKDAsIGspICsgJy4nICsgc3RyLnNsaWNlKGspO1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICBpZiAoZSArIDEgPT09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIHRoZSBiYXNlIDEwIGV4cG9uZW50IGZyb20gdGhlIGJhc2UgMWU3IGV4cG9uZW50LlxyXG5mdW5jdGlvbiBnZXRCYXNlMTBFeHBvbmVudChkaWdpdHMsIGUpIHtcclxuICB2YXIgdyA9IGRpZ2l0c1swXTtcclxuXHJcbiAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkuXHJcbiAgZm9yICggZSAqPSBMT0dfQkFTRTsgdyA+PSAxMDsgdyAvPSAxMCkgZSsrO1xyXG4gIHJldHVybiBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0TG4xMChDdG9yLCBzZCwgcHIpIHtcclxuICBpZiAoc2QgPiBMTjEwX1BSRUNJU0lPTikge1xyXG5cclxuICAgIC8vIFJlc2V0IGdsb2JhbCBzdGF0ZSBpbiBjYXNlIHRoZSBleGNlcHRpb24gaXMgY2F1Z2h0LlxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgaWYgKHByKSBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhyb3cgRXJyb3IocHJlY2lzaW9uTGltaXRFeGNlZWRlZCk7XHJcbiAgfVxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihMTjEwKSwgc2QsIDEsIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UGkoQ3Rvciwgc2QsIHJtKSB7XHJcbiAgaWYgKHNkID4gUElfUFJFQ0lTSU9OKSB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoUEkpLCBzZCwgcm0sIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKGRpZ2l0cykge1xyXG4gIHZhciB3ID0gZGlnaXRzLmxlbmd0aCAtIDEsXHJcbiAgICBsZW4gPSB3ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICB3ID0gZGlnaXRzW3ddO1xyXG5cclxuICAvLyBJZiBub24temVyby4uLlxyXG4gIGlmICh3KSB7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgZm9yICg7IHcgJSAxMCA9PSAwOyB3IC89IDEwKSBsZW4tLTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQuXHJcbiAgICBmb3IgKHcgPSBkaWdpdHNbMF07IHcgPj0gMTA7IHcgLz0gMTApIGxlbisrO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxlbjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFplcm9TdHJpbmcoaykge1xyXG4gIHZhciB6cyA9ICcnO1xyXG4gIGZvciAoOyBrLS07KSB6cyArPSAnMCc7XHJcbiAgcmV0dXJuIHpzO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIHRvIHRoZSBwb3dlciBgbmAsIHdoZXJlIGBuYCBpcyBhblxyXG4gKiBpbnRlZ2VyIG9mIHR5cGUgbnVtYmVyLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRzICdleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZycuIENhbGxlZCBieSBgcG93YCBhbmQgYHBhcnNlT3RoZXJgLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaW50UG93KEN0b3IsIHgsIG4sIHByKSB7XHJcbiAgdmFyIGlzVHJ1bmNhdGVkLFxyXG4gICAgciA9IG5ldyBDdG9yKDEpLFxyXG5cclxuICAgIC8vIE1heCBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEgdGFrZXMgNTMgbG9vcCBpdGVyYXRpb25zLlxyXG4gICAgLy8gTWF4aW11bSBkaWdpdHMgYXJyYXkgbGVuZ3RoOyBsZWF2ZXMgWzI4LCAzNF0gZ3VhcmQgZGlnaXRzLlxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFICsgNCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIGlmIChuICUgMikge1xyXG4gICAgICByID0gci50aW1lcyh4KTtcclxuICAgICAgaWYgKHRydW5jYXRlKHIuZCwgaykpIGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBuID0gbWF0aGZsb29yKG4gLyAyKTtcclxuICAgIGlmIChuID09PSAwKSB7XHJcblxyXG4gICAgICAvLyBUbyBlbnN1cmUgY29ycmVjdCByb3VuZGluZyB3aGVuIHIuZCBpcyB0cnVuY2F0ZWQsIGluY3JlbWVudCB0aGUgbGFzdCB3b3JkIGlmIGl0IGlzIHplcm8uXHJcbiAgICAgIG4gPSByLmQubGVuZ3RoIC0gMTtcclxuICAgICAgaWYgKGlzVHJ1bmNhdGVkICYmIHIuZFtuXSA9PT0gMCkgKytyLmRbbl07XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHggPSB4LnRpbWVzKHgpO1xyXG4gICAgdHJ1bmNhdGUoeC5kLCBrKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc09kZChuKSB7XHJcbiAgcmV0dXJuIG4uZFtuLmQubGVuZ3RoIC0gMV0gJiAxO1xyXG59XHJcblxyXG5cclxuLypcclxuICogSGFuZGxlIGBtYXhgIGFuZCBgbWluYC4gYGx0Z3RgIGlzICdsdCcgb3IgJ2d0Jy5cclxuICovXHJcbmZ1bmN0aW9uIG1heE9yTWluKEN0b3IsIGFyZ3MsIGx0Z3QpIHtcclxuICB2YXIgeSxcclxuICAgIHggPSBuZXcgQ3RvcihhcmdzWzBdKSxcclxuICAgIGkgPSAwO1xyXG5cclxuICBmb3IgKDsgKytpIDwgYXJncy5sZW5ndGg7KSB7XHJcbiAgICB5ID0gbmV3IEN0b3IoYXJnc1tpXSk7XHJcbiAgICBpZiAoIXkucykge1xyXG4gICAgICB4ID0geTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9IGVsc2UgaWYgKHhbbHRndF0oeSkpIHtcclxuICAgICAgeCA9IHk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzLlxyXG4gKlxyXG4gKiBUYXlsb3IvTWFjbGF1cmluIHNlcmllcy5cclxuICpcclxuICogZXhwKHgpID0geF4wLzAhICsgeF4xLzEhICsgeF4yLzIhICsgeF4zLzMhICsgLi4uXHJcbiAqXHJcbiAqIEFyZ3VtZW50IHJlZHVjdGlvbjpcclxuICogICBSZXBlYXQgeCA9IHggLyAzMiwgayArPSA1LCB1bnRpbCB8eHwgPCAwLjFcclxuICogICBleHAoeCkgPSBleHAoeCAvIDJeayleKDJeaylcclxuICpcclxuICogUHJldmlvdXNseSwgdGhlIGFyZ3VtZW50IHdhcyBpbml0aWFsbHkgcmVkdWNlZCBieVxyXG4gKiBleHAoeCkgPSBleHAocikgKiAxMF5rICB3aGVyZSByID0geCAtIGsgKiBsbjEwLCBrID0gZmxvb3IoeCAvIGxuMTApXHJcbiAqIHRvIGZpcnN0IHB1dCByIGluIHRoZSByYW5nZSBbMCwgbG4xMF0sIGJlZm9yZSBkaXZpZGluZyBieSAzMiB1bnRpbCB8eHwgPCAwLjEsIGJ1dCB0aGlzIHdhc1xyXG4gKiBmb3VuZCB0byBiZSBzbG93ZXIgdGhhbiBqdXN0IGRpdmlkaW5nIHJlcGVhdGVkbHkgYnkgMzIgYXMgYWJvdmUuXHJcbiAqXHJcbiAqIE1heCBpbnRlZ2VyIGFyZ3VtZW50OiBleHAoJzIwNzIzMjY1ODM2OTQ2NDEzJykgPSA2LjNlKzkwMDAwMDAwMDAwMDAwMDBcclxuICogTWluIGludGVnZXIgYXJndW1lbnQ6IGV4cCgnLTIwNzIzMjY1ODM2OTQ2NDExJykgPSAxLjJlLTkwMDAwMDAwMDAwMDAwMDBcclxuICogKE1hdGggb2JqZWN0IGludGVnZXIgbWluL21heDogTWF0aC5leHAoNzA5KSA9IDguMmUrMzA3LCBNYXRoLmV4cCgtNzQ1KSA9IDVlLTMyNClcclxuICpcclxuICogIGV4cChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGV4cCgtSW5maW5pdHkpID0gMFxyXG4gKiAgZXhwKE5hTikgICAgICAgPSBOYU5cclxuICogIGV4cCjCsTApICAgICAgICA9IDFcclxuICpcclxuICogIGV4cCh4KSBpcyBub24tdGVybWluYXRpbmcgZm9yIGFueSBmaW5pdGUsIG5vbi16ZXJvIHguXHJcbiAqXHJcbiAqICBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbmF0dXJhbEV4cG9uZW50aWFsKHgsIHNkKSB7XHJcbiAgdmFyIGRlbm9taW5hdG9yLCBndWFyZCwgaiwgcG93LCBzdW0sIHQsIHdwcixcclxuICAgIHJlcCA9IDAsXHJcbiAgICBpID0gMCxcclxuICAgIGsgPSAwLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG5cclxuICAvLyAwL05hTi9JbmZpbml0eT9cclxuICBpZiAoIXguZCB8fCAheC5kWzBdIHx8IHguZSA+IDE3KSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHguZFxyXG4gICAgICA/ICF4LmRbMF0gPyAxIDogeC5zIDwgMCA/IDAgOiAxIC8gMFxyXG4gICAgICA6IHgucyA/IHgucyA8IDAgPyAwIDogeCA6IDAgLyAwKTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgdCA9IG5ldyBDdG9yKDAuMDMxMjUpO1xyXG5cclxuICAvLyB3aGlsZSBhYnMoeCkgPj0gMC4xXHJcbiAgd2hpbGUgKHguZSA+IC0yKSB7XHJcblxyXG4gICAgLy8geCA9IHggLyAyXjVcclxuICAgIHggPSB4LnRpbWVzKHQpO1xyXG4gICAgayArPSA1O1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlIDIgKiBsb2cxMCgyXmspICsgNSAoZW1waXJpY2FsbHkgZGVyaXZlZCkgdG8gZXN0aW1hdGUgdGhlIGluY3JlYXNlIGluIHByZWNpc2lvblxyXG4gIC8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBjb3JyZWN0LlxyXG4gIGd1YXJkID0gTWF0aC5sb2cobWF0aHBvdygyLCBrKSkgLyBNYXRoLkxOMTAgKiAyICsgNSB8IDA7XHJcbiAgd3ByICs9IGd1YXJkO1xyXG4gIGRlbm9taW5hdG9yID0gcG93ID0gc3VtID0gbmV3IEN0b3IoMSk7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHI7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHBvdyA9IGZpbmFsaXNlKHBvdy50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgIGRlbm9taW5hdG9yID0gZGVub21pbmF0b3IudGltZXMoKytpKTtcclxuICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUocG93LCBkZW5vbWluYXRvciwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgaiA9IGs7XHJcbiAgICAgIHdoaWxlIChqLS0pIHN1bSA9IGZpbmFsaXNlKHN1bS50aW1lcyhzdW0pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OS5cclxuICAgICAgLy8gSWYgc28sIHJlcGVhdCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTgsIHJvdW5kaW5nOiAxXHJcbiAgICAgIC8vIGV4cCgxOC40MDQyNzI0NjI1OTUwMzQwODM1Njc3OTM5MTk4NDM3NjEpID0gOTgzNzI1NjAuMTIyOTk5OTk5OSAoc2hvdWxkIGJlIDk4MzcyNTYwLjEyMylcclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIGlmIChyZXAgPCAzICYmIGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gMTA7XHJcbiAgICAgICAgICBkZW5vbWluYXRvciA9IHBvdyA9IHQgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgcmVwKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmaW5hbGlzZShzdW0sIEN0b3IucHJlY2lzaW9uID0gcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdW0gPSB0O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cy5cclxuICpcclxuICogIGxuKC1uKSAgICAgICAgPSBOYU5cclxuICogIGxuKDApICAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKC0wKSAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKDEpICAgICAgICAgPSAwXHJcbiAqICBsbihJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGxuKC1JbmZpbml0eSkgPSBOYU5cclxuICogIGxuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIGxuKG4pIChuICE9IDEpIGlzIG5vbi10ZXJtaW5hdGluZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG5hdHVyYWxMb2dhcml0aG0oeSwgc2QpIHtcclxuICB2YXIgYywgYzAsIGRlbm9taW5hdG9yLCBlLCBudW1lcmF0b3IsIHJlcCwgc3VtLCB0LCB3cHIsIHgxLCB4MixcclxuICAgIG4gPSAxLFxyXG4gICAgZ3VhcmQgPSAxMCxcclxuICAgIHggPSB5LFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gIC8vIElzIHggbmVnYXRpdmUgb3IgSW5maW5pdHksIE5hTiwgMCBvciAxP1xyXG4gIGlmICh4LnMgPCAwIHx8ICF4ZCB8fCAheGRbMF0gfHwgIXguZSAmJiB4ZFswXSA9PSAxICYmIHhkLmxlbmd0aCA9PSAxKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeGQgJiYgIXhkWzBdID8gLTEgLyAwIDogeC5zICE9IDEgPyBOYU4gOiB4ZCA/IDAgOiB4KTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgYyA9IGRpZ2l0c1RvU3RyaW5nKHhkKTtcclxuICBjMCA9IGMuY2hhckF0KDApO1xyXG5cclxuICBpZiAoTWF0aC5hYnMoZSA9IHguZSkgPCAxLjVlMTUpIHtcclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICAvLyBUaGUgc2VyaWVzIGNvbnZlcmdlcyBmYXN0ZXIgdGhlIGNsb3NlciB0aGUgYXJndW1lbnQgaXMgdG8gMSwgc28gdXNpbmdcclxuICAgIC8vIGxuKGFeYikgPSBiICogbG4oYSksICAgbG4oYSkgPSBsbihhXmIpIC8gYlxyXG4gICAgLy8gbXVsdGlwbHkgdGhlIGFyZ3VtZW50IGJ5IGl0c2VsZiB1bnRpbCB0aGUgbGVhZGluZyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kIGFyZSA3LCA4LCA5LFxyXG4gICAgLy8gMTAsIDExLCAxMiBvciAxMywgcmVjb3JkaW5nIHRoZSBudW1iZXIgb2YgbXVsdGlwbGljYXRpb25zIHNvIHRoZSBzdW0gb2YgdGhlIHNlcmllcyBjYW5cclxuICAgIC8vIGxhdGVyIGJlIGRpdmlkZWQgYnkgdGhpcyBudW1iZXIsIHRoZW4gc2VwYXJhdGUgb3V0IHRoZSBwb3dlciBvZiAxMCB1c2luZ1xyXG4gICAgLy8gbG4oYSoxMF5iKSA9IGxuKGEpICsgYipsbigxMCkuXHJcblxyXG4gICAgLy8gbWF4IG4gaXMgMjEgKGdpdmVzIDAuOSwgMS4wIG9yIDEuMSkgKDllMTUgLyAyMSA9IDQuMmUxNCkuXHJcbiAgICAvL3doaWxlIChjMCA8IDkgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMSkge1xyXG4gICAgLy8gbWF4IG4gaXMgNiAoZ2l2ZXMgMC43IC0gMS4zKVxyXG4gICAgd2hpbGUgKGMwIDwgNyAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAzKSB7XHJcbiAgICAgIHggPSB4LnRpbWVzKHkpO1xyXG4gICAgICBjID0gZGlnaXRzVG9TdHJpbmcoeC5kKTtcclxuICAgICAgYzAgPSBjLmNoYXJBdCgwKTtcclxuICAgICAgbisrO1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSB4LmU7XHJcblxyXG4gICAgaWYgKGMwID4gMSkge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoJzAuJyArIGMpO1xyXG4gICAgICBlKys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoYzAgKyAnLicgKyBjLnNsaWNlKDEpKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIFRoZSBhcmd1bWVudCByZWR1Y3Rpb24gbWV0aG9kIGFib3ZlIG1heSByZXN1bHQgaW4gb3ZlcmZsb3cgaWYgdGhlIGFyZ3VtZW50IHkgaXMgYSBtYXNzaXZlXHJcbiAgICAvLyBudW1iZXIgd2l0aCBleHBvbmVudCA+PSAxNTAwMDAwMDAwMDAwMDAwICg5ZTE1IC8gNiA9IDEuNWUxNSksIHNvIGluc3RlYWQgcmVjYWxsIHRoaXNcclxuICAgIC8vIGZ1bmN0aW9uIHVzaW5nIGxuKHgqMTBeZSkgPSBsbih4KSArIGUqbG4oMTApLlxyXG4gICAgdCA9IGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJyk7XHJcbiAgICB4ID0gbmF0dXJhbExvZ2FyaXRobShuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpLCB3cHIgLSBndWFyZCkucGx1cyh0KTtcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcblxyXG4gICAgcmV0dXJuIHNkID09IG51bGwgPyBmaW5hbGlzZSh4LCBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSkgOiB4O1xyXG4gIH1cclxuXHJcbiAgLy8geDEgaXMgeCByZWR1Y2VkIHRvIGEgdmFsdWUgbmVhciAxLlxyXG4gIHgxID0geDtcclxuXHJcbiAgLy8gVGF5bG9yIHNlcmllcy5cclxuICAvLyBsbih5KSA9IGxuKCgxICsgeCkvKDEgLSB4KSkgPSAyKHggKyB4XjMvMyArIHheNS81ICsgeF43LzcgKyAuLi4pXHJcbiAgLy8gd2hlcmUgeCA9ICh5IC0gMSkvKHkgKyAxKSAgICAofHh8IDwgMSlcclxuICBzdW0gPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgubWludXMoMSksIHgucGx1cygxKSwgd3ByLCAxKTtcclxuICB4MiA9IGZpbmFsaXNlKHgudGltZXMoeCksIHdwciwgMSk7XHJcbiAgZGVub21pbmF0b3IgPSAzO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBudW1lcmF0b3IgPSBmaW5hbGlzZShudW1lcmF0b3IudGltZXMoeDIpLCB3cHIsIDEpO1xyXG4gICAgdCA9IHN1bS5wbHVzKGRpdmlkZShudW1lcmF0b3IsIG5ldyBDdG9yKGRlbm9taW5hdG9yKSwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgc3VtID0gc3VtLnRpbWVzKDIpO1xyXG5cclxuICAgICAgLy8gUmV2ZXJzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLiBDaGVjayB0aGF0IGUgaXMgbm90IDAgYmVjYXVzZSwgYmVzaWRlcyBwcmV2ZW50aW5nIGFuXHJcbiAgICAgIC8vIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9uLCAtMCArIDAgPSArMCBhbmQgdG8gZW5zdXJlIGNvcnJlY3Qgcm91bmRpbmcgLTAgbmVlZHMgdG8gc3RheSAtMC5cclxuICAgICAgaWYgKGUgIT09IDApIHN1bSA9IHN1bS5wbHVzKGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJykpO1xyXG4gICAgICBzdW0gPSBkaXZpZGUoc3VtLCBuZXcgQ3RvcihuKSwgd3ByLCAxKTtcclxuXHJcbiAgICAgIC8vIElzIHJtID4gMyBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDQ5OTksIG9yIHJtIDwgNCAob3IgdGhlIHN1bW1hdGlvbiBoYXNcclxuICAgICAgLy8gYmVlbiByZXBlYXRlZCBwcmV2aW91c2x5KSBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDk5OTk/XHJcbiAgICAgIC8vIElmIHNvLCByZXN0YXJ0IHRoZSBzdW1tYXRpb24gd2l0aCBhIGhpZ2hlciBwcmVjaXNpb24sIG90aGVyd2lzZVxyXG4gICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxMiwgcm91bmRpbmc6IDFcclxuICAgICAgLy8gbG4oMTM1NTIwMDI4LjYxMjYwOTE3MTQyNjUzODE1MzMpID0gMTguNzI0NjI5OTk5OSB3aGVuIGl0IHNob3VsZCBiZSAxOC43MjQ2My5cclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgICAgICAgICB0ID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4MS5taW51cygxKSwgeDEucGx1cygxKSwgd3ByLCAxKTtcclxuICAgICAgICAgIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgICAgICAgIGRlbm9taW5hdG9yID0gcmVwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1bSA9IHQ7XHJcbiAgICBkZW5vbWluYXRvciArPSAyO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIMKxSW5maW5pdHksIE5hTi5cclxuZnVuY3Rpb24gbm9uRmluaXRlVG9TdHJpbmcoeCkge1xyXG4gIC8vIFVuc2lnbmVkLlxyXG4gIHJldHVybiBTdHJpbmcoeC5zICogeC5zIC8gMCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBzdHJpbmcgYHN0cmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZURlY2ltYWwoeCwgc3RyKSB7XHJcbiAgdmFyIGUsIGksIGxlbjtcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXHJcbiAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgIC8vIEludGVnZXIuXHJcbiAgICBlID0gc3RyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQobGVuIC0gMSkgPT09IDQ4OyAtLWxlbik7XHJcbiAgc3RyID0gc3RyLnNsaWNlKGksIGxlbik7XHJcblxyXG4gIGlmIChzdHIpIHtcclxuICAgIGxlbiAtPSBpO1xyXG4gICAgeC5lID0gZSA9IGUgLSBpIC0gMTtcclxuICAgIHguZCA9IFtdO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICBpZiAoaSkgeC5kLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcbiAgICAgIGZvciAobGVuIC09IExPR19CQVNFOyBpIDwgbGVuOykgeC5kLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZShpKTtcclxuICAgICAgaSA9IExPR19CQVNFIC0gc3RyLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgLT0gbGVuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoOyBpLS07KSBzdHIgKz0gJzAnO1xyXG4gICAgeC5kLnB1c2goK3N0cik7XHJcblxyXG4gICAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKHguZSA+IHguY29uc3RydWN0b3IubWF4RSkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmICh4LmUgPCB4LmNvbnN0cnVjdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAvLyB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICAgIH0gLy8gZWxzZSB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gWmVyby5cclxuICAgIHguZSA9IDA7XHJcbiAgICB4LmQgPSBbMF07XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBhcnNlIHRoZSB2YWx1ZSBvZiBhIG5ldyBEZWNpbWFsIGB4YCBmcm9tIGEgc3RyaW5nIGBzdHJgLCB3aGljaCBpcyBub3QgYSBkZWNpbWFsIHZhbHVlLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VPdGhlcih4LCBzdHIpIHtcclxuICB2YXIgYmFzZSwgQ3RvciwgZGl2aXNvciwgaSwgaXNGbG9hdCwgbGVuLCBwLCB4ZCwgeGU7XHJcblxyXG4gIGlmIChzdHIgPT09ICdJbmZpbml0eScgfHwgc3RyID09PSAnTmFOJykge1xyXG4gICAgaWYgKCErc3RyKSB4LnMgPSBOYU47XHJcbiAgICB4LmUgPSBOYU47XHJcbiAgICB4LmQgPSBudWxsO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNIZXgudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDE2O1xyXG4gICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgfSBlbHNlIGlmIChpc0JpbmFyeS50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gMjtcclxuICB9IGVsc2UgaWYgKGlzT2N0YWwudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDg7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHN0cik7XHJcbiAgfVxyXG5cclxuICAvLyBJcyB0aGVyZSBhIGJpbmFyeSBleHBvbmVudCBwYXJ0P1xyXG4gIGkgPSBzdHIuc2VhcmNoKC9wL2kpO1xyXG5cclxuICBpZiAoaSA+IDApIHtcclxuICAgIHAgPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgaSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IHN0ci5zbGljZSgyKTtcclxuICB9XHJcblxyXG4gIC8vIENvbnZlcnQgYHN0cmAgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGBiYXNlYCByYWlzZWQgdG8gYSBwb3dlciBzdWNoIHRoYXQgdGhlXHJcbiAgLy8gZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG4gIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG4gIGlzRmxvYXQgPSBpID49IDA7XHJcbiAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChpc0Zsb2F0KSB7XHJcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcbiAgICBpID0gbGVuIC0gaTtcclxuXHJcbiAgICAvLyBsb2dbMTBdKDE2KSA9IDEuMjA0MS4uLiAsIGxvZ1sxMF0oODgpID0gMS45NDQ0Li4uLlxyXG4gICAgZGl2aXNvciA9IGludFBvdyhDdG9yLCBuZXcgQ3RvcihiYXNlKSwgaSwgaSAqIDIpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIEJBU0UpO1xyXG4gIHhlID0geGQubGVuZ3RoIC0gMTtcclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IHhlOyB4ZFtpXSA9PT0gMDsgLS1pKSB4ZC5wb3AoKTtcclxuICBpZiAoaSA8IDApIHJldHVybiBuZXcgQ3Rvcih4LnMgKiAwKTtcclxuICB4LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgeGUpO1xyXG4gIHguZCA9IHhkO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEF0IHdoYXQgcHJlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGRpdmlzaW9uIHRvIGVuc3VyZSBleGFjdCBjb252ZXJzaW9uP1xyXG4gIC8vIG1heERlY2ltYWxJbnRlZ2VyUGFydERpZ2l0Q291bnQgPSBjZWlsKGxvZ1sxMF0oYikgKiBvdGhlckJhc2VJbnRlZ2VyUGFydERpZ2l0Q291bnQpXHJcbiAgLy8gbG9nWzEwXSgyKSA9IDAuMzAxMDMsIGxvZ1sxMF0oOCkgPSAwLjkwMzA5LCBsb2dbMTBdKDE2KSA9IDEuMjA0MTJcclxuICAvLyBFLmcuIGNlaWwoMS4yICogMykgPSA0LCBzbyB1cCB0byA0IGRlY2ltYWwgZGlnaXRzIGFyZSBuZWVkZWQgdG8gcmVwcmVzZW50IDMgaGV4IGludCBkaWdpdHMuXHJcbiAgLy8gbWF4RGVjaW1hbEZyYWN0aW9uUGFydERpZ2l0Q291bnQgPSB7SGV4OjR8T2N0OjN8QmluOjF9ICogb3RoZXJCYXNlRnJhY3Rpb25QYXJ0RGlnaXRDb3VudFxyXG4gIC8vIFRoZXJlZm9yZSB1c2luZyA0ICogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygc3RyIHdpbGwgYWx3YXlzIGJlIGVub3VnaC5cclxuICBpZiAoaXNGbG9hdCkgeCA9IGRpdmlkZSh4LCBkaXZpc29yLCBsZW4gKiA0KTtcclxuXHJcbiAgLy8gTXVsdGlwbHkgYnkgdGhlIGJpbmFyeSBleHBvbmVudCBwYXJ0IGlmIHByZXNlbnQuXHJcbiAgaWYgKHApIHggPSB4LnRpbWVzKE1hdGguYWJzKHApIDwgNTQgPyBtYXRocG93KDIsIHApIDogRGVjaW1hbC5wb3coMiwgcCkpO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAqIHx4fCA8IHBpLzJcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmUoQ3RvciwgeCkge1xyXG4gIHZhciBrLFxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgaWYgKGxlbiA8IDMpIHJldHVybiB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luKDV4KSA9IDE2KnNpbl41KHgpIC0gMjAqc2luXjMoeCkgKyA1KnNpbih4KVxyXG4gIC8vIGkuZS4gc2luKHgpID0gMTYqc2luXjUoeC81KSAtIDIwKnNpbl4zKHgvNSkgKyA1KnNpbih4LzUpXHJcbiAgLy8gYW5kICBzaW4oeCkgPSBzaW4oeC81KSg1ICsgc2luXjIoeC81KSgxNnNpbl4yKHgvNSkgLSAyMCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgayA9IGsgPiAxNiA/IDE2IDogayB8IDA7XHJcblxyXG4gIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIHZhciBzaW4yX3gsXHJcbiAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgZDIwID0gbmV3IEN0b3IoMjApO1xyXG4gIGZvciAoOyBrLS07KSB7XHJcbiAgICBzaW4yX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW4yX3gudGltZXMoZDE2LnRpbWVzKHNpbjJfeCkubWludXMoZDIwKSkpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIFRheWxvciBzZXJpZXMgZm9yIGBjb3NgLCBgY29zaGAsIGBzaW5gIGFuZCBgc2luaGAuXHJcbmZ1bmN0aW9uIHRheWxvclNlcmllcyhDdG9yLCBuLCB4LCB5LCBpc0h5cGVyYm9saWMpIHtcclxuICB2YXIgaiwgdCwgdSwgeDIsXHJcbiAgICBpID0gMSxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICB1ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSBkaXZpZGUodS50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgIHUgPSBpc0h5cGVyYm9saWMgPyB5LnBsdXModCkgOiB5Lm1pbnVzKHQpO1xyXG4gICAgeSA9IGRpdmlkZSh0LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgdCA9IHUucGx1cyh5KTtcclxuXHJcbiAgICBpZiAodC5kW2tdICE9PSB2b2lkIDApIHtcclxuICAgICAgZm9yIChqID0gazsgdC5kW2pdID09PSB1LmRbal0gJiYgai0tOyk7XHJcbiAgICAgIGlmIChqID09IC0xKSBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBqID0gdTtcclxuICAgIHUgPSB5O1xyXG4gICAgeSA9IHQ7XHJcbiAgICB0ID0gajtcclxuICAgIGkrKztcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICB0LmQubGVuZ3RoID0gayArIDE7XHJcblxyXG4gIHJldHVybiB0O1xyXG59XHJcblxyXG5cclxuLy8gRXhwb25lbnQgZSBtdXN0IGJlIHBvc2l0aXZlIGFuZCBub24temVyby5cclxuZnVuY3Rpb24gdGlueVBvdyhiLCBlKSB7XHJcbiAgdmFyIG4gPSBiO1xyXG4gIHdoaWxlICgtLWUpIG4gKj0gYjtcclxuICByZXR1cm4gbjtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgIHJlZHVjZWQgdG8gbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGhhbGYgcGkuXHJcbmZ1bmN0aW9uIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkge1xyXG4gIHZhciB0LFxyXG4gICAgaXNOZWcgPSB4LnMgPCAwLFxyXG4gICAgcGkgPSBnZXRQaShDdG9yLCBDdG9yLnByZWNpc2lvbiwgMSksXHJcbiAgICBoYWxmUGkgPSBwaS50aW1lcygwLjUpO1xyXG5cclxuICB4ID0geC5hYnMoKTtcclxuXHJcbiAgaWYgKHgubHRlKGhhbGZQaSkpIHtcclxuICAgIHF1YWRyYW50ID0gaXNOZWcgPyA0IDogMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcbiAgdCA9IHguZGl2VG9JbnQocGkpO1xyXG5cclxuICBpZiAodC5pc1plcm8oKSkge1xyXG4gICAgcXVhZHJhbnQgPSBpc05lZyA/IDMgOiAyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB4ID0geC5taW51cyh0LnRpbWVzKHBpKSk7XHJcblxyXG4gICAgLy8gMCA8PSB4IDwgcGlcclxuICAgIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAyIDogMykgOiAoaXNOZWcgPyA0IDogMSk7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAxIDogNCkgOiAoaXNOZWcgPyAzIDogMik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5taW51cyhwaSkuYWJzKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIGFzIGEgc3RyaW5nIGluIGJhc2UgYGJhc2VPdXRgLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IGluY2x1ZGUgYSBiaW5hcnkgZXhwb25lbnQgc3VmZml4LlxyXG4gKi9cclxuZnVuY3Rpb24gdG9TdHJpbmdCaW5hcnkoeCwgYmFzZU91dCwgc2QsIHJtKSB7XHJcbiAgdmFyIGJhc2UsIGUsIGksIGssIGxlbiwgcm91bmRVcCwgc3RyLCB4ZCwgeSxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgaXNFeHAgPSBzZCAhPT0gdm9pZCAwO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfVxyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgc3RyID0gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgaSA9IHN0ci5pbmRleE9mKCcuJyk7XHJcblxyXG4gICAgLy8gVXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFjY29yZGluZyB0byBgdG9FeHBQb3NgIGFuZCBgdG9FeHBOZWdgPyBObywgYnV0IGlmIHJlcXVpcmVkOlxyXG4gICAgLy8gbWF4QmluYXJ5RXhwb25lbnQgPSBmbG9vcigoZGVjaW1hbEV4cG9uZW50ICsgMSkgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbWluQmluYXJ5RXhwb25lbnQgPSBmbG9vcihkZWNpbWFsRXhwb25lbnQgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbG9nWzJdKDEwKSA9IDMuMzIxOTI4MDk0ODg3MzYyMzQ3ODcwMzE5NDI5NDg5MzkwMTc1ODY0XHJcblxyXG4gICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgIGJhc2UgPSAyO1xyXG4gICAgICBpZiAoYmFzZU91dCA9PSAxNikge1xyXG4gICAgICAgIHNkID0gc2QgKiA0IC0gMztcclxuICAgICAgfSBlbHNlIGlmIChiYXNlT3V0ID09IDgpIHtcclxuICAgICAgICBzZCA9IHNkICogMyAtIDI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJhc2UgPSBiYXNlT3V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIgc3VjaFxyXG4gICAgLy8gdGhhdCB0aGUgZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG5cclxuICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICB5LmUgPSBzdHIubGVuZ3RoIC0gaTtcclxuICAgICAgeS5kID0gY29udmVydEJhc2UoZmluaXRlVG9TdHJpbmcoeSksIDEwLCBiYXNlKTtcclxuICAgICAgeS5lID0geS5kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgMTAsIGJhc2UpO1xyXG4gICAgZSA9IGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgICBpZiAoIXhkWzBdKSB7XHJcbiAgICAgIHN0ciA9IGlzRXhwID8gJzBwKzAnIDogJzAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgZS0tO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBuZXcgQ3Rvcih4KTtcclxuICAgICAgICB4LmQgPSB4ZDtcclxuICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgIHggPSBkaXZpZGUoeCwgeSwgc2QsIHJtLCAwLCBiYXNlKTtcclxuICAgICAgICB4ZCA9IHguZDtcclxuICAgICAgICBlID0geC5lO1xyXG4gICAgICAgIHJvdW5kVXAgPSBpbmV4YWN0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICBpID0geGRbc2RdO1xyXG4gICAgICBrID0gYmFzZSAvIDI7XHJcbiAgICAgIHJvdW5kVXAgPSByb3VuZFVwIHx8IHhkW3NkICsgMV0gIT09IHZvaWQgMDtcclxuXHJcbiAgICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgICA/IChpICE9PSB2b2lkIDAgfHwgcm91bmRVcCkgJiYgKHJtID09PSAwIHx8IHJtID09PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICA6IGkgPiBrIHx8IGkgPT09IGsgJiYgKHJtID09PSA0IHx8IHJvdW5kVXAgfHwgcm0gPT09IDYgJiYgeGRbc2QgLSAxXSAmIDEgfHxcclxuICAgICAgICAgIHJtID09PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICB4ZC5sZW5ndGggPSBzZDtcclxuXHJcbiAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXHJcbiAgICAgICAgZm9yICg7ICsreGRbLS1zZF0gPiBiYXNlIC0gMTspIHtcclxuICAgICAgICAgIHhkW3NkXSA9IDA7XHJcbiAgICAgICAgICBpZiAoIXNkKSB7XHJcbiAgICAgICAgICAgICsrZTtcclxuICAgICAgICAgICAgeGQudW5zaGlmdCgxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7ICF4ZFtsZW4gLSAxXTsgLS1sZW4pO1xyXG5cclxuICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcblxyXG4gICAgICAvLyBBZGQgYmluYXJ5IGV4cG9uZW50IHN1ZmZpeD9cclxuICAgICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgICAgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICAgIGlmIChiYXNlT3V0ID09IDE2IHx8IGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgICAgICBpID0gYmFzZU91dCA9PSAxNiA/IDQgOiAzO1xyXG4gICAgICAgICAgICBmb3IgKC0tbGVuOyBsZW4gJSBpOyBsZW4rKykgc3RyICs9ICcwJztcclxuICAgICAgICAgICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIGJhc2VPdXQpO1xyXG4gICAgICAgICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAgICAgICAvLyB4ZFswXSB3aWxsIGFsd2F5cyBiZSBiZSAxXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIHN0ciA9ICcxLic7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gIHN0ciArIChlIDwgMCA/ICdwJyA6ICdwKycpICsgZTtcclxuICAgICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgICAgIGZvciAoOyArK2U7KSBzdHIgPSAnMCcgKyBzdHI7XHJcbiAgICAgICAgc3RyID0gJzAuJyArIHN0cjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoKytlID4gbGVuKSBmb3IgKGUgLT0gbGVuOyBlLS0gOykgc3RyICs9ICcwJztcclxuICAgICAgICBlbHNlIGlmIChlIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSAoYmFzZU91dCA9PSAxNiA/ICcweCcgOiBiYXNlT3V0ID09IDIgPyAnMGInIDogYmFzZU91dCA9PSA4ID8gJzBvJyA6ICcnKSArIHN0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG59XHJcblxyXG5cclxuLy8gRG9lcyBub3Qgc3RyaXAgdHJhaWxpbmcgemVyb3MuXHJcbmZ1bmN0aW9uIHRydW5jYXRlKGFyciwgbGVuKSB7XHJcbiAgaWYgKGFyci5sZW5ndGggPiBsZW4pIHtcclxuICAgIGFyci5sZW5ndGggPSBsZW47XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBEZWNpbWFsIG1ldGhvZHNcclxuXHJcblxyXG4vKlxyXG4gKiAgYWJzXHJcbiAqICBhY29zXHJcbiAqICBhY29zaFxyXG4gKiAgYWRkXHJcbiAqICBhc2luXHJcbiAqICBhc2luaFxyXG4gKiAgYXRhblxyXG4gKiAgYXRhbmhcclxuICogIGF0YW4yXHJcbiAqICBjYnJ0XHJcbiAqICBjZWlsXHJcbiAqICBjbG9uZVxyXG4gKiAgY29uZmlnXHJcbiAqICBjb3NcclxuICogIGNvc2hcclxuICogIGRpdlxyXG4gKiAgZXhwXHJcbiAqICBmbG9vclxyXG4gKiAgaHlwb3RcclxuICogIGxuXHJcbiAqICBsb2dcclxuICogIGxvZzJcclxuICogIGxvZzEwXHJcbiAqICBtYXhcclxuICogIG1pblxyXG4gKiAgbW9kXHJcbiAqICBtdWxcclxuICogIHBvd1xyXG4gKiAgcmFuZG9tXHJcbiAqICByb3VuZFxyXG4gKiAgc2V0XHJcbiAqICBzaWduXHJcbiAqICBzaW5cclxuICogIHNpbmhcclxuICogIHNxcnRcclxuICogIHN1YlxyXG4gKiAgdGFuXHJcbiAqICB0YW5oXHJcbiAqICB0cnVuY1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhYnMoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hYnMoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgaW4gcmFkaWFucyBvZiBgeGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFjb3MoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWNvc2goeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiBgeGAgYW5kIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFkZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnBsdXMoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFzaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB5L3hgIGluIHRoZSByYW5nZSAtcGkgdG8gcGlcclxuICogKGluY2x1c2l2ZSksIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGksIHBpXVxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB5LWNvb3JkaW5hdGUuXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHgtY29vcmRpbmF0ZS5cclxuICpcclxuICogYXRhbjIowrEwLCAtMCkgICAgICAgICAgICAgICA9IMKxcGlcclxuICogYXRhbjIowrEwLCArMCkgICAgICAgICAgICAgICA9IMKxMFxyXG4gKiBhdGFuMijCsTAsIC14KSAgICAgICAgICAgICAgID0gwrFwaSBmb3IgeCA+IDBcclxuICogYXRhbjIowrEwLCB4KSAgICAgICAgICAgICAgICA9IMKxMCBmb3IgeCA+IDBcclxuICogYXRhbjIoLXksIMKxMCkgICAgICAgICAgICAgICA9IC1waS8yIGZvciB5ID4gMFxyXG4gKiBhdGFuMih5LCDCsTApICAgICAgICAgICAgICAgID0gcGkvMiBmb3IgeSA+IDBcclxuICogYXRhbjIowrF5LCAtSW5maW5pdHkpICAgICAgICA9IMKxcGkgZm9yIGZpbml0ZSB5ID4gMFxyXG4gKiBhdGFuMijCsXksICtJbmZpbml0eSkgICAgICAgID0gwrEwIGZvciBmaW5pdGUgeSA+IDBcclxuICogYXRhbjIowrFJbmZpbml0eSwgeCkgICAgICAgICA9IMKxcGkvMiBmb3IgZmluaXRlIHhcclxuICogYXRhbjIowrFJbmZpbml0eSwgLUluZmluaXR5KSA9IMKxMypwaS80XHJcbiAqIGF0YW4yKMKxSW5maW5pdHksICtJbmZpbml0eSkgPSDCsXBpLzRcclxuICogYXRhbjIoTmFOLCB4KSA9IE5hTlxyXG4gKiBhdGFuMih5LCBOYU4pID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuMih5LCB4KSB7XHJcbiAgeSA9IG5ldyB0aGlzKHkpO1xyXG4gIHggPSBuZXcgdGhpcyh4KTtcclxuICB2YXIgcixcclxuICAgIHByID0gdGhpcy5wcmVjaXNpb24sXHJcbiAgICBybSA9IHRoaXMucm91bmRpbmcsXHJcbiAgICB3cHIgPSBwciArIDQ7XHJcblxyXG4gIC8vIEVpdGhlciBOYU5cclxuICBpZiAoIXkucyB8fCAheC5zKSB7XHJcbiAgICByID0gbmV3IHRoaXMoTmFOKTtcclxuXHJcbiAgLy8gQm90aCDCsUluZmluaXR5XHJcbiAgfSBlbHNlIGlmICgheS5kICYmICF4LmQpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKHgucyA+IDAgPyAwLjI1IDogMC43NSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIHggaXMgwrFJbmZpbml0eSBvciB5IGlzIMKxMFxyXG4gIH0gZWxzZSBpZiAoIXguZCB8fCB5LmlzWmVybygpKSB7XHJcbiAgICByID0geC5zIDwgMCA/IGdldFBpKHRoaXMsIHByLCBybSkgOiBuZXcgdGhpcygwKTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8geSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwXHJcbiAgfSBlbHNlIGlmICgheS5kIHx8IHguaXNaZXJvKCkpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKDAuNSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIEJvdGggbm9uLXplcm8gYW5kIGZpbml0ZVxyXG4gIH0gZWxzZSBpZiAoeC5zIDwgMCkge1xyXG4gICAgdGhpcy5wcmVjaXNpb24gPSB3cHI7XHJcbiAgICB0aGlzLnJvdW5kaW5nID0gMTtcclxuICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gICAgeCA9IGdldFBpKHRoaXMsIHdwciwgMSk7XHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhpcy5yb3VuZGluZyA9IHJtO1xyXG4gICAgciA9IHkucyA8IDAgPyByLm1pbnVzKHgpIDogci5wbHVzKHgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2JydCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNicnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0NFSUxgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjZWlsKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAyKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENvbmZpZ3VyZSBnbG9iYWwgc2V0dGluZ3MgZm9yIGEgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogYG9iamAgaXMgYW4gb2JqZWN0IHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLFxyXG4gKlxyXG4gKiAgIHByZWNpc2lvbiAge251bWJlcn1cclxuICogICByb3VuZGluZyAgIHtudW1iZXJ9XHJcbiAqICAgdG9FeHBOZWcgICB7bnVtYmVyfVxyXG4gKiAgIHRvRXhwUG9zICAge251bWJlcn1cclxuICogICBtYXhFICAgICAgIHtudW1iZXJ9XHJcbiAqICAgbWluRSAgICAgICB7bnVtYmVyfVxyXG4gKiAgIG1vZHVsbyAgICAge251bWJlcn1cclxuICogICBjcnlwdG8gICAgIHtib29sZWFufG51bWJlcn1cclxuICogICBkZWZhdWx0cyAgIHt0cnVlfVxyXG4gKlxyXG4gKiBFLmcuIERlY2ltYWwuY29uZmlnKHsgcHJlY2lzaW9uOiAyMCwgcm91bmRpbmc6IDQgfSlcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvbmZpZyhvYmopIHtcclxuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgdGhyb3cgRXJyb3IoZGVjaW1hbEVycm9yICsgJ09iamVjdCBleHBlY3RlZCcpO1xyXG4gIHZhciBpLCBwLCB2LFxyXG4gICAgdXNlRGVmYXVsdHMgPSBvYmouZGVmYXVsdHMgPT09IHRydWUsXHJcbiAgICBwcyA9IFtcclxuICAgICAgJ3ByZWNpc2lvbicsIDEsIE1BWF9ESUdJVFMsXHJcbiAgICAgICdyb3VuZGluZycsIDAsIDgsXHJcbiAgICAgICd0b0V4cE5lZycsIC1FWFBfTElNSVQsIDAsXHJcbiAgICAgICd0b0V4cFBvcycsIDAsIEVYUF9MSU1JVCxcclxuICAgICAgJ21heEUnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICdtaW5FJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgJ21vZHVsbycsIDAsIDlcclxuICAgIF07XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgaWYgKHAgPSBwc1tpXSwgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICAgIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgICBpZiAobWF0aGZsb29yKHYpID09PSB2ICYmIHYgPj0gcHNbaSArIDFdICYmIHYgPD0gcHNbaSArIDJdKSB0aGlzW3BdID0gdjtcclxuICAgICAgZWxzZSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHAgPSAnY3J5cHRvJywgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgIGlmICh2ID09PSB0cnVlIHx8IHYgPT09IGZhbHNlIHx8IHYgPT09IDAgfHwgdiA9PT0gMSkge1xyXG4gICAgICBpZiAodikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgdGhpc1twXSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpc1twXSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvcyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNvcygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3NoKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBEZWNpbWFsIGNvbnN0cnVjdG9yIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGFzIHRoaXMgRGVjaW1hbFxyXG4gKiBjb25zdHJ1Y3Rvci5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lKG9iaikge1xyXG4gIHZhciBpLCBwLCBwcztcclxuXHJcbiAgLypcclxuICAgKiBUaGUgRGVjaW1hbCBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiB2IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIERlY2ltYWwodikge1xyXG4gICAgdmFyIGUsIGksIHQsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIC8vIERlY2ltYWwgY2FsbGVkIHdpdGhvdXQgbmV3LlxyXG4gICAgaWYgKCEoeCBpbnN0YW5jZW9mIERlY2ltYWwpKSByZXR1cm4gbmV3IERlY2ltYWwodik7XHJcblxyXG4gICAgLy8gUmV0YWluIGEgcmVmZXJlbmNlIHRvIHRoaXMgRGVjaW1hbCBjb25zdHJ1Y3RvciwgYW5kIHNoYWRvdyBEZWNpbWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxyXG4gICAgLy8gd2hpY2ggcG9pbnRzIHRvIE9iamVjdC5cclxuICAgIHguY29uc3RydWN0b3IgPSBEZWNpbWFsO1xyXG5cclxuICAgIC8vIER1cGxpY2F0ZS5cclxuICAgIGlmICh2IGluc3RhbmNlb2YgRGVjaW1hbCkge1xyXG4gICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICBpZiAoIXYuZCB8fCB2LmUgPiBEZWNpbWFsLm1heEUpIHtcclxuXHJcbiAgICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBEZWNpbWFsLm1pbkUpIHtcclxuXHJcbiAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5kID0gdi5kLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICB4LmQgPSB2LmQgPyB2LmQuc2xpY2UoKSA6IHYuZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHQgPSB0eXBlb2YgdjtcclxuXHJcbiAgICBpZiAodCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgaWYgKHYgPT09IDApIHtcclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAtMSA6IDE7XHJcbiAgICAgICAgeC5lID0gMDtcclxuICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodiA8IDApIHtcclxuICAgICAgICB2ID0gLXY7XHJcbiAgICAgICAgeC5zID0gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5zID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRmFzdCBwYXRoIGZvciBzbWFsbCBpbnRlZ2Vycy5cclxuICAgICAgaWYgKHYgPT09IH5+diAmJiB2IDwgMWU3KSB7XHJcbiAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTApIGUrKztcclxuXHJcbiAgICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgICBpZiAoZSA+IERlY2ltYWwubWF4RSkge1xyXG4gICAgICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGUgPCBEZWNpbWFsLm1pbkUpIHtcclxuICAgICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgLy8gSW5maW5pdHksIE5hTi5cclxuICAgICAgfSBlbHNlIGlmICh2ICogMCAhPT0gMCkge1xyXG4gICAgICAgIGlmICghdikgeC5zID0gTmFOO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHBhcnNlRGVjaW1hbCh4LCB2LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgdik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWludXMgc2lnbj9cclxuICAgIGlmICgoaSA9IHYuY2hhckNvZGVBdCgwKSkgPT09IDQ1KSB7XHJcbiAgICAgIHYgPSB2LnNsaWNlKDEpO1xyXG4gICAgICB4LnMgPSAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFBsdXMgc2lnbj9cclxuICAgICAgaWYgKGkgPT09IDQzKSB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgeC5zID0gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNEZWNpbWFsLnRlc3QodikgPyBwYXJzZURlY2ltYWwoeCwgdikgOiBwYXJzZU90aGVyKHgsIHYpO1xyXG4gIH1cclxuXHJcbiAgRGVjaW1hbC5wcm90b3R5cGUgPSBQO1xyXG5cclxuICBEZWNpbWFsLlJPVU5EX1VQID0gMDtcclxuICBEZWNpbWFsLlJPVU5EX0RPV04gPSAxO1xyXG4gIERlY2ltYWwuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgRGVjaW1hbC5ST1VORF9GTE9PUiA9IDM7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX1VQID0gNDtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gIERlY2ltYWwuRVVDTElEID0gOTtcclxuXHJcbiAgRGVjaW1hbC5jb25maWcgPSBEZWNpbWFsLnNldCA9IGNvbmZpZztcclxuICBEZWNpbWFsLmNsb25lID0gY2xvbmU7XHJcbiAgRGVjaW1hbC5pc0RlY2ltYWwgPSBpc0RlY2ltYWxJbnN0YW5jZTtcclxuXHJcbiAgRGVjaW1hbC5hYnMgPSBhYnM7XHJcbiAgRGVjaW1hbC5hY29zID0gYWNvcztcclxuICBEZWNpbWFsLmFjb3NoID0gYWNvc2g7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmFkZCA9IGFkZDtcclxuICBEZWNpbWFsLmFzaW4gPSBhc2luO1xyXG4gIERlY2ltYWwuYXNpbmggPSBhc2luaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYXRhbiA9IGF0YW47XHJcbiAgRGVjaW1hbC5hdGFuaCA9IGF0YW5oOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hdGFuMiA9IGF0YW4yO1xyXG4gIERlY2ltYWwuY2JydCA9IGNicnQ7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuY2VpbCA9IGNlaWw7XHJcbiAgRGVjaW1hbC5jb3MgPSBjb3M7XHJcbiAgRGVjaW1hbC5jb3NoID0gY29zaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5kaXYgPSBkaXY7XHJcbiAgRGVjaW1hbC5leHAgPSBleHA7XHJcbiAgRGVjaW1hbC5mbG9vciA9IGZsb29yO1xyXG4gIERlY2ltYWwuaHlwb3QgPSBoeXBvdDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubG4gPSBsbjtcclxuICBEZWNpbWFsLmxvZyA9IGxvZztcclxuICBEZWNpbWFsLmxvZzEwID0gbG9nMTA7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmxvZzIgPSBsb2cyOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLm1heCA9IG1heDtcclxuICBEZWNpbWFsLm1pbiA9IG1pbjtcclxuICBEZWNpbWFsLm1vZCA9IG1vZDtcclxuICBEZWNpbWFsLm11bCA9IG11bDtcclxuICBEZWNpbWFsLnBvdyA9IHBvdztcclxuICBEZWNpbWFsLnJhbmRvbSA9IHJhbmRvbTtcclxuICBEZWNpbWFsLnJvdW5kID0gcm91bmQ7XHJcbiAgRGVjaW1hbC5zaWduID0gc2lnbjsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zaW4gPSBzaW47XHJcbiAgRGVjaW1hbC5zaW5oID0gc2luaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zcXJ0ID0gc3FydDtcclxuICBEZWNpbWFsLnN1YiA9IHN1YjtcclxuICBEZWNpbWFsLnRhbiA9IHRhbjtcclxuICBEZWNpbWFsLnRhbmggPSB0YW5oOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnRydW5jID0gdHJ1bmM7ICAgICAgICAvLyBFUzZcclxuXHJcbiAgaWYgKG9iaiA9PT0gdm9pZCAwKSBvYmogPSB7fTtcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAob2JqLmRlZmF1bHRzICE9PSB0cnVlKSB7XHJcbiAgICAgIHBzID0gWydwcmVjaXNpb24nLCAncm91bmRpbmcnLCAndG9FeHBOZWcnLCAndG9FeHBQb3MnLCAnbWF4RScsICdtaW5FJywgJ21vZHVsbycsICdjcnlwdG8nXTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDspIGlmICghb2JqLmhhc093blByb3BlcnR5KHAgPSBwc1tpKytdKSkgb2JqW3BdID0gdGhpc1twXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIERlY2ltYWwuY29uZmlnKG9iaik7XHJcblxyXG4gIHJldHVybiBEZWNpbWFsO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIGRpdmlkZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZGl2KHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuZGl2KHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoZSBiYXNlIG9mIHRoZSBuYXR1cmFsIGxvZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGV4cCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmV4cCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0ZMT09SYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZmxvb3IoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDMpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSBzdW0gb2YgdGhlIHNxdWFyZXMgb2YgdGhlIGFyZ3VtZW50cyxcclxuICogcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBoeXBvdChhLCBiLCAuLi4pID0gc3FydChhXjIgKyBiXjIgKyAuLi4pXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaHlwb3QoKSB7XHJcbiAgdmFyIGksIG4sXHJcbiAgICB0ID0gbmV3IHRoaXMoMCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOykge1xyXG4gICAgbiA9IG5ldyB0aGlzKGFyZ3VtZW50c1tpKytdKTtcclxuICAgIGlmICghbi5kKSB7XHJcbiAgICAgIGlmIChuLnMpIHtcclxuICAgICAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKDEgLyAwKTtcclxuICAgICAgfVxyXG4gICAgICB0ID0gbjtcclxuICAgIH0gZWxzZSBpZiAodC5kKSB7XHJcbiAgICAgIHQgPSB0LnBsdXMobi50aW1lcyhuKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiB0LnNxcnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIG9iamVjdCBpcyBhIERlY2ltYWwgaW5zdGFuY2UgKHdoZXJlIERlY2ltYWwgaXMgYW55IERlY2ltYWwgY29uc3RydWN0b3IpLFxyXG4gKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaXNEZWNpbWFsSW5zdGFuY2Uob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERlY2ltYWwgfHwgb2JqICYmIG9iai5uYW1lID09PSAnW29iamVjdCBEZWNpbWFsXScgfHwgZmFsc2U7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBsb2cgb2YgYHhgIHRvIHRoZSBiYXNlIGB5YCwgb3IgdG8gYmFzZSAxMCBpZiBubyBiYXNlXHJcbiAqIGlzIHNwZWNpZmllZCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBsb2dbeV0oeClcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYXJndW1lbnQgb2YgdGhlIGxvZ2FyaXRobS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzIoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMik7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAxMCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzEwKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDEwKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbWF4KCkge1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLCBhcmd1bWVudHMsICdsdCcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtaW4oKSB7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbW9kdWxvIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1vZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm1vZCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtdWx0aXBsaWVkIGJ5IGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG11bCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm11bCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByYWlzZWQgdG8gdGhlIHBvd2VyIGB5YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgZXhwb25lbnQuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3coeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5wb3coeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsIGFuZCB3aXRoXHJcbiAqIGBzZGAsIG9yIGBEZWNpbWFsLnByZWNpc2lvbmAgaWYgYHNkYCBpcyBvbWl0dGVkLCBzaWduaWZpY2FudCBkaWdpdHMgKG9yIGxlc3MgaWYgdHJhaWxpbmcgemVyb3NcclxuICogYXJlIHByb2R1Y2VkKS5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiByYW5kb20oc2QpIHtcclxuICB2YXIgZCwgZSwgaywgbixcclxuICAgIGkgPSAwLFxyXG4gICAgciA9IG5ldyB0aGlzKDEpLFxyXG4gICAgcmQgPSBbXTtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHNkID0gdGhpcy5wcmVjaXNpb247XHJcbiAgZWxzZSBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgayA9IE1hdGguY2VpbChzZCAvIExPR19CQVNFKTtcclxuXHJcbiAgaWYgKCF0aGlzLmNyeXB0bykge1xyXG4gICAgZm9yICg7IGkgPCBrOykgcmRbaSsrXSA9IE1hdGgucmFuZG9tKCkgKiAxZTcgfCAwO1xyXG5cclxuICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgfSBlbHNlIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XHJcbiAgICBkID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoaykpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgbiA9IGRbaV07XHJcblxyXG4gICAgICAvLyAwIDw9IG4gPCA0Mjk0OTY3Mjk2XHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gNC4yOWU5LCBpcyA0OTY3Mjk2IC8gNDI5NDk2NzI5NiA9IDAuMDAxMTYgKDEgaW4gODY1KS5cclxuICAgICAgaWYgKG4gPj0gNC4yOWU5KSB7XHJcbiAgICAgICAgZFtpXSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDQyODk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmRbaSsrXSA9IG4gJSAxZTc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgIC8vIGJ1ZmZlclxyXG4gICAgZCA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDQpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgIC8vIDAgPD0gbiA8IDIxNDc0ODM2NDhcclxuICAgICAgbiA9IGRbaV0gKyAoZFtpICsgMV0gPDwgOCkgKyAoZFtpICsgMl0gPDwgMTYpICsgKChkW2kgKyAzXSAmIDB4N2YpIDw8IDI0KTtcclxuXHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gMi4xNGU5LCBpcyA3NDgzNjQ4IC8gMjE0NzQ4MzY0OCA9IDAuMDAzNSAoMSBpbiAyODYpLlxyXG4gICAgICBpZiAobiA+PSAyLjE0ZTkpIHtcclxuICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNCkuY29weShkLCBpKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDIxMzk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmQucHVzaChuICUgMWU3KTtcclxuICAgICAgICBpICs9IDQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpID0gayAvIDQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICB9XHJcblxyXG4gIGsgPSByZFstLWldO1xyXG4gIHNkICU9IExPR19CQVNFO1xyXG5cclxuICAvLyBDb252ZXJ0IHRyYWlsaW5nIGRpZ2l0cyB0byB6ZXJvcyBhY2NvcmRpbmcgdG8gc2QuXHJcbiAgaWYgKGsgJiYgc2QpIHtcclxuICAgIG4gPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIHNkKTtcclxuICAgIHJkW2ldID0gKGsgLyBuIHwgMCkgKiBuO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gIGZvciAoOyByZFtpXSA9PT0gMDsgaS0tKSByZC5wb3AoKTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoaSA8IDApIHtcclxuICAgIGUgPSAwO1xyXG4gICAgcmQgPSBbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIGUgPSAtMTtcclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB3b3JkcyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHJkWzBdID09PSAwOyBlIC09IExPR19CQVNFKSByZC5zaGlmdCgpO1xyXG5cclxuICAgIC8vIENvdW50IHRoZSBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGsgPSAxLCBuID0gcmRbMF07IG4gPj0gMTA7IG4gLz0gMTApIGsrKztcclxuXHJcbiAgICAvLyBBZGp1c3QgdGhlIGV4cG9uZW50IGZvciBsZWFkaW5nIHplcm9zIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkLlxyXG4gICAgaWYgKGsgPCBMT0dfQkFTRSkgZSAtPSBMT0dfQkFTRSAtIGs7XHJcbiAgfVxyXG5cclxuICByLmUgPSBlO1xyXG4gIHIuZCA9IHJkO1xyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBUbyBlbXVsYXRlIGBNYXRoLnJvdW5kYCwgc2V0IHJvdW5kaW5nIHRvIDcgKFJPVU5EX0hBTEZfQ0VJTCkuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCB0aGlzLnJvdW5kaW5nKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVyblxyXG4gKiAgIDEgICAgaWYgeCA+IDAsXHJcbiAqICAtMSAgICBpZiB4IDwgMCxcclxuICogICAwICAgIGlmIHggaXMgMCxcclxuICogIC0wICAgIGlmIHggaXMgLTAsXHJcbiAqICAgTmFOICBvdGhlcndpc2VcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2lnbih4KSB7XHJcbiAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gIHJldHVybiB4LmQgPyAoeC5kWzBdID8geC5zIDogMCAqIHgucykgOiB4LnMgfHwgTmFOO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc2luKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNxcnQoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zcXJ0KCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbWludXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3ViKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc3ViKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkudGFuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS50YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRydW5jKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAxKTtcclxufVxyXG5cclxuXHJcblBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnRvU3RyaW5nO1xyXG5QW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XHJcblxyXG4vLyBDcmVhdGUgYW5kIGNvbmZpZ3VyZSBpbml0aWFsIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbmV4cG9ydCB2YXIgRGVjaW1hbCA9IGNsb25lKERFRkFVTFRTKTtcclxuXHJcbi8vIENyZWF0ZSB0aGUgaW50ZXJuYWwgY29uc3RhbnRzIGZyb20gdGhlaXIgc3RyaW5nIHZhbHVlcy5cclxuTE4xMCA9IG5ldyBEZWNpbWFsKExOMTApO1xyXG5QSSA9IG5ldyBEZWNpbWFsKFBJKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERlY2ltYWw7XHJcbiIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQmlnTnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9vbicsICdjb25maWcnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBvbixcbiAgICBjb25maWdcbiAgfSA9IF9yZWY7XG4gIHZhciBFVUNMSUQgPSA5OyAvLyBVc2UgZXVjbGlkaWFuIGRpdmlzaW9uIGZvciBtb2QgY2FsY3VsYXRpb25cblxuICB2YXIgQmlnTnVtYmVyID0gRGVjaW1hbC5jbG9uZSh7XG4gICAgcHJlY2lzaW9uOiBjb25maWcucHJlY2lzaW9uLFxuICAgIG1vZHVsbzogRVVDTElEXG4gIH0pO1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50eXBlID0gJ0JpZ051bWJlcic7XG4gIEJpZ051bWJlci5wcm90b3R5cGUuaXNCaWdOdW1iZXIgPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIEJpZ051bWJlciBjb250YWluaW5nXG4gICAqIHR5cGUgaW5mb3JtYXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCaWdOdW1iZXJcIiwgXCJ2YWx1ZVwiOiBcIjAuMlwifWBcbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0JpZ051bWJlcicsXG4gICAgICB2YWx1ZTogdGhpcy50b1N0cmluZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgQmlnTnVtYmVyIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJpZ051bWJlclwiLCBcInZhbHVlXCI6IFwiMC4yXCJ9YFxuICAgKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gICAqL1xuXG5cbiAgQmlnTnVtYmVyLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEJpZ051bWJlcihqc29uLnZhbHVlKTtcbiAgfTtcblxuICBpZiAob24pIHtcbiAgICAvLyBsaXN0ZW4gZm9yIGNoYW5nZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24sIGF1dG9tYXRpY2FsbHkgYXBwbHkgY2hhbmdlZCBwcmVjaXNpb25cbiAgICBvbignY29uZmlnJywgZnVuY3Rpb24gKGN1cnIsIHByZXYpIHtcbiAgICAgIGlmIChjdXJyLnByZWNpc2lvbiAhPT0gcHJldi5wcmVjaXNpb24pIHtcbiAgICAgICAgQmlnTnVtYmVyLmNvbmZpZyh7XG4gICAgICAgICAgcHJlY2lzaW9uOiBjdXJyLnByZWNpc2lvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBCaWdOdW1iZXI7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qKlxuICogQGxpY2Vuc2UgQ29tcGxleC5qcyB2Mi4wLjEzIDEyLzA1LzIwMjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG4vKipcbiAqXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0aGUgbWFuaXB1bGF0aW9uIG9mIGNvbXBsZXggbnVtYmVycy5cbiAqIFlvdSBjYW4gcGFzcyBhIGNvbXBsZXggbnVtYmVyIGluIGRpZmZlcmVudCBmb3JtYXRzLiBFaXRoZXIgYXMgb2JqZWN0LCBkb3VibGUsIHN0cmluZyBvciB0d28gaW50ZWdlciBwYXJhbWV0ZXJzLlxuICpcbiAqIE9iamVjdCBmb3JtXG4gKiB7IHJlOiA8cmVhbD4sIGltOiA8aW1hZ2luYXJ5PiB9XG4gKiB7IGFyZzogPGFuZ2xlPiwgYWJzOiA8cmFkaXVzPiB9XG4gKiB7IHBoaTogPGFuZ2xlPiwgcjogPHJhZGl1cz4gfVxuICpcbiAqIEFycmF5IC8gVmVjdG9yIGZvcm1cbiAqIFsgcmVhbCwgaW1hZ2luYXJ5IF1cbiAqXG4gKiBEb3VibGUgZm9ybVxuICogOTkuMyAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogJzIzLjEzMzcnIC0gU2ltcGxlIHJlYWwgbnVtYmVyXG4gKiAnMTUrM2knIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqICczLWknIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIHZhciBjID0gbmV3IENvbXBsZXgoJzk5LjMrOGknKTtcbiAqIGMubXVsKHtyOiAzLCBpOiA5fSkuZGl2KDQuOSkuc3ViKDMsIDIpO1xuICpcbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29zaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICB2YXIgc2luaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBjb3MoeCkgLSAxIHVzaW5nIFRheWxvciBzZXJpZXMgaWYgeCBpcyBzbWFsbC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHJldHVybnMge251bWJlcn0gY29zKHgpIC0gMVxuICAgKi9cblxuICB2YXIgY29zbTEgPSBmdW5jdGlvbih4KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5QSS80O1xuICAgIGlmICh4IDwgLWxpbWl0IHx8IHggPiBsaW1pdCkge1xuICAgICAgcmV0dXJuIChNYXRoLmNvcyh4KSAtIDEuMCk7XG4gICAgfVxuXG4gICAgdmFyIHh4ID0geCAqIHg7XG4gICAgcmV0dXJuIHh4ICpcbiAgICAgICgtMC41ICsgeHggKlxuICAgICAgICAoMS8yNCArIHh4ICpcbiAgICAgICAgICAoLTEvNzIwICsgeHggKlxuICAgICAgICAgICAgKDEvNDAzMjAgKyB4eCAqXG4gICAgICAgICAgICAgICgtMS8zNjI4ODAwICsgeHggKlxuICAgICAgICAgICAgICAgICgxLzQ3OTAwMTQ2MDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAoLTEvODcxNzgyOTEyMDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAgICgxLzIwOTIyNzg5ODg4MDAwKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICB9O1xuXG4gIHZhciBoeXBvdCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHZhciBhID0gTWF0aC5hYnMoeCk7XG4gICAgdmFyIGIgPSBNYXRoLmFicyh5KTtcblxuICAgIGlmIChhIDwgMzAwMCAmJiBiIDwgMzAwMCkge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICB9XG5cbiAgICBpZiAoYSA8IGIpIHtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IHggLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0geSAvIHg7XG4gICAgfVxuICAgIHJldHVybiBhICogTWF0aC5zcXJ0KDEgKyBiICogYik7XG4gIH07XG5cbiAgdmFyIHBhcnNlcl9leGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgU3ludGF4RXJyb3IoJ0ludmFsaWQgUGFyYW0nKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBsb2coc3FydChhXjIrYl4yKSkgaW4gYSB3YXkgdG8gYXZvaWQgb3ZlcmZsb3dzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBsb2dIeXBvdChhLCBiKSB7XG5cbiAgICB2YXIgX2EgPSBNYXRoLmFicyhhKTtcbiAgICB2YXIgX2IgPSBNYXRoLmFicyhiKTtcblxuICAgIGlmIChhID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2IpO1xuICAgIH1cblxuICAgIGlmIChiID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2EpO1xuICAgIH1cblxuICAgIGlmIChfYSA8IDMwMDAgJiYgX2IgPCAzMDAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coYSAqIGEgKyBiICogYikgKiAwLjU7XG4gICAgfVxuXG4gICAgLyogSSBnb3QgNCBpZGVhcyB0byBjb21wdXRlIHRoaXMgcHJvcGVydHkgd2l0aG91dCBvdmVyZmxvdzpcbiAgICAgKlxuICAgICAqIFRlc3RpbmcgMTAwMDAwMCB0aW1lcyB3aXRoIHJhbmRvbSBzYW1wbGVzIGZvciBhLGIg4oiIIFsxLCAxMDAwMDAwMDAwXSBhZ2FpbnN0IGEgYmlnIGRlY2ltYWwgbGlicmFyeSB0byBnZXQgYW4gZXJyb3IgZXN0aW1hdGVcbiAgICAgKlxuICAgICAqIDEuIE9ubHkgZWxpbWluYXRlIHRoZSBzcXVhcmUgcm9vdDogKE9WRVJBTEwgRVJST1I6IDMuOTEyMjQ4MzAzMDk1MTExNmUtMTEpXG5cbiAgICAgTWF0aC5sb2coYSAqIGEgKyBiICogYikgLyAyXG5cbiAgICAgKlxuICAgICAqXG4gICAgICogMi4gVHJ5IHRvIHVzZSB0aGUgbm9uLW92ZXJmbG93aW5nIHB5dGhhZ29yYXM6IChPVkVSQUxMIEVSUk9SOiA4Ljg4OTc2MDAzOTIxMDE1OWUtMTApXG5cbiAgICAgdmFyIGZuID0gZnVuY3Rpb24oYSwgYikge1xuICAgICBhID0gTWF0aC5hYnMoYSk7XG4gICAgIGIgPSBNYXRoLmFicyhiKTtcbiAgICAgdmFyIHQgPSBNYXRoLm1pbihhLCBiKTtcbiAgICAgYSA9IE1hdGgubWF4KGEsIGIpO1xuICAgICB0ID0gdCAvIGE7XG5cbiAgICAgcmV0dXJuIE1hdGgubG9nKGEpICsgTWF0aC5sb2coMSArIHQgKiB0KSAvIDI7XG4gICAgIH07XG5cbiAgICAgKiAzLiBBYnVzZSB0aGUgaWRlbnRpdHkgY29zKGF0YW4oeS94KSA9IHggLyBzcXJ0KHheMit5XjIpOiAoT1ZFUkFMTCBFUlJPUjogMy40NzgwMTc4NzM3MDM3MjA0ZS0xMClcblxuICAgICBNYXRoLmxvZyhhIC8gTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpXG5cbiAgICAgKiA0LiBVc2UgMy4gYW5kIGFwcGx5IGxvZyBydWxlczogKE9WRVJBTEwgRVJST1I6IDEuMjAxNDA4NzUwMjYyMDg5NmUtOSlcblxuICAgICBNYXRoLmxvZyhhKSAtIE1hdGgubG9nKE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKVxuXG4gICAgICovXG5cbiAgICByZXR1cm4gTWF0aC5sb2coYSAvIE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKTtcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgIHZhciB6ID0geydyZSc6IDAsICdpbSc6IDB9O1xuXG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCB8fCBhID09PSBudWxsKSB7XG4gICAgICB6WydyZSddID1cbiAgICAgICAgICAgICAgelsnaW0nXSA9IDA7XG4gICAgfSBlbHNlIGlmIChiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgelsnaW0nXSA9IGI7XG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG5cbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcblxuICAgICAgICAgIGlmICgnaW0nIGluIGEgJiYgJ3JlJyBpbiBhKSB7XG4gICAgICAgICAgICB6WydyZSddID0gYVsncmUnXTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydpbSddO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJ2FicycgaW4gYSAmJiAnYXJnJyBpbiBhKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhWydhYnMnXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ2FyZyddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydhYnMnXSAqIE1hdGguY29zKGFbJ2FyZyddKTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydhYnMnXSAqIE1hdGguc2luKGFbJ2FyZyddKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCdyJyBpbiBhICYmICdwaGknIGluIGEpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFbJ3InXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ3BoaSddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydyJ10gKiBNYXRoLmNvcyhhWydwaGknXSk7XG4gICAgICAgICAgICB6WydpbSddID0gYVsnciddICogTWF0aC5zaW4oYVsncGhpJ10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGggPT09IDIpIHsgLy8gUXVpY2sgYXJyYXkgY2hlY2tcbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWzBdO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbMV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG5cbiAgICAgICAgICB6WydpbSddID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICAgICAgelsncmUnXSA9IDA7XG5cbiAgICAgICAgICB2YXIgdG9rZW5zID0gYS5tYXRjaCgvXFxkK1xcLj9cXGQqZVsrLV0/XFxkK3xcXGQrXFwuP1xcZCp8XFwuXFxkK3wuL2cpO1xuICAgICAgICAgIHZhciBwbHVzID0gMTtcbiAgICAgICAgICB2YXIgbWludXMgPSAwO1xuXG4gICAgICAgICAgaWYgKHRva2VucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgaWYgKGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAvKiB2b2lkICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcrJykge1xuICAgICAgICAgICAgICBwbHVzKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgICBtaW51cysrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnaScgfHwgYyA9PT0gJ0knKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodG9rZW5zW2kgKyAxXSAhPT0gJyAnICYmICFpc05hTih0b2tlbnNbaSArIDFdKSkge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgdG9rZW5zW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgJzEnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwbHVzID0gbWludXMgPSAwO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPT09IDAgfHwgaXNOYU4oYykpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpICsgMV0gPT09ICdpJyB8fCB0b2tlbnNbaSArIDFdID09PSAnSScpIHtcbiAgICAgICAgICAgICAgICB6WydpbSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6WydyZSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsdXMgPSBtaW51cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RpbGwgc29tZXRoaW5nIG9uIHRoZSBzdGFja1xuICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPiAwKSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHpbJ2ltJ10gPSAwO1xuICAgICAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgIH1cblxuICAgIGlmIChpc05hTih6WydyZSddKSB8fCBpc05hTih6WydpbSddKSkge1xuICAgICAgLy8gSWYgYSBjYWxjdWxhdGlvbiBpcyBOYU4sIHdlIHRyZWF0IGl0IGFzIE5hTiBhbmQgZG9uJ3QgdGhyb3dcbiAgICAgIC8vcGFyc2VyX2V4aXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gejtcbiAgfTtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgKi9cbiAgZnVuY3Rpb24gQ29tcGxleChhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGxleCkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhLCBiKTtcbiAgICB9XG5cbiAgICB2YXIgeiA9IHBhcnNlKGEsIGIpO1xuXG4gICAgdGhpc1sncmUnXSA9IHpbJ3JlJ107XG4gICAgdGhpc1snaW0nXSA9IHpbJ2ltJ107XG4gIH1cblxuICBDb21wbGV4LnByb3RvdHlwZSA9IHtcblxuICAgICdyZSc6IDAsXG4gICAgJ2ltJzogMCxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNpZ24gb2YgYSBjb21wbGV4IG51bWJlciwgd2hpY2ggaXMgYSBub3JtYWxpemVkIGNvbXBsZXhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaWduJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhYnMgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gLyBhYnMsXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLyBhYnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhZGQnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5ICsgSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5ICsgeiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSArIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gKyB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzdWInOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5IC0gSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC0geiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAtIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLSB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbXVsJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyBJbmZpbml0eSAqIDAgPSBOYU5cbiAgICAgIGlmICgodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgKiB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IDAgfVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG9ydCBjaXJjdWl0IGZvciByZWFsIHZhbHVlc1xuICAgICAgaWYgKHpbJ2ltJ10gPT09IDAgJiYgdGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSAqIHpbJ3JlJ10sIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydyZSddIC0gdGhpc1snaW0nXSAqIHpbJ2ltJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydpbSddICsgdGhpc1snaW0nXSAqIHpbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdkaXYnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIDAgLyAwID0gTmFOIGFuZCBJbmZpbml0eSAvIEluZmluaXR5ID0gTmFOXG4gICAgICBpZiAoKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC8gMCA9IEluZmluaXR5XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgLy8gMCAvIEluZmluaXR5ID0gMFxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIGMgPSB6WydyZSddO1xuICAgICAgdmFyIGQgPSB6WydpbSddO1xuICAgICAgdmFyIHQsIHg7XG5cbiAgICAgIGlmICgwID09PSBkKSB7XG4gICAgICAgIC8vIERpdmlzb3IgaXMgcmVhbFxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoYSAvIGMsIGIgLyBjKTtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGMpIDwgTWF0aC5hYnMoZCkpIHtcblxuICAgICAgICB4ID0gYyAvIGQ7XG4gICAgICAgIHQgPSBjICogeCArIGQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICogeCArIGIpIC8gdCxcbiAgICAgICAgICAgICAgICAoYiAqIHggLSBhKSAvIHQpO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHggPSBkIC8gYztcbiAgICAgICAgdCA9IGQgKiB4ICsgYztcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgKyBiICogeCkgLyB0LFxuICAgICAgICAgICAgICAgIChiIC0gYSAqIHgpIC8gdCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Bvdyc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKHpbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ09ORSddO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgZXhwb25lbnQgaXMgcmVhbFxuICAgICAgaWYgKHpbJ2ltJ10gPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMCAmJiBhID4gMCkge1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgucG93KGEsIHpbJ3JlJ10pLCAwKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGEgPT09IDApIHsgLy8gSWYgYmFzZSBpcyBmdWxseSBpbWFnaW5hcnlcblxuICAgICAgICAgIHN3aXRjaCAoKHpbJ3JlJ10gJSA0ICsgNCkgJSA0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnBvdyhiLCB6WydyZSddKSwgMCk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBNYXRoLnBvdyhiLCB6WydyZSddKSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtTWF0aC5wb3coYiwgelsncmUnXSksIDApO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLU1hdGgucG93KGIsIHpbJ3JlJ10pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogSSBjb3VsZG4ndCBmaW5kIGEgZ29vZCBmb3JtdWxhLCBzbyBoZXJlIGlzIGEgZGVyaXZhdGlvbiBhbmQgb3B0aW1pemF0aW9uXG4gICAgICAgKlxuICAgICAgICogel8xXnpfMiA9IChhICsgYmkpXihjICsgZGkpXG4gICAgICAgKiAgICAgICAgID0gZXhwKChjICsgZGkpICogbG9nKGEgKyBiaSlcbiAgICAgICAqICAgICAgICAgPSBwb3coYV4yICsgYl4yLCAoYyArIGRpKSAvIDIpICogZXhwKGkoYyArIGRpKWF0YW4yKGIsIGEpKVxuICAgICAgICogPT4uLi5cbiAgICAgICAqIFJlID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBjb3MoZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqIEltID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBzaW4oZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9Pi4uLlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZyhzcXJ0KGFeMiArIGJeMikpIC0gZCAqIGF0YW4yKGIsIGEpKSAqIGNvcyhkICogbG9nKHNxcnQoYV4yICsgYl4yKSkgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKiBJbSA9IGV4cChjICogbG9nKHNxcnQoYV4yICsgYl4yKSkgLSBkICogYXRhbjIoYiwgYSkpICogc2luKGQgKiBsb2coc3FydChhXjIgKyBiXjIpKSArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9PlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZ3NxMiAtIGQgKiBhcmcoel8xKSkgKiBjb3MoZCAqIGxvZ3NxMiArIGMgKiBhcmcoel8xKSlcbiAgICAgICAqIEltID0gZXhwKGMgKiBsb2dzcTIgLSBkICogYXJnKHpfMSkpICogc2luKGQgKiBsb2dzcTIgKyBjICogYXJnKHpfMSkpXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDAgJiYgelsncmUnXSA+IDAgJiYgelsnaW0nXSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydaRVJPJ107XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmcgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgdmFyIGxvaCA9IGxvZ0h5cG90KGEsIGIpO1xuXG4gICAgICBhID0gTWF0aC5leHAoelsncmUnXSAqIGxvaCAtIHpbJ2ltJ10gKiBhcmcpO1xuICAgICAgYiA9IHpbJ2ltJ10gKiBsb2ggKyB6WydyZSddICogYXJnO1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBhICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGEgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzcXVhcmUgcm9vdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NxcnQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIHIgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICB2YXIgcmUsIGltO1xuXG4gICAgICBpZiAoYSA+PSAwKSB7XG5cbiAgICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5zcXJ0KGEpLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlID0gMC41ICogTWF0aC5zcXJ0KDIuMCAqIChyICsgYSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmUgPSBNYXRoLmFicyhiKSAvIE1hdGguc3FydCgyICogKHIgLSBhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhIDw9IDApIHtcbiAgICAgICAgaW0gPSAwLjUgKiBNYXRoLnNxcnQoMi4wICogKHIgLSBhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbSA9IE1hdGguYWJzKGIpIC8gTWF0aC5zcXJ0KDIgKiAociArIGEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHJlLCBiIDwgMCA/IC1pbSA6IGltKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0bXAgPSBNYXRoLmV4cCh0aGlzWydyZSddKTtcblxuICAgICAgaWYgKHRoaXNbJ2ltJ10gPT09IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgodG1wLCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdG1wICogTWF0aC5jb3ModGhpc1snaW0nXSksXG4gICAgICAgICAgICAgIHRtcCAqIE1hdGguc2luKHRoaXNbJ2ltJ10pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50IGFuZCBzdWJ0cmFjdHMgb25lLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZSB0aGFuIGBDb21wbGV4KHgpLmV4cCgpLnN1YigxKWAgaWZcbiAgICAgKiBgeGAgaXMgc21hbGwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwbTEnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBleHAoYSArIGkqYikgLSAxXG4gICAgICAgPSBleHAoYSkgKiAoY29zKGIpICsgaipzaW4oYikpIC0gMVxuICAgICAgID0gZXhwbTEoYSkqY29zKGIpICsgY29zbTEoYikgKyBqKmV4cChhKSpzaW4oYilcbiAgICAgICAqL1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5leHBtMShhKSAqIE1hdGguY29zKGIpICsgY29zbTEoYiksXG4gICAgICAgICAgICAgIE1hdGguZXhwKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbG9nJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDAgJiYgYSA+IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5sb2coYSksIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGxvZ0h5cG90KGEsIGIpLFxuICAgICAgICAgICAgICBNYXRoLmF0YW4yKGIsIGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtYWduaXR1ZGUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgICdhYnMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIGh5cG90KHRoaXNbJ3JlJ10sIHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGFuZ2xlIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICAnYXJnJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXNbJ2ltJ10sIHRoaXNbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNpbmUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbihjKSA9IChlXmIgLSBlXigtYikpIC8gKDJpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpLFxuICAgICAgICAgICAgICBNYXRoLmNvcyhhKSAqIHNpbmgoYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2luZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvcyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3MoeikgPSAoZV5iICsgZV4oLWIpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSxcbiAgICAgICAgICAgICAgLU1hdGguc2luKGEpICogc2luaChiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Rhbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyB0YW4oYykgPSAoZV4oY2kpIC0gZV4oLWNpKSkgLyAoaShlXihjaSkgKyBlXigtY2kpKSlcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKGEpICsgY29zaChiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3QnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290KGMpID0gaShlXihjaSkgKyBlXigtY2kpKSAvIChlXihjaSkgLSBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoYSkgLSBjb3NoKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzZWNhbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzZWMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2VjKGMpID0gMiAvIChlXihjaSkgKyBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IDAuNSAqIGNvc2goMiAqIGIpICsgMC41ICogTWF0aC5jb3MoMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSAvIGQsXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2VjYW5zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY3NjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzYyhjKSA9IDJpIC8gKGVeKGNpKSAtIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gMC41ICogY29zaCgyICogYikgLSAwLjUgKiBNYXRoLmNvcygyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpIC8gZCxcbiAgICAgICAgICAgICAgLU1hdGguY29zKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzaW4oYykgPSAtaSAqIGxvZyhjaSArIHNxcnQoMSAtIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIHQxID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGIgKiBiIC0gYSAqIGEgKyAxLFxuICAgICAgICAgICAgICAtMiAqIGEgKiBiKVsnc3FydCddKCk7XG5cbiAgICAgIHZhciB0MiA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0MVsncmUnXSAtIGIsXG4gICAgICAgICAgICAgIHQxWydpbSddICsgYSlbJ2xvZyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0MlsnaW0nXSwgLXQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY29zJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3MoYykgPSBpICogbG9nKGMgLSBpICogc3FydCgxIC0gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYiAqIGIgLSBhICogYSArIDEsXG4gICAgICAgICAgICAgIC0yICogYSAqIGIpWydzcXJ0J10oKTtcblxuICAgICAgdmFyIHQyID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHQxWydyZSddIC0gYixcbiAgICAgICAgICAgICAgdDFbJ2ltJ10gKyBhKVsnbG9nJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguUEkgLyAyIC0gdDJbJ2ltJ10sIHQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIHRhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGF0YW4oYykgPSBpIC8gMiBsb2coKGkgKyB4KSAvIChpIC0geCkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYiA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLUluZmluaXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgKDEuMCAtIGIpICogKDEuMCAtIGIpO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgKDEgLSBiICogYiAtIGEgKiBhKSAvIGQsXG4gICAgICAgICAgICAgIC0yICogYSAvIGQpLmxvZygpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLTAuNSAqIHQxWydpbSddLCAwLjUgKiB0MVsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY290JzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3QoYykgPSBpIC8gMiBsb2coKGMgLSBpKSAvIChjICsgaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguYXRhbjIoMSwgYSksIDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hdGFuKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXRhbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2VjYW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNlYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjKGMpID0gLWkgKiBsb2coMSAvIGMgKyBzcXJ0KDEgLSBpIC8gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFjb3MoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3NlY2Fuc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjc2MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNzYyhjKSA9IC1pICogbG9nKGkgLyBjICsgc3FydCgxIC0gMSAvIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5QSSAvIDIsIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbigpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFzaW4oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbmgoYykgPSAoZV5jIC0gZV4tYykgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGNvc2goYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29zaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3NoKGMpID0gKGVeYyArIGVeLWMpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgY29zaChhKSAqIE1hdGguY29zKGIpLFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggdGFuaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3RhbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gdGFuaChjKSA9IChlXmMgLSBlXi1jKSAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSArIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NvdGgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290aChjKSA9IChlXmMgKyBlXi1jKSAvIChlXmMgLSBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSAtIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjc2NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzY2goYykgPSAyIC8gKGVeYyAtIGVeLWMpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoMiAqIGIpIC0gY29zaCgyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgLTIgKiBzaW5oKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAyICogY29zaChhKSAqIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzZWNoKGMpID0gMiAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKDIgKiBiKSArIGNvc2goMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIDIgKiBjb3NoKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAtMiAqIHNpbmgoYSkgKiBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2luaChjKSA9IGxvZyhjICsgc3FydChjXjIgKyAxKSlcblxuICAgICAgdmFyIHRtcCA9IHRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gLXRoaXNbJ3JlJ107XG4gICAgICB0aGlzWydyZSddID0gdG1wO1xuICAgICAgdmFyIHJlcyA9IHRoaXNbJ2FzaW4nXSgpO1xuXG4gICAgICB0aGlzWydyZSddID0gLXRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gdG1wO1xuICAgICAgdG1wID0gcmVzWydyZSddO1xuXG4gICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgcmVzWydpbSddID0gdG1wO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvc2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvc2goYykgPSBsb2coYyArIHNxcnQoY14yIC0gMSkpXG5cbiAgICAgIHZhciByZXMgPSB0aGlzWydhY29zJ10oKTtcbiAgICAgIGlmIChyZXNbJ2ltJ10gPD0gMCkge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSB0bXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSAtcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSB0bXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXRhbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhdGFuaChjKSA9IGxvZygoMStjKSAvICgxLWMpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgbm9JTSA9IGEgPiAxICYmIGIgPT09IDA7XG4gICAgICB2YXIgb25lTWludXMgPSAxIC0gYTtcbiAgICAgIHZhciBvbmVQbHVzID0gMSArIGE7XG4gICAgICB2YXIgZCA9IG9uZU1pbnVzICogb25lTWludXMgKyBiICogYjtcblxuICAgICAgdmFyIHggPSAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAob25lUGx1cyAqIG9uZU1pbnVzIC0gYiAqIGIpIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAqIG9uZU1pbnVzICsgb25lUGx1cyAqIGIpIC8gZClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gLTEpID8gKGEgLyAwKSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gKGIgLyAwKSA6IDApO1xuXG4gICAgICB2YXIgdGVtcCA9IHhbJ3JlJ107XG4gICAgICB4WydyZSddID0gbG9nSHlwb3QoeFsncmUnXSwgeFsnaW0nXSkgLyAyO1xuICAgICAgeFsnaW0nXSA9IE1hdGguYXRhbjIoeFsnaW0nXSwgdGVtcCkgLyAyO1xuICAgICAgaWYgKG5vSU0pIHtcbiAgICAgICAgeFsnaW0nXSA9IC14WydpbSddO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3RoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3RoKGMpID0gbG9nKChjKzEpIC8gKGMtMSkpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIE1hdGguUEkgLyAyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXRhbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hdGFuaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNzY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY3NjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY3NjaChjKSA9IGxvZygoMStzcXJ0KDErY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSAhPT0gMClcbiAgICAgICAgICAgICAgICA/IE1hdGgubG9nKGEgKyBNYXRoLnNxcnQoYSAqIGEgKyAxKSlcbiAgICAgICAgICAgICAgICA6IEluZmluaXR5LCAwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hc2luaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNlY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjaChjKSA9IGxvZygoMStzcXJ0KDEtY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYWNvc2goKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggaW52ZXJzZSAxL3pcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdpbnZlcnNlJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIDEgLyAwID0gSW5maW5pdHkgYW5kIDEgLyBJbmZpbml0eSA9IDBcbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhIC8gZCwgLWIgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29tcGxleCBjb25qdWdhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb25qdWdhdGUnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmVnYXRlZCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ25lZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLXRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NlaWwnOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmNlaWwodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZsb29ycyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZmxvb3InOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3JvdW5kJzogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBuZXcgQ29tcGxleChJbmZpbml0eSkuZXF1YWxzKEluZmluaXR5KSA9PT0gZmFsc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdlcXVhbHMnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIHJldHVybiBNYXRoLmFicyh6WydyZSddIC0gdGhpc1sncmUnXSkgPD0gQ29tcGxleFsnRVBTSUxPTiddICYmXG4gICAgICAgICAgICAgIE1hdGguYWJzKHpbJ2ltJ10gLSB0aGlzWydpbSddKSA8PSBDb21wbGV4WydFUFNJTE9OJ107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nsb25lJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddLCB0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyBvZiB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgcmV0ID0gXCJcIjtcblxuICAgICAgaWYgKHRoaXNbJ2lzTmFOJ10oKSkge1xuICAgICAgICByZXR1cm4gJ05hTic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gJ0luZmluaXR5JztcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGEpIDwgQ29tcGxleFsnRVBTSUxPTiddKSB7XG4gICAgICAgIGEgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYikgPCBDb21wbGV4WydFUFNJTE9OJ10pIHtcbiAgICAgICAgYiA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGlzIHJlYWwgbnVtYmVyXG4gICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmV0ICsgYTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgIT09IDApIHtcbiAgICAgICAgcmV0Kz0gYTtcbiAgICAgICAgcmV0Kz0gXCIgXCI7XG4gICAgICAgIGlmIChiIDwgMCkge1xuICAgICAgICAgIGIgPSAtYjtcbiAgICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQrPSBcIitcIjtcbiAgICAgICAgfVxuICAgICAgICByZXQrPSBcIiBcIjtcbiAgICAgIH0gZWxzZSBpZiAoYiA8IDApIHtcbiAgICAgICAgYiA9IC1iO1xuICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKDEgIT09IGIpIHsgLy8gYiBpcyB0aGUgYWJzb2x1dGUgaW1hZ2luYXJ5IHBhcnRcbiAgICAgICAgcmV0Kz0gYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQgKyBcImlcIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYWN0dWFsIG51bWJlciBhcyBhIHZlY3RvclxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgICd0b1ZlY3Rvcic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gW3RoaXNbJ3JlJ10sIHRoaXNbJ2ltJ11dO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgcmVhbCB2YWx1ZSBvZiB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH1cbiAgICAgKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAodGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpc1sncmUnXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjb21wbGV4IG51bWJlciBpcyBub3Qgb24gdGhlIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzTmFOJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNOYU4odGhpc1sncmUnXSkgfHwgaXNOYU4odGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgemVybyBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzWmVybyc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbJ2ltJ10gPT09IDAgJiYgdGhpc1sncmUnXSA9PT0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgY29tcGxleCBudW1iZXIgaXMgbm90IGF0IHRoZSBpbmZpbml0eSBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzRmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNGaW5pdGUodGhpc1sncmUnXSkgJiYgaXNGaW5pdGUodGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgaW5maW5pdHkgcG9sZSBvZiB0aGVcbiAgICAgKiBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc0luZmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISh0aGlzWydpc05hTiddKCkgfHwgdGhpc1snaXNGaW5pdGUnXSgpKTtcbiAgICB9XG4gIH07XG5cbiAgQ29tcGxleFsnWkVSTyddID0gbmV3IENvbXBsZXgoMCwgMCk7XG4gIENvbXBsZXhbJ09ORSddID0gbmV3IENvbXBsZXgoMSwgMCk7XG4gIENvbXBsZXhbJ0knXSA9IG5ldyBDb21wbGV4KDAsIDEpO1xuICBDb21wbGV4WydQSSddID0gbmV3IENvbXBsZXgoTWF0aC5QSSwgMCk7XG4gIENvbXBsZXhbJ0UnXSA9IG5ldyBDb21wbGV4KE1hdGguRSwgMCk7XG4gIENvbXBsZXhbJ0lORklOSVRZJ10gPSBuZXcgQ29tcGxleChJbmZpbml0eSwgSW5maW5pdHkpO1xuICBDb21wbGV4WydOQU4nXSA9IG5ldyBDb21wbGV4KE5hTiwgTmFOKTtcbiAgQ29tcGxleFsnRVBTSUxPTiddID0gMWUtMTU7XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ29tcGxleDtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGxleCwgXCJfX2VzTW9kdWxlXCIsIHsndmFsdWUnOiB0cnVlfSk7XG4gICAgQ29tcGxleFsnZGVmYXVsdCddID0gQ29tcGxleDtcbiAgICBDb21wbGV4WydDb21wbGV4J10gPSBDb21wbGV4O1xuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gQ29tcGxleDtcbiAgfSBlbHNlIHtcbiAgICByb290WydDb21wbGV4J10gPSBDb21wbGV4O1xuICB9XG5cbn0pKHRoaXMpO1xuIiwiaW1wb3J0IENvbXBsZXggZnJvbSAnY29tcGxleC5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIsIGlzVW5pdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0NvbXBsZXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVDb21wbGV4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG4gIENvbXBsZXgucHJvdG90eXBlLnR5cGUgPSAnQ29tcGxleCc7XG4gIENvbXBsZXgucHJvdG90eXBlLmlzQ29tcGxleCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkNvbXBsZXhcIiwgXCJyZVwiOiAyLCBcImltXCI6IDN9YFxuICAgKi9cblxuICBDb21wbGV4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbXBsZXgnLFxuICAgICAgcmU6IHRoaXMucmUsXG4gICAgICBpbTogdGhpcy5pbVxuICAgIH07XG4gIH07XG4gIC8qXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGNvbXBsZXggbnVtYmVyIGluIHBvbGFyIG5vdGF0aW9uXG4gICAqIFRoZSBhbmdsZSBwaGkgd2lsbCBiZSBzZXQgaW4gdGhlIGludGVydmFsIG9mIFstcGksIHBpXS5cbiAgICogQHJldHVybiB7e3I6IG51bWJlciwgcGhpOiBudW1iZXJ9fSBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHIgYW5kIHBoaS5cbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS50b1BvbGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiB0aGlzLmFicygpLFxuICAgICAgcGhpOiB0aGlzLmFyZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29tcGxleCBudW1iZXIsXG4gICAqIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgaW0gPSB0aGlzLmltO1xuICAgIHZhciByZSA9IHRoaXMucmU7XG4gICAgdmFyIHN0clJlID0gZm9ybWF0KHRoaXMucmUsIG9wdGlvbnMpO1xuICAgIHZhciBzdHJJbSA9IGZvcm1hdCh0aGlzLmltLCBvcHRpb25zKTsgLy8gcm91bmQgZWl0aGVyIHJlIG9yIGltIHdoZW4gc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIHByZWNpc2lvblxuXG4gICAgdmFyIHByZWNpc2lvbiA9IGlzTnVtYmVyKG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMgPyBvcHRpb25zLnByZWNpc2lvbiA6IG51bGw7XG5cbiAgICBpZiAocHJlY2lzaW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgZXBzaWxvbiA9IE1hdGgucG93KDEwLCAtcHJlY2lzaW9uKTtcblxuICAgICAgaWYgKE1hdGguYWJzKHJlIC8gaW0pIDwgZXBzaWxvbikge1xuICAgICAgICByZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhpbSAvIHJlKSA8IGVwc2lsb24pIHtcbiAgICAgICAgaW0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbSA9PT0gMCkge1xuICAgICAgLy8gcmVhbCB2YWx1ZVxuICAgICAgc3RyID0gc3RyUmU7XG4gICAgfSBlbHNlIGlmIChyZSA9PT0gMCkge1xuICAgICAgLy8gcHVyZWx5IGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICBzdHIgPSAnaSc7XG4gICAgICB9IGVsc2UgaWYgKGltID09PSAtMSkge1xuICAgICAgICBzdHIgPSAnLWknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gc3RySW0gKyAnaSc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA8IDApIHtcbiAgICAgICAgaWYgKGltID09PSAtMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtICcgKyBzdHJJbS5zdWJzdHJpbmcoMSkgKyAnaSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArICcgKyBzdHJJbSArICdpJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb21wbGV4IG51bWJlciBmcm9tIHBvbGFyIGNvb3JkaW5hdGVzXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICAgQ29tcGxleC5mcm9tUG9sYXIocjogbnVtYmVyLCBwaGk6IG51bWJlcikgOiBDb21wbGV4XG4gICAqICAgICBDb21wbGV4LmZyb21Qb2xhcih7cjogbnVtYmVyLCBwaGk6IG51bWJlcn0pIDogQ29tcGxleFxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFyZ3MuLi5cbiAgICogQHJldHVybiB7Q29tcGxleH1cbiAgICovXG5cblxuICBDb21wbGV4LmZyb21Qb2xhciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGxleChhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnB1dCBoYXMgdG8gYmUgYW4gb2JqZWN0IHdpdGggciBhbmQgcGhpIGtleXMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAge1xuICAgICAgICAgIHZhciByID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIHZhciBwaGkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgICBpZiAoaXNOdW1iZXIocikpIHtcbiAgICAgICAgICAgIGlmIChpc1VuaXQocGhpKSAmJiBwaGkuaGFzQmFzZSgnQU5HTEUnKSkge1xuICAgICAgICAgICAgICAvLyBjb252ZXJ0IHVuaXQgdG8gYSBudW1iZXIgaW4gcmFkaWFuc1xuICAgICAgICAgICAgICBwaGkgPSBwaGkudG9OdW1iZXIoJ3JhZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIocGhpKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoe1xuICAgICAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICAgICAgcGhpOiBwaGlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BoaSBpcyBub3QgYSBudW1iZXIgbm9yIGFuIGFuZ2xlIHVuaXQuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JhZGl1cyByIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uIGZyb21Qb2xhcicpO1xuICAgIH1cbiAgfTtcblxuICBDb21wbGV4LnByb3RvdHlwZS52YWx1ZU9mID0gQ29tcGxleC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBDb21wbGV4IG51bWJlciBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBPYmplY3Qgc3RydWN0dXJlZCBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAge1wibWF0aGpzXCI6IFwiQ29tcGxleFwiLCBcInJlXCI6IDIsIFwiaW1cIjogM31cbiAgICogICAgICAgICAgICAgICAgICAgICAgIEFsbCBwcm9wZXJ0aWVzIGFyZSBvcHRpb25hbCwgZGVmYXVsdCB2YWx1ZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGZvciBgcmVgIGFuZCBgaW1gIGFyZSAwLlxuICAgKiBAcmV0dXJuIHtDb21wbGV4fSBSZXR1cm5zIGEgbmV3IENvbXBsZXggbnVtYmVyXG4gICAqL1xuXG4gIENvbXBsZXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29tcGxleChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBhcmUgdHdvIGNvbXBsZXggbnVtYmVycywgYGFgIGFuZCBgYmA6XG4gICAqXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIHJlYWwgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIC0xIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgc21hbGxlciB0aGFuIHRoZSByZWFsIHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydHMgYXJlIGVxdWFsXG4gICAqICAgYW5kIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgLTEgd2hlbiB0aGUgcmVhbCBwYXJ0cyBhcmUgZXF1YWxcbiAgICogICBhbmQgdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBhYCBpcyBzbWFsbGVyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgMCB3aGVuIGJvdGggcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnRzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtcyB7Q29tcGxleH0gYVxuICAgKiBAcGFyYW1zIHtDb21wbGV4fSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbXBhcmlzb24gcmVzdWx0OiAtMSwgMCwgb3IgMVxuICAgKi9cblxuXG4gIENvbXBsZXguY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEucmUgPiBiLnJlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoYS5yZSA8IGIucmUpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoYS5pbSA+IGIuaW0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChhLmltIDwgYi5pbSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHJldHVybiBDb21wbGV4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKipcbiAqIEBsaWNlbnNlIEZyYWN0aW9uLmpzIHY0LjEuMSAyMy8wNS8yMDIxXG4gKiBodHRwczovL3d3dy54YXJnLm9yZy8yMDE0LzAzL3JhdGlvbmFsLW51bWJlcnMtaW4tamF2YXNjcmlwdC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3Mgb2ZmZXJzIHRoZSBwb3NzaWJpbGl0eSB0byBjYWxjdWxhdGUgZnJhY3Rpb25zLlxuICogWW91IGNhbiBwYXNzIGEgZnJhY3Rpb24gaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBhcnJheSwgYXMgZG91YmxlLCBhcyBzdHJpbmcgb3IgYXMgYW4gaW50ZWdlci5cbiAqXG4gKiBBcnJheS9PYmplY3QgZm9ybVxuICogWyAwID0+IDxub21pbmF0b3I+LCAxID0+IDxkZW5vbWluYXRvcj4gXVxuICogWyBuID0+IDxub21pbmF0b3I+LCBkID0+IDxkZW5vbWluYXRvcj4gXVxuICpcbiAqIEludGVnZXIgZm9ybVxuICogLSBTaW5nbGUgaW50ZWdlciB2YWx1ZVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogMTIzLjQ1NiAtIGEgc2ltcGxlIGRvdWJsZVxuICogMTIzLzQ1NiAtIGEgc3RyaW5nIGZyYWN0aW9uXG4gKiAxMjMuJzQ1NicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlc1xuICogMTIzLig0NTYpIC0gc3lub255bVxuICogMTIzLjQ1JzYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgbGFzdCBwbGFjZVxuICogMTIzLjQ1KDYpIC0gc3lub255bVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGYgPSBuZXcgRnJhY3Rpb24oXCI5LjQnMzEnXCIpO1xuICogZi5tdWwoWy00LCAzXSkuZGl2KDQuOSk7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF4aW11bSBzZWFyY2ggZGVwdGggZm9yIGN5Y2xpYyByYXRpb25hbCBudW1iZXJzLiAyMDAwIHNob3VsZCBiZSBtb3JlIHRoYW4gZW5vdWdoLlxuICAvLyBFeGFtcGxlOiAxLzcgPSAwLigxNDI4NTcpIGhhcyA2IHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlcy5cbiAgLy8gSWYgTUFYX0NZQ0xFX0xFTiBnZXRzIHJlZHVjZWQsIGxvbmcgY3ljbGVzIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCB0b1N0cmluZygpIG9ubHkgZ2V0cyB0aGUgZmlyc3QgMTAgZGlnaXRzXG4gIHZhciBNQVhfQ1lDTEVfTEVOID0gMjAwMDtcblxuICAvLyBQYXJzZWQgZGF0YSB0byBhdm9pZCBjYWxsaW5nIFwibmV3XCIgYWxsIHRoZSB0aW1lXG4gIHZhciBQID0ge1xuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gZXJyb3JDb25zdHJ1Y3RvcigpIHtcbiAgICAgIHZhciB0ZW1wID0gRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRlbXBbJ25hbWUnXSA9IHRoaXNbJ25hbWUnXSA9IG5hbWU7XG4gICAgICB0aGlzWydzdGFjayddID0gdGVtcFsnc3RhY2snXTtcbiAgICAgIHRoaXNbJ21lc3NhZ2UnXSA9IHRlbXBbJ21lc3NhZ2UnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCkgeyB9XG4gICAgSW50ZXJtZWRpYXRlSW5oZXJpdG9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbiAgICBlcnJvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKTtcblxuICAgIHJldHVybiBlcnJvckNvbnN0cnVjdG9yO1xuICB9XG5cbiAgdmFyIERpdmlzaW9uQnlaZXJvID0gRnJhY3Rpb25bJ0RpdmlzaW9uQnlaZXJvJ10gPSBjcmVhdGVFcnJvcignRGl2aXNpb25CeVplcm8nKTtcbiAgdmFyIEludmFsaWRQYXJhbWV0ZXIgPSBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddID0gY3JlYXRlRXJyb3IoJ0ludmFsaWRQYXJhbWV0ZXInKTtcblxuICBmdW5jdGlvbiBhc3NpZ24obiwgcykge1xuXG4gICAgaWYgKGlzTmFOKG4gPSBwYXJzZUludChuLCAxMCkpKSB7XG4gICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgIH1cbiAgICByZXR1cm4gbiAqIHM7XG4gIH1cblxuICBmdW5jdGlvbiB0aHJvd0ludmFsaWRQYXJhbSgpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFBhcmFtZXRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yaXplKG51bSkge1xuXG4gICAgdmFyIGZhY3RvcnMgPSB7fTtcblxuICAgIHZhciBuID0gbnVtO1xuICAgIHZhciBpID0gMjtcbiAgICB2YXIgcyA9IDQ7XG5cbiAgICB3aGlsZSAocyA8PSBuKSB7XG5cbiAgICAgIHdoaWxlIChuICUgaSA9PT0gMCkge1xuICAgICAgICBuIC89IGk7XG4gICAgICAgIGZhY3RvcnNbaV0gPSAoZmFjdG9yc1tpXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgICBzICs9IDEgKyAyICogaSsrO1xuICAgIH1cblxuICAgIGlmIChuICE9PSBudW0pIHtcbiAgICAgIGlmIChuID4gMSlcbiAgICAgIGZhY3RvcnNbbl0gPSAoZmFjdG9yc1tuXSB8fCAwKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZhY3RvcnNbbnVtXSA9IChmYWN0b3JzW251bV0gfHwgMCkgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gZmFjdG9ycztcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXG4gICAgdmFyIG4gPSAwLCBkID0gMSwgcyA9IDE7XG4gICAgdmFyIHYgPSAwLCB3ID0gMCwgeCA9IDAsIHkgPSAxLCB6ID0gMTtcblxuICAgIHZhciBBID0gMCwgQiA9IDE7XG4gICAgdmFyIEMgPSAxLCBEID0gMTtcblxuICAgIHZhciBOID0gMTAwMDAwMDA7XG4gICAgdmFyIE07XG5cbiAgICBpZiAocDEgPT09IHVuZGVmaW5lZCB8fCBwMSA9PT0gbnVsbCkge1xuICAgICAgLyogdm9pZCAqL1xuICAgIH0gZWxzZSBpZiAocDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbiA9IHAxO1xuICAgICAgZCA9IHAyO1xuICAgICAgcyA9IG4gKiBkO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgcDEpIHtcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKFwiZFwiIGluIHAxICYmIFwiblwiIGluIHAxKSB7XG4gICAgICAgICAgICAgIG4gPSBwMVtcIm5cIl07XG4gICAgICAgICAgICAgIGQgPSBwMVtcImRcIl07XG4gICAgICAgICAgICAgIGlmIChcInNcIiBpbiBwMSlcbiAgICAgICAgICAgICAgICBuICo9IHAxW1wic1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbMF07XG4gICAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICAgIGQgPSBwMVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gbiAqIGQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICAgIHMgPSBwMTtcbiAgICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwMSAlIDEgPT09IDApIHtcbiAgICAgICAgICAgICAgbiA9IHAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICAgIGlmIChwMSA+PSAxKSB7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKDEgKyBNYXRoLmxvZyhwMSkgLyBNYXRoLkxOMTApKTtcbiAgICAgICAgICAgICAgICBwMSAvPSB6O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVXNpbmcgRmFyZXkgU2VxdWVuY2VzXG4gICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICAgIHdoaWxlIChCIDw9IE4gJiYgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgTSA9IChBICsgQykgLyAoQiArIEQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoQiArIEQgPD0gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQSArIEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRCA+IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICBpZiAocDEgPiBNKSB7XG4gICAgICAgICAgICAgICAgICAgIEEgKz0gQztcbiAgICAgICAgICAgICAgICAgICAgQiArPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQyArPSBBO1xuICAgICAgICAgICAgICAgICAgICBEICs9IEI7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChCID4gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG4gKj0gejtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgICBkID0gbiA9IE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgICBpZiAoQiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcblxuICAgICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgcyA9IC0xO1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLicgfHwgQltBXSA9PT0gJy4nKSB7IC8vIENoZWNrIGlmIGl0J3MgYSBkZWNpbWFsIG51bWJlclxuXG4gICAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQSArIDEgPT09IEIubGVuZ3RoIHx8IEJbQSArIDFdID09PSAnKCcgJiYgQltBICsgM10gPT09ICcpJyB8fCBCW0EgKyAxXSA9PT0gXCInXCIgJiYgQltBICsgM10gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5wb3coMTAsIEJbQV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVwZWF0aW5nIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQltBXSA9PT0gJygnICYmIEJbQSArIDJdID09PSAnKScgfHwgQltBXSA9PT0gXCInXCIgJiYgQltBICsgMl0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBCW0EgKyAxXS5sZW5ndGgpIC0gMTtcbiAgICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy8nIHx8IEJbQSArIDFdID09PSAnOicpIHsgLy8gQ2hlY2sgZm9yIGEgc2ltcGxlIGZyYWN0aW9uIFwiMTIzLzQ1NlwiIG9yIFwiMTIzOjQ1NlwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDNdID09PSAnLycgJiYgQltBICsgMV0gPT09ICcgJykgeyAvLyBDaGVjayBmb3IgYSBjb21wbGV4IGZyYWN0aW9uIFwiMTIzIDEvMlwiXG4gICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBICsgMl0sIHMpO1xuICAgICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDRdLCAxKTtcbiAgICAgICAgICAgICAgQSArPSA1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPD0gQSkgeyAvLyBDaGVjayBmb3IgbW9yZSB0b2tlbnMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgICAgcyA9IC8qIHZvaWQgKi9cbiAgICAgICAgICAgICAgbiA9IHggKyBkICogdiArIHogKiB3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogRmFsbCB0aHJvdWdoIG9uIGVycm9yICovXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICB9XG5cbiAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IERpdmlzaW9uQnlaZXJvKCk7XG4gICAgfVxuXG4gICAgUFtcInNcIl0gPSBzIDwgMCA/IC0xIDogMTtcbiAgICBQW1wiblwiXSA9IE1hdGguYWJzKG4pO1xuICAgIFBbXCJkXCJdID0gTWF0aC5hYnMoZCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbW9kcG93KGIsIGUsIG0pIHtcblxuICAgIHZhciByID0gMTtcbiAgICBmb3IgKDsgZSA+IDA7IGIgPSAoYiAqIGIpICUgbSwgZSA+Pj0gMSkge1xuXG4gICAgICBpZiAoZSAmIDEpIHtcbiAgICAgICAgciA9IChyICogYikgJSBtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVMZW4obiwgZCkge1xuXG4gICAgZm9yICg7IGQgJSAyID09PSAwO1xuICAgICAgZCAvPSAyKSB7XG4gICAgfVxuXG4gICAgZm9yICg7IGQgJSA1ID09PSAwO1xuICAgICAgZCAvPSA1KSB7XG4gICAgfVxuXG4gICAgaWYgKGQgPT09IDEpIC8vIENhdGNoIG5vbi1jeWNsaWMgbnVtYmVyc1xuICAgICAgcmV0dXJuIDA7XG5cbiAgICAvLyBJZiB3ZSB3b3VsZCBsaWtlIHRvIGNvbXB1dGUgcmVhbGx5IGxhcmdlIG51bWJlcnMgcXVpY2tlciwgd2UgY291bGQgbWFrZSB1c2Ugb2YgRmVybWF0J3MgbGl0dGxlIHRoZW9yZW06XG4gICAgLy8gMTBeKGQtMSkgJSBkID09IDFcbiAgICAvLyBIb3dldmVyLCB3ZSBkb24ndCBuZWVkIHN1Y2ggbGFyZ2UgbnVtYmVycyBhbmQgTUFYX0NZQ0xFX0xFTiBzaG91bGQgYmUgdGhlIGNhcHN0b25lLFxuICAgIC8vIGFzIHdlIHdhbnQgdG8gdHJhbnNsYXRlIHRoZSBudW1iZXJzIHRvIHN0cmluZ3MuXG5cbiAgICB2YXIgcmVtID0gMTAgJSBkO1xuICAgIHZhciB0ID0gMTtcblxuICAgIGZvciAoOyByZW0gIT09IDE7IHQrKykge1xuICAgICAgcmVtID0gcmVtICogMTAgJSBkO1xuXG4gICAgICBpZiAodCA+IE1BWF9DWUNMRV9MRU4pXG4gICAgICAgIHJldHVybiAwOyAvLyBSZXR1cm5pbmcgMCBoZXJlIG1lYW5zIHRoYXQgd2UgZG9uJ3QgcHJpbnQgaXQgYXMgYSBjeWNsaWMgbnVtYmVyLiBJdCdzIGxpa2VseSB0aGF0IHRoZSBhbnN3ZXIgaXMgYGQtMWBcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGN5Y2xlU3RhcnQobiwgZCwgbGVuKSB7XG5cbiAgICB2YXIgcmVtMSA9IDE7XG4gICAgdmFyIHJlbTIgPSBtb2Rwb3coMTAsIGxlbiwgZCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDMwMDsgdCsrKSB7IC8vIHMgPCB+bG9nMTAoTnVtYmVyLk1BWF9WQUxVRSlcbiAgICAgIC8vIFNvbHZlIDEwXnMgPT0gMTBeKHMrdCkgKG1vZCBkKVxuXG4gICAgICBpZiAocmVtMSA9PT0gcmVtMilcbiAgICAgICAgcmV0dXJuIHQ7XG5cbiAgICAgIHJlbTEgPSByZW0xICogMTAgJSBkO1xuICAgICAgcmVtMiA9IHJlbTIgKiAxMCAlIGQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2NkKGEsIGIpIHtcblxuICAgIGlmICghYSlcbiAgICAgIHJldHVybiBiO1xuICAgIGlmICghYilcbiAgICAgIHJldHVybiBhO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIGEgJT0gYjtcbiAgICAgIGlmICghYSlcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICBiICU9IGE7XG4gICAgICBpZiAoIWIpXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTW9kdWxlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge251bWJlcnxGcmFjdGlvbj19IGFcbiAgICogQHBhcmFtIHtudW1iZXI9fSBiXG4gICAqL1xuICBmdW5jdGlvbiBGcmFjdGlvbihhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnJhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGEsIGIpO1xuICAgIH1cblxuICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgaWYgKEZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgYSA9IGdjZChQW1wiZFwiXSwgUFtcIm5cIl0pOyAvLyBBYnVzZSBhXG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHRoaXNbXCJzXCJdID0gUFtcInNcIl07XG4gICAgdGhpc1tcIm5cIl0gPSBQW1wiblwiXSAvIGE7XG4gICAgdGhpc1tcImRcIl0gPSBQW1wiZFwiXSAvIGE7XG4gIH1cblxuICAvKipcbiAgICogQm9vbGVhbiBnbG9iYWwgdmFyaWFibGUgdG8gYmUgYWJsZSB0byBkaXNhYmxlIGF1dG9tYXRpYyByZWR1Y3Rpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAqXG4gICAqL1xuICBGcmFjdGlvblsnUkVEVUNFJ10gPSAxO1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLmFicygpID0+IDRcbiAgICAgKiovXG4gICAgXCJhYnNcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGUgc2lnbiBvZiB0aGUgY3VycmVudCBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkubmVnKCkgPT4gNFxuICAgICAqKi9cbiAgICBcIm5lZ1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigtdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiA0NjcgLyAzMFxuICAgICAqKi9cbiAgICBcImFkZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdICsgUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IC00MjcgLyAzMFxuICAgICAqKi9cbiAgICBcInN1YlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLm11bCgzKSA9PiA1Nzc2IC8gMTExXG4gICAgICoqL1xuICAgIFwibXVsXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5pbnZlcnNlKCkuZGl2KDMpXG4gICAgICoqL1xuICAgIFwiZGl2XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiblwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmNsb25lKClcbiAgICAgKiovXG4gICAgXCJjbG9uZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsbyBvZiB0d28gcmF0aW9uYWwgbnVtYmVycyAtIGEgbW9yZSBwcmVjaXNlIGZtb2RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykubW9kKFs3LCA4XSkgPT4gKDEzLzMpICUgKDcvOCkgPSAoNS82KVxuICAgICAqKi9cbiAgICBcIm1vZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAlIHRoaXNbXCJkXCJdLCAxKTtcbiAgICAgIH1cblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICBpZiAoMCA9PT0gUFtcIm5cIl0gJiYgMCA9PT0gdGhpc1tcImRcIl0pIHtcbiAgICAgICAgRnJhY3Rpb24oMCwgMCk7IC8vIFRocm93IERpdmlzaW9uQnlaZXJvXG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBGaXJzdCBzaWxseSBhdHRlbXB0LCBraW5kYSBzbG93XG4gICAgICAgKlxuICAgICAgIHJldHVybiB0aGF0W1wic3ViXCJdKHtcbiAgICAgICBcIm5cIjogbnVtW1wiblwiXSAqIE1hdGguZmxvb3IoKHRoaXMubiAvIHRoaXMuZCkgLyAobnVtLm4gLyBudW0uZCkpLFxuICAgICAgIFwiZFwiOiBudW1bXCJkXCJdLFxuICAgICAgIFwic1wiOiB0aGlzW1wic1wiXVxuICAgICAgIH0pOyovXG5cbiAgICAgIC8qXG4gICAgICAgKiBOZXcgYXR0ZW1wdDogYTEgLyBiMSA9IGEyIC8gYjIgKiBxICsgclxuICAgICAgICogPT4gYjIgKiBhMSA9IGEyICogYjEgKiBxICsgYjEgKiBiMiAqIHJcbiAgICAgICAqID0+IChiMiAqIGExICUgYTIgKiBiMSkgLyAoYjEgKiBiMilcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiAoUFtcImRcIl0gKiB0aGlzW1wiblwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSksXG4gICAgICAgIFBbXCJkXCJdICogdGhpc1tcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmZsb29yKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyBhIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykucm91bmQoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwicm91bmRcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSByYXRpb25hbCBleHBvbmVudCwgaWYgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTEsMikucG93KC0zKSA9PiAtOFxuICAgICAqL1xuICAgIFwicG93XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIFRyaXZpYWwgY2FzZSB3aGVuIGV4cCBpcyBhbiBpbnRlZ2VyXG5cbiAgICAgIGlmIChQWydkJ10gPT09IDEpIHtcblxuICAgICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcImRcIl0sIFBbJ24nXSksIE1hdGgucG93KHRoaXNbXCJuXCJdLCBQWyduJ10pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJuXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiZFwiXSwgUFsnbiddKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTmVnYXRpdmUgcm9vdHMgYmVjb21lIGNvbXBsZXhcbiAgICAgIC8vICAgICAoLWEvYileKGMvZCkgPSB4XG4gICAgICAvLyA8PT4gKC0xKV4oYy9kKSAqIChhL2IpXihjL2QpID0geFxuICAgICAgLy8gPD0+IChjb3MocGkpICsgaSpzaW4ocGkpKV4oYy9kKSAqIChhL2IpXihjL2QpID0geCAgICAgICAgICMgcm90YXRlIDEgYnkgMTgwwrBcbiAgICAgIC8vIDw9PiAoY29zKGMqcGkvZCkgKyBpKnNpbihjKnBpL2QpKSAqIChhL2IpXihjL2QpID0geCAgICAgICAjIERlTW9pdnJlJ3MgZm9ybXVsYSBpbiBRICggaHR0cHM6Ly9wcm9vZndpa2kub3JnL3dpa2kvRGVfTW9pdnJlJTI3c19Gb3JtdWxhL1JhdGlvbmFsX0luZGV4IClcbiAgICAgIC8vIEZyb20gd2hpY2ggZm9sbG93cyB0aGF0IG9ubHkgZm9yIGM9MCB0aGUgcm9vdCBpcyBub24tY29tcGxleC4gYy9kIGlzIGEgcmVkdWNlZCBmcmFjdGlvbiwgc28gdGhhdCBzaW4oYy9kcGkpPTAgb2NjdXJzIGZvciBkPTEsIHdoaWNoIGlzIGhhbmRsZWQgYnkgb3VyIHRyaXZpYWwgY2FzZS5cbiAgICAgIGlmICh0aGlzWydzJ10gPCAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gTm93IHByaW1lIGZhY3RvciBuIGFuZCBkXG4gICAgICB2YXIgTiA9IGZhY3Rvcml6ZSh0aGlzWyduJ10pO1xuICAgICAgdmFyIEQgPSBmYWN0b3JpemUodGhpc1snZCddKTtcblxuICAgICAgLy8gRXhwb25lbnRpYXRlIGFuZCB0YWtlIHJvb3QgZm9yIG4gYW5kIGQgaW5kaXZpZHVhbGx5XG4gICAgICB2YXIgbiA9IDE7XG4gICAgICB2YXIgZCA9IDE7XG4gICAgICBmb3IgKHZhciBrIGluIE4pIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIGlmIChrID09PSAnMCcpIHtcbiAgICAgICAgICBuID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBOW2tdKj0gUFsnbiddO1xuXG4gICAgICAgIGlmIChOW2tdICUgUFsnZCddID09PSAwKSB7XG4gICAgICAgICAgTltrXS89IFBbJ2QnXTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBuKj0gTWF0aC5wb3coaywgTltrXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgaW4gRCkge1xuICAgICAgICBpZiAoayA9PT0gJzEnKSBjb250aW51ZTtcbiAgICAgICAgRFtrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoRFtrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIERba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgZCo9IE1hdGgucG93KGssIERba10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGQsIG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihuLCBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmVxdWFscyhbOTgsIDVdKTtcbiAgICAgKiovXG4gICAgXCJlcXVhbHNcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gPT09IFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXTsgLy8gU2FtZSBhcyBjb21wYXJlKCkgPT09IDBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmVxdWFscyhbOTgsIDVdKTtcbiAgICAgKiovXG4gICAgXCJjb21wYXJlXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICB2YXIgdCA9ICh0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl0pO1xuICAgICAgcmV0dXJuICgwIDwgdCkgLSAodCA8IDApO1xuICAgIH0sXG5cbiAgICBcInNpbXBsaWZ5XCI6IGZ1bmN0aW9uKGVwcykge1xuXG4gICAgICAvLyBGaXJzdCBuYWl2ZSBpbXBsZW1lbnRhdGlvbiwgbmVlZHMgaW1wcm92ZW1lbnRcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnQgPSB0aGlzWydhYnMnXSgpWyd0b0NvbnRpbnVlZCddKCk7XG5cbiAgICAgIGVwcyA9IGVwcyB8fCAwLjAwMTtcblxuICAgICAgZnVuY3Rpb24gcmVjKGEpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYVswXSk7XG4gICAgICAgIHJldHVybiByZWMoYS5zbGljZSgxKSlbJ2ludmVyc2UnXSgpWydhZGQnXShhWzBdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0bXAgPSByZWMoY29udC5zbGljZSgwLCBpICsgMSkpO1xuICAgICAgICBpZiAodG1wWydzdWInXSh0aGlzWydhYnMnXSgpKVsnYWJzJ10oKS52YWx1ZU9mKCkgPCBlcHMpIHtcbiAgICAgICAgICByZXR1cm4gdG1wWydtdWwnXSh0aGlzWydzJ10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIGRpdmlzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5kaXZpc2libGUoMS41KTtcbiAgICAgKi9cbiAgICBcImRpdmlzaWJsZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuICEoIShQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSB8fCAoKHRoaXNbXCJuXCJdICogUFtcImRcIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEwMC4nOTE4MjMnXCIpLnZhbHVlT2YoKSA9PiAxMDAuOTE4MjM5MTgyMzkxODNcbiAgICAgKiovXG4gICAgJ3ZhbHVlT2YnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZy1mcmFjdGlvbiByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvRnJhY3Rpb24oKSA9PiBcIjQgMS8zXCJcbiAgICAgKiovXG4gICAgJ3RvRnJhY3Rpb24nOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0ciArPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIgKz0gd2hvbGU7XG4gICAgICAgICAgc3RyICs9IFwiIFwiO1xuICAgICAgICAgIG4gJT0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgICBzdHIgKz0gJy8nO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsYXRleCByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvTGF0ZXgoKSA9PiBcIlxcZnJhY3s0fXszfVwiXG4gICAgICoqL1xuICAgICd0b0xhdGV4JzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIG4gJT0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBcIlxcXFxmcmFje1wiO1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICd9eyc7XG4gICAgICAgIHN0ciArPSBkO1xuICAgICAgICBzdHIgKz0gJ30nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjb250aW51ZWQgZnJhY3Rpb24gZWxlbWVudHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCI3LzhcIikudG9Db250aW51ZWQoKSA9PiBbMCwxLDddXG4gICAgICovXG4gICAgJ3RvQ29udGludWVkJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0O1xuICAgICAgdmFyIGEgPSB0aGlzWyduJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2QnXTtcbiAgICAgIHZhciByZXMgPSBbXTtcblxuICAgICAgaWYgKGlzTmFOKGEpIHx8IGlzTmFOKGIpKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcmVzLnB1c2goTWF0aC5mbG9vcihhIC8gYikpO1xuICAgICAgICB0ID0gYSAlIGI7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gdDtcbiAgICAgIH0gd2hpbGUgKGEgIT09IDEpO1xuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZnJhY3Rpb24gd2l0aCBhbGwgZGlnaXRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudG9TdHJpbmcoKSA9PiBcIjEwMC4oOTE4MjMpXCJcbiAgICAgKiovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oZGVjKSB7XG5cbiAgICAgIHZhciBnO1xuICAgICAgdmFyIE4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBEID0gdGhpc1tcImRcIl07XG5cbiAgICAgIGlmIChpc05hTihOKSB8fCBpc05hTihEKSkge1xuICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFGcmFjdGlvblsnUkVEVUNFJ10pIHtcbiAgICAgICAgZyA9IGdjZChOLCBEKTtcbiAgICAgICAgTiAvPSBnO1xuICAgICAgICBEIC89IGc7XG4gICAgICB9XG5cbiAgICAgIGRlYyA9IGRlYyB8fCAxNTsgLy8gMTUgPSBkZWNpbWFsIHBsYWNlcyB3aGVuIG5vIHJlcGV0YXRpb25cblxuICAgICAgdmFyIGN5Y0xlbiA9IGN5Y2xlTGVuKE4sIEQpOyAvLyBDeWNsZSBsZW5ndGhcbiAgICAgIHZhciBjeWNPZmYgPSBjeWNsZVN0YXJ0KE4sIEQsIGN5Y0xlbik7IC8vIEN5Y2xlIHN0YXJ0XG5cbiAgICAgIHZhciBzdHIgPSB0aGlzWydzJ10gPT09IC0xID8gXCItXCIgOiBcIlwiO1xuXG4gICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuXG4gICAgICBOICU9IEQ7XG4gICAgICBOICo9IDEwO1xuXG4gICAgICBpZiAoTilcbiAgICAgICAgc3RyICs9IFwiLlwiO1xuXG4gICAgICBpZiAoY3ljTGVuKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y09mZjsgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gY3ljTGVuOyBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCIpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gZGVjOyBOICYmIGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRnJhY3Rpb247XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhY3Rpb24sIFwiX19lc01vZHVsZVwiLCB7ICd2YWx1ZSc6IHRydWUgfSk7XG4gICAgRnJhY3Rpb25bJ2RlZmF1bHQnXSA9IEZyYWN0aW9uO1xuICAgIEZyYWN0aW9uWydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBGcmFjdGlvbjtcbiAgfSBlbHNlIHtcbiAgICByb290WydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gIH1cblxufSkodGhpcyk7XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRnJhY3Rpb24nO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVGcmFjdGlvbkNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuICBGcmFjdGlvbi5wcm90b3R5cGUudHlwZSA9ICdGcmFjdGlvbic7XG4gIEZyYWN0aW9uLnByb3RvdHlwZS5pc0ZyYWN0aW9uID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBjb250YWluaW5nIHR5cGUgaW5mb3JtYXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGcmFjdGlvblwiLCBcIm5cIjogMywgXCJkXCI6IDh9YFxuICAgKi9cblxuICBGcmFjdGlvbi5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGcmFjdGlvbicsXG4gICAgICBuOiB0aGlzLnMgKiB0aGlzLm4sXG4gICAgICBkOiB0aGlzLmRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBGcmFjdGlvbiBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGcmFjdGlvblwiLCBcIm5cIjogMywgXCJkXCI6IDh9YFxuICAgKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gICAqL1xuXG5cbiAgRnJhY3Rpb24uZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oanNvbik7XG4gIH07XG5cbiAgcmV0dXJuIEZyYWN0aW9uO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCwgc2lnbiB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdSYW5nZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZVJhbmdlQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQ3JlYXRlIGEgcmFuZ2UuIEEgcmFuZ2UgaGFzIGEgc3RhcnQsIHN0ZXAsIGFuZCBlbmQsIGFuZCBjb250YWlucyBmdW5jdGlvbnNcbiAgICogdG8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZS5cbiAgICpcbiAgICogQSByYW5nZSBjYW4gYmUgY29uc3RydWN0ZWQgYXM6XG4gICAqXG4gICAqICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgZW5kKVxuICAgKiAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcClcbiAgICpcbiAgICogVG8gZ2V0IHRoZSByZXN1bHQgb2YgdGhlIHJhbmdlOlxuICAgKiAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgKiAgICAgICAgIGNvbnNvbGUubG9nKHgpXG4gICAqICAgICB9KVxuICAgKiAgICAgcmFuZ2UubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAqICAgICAgICAgcmV0dXJuIG1hdGguc2luKHgpXG4gICAqICAgICB9KVxuICAgKiAgICAgcmFuZ2UudG9BcnJheSgpXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBjb25zdCBjID0gbmV3IFJhbmdlKDIsIDYpICAgICAgIC8vIDI6MTo1XG4gICAqICAgICBjLnRvQXJyYXkoKSAgICAgICAgICAgICAgICAgICAgIC8vIFsyLCAzLCA0LCA1XVxuICAgKiAgICAgY29uc3QgZCA9IG5ldyBSYW5nZSgyLCAtMywgLTEpICAvLyAyOi0xOi0yXG4gICAqICAgICBkLnRvQXJyYXkoKSAgICAgICAgICAgICAgICAgICAgIC8vIFsyLCAxLCAwLCAtMSwgLTJdXG4gICAqXG4gICAqIEBjbGFzcyBSYW5nZVxuICAgKiBAY29uc3RydWN0b3IgUmFuZ2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0ICBpbmNsdWRlZCBsb3dlciBib3VuZFxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kICAgIGV4Y2x1ZGVkIHVwcGVyIGJvdW5kXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcF0gc3RlcCBzaXplLCBkZWZhdWx0IHZhbHVlIGlzIDFcbiAgICovXG4gIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHZhciBoYXNTdGFydCA9IHN0YXJ0ICE9PSBudWxsICYmIHN0YXJ0ICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGhhc0VuZCA9IGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaGFzU3RlcCA9IHN0ZXAgIT09IG51bGwgJiYgc3RlcCAhPT0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGhhc1N0YXJ0KSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0YXJ0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgc3RhcnQgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNFbmQpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihlbmQpKSB7XG4gICAgICAgIGVuZCA9IGVuZC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgZW5kIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzU3RlcCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHN0ZXApKSB7XG4gICAgICAgIHN0ZXAgPSBzdGVwLnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGVwICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgc3RlcCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydCA9IGhhc1N0YXJ0ID8gcGFyc2VGbG9hdChzdGFydCkgOiAwO1xuICAgIHRoaXMuZW5kID0gaGFzRW5kID8gcGFyc2VGbG9hdChlbmQpIDogMDtcbiAgICB0aGlzLnN0ZXAgPSBoYXNTdGVwID8gcGFyc2VGbG9hdChzdGVwKSA6IDE7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnR5cGUgPSAnUmFuZ2UnO1xuICBSYW5nZS5wcm90b3R5cGUuaXNSYW5nZSA9IHRydWU7XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBpbnRvIGEgcmFuZ2UsXG4gICAqIFRoZSBzdHJpbmcgY29udGFpbnMgdGhlIHN0YXJ0LCBvcHRpb25hbCBzdGVwLCBhbmQgZW5kLCBzZXBhcmF0ZWQgYnkgYSBjb2xvbi5cbiAgICogSWYgdGhlIHN0cmluZyBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgcmFuZ2UsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqIEZvciBleGFtcGxlIHN0cj0nMDoyOjExJy5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7UmFuZ2UgfCBudWxsfSByYW5nZVxuICAgKi9cblxuICBSYW5nZS5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gc3RyLnNwbGl0KCc6Jyk7XG4gICAgdmFyIG51bXMgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChhcmcpO1xuICAgIH0pO1xuICAgIHZhciBpbnZhbGlkID0gbnVtcy5zb21lKGZ1bmN0aW9uIChudW0pIHtcbiAgICAgIHJldHVybiBpc05hTihudW0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGludmFsaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN3aXRjaCAobnVtcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShudW1zWzBdLCBudW1zWzFdKTtcblxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKG51bXNbMF0sIG51bXNbMl0sIG51bXNbMV0pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgcmFuZ2VcbiAgICogQHJldHVybiB7UmFuZ2V9IGNsb25lXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMuc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgcmFuZ2UuXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBvbmUgbnVtYmVyLCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSAwO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXA7XG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kO1xuICAgIHZhciBkaWZmID0gZW5kIC0gc3RhcnQ7XG5cbiAgICBpZiAoc2lnbihzdGVwKSA9PT0gc2lnbihkaWZmKSkge1xuICAgICAgbGVuID0gTWF0aC5jZWlsKGRpZmYgLyBzdGVwKTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgIGxlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlzTmFOKGxlbikpIHtcbiAgICAgIGxlbiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtsZW5dO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIHZhbHVlIGluIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybiB7bnVtYmVyIHwgdW5kZWZpbmVkfSBtaW5cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWluID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplKClbMF07XG5cbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGlmICh0aGlzLnN0ZXAgPiAwKSB7XG4gICAgICAgIC8vIHBvc2l0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZWdhdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0ICsgKHNpemUgLSAxKSAqIHRoaXMuc3RlcDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCB1bmRlZmluZWR9IG1heFxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemUoKVswXTtcblxuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgaWYgKHRoaXMuc3RlcCA+IDApIHtcbiAgICAgICAgLy8gcG9zaXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydCArIChzaXplIC0gMSkgKiB0aGlzLnN0ZXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZWdhdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBSYW5nZSBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgeCA9IHRoaXMuc3RhcnQ7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXA7XG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kO1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgd2hpbGUgKHggPCBlbmQpIHtcbiAgICAgICAgY2FsbGJhY2soeCwgW2ldLCB0aGlzKTtcbiAgICAgICAgeCArPSBzdGVwO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGVwIDwgMCkge1xuICAgICAgd2hpbGUgKHggPiBlbmQpIHtcbiAgICAgICAgY2FsbGJhY2soeCwgW2ldLCB0aGlzKTtcbiAgICAgICAgeCArPSBzdGVwO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIHZhbHVlIGluIHRoZSBSYW5nZSwgYW5kIHJldHVybiB0aGVcbiAgICogcmVzdWx0cyBhcyBhbiBhcnJheVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgb2JqKSB7XG4gICAgICBhcnJheVtpbmRleFswXV0gPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBSYW5nZXMgZGF0YVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICBhcnJheVtpbmRleFswXV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgUmFuZ2UsIGEgb25lIGRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ETzogaW1wbGVtZW50IGEgY2FjaGluZyBtZWNoYW5pc20gZm9yIHJhbmdlLnZhbHVlT2YoKVxuICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2UsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBPdXRwdXQgaXMgZm9ybWF0dGVkIGFzICdzdGFydDpzdGVwOmVuZCcsIGZvciBleGFtcGxlICcyOjYnIG9yICcwOjAuMjoxMSdcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgZnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyID0gZm9ybWF0KHRoaXMuc3RhcnQsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCAhPT0gMSkge1xuICAgICAgc3RyICs9ICc6JyArIGZvcm1hdCh0aGlzLnN0ZXAsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBmb3JtYXQodGhpcy5lbmQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZVwiLCBcInN0YXJ0XCI6IDIsIFwiZW5kXCI6IDQsIFwic3RlcFwiOiAxfWBcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSYW5nZScsXG4gICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgIGVuZDogdGhpcy5lbmQsXG4gICAgICBzdGVwOiB0aGlzLnN0ZXBcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSYW5nZSBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlXCIsIFwic3RhcnRcIjogMiwgXCJlbmRcIjogNCwgXCJzdGVwXCI6IDF9YFxuICAgKiBAcmV0dXJuIHtSYW5nZX1cbiAgICovXG5cblxuICBSYW5nZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShqc29uLnN0YXJ0LCBqc29uLmVuZCwganNvbi5zdGVwKTtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2U7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ01hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBNYXRyaXhcbiAgICpcbiAgICogQSBNYXRyaXggaXMgYSB3cmFwcGVyIGFyb3VuZCBhbiBBcnJheS4gQSBtYXRyaXggY2FuIGhvbGQgYSBtdWx0aSBkaW1lbnNpb25hbFxuICAgKiBhcnJheS4gQSBtYXRyaXggY2FuIGJlIGNvbnN0cnVjdGVkIGFzOlxuICAgKlxuICAgKiAgICAgbGV0IG1hdHJpeCA9IG1hdGgubWF0cml4KGRhdGEpXG4gICAqXG4gICAqIE1hdHJpeCBjb250YWlucyB0aGUgZnVuY3Rpb25zIHRvIHJlc2l6ZSwgZ2V0IGFuZCBzZXQgdmFsdWVzLCBnZXQgdGhlIHNpemUsXG4gICAqIGNsb25lIHRoZSBtYXRyaXggYW5kIHRvIGNvbnZlcnQgdGhlIG1hdHJpeCB0byBhIHZlY3RvciwgYXJyYXksIG9yIHNjYWxhci5cbiAgICogRnVydGhlcm1vcmUsIG9uZSBjYW4gaXRlcmF0ZSBvdmVyIHRoZSBtYXRyaXggdXNpbmcgbWFwIGFuZCBmb3JFYWNoLlxuICAgKiBUaGUgaW50ZXJuYWwgQXJyYXkgb2YgdGhlIE1hdHJpeCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgdGhlIGZ1bmN0aW9uIHZhbHVlT2YuXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBsZXQgbWF0cml4ID0gbWF0aC5tYXRyaXgoW1sxLCAyXSwgWzMsIDRdXSlcbiAgICogICAgIG1hdGl4LnNpemUoKSAgICAgICAgICAgICAgLy8gWzIsIDJdXG4gICAqICAgICBtYXRyaXgucmVzaXplKFszLCAyXSwgNSlcbiAgICogICAgIG1hdHJpeC52YWx1ZU9mKCkgICAgICAgICAgLy8gW1sxLCAyXSwgWzMsIDRdLCBbNSwgNV1dXG4gICAqICAgICBtYXRyaXguc3Vic2V0KFsxLDJdKSAgICAgICAvLyAzIChpbmRleGVzIGFyZSB6ZXJvLWJhc2VkKVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gTWF0cml4KCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnTWF0cml4JztcbiAgTWF0cml4LnByb3RvdHlwZS5pc01hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuICBNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN0b3JhZ2Ugb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZGF0YXR5cGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTWF0cml4IFdpdGggdGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBPYmplY3R9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBjcmVhdGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3Vic2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBnZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7TWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSByZXNpemUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgcmVzaGFwZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybiB7TWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGNsb25lIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzaXplIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgbWFwIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JFYWNoIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdG9BcnJheSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBNYXRyaXg6IGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB2YWx1ZU9mIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JtYXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB0b1N0cmluZyBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcblxuICByZXR1cm4gTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0FycmF5LCBpc0JpZ051bWJlciwgaXNDb2xsZWN0aW9uLCBpc0luZGV4LCBpc01hdHJpeCwgaXNOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUsIGdldEFycmF5RGF0YVR5cGUsIHJlc2hhcGUsIHJlc2l6ZSwgdW5zcXVlZXplLCB2YWxpZGF0ZSwgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGRlZXBTdHJpY3RFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0RlbnNlTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ01hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVEZW5zZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBEZW5zZSBNYXRyaXggaW1wbGVtZW50YXRpb24uIEEgcmVndWxhciwgZGVuc2UgbWF0cml4LCBzdXBwb3J0aW5nIG11bHRpLWRpbWVuc2lvbmFsIG1hdHJpY2VzLiBUaGlzIGlzIHRoZSBkZWZhdWx0IG1hdHJpeCB0eXBlLlxuICAgKiBAY2xhc3MgRGVuc2VNYXRyaXhcbiAgICovXG4gIGZ1bmN0aW9uIERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERlbnNlTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YXR5cGUgJiYgIWlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGF0eXBlOiAnICsgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChpc01hdHJpeChkYXRhKSkge1xuICAgICAgLy8gY2hlY2sgZGF0YSBpcyBhIERlbnNlTWF0cml4XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnRGVuc2VNYXRyaXgnKSB7XG4gICAgICAgIC8vIGNsb25lIGRhdGEgJiBzaXplXG4gICAgICAgIHRoaXMuX2RhdGEgPSBjbG9uZShkYXRhLl9kYXRhKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNsb25lKGRhdGEuX3NpemUpO1xuICAgICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuX2RhdGF0eXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYnVpbGQgZGF0YSBmcm9tIGV4aXN0aW5nIG1hdHJpeFxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YS50b0FycmF5KCk7XG4gICAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemUoKTtcbiAgICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLl9kYXRhdHlwZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEgJiYgaXNBcnJheShkYXRhLmRhdGEpICYmIGlzQXJyYXkoZGF0YS5zaXplKSkge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHMgZnJvbSBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAgICB0aGlzLl9kYXRhID0gZGF0YS5kYXRhO1xuICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZTsgLy8gdmVyaWZ5IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuXG4gICAgICB2YWxpZGF0ZSh0aGlzLl9kYXRhLCB0aGlzLl9zaXplKTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5kYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIHJlcGxhY2UgbmVzdGVkIE1hdHJpY2VzIHdpdGggQXJyYXlzXG4gICAgICB0aGlzLl9kYXRhID0gcHJlcHJvY2VzcyhkYXRhKTsgLy8gZ2V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuXG4gICAgICB0aGlzLl9zaXplID0gYXJyYXlTaXplKHRoaXMuX2RhdGEpOyAvLyB2ZXJpZnkgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5LCBUT0RPOiBjb21wdXRlIHNpemUgd2hpbGUgcHJvY2Vzc2luZyBhcnJheVxuXG4gICAgICB2YWxpZGF0ZSh0aGlzLl9kYXRhLCB0aGlzLl9zaXplKTsgLy8gZGF0YSB0eXBlIHVua25vd25cblxuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgIC8vIHVuc3VwcG9ydGVkIHR5cGVcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgZGF0YSAoJyArIHR5cGVPZihkYXRhKSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vdGhpbmcgcHJvdmlkZWRcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICAgIHRoaXMuX3NpemUgPSBbMF07XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH1cbiAgfVxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZSA9IG5ldyBNYXRyaXgoKTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBEZW5zZU1hdHJpeFxuICAgKi9cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlRGVuc2VNYXRyaXggPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnRGVuc2VNYXRyaXgnO1xuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuaXNEZW5zZU1hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICBjb25zdCBtYXRyaXhUeXBlID0gbWF0cml4LmdldERhdGFUeXBlKCkgIC8vIHJldHJpZXZlcyB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogQG1lbWJlck9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICB0eXBlIGluZm9ybWF0aW9uOyBpZiBtdWx0aXBsZSB0eXBlcyBhcmUgZm91bmQgZnJvbSB0aGUgTWF0cml4LCBpdCB3aWxsIHJldHVybiBcIm1peGVkXCJcbiAgICovXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmdldERhdGFUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRBcnJheURhdGFUeXBlKHRoaXMuX2RhdGEsIHR5cGVPZik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnZGVuc2UnO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YXR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRGVuc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9nZXQodGhpcywgaW5kZXgpO1xuICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbCB0aHJvdWdoXG5cbiAgICAgIGNhc2UgMjpcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIF9zZXQodGhpcywgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMnKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaW5kZXhcblxuXG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCBpbmRleC5sZW5ndGg7IHgrKykge1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleFt4XSwgdGhpcy5fc2l6ZVt4XSk7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5kZXgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGluZGV4SSA9IGluZGV4W2ldO1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICAgIGRhdGEgPSBkYXRhW2luZGV4SV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCA8IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICB9XG5cbiAgICB2YXIgaSwgaWksIGluZGV4STsgLy8gZW5sYXJnZSBtYXRyaXggd2hlbiBuZWVkZWRcblxuICAgIHZhciBzaXplID0gaW5kZXgubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaSArIDE7XG4gICAgfSk7XG5cbiAgICBfZml0KHRoaXMsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIHRyYXZlcnNlIG92ZXIgdGhlIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBpbmRleC5sZW5ndGggLSAxOyBpIDwgaWk7IGkrKykge1xuICAgICAgaW5kZXhJID0gaW5kZXhbaV07XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgICAgZGF0YSA9IGRhdGFbaW5kZXhJXTtcbiAgICB9IC8vIHNldCBuZXcgdmFsdWVcblxuXG4gICAgaW5kZXhJID0gaW5kZXhbaW5kZXgubGVuZ3RoIC0gMV07XG4gICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICBkYXRhW2luZGV4SV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1Ym1hdHJpeCBvZiB0aGlzIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9nZXQobWF0cml4LCBpbmRleCkge1xuICAgIGlmICghaXNJbmRleChpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpO1xuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyByZXR1cm4gYSBzY2FsYXJcbiAgICAgIHJldHVybiBtYXRyaXguZ2V0KGluZGV4Lm1pbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuICAgICAgdmFyIHNpemUgPSBpbmRleC5zaXplKCk7XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCAhPT0gbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBpZiBhbnkgb2YgdGhlIHJhbmdlcyBpbiB0aGUgaW5kZXggaXMgb3V0IG9mIHJhbmdlXG5cblxuICAgICAgdmFyIG1pbiA9IGluZGV4Lm1pbigpO1xuICAgICAgdmFyIG1heCA9IGluZGV4Lm1heCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBtYXRyaXguX3NpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KG1pbltpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgICAgdmFsaWRhdGVJbmRleChtYXhbaV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICB9IC8vIHJldHJpZXZlIHN1Ym1hdHJpeFxuICAgICAgLy8gVE9ETzogbW9yZSBlZmZpY2llbnQgd2hlbiBjcmVhdGluZyBhbiBlbXB0eSBtYXRyaXggYW5kIHNldHRpbmcgX2RhdGEgYW5kIF9zaXplIG1hbnVhbGx5XG5cblxuICAgICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChfZ2V0U3VibWF0cml4KG1hdHJpeC5fZGF0YSwgaW5kZXgsIHNpemUubGVuZ3RoLCAwKSwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBnZXQgYSBzdWJtYXRyaXggb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBtYXRyaXguXG4gICAqIEluZGV4IGlzIG5vdCBjaGVja2VkIGZvciBjb3JyZWN0IG51bWJlciBvciBsZW5ndGggb2YgZGltZW5zaW9ucy5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgICBUb3RhbCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gZGltICAgIEN1cnJlbnQgZGltZW5zaW9uXG4gICAqIEByZXR1cm4ge0FycmF5fSBzdWJtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZ2V0U3VibWF0cml4KGRhdGEsIGluZGV4LCBkaW1zLCBkaW0pIHtcbiAgICB2YXIgbGFzdCA9IGRpbSA9PT0gZGltcyAtIDE7XG4gICAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKGRpbSk7XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgcmV0dXJuIHJhbmdlLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGksIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGRhdGFbaV07XG4gICAgICB9KS52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChpLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIHZhciBjaGlsZCA9IGRhdGFbaV07XG4gICAgICAgIHJldHVybiBfZ2V0U3VibWF0cml4KGNoaWxkLCBpbmRleCwgZGltcywgZGltICsgMSk7XG4gICAgICB9KS52YWx1ZU9mKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc3VibWF0cml4IGluIHRoaXMgbWF0cml4XG4gICAqIEluZGV4ZXMgYXJlIHplcm8tYmFzZWQuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeCB8IEFycmF5IHwgKn0gc3VibWF0cml4XG4gICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlICAgICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC5cbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9zZXQobWF0cml4LCBpbmRleCwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9IC8vIGdldCBpbmRleCBzaXplIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBpbmRleCBjb250YWlucyBhIHNpbmdsZSB2YWx1ZVxuXG5cbiAgICB2YXIgaVNpemUgPSBpbmRleC5zaXplKCk7XG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTsgLy8gY2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXgsIGFuZCBjb252ZXJ0IGl0IGludG8gYW4gQXJyYXkgaWYgbmVlZGVkXG5cbiAgICB2YXIgc1NpemU7XG5cbiAgICBpZiAoaXNNYXRyaXgoc3VibWF0cml4KSkge1xuICAgICAgc1NpemUgPSBzdWJtYXRyaXguc2l6ZSgpO1xuICAgICAgc3VibWF0cml4ID0gc3VibWF0cml4LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc1NpemUgPSBhcnJheVNpemUoc3VibWF0cml4KTtcbiAgICB9XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHNldCBhIHNjYWxhclxuICAgICAgLy8gY2hlY2sgd2hldGhlciBzdWJtYXRyaXggaXMgYSBzY2FsYXJcbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2NhbGFyIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIG1hdHJpeC5zZXQoaW5kZXgubWluKCksIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0IGEgc3VibWF0cml4XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG4gICAgICBpZiAoaVNpemUubGVuZ3RoIDwgbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc1NpemUubGVuZ3RoIDwgaVNpemUubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgbWlzc2luZyBvdXRlciBkaW1lbnNpb25zXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIG91dGVyID0gMDtcblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEgJiYgc1NpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBvdXRlcisrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSAvLyB1bnNxdWVlemUgYm90aCBvdXRlciBhbmQgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgICAgICAgc3VibWF0cml4ID0gdW5zcXVlZXplKHN1Ym1hdHJpeCwgaVNpemUubGVuZ3RoLCBvdXRlciwgc1NpemUpO1xuICAgICAgfSAvLyBjaGVjayB3aGV0aGVyIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXggbWF0Y2hlcyB0aGUgaW5kZXggc2l6ZVxuXG5cbiAgICAgIGlmICghZGVlcFN0cmljdEVxdWFsKGlTaXplLCBzU2l6ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLCBzU2l6ZSwgJz4nKTtcbiAgICAgIH0gLy8gZW5sYXJnZSBtYXRyaXggd2hlbiBuZWVkZWRcblxuXG4gICAgICB2YXIgc2l6ZSA9IGluZGV4Lm1heCgpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICB9KTtcblxuICAgICAgX2ZpdChtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGluc2VydCB0aGUgc3ViIG1hdHJpeFxuXG5cbiAgICAgIHZhciBkaW1zID0gaVNpemUubGVuZ3RoO1xuICAgICAgdmFyIGRpbSA9IDA7XG5cbiAgICAgIF9zZXRTdWJtYXRyaXgobWF0cml4Ll9kYXRhLCBpbmRleCwgc3VibWF0cml4LCBkaW1zLCBkaW0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzdWJtYXRyaXggb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHN1Ym1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGltcyAgIFRvdGFsIG51bWJlciBvZiBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfc2V0U3VibWF0cml4KGRhdGEsIGluZGV4LCBzdWJtYXRyaXgsIGRpbXMsIGRpbSkge1xuICAgIHZhciBsYXN0ID0gZGltID09PSBkaW1zIC0gMTtcbiAgICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oZGltKTtcblxuICAgIGlmIChsYXN0KSB7XG4gICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSW5kZXgsIHN1YkluZGV4KSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoZGF0YUluZGV4KTtcbiAgICAgICAgZGF0YVtkYXRhSW5kZXhdID0gc3VibWF0cml4W3N1YkluZGV4WzBdXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSW5kZXgsIHN1YkluZGV4KSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoZGF0YUluZGV4KTtcblxuICAgICAgICBfc2V0U3VibWF0cml4KGRhdGFbZGF0YUluZGV4XSwgaW5kZXgsIHN1Ym1hdHJpeFtzdWJJbmRleFswXV0sIGRpbXMsIGRpbSArIDEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXSB8fCBNYXRyaXh9IHNpemUgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0NvbGxlY3Rpb24oc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IG9yIE1hdHJpeCBleHBlY3RlZCcpO1xuICAgIH0gLy8gU3BhcnNlTWF0cml4IGlucHV0IGlzIGFsd2F5cyAyZCwgZmxhdHRlbiB0aGlzIGludG8gMWQgaWYgaXQncyBpbmRlZWQgYSB2ZWN0b3JcblxuXG4gICAgdmFyIHNpemVBcnJheSA9IHNpemUudmFsdWVPZigpLm1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICB9KTsgLy8gbWF0cml4IHRvIHJlc2l6ZVxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmVzaXplIG1hdHJpeFxuXG4gICAgcmV0dXJuIF9yZXNpemUobSwgc2l6ZUFycmF5LCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9yZXNpemUobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBzaXplXG4gICAgaWYgKHNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBmaXJzdCB2YWx1ZSBpbiBtYXRyaXhcbiAgICAgIHZhciB2ID0gbWF0cml4Ll9kYXRhOyAvLyBnbyBkZWVwXG5cbiAgICAgIHdoaWxlIChpc0FycmF5KHYpKSB7XG4gICAgICAgIHYgPSB2WzBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdjtcbiAgICB9IC8vIHJlc2l6ZSBtYXRyaXhcblxuXG4gICAgbWF0cml4Ll9zaXplID0gc2l6ZS5zbGljZSgwKTsgLy8gY29weSB0aGUgYXJyYXlcblxuICAgIG1hdHJpeC5fZGF0YSA9IHJlc2l6ZShtYXRyaXguX2RhdGEsIG1hdHJpeC5fc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1pZ2h0IGJlIGJldHRlciBzdWl0ZWQgdG8gY29weSBieSBkZWZhdWx0LCBpbnN0ZWFkIG9mIG1vZGlmeWluZ1xuICAgKiAgICAgICBpbiBwbGFjZS4gRm9yIG5vdywgaXQgb3BlcmF0ZXMgaW4gcGxhY2UgdG8gcmVtYWluIGNvbnNpc3RlbnQgd2l0aFxuICAgKiAgICAgICByZXNpemUoKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGNvcHkpIHtcbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzO1xuICAgIG0uX2RhdGEgPSByZXNoYXBlKG0uX2RhdGEsIHNpemUpO1xuICAgIG0uX3NpemUgPSBzaXplLnNsaWNlKDApO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogRW5sYXJnZSB0aGUgbWF0cml4IHdoZW4gaXQgaXMgc21hbGxlciB0aGFuIGdpdmVuIHNpemUuXG4gICAqIElmIHRoZSBtYXRyaXggaXMgbGFyZ2VyIG9yIGVxdWFsIHNpemVkLCBub3RoaW5nIGlzIGRvbmUuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXggICAgICAgICAgIFRoZSBtYXRyaXggdG8gYmUgcmVzaXplZFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplXG4gICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlICAgICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZml0KG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIC8vIGNvcHkgdGhlIGFycmF5XG4gICAgbmV3U2l6ZSA9IG1hdHJpeC5fc2l6ZS5zbGljZSgwKTtcblxuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7IC8vIGFkZCBkaW1lbnNpb25zIHdoZW4gbmVlZGVkXG5cbiAgICB3aGlsZSAobmV3U2l6ZS5sZW5ndGggPCBzaXplLmxlbmd0aCkge1xuICAgICAgbmV3U2l6ZS5wdXNoKDApO1xuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgfSAvLyBlbmxhcmdlIHNpemUgd2hlbiBuZWVkZWRcblxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpZiAoc2l6ZVtpXSA+IG5ld1NpemVbaV0pIHtcbiAgICAgICAgbmV3U2l6ZVtpXSA9IHNpemVbaV07XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAvLyByZXNpemUgb25seSB3aGVuIHNpemUgaXMgY2hhbmdlZFxuICAgICAgX3Jlc2l6ZShtYXRyaXgsIG5ld1NpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG0gPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2xvbmUodGhpcy5fZGF0YSksXG4gICAgICBzaXplOiBjbG9uZSh0aGlzLl9zaXplKSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplLnNsaWNlKDApOyAvLyByZXR1cm4gYSBjbG9uZSBvZiBfc2l6ZVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbWF0cml4IGluc3RhbmNlXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIHZhciByZWN1cnNlID0gZnVuY3Rpb24gcmVjdXJzZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICAgIHJldHVybiByZWN1cnNlKGNoaWxkLCBpbmRleC5jb25jYXQoaSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG1lKTtcbiAgICAgIH1cbiAgICB9OyAvLyBkZXRlcm1pbmUgdGhlIG5ldyBkYXRhdHlwZSB3aGVuIHRoZSBvcmlnaW5hbCBtYXRyaXggaGFzIGRhdGF0eXBlIGRlZmluZWRcbiAgICAvLyBUT0RPOiBzaG91bGQgYmUgZG9uZSBpbiBtYXRyaXggY29uc3RydWN0b3IgaW5zdGVhZFxuXG5cbiAgICB2YXIgZGF0YSA9IHJlY3Vyc2UodGhpcy5fZGF0YSwgW10pO1xuICAgIHZhciBkYXRhdHlwZSA9IHRoaXMuX2RhdGF0eXBlICE9PSB1bmRlZmluZWQgPyBnZXRBcnJheURhdGFUeXBlKGRhdGEsIHR5cGVPZikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbWF0cml4IGluc3RhbmNlXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIHZhciByZWN1cnNlID0gZnVuY3Rpb24gcmVjdXJzZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICAgIHJlY3Vyc2UoY2hpbGQsIGluZGV4LmNvbmNhdChpKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodmFsdWUsIGluZGV4LCBtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlY3Vyc2UodGhpcy5fZGF0YSwgW10pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBEZW5zZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjbG9uZSh0aGlzLl9kYXRhKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBEZW5zZU1hdHJpeDogYSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLl9kYXRhLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLl9kYXRhKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdEZW5zZU1hdHJpeCcsXG4gICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgc2l6ZTogdGhpcy5fc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGt0aCBNYXRyaXggZGlhZ29uYWwuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIHJldHJpZXZlZC5cbiAgICpcbiAgICogQHJldHVybnMge01hdHJpeH0gICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHdpdGggdGhlIGRpYWdvbmFsIHZhbHVlcy5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZGlhZ29uYWwgPSBmdW5jdGlvbiAoaykge1xuICAgIC8vIHZhbGlkYXRlIGsgaWYgYW55XG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBudW1iZXIgZGlhZ29uYWwgdmFsdWVzXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8geCBpcyBhIG1hdHJpeCBnZXQgZGlhZ29uYWwgZnJvbSBtYXRyaXhcblxuICAgIHZhciBkYXRhID0gW107IC8vIGxvb3Agcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGRhdGFbaV0gPSB0aGlzLl9kYXRhW2kgKyBrU3ViXVtpICsga1N1cGVyXTtcbiAgICB9IC8vIGNyZWF0ZSBEZW5zZU1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBzaXplOiBbbl0sXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpYWdvbmFsIG1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemUgICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHNpemUuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgTWF0cml4IHwgQXJyYXkgfSB2YWx1ZSBUaGUgdmFsdWVzIGZvciB0aGUgZGlhZ29uYWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3Igbm9uLWRpYWdvbmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdICAgICAgICAgICAgICBUaGUgZGF0YXR5cGUgZm9yIHRoZSBkaWFnb25hbFxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVuc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguZGlhZ29uYWwgPSBmdW5jdGlvbiAoc2l6ZSwgdmFsdWUsIGssIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQsIHNpemUgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIG1hcCBzaXplICYgdmFsaWRhdGVcblxuXG4gICAgc2l6ZSA9IHNpemUubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBhIGJpZyBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihzKSkge1xuICAgICAgICAvLyBjb252ZXJ0IGl0XG4gICAgICAgIHMgPSBzLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgICAgIGlmICghaXNOdW1iZXIocykgfHwgIWlzSW50ZWdlcihzKSB8fCBzIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgdmFsdWVzIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHM7XG4gICAgfSk7IC8vIHZhbGlkYXRlIGsgaWYgYW55XG5cbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gbnVtYmVyIG9mIG5vbi16ZXJvIGl0ZW1zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gdmFsdWUgZXh0cmFjdGlvbiBmdW5jdGlvblxuXG4gICAgdmFyIF92YWx1ZTsgLy8gY2hlY2sgdmFsdWVcblxuXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAvLyB2YWxpZGF0ZSBhcnJheVxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgYXJyYXkgbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlW2ldO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTWF0cml4KHZhbHVlKSkge1xuICAgICAgLy8gbWF0cml4IHNpemVcbiAgICAgIHZhciBtcyA9IHZhbHVlLnNpemUoKTsgLy8gdmFsaWRhdGUgbWF0cml4XG5cbiAgICAgIGlmIChtcy5sZW5ndGggIT09IDEgfHwgbXNbMF0gIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hdHJpeCBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWUuZ2V0KFtpXSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZpbmUgZnVuY3Rpb25cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZSgpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSAvLyBkaXNjb3ZlciBkZWZhdWx0IHZhbHVlIGlmIG5lZWRlZFxuXG5cbiAgICBpZiAoIWRlZmF1bHRWYWx1ZSkge1xuICAgICAgLy8gY2hlY2sgZmlyc3QgdmFsdWUgaW4gYXJyYXlcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGlzQmlnTnVtYmVyKF92YWx1ZSgwKSkgPyBfdmFsdWUoMCkubXVsKDApIC8vIHRyaWNrIHRvIGNyZWF0ZSBhIEJpZ051bWJlciB3aXRoIHZhbHVlIHplcm9cbiAgICAgIDogMDtcbiAgICB9IC8vIGVtcHR5IGFycmF5XG5cblxuICAgIHZhciBkYXRhID0gW107IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmVzaXplIGFycmF5XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyByZXNpemUgYXJyYXlcbiAgICAgIGRhdGEgPSByZXNpemUoZGF0YSwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gZmlsbCBkaWFnb25hbFxuXG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IG47IGQrKykge1xuICAgICAgICBkYXRhW2QgKyBrU3ViXVtkICsga1N1cGVyXSA9IF92YWx1ZShkKTtcbiAgICAgIH1cbiAgICB9IC8vIGNyZWF0ZSBEZW5zZU1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc11cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbWF0cml4IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJEZW5zZU1hdHJpeFwiLCBkYXRhOiBbXSwgc2l6ZTogW119YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RGVuc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoanNvbik7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBNYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgIFRoZSBtYXRyaXggcmVmZXJlbmNlXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN3YXBSb3dzID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaXNOdW1iZXIoaSkgfHwgIWlzSW50ZWdlcihpKSB8fCAhaXNOdW1iZXIoaikgfHwgIWlzSW50ZWdlcihqKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3cgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH0gLy8gY2hlY2sgZGltZW5zaW9uc1xuXG5cbiAgICBpZiAodGhpcy5fc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9uYWwgbWF0cml4IGlzIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5kZXhcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMF0pOyAvLyBzd2FwIHJvd3NcblxuICAgIERlbnNlTWF0cml4Ll9zd2FwUm93cyhpLCBqLCB0aGlzLl9kYXRhKTsgLy8gcmV0dXJuIGN1cnJlbnQgaW5zdGFuY2VcblxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBEZW5zZSBNYXRyaXggZGF0YSBzdHJ1Y3R1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YSAgICAgTWF0cml4IGRhdGFcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaiwgZGF0YSkge1xuICAgIC8vIHN3YXAgdmFsdWVzIGkgPC0+IGpcbiAgICB2YXIgdmkgPSBkYXRhW2ldO1xuICAgIGRhdGFbaV0gPSBkYXRhW2pdO1xuICAgIGRhdGFbal0gPSB2aTtcbiAgfTtcbiAgLyoqXG4gICAqIFByZXByb2Nlc3MgZGF0YSwgd2hpY2ggY2FuIGJlIGFuIEFycmF5IG9yIERlbnNlTWF0cml4IHdpdGggbmVzdGVkIEFycmF5cyBhbmRcbiAgICogTWF0cmljZXMuIFJlcGxhY2VzIGFsbCBuZXN0ZWQgTWF0cmljZXMgd2l0aCBBcnJheXNcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHJldHVybiB7QXJyYXl9IGRhdGFcbiAgICovXG5cblxuICBmdW5jdGlvbiBwcmVwcm9jZXNzKGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkYXRhLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBlbGVtID0gZGF0YVtpXTtcblxuICAgICAgaWYgKGlzQXJyYXkoZWxlbSkpIHtcbiAgICAgICAgZGF0YVtpXSA9IHByZXByb2Nlc3MoZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0gJiYgZWxlbS5pc01hdHJpeCA9PT0gdHJ1ZSkge1xuICAgICAgICBkYXRhW2ldID0gcHJlcHJvY2VzcyhlbGVtLnZhbHVlT2YoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICByZXR1cm4gRGVuc2VNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQ29sbGVjdGlvbiwgaXNNYXRyaXggfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IEluZGV4RXJyb3IgfSBmcm9tICcuLi9lcnJvci9JbmRleEVycm9yLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgY29sbGVjdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGFycmF5IGNvbnRhaW5zIG9uZSBvciBtdWx0aXBsZVxuICogICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zIChBcnJheXMgb3IgTWF0cmljZXMpLiBSZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNDb2xsZWN0aW9ucyhhcnJheSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzQ29sbGVjdGlvbihhcnJheVtpXSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgbG9vcCBvdmVyIGFsbCBlbGVtZW50cyBpbiBhIGdpdmVuIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBhbmQgaW52b2tlIHRoZSBjYWxsYmFjayBvbiBlYWNoIG9mIHRoZSBlbGVtZW50cy5cbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggb25lXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiB0aGUgY3VycmVudCBlbGVtZW50IGluIHRoZSBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRm9yRWFjaChhcnJheSwgY2FsbGJhY2spIHtcbiAgaWYgKGlzTWF0cml4KGFycmF5KSkge1xuICAgIGFycmF5ID0gYXJyYXkudmFsdWVPZigpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBkZWVwRm9yRWFjaCh2YWx1ZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh2YWx1ZSk7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEV4ZWN1dGUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGVsZW1lbnQgd2lzZSBmb3IgZWFjaCBlbGVtZW50IGluIGFycmF5IGFuZCBhbnlcbiAqIG5lc3RlZCBhcnJheVxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSByZXN1bHRzXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggdHdvIHBhcmFtZXRlcnM6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlMSBhbmQgdmFsdWUyLCB3aGljaCBjb250YWluIHRoZSBjdXJyZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgb2YgYm90aCBhcnJheXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gKlxuICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWFwKGFycmF5LCBjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gIGlmIChhcnJheSAmJiB0eXBlb2YgYXJyYXkubWFwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVE9ETzogcmVwbGFjZSBhcnJheS5tYXAgd2l0aCBhIGZvciBsb29wIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcbiAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBjYWxsYmFjaywgc2tpcFplcm9zKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbGJhY2soYXJyYXkpO1xuICB9XG59XG4vKipcbiAqIFJlZHVjZSBhIGdpdmVuIG1hdHJpeCBvciBhcnJheSB0byBhIG5ldyBtYXRyaXggb3JcbiAqIGFycmF5IHdpdGggb25lIGxlc3MgZGltZW5zaW9uLCBhcHBseWluZyB0aGUgZ2l2ZW5cbiAqIGNhbGxiYWNrIGluIHRoZSBzZWxlY3RlZCBkaW1lbnNpb24uXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBtYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spIHtcbiAgdmFyIHNpemUgPSBBcnJheS5pc0FycmF5KG1hdCkgPyBhcnJheVNpemUobWF0KSA6IG1hdC5zaXplKCk7XG5cbiAgaWYgKGRpbSA8IDAgfHwgZGltID49IHNpemUubGVuZ3RoKSB7XG4gICAgLy8gVE9ETzogd291bGQgYmUgbW9yZSBjbGVhciB3aGVuIHRocm93aW5nIGEgRGltZW5zaW9uRXJyb3IgaGVyZVxuICAgIHRocm93IG5ldyBJbmRleEVycm9yKGRpbSwgc2l6ZS5sZW5ndGgpO1xuICB9XG5cbiAgaWYgKGlzTWF0cml4KG1hdCkpIHtcbiAgICByZXR1cm4gbWF0LmNyZWF0ZShfcmVkdWNlKG1hdC52YWx1ZU9mKCksIGRpbSwgY2FsbGJhY2spKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX3JlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spO1xuICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHJlZHVjZSBhIG1hdHJpeFxuICogQHBhcmFtIHtBcnJheX0gbWF0XG4gKiBAcGFyYW0ge251bWJlcn0gZGltXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0FycmF5fSByZXRcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3JlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spIHtcbiAgdmFyIGksIHJldCwgdmFsLCB0cmFuO1xuXG4gIGlmIChkaW0gPD0gMCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtYXRbMF0pKSB7XG4gICAgICB2YWwgPSBtYXRbMF07XG5cbiAgICAgIGZvciAoaSA9IDE7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsID0gY2FsbGJhY2sodmFsLCBtYXRbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuID0gX3N3aXRjaChtYXQpO1xuICAgICAgcmV0ID0gW107XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0cmFuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJldFtpXSA9IF9yZWR1Y2UodHJhbltpXSwgZGltIC0gMSwgY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXQgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IF9yZWR1Y2UobWF0W2ldLCBkaW0gLSAxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfVxufVxuLyoqXG4gKiBUcmFuc3Bvc2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXl9IG1hdFxuICogQHJldHVybnMge0FycmF5fSByZXRcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc3dpdGNoKG1hdCkge1xuICB2YXIgSSA9IG1hdC5sZW5ndGg7XG4gIHZhciBKID0gbWF0WzBdLmxlbmd0aDtcbiAgdmFyIGksIGo7XG4gIHZhciByZXQgPSBbXTtcblxuICBmb3IgKGogPSAwOyBqIDwgSjsgaisrKSB7XG4gICAgdmFyIHRtcCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IEk7IGkrKykge1xuICAgICAgdG1wLnB1c2gobWF0W2ldW2pdKTtcbiAgICB9XG5cbiAgICByZXQucHVzaCh0bXApO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn0gLy8gVE9ETzogZG9jdW1lbnQgZnVuY3Rpb24gc2NhdHRlclxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2F0dGVyKGEsIGosIHcsIHgsIHUsIG1hcmssIGNpbmRleCwgZiwgaW52ZXJzZSwgdXBkYXRlLCB2YWx1ZSkge1xuICAvLyBhIGFycmF5c1xuICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICB2YXIgYXB0ciA9IGEuX3B0cjsgLy8gdmFyc1xuXG4gIHZhciBrLCBrMCwgazEsIGk7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKHBhdHRlcm4gbWF0cml4KVxuXG4gIGlmICh4KSB7XG4gICAgLy8gdmFsdWVzIGluIGpcbiAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICBpID0gYWluZGV4W2tdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgIGlmICh3W2ldICE9PSBtYXJrKSB7XG4gICAgICAgIC8vIGkgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgd1tpXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB4KGkpID0gQSwgY2hlY2sgd2UgbmVlZCB0byBjYWxsIGZ1bmN0aW9uIHRoaXMgdGltZVxuXG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAvLyBjb3B5IHZhbHVlIHRvIHdvcmtzcGFjZSBjYWxsaW5nIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgeFtpXSA9IGludmVyc2UgPyBmKGF2YWx1ZXNba10sIHZhbHVlKSA6IGYodmFsdWUsIGF2YWx1ZXNba10pOyAvLyBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG5cbiAgICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb3B5IHZhbHVlIHRvIHdvcmtzcGFjZVxuICAgICAgICAgIHhbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBmKGF2YWx1ZXNba10sIHhbaV0pIDogZih4W2ldLCBhdmFsdWVzW2tdKTsgLy8gZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuXG4gICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyB2YWx1ZXMgaW4galxuICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIGkgPSBhaW5kZXhba107IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgaWYgKHdbaV0gIT09IG1hcmspIHtcbiAgICAgICAgLy8gaSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICB3W2ldID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbmRpY2F0ZSBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG4gICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IGlzSW50ZWdlciwgbG9nMiwgbG9nMTAsIGNicnQsIGV4cG0xLCBzaWduLCB0b0ZpeGVkLCBsb2cxcCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG52YXIgbjEgPSAnbnVtYmVyJztcbnZhciBuMiA9ICdudW1iZXIsIG51bWJlcic7XG5leHBvcnQgZnVuY3Rpb24gYWJzTnVtYmVyKGEpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEpO1xufVxuYWJzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhICsgYjtcbn1cbmFkZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdE51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cbnN1YnRyYWN0TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5TnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgKiBiO1xufVxubXVsdGlwbHlOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlTnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgLyBiO1xufVxuZGl2aWRlTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHVuYXJ5TWludXNOdW1iZXIoeCkge1xuICByZXR1cm4gLXg7XG59XG51bmFyeU1pbnVzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHVuYXJ5UGx1c051bWJlcih4KSB7XG4gIHJldHVybiB4O1xufVxudW5hcnlQbHVzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGNicnROdW1iZXIoeCkge1xuICByZXR1cm4gY2JydCh4KTtcbn1cbmNicnROdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY2VpbE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmNlaWwoeCk7XG59XG5jZWlsTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGN1YmVOdW1iZXIoeCkge1xuICByZXR1cm4geCAqIHggKiB4O1xufVxuY3ViZU51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBleHBOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5leHAoeCk7XG59XG5leHBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZXhwbTFOdW1iZXIoeCkge1xuICByZXR1cm4gZXhwbTEoeCk7XG59XG5leHBtMU51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBmaXhOdW1iZXIoeCkge1xuICByZXR1cm4geCA+IDAgPyBNYXRoLmZsb29yKHgpIDogTWF0aC5jZWlsKHgpO1xufVxuZml4TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoeCk7XG59XG5mbG9vck51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIGdjZCBmb3IgbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBncmVhdGVzdCBjb21tb24gZGVub21pbmF0b3Igb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnY2ROdW1iZXIoYSwgYikge1xuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGdjZCBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1Y2xpZGVhbl9hbGdvcml0aG1cblxuXG4gIHZhciByO1xuXG4gIHdoaWxlIChiICE9PSAwKSB7XG4gICAgciA9IGEgJSBiO1xuICAgIGEgPSBiO1xuICAgIGIgPSByO1xuICB9XG5cbiAgcmV0dXJuIGEgPCAwID8gLWEgOiBhO1xufVxuZ2NkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgbGNtIGZvciB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBsZWFzdCBjb21tb24gbXVsdGlwbGUgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsY21OdW1iZXIoYSwgYikge1xuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGxjbSBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9XG5cbiAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1Y2xpZGVhbl9hbGdvcml0aG1cbiAgLy8gZXZhbHVhdGUgbGNtIGhlcmUgaW5saW5lIHRvIHJlZHVjZSBvdmVyaGVhZFxuXG5cbiAgdmFyIHQ7XG4gIHZhciBwcm9kID0gYSAqIGI7XG5cbiAgd2hpbGUgKGIgIT09IDApIHtcbiAgICB0ID0gYjtcbiAgICBiID0gYSAlIHQ7XG4gICAgYSA9IHQ7XG4gIH1cblxuICByZXR1cm4gTWF0aC5hYnMocHJvZCAvIGEpO1xufVxubGNtTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGxvZ2FyaXRobSBvZiBhIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpO1xufVxubG9nTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIDEwLWJhc2UgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cxME51bWJlcih4KSB7XG4gIHJldHVybiBsb2cxMCh4KTtcbn1cbmxvZzEwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIDItYmFzZSBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzJOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMih4KTtcbn1cbmxvZzJOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSBgbnVtYmVyKzFgXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMXBOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMXAoeCk7XG59XG5sb2cxcE51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBtb2R1bHVzIG9mIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJlc1xuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbW9kTnVtYmVyKHgsIHkpIHtcbiAgaWYgKHkgPiAwKSB7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIEphdmFTY3JpcHQncyAlIG9wZXJhdG9yIGhlcmUgYXMgdGhpcyBkb2Vzbid0IHdvcmtcbiAgICAvLyBjb3JyZWN0bHkgZm9yIHggPCAwIGFuZCB4ID09PSAwXG4gICAgLy8gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb25cbiAgICByZXR1cm4geCAtIHkgKiBNYXRoLmZsb29yKHggLyB5KTtcbiAgfSBlbHNlIGlmICh5ID09PSAwKSB7XG4gICAgcmV0dXJuIHg7XG4gIH0gZWxzZSB7XG4gICAgLy8geSA8IDBcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3JcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgfVxufVxubW9kTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG50aCByb290IG9mIGEsIHNvbHZlIHhecm9vdCA9PSBhXG4gKiBodHRwOi8vcm9zZXR0YWNvZGUub3JnL3dpa2kvTnRoX3Jvb3QjSmF2YVNjcmlwdFxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSByb290XG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBudGhSb290TnVtYmVyKGEsIHJvb3QpIHtcbiAgdmFyIGludiA9IHJvb3QgPCAwO1xuXG4gIGlmIChpbnYpIHtcbiAgICByb290ID0gLXJvb3Q7XG4gIH1cblxuICBpZiAocm9vdCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUm9vdCBtdXN0IGJlIG5vbi16ZXJvJyk7XG4gIH1cblxuICBpZiAoYSA8IDAgJiYgTWF0aC5hYnMocm9vdCkgJSAyICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb290IG11c3QgYmUgb2RkIHdoZW4gYSBpcyBuZWdhdGl2ZS4nKTtcbiAgfSAvLyBlZGdlIGNhc2VzIHplcm8gYW5kIGluZmluaXR5XG5cblxuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBpbnYgPyBJbmZpbml0eSA6IDA7XG4gIH1cblxuICBpZiAoIWlzRmluaXRlKGEpKSB7XG4gICAgcmV0dXJuIGludiA/IDAgOiBhO1xuICB9XG5cbiAgdmFyIHggPSBNYXRoLnBvdyhNYXRoLmFicyhhKSwgMSAvIHJvb3QpOyAvLyBJZiBhIDwgMCwgd2UgcmVxdWlyZSB0aGF0IHJvb3QgaXMgYW4gb2RkIGludGVnZXIsXG4gIC8vIHNvICgtMSkgXiAoMS9yb290KSA9IC0xXG5cbiAgeCA9IGEgPCAwID8gLXggOiB4O1xuICByZXR1cm4gaW52ID8gMSAvIHggOiB4OyAvLyBWZXJ5IG5pY2UgYWxnb3JpdGhtLCBidXQgZmFpbHMgd2l0aCBudGhSb290KC0yLCAzKS5cbiAgLy8gTmV3dG9uJ3MgbWV0aG9kIGhhcyBzb21lIHdlbGwta25vd24gcHJvYmxlbXMgYXQgdGltZXM6XG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL05ld3RvbiUyN3NfbWV0aG9kI0ZhaWx1cmVfYW5hbHlzaXNcblxuICAvKlxuICBsZXQgeCA9IDEgLy8gSW5pdGlhbCBndWVzc1xuICBsZXQgeFByZXYgPSAxXG4gIGxldCBpID0gMFxuICBjb25zdCBpTWF4ID0gMTAwMDBcbiAgZG8ge1xuICAgIGNvbnN0IGRlbHRhID0gKGEgLyBNYXRoLnBvdyh4LCByb290IC0gMSkgLSB4KSAvIHJvb3RcbiAgICB4UHJldiA9IHhcbiAgICB4ID0geCArIGRlbHRhXG4gICAgaSsrXG4gIH1cbiAgd2hpbGUgKHhQcmV2ICE9PSB4ICYmIGkgPCBpTWF4KVxuICAgaWYgKHhQcmV2ICE9PSB4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBudGhSb290IGZhaWxlZCB0byBjb252ZXJnZScpXG4gIH1cbiAgIHJldHVybiBpbnYgPyAxIC8geCA6IHhcbiAgKi9cbn1cbm50aFJvb3ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gc2lnbk51bWJlcih4KSB7XG4gIHJldHVybiBzaWduKHgpO1xufVxuc2lnbk51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBzcXJ0TnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguc3FydCh4KTtcbn1cbnNxcnROdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggKiB4O1xufVxuc3F1YXJlTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgeGdjZCBmb3IgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybiB7bnVtYmVyfSByZXN1bHRcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHhnY2ROdW1iZXIoYSwgYikge1xuICAvLyBzb3VyY2U6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4dGVuZGVkX0V1Y2xpZGVhbl9hbGdvcml0aG1cbiAgdmFyIHQ7IC8vIHVzZWQgdG8gc3dhcCB0d28gdmFyaWFibGVzXG5cbiAgdmFyIHE7IC8vIHF1b3RpZW50XG5cbiAgdmFyIHI7IC8vIHJlbWFpbmRlclxuXG4gIHZhciB4ID0gMDtcbiAgdmFyIGxhc3R4ID0gMTtcbiAgdmFyIHkgPSAxO1xuICB2YXIgbGFzdHkgPSAwO1xuXG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24geGdjZCBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9XG5cbiAgd2hpbGUgKGIpIHtcbiAgICBxID0gTWF0aC5mbG9vcihhIC8gYik7XG4gICAgciA9IGEgLSBxICogYjtcbiAgICB0ID0geDtcbiAgICB4ID0gbGFzdHggLSBxICogeDtcbiAgICBsYXN0eCA9IHQ7XG4gICAgdCA9IHk7XG4gICAgeSA9IGxhc3R5IC0gcSAqIHk7XG4gICAgbGFzdHkgPSB0O1xuICAgIGEgPSBiO1xuICAgIGIgPSByO1xuICB9XG5cbiAgdmFyIHJlcztcblxuICBpZiAoYSA8IDApIHtcbiAgICByZXMgPSBbLWEsIC1sYXN0eCwgLWxhc3R5XTtcbiAgfSBlbHNlIHtcbiAgICByZXMgPSBbYSwgYSA/IGxhc3R4IDogMCwgbGFzdHldO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cbnhnY2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgeF55LCBmb3IgdHdvIG51bWJlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBvd051bWJlcih4LCB5KSB7XG4gIC8vIHheSW5maW5pdHkgPT09IDAgaWYgLTEgPCB4IDwgMVxuICAvLyBBIHJlYWwgbnVtYmVyIDAgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBjb21wbGV4KDApXG4gIGlmICh4ICogeCA8IDEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCAqIHggPiAxICYmIHkgPT09IC1JbmZpbml0eSkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIE1hdGgucG93KHgsIHkpO1xufVxucG93TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiByb3VuZCBhIG51bWJlciB0byB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGRlY2ltYWxzLCBvciB0byB6ZXJvIGlmIGRlY2ltYWxzIGlzXG4gKiBub3QgcHJvdmlkZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzICAgICAgIG51bWJlciBvZiBkZWNpbWFscywgYmV0d2VlbiAwIGFuZCAxNSAoMCBieSBkZWZhdWx0KVxuICogQHJldHVybiB7bnVtYmVyfSByb3VuZGVkVmFsdWVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmROdW1iZXIodmFsdWUpIHtcbiAgdmFyIGRlY2ltYWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICByZXR1cm4gcGFyc2VGbG9hdCh0b0ZpeGVkKHZhbHVlLCBkZWNpbWFscykpO1xufVxucm91bmROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbm9ybSBvZiBhIG51bWJlciwgdGhlIGFic29sdXRlIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybU51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmFicyh4KTtcbn1cbm5vcm1OdW1iZXIuc2lnbmF0dXJlID0gbjE7IiwiaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnaXNOdW1lcmljJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUlzTnVtZXJpYyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBudW1lcmljIHZhbHVlLlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQtd2lzZSBpbiBjYXNlIG9mIEFycmF5IG9yIE1hdHJpeCBpbnB1dC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5pc051bWVyaWMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguaXNOdW1lcmljKDIpICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKCcyJykgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmhhc051bWVyaWNWYWx1ZSgnMicpICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygwKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmJpZ251bWJlcig1MDApKSAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmZyYWN0aW9uKDQpKSAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmNvbXBsZXgoJzItNGknKSAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5pc051bWVyaWMoWzIuMywgJ2ZvbycsIGZhbHNlXSkgICAvLyByZXR1cm5zIFt0cnVlLCBmYWxzZSwgdHJ1ZV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGlzWmVybywgaXNQb3NpdGl2ZSwgaXNOZWdhdGl2ZSwgaXNJbnRlZ2VyLCBoYXNOdW1lcmljVmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHsqfSB4ICAgICAgIFZhbHVlIHRvIGJlIHRlc3RlZFxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgUmV0dXJucyB0cnVlIHdoZW4gYHhgIGlzIGEgYG51bWJlcmAsIGBCaWdOdW1iZXJgLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYEZyYWN0aW9uYCwgb3IgYGJvb2xlYW5gLiBSZXR1cm5zIGZhbHNlIGZvciBvdGhlciB0eXBlcy5cbiAgICogICAgICAgICAgICAgICAgICAgIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIG9mIHVua25vd24gdHlwZXMuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4nOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJGcmFjdGlvbkJvb2xlYW4oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgICdDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfCBOb2RlJzogZnVuY3Rpb24gQ29tcGxleFVuaXRTdHJpbmdOdWxsVW5kZWZpbmVkTm9kZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvKipcbiAqIENvbXBhcmVzIHR3byBCaWdOdW1iZXJzLlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHggICAgICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHkgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzaWxvbl0gIFRoZSBtYXhpbXVtIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBlcHNpbG9uIGlzIHVuZGVmaW5lZCBvciBudWxsLCB0aGUgZnVuY3Rpb24gd2lsbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWwuXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSB0d28gbnVtYmVycyBhcmUgbmVhcmx5IGVxdWFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWFybHlFcXVhbCh4LCB5LCBlcHNpbG9uKSB7XG4gIC8vIGlmIGVwc2lsb24gaXMgbnVsbCBvciB1bmRlZmluZWQsIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsXG4gIGlmIChlcHNpbG9uID09PSBudWxsIHx8IGVwc2lsb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB4LmVxKHkpO1xuICB9IC8vIHVzZSBcIj09XCIgb3BlcmF0b3IsIGhhbmRsZXMgaW5maW5pdGllc1xuXG5cbiAgaWYgKHguZXEoeSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOYU5cblxuXG4gIGlmICh4LmlzTmFOKCkgfHwgeS5pc05hTigpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGF0IHRoaXMgcG9pbnQgeCBhbmQgeSBzaG91bGQgYmUgZmluaXRlXG5cblxuICBpZiAoeC5pc0Zpbml0ZSgpICYmIHkuaXNGaW5pdGUoKSkge1xuICAgIC8vIGNoZWNrIG51bWJlcnMgYXJlIHZlcnkgY2xvc2UsIG5lZWRlZCB3aGVuIGNvbXBhcmluZyBudW1iZXJzIG5lYXIgemVyb1xuICAgIHZhciBkaWZmID0geC5taW51cyh5KS5hYnMoKTtcblxuICAgIGlmIChkaWZmLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlIHJlbGF0aXZlIGVycm9yXG4gICAgICB2YXIgbWF4ID0geC5jb25zdHJ1Y3Rvci5tYXgoeC5hYnMoKSwgeS5hYnMoKSk7XG4gICAgICByZXR1cm4gZGlmZi5sdGUobWF4LnRpbWVzKGVwc2lsb24pKTtcbiAgICB9XG4gIH0gLy8gSW5maW5pdGUgYW5kIE51bWJlciBvciBuZWdhdGl2ZSBJbmZpbml0ZSBhbmQgcG9zaXRpdmUgSW5maW5pdGUgY2FzZXNcblxuXG4gIHJldHVybiBmYWxzZTtcbn0iLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjb21wbGV4RXF1YWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29tcGxleC5qcyc7XG52YXIgbmFtZSA9ICdlcXVhbFNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gc2NhbGFyIHZhbHVlcyBhcmUgbmVhcmx5IGVxdWFsLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0cnVlIHdoZW4gdGhlIGNvbXBhcmVkIHZhbHVlcyBhcmUgZXF1YWwsIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZXEoeSkgfHwgYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguZXF1YWxzKHkpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4gY29tcGxleEVxdWFscyh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxTY2FsYXJOdW1iZXIgPSBmYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdHdvIGNvbXBsZXggdmFsdWVzIGFyZSBlcXVhbCBwcm92aWRlZCBhIGdpdmVuIGVwc2lsb24uXG4gKiBEb2VzIG5vdCB1c2Ugb3IgY2hhbmdlIHRoZSBnbG9iYWwgQ29tcGxleC5FUFNJTE9OIHNldHRpbmdcbiAqIEBwYXJhbSB7Q29tcGxleH0geFxuICogQHBhcmFtIHtDb21wbGV4fSB5XG4gKiBAcGFyYW0ge251bWJlcn0gZXBzaWxvblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXhFcXVhbHMoeCwgeSwgZXBzaWxvbikge1xuICByZXR1cm4gbmVhcmx5RXF1YWwoeC5yZSwgeS5yZSwgZXBzaWxvbikgJiYgbmVhcmx5RXF1YWwoeC5pbSwgeS5pbSwgZXBzaWxvbik7XG59IiwiaW1wb3J0IHsgaXNBcnJheSwgaXNCaWdOdW1iZXIsIGlzQ29sbGVjdGlvbiwgaXNJbmRleCwgaXNNYXRyaXgsIGlzTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgZGVlcFN0cmljdEVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSwgZ2V0QXJyYXlEYXRhVHlwZSwgdW5zcXVlZXplLCB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdTcGFyc2VNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInLCAnTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBTcGFyc2UgTWF0cml4IGltcGxlbWVudGF0aW9uLiBUaGlzIHR5cGUgaW1wbGVtZW50cyBhIENvbXByZXNzZWQgQ29sdW1uIFN0b3JhZ2UgZm9ybWF0XG4gICAqIGZvciBzcGFyc2UgbWF0cmljZXMuXG4gICAqIEBjbGFzcyBTcGFyc2VNYXRyaXhcbiAgICovXG4gIGZ1bmN0aW9uIFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGFyc2VNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmIChkYXRhdHlwZSAmJiAhaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0YXR5cGU6ICcgKyBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTWF0cml4KGRhdGEpKSB7XG4gICAgICAvLyBjcmVhdGUgZnJvbSBtYXRyaXhcbiAgICAgIF9jcmVhdGVGcm9tTWF0cml4KHRoaXMsIGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgJiYgaXNBcnJheShkYXRhLmluZGV4KSAmJiBpc0FycmF5KGRhdGEucHRyKSAmJiBpc0FycmF5KGRhdGEuc2l6ZSkpIHtcbiAgICAgIC8vIGluaXRpYWxpemUgZmllbGRzXG4gICAgICB0aGlzLl92YWx1ZXMgPSBkYXRhLnZhbHVlcztcbiAgICAgIHRoaXMuX2luZGV4ID0gZGF0YS5pbmRleDtcbiAgICAgIHRoaXMuX3B0ciA9IGRhdGEucHRyO1xuICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5kYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIGNyZWF0ZSBmcm9tIGFycmF5XG4gICAgICBfY3JlYXRlRnJvbUFycmF5KHRoaXMsIGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgIC8vIHVuc3VwcG9ydGVkIHR5cGVcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgZGF0YSAoJyArIHR5cGVPZihkYXRhKSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vdGhpbmcgcHJvdmlkZWRcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgICAgdGhpcy5faW5kZXggPSBbXTtcbiAgICAgIHRoaXMuX3B0ciA9IFswXTtcbiAgICAgIHRoaXMuX3NpemUgPSBbMCwgMF07XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGcm9tTWF0cml4KG1hdHJpeCwgc291cmNlLCBkYXRhdHlwZSkge1xuICAgIC8vIGNoZWNrIG1hdHJpeCB0eXBlXG4gICAgaWYgKHNvdXJjZS50eXBlID09PSAnU3BhcnNlTWF0cml4Jykge1xuICAgICAgLy8gY2xvbmUgYXJyYXlzXG4gICAgICBtYXRyaXguX3ZhbHVlcyA9IHNvdXJjZS5fdmFsdWVzID8gY2xvbmUoc291cmNlLl92YWx1ZXMpIDogdW5kZWZpbmVkO1xuICAgICAgbWF0cml4Ll9pbmRleCA9IGNsb25lKHNvdXJjZS5faW5kZXgpO1xuICAgICAgbWF0cml4Ll9wdHIgPSBjbG9uZShzb3VyY2UuX3B0cik7XG4gICAgICBtYXRyaXguX3NpemUgPSBjbG9uZShzb3VyY2UuX3NpemUpO1xuICAgICAgbWF0cml4Ll9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IHNvdXJjZS5fZGF0YXR5cGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGJ1aWxkIGZyb20gbWF0cml4IGRhdGFcbiAgICAgIF9jcmVhdGVGcm9tQXJyYXkobWF0cml4LCBzb3VyY2UudmFsdWVPZigpLCBkYXRhdHlwZSB8fCBzb3VyY2UuX2RhdGF0eXBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRnJvbUFycmF5KG1hdHJpeCwgZGF0YSwgZGF0YXR5cGUpIHtcbiAgICAvLyBpbml0aWFsaXplIGZpZWxkc1xuICAgIG1hdHJpeC5fdmFsdWVzID0gW107XG4gICAgbWF0cml4Ll9pbmRleCA9IFtdO1xuICAgIG1hdHJpeC5fcHRyID0gW107XG4gICAgbWF0cml4Ll9kYXRhdHlwZSA9IGRhdGF0eXBlOyAvLyBkaXNjb3ZlciByb3dzICYgY29sdW1ucywgZG8gbm90IHVzZSBtYXRoLnNpemUoKSB0byBhdm9pZCBsb29waW5nIGFycmF5IHR3aWNlXG5cbiAgICB2YXIgcm93cyA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBjb2x1bW5zID0gMDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZGF0YXR5cGUsIGRhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkYXRhdHlwZSk7XG4gICAgfSAvLyBjaGVjayB3ZSBoYXZlIHJvd3MgKGVtcHR5IGFycmF5KVxuXG5cbiAgICBpZiAocm93cyA+IDApIHtcbiAgICAgIC8vIGNvbHVtbiBpbmRleFxuICAgICAgdmFyIGogPSAwO1xuXG4gICAgICBkbyB7XG4gICAgICAgIC8vIHN0b3JlIHBvaW50ZXIgdG8gdmFsdWVzIGluZGV4XG4gICAgICAgIG1hdHJpeC5fcHRyLnB1c2gobWF0cml4Ll9pbmRleC5sZW5ndGgpOyAvLyBsb29wIHJvd3NcblxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgICAgICB2YXIgcm93ID0gZGF0YVtpXTsgLy8gY2hlY2sgcm93IGlzIGFuIGFycmF5XG5cbiAgICAgICAgICBpZiAoaXNBcnJheShyb3cpKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBpZiBuZWVkZWQgKG9ubHkgb24gZmlyc3QgY29sdW1uKVxuICAgICAgICAgICAgaWYgKGogPT09IDAgJiYgY29sdW1ucyA8IHJvdy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY29sdW1ucyA9IHJvdy5sZW5ndGg7XG4gICAgICAgICAgICB9IC8vIGNoZWNrIHJvdyBoYXMgY29sdW1uXG5cblxuICAgICAgICAgICAgaWYgKGogPCByb3cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIHZhbHVlXG4gICAgICAgICAgICAgIHZhciB2ID0gcm93W2pdOyAvLyBjaGVjayB2YWx1ZSAhPSAwXG5cbiAgICAgICAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaCh2KTsgLy8gaW5kZXhcblxuXG4gICAgICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb2x1bW5zIGlmIG5lZWRlZCAob25seSBvbiBmaXJzdCBjb2x1bW4pXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBjb2x1bW5zIDwgMSkge1xuICAgICAgICAgICAgICBjb2x1bW5zID0gMTtcbiAgICAgICAgICAgIH0gLy8gY2hlY2sgdmFsdWUgIT0gMCAocm93IGlzIGEgc2NhbGFyKVxuXG5cbiAgICAgICAgICAgIGlmICghZXEocm93LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHJvdyk7IC8vIGluZGV4XG5cblxuICAgICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGluY3JlbWVudCBpbmRleFxuXG5cbiAgICAgICAgaisrO1xuICAgICAgfSB3aGlsZSAoaiA8IGNvbHVtbnMpO1xuICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIHZhbHVlcyBpbiBwdHJcblxuXG4gICAgbWF0cml4Ll9wdHIucHVzaChtYXRyaXguX2luZGV4Lmxlbmd0aCk7IC8vIHNpemVcblxuXG4gICAgbWF0cml4Ll9zaXplID0gW3Jvd3MsIGNvbHVtbnNdO1xuICB9XG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZSA9IG5ldyBNYXRyaXgoKTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTcGFyc2VNYXRyaXhcbiAgICovXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGVTcGFyc2VNYXRyaXggPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdTcGFyc2VNYXRyaXgnO1xuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmlzU3BhcnNlTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgIGNvbnN0IG1hdHJpeFR5cGUgPSBtYXRyaXguZ2V0RGF0YVR5cGUoKSAgLy8gcmV0cmlldmVzIHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyT2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICB0eXBlIGluZm9ybWF0aW9uOyBpZiBtdWx0aXBsZSB0eXBlcyBhcmUgZm91bmQgZnJvbSB0aGUgTWF0cml4LCBpdCB3aWxsIHJldHVybiBcIm1peGVkXCJcbiAgICovXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5nZXREYXRhVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXlEYXRhVHlwZSh0aGlzLl92YWx1ZXMsIHR5cGVPZik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnc3BhcnNlJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGF0eXBlO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFNwYXJzZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IGRlbnNpdHkuXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZGVuc2l0eSA9IG1hdHJpeC5kZW5zaXR5KCkgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgbWF0cml4IGRlbnNpdHlcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICBUaGUgbWF0cml4IGRlbnNpdHkuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kZW5zaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gY2FsY3VsYXRlIGRlbnNpdHlcblxuICAgIHJldHVybiByb3dzICE9PSAwICYmIGNvbHVtbnMgIT09IDAgPyB0aGlzLl9pbmRleC5sZW5ndGggLyAocm93cyAqIGNvbHVtbnMpIDogMDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3Vic2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gY2hlY2sgYXJndW1lbnRzXG5cblxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2dldHN1YnNldCh0aGlzLCBpbmRleCk7XG4gICAgICAvLyBpbnRlbnRpb25hbCBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gX3NldHN1YnNldCh0aGlzLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBfZ2V0c3Vic2V0KG1hdHJpeCwgaWR4KSB7XG4gICAgLy8gY2hlY2sgaWR4XG4gICAgaWYgKCFpc0luZGV4KGlkeCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTY2FsYXIgPSBpZHguaXNTY2FsYXIoKTtcblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gcmV0dXJuIGEgc2NhbGFyXG4gICAgICByZXR1cm4gbWF0cml4LmdldChpZHgubWluKCkpO1xuICAgIH0gLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgc2l6ZSA9IGlkeC5zaXplKCk7XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciBpLCBpaSwgaywga2s7IC8vIHZhbGlkYXRlIGlmIGFueSBvZiB0aGUgcmFuZ2VzIGluIHRoZSBpbmRleCBpcyBvdXQgb2YgcmFuZ2VcblxuICAgIHZhciBtaW4gPSBpZHgubWluKCk7XG4gICAgdmFyIG1heCA9IGlkeC5tYXgoKTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gbWF0cml4Ll9zaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhbGlkYXRlSW5kZXgobWluW2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgdmFsaWRhdGVJbmRleChtYXhbaV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgfSAvLyBtYXRyaXggYXJyYXlzXG5cblxuICAgIHZhciBtdmFsdWVzID0gbWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIG1pbmRleCA9IG1hdHJpeC5faW5kZXg7XG4gICAgdmFyIG1wdHIgPSBtYXRyaXguX3B0cjsgLy8gcm93cyAmIGNvbHVtbnMgZGltZW5zaW9ucyBmb3IgcmVzdWx0IG1hdHJpeFxuXG4gICAgdmFyIHJvd3MgPSBpZHguZGltZW5zaW9uKDApO1xuICAgIHZhciBjb2x1bW5zID0gaWR4LmRpbWVuc2lvbigxKTsgLy8gd29ya3NwYWNlICYgcGVybXV0YXRpb24gdmVjdG9yXG5cbiAgICB2YXIgdyA9IFtdO1xuICAgIHZhciBwdiA9IFtdOyAvLyBsb29wIHJvd3MgaW4gcmVzdWx0aW5nIG1hdHJpeFxuXG4gICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChpLCByKSB7XG4gICAgICAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yXG4gICAgICBwdltpXSA9IHJbMF07IC8vIG1hcmsgaSBpbiB3b3Jrc3BhY2VcblxuICAgICAgd1tpXSA9IHRydWU7XG4gICAgfSk7IC8vIHJlc3VsdCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdmFsdWVzID0gbXZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIHJlc3VsdCBtYXRyaXhcblxuICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgcHRyLnB1c2goaW5kZXgubGVuZ3RoKTsgLy8gbG9vcCB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yIChrID0gbXB0cltqXSwga2sgPSBtcHRyW2ogKyAxXTsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBtaW5kZXhba107IC8vIGNoZWNrIHJvdyBpcyBpbiByZXN1bHQgbWF0cml4XG5cbiAgICAgICAgaWYgKHdbaV0gPT09IHRydWUpIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4XG4gICAgICAgICAgaW5kZXgucHVzaChwdltpXSk7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG12YWx1ZXNba10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pOyAvLyB1cGRhdGUgcHRyXG5cbiAgICBwdHIucHVzaChpbmRleC5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiBtYXRyaXguX2RhdGF0eXBlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0c3Vic2V0KG1hdHJpeCwgaW5kZXgsIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9IC8vIGdldCBpbmRleCBzaXplIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBpbmRleCBjb250YWlucyBhIHNpbmdsZSB2YWx1ZVxuXG5cbiAgICB2YXIgaVNpemUgPSBpbmRleC5zaXplKCk7XG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTsgLy8gY2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXgsIGFuZCBjb252ZXJ0IGl0IGludG8gYW4gQXJyYXkgaWYgbmVlZGVkXG5cbiAgICB2YXIgc1NpemU7XG5cbiAgICBpZiAoaXNNYXRyaXgoc3VibWF0cml4KSkge1xuICAgICAgLy8gc3VibWF0cml4IHNpemVcbiAgICAgIHNTaXplID0gc3VibWF0cml4LnNpemUoKTsgLy8gdXNlIGFycmF5IHJlcHJlc2VudGF0aW9uXG5cbiAgICAgIHN1Ym1hdHJpeCA9IHN1Ym1hdHJpeC50b0FycmF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCBzdWJtYXRyaXggc2l6ZSAoYXJyYXksIHNjYWxhcilcbiAgICAgIHNTaXplID0gYXJyYXlTaXplKHN1Ym1hdHJpeCk7XG4gICAgfSAvLyBjaGVjayBpbmRleCBpcyBhIHNjYWxhclxuXG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHZlcmlmeSBzdWJtYXRyaXggaXMgYSBzY2FsYXJcbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2NhbGFyIGV4cGVjdGVkJyk7XG4gICAgICB9IC8vIHNldCB2YWx1ZVxuXG5cbiAgICAgIG1hdHJpeC5zZXQoaW5kZXgubWluKCksIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9ucywgaW5kZXggc2l6ZSBtdXN0IGJlIG9uZSBvciB0d28gZGltZW5zaW9uc1xuICAgICAgaWYgKGlTaXplLmxlbmd0aCAhPT0gMSAmJiBpU2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH0gLy8gY2hlY2sgc3VibWF0cml4IGFuZCBpbmRleCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoc1NpemUubGVuZ3RoIDwgaVNpemUubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgbWlzc2luZyBvdXRlciBkaW1lbnNpb25zXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIG91dGVyID0gMDtcblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEgJiYgc1NpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBvdXRlcisrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSAvLyB1bnNxdWVlemUgYm90aCBvdXRlciBhbmQgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgICAgICAgc3VibWF0cml4ID0gdW5zcXVlZXplKHN1Ym1hdHJpeCwgaVNpemUubGVuZ3RoLCBvdXRlciwgc1NpemUpO1xuICAgICAgfSAvLyBjaGVjayB3aGV0aGVyIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXggbWF0Y2hlcyB0aGUgaW5kZXggc2l6ZVxuXG5cbiAgICAgIGlmICghZGVlcFN0cmljdEVxdWFsKGlTaXplLCBzU2l6ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLCBzU2l6ZSwgJz4nKTtcbiAgICAgIH0gLy8gb2Zmc2V0c1xuXG5cbiAgICAgIHZhciB4MCA9IGluZGV4Lm1pbigpWzBdO1xuICAgICAgdmFyIHkwID0gaW5kZXgubWluKClbMV07IC8vIHN1Ym1hdHJpeCByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICAgIHZhciBtID0gc1NpemVbMF07XG4gICAgICB2YXIgbiA9IHNTaXplWzFdOyAvLyBsb29wIHN1Ym1hdHJpeFxuXG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG07IHgrKykge1xuICAgICAgICAvLyBsb29wIGNvbHVtbnNcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBuOyB5KyspIHtcbiAgICAgICAgICAvLyB2YWx1ZSBhdCBpLCBqXG4gICAgICAgICAgdmFyIHYgPSBzdWJtYXRyaXhbeF1beV07IC8vIGludm9rZSBzZXQgKHplcm8gdmFsdWUgd2lsbCByZW1vdmUgZW50cnkgZnJvbSBtYXRyaXgpXG5cbiAgICAgICAgICBtYXRyaXguc2V0KFt4ICsgeDAsIHkgKyB5MF0sIHYsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZ2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gcm93IGFuZCBjb2x1bW5cblxuXG4gICAgdmFyIGkgPSBpbmRleFswXTtcbiAgICB2YXIgaiA9IGluZGV4WzFdOyAvLyBjaGVjayBpLCBqIGFyZSB2YWxpZFxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMV0pOyAvLyBmaW5kIHZhbHVlIGluZGV4XG5cbiAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KGksIHRoaXMuX3B0cltqXSwgdGhpcy5fcHRyW2ogKyAxXSwgdGhpcy5faW5kZXgpOyAvLyBjaGVjayBrIGlzIHByaW9yIHRvIG5leHQgY29sdW1uIGsgYW5kIGl0IGlzIGluIHRoZSBjb3JyZWN0IHJvd1xuXG5cbiAgICBpZiAoayA8IHRoaXMuX3B0cltqICsgMV0gJiYgdGhpcy5faW5kZXhba10gPT09IGkpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNba107XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2XG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgc2V0IHRvIHplcm8uXG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gcm93IGFuZCBjb2x1bW5cblxuXG4gICAgdmFyIGkgPSBpbmRleFswXTtcbiAgICB2YXIgaiA9IGluZGV4WzFdOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyh0aGlzLl9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbdGhpcy5fZGF0YXR5cGUsIHRoaXMuX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCB0aGlzLl9kYXRhdHlwZSk7XG4gICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHJlc2l6ZSBtYXRyaXhcblxuXG4gICAgaWYgKGkgPiByb3dzIC0gMSB8fCBqID4gY29sdW1ucyAtIDEpIHtcbiAgICAgIC8vIHJlc2l6ZSBtYXRyaXhcbiAgICAgIF9yZXNpemUodGhpcywgTWF0aC5tYXgoaSArIDEsIHJvd3MpLCBNYXRoLm1heChqICsgMSwgY29sdW1ucyksIGRlZmF1bHRWYWx1ZSk7IC8vIHVwZGF0ZSByb3dzICYgY29sdW1uc1xuXG5cbiAgICAgIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgICAgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07XG4gICAgfSAvLyBjaGVjayBpLCBqIGFyZSB2YWxpZFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHJvd3MpO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgY29sdW1ucyk7IC8vIGZpbmQgdmFsdWUgaW5kZXhcblxuICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoaSwgdGhpcy5fcHRyW2pdLCB0aGlzLl9wdHJbaiArIDFdLCB0aGlzLl9pbmRleCk7IC8vIGNoZWNrIGsgaXMgcHJpb3IgdG8gbmV4dCBjb2x1bW4gayBhbmQgaXQgaXMgaW4gdGhlIGNvcnJlY3Qgcm93XG5cblxuICAgIGlmIChrIDwgdGhpcy5fcHRyW2ogKyAxXSAmJiB0aGlzLl9pbmRleFtrXSA9PT0gaSkge1xuICAgICAgLy8gY2hlY2sgdmFsdWUgIT0gMFxuICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgdGhpcy5fdmFsdWVzW2tdID0gdjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlbW92ZSB2YWx1ZSBmcm9tIG1hdHJpeFxuICAgICAgICBfcmVtb3ZlKGssIGosIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluc2VydCB2YWx1ZSBAIChpLCBqKVxuICAgICAgX2luc2VydChrLCBpLCBqLCB2LCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9nZXRWYWx1ZUluZGV4KGksIHRvcCwgYm90dG9tLCBpbmRleCkge1xuICAgIC8vIGNoZWNrIHJvdyBpcyBvbiB0aGUgYm90dG9tIHNpZGVcbiAgICBpZiAoYm90dG9tIC0gdG9wID09PSAwKSB7XG4gICAgICByZXR1cm4gYm90dG9tO1xuICAgIH0gLy8gbG9vcCByb3dzIFt0b3AsIGJvdHRvbVtcblxuXG4gICAgZm9yICh2YXIgciA9IHRvcDsgciA8IGJvdHRvbTsgcisrKSB7XG4gICAgICAvLyBjaGVjayB3ZSBmb3VuZCB2YWx1ZSBpbmRleFxuICAgICAgaWYgKGluZGV4W3JdID09PSBpKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH0gLy8gd2UgZGlkIG5vdCBmaW5kIHJvd1xuXG5cbiAgICByZXR1cm4gdG9wO1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlbW92ZShrLCBqLCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyByZW1vdmUgdmFsdWUgQCBrXG4gICAgdmFsdWVzLnNwbGljZShrLCAxKTtcbiAgICBpbmRleC5zcGxpY2UoaywgMSk7IC8vIHVwZGF0ZSBwb2ludGVyc1xuXG4gICAgZm9yICh2YXIgeCA9IGogKyAxOyB4IDwgcHRyLmxlbmd0aDsgeCsrKSB7XG4gICAgICBwdHJbeF0tLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW5zZXJ0KGssIGksIGosIHYsIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIGluc2VydCB2YWx1ZVxuICAgIHZhbHVlcy5zcGxpY2UoaywgMCwgdik7IC8vIHVwZGF0ZSByb3cgZm9yIGtcblxuICAgIGluZGV4LnNwbGljZShrLCAwLCBpKTsgLy8gdXBkYXRlIGNvbHVtbiBwb2ludGVyc1xuXG4gICAgZm9yICh2YXIgeCA9IGogKyAxOyB4IDwgcHRyLmxlbmd0aDsgeCsrKSB7XG4gICAgICBwdHJbeF0rKztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXSB8IE1hdHJpeH0gc2l6ZSAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNDb2xsZWN0aW9uKHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBvciBNYXRyaXggZXhwZWN0ZWQnKTtcbiAgICB9IC8vIFNwYXJzZU1hdHJpeCBpbnB1dCBpcyBhbHdheXMgMmQsIGZsYXR0ZW4gdGhpcyBpbnRvIDFkIGlmIGl0J3MgaW5kZWVkIGEgdmVjdG9yXG5cblxuICAgIHZhciBzaXplQXJyYXkgPSBzaXplLnZhbHVlT2YoKS5tYXAodmFsdWUgPT4ge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgfSk7XG5cbiAgICBpZiAoc2l6ZUFycmF5Lmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBjaGVjayBzaXplc1xuXG5cbiAgICBzaXplQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHNpemUsIG11c3QgY29udGFpbiBwb3NpdGl2ZSBpbnRlZ2VycyAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemVBcnJheSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0pOyAvLyBtYXRyaXggdG8gcmVzaXplXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXNpemUgbWF0cml4XG5cbiAgICByZXR1cm4gX3Jlc2l6ZShtLCBzaXplQXJyYXlbMF0sIHNpemVBcnJheVsxXSwgZGVmYXVsdFZhbHVlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfcmVzaXplKG1hdHJpeCwgcm93cywgY29sdW1ucywgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gdmFsdWUgdG8gaW5zZXJ0IGF0IHRoZSB0aW1lIG9mIGdyb3dpbmcgbWF0cml4XG4gICAgdmFyIHZhbHVlID0gZGVmYXVsdFZhbHVlIHx8IDA7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcobWF0cml4Ll9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbbWF0cml4Ll9kYXRhdHlwZSwgbWF0cml4Ll9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgbWF0cml4Ll9kYXRhdHlwZSk7IC8vIGNvbnZlcnQgdmFsdWUgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgdmFsdWUgPSB0eXBlZC5jb252ZXJ0KHZhbHVlLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9IC8vIHNob3VsZCB3ZSBpbnNlcnQgdGhlIHZhbHVlP1xuXG5cbiAgICB2YXIgaW5zID0gIWVxKHZhbHVlLCB6ZXJvKTsgLy8gb2xkIGNvbHVtbnMgYW5kIHJvd3NcblxuICAgIHZhciByID0gbWF0cml4Ll9zaXplWzBdO1xuICAgIHZhciBjID0gbWF0cml4Ll9zaXplWzFdO1xuICAgIHZhciBpLCBqLCBrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluY3JlYXNlIGNvbHVtbnNcblxuICAgIGlmIChjb2x1bW5zID4gYykge1xuICAgICAgLy8gbG9vcCBuZXcgY29sdW1uc1xuICAgICAgZm9yIChqID0gYzsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluc2VydCBtYXRyaXguX3ZhbHVlc1xuXG4gICAgICAgIGlmIChpbnMpIHtcbiAgICAgICAgICAvLyBsb29wIHJvd3NcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBhZGQgbmV3IG1hdHJpeC5fdmFsdWVzXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHZhbHVlKTsgLy8gdXBkYXRlIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIHN0b3JlIG51bWJlciBvZiBtYXRyaXguX3ZhbHVlcyBpbiBtYXRyaXguX3B0clxuXG5cbiAgICAgIG1hdHJpeC5fcHRyW2NvbHVtbnNdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoY29sdW1ucyA8IGMpIHtcbiAgICAgIC8vIHRydW5jYXRlIG1hdHJpeC5fcHRyXG4gICAgICBtYXRyaXguX3B0ci5zcGxpY2UoY29sdW1ucyArIDEsIGMgLSBjb2x1bW5zKTsgLy8gdHJ1bmNhdGUgbWF0cml4Ll92YWx1ZXMgYW5kIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UobWF0cml4Ll9wdHJbY29sdW1uc10sIG1hdHJpeC5fdmFsdWVzLmxlbmd0aCk7XG5cbiAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKG1hdHJpeC5fcHRyW2NvbHVtbnNdLCBtYXRyaXguX2luZGV4Lmxlbmd0aCk7XG4gICAgfSAvLyB1cGRhdGUgY29sdW1uc1xuXG5cbiAgICBjID0gY29sdW1uczsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbmNyZWFzZSByb3dzXG5cbiAgICBpZiAocm93cyA+IHIpIHtcbiAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdG8gaW5zZXJ0IHZhbHVlc1xuICAgICAgaWYgKGlucykge1xuICAgICAgICAvLyBpbnNlcnRzXG4gICAgICAgIHZhciBuID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGM7IGorKykge1xuICAgICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fcHRyW2pdICsgbjsgLy8gd2hlcmUgdG8gaW5zZXJ0IG1hdHJpeC5fdmFsdWVzXG5cbiAgICAgICAgICBrID0gbWF0cml4Ll9wdHJbaiArIDFdICsgbjsgLy8gcG9pbnRlclxuXG4gICAgICAgICAgdmFyIHAgPSAwOyAvLyBsb29wIG5ldyByb3dzLCBpbml0aWFsaXplIHBvaW50ZXJcblxuICAgICAgICAgIGZvciAoaSA9IHI7IGkgPCByb3dzOyBpKyssIHArKykge1xuICAgICAgICAgICAgLy8gYWRkIHZhbHVlXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UoayArIHAsIDAsIHZhbHVlKTsgLy8gdXBkYXRlIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnNwbGljZShrICsgcCwgMCwgaSk7IC8vIGluY3JlbWVudCBpbnNlcnRzXG5cblxuICAgICAgICAgICAgbisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgbWF0cml4Ll92YWx1ZXMgaW4gbWF0cml4Ll9wdHJcblxuXG4gICAgICAgIG1hdHJpeC5fcHRyW2NdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocm93cyA8IHIpIHtcbiAgICAgIC8vIGRlbGV0ZXNcbiAgICAgIHZhciBkID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBjOyBqKyspIHtcbiAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fcHRyW2pdIC0gZDsgLy8gd2hlcmUgbWF0cml4Ll92YWx1ZXMgc3RhcnQgZm9yIG5leHQgY29sdW1uXG5cbiAgICAgICAgdmFyIGswID0gbWF0cml4Ll9wdHJbal07XG4gICAgICAgIHZhciBrMSA9IG1hdHJpeC5fcHRyW2ogKyAxXSAtIGQ7IC8vIGxvb3AgbWF0cml4Ll9pbmRleFxuXG4gICAgICAgIGZvciAoayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBtYXRyaXguX2luZGV4W2tdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGRlbGV0ZSB2YWx1ZSBhbmQgbWF0cml4Ll9pbmRleFxuXG4gICAgICAgICAgaWYgKGkgPiByb3dzIC0gMSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHZhbHVlXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UoaywgMSk7IC8vIHJlbW92ZSBpdGVtIGZyb20gbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKGssIDEpOyAvLyBpbmNyZWFzZSBkZWxldGVzXG5cblxuICAgICAgICAgICAgZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG5cblxuICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgfSAvLyB1cGRhdGUgbWF0cml4Ll9zaXplXG5cblxuICAgIG1hdHJpeC5fc2l6ZVswXSA9IHJvd3M7XG4gICAgbWF0cml4Ll9zaXplWzFdID0gY29sdW1uczsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1pZ2h0IGJlIGJldHRlciBzdWl0ZWQgdG8gY29weSBieSBkZWZhdWx0LCBpbnN0ZWFkIG9mIG1vZGlmeWluZ1xuICAgKiAgICAgICBpbiBwbGFjZS4gRm9yIG5vdywgaXQgb3BlcmF0ZXMgaW4gcGxhY2UgdG8gcmVtYWluIGNvbnNpc3RlbnQgd2l0aFxuICAgKiAgICAgICByZXNpemUoKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3BhcnNlIG1hdHJpY2VzIGNhbiBvbmx5IGJlIHJlc2hhcGVkIGluIHR3byBkaW1lbnNpb25zJyk7XG4gICAgfSAvLyBjaGVjayBzaXplc1xuXG5cbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIG0gKiBuIG11c3Qgbm90IGNoYW5nZVxuXG4gICAgaWYgKHRoaXMuX3NpemVbMF0gKiB0aGlzLl9zaXplWzFdICE9PSBzaXplWzBdICogc2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNoYXBpbmcgc3BhcnNlIG1hdHJpeCB3aWxsIHJlc3VsdCBpbiB0aGUgd3JvbmcgbnVtYmVyIG9mIGVsZW1lbnRzJyk7XG4gICAgfSAvLyBtYXRyaXggdG8gcmVzaGFwZVxuXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXR1cm4gdW5jaGFuZ2VkIGlmIHRoZSBzYW1lIHNoYXBlXG5cbiAgICBpZiAodGhpcy5fc2l6ZVswXSA9PT0gc2l6ZVswXSAmJiB0aGlzLl9zaXplWzFdID09PSBzaXplWzFdKSB7XG4gICAgICByZXR1cm4gbTtcbiAgICB9IC8vIENvbnZlcnQgdG8gQ09PIGZvcm1hdCAoZ2VuZXJhdGUgYSBjb2x1bW4gaW5kZXgpXG5cblxuICAgIHZhciBjb2xJbmRleCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLl9wdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbS5fcHRyW2kgKyAxXSAtIG0uX3B0cltpXTsgaisrKSB7XG4gICAgICAgIGNvbEluZGV4LnB1c2goaSk7XG4gICAgICB9XG4gICAgfSAvLyBDbG9uZSB0aGUgdmFsdWVzIGFycmF5XG5cblxuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXMuc2xpY2UoKTsgLy8gQ2xvbmUgdGhlIHJvdyBpbmRleCBhcnJheVxuXG5cbiAgICB2YXIgcm93SW5kZXggPSBtLl9pbmRleC5zbGljZSgpOyAvLyBUcmFuc2Zvcm0gdGhlIChyb3csIGNvbHVtbikgaW5kaWNlc1xuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbS5faW5kZXgubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgcjEgPSByb3dJbmRleFtfaV07XG4gICAgICB2YXIgYzEgPSBjb2xJbmRleFtfaV07XG4gICAgICB2YXIgZmxhdCA9IHIxICogbS5fc2l6ZVsxXSArIGMxO1xuICAgICAgY29sSW5kZXhbX2ldID0gZmxhdCAlIHNpemVbMV07XG4gICAgICByb3dJbmRleFtfaV0gPSBNYXRoLmZsb29yKGZsYXQgLyBzaXplWzFdKTtcbiAgICB9IC8vIE5vdyByZXNoYXBpbmcgaXMgc3VwcG9zZWQgdG8gcHJlc2VydmUgdGhlIHJvdy1tYWpvciBvcmRlciwgQlVUIHRoZXNlIHNwYXJzZSBtYXRyaWNlcyBhcmUgc3RvcmVkXG4gICAgLy8gaW4gY29sdW1uLW1ham9yIG9yZGVyLCBzbyB3ZSBoYXZlIHRvIHJlb3JkZXIgdGhlIHZhbHVlIGFycmF5IG5vdy4gT25lIG9wdGlvbiBpcyB0byB1c2UgYSBtdWx0aXNvcnQsXG4gICAgLy8gc29ydGluZyBzZXZlcmFsIGFycmF5cyBiYXNlZCBvbiBzb21lIG90aGVyIGFycmF5LlxuICAgIC8vIE9SLCB3ZSBjb3VsZCBlYXNpbHkganVzdDpcbiAgICAvLyAxLiBSZW1vdmUgYWxsIHZhbHVlcyBmcm9tIHRoZSBtYXRyaXhcblxuXG4gICAgbS5fdmFsdWVzLmxlbmd0aCA9IDA7XG4gICAgbS5faW5kZXgubGVuZ3RoID0gMDtcbiAgICBtLl9wdHIubGVuZ3RoID0gc2l6ZVsxXSArIDE7XG4gICAgbS5fc2l6ZSA9IHNpemUuc2xpY2UoKTtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG0uX3B0ci5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBtLl9wdHJbX2kyXSA9IDA7XG4gICAgfSAvLyAyLiBSZS1pbnNlcnQgYWxsIGVsZW1lbnRzIGluIHRoZSBwcm9wZXIgb3JkZXIgKHNpbXBsaWZpZWQgY29kZSBmcm9tIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2V0KVxuICAgIC8vIFRoaXMgc3RlcCBpcyBwcm9iYWJseSB0aGUgbW9zdCB0aW1lLWNvbnN1bWluZ1xuXG5cbiAgICBmb3IgKHZhciBoID0gMDsgaCA8IHZhbHVlcy5sZW5ndGg7IGgrKykge1xuICAgICAgdmFyIF9pMyA9IHJvd0luZGV4W2hdO1xuICAgICAgdmFyIF9qID0gY29sSW5kZXhbaF07XG4gICAgICB2YXIgdiA9IHZhbHVlc1toXTtcblxuICAgICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChfaTMsIG0uX3B0cltfal0sIG0uX3B0cltfaiArIDFdLCBtLl9pbmRleCk7XG5cbiAgICAgIF9pbnNlcnQoaywgX2kzLCBfaiwgdiwgbS5fdmFsdWVzLCBtLl9pbmRleCwgbS5fcHRyKTtcbiAgICB9IC8vIFRoZSB2YWx1ZSBpbmRpY2VzIGFyZSBpbnNlcnRlZCBvdXQgb2Ygb3JkZXIsIGJ1dCBhcHBhcmVudGx5IHRoYXQncy4uLiBzdGlsbCBPSz9cblxuXG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG0gPSBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzID8gY2xvbmUodGhpcy5fdmFsdWVzKSA6IHVuZGVmaW5lZCxcbiAgICAgIGluZGV4OiBjbG9uZSh0aGlzLl9pbmRleCksXG4gICAgICBwdHI6IGNsb25lKHRoaXMuX3B0ciksXG4gICAgICBzaXplOiBjbG9uZSh0aGlzLl9zaXplKSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUuc2xpY2UoMCk7IC8vIGNvcHkgdGhlIEFycmF5XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICpcbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgbWFwIG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gbWF0cml4IGluc3RhbmNlXG5cblxuICAgIHZhciBtZSA9IHRoaXM7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgdmFyIGludm9rZSA9IGZ1bmN0aW9uIGludm9rZSh2LCBpLCBqKSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIHJldHVybiBjYWxsYmFjayh2LCBbaSwgal0sIG1lKTtcbiAgICB9OyAvLyBpbnZva2UgX21hcFxuXG5cbiAgICByZXR1cm4gX21hcCh0aGlzLCAwLCByb3dzIC0gMSwgMCwgY29sdW1ucyAtIDEsIGludm9rZSwgc2tpcFplcm9zKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb24gdGhlIGludGVydmFsXG4gICAqIFttaW5Sb3cuLm1heFJvdywgbWluQ29sdW1uLi5tYXhDb2x1bW5dLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tYXAobWF0cml4LCBtaW5Sb3csIG1heFJvdywgbWluQ29sdW1uLCBtYXhDb2x1bW4sIGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyByZXN1bHQgYXJyYXlzXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhtYXRyaXguX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFttYXRyaXguX2RhdGF0eXBlLCBtYXRyaXguX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9IC8vIGludm9rZSBjYWxsYmFja1xuXG5cbiAgICB2YXIgaW52b2tlID0gZnVuY3Rpb24gaW52b2tlKHYsIHgsIHkpIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgdiA9IGNhbGxiYWNrKHYsIHgsIHkpOyAvLyBjaGVjayB2YWx1ZSAhPSAwXG5cbiAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgdmFsdWVzLnB1c2godik7IC8vIGluZGV4XG5cbiAgICAgICAgaW5kZXgucHVzaCh4KTtcbiAgICAgIH1cbiAgICB9OyAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yICh2YXIgaiA9IG1pbkNvbHVtbjsgaiA8PSBtYXhDb2x1bW47IGorKykge1xuICAgICAgLy8gc3RvcmUgcG9pbnRlciB0byB2YWx1ZXMgaW5kZXhcbiAgICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG5cbiAgICAgIHZhciBrMCA9IG1hdHJpeC5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gbWF0cml4Ll9wdHJbaiArIDFdO1xuXG4gICAgICBpZiAoc2tpcFplcm9zKSB7XG4gICAgICAgIC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcbiAgICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICAgIHZhciBpID0gbWF0cml4Ll9pbmRleFtrXTsgLy8gY2hlY2sgaSBpcyBpbiByYW5nZVxuXG4gICAgICAgICAgaWYgKGkgPj0gbWluUm93ICYmIGkgPD0gbWF4Um93KSB7XG4gICAgICAgICAgICAvLyB2YWx1ZSBAIGtcbiAgICAgICAgICAgIGludm9rZShtYXRyaXguX3ZhbHVlc1trXSwgaSAtIG1pblJvdywgaiAtIG1pbkNvbHVtbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWNoZSBob2xkaW5nIGFsbCBkZWZpbmVkIHZhbHVlc1xuICAgICAgICB2YXIgX3ZhbHVlcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIF9rID0gazA7IF9rIDwgazE7IF9rKyspIHtcbiAgICAgICAgICB2YXIgX2k0ID0gbWF0cml4Ll9pbmRleFtfa107XG4gICAgICAgICAgX3ZhbHVlc1tfaTRdID0gbWF0cml4Ll92YWx1ZXNbX2tdO1xuICAgICAgICB9IC8vIGxvb3Agb3ZlciBhbGwgcm93cyAoaW5kZXhlcyBjYW4gYmUgdW5vcmRlcmVkIHNvIHdlIGNhbid0IHVzZSB0aGF0KSxcbiAgICAgICAgLy8gYW5kIGVpdGhlciByZWFkIHRoZSB2YWx1ZSBvciB6ZXJvXG5cblxuICAgICAgICBmb3IgKHZhciBfaTUgPSBtaW5Sb3c7IF9pNSA8PSBtYXhSb3c7IF9pNSsrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX2k1IGluIF92YWx1ZXMgPyBfdmFsdWVzW19pNV0gOiAwO1xuICAgICAgICAgIGludm9rZSh2YWx1ZSwgX2k1IC0gbWluUm93LCBqIC0gbWluQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIHZhbHVlcyBpbiBwdHJcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW21heFJvdyAtIG1pblJvdyArIDEsIG1heENvbHVtbiAtIG1pbkNvbHVtbiArIDFdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JFYWNoIG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gbWF0cml4IGluc3RhbmNlXG5cblxuICAgIHZhciBtZSA9IHRoaXM7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07XG5cbiAgICAgIGlmIChza2lwWmVyb3MpIHtcbiAgICAgICAgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuICAgICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFtrXTsgLy8gdmFsdWUgQCBrXG5cbiAgICAgICAgICBjYWxsYmFjayh0aGlzLl92YWx1ZXNba10sIFtpLCBqXSwgbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWNoZSBob2xkaW5nIGFsbCBkZWZpbmVkIHZhbHVlc1xuICAgICAgICB2YXIgdmFsdWVzID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgX2syID0gazA7IF9rMiA8IGsxOyBfazIrKykge1xuICAgICAgICAgIHZhciBfaTYgPSB0aGlzLl9pbmRleFtfazJdO1xuICAgICAgICAgIHZhbHVlc1tfaTZdID0gdGhpcy5fdmFsdWVzW19rMl07XG4gICAgICAgIH0gLy8gbG9vcCBvdmVyIGFsbCByb3dzIChpbmRleGVzIGNhbiBiZSB1bm9yZGVyZWQgc28gd2UgY2FuJ3QgdXNlIHRoYXQpLFxuICAgICAgICAvLyBhbmQgZWl0aGVyIHJlYWQgdGhlIHZhbHVlIG9yIHplcm9cblxuXG4gICAgICAgIGZvciAodmFyIF9pNyA9IDA7IF9pNyA8IHJvd3M7IF9pNysrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX2k3IGluIHZhbHVlcyA/IHZhbHVlc1tfaTddIDogMDtcbiAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwgW19pNywgal0sIG1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgU3BhcnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RvQXJyYXkodGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyLCB0aGlzLl9zaXplLCB0cnVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBTcGFyc2VNYXRyaXg6IGEgdHdvIGRpbWVuc2lvbnMgYXJyYXlcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdG9BcnJheSh0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIsIHRoaXMuX3NpemUsIGZhbHNlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfdG9BcnJheSh2YWx1ZXMsIGluZGV4LCBwdHIsIHNpemUsIGNvcHkpIHtcbiAgICAvLyByb3dzIGFuZCBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gcmVzdWx0XG5cbiAgICB2YXIgYSA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgajsgLy8gaW5pdGlhbGl6ZSBhcnJheVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgYVtpXSA9IFtdO1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAgIGFbaV1bal0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgaSA9IGluZGV4W2tdOyAvLyBzZXQgdmFsdWUgKHVzZSBvbmUgZm9yIHBhdHRlcm4gbWF0cml4KVxuXG4gICAgICAgIGFbaV1bal0gPSB2YWx1ZXMgPyBjb3B5ID8gY2xvbmUodmFsdWVzW2tdKSA6IHZhbHVlc1trXSA6IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIHJvd3MgYW5kIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBkZW5zaXR5XG5cbiAgICB2YXIgZGVuc2l0eSA9IHRoaXMuZGVuc2l0eSgpOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHN0ciA9ICdTcGFyc2UgTWF0cml4IFsnICsgZm9ybWF0KHJvd3MsIG9wdGlvbnMpICsgJyB4ICcgKyBmb3JtYXQoY29sdW1ucywgb3B0aW9ucykgKyAnXSBkZW5zaXR5OiAnICsgZm9ybWF0KGRlbnNpdHksIG9wdGlvbnMpICsgJ1xcbic7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07IC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFtrXTsgLy8gYXBwZW5kIHZhbHVlXG5cbiAgICAgICAgc3RyICs9ICdcXG4gICAgKCcgKyBmb3JtYXQoaSwgb3B0aW9ucykgKyAnLCAnICsgZm9ybWF0KGosIG9wdGlvbnMpICsgJykgPT0+ICcgKyAodGhpcy5fdmFsdWVzID8gZm9ybWF0KHRoaXMuX3ZhbHVlc1trXSwgb3B0aW9ucykgOiAnWCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLnRvQXJyYXkoKSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdTcGFyc2VNYXRyaXgnLFxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXG4gICAgICBpbmRleDogdGhpcy5faW5kZXgsXG4gICAgICBwdHI6IHRoaXMuX3B0cixcbiAgICAgIHNpemU6IHRoaXMuX3NpemUsXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBrdGggTWF0cml4IGRpYWdvbmFsLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgcmV0cmlldmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggdmVjdG9yIHdpdGggdGhlIGRpYWdvbmFsIHZhbHVlcy5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRpYWdvbmFsID0gZnVuY3Rpb24gKGspIHtcbiAgICAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbnVtYmVyIGRpYWdvbmFsIHZhbHVlc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIGRpYWdvbmFsIGFycmF5c1xuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gaW5pdGlhbCBwdHIgdmFsdWVcblxuICAgIHB0clswXSA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IGtTdXBlcjsgaiA8IGNvbHVtbnMgJiYgdmFsdWVzLmxlbmd0aCA8IG47IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTsgLy8gbG9vcCB4IHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciB4ID0gazA7IHggPCBrMTsgeCsrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W3hdOyAvLyBjaGVjayByb3dcblxuICAgICAgICBpZiAoaSA9PT0gaiAtIGtTdXBlciArIGtTdWIpIHtcbiAgICAgICAgICAvLyB2YWx1ZSBvbiB0aGlzIGNvbHVtblxuICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuX3ZhbHVlc1t4XSk7IC8vIHN0b3JlIHJvd1xuXG4gICAgICAgICAgaW5kZXhbdmFsdWVzLmxlbmd0aCAtIDFdID0gaSAtIGtTdWI7IC8vIGV4aXQgbG9vcFxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGNsb3NlIHB0clxuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFtuLCAxXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogR2VuZXJhdGUgYSBtYXRyaXggZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTcGFyc2VNYXRyaXhcIiwgXCJ2YWx1ZXNcIjogW10sIFwiaW5kZXhcIjogW10sIFwicHRyXCI6IFtdLCBcInNpemVcIjogW119YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7U3BhcnNlTWF0cml4fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoanNvbik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkaWFnb25hbCBtYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZSAgICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCBzaXplLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEFycmF5IHwgTWF0cml4IH0gdmFsdWUgICBUaGUgdmFsdWVzIGZvciB0aGUgZGlhZ29uYWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIGJlIGZpbGxlZCBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdICAgICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIG5vbi1kaWFnb25hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXSAgICAgICAgICAgICAgICBUaGUgTWF0cml4IGRhdGF0eXBlLCB2YWx1ZXMgbXVzdCBiZSBvZiB0aGlzIGRhdGF0eXBlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U3BhcnNlTWF0cml4fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5kaWFnb25hbCA9IGZ1bmN0aW9uIChzaXplLCB2YWx1ZSwgaywgZGVmYXVsdFZhbHVlLCBkYXRhdHlwZSkge1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQsIHNpemUgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIG1hcCBzaXplICYgdmFsaWRhdGVcblxuXG4gICAgc2l6ZSA9IHNpemUubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBhIGJpZyBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihzKSkge1xuICAgICAgICAvLyBjb252ZXJ0IGl0XG4gICAgICAgIHMgPSBzLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgICAgIGlmICghaXNOdW1iZXIocykgfHwgIWlzSW50ZWdlcihzKSB8fCBzIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgdmFsdWVzIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHM7XG4gICAgfSk7IC8vIHZhbGlkYXRlIGsgaWYgYW55XG5cbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfSAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2RhdGF0eXBlLCBkYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIG51bWJlciBvZiBub24temVybyBpdGVtc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHZhbHVlIGV4dHJhY3Rpb24gZnVuY3Rpb25cblxuICAgIHZhciBfdmFsdWU7IC8vIGNoZWNrIHZhbHVlXG5cblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy8gdmFsaWRhdGUgYXJyYXlcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGFycmF5IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZVtpXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc01hdHJpeCh2YWx1ZSkpIHtcbiAgICAgIC8vIG1hdHJpeCBzaXplXG4gICAgICB2YXIgbXMgPSB2YWx1ZS5zaXplKCk7IC8vIHZhbGlkYXRlIG1hdHJpeFxuXG4gICAgICBpZiAobXMubGVuZ3RoICE9PSAxIHx8IG1zWzBdICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXRyaXggbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlLmdldChbaV0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmaW5lIGZ1bmN0aW9uXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gLy8gY3JlYXRlIGFycmF5c1xuXG5cbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBsb29wIGl0ZW1zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gbnVtYmVyIG9mIHJvd3Mgd2l0aCB2YWx1ZVxuICAgICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGRpYWdvbmFsIGluZGV4XG5cbiAgICAgIHZhciBpID0gaiAtIGtTdXBlcjsgLy8gY2hlY2sgd2UgbmVlZCB0byBzZXQgZGlhZ29uYWwgdmFsdWVcblxuICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgbikge1xuICAgICAgICAvLyBnZXQgdmFsdWUgQCBpXG4gICAgICAgIHZhciB2ID0gX3ZhbHVlKGkpOyAvLyBjaGVjayBmb3IgemVyb1xuXG5cbiAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgIC8vIGNvbHVtblxuICAgICAgICAgIGluZGV4LnB1c2goaSArIGtTdWIpOyAvLyBhZGQgdmFsdWVcblxuICAgICAgICAgIHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsYXN0IHZhbHVlIHNob3VsZCBiZSBudW1iZXIgb2YgdmFsdWVzXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBjcmVhdGUgU3BhcnNlTWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBNYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICBUaGUgbWF0cml4IHJlZmVyZW5jZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpc051bWJlcihpKSB8fCAhaXNJbnRlZ2VyKGkpIHx8ICFpc051bWJlcihqKSB8fCAhaXNJbnRlZ2VyKGopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdyBpbmRleCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfSAvLyBjaGVjayBkaW1lbnNpb25zXG5cblxuICAgIGlmICh0aGlzLl9zaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25hbCBtYXRyaXggaXMgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbmRleFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVswXSk7IC8vIHN3YXAgcm93c1xuXG4gICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhpLCBqLCB0aGlzLl9zaXplWzFdLCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpOyAvLyByZXR1cm4gY3VycmVudCBpbnN0YW5jZVxuXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIExvb3Agcm93cyB3aXRoIGRhdGEgaW4gY29sdW1uIGouXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgICAgICAgQ29sdW1uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyAgICAgICAgTWF0cml4IHZhbHVlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleCAgICAgICAgIE1hdHJpeCByb3cgaW5kZWNlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBwdHIgICAgICAgICAgIE1hdHJpeCBjb2x1bW4gcG9pbnRlcnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGZvciBldmVyeSByb3cgaW4gY29sdW1uIGpcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguX2ZvckVhY2hSb3cgPSBmdW5jdGlvbiAoaiwgdmFsdWVzLCBpbmRleCwgcHRyLCBjYWxsYmFjaykge1xuICAgIC8vIGluZGVjZXMgZm9yIGNvbHVtbiBqXG4gICAgdmFyIGswID0gcHRyW2pdO1xuICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGxvb3BcblxuICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgY2FsbGJhY2soaW5kZXhba10sIHZhbHVlc1trXSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIHggYW5kIHkgaW4gU3BhcnNlIE1hdHJpeCBkYXRhIHN0cnVjdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4ICAgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zICAgTnVtYmVyIG9mIGNvbHVtbnMgaW4gbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyAgICAgTWF0cml4IHZhbHVlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleCAgICAgIE1hdHJpeCByb3cgaW5kZWNlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBwdHIgICAgICAgIE1hdHJpeCBjb2x1bW4gcG9pbnRlcnNcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzID0gZnVuY3Rpb24gKHgsIHksIGNvbHVtbnMsIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIGxvb3AgY29sdW1uc1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBmaW5kIHZhbHVlIGluZGV4IEAgeFxuXG4gICAgICB2YXIga3ggPSBfZ2V0VmFsdWVJbmRleCh4LCBrMCwgazEsIGluZGV4KTsgLy8gZmluZCB2YWx1ZSBpbmRleCBAIHhcblxuXG4gICAgICB2YXIga3kgPSBfZ2V0VmFsdWVJbmRleCh5LCBrMCwgazEsIGluZGV4KTsgLy8gY2hlY2sgYm90aCByb3dzIGV4aXN0IGluIG1hdHJpeFxuXG5cbiAgICAgIGlmIChreCA8IGsxICYmIGt5IDwgazEgJiYgaW5kZXhba3hdID09PSB4ICYmIGluZGV4W2t5XSA9PT0geSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFyIHYgPSB2YWx1ZXNba3hdO1xuICAgICAgICAgIHZhbHVlc1treF0gPSB2YWx1ZXNba3ldO1xuICAgICAgICAgIHZhbHVlc1treV0gPSB2O1xuICAgICAgICB9IC8vIG5leHQgY29sdW1uXG5cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgeCByb3cgZXhpc3QgJiBubyB5IHJvd1xuXG5cbiAgICAgIGlmIChreCA8IGsxICYmIGluZGV4W2t4XSA9PT0geCAmJiAoa3kgPj0gazEgfHwgaW5kZXhba3ldICE9PSB5KSkge1xuICAgICAgICAvLyB2YWx1ZSBAIHggKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgdmFyIHZ4ID0gdmFsdWVzID8gdmFsdWVzW2t4XSA6IHVuZGVmaW5lZDsgLy8gaW5zZXJ0IHZhbHVlIEAgeVxuXG4gICAgICAgIGluZGV4LnNwbGljZShreSwgMCwgeSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3ksIDAsIHZ4KTtcbiAgICAgICAgfSAvLyByZW1vdmUgdmFsdWUgQCB4IChhZGp1c3QgYXJyYXkgaW5kZXggaWYgbmVlZGVkKVxuXG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt5IDw9IGt4ID8ga3ggKyAxIDoga3gsIDEpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt5IDw9IGt4ID8ga3ggKyAxIDoga3gsIDEpO1xuICAgICAgICB9IC8vIG5leHQgY29sdW1uXG5cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgeSByb3cgZXhpc3QgJiBubyB4IHJvd1xuXG5cbiAgICAgIGlmIChreSA8IGsxICYmIGluZGV4W2t5XSA9PT0geSAmJiAoa3ggPj0gazEgfHwgaW5kZXhba3hdICE9PSB4KSkge1xuICAgICAgICAvLyB2YWx1ZSBAIHkgKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgdmFyIHZ5ID0gdmFsdWVzID8gdmFsdWVzW2t5XSA6IHVuZGVmaW5lZDsgLy8gaW5zZXJ0IHZhbHVlIEAgeFxuXG4gICAgICAgIGluZGV4LnNwbGljZShreCwgMCwgeCk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3gsIDAsIHZ5KTtcbiAgICAgICAgfSAvLyByZW1vdmUgdmFsdWUgQCB5IChhZGp1c3QgYXJyYXkgaW5kZXggaWYgbmVlZGVkKVxuXG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt4IDw9IGt5ID8ga3kgKyAxIDoga3ksIDEpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt4IDw9IGt5ID8ga3kgKyAxIDoga3ksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTcGFyc2VNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ251bWJlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbnVtYmVyIG9yIGNvbnZlcnQgYSBzdHJpbmcsIGJvb2xlYW4sIG9yIHVuaXQgdG8gYSBudW1iZXIuXG4gICAqIFdoZW4gdmFsdWUgaXMgYSBtYXRyaXgsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBudW1iZXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5udW1iZXIodmFsdWUpXG4gICAqICAgIG1hdGgubnVtYmVyKHVuaXQsIHZhbHVlbGVzc1VuaXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm51bWJlcigyKSAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAyXG4gICAqICAgIG1hdGgubnVtYmVyKCc3LjInKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDcuMlxuICAgKiAgICBtYXRoLm51bWJlcih0cnVlKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAxXG4gICAqICAgIG1hdGgubnVtYmVyKFt0cnVlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZV0pIC8vIHJldHVybnMgWzEsIDAsIDEsIDFdXG4gICAqICAgIG1hdGgubnVtYmVyKG1hdGgudW5pdCgnNTJjbScpLCAnbScpICAgIC8vIHJldHVybnMgMC41MlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBBcnJheSB8IE1hdHJpeCB8IFVuaXQgfCBudWxsfSBbdmFsdWVdICBWYWx1ZSB0byBiZSBjb252ZXJ0ZWRcbiAgICogQHBhcmFtIHtVbml0IHwgc3RyaW5nfSBbdmFsdWVsZXNzVW5pdF0gQSB2YWx1ZWxlc3MgdW5pdCwgdXNlZCB0byBjb252ZXJ0IGEgdW5pdCB0byBhIG51bWJlclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBBcnJheSB8IE1hdHJpeH0gVGhlIGNyZWF0ZWQgbnVtYmVyXG4gICAqL1xuICB2YXIgbnVtYmVyID0gdHlwZWQoJ251bWJlcicsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICBpZiAoeCA9PT0gJ05hTicpIHJldHVybiBOYU47XG4gICAgICB2YXIgbnVtID0gTnVtYmVyKHgpO1xuXG4gICAgICBpZiAoaXNOYU4obnVtKSkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1N0cmluZyBcIicgKyB4ICsgJ1wiIGlzIG5vIHZhbGlkIG51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoWycwYicsICcwbycsICcweCddLmluY2x1ZGVzKHguc3Vic3RyaW5nKDAsIDIpKSkge1xuICAgICAgICBpZiAobnVtID4gMiAqKiAzMiAtIDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJTdHJpbmcgXFxcIlwiLmNvbmNhdCh4LCBcIlxcXCIgaXMgb3V0IG9mIHJhbmdlXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW0gJiAweDgwMDAwMDAwKSB7XG4gICAgICAgICAgbnVtID0gLTEgKiB+KG51bSAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudW07XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC50b051bWJlcigpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnZhbHVlT2YoKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWNvbmQgYXJndW1lbnQgd2l0aCB2YWx1ZWxlc3MgdW5pdCBleHBlY3RlZCcpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICAnVW5pdCwgc3RyaW5nIHwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRTdHJpbmdVbml0KHVuaXQsIHZhbHVlbGVzc1VuaXQpIHtcbiAgICAgIHJldHVybiB1bml0LnRvTnVtYmVyKHZhbHVlbGVzc1VuaXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTsgLy8gcmV2aXZlciBmdW5jdGlvbiB0byBwYXJzZSBhIEpTT04gb2JqZWN0IGxpa2U6XG4gIC8vXG4gIC8vICAgICB7XCJtYXRoanNcIjpcIm51bWJlclwiLFwidmFsdWVcIjpcIjIuM1wifVxuICAvL1xuICAvLyBpbnRvIGEgbnVtYmVyIDIuM1xuXG4gIG51bWJlci5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoanNvbi52YWx1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIG51bWJlcjtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2JpZ251bWJlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdCaWdOdW1iZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmlnbnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgQmlnTnVtYmVyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBCaWdOdW1iZXIsIHdoaWNoIGNhbiBzdG9yZSBudW1iZXJzIHdpdGggYXJiaXRyYXJ5IHByZWNpc2lvbi5cbiAgICogV2hlbiBhIG1hdHJpeCBpcyBwcm92aWRlZCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIEJpZ051bWJlci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmJpZ251bWJlcih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgMC4xICsgMC4yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDAuMzAwMDAwMDAwMDAwMDAwMDRcbiAgICogICAgbWF0aC5iaWdudW1iZXIoMC4xKSArIG1hdGguYmlnbnVtYmVyKDAuMikgIC8vIHJldHVybnMgQmlnTnVtYmVyIDAuM1xuICAgKlxuICAgKlxuICAgKiAgICA3LjJlNTAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgSW5maW5pdHlcbiAgICogICAgbWF0aC5iaWdudW1iZXIoJzcuMmU1MDAnKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQmlnTnVtYmVyIDcuMmU1MDBcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZyB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQXJyYXkgfCBNYXRyaXggfCBib29sZWFuIHwgbnVsbH0gW3ZhbHVlXSAgVmFsdWUgZm9yIHRoZSBiaWcgbnVtYmVyLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwIGJ5IGRlZmF1bHQuXG4gICAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFRoZSBjcmVhdGVkIGJpZ251bWJlclxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdiaWdudW1iZXInLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIC8vIGNvbnZlcnQgdG8gc3RyaW5nIHRvIHByZXZlbnQgZXJyb3JzIGluIGNhc2Ugb2YgPjE1IGRpZ2l0c1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCArICcnKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgLy8gd2UgYXNzdW1lIGEgQmlnTnVtYmVyIGlzIGltbXV0YWJsZVxuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeC5uKS5kaXYoeC5kKS50aW1lcyh4LnMpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnZnJhY3Rpb24nO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnJhY3Rpb24gPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBGcmFjdGlvblxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgZnJhY3Rpb24gY29udmVydCBhIHZhbHVlIHRvIGEgZnJhY3Rpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICogICAgIG1hdGguZnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcilcbiAgICogICAgIG1hdGguZnJhY3Rpb24oe246IG51bWVyYXRvciwgZDogZGVub21pbmF0b3J9KVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihtYXRyaXg6IEFycmF5IHwgTWF0cml4KSAgICAgICAgIFR1cm4gYWxsIG1hdHJpeCBlbnRyaWVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50byBmcmFjdGlvbnNcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKDEsIDMpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKCcyLzMnKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbih7bjogMiwgZDogM30pXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKFswLjIsIDAuMjUsIDEuMjVdKVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBudW1iZXIsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZyB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQXJyYXkgfCBNYXRyaXh9IFthcmdzXVxuICAgKiAgICAgICAgICAgIEFyZ3VtZW50cyBzcGVjaWZ5aW5nIHRoZSBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yIG9mXG4gICAqICAgICAgICAgICAgdGhlIGZyYWN0aW9uXG4gICAqIEByZXR1cm4ge0ZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgYSBmcmFjdGlvblxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdmcmFjdGlvbicsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAoIWlzRmluaXRlKHgpIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih4ICsgJyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXMgYSBmcmFjdGlvbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcihudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigwKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeC50b1N0cmluZygpKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geDsgLy8gZnJhY3Rpb25zIGFyZSBpbW11dGFibGVcbiAgICB9LFxuICAgIE9iamVjdDogZnVuY3Rpb24gT2JqZWN0KHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnbWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ01hdHJpeCcsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTWF0cml4ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgTWF0cml4LFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgTWF0cml4LiBUaGUgZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyBgbWF0aC5NYXRyaXhgIG9iamVjdCBmcm9tXG4gICAqIGFuIGBBcnJheWAuIEEgTWF0cml4IGhhcyB1dGlsaXR5IGZ1bmN0aW9ucyB0byBtYW5pcHVsYXRlIHRoZSBkYXRhIGluIHRoZVxuICAgKiBtYXRyaXgsIGxpa2UgZ2V0dGluZyB0aGUgc2l6ZSBhbmQgZ2V0dGluZyBvciBzZXR0aW5nIHZhbHVlcyBpbiB0aGUgbWF0cml4LlxuICAgKiBTdXBwb3J0ZWQgc3RvcmFnZSBmb3JtYXRzIGFyZSAnZGVuc2UnIGFuZCAnc3BhcnNlJy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm1hdHJpeCgpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYW4gZW1wdHkgbWF0cml4IHVzaW5nIGRlZmF1bHQgc3RvcmFnZSBmb3JtYXQgKGRlbnNlKS5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSkgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGEgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhIHVzaW5nIGRlZmF1bHQgc3RvcmFnZSBmb3JtYXQgKGRlbnNlKS5cbiAgICogICAgbWF0aC5tYXRyaXgoJ2RlbnNlJykgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCB1c2luZyB0aGUgZ2l2ZW4gc3RvcmFnZSBmb3JtYXQuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdkZW5zZScpICAgICAgICAgICAgLy8gY3JlYXRlcyBhIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSB1c2luZyB0aGUgZ2l2ZW4gc3RvcmFnZSBmb3JtYXQuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdzcGFyc2UnKSAgICAgICAgICAgLy8gY3JlYXRlcyBhIHNwYXJzZSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdzcGFyc2UnLCAnbnVtYmVyJykgLy8gY3JlYXRlcyBhIHNwYXJzZSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEsIG51bWJlciBkYXRhIHR5cGUuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBsZXQgbSA9IG1hdGgubWF0cml4KFtbMSwgMl0sIFszLCA0XV0pXG4gICAqICAgIG0uc2l6ZSgpICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgWzIsIDJdXG4gICAqICAgIG0ucmVzaXplKFszLCAyXSwgNSlcbiAgICogICAgbS52YWx1ZU9mKCkgICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBbWzEsIDJdLCBbMywgNF0sIFs1LCA1XV1cbiAgICogICAgbS5nZXQoWzEsIDBdKSAgICAgICAgICAgICAgICAgICAgLy8gbnVtYmVyIDNcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG51bWJlciwgc3RyaW5nLCB1bml0LCBzcGFyc2VcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gW2RhdGFdICAgIEEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSBUaGUgY3JlYXRlZCBtYXRyaXhcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgc3RyaW5nJzogZnVuY3Rpb24gc3RyaW5nU3RyaW5nKGZvcm1hdCwgZGF0YXR5cGUpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdLCBmb3JtYXQsIGRhdGF0eXBlKTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShkYXRhKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShkYXRhKTtcbiAgICB9LFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KGRhdGEpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKGRhdGEsIGRhdGEuc3RvcmFnZSgpKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nJzogX2NyZWF0ZSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZywgc3RyaW5nJzogX2NyZWF0ZVxuICB9KTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBNYXRyaXggd2l0aCBnaXZlbiBzdG9yYWdlIGZvcm1hdFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKiBAcmV0dXJucyB7TWF0cml4fSBSZXR1cm5zIGEgbmV3IE1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfY3JlYXRlKGRhdGEsIGZvcm1hdCwgZGF0YXR5cGUpIHtcbiAgICAvLyBnZXQgc3RvcmFnZSBmb3JtYXQgY29uc3RydWN0b3JcbiAgICBpZiAoZm9ybWF0ID09PSAnZGVuc2UnIHx8IGZvcm1hdCA9PT0gJ2RlZmF1bHQnIHx8IGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0ID09PSAnc3BhcnNlJykge1xuICAgICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gbWF0cml4IHR5cGUgJyArIEpTT04uc3RyaW5naWZ5KGZvcm1hdCkgKyAnLicpO1xuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ3VuYXJ5TWludXMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlVW5hcnlNaW51cyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJbnZlcnNlIHRoZSBzaWduIG9mIGEgdmFsdWUsIGFwcGx5IGEgdW5hcnkgbWludXMgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLiBCb29sZWFuIHZhbHVlcyBhbmRcbiAgICogc3RyaW5ncyB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIG51bWJlci4gRm9yIGNvbXBsZXggbnVtYmVycywgYm90aCByZWFsIGFuZFxuICAgKiBjb21wbGV4IHZhbHVlIGFyZSBpbnZlcnRlZC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgudW5hcnlNaW51cygzLjUpICAgICAgLy8gcmV0dXJucyAtMy41XG4gICAqICAgIG1hdGgudW5hcnlNaW51cygtNC4yKSAgICAgLy8gcmV0dXJucyA0LjJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGFkZCwgc3VidHJhY3QsIHVuYXJ5UGx1c1xuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggTnVtYmVyIHRvIGJlIGludmVydGVkLlxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdGhlIHZhbHVlIHdpdGggaW52ZXJ0ZWQgc2lnbi5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiB1bmFyeU1pbnVzTnVtYmVyLFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMoeC52YWx1ZSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSB1bmFyeU1pbnVzKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igc3RyaW5nXG5cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBhYnNOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnYWJzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFicyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGFic29sdXRlIHZhbHVlIG9mIGEgbnVtYmVyLiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpc1xuICAgKiBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYWJzKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmFicygzLjUpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuNVxuICAgKiAgICBtYXRoLmFicygtNC4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDQuMlxuICAgKlxuICAgKiAgICBtYXRoLmFicyhbMywgLTUsIC0xLCAwLCAyXSkgIC8vIHJldHVybnMgQXJyYXkgWzMsIDUsIDEsIDAsIDJdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzaWduXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4IHwgVW5pdH0geFxuICAgKiAgICAgICAgICAgIEEgbnVtYmVyIG9yIG1hdHJpeCBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeCB8IFVuaXR9XG4gICAqICAgICAgICAgICAgQWJzb2x1dGUgdmFsdWUgb2YgYHhgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogYWJzTnVtYmVyLFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgYWJzKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhZGROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnYWRkU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFkZFNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBZGQgdHdvIHNjYWxhciB2YWx1ZXMsIGB4ICsgeWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uXG4gICAqIGBhZGRgXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIGFkZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGFkZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgU3VtIG9mIGB4YCBhbmQgYHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGFkZE51bWJlcixcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmFkZCh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5wbHVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguYWRkKHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoeC52YWx1ZSA9PT0gbnVsbCB8fCB4LnZhbHVlID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHggY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICBpZiAoeS52YWx1ZSA9PT0gbnVsbCB8fCB5LnZhbHVlID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHkgY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB0aHJvdyBuZXcgRXJyb3IoJ1VuaXRzIGRvIG5vdCBtYXRjaCcpO1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlLCB5LnZhbHVlKTtcbiAgICAgIHJlcy5maXhQcmVmaXggPSBmYWxzZTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTExJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTExID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTKS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTEocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYWluZGV4W2tdOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgICAgICB2YXIgdiA9IGludmVyc2UgPyBjZihiLCBhdmFsdWVzW2tdKSA6IGNmKGF2YWx1ZXNba10sIGIpOyAvLyBjaGVjayB2YWx1ZSBpcyB6ZXJvXG5cbiAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXggJiB2YWx1ZVxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgIGN2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBzLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xNCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xNCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIERlbnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpai4ueiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaiwuLi56KSA9IGYoQWlqLi56LCBiKVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLi56LGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsQWlqLi56KVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjU5MDQyXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTQoYSwgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHBvcHVsYXRlIGNkYXRhLCBpdGVyYXRlIHRocm91Z2ggZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgY2RhdGEgPSBhc2l6ZS5sZW5ndGggPiAwID8gX2l0ZXJhdGUoY2YsIDAsIGFzaXplLCBhc2l6ZVswXSwgYWRhdGEsIGIsIGludmVyc2UpIDogW107IC8vIGMgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IGNsb25lKGFzaXplKSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9OyAvLyByZWN1cnNpdmUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiBfaXRlcmF0ZShmLCBsZXZlbCwgcywgbiwgYXYsIGJ2LCBpbnZlcnNlKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBhcnJheSBmb3IgdGhpcyBsZXZlbFxuICAgIHZhciBjdiA9IFtdOyAvLyBjaGVjayB3ZSByZWFjaCB0aGUgbGFzdCBsZXZlbFxuXG4gICAgaWYgKGxldmVsID09PSBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIC8vIGxvb3AgYXJyYXlzIGluIGxhc3QgbGV2ZWxcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIC8vIGludm9rZSBjYWxsYmFjayBhbmQgc3RvcmUgdmFsdWVcbiAgICAgICAgY3ZbaV0gPSBpbnZlcnNlID8gZihidiwgYXZbaV0pIDogZihhdltpXSwgYnYpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdGVyYXRlIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgbmV4dCBsZXZlbFxuICAgICAgICBjdltqXSA9IF9pdGVyYXRlKGYsIGxldmVsICsgMSwgcywgc1tsZXZlbCArIDFdLCBhdltqXSwgYnYsIGludmVyc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdjtcbiAgfVxufSk7IiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBjZWlsTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdjZWlsJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdyb3VuZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ2VpbCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICByb3VuZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHBsdXMgaW5maW5pdHlcbiAgICogSWYgYHhgIGlzIGNvbXBsZXgsIGJvdGggcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnQgYXJlIHJvdW5kZWQgdG93YXJkcyBwbHVzIGluZmluaXR5LlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCh4KVxuICAgKiAgICBtYXRoLmNlaWwoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCgzLjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLmNlaWwoMy44KSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5jZWlsKC00LjIpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLmNlaWwoLTQuNykgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCgzLjIxMiwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yMlxuICAgKiAgICBtYXRoLmNlaWwoMy4yODgsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjlcbiAgICogICAgbWF0aC5jZWlsKC00LjIxMiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yMVxuICAgKiAgICBtYXRoLmNlaWwoLTQuNzgyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00Ljc4XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yNCwgLTIuNzEpXG4gICAqICAgIG1hdGguY2VpbChjKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDQgLSAyaVxuICAgKiAgICBtYXRoLmNlaWwoYywgMSkgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjMgLSAyLjdpXG4gICAqXG4gICAqICAgIG1hdGguY2VpbChbMy4yLCAzLjgsIC00LjddKSAgLy8gcmV0dXJucyBBcnJheSBbNCwgNCwgLTRdXG4gICAqICAgIG1hdGguY2VpbChbMy4yMSwgMy44MiwgLTQuNzFdLCAxKSAgLy8gcmV0dXJucyBBcnJheSBbMy4zLCAzLjksIC00LjddXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBmbG9vciwgZml4LCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2NlaWwnLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNlaWxOdW1iZXIoeCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHgsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSArIG4pKSk7XG4gICAgICAgIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHJlc3VsdCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHJldHVybiBOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgLSBuKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmNlaWwobik7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSwgRGVjaW1hbC5ST1VORF9DRUlMKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmNlaWwobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdmaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnQ29tcGxleCcsICdtYXRyaXgnLCAnY2VpbCcsICdmbG9vciddO1xuZXhwb3J0IHZhciBjcmVhdGVGaXggPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBDb21wbGV4OiBfQ29tcGxleCxcbiAgICBtYXRyaXgsXG4gICAgY2VpbCxcbiAgICBmbG9vclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHplcm8uXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5maXgoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZml4KDMuMikgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZpeCgzLjgpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5maXgoLTQuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLmZpeCgtNC43KSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqXG4gICAqICAgIG1hdGguZml4KDMuMTIsIDEpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMVxuICAgKiAgICBtYXRoLmZpeCgzLjE4LCAxKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjFcbiAgICogICAgbWF0aC5maXgoLTQuMTIsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMVxuICAgKiAgICBtYXRoLmZpeCgtNC4xNywgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4xXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yMiwgLTIuNzgpXG4gICAqICAgIG1hdGguZml4KGMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAyaVxuICAgKiAgICBtYXRoLmZpeChjLCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjIgLSAyLjdpXG4gICAqXG4gICAqICAgIG1hdGguZml4KFszLjIsIDMuOCwgLTQuN10pICAgICAgLy8gcmV0dXJucyBBcnJheSBbMywgMywgLTRdXG4gICAqICAgIG1hdGguZml4KFszLjIsIDMuOCwgLTQuN10sIDEpICAgLy8gcmV0dXJucyBBcnJheSBbMy4yLCAzLjgsIC00LjddXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmbG9vciwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggICAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9ICAgICBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZml4Jywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4ID4gMCA/IGZsb29yKHgpIDogY2VpbCh4KTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geCA+IDAgPyBmbG9vcih4LCBuKSA6IGNlaWwoeCwgbik7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0NvbXBsZXgoeC5yZSA+IDAgPyBNYXRoLmZsb29yKHgucmUpIDogTWF0aC5jZWlsKHgucmUpLCB4LmltID4gMCA/IE1hdGguZmxvb3IoeC5pbSkgOiBNYXRoLmNlaWwoeC5pbSkpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIG5ldyBfQ29tcGxleCh4LnJlID4gMCA/IGZsb29yKHgucmUsIG4pIDogY2VpbCh4LnJlLCBuKSwgeC5pbSA+IDAgPyBmbG9vcih4LmltLCBuKSA6IGNlaWwoeC5pbSwgbikpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHguaXNOZWdhdGl2ZSgpID8gY2VpbCh4KSA6IGZsb29yKHgpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmlzTmVnYXRpdmUoKSA/IGNlaWwoeCwgbikgOiBmbG9vcih4LCBuKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5zIDwgMCA/IHguY2VpbCgpIDogeC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5zIDwgMCA/IHguY2VpbChuKSA6IHguZmxvb3Iobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZpeCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZpeCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdmbG9vcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAncm91bmQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZsb29yID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIHJvdW5kLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgbWludXMgaW5maW5pdHkuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcih4KVxuICAgKiAgICBtYXRoLmZsb29yKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKDMuMikgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5mbG9vcigzLjgpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZmxvb3IoLTQuMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICogICAgbWF0aC5mbG9vcigtNC43KSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKDMuMjEyLCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjIxXG4gICAqICAgIG1hdGguZmxvb3IoMy4yODgsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjhcbiAgICogICAgbWF0aC5mbG9vcigtNC4yMTIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMjJcbiAgICogICAgbWF0aC5mbG9vcigtNC43ODIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuNzlcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjI0LCAtMi43MSlcbiAgICogICAgbWF0aC5mbG9vcihjKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAzaVxuICAgKiAgICBtYXRoLmZsb29yKGMsIDEpICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4yIC0gMi44aVxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKFszLjIsIDMuOCwgLTQuN10pICAgICAgIC8vIHJldHVybnMgQXJyYXkgWzMsIDMsIC01XVxuICAgKiAgICBtYXRoLmZsb29yKFszLjIxLCAzLjgyLCAtNC43MV0sIDEpICAvLyByZXR1cm5zIEFycmF5IFszLjIsIDMuOCwgLTQuOF1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZpeCwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdmbG9vcicsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQoeCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmZsb29yKE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSArIG4pKSk7XG4gICAgICAgIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHJlc3VsdCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHJldHVybiBOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgLSBuKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5mbG9vcihuKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSwgRGVjaW1hbC5ST1VORF9GTE9PUik7XG4gICAgICB9XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguZmxvb3Iobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZsb29yKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDEgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTk5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTcGFyc2VNYXRyaXgpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBEaWogICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICB2YXIgZHQgPSB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCA/IGFkdCA6IHVuZGVmaW5lZDsgLy8gY2FsbGJhY2sgZnVuY3Rpb25cblxuICAgIHZhciBjZiA9IGR0ID8gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pIDogY2FsbGJhY2s7IC8vIHZhcnNcblxuICAgIHZhciBpLCBqOyAvLyByZXN1bHQgKERlbnNlTWF0cml4KVxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgY1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7IC8vIG1hcmsgaSBhcyB1cGRhdGVkXG5cbiAgICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gY2hlY2sgcm93IGlzIGluIHdvcmtzcGFjZVxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGNbaV1bal0gd2FzIGFscmVhZHkgY2FsY3VsYXRlZFxuICAgICAgICAgIGNkYXRhW2ldW2pdID0geFtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpdGVtIGRvZXMgbm90IGV4aXN0IGluIFNcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGFkYXRhW2ldW2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBkZW5zZU1hdHJpeC5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNQVgoTk5aQSwgTk5aQikgdGltZXNcbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKEFpaiwgQmlqKSAgOyBBKGksaikgIT09IDAgJiYgQihpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpCAgQShpLGopICAgICAgIDsgQShpLGopICE9PSAwXG4gICAqICAgICAgICAgIOKUlCAgQihpLGopICAgICAgIDsgQihpLGopICE9PSAwXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDQoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeGEgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgeGIgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgaywgazAsIGsxOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gY29sdW1ucyBtYXJrXG5cbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIGxvb3AgQSg6LGopXG5cbiAgICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgY1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgd2FbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgeGFbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGxvb3AgQig6LGopXG5cblxuICAgICAgZm9yIChrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gQVxuXG4gICAgICAgIGlmICh3YVtpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIHVwZGF0ZSByZWNvcmQgaW4geGEgQCBpXG4gICAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgICAgICAgIHZhciB2ID0gY2YoeGFbaV0sIGJ2YWx1ZXNba10pOyAvLyBjaGVjayBmb3IgemVyb1xuXG4gICAgICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSB3b3Jrc3BhY2VcbiAgICAgICAgICAgICAgeGFbaV0gPSB2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmsgKGluZGV4IHdpbGwgYmUgcmVtb3ZlZCBsYXRlcilcbiAgICAgICAgICAgICAgd2FbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgY1xuICAgICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgICB3YltpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICAgIGlmICh4Yikge1xuICAgICAgICAgICAgeGJbaV0gPSBidmFsdWVzW2tdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChub24gcGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKHhhICYmIHhiKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgZmlyc3QgaW5kZXggaW4galxuICAgICAgICBrID0gY3B0cltqXTsgLy8gbG9vcCBpbmRleCBpbiBqXG5cbiAgICAgICAgd2hpbGUgKGsgPCBjaW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IGNpbmRleFtrXTsgLy8gY2hlY2sgd29ya3NwYWNlIGhhcyB2YWx1ZSBAIGlcblxuICAgICAgICAgIGlmICh3YVtpXSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZSAoQWlqICE9IDAgfHwgKEFpaiAhPSAwICYmIEJpaiAhPSAwKSlcbiAgICAgICAgICAgIGN2YWx1ZXNba10gPSB4YVtpXTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgaysrO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2JbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIHB1c2ggdmFsdWUgKGJpaiAhPSAwKVxuICAgICAgICAgICAgY3ZhbHVlc1trXSA9IHhiW2ldOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRleCBAIGtcbiAgICAgICAgICAgIGNpbmRleC5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gUykuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBiICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTAocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciByID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtyXSA9IGF2YWx1ZXNba107XG4gICAgICAgIHdbcl0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIEMgb24gZmlyc3QgY29sdW1uXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJvdyBhcnJheVxuICAgICAgICAgIGNkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgc3BhcnNlIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGksalxuXG5cbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2ssIHVwZGF0ZSBDXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgeFtpXSkgOiBjZih4W2ldLCBiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkZW5zZSBtYXRyaXggdmFsdWUgQCBpLCBqXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBEZW5zZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWouLnosIEJpai4ueikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaiwuLi56KSA9IGYoQWlqLi56LCBCaWouLnopXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWouLnosQmlqLi56KSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2NTg2NThcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMyhhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBhcnJheXNcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIGMgYXJyYXlzXG5cbiAgICB2YXIgY3NpemUgPSBbXTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gdmFsaWRhdGUgZWFjaCBvbmUgb2YgdGhlIGRpbWVuc2lvbiBzaXplc1xuXG5cbiAgICBmb3IgKHZhciBzID0gMDsgcyA8IGFzaXplLmxlbmd0aDsgcysrKSB7XG4gICAgICAvLyBtdXN0IG1hdGNoXG4gICAgICBpZiAoYXNpemVbc10gIT09IGJzaXplW3NdKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgICAgfSAvLyB1cGRhdGUgZGltZW5zaW9uIGluIGNcblxuXG4gICAgICBjc2l6ZVtzXSA9IGFzaXplW3NdO1xuICAgIH0gLy8gZGF0YXR5cGVcblxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBwb3B1bGF0ZSBjZGF0YSwgaXRlcmF0ZSB0aHJvdWdoIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGNkYXRhID0gY3NpemUubGVuZ3RoID4gMCA/IF9pdGVyYXRlKGNmLCAwLCBjc2l6ZSwgY3NpemVbMF0sIGFkYXRhLCBiZGF0YSkgOiBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogY3NpemUsXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTsgLy8gcmVjdXJzaXZlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gX2l0ZXJhdGUoZiwgbGV2ZWwsIHMsIG4sIGF2LCBidikge1xuICAgIC8vIGluaXRpYWxpemUgYXJyYXkgZm9yIHRoaXMgbGV2ZWxcbiAgICB2YXIgY3YgPSBbXTsgLy8gY2hlY2sgd2UgcmVhY2ggdGhlIGxhc3QgbGV2ZWxcblxuICAgIGlmIChsZXZlbCA9PT0gcy5sZW5ndGggLSAxKSB7XG4gICAgICAvLyBsb29wIGFycmF5cyBpbiBsYXN0IGxldmVsXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2sgYW5kIHN0b3JlIHZhbHVlXG4gICAgICAgIGN2W2ldID0gZihhdltpXSwgYnZbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdGVyYXRlIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgbmV4dCBsZXZlbFxuICAgICAgICBjdltqXSA9IF9pdGVyYXRlKGYsIGxldmVsICsgMSwgcywgc1tsZXZlbCArIDFdLCBhdltqXSwgYnZbal0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdjtcbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFNwYXJzZU1hdHJpeCkuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wMihkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IChTcGFyc2VNYXRyaXgpXG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIEMoaSxqKVxuXG4gICAgICAgIHZhciBjaWogPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pOyAvLyBjaGVjayBmb3Igbm9uemVyb1xuXG4gICAgICAgIGlmICghZXEoY2lqLCB6ZXJvKSkge1xuICAgICAgICAgIC8vIHB1c2ggaSAmIHZcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICBjdmFsdWVzLnB1c2goY2lqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gc3BhcnNlTWF0cml4LmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNKk4gdGltZXMuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGYoRGlqLCAwKSAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTAzKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgKERlbnNlTWF0cml4KVxuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBkZW5zZSBtYXRyaXhcblxuICAgIGZvciAodmFyIHogPSAwOyB6IDwgcm93czsgeisrKSB7XG4gICAgICAvLyBpbml0aWFsaXplIHJvd1xuICAgICAgY2RhdGFbel0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTtcbiAgICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB9IC8vIHByb2Nlc3Mgd29ya3NwYWNlXG5cblxuICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCByb3dzOyB5KyspIHtcbiAgICAgICAgLy8gY2hlY2sgd2UgaGF2ZSBhIGNhbGN1bGF0ZWQgdmFsdWUgZm9yIGN1cnJlbnQgcm93XG4gICAgICAgIGlmICh3W3ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gdXNlIGNhbGN1bGF0ZWQgdmFsdWVcbiAgICAgICAgICBjZGF0YVt5XVtqXSA9IHhbeV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlXG4gICAgICAgICAgY2RhdGFbeV1bal0gPSBpbnZlcnNlID8gY2YoemVybywgYWRhdGFbeV1bal0pIDogY2YoYWRhdGFbeV1bal0sIHplcm8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBkZW5zZU1hdHJpeC5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNQVgoTk5aQSwgTk5aQikgdGltZXNcbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKEFpaiwgQmlqKSAgOyBBKGksaikgIT09IDAgfHwgQihpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA1KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4YSA9IGN2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgeGIgPSBjdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGssIGsxOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gY29sdW1ucyBtYXJrXG5cbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIGxvb3AgdmFsdWVzIEEoOixqKVxuXG4gICAgICBmb3IgKGsgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGFpbmRleFtrXTsgLy8gcHVzaCBpbmRleFxuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgd2FbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgeGFbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGxvb3AgdmFsdWVzIEIoOixqKVxuXG5cbiAgICAgIGZvciAoayA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyBjaGVjayByb3cgZXhpc3RlZCBpbiBBXG5cbiAgICAgICAgaWYgKHdhW2ldICE9PSBtYXJrKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleFxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICB9IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuXG4gICAgICAgIHdiW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4Yikge1xuICAgICAgICAgIHhiW2ldID0gYnZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChub24gcGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKGN2YWx1ZXMpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmaXJzdCBpbmRleCBpbiBqXG4gICAgICAgIGsgPSBjcHRyW2pdOyAvLyBsb29wIGluZGV4IGluIGpcblxuICAgICAgICB3aGlsZSAoayA8IGNpbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gY2luZGV4W2tdOyAvLyBtYXJrc1xuXG4gICAgICAgICAgdmFyIHdhaSA9IHdhW2ldO1xuICAgICAgICAgIHZhciB3YmkgPSB3YltpXTsgLy8gY2hlY2sgQWlqIG9yIEJpaiBhcmUgbm9uemVyb1xuXG4gICAgICAgICAgaWYgKHdhaSA9PT0gbWFyayB8fCB3YmkgPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIG1hdHJpeCB2YWx1ZXMgQCBpLGpcbiAgICAgICAgICAgIHZhciB2YSA9IHdhaSA9PT0gbWFyayA/IHhhW2ldIDogemVybztcbiAgICAgICAgICAgIHZhciB2YiA9IHdiaSA9PT0gbWFyayA/IHhiW2ldIDogemVybzsgLy8gQ2lqXG5cbiAgICAgICAgICAgIHZhciB2YyA9IGNmKHZhLCB2Yik7IC8vIGNoZWNrIGZvciB6ZXJvXG5cbiAgICAgICAgICAgIGlmICghZXEodmMsIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHB1c2ggdmFsdWVcbiAgICAgICAgICAgICAgY3ZhbHVlcy5wdXNoKHZjKTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyByZW1vdmUgdmFsdWUgQCBpLCBkbyBub3QgaW5jcmVtZW50IHBvaW50ZXJcbiAgICAgICAgICAgICAgY2luZGV4LnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGYoMCwgYikgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMihzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIHIgPSBhaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W3JdID0gYXZhbHVlc1trXTtcbiAgICAgICAgd1tyXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgQyBvbiBmaXJzdCBjb2x1bW5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcm93IGFycmF5XG4gICAgICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayBzcGFyc2UgbWF0cml4IGhhcyBhIHZhbHVlIEAgaSxqXG5cblxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFjaywgdXBkYXRlIENcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCB4W2ldKSA6IGNmKHhbaV0sIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlbnNlIG1hdHJpeCB2YWx1ZSBAIGksIGpcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCAwKSA6IGNmKDAsIGIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgbW9kTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ21vZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTW9kID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDIgPSBjcmVhdGVBbGdvcml0aG0wMih7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA1ID0gY3JlYXRlQWxnb3JpdGhtMDUoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBtb2R1bHVzLCB0aGUgcmVtYWluZGVyIG9mIGFuIGludGVnZXIgZGl2aXNpb24uXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFRoZSBtb2R1bHVzIGlzIGRlZmluZWQgYXM6XG4gICAqXG4gICAqICAgICB4IC0geSAqIGZsb29yKHggLyB5KVxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW9kdWxvX29wZXJhdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm1vZCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5tb2QoOCwgMykgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyXG4gICAqICAgIG1hdGgubW9kKDExLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgMVxuICAgKlxuICAgKiAgICBmdW5jdGlvbiBpc09kZCh4KSB7XG4gICAqICAgICAgcmV0dXJuIG1hdGgubW9kKHgsIDIpICE9IDBcbiAgICogICAgfVxuICAgKlxuICAgKiAgICBpc09kZCgyKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIGlzT2RkKDMpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGl2aWRlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IHggRGl2aWRlbmRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0geSBEaXZpc29yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdGhlIHJlbWFpbmRlciBvZiBgeGAgZGl2aWRlZCBieSBgeWAuXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogbW9kTnVtYmVyLFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICBpZiAoeS5pc05lZygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geS5pc1plcm8oKSA/IHggOiB4Lm1vZCh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIGlmICh5LmNvbXBhcmUoMCkgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICAgICAgfSAvLyBXb3JrYXJvdW5kIHN1Z2dlc3RlZCBpbiBGcmFjdGlvbi5qcyBsaWJyYXJ5IHRvIGNhbGN1bGF0ZSBjb3JyZWN0IG1vZHVsbyBmb3IgbmVnYXRpdmUgZGl2aWRlbmRcblxuXG4gICAgICByZXR1cm4geC5jb21wYXJlKDApID49IDAgPyB4Lm1vZCh5KSA6IHgubW9kKHkpLmFkZCh5KS5tb2QoeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA1KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG11bHRpcGx5TnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ211bHRpcGx5U2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZU11bHRpcGx5U2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IHR3byBzY2FsYXIgdmFsdWVzLCBgeCAqIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvblxuICAgKiBgbXVsdGlwbHlgXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIE11bHRpcGxpY2F0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ211bHRpcGx5U2NhbGFyJywge1xuICAgICdudW1iZXIsIG51bWJlcic6IG11bHRpcGx5TnVtYmVyLFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnRpbWVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsKHkpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQ29tcGxleCwgVW5pdCc6IGZ1bmN0aW9uIG51bWJlckZyYWN0aW9uQmlnTnVtYmVyQ29tcGxleFVuaXQoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHkuY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKHgpIDogdGhpcyhyZXMudmFsdWUsIHgpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgnOiBmdW5jdGlvbiBVbml0TnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJDb21wbGV4KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSByZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZSh5KSA6IHRoaXMocmVzLnZhbHVlLCB5KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bHRpcGx5KHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnbXVsdGlwbHknO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FkZFNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdlcXVhbFNjYWxhcicsICdkb3QnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTXVsdGlwbHkgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGRvdFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyhzaXplMSwgc2l6ZTIpIHtcbiAgICAvLyBjaGVjayBsZWZ0IG9wZXJhbmQgZGltZW5zaW9uc1xuICAgIHN3aXRjaCAoc2l6ZTEubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIGNoZWNrIHNpemUyXG4gICAgICAgIHN3aXRjaCAoc2l6ZTIubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgLy8gVmVjdG9yIHggVmVjdG9yXG4gICAgICAgICAgICBpZiAoc2l6ZTFbMF0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIFZlY3RvcnMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIC8vIFZlY3RvciB4IE1hdHJpeFxuICAgICAgICAgICAgaWYgKHNpemUxWzBdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBWZWN0b3IgbGVuZ3RoICgnICsgc2l6ZTFbMF0gKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCByb3dzICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEIgaGFzICcgKyBzaXplMi5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICAvLyBjaGVjayBzaXplMlxuICAgICAgICBzd2l0Y2ggKHNpemUyLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIE1hdHJpeCB4IFZlY3RvclxuICAgICAgICAgICAgaWYgKHNpemUxWzFdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBNYXRyaXggY29sdW1ucyAoJyArIHNpemUxWzFdICsgJykgbXVzdCBtYXRjaCBWZWN0b3IgbGVuZ3RoICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIC8vIE1hdHJpeCB4IE1hdHJpeFxuICAgICAgICAgICAgaWYgKHNpemUxWzFdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBNYXRyaXggQSBjb2x1bW5zICgnICsgc2l6ZTFbMV0gKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCIHJvd3MgKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQiBoYXMgJyArIHNpemUyLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEEgaGFzICcgKyBzaXplMS5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICBTY2FsYXIgdmFsdWVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JWZWN0b3IoYSwgYiwgbikge1xuICAgIC8vIGNoZWNrIGVtcHR5IHZlY3RvclxuICAgIGlmIChuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSB0d28gZW1wdHkgdmVjdG9ycycpO1xuICAgIH1cblxuICAgIHJldHVybiBkb3QoYSwgYik7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yTWF0cml4KGEsIGIpIHtcbiAgICAvLyBwcm9jZXNzIHN0b3JhZ2VcbiAgICBpZiAoYi5zdG9yYWdlKCkgIT09ICdkZW5zZScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwcG9ydCBmb3IgU3BhcnNlTWF0cml4IG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeChhLCBiKTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgTWF0cml4ICAgKE14TilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYWxlbmd0aCA9IGFzaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmNvbHVtbnM7IGorKykge1xuICAgICAgLy8gc3VtIChkbyBub3QgaW5pdGlhbGl6ZSBpdCB3aXRoIHplcm8pXG4gICAgICB2YXIgc3VtID0gbWYoYWRhdGFbMF0sIGJkYXRhWzBdW2pdKTsgLy8gbG9vcCB2ZWN0b3JcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgIHN1bSA9IGFmKHN1bSwgbWYoYWRhdGFbaV0sIGJkYXRhW2ldW2pdKSk7XG4gICAgICB9XG5cbiAgICAgIGNbal0gPSBzdW07XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqL1xuXG5cbiAgdmFyIF9tdWx0aXBseU1hdHJpeFZlY3RvciA9IHR5cGVkKCdfbXVsdGlwbHlNYXRyaXhWZWN0b3InLCB7XG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBfbXVsdGlwbHlEZW5zZU1hdHJpeFZlY3RvcixcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhWZWN0b3JcbiAgfSk7XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14QylcbiAgICovXG5cblxuICB2YXIgX211bHRpcGx5TWF0cml4TWF0cml4ID0gdHlwZWQoJ19tdWx0aXBseU1hdHJpeE1hdHJpeCcsIHtcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogX211bHRpcGx5RGVuc2VNYXRyaXhEZW5zZU1hdHJpeCxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9tdWx0aXBseURlbnNlTWF0cml4U3BhcnNlTWF0cml4LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogX211bHRpcGx5U3BhcnNlTWF0cml4RGVuc2VNYXRyaXgsXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX211bHRpcGx5U3BhcnNlTWF0cml4U3BhcnNlTWF0cml4XG4gIH0pO1xuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTSlcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeFZlY3RvcihhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGFjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggYSByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICB2YXIgcm93ID0gYWRhdGFbaV07IC8vIHN1bSAoZG8gbm90IGluaXRpYWxpemUgaXQgd2l0aCB6ZXJvKVxuXG4gICAgICB2YXIgc3VtID0gbWYocm93WzBdLCBiZGF0YVswXSk7IC8vIGxvb3AgbWF0cml4IGEgY29sdW1uc1xuXG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgIHN1bSA9IGFmKHN1bSwgbWYocm93W2pdLCBiZGF0YVtqXSkpO1xuICAgICAgfVxuXG4gICAgICBjW2ldID0gc3VtO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Fyb3dzXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeERlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBhY29sdW1ucyA9IGFzaXplWzFdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGEgcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgdmFyIHJvdyA9IGFkYXRhW2ldOyAvLyBpbml0aWFsaXplIHJvdyBhcnJheVxuXG4gICAgICBjW2ldID0gW107IC8vIGxvb3AgbWF0cml4IGIgY29sdW1uc1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gc3VtIChhdm9pZCBpbml0aWFsaXppbmcgc3VtIHRvIHplcm8pXG4gICAgICAgIHZhciBzdW0gPSBtZihyb3dbMF0sIGJkYXRhWzBdW2pdKTsgLy8gbG9vcCBtYXRyaXggYSBjb2x1bW5zXG5cbiAgICAgICAgZm9yICh2YXIgeCA9IDE7IHggPCBhY29sdW1uczsgeCsrKSB7XG4gICAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgICAgc3VtID0gYWYoc3VtLCBtZihyb3dbeF0sIGJkYXRhW3hdW2pdKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjW2ldW2pdID0gc3VtO1xuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIHNwYXJzZVxuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBiIG1hdHJpeFxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBEZW5zZSBNYXRyaXggdGltZXMgUGF0dGVybiBvbmx5IE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBiLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBpbmRlY2VzIGluIGNvbHVtbiBqYlxuXG4gICAgICB2YXIga2IwID0gYnB0cltqYl07XG4gICAgICB2YXIga2IxID0gYnB0cltqYiArIDFdOyAvLyBkbyBub3QgcHJvY2VzcyBjb2x1bW4gamIgaWYgbm8gZGF0YSBleGlzdHNcblxuICAgICAgaWYgKGtiMSA+IGtiMCkge1xuICAgICAgICAvLyBsYXN0IHJvdyBtYXJrIHByb2Nlc3NlZFxuICAgICAgICB2YXIgbGFzdCA9IDA7IC8vIGxvb3AgYSByb3dzXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgICAgICB2YXIgbWFyayA9IGkgKyAxOyAvLyBDW2ksIGpiXVxuXG4gICAgICAgICAgdmFyIGNpaiA9IHZvaWQgMDsgLy8gdmFsdWVzIGluIGIgY29sdW1uIGpcblxuICAgICAgICAgIGZvciAodmFyIGtiID0ga2IwOyBrYiA8IGtiMTsga2IrKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICB2YXIgaWIgPSBiaW5kZXhba2JdOyAvLyBjaGVjayB2YWx1ZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuXG4gICAgICAgICAgICBpZiAobGFzdCAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBmaXJzdCB2YWx1ZSBpbiBjb2x1bW4gamJcbiAgICAgICAgICAgICAgY2lqID0gbWYoYWRhdGFbaV1baWJdLCBidmFsdWVzW2tiXSk7IC8vIHVwZGF0ZSBtYXJrXG5cbiAgICAgICAgICAgICAgbGFzdCA9IG1hcms7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBhY2N1bXVsYXRlIHZhbHVlXG4gICAgICAgICAgICAgIGNpaiA9IGFmKGNpaiwgbWYoYWRhdGFbaV1baWJdLCBidmFsdWVzW2tiXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGhhcyBiZWVuIHByb2Nlc3NlZCBhbmQgdmFsdWUgIT0gMFxuXG5cbiAgICAgICAgICBpZiAobGFzdCA9PT0gbWFyayAmJiAhZXEoY2lqLCB6ZXJvKSkge1xuICAgICAgICAgICAgLy8gcHVzaCByb3cgJiB2YWx1ZVxuICAgICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICBjdmFsdWVzLnB1c2goY2lqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgKE0sIDEpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4VmVjdG9yKGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGEgbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IFBhdHRlcm4gb25seSBNYXRyaXggdGltZXMgRGVuc2UgTWF0cml4Jyk7XG4gICAgfSAvLyBiIGRlbnNlXG5cblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYnJvd3MgPSBiLl9zaXplWzBdOyAvLyByZXN1bHRcblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIHVwZGF0ZSBwdHJcblxuICAgIGNwdHJbMF0gPSAwOyAvLyByb3dzIGluIGJcblxuICAgIGZvciAodmFyIGliID0gMDsgaWIgPCBicm93czsgaWIrKykge1xuICAgICAgLy8gYltpYl1cbiAgICAgIHZhciB2YmkgPSBiZGF0YVtpYl07IC8vIGNoZWNrIGJbaWJdICE9IDAsIGF2b2lkIGxvb3BzXG5cbiAgICAgIGlmICghZXEodmJpLCB6ZXJvKSkge1xuICAgICAgICAvLyBBIHZhbHVlcyAmIGluZGV4IGluIGliIGNvbHVtblxuICAgICAgICBmb3IgKHZhciBrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAvLyBhIHJvd1xuICAgICAgICAgIHZhciBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgIGlmICghd1tpYV0pIHtcbiAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICB3W2lhXSA9IHRydWU7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICB4W2lhXSA9IG1mKHZiaSwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKHZiaSwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuXG5cbiAgICBmb3IgKHZhciBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSAwOyBwIDwgcDE7IHArKykge1xuICAgICAgLy8gcm93XG4gICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyWzFdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCAxXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlTWF0cml4ICAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBhIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBQYXR0ZXJuIG9ubHkgTWF0cml4IHRpbWVzIERlbnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gYiBkZW5zZVxuXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJyb3dzID0gYi5fc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBiLl9zaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHggPSBbXTsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIG1hcmsgaW4gd29ya3NwYWNlIGZvciBjdXJyZW50IGNvbHVtblxuXG4gICAgICB2YXIgbWFyayA9IGpiICsgMTsgLy8gcm93cyBpbiBqYlxuXG4gICAgICBmb3IgKHZhciBpYiA9IDA7IGliIDwgYnJvd3M7IGliKyspIHtcbiAgICAgICAgLy8gYltpYiwgamJdXG4gICAgICAgIHZhciB2YmlqID0gYmRhdGFbaWJdW2piXTsgLy8gY2hlY2sgYltpYiwgamJdICE9IDAsIGF2b2lkIGxvb3BzXG5cbiAgICAgICAgaWYgKCFlcSh2YmlqLCB6ZXJvKSkge1xuICAgICAgICAgIC8vIEEgdmFsdWVzICYgaW5kZXggaW4gaWIgY29sdW1uXG4gICAgICAgICAgZm9yICh2YXIga2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyBhIHJvd1xuICAgICAgICAgICAgdmFyIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICAgIHhbaWFdID0gbWYodmJpaiwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKHZiaWosIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuXG5cbiAgICAgIGZvciAodmFyIHAwID0gY3B0cltqYl0sIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IHAwOyBwIDwgcDE7IHArKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgc3BhcnNlXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBiLl9zaXplWzFdOyAvLyBmbGFnIGluZGljYXRpbmcgYm90aCBtYXRyaWNlcyAoYSAmIGIpIGNvbnRhaW4gZGF0YVxuXG4gICAgdmFyIHZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlczsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IHZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeCA9IHZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIHZhcmlhYmxlc1xuXG4gICAgdmFyIGthLCBrYTAsIGthMSwga2IsIGtiMCwga2IxLCBpYSwgaWI7IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gbWFyayBpbiB3b3Jrc3BhY2UgZm9yIGN1cnJlbnQgY29sdW1uXG5cbiAgICAgIHZhciBtYXJrID0gamIgKyAxOyAvLyBCIHZhbHVlcyAmIGluZGV4IGluIGpcblxuICAgICAgZm9yIChrYjAgPSBicHRyW2piXSwga2IxID0gYnB0cltqYiArIDFdLCBrYiA9IGtiMDsga2IgPCBrYjE7IGtiKyspIHtcbiAgICAgICAgLy8gYiByb3dcbiAgICAgICAgaWIgPSBiaW5kZXhba2JdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIC8vIGxvb3AgdmFsdWVzIGluIGFbOixpYl1cbiAgICAgICAgICBmb3IgKGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgICB4W2lhXSA9IG1mKGJ2YWx1ZXNba2JdLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYoYnZhbHVlc1trYl0sIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxvb3AgdmFsdWVzIGluIGFbOixpYl1cbiAgICAgICAgICBmb3IgKGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgbWF0cml4IHZhbHVlcyAocGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcbiAgICAgICAgZm9yICh2YXIgcDAgPSBjcHRyW2piXSwgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gcDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IHR3byBvciBtb3JlIHZhbHVlcywgYHggKiB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgbWF0cml4IHByb2R1Y3QgaXMgY2FsY3VsYXRlZC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm11bHRpcGx5KHgsIHkpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoeCwgeSwgeiwgLi4uKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5tdWx0aXBseSg0LCA1LjIpICAgICAgICAvLyByZXR1cm5zIG51bWJlciAyMC44XG4gICAqICAgIG1hdGgubXVsdGlwbHkoMiwgMywgNCkgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMjRcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoYSwgYikgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDUgKyAxNGlcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgY29uc3QgZCA9IFtbMSwgMiwgM10sIFszLCAtNCwgN11dXG4gICAqICAgIG1hdGgubXVsdGlwbHkoYywgZCkgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWzcsIC02LCAxN10sIFsxMywgLTQsIDMzXV1cbiAgICpcbiAgICogICAgY29uc3QgZSA9IG1hdGgudW5pdCgnMi4xIGttJylcbiAgICogICAgbWF0aC5tdWx0aXBseSgzLCBlKSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNi4zIGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaXZpZGUsIHByb2QsIGNyb3NzLCBkb3RcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBNdWx0aXBsaWNhdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuXG4gIHJldHVybiB0eXBlZChuYW1lLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBtdWx0aXBseVNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgZGltZW5zaW9uc1xuICAgICAgX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyhhcnJheVNpemUoeCksIGFycmF5U2l6ZSh5KSk7IC8vIHVzZSBkZW5zZSBtYXRyaXggaW1wbGVtZW50YXRpb25cblxuXG4gICAgICB2YXIgbSA9IHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpOyAvLyByZXR1cm4gYXJyYXkgb3Igc2NhbGFyXG5cbiAgICAgIHJldHVybiBpc01hdHJpeChtKSA/IG0udmFsdWVPZigpIDogbTtcbiAgICB9LFxuICAgICdNYXRyaXgsIE1hdHJpeCc6IGZ1bmN0aW9uIE1hdHJpeE1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBkaW1lbnNpb25zXG4gICAgICB2YXIgeHNpemUgPSB4LnNpemUoKTtcbiAgICAgIHZhciB5c2l6ZSA9IHkuc2l6ZSgpOyAvLyBjaGVjayBkaW1lbnNpb25zXG5cbiAgICAgIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoeHNpemUsIHlzaXplKTsgLy8gcHJvY2VzcyBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHhzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBwcm9jZXNzIHkgZGltZW5zaW9uc1xuICAgICAgICBpZiAoeXNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gVmVjdG9yICogVmVjdG9yXG4gICAgICAgICAgcmV0dXJuIF9tdWx0aXBseVZlY3RvclZlY3Rvcih4LCB5LCB4c2l6ZVswXSk7XG4gICAgICAgIH0gLy8gVmVjdG9yICogTWF0cml4XG5cblxuICAgICAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yTWF0cml4KHgsIHkpO1xuICAgICAgfSAvLyBwcm9jZXNzIHkgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmICh5c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gTWF0cml4ICogVmVjdG9yXG4gICAgICAgIHJldHVybiBfbXVsdGlwbHlNYXRyaXhWZWN0b3IoeCwgeSk7XG4gICAgICB9IC8vIE1hdHJpeCAqIE1hdHJpeFxuXG5cbiAgICAgIHJldHVybiBfbXVsdGlwbHlNYXRyaXhNYXRyaXgoeCwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBNYXRyaXggKiBNYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBNYXRyaXggKiBNYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4LCB5LnN0b3JhZ2UoKSksIHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIGFueSc6IG11bHRpcGx5U2NhbGFyLFxuICAgICdhbnksIGFueSwgLi4uYW55JzogZnVuY3Rpb24gYW55QW55QW55KHgsIHksIHJlc3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzKHgsIHkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcyhyZXN1bHQsIHJlc3RbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwgbXVsdGlwbHlTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDUgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdzdWJ0cmFjdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnYWRkU2NhbGFyJywgJ3VuYXJ5TWludXMnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3VidHJhY3QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgYWRkU2NhbGFyLFxuICAgIHVuYXJ5TWludXMsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIC8vIFRPRE86IHNwbGl0IGZ1bmN0aW9uIHN1YnRyYWN0IGluIHR3bzogc3VidHJhY3QgYW5kIHN1YnRyYWN0U2NhbGFyXG4gIHZhciBhbGdvcml0aG0wMSA9IGNyZWF0ZUFsZ29yaXRobTAxKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDUgPSBjcmVhdGVBbGdvcml0aG0wNSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMCA9IGNyZWF0ZUFsZ29yaXRobTEwKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBTdWJ0cmFjdCB0d28gdmFsdWVzLCBgeCAtIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoNS4zLCAyKSAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4zXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLnN1YnRyYWN0KGEsIGIpICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtMiArIDJpXG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoWzUsIDcsIDRdLCA0KSAgLy8gcmV0dXJucyBBcnJheSBbMSwgMywgMF1cbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGgudW5pdCgnMi4xIGttJylcbiAgICogICAgY29uc3QgZCA9IG1hdGgudW5pdCgnNTAwbScpXG4gICAqICAgIG1hdGguc3VidHJhY3QoYywgZCkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDEuNiBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYWRkXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geFxuICAgKiAgICAgICAgICAgIEluaXRpYWwgdmFsdWVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5XG4gICAqICAgICAgICAgICAgVmFsdWUgdG8gc3VidHJhY3QgZnJvbSBgeGBcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fVxuICAgKiAgICAgICAgICAgIFN1YnRyYWN0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IC0geTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguc3ViKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguc3ViKHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoeC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB4IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoeS52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB5IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSwgeS52YWx1ZSk7XG4gICAgICByZXMuZml4UHJlZml4ID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA1KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh4LCB1bmFyeU1pbnVzKHkpLCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgbWF0cml4IHggYW5kIHkgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgZGltZW5zaW9ucy5cbiAqIFRocm93cyBhIERpbWVuc2lvbkVycm9yIHdoZW4gZGltZW5zaW9ucyBhcmUgbm90IGVxdWFsXG4gKiBAcGFyYW0ge01hdHJpeH0geFxuICogQHBhcmFtIHtNYXRyaXh9IHlcbiAqL1xuXG5mdW5jdGlvbiBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KSB7XG4gIHZhciB4c2l6ZSA9IHguc2l6ZSgpO1xuICB2YXIgeXNpemUgPSB5LnNpemUoKTtcblxuICBpZiAoeHNpemUubGVuZ3RoICE9PSB5c2l6ZS5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoeHNpemUubGVuZ3RoLCB5c2l6ZS5sZW5ndGgpO1xuICB9XG59IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBpdGVtcyAoemVybyBhbmQgbm9uemVybykgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGopID0gZihBaWosIEJpailcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA3KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgaSwgajsgLy8gcmVzdWx0IGFycmF5c1xuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgY1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZXNcblxuXG4gICAgdmFyIHhhID0gW107XG4gICAgdmFyIHhiID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHNjYXR0ZXIgdGhlIHZhbHVlcyBvZiBBKDosaikgaW50byB3b3Jrc3BhY2VcblxuICAgICAgX3NjYXR0ZXIoYSwgaiwgd2EsIHhhLCBtYXJrKTsgLy8gc2NhdHRlciB0aGUgdmFsdWVzIG9mIEIoOixqKSBpbnRvIHdvcmtzcGFjZVxuXG5cbiAgICAgIF9zY2F0dGVyKGIsIGosIHdiLCB4YiwgbWFyayk7IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gbWF0cml4IHZhbHVlcyBAIGksalxuICAgICAgICB2YXIgdmEgPSB3YVtpXSA9PT0gbWFyayA/IHhhW2ldIDogemVybztcbiAgICAgICAgdmFyIHZiID0gd2JbaV0gPT09IG1hcmsgPyB4YltpXSA6IHplcm87IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgICAgIGNkYXRhW2ldW2pdID0gY2YodmEsIHZiKTtcbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9zY2F0dGVyKG0sIGosIHcsIHgsIG1hcmspIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXM7XG4gICAgdmFyIGluZGV4ID0gbS5faW5kZXg7XG4gICAgdmFyIHB0ciA9IG0uX3B0cjsgLy8gbG9vcCB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgIGZvciAodmFyIGsgPSBwdHJbal0sIGsxID0gcHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgdmFyIGkgPSBpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICB3W2ldID0gbWFyaztcbiAgICAgIHhbaV0gPSB2YWx1ZXNba107XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdjb25qJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbmogPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgY29tcGxleCBjb25qdWdhdGUgb2YgYSBjb21wbGV4IHZhbHVlLlxuICAgKiBJZiBgeCA9IGErYmlgLCB0aGUgY29tcGxleCBjb25qdWdhdGUgb2YgYHhgIGlzIGBhIC0gYmlgLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguY29uaih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnMiArIDNpJykpICAvLyByZXR1cm5zIENvbXBsZXggMiAtIDNpXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJzIgLSAzaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDIgKyAzaVxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCctNS4yaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDUuMmlcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHJlLCBpbSwgYXJnLCBhYnNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHhcbiAgICogICAgICAgICAgICBBIGNvbXBsZXggbnVtYmVyIG9yIGFycmF5IHdpdGggY29tcGxleCBudW1iZXJzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH1cbiAgICogICAgICAgICAgICBUaGUgY29tcGxleCBjb25qdWdhdGUgb2YgeFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5jb25qdWdhdGUoKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvLyAoYykgMjAxOCwgTWFyaXVzeiBOb3dha1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IElTQ1xuLy8gRGVyaXZlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2xydS1xdWV1ZVxuZXhwb3J0IGZ1bmN0aW9uIGxydVF1ZXVlKGxpbWl0KSB7XG4gIHZhciBzaXplID0gMDtcbiAgdmFyIGJhc2UgPSAxO1xuICB2YXIgcXVldWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGluZGV4ID0gMDtcblxuICB2YXIgZGVsID0gZnVuY3Rpb24gZGVsKGlkKSB7XG4gICAgdmFyIG9sZEluZGV4ID0gbWFwW2lkXTtcbiAgICBpZiAoIW9sZEluZGV4KSByZXR1cm47XG4gICAgZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcbiAgICBkZWxldGUgbWFwW2lkXTtcbiAgICAtLXNpemU7XG4gICAgaWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm47XG5cbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIGluZGV4ID0gMDtcbiAgICAgIGJhc2UgPSAxO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdoaWxlICghaGFzT3duUHJvcGVydHkuY2FsbChxdWV1ZSwgKytiYXNlKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9O1xuXG4gIGxpbWl0ID0gTWF0aC5hYnMobGltaXQpO1xuICByZXR1cm4ge1xuICAgIGhpdDogZnVuY3Rpb24gaGl0KGlkKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuICAgICAgdmFyIG51SW5kZXggPSArK2luZGV4O1xuICAgICAgcXVldWVbbnVJbmRleF0gPSBpZDtcbiAgICAgIG1hcFtpZF0gPSBudUluZGV4O1xuXG4gICAgICBpZiAoIW9sZEluZGV4KSB7XG4gICAgICAgICsrc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPD0gbGltaXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlkID0gcXVldWVbYmFzZV07XG4gICAgICAgIGRlbChpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcbiAgICAgIGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZGVsZXRlOiBkZWwsXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgc2l6ZSA9IGluZGV4ID0gMDtcbiAgICAgIGJhc2UgPSAxO1xuICAgICAgcXVldWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gIH07XG59XG47IiwiLy8gZnVuY3Rpb24gdXRpbHNcbmltcG9ydCB7IGxydVF1ZXVlIH0gZnJvbSAnLi9scnVRdWV1ZS5qcyc7XG4vKipcbiAqIE1lbW9pemUgYSBnaXZlbiBmdW5jdGlvbiBieSBjYWNoaW5nIHRoZSBjb21wdXRlZCByZXN1bHQuXG4gKiBUaGUgY2FjaGUgb2YgYSBtZW1vaXplZCBmdW5jdGlvbiBjYW4gYmUgY2xlYXJlZCBieSBkZWxldGluZyB0aGUgYGNhY2hlYFxuICogcHJvcGVydHkgb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuICAgICAgICAgICAgICAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIGJlIG1lbW9pemVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNdXN0IGJlIGEgcHVyZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYXJnczogQXJyYXkpOiBzdHJpbmd9IFtvcHRpb25zLmhhc2hlcl1cbiAqICAgIEEgY3VzdG9tIGhhc2ggYnVpbGRlci4gSXMgSlNPTi5zdHJpbmdpZnkgYnkgZGVmYXVsdC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBbb3B0aW9ucy5saW1pdF1cbiAqICAgIE1heGltdW0gbnVtYmVyIG9mIHZhbHVlcyB0aGF0IG1heSBiZSBjYWNoZWQuIFVuZGVmaW5lZCBpbmRpY2F0ZXNcbiAqICAgIHVubGltaXRlZCAoZGVmYXVsdClcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIge1xuICAgIGhhc2hlcixcbiAgICBsaW1pdFxuICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgbGltaXQgPSBsaW1pdCA9PSBudWxsID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogbGltaXQ7XG4gIGhhc2hlciA9IGhhc2hlciA9PSBudWxsID8gSlNPTi5zdHJpbmdpZnkgOiBoYXNoZXI7XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtb2l6ZS5jYWNoZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG1lbW9pemUuY2FjaGUgPSB7XG4gICAgICAgIHZhbHVlczogbmV3IE1hcCgpLFxuICAgICAgICBscnU6IGxydVF1ZXVlKGxpbWl0IHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIHZhciBoYXNoID0gaGFzaGVyKGFyZ3MpO1xuXG4gICAgaWYgKG1lbW9pemUuY2FjaGUudmFsdWVzLmhhcyhoYXNoKSkge1xuICAgICAgbWVtb2l6ZS5jYWNoZS5scnUuaGl0KGhhc2gpO1xuICAgICAgcmV0dXJuIG1lbW9pemUuY2FjaGUudmFsdWVzLmdldChoYXNoKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgIG1lbW9pemUuY2FjaGUudmFsdWVzLnNldChoYXNoLCBuZXdWYWwpO1xuICAgIG1lbW9pemUuY2FjaGUudmFsdWVzLmRlbGV0ZShtZW1vaXplLmNhY2hlLmxydS5oaXQoaGFzaCkpO1xuICAgIHJldHVybiBuZXdWYWw7XG4gIH07XG59XG4vKipcbiAqIE1lbW9pemUgYSBnaXZlbiBmdW5jdGlvbiBieSBjYWNoaW5nIGFsbCByZXN1bHRzIGFuZCB0aGUgYXJndW1lbnRzLFxuICogYW5kIGNvbXBhcmluZyBhZ2FpbnN0IHRoZSBhcmd1bWVudHMgb2YgcHJldmlvdXMgcmVzdWx0cyBiZWZvcmVcbiAqIGV4ZWN1dGluZyBhZ2Fpbi5cbiAqIFRoaXMgaXMgbGVzcyBwZXJmb3JtYW50IHRoYW4gYG1lbW9pemVgIHdoaWNoIGNhbGN1bGF0ZXMgYSBoYXNoLFxuICogd2hpY2ggaXMgdmVyeSBmYXN0IHRvIGNvbXBhcmUuIFVzZSBgbWVtb2l6ZUNvbXBhcmVgIG9ubHkgd2hlbiBpdCBpc1xuICogbm90IHBvc3NpYmxlIHRvIGNyZWF0ZSBhIHVuaXF1ZSBzZXJpYWxpemFibGUgaGFzaCBmcm9tIHRoZSBmdW5jdGlvblxuICogYXJndW1lbnRzLlxuICogVGhlIGlzRXF1YWwgZnVuY3Rpb24gbXVzdCBjb21wYXJlIHR3byBzZXRzIG9mIGFyZ3VtZW50c1xuICogYW5kIHJldHVybiB0cnVlIHdoZW4gZXF1YWwgKGNhbiBiZSBhIGRlZXAgZXF1YWxpdHkgY2hlY2sgZm9yIGV4YW1wbGUpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYTogKiwgYjogKikgOiBib29sZWFufSBpc0VxdWFsXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVDb21wYXJlKGZuLCBpc0VxdWFsKSB7XG4gIHZhciBtZW1vaXplID0gZnVuY3Rpb24gbWVtb2l6ZSgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCBtZW1vaXplLmNhY2hlLmxlbmd0aDsgYysrKSB7XG4gICAgICB2YXIgY2FjaGVkID0gbWVtb2l6ZS5jYWNoZVtjXTtcblxuICAgICAgaWYgKGlzRXF1YWwoYXJncywgY2FjaGVkLmFyZ3MpKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyBjYWNoZSBlbnRyeSB0byB0aGUgdG9wIHNvIHJlY2VudGx5IHVzZWQgZW50cmllcyBtb3ZlIHVwP1xuICAgICAgICByZXR1cm4gY2FjaGVkLnJlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgIG1lbW9pemUuY2FjaGUudW5zaGlmdCh7XG4gICAgICBhcmdzLFxuICAgICAgcmVzXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBtZW1vaXplLmNhY2hlID0gW107XG4gIHJldHVybiBtZW1vaXplO1xufVxuLyoqXG4gKiBGaW5kIHRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudHMgZXhwZWN0ZWQgYnkgYSB0eXBlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuICAgQSB0eXBlZCBmdW5jdGlvblxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtYXhpbXVtIG51bWJlciBvZiBleHBlY3RlZCBhcmd1bWVudHMuXG4gKiAgICAgICAgICAgICAgICAgIFJldHVybnMgLTEgd2hlbiBubyBzaWduYXR1cmVzIHdoZXJlIGZvdW5kIG9uIHRoZSBmdW5jdGlvbi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4QXJndW1lbnRDb3VudChmbikge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZm4uc2lnbmF0dXJlcyB8fCB7fSkucmVkdWNlKGZ1bmN0aW9uIChhcmdzLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgY291bnQgPSAoc2lnbmF0dXJlLm1hdGNoKC8sL2cpIHx8IFtdKS5sZW5ndGggKyAxO1xuICAgIHJldHVybiBNYXRoLm1heChhcmdzLCBjb3VudCk7XG4gIH0sIC0xKTtcbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdpZGVudGl0eSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0JpZ051bWJlcicsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSWRlbnRpdHkgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIEJpZ051bWJlcixcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIDItZGltZW5zaW9uYWwgaWRlbnRpdHkgbWF0cml4IHdpdGggc2l6ZSBtIHggbiBvciBuIHggbi5cbiAgICogVGhlIG1hdHJpeCBoYXMgb25lcyBvbiB0aGUgZGlhZ29uYWwgYW5kIHplcm9zIGVsc2V3aGVyZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmlkZW50aXR5KG4pXG4gICAqICAgIG1hdGguaWRlbnRpdHkobiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG0sIG4pXG4gICAqICAgIG1hdGguaWRlbnRpdHkobSwgbiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLmlkZW50aXR5KFttLCBuXSlcbiAgICogICAgbWF0aC5pZGVudGl0eShbbSwgbl0sIGZvcm1hdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguaWRlbnRpdHkoMykgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwLCAwXSwgWzAsIDEsIDBdLCBbMCwgMCwgMV1dXG4gICAqICAgIG1hdGguaWRlbnRpdHkoMywgMikgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwXSwgWzAsIDFdLCBbMCwgMF1dXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgIG1hdGguaWRlbnRpdHkobWF0aC5zaXplKEEpKSAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwLCAwXSwgWzAsIDEsIDBdXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGlhZywgb25lcywgemVyb3MsIHNpemUsIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7Li4ubnVtYmVyIHwgTWF0cml4IHwgQXJyYXl9IHNpemUgICBUaGUgc2l6ZSBmb3IgdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXggfCBBcnJheSB8IG51bWJlcn0gQSBtYXRyaXggd2l0aCBvbmVzIG9uIHRoZSBkaWFnb25hbC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyBtYXRyaXgoW10pIDogW107XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhmb3JtYXQpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoZm9ybWF0KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXIocm93cykge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCByb3dzLCBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/ICdkZW5zZScgOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyU3RyaW5nKHJvd3MsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCByb3dzLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyKHJvd3MsIGNvbHMpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgY29scywgY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyAnZGVuc2UnIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyU3RyaW5nKHJvd3MsIGNvbHMsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCBjb2xzLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KHNpemUpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIHN0cmluZyc6IGZ1bmN0aW9uIEFycmF5U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoc2l6ZSkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLnZhbHVlT2YoKSwgc2l6ZS5zdG9yYWdlKCkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgc3RyaW5nJzogZnVuY3Rpb24gTWF0cml4U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9pZGVudGl0eVZlY3RvcihzaXplLCBmb3JtYXQpIHtcbiAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBmb3JtYXQgPyBtYXRyaXgoZm9ybWF0KSA6IFtdO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfaWRlbnRpdHkoc2l6ZVswXSwgc2l6ZVswXSwgZm9ybWF0KTtcblxuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gX2lkZW50aXR5KHNpemVbMF0sIHNpemVbMV0sIGZvcm1hdCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmVjdG9yIGNvbnRhaW5pbmcgdHdvIHZhbHVlcyBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGlkZW50aXR5IG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gcm93c1xuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gY29sc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF1cbiAgICogQHJldHVybnMge01hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfaWRlbnRpdHkocm93cywgY29scywgZm9ybWF0KSB7XG4gICAgLy8gQmlnTnVtYmVyIGNvbnN0cnVjdG9yIHdpdGggdGhlIHJpZ2h0IHByZWNpc2lvblxuICAgIHZhciBCaWcgPSBpc0JpZ051bWJlcihyb3dzKSB8fCBpc0JpZ051bWJlcihjb2xzKSA/IEJpZ051bWJlciA6IG51bGw7XG4gICAgaWYgKGlzQmlnTnVtYmVyKHJvd3MpKSByb3dzID0gcm93cy50b051bWJlcigpO1xuICAgIGlmIChpc0JpZ051bWJlcihjb2xzKSkgY29scyA9IGNvbHMudG9OdW1iZXIoKTtcblxuICAgIGlmICghaXNJbnRlZ2VyKHJvd3MpIHx8IHJvd3MgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gaWRlbnRpdHkgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH1cblxuICAgIGlmICghaXNJbnRlZ2VyKGNvbHMpIHx8IGNvbHMgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gaWRlbnRpdHkgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH1cblxuICAgIHZhciBvbmUgPSBCaWcgPyBuZXcgQmlnTnVtYmVyKDEpIDogMTtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gQmlnID8gbmV3IEJpZygwKSA6IDA7XG4gICAgdmFyIHNpemUgPSBbcm93cywgY29sc107IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmV0dXJuIGEgbWF0cml4XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAvLyBjcmVhdGUgZGlhZ29uYWwgbWF0cml4ICh1c2Ugb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGZvciBzdG9yYWdlIGZvcm1hdClcbiAgICAgIGlmIChmb3JtYXQgPT09ICdzcGFyc2UnKSB7XG4gICAgICAgIHJldHVybiBTcGFyc2VNYXRyaXguZGlhZ29uYWwoc2l6ZSwgb25lLCAwLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9ybWF0ID09PSAnZGVuc2UnKSB7XG4gICAgICAgIHJldHVybiBEZW5zZU1hdHJpeC5kaWFnb25hbChzaXplLCBvbmUsIDAsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIG1hdHJpeCB0eXBlIFxcXCJcIi5jb25jYXQoZm9ybWF0LCBcIlxcXCJcIikpO1xuICAgIH0gLy8gY3JlYXRlIGFuZCByZXNpemUgYXJyYXlcblxuXG4gICAgdmFyIHJlcyA9IHJlc2l6ZShbXSwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gZmlsbCBpbiBvbmVzIG9uIHRoZSBkaWFnb25hbFxuXG4gICAgdmFyIG1pbmltdW0gPSByb3dzIDwgY29scyA/IHJvd3MgOiBjb2xzOyAvLyBmaWxsIGRpYWdvbmFsXG5cbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG1pbmltdW07IGQrKykge1xuICAgICAgcmVzW2RdW2RdID0gb25lO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cbn0pOyIsImV4cG9ydCBmdW5jdGlvbiBub0JpZ251bWJlcigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImJpZ251bWJlclwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vRnJhY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJmcmFjdGlvblwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vTWF0cml4KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwibWF0cml4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9JbmRleCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImluZGV4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9TdWJzZXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJtYXRyaXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHN5bnRheCBlcnJvciB3aXRoIHRoZSBtZXNzYWdlOlxuICogICAgICdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uIDxmbj4gKDxjb3VudD4gcHJvdmlkZWQsIDxtaW4+LTxtYXg+IGV4cGVjdGVkKSdcbiAqIEBwYXJhbSB7c3RyaW5nfSBmbiAgICAgRnVuY3Rpb24gbmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50ICBBY3R1YWwgYXJndW1lbnQgY291bnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gICAgTWluaW11bSByZXF1aXJlZCBhcmd1bWVudCBjb3VudFxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhdICBNYXhpbXVtIHJlcXVpcmVkIGFyZ3VtZW50IGNvdW50XG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gQXJndW1lbnRzRXJyb3IoZm4sIGNvdW50LCBtaW4sIG1heCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJndW1lbnRzRXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xuICB0aGlzLm1pbiA9IG1pbjtcbiAgdGhpcy5tYXggPSBtYXg7XG4gIHRoaXMubWVzc2FnZSA9ICdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBmbiArICcgKCcgKyBjb3VudCArICcgcHJvdmlkZWQsICcgKyBtaW4gKyAobWF4ICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSBudWxsID8gJy0nICsgbWF4IDogJycpICsgJyBleHBlY3RlZCknO1xuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVycm9yO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnQXJndW1lbnRzRXJyb3InO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLmlzQXJndW1lbnRzRXJyb3IgPSB0cnVlOyIsImltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG5vTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5qcyc7XG52YXIgbmFtZSA9ICdzaXplJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICc/bWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNpemUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgYSBtYXRyaXggb3Igc2NhbGFyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnNpemUoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLnNpemUoMi4zKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW11cbiAgICogICAgIG1hdGguc2l6ZSgnaGVsbG8gd29ybGQnKSAgICAgICAgLy8gcmV0dXJucyBbMTFdXG4gICAqXG4gICAqICAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICAgbWF0aC5zaXplKEEpICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFsyLCAzXVxuICAgKiAgICAgbWF0aC5zaXplKG1hdGgucmFuZ2UoMSw2KSkgICAgICAvLyByZXR1cm5zIFs1XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHJlc2l6ZSwgc3F1ZWV6ZSwgc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bWJlciB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggIEEgbWF0cml4XG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSBBIHZlY3RvciB3aXRoIHNpemUgb2YgYHhgLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4geC5jcmVhdGUoeC5zaXplKCkpO1xuICAgIH0sXG4gICAgQXJyYXk6IGFycmF5U2l6ZSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IFt4Lmxlbmd0aF0gOiBtYXRyaXgoW3gubGVuZ3RoXSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciB8IFVuaXQgfCBib29sZWFuIHwgbnVsbCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJVbml0Qm9vbGVhbk51bGwoeCkge1xuICAgICAgLy8gc2NhbGFyXG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IFtdIDogbWF0cml4ID8gbWF0cml4KFtdKSA6IG5vTWF0cml4KCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuLyoqXG4gKiBHZXQgYSBwcm9wZXJ0eSBvZiBhIHBsYWluIG9iamVjdFxuICogVGhyb3dzIGFuIGVycm9yIGluIGNhc2UgdGhlIG9iamVjdCBpcyBub3QgYSBwbGFpbiBvYmplY3Qgb3IgdGhlXG4gKiBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZCBvbiB0aGUgb2JqZWN0IGl0c2VsZlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIHdoZW4gc2FmZVxuICovXG5cbmZ1bmN0aW9uIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApIHtcbiAgLy8gb25seSBhbGxvdyBnZXR0aW5nIHNhZmUgcHJvcGVydGllcyBvZiBhIHBsYWluIG9iamVjdFxuICBpZiAoaXNQbGFpbk9iamVjdChvYmplY3QpICYmIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkpIHtcbiAgICByZXR1cm4gb2JqZWN0W3Byb3BdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmplY3RbcHJvcF0gPT09ICdmdW5jdGlvbicgJiYgaXNTYWZlTWV0aG9kKG9iamVjdCwgcHJvcCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhY2Nlc3MgbWV0aG9kIFwiJyArIHByb3AgKyAnXCIgYXMgYSBwcm9wZXJ0eScpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcHJvcCArICdcIicpO1xufVxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSBvbiBhIHBsYWluIG9iamVjdC5cbiAqIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBvYmplY3QgaXMgbm90IGEgcGxhaW4gb2JqZWN0IG9yIHRoZVxuICogcHJvcGVydHkgd291bGQgb3ZlcnJpZGUgYW4gaW5oZXJpdGVkIHByb3BlcnR5IGxpa2UgLmNvbnN0cnVjdG9yIG9yIC50b1N0cmluZ1xuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHZhbHVlXG4gKi9cbi8vIFRPRE86IG1lcmdlIHRoaXMgZnVuY3Rpb24gaW50byBhY2Nlc3MuanM/XG5cblxuZnVuY3Rpb24gc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCwgdmFsdWUpIHtcbiAgLy8gb25seSBhbGxvdyBzZXR0aW5nIHNhZmUgcHJvcGVydGllcyBvZiBhIHBsYWluIG9iamVjdFxuICBpZiAoaXNQbGFpbk9iamVjdChvYmplY3QpICYmIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkpIHtcbiAgICBvYmplY3RbcHJvcF0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwcm9wICsgJ1wiJyk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHByb3BlcnR5IGlzIHNhZmUgdG8gdXNlIGZvciBhbiBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSAudG9TdHJpbmcgYW5kIC5jb25zdHJ1Y3RvciBhcmUgbm90IHNhZmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBzYWZlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApIHtcbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gU0FGRTogd2hpdGVsaXN0ZWRcbiAgLy8gZS5nIGxlbmd0aFxuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KHNhZmVOYXRpdmVQcm9wZXJ0aWVzLCBwcm9wKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gT2JqZWN0IHByb3RvdHlwZVxuICAvLyBlLmcgY29uc3RydWN0b3JcblxuXG4gIGlmIChwcm9wIGluIE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBPYmplY3QucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBGdW5jdGlvbiBwcm90b3R5cGVcbiAgLy8gZS5nIGNhbGwsIGFwcGx5XG5cblxuICBpZiAocHJvcCBpbiBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBGdW5jdGlvbi5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSB3aGV0aGVyIGEgbWV0aG9kIGlzIHNhZmUuXG4gKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGF0J3Mgbm90IHRoZSBjYXNlLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICovXG4vLyBUT0RPOiBtZXJnZSB0aGlzIGZ1bmN0aW9uIGludG8gYXNzaWduLmpzP1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkge1xuICBpZiAoIWlzU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBtZXRob2QgXCInICsgbWV0aG9kICsgJ1wiJyk7XG4gIH1cbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIG1ldGhvZCBpcyBzYWZlLlxuICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhhdCdzIG5vdCB0aGUgY2FzZSAoZm9yIGV4YW1wbGUgZm9yIGBjb25zdHJ1Y3RvcmApLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gc2FmZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1NhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb2JqZWN0W21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBnaG9zdGVkXG4gIC8vIGUuZyBvdmVycmlkZGVuIHRvU3RyaW5nXG4gIC8vIE5vdGUgdGhhdCBJRTEwIGRvZXNuJ3Qgc3VwcG9ydCBfX3Byb3RvX18gYW5kIHdlIGNhbid0IGRvIHRoaXMgY2hlY2sgdGhlcmUuXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkob2JqZWN0LCBtZXRob2QpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBtZXRob2QgaW4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gU0FGRTogd2hpdGVsaXN0ZWRcbiAgLy8gZS5nIHRvU3RyaW5nXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkoc2FmZU5hdGl2ZU1ldGhvZHMsIG1ldGhvZCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIE9iamVjdCBwcm90b3R5cGVcbiAgLy8gZS5nIGNvbnN0cnVjdG9yXG5cblxuICBpZiAobWV0aG9kIGluIE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBPYmplY3QucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBGdW5jdGlvbiBwcm90b3R5cGVcbiAgLy8gZS5nIGNhbGwsIGFwcGx5XG5cblxuICBpZiAobWV0aG9kIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIEZ1bmN0aW9uLnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG5cbnZhciBzYWZlTmF0aXZlUHJvcGVydGllcyA9IHtcbiAgbGVuZ3RoOiB0cnVlLFxuICBuYW1lOiB0cnVlXG59O1xudmFyIHNhZmVOYXRpdmVNZXRob2RzID0ge1xuICB0b1N0cmluZzogdHJ1ZSxcbiAgdmFsdWVPZjogdHJ1ZSxcbiAgdG9Mb2NhbGVTdHJpbmc6IHRydWVcbn07XG5leHBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgaXNTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IHZhbGlkYXRlU2FmZU1ldGhvZCB9O1xuZXhwb3J0IHsgaXNTYWZlTWV0aG9kIH07XG5leHBvcnQgeyBpc1BsYWluT2JqZWN0IH07IiwiaW1wb3J0IHsgaXNJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdzdWJzZXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVN1YnNldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogR2V0IG9yIHNldCBhIHN1YnNldCBvZiBhIG1hdHJpeCBvciBzdHJpbmcuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICogICAgIG1hdGguc3Vic2V0KHZhbHVlLCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIGEgc3Vic2V0XG4gICAqICAgICBtYXRoLnN1YnNldCh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50IFssIGRlZmF1bHRWYWx1ZV0pICAvLyByZXBsYWNlIGEgc3Vic2V0XG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgLy8gZ2V0IGEgc3Vic2V0XG4gICAqICAgICBjb25zdCBkID0gW1sxLCAyXSwgWzMsIDRdXVxuICAgKiAgICAgbWF0aC5zdWJzZXQoZCwgbWF0aC5pbmRleCgxLCAwKSkgICAgICAgIC8vIHJldHVybnMgM1xuICAgKiAgICAgbWF0aC5zdWJzZXQoZCwgbWF0aC5pbmRleChbMCwgMV0sIDEpKSAgIC8vIHJldHVybnMgW1syXSwgWzRdXVxuICAgKlxuICAgKiAgICAgLy8gcmVwbGFjZSBhIHN1YnNldFxuICAgKiAgICAgY29uc3QgZSA9IFtdXG4gICAqICAgICBjb25zdCBmID0gbWF0aC5zdWJzZXQoZSwgbWF0aC5pbmRleCgwLCBbMCwgMl0pLCBbNSwgNl0pICAvLyBmID0gW1s1LCA2XV1cbiAgICogICAgIGNvbnN0IGcgPSBtYXRoLnN1YnNldChmLCBtYXRoLmluZGV4KDEsIDEpLCA3LCAwKSAgICAgICAgIC8vIGcgPSBbWzUsIDZdLCBbMCwgN11dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgc2l6ZSwgcmVzaXplLCBzcXVlZXplLCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBtYXRyaXggIEFuIGFycmF5LCBtYXRyaXgsIG9yIHN0cmluZ1xuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uXG4gICAqIEBwYXJhbSB7Kn0gW3JlcGxhY2VtZW50XSAgICAgICAgICAgICAgICAgQW4gYXJyYXksIG1hdHJpeCwgb3Igc2NhbGFyLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHByb3ZpZGVkLCB0aGUgc3Vic2V0IGlzIHJlcGxhY2VkIHdpdGggcmVwbGFjZW1lbnQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgc3Vic2V0IGlzIHJldHVybmVkXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT11bmRlZmluZWRdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRoLm1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gRWl0aGVyIHRoZSByZXRyaWV2ZWQgc3Vic2V0IG9yIHRoZSB1cGRhdGVkIG1hdHJpeC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgLy8gZ2V0IHN1YnNldFxuICAgICdBcnJheSwgSW5kZXgnOiBmdW5jdGlvbiBBcnJheUluZGV4KHZhbHVlLCBpbmRleCkge1xuICAgICAgdmFyIG0gPSBtYXRyaXgodmFsdWUpO1xuICAgICAgdmFyIHN1YnNldCA9IG0uc3Vic2V0KGluZGV4KTsgLy8gcmV0dXJucyBhIE1hdHJpeFxuXG4gICAgICByZXR1cm4gaW5kZXguaXNTY2FsYXIoKSA/IHN1YnNldCA6IHN1YnNldC52YWx1ZU9mKCk7IC8vIHJldHVybiBhbiBBcnJheSAobGlrZSB0aGUgaW5wdXQpXG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4KHZhbHVlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnN1YnNldChpbmRleCk7XG4gICAgfSxcbiAgICAnT2JqZWN0LCBJbmRleCc6IF9nZXRPYmplY3RQcm9wZXJ0eSxcbiAgICAnc3RyaW5nLCBJbmRleCc6IF9nZXRTdWJzdHJpbmcsXG4gICAgLy8gc2V0IHN1YnNldFxuICAgICdBcnJheSwgSW5kZXgsIGFueSc6IGZ1bmN0aW9uIEFycmF5SW5kZXhBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIG1hdHJpeChjbG9uZSh2YWx1ZSkpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIHVuZGVmaW5lZCkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBJbmRleCwgYW55LCBhbnknOiBmdW5jdGlvbiBBcnJheUluZGV4QW55QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIG1hdHJpeChjbG9uZSh2YWx1ZSkpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgsIGFueSc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5jbG9uZSgpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgsIGFueSwgYW55JzogZnVuY3Rpb24gTWF0cml4SW5kZXhBbnlBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUuY2xvbmUoKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgSW5kZXgsIHN0cmluZyc6IF9zZXRTdWJzdHJpbmcsXG4gICAgJ3N0cmluZywgSW5kZXgsIHN0cmluZywgc3RyaW5nJzogX3NldFN1YnN0cmluZyxcbiAgICAnT2JqZWN0LCBJbmRleCwgYW55JzogX3NldE9iamVjdFByb3BlcnR5XG4gIH0pO1xufSk7XG4vKipcbiAqIFJldHJpZXZlIGEgc3Vic2V0IG9mIGEgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgc3RyaW5nIGZyb20gd2hpY2ggdG8gZ2V0IGEgc3Vic3RyaW5nXG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdWJzdHJpbmdcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX2dldFN1YnN0cmluZyhzdHIsIGluZGV4KSB7XG4gIGlmICghaXNJbmRleChpbmRleCkpIHtcbiAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCkubGVuZ3RoLCAxKTtcbiAgfSAvLyB2YWxpZGF0ZSB3aGV0aGVyIHRoZSByYW5nZSBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gIHZhciBzdHJMZW4gPSBzdHIubGVuZ3RoO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1pbigpWzBdLCBzdHJMZW4pO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1heCgpWzBdLCBzdHJMZW4pO1xuICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oMCk7XG4gIHZhciBzdWJzdHIgPSAnJztcbiAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgIHN1YnN0ciArPSBzdHIuY2hhckF0KHYpO1xuICB9KTtcbiAgcmV0dXJuIHN1YnN0cjtcbn1cbi8qKlxuICogUmVwbGFjZSBhIHN1YnN0cmluZyBpbiBhIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgIHN0cmluZyB0byBiZSByZXBsYWNlZFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtzdHJpbmd9IHJlcGxhY2VtZW50ICAgIFJlcGxhY2VtZW50IHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtkZWZhdWx0VmFsdWVdIERlZmF1bHQgdmFsdWUgdG8gYmUgdXNlcyB3aGVuIHJlc2l6aW5nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHN0cmluZy4gaXMgJyAnIGJ5IGRlZmF1bHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJlc3VsdFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zZXRTdWJzdHJpbmcoc3RyLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCkubGVuZ3RoLCAxKTtcbiAgfVxuXG4gIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSAnc3RyaW5nJyB8fCBkZWZhdWx0VmFsdWUubGVuZ3RoICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTaW5nbGUgY2hhcmFjdGVyIGV4cGVjdGVkIGFzIGRlZmF1bHRWYWx1ZScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0VmFsdWUgPSAnICc7XG4gIH1cblxuICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oMCk7XG4gIHZhciBsZW4gPSByYW5nZS5zaXplKClbMF07XG5cbiAgaWYgKGxlbiAhPT0gcmVwbGFjZW1lbnQubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHJhbmdlLnNpemUoKVswXSwgcmVwbGFjZW1lbnQubGVuZ3RoKTtcbiAgfSAvLyB2YWxpZGF0ZSB3aGV0aGVyIHRoZSByYW5nZSBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gIHZhciBzdHJMZW4gPSBzdHIubGVuZ3RoO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1pbigpWzBdKTtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5tYXgoKVswXSk7IC8vIGNvcHkgdGhlIHN0cmluZyBpbnRvIGFuIGFycmF5IHdpdGggY2hhcmFjdGVyc1xuXG4gIHZhciBjaGFycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyTGVuOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IHN0ci5jaGFyQXQoaSk7XG4gIH1cblxuICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgY2hhcnNbdl0gPSByZXBsYWNlbWVudC5jaGFyQXQoaVswXSk7XG4gIH0pOyAvLyBpbml0aWFsaXplIHVuZGVmaW5lZCBjaGFyYWN0ZXJzIHdpdGggYSBzcGFjZVxuXG4gIGlmIChjaGFycy5sZW5ndGggPiBzdHJMZW4pIHtcbiAgICBmb3IgKHZhciBfaSA9IHN0ckxlbiAtIDEsIF9sZW4gPSBjaGFycy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgaWYgKCFjaGFyc1tfaV0pIHtcbiAgICAgICAgY2hhcnNbX2ldID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9nZXRPYmplY3RQcm9wZXJ0eShvYmplY3QsIGluZGV4KSB7XG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKSwgMSk7XG4gIH1cblxuICB2YXIga2V5ID0gaW5kZXguZGltZW5zaW9uKDApO1xuXG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBhcyBpbmRleCB0byByZXRyaWV2ZSBhbiBvYmplY3QgcHJvcGVydHknKTtcbiAgfVxuXG4gIHJldHVybiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBrZXkpO1xufVxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSBvbiBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gKiBAcGFyYW0geyp9IHJlcGxhY2VtZW50XG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB1cGRhdGVkIG9iamVjdFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zZXRPYmplY3RQcm9wZXJ0eShvYmplY3QsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCksIDEpO1xuICB9XG5cbiAgdmFyIGtleSA9IGluZGV4LmRpbWVuc2lvbigwKTtcblxuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgYXMgaW5kZXggdG8gcmV0cmlldmUgYW4gb2JqZWN0IHByb3BlcnR5Jyk7XG4gIH0gLy8gY2xvbmUgdGhlIG9iamVjdCwgYW5kIGFwcGx5IHRoZSBwcm9wZXJ0eSB0byB0aGUgY2xvbmVcblxuXG4gIHZhciB1cGRhdGVkID0gY2xvbmUob2JqZWN0KTtcbiAgc2V0U2FmZVByb3BlcnR5KHVwZGF0ZWQsIGtleSwgcmVwbGFjZW1lbnQpO1xuICByZXR1cm4gdXBkYXRlZDtcbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICd6ZXJvcyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0JpZ051bWJlciddO1xuZXhwb3J0IHZhciBjcmVhdGVaZXJvcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgQmlnTnVtYmVyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtYXRyaXggZmlsbGVkIHdpdGggemVyb3MuIFRoZSBjcmVhdGVkIG1hdHJpeCBjYW4gaGF2ZSBvbmUgb3JcbiAgICogbXVsdGlwbGUgZGltZW5zaW9ucy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnplcm9zKG0pXG4gICAqICAgIG1hdGguemVyb3MobSwgZm9ybWF0KVxuICAgKiAgICBtYXRoLnplcm9zKG0sIG4pXG4gICAqICAgIG1hdGguemVyb3MobSwgbiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLnplcm9zKFttLCBuXSlcbiAgICogICAgbWF0aC56ZXJvcyhbbSwgbl0sIGZvcm1hdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguemVyb3MoMykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFswLCAwLCAwXVxuICAgKiAgICBtYXRoLnplcm9zKDMsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzAsIDBdLCBbMCwgMF0sIFswLCAwXV1cbiAgICogICAgbWF0aC56ZXJvcygzLCAnZGVuc2UnKSAgICAgICAgIC8vIHJldHVybnMgWzAsIDAsIDBdXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgIG1hdGguemVyb3MobWF0aC5zaXplKEEpKSAgICAgICAvLyByZXR1cm5zIFtbMCwgMCwgMF0sIFswLCAwLCAwXV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG9uZXMsIGlkZW50aXR5LCBzaXplLCByYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gey4uLm51bWJlciB8IEFycmF5fSBzaXplICAgIFRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSAgICAgICAgICAgQSBtYXRyaXggZmlsbGVkIHdpdGggemVyb3NcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IF96ZXJvcyhbXSkgOiBfemVyb3MoW10sICdkZWZhdWx0Jyk7XG4gICAgfSxcbiAgICAvLyBtYXRoLnplcm9zKG0sIG4sIHAsIC4uLiwgZm9ybWF0KVxuICAgIC8vIFRPRE86IG1vcmUgYWNjdXJhdGUgc2lnbmF0dXJlICcuLi5udW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZycgYXMgc29vbiBhcyB0eXBlZC1mdW5jdGlvbiBzdXBwb3J0cyB0aGlzXG4gICAgJy4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlclN0cmluZyhzaXplKSB7XG4gICAgICB2YXIgbGFzdCA9IHNpemVbc2l6ZS5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKHR5cGVvZiBsYXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgZm9ybWF0ID0gc2l6ZS5wb3AoKTtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLCBmb3JtYXQpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcubWF0cml4ID09PSAnQXJyYXknKSB7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUsICdkZWZhdWx0Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBBcnJheTogX3plcm9zLFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHNpemUpIHtcbiAgICAgIHZhciBmb3JtYXQgPSBzaXplLnN0b3JhZ2UoKTtcbiAgICAgIHJldHVybiBfemVyb3Moc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZyc6IGZ1bmN0aW9uIEFycmF5TWF0cml4U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IG9yIE1hdHJpeCB3aXRoIHplcm9zXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXQ9J2RlZmF1bHQnXVxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX3plcm9zKHNpemUsIGZvcm1hdCkge1xuICAgIHZhciBoYXNCaWdOdW1iZXJzID0gX25vcm1hbGl6ZShzaXplKTtcblxuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBoYXNCaWdOdW1iZXJzID8gbmV3IEJpZ051bWJlcigwKSA6IDA7XG5cbiAgICBfdmFsaWRhdGUoc2l6ZSk7XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAvLyByZXR1cm4gYSBtYXRyaXhcbiAgICAgIHZhciBtID0gbWF0cml4KGZvcm1hdCk7XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG0ucmVzaXplKHNpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXR1cm4gYW4gQXJyYXlcbiAgICAgIHZhciBhcnIgPSBbXTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzaXplKGFyciwgc2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gIH0gLy8gcmVwbGFjZSBCaWdOdW1iZXJzIHdpdGggbnVtYmVycywgcmV0dXJucyB0cnVlIGlmIHNpemUgY29udGFpbmVkIEJpZ051bWJlcnNcblxuXG4gIGZ1bmN0aW9uIF9ub3JtYWxpemUoc2l6ZSkge1xuICAgIHZhciBoYXNCaWdOdW1iZXJzID0gZmFsc2U7XG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGFycikge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICBoYXNCaWdOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgYXJyW2luZGV4XSA9IHZhbHVlLnRvTnVtYmVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGhhc0JpZ051bWJlcnM7XG4gIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICBmdW5jdGlvbiBfdmFsaWRhdGUoc2l6ZSkge1xuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gemVyb3MgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTsgLy8gVE9ETzogemVyb3MgY29udGFpbnMgYWxtb3N0IHRoZSBzYW1lIGNvZGUgYXMgb25lcy4gUmV1c2UgdGhpcz8iLCJpbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0U3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2Zvcm1hdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVGb3JtYXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRm9ybWF0IGEgdmFsdWUgb2YgYW55IHR5cGUgaW50byBhIHN0cmluZy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSlcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBjYWxsYmFjaylcbiAgICpcbiAgICogV2hlcmU6XG4gICAqXG4gICAqICAtIGB2YWx1ZTogKmBcbiAgICogICAgVGhlIHZhbHVlIHRvIGJlIGZvcm1hdHRlZFxuICAgKiAgLSBgb3B0aW9uczogT2JqZWN0YFxuICAgKiAgICBBbiBvYmplY3Qgd2l0aCBmb3JtYXR0aW5nIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAtIGBub3RhdGlvbjogc3RyaW5nYFxuICAgKiAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gICAqICAgICAgLSAnZml4ZWQnXG4gICAqICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40MCcgYW5kICcxNDAwMDAwMCdcbiAgICogICAgICAtICdleHBvbmVudGlhbCdcbiAgICogICAgICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICAgKiAgICAgIC0gJ2VuZ2luZWVyaW5nJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSBlbmdpbmVlcmluZyBub3RhdGlvbjogYWx3YXlzIGhhdmUgZXhwb25lbnRpYWwgbm90YXRpb24sXG4gICAqICAgICAgICBhbmQgc2VsZWN0IHRoZSBleHBvbmVudCB0byBiZSBhIG11bHRpcGxlIG9mIDMuXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjRlKzAnIGFuZCAnMTQuMGUrNidcbiAgICogICAgICAtICdhdXRvJyAoZGVmYXVsdClcbiAgICogICAgICAgIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gICAqICAgICAgICBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcywgYW5kIHVzZXMgZXhwb25lbnRpYWwgbm90YXRpb24gZWxzZXdoZXJlLlxuICAgKiAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kIGlzIGV4Y2x1ZGVkLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAgICogICAgLSBgcHJlY2lzaW9uOiBudW1iZXJgXG4gICAqICAgICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZCB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuIEluIGNhc2VcbiAgICogICAgICBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJywgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJywgYHByZWNpc2lvbmBcbiAgICogICAgICBkZWZpbmVzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIHJldHVybmVkLlxuICAgKiAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJywgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gICAqICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICAgKiAgICAgIGBwcmVjaXNpb25gIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICAgKiAgICAtIGBsb3dlckV4cDogbnVtYmVyYFxuICAgKiAgICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeSBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGhcbiAgICogICAgICBhbiBleHBvbmVudCB3aGVuIGBub3RhdGlvbj0nYXV0b2AuIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAgICogICAgLSBgdXBwZXJFeHA6IG51bWJlcmBcbiAgICogICAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgdXBwZXIgYm91bmRhcnkgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoXG4gICAqICAgICAgYW4gZXhwb25lbnQgd2hlbiBgbm90YXRpb249J2F1dG9gLiBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAgICogICAgLSBgZnJhY3Rpb246IHN0cmluZ2AuIEF2YWlsYWJsZSB2YWx1ZXM6ICdyYXRpbycgKGRlZmF1bHQpIG9yICdkZWNpbWFsJy5cbiAgICogICAgICBGb3IgZXhhbXBsZSBgZm9ybWF0KGZyYWN0aW9uKDEsIDMpKWAgd2lsbCBvdXRwdXQgJzEvMycgd2hlbiAncmF0aW8nIGlzXG4gICAqICAgICAgY29uZmlndXJlZCwgYW5kIHdpbGwgb3V0cHV0IGAwLigzKWAgd2hlbiAnZGVjaW1hbCcgaXMgY29uZmlndXJlZC5cbiAgICogLSBgY2FsbGJhY2s6IGZ1bmN0aW9uYFxuICAgKiAgIEEgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb24sIGludm9rZWQgZm9yIGFsbCBudW1lcmljIGVsZW1lbnRzIGluIGB2YWx1ZWAsXG4gICAqICAgZm9yIGV4YW1wbGUgYWxsIGVsZW1lbnRzIG9mIGEgbWF0cml4LCBvciB0aGUgcmVhbCBhbmQgaW1hZ2luYXJ5XG4gICAqICAgcGFydHMgb2YgYSBjb21wbGV4IG51bWJlci4gVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAgICogICBidWlsdC1pbiBudW1lcmljIG5vdGF0aW9uIHdpdGggYW55IHR5cGUgb2YgZm9ybWF0dGluZy4gRnVuY3Rpb24gYGNhbGxiYWNrYFxuICAgKiAgIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXMgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy5cbiAgICpcbiAgICogV2hlbiBgdmFsdWVgIGlzIGFuIE9iamVjdDpcbiAgICpcbiAgICogLSBXaGVuIHRoZSBvYmplY3QgY29udGFpbnMgYSBwcm9wZXJ0eSBgZm9ybWF0YCBiZWluZyBhIGZ1bmN0aW9uLCB0aGlzIGZ1bmN0aW9uXG4gICAqICAgaXMgaW52b2tlZCBhcyBgdmFsdWUuZm9ybWF0KG9wdGlvbnMpYCBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICogLSBXaGVuIHRoZSBvYmplY3QgaGFzIGl0cyBvd24gYHRvU3RyaW5nYCBtZXRob2QsIHRoaXMgbWV0aG9kIGlzIGludm9rZWRcbiAgICogICBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICogLSBJbiBvdGhlciBjYXNlcyB0aGUgZnVuY3Rpb24gd2lsbCBsb29wIG92ZXIgYWxsIG9iamVjdCBwcm9wZXJ0aWVzIGFuZFxuICAgKiAgIHJldHVybiBKU09OIG9iamVjdCBub3RhdGlvbiBsaWtlICd7XCJhXCI6IDIsIFwiYlwiOiAzfScuXG4gICAqXG4gICAqIFdoZW4gdmFsdWUgaXMgYSBmdW5jdGlvbjpcbiAgICpcbiAgICogLSBXaGVuIHRoZSBmdW5jdGlvbiBoYXMgYSBwcm9wZXJ0eSBgc3ludGF4YCwgaXQgcmV0dXJucyB0aGlzXG4gICAqICAgc3ludGF4IGRlc2NyaXB0aW9uLlxuICAgKiAtIEluIG90aGVyIGNhc2VzLCBhIHN0cmluZyBgJ2Z1bmN0aW9uJ2AgaXMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzYuNCdcbiAgICogICAgbWF0aC5mb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxLjI0ZTYnXG4gICAqICAgIG1hdGguZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMC4zMzMzMzMzMzMzMzMzMzMzJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzAuMzMzJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzIxMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMmU4LCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEyMDAwMDAwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDIuMywgIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiA0fSkgICAgLy8gcmV0dXJucyAnMi4zMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCg1Mi44LCB7bm90YXRpb246ICdleHBvbmVudGlhbCd9KSAgICAgICAgICAgIC8vIHJldHVybnMgJzUuMjhlKzEnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyNDAwLHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAgICAgLy8gcmV0dXJucyAnMTIuNDAwZSszJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyMDAwLCB7bG93ZXJFeHA6IC0yLCB1cHBlckV4cDogMn0pICAgICAgICAgIC8vIHJldHVybnMgJzJlKzMnXG4gICAqXG4gICAqICAgIGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KHZhbHVlKSB7XG4gICAqICAgICAgLy8gcmV0dXJuIGN1cnJlbmN5IG5vdGF0aW9uIHdpdGggdHdvIGRpZ2l0czpcbiAgICogICAgICByZXR1cm4gJyQnICsgdmFsdWUudG9GaXhlZCgyKVxuICAgKlxuICAgKiAgICAgIC8vIHlvdSBjb3VsZCBhbHNvIHVzZSBtYXRoLmZvcm1hdCBpbnNpZGUgdGhlIGNhbGxiYWNrOlxuICAgKiAgICAgIC8vIHJldHVybiAnJCcgKyBtYXRoLmZvcm1hdCh2YWx1ZSwge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDJ9KVxuICAgKiAgICB9XG4gICAqICAgIG1hdGguZm9ybWF0KFsyLjEsIDMsIDAuMDE2XSwgZm9ybWF0Q3VycmVuY3l9ICAgICAgICAgICAgLy8gcmV0dXJucyAnWyQyLjEwLCAkMy4wMCwgJDAuMDJdJ1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcHJpbnRcbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZSB0byBiZSBzdHJpbmdpZmllZFxuICAgKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgbnVtYmVyfSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdmFsdWVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgYW55OiBmb3JtYXRTdHJpbmcsXG4gICAgJ2FueSwgT2JqZWN0IHwgZnVuY3Rpb24gfCBudW1iZXInOiBmb3JtYXRTdHJpbmdcbiAgfSk7XG59KTsiLCJpbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBub0JpZ251bWJlciwgbm9GcmFjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AuanMnO1xudmFyIG5hbWUgPSAnbnVtZXJpYyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydudW1iZXInLCAnP2JpZ251bWJlcicsICc/ZnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlTnVtZXJpYyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG51bWJlcjogX251bWJlcixcbiAgICBiaWdudW1iZXIsXG4gICAgZnJhY3Rpb25cbiAgfSA9IF9yZWY7XG4gIHZhciB2YWxpZElucHV0VHlwZXMgPSB7XG4gICAgc3RyaW5nOiB0cnVlLFxuICAgIG51bWJlcjogdHJ1ZSxcbiAgICBCaWdOdW1iZXI6IHRydWUsXG4gICAgRnJhY3Rpb246IHRydWVcbiAgfTsgLy8gTG9hZCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgZm9yIGVhY2ggb3V0cHV0IHR5cGVcblxuICB2YXIgdmFsaWRPdXRwdXRUeXBlcyA9IHtcbiAgICBudW1iZXI6IHggPT4gX251bWJlcih4KSxcbiAgICBCaWdOdW1iZXI6IGJpZ251bWJlciA/IHggPT4gYmlnbnVtYmVyKHgpIDogbm9CaWdudW1iZXIsXG4gICAgRnJhY3Rpb246IGZyYWN0aW9uID8geCA9PiBmcmFjdGlvbih4KSA6IG5vRnJhY3Rpb25cbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnQgYSBudW1lcmljIGlucHV0IHRvIGEgc3BlY2lmaWMgbnVtZXJpYyB0eXBlOiBudW1iZXIsIEJpZ051bWJlciwgb3IgRnJhY3Rpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5udW1lcmljKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ251bWJlcicpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdCaWdOdW1iZXInKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBCaWdOdW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnRnJhY3Rpb24nKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgRnJhY3Rpb24gNFxuICAgKiAgICBtYXRoLm51bWVyaWMoNCwgJ0ZyYWN0aW9uJykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgRnJhY3Rpb24gNFxuICAgKiAgICBtYXRoLm51bWVyaWMobWF0aC5mcmFjdGlvbigyLCA1KSwgJ251bWJlcicpIC8vIHJldHVybnMgbnVtYmVyIDAuNFxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbnVtYmVyLCBmcmFjdGlvbiwgYmlnbnVtYmVyLCBzdHJpbmcsIGZvcm1hdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIH0gdmFsdWVcbiAgICogICAgICAgICAgICAgIEEgbnVtZXJpYyB2YWx1ZSBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtZXJpYyB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3V0cHV0VHlwZVxuICAgKiAgICAgICAgICAgICAgRGVzaXJlZCBudW1lcmljIG91dHB1dCB0eXBlLlxuICAgKiAgICAgICAgICAgICAgQXZhaWxhYmxlIHZhbHVlczogJ251bWJlcicsICdCaWdOdW1iZXInLCBvciAnRnJhY3Rpb24nXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9ufVxuICAgKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGUgbnVtZXJpYyBpbiB0aGUgcmVxdWVzdGVkIHR5cGVcbiAgICovXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIG51bWVyaWModmFsdWUsIG91dHB1dFR5cGUpIHtcbiAgICB2YXIgaW5wdXRUeXBlID0gdHlwZU9mKHZhbHVlKTtcblxuICAgIGlmICghKGlucHV0VHlwZSBpbiB2YWxpZElucHV0VHlwZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAnICsgdmFsdWUgKyAnIG9mIHR5cGUgXCInICsgaW5wdXRUeXBlICsgJ1wiOyB2YWxpZCBpbnB1dCB0eXBlcyBhcmUgJyArIE9iamVjdC5rZXlzKHZhbGlkSW5wdXRUeXBlcykuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgaWYgKCEob3V0cHV0VHlwZSBpbiB2YWxpZE91dHB1dFR5cGVzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgJyArIHZhbHVlICsgJyB0byB0eXBlIFwiJyArIG91dHB1dFR5cGUgKyAnXCI7IHZhbGlkIG91dHB1dCB0eXBlcyBhcmUgJyArIE9iamVjdC5rZXlzKHZhbGlkT3V0cHV0VHlwZXMpLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGlmIChvdXRwdXRUeXBlID09PSBpbnB1dFR5cGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkT3V0cHV0VHlwZXNbb3V0cHV0VHlwZV0odmFsdWUpO1xuICAgIH1cbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbnZhciBuYW1lID0gJ2RpdmlkZVNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdudW1lcmljJ107XG5leHBvcnQgdmFyIGNyZWF0ZURpdmlkZVNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG51bWVyaWNcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIERpdmlkZSB0d28gc2NhbGFyIHZhbHVlcywgYHggLyB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25zXG4gICAqIGBkaXZpZGVgIGFuZCBgaW52YC5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgTnVtZXJhdG9yXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBEZW5vbWluYXRvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgUXVvdGllbnQsIGB4IC8geWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IC8geTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFVuaXROdW1iZXJGcmFjdGlvbkJpZ051bWJlcih4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpOyAvLyBUT0RPOiBtb3ZlIHRoZSBkaXZpZGUgZnVuY3Rpb24gdG8gVW5pdC5qcywgaXQgdXNlcyBpbnRlcm5hbHMgb2YgVW5pdFxuXG4gICAgICB2YXIgb25lID0gbnVtZXJpYygxLCB0eXBlT2YoeSkpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZShvbmUpIDogcmVzLnZhbHVlLCB5KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQnOiBmdW5jdGlvbiBudW1iZXJGcmFjdGlvbkJpZ051bWJlclVuaXQoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHkuY2xvbmUoKTtcbiAgICAgIHJlcyA9IHJlcy5wb3coLTEpOyAvLyBUT0RPOiBtb3ZlIHRoZSBkaXZpZGUgZnVuY3Rpb24gdG8gVW5pdC5qcywgaXQgdXNlcyBpbnRlcm5hbHMgb2YgVW5pdFxuXG4gICAgICB2YXIgb25lID0gbnVtZXJpYygxLCB0eXBlT2YoeCkpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyh4LCB5LnZhbHVlID09PSBudWxsID8geS5fbm9ybWFsaXplKG9uZSkgOiB5LnZhbHVlKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdmlkZSh5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSBhcyBzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgcG93TnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ3Bvdyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnaWRlbnRpdHknLCAnbXVsdGlwbHknLCAnbWF0cml4JywgJ2ZyYWN0aW9uJywgJ251bWJlcicsICdDb21wbGV4J107XG5leHBvcnQgdmFyIGNyZWF0ZVBvdyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBpZGVudGl0eSxcbiAgICBtdWx0aXBseSxcbiAgICBtYXRyaXgsXG4gICAgbnVtYmVyLFxuICAgIGZyYWN0aW9uLFxuICAgIENvbXBsZXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgYHggXiB5YC5cbiAgICogTWF0cml4IGV4cG9uZW50aWF0aW9uIGlzIHN1cHBvcnRlZCBmb3Igc3F1YXJlIG1hdHJpY2VzIGB4YCwgYW5kIHBvc2l0aXZlXG4gICAqIGludGVnZXIgZXhwb25lbnRzIGB5YC5cbiAgICpcbiAgICogRm9yIGN1YmljIHJvb3RzIG9mIG5lZ2F0aXZlIG51bWJlcnMsIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBwcmluY2lwYWxcbiAgICogcm9vdCBieSBkZWZhdWx0LiBJbiBvcmRlciB0byBsZXQgdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVhbCByb290LFxuICAgKiBtYXRoLmpzIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYG1hdGguY29uZmlnKHtwcmVkaWN0YWJsZTogdHJ1ZX0pYC5cbiAgICogVG8gcmV0cmlldmUgYWxsIGN1YmljIHJvb3RzIG9mIGEgdmFsdWUsIHVzZSBgbWF0aC5jYnJ0KHgsIHRydWUpYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnBvdyh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5wb3coMiwgMykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA4XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgbWF0aC5wb3coYSwgMikgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC01ICsgMTJpXG4gICAqXG4gICAqICAgIGNvbnN0IGIgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIG1hdGgucG93KGIsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWzksIDhdLCBbMTYsIDE3XV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5LCBzcXJ0LCBjYnJ0LCBudGhSb290XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggIFRoZSBiYXNlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXh9IHkgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBleHBvbmVudFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFRoZSB2YWx1ZSBvZiBgeGAgdG8gdGhlIHBvd2VyIGB5YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBfcG93LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIGlmICh5LmlzSW50ZWdlcigpIHx8IHggPj0gMCB8fCBjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudG9OdW1iZXIoKSwgMCkucG93KHkudG9OdW1iZXIoKSwgMCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeS5kICE9PSAxKSB7XG4gICAgICAgIGlmIChjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIHBvdyBkb2VzIG5vdCBzdXBwb3J0IG5vbi1pbnRlZ2VyIGV4cG9uZW50cyBmb3IgZnJhY3Rpb25zLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfcG93KHgudmFsdWVPZigpLCB5LnZhbHVlT2YoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdBcnJheSwgbnVtYmVyJzogX3Bvd0FycmF5LFxuICAgICdBcnJheSwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIF9wb3dBcnJheSh4LCB5LnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgbnVtYmVyJzogX3Bvd01hdHJpeCxcbiAgICAnTWF0cml4LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBNYXRyaXhCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIF9wb3dNYXRyaXgoeCwgeS50b051bWJlcigpKTtcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBVbml0TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCB4XnksIGZvciB0d28gbnVtYmVycy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQ29tcGxleH0gcmVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9wb3coeCwgeSkge1xuICAgIC8vIEFsdGVybmF0aXZlbHkgY291bGQgZGVmaW5lIGEgJ3JlYWxtb2RlJyBjb25maWcgb3B0aW9uIG9yIHNvbWV0aGluZywgYnV0XG4gICAgLy8gJ3ByZWRpY3RhYmxlJyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgIGlmIChjb25maWcucHJlZGljdGFibGUgJiYgIWlzSW50ZWdlcih5KSAmJiB4IDwgMCkge1xuICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHkgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGEgZnJhY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB5RnJhYyA9IGZyYWN0aW9uKHkpO1xuICAgICAgICB2YXIgeU51bSA9IG51bWJlcih5RnJhYyk7XG5cbiAgICAgICAgaWYgKHkgPT09IHlOdW0gfHwgTWF0aC5hYnMoKHkgLSB5TnVtKSAvIHkpIDwgMWUtMTQpIHtcbiAgICAgICAgICBpZiAoeUZyYWMuZCAlIDIgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAoeUZyYWMubiAlIDIgPT09IDAgPyAxIDogLTEpICogTWF0aC5wb3coLXgsIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHsvLyBmcmFjdGlvbigpIHRocm93cyBhbiBlcnJvciBpZiB5IGlzIEluZmluaXR5LCBldGMuXG4gICAgICB9IC8vIFVuYWJsZSB0byBleHByZXNzIHkgYXMgYSBmcmFjdGlvbiwgc28gY29udGludWUgb25cblxuICAgIH0gLy8gKipmb3IgcHJlZGljdGFibGUgbW9kZSoqIHheSW5maW5pdHkgPT09IE5hTiBpZiB4IDwgLTFcbiAgICAvLyBOLkIuIHRoaXMgYmVoYXZvdXIgaXMgZGlmZmVyZW50IGZyb20gYE1hdGgucG93YCB3aGljaCBnaXZlc1xuICAgIC8vICgtMileSW5maW5pdHkgPT09IEluZmluaXR5XG5cblxuICAgIGlmIChjb25maWcucHJlZGljdGFibGUgJiYgKHggPCAtMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ID4gLTEgJiYgeCA8IDAgJiYgeSA9PT0gLUluZmluaXR5KSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICBpZiAoaXNJbnRlZ2VyKHkpIHx8IHggPj0gMCB8fCBjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgIHJldHVybiBwb3dOdW1iZXIoeCwgeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE86IHRoZSBmb2xsb3dpbmcgaW5maW5pdHkgY2hlY2tzIGFyZSBkdXBsaWNhdGVkIGZyb20gcG93TnVtYmVyLiBEZWR1cGxpY2F0ZSB0aGlzIHNvbWVob3dcbiAgICAgIC8vIHheSW5maW5pdHkgPT09IDAgaWYgLTEgPCB4IDwgMVxuICAgICAgLy8gQSByZWFsIG51bWJlciAwIGlzIHJldHVybmVkIGluc3RlYWQgb2YgY29tcGxleCgwKVxuICAgICAgaWYgKHggKiB4IDwgMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ICogeCA+IDEgJiYgeSA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCwgMCkucG93KHksIDApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIDJkIGFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IHggICAgIG11c3QgYmUgYSAyIGRpbWVuc2lvbmFsLCBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgIGEgcG9zaXRpdmUsIGludGVnZXIgdmFsdWVcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9wb3dBcnJheSh4LCB5KSB7XG4gICAgaWYgKCFpc0ludGVnZXIoeSkgfHwgeSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZvciBBXmIsIGIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgKHZhbHVlIGlzICcgKyB5ICsgJyknKTtcbiAgICB9IC8vIHZlcmlmeSB0aGF0IEEgaXMgYSAyIGRpbWVuc2lvbmFsIHNxdWFyZSBtYXRyaXhcblxuXG4gICAgdmFyIHMgPSBzaXplKHgpO1xuXG4gICAgaWYgKHMubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvciBBXmIsIEEgbXVzdCBiZSAyIGRpbWVuc2lvbmFsIChBIGhhcyAnICsgcy5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgfVxuXG4gICAgaWYgKHNbMF0gIT09IHNbMV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRm9yIEFeYiwgQSBtdXN0IGJlIHNxdWFyZSAoc2l6ZSBpcyAnICsgc1swXSArICd4JyArIHNbMV0gKyAnKScpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSBpZGVudGl0eShzWzBdKS52YWx1ZU9mKCk7XG4gICAgdmFyIHB4ID0geDtcblxuICAgIHdoaWxlICh5ID49IDEpIHtcbiAgICAgIGlmICgoeSAmIDEpID09PSAxKSB7XG4gICAgICAgIHJlcyA9IG11bHRpcGx5KHB4LCByZXMpO1xuICAgICAgfVxuXG4gICAgICB5ID4+PSAxO1xuICAgICAgcHggPSBtdWx0aXBseShweCwgcHgpO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSAyZCBtYXRyaXhcbiAgICogQHBhcmFtIHtNYXRyaXh9IHggICAgIG11c3QgYmUgYSAyIGRpbWVuc2lvbmFsLCBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgIGEgcG9zaXRpdmUsIGludGVnZXIgdmFsdWVcbiAgICogQHJldHVybnMge01hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfcG93TWF0cml4KHgsIHkpIHtcbiAgICByZXR1cm4gbWF0cml4KF9wb3dBcnJheSh4LnZhbHVlT2YoKSwgeSkpO1xuICB9XG59KTsiLCJmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IHJvdW5kTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBOT19JTlQgPSAnTnVtYmVyIG9mIGRlY2ltYWxzIGluIGZ1bmN0aW9uIHJvdW5kIG11c3QgYmUgYW4gaW50ZWdlcic7XG52YXIgbmFtZSA9ICdyb3VuZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnemVyb3MnLCAnQmlnTnVtYmVyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVJvdW5kID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIHplcm9zLFxuICAgIEJpZ051bWJlcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoeClcbiAgICogICAgbWF0aC5yb3VuZCh4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZCgzLjIyKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGgucm91bmQoMy44MikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLnJvdW5kKC00LjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGgucm91bmQoLTQuNykgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICogICAgbWF0aC5yb3VuZCgzLjIyLCAxKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjJcbiAgICogICAgbWF0aC5yb3VuZCgzLjg4LCAxKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjlcbiAgICogICAgbWF0aC5yb3VuZCgtNC4yMSwgMSkgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yXG4gICAqICAgIG1hdGgucm91bmQoLTQuNzEsIDEpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuN1xuICAgKiAgICBtYXRoLnJvdW5kKG1hdGgucGksIDMpICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMTQyXG4gICAqICAgIG1hdGgucm91bmQoMTIzLjQ1Njc4LCAyKSAgICAgLy8gcmV0dXJucyBudW1iZXIgMTIzLjQ2XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yLCAtMi43KVxuICAgKiAgICBtYXRoLnJvdW5kKGMpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gM2lcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZChbMy4yLCAzLjgsIC00LjddKSAvLyByZXR1cm5zIEFycmF5IFszLCA0LCAtNV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZpeCwgZmxvb3JcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm91bmROdW1iZXJTaWduYXR1cmVzKSwge30sIHtcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LnJvdW5kKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobiAlIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC5yb3VuZChuKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBDb21wbGV4QmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfbiA9IG4udG9OdW1iZXIoKTtcblxuICAgICAgcmV0dXJuIHgucm91bmQoX24pO1xuICAgIH0sXG4gICAgJ251bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpLnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKDApO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnJvdW5kKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuICUgMSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSByb3VuZCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlclNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBzY2FsYXIgaXMgemVyb1xuICAgICAgaWYgKGVxdWFsU2NhbGFyKHgsIDApKSB7XG4gICAgICAgIC8vIGRvIG5vdCBleGVjdXRlIGFsZ29yaXRobSwgcmVzdWx0IHdpbGwgYmUgYSB6ZXJvIG1hdHJpeFxuICAgICAgICByZXR1cm4gemVyb3MoeS5zaXplKCksIHkuc3RvcmFnZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckRlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIHNjYWxhciBpcyB6ZXJvXG4gICAgICBpZiAoZXF1YWxTY2FsYXIoeCwgMCkpIHtcbiAgICAgICAgLy8gZG8gbm90IGV4ZWN1dGUgYWxnb3JpdGhtLCByZXN1bHQgd2lsbCBiZSBhIHplcm8gbWF0cml4XG4gICAgICAgIHJldHVybiB6ZXJvcyh5LnNpemUoKSwgeS5zdG9yYWdlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSkpO1xufSk7XG52YXIgcm91bmROdW1iZXJTaWduYXR1cmVzID0ge1xuICBudW1iZXI6IHJvdW5kTnVtYmVyLFxuICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgIGlmICghaXNJbnRlZ2VyKG4pKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgfVxuXG4gICAgaWYgKG4gPCAwIHx8IG4gPiAxNSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOdW1iZXIgb2YgZGVjaW1hbHMgaW4gZnVuY3Rpb24gcm91bmQgbXVzdCBiZSBpbiB0ZSByYW5nZSBvZiAwLTE1Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdW5kTnVtYmVyKHgsIG4pO1xuICB9XG59O1xuZXhwb3J0IHZhciBjcmVhdGVSb3VuZE51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCByb3VuZE51bWJlclNpZ25hdHVyZXMpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2VxdWFsJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiB0ZXN0cyB3aGV0aGVyIHRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpc1xuICAgKiBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvXG4gICAqIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBJbiBjYXNlIG9mIGNvbXBsZXggbnVtYmVycywgeC5yZSBtdXN0IGVxdWFsIHkucmUsIGFuZCB4LmltIG11c3QgZXF1YWwgeS5pbS5cbiAgICpcbiAgICogVmFsdWVzIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgYXJlIGNvbXBhcmVkIHN0cmljdGx5LCB0aHVzIGBudWxsYCBpcyBvbmx5XG4gICAqIGVxdWFsIHRvIGBudWxsYCBhbmQgbm90aGluZyBlbHNlLCBhbmQgYHVuZGVmaW5lZGAgaXMgb25seSBlcXVhbCB0b1xuICAgKiBgdW5kZWZpbmVkYCBhbmQgbm90aGluZyBlbHNlLiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbCgyICsgMiwgMykgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguZXF1YWwoMiArIDIsIDQpICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUwIGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnNSBtJylcbiAgICogICAgbWF0aC5lcXVhbChhLCBiKSAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFsyLCA1LCAxXVxuICAgKiAgICBjb25zdCBkID0gWzIsIDcsIDFdXG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoYywgZCkgICAgICAgICAgICAgLy8gcmV0dXJucyBbdHJ1ZSwgZmFsc2UsIHRydWVdXG4gICAqICAgIG1hdGguZGVlcEVxdWFsKGMsIGQpICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKFwiMTAwMFwiLCBcIjFlM1wiKSAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5lcXVhbCgwLCBudWxsKSAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICB1bmVxdWFsLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGxhcmdlciwgbGFyZ2VyRXEsIGNvbXBhcmUsIGRlZXBFcXVhbCwgZXF1YWxUZXh0XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBlcXVhbCwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2FueSwgYW55JzogZnVuY3Rpb24gYW55QW55KHgsIHkpIHtcbiAgICAgIC8vIHN0cmljdCBlcXVhbGl0eSBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkP1xuICAgICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB5ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVxdWFsU2NhbGFyKHgsIHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCBlcXVhbFNjYWxhcik7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIGVxdWFsU2NhbGFyKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGVxdWFsU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxOdW1iZXIgPSBmYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdhbnksIGFueSc6IGZ1bmN0aW9uIGFueUFueSh4LCB5KSB7XG4gICAgICAvLyBzdHJpY3QgZXF1YWxpdHkgZm9yIG51bGwgYW5kIHVuZGVmaW5lZD9cbiAgICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB5ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geSA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcXVhbFNjYWxhcih4LCB5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbnZhciBuYW1lID0gJ3NtYWxsZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTbWFsbGVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdmFsdWUgeCBpcyBzbWFsbGVyIHRoYW4geS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHggaXMgc21hbGxlciB0aGFuIHkgYW5kIHRoZSByZWxhdGl2ZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpcyBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlXG4gICAqIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5zbWFsbGVyKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnNtYWxsZXIoMiwgMykgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5zbWFsbGVyKDUsIDIgKiAyKSAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMiBpbmNoJylcbiAgICogICAgbWF0aC5zbWFsbGVyKGEsIGIpICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBlcXVhbCwgdW5lcXVhbCwgc21hbGxlckVxLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGNvbXBhcmVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHggaXMgc21hbGxlciB0aGFuIHksIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lmx0KHkpICYmICFiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5jb21wYXJlKHkpID09PSAtMTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gb3JkZXJpbmcgcmVsYXRpb24gaXMgZGVmaW5lZCBmb3IgY29tcGxleCBudW1iZXJzJyk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVTbWFsbGVyTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbnZhciBuYW1lID0gJ2xhcmdlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUxhcmdlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHZhbHVlIHggaXMgbGFyZ2VyIHRoYW4geS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHggaXMgbGFyZ2VyIHRoYW4geSBhbmQgdGhlIHJlbGF0aXZlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzIGxhcmdlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZVxuICAgKiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0byBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubGFyZ2VyKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmxhcmdlcigyLCAzKSAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGgubGFyZ2VyKDUsIDIgKyAyKSAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMiBpbmNoJylcbiAgICogICAgbWF0aC5sYXJnZXIoYSwgYikgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZXF1YWwsIHVuZXF1YWwsIHNtYWxsZXIsIHNtYWxsZXJFcSwgbGFyZ2VyRXEsIGNvbXBhcmVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHggaXMgbGFyZ2VyIHRoYW4geSwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZ3QoeSkgJiYgIWJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmNvbXBhcmUoeSkgPT09IDE7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gb3JkZXJpbmcgcmVsYXRpb24gaXMgZGVmaW5lZCBmb3IgY29tcGxleCBudW1iZXJzJyk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVMYXJnZXJOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGaWJvbmFjY2lIZWFwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3NtYWxsZXInLCAnbGFyZ2VyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHNtYWxsZXIsXG4gICAgbGFyZ2VyXG4gIH0gPSBfcmVmO1xuICB2YXIgb25lT3ZlckxvZ1BoaSA9IDEuMCAvIE1hdGgubG9nKCgxLjAgKyBNYXRoLnNxcnQoNS4wKSkgLyAyLjApO1xuICAvKipcbiAgICogRmlib25hY2NpIEhlYXAgaW1wbGVtZW50YXRpb24sIHVzZWQgaW50ZXJhbGx5IGZvciBNYXRyaXggbWF0aC5cbiAgICogQGNsYXNzIEZpYm9uYWNjaUhlYXBcbiAgICogQGNvbnN0cnVjdG9yIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cbiAgZnVuY3Rpb24gRmlib25hY2NpSGVhcCgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmlib25hY2NpSGVhcCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyBpbml0aWFsaXplIGZpZWxkc1xuXG5cbiAgICB0aGlzLl9taW5pbXVtID0gbnVsbDtcbiAgICB0aGlzLl9zaXplID0gMDtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS50eXBlID0gJ0ZpYm9uYWNjaUhlYXAnO1xuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pc0ZpYm9uYWNjaUhlYXAgPSB0cnVlO1xuICAvKipcbiAgICogSW5zZXJ0cyBhIG5ldyBkYXRhIGVsZW1lbnQgaW50byB0aGUgaGVhcC4gTm8gaGVhcCBjb25zb2xpZGF0aW9uIGlzXG4gICAqIHBlcmZvcm1lZCBhdCB0aGlzIHRpbWUsIHRoZSBuZXcgbm9kZSBpcyBzaW1wbHkgaW5zZXJ0ZWQgaW50byB0aGUgcm9vdFxuICAgKiBsaXN0IG9mIHRoaXMgaGVhcC4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAvLyBjcmVhdGUgbm9kZVxuICAgIHZhciBub2RlID0ge1xuICAgICAga2V5OiBrZXksXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBkZWdyZWU6IDBcbiAgICB9OyAvLyBjaGVjayB3ZSBoYXZlIGEgbm9kZSBpbiB0aGUgbWluaW11bVxuXG4gICAgaWYgKHRoaXMuX21pbmltdW0pIHtcbiAgICAgIC8vIG1pbmltdW0gbm9kZVxuICAgICAgdmFyIG1pbmltdW0gPSB0aGlzLl9taW5pbXVtOyAvLyB1cGRhdGUgbGVmdCAmIHJpZ2h0IG9mIG5vZGVcblxuICAgICAgbm9kZS5sZWZ0ID0gbWluaW11bTtcbiAgICAgIG5vZGUucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgbWluaW11bS5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlOyAvLyB1cGRhdGUgbWluaW11bSBub2RlIGluIGhlYXAgaWYgbmVlZGVkXG5cbiAgICAgIGlmIChzbWFsbGVyKGtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICAgIC8vIG5vZGUgaGFzIGEgc21hbGxlciBrZXksIHVzZSBpdCBhcyBtaW5pbXVtXG4gICAgICAgIHRoaXMuX21pbmltdW0gPSBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgbGVmdCAmIHJpZ2h0XG4gICAgICBub2RlLmxlZnQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodCA9IG5vZGU7IC8vIHRoaXMgaXMgdGhlIGZpcnN0IG5vZGVcblxuICAgICAgdGhpcy5fbWluaW11bSA9IG5vZGU7XG4gICAgfSAvLyBpbmNyZW1lbnQgbnVtYmVyIG9mIG5vZGVzIGluIGhlYXBcblxuXG4gICAgdGhpcy5fc2l6ZSsrOyAvLyByZXR1cm4gbm9kZVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygbm9kZXMgaW4gaGVhcC4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9O1xuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGlzIGhlYXAuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fbWluaW11bSA9IG51bGw7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhlYXAgaXMgZW1wdHksIG90aGVyd2lzZSBmYWxzZS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplID09PSAwO1xuICB9O1xuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIG5vZGUgd2l0aCBtaW5pbXVtIGtleSBmcm9tIGhlYXAuIEFtb3J0aXplZCBydW5uaW5nXG4gICAqIHRpbWU6IE8obG9nIG4pLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmV4dHJhY3RNaW5pbXVtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG5vZGUgdG8gcmVtb3ZlXG4gICAgdmFyIG5vZGUgPSB0aGlzLl9taW5pbXVtOyAvLyBjaGVjayB3ZSBoYXZlIGEgbWluaW11bVxuXG4gICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gLy8gY3VycmVudCBtaW5pbXVtXG5cblxuICAgIHZhciBtaW5pbXVtID0gdGhpcy5fbWluaW11bTsgLy8gZ2V0IG51bWJlciBvZiBjaGlsZHJlblxuXG4gICAgdmFyIG51bWJlck9mQ2hpbGRyZW4gPSBub2RlLmRlZ3JlZTsgLy8gcG9pbnRlciB0byB0aGUgZmlyc3QgY2hpbGRcblxuICAgIHZhciB4ID0gbm9kZS5jaGlsZDsgLy8gZm9yIGVhY2ggY2hpbGQgb2Ygbm9kZSBkby4uLlxuXG4gICAgd2hpbGUgKG51bWJlck9mQ2hpbGRyZW4gPiAwKSB7XG4gICAgICAvLyBzdG9yZSBub2RlIGluIHJpZ2h0IHNpZGVcbiAgICAgIHZhciB0ZW1wUmlnaHQgPSB4LnJpZ2h0OyAvLyByZW1vdmUgeCBmcm9tIGNoaWxkIGxpc3RcblxuICAgICAgeC5sZWZ0LnJpZ2h0ID0geC5yaWdodDtcbiAgICAgIHgucmlnaHQubGVmdCA9IHgubGVmdDsgLy8gYWRkIHggdG8gcm9vdCBsaXN0IG9mIGhlYXBcblxuICAgICAgeC5sZWZ0ID0gbWluaW11bTtcbiAgICAgIHgucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgbWluaW11bS5yaWdodCA9IHg7XG4gICAgICB4LnJpZ2h0LmxlZnQgPSB4OyAvLyBzZXQgUGFyZW50W3hdIHRvIG51bGxcblxuICAgICAgeC5wYXJlbnQgPSBudWxsO1xuICAgICAgeCA9IHRlbXBSaWdodDtcbiAgICAgIG51bWJlck9mQ2hpbGRyZW4tLTtcbiAgICB9IC8vIHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0IG9mIGhlYXBcblxuXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7IC8vIHVwZGF0ZSBtaW5pbXVtXG5cbiAgICBpZiAobm9kZSA9PT0gbm9kZS5yaWdodCkge1xuICAgICAgLy8gZW1wdHlcbiAgICAgIG1pbmltdW0gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgbWluaW11bVxuICAgICAgbWluaW11bSA9IG5vZGUucmlnaHQ7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwb2ludGVyIHRvIHRoZSByb290IHdpdGggbWluaW11bSBrZXlcblxuICAgICAgbWluaW11bSA9IF9maW5kTWluaW11bU5vZGUobWluaW11bSwgdGhpcy5fc2l6ZSk7XG4gICAgfSAvLyBkZWNyZW1lbnQgc2l6ZSBvZiBoZWFwXG5cblxuICAgIHRoaXMuX3NpemUtLTsgLy8gdXBkYXRlIG1pbmltdW1cblxuICAgIHRoaXMuX21pbmltdW0gPSBtaW5pbXVtOyAvLyByZXR1cm4gbm9kZVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgbm9kZSBmcm9tIHRoZSBoZWFwIGdpdmVuIHRoZSByZWZlcmVuY2UgdG8gdGhlIG5vZGUuIFRoZSB0cmVlc1xuICAgKiBpbiB0aGUgaGVhcCB3aWxsIGJlIGNvbnNvbGlkYXRlZCwgaWYgbmVjZXNzYXJ5LiBUaGlzIG9wZXJhdGlvbiBtYXkgZmFpbFxuICAgKiB0byByZW1vdmUgdGhlIGNvcnJlY3QgZWxlbWVudCBpZiB0aGVyZSBhcmUgbm9kZXMgd2l0aCBrZXkgdmFsdWUgLUluZmluaXR5LlxuICAgKiBSdW5uaW5nIHRpbWU6IE8obG9nIG4pIGFtb3J0aXplZC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIC8vIGRlY3JlYXNlIGtleSB2YWx1ZVxuICAgIHRoaXMuX21pbmltdW0gPSBfZGVjcmVhc2VLZXkodGhpcy5fbWluaW11bSwgbm9kZSwgLTEpOyAvLyByZW1vdmUgdGhlIHNtYWxsZXN0XG5cbiAgICB0aGlzLmV4dHJhY3RNaW5pbXVtKCk7XG4gIH07XG4gIC8qKlxuICAgKiBEZWNyZWFzZXMgdGhlIGtleSB2YWx1ZSBmb3IgYSBoZWFwIG5vZGUsIGdpdmVuIHRoZSBuZXcgdmFsdWUgdG8gdGFrZSBvbi5cbiAgICogVGhlIHN0cnVjdHVyZSBvZiB0aGUgaGVhcCBtYXkgYmUgY2hhbmdlZCBhbmQgd2lsbCBub3QgYmUgY29uc29saWRhdGVkLlxuICAgKiBSdW5uaW5nIHRpbWU6IE8oMSkgYW1vcnRpemVkLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9kZWNyZWFzZUtleShtaW5pbXVtLCBub2RlLCBrZXkpIHtcbiAgICAvLyBzZXQgbm9kZSBrZXlcbiAgICBub2RlLmtleSA9IGtleTsgLy8gZ2V0IHBhcmVudCBub2RlXG5cbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG5cbiAgICBpZiAocGFyZW50ICYmIHNtYWxsZXIobm9kZS5rZXksIHBhcmVudC5rZXkpKSB7XG4gICAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHBhcmVudFxuICAgICAgX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpOyAvLyByZW1vdmUgYWxsIG5vZGVzIGZyb20gcGFyZW50IHRvIHRoZSByb290IHBhcmVudFxuXG5cbiAgICAgIF9jYXNjYWRpbmdDdXQobWluaW11bSwgcGFyZW50KTtcbiAgICB9IC8vIHVwZGF0ZSBtaW5pbXVtIG5vZGUgaWYgbmVlZGVkXG5cblxuICAgIGlmIChzbWFsbGVyKG5vZGUua2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgIG1pbmltdW0gPSBub2RlO1xuICAgIH0gLy8gcmV0dXJuIG1pbmltdW1cblxuXG4gICAgcmV0dXJuIG1pbmltdW07XG4gIH1cbiAgLyoqXG4gICAqIFRoZSByZXZlcnNlIG9mIHRoZSBsaW5rIG9wZXJhdGlvbjogcmVtb3ZlcyBub2RlIGZyb20gdGhlIGNoaWxkIGxpc3Qgb2YgcGFyZW50LlxuICAgKiBUaGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgbWluIGlzIG5vbi1udWxsLiBSdW5uaW5nIHRpbWU6IE8oMSkuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpIHtcbiAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHBhcmVudCBjaGlsZHJlbiBhbmQgZGVjcmVtZW50IERlZ3JlZVtwYXJlbnRdXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7XG4gICAgcGFyZW50LmRlZ3JlZS0tOyAvLyByZXNldCB5LmNoaWxkIGlmIG5lY2Vzc2FyeVxuXG4gICAgaWYgKHBhcmVudC5jaGlsZCA9PT0gbm9kZSkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbm9kZS5yaWdodDtcbiAgICB9IC8vIHJlbW92ZSBjaGlsZCBpZiBkZWdyZWUgaXMgMFxuXG5cbiAgICBpZiAocGFyZW50LmRlZ3JlZSA9PT0gMCkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbnVsbDtcbiAgICB9IC8vIGFkZCBub2RlIHRvIHJvb3QgbGlzdCBvZiBoZWFwXG5cblxuICAgIG5vZGUubGVmdCA9IG1pbmltdW07XG4gICAgbm9kZS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgbWluaW11bS5yaWdodCA9IG5vZGU7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTsgLy8gc2V0IHBhcmVudFtub2RlXSB0byBudWxsXG5cbiAgICBub2RlLnBhcmVudCA9IG51bGw7IC8vIHNldCBtYXJrW25vZGVdIHRvIGZhbHNlXG5cbiAgICBub2RlLm1hcmsgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBjYXNjYWRpbmcgY3V0IG9wZXJhdGlvbi4gVGhpcyBjdXRzIG5vZGUgZnJvbSBpdHMgcGFyZW50IGFuZCB0aGVuXG4gICAqIGRvZXMgdGhlIHNhbWUgZm9yIGl0cyBwYXJlbnQsIGFuZCBzbyBvbiB1cCB0aGUgdHJlZS5cbiAgICogUnVubmluZyB0aW1lOiBPKGxvZyBuKTsgTygxKSBleGNsdWRpbmcgdGhlIHJlY3Vyc2lvbi5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfY2FzY2FkaW5nQ3V0KG1pbmltdW0sIG5vZGUpIHtcbiAgICAvLyBzdG9yZSBwYXJlbnQgbm9kZVxuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudDsgLy8gaWYgdGhlcmUncyBhIHBhcmVudC4uLlxuXG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGlmIG5vZGUgaXMgdW5tYXJrZWQsIHNldCBpdCBtYXJrZWRcblxuXG4gICAgaWYgKCFub2RlLm1hcmspIHtcbiAgICAgIG5vZGUubWFyayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0J3MgbWFya2VkLCBjdXQgaXQgZnJvbSBwYXJlbnRcbiAgICAgIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KTsgLy8gY3V0IGl0cyBwYXJlbnQgYXMgd2VsbFxuXG5cbiAgICAgIF9jYXNjYWRpbmdDdXQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgdGhlIGZpcnN0IG5vZGUgYSBjaGlsZCBvZiB0aGUgc2Vjb25kIG9uZS4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICB2YXIgX2xpbmtOb2RlcyA9IGZ1bmN0aW9uIF9saW5rTm9kZXMobm9kZSwgcGFyZW50KSB7XG4gICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3Qgb2YgaGVhcFxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0OyAvLyBtYWtlIG5vZGUgYSBDaGlsZCBvZiBwYXJlbnRcblxuICAgIG5vZGUucGFyZW50ID0gcGFyZW50O1xuXG4gICAgaWYgKCFwYXJlbnQuY2hpbGQpIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUubGVmdCA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUubGVmdCA9IHBhcmVudC5jaGlsZDtcbiAgICAgIG5vZGUucmlnaHQgPSBwYXJlbnQuY2hpbGQucmlnaHQ7XG4gICAgICBwYXJlbnQuY2hpbGQucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTtcbiAgICB9IC8vIGluY3JlYXNlIGRlZ3JlZVtwYXJlbnRdXG5cblxuICAgIHBhcmVudC5kZWdyZWUrKzsgLy8gc2V0IG1hcmtbbm9kZV0gZmFsc2VcblxuICAgIG5vZGUubWFyayA9IGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9maW5kTWluaW11bU5vZGUobWluaW11bSwgc2l6ZSkge1xuICAgIC8vIHRvIGZpbmQgdHJlZXMgb2YgdGhlIHNhbWUgZGVncmVlIGVmZmljaWVudGx5IHdlIHVzZSBhbiBhcnJheSBvZiBsZW5ndGggTyhsb2cgbikgaW4gd2hpY2ggd2Uga2VlcCBhIHBvaW50ZXIgdG8gb25lIHJvb3Qgb2YgZWFjaCBkZWdyZWVcbiAgICB2YXIgYXJyYXlTaXplID0gTWF0aC5mbG9vcihNYXRoLmxvZyhzaXplKSAqIG9uZU92ZXJMb2dQaGkpICsgMTsgLy8gY3JlYXRlIGxpc3Qgd2l0aCBpbml0aWFsIGNhcGFjaXR5XG5cbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoYXJyYXlTaXplKTsgLy8gZmluZCB0aGUgbnVtYmVyIG9mIHJvb3Qgbm9kZXMuXG5cbiAgICB2YXIgbnVtUm9vdHMgPSAwO1xuICAgIHZhciB4ID0gbWluaW11bTtcblxuICAgIGlmICh4KSB7XG4gICAgICBudW1Sb290cysrO1xuICAgICAgeCA9IHgucmlnaHQ7XG5cbiAgICAgIHdoaWxlICh4ICE9PSBtaW5pbXVtKSB7XG4gICAgICAgIG51bVJvb3RzKys7XG4gICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgfVxuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgeTsgLy8gRm9yIGVhY2ggbm9kZSBpbiByb290IGxpc3QgZG8uLi5cblxuICAgIHdoaWxlIChudW1Sb290cyA+IDApIHtcbiAgICAgIC8vIGFjY2VzcyB0aGlzIG5vZGUncyBkZWdyZWUuLlxuICAgICAgdmFyIGQgPSB4LmRlZ3JlZTsgLy8gZ2V0IG5leHQgbm9kZVxuXG4gICAgICB2YXIgbmV4dCA9IHgucmlnaHQ7IC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgbm9kZSBhbHJlYWR5IGluIGFycmF5IHdpdGggdGhlIHNhbWUgZGVncmVlXG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIC8vIGdldCBub2RlIHdpdGggdGhlIHNhbWUgZGVncmVlIGlzIGFueVxuICAgICAgICB5ID0gYXJyYXlbZF07XG5cbiAgICAgICAgaWYgKCF5KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gLy8gbWFrZSBvbmUgbm9kZSB3aXRoIHRoZSBzYW1lIGRlZ3JlZSBhIGNoaWxkIG9mIHRoZSBvdGhlciwgZG8gdGhpcyBiYXNlZCBvbiB0aGUga2V5IHZhbHVlLlxuXG5cbiAgICAgICAgaWYgKGxhcmdlcih4LmtleSwgeS5rZXkpKSB7XG4gICAgICAgICAgdmFyIHRlbXAgPSB5O1xuICAgICAgICAgIHkgPSB4O1xuICAgICAgICAgIHggPSB0ZW1wO1xuICAgICAgICB9IC8vIG1ha2UgeSBhIGNoaWxkIG9mIHhcblxuXG4gICAgICAgIF9saW5rTm9kZXMoeSwgeCk7IC8vIHdlIGhhdmUgaGFuZGxlZCB0aGlzIGRlZ3JlZSwgZ28gdG8gbmV4dCBvbmUuXG5cblxuICAgICAgICBhcnJheVtkXSA9IG51bGw7XG4gICAgICAgIGQrKztcbiAgICAgIH0gLy8gc2F2ZSB0aGlzIG5vZGUgZm9yIGxhdGVyIHdoZW4gd2UgbWlnaHQgZW5jb3VudGVyIGFub3RoZXIgb2YgdGhlIHNhbWUgZGVncmVlLlxuXG5cbiAgICAgIGFycmF5W2RdID0geDsgLy8gbW92ZSBmb3J3YXJkIHRocm91Z2ggbGlzdC5cblxuICAgICAgeCA9IG5leHQ7XG4gICAgICBudW1Sb290cy0tO1xuICAgIH0gLy8gU2V0IG1pbiB0byBudWxsIChlZmZlY3RpdmVseSBsb3NpbmcgdGhlIHJvb3QgbGlzdCkgYW5kIHJlY29uc3RydWN0IHRoZSByb290IGxpc3QgZnJvbSB0aGUgYXJyYXkgZW50cmllcyBpbiBhcnJheVtdLlxuXG5cbiAgICBtaW5pbXVtID0gbnVsbDsgLy8gbG9vcCBub2RlcyBpbiBhcnJheVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheVNpemU7IGkrKykge1xuICAgICAgLy8gZ2V0IGN1cnJlbnQgbm9kZVxuICAgICAgeSA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoIXkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBsaW5rZWQgbGlzdFxuXG5cbiAgICAgIGlmIChtaW5pbXVtKSB7XG4gICAgICAgIC8vIEZpcnN0IHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0LlxuICAgICAgICB5LmxlZnQucmlnaHQgPSB5LnJpZ2h0O1xuICAgICAgICB5LnJpZ2h0LmxlZnQgPSB5LmxlZnQ7IC8vIG5vdyBhZGQgdG8gcm9vdCBsaXN0LCBhZ2Fpbi5cblxuICAgICAgICB5LmxlZnQgPSBtaW5pbXVtO1xuICAgICAgICB5LnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgICAgbWluaW11bS5yaWdodCA9IHk7XG4gICAgICAgIHkucmlnaHQubGVmdCA9IHk7IC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBuZXcgbWluLlxuXG4gICAgICAgIGlmIChzbWFsbGVyKHkua2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgICAgICBtaW5pbXVtID0geTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluaW11bSA9IHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pbmltdW07XG4gIH1cblxuICByZXR1cm4gRmlib25hY2NpSGVhcDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnU3BhJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ2FkZFNjYWxhcicsICdlcXVhbFNjYWxhcicsICdGaWJvbmFjY2lIZWFwJ107XG5leHBvcnQgdmFyIGNyZWF0ZVNwYUNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgYWRkU2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIEZpYm9uYWNjaUhlYXBcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEFuIG9yZGVyZWQgU3BhcnNlIEFjY3VtdWxhdG9yIGlzIGEgcmVwcmVzZW50YXRpb24gZm9yIGEgc3BhcnNlIHZlY3RvciB0aGF0IGluY2x1ZGVzIGEgZGVuc2UgYXJyYXlcbiAgICogb2YgdGhlIHZlY3RvciBlbGVtZW50cyBhbmQgYW4gb3JkZXJlZCBsaXN0IG9mIG5vbi16ZXJvIGVsZW1lbnRzLlxuICAgKi9cbiAgZnVuY3Rpb24gU3BhKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGEpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gYWxsb2NhdGUgdmVjdG9yLCBUT0RPIHVzZSB0eXBlZCBhcnJheXNcblxuXG4gICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgdGhpcy5faGVhcCA9IG5ldyBGaWJvbmFjY2lIZWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgU3BhLnByb3RvdHlwZS50eXBlID0gJ1NwYSc7XG4gIFNwYS5wcm90b3R5cGUuaXNTcGEgPSB0cnVlO1xuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBmb3IgaW5kZXggaS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgICAgICAgICAgICAgICAgIFRoZSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXh9ICAgVGhlIHZhbHVlIGF0IGluZGV4IGlcbiAgICovXG5cbiAgU3BhLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSwgdikge1xuICAgIC8vIGNoZWNrIHdlIGhhdmUgYSB2YWx1ZSBAIGlcbiAgICBpZiAoIXRoaXMuX3ZhbHVlc1tpXSkge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgdik7IC8vIHNldCB0aGUgdmFsdWUgQCBpXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZSBAIGlcbiAgICAgIHRoaXMuX3ZhbHVlc1tpXS52YWx1ZSA9IHY7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX3ZhbHVlc1tpXTtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmFjY3VtdWxhdGUgPSBmdW5jdGlvbiAoaSwgdikge1xuICAgIC8vIG5vZGUgQCBpXG4gICAgdmFyIG5vZGUgPSB0aGlzLl92YWx1ZXNbaV07XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgdik7IC8vIGluaXRpYWxpemUgdmFsdWVcblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYWNjdW11bGF0ZSB2YWx1ZVxuICAgICAgbm9kZS52YWx1ZSA9IGFkZFNjYWxhcihub2RlLnZhbHVlLCB2KTtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZyb20sIHRvLCBjYWxsYmFjaykge1xuICAgIC8vIHJlZmVyZW5jZXNcbiAgICB2YXIgaGVhcCA9IHRoaXMuX2hlYXA7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlczsgLy8gbm9kZXNcblxuICAgIHZhciBub2RlcyA9IFtdOyAvLyBub2RlIHdpdGggbWluaW11bSBrZXksIHNhdmUgaXRcblxuICAgIHZhciBub2RlID0gaGVhcC5leHRyYWN0TWluaW11bSgpO1xuXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgfSAvLyBleHRyYWN0IG5vZGVzIGZyb20gaGVhcCAob3JkZXJlZClcblxuXG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZS5rZXkgPD0gdG8pIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGluIHJhbmdlXG4gICAgICBpZiAobm9kZS5rZXkgPj0gZnJvbSkge1xuICAgICAgICAvLyBjaGVjayB2YWx1ZSBpcyBub3QgemVyb1xuICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKG5vZGUudmFsdWUsIDApKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICAgICAgY2FsbGJhY2sobm9kZS5rZXksIG5vZGUudmFsdWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIGV4dHJhY3QgbmV4dCBub2RlLCBzYXZlIGl0XG5cblxuICAgICAgbm9kZSA9IGhlYXAuZXh0cmFjdE1pbmltdW0oKTtcblxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9IC8vIHJlaW5zZXJ0IGFsbCBub2RlcyBpbiBoZWFwXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgbm9kZVxuICAgICAgdmFyIG4gPSBub2Rlc1tpXTsgLy8gaW5zZXJ0IG5vZGUgaW4gaGVhcFxuXG4gICAgICBub2RlID0gaGVhcC5pbnNlcnQobi5rZXksIG4udmFsdWUpOyAvLyB1cGRhdGUgdmFsdWVzXG5cbiAgICAgIHZhbHVlc1tub2RlLmtleV0gPSBub2RlO1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIG5vZGUgQCBpIGFuZCBqXG4gICAgdmFyIG5vZGVpID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgIHZhciBub2RlaiA9IHRoaXMuX3ZhbHVlc1tqXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbnNlcnQgaW5kZWNlc1xuXG4gICAgaWYgKCFub2RlaSAmJiBub2Rlaikge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGVpID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgbm9kZWoudmFsdWUpOyAvLyByZW1vdmUgZnJvbSBoZWFwXG5cbiAgICAgIHRoaXMuX2hlYXAucmVtb3ZlKG5vZGVqKTsgLy8gc2V0IHZhbHVlc1xuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGVpO1xuICAgICAgdGhpcy5fdmFsdWVzW2pdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAobm9kZWkgJiYgIW5vZGVqKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZWogPSB0aGlzLl9oZWFwLmluc2VydChqLCBub2RlaS52YWx1ZSk7IC8vIHJlbW92ZSBmcm9tIGhlYXBcblxuICAgICAgdGhpcy5faGVhcC5yZW1vdmUobm9kZWkpOyAvLyBzZXQgdmFsdWVzXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2pdID0gbm9kZWo7XG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChub2RlaSAmJiBub2Rlaikge1xuICAgICAgLy8gc3dhcCB2YWx1ZXNcbiAgICAgIHZhciB2ID0gbm9kZWkudmFsdWU7XG4gICAgICBub2RlaS52YWx1ZSA9IG5vZGVqLnZhbHVlO1xuICAgICAgbm9kZWoudmFsdWUgPSB2O1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3BhO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi4vZnVuY3Rpb24uanMnO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBlXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJFID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBuZXcgQmlnTnVtYmVyKDEpLmV4cCgpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIGdvbGRlbiByYXRpbywgcGhpID0gKDErc3FydCg1KSkvMlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHBoaVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyUGhpID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBuZXcgQmlnTnVtYmVyKDEpLnBsdXMobmV3IEJpZ051bWJlcig1KS5zcXJ0KCkpLmRpdigyKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBwaS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBwaVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyUGkgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIEJpZ051bWJlci5hY29zKC0xKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciB0YXUsIHRhdSA9IDIgKiBwaVxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHRhdVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyVGF1ID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBjcmVhdGVCaWdOdW1iZXJQaShCaWdOdW1iZXIpLnRpbWVzKDIpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDcmVhdGUgYSBoYXNoIGZvciBhIEJpZ051bWJlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNyZWF0ZWQgaGFzIGlzXG4gKiB0aGUgY29uZmlndXJlZCBwcmVjaXNpb25cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgICAgICAgICBTdXBwb3NlZCB0byBjb250YWluIGEgc2luZ2xlIGVudHJ5IHdpdGhcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybiB7bnVtYmVyfSBwcmVjaXNpb25cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaGFzaGVyKGFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3NbMF0ucHJlY2lzaW9uO1xufSIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBpc0NvbXBsZXgsIGlzVW5pdCwgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9uLmpzJztcbmltcG9ydCB7IGVuZHNXaXRoIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGNsb25lLCBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCaWdOdW1iZXJQaSBhcyBjcmVhdGVQaSB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9jb25zdGFudHMuanMnO1xudmFyIG5hbWUgPSAnVW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyc/b24nLCAnY29uZmlnJywgJ2FkZFNjYWxhcicsICdzdWJ0cmFjdCcsICdtdWx0aXBseVNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAncG93JywgJ2FicycsICdmaXgnLCAncm91bmQnLCAnZXF1YWwnLCAnaXNOdW1lcmljJywgJ2Zvcm1hdCcsICdudW1iZXInLCAnQ29tcGxleCcsICdCaWdOdW1iZXInLCAnRnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlVW5pdENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgb24sXG4gICAgY29uZmlnLFxuICAgIGFkZFNjYWxhcixcbiAgICBzdWJ0cmFjdCxcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgcG93LFxuICAgIGFicyxcbiAgICBmaXgsXG4gICAgcm91bmQsXG4gICAgZXF1YWwsXG4gICAgaXNOdW1lcmljLFxuICAgIGZvcm1hdCxcbiAgICBudW1iZXIsXG4gICAgQ29tcGxleCxcbiAgICBCaWdOdW1iZXI6IF9CaWdOdW1iZXIsXG4gICAgRnJhY3Rpb246IF9GcmFjdGlvblxuICB9ID0gX3JlZjtcbiAgdmFyIHRvTnVtYmVyID0gbnVtYmVyO1xuICAvKipcbiAgICogQSB1bml0IGNhbiBiZSBjb25zdHJ1Y3RlZCBpbiB0aGUgZm9sbG93aW5nIHdheXM6XG4gICAqXG4gICAqICAgICBjb25zdCBhID0gbmV3IFVuaXQodmFsdWUsIG5hbWUpXG4gICAqICAgICBjb25zdCBiID0gbmV3IFVuaXQobnVsbCwgbmFtZSlcbiAgICogICAgIGNvbnN0IGMgPSBVbml0LnBhcnNlKHN0cilcbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGNvbnN0IGEgPSBuZXcgVW5pdCg1LCAnY20nKSAgICAgICAgICAgICAgIC8vIDUwIG1tXG4gICAqICAgICBjb25zdCBiID0gVW5pdC5wYXJzZSgnMjMga2cnKSAgICAgICAgICAgICAvLyAyMyBrZ1xuICAgKiAgICAgY29uc3QgYyA9IG1hdGguaW4oYSwgbmV3IFVuaXQobnVsbCwgJ20nKSAgLy8gMC4wNSBtXG4gICAqICAgICBjb25zdCBkID0gbmV3IFVuaXQoOS44MSwgXCJtL3NeMlwiKSAgICAgICAgIC8vIDkuODEgbS9zXjJcbiAgICpcbiAgICogQGNsYXNzIFVuaXRcbiAgICogQGNvbnN0cnVjdG9yIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBib29sZWFufSBbdmFsdWVdICBBIHZhbHVlIGxpa2UgNS4yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gICBBIHVuaXQgbmFtZSBsaWtlIFwiY21cIiBvciBcImluY2hcIiwgb3IgYSBkZXJpdmVkIHVuaXQgb2YgdGhlIGZvcm06IFwidTFbXmV4MV0gW3UyW15leDJdIC4uLl0gWy8gdTNbXmV4M10gW3U0W15leDRdXV1cIiwgc3VjaCBhcyBcImtnIG1eMi9zXjJcIiwgd2hlcmUgZWFjaCB1bml0IGFwcGVhcmluZyBhZnRlciB0aGUgZm9yd2FyZCBzbGFzaCBpcyB0YWtlbiB0byBiZSBpbiB0aGUgZGVub21pbmF0b3IuIFwia2cgbV4yIHNeLTJcIiBpcyBhIHN5bm9ueW0gYW5kIGlzIGFsc28gYWNjZXB0YWJsZS4gQW55IG9mIHRoZSB1bml0cyBjYW4gaW5jbHVkZSBhIHByZWZpeC5cbiAgICovXG5cbiAgZnVuY3Rpb24gVW5pdCh2YWx1ZSwgbmFtZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVbml0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoISh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGlzTnVtZXJpYyh2YWx1ZSkgfHwgaXNDb21wbGV4KHZhbHVlKSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IHBhcmFtZXRlciBpbiBVbml0IGNvbnN0cnVjdG9yIG11c3QgYmUgbnVtYmVyLCBCaWdOdW1iZXIsIEZyYWN0aW9uLCBDb21wbGV4LCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkICYmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgcGFyYW1ldGVyIGluIFVuaXQgY29uc3RydWN0b3IgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cblxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciB1ID0gVW5pdC5wYXJzZShuYW1lKTtcbiAgICAgIHRoaXMudW5pdHMgPSB1LnVuaXRzO1xuICAgICAgdGhpcy5kaW1lbnNpb25zID0gdS5kaW1lbnNpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaXRzID0gW3tcbiAgICAgICAgdW5pdDogVU5JVF9OT05FLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkUsXG4gICAgICAgIC8vIGxpbmsgdG8gYSBsaXN0IHdpdGggc3VwcG9ydGVkIHByZWZpeGVzXG4gICAgICAgIHBvd2VyOiAwXG4gICAgICB9XTtcbiAgICAgIHRoaXMuZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNbaV0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKHZhbHVlKSA6IG51bGw7XG4gICAgdGhpcy5maXhQcmVmaXggPSBmYWxzZTsgLy8gaWYgdHJ1ZSwgZnVuY3Rpb24gZm9ybWF0IHdpbGwgbm90IHNlYXJjaCBmb3IgdGhlXG4gICAgLy8gYmVzdCBwcmVmaXggYnV0IGxlYXZlIGl0IGFzIGluaXRpYWxseSBwcm92aWRlZC5cbiAgICAvLyBmaXhQcmVmaXggaXMgc2V0IHRydWUgYnkgdGhlIG1ldGhvZCBVbml0LnRvXG4gICAgLy8gVGhlIGp1c3RpZmljYXRpb24gYmVoaW5kIHRoaXMgaXMgdGhhdCBpZiB0aGUgY29uc3RydWN0b3IgaXMgZXhwbGljaXRseSBjYWxsZWQsXG4gICAgLy8gdGhlIGNhbGxlciB3aXNoZXMgdGhlIHVuaXRzIHRvIGJlIHJldHVybmVkIGV4YWN0bHkgYXMgaGUgc3VwcGxpZWQuXG5cbiAgICB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudHlwZSA9ICdVbml0JztcbiAgVW5pdC5wcm90b3R5cGUuaXNVbml0ID0gdHJ1ZTsgLy8gcHJpdmF0ZSB2YXJpYWJsZXMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlIFVuaXQgcGFyc2VyXG5cbiAgdmFyIHRleHQsIGluZGV4LCBjO1xuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgIHdoaWxlIChjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0RpZ2l0RG90KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA9PT0gJy4nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpbmRleCsrO1xuICAgIGMgPSB0ZXh0LmNoYXJBdChpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnQob2xkSW5kZXgpIHtcbiAgICBpbmRleCA9IG9sZEluZGV4O1xuICAgIGMgPSB0ZXh0LmNoYXJBdChpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZU51bWJlcigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIG9sZEluZGV4ID0gaW5kZXg7XG5cbiAgICBpZiAoYyA9PT0gJysnKSB7XG4gICAgICBuZXh0KCk7XG4gICAgfSBlbHNlIGlmIChjID09PSAnLScpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH1cblxuICAgIGlmICghaXNEaWdpdERvdChjKSkge1xuICAgICAgLy8gYSArIG9yIC0gbXVzdCBiZSBmb2xsb3dlZCBieSBhIGRpZ2l0XG4gICAgICByZXZlcnQob2xkSW5kZXgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyBnZXQgbnVtYmVyLCBjYW4gaGF2ZSBhIHNpbmdsZSBkb3RcblxuXG4gICAgaWYgKGMgPT09ICcuJykge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG5cbiAgICAgIGlmICghaXNEaWdpdChjKSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vIGxlZ2FsIG51bWJlciwgaXQgaXMganVzdCBhIGRvdFxuICAgICAgICByZXZlcnQob2xkSW5kZXgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGMgPT09ICcuJykge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9IC8vIGNoZWNrIGZvciBleHBvbmVudGlhbCBub3RhdGlvbiBsaWtlIFwiMi4zZS00XCIgb3IgXCIxLjIzZTUwXCJcblxuXG4gICAgaWYgKGMgPT09ICdFJyB8fCBjID09PSAnZScpIHtcbiAgICAgIC8vIFRoZSBncmFtbWFyIGJyYW5jaGVzIGhlcmUuIFRoaXMgY291bGQgZWl0aGVyIGJlIHBhcnQgb2YgYW4gZXhwb25lbnQgb3IgdGhlIHN0YXJ0IG9mIGEgdW5pdCB0aGF0IGJlZ2lucyB3aXRoIHRoZSBsZXR0ZXIgZSwgc3VjaCBhcyBcIjRleGFieXRlc1wiXG4gICAgICB2YXIgdGVudGF0aXZlTnVtYmVyID0gJyc7XG4gICAgICB2YXIgdGVudGF0aXZlSW5kZXggPSBpbmRleDtcbiAgICAgIHRlbnRhdGl2ZU51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuXG4gICAgICBpZiAoYyA9PT0gJysnIHx8IGMgPT09ICctJykge1xuICAgICAgICB0ZW50YXRpdmVOdW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSAvLyBTY2llbnRpZmljIG5vdGF0aW9uIE1VU1QgYmUgZm9sbG93ZWQgYnkgYW4gZXhwb25lbnQgKG90aGVyd2lzZSB3ZSBhc3N1bWUgaXQgaXMgbm90IHNjaWVudGlmaWMgbm90YXRpb24pXG5cblxuICAgICAgaWYgKCFpc0RpZ2l0KGMpKSB7XG4gICAgICAgIC8vIFRoZSBlIG9yIEUgbXVzdCBiZWxvbmcgdG8gc29tZXRoaW5nIGVsc2UsIHNvIHJldHVybiB0aGUgbnVtYmVyIHdpdGhvdXQgdGhlIGUgb3IgRS5cbiAgICAgICAgcmV2ZXJ0KHRlbnRhdGl2ZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgIH0gLy8gV2UgY2FuIG5vdyBzYWZlbHkgc2F5IHRoYXQgdGhpcyBpcyBzY2llbnRpZmljIG5vdGF0aW9uLlxuXG5cbiAgICAgIG51bWJlciA9IG51bWJlciArIHRlbnRhdGl2ZU51bWJlcjtcblxuICAgICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VVbml0KCkge1xuICAgIHZhciB1bml0TmFtZSA9ICcnOyAvLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvbmx5OyBtYXRjaGVzIFthLXpBLVowLTldXG5cbiAgICB3aGlsZSAoaXNEaWdpdChjKSB8fCBVbml0LmlzVmFsaWRBbHBoYShjKSkge1xuICAgICAgdW5pdE5hbWUgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9IC8vIE11c3QgYmVnaW4gd2l0aCBbYS16QS1aXVxuXG5cbiAgICB2YXIgZmlyc3RDID0gdW5pdE5hbWUuY2hhckF0KDApO1xuXG4gICAgaWYgKFVuaXQuaXNWYWxpZEFscGhhKGZpcnN0QykpIHtcbiAgICAgIHJldHVybiB1bml0TmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VDaGFyYWN0ZXIodG9GaW5kKSB7XG4gICAgaWYgKGMgPT09IHRvRmluZCkge1xuICAgICAgbmV4dCgpO1xuICAgICAgcmV0dXJuIHRvRmluZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBpbnRvIGEgdW5pdC4gVGhlIHZhbHVlIG9mIHRoZSB1bml0IGlzIHBhcnNlZCBhcyBudW1iZXIsXG4gICAqIEJpZ051bWJlciwgb3IgRnJhY3Rpb24gZGVwZW5kaW5nIG9uIHRoZSBtYXRoLmpzIGNvbmZpZyBzZXR0aW5nIGBudW1iZXJgLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBwcm92aWRlZCBzdHJpbmcgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHVuaXQgb3JcbiAgICogY2Fubm90IGJlIHBhcnNlZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgQSBzdHJpbmcgbGlrZSBcIjUuMiBpbmNoXCIsIFwiNGUyIGNtL3NeMlwiXG4gICAqIEByZXR1cm4ge1VuaXR9IHVuaXRcbiAgICovXG5cblxuICBVbml0LnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRleHQgPSBzdHI7XG4gICAgaW5kZXggPSAtMTtcbiAgICBjID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IGluIFVuaXQucGFyc2UsIHN0cmluZyBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoKTtcbiAgICB1bml0LnVuaXRzID0gW107XG4gICAgdmFyIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgIHZhciBleHBlY3RpbmdVbml0ID0gZmFsc2U7IC8vIEEgdW5pdCBzaG91bGQgZm9sbG93IHRoaXMgcGF0dGVybjpcbiAgICAvLyBbbnVtYmVyXSAuLi5bIFsqL10gdW5pdFtebnVtYmVyXSBdXG4gICAgLy8gdW5pdFtebnVtYmVyXSAuLi4gWyBbKi9dIHVuaXRbXm51bWJlcl0gXVxuICAgIC8vIFJ1bGVzOlxuICAgIC8vIG51bWJlciBpcyBhbnkgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgIC8vIHVuaXQgaXMgYW55IGFscGhhbnVtZXJpYyBzdHJpbmcgYmVnaW5uaW5nIHdpdGggYW4gYWxwaGEuIFVuaXRzIHdpdGggbmFtZXMgbGlrZSBlMyBzaG91bGQgYmUgYXZvaWRlZCBiZWNhdXNlIHRoZXkgbG9vayBsaWtlIHRoZSBleHBvbmVudCBvZiBhIGZsb2F0aW5nIHBvaW50IG51bWJlciFcbiAgICAvLyBUaGUgc3RyaW5nIG1heSBvcHRpb25hbGx5IGJlZ2luIHdpdGggYSBudW1iZXIuXG4gICAgLy8gRWFjaCB1bml0IG1heSBvcHRpb25hbGx5IGJlIGZvbGxvd2VkIGJ5IF5udW1iZXIuXG4gICAgLy8gV2hpdGVzcGFjZSBvciBhIGZvcndhcmQgc2xhc2ggaXMgcmVjb21tZW5kZWQgYmV0d2VlbiBjb25zZWN1dGl2ZSB1bml0cywgYWx0aG91Z2ggdGhlIGZvbGxvd2luZyB0ZWNobmljYWxseSBpcyBwYXJzZWFibGU6XG4gICAgLy8gICAybV4ya2cvc14yXG4gICAgLy8gaXQgaXMgbm90IGdvb2QgZm9ybS4gSWYgYSB1bml0IHN0YXJ0cyB3aXRoIGUsIHRoZW4gaXQgY291bGQgYmUgY29uZnVzZWQgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXI6XG4gICAgLy8gICA0ZXJnXG5cbiAgICBuZXh0KCk7XG4gICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gT3B0aW9uYWwgbnVtYmVyIGF0IHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG5cbiAgICB2YXIgdmFsdWVTdHIgPSBwYXJzZU51bWJlcigpO1xuICAgIHZhciB2YWx1ZSA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVTdHIpIHtcbiAgICAgIGlmIChjb25maWcubnVtYmVyID09PSAnQmlnTnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9IG5ldyBfQmlnTnVtYmVyKHZhbHVlU3RyKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0ZyYWN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIG5vdCBhbGwgbnVtYmVycyBjYW4gYmUgdHVybmVkIGluIEZyYWN0aW9ucywgZm9yIGV4YW1wbGUgdmVyeSBzbWFsbCBudW1iZXJzIG5vdFxuICAgICAgICAgIHZhbHVlID0gbmV3IF9GcmFjdGlvbih2YWx1ZVN0cik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZVN0cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG51bWJlclxuICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHIpO1xuICAgICAgfVxuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBXaGl0ZXNwYWNlIGlzIG5vdCByZXF1aXJlZCBoZXJlXG4gICAgICAvLyBoYW5kbGUgbXVsdGlwbGljYXRpb24gb3IgZGl2aXNpb24gcmlnaHQgYWZ0ZXIgdGhlIHZhbHVlLCBsaWtlICcxL3MnXG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignKicpKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VDaGFyYWN0ZXIoJy8nKSkge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gLTE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gLy8gU3RhY2sgdG8ga2VlcCB0cmFjayBvZiBwb3dlck11bHRpcGxpZXJzIGFwcGxpZWQgdG8gZWFjaCBwYXJlbnRoZXNlcyBncm91cFxuXG5cbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyU3RhY2sgPSBbXTsgLy8gUnVubmluZyBwcm9kdWN0IG9mIGFsbCBlbGVtZW50cyBpbiBwb3dlck11bHRpcGxpZXJTdGFja1xuXG4gICAgdmFyIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCA9IDE7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gQ2hlY2sgZm9yIGFuZCBjb25zdW1lIG9wZW5pbmcgcGFyZW50aGVzZXMsIHB1c2hpbmcgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCB0byB0aGUgc3RhY2tcbiAgICAgIC8vIEEgJygnIHdpbGwgYWx3YXlzIGFwcGVhciBkaXJlY3RseSBiZWZvcmUgYSB1bml0LlxuXG4gICAgICB3aGlsZSAoYyA9PT0gJygnKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrLnB1c2gocG93ZXJNdWx0aXBsaWVyQ3VycmVudCk7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCAqPSBwb3dlck11bHRpcGxpZXJDdXJyZW50O1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgfSAvLyBJcyB0aGVyZSBzb21ldGhpbmcgaGVyZT9cblxuXG4gICAgICB2YXIgdVN0ciA9IHZvaWQgMDtcblxuICAgICAgaWYgKGMpIHtcbiAgICAgICAgdmFyIG9sZEMgPSBjO1xuICAgICAgICB1U3RyID0gcGFyc2VVbml0KCk7XG5cbiAgICAgICAgaWYgKHVTdHIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgXCInICsgb2xkQyArICdcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiIGF0IGluZGV4ICcgKyBpbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5kIG9mIGlucHV0LlxuICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gVmVyaWZ5IHRoZSB1bml0IGV4aXN0cyBhbmQgZ2V0IHRoZSBwcmVmaXggKGlmIGFueSlcblxuXG4gICAgICB2YXIgcmVzID0gX2ZpbmRVbml0KHVTdHIpO1xuXG4gICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgIC8vIFVuaXQgbm90IGZvdW5kLlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuaXQgXCInICsgdVN0ciArICdcIiBub3QgZm91bmQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3dlciA9IHBvd2VyTXVsdGlwbGllckN1cnJlbnQgKiBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3Q7IC8vIElzIHRoZXJlIGEgXCJeIG51bWJlclwiP1xuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJ14nKSkge1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgICB2YXIgcCA9IHBhcnNlTnVtYmVyKCk7XG5cbiAgICAgICAgaWYgKHAgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBObyB2YWxpZCBudW1iZXIgZm91bmQgZm9yIHRoZSBwb3dlciFcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0luIFwiJyArIHN0ciArICdcIiwgXCJeXCIgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGZsb2F0aW5nLXBvaW50IG51bWJlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG93ZXIgKj0gcDtcbiAgICAgIH0gLy8gQWRkIHRoZSB1bml0IHRvIHRoZSBsaXN0XG5cblxuICAgICAgdW5pdC51bml0cy5wdXNoKHtcbiAgICAgICAgdW5pdDogcmVzLnVuaXQsXG4gICAgICAgIHByZWZpeDogcmVzLnByZWZpeCxcbiAgICAgICAgcG93ZXI6IHBvd2VyXG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdC5kaW1lbnNpb25zW2ldICs9IChyZXMudW5pdC5kaW1lbnNpb25zW2ldIHx8IDApICogcG93ZXI7XG4gICAgICB9IC8vIENoZWNrIGZvciBhbmQgY29uc3VtZSBjbG9zaW5nIHBhcmVudGhlc2VzLCBwb3BwaW5nIGZyb20gdGhlIHN0YWNrLlxuICAgICAgLy8gQSAnKScgd2lsbCBhbHdheXMgZm9sbG93IGEgdW5pdC5cblxuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgICB3aGlsZSAoYyA9PT0gJyknKSB7XG4gICAgICAgIGlmIChwb3dlck11bHRpcGxpZXJTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VubWF0Y2hlZCBcIilcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiIGF0IGluZGV4ICcgKyBpbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCAvPSBwb3dlck11bHRpcGxpZXJTdGFjay5wb3AoKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgfSAvLyBcIipcIiBhbmQgXCIvXCIgc2hvdWxkIG1lYW4gd2UgYXJlIGV4cGVjdGluZyBzb21ldGhpbmcgdG8gY29tZSBuZXh0LlxuICAgICAgLy8gSXMgdGhlcmUgYSBmb3J3YXJkIHNsYXNoPyBJZiBzbywgbmVnYXRlIHBvd2VyTXVsdGlwbGllckN1cnJlbnQuIFRoZSBuZXh0IHVuaXQgb3IgcGFyZW4gZ3JvdXAgaXMgaW4gdGhlIGRlbm9taW5hdG9yLlxuXG5cbiAgICAgIGV4cGVjdGluZ1VuaXQgPSBmYWxzZTtcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCcqJykpIHtcbiAgICAgICAgLy8gZXhwbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUNoYXJhY3RlcignLycpKSB7XG4gICAgICAgIC8vIGRpdmlzaW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAtMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgIH0gLy8gUmVwbGFjZSB0aGUgdW5pdCBpbnRvIHRoZSBhdXRvIHVuaXQgc3lzdGVtXG5cblxuICAgICAgaWYgKHJlcy51bml0LmJhc2UpIHtcbiAgICAgICAgdmFyIGJhc2VEaW0gPSByZXMudW5pdC5iYXNlLmtleTtcbiAgICAgICAgVU5JVF9TWVNURU1TLmF1dG9bYmFzZURpbV0gPSB7XG4gICAgICAgICAgdW5pdDogcmVzLnVuaXQsXG4gICAgICAgICAgcHJlZml4OiByZXMucHJlZml4XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSAvLyBIYXMgdGhlIHN0cmluZyBiZWVuIGVudGlyZWx5IGNvbnN1bWVkP1xuXG5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgaWYgKGMpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ291bGQgbm90IHBhcnNlOiBcIicgKyBzdHIgKyAnXCInKTtcbiAgICB9IC8vIElzIHRoZXJlIGEgdHJhaWxpbmcgc2xhc2g/XG5cblxuICAgIGlmIChleHBlY3RpbmdVbml0KSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1RyYWlsaW5nIGNoYXJhY3RlcnM6IFwiJyArIHN0ciArICdcIicpO1xuICAgIH0gLy8gSXMgdGhlIHBhcmVudGhlc2VzIHN0YWNrIGVtcHR5P1xuXG5cbiAgICBpZiAocG93ZXJNdWx0aXBsaWVyU3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VubWF0Y2hlZCBcIihcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiJyk7XG4gICAgfSAvLyBBcmUgdGhlcmUgYW55IHVuaXRzIGF0IGFsbD9cblxuXG4gICAgaWYgKHVuaXQudW5pdHMubGVuZ3RoID09PSAwICYmICFvcHRpb25zLmFsbG93Tm9Vbml0cykge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdcIicgKyBzdHIgKyAnXCIgY29udGFpbnMgbm8gdW5pdHMnKTtcbiAgICB9XG5cbiAgICB1bml0LnZhbHVlID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHVuaXQuX25vcm1hbGl6ZSh2YWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogY3JlYXRlIGEgY29weSBvZiB0aGlzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7VW5pdH0gUmV0dXJucyBhIGNsb25lZCB2ZXJzaW9uIG9mIHRoZSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdCgpO1xuICAgIHVuaXQuZml4UHJlZml4ID0gdGhpcy5maXhQcmVmaXg7XG4gICAgdW5pdC5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbjtcbiAgICB1bml0LnZhbHVlID0gY2xvbmUodGhpcy52YWx1ZSk7XG4gICAgdW5pdC5kaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zLnNsaWNlKDApO1xuICAgIHVuaXQudW5pdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdW5pdC51bml0c1tpXSA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBwIGluIHRoaXMudW5pdHNbaV0pIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMudW5pdHNbaV0sIHApKSB7XG4gICAgICAgICAgdW5pdC51bml0c1tpXVtwXSA9IHRoaXMudW5pdHNbaV1bcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSB1bml0IGlzIGRlcml2ZWQgKHN1Y2ggYXMgbS9zLCBvciBjbV4yLCBidXQgbm90IE4pXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHVuaXQgaXMgZGVyaXZlZFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9pc0Rlcml2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudW5pdHMubGVuZ3RoID4gMSB8fCBNYXRoLmFicyh0aGlzLnVuaXRzWzBdLnBvd2VyIC0gMS4wKSA+IDFlLTE1O1xuICB9O1xuICAvKipcbiAgICogTm9ybWFsaXplIGEgdmFsdWUsIGJhc2VkIG9uIGl0cyBjdXJyZW50bHkgc2V0IHVuaXQocylcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW59IHZhbHVlXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbn0gbm9ybWFsaXplZCB2YWx1ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9ub3JtYWxpemUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgdW5pdFZhbHVlLCB1bml0T2Zmc2V0LCB1bml0UG93ZXIsIHVuaXRQcmVmaXhWYWx1ZTtcbiAgICB2YXIgY29udmVydDtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc0Rlcml2ZWQoKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIGRlcml2ZWQgdW5pdCwgc28gZG8gbm90IGFwcGx5IG9mZnNldHMuXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgd2l0aCBKIGtnXi0xIGRlZ0NeLTEgeW91IHdvdWxkIE5PVCB3YW50IHRvIGFwcGx5IHRoZSBvZmZzZXQuXG4gICAgICB2YXIgcmVzID0gdmFsdWU7XG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS51bml0LnZhbHVlKTtcbiAgICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnByZWZpeC52YWx1ZSk7XG4gICAgICAgIHVuaXRQb3dlciA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wb3dlcik7XG4gICAgICAgIHJlcyA9IG11bHRpcGx5U2NhbGFyKHJlcywgcG93KG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdFBvd2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgdW5pdCBvZiBwb3dlciAxLCBsaWtlIGtnIG9yIGRlZ0NcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgICB1bml0T2Zmc2V0ID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQub2Zmc2V0KTtcbiAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgICAgcmV0dXJuIG11bHRpcGx5U2NhbGFyKGFkZFNjYWxhcih2YWx1ZSwgdW5pdE9mZnNldCksIG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRGVub3JtYWxpemUgYSB2YWx1ZSwgYmFzZWQgb24gaXRzIGN1cnJlbnRseSBzZXQgdW5pdChzKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVmaXhWYWx1ZV0gICAgT3B0aW9uYWwgcHJlZml4IHZhbHVlIHRvIGJlIHVzZWQgKGlnbm9yZWQgaWYgdGhpcyBpcyBhIGRlcml2ZWQgdW5pdClcbiAgICogQHJldHVybiB7bnVtYmVyfSBkZW5vcm1hbGl6ZWQgdmFsdWVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fZGVub3JtYWxpemUgPSBmdW5jdGlvbiAodmFsdWUsIHByZWZpeFZhbHVlKSB7XG4gICAgdmFyIHVuaXRWYWx1ZSwgdW5pdE9mZnNldCwgdW5pdFBvd2VyLCB1bml0UHJlZml4VmFsdWU7XG4gICAgdmFyIGNvbnZlcnQ7XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNEZXJpdmVkKCkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBkZXJpdmVkIHVuaXQsIHNvIGRvIG5vdCBhcHBseSBvZmZzZXRzLlxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHdpdGggSiBrZ14tMSBkZWdDXi0xIHlvdSB3b3VsZCBOT1Qgd2FudCB0byBhcHBseSB0aGUgb2Zmc2V0LlxuICAgICAgLy8gQWxzbywgcHJlZml4VmFsdWUgaXMgaWdub3JlZC0tYnV0IHdlIHdpbGwgc3RpbGwgdXNlIHRoZSBwcmVmaXggdmFsdWUgc3RvcmVkIGluIGVhY2ggdW5pdCwgc2luY2Uga2cgaXMgdXN1YWxseSBwcmVmZXJhYmxlIHRvIGcgdW5sZXNzIHRoZSB1c2VyIGRlY2lkZXMgb3RoZXJ3aXNlLlxuICAgICAgdmFyIHJlcyA9IHZhbHVlO1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0udW5pdC52YWx1ZSk7XG4gICAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wcmVmaXgudmFsdWUpO1xuICAgICAgICB1bml0UG93ZXIgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucG93ZXIpO1xuICAgICAgICByZXMgPSBkaXZpZGVTY2FsYXIocmVzLCBwb3cobXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpLCB1bml0UG93ZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSB1bml0IG9mIHBvd2VyIDEsIGxpa2Uga2cgb3IgZGVnQ1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgICAgdW5pdE9mZnNldCA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0Lm9mZnNldCk7XG5cbiAgICAgIGlmIChwcmVmaXhWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHByZWZpeFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzdWJ0cmFjdChkaXZpZGVTY2FsYXIoZGl2aWRlU2NhbGFyKHZhbHVlLCB1bml0VmFsdWUpLCB1bml0UHJlZml4VmFsdWUpLCB1bml0T2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdWJ0cmFjdChkaXZpZGVTY2FsYXIoZGl2aWRlU2NhbGFyKHZhbHVlLCB1bml0VmFsdWUpLCBwcmVmaXhWYWx1ZSksIHVuaXRPZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEZpbmQgYSB1bml0IGZyb20gYSBzdHJpbmdcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgICAgQSBzdHJpbmcgbGlrZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJucyB7T2JqZWN0IHwgbnVsbH0gcmVzdWx0ICBXaGVuIGZvdW5kLCBhbiBvYmplY3Qgd2l0aCBmaWVsZHMgdW5pdCBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4IGlzIHJldHVybmVkLiBFbHNlLCBudWxsIGlzIHJldHVybmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciBfZmluZFVuaXQgPSBtZW1vaXplKHN0ciA9PiB7XG4gICAgLy8gRmlyc3QsIG1hdGNoIHVuaXRzIG5hbWVzIGV4YWN0bHkuIEZvciBleGFtcGxlLCBhIHVzZXIgY291bGQgZGVmaW5lICdtbScgYXMgMTBeLTQgbSwgd2hpY2ggaXMgc2lsbHksIGJ1dCB0aGVuIHdlIHdvdWxkIHdhbnQgJ21tJyB0byBtYXRjaCB0aGUgdXNlci1kZWZpbmVkIHVuaXQuXG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBzdHIpKSB7XG4gICAgICB2YXIgdW5pdCA9IFVOSVRTW3N0cl07XG4gICAgICB2YXIgcHJlZml4ID0gdW5pdC5wcmVmaXhlc1snJ107XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bml0LFxuICAgICAgICBwcmVmaXhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX25hbWUgaW4gVU5JVFMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgX25hbWUpKSB7XG4gICAgICAgIGlmIChlbmRzV2l0aChzdHIsIF9uYW1lKSkge1xuICAgICAgICAgIHZhciBfdW5pdCA9IFVOSVRTW19uYW1lXTtcbiAgICAgICAgICB2YXIgcHJlZml4TGVuID0gc3RyLmxlbmd0aCAtIF9uYW1lLmxlbmd0aDtcbiAgICAgICAgICB2YXIgcHJlZml4TmFtZSA9IHN0ci5zdWJzdHJpbmcoMCwgcHJlZml4TGVuKTtcblxuICAgICAgICAgIHZhciBfcHJlZml4ID0gaGFzT3duUHJvcGVydHkoX3VuaXQucHJlZml4ZXMsIHByZWZpeE5hbWUpID8gX3VuaXQucHJlZml4ZXNbcHJlZml4TmFtZV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoX3ByZWZpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBzdG9yZSB1bml0LCBwcmVmaXgsIGFuZCB2YWx1ZVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdW5pdDogX3VuaXQsXG4gICAgICAgICAgICAgIHByZWZpeDogX3ByZWZpeFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwge1xuICAgIGhhc2hlcjogYXJncyA9PiBhcmdzWzBdLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnaXZlbiBleHByZXNzaW9uIGlzIGEgdW5pdC5cbiAgICogVGhlIHVuaXQgY2FuIGhhdmUgYSBwcmVmaXggYnV0IGNhbm5vdCBoYXZlIGEgdmFsdWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgQSBzdHJpbmcgdG8gYmUgdGVzdGVkIHdoZXRoZXIgaXQgaXMgYSB2YWx1ZSBsZXNzIHVuaXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHVuaXQgY2FuIGhhdmUgcHJlZml4LCBsaWtlIFwiY21cIlxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgICAgIHRydWUgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhIHVuaXRcbiAgICovXG5cblxuICBVbml0LmlzVmFsdWVsZXNzVW5pdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIF9maW5kVW5pdChuYW1lKSAhPT0gbnVsbDtcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrIGlmIHRoaXMgdW5pdCBoYXMgZ2l2ZW4gYmFzZSB1bml0XG4gICAqIElmIHRoaXMgdW5pdCBpcyBhIGRlcml2ZWQgdW5pdCwgdGhpcyB3aWxsIEFMV0FZUyByZXR1cm4gZmFsc2UsIHNpbmNlIGJ5IGRlZmluaXRpb24gYmFzZSB1bml0cyBhcmUgbm90IGRlcml2ZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7QkFTRV9VTklUUyB8IHN0cmluZyB8IHVuZGVmaW5lZH0gYmFzZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmhhc0Jhc2UgPSBmdW5jdGlvbiAoYmFzZSkge1xuICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJhc2UgPSBCQVNFX1VOSVRTW2Jhc2VdO1xuICAgIH1cblxuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gQWxsIGRpbWVuc2lvbnMgbXVzdCBiZSB0aGUgc2FtZVxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKE1hdGguYWJzKCh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAoYmFzZS5kaW1lbnNpb25zW2ldIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgdW5pdCBoYXMgYSBiYXNlIG9yIGJhc2VzIGVxdWFsIHRvIGFub3RoZXIgYmFzZSBvciBiYXNlc1xuICAgKiBGb3IgZGVyaXZlZCB1bml0cywgdGhlIGV4cG9uZW50IG9uIGVhY2ggYmFzZSBhbHNvIG11c3QgbWF0Y2hcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGVxdWFsIGJhc2VcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5lcXVhbEJhc2UgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAvLyBBbGwgZGltZW5zaW9ucyBtdXN0IGJlIHRoZSBzYW1lXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChNYXRoLmFicygodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyB1bml0IGVxdWFscyBhbm90aGVyIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGJvdGggdW5pdHMgYXJlIGVxdWFsXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZXF1YWxCYXNlKG90aGVyKSAmJiBlcXVhbCh0aGlzLnZhbHVlLCBvdGhlci52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGlzIHVuaXQgd2l0aCBhbm90aGVyIG9uZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge1VuaXR9IHByb2R1Y3Qgb2YgdGhpcyB1bml0IGFuZCB0aGUgb3RoZXIgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSArIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApO1xuICAgIH0gLy8gQXBwZW5kIG90aGVyJ3MgdW5pdHMgbGlzdCBvbnRvIHJlc1xuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3RoZXIudW5pdHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAvLyBNYWtlIGEgc2hhbGxvdyBjb3B5IG9mIGV2ZXJ5IHVuaXRcbiAgICAgIHZhciBpbnZlcnRlZCA9IF9vYmplY3RTcHJlYWQoe30sIG90aGVyLnVuaXRzW19pXSk7XG5cbiAgICAgIHJlcy51bml0cy5wdXNoKGludmVydGVkKTtcbiAgICB9IC8vIElmIGF0IGxlYXN0IG9uZSBvcGVyYW5kIGhhcyBhIHZhbHVlLCB0aGVuIHRoZSByZXN1bHQgc2hvdWxkIGFsc28gaGF2ZSBhIHZhbHVlXG5cblxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsIHx8IG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgdmFsVGhpcyA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuICAgICAgdmFyIHZhbE90aGVyID0gb3RoZXIudmFsdWUgPT09IG51bGwgPyBvdGhlci5fbm9ybWFsaXplKDEpIDogb3RoZXIudmFsdWU7XG4gICAgICByZXMudmFsdWUgPSBtdWx0aXBseVNjYWxhcih2YWxUaGlzLCB2YWxPdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogRGl2aWRlIHRoaXMgdW5pdCBieSBhbm90aGVyIG9uZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge1VuaXR9IHJlc3VsdCBvZiBkaXZpZGluZyB0aGlzIHVuaXQgYnkgdGhlIG90aGVyIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCk7XG4gICAgfSAvLyBJbnZlcnQgYW5kIGFwcGVuZCBvdGhlcidzIHVuaXRzIGxpc3Qgb250byByZXNcblxuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgb3RoZXIudW5pdHMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgLy8gTWFrZSBhIHNoYWxsb3cgY29weSBvZiBldmVyeSB1bml0XG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG90aGVyLnVuaXRzW19pMl0pLCB7fSwge1xuICAgICAgICBwb3dlcjogLW90aGVyLnVuaXRzW19pMl0ucG93ZXJcbiAgICAgIH0pO1xuXG4gICAgICByZXMudW5pdHMucHVzaChpbnZlcnRlZCk7XG4gICAgfSAvLyBJZiBhdCBsZWFzdCBvbmUgb3BlcmFuZCBoYXMgYSB2YWx1ZSwgdGhlIHJlc3VsdCBzaG91bGQgaGF2ZSBhIHZhbHVlXG5cblxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsIHx8IG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgdmFsVGhpcyA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuICAgICAgdmFyIHZhbE90aGVyID0gb3RoZXIudmFsdWUgPT09IG51bGwgPyBvdGhlci5fbm9ybWFsaXplKDEpIDogb3RoZXIudmFsdWU7XG4gICAgICByZXMudmFsdWUgPSBkaXZpZGVTY2FsYXIodmFsVGhpcywgdmFsT3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXJ9IHBcbiAgICogQHJldHVybnMge1VuaXR9ICAgICAgVGhlIHJlc3VsdDogdGhpc15wXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApICogcDtcbiAgICB9IC8vIEFkanVzdCB0aGUgcG93ZXIgb2YgZWFjaCB1bml0IGluIHRoZSBsaXN0XG5cblxuICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHJlcy51bml0cy5sZW5ndGg7IF9pMysrKSB7XG4gICAgICByZXMudW5pdHNbX2kzXS5wb3dlciAqPSBwO1xuICAgIH1cblxuICAgIGlmIChyZXMudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHJlcy52YWx1ZSA9IHBvdyhyZXMudmFsdWUsIHApOyAvLyBvbmx5IGFsbG93IG51bWVyaWMgb3V0cHV0LCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhIENvbXBsZXggbnVtYmVyXG4gICAgICAvLyBpZiAoIWlzTnVtZXJpYyhyZXMudmFsdWUpKSB7XG4gICAgICAvLyAgcmVzLnZhbHVlID0gTmFOXG4gICAgICAvLyB9XG4gICAgICAvLyBVcGRhdGU6IENvbXBsZXggc3VwcG9ydGVkIG5vd1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGlzIHVuaXQgaWYgaXQgaXMgZGltZW5zaW9ubGVzcywgaGFzIGEgdmFsdWUsIGFuZCBjb25maWcucHJlZGljdGFibGUgPT0gZmFsc2U7IG9yIHRoZSBvcmlnaW5hbCB1bml0IG90aGVyd2lzZVxuICAgKiBAcGFyYW0ge1VuaXR9IHVuaXRcbiAgICogQHJldHVybnMge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgVW5pdH0gIFRoZSBudW1lcmljIHZhbHVlIG9mIHRoZSB1bml0IGlmIGNvbmRpdGlvbnMgYXJlIG1ldCwgb3IgdGhlIG9yaWdpbmFsIHVuaXQgb3RoZXJ3aXNlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0TnVtZXJpY0lmVW5pdGxlc3ModW5pdCkge1xuICAgIGlmICh1bml0LmVxdWFsQmFzZShCQVNFX1VOSVRTLk5PTkUpICYmIHVuaXQudmFsdWUgIT09IG51bGwgJiYgIWNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgcmV0dXJuIHVuaXQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bml0O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcn0geFxuICAgKiBAcmV0dXJucyB7VW5pdH0gICAgICBUaGUgcmVzdWx0OiB8eHwsIGFic29sdXRlIHZhbHVlIG9mIHhcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBnaXZlcyBjb3JyZWN0LCBidXQgdW5leHBlY3RlZCwgcmVzdWx0cyBmb3IgdW5pdHMgd2l0aCBhbiBvZmZzZXQuXG4gICAgLy8gRm9yIGV4YW1wbGUsIGFicygtMjgzLjE1IGRlZ0MpID0gLTI2My4xNSBkZWdDICEhIVxuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgcmV0LnZhbHVlID0gcmV0LnZhbHVlICE9PSBudWxsID8gYWJzKHJldC52YWx1ZSkgOiBudWxsO1xuXG4gICAgZm9yICh2YXIgaSBpbiByZXQudW5pdHMpIHtcbiAgICAgIGlmIChyZXQudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkEnIHx8IHJldC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQVInKSB7XG4gICAgICAgIHJldC51bml0c1tpXS51bml0ID0gVU5JVFMuVztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogQ29udmVydCB0aGUgdW5pdCB0byBhIHNwZWNpZmljIHVuaXQgbmFtZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgQSB1bml0IHdpdGhvdXQgdmFsdWUuIENhbiBoYXZlIHByZWZpeCwgbGlrZSBcImNtXCJcbiAgICogQHJldHVybnMge1VuaXR9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgdW5pdCB3aXRoIGEgZml4ZWQgcHJlZml4IGFuZCB1bml0LlxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICB2YXIgb3RoZXI7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlbGVzc1VuaXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBvdGhlciA9IG5ldyBVbml0KG51bGwsIHZhbHVlbGVzc1VuaXQpXG4gICAgICBvdGhlciA9IFVuaXQucGFyc2UodmFsdWVsZXNzVW5pdCk7XG5cbiAgICAgIGlmICghdGhpcy5lcXVhbEJhc2Uob3RoZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaXRzIGRvIG5vdCBtYXRjaCAoJ1wiLmNvbmNhdChvdGhlci50b1N0cmluZygpLCBcIicgIT0gJ1wiKS5jb25jYXQodGhpcy50b1N0cmluZygpLCBcIicpXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgdG8gYSB1bml0IHdpdGggYSB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBvdGhlci52YWx1ZSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIG90aGVyLmZpeFByZWZpeCA9IHRydWU7XG4gICAgICBvdGhlci5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH0gZWxzZSBpZiAoaXNVbml0KHZhbHVlbGVzc1VuaXQpKSB7XG4gICAgICBpZiAoIXRoaXMuZXF1YWxCYXNlKHZhbHVlbGVzc1VuaXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaXRzIGRvIG5vdCBtYXRjaCAoJ1wiLmNvbmNhdCh2YWx1ZWxlc3NVbml0LnRvU3RyaW5nKCksIFwiJyAhPSAnXCIpLmNvbmNhdCh0aGlzLnRvU3RyaW5nKCksIFwiJylcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWVsZXNzVW5pdC52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHRvIGEgdW5pdCB3aXRoIGEgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgb3RoZXIgPSB2YWx1ZWxlc3NVbml0LmNsb25lKCk7XG4gICAgICBvdGhlci52YWx1ZSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIG90aGVyLmZpeFByZWZpeCA9IHRydWU7XG4gICAgICBvdGhlci5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmluZyBvciBVbml0IGV4cGVjdGVkIGFzIHBhcmFtZXRlcicpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgd2hlbiByZXByZXNlbnRlZCB3aXRoIGdpdmVuIHZhbHVlbGVzcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgICBGb3IgZXhhbXBsZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIHVuaXQgdmFsdWUgYXMgbnVtYmVyLlxuICAgKi9cbiAgLy8gVE9ETzogZGVwcmVjYXRlIFVuaXQudG9OdW1iZXI/IEl0J3MgYWx3YXlzIGJldHRlciB0byB1c2UgdG9OdW1lcmljXG5cblxuICBVbml0LnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgcmV0dXJuIHRvTnVtYmVyKHRoaXMudG9OdW1lcmljKHZhbHVlbGVzc1VuaXQpKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgaW4gdGhlIG9yaWdpbmFsIG51bWVyaWMgdHlwZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICAgRm9yIGV4YW1wbGUgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb259IFJldHVybnMgdGhlIHVuaXQgdmFsdWVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b051bWVyaWMgPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHZhciBvdGhlcjtcblxuICAgIGlmICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgICAvLyBBbGxvdyBnZXR0aW5nIHRoZSBudW1lcmljIHZhbHVlIHdpdGhvdXQgY29udmVydGluZyB0byBhIGRpZmZlcmVudCB1bml0XG4gICAgICBvdGhlciA9IHRoaXMudG8odmFsdWVsZXNzVW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG90aGVyID0gdGhpcy5jbG9uZSgpO1xuICAgIH1cblxuICAgIGlmIChvdGhlci5faXNEZXJpdmVkKCkgfHwgb3RoZXIudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gb3RoZXIuX2Rlbm9ybWFsaXplKG90aGVyLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG90aGVyLl9kZW5vcm1hbGl6ZShvdGhlci52YWx1ZSwgb3RoZXIudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJVbml0XCIsIFwidmFsdWVcIjogMiwgXCJ1bml0XCI6IFwiY21cIiwgXCJmaXhQcmVmaXhcIjogZmFsc2V9YFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnVW5pdCcsXG4gICAgICB2YWx1ZTogdGhpcy5fZGVub3JtYWxpemUodGhpcy52YWx1ZSksXG4gICAgICB1bml0OiB0aGlzLmZvcm1hdFVuaXRzKCksXG4gICAgICBmaXhQcmVmaXg6IHRoaXMuZml4UHJlZml4XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgVW5pdCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJVbml0XCIsIFwidmFsdWVcIjogMiwgXCJ1bml0XCI6IFwiY21cIiwgXCJmaXhQcmVmaXhcIjogZmFsc2V9YFxuICAgKiBAcmV0dXJuIHtVbml0fVxuICAgKi9cblxuXG4gIFVuaXQuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoanNvbi52YWx1ZSwganNvbi51bml0KTtcbiAgICB1bml0LmZpeFByZWZpeCA9IGpzb24uZml4UHJlZml4IHx8IGZhbHNlO1xuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0LlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudmFsdWVPZiA9IFVuaXQucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogU2ltcGxpZnkgdGhpcyBVbml0J3MgdW5pdCBsaXN0IGFuZCByZXR1cm4gYSBuZXcgVW5pdCB3aXRoIHRoZSBzaW1wbGlmaWVkIGxpc3QuXG4gICAqIFRoZSByZXR1cm5lZCBVbml0IHdpbGwgY29udGFpbiBhIGxpc3Qgb2YgdGhlIFwiYmVzdFwiIHVuaXRzIGZvciBmb3JtYXR0aW5nLlxuICAgKi9cblxuICBVbml0LnByb3RvdHlwZS5zaW1wbGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciBwcm9wb3NlZFVuaXRMaXN0ID0gW107IC8vIFNlYXJjaCBmb3IgYSBtYXRjaGluZyBiYXNlXG5cbiAgICB2YXIgbWF0Y2hpbmdCYXNlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIGN1cnJlbnRVbml0U3lzdGVtKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIGtleSkpIHtcbiAgICAgICAgaWYgKHJldC5oYXNCYXNlKEJBU0VfVU5JVFNba2V5XSkpIHtcbiAgICAgICAgICBtYXRjaGluZ0Jhc2UgPSBrZXk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0Y2hpbmdCYXNlID09PSAnTk9ORScpIHtcbiAgICAgIHJldC51bml0cyA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWF0Y2hpbmdVbml0O1xuXG4gICAgICBpZiAobWF0Y2hpbmdCYXNlKSB7XG4gICAgICAgIC8vIERvZXMgdGhlIHVuaXQgc3lzdGVtIGhhdmUgYSBtYXRjaGluZyB1bml0P1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIG1hdGNoaW5nQmFzZSkpIHtcbiAgICAgICAgICBtYXRjaGluZ1VuaXQgPSBjdXJyZW50VW5pdFN5c3RlbVttYXRjaGluZ0Jhc2VdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaGluZ1VuaXQpIHtcbiAgICAgICAgcmV0LnVuaXRzID0gW3tcbiAgICAgICAgICB1bml0OiBtYXRjaGluZ1VuaXQudW5pdCxcbiAgICAgICAgICBwcmVmaXg6IG1hdGNoaW5nVW5pdC5wcmVmaXgsXG4gICAgICAgICAgcG93ZXI6IDEuMFxuICAgICAgICB9XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE11bHRpcGxlIHVuaXRzIG9yIHVuaXRzIHdpdGggcG93ZXJzIGFyZSBmb3JtYXR0ZWQgbGlrZSB0aGlzOlxuICAgICAgICAvLyA1IChrZyBtXjIpIC8gKHNeMyBtb2wpXG4gICAgICAgIC8vIEJ1aWxkIGFuIHJlcHJlc2VudGF0aW9uIGZyb20gdGhlIGJhc2UgdW5pdHMgb2YgdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW1cbiAgICAgICAgdmFyIG1pc3NpbmdCYXNlRGltID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgYmFzZURpbSA9IEJBU0VfRElNRU5TSU9OU1tpXTtcblxuICAgICAgICAgIGlmIChNYXRoLmFicyhyZXQuZGltZW5zaW9uc1tpXSB8fCAwKSA+IDFlLTEyKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIGJhc2VEaW0pKSB7XG4gICAgICAgICAgICAgIHByb3Bvc2VkVW5pdExpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgdW5pdDogY3VycmVudFVuaXRTeXN0ZW1bYmFzZURpbV0udW5pdCxcbiAgICAgICAgICAgICAgICBwcmVmaXg6IGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VEaW1dLnByZWZpeCxcbiAgICAgICAgICAgICAgICBwb3dlcjogcmV0LmRpbWVuc2lvbnNbaV0gfHwgMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1pc3NpbmdCYXNlRGltID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSXMgdGhlIHByb3Bvc2VkIHVuaXQgbGlzdCBcInNpbXBsZXJcIiB0aGFuIHRoZSBleGlzdGluZyBvbmU/XG5cblxuICAgICAgICBpZiAocHJvcG9zZWRVbml0TGlzdC5sZW5ndGggPCByZXQudW5pdHMubGVuZ3RoICYmICFtaXNzaW5nQmFzZURpbSkge1xuICAgICAgICAgIC8vIFJlcGxhY2UgdGhpcyB1bml0IGxpc3Qgd2l0aCB0aGUgcHJvcG9zZWQgbGlzdFxuICAgICAgICAgIHJldC51bml0cyA9IHByb3Bvc2VkVW5pdExpc3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBVbml0IGluIHRoZSBTSSBzeXN0ZW0gd2l0aCB0aGUgc2FtZSB2YWx1ZSBhcyB0aGlzIG9uZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvU0kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcHJvcG9zZWRVbml0TGlzdCA9IFtdOyAvLyBNdWx0aXBsZSB1bml0cyBvciB1bml0cyB3aXRoIHBvd2VycyBhcmUgZm9ybWF0dGVkIGxpa2UgdGhpczpcbiAgICAvLyA1IChrZyBtXjIpIC8gKHNeMyBtb2wpXG4gICAgLy8gQnVpbGQgYW4gcmVwcmVzZW50YXRpb24gZnJvbSB0aGUgYmFzZSB1bml0cyBvZiB0aGUgU0kgdW5pdCBzeXN0ZW1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYmFzZURpbSA9IEJBU0VfRElNRU5TSU9OU1tpXTtcblxuICAgICAgaWYgKE1hdGguYWJzKHJldC5kaW1lbnNpb25zW2ldIHx8IDApID4gMWUtMTIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUy5zaSwgYmFzZURpbSkpIHtcbiAgICAgICAgICBwcm9wb3NlZFVuaXRMaXN0LnB1c2goe1xuICAgICAgICAgICAgdW5pdDogVU5JVF9TWVNURU1TLnNpW2Jhc2VEaW1dLnVuaXQsXG4gICAgICAgICAgICBwcmVmaXg6IFVOSVRfU1lTVEVNUy5zaVtiYXNlRGltXS5wcmVmaXgsXG4gICAgICAgICAgICBwb3dlcjogcmV0LmRpbWVuc2lvbnNbaV0gfHwgMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4cHJlc3MgY3VzdG9tIHVuaXQgJyArIGJhc2VEaW0gKyAnIGluIFNJIHVuaXRzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFJlcGxhY2UgdGhpcyB1bml0IGxpc3Qgd2l0aCB0aGUgcHJvcG9zZWQgbGlzdFxuXG5cbiAgICByZXQudW5pdHMgPSBwcm9wb3NlZFVuaXRMaXN0O1xuICAgIHJldC5maXhQcmVmaXggPSB0cnVlO1xuICAgIHJldC5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXRzIG9mIHRoaXMgVW5pdCwgd2l0aG91dCB0aGUgdmFsdWUuIFRoZSB1bml0IGxpc3QgaXMgZm9ybWF0dGVkIGFzLWlzIHdpdGhvdXQgZmlyc3QgYmVpbmcgc2ltcGxpZmllZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmZvcm1hdFVuaXRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdHJOdW0gPSAnJztcbiAgICB2YXIgc3RyRGVuID0gJyc7XG4gICAgdmFyIG5OdW0gPSAwO1xuICAgIHZhciBuRGVuID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMudW5pdHNbaV0ucG93ZXIgPiAwKSB7XG4gICAgICAgIG5OdW0rKztcbiAgICAgICAgc3RyTnVtICs9ICcgJyArIHRoaXMudW5pdHNbaV0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW2ldLnVuaXQubmFtZTtcblxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1tpXS5wb3dlciAtIDEuMCkgPiAxZS0xNSkge1xuICAgICAgICAgIHN0ck51bSArPSAnXicgKyB0aGlzLnVuaXRzW2ldLnBvd2VyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudW5pdHNbaV0ucG93ZXIgPCAwKSB7XG4gICAgICAgIG5EZW4rKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobkRlbiA+IDApIHtcbiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHRoaXMudW5pdHMubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICBpZiAodGhpcy51bml0c1tfaTRdLnBvd2VyIDwgMCkge1xuICAgICAgICAgIGlmIChuTnVtID4gMCkge1xuICAgICAgICAgICAgc3RyRGVuICs9ICcgJyArIHRoaXMudW5pdHNbX2k0XS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbX2k0XS51bml0Lm5hbWU7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzW19pNF0ucG93ZXIgKyAxLjApID4gMWUtMTUpIHtcbiAgICAgICAgICAgICAgc3RyRGVuICs9ICdeJyArIC10aGlzLnVuaXRzW19pNF0ucG93ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnICcgKyB0aGlzLnVuaXRzW19pNF0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW19pNF0udW5pdC5uYW1lO1xuICAgICAgICAgICAgc3RyRGVuICs9ICdeJyArIHRoaXMudW5pdHNbX2k0XS5wb3dlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFJlbW92ZSBsZWFkaW5nIFwiIFwiXG5cblxuICAgIHN0ck51bSA9IHN0ck51bS5zdWJzdHIoMSk7XG4gICAgc3RyRGVuID0gc3RyRGVuLnN1YnN0cigxKTsgLy8gQWRkIHBhcmFucyBmb3IgYmV0dGVyIGNvcHkvcGFzdGUgYmFjayBpbnRvIGV2YWx1YXRlLCBmb3IgZXhhbXBsZSwgb3IgZm9yIGJldHRlciBwcmV0dHkgcHJpbnQgZm9ybWF0dGluZ1xuXG4gICAgaWYgKG5OdW0gPiAxICYmIG5EZW4gPiAwKSB7XG4gICAgICBzdHJOdW0gPSAnKCcgKyBzdHJOdW0gKyAnKSc7XG4gICAgfVxuXG4gICAgaWYgKG5EZW4gPiAxICYmIG5OdW0gPiAwKSB7XG4gICAgICBzdHJEZW4gPSAnKCcgKyBzdHJEZW4gKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIHN0ciA9IHN0ck51bTtcblxuICAgIGlmIChuTnVtID4gMCAmJiBuRGVuID4gMCkge1xuICAgICAgc3RyICs9ICcgLyAnO1xuICAgIH1cblxuICAgIHN0ciArPSBzdHJEZW47XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVW5pdCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBTaW1wbGZ5IHRoZSB1bml0IGxpc3QsIHVubGVzcyBpdCBpcyB2YWx1ZWxlc3Mgb3Igd2FzIGNyZWF0ZWQgZGlyZWN0bHkgaW4gdGhlXG4gICAgLy8gY29uc3RydWN0b3Igb3IgYXMgdGhlIHJlc3VsdCBvZiB0byBvciB0b1NJXG4gICAgdmFyIHNpbXAgPSB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiB8fCB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5jbG9uZSgpIDogdGhpcy5zaW1wbGlmeSgpOyAvLyBBcHBseSBzb21lIGN1c3RvbSBsb2dpYyBmb3IgaGFuZGxpbmcgVkEgYW5kIFZBUi4gVGhlIGdvYWwgaXMgdG8gZXhwcmVzcyB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgYXMgYSByZWFsIHZhbHVlLCBpZiBwb3NzaWJsZS4gT3RoZXJ3aXNlLCB1c2UgYSByZWFsLXZhbHVlZCB1bml0IGluc3RlYWQgb2YgYSBjb21wbGV4LXZhbHVlZCBvbmUuXG5cbiAgICB2YXIgaXNJbWFnaW5hcnkgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2Ygc2ltcC52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2ltcC52YWx1ZSAhPT0gbnVsbCAmJiBpc0NvbXBsZXgoc2ltcC52YWx1ZSkpIHtcbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBiZXR0ZXIsIGZvciBleGFtcGxlLCB1c2UgcmVsYXRpdmUgbWFnbml0dWRlIG9mIHJlIGFuZCBpbSByYXRoZXIgdGhhbiBhYnNvbHV0ZVxuICAgICAgaXNJbWFnaW5hcnkgPSBNYXRoLmFicyhzaW1wLnZhbHVlLnJlKSA8IDFlLTE0O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gc2ltcC51bml0cykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHNpbXAudW5pdHMsIGkpKSB7XG4gICAgICAgIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQpIHtcbiAgICAgICAgICBpZiAoc2ltcC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQScgJiYgaXNJbWFnaW5hcnkpIHtcbiAgICAgICAgICAgIHNpbXAudW5pdHNbaV0udW5pdCA9IFVOSVRTLlZBUjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNpbXAudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkFSJyAmJiAhaXNJbWFnaW5hcnkpIHtcbiAgICAgICAgICAgIHNpbXAudW5pdHNbaV0udW5pdCA9IFVOSVRTLlZBO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gTm93IGFwcGx5IHRoZSBiZXN0IHByZWZpeFxuICAgIC8vIFVuaXRzIG11c3QgaGF2ZSBvbmx5IG9uZSB1bml0IGFuZCBub3QgaGF2ZSB0aGUgZml4UHJlZml4IGZsYWcgc2V0XG5cblxuICAgIGlmIChzaW1wLnVuaXRzLmxlbmd0aCA9PT0gMSAmJiAhc2ltcC5maXhQcmVmaXgpIHtcbiAgICAgIC8vIFVuaXRzIG11c3QgaGF2ZSBpbnRlZ2VyIHBvd2Vycywgb3RoZXJ3aXNlIHRoZSBwcmVmaXggd2lsbCBjaGFuZ2UgdGhlXG4gICAgICAvLyBvdXRwdXR0ZWQgdmFsdWUgYnkgbm90LWFuLWludGVnZXItcG93ZXItb2YtdGVuXG4gICAgICBpZiAoTWF0aC5hYnMoc2ltcC51bml0c1swXS5wb3dlciAtIE1hdGgucm91bmQoc2ltcC51bml0c1swXS5wb3dlcikpIDwgMWUtMTQpIHtcbiAgICAgICAgLy8gQXBwbHkgdGhlIGJlc3QgcHJlZml4XG4gICAgICAgIHNpbXAudW5pdHNbMF0ucHJlZml4ID0gc2ltcC5fYmVzdFByZWZpeCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHNpbXAuX2Rlbm9ybWFsaXplKHNpbXAudmFsdWUpO1xuXG4gICAgdmFyIHN0ciA9IHNpbXAudmFsdWUgIT09IG51bGwgPyBmb3JtYXQodmFsdWUsIG9wdGlvbnMgfHwge30pIDogJyc7XG4gICAgdmFyIHVuaXRTdHIgPSBzaW1wLmZvcm1hdFVuaXRzKCk7XG5cbiAgICBpZiAoc2ltcC52YWx1ZSAmJiBpc0NvbXBsZXgoc2ltcC52YWx1ZSkpIHtcbiAgICAgIHN0ciA9ICcoJyArIHN0ciArICcpJzsgLy8gU3Vycm91bmQgY29tcGxleCB2YWx1ZXMgd2l0aCAoICkgdG8gZW5hYmxlIGJldHRlciBwYXJzaW5nXG4gICAgfVxuXG4gICAgaWYgKHVuaXRTdHIubGVuZ3RoID4gMCAmJiBzdHIubGVuZ3RoID4gMCkge1xuICAgICAgc3RyICs9ICcgJztcbiAgICB9XG5cbiAgICBzdHIgKz0gdW5pdFN0cjtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBiZXN0IHByZWZpeCB1c2luZyBjdXJyZW50IHZhbHVlLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwcmVmaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fYmVzdFByZWZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy51bml0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgY29tcHV0ZSB0aGUgYmVzdCBwcmVmaXggZm9yIHNpbmdsZSB1bml0cyB3aXRoIGludGVnZXIgcG93ZXJzLCBsaWtlIGtnLCBzXjIsIE5eLTEsIGFuZCBzbyBmb3J0aCEnKTtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1swXS5wb3dlciAtIE1hdGgucm91bmQodGhpcy51bml0c1swXS5wb3dlcikpID49IDFlLTE0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGNvbXB1dGUgdGhlIGJlc3QgcHJlZml4IGZvciBzaW5nbGUgdW5pdHMgd2l0aCBpbnRlZ2VyIHBvd2VycywgbGlrZSBrZywgc14yLCBOXi0xLCBhbmQgc28gZm9ydGghJyk7XG4gICAgfSAvLyBmaW5kIHRoZSBiZXN0IHByZWZpeCB2YWx1ZSAocmVzdWx0aW5nIGluIHRoZSB2YWx1ZSBvZiB3aGljaFxuICAgIC8vIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGUgbG9nMTAgaXMgY2xvc2VzdCB0byB6ZXJvLFxuICAgIC8vIHRob3VnaCB3aXRoIGEgbGl0dGxlIG9mZnNldCBvZiAxLjIgZm9yIG5pY2VyIHZhbHVlczogeW91IGdldCBhXG4gICAgLy8gc2VxdWVuY2UgMW1tIDEwMG1tIDUwMG1tIDAuNm0gMW0gMTBtIDEwMG0gNTAwbSAwLjZrbSAxa20gLi4uXG4gICAgLy8gTm90ZTogdGhlIHVuaXRzIHZhbHVlIGNhbiBiZSBhbnkgbnVtZXJpYyB0eXBlLCBidXQgdG8gZmluZCB0aGUgYmVzdFxuICAgIC8vIHByZWZpeCBpdCdzIGVub3VnaCB0byB3b3JrIHdpdGggbGltaXRlZCBwcmVjaXNpb24gb2YgYSByZWd1bGFyIG51bWJlclxuICAgIC8vIFVwZGF0ZTogdXNpbmcgbWF0aGpzIGFicyBzaW5jZSB3ZSBhbHNvIGFsbG93IGNvbXBsZXggbnVtYmVyc1xuXG5cbiAgICB2YXIgYWJzVmFsdWUgPSB0aGlzLnZhbHVlICE9PSBudWxsID8gYWJzKHRoaXMudmFsdWUpIDogMDtcbiAgICB2YXIgYWJzVW5pdFZhbHVlID0gYWJzKHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgdmFyIGJlc3RQcmVmaXggPSB0aGlzLnVuaXRzWzBdLnByZWZpeDtcblxuICAgIGlmIChhYnNWYWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJlc3RQcmVmaXg7XG4gICAgfVxuXG4gICAgdmFyIHBvd2VyID0gdGhpcy51bml0c1swXS5wb3dlcjtcbiAgICB2YXIgYmVzdERpZmYgPSBNYXRoLmxvZyhhYnNWYWx1ZSAvIE1hdGgucG93KGJlc3RQcmVmaXgudmFsdWUgKiBhYnNVbml0VmFsdWUsIHBvd2VyKSkgLyBNYXRoLkxOMTAgLSAxLjI7XG4gICAgaWYgKGJlc3REaWZmID4gLTIuMjAwMDAxICYmIGJlc3REaWZmIDwgMS44MDAwMDEpIHJldHVybiBiZXN0UHJlZml4OyAvLyBBbGxvdyB0aGUgb3JpZ2luYWwgcHJlZml4XG5cbiAgICBiZXN0RGlmZiA9IE1hdGguYWJzKGJlc3REaWZmKTtcbiAgICB2YXIgcHJlZml4ZXMgPSB0aGlzLnVuaXRzWzBdLnVuaXQucHJlZml4ZXM7XG5cbiAgICBmb3IgKHZhciBwIGluIHByZWZpeGVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkocHJlZml4ZXMsIHApKSB7XG4gICAgICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1twXTtcblxuICAgICAgICBpZiAocHJlZml4LnNjaWVudGlmaWMpIHtcbiAgICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKE1hdGgubG9nKGFic1ZhbHVlIC8gTWF0aC5wb3cocHJlZml4LnZhbHVlICogYWJzVW5pdFZhbHVlLCBwb3dlcikpIC8gTWF0aC5MTjEwIC0gMS4yKTtcblxuICAgICAgICAgIGlmIChkaWZmIDwgYmVzdERpZmYgfHwgZGlmZiA9PT0gYmVzdERpZmYgJiYgcHJlZml4Lm5hbWUubGVuZ3RoIDwgYmVzdFByZWZpeC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2hvb3NlIHRoZSBwcmVmaXggd2l0aCB0aGUgc21hbGxlc3QgZGlmZiwgb3IgaWYgZXF1YWwsIGNob29zZSB0aGUgb25lXG4gICAgICAgICAgICAvLyB3aXRoIHRoZSBzaG9ydGVzdCBuYW1lIChjYW4gaGFwcGVuIHdpdGggU0hPUlRMT05HIGZvciBleGFtcGxlKVxuICAgICAgICAgICAgYmVzdFByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgICAgIGJlc3REaWZmID0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYmVzdFByZWZpeDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5pdHMgd2hvc2Ugc3VtIGlzIGVxdWFsIHRvIHRoaXMgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydHNdIEFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgdmFsdWVsZXNzIHVuaXRzLlxuICAgKlxuICAgKiAgIEV4YW1wbGU6XG4gICAqXG4gICAqICAgY29uc3QgdSA9IG5ldyBVbml0KDEsICdtJylcbiAgICogICB1LnNwbGl0VW5pdChbJ2ZlZXQnLCAnaW5jaCddKVxuICAgKiAgICAgWyAzIGZlZXQsIDMuMzcwMDc4NzQwMTU3NSBpbmNoIF1cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIHVuaXRzLlxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnNwbGl0VW5pdCA9IGZ1bmN0aW9uIChwYXJ0cykge1xuICAgIHZhciB4ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciByZXQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENvbnZlcnQgeCB0byB0aGUgcmVxdWVzdGVkIHVuaXRcbiAgICAgIHggPSB4LnRvKHBhcnRzW2ldKTtcbiAgICAgIGlmIChpID09PSBwYXJ0cy5sZW5ndGggLSAxKSBicmVhazsgLy8gR2V0IHRoZSBudW1lcmljIHZhbHVlIG9mIHRoaXMgdW5pdFxuXG4gICAgICB2YXIgeE51bWVyaWMgPSB4LnRvTnVtZXJpYygpOyAvLyBDaGVjayB0byBzZWUgaWYgeE51bWVyaWMgaXMgbmVhcmx5IGVxdWFsIHRvIGFuIGludGVnZXIsXG4gICAgICAvLyBzaW5jZSBmaXggY2FuIGluY29ycmVjdGx5IHJvdW5kIGRvd24gaWYgdGhlcmUgaXMgcm91bmQtb2ZmIGVycm9yXG5cbiAgICAgIHZhciB4Um91bmRlZCA9IHJvdW5kKHhOdW1lcmljKTtcbiAgICAgIHZhciB4Rml4ZWQgPSB2b2lkIDA7XG4gICAgICB2YXIgaXNOZWFybHlFcXVhbCA9IGVxdWFsKHhSb3VuZGVkLCB4TnVtZXJpYyk7XG5cbiAgICAgIGlmIChpc05lYXJseUVxdWFsKSB7XG4gICAgICAgIHhGaXhlZCA9IHhSb3VuZGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeEZpeGVkID0gZml4KHgudG9OdW1lcmljKCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgeSA9IG5ldyBVbml0KHhGaXhlZCwgcGFydHNbaV0udG9TdHJpbmcoKSk7XG4gICAgICByZXQucHVzaCh5KTtcbiAgICAgIHggPSBzdWJ0cmFjdCh4LCB5KTtcbiAgICB9IC8vIFRoaXMgbGl0dGxlIGJpdCBmaXhlcyBhIGJ1ZyB3aGVyZSB0aGUgcmVtYWluZGVyIHNob3VsZCBiZSAwIGJ1dCBpcyBhIGxpdHRsZSBiaXQgb2ZmLlxuICAgIC8vIEJ1dCBpbnN0ZWFkIG9mIGNvbXBhcmluZyB4LCB0aGUgcmVtYWluZGVyLCB3aXRoIHplcm8tLXdlIHdpbGwgY29tcGFyZSB0aGUgc3VtIG9mXG4gICAgLy8gYWxsIHRoZSBwYXJ0cyBzbyBmYXIgd2l0aCB0aGUgb3JpZ2luYWwgdmFsdWUuIElmIHRoZXkgYXJlIG5lYXJseSBlcXVhbCxcbiAgICAvLyB3ZSBzZXQgdGhlIHJlbWFpbmRlciB0byAwLlxuXG5cbiAgICB2YXIgdGVzdFN1bSA9IDA7XG5cbiAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCByZXQubGVuZ3RoOyBfaTUrKykge1xuICAgICAgdGVzdFN1bSA9IGFkZFNjYWxhcih0ZXN0U3VtLCByZXRbX2k1XS52YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFsKHRlc3RTdW0sIHRoaXMudmFsdWUpKSB7XG4gICAgICB4LnZhbHVlID0gMDtcbiAgICB9XG5cbiAgICByZXQucHVzaCh4KTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHZhciBQUkVGSVhFUyA9IHtcbiAgICBOT05FOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIFNIT1JUOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUxLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS0yMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIExPTkc6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRlY2E6IHtcbiAgICAgICAgbmFtZTogJ2RlY2EnLFxuICAgICAgICB2YWx1ZTogMWUxLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGhlY3RvOiB7XG4gICAgICAgIG5hbWU6ICdoZWN0bycsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAga2lsbzoge1xuICAgICAgICBuYW1lOiAna2lsbycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWdhOiB7XG4gICAgICAgIG5hbWU6ICdtZWdhJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpZ2E6IHtcbiAgICAgICAgbmFtZTogJ2dpZ2EnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGVyYToge1xuICAgICAgICBuYW1lOiAndGVyYScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGV0YToge1xuICAgICAgICBuYW1lOiAncGV0YScsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhhOiB7XG4gICAgICAgIG5hbWU6ICdleGEnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHpldHRhOiB7XG4gICAgICAgIG5hbWU6ICd6ZXR0YScsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW90dGE6IHtcbiAgICAgICAgbmFtZTogJ3lvdHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkZWNpOiB7XG4gICAgICAgIG5hbWU6ICdkZWNpJyxcbiAgICAgICAgdmFsdWU6IDFlLTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY2VudGk6IHtcbiAgICAgICAgbmFtZTogJ2NlbnRpJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbWlsbGk6IHtcbiAgICAgICAgbmFtZTogJ21pbGxpJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtaWNybzoge1xuICAgICAgICBuYW1lOiAnbWljcm8nLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG5hbm86IHtcbiAgICAgICAgbmFtZTogJ25hbm8nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBpY286IHtcbiAgICAgICAgbmFtZTogJ3BpY28nLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmZW10bzoge1xuICAgICAgICBuYW1lOiAnZmVtdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhdHRvOiB7XG4gICAgICAgIG5hbWU6ICdhdHRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemVwdG86IHtcbiAgICAgICAgbmFtZTogJ3plcHRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW9jdG86IHtcbiAgICAgICAgbmFtZTogJ3lvY3RvJyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBTUVVBUkVEOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWU0LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTMwLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTQyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTQ4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtNCxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTMwLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS0zNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtNDIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTQ4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBDVUJJQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWUyNyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUzNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWU0NSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWU1NCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWU2MyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWU3MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtMjcsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS00NSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtNTQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTYzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS03MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX1NIT1JUX1NJOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9TSE9SVF9JRUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEtpOiB7XG4gICAgICAgIG5hbWU6ICdLaScsXG4gICAgICAgIHZhbHVlOiAxMDI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTWk6IHtcbiAgICAgICAgbmFtZTogJ01pJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDIpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgR2k6IHtcbiAgICAgICAgbmFtZTogJ0dpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDMpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVGk6IHtcbiAgICAgICAgbmFtZTogJ1RpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDQpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUGk6IHtcbiAgICAgICAgbmFtZTogJ1BpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDUpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRWk6IHtcbiAgICAgICAgbmFtZTogJ0VpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDYpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWmk6IHtcbiAgICAgICAgbmFtZTogJ1ppJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDcpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWWk6IHtcbiAgICAgICAgbmFtZTogJ1lpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDgpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfTE9OR19TSToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAga2lsbzoge1xuICAgICAgICBuYW1lOiAna2lsbycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWdhOiB7XG4gICAgICAgIG5hbWU6ICdtZWdhJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpZ2E6IHtcbiAgICAgICAgbmFtZTogJ2dpZ2EnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGVyYToge1xuICAgICAgICBuYW1lOiAndGVyYScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGV0YToge1xuICAgICAgICBuYW1lOiAncGV0YScsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhhOiB7XG4gICAgICAgIG5hbWU6ICdleGEnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHpldHRhOiB7XG4gICAgICAgIG5hbWU6ICd6ZXR0YScsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW90dGE6IHtcbiAgICAgICAgbmFtZTogJ3lvdHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9MT05HX0lFQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAga2liaToge1xuICAgICAgICBuYW1lOiAna2liaScsXG4gICAgICAgIHZhbHVlOiAxMDI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWViaToge1xuICAgICAgICBuYW1lOiAnbWViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAyKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpYmk6IHtcbiAgICAgICAgbmFtZTogJ2dpYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZWJpOiB7XG4gICAgICAgIG5hbWU6ICd0ZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDQpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGViaToge1xuICAgICAgICBuYW1lOiAncGViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA1KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4aToge1xuICAgICAgICBuYW1lOiAnZXhpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDYpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemViaToge1xuICAgICAgICBuYW1lOiAnemViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA3KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvYmk6IHtcbiAgICAgICAgbmFtZTogJ3lvYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgOCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJUVToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTU06IHtcbiAgICAgICAgbmFtZTogJ01NJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgUFJFRklYRVMuU0hPUlRMT05HID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLlNIT1JULCBQUkVGSVhFUy5MT05HKTtcbiAgUFJFRklYRVMuQklOQVJZX1NIT1JUID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLkJJTkFSWV9TSE9SVF9TSSwgUFJFRklYRVMuQklOQVJZX1NIT1JUX0lFQyk7XG4gIFBSRUZJWEVTLkJJTkFSWV9MT05HID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLkJJTkFSWV9MT05HX1NJLCBQUkVGSVhFUy5CSU5BUllfTE9OR19JRUMpO1xuICAvKiBJbnRlcm5hbGx5LCBlYWNoIHVuaXQgaXMgcmVwcmVzZW50ZWQgYnkgYSB2YWx1ZSBhbmQgYSBkaW1lbnNpb24gYXJyYXkuIFRoZSBlbGVtZW50cyBvZiB0aGUgZGltZW5zaW9ucyBhcnJheSBoYXZlIHRoZSBmb2xsb3dpbmcgbWVhbmluZzpcbiAgICogSW5kZXggIERpbWVuc2lvblxuICAgKiAtLS0tLSAgLS0tLS0tLS0tXG4gICAqICAgMCAgICBMZW5ndGhcbiAgICogICAxICAgIE1hc3NcbiAgICogICAyICAgIFRpbWVcbiAgICogICAzICAgIEN1cnJlbnRcbiAgICogICA0ICAgIFRlbXBlcmF0dXJlXG4gICAqICAgNSAgICBMdW1pbm91cyBpbnRlbnNpdHlcbiAgICogICA2ICAgIEFtb3VudCBvZiBzdWJzdGFuY2VcbiAgICogICA3ICAgIEFuZ2xlXG4gICAqICAgOCAgICBCaXQgKGRpZ2l0YWwpXG4gICAqIEZvciBleGFtcGxlLCB0aGUgdW5pdCBcIjI5OC4xNSBLXCIgaXMgYSBwdXJlIHRlbXBlcmF0dXJlIGFuZCB3b3VsZCBoYXZlIGEgdmFsdWUgb2YgMjk4LjE1IGFuZCBhIGRpbWVuc2lvbiBhcnJheSBvZiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0uIFRoZSB1bml0IFwiMSBjYWwgLyAoZ20gwrBDKVwiIGNhbiBiZSB3cml0dGVuIGluIHRlcm1zIG9mIHRoZSA5IGZ1bmRhbWVudGFsIGRpbWVuc2lvbnMgYXMgW2xlbmd0aF4yXSAvIChbdGltZV4yXSAqIFt0ZW1wZXJhdHVyZV0pLCBhbmQgd291bGQgYSB2YWx1ZSBvZiAoYWZ0ZXIgY29udmVyc2lvbiB0byBTSSkgNDE4NC4wIGFuZCBhIGRpbWVuc2lvbnMgYXJyYXkgb2YgWzIsIDAsIC0yLCAwLCAtMSwgMCwgMCwgMCwgMF0uXG4gICAqXG4gICAqL1xuXG4gIHZhciBCQVNFX0RJTUVOU0lPTlMgPSBbJ01BU1MnLCAnTEVOR1RIJywgJ1RJTUUnLCAnQ1VSUkVOVCcsICdURU1QRVJBVFVSRScsICdMVU1JTk9VU19JTlRFTlNJVFknLCAnQU1PVU5UX09GX1NVQlNUQU5DRScsICdBTkdMRScsICdCSVQnXTtcbiAgdmFyIEJBU0VfVU5JVFMgPSB7XG4gICAgTk9ORToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQVNTOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIExFTkdUSDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBUSU1FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIENVUlJFTlQ6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVEVNUEVSQVRVUkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTFVNSU5PVVNfSU5URU5TSVRZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEFNT1VOVF9PRl9TVUJTVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwXVxuICAgIH0sXG4gICAgRk9SQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAxLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFNVUkZBQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAyLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVk9MVU1FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMywgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVORVJHWToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgUE9XRVI6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFBSRVNTVVJFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgLTEsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ0hBUkdFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMSwgMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NBUEFDSVRBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbLTEsIC0yLCA0LCAyLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfUE9URU5USUFMOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfUkVTSVNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAtMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0lORFVDVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgLTIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DT05EVUNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWy0xLCAtMiwgMywgMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BR05FVElDX0ZMVVg6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQUdORVRJQ19GTFVYX0RFTlNJVFk6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAwLCAtMiwgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBGUkVRVUVOQ1k6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAtMSwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEFOR0xFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICB9LFxuICAgIEJJVDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDFdXG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBCQVNFX1VOSVRTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIGtleSkpIHtcbiAgICAgIEJBU0VfVU5JVFNba2V5XS5rZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgdmFyIEJBU0VfVU5JVF9OT05FID0ge307XG4gIHZhciBVTklUX05PTkUgPSB7XG4gICAgbmFtZTogJycsXG4gICAgYmFzZTogQkFTRV9VTklUX05PTkUsXG4gICAgdmFsdWU6IDEsXG4gICAgb2Zmc2V0OiAwLFxuICAgIGRpbWVuc2lvbnM6IEJBU0VfRElNRU5TSU9OUy5tYXAoeCA9PiAwKVxuICB9O1xuICB2YXIgVU5JVFMgPSB7XG4gICAgLy8gbGVuZ3RoXG4gICAgbWV0ZXI6IHtcbiAgICAgIG5hbWU6ICdtZXRlcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGluY2g6IHtcbiAgICAgIG5hbWU6ICdpbmNoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBmb290OiB7XG4gICAgICBuYW1lOiAnZm9vdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMzA0OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWFyZDoge1xuICAgICAgbmFtZTogJ3lhcmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjkxNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbGU6IHtcbiAgICAgIG5hbWU6ICdtaWxlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTYwOS4zNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIG5hbWU6ICdsaW5rJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMDExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJvZDoge1xuICAgICAgbmFtZTogJ3JvZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDUuMDI5MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2hhaW46IHtcbiAgICAgIG5hbWU6ICdjaGFpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDIwLjExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGFuZ3N0cm9tOiB7XG4gICAgICBuYW1lOiAnYW5nc3Ryb20nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS0xMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbToge1xuICAgICAgbmFtZTogJ20nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaW46IHtcbiAgICAgIG5hbWU6ICdpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZnQ6IHtcbiAgICAgIG5hbWU6ICdmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMzA0OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWQ6IHtcbiAgICAgIG5hbWU6ICd5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuOTE0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWk6IHtcbiAgICAgIG5hbWU6ICdtaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDE2MDkuMzQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsaToge1xuICAgICAgbmFtZTogJ2xpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMDExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJkOiB7XG4gICAgICBuYW1lOiAncmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1LjAyOTIxMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2g6IHtcbiAgICAgIG5hbWU6ICdjaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDIwLjExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbDoge1xuICAgICAgbmFtZTogJ21pbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMS8xMDAwIGluY2hcbiAgICAvLyBTdXJmYWNlXG4gICAgbTI6IHtcbiAgICAgIG5hbWU6ICdtMicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU1FVQVJFRCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzcWluOiB7XG4gICAgICBuYW1lOiAnc3FpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDY0NTE2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA2NDUuMTYgbW0yXG4gICAgc3FmdDoge1xuICAgICAgbmFtZTogJ3NxZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wOTI5MDMwNCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wOTI5MDMwNCBtMlxuICAgIHNxeWQ6IHtcbiAgICAgIG5hbWU6ICdzcXlkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuODM2MTI3MzYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuODM2MTI3MzYgbTJcbiAgICBzcW1pOiB7XG4gICAgICBuYW1lOiAnc3FtaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNTg5OTg4LjExMDMzNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMi41ODk5ODgxMTAzMzYga20yXG4gICAgc3FyZDoge1xuICAgICAgbmFtZTogJ3NxcmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjUuMjkyOTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI1LjI5Mjk1IG0yXG4gICAgc3FjaDoge1xuICAgICAgbmFtZTogJ3NxY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDA0LjY4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQwNC42ODczIG0yXG4gICAgc3FtaWw6IHtcbiAgICAgIG5hbWU6ICdzcW1pbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2LjQ1MTZlLTEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA2LjQ1MTYgKiAxMF4tMTAgbTJcbiAgICBhY3JlOiB7XG4gICAgICBuYW1lOiAnYWNyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0MDQ2Ljg2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0MDQ2Ljg2IG0yXG4gICAgaGVjdGFyZToge1xuICAgICAgbmFtZTogJ2hlY3RhcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTAwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEwMDAwIG0yXG4gICAgLy8gVm9sdW1lXG4gICAgbTM6IHtcbiAgICAgIG5hbWU6ICdtMycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5DVUJJQyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBMOiB7XG4gICAgICBuYW1lOiAnTCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbGl0cmVcbiAgICBsOiB7XG4gICAgICBuYW1lOiAnbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbGl0cmVcbiAgICBsaXRyZToge1xuICAgICAgbmFtZTogJ2xpdHJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGN1aW46IHtcbiAgICAgIG5hbWU6ICdjdWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS42Mzg3MDY0ZS01LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxLjYzODcwNjRlLTUgbTNcbiAgICBjdWZ0OiB7XG4gICAgICBuYW1lOiAnY3VmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI4MzE2ODQ2NTkyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOC4zMTYgODQ2IDU5MiBMXG4gICAgY3V5ZDoge1xuICAgICAgbmFtZTogJ2N1eWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjc2NDU1NDg1Nzk4NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNzY0LjU1NCA4NTcgOTg0IExcbiAgICB0ZWFzcG9vbjoge1xuICAgICAgbmFtZTogJ3RlYXNwb29uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDUgbUxcbiAgICB0YWJsZXNwb29uOiB7XG4gICAgICBuYW1lOiAndGFibGVzcG9vbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDE1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNSBtTFxuICAgIC8vIHtuYW1lOiAnY3VwJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4wMDAyNDAsIG9mZnNldDogMH0sIC8vIDI0MCBtTCAgLy8gbm90IHBvc3NpYmxlLCB3ZSBoYXZlIGFscmVhZHkgYW5vdGhlciBjdXBcbiAgICBkcm9wOiB7XG4gICAgICBuYW1lOiAnZHJvcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDVlLTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDUgbUwgPSA1ZS04IG0zXG4gICAgZ3R0OiB7XG4gICAgICBuYW1lOiAnZ3R0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNWUtOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNSBtTCA9IDVlLTggbTNcbiAgICAvLyBMaXF1aWQgdm9sdW1lXG4gICAgbWluaW06IHtcbiAgICAgIG5hbWU6ICdtaW5pbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAwMDYxNjExNTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDYxNjExNTIgbUxcbiAgICBmbHVpZGRyYW06IHtcbiAgICAgIG5hbWU6ICdmbHVpZGRyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMzY5NjY5MTEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNjk2NjkxIG1MXG4gICAgZmx1aWRvdW5jZToge1xuICAgICAgbmFtZTogJ2ZsdWlkb3VuY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyOTU3MzUzLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOS41NzM1MyBtTFxuICAgIGdpbGw6IHtcbiAgICAgIG5hbWU6ICdnaWxsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAxMTgyOTQxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTguMjk0MSBtTFxuICAgIGNjOiB7XG4gICAgICBuYW1lOiAnY2MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxZS02IExcbiAgICBjdXA6IHtcbiAgICAgIG5hbWU6ICdjdXAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDIzNjU4ODIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzNi41ODgyIG1MXG4gICAgcGludDoge1xuICAgICAgbmFtZTogJ3BpbnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDQ3MzE3NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQ3My4xNzY1IG1MXG4gICAgcXVhcnQ6IHtcbiAgICAgIG5hbWU6ICdxdWFydCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwOTQ2MzUyOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gOTQ2LjM1MjkgbUxcbiAgICBnYWxsb246IHtcbiAgICAgIG5hbWU6ICdnYWxsb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMzc4NTQxMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy43ODU0MTIgTFxuICAgIGJlZXJiYXJyZWw6IHtcbiAgICAgIG5hbWU6ICdiZWVyYmFycmVsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xMTczNDc4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTcuMzQ3OCBMXG4gICAgb2lsYmFycmVsOiB7XG4gICAgICBuYW1lOiAnb2lsYmFycmVsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xNTg5ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNTguOTg3MyBMXG4gICAgaG9nc2hlYWQ6IHtcbiAgICAgIG5hbWU6ICdob2dzaGVhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjM4NDgxMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM4LjQ4MTAgTFxuICAgIC8vIHtuYW1lOiAnbWluJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4wMDAwMDAwNjE2MTE1Miwgb2Zmc2V0OiAwfSwgLy8gMC4wNjE2MTE1MiBtTCAvLyBtaW4gaXMgYWxyZWFkeSBpbiB1c2UgYXMgbWludXRlXG4gICAgZmxkcjoge1xuICAgICAgbmFtZTogJ2ZsZHInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMzY5NjY5MTEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNjk2NjkxIG1MXG4gICAgZmxvejoge1xuICAgICAgbmFtZTogJ2Zsb3onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyOTU3MzUzLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOS41NzM1MyBtTFxuICAgIGdpOiB7XG4gICAgICBuYW1lOiAnZ2knLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDExODI5NDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExOC4yOTQxIG1MXG4gICAgY3A6IHtcbiAgICAgIG5hbWU6ICdjcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMjM2NTg4MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM2LjU4ODIgbUxcbiAgICBwdDoge1xuICAgICAgbmFtZTogJ3B0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA0NzMxNzY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0NzMuMTc2NSBtTFxuICAgIHF0OiB7XG4gICAgICBuYW1lOiAncXQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDk0NjM1MjksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDk0Ni4zNTI5IG1MXG4gICAgZ2FsOiB7XG4gICAgICBuYW1lOiAnZ2FsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDM3ODU0MTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNzg1NDEyIExcbiAgICBiYmw6IHtcbiAgICAgIG5hbWU6ICdiYmwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjExNzM0NzgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExNy4zNDc4IExcbiAgICBvYmw6IHtcbiAgICAgIG5hbWU6ICdvYmwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjE1ODk4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1OC45ODczIExcbiAgICAvLyB7bmFtZTogJ2hvZ3NoZWFkJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4yMzg0ODEwLCBvZmZzZXQ6IDB9LCAvLyAyMzguNDgxMCBMIC8vIFRPRE86IGhoP1xuICAgIC8vIE1hc3NcbiAgICBnOiB7XG4gICAgICBuYW1lOiAnZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYW06IHtcbiAgICAgIG5hbWU6ICdncmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b246IHtcbiAgICAgIG5hbWU6ICd0b24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDkwNy4xODQ3NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdDoge1xuICAgICAgbmFtZTogJ3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvbm5lOiB7XG4gICAgICBuYW1lOiAndG9ubmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMTAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhaW46IHtcbiAgICAgIG5hbWU6ICdncmFpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2NC43OTg5MWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHJhbToge1xuICAgICAgbmFtZTogJ2RyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS43NzE4NDUxOTUzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBvdW5jZToge1xuICAgICAgbmFtZTogJ291bmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI4LjM0OTUyMzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcG91bmRtYXNzOiB7XG4gICAgICBuYW1lOiAncG91bmRtYXNzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1My41OTIzN2UtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaHVuZHJlZHdlaWdodDoge1xuICAgICAgbmFtZTogJ2h1bmRyZWR3ZWlnaHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUuMzU5MjM3LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzdGljazoge1xuICAgICAgbmFtZTogJ3N0aWNrJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDExNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3RvbmU6IHtcbiAgICAgIG5hbWU6ICdzdG9uZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2LjM1MDI5MzE4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncjoge1xuICAgICAgbmFtZTogJ2dyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY0Ljc5ODkxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkcjoge1xuICAgICAgbmFtZTogJ2RyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNzcxODQ1MTk1MzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgb3o6IHtcbiAgICAgIG5hbWU6ICdveicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyOC4zNDk1MjMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxibToge1xuICAgICAgbmFtZTogJ2xibScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NTMuNTkyMzdlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGN3dDoge1xuICAgICAgbmFtZTogJ2N3dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NS4zNTkyMzcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRpbWVcbiAgICBzOiB7XG4gICAgICBuYW1lOiAncycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICBuYW1lOiAnbWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBoOiB7XG4gICAgICBuYW1lOiAnaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzZWNvbmQ6IHtcbiAgICAgIG5hbWU6ICdzZWNvbmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc2VjOiB7XG4gICAgICBuYW1lOiAnc2VjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbnV0ZToge1xuICAgICAgbmFtZTogJ21pbnV0ZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2MCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaG91cjoge1xuICAgICAgbmFtZTogJ2hvdXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGF5OiB7XG4gICAgICBuYW1lOiAnZGF5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDg2NDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB3ZWVrOiB7XG4gICAgICBuYW1lOiAnd2VlaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA3ICogODY0MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1vbnRoOiB7XG4gICAgICBuYW1lOiAnbW9udGgnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjYyOTgwMCxcbiAgICAgIC8vIDEvMTJ0aCBvZiBKdWxpYW4geWVhclxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5ZWFyOiB7XG4gICAgICBuYW1lOiAneWVhcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMCxcbiAgICAgIC8vIEp1bGlhbiB5ZWFyXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlY2FkZToge1xuICAgICAgbmFtZTogJ2RlY2FkZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAsXG4gICAgICAvLyBKdWxpYW4gZGVjYWRlXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNlbnR1cnk6IHtcbiAgICAgIG5hbWU6ICdjZW50dXJ5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMDAsXG4gICAgICAvLyBKdWxpYW4gY2VudHVyeVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWxsZW5uaXVtOiB7XG4gICAgICBuYW1lOiAnbWlsbGVubml1bScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAwMCxcbiAgICAgIC8vIEp1bGlhbiBtaWxsZW5uaXVtXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEZyZXF1ZW5jeVxuICAgIGhlcnR6OiB7XG4gICAgICBuYW1lOiAnSGVydHonLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GUkVRVUVOQ1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgICAgcmVjaXByb2NhbDogdHJ1ZVxuICAgIH0sXG4gICAgSHo6IHtcbiAgICAgIG5hbWU6ICdIeicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZSRVFVRU5DWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgICAgcmVjaXByb2NhbDogdHJ1ZVxuICAgIH0sXG4gICAgLy8gQW5nbGVcbiAgICByYWQ6IHtcbiAgICAgIG5hbWU6ICdyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByYWRpYW46IHtcbiAgICAgIG5hbWU6ICdyYWRpYW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGRlZyA9IHJhZCAvICgyKnBpKSAqIDM2MCA9IHJhZCAvIDAuMDE3NDUzMjkyNTE5OTQzMjk1NzY5MjM2OTA3Njg0ODg4XG4gICAgZGVnOiB7XG4gICAgICBuYW1lOiAnZGVnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVncmVlOiB7XG4gICAgICBuYW1lOiAnZGVncmVlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBncmFkID0gcmFkIC8gKDIqcGkpICogNDAwICA9IHJhZCAvIDAuMDE1NzA3OTYzMjY3OTQ4OTY2MTkyMzEzMjE2OTE2Mzk5XG4gICAgZ3JhZDoge1xuICAgICAgbmFtZTogJ2dyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFkaWFuOiB7XG4gICAgICBuYW1lOiAnZ3JhZGlhbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gY3ljbGUgPSByYWQgLyAoMipwaSkgPSByYWQgLyA2LjI4MzE4NTMwNzE3OTU4NjQ3NjkyNTI4Njc2NjU3OTNcbiAgICBjeWNsZToge1xuICAgICAgbmFtZTogJ2N5Y2xlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhcmNzZWMgPSByYWQgLyAoMzYwMCAqICgzNjAgLyAyICogcGkpKSA9IHJhZCAvIDAuMDAwMDA0ODQ4MTM2ODExMDk1MzU5OTM1ODk5MTQxMDIzNTc5NVxuICAgIGFyY3NlYzoge1xuICAgICAgbmFtZTogJ2FyY3NlYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYXJjbWluID0gcmFkIC8gKDYwICogKDM2MCAvIDIgKiBwaSkpID0gcmFkIC8gMC4wMDAyOTA4ODgyMDg2NjU3MjE1OTYxNTM5NDg0NjE0MTQ3N1xuICAgIGFyY21pbjoge1xuICAgICAgbmFtZTogJ2FyY21pbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY3VycmVudFxuICAgIEE6IHtcbiAgICAgIG5hbWU6ICdBJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQ1VSUkVOVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhbXBlcmU6IHtcbiAgICAgIG5hbWU6ICdhbXBlcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5DVVJSRU5ULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVGVtcGVyYXR1cmVcbiAgICAvLyBLKEMpID0gwrBDICsgMjczLjE1XG4gICAgLy8gSyhGKSA9ICjCsEYgKyA0NTkuNjcpIC8gMS44XG4gICAgLy8gSyhSKSA9IMKwUiAvIDEuOFxuICAgIEs6IHtcbiAgICAgIG5hbWU6ICdLJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWdDOiB7XG4gICAgICBuYW1lOiAnZGVnQycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMjczLjE1XG4gICAgfSxcbiAgICBkZWdGOiB7XG4gICAgICBuYW1lOiAnZGVnRicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogNDU5LjY3XG4gICAgfSxcbiAgICBkZWdSOiB7XG4gICAgICBuYW1lOiAnZGVnUicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2VsdmluOiB7XG4gICAgICBuYW1lOiAna2VsdmluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjZWxzaXVzOiB7XG4gICAgICBuYW1lOiAnY2Vsc2l1cycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMjczLjE1XG4gICAgfSxcbiAgICBmYWhyZW5oZWl0OiB7XG4gICAgICBuYW1lOiAnZmFocmVuaGVpdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogNDU5LjY3XG4gICAgfSxcbiAgICByYW5raW5lOiB7XG4gICAgICBuYW1lOiAncmFua2luZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYW1vdW50IG9mIHN1YnN0YW5jZVxuICAgIG1vbDoge1xuICAgICAgbmFtZTogJ21vbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFNT1VOVF9PRl9TVUJTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW9sZToge1xuICAgICAgbmFtZTogJ21vbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTU9VTlRfT0ZfU1VCU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbHVtaW5vdXMgaW50ZW5zaXR5XG4gICAgY2Q6IHtcbiAgICAgIG5hbWU6ICdjZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxVTUlOT1VTX0lOVEVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjYW5kZWxhOiB7XG4gICAgICBuYW1lOiAnY2FuZGVsYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxVTUlOT1VTX0lOVEVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRPRE86IHVuaXRzIFNURVJBRElBTlxuICAgIC8vIHtuYW1lOiAnc3InLCBiYXNlOiBCQVNFX1VOSVRTLlNURVJBRElBTiwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAxLCBvZmZzZXQ6IDB9LFxuICAgIC8vIHtuYW1lOiAnc3RlcmFkaWFuJywgYmFzZTogQkFTRV9VTklUUy5TVEVSQURJQU4sIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMSwgb2Zmc2V0OiAwfSxcbiAgICAvLyBGb3JjZVxuICAgIE46IHtcbiAgICAgIG5hbWU6ICdOJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbmV3dG9uOiB7XG4gICAgICBuYW1lOiAnbmV3dG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkeW46IHtcbiAgICAgIG5hbWU6ICdkeW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkeW5lOiB7XG4gICAgICBuYW1lOiAnZHluZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGJmOiB7XG4gICAgICBuYW1lOiAnbGJmJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0LjQ0ODIyMTYxNTI2MDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBvdW5kZm9yY2U6IHtcbiAgICAgIG5hbWU6ICdwb3VuZGZvcmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0LjQ0ODIyMTYxNTI2MDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtpcDoge1xuICAgICAgbmFtZTogJ2tpcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogNDQ0OC4yMjE2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBraWxvZ3JhbWZvcmNlOiB7XG4gICAgICBuYW1lOiAna2lsb2dyYW1mb3JjZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOS44MDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRW5lcmd5XG4gICAgSjoge1xuICAgICAgbmFtZTogJ0onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgam91bGU6IHtcbiAgICAgIG5hbWU6ICdqb3VsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlcmc6IHtcbiAgICAgIG5hbWU6ICdlcmcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS03LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBXaDoge1xuICAgICAgbmFtZTogJ1doJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEJUVToge1xuICAgICAgbmFtZTogJ0JUVScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CVFUsXG4gICAgICB2YWx1ZTogMTA1NS4wNTU4NTI2MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZVY6IHtcbiAgICAgIG5hbWU6ICdlVicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLjYwMjE3NjU2NWUtMTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVsZWN0cm9udm9sdDoge1xuICAgICAgbmFtZTogJ2VsZWN0cm9udm9sdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEuNjAyMTc2NTY1ZS0xOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gUG93ZXJcbiAgICBXOiB7XG4gICAgICBuYW1lOiAnVycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHdhdHQ6IHtcbiAgICAgIG5hbWU6ICd3YXR0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBocDoge1xuICAgICAgbmFtZTogJ2hwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA3NDUuNjk5ODcxNTM4NixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWNhbCBwb3dlciB1bml0c1xuICAgIFZBUjoge1xuICAgICAgbmFtZTogJ1ZBUicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IENvbXBsZXguSSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVkE6IHtcbiAgICAgIG5hbWU6ICdWQScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFByZXNzdXJlXG4gICAgUGE6IHtcbiAgICAgIG5hbWU6ICdQYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBzaToge1xuICAgICAgbmFtZTogJ3BzaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjg5NC43NTcyOTI3NjQ1OSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYXRtOiB7XG4gICAgICBuYW1lOiAnYXRtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMDEzMjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJhcjoge1xuICAgICAgbmFtZTogJ2JhcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JUTE9ORyxcbiAgICAgIHZhbHVlOiAxMDAwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvcnI6IHtcbiAgICAgIG5hbWU6ICd0b3JyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMzMuMzIyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtbUhnOiB7XG4gICAgICBuYW1lOiAnbW1IZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTMzLjMyMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW1IMk86IHtcbiAgICAgIG5hbWU6ICdtbUgyTycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOS44MDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY21IMk86IHtcbiAgICAgIG5hbWU6ICdjbUgyTycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOTguMDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY2hhcmdlXG4gICAgY291bG9tYjoge1xuICAgICAgbmFtZTogJ2NvdWxvbWInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DSEFSR0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBDOiB7XG4gICAgICBuYW1lOiAnQycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NIQVJHRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjYXBhY2l0YW5jZVxuICAgIGZhcmFkOiB7XG4gICAgICBuYW1lOiAnZmFyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DQVBBQ0lUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEY6IHtcbiAgICAgIG5hbWU6ICdGJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgcG90ZW50aWFsXG4gICAgdm9sdDoge1xuICAgICAgbmFtZTogJ3ZvbHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19QT1RFTlRJQUwsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBWOiB7XG4gICAgICBuYW1lOiAnVicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1BPVEVOVElBTCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyByZXNpc3RhbmNlXG4gICAgb2htOiB7XG4gICAgICBuYW1lOiAnb2htJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUkVTSVNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVExPTkcsXG4gICAgICAvLyBCb3RoIE1vaG0gYW5kIG1lZ2FvaG0gYXJlIGFjY2VwdGFibGVcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcblxuICAgIC8qXG4gICAgICogVW5pY29kZSBicmVha3MgaW4gYnJvd3NlcnMgaWYgY2hhcnNldCBpcyBub3Qgc3BlY2lmaWVkXG4gICAgzqk6IHtcbiAgICAgIG5hbWU6ICfOqScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1JFU0lTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgKi9cbiAgICAvLyBFbGVjdHJpYyBpbmR1Y3RhbmNlXG4gICAgaGVucnk6IHtcbiAgICAgIG5hbWU6ICdoZW5yeScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0lORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICBuYW1lOiAnSCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0lORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY29uZHVjdGFuY2VcbiAgICBzaWVtZW5zOiB7XG4gICAgICBuYW1lOiAnc2llbWVucycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NPTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgUzoge1xuICAgICAgbmFtZTogJ1MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DT05EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBNYWduZXRpYyBmbHV4XG4gICAgd2ViZXI6IHtcbiAgICAgIG5hbWU6ICd3ZWJlcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBXYjoge1xuICAgICAgbmFtZTogJ1diJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBNYWduZXRpYyBmbHV4IGRlbnNpdHlcbiAgICB0ZXNsYToge1xuICAgICAgbmFtZTogJ3Rlc2xhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWF9ERU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVDoge1xuICAgICAgbmFtZTogJ1QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYX0RFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gQmluYXJ5XG4gICAgYjoge1xuICAgICAgbmFtZTogJ2InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX1NIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJpdHM6IHtcbiAgICAgIG5hbWU6ICdiaXRzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEI6IHtcbiAgICAgIG5hbWU6ICdCJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9TSE9SVCxcbiAgICAgIHZhbHVlOiA4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBieXRlczoge1xuICAgICAgbmFtZTogJ2J5dGVzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9MT05HLFxuICAgICAgdmFsdWU6IDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gIH07IC8vIGFsaWFzZXMgKGZvcm1lcmx5IHBsdXJhbHMpXG5cbiAgdmFyIEFMSUFTRVMgPSB7XG4gICAgbWV0ZXJzOiAnbWV0ZXInLFxuICAgIGluY2hlczogJ2luY2gnLFxuICAgIGZlZXQ6ICdmb290JyxcbiAgICB5YXJkczogJ3lhcmQnLFxuICAgIG1pbGVzOiAnbWlsZScsXG4gICAgbGlua3M6ICdsaW5rJyxcbiAgICByb2RzOiAncm9kJyxcbiAgICBjaGFpbnM6ICdjaGFpbicsXG4gICAgYW5nc3Ryb21zOiAnYW5nc3Ryb20nLFxuICAgIGx0OiAnbCcsXG4gICAgbGl0cmVzOiAnbGl0cmUnLFxuICAgIGxpdGVyOiAnbGl0cmUnLFxuICAgIGxpdGVyczogJ2xpdHJlJyxcbiAgICB0ZWFzcG9vbnM6ICd0ZWFzcG9vbicsXG4gICAgdGFibGVzcG9vbnM6ICd0YWJsZXNwb29uJyxcbiAgICBtaW5pbXM6ICdtaW5pbScsXG4gICAgZmx1aWRkcmFtczogJ2ZsdWlkZHJhbScsXG4gICAgZmx1aWRvdW5jZXM6ICdmbHVpZG91bmNlJyxcbiAgICBnaWxsczogJ2dpbGwnLFxuICAgIGN1cHM6ICdjdXAnLFxuICAgIHBpbnRzOiAncGludCcsXG4gICAgcXVhcnRzOiAncXVhcnQnLFxuICAgIGdhbGxvbnM6ICdnYWxsb24nLFxuICAgIGJlZXJiYXJyZWxzOiAnYmVlcmJhcnJlbCcsXG4gICAgb2lsYmFycmVsczogJ29pbGJhcnJlbCcsXG4gICAgaG9nc2hlYWRzOiAnaG9nc2hlYWQnLFxuICAgIGd0dHM6ICdndHQnLFxuICAgIGdyYW1zOiAnZ3JhbScsXG4gICAgdG9uczogJ3RvbicsXG4gICAgdG9ubmVzOiAndG9ubmUnLFxuICAgIGdyYWluczogJ2dyYWluJyxcbiAgICBkcmFtczogJ2RyYW0nLFxuICAgIG91bmNlczogJ291bmNlJyxcbiAgICBwb3VuZG1hc3NlczogJ3BvdW5kbWFzcycsXG4gICAgaHVuZHJlZHdlaWdodHM6ICdodW5kcmVkd2VpZ2h0JyxcbiAgICBzdGlja3M6ICdzdGljaycsXG4gICAgbGI6ICdsYm0nLFxuICAgIGxiczogJ2xibScsXG4gICAga2lwczogJ2tpcCcsXG4gICAga2dmOiAna2lsb2dyYW1mb3JjZScsXG4gICAgYWNyZXM6ICdhY3JlJyxcbiAgICBoZWN0YXJlczogJ2hlY3RhcmUnLFxuICAgIHNxZmVldDogJ3NxZnQnLFxuICAgIHNxeWFyZDogJ3NxeWQnLFxuICAgIHNxbWlsZTogJ3NxbWknLFxuICAgIHNxbWlsZXM6ICdzcW1pJyxcbiAgICBtbWhnOiAnbW1IZycsXG4gICAgbW1oMm86ICdtbUgyTycsXG4gICAgY21oMm86ICdjbUgyTycsXG4gICAgc2Vjb25kczogJ3NlY29uZCcsXG4gICAgc2VjczogJ3NlY29uZCcsXG4gICAgbWludXRlczogJ21pbnV0ZScsXG4gICAgbWluczogJ21pbnV0ZScsXG4gICAgaG91cnM6ICdob3VyJyxcbiAgICBocjogJ2hvdXInLFxuICAgIGhyczogJ2hvdXInLFxuICAgIGRheXM6ICdkYXknLFxuICAgIHdlZWtzOiAnd2VlaycsXG4gICAgbW9udGhzOiAnbW9udGgnLFxuICAgIHllYXJzOiAneWVhcicsXG4gICAgZGVjYWRlczogJ2RlY2FkZScsXG4gICAgY2VudHVyaWVzOiAnY2VudHVyeScsXG4gICAgbWlsbGVubmlhOiAnbWlsbGVubml1bScsXG4gICAgaGVydHo6ICdoZXJ0eicsXG4gICAgcmFkaWFuczogJ3JhZGlhbicsXG4gICAgZGVncmVlczogJ2RlZ3JlZScsXG4gICAgZ3JhZGlhbnM6ICdncmFkaWFuJyxcbiAgICBjeWNsZXM6ICdjeWNsZScsXG4gICAgYXJjc2Vjb25kOiAnYXJjc2VjJyxcbiAgICBhcmNzZWNvbmRzOiAnYXJjc2VjJyxcbiAgICBhcmNtaW51dGU6ICdhcmNtaW4nLFxuICAgIGFyY21pbnV0ZXM6ICdhcmNtaW4nLFxuICAgIEJUVXM6ICdCVFUnLFxuICAgIHdhdHRzOiAnd2F0dCcsXG4gICAgam91bGVzOiAnam91bGUnLFxuICAgIGFtcGVyZXM6ICdhbXBlcmUnLFxuICAgIGNvdWxvbWJzOiAnY291bG9tYicsXG4gICAgdm9sdHM6ICd2b2x0JyxcbiAgICBvaG1zOiAnb2htJyxcbiAgICBmYXJhZHM6ICdmYXJhZCcsXG4gICAgd2ViZXJzOiAnd2ViZXInLFxuICAgIHRlc2xhczogJ3Rlc2xhJyxcbiAgICBlbGVjdHJvbnZvbHRzOiAnZWxlY3Ryb252b2x0JyxcbiAgICBtb2xlczogJ21vbGUnLFxuICAgIGJpdDogJ2JpdHMnLFxuICAgIGJ5dGU6ICdieXRlcydcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgdmFsdWVzIGZvciB0aGUgYW5nbGUgdW5pdHMuXG4gICAqIFZhbHVlIGlzIGNhbGN1bGF0ZWQgYXMgbnVtYmVyIG9yIEJpZ051bWJlciBkZXBlbmRpbmcgb24gdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHt7bnVtYmVyOiAnbnVtYmVyJyB8ICdCaWdOdW1iZXInfX0gY29uZmlnXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGNvbmZpZykge1xuICAgIGlmIChjb25maWcubnVtYmVyID09PSAnQmlnTnVtYmVyJykge1xuICAgICAgdmFyIHBpID0gY3JlYXRlUGkoX0JpZ051bWJlcik7XG4gICAgICBVTklUUy5yYWQudmFsdWUgPSBuZXcgX0JpZ051bWJlcigxKTtcbiAgICAgIFVOSVRTLmRlZy52YWx1ZSA9IHBpLmRpdigxODApOyAvLyAyICogcGkgLyAzNjBcblxuICAgICAgVU5JVFMuZ3JhZC52YWx1ZSA9IHBpLmRpdigyMDApOyAvLyAyICogcGkgLyA0MDBcblxuICAgICAgVU5JVFMuY3ljbGUudmFsdWUgPSBwaS50aW1lcygyKTsgLy8gMiAqIHBpXG5cbiAgICAgIFVOSVRTLmFyY3NlYy52YWx1ZSA9IHBpLmRpdig2NDgwMDApOyAvLyAyICogcGkgLyAzNjAgLyAzNjAwXG5cbiAgICAgIFVOSVRTLmFyY21pbi52YWx1ZSA9IHBpLmRpdigxMDgwMCk7IC8vIDIgKiBwaSAvIDM2MCAvIDYwXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG51bWJlclxuICAgICAgVU5JVFMucmFkLnZhbHVlID0gMTtcbiAgICAgIFVOSVRTLmRlZy52YWx1ZSA9IE1hdGguUEkgLyAxODA7IC8vIDIgKiBwaSAvIDM2MFxuXG4gICAgICBVTklUUy5ncmFkLnZhbHVlID0gTWF0aC5QSSAvIDIwMDsgLy8gMiAqIHBpIC8gNDAwXG5cbiAgICAgIFVOSVRTLmN5Y2xlLnZhbHVlID0gTWF0aC5QSSAqIDI7IC8vIDIgKiBwaVxuXG4gICAgICBVTklUUy5hcmNzZWMudmFsdWUgPSBNYXRoLlBJIC8gNjQ4MDAwOyAvLyAyICogcGkgLyAzNjAgLyAzNjAwXG5cbiAgICAgIFVOSVRTLmFyY21pbi52YWx1ZSA9IE1hdGguUEkgLyAxMDgwMDsgLy8gMiAqIHBpIC8gMzYwIC8gNjBcbiAgICB9IC8vIGNvcHkgdG8gdGhlIGZ1bGwgbmFtZXMgb2YgdGhlIGFuZ2xlc1xuXG5cbiAgICBVTklUUy5yYWRpYW4udmFsdWUgPSBVTklUUy5yYWQudmFsdWU7XG4gICAgVU5JVFMuZGVncmVlLnZhbHVlID0gVU5JVFMuZGVnLnZhbHVlO1xuICAgIFVOSVRTLmdyYWRpYW4udmFsdWUgPSBVTklUUy5ncmFkLnZhbHVlO1xuICB9IC8vIGFwcGx5IHRoZSBhbmdsZSB2YWx1ZXMgbm93XG5cblxuICBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjb25maWcpO1xuXG4gIGlmIChvbikge1xuICAgIC8vIHJlY2FsY3VsYXRlIHRoZSB2YWx1ZXMgb24gY2hhbmdlIG9mIGNvbmZpZ3VyYXRpb25cbiAgICBvbignY29uZmlnJywgZnVuY3Rpb24gKGN1cnIsIHByZXYpIHtcbiAgICAgIGlmIChjdXJyLm51bWJlciAhPT0gcHJldi5udW1iZXIpIHtcbiAgICAgICAgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY3Vycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEEgdW5pdCBzeXN0ZW0gaXMgYSBzZXQgb2YgZGltZW5zaW9uYWxseSBpbmRlcGVuZGVudCBiYXNlIHVuaXRzIHBsdXMgYSBzZXQgb2YgZGVyaXZlZCB1bml0cywgZm9ybWVkIGJ5IG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpc2lvbiBvZiB0aGUgYmFzZSB1bml0cywgdGhhdCBhcmUgYnkgY29udmVudGlvbiB1c2VkIHdpdGggdGhlIHVuaXQgc3lzdGVtLlxuICAgKiBBIHVzZXIgcGVyaGFwcyBjb3VsZCBpc3N1ZSBhIGNvbW1hbmQgdG8gc2VsZWN0IGEgcHJlZmVycmVkIHVuaXQgc3lzdGVtLCBvciB1c2UgdGhlIGRlZmF1bHQgKHNlZSBiZWxvdykuXG4gICAqIEF1dG8gdW5pdCBzeXN0ZW06IFRoZSBkZWZhdWx0IHVuaXQgc3lzdGVtIGlzIHVwZGF0ZWQgb24gdGhlIGZseSBhbnl0aW1lIGEgdW5pdCBpcyBwYXJzZWQuIFRoZSBjb3JyZXNwb25kaW5nIHVuaXQgaW4gdGhlIGRlZmF1bHQgdW5pdCBzeXN0ZW0gaXMgdXBkYXRlZCwgc28gdGhhdCBhbnN3ZXJzIGFyZSBnaXZlbiBpbiB0aGUgc2FtZSB1bml0cyB0aGUgdXNlciBzdXBwbGllcy5cbiAgICovXG5cblxuICB2YXIgVU5JVF9TWVNURU1TID0ge1xuICAgIHNpOiB7XG4gICAgICAvLyBCYXNlIHVuaXRzXG4gICAgICBOT05FOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRfTk9ORSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgfSxcbiAgICAgIExFTkdUSDoge1xuICAgICAgICB1bml0OiBVTklUUy5tLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BU1M6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuZyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVC5rXG4gICAgICB9LFxuICAgICAgVElNRToge1xuICAgICAgICB1bml0OiBVTklUUy5zLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIENVUlJFTlQ6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuQSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBURU1QRVJBVFVSRToge1xuICAgICAgICB1bml0OiBVTklUUy5LLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIExVTUlOT1VTX0lOVEVOU0lUWToge1xuICAgICAgICB1bml0OiBVTklUUy5jZCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBBTU9VTlRfT0ZfU1VCU1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm1vbCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBBTkdMRToge1xuICAgICAgICB1bml0OiBVTklUUy5yYWQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQklUOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmJpdHMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgLy8gRGVyaXZlZCB1bml0c1xuICAgICAgRk9SQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuTixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTkVSR1k6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBQT1dFUjoge1xuICAgICAgICB1bml0OiBVTklUUy5XLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFBSRVNTVVJFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlBhLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NIQVJHRToge1xuICAgICAgICB1bml0OiBVTklUUy5DLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NBUEFDSVRBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkYsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfUE9URU5USUFMOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlYsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfUkVTSVNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5vaG0sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfSU5EVUNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5ILFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NPTkRVQ1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFHTkVUSUNfRkxVWDoge1xuICAgICAgICB1bml0OiBVTklUUy5XYixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQUdORVRJQ19GTFVYX0RFTlNJVFk6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBGUkVRVUVOQ1k6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSHosXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9XG4gICAgfVxuICB9OyAvLyBDbG9uZSB0byBjcmVhdGUgdGhlIG90aGVyIHVuaXQgc3lzdGVtc1xuXG4gIFVOSVRfU1lTVEVNUy5jZ3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpO1xuICBVTklUX1NZU1RFTVMuY2dzLkxFTkdUSCA9IHtcbiAgICB1bml0OiBVTklUUy5tLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlQuY1xuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLk1BU1MgPSB7XG4gICAgdW5pdDogVU5JVFMuZyxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLkZPUkNFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmR5bixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLkVORVJHWSA9IHtcbiAgICB1bml0OiBVTklUUy5lcmcsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9OyAvLyB0aGVyZSBhcmUgd2hvbGx5IDQgdW5pcXVlIGNncyBzeXN0ZW1zIGZvciBlbGVjdHJpY2l0eSBhbmQgbWFnbmV0aXNtLFxuICAvLyBzbyBsZXQncyBub3Qgd29ycnkgYWJvdXQgaXQgdW5sZXNzIHNvbWVib2R5IGNvbXBsYWluc1xuXG4gIFVOSVRfU1lTVEVNUy51cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7XG4gIFVOSVRfU1lTVEVNUy51cy5MRU5HVEggPSB7XG4gICAgdW5pdDogVU5JVFMuZnQsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuTUFTUyA9IHtcbiAgICB1bml0OiBVTklUUy5sYm0sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuVEVNUEVSQVRVUkUgPSB7XG4gICAgdW5pdDogVU5JVFMuZGVnRixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5GT1JDRSA9IHtcbiAgICB1bml0OiBVTklUUy5sYmYsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuRU5FUkdZID0ge1xuICAgIHVuaXQ6IFVOSVRTLkJUVSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLkJUVVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlBPV0VSID0ge1xuICAgIHVuaXQ6IFVOSVRTLmhwLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlBSRVNTVVJFID0ge1xuICAgIHVuaXQ6IFVOSVRTLnBzaSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07IC8vIEFkZCBhZGRpdGlvbmFsIHVuaXQgc3lzdGVtcyBoZXJlLlxuICAvLyBDaG9vc2UgYSB1bml0IHN5c3RlbSB0byBzZWVkIHRoZSBhdXRvIHVuaXQgc3lzdGVtLlxuXG4gIFVOSVRfU1lTVEVNUy5hdXRvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTsgLy8gU2V0IHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtXG5cbiAgdmFyIGN1cnJlbnRVbml0U3lzdGVtID0gVU5JVF9TWVNURU1TLmF1dG87XG4gIC8qKlxuICAgKiBTZXQgYSB1bml0IHN5c3RlbSBmb3IgZm9ybWF0dGluZyBkZXJpdmVkIHVuaXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIFRoZSBuYW1lIG9mIHRoZSB1bml0IHN5c3RlbS5cbiAgICovXG5cbiAgVW5pdC5zZXRVbml0U3lzdGVtID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLCBuYW1lKSkge1xuICAgICAgY3VycmVudFVuaXRTeXN0ZW0gPSBVTklUX1NZU1RFTVNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdCBzeXN0ZW0gJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0LiBDaG9pY2VzIGFyZTogJyArIE9iamVjdC5rZXlzKFVOSVRfU1lTVEVNUykuam9pbignLCAnKSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjdXJyZW50IHVuaXQgc3lzdGVtLlxuICAgKi9cblxuXG4gIFVuaXQuZ2V0VW5pdFN5c3RlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfa2V5IGluIFVOSVRfU1lTVEVNUykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUywgX2tleSkpIHtcbiAgICAgICAgaWYgKFVOSVRfU1lTVEVNU1tfa2V5XSA9PT0gY3VycmVudFVuaXRTeXN0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gX2tleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnRlcnMgdG8gY29udmVydCBmcm9tIG51bWJlciB0byBhbiBvdGhlciBudW1lcmljIHR5cGUgbGlrZSBCaWdOdW1iZXJcbiAgICogb3IgRnJhY3Rpb25cbiAgICovXG5cblxuICBVbml0LnR5cGVDb252ZXJ0ZXJzID0ge1xuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0JpZ051bWJlcih4ICsgJycpOyAvLyBzdHJpbmdpZnkgdG8gcHJldmVudCBjb25zdHJ1Y3RvciBlcnJvclxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0ZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSByaWdodCBjb252ZXJ0b3IgZnVuY3Rpb24gY29ycmVzcG9uZGluZyB3aXRoIHRoZSB0eXBlXG4gICAqIG9mIHByb3ZpZGVkIGV4YW1wbGVWYWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgICBBIHN0cmluZyAnbnVtYmVyJywgJ0JpZ051bWJlcicsIG9yICdGcmFjdGlvbidcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIGFuIHVua25vd24gdHlwZSxcbiAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAqL1xuXG4gIFVuaXQuX2dldE51bWJlckNvbnZlcnRlciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCFVbml0LnR5cGVDb252ZXJ0ZXJzW3R5cGVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIFwiJyArIHR5cGUgKyAnXCInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gVW5pdC50eXBlQ29udmVydGVyc1t0eXBlXTtcbiAgfTsgLy8gQWRkIGRpbWVuc2lvbnMgdG8gZWFjaCBidWlsdC1pbiB1bml0XG5cblxuICBmb3IgKHZhciBfa2V5MiBpbiBVTklUUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgX2tleTIpKSB7XG4gICAgICB2YXIgdW5pdCA9IFVOSVRTW19rZXkyXTtcbiAgICAgIHVuaXQuZGltZW5zaW9ucyA9IHVuaXQuYmFzZS5kaW1lbnNpb25zO1xuICAgIH1cbiAgfSAvLyBDcmVhdGUgYWxpYXNlc1xuXG5cbiAgZm9yICh2YXIgX25hbWUyIGluIEFMSUFTRVMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoQUxJQVNFUywgX25hbWUyKSkge1xuICAgICAgdmFyIF91bml0MiA9IFVOSVRTW0FMSUFTRVNbX25hbWUyXV07XG4gICAgICB2YXIgYWxpYXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleTMgaW4gX3VuaXQyKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShfdW5pdDIsIF9rZXkzKSkge1xuICAgICAgICAgIGFsaWFzW19rZXkzXSA9IF91bml0Mltfa2V5M107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWxpYXMubmFtZSA9IF9uYW1lMjtcbiAgICAgIFVOSVRTW19uYW1lMl0gPSBhbGlhcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGNoYXJhY3RlciBpcyBhIHZhbGlkIGxhdGluIGxldHRlciAodXBwZXIgb3IgbG93ZXIgY2FzZSkuXG4gICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBvdmVycmlkZGVuLCBmb3IgZXhhbXBsZSB0byBhbGxvdyBzdXBwb3J0IG9mIG90aGVyIGFscGhhYmV0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgVGVzdGVkIGNoYXJhY3RlclxuICAgKi9cblxuXG4gIFVuaXQuaXNWYWxpZEFscGhhID0gZnVuY3Rpb24gaXNWYWxpZEFscGhhKGMpIHtcbiAgICByZXR1cm4gL15bYS16QS1aXSQvLnRlc3QoYyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYXNzZXJ0VW5pdE5hbWVJc1ZhbGlkKG5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGMgPSBuYW1lLmNoYXJBdChpKTtcblxuICAgICAgaWYgKGkgPT09IDAgJiYgIVVuaXQuaXNWYWxpZEFscGhhKGMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1bml0IG5hbWUgKG11c3QgYmVnaW4gd2l0aCBhbHBoYSBjaGFyYWN0ZXIpOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpID4gMCAmJiAhKFVuaXQuaXNWYWxpZEFscGhhKGMpIHx8IGlzRGlnaXQoYykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1bml0IG5hbWUgKG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIGFsbG93ZWQpOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBXcmFwcGVyIGFyb3VuZCBjcmVhdGVVbml0U2luZ2xlLlxuICAgKiBFeGFtcGxlOlxuICAgKiAgY3JlYXRlVW5pdCh7XG4gICAqICAgIGZvbzogeyB9LFxuICAgKiAgICBiYXI6IHtcbiAgICogICAgICBkZWZpbml0aW9uOiAna2cvZm9vJyxcbiAgICogICAgICBhbGlhc2VzOiBbJ2JhJywgJ2JhcnInLCAnYmFycyddLFxuICAgKiAgICAgIG9mZnNldDogMjAwXG4gICAqICAgIH0sXG4gICAqICAgIGJhejogJzQgYmFyJ1xuICAgKiAgfSxcbiAgICogIHtcbiAgICogICAgb3ZlcnJpZGU6IHRydWVcbiAgICogIH0pXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogICAgICBPYmplY3QgbWFwLiBFYWNoIGtleSBiZWNvbWVzIGEgdW5pdCB3aGljaCBpcyBkZWZpbmVkIGJ5IGl0cyB2YWx1ZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICovXG5cblxuICBVbml0LmNyZWF0ZVVuaXQgPSBmdW5jdGlvbiAob2JqLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY3JlYXRlVW5pdCBleHBlY3RzIGZpcnN0IHBhcmFtZXRlciB0byBiZSBvZiB0eXBlICdPYmplY3QnXCIpO1xuICAgIH0gLy8gUmVtb3ZlIGFsbCB1bml0cyBhbmQgYWxpYXNlcyB3ZSBhcmUgb3ZlcnJpZGluZ1xuXG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm92ZXJyaWRlKSB7XG4gICAgICBmb3IgKHZhciBfa2V5NCBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgX2tleTQpKSB7XG4gICAgICAgICAgVW5pdC5kZWxldGVVbml0KF9rZXk0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmpbX2tleTRdLmFsaWFzZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ialtfa2V5NF0uYWxpYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgVW5pdC5kZWxldGVVbml0KG9ialtfa2V5NF0uYWxpYXNlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUT0RPOiB0cmF2ZXJzZSBtdWx0aXBsZSB0aW1lcyB1bnRpbCBhbGwgdW5pdHMgaGF2ZSBiZWVuIGFkZGVkXG5cblxuICAgIHZhciBsYXN0VW5pdDtcblxuICAgIGZvciAodmFyIF9rZXk1IGluIG9iaikge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgX2tleTUpKSB7XG4gICAgICAgIGxhc3RVbml0ID0gVW5pdC5jcmVhdGVVbml0U2luZ2xlKF9rZXk1LCBvYmpbX2tleTVdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdFVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1c2VyLWRlZmluZWQgdW5pdCBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgVW5pdCB0eXBlLlxuICAgKiBFeGFtcGxlOlxuICAgKiAgY3JlYXRlVW5pdFNpbmdsZSgna25vdCcsICcwLjUxNDQ0NDQ0NCBtL3MnKVxuICAgKiAgY3JlYXRlVW5pdFNpbmdsZSgnYWNyZScsIG5ldyBVbml0KDQzNTYwLCAnZnReMicpKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgIFRoZSBuYW1lIG9mIHRoZSBuZXcgdW5pdC4gTXVzdCBiZSB1bmlxdWUuIEV4YW1wbGU6ICdrbm90J1xuICAgKiBAcGFyYW0ge3N0cmluZywgVW5pdCwgT2JqZWN0fSBkZWZpbml0aW9uICAgICAgRGVmaW5pdGlvbiBvZiB0aGUgdW5pdCBpbiB0ZXJtc1xuICAgKiBvZiBleGlzdGluZyB1bml0cy4gRm9yIGV4YW1wbGUsICcwLjUxNDQ0NDQ0NCBtIC8gcycuIENhbiBiZSBhIFVuaXQsIGEgc3RyaW5nLFxuICAgKiBvciBhbiBPYmplY3QuIElmIGFuIE9iamVjdCwgbWF5IGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIC0gZGVmaW5pdGlvbiB7c3RyaW5nfFVuaXR9IFRoZSBkZWZpbml0aW9uIG9mIHRoaXMgdW5pdC5cbiAgICogICAtIHByZWZpeGVzIHtzdHJpbmd9IFwibm9uZVwiLCBcInNob3J0XCIsIFwibG9uZ1wiLCBcImJpbmFyeV9zaG9ydFwiLCBvciBcImJpbmFyeV9sb25nXCIuXG4gICAqICAgICBUaGUgZGVmYXVsdCBpcyBcIm5vbmVcIi5cbiAgICogICAtIGFsaWFzZXMge0FycmF5fSBBcnJheSBvZiBzdHJpbmdzLiBFeGFtcGxlOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddXG4gICAqICAgLSBvZmZzZXQge051bWVyaWN9IEFuIG9mZnNldCB0byBhcHBseSB3aGVuIGNvbnZlcnRpbmcgZnJvbSB0aGUgdW5pdC4gRm9yXG4gICAqICAgICBleGFtcGxlLCB0aGUgb2Zmc2V0IGZvciBjZWxzaXVzIGlzIDI3My4xNSBhbmQgdGhlIG9mZnNldCBmb3IgZmFyaGVuaGVpdFxuICAgKiAgICAgaXMgNDU5LjY3LiBEZWZhdWx0IGlzIDAuXG4gICAqICAgLSBiYXNlTmFtZSB7c3RyaW5nfSBJZiB0aGUgdW5pdCdzIGRpbWVuc2lvbiBkb2VzIG5vdCBtYXRjaCB0aGF0IG9mIGFueSBvdGhlclxuICAgKiAgICAgYmFzZSB1bml0LCB0aGUgbmFtZSBvZiB0aGUgbmV3bHkgY3JlYXRlIGJhc2UgdW5pdC4gT3RoZXJ3aXNlLCB0aGlzIHByb3BlcnR5XG4gICAqICAgICBoYXMgbm8gZWZmZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgIChvcHRpb25hbCkgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYW55IG9mIHRoZSBmb2xsb3dpbmdcbiAgICogcHJvcGVydGllczpcbiAgICogICAtIG92ZXJyaWRlIHtib29sZWFufSBXaGV0aGVyIHRoaXMgdW5pdCBzaG91bGQgYmUgYWxsb3dlZCB0byBvdmVycmlkZSBleGlzdGluZ1xuICAgKiAgICAgdW5pdHMuXG4gICAqXG4gICAqIEByZXR1cm4ge1VuaXR9XG4gICAqL1xuXG5cbiAgVW5pdC5jcmVhdGVVbml0U2luZ2xlID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgIG9iaiA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjcmVhdGVVbml0U2luZ2xlIGV4cGVjdHMgZmlyc3QgcGFyYW1ldGVyIHRvIGJlIG9mIHR5cGUgJ3N0cmluZydcIik7XG4gICAgfSAvLyBDaGVjayBjb2xsaXNpb25zIHdpdGggZXhpc3RpbmcgdW5pdHNcblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIjogYSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfSAvLyBUT0RPOiBWYWxpZGF0ZSBuYW1lIGZvciBjb2xsaXNpb25zIHdpdGggb3RoZXIgYnVpbHQtaW4gZnVuY3Rpb25zIChsaWtlIGFicyBvciBjb3MsIGZvciBleGFtcGxlKSwgYW5kIGZvciBhY2NlcHRhYmxlIHZhcmlhYmxlIG5hbWVzLiBGb3IgZXhhbXBsZSwgJzQyJyBpcyBwcm9iYWJseSBub3QgYSB2YWxpZCB1bml0LiBOb3IgaXMgJyUnLCBzaW5jZSBpdCBpcyBhbHNvIGFuIG9wZXJhdG9yLlxuXG5cbiAgICBhc3NlcnRVbml0TmFtZUlzVmFsaWQobmFtZSk7XG4gICAgdmFyIGRlZlVuaXQgPSBudWxsOyAvLyBUaGUgVW5pdCBmcm9tIHdoaWNoIHRoZSBuZXcgdW5pdCB3aWxsIGJlIGNyZWF0ZWQuXG5cbiAgICB2YXIgYWxpYXNlcyA9IFtdO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBkZWZpbml0aW9uO1xuICAgIHZhciBwcmVmaXhlcztcbiAgICB2YXIgYmFzZU5hbWU7XG5cbiAgICBpZiAob2JqICYmIG9iai50eXBlID09PSAnVW5pdCcpIHtcbiAgICAgIGRlZlVuaXQgPSBvYmouY2xvbmUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAob2JqICE9PSAnJykge1xuICAgICAgICBkZWZpbml0aW9uID0gb2JqO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRlZmluaXRpb24gPSBvYmouZGVmaW5pdGlvbjtcbiAgICAgIHByZWZpeGVzID0gb2JqLnByZWZpeGVzO1xuICAgICAgb2Zmc2V0ID0gb2JqLm9mZnNldDtcbiAgICAgIGJhc2VOYW1lID0gb2JqLmJhc2VOYW1lO1xuXG4gICAgICBpZiAob2JqLmFsaWFzZXMpIHtcbiAgICAgICAgYWxpYXNlcyA9IG9iai5hbGlhc2VzLnZhbHVlT2YoKTsgLy8gYWxpYXNlcyBjb3VsZCBiZSBhIE1hdHJpeCwgc28gY29udmVydCB0byBBcnJheVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIiBmcm9tIFwiJyArIG9iai50b1N0cmluZygpICsgJ1wiOiBleHBlY3RpbmcgXCJzdHJpbmdcIiBvciBcIlVuaXRcIiBvciBcIk9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGFsaWFzZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxpYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIGFsaWFzZXNbaV0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIGFsaWFzIFwiJyArIGFsaWFzZXNbaV0gKyAnXCI6IGEgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZmluaXRpb24gJiYgdHlwZW9mIGRlZmluaXRpb24gPT09ICdzdHJpbmcnICYmICFkZWZVbml0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBkZWZVbml0ID0gVW5pdC5wYXJzZShkZWZpbml0aW9uLCB7XG4gICAgICAgICAgYWxsb3dOb1VuaXRzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgZXgubWVzc2FnZSA9ICdDb3VsZCBub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIiBmcm9tIFwiJyArIGRlZmluaXRpb24gKyAnXCI6ICcgKyBleC5tZXNzYWdlO1xuICAgICAgICB0aHJvdyBleDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRlZmluaXRpb24gJiYgZGVmaW5pdGlvbi50eXBlID09PSAnVW5pdCcpIHtcbiAgICAgIGRlZlVuaXQgPSBkZWZpbml0aW9uLmNsb25lKCk7XG4gICAgfVxuXG4gICAgYWxpYXNlcyA9IGFsaWFzZXMgfHwgW107XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBpZiAocHJlZml4ZXMgJiYgcHJlZml4ZXMudG9VcHBlckNhc2UpIHtcbiAgICAgIHByZWZpeGVzID0gUFJFRklYRVNbcHJlZml4ZXMudG9VcHBlckNhc2UoKV0gfHwgUFJFRklYRVMuTk9ORTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZml4ZXMgPSBQUkVGSVhFUy5OT05FO1xuICAgIH0gLy8gSWYgZGVmVW5pdCBpcyBudWxsLCBpdCBpcyBiZWNhdXNlIHRoZSB1c2VyIGRpZCBub3RcbiAgICAvLyBzcGVjaWZ5IGEgZGVmaW50aW9uLiBTbyBjcmVhdGUgYSBuZXcgYmFzZSBkaW1lbnNpb24uXG5cblxuICAgIHZhciBuZXdVbml0ID0ge307XG5cbiAgICBpZiAoIWRlZlVuaXQpIHtcbiAgICAgIC8vIEFkZCBhIG5ldyBiYXNlIGRpbWVuc2lvblxuICAgICAgYmFzZU5hbWUgPSBiYXNlTmFtZSB8fCBuYW1lICsgJ19TVFVGRic7IC8vIGZvbyAtLT4gZm9vX1NUVUZGLCBvciB0aGUgZXNzZW5jZSBvZiBmb29cblxuICAgICAgaWYgKEJBU0VfRElNRU5TSU9OUy5pbmRleE9mKGJhc2VOYW1lKSA+PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBuZXcgYmFzZSB1bml0IFwiJyArIG5hbWUgKyAnXCI6IGEgYmFzZSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzIChhbmQgY2Fubm90IGJlIG92ZXJyaWRkZW4pJyk7XG4gICAgICB9XG5cbiAgICAgIEJBU0VfRElNRU5TSU9OUy5wdXNoKGJhc2VOYW1lKTsgLy8gUHVzaCAwIG9udG8gZXhpc3RpbmcgYmFzZSB1bml0c1xuXG4gICAgICBmb3IgKHZhciBiIGluIEJBU0VfVU5JVFMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIGIpKSB7XG4gICAgICAgICAgQkFTRV9VTklUU1tiXS5kaW1lbnNpb25zW0JBU0VfRElNRU5TSU9OUy5sZW5ndGggLSAxXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQWRkIHRoZSBuZXcgYmFzZSB1bml0XG5cblxuICAgICAgdmFyIG5ld0Jhc2VVbml0ID0ge1xuICAgICAgICBkaW1lbnNpb25zOiBbXVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgX2k2KyspIHtcbiAgICAgICAgbmV3QmFzZVVuaXQuZGltZW5zaW9uc1tfaTZdID0gMDtcbiAgICAgIH1cblxuICAgICAgbmV3QmFzZVVuaXQuZGltZW5zaW9uc1tCQVNFX0RJTUVOU0lPTlMubGVuZ3RoIC0gMV0gPSAxO1xuICAgICAgbmV3QmFzZVVuaXQua2V5ID0gYmFzZU5hbWU7XG4gICAgICBCQVNFX1VOSVRTW2Jhc2VOYW1lXSA9IG5ld0Jhc2VVbml0O1xuICAgICAgbmV3VW5pdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGRpbWVuc2lvbnM6IEJBU0VfVU5JVFNbYmFzZU5hbWVdLmRpbWVuc2lvbnMuc2xpY2UoMCksXG4gICAgICAgIHByZWZpeGVzOiBwcmVmaXhlcyxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGJhc2U6IEJBU0VfVU5JVFNbYmFzZU5hbWVdXG4gICAgICB9O1xuICAgICAgY3VycmVudFVuaXRTeXN0ZW1bYmFzZU5hbWVdID0ge1xuICAgICAgICB1bml0OiBuZXdVbml0LFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdVbml0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogZGVmVW5pdC52YWx1ZSxcbiAgICAgICAgZGltZW5zaW9uczogZGVmVW5pdC5kaW1lbnNpb25zLnNsaWNlKDApLFxuICAgICAgICBwcmVmaXhlczogcHJlZml4ZXMsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9OyAvLyBDcmVhdGUgYSBuZXcgYmFzZSBpZiBubyBtYXRjaGluZyBiYXNlIGV4aXN0c1xuXG4gICAgICB2YXIgYW55TWF0Y2ggPSBmYWxzZTtcblxuICAgICAgZm9yICh2YXIgX2k3IGluIEJBU0VfVU5JVFMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIF9pNykpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicygobmV3VW5pdC5kaW1lbnNpb25zW2pdIHx8IDApIC0gKEJBU0VfVU5JVFNbX2k3XS5kaW1lbnNpb25zW2pdIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgYW55TWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgbmV3VW5pdC5iYXNlID0gQkFTRV9VTklUU1tfaTddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghYW55TWF0Y2gpIHtcbiAgICAgICAgYmFzZU5hbWUgPSBiYXNlTmFtZSB8fCBuYW1lICsgJ19TVFVGRic7IC8vIGZvbyAtLT4gZm9vX1NUVUZGLCBvciB0aGUgZXNzZW5jZSBvZiBmb29cbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgYmFzZSB1bml0XG5cbiAgICAgICAgdmFyIF9uZXdCYXNlVW5pdCA9IHtcbiAgICAgICAgICBkaW1lbnNpb25zOiBkZWZVbml0LmRpbWVuc2lvbnMuc2xpY2UoMClcbiAgICAgICAgfTtcbiAgICAgICAgX25ld0Jhc2VVbml0LmtleSA9IGJhc2VOYW1lO1xuICAgICAgICBCQVNFX1VOSVRTW2Jhc2VOYW1lXSA9IF9uZXdCYXNlVW5pdDtcbiAgICAgICAgY3VycmVudFVuaXRTeXN0ZW1bYmFzZU5hbWVdID0ge1xuICAgICAgICAgIHVuaXQ6IG5ld1VuaXQsXG4gICAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgICB9O1xuICAgICAgICBuZXdVbml0LmJhc2UgPSBCQVNFX1VOSVRTW2Jhc2VOYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBVbml0LlVOSVRTW25hbWVdID0gbmV3VW5pdDtcblxuICAgIGZvciAodmFyIF9pOCA9IDA7IF9pOCA8IGFsaWFzZXMubGVuZ3RoOyBfaTgrKykge1xuICAgICAgdmFyIGFsaWFzTmFtZSA9IGFsaWFzZXNbX2k4XTtcbiAgICAgIHZhciBfYWxpYXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleTYgaW4gbmV3VW5pdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkobmV3VW5pdCwgX2tleTYpKSB7XG4gICAgICAgICAgX2FsaWFzW19rZXk2XSA9IG5ld1VuaXRbX2tleTZdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9hbGlhcy5uYW1lID0gYWxpYXNOYW1lO1xuICAgICAgVW5pdC5VTklUU1thbGlhc05hbWVdID0gX2FsaWFzO1xuICAgIH0gLy8gZGVsZXRlIHRoZSBtZW1vaXphdGlvbiBjYWNoZSwgc2luY2UgYWRkaW5nIGEgbmV3IHVuaXQgdG8gdGhlIGFycmF5XG4gICAgLy8gaW52YWxpZGF0ZXMgYWxsIG9sZCByZXN1bHRzXG5cblxuICAgIGRlbGV0ZSBfZmluZFVuaXQuY2FjaGU7XG4gICAgcmV0dXJuIG5ldyBVbml0KG51bGwsIG5hbWUpO1xuICB9O1xuXG4gIFVuaXQuZGVsZXRlVW5pdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgZGVsZXRlIFVuaXQuVU5JVFNbbmFtZV07XG4gIH07IC8vIGV4cG9zZSBhcnJheXMgd2l0aCBwcmVmaXhlcywgZGltZW5zaW9ucywgdW5pdHMsIHN5c3RlbXNcblxuXG4gIFVuaXQuUFJFRklYRVMgPSBQUkVGSVhFUztcbiAgVW5pdC5CQVNFX0RJTUVOU0lPTlMgPSBCQVNFX0RJTUVOU0lPTlM7XG4gIFVuaXQuQkFTRV9VTklUUyA9IEJBU0VfVU5JVFM7XG4gIFVuaXQuVU5JVF9TWVNURU1TID0gVU5JVF9TWVNURU1TO1xuICBVbml0LlVOSVRTID0gVU5JVFM7XG4gIHJldHVybiBVbml0O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICd1bml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ1VuaXQnXTsgLy8gVGhpcyBmdW5jdGlvbiBpcyBuYW1lZCBjcmVhdGVVbml0RnVuY3Rpb24gdG8gcHJldmVudCBhIG5hbWluZyBjb25mbGljdCB3aXRoIGNyZWF0ZVVuaXRcblxuZXhwb3J0IHZhciBjcmVhdGVVbml0RnVuY3Rpb24gPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBVbml0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1bml0LiBEZXBlbmRpbmcgb24gdGhlIHBhc3NlZCBhcmd1bWVudHMsIHRoZSBmdW5jdGlvblxuICAgKiB3aWxsIGNyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IG1hdGguVW5pdCBvYmplY3QuXG4gICAqIFdoZW4gYSBtYXRyaXggaXMgcHJvdmlkZWQsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byB1bml0cy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC51bml0KHVuaXQgOiBzdHJpbmcpXG4gICAqICAgICBtYXRoLnVuaXQodmFsdWUgOiBudW1iZXIsIHVuaXQgOiBzdHJpbmcpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KDUsICdjbScpICAgIC8vIHJldHVybnMgVW5pdCA1MCBtbVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyMyBrZycpICAgIC8vIHJldHVybnMgVW5pdCAyMyBrZ1xuICAgKiAgICBhLnRvKCdtJykgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgVW5pdCAwLjA1IG1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgbnVtYmVyLCBzdHJpbmcsIGNyZWF0ZVVuaXRcbiAgICpcbiAgICogQHBhcmFtIHsqIHwgQXJyYXkgfCBNYXRyaXh9IGFyZ3MgICBBIG51bWJlciBhbmQgdW5pdC5cbiAgICogQHJldHVybiB7VW5pdCB8IEFycmF5IHwgTWF0cml4fSAgICBUaGUgY3JlYXRlZCB1bml0XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgcmV0dXJuIHguY2xvbmUoKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIGlmIChVbml0LmlzVmFsdWVsZXNzVW5pdCh4KSkge1xuICAgICAgICByZXR1cm4gbmV3IFVuaXQobnVsbCwgeCk7IC8vIGEgcHVyZSB1bml0XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBVbml0LnBhcnNlKHgsIHtcbiAgICAgICAgYWxsb3dOb1VuaXRzOiB0cnVlXG4gICAgICB9KTsgLy8gYSB1bml0IHdpdGggdmFsdWUsIGxpa2UgJzVjbSdcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXgsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlckZyYWN0aW9uQ29tcGxleFN0cmluZyh2YWx1ZSwgdW5pdCkge1xuICAgICAgcmV0dXJuIG5ldyBVbml0KHZhbHVlLCB1bml0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdjcmVhdGVVbml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ1VuaXQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ3JlYXRlVW5pdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIFVuaXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVzZXItZGVmaW5lZCB1bml0IGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBVbml0IHR5cGUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCh7XG4gICAqICAgICAgIGJhc2VVbml0MToge1xuICAgKiAgICAgICAgIGFsaWFzZXM6IFtzdHJpbmcsIC4uLl1cbiAgICogICAgICAgICBwcmVmaXhlczogb2JqZWN0XG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHVuaXQyOiB7XG4gICAqICAgICAgICAgZGVmaW5pdGlvbjogc3RyaW5nLFxuICAgKiAgICAgICAgIGFsaWFzZXM6IFtzdHJpbmcsIC4uLl1cbiAgICogICAgICAgICBwcmVmaXhlczogb2JqZWN0LFxuICAgKiAgICAgICAgIG9mZnNldDogbnVtYmVyXG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHVuaXQzOiBzdHJpbmcgICAgLy8gU2hvcnRjdXRcbiAgICogICAgIH0pXG4gICAqXG4gICAqICAgICAvLyBBbm90aGVyIHNob3J0Y3V0OlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KHN0cmluZywgdW5pdCA6IHN0cmluZywgW29iamVjdF0pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdmb28nKVxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdrbm90Jywge2RlZmluaXRpb246ICcwLjUxNDQ0NDQ0NCBtL3MnLCBhbGlhc2VzOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddfSlcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgnbXBoJywgJzEgbWlsZS9ob3VyJylcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICBUaGUgbmFtZSBvZiB0aGUgbmV3IHVuaXQuIE11c3QgYmUgdW5pcXVlLiBFeGFtcGxlOiAna25vdCdcbiAgICogQHBhcmFtIHtzdHJpbmcsIFVuaXR9IGRlZmluaXRpb24gICAgICBEZWZpbml0aW9uIG9mIHRoZSB1bml0IGluIHRlcm1zIG9mIGV4aXN0aW5nIHVuaXRzLiBGb3IgZXhhbXBsZSwgJzAuNTE0NDQ0NDQ0IG0gLyBzJy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAob3B0aW9uYWwpIEFuIG9iamVjdCBjb250YWluaW5nIGFueSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAgICAtIGBwcmVmaXhlcyB7c3RyaW5nfWAgXCJub25lXCIsIFwic2hvcnRcIiwgXCJsb25nXCIsIFwiYmluYXJ5X3Nob3J0XCIsIG9yIFwiYmluYXJ5X2xvbmdcIi4gVGhlIGRlZmF1bHQgaXMgXCJub25lXCIuXG4gICAqICAgICAtIGBhbGlhc2VzIHtBcnJheX1gIEFycmF5IG9mIHN0cmluZ3MuIEV4YW1wbGU6IFsna25vdHMnLCAna3QnLCAna3RzJ11cbiAgICogICAgIC0gYG9mZnNldCB7TnVtZXJpY31gIEFuIG9mZnNldCB0byBhcHBseSB3aGVuIGNvbnZlcnRpbmcgZnJvbSB0aGUgdW5pdC4gRm9yIGV4YW1wbGUsIHRoZSBvZmZzZXQgZm9yIGNlbHNpdXMgaXMgMjczLjE1LiBEZWZhdWx0IGlzIDAuXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgdW5pdFxuICAgKlxuICAgKiBAcmV0dXJuIHtVbml0fSBUaGUgbmV3IHVuaXRcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgLy8gR2VuZXJhbCBmdW5jdGlvbiBzaWduYXR1cmUuIEZpcnN0IHBhcmFtZXRlciBpcyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyB0aGUgZGVmaW5pdGlvbiBvZiBhIG5ldyB1bml0LiBUaGUgb2JqZWN0IGtleXMgYXJlIHRoZSB1bml0IG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZGVmaW5pdGlvbnMuIFRoZSB2YWx1ZXMgY2FuIGJlIG9iamVjdHMsIHN0cmluZ3MsIG9yIFVuaXRzLiBJZiBhIHByb3BlcnR5IGlzIGFuIGVtcHR5IG9iamVjdCBvciBhbiBlbXB0eSBzdHJpbmcsIGEgbmV3IGJhc2UgdW5pdCBpcyBjcmVhdGVkLiBUaGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgb3B0aW9ucy5cbiAgICAnT2JqZWN0LCBPYmplY3QnOiBmdW5jdGlvbiBPYmplY3RPYmplY3Qob2JqLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICAvLyBTYW1lIGFzIGFib3ZlIGJ1dCB3aXRob3V0IHRoZSBvcHRpb25zLlxuICAgIE9iamVjdDogZnVuY3Rpb24gT2JqZWN0KG9iaikge1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9LFxuICAgIC8vIFNob3J0Y3V0IG1ldGhvZCBmb3IgY3JlYXRpbmcgb25lIHVuaXQuXG4gICAgJ3N0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCwgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nVW5pdFN0cmluZ09iamVjdE9iamVjdChuYW1lLCBkZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IGRlZjtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIC8vIFNhbWUgYXMgYWJvdmUgYnV0IHdpdGhvdXQgdGhlIG9wdGlvbnMuXG4gICAgJ3N0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ1VuaXRTdHJpbmdPYmplY3QobmFtZSwgZGVmKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSBkZWY7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH0sXG4gICAgLy8gV2l0aG91dCBhIGRlZmluaXRpb24sIGNyZWF0ZXMgYSBiYXNlIHVuaXQuXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcobmFtZSkge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0ge307XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEwIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2FkZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWRkU2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBZGQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWRkU2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAxID0gY3JlYXRlQWxnb3JpdGhtMDEoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDQgPSBjcmVhdGVBbGdvcml0aG0wNCh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMCA9IGNyZWF0ZUFsZ29yaXRobTEwKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBBZGQgdHdvIG9yIG1vcmUgdmFsdWVzLCBgeCArIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYWRkKHgsIHkpXG4gICAqICAgIG1hdGguYWRkKHgsIHksIHosIC4uLilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguYWRkKDIsIDMpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNVxuICAgKiAgICBtYXRoLmFkZCgyLCAzLCA0KSAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDlcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KC00LCAxKVxuICAgKiAgICBtYXRoLmFkZChhLCBiKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtMiArIDRpXG4gICAqXG4gICAqICAgIG1hdGguYWRkKFsxLCAyLCAzXSwgNCkgICAgICAgLy8gcmV0dXJucyBBcnJheSBbNSwgNiwgN11cbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGQgPSBtYXRoLnVuaXQoJzIuMSBtbScpXG4gICAqICAgIG1hdGguYWRkKGMsIGQpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDUyLjEgbW1cbiAgICpcbiAgICogICAgbWF0aC5hZGQoXCIyLjNcIiwgXCI0XCIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNi4zXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzdWJ0cmFjdCwgc3VtXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBhZGRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBhZGRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBTdW0gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIGFkZFNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA0KHgsIHksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgYWRkU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBhZGRTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIGFueSc6IGFkZFNjYWxhcixcbiAgICAnYW55LCBhbnksIC4uLmFueSc6IGZ1bmN0aW9uIGFueUFueUFueSh4LCB5LCByZXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcyh4LCB5KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMocmVzdWx0LCByZXN0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIGFkZFNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbnZhciBuYW1lID0gJ2RvdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdhZGRTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnY29uaicsICdzaXplJ107XG5leHBvcnQgdmFyIGNyZWF0ZURvdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBjb25qLFxuICAgIHNpemVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuIFRoZSBkb3QgcHJvZHVjdCBvZlxuICAgKiBgQSA9IFthMSwgYTIsIC4uLiwgYW5dYCBhbmQgYEIgPSBbYjEsIGIyLCAuLi4sIGJuXWAgaXMgZGVmaW5lZCBhczpcbiAgICpcbiAgICogICAgZG90KEEsIEIpID0gY29uaihhMSkgKiBiMSArIGNvbmooYTIpICogYjIgKyAuLi4gKyBjb25qKGFuKSAqIGJuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kb3QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZG90KFsyLCA0LCAxXSwgWzIsIDIsIDNdKSAgICAgICAvLyByZXR1cm5zIG51bWJlciAxNVxuICAgKiAgICBtYXRoLm11bHRpcGx5KFsyLCA0LCAxXSwgWzIsIDIsIDNdKSAgLy8gcmV0dXJucyBudW1iZXIgMTVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5LCBjcm9zc1xuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheSB8IE1hdHJpeH0geCAgICAgRmlyc3QgdmVjdG9yXG4gICAqIEBwYXJhbSAge0FycmF5IHwgTWF0cml4fSB5ICAgICBTZWNvbmQgdmVjdG9yXG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCBvZiBgeGAgYW5kIGB5YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnQXJyYXkgfCBEZW5zZU1hdHJpeCwgQXJyYXkgfCBEZW5zZU1hdHJpeCc6IF9kZW5zZURvdCxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfc3BhcnNlRG90XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZURpbSh4LCB5KSB7XG4gICAgdmFyIHhTaXplID0gX3NpemUoeCk7XG5cbiAgICB2YXIgeVNpemUgPSBfc2l6ZSh5KTtcblxuICAgIHZhciB4TGVuLCB5TGVuO1xuXG4gICAgaWYgKHhTaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgeExlbiA9IHhTaXplWzBdO1xuICAgIH0gZWxzZSBpZiAoeFNpemUubGVuZ3RoID09PSAyICYmIHhTaXplWzFdID09PSAxKSB7XG4gICAgICB4TGVuID0geFNpemVbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFeHBlY3RlZCBhIGNvbHVtbiB2ZWN0b3IsIGluc3RlYWQgZ290IGEgbWF0cml4IG9mIHNpemUgKCcgKyB4U2l6ZS5qb2luKCcsICcpICsgJyknKTtcbiAgICB9XG5cbiAgICBpZiAoeVNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICB5TGVuID0geVNpemVbMF07XG4gICAgfSBlbHNlIGlmICh5U2l6ZS5sZW5ndGggPT09IDIgJiYgeVNpemVbMV0gPT09IDEpIHtcbiAgICAgIHlMZW4gPSB5U2l6ZVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0V4cGVjdGVkIGEgY29sdW1uIHZlY3RvciwgaW5zdGVhZCBnb3QgYSBtYXRyaXggb2Ygc2l6ZSAoJyArIHlTaXplLmpvaW4oJywgJykgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh4TGVuICE9PSB5TGVuKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVmVjdG9ycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoICgnICsgeExlbiArICcgIT0gJyArIHlMZW4gKyAnKScpO1xuICAgIGlmICh4TGVuID09PSAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgZW1wdHkgdmVjdG9ycycpO1xuICAgIHJldHVybiB4TGVuO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlbnNlRG90KGEsIGIpIHtcbiAgICB2YXIgTiA9IF92YWxpZGF0ZURpbShhLCBiKTtcblxuICAgIHZhciBhZGF0YSA9IGlzTWF0cml4KGEpID8gYS5fZGF0YSA6IGE7XG4gICAgdmFyIGFkdCA9IGlzTWF0cml4KGEpID8gYS5fZGF0YXR5cGUgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGJkYXRhID0gaXNNYXRyaXgoYikgPyBiLl9kYXRhIDogYjtcbiAgICB2YXIgYmR0ID0gaXNNYXRyaXgoYikgPyBiLl9kYXRhdHlwZSA6IHVuZGVmaW5lZDsgLy8gYXJlIHRoZXNlIDItZGltZW5zaW9uYWwgY29sdW1uIHZlY3RvcnM/IChhcyBvcHBvc2VkIHRvIDEtZGltZW5zaW9uYWwgdmVjdG9ycylcblxuICAgIHZhciBhSXNDb2x1bW4gPSBfc2l6ZShhKS5sZW5ndGggPT09IDI7XG4gICAgdmFyIGJJc0NvbHVtbiA9IF9zaXplKGIpLmxlbmd0aCA9PT0gMjtcbiAgICB2YXIgYWRkID0gYWRkU2NhbGFyO1xuICAgIHZhciBtdWwgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFkZCA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtdWwgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBib3RoIHZlY3RvcnMgMS1kaW1lbnNpb25hbFxuXG5cbiAgICBpZiAoIWFJc0NvbHVtbiAmJiAhYklzQ29sdW1uKSB7XG4gICAgICB2YXIgYyA9IG11bChjb25qKGFkYXRhWzBdKSwgYmRhdGFbMF0pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IE47IGkrKykge1xuICAgICAgICBjID0gYWRkKGMsIG11bChjb25qKGFkYXRhW2ldKSwgYmRhdGFbaV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGM7XG4gICAgfSAvLyBhIGlzIDEtZGltLCBiIGlzIGNvbHVtblxuXG5cbiAgICBpZiAoIWFJc0NvbHVtbiAmJiBiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYyA9IG11bChjb25qKGFkYXRhWzBdKSwgYmRhdGFbMF1bMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgTjsgX2krKykge1xuICAgICAgICBfYyA9IGFkZChfYywgbXVsKGNvbmooYWRhdGFbX2ldKSwgYmRhdGFbX2ldWzBdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYztcbiAgICB9IC8vIGEgaXMgY29sdW1uLCBiIGlzIDEtZGltXG5cblxuICAgIGlmIChhSXNDb2x1bW4gJiYgIWJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jMiA9IG11bChjb25qKGFkYXRhWzBdWzBdKSwgYmRhdGFbMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAxOyBfaTIgPCBOOyBfaTIrKykge1xuICAgICAgICBfYzIgPSBhZGQoX2MyLCBtdWwoY29uaihhZGF0YVtfaTJdWzBdKSwgYmRhdGFbX2kyXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2MyO1xuICAgIH0gLy8gYm90aCB2ZWN0b3JzIGFyZSBjb2x1bW5cblxuXG4gICAgaWYgKGFJc0NvbHVtbiAmJiBiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYzMgPSBtdWwoY29uaihhZGF0YVswXVswXSksIGJkYXRhWzBdWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kzID0gMTsgX2kzIDwgTjsgX2kzKyspIHtcbiAgICAgICAgX2MzID0gYWRkKF9jMywgbXVsKGNvbmooYWRhdGFbX2kzXVswXSksIGJkYXRhW19pM11bMF0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jMztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc3BhcnNlRG90KHgsIHkpIHtcbiAgICBfdmFsaWRhdGVEaW0oeCwgeSk7XG5cbiAgICB2YXIgeGluZGV4ID0geC5faW5kZXg7XG4gICAgdmFyIHh2YWx1ZXMgPSB4Ll92YWx1ZXM7XG4gICAgdmFyIHlpbmRleCA9IHkuX2luZGV4O1xuICAgIHZhciB5dmFsdWVzID0geS5fdmFsdWVzOyAvLyBUT0RPIG9wdGltaXplIGFkZCAmIG11bCB1c2luZyBkYXRhdHlwZVxuXG4gICAgdmFyIGMgPSAwO1xuICAgIHZhciBhZGQgPSBhZGRTY2FsYXI7XG4gICAgdmFyIG11bCA9IG11bHRpcGx5U2NhbGFyO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgaiA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHhpbmRleC5sZW5ndGggJiYgaiA8IHlpbmRleC5sZW5ndGgpIHtcbiAgICAgIHZhciBJID0geGluZGV4W2ldO1xuICAgICAgdmFyIEogPSB5aW5kZXhbal07XG5cbiAgICAgIGlmIChJIDwgSikge1xuICAgICAgICBpKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoSSA+IEopIHtcbiAgICAgICAgaisrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEkgPT09IEopIHtcbiAgICAgICAgYyA9IGFkZChjLCBtdWwoeHZhbHVlc1tpXSwgeXZhbHVlc1tqXSkpO1xuICAgICAgICBpKys7XG4gICAgICAgIGorKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYztcbiAgfSAvLyBUT0RPIHJlbW92ZSB0aGlzIG9uY2UgIzE3NzEgaXMgZml4ZWRcblxuXG4gIGZ1bmN0aW9uIF9zaXplKHgpIHtcbiAgICByZXR1cm4gaXNNYXRyaXgoeCkgPyB4LnNpemUoKSA6IHNpemUoeCk7XG4gIH1cbn0pOyIsIi8vIFJlc2VydmVkIGtleXdvcmRzIG5vdCBhbGxvd2VkIHRvIHVzZSBpbiB0aGUgcGFyc2VyXG5leHBvcnQgdmFyIGtleXdvcmRzID0ge1xuICBlbmQ6IHRydWVcbn07IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsga2V5d29yZHMgfSBmcm9tICcuLi9rZXl3b3Jkcy5qcyc7XG5pbXBvcnQgeyBkZWVwU3RyaWN0RXF1YWwsIGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aFdpdGhUcmFuc2Zvcm0nXTtcbmV4cG9ydCB2YXIgY3JlYXRlTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGhXaXRoVHJhbnNmb3JtXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBOb2RlXG4gICAqL1xuICBmdW5jdGlvbiBOb2RlKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV2YWx1YXRlIHRoZSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdICBTY29wZSB0byByZWFkL3dyaXRlIHZhcmlhYmxlc1xuICAgKiBAcmV0dXJuIHsqfSAgICAgICAgICAgICAgUmV0dXJucyB0aGUgcmVzdWx0XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZXZhbHVhdGUgPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICB9O1xuXG4gIE5vZGUucHJvdG90eXBlLnR5cGUgPSAnTm9kZSc7XG4gIE5vZGUucHJvdG90eXBlLmlzTm9kZSA9IHRydWU7XG4gIE5vZGUucHJvdG90eXBlLmNvbW1lbnQgPSAnJztcbiAgLyoqXG4gICAqIENvbXBpbGUgdGhlIG5vZGUgaW50byBhbiBvcHRpbWl6ZWQsIGV2YXVhdGFibGUgSmF2YVNjcmlwdCBmdW5jdGlvblxuICAgKiBAcmV0dXJuIHt7ZXZhbHVhdGU6IGZ1bmN0aW9uKFtPYmplY3RdKX19IG9iamVjdFxuICAgKiAgICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGEgZnVuY3Rpb24gJ2V2YWx1YXRlJyxcbiAgICogICAgICAgICAgICAgICAgd2hpY2ggY2FuIGJlIGludm9rZWQgYXMgZXhwci5ldmFsdWF0ZShbc2NvcGU6IE9iamVjdF0pLFxuICAgKiAgICAgICAgICAgICAgICB3aGVyZSBzY29wZSBpcyBhbiBvcHRpb25hbCBvYmplY3Qgd2l0aFxuICAgKiAgICAgICAgICAgICAgICB2YXJpYWJsZXMuXG4gICAqL1xuXG4gIE5vZGUucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4cHIgPSB0aGlzLl9jb21waWxlKG1hdGhXaXRoVHJhbnNmb3JtLCB7fSk7XG5cbiAgICB2YXIgYXJncyA9IHt9O1xuICAgIHZhciBjb250ZXh0ID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGV2YWx1YXRlKHNjb3BlKSB7XG4gICAgICB2YXIgcyA9IHNjb3BlIHx8IHt9O1xuXG4gICAgICBfdmFsaWRhdGVTY29wZShzKTtcblxuICAgICAgcmV0dXJuIGV4cHIocywgYXJncywgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV2YWx1YXRlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIF9jb21waWxlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSB0eXBlICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcnVuIGZvckVhY2ggb24gYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcnVuIG1hcCBvbiBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIE5vZGUsIGZvciB1c2Ugd2l0aCBtYXBcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEByZXR1cm5zIHtOb2RlfSBSZXR1cm5zIHRoZSBpbnB1dCBpZiBpdCdzIGEgbm9kZSwgZWxzZSB0aHJvd3MgYW4gRXJyb3JcbiAgICogQHByb3RlY3RlZFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl9pZk5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmICghaXNOb2RlKG5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYWxsYmFjayBmdW5jdGlvbiBtdXN0IHJldHVybiBhIE5vZGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFsbCBub2RlcyBpbiBhIG5vZGUgdHJlZS4gRXhlY3V0ZXMgZ2l2ZW4gY2FsbGJhY2sgZm9yXG4gICAqIHRoaXMgbm9kZSBhbmQgZWFjaCBvZiBpdHMgY2hpbGQgbm9kZXMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKiAgICAgICAgICBBIGNhbGxiYWNrIGNhbGxlZCBmb3IgZXZlcnkgbm9kZSBpbiB0aGUgbm9kZSB0cmVlLlxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRyYXZlcnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gZXhlY3V0ZSBjYWxsYmFjayBmb3IgaXRzZWxmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY2FsbGJhY2sodGhpcywgbnVsbCwgbnVsbCk7IC8vIHJlY3Vyc2l2ZWx5IHRyYXZlcnNlIG92ZXIgYWxsIGNoaWxkcyBvZiBhIG5vZGVcblxuICAgIGZ1bmN0aW9uIF90cmF2ZXJzZShub2RlLCBjYWxsYmFjaykge1xuICAgICAgbm9kZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCwgcGF0aCwgcGFyZW50KSB7XG4gICAgICAgIGNhbGxiYWNrKGNoaWxkLCBwYXRoLCBwYXJlbnQpO1xuXG4gICAgICAgIF90cmF2ZXJzZShjaGlsZCwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RyYXZlcnNlKHRoaXMsIGNhbGxiYWNrKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHRyYW5zZm9ybSBhIG5vZGUgdHJlZSB2aWEgYSB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB0byByZXBsYWNlIGFsbCBub2RlcyBvZiB0eXBlIFN5bWJvbE5vZGUgaGF2aW5nIG5hbWUgJ3gnIHdpdGggYVxuICAgKiBDb25zdGFudE5vZGUgd2l0aCB2YWx1ZSAyOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmVzID0gTm9kZS50cmFuc2Zvcm0oZnVuY3Rpb24gKG5vZGUsIHBhdGgsIHBhcmVudCkge1xuICAgKiAgICAgICBpZiAobm9kZSAmJiBub2RlLmlzU3ltYm9sTm9kZSkgJiYgKG5vZGUubmFtZSA9PT0gJ3gnKSkge1xuICAgKiAgICAgICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKDIpXG4gICAqICAgICAgIH1cbiAgICogICAgICAgZWxzZSB7XG4gICAqICAgICAgICAgcmV0dXJuIG5vZGVcbiAgICogICAgICAgfVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiAgICAgICAgICBBIG1hcHBpbmcgZnVuY3Rpb24gYWNjZXB0aW5nIGEgbm9kZSwgYW5kIHJldHVybmluZ1xuICAgKiAgICAgICAgICBhIHJlcGxhY2VtZW50IGZvciB0aGUgbm9kZSBvciB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogICAgICAgICAgU2lnbmF0dXJlOiBjYWxsYmFjayhub2RlOiBOb2RlLCBpbmRleDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBub2RlIG9yIGl0cyByZXBsYWNlbWVudFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZ1bmN0aW9uIF90cmFuc2Zvcm0oY2hpbGQsIHBhdGgsIHBhcmVudCkge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gY2FsbGJhY2soY2hpbGQsIHBhdGgsIHBhcmVudCk7XG5cbiAgICAgIGlmIChyZXBsYWNlbWVudCAhPT0gY2hpbGQpIHtcbiAgICAgICAgLy8gc3RvcCBpdGVyYXRpbmcgd2hlbiB0aGUgbm9kZSBpcyByZXBsYWNlZFxuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZC5tYXAoX3RyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90cmFuc2Zvcm0odGhpcywgbnVsbCwgbnVsbCk7XG4gIH07XG4gIC8qKlxuICAgKiBGaW5kIGFueSBub2RlIGluIHRoZSBub2RlIHRyZWUgbWF0Y2hpbmcgZ2l2ZW4gZmlsdGVyIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZSwgdG9cbiAgICogZmluZCBhbGwgbm9kZXMgb2YgdHlwZSBTeW1ib2xOb2RlIGhhdmluZyBuYW1lICd4JzpcbiAgICpcbiAgICogICAgIGNvbnN0IHJlc3VsdHMgPSBOb2RlLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgKiAgICAgICByZXR1cm4gKG5vZGUgJiYgbm9kZS5pc1N5bWJvbE5vZGUpICYmIChub2RlLm5hbWUgPT09ICd4JylcbiAgICogICAgIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgICBBIHRlc3QgZnVuY3Rpb24gcmV0dXJuaW5nIHRydWUgd2hlbiBhIG5vZGUgbWF0Y2hlcywgYW5kIGZhbHNlXG4gICAqICAgICAgICAgICAgb3RoZXJ3aXNlLiBGdW5jdGlvbiBzaWduYXR1cmU6XG4gICAqICAgICAgICAgICAgY2FsbGJhY2sobm9kZTogTm9kZSwgaW5kZXg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IGJvb2xlYW5cbiAgICogQHJldHVybiB7Tm9kZVtdfSBub2RlcyAgICAgICBBbiBhcnJheSB3aXRoIG5vZGVzIG1hdGNoaW5nIGdpdmVuIGZpbHRlciBjcml0ZXJpYVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBub2RlcyA9IFtdO1xuICAgIHRoaXMudHJhdmVyc2UoZnVuY3Rpb24gKG5vZGUsIHBhdGgsIHBhcmVudCkge1xuICAgICAgaWYgKGNhbGxiYWNrKG5vZGUsIHBhdGgsIHBhcmVudCkpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaGFsbG93IGNsb25lIG9mIHRoaXMgbm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjbG9uZSBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkZWVwIGNsb25lIG9mIHRoaXMgbm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmNsb25lRGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmNsb25lRGVlcCgpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogRGVlcCBjb21wYXJlIHRoaXMgbm9kZSB3aXRoIGFub3RoZXIgbm9kZS5cbiAgICogQHBhcmFtIHtOb2RlfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBib3RoIG5vZGVzIGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICBjb250YWluIHRoZSBzYW1lIHZhbHVlcyAoYXMgZG8gdGhlaXIgY2hpbGRzKVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciA/IGRlZXBTdHJpY3RFcXVhbCh0aGlzLCBvdGhlcikgOiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwib3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQm90aCAudG9KU09OKCkgYW5kIHRoZSBzdGF0aWMgLmZyb21KU09OKGpzb24pIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBhbGxcbiAgICogaW1wbGVtZW50YXRpb25zIG9mIE5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VyaWFsaXplIG9iamVjdDogdG9KU09OIG5vdCBpbXBsZW1lbnRlZCBieSAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIiBvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHRoZSBzdHJpbmcgb3V0cHV0LlxuICAgKiBUaGlzIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBldmVyeSBOb2RlXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdfdG9TdHJpbmcgbm90IGltcGxlbWVudGVkIGZvciAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCJvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21UZXg7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21UZXggPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21UZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3RvVGV4KG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIExhVGVYIG91dHB1dC5cbiAgICogVGhpcyBoYXMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgZXZlcnkgTm9kZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignX3RvVGV4IG5vdCBpbXBsZW1lbnRlZCBmb3IgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgY29udGVudCBvZiB0aGUgY3VycmVudCBOb2RlLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGUgc3ltYm9sIG5hbWVzIG9mIGEgc2NvcGUuXG4gICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZSBzY29wZSBjb250YWlucyBhbiBpbGxlZ2FsIHN5bWJvbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHNjb3BlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlU2NvcGUoc2NvcGUpIHtcbiAgICBmb3IgKHZhciBzeW1ib2wgaW4gc2NvcGUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzY29wZSwgc3ltYm9sKSkge1xuICAgICAgICBpZiAoc3ltYm9sIGluIGtleXdvcmRzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTY29wZSBjb250YWlucyBhbiBpbGxlZ2FsIHN5bWJvbCwgXCInICsgc3ltYm9sICsgJ1wiIGlzIGEgcmVzZXJ2ZWQga2V5d29yZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuLyoqXG4gKiBUcmFuc2Zvcm0gemVyby1iYXNlZCBpbmRpY2VzIHRvIG9uZS1iYXNlZCBpbmRpY2VzIGluIGVycm9yc1xuICogQHBhcmFtIHtFcnJvcn0gZXJyXG4gKiBAcmV0dXJucyB7RXJyb3IgfCBJbmRleEVycm9yfSBSZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCBlcnJvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcnJvclRyYW5zZm9ybShlcnIpIHtcbiAgaWYgKGVyciAmJiBlcnIuaXNJbmRleEVycm9yKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEVycm9yKGVyci5pbmRleCArIDEsIGVyci5taW4gKyAxLCBlcnIubWF4ICE9PSB1bmRlZmluZWQgPyBlcnIubWF4ICsgMSA6IHVuZGVmaW5lZCk7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufSIsImltcG9ydCB7IGVycm9yVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFjY2Vzc0ZhY3RvcnkoX3JlZikge1xuICB2YXIge1xuICAgIHN1YnNldFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUmV0cmlldmUgcGFydCBvZiBhbiBvYmplY3Q6XG4gICAqXG4gICAqIC0gUmV0cmlldmUgYSBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICAgKiAtIFJldHJpZXZlIGEgcGFydCBvZiBhIHN0cmluZ1xuICAgKiAtIFJldHJpZXZlIGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBvYmplY3RcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHJldHVybiB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IFJldHVybnMgdGhlIHN1YnNldFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFjY2VzcyhvYmplY3QsIGluZGV4KSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3Quc3Vic2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE1hdHJpeFxuICAgICAgICByZXR1cm4gb2JqZWN0LnN1YnNldChpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgZ2V0U3RyaW5nU3Vic2V0IGludG8gYSBzZXBhcmF0ZSB1dGlsIGZpbGUsIHVzZSB0aGF0XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICghaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGEgbnVtZXJpYyBpbmRleCBhcyBvYmplY3QgcHJvcGVydHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBpbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBpbmRleDogdW5zdXBwb3J0ZWQgdHlwZSBvZiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVycm9yVHJhbnNmb3JtKGVycik7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0FycmF5Tm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRnVuY3Rpb25Ob2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc09iamVjdE5vZGUsIGlzUGFyZW50aGVzaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFjY2Vzc0ZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2FjY2Vzcy5qcyc7XG52YXIgbmFtZSA9ICdBY2Nlc3Nvck5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc3Vic2V0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWNjZXNzb3JOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG4gIHZhciBhY2Nlc3MgPSBhY2Nlc3NGYWN0b3J5KHtcbiAgICBzdWJzZXRcbiAgfSk7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQWNjZXNzb3JOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBY2Nlc3MgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGdldCBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBvYmplY3QgICAgICAgICAgICAgICAgIFRoZSBvYmplY3QgZnJvbSB3aGljaCB0byByZXRyaWV2ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBwcm9wZXJ0eSBvciBzdWJzZXQuXG4gICAqIEBwYXJhbSB7SW5kZXhOb2RlfSBpbmRleCAgICAgICAgICAgICBJbmRleE5vZGUgY29udGFpbmluZyByYW5nZXNcbiAgICovXG5cbiAgZnVuY3Rpb24gQWNjZXNzb3JOb2RlKG9iamVjdCwgaW5kZXgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWNjZXNzb3JOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZShvYmplY3QpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJvYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmICghaXNJbmRleE5vZGUoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleE5vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImluZGV4XCInKTtcbiAgICB9XG5cbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdCB8fCBudWxsO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDsgLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0Lm5hbWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnR5cGUgPSAnQWNjZXNzb3JOb2RlJztcbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5pc0FjY2Vzc29yTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsSW5kZXggPSB0aGlzLmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIGlmICh0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgdmFyIHByb3AgPSB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFjY2Vzc29yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBwcm9wKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQWNjZXNzb3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBvYmplY3QpOyAvLyB3ZSBwYXNzIG9iamVjdCBoZXJlIGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgIHJldHVybiBhY2Nlc3Mob2JqZWN0LCBpbmRleCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFjY2Vzc29yTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QWNjZXNzb3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QWNjZXNzb3JOb2RlfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUodGhpcy5vYmplY3QsIHRoaXMuaW5kZXgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnKCcgKyBvYmplY3QgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgb2JqZWN0ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnXFxcXGxlZnQoXFwnICsgb2JqZWN0ICsgXFwnXFxcXHJpZ2h0KSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9UZXgob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0FjY2Vzc29yTm9kZScsXG4gICAgICBvYmplY3Q6IHRoaXMub2JqZWN0LFxuICAgICAgaW5kZXg6IHRoaXMuaW5kZXhcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQWNjZXNzb3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBY2Nlc3Nvck5vZGVcIiwgb2JqZWN0OiAuLi4sIGluZGV4OiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QWNjZXNzb3JOb2RlfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUoanNvbi5vYmplY3QsIGpzb24uaW5kZXgpO1xuICB9O1xuICAvKipcbiAgICogQXJlIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSkge1xuICAgIC8vIFRPRE86IG1heWJlIG1ha2UgYSBtZXRob2Qgb24gdGhlIG5vZGVzIHdoaWNoIHRlbGxzIHdoZXRoZXIgdGhleSBuZWVkIHBhcmVudGhlc2lzP1xuICAgIHJldHVybiAhKGlzQWNjZXNzb3JOb2RlKG5vZGUpIHx8IGlzQXJyYXlOb2RlKG5vZGUpIHx8IGlzQ29uc3RhbnROb2RlKG5vZGUpIHx8IGlzRnVuY3Rpb25Ob2RlKG5vZGUpIHx8IGlzT2JqZWN0Tm9kZShub2RlKSB8fCBpc1BhcmVudGhlc2lzTm9kZShub2RlKSB8fCBpc1N5bWJvbE5vZGUobm9kZSkpO1xuICB9XG5cbiAgcmV0dXJuIEFjY2Vzc29yTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdBcnJheU5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBcnJheU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQXJyYXlOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhbiAxLWRpbWVuc2lvbmFsIGFycmF5IHdpdGggaXRlbXNcbiAgICogQHBhcmFtIHtOb2RlW119IFtpdGVtc10gICAxIGRpbWVuc2lvbmFsIGFycmF5IHdpdGggaXRlbXNcbiAgICovXG4gIGZ1bmN0aW9uIEFycmF5Tm9kZShpdGVtcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBcnJheU5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuaXRlbXMgPSBpdGVtcyB8fCBbXTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLml0ZW1zKSB8fCAhdGhpcy5pdGVtcy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdBcnJheU5vZGUnO1xuICBBcnJheU5vZGUucHJvdG90eXBlLmlzQXJyYXlOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsSXRlbXMgPSBtYXAodGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcbiAgICB2YXIgYXNNYXRyaXggPSBtYXRoLmNvbmZpZy5tYXRyaXggIT09ICdBcnJheSc7XG5cbiAgICBpZiAoYXNNYXRyaXgpIHtcbiAgICAgIHZhciBtYXRyaXggPSBtYXRoLm1hdHJpeDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXJyYXlOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXRyaXgobWFwKGV2YWxJdGVtcywgZnVuY3Rpb24gKGV2YWxJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxJdGVtKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBcnJheU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG1hcChldmFsSXRlbXMsIGZ1bmN0aW9uIChldmFsSXRlbSkge1xuICAgICAgICAgIHJldHVybiBldmFsSXRlbShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICBjYWxsYmFjayhub2RlLCAnaXRlbXNbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBcnJheU5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0FycmF5Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLml0ZW1zW2ldLCAnaXRlbXNbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShpdGVtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0FycmF5Tm9kZX1cbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKHRoaXMuaXRlbXMuc2xpY2UoMCkpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiAnWycgKyBpdGVtcy5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBcnJheU5vZGUnLFxuICAgICAgaXRlbXM6IHRoaXMuaXRlbXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXJyYXlOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBcnJheU5vZGVcIiwgaXRlbXM6IFsuLi5dfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0FycmF5Tm9kZX1cbiAgICovXG5cblxuICBBcnJheU5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKGpzb24uaXRlbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5bPC9zcGFuPicgKyBpdGVtcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5dPC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHMgPSAnXFxcXGJlZ2lue2JtYXRyaXh9JztcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLml0ZW1zKSB7XG4gICAgICAgIHMgKz0gbm9kZS5pdGVtcy5tYXAoZnVuY3Rpb24gKGNoaWxkTm9kZSkge1xuICAgICAgICAgIHJldHVybiBjaGlsZE5vZGUudG9UZXgob3B0aW9ucyk7XG4gICAgICAgIH0pLmpvaW4oJyYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgKz0gbm9kZS50b1RleChvcHRpb25zKTtcbiAgICAgIH0gLy8gbmV3IGxpbmVcblxuXG4gICAgICBzICs9ICdcXFxcXFxcXCc7XG4gICAgfSk7XG4gICAgcyArPSAnXFxcXGVuZHtibWF0cml4fSc7XG4gICAgcmV0dXJuIHM7XG4gIH07XG5cbiAgcmV0dXJuIEFycmF5Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCIvLyBsaXN0IG9mIGlkZW50aWZpZXJzIG9mIG5vZGVzIGluIG9yZGVyIG9mIHRoZWlyIHByZWNlZGVuY2Vcbi8vIGFsc28gY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgbGVmdC9yaWdodCBhc3NvY2lhdGl2aXR5XG4vLyBhbmQgd2hpY2ggb3RoZXIgb3BlcmF0b3IgdGhlIG9wZXJhdG9yIGlzIGFzc29jaWF0aXZlIHdpdGhcbi8vIEV4YW1wbGU6XG4vLyBhZGRpdGlvbiBpcyBhc3NvY2lhdGl2ZSB3aXRoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiwgYmVjYXVzZTpcbi8vIChhK2IpK2M9YSsoYitjKVxuLy8gKGErYiktYz1hKyhiLWMpXG4vL1xuLy8gcG9zdGZpeCBvcGVyYXRvcnMgYXJlIGxlZnQgYXNzb2NpYXRpdmUsIHByZWZpeCBvcGVyYXRvcnNcbi8vIGFyZSByaWdodCBhc3NvY2lhdGl2ZVxuLy9cbi8vIEl0J3MgYWxzbyBwb3NzaWJsZSB0byBzZXQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuLy8gbGF0ZXhQYXJlbnM6IGlmIHNldCB0byBmYWxzZSwgdGhpcyBub2RlIGRvZXNuJ3QgbmVlZCB0byBiZSBlbmNsb3NlZFxuLy8gICAgICAgICAgICAgIGluIHBhcmVudGhlc2VzIHdoZW4gdXNpbmcgTGFUZVhcbi8vIGxhdGV4TGVmdFBhcmVuczogaWYgc2V0IHRvIGZhbHNlLCB0aGlzICFPcGVyYXRvck5vZGUncyFcbi8vICAgICAgICAgICAgICAgICAgbGVmdCBhcmd1bWVudCBkb2Vzbid0IG5lZWQgdG8gYmUgZW5jbG9zZWRcbi8vICAgICAgICAgICAgICAgICAgaW4gcGFyZW50aGVzZXNcbi8vIGxhdGV4UmlnaHRQYXJlbnM6IHRoZSBzYW1lIGZvciB0aGUgcmlnaHQgYXJndW1lbnRcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0LmpzJztcbmV4cG9ydCB2YXIgcHJvcGVydGllcyA9IFt7XG4gIC8vIGFzc2lnbm1lbnRcbiAgQXNzaWdubWVudE5vZGU6IHt9LFxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlOiB7fVxufSwge1xuICAvLyBjb25kaXRpb25hbCBleHByZXNzaW9uXG4gIENvbmRpdGlvbmFsTm9kZToge1xuICAgIGxhdGV4TGVmdFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhQYXJlbnM6IGZhbHNlIC8vIGNvbmRpdGlvbmFscyBkb24ndCBuZWVkIHBhcmVudGhlc2VzIGluIExhVGVYIGJlY2F1c2VcbiAgICAvLyB0aGV5IGFyZSAyIGRpbWVuc2lvbmFsXG5cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIG9yXG4gICdPcGVyYXRvck5vZGU6b3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIHhvclxuICAnT3BlcmF0b3JOb2RlOnhvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgYW5kXG4gICdPcGVyYXRvck5vZGU6YW5kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSBvclxuICAnT3BlcmF0b3JOb2RlOmJpdE9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSB4b3JcbiAgJ09wZXJhdG9yTm9kZTpiaXRYb3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIGFuZFxuICAnT3BlcmF0b3JOb2RlOmJpdEFuZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHJlbGF0aW9uYWwgb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6ZXF1YWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTp1bmVxdWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c21hbGxlcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmxhcmdlcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnNtYWxsZXJFcSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmxhcmdlckVxJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gIFJlbGF0aW9uYWxOb2RlOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXRzaGlmdCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTpsZWZ0U2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpyaWdodEFyaXRoU2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gdW5pdCBjb252ZXJzaW9uXG4gICdPcGVyYXRvck5vZGU6dG8nOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyByYW5nZVxuICBSYW5nZU5vZGU6IHt9XG59LCB7XG4gIC8vIGFkZGl0aW9uLCBzdWJ0cmFjdGlvblxuICAnT3BlcmF0b3JOb2RlOmFkZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTphZGQnLCAnT3BlcmF0b3JOb2RlOnN1YnRyYWN0J11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzdWJ0cmFjdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIG11bHRpcGx5LCBkaXZpZGUsIG1vZHVsdXNcbiAgJ09wZXJhdG9yTm9kZTptdWx0aXBseSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTptdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZGl2aWRlJywgJ09wZXJhdG9yOmRvdE11bHRpcGx5JywgJ09wZXJhdG9yOmRvdERpdmlkZSddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZGl2aWRlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdLFxuICAgIGxhdGV4TGVmdFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhQYXJlbnM6IGZhbHNlIC8vIGZyYWN0aW9ucyBkb24ndCByZXF1aXJlIHBhcmVudGhlc2VzIGJlY2F1c2VcbiAgICAvLyB0aGV5J3JlIDIgZGltZW5zaW9uYWwsIHNvIHBhcmVucyBhcmVuJ3QgbmVlZGVkXG4gICAgLy8gaW4gTGFUZVhcblxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdE11bHRpcGx5Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOm11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkaXZpZGUnLCAnT3BlcmF0b3JOb2RlOmRvdE11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkb0RpdmlkZSddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90RGl2aWRlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bW9kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gdW5hcnkgcHJlZml4IG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOnVuYXJ5UGx1cyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6dW5hcnlNaW51cyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6Yml0Tm90Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpub3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9XG59LCB7XG4gIC8vIGV4cG9uZW50aWF0aW9uXG4gICdPcGVyYXRvck5vZGU6cG93Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSAvLyB0aGUgZXhwb25lbnQgZG9lc24ndCBuZWVkIHBhcmVudGhlc2VzIGluXG4gICAgLy8gTGFUZVggYmVjYXVzZSBpdCdzIDIgZGltZW5zaW9uYWxcbiAgICAvLyAoaXQncyBvbiB0b3ApXG5cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3RQb3cnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gZmFjdG9yaWFsXG4gICdPcGVyYXRvck5vZGU6ZmFjdG9yaWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0J1xuICB9XG59LCB7XG4gIC8vIG1hdHJpeCB0cmFuc3Bvc2VcbiAgJ09wZXJhdG9yTm9kZTp0cmFuc3Bvc2UnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnXG4gIH1cbn1dO1xuLyoqXG4gKiBHZXQgdGhlIHByZWNlZGVuY2Ugb2YgYSBOb2RlLlxuICogSGlnaGVyIG51bWJlciBmb3IgaGlnaGVyIHByZWNlZGVuY2UsIHN0YXJ0aW5nIHdpdGggMC5cbiAqIFJldHVybnMgbnVsbCBpZiB0aGUgcHJlY2VkZW5jZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBfbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtudW1iZXIgfCBudWxsfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVjZWRlbmNlKF9ub2RlLCBwYXJlbnRoZXNpcykge1xuICB2YXIgbm9kZSA9IF9ub2RlO1xuXG4gIGlmIChwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnKSB7XG4gICAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgbm9kZSA9IF9ub2RlLmdldENvbnRlbnQoKTtcbiAgfVxuXG4gIHZhciBpZGVudGlmaWVyID0gbm9kZS5nZXRJZGVudGlmaWVyKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlkZW50aWZpZXIgaW4gcHJvcGVydGllc1tpXSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEdldCB0aGUgYXNzb2NpYXRpdml0eSBvZiBhbiBvcGVyYXRvciAobGVmdCBvciByaWdodCkuXG4gKiBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgJ2xlZnQnIG9yICdyaWdodCcgb3IgbnVsbCBpZlxuICogdGhlIGFzc29jaWF0aXZpdHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBfbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVsbH1cbiAqIEB0aHJvd3Mge0Vycm9yfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBc3NvY2lhdGl2aXR5KF9ub2RlLCBwYXJlbnRoZXNpcykge1xuICB2YXIgbm9kZSA9IF9ub2RlO1xuXG4gIGlmIChwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnKSB7XG4gICAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgbm9kZSA9IF9ub2RlLmdldENvbnRlbnQoKTtcbiAgfVxuXG4gIHZhciBpZGVudGlmaWVyID0gbm9kZS5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpbmRleCA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuXG4gIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgIC8vIG5vZGUgaXNuJ3QgaW4gdGhlIGxpc3RcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaW5kZXhdW2lkZW50aWZpZXJdO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSwgJ2Fzc29jaWF0aXZpdHknKSkge1xuICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ID09PSAnbGVmdCcpIHtcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZpdHkgPT09ICdyaWdodCcpIHtcbiAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH0gLy8gYXNzb2NpYXRpdml0eSBpcyBpbnZhbGlkXG5cblxuICAgIHRocm93IEVycm9yKCdcXCcnICsgaWRlbnRpZmllciArICdcXCcgaGFzIHRoZSBpbnZhbGlkIGFzc29jaWF0aXZpdHkgXFwnJyArIHByb3BlcnR5LmFzc29jaWF0aXZpdHkgKyAnXFwnLicpO1xuICB9IC8vIGFzc29jaWF0aXZpdHkgaXMgdW5kZWZpbmVkXG5cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYW4gb3BlcmF0b3IgaXMgYXNzb2NpYXRpdmUgd2l0aCBhbm90aGVyIG9wZXJhdG9yLlxuICogUmV0dXJucyBlaXRoZXIgdHJ1ZSBvciBmYWxzZSBvciBudWxsIGlmIG5vdCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZUFcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZUJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7Ym9vbGVhbiB8IG51bGx9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXNzb2NpYXRpdmVXaXRoKG5vZGVBLCBub2RlQiwgcGFyZW50aGVzaXMpIHtcbiAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gIHZhciBhID0gcGFyZW50aGVzaXMgIT09ICdrZWVwJyA/IG5vZGVBLmdldENvbnRlbnQoKSA6IG5vZGVBO1xuICB2YXIgYiA9IHBhcmVudGhlc2lzICE9PSAna2VlcCcgPyBub2RlQS5nZXRDb250ZW50KCkgOiBub2RlQjtcbiAgdmFyIGlkZW50aWZpZXJBID0gYS5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpZGVudGlmaWVyQiA9IGIuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaW5kZXggPSBnZXRQcmVjZWRlbmNlKGEsIHBhcmVudGhlc2lzKTtcblxuICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAvLyBub2RlIGlzbid0IGluIHRoZSBsaXN0XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2luZGV4XVtpZGVudGlmaWVyQV07XG5cbiAgaWYgKGhhc093blByb3BlcnR5KHByb3BlcnR5LCAnYXNzb2NpYXRpdmVXaXRoJykgJiYgcHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aFtpXSA9PT0gaWRlbnRpZmllckIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGFzc29jaWF0aXZlV2l0aCBpcyBub3QgZGVmaW5lZFxuXG5cbiAgcmV0dXJuIG51bGw7XG59IiwiaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhY2Nlc3NGYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hY2Nlc3MuanMnO1xuaW1wb3J0IHsgYXNzaWduRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYXNzaWduLmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnQXNzaWdubWVudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc3Vic2V0JywgJz9tYXRyaXgnLCAvLyBGSVhNRTogc2hvdWxkIG5vdCBiZSBuZWVkZWQgYXQgYWxsLCBzaG91bGQgYmUgaGFuZGxlZCBieSBzdWJzZXRcbidOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFzc2lnbm1lbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuICB2YXIgYWNjZXNzID0gYWNjZXNzRmFjdG9yeSh7XG4gICAgc3Vic2V0XG4gIH0pO1xuICB2YXIgYXNzaWduID0gYXNzaWduRmFjdG9yeSh7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeFxuICB9KTtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBc3NpZ25tZW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICpcbiAgICogRGVmaW5lIGEgc3ltYm9sLCBsaWtlIGBhPTMuMmAsIHVwZGF0ZSBhIHByb3BlcnR5IGxpa2UgYGEuYj0zLjJgLCBvclxuICAgKiByZXBsYWNlIGEgc3Vic2V0IG9mIGEgbWF0cml4IGxpa2UgYEFbMiwyXT00MmAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG5ldyBBc3NpZ25tZW50Tm9kZShzeW1ib2wsIHZhbHVlKVxuICAgKiAgICAgbmV3IEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICpcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBDb25zdGFudE5vZGUoMikpICAgICAgICAgICAgICAgICAgICAgICAvLyBhPTJcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBJbmRleE5vZGUoJ2InKSwgbmV3IENvbnN0YW50Tm9kZSgyKSkgICAvLyBhLmI9MlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IEluZGV4Tm9kZSgxLCAyKSwgbmV3IENvbnN0YW50Tm9kZSgzKSkgIC8vIGFbMSwyXT0zXG4gICAqXG4gICAqIEBwYXJhbSB7U3ltYm9sTm9kZSB8IEFjY2Vzc29yTm9kZX0gb2JqZWN0ICBPYmplY3Qgb24gd2hpY2ggdG8gYXNzaWduIGEgdmFsdWVcbiAgICogQHBhcmFtIHtJbmRleE5vZGV9IFtpbmRleD1udWxsXSAgICAgICAgICAgIEluZGV4LCBwcm9wZXJ0eSBuYW1lIG9yIG1hdHJpeFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXguIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBgb2JqZWN0YCBpcyBhIFN5bWJvbE5vZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgcHJvcGVydHkgaXMgYXNzaWduZWQgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwgc2NvcGUuXG4gICAqIEBwYXJhbSB7Tm9kZX0gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICBUaGUgdmFsdWUgdG8gYmUgYXNzaWduZWRcbiAgICovXG5cbiAgZnVuY3Rpb24gQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXNzaWdubWVudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMuaW5kZXggPSB2YWx1ZSA/IGluZGV4IDogbnVsbDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgfHwgaW5kZXg7IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIWlzU3ltYm9sTm9kZShvYmplY3QpICYmICFpc0FjY2Vzc29yTm9kZShvYmplY3QpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2xOb2RlIG9yIEFjY2Vzc29yTm9kZSBleHBlY3RlZCBhcyBcIm9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzU3ltYm9sTm9kZShvYmplY3QpICYmIG9iamVjdC5uYW1lID09PSAnZW5kJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIHRvIHN5bWJvbCBcImVuZFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW5kZXggJiYgIWlzSW5kZXhOb2RlKHRoaXMuaW5kZXgpKSB7XG4gICAgICAvLyBpbmRleCBpcyBvcHRpb25hbFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXhOb2RlIGV4cGVjdGVkIGFzIFwiaW5kZXhcIicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKHRoaXMudmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGFzIFwidmFsdWVcIicpO1xuICAgIH0gLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCkgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3QubmFtZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQXNzaWdubWVudE5vZGUnO1xuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuaXNBc3NpZ25tZW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxJbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSA6IG51bGw7XG5cbiAgICB2YXIgZXZhbFZhbHVlID0gdGhpcy52YWx1ZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgbmFtZSA9IHRoaXMub2JqZWN0Lm5hbWU7XG5cbiAgICBpZiAoIXRoaXMuaW5kZXgpIHtcbiAgICAgIC8vIGFwcGx5IGEgdmFyaWFibGUgdG8gdGhlIHNjb3BlLCBmb3IgZXhhbXBsZSBgYT0yYFxuICAgICAgaWYgKCFpc1N5bWJvbE5vZGUodGhpcy5vYmplY3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbE5vZGUgZXhwZWN0ZWQgYXMgb2JqZWN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIC8vIGFwcGx5IGFuIG9iamVjdCBwcm9wZXJ0eSBmb3IgZXhhbXBsZSBgYS5iPTJgXG4gICAgICB2YXIgcHJvcCA9IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzU3ltYm9sTm9kZSh0aGlzLm9iamVjdCkpIHtcbiAgICAgIC8vIHVwZGF0ZSBhIG1hdHJpeCBzdWJzZXQsIGZvciBleGFtcGxlIGBhWzJdPTNgXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiAgd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlzQWNjZXNzb3JOb2RlKG5vZGUub2JqZWN0KSA9PT0gdHJ1ZVxuICAgICAgLy8gdXBkYXRlIGEgbWF0cml4IHN1YnNldCwgZm9yIGV4YW1wbGUgYGEuYlsyXT0zYFxuICAgICAgLy8gd2Ugd2lsbCBub3QgdXNlIHRoZSBjb21waWxlIGZ1bmN0aW9uIG9mIHRoZSBBY2Nlc3Nvck5vZGUsIGJ1dCBjb21waWxlIGl0XG4gICAgICAvLyBvdXJzZWx2ZXMgaGVyZSBhcyB3ZSBuZWVkIHRoZSBwYXJlbnQgb2JqZWN0IG9mIHRoZSBBY2Nlc3Nvck5vZGU6XG4gICAgICAvLyB3ZWUgbmVlZCB0byBhcHBseSB0aGUgdXBkYXRlZCBvYmplY3QgdG8gcGFyZW50IG9iamVjdFxuICAgICAgdmFyIGV2YWxQYXJlbnRPYmplY3QgPSB0aGlzLm9iamVjdC5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICBpZiAodGhpcy5vYmplY3QuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgIHZhciBwYXJlbnRQcm9wID0gdGhpcy5vYmplY3QuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBldmFsUGFyZW50T2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBnZXRTYWZlUHJvcGVydHkocGFyZW50LCBwYXJlbnRQcm9wKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICBzZXRTYWZlUHJvcGVydHkocGFyZW50LCBwYXJlbnRQcm9wLCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIHNvbWUgcGFyYW1ldGVycyB1c2UgdGhlICdlbmQnIHBhcmFtZXRlciwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHNpemVcbiAgICAgICAgdmFyIGV2YWxQYXJlbnRJbmRleCA9IHRoaXMub2JqZWN0LmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGV2YWxQYXJlbnRPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IGV2YWxQYXJlbnRJbmRleChzY29wZSwgYXJncywgcGFyZW50KTsgLy8gSW1wb3J0YW50OiB3ZSBwYXNzIHBhcmVudCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGFjY2VzcyhwYXJlbnQsIHBhcmVudEluZGV4KTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiAgd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgYXNzaWduKHBhcmVudCwgcGFyZW50SW5kZXgsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcyk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSwgJ3ZhbHVlJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQXNzaWdubWVudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Fzc2lnbm1lbnROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcykpO1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKSkgOiBudWxsO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMudmFsdWUsICd2YWx1ZScsIHRoaXMpKTtcblxuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZSh0aGlzLm9iamVjdCwgdGhpcy5pbmRleCwgdGhpcy52YWx1ZSk7XG4gIH07XG4gIC8qXG4gICAqIElzIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHBhcmFtIHtub2RlfSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyZW50aGVzaXM9J2tlZXAnXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIGlmICghcGFyZW50aGVzaXMpIHtcbiAgICAgIHBhcmVudGhlc2lzID0gJ2tlZXAnO1xuICAgIH1cblxuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGV4cHJQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnZhbHVlLCBwYXJlbnRoZXNpcyk7XG4gICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBleHByUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBleHByUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9TdHJpbmcob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9ICcoJyArIHZhbHVlICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICcgPSAnICsgdmFsdWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQXNzaWdubWVudE5vZGUnLFxuICAgICAgb2JqZWN0OiB0aGlzLm9iamVjdCxcbiAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFzc2lnbm1lbnROb2RlXCIsIG9iamVjdDogLi4uLCBpbmRleDogLi4uLCB2YWx1ZTogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Fzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKGpzb24ub2JqZWN0LCBqc29uLmluZGV4LCBqc29uLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvSFRNTChvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHZhbHVlICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtdmFyaWFibGUtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPj08L3NwYW4+JyArIHZhbHVlO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9UZXgob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9UZXgob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHZhbHVlLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJzo9JyArIHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBBc3NpZ25tZW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBlcnJvclRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25GYWN0b3J5KF9yZWYpIHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHBhcnQgb2YgYW4gb2JqZWN0OlxuICAgKlxuICAgKiAtIEFzc2lnbiBhIHByb3BlcnR5IHRvIGFuIG9iamVjdFxuICAgKiAtIFJlcGxhY2UgYSBwYXJ0IG9mIGEgc3RyaW5nXG4gICAqIC0gUmVwbGFjZSBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gb2JqZWN0XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHJldHVybiB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IFJldHVybnMgdGhlIG9yaWdpbmFsIG9iamVjdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IGluIGNhc2Ugb2YgYSBzdHJpbmdcbiAgICovXG4gIC8vIFRPRE86IGNoYW5nZSBhc3NpZ24gdG8gcmV0dXJuIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRoZSBvYmplY3RcbiAgcmV0dXJuIGZ1bmN0aW9uIGFzc2lnbihvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIC8vIHdlIHVzZSBtYXRyaXguc3Vic2V0IGhlcmUgaW5zdGVhZCBvZiB0aGUgZnVuY3Rpb24gc3Vic2V0IGJlY2F1c2Ugd2UgbXVzdCBub3QgY2xvbmUgdGhlIGNvbnRlbnRzXG4gICAgICAgIHJldHVybiBtYXRyaXgob2JqZWN0KS5zdWJzZXQoaW5kZXgsIHZhbHVlKS52YWx1ZU9mKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LnN1YnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBNYXRyaXhcbiAgICAgICAgcmV0dXJuIG9iamVjdC5zdWJzZXQoaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSBzZXRTdHJpbmdTdWJzZXQgaW50byBhIHNlcGFyYXRlIHV0aWwgZmlsZSwgdXNlIHRoYXRcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICghaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgYSBudW1lcmljIGluZGV4IGFzIG9iamVjdCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGluZGV4OiB1bnN1cHBvcnRlZCB0eXBlIG9mIG9iamVjdCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyb3JUcmFuc2Zvcm0oZXJyKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZm9yRWFjaCwgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQmxvY2tOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ1Jlc3VsdFNldCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUJsb2NrTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIFJlc3VsdFNldCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQmxvY2tOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhIHNldCB3aXRoIGJsb2Nrc1xuICAgKiBAcGFyYW0ge0FycmF5Ljx7bm9kZTogTm9kZX0gfCB7bm9kZTogTm9kZSwgdmlzaWJsZTogYm9vbGVhbn0+fSBibG9ja3NcbiAgICogICAgICAgICAgICBBbiBhcnJheSB3aXRoIGJsb2Nrcywgd2hlcmUgYSBibG9jayBpcyBjb25zdHJ1Y3RlZCBhcyBhbiBPYmplY3RcbiAgICogICAgICAgICAgICB3aXRoIHByb3BlcnRpZXMgYmxvY2ssIHdoaWNoIGlzIGEgTm9kZSwgYW5kIHZpc2libGUsIHdoaWNoIGlzXG4gICAqICAgICAgICAgICAgYSBib29sZWFuLiBUaGUgcHJvcGVydHkgdmlzaWJsZSBpcyBvcHRpb25hbCBhbmQgaXMgdHJ1ZSBieSBkZWZhdWx0XG4gICAqL1xuICBmdW5jdGlvbiBCbG9ja05vZGUoYmxvY2tzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJsb2NrTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dCwgY29weSBibG9ja3NcblxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJsb2NrcykpIHRocm93IG5ldyBFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB0aGlzLmJsb2NrcyA9IGJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICB2YXIgbm9kZSA9IGJsb2NrICYmIGJsb2NrLm5vZGU7XG4gICAgICB2YXIgdmlzaWJsZSA9IGJsb2NrICYmIGJsb2NrLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IGJsb2NrLnZpc2libGUgOiB0cnVlO1xuICAgICAgaWYgKCFpc05vZGUobm9kZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3BlcnR5IFwibm9kZVwiIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgICBpZiAodHlwZW9mIHZpc2libGUgIT09ICdib29sZWFuJykgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgXCJ2aXNpYmxlXCIgbXVzdCBiZSBhIGJvb2xlYW4nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBCbG9ja05vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50eXBlID0gJ0Jsb2NrTm9kZSc7XG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuaXNCbG9ja05vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxCbG9ja3MgPSBtYXAodGhpcy5ibG9ja3MsIGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbHVhdGU6IGJsb2NrLm5vZGUuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQmxvY2tOb2RlcyhzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvckVhY2goZXZhbEJsb2NrcywgZnVuY3Rpb24gZXZhbEJsb2NrTm9kZShibG9jaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmxvY2suZXZhbHVhdGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChibG9jay52aXNpYmxlKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBSZXN1bHRTZXQocmVzdWx0cyk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgYmxvY2tzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5ibG9ja3NbaV0ubm9kZSwgJ2Jsb2Nrc1snICsgaSArICddLm5vZGUnLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQmxvY2tOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtCbG9ja05vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYmxvY2tzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYmxvY2sgPSB0aGlzLmJsb2Nrc1tpXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2soYmxvY2subm9kZSwgJ2Jsb2Nrc1snICsgaSArICddLm5vZGUnLCB0aGlzKSk7XG5cbiAgICAgIGJsb2Nrc1tpXSA9IHtcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtCbG9ja05vZGV9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZTogYmxvY2subm9kZSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvU3RyaW5nKG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc7Jyk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Jsb2NrTm9kZScsXG4gICAgICBibG9ja3M6IHRoaXMuYmxvY2tzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEJsb2NrTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQmxvY2tOb2RlXCIsIGJsb2NrczogW3tub2RlOiAuLi4sIHZpc2libGU6IGZhbHNlfSwgLi4uXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtCbG9ja05vZGV9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShqc29uLmJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvSFRNTChvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPjs8L3NwYW4+Jyk7XG4gICAgfSkuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPjxiciAvPjwvc3Bhbj4nKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9UZXgob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzsnKTtcbiAgICB9KS5qb2luKCdcXFxcO1xcXFw7XFxuJyk7XG4gIH07XG5cbiAgcmV0dXJuIEJsb2NrTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciwgaXNDb21wbGV4LCBpc05vZGUsIGlzVW5pdCwgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdDb25kaXRpb25hbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25kaXRpb25hbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIGxhenkgZXZhbHVhdGluZyBjb25kaXRpb25hbCBvcGVyYXRvcjogJ2NvbmRpdGlvbiA/IHRydWVFeHByIDogZmFsc2VFeHByJ1xuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGNvbmRpdGlvbiAgIENvbmRpdGlvbiwgbXVzdCByZXN1bHQgaW4gYSBib29sZWFuXG4gICAqIEBwYXJhbSB7Tm9kZX0gdHJ1ZUV4cHIgICAgRXhwcmVzc2lvbiBldmFsdWF0ZWQgd2hlbiBjb25kaXRpb24gaXMgdHJ1ZVxuICAgKiBAcGFyYW0ge05vZGV9IGZhbHNlRXhwciAgIEV4cHJlc3Npb24gZXZhbHVhdGVkIHdoZW4gY29uZGl0aW9uIGlzIHRydWVcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yIENvbmRpdGlvbmFsTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIENvbmRpdGlvbmFsTm9kZShjb25kaXRpb24sIHRydWVFeHByLCBmYWxzZUV4cHIpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29uZGl0aW9uYWxOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZShjb25kaXRpb24pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgY29uZGl0aW9uIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgaWYgKCFpc05vZGUodHJ1ZUV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgdHJ1ZUV4cHIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICBpZiAoIWlzTm9kZShmYWxzZUV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgZmFsc2VFeHByIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgdGhpcy50cnVlRXhwciA9IHRydWVFeHByO1xuICAgIHRoaXMuZmFsc2VFeHByID0gZmFsc2VFeHByO1xuICB9XG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudHlwZSA9ICdDb25kaXRpb25hbE5vZGUnO1xuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmlzQ29uZGl0aW9uYWxOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsQ29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxUcnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxGYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbENvbmRpdGlvbmFsTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRlc3RDb25kaXRpb24oZXZhbENvbmRpdGlvbihzY29wZSwgYXJncywgY29udGV4dCkpID8gZXZhbFRydWVFeHByKHNjb3BlLCBhcmdzLCBjb250ZXh0KSA6IGV2YWxGYWxzZUV4cHIoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5jb25kaXRpb24sICdjb25kaXRpb24nLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLnRydWVFeHByLCAndHJ1ZUV4cHInLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmZhbHNlRXhwciwgJ2ZhbHNlRXhwcicsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IENvbmRpdGlvbmFsTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7Q29uZGl0aW9uYWxOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuY29uZGl0aW9uLCAnY29uZGl0aW9uJywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy50cnVlRXhwciwgJ3RydWVFeHByJywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5mYWxzZUV4cHIsICdmYWxzZUV4cHInLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtDb25kaXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbiwgdGhpcy50cnVlRXhwciwgdGhpcy5mYWxzZUV4cHIpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIEVuY2xvc2UgQXJndW1lbnRzIGluIHBhcmVudGhlc2VzIGlmIHRoZXkgYXJlIGFuIE9wZXJhdG9yTm9kZVxuICAgIC8vIG9yIGhhdmUgbG93ZXIgb3IgZXF1YWwgcHJlY2VkZW5jZVxuICAgIC8vIE5PVEU6IGVuY2xvc2luZyBhbGwgT3BlcmF0b3JOb2RlcyBpbiBwYXJlbnRoZXNlcyBpcyBhIGRlY2lzaW9uXG4gICAgLy8gcHVyZWx5IGJhc2VkIG9uIGFlc3RoZXRpY3MgYW5kIHJlYWRhYmlsaXR5XG5cbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24udG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGNvbmRpdGlvblByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuY29uZGl0aW9uLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuY29uZGl0aW9uLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGNvbmRpdGlvblByZWNlZGVuY2UgIT09IG51bGwgJiYgY29uZGl0aW9uUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBjb25kaXRpb24gPSAnKCcgKyBjb25kaXRpb24gKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIHRydWVFeHByID0gdGhpcy50cnVlRXhwci50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgdHJ1ZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMudHJ1ZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy50cnVlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCB0cnVlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiB0cnVlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICB0cnVlRXhwciA9ICcoJyArIHRydWVFeHByICsgJyknO1xuICAgIH1cblxuICAgIHZhciBmYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgZmFsc2VQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmZhbHNlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmZhbHNlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBmYWxzZVByZWNlZGVuY2UgIT09IG51bGwgJiYgZmFsc2VQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGZhbHNlRXhwciA9ICcoJyArIGZhbHNlRXhwciArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZGl0aW9uICsgJyA/ICcgKyB0cnVlRXhwciArICcgOiAnICsgZmFsc2VFeHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdDb25kaXRpb25hbE5vZGUnLFxuICAgICAgY29uZGl0aW9uOiB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRydWVFeHByOiB0aGlzLnRydWVFeHByLFxuICAgICAgZmFsc2VFeHByOiB0aGlzLmZhbHNlRXhwclxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBDb25kaXRpb25hbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkNvbmRpdGlvbmFsTm9kZVwiLCBcImNvbmRpdGlvblwiOiAuLi4sIFwidHJ1ZUV4cHJcIjogLi4uLCBcImZhbHNlRXhwclwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7Q29uZGl0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUoanNvbi5jb25kaXRpb24sIGpzb24udHJ1ZUV4cHIsIGpzb24uZmFsc2VFeHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gRW5jbG9zZSBBcmd1bWVudHMgaW4gcGFyZW50aGVzZXMgaWYgdGhleSBhcmUgYW4gT3BlcmF0b3JOb2RlXG4gICAgLy8gb3IgaGF2ZSBsb3dlciBvciBlcXVhbCBwcmVjZWRlbmNlXG4gICAgLy8gTk9URTogZW5jbG9zaW5nIGFsbCBPcGVyYXRvck5vZGVzIGluIHBhcmVudGhlc2VzIGlzIGEgZGVjaXNpb25cbiAgICAvLyBwdXJlbHkgYmFzZWQgb24gYWVzdGhldGljcyBhbmQgcmVhZGFiaWxpdHlcblxuICAgIHZhciBjb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGNvbmRpdGlvblByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuY29uZGl0aW9uLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuY29uZGl0aW9uLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGNvbmRpdGlvblByZWNlZGVuY2UgIT09IG51bGwgJiYgY29uZGl0aW9uUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBjb25kaXRpb24gPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBjb25kaXRpb24gKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgdmFyIHRydWVFeHByID0gdGhpcy50cnVlRXhwci50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIHRydWVQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLnRydWVFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMudHJ1ZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgdHJ1ZVByZWNlZGVuY2UgIT09IG51bGwgJiYgdHJ1ZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgdHJ1ZUV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB0cnVlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICB2YXIgZmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBmYWxzZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuZmFsc2VFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuZmFsc2VFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGZhbHNlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBmYWxzZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgZmFsc2VFeHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZmFsc2VFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBjb25kaXRpb24gKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtY29uZGl0aW9uYWwtb3BlcmF0b3JcIj4/PC9zcGFuPicgKyB0cnVlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1jb25kaXRpb25hbC1vcGVyYXRvclwiPjo8L3NwYW4+JyArIGZhbHNlRXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJ1xcXFxiZWdpbntjYXNlc30geycgKyB0aGlzLnRydWVFeHByLnRvVGV4KG9wdGlvbnMpICsgJ30sICZcXFxccXVhZHtcXFxcdGV4dHtpZiB9XFxcXDsnICsgdGhpcy5jb25kaXRpb24udG9UZXgob3B0aW9ucykgKyAnfVxcXFxcXFxceycgKyB0aGlzLmZhbHNlRXhwci50b1RleChvcHRpb25zKSArICd9LCAmXFxcXHF1YWR7XFxcXHRleHR7b3RoZXJ3aXNlfX1cXFxcZW5ke2Nhc2VzfSc7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSBjb25kaXRpb24gaXMgbWV0XG4gICAqIEBwYXJhbSB7Kn0gY29uZGl0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGNvbmRpdGlvbiBpcyB0cnVlIG9yIG5vbi16ZXJvLCBlbHNlIGZhbHNlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gdGVzdENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGNvbmRpdGlvbiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBjb25kaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gISFjb25kaXRpb247XG4gICAgfVxuXG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICFjb25kaXRpb24uaXNaZXJvKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbXBsZXgoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gISEoY29uZGl0aW9uLnJlIHx8IGNvbmRpdGlvbi5pbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1VuaXQoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gISFjb25kaXRpb24udmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmRpdGlvbiA9PT0gbnVsbCB8fCBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgY29uZGl0aW9uIFwiJyArIHR5cGVPZihjb25kaXRpb24pICsgJ1wiJyk7XG4gIH1cblxuICByZXR1cm4gQ29uZGl0aW9uYWxOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBNYXAgdGhlIGNoYXJhY3RlcnMgdG8gZXNjYXBlIHRvIHRoZWlyIGVzY2FwZWQgdmFsdWVzLiBUaGUgbGlzdCBpcyBkZXJpdmVkXG4vLyBmcm9tIGh0dHA6Ly93d3cuY2VzcGVkZXMub3JnL2Jsb2cvODUvaG93LXRvLWVzY2FwZS1sYXRleC1zcGVjaWFsLWNoYXJhY3RlcnNcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIGRlZmF1bHRFc2NhcGVzID0ge1xuICBcIntcIjogXCJcXFxce1wiLFxuICBcIn1cIjogXCJcXFxcfVwiLFxuICBcIlxcXFxcIjogXCJcXFxcdGV4dGJhY2tzbGFzaHt9XCIsXG4gIFwiI1wiOiBcIlxcXFwjXCIsXG4gICQ6IFwiXFxcXCRcIixcbiAgXCIlXCI6IFwiXFxcXCVcIixcbiAgXCImXCI6IFwiXFxcXCZcIixcbiAgXCJeXCI6IFwiXFxcXHRleHRhc2NpaWNpcmN1bXt9XCIsXG4gIF86IFwiXFxcXF9cIixcbiAgXCJ+XCI6IFwiXFxcXHRleHRhc2NpaXRpbGRle31cIlxufTtcbnZhciBmb3JtYXRFc2NhcGVzID0ge1xuICBcIlxcdTIwMTNcIjogXCJcXFxcLS1cIixcbiAgXCJcXHUyMDE0XCI6IFwiXFxcXC0tLVwiLFxuICBcIiBcIjogXCJ+XCIsXG4gIFwiXFx0XCI6IFwiXFxcXHFxdWFke31cIixcbiAgXCJcXHJcXG5cIjogXCJcXFxcbmV3bGluZXt9XCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5ld2xpbmV7fVwiXG59O1xuXG52YXIgZGVmYXVsdEVzY2FwZU1hcEZuID0gZnVuY3Rpb24gZGVmYXVsdEVzY2FwZU1hcEZuKGRlZmF1bHRFc2NhcGVzLCBmb3JtYXRFc2NhcGVzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVmYXVsdEVzY2FwZXMsIGZvcm1hdEVzY2FwZXMpO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgYSBzdHJpbmcgdG8gYmUgdXNlZCBpbiBMYVRlWCBkb2N1bWVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBzdHJpbmcgdG8gYmUgZXNjYXBlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW1zLnByZXNlcnZlRm9ybWF0dGluZyB3aGV0aGVyIGZvcm1hdHRpbmcgZXNjYXBlcyBzaG91bGRcbiAqICBiZSBwZXJmb3JtZWQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmFtcy5lc2NhcGVNYXBGbiB0aGUgZnVuY3Rpb24gdG8gbW9kaWZ5IHRoZSBlc2NhcGUgbWFwcy5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQgc3RyaW5nLCByZWFkeSB0byBiZSB1c2VkIGluIExhVGVYLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpID0gX3JlZi5wcmVzZXJ2ZUZvcm1hdHRpbmcsXG4gICAgICBwcmVzZXJ2ZUZvcm1hdHRpbmcgPSBfcmVmJHByZXNlcnZlRm9ybWF0dGkgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpLFxuICAgICAgX3JlZiRlc2NhcGVNYXBGbiA9IF9yZWYuZXNjYXBlTWFwRm4sXG4gICAgICBlc2NhcGVNYXBGbiA9IF9yZWYkZXNjYXBlTWFwRm4gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRFc2NhcGVNYXBGbiA6IF9yZWYkZXNjYXBlTWFwRm47XG5cbiAgdmFyIHJ1bm5pbmdTdHIgPSBTdHJpbmcoc3RyKTtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgdmFyIGVzY2FwZXMgPSBlc2NhcGVNYXBGbihfZXh0ZW5kcyh7fSwgZGVmYXVsdEVzY2FwZXMpLCBwcmVzZXJ2ZUZvcm1hdHRpbmcgPyBfZXh0ZW5kcyh7fSwgZm9ybWF0RXNjYXBlcykgOiB7fSk7XG4gIHZhciBlc2NhcGVLZXlzID0gT2JqZWN0LmtleXMoZXNjYXBlcyk7IC8vIGFzIGl0IGlzIHJldXNlZCBsYXRlciBvblxuXG4gIC8vIEFsZ29yaXRobTogR28gdGhyb3VnaCB0aGUgc3RyaW5nIGNoYXJhY3RlciBieSBjaGFyYWN0ZXIsIGlmIGl0IG1hdGNoZXNcbiAgLy8gd2l0aCBvbmUgb2YgdGhlIHNwZWNpYWwgY2hhcmFjdGVycyB0aGVuIHdlJ2xsIHJlcGxhY2UgaXQgd2l0aCB0aGUgZXNjYXBlZFxuICAvLyB2ZXJzaW9uLlxuXG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgIHZhciBzcGVjaWFsQ2hhckZvdW5kID0gZmFsc2U7XG4gICAgZXNjYXBlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICBpZiAoc3BlY2lhbENoYXJGb3VuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocnVubmluZ1N0ci5sZW5ndGggPj0ga2V5Lmxlbmd0aCAmJiBydW5uaW5nU3RyLnNsaWNlKDAsIGtleS5sZW5ndGgpID09PSBrZXkpIHtcbiAgICAgICAgcmVzdWx0ICs9IGVzY2FwZXNbZXNjYXBlS2V5c1tpbmRleF1dO1xuICAgICAgICBydW5uaW5nU3RyID0gcnVubmluZ1N0ci5zbGljZShrZXkubGVuZ3RoLCBydW5uaW5nU3RyLmxlbmd0aCk7XG4gICAgICAgIHNwZWNpYWxDaGFyRm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghc3BlY2lhbENoYXJGb3VuZCkge1xuICAgICAgcmVzdWx0ICs9IHJ1bm5pbmdTdHIuc2xpY2UoMCwgMSk7XG4gICAgICBydW5uaW5nU3RyID0gcnVubmluZ1N0ci5zbGljZSgxLCBydW5uaW5nU3RyLmxlbmd0aCk7XG4gICAgfVxuICB9O1xuXG4gIHdoaWxlIChydW5uaW5nU3RyKSB7XG4gICAgX2xvb3AoKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTsiLCIvKiBlc2xpbnQgbm8tdGVtcGxhdGUtY3VybHktaW4tc3RyaW5nOiBcIm9mZlwiICovXG5pbXBvcnQgZXNjYXBlTGF0ZXhMaWIgZnJvbSAnZXNjYXBlLWxhdGV4JztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuZXhwb3J0IHZhciBsYXRleFN5bWJvbHMgPSB7XG4gIC8vIEdSRUVLIExFVFRFUlNcbiAgQWxwaGE6ICdBJyxcbiAgYWxwaGE6ICdcXFxcYWxwaGEnLFxuICBCZXRhOiAnQicsXG4gIGJldGE6ICdcXFxcYmV0YScsXG4gIEdhbW1hOiAnXFxcXEdhbW1hJyxcbiAgZ2FtbWE6ICdcXFxcZ2FtbWEnLFxuICBEZWx0YTogJ1xcXFxEZWx0YScsXG4gIGRlbHRhOiAnXFxcXGRlbHRhJyxcbiAgRXBzaWxvbjogJ0UnLFxuICBlcHNpbG9uOiAnXFxcXGVwc2lsb24nLFxuICB2YXJlcHNpbG9uOiAnXFxcXHZhcmVwc2lsb24nLFxuICBaZXRhOiAnWicsXG4gIHpldGE6ICdcXFxcemV0YScsXG4gIEV0YTogJ0gnLFxuICBldGE6ICdcXFxcZXRhJyxcbiAgVGhldGE6ICdcXFxcVGhldGEnLFxuICB0aGV0YTogJ1xcXFx0aGV0YScsXG4gIHZhcnRoZXRhOiAnXFxcXHZhcnRoZXRhJyxcbiAgSW90YTogJ0knLFxuICBpb3RhOiAnXFxcXGlvdGEnLFxuICBLYXBwYTogJ0snLFxuICBrYXBwYTogJ1xcXFxrYXBwYScsXG4gIHZhcmthcHBhOiAnXFxcXHZhcmthcHBhJyxcbiAgTGFtYmRhOiAnXFxcXExhbWJkYScsXG4gIGxhbWJkYTogJ1xcXFxsYW1iZGEnLFxuICBNdTogJ00nLFxuICBtdTogJ1xcXFxtdScsXG4gIE51OiAnTicsXG4gIG51OiAnXFxcXG51JyxcbiAgWGk6ICdcXFxcWGknLFxuICB4aTogJ1xcXFx4aScsXG4gIE9taWNyb246ICdPJyxcbiAgb21pY3JvbjogJ28nLFxuICBQaTogJ1xcXFxQaScsXG4gIHBpOiAnXFxcXHBpJyxcbiAgdmFycGk6ICdcXFxcdmFycGknLFxuICBSaG86ICdQJyxcbiAgcmhvOiAnXFxcXHJobycsXG4gIHZhcnJobzogJ1xcXFx2YXJyaG8nLFxuICBTaWdtYTogJ1xcXFxTaWdtYScsXG4gIHNpZ21hOiAnXFxcXHNpZ21hJyxcbiAgdmFyc2lnbWE6ICdcXFxcdmFyc2lnbWEnLFxuICBUYXU6ICdUJyxcbiAgdGF1OiAnXFxcXHRhdScsXG4gIFVwc2lsb246ICdcXFxcVXBzaWxvbicsXG4gIHVwc2lsb246ICdcXFxcdXBzaWxvbicsXG4gIFBoaTogJ1xcXFxQaGknLFxuICBwaGk6ICdcXFxccGhpJyxcbiAgdmFycGhpOiAnXFxcXHZhcnBoaScsXG4gIENoaTogJ1gnLFxuICBjaGk6ICdcXFxcY2hpJyxcbiAgUHNpOiAnXFxcXFBzaScsXG4gIHBzaTogJ1xcXFxwc2knLFxuICBPbWVnYTogJ1xcXFxPbWVnYScsXG4gIG9tZWdhOiAnXFxcXG9tZWdhJyxcbiAgLy8gbG9naWNcbiAgdHJ1ZTogJ1xcXFxtYXRocm17VHJ1ZX0nLFxuICBmYWxzZTogJ1xcXFxtYXRocm17RmFsc2V9JyxcbiAgLy8gb3RoZXJcbiAgaTogJ2knLFxuICAvLyBUT0RPIHVzZSBcXGkgPz9cbiAgaW5mOiAnXFxcXGluZnR5JyxcbiAgSW5mOiAnXFxcXGluZnR5JyxcbiAgaW5maW5pdHk6ICdcXFxcaW5mdHknLFxuICBJbmZpbml0eTogJ1xcXFxpbmZ0eScsXG4gIG9vOiAnXFxcXGluZnR5JyxcbiAgbGltOiAnXFxcXGxpbScsXG4gIHVuZGVmaW5lZDogJ1xcXFxtYXRoYmZ7P30nXG59O1xuZXhwb3J0IHZhciBsYXRleE9wZXJhdG9ycyA9IHtcbiAgdHJhbnNwb3NlOiAnXlxcXFx0b3AnLFxuICBjdHJhbnNwb3NlOiAnXkgnLFxuICBmYWN0b3JpYWw6ICchJyxcbiAgcG93OiAnXicsXG4gIGRvdFBvdzogJy5eXFxcXHdlZGdlJyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIHVuYXJ5UGx1czogJysnLFxuICB1bmFyeU1pbnVzOiAnLScsXG4gIGJpdE5vdDogJ1xcXFx+JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIG5vdDogJ1xcXFxuZWcnLFxuICBtdWx0aXBseTogJ1xcXFxjZG90JyxcbiAgZGl2aWRlOiAnXFxcXGZyYWMnLFxuICAvLyBUT0RPIGhvdyB0byBoYW5kbGUgdGhhdCBwcm9wZXJseT9cbiAgZG90TXVsdGlwbHk6ICcuXFxcXGNkb3QnLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgZG90RGl2aWRlOiAnLjonLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgbW9kOiAnXFxcXG1vZCcsXG4gIGFkZDogJysnLFxuICBzdWJ0cmFjdDogJy0nLFxuICB0bzogJ1xcXFxyaWdodGFycm93JyxcbiAgbGVmdFNoaWZ0OiAnPDwnLFxuICByaWdodEFyaXRoU2hpZnQ6ICc+PicsXG4gIHJpZ2h0TG9nU2hpZnQ6ICc+Pj4nLFxuICBlcXVhbDogJz0nLFxuICB1bmVxdWFsOiAnXFxcXG5lcScsXG4gIHNtYWxsZXI6ICc8JyxcbiAgbGFyZ2VyOiAnPicsXG4gIHNtYWxsZXJFcTogJ1xcXFxsZXEnLFxuICBsYXJnZXJFcTogJ1xcXFxnZXEnLFxuICBiaXRBbmQ6ICdcXFxcJicsXG4gIGJpdFhvcjogJ1xcXFx1bmRlcmxpbmV7fH0nLFxuICBiaXRPcjogJ3wnLFxuICBhbmQ6ICdcXFxcd2VkZ2UnLFxuICB4b3I6ICdcXFxcdmVlYmFyJyxcbiAgb3I6ICdcXFxcdmVlJ1xufTtcbmV4cG9ydCB2YXIgbGF0ZXhGdW5jdGlvbnMgPSB7XG4gIC8vIGFyaXRobWV0aWNcbiAgYWJzOiB7XG4gICAgMTogJ1xcXFxsZWZ0fCR7YXJnc1swXX1cXFxccmlnaHR8J1xuICB9LFxuICBhZGQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYWRkLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGNicnQ6IHtcbiAgICAxOiAnXFxcXHNxcnRbM117JHthcmdzWzBdfX0nXG4gIH0sXG4gIGNlaWw6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGNlaWwke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJjZWlsJ1xuICB9LFxuICBjdWJlOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXjMnXG4gIH0sXG4gIGRpdmlkZToge1xuICAgIDI6ICdcXFxcZnJhY3ske2FyZ3NbMF19fXske2FyZ3NbMV19fSdcbiAgfSxcbiAgZG90RGl2aWRlOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdERpdmlkZSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBkb3RNdWx0aXBseToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3RNdWx0aXBseSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBkb3RQb3c6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90UG93LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGV4cDoge1xuICAgIDE6ICdcXFxcZXhwXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGV4cG0xOiBcIlxcXFxsZWZ0KGVcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcInske2FyZ3NbMF19fS0xXFxcXHJpZ2h0KVwiKSxcbiAgZml4OiB7XG4gICAgMTogJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZmxvb3I6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGZsb29yJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyZmxvb3InXG4gIH0sXG4gIGdjZDogJ1xcXFxnY2RcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIGh5cG90OiAnXFxcXGh5cG90XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBsb2c6IHtcbiAgICAxOiAnXFxcXGxuXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbG9nX3ske2FyZ3NbMV19fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBsb2cxMDoge1xuICAgIDE6ICdcXFxcbG9nX3sxMH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMXA6IHtcbiAgICAxOiAnXFxcXGxuXFxcXGxlZnQoJHthcmdzWzBdfSsxXFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsb2dfeyR7YXJnc1sxXX19XFxcXGxlZnQoJHthcmdzWzBdfSsxXFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMjogJ1xcXFxsb2dfezJ9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICBtb2Q6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubW9kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG11bHRpcGx5OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm11bHRpcGx5LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG5vcm06IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcfCR7YXJnc1swXX1cXFxccmlnaHRcXFxcfCcsXG4gICAgMjogdW5kZWZpbmVkIC8vIHVzZSBkZWZhdWx0IHRlbXBsYXRlXG5cbiAgfSxcbiAgbnRoUm9vdDoge1xuICAgIDI6ICdcXFxcc3FydFske2FyZ3NbMV19XXske2FyZ3NbMF19fSdcbiAgfSxcbiAgbnRoUm9vdHM6IHtcbiAgICAyOiAnXFxcXHt5IDogJHlee2FyZ3NbMV19ID0geyR7YXJnc1swXX19XFxcXH0nXG4gIH0sXG4gIHBvdzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcInske2FyZ3NbMV19fVwiKVxuICB9LFxuICByb3VuZDoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsZmxvb3Ike2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJjZWlsJyxcbiAgICAyOiB1bmRlZmluZWQgLy8gdXNlIGRlZmF1bHQgdGVtcGxhdGVcblxuICB9LFxuICBzaWduOiB7XG4gICAgMTogJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3FydDoge1xuICAgIDE6ICdcXFxcc3FydHske2FyZ3NbMF19fSdcbiAgfSxcbiAgc3F1YXJlOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXjInXG4gIH0sXG4gIHN1YnRyYWN0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnN1YnRyYWN0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuYXJ5TWludXM6IHtcbiAgICAxOiBcIlwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmFyeU1pbnVzLCBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuYXJ5UGx1czoge1xuICAgIDE6IFwiXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuYXJ5UGx1cywgXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBiaXR3aXNlXG4gIGJpdEFuZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRBbmQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgYml0Tm90OiB7XG4gICAgMTogbGF0ZXhPcGVyYXRvcnMuYml0Tm90ICsgJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBiaXRPcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRPciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBiaXRYb3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0WG9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxlZnRTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sZWZ0U2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgcmlnaHRBcml0aFNoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnJpZ2h0QXJpdGhTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICByaWdodExvZ1NoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnJpZ2h0TG9nU2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gY29tYmluYXRvcmljc1xuICBiZWxsTnVtYmVyczoge1xuICAgIDE6ICdcXFxcbWF0aHJte0J9X3ske2FyZ3NbMF19fSdcbiAgfSxcbiAgY2F0YWxhbjoge1xuICAgIDE6ICdcXFxcbWF0aHJte0N9X3ske2FyZ3NbMF19fSdcbiAgfSxcbiAgc3RpcmxpbmdTMjoge1xuICAgIDI6ICdcXFxcbWF0aHJte1N9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIGNvbXBsZXhcbiAgYXJnOiB7XG4gICAgMTogJ1xcXFxhcmdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29uajoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4qJ1xuICB9LFxuICBpbToge1xuICAgIDE6ICdcXFxcSW1cXFxcbGVmdFxcXFxsYnJhY2Uke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJicmFjZSdcbiAgfSxcbiAgcmU6IHtcbiAgICAxOiAnXFxcXFJlXFxcXGxlZnRcXFxcbGJyYWNlJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyYnJhY2UnXG4gIH0sXG4gIC8vIGxvZ2ljYWxcbiAgYW5kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmFuZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBub3Q6IHtcbiAgICAxOiBsYXRleE9wZXJhdG9ycy5ub3QgKyAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHhvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy54b3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gbWF0cml4XG4gIGNyb3NzOiB7XG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXFxcXHRpbWVzXFxcXGxlZnQoJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIGN0cmFuc3Bvc2U6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmN0cmFuc3Bvc2UpXG4gIH0sXG4gIGRldDoge1xuICAgIDE6ICdcXFxcZGV0XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGRvdDoge1xuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXGNkb3Qke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZXhwbToge1xuICAgIDE6ICdcXFxcZXhwXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGludjoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV57LTF9J1xuICB9LFxuICBzcXJ0bToge1xuICAgIDE6IFwieyR7YXJnc1swXX19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7XFxcXGZyYWN7MX17Mn19XCIpXG4gIH0sXG4gIHRyYWNlOiB7XG4gICAgMTogJ1xcXFxtYXRocm17dHJ9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRyYW5zcG9zZToge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudHJhbnNwb3NlKVxuICB9LFxuICAvLyBwcm9iYWJpbGl0eVxuICBjb21iaW5hdGlvbnM6IHtcbiAgICAyOiAnXFxcXGJpbm9teyR7YXJnc1swXX19eyR7YXJnc1sxXX19J1xuICB9LFxuICBjb21iaW5hdGlvbnNXaXRoUmVwOiB7XG4gICAgMjogJ1xcXFxsZWZ0KFxcXFwhXFxcXCF7XFxcXGJpbm9teyR7YXJnc1swXX19eyR7YXJnc1sxXX19fVxcXFwhXFxcXCFcXFxccmlnaHQpJ1xuICB9LFxuICBmYWN0b3JpYWw6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmZhY3RvcmlhbClcbiAgfSxcbiAgZ2FtbWE6IHtcbiAgICAxOiAnXFxcXEdhbW1hXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHJlbGF0aW9uYWxcbiAgZXF1YWw6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZXF1YWwsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGFyZ2VyOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxhcmdlciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsYXJnZXJFcToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sYXJnZXJFcSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBzbWFsbGVyOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnNtYWxsZXIsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgc21hbGxlckVxOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnNtYWxsZXJFcSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmVxdWFsOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuZXF1YWwsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gc3BlY2lhbFxuICBlcmY6IHtcbiAgICAxOiAnZXJmXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHN0YXRpc3RpY3NcbiAgbWF4OiAnXFxcXG1heFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgbWluOiAnXFxcXG1pblxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgdmFyaWFuY2U6ICdcXFxcbWF0aHJte1Zhcn1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIC8vIHRyaWdvbm9tZXRyeVxuICBhY29zOiB7XG4gICAgMTogJ1xcXFxjb3Neey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY29zaDoge1xuICAgIDE6ICdcXFxcY29zaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3Q6IHtcbiAgICAxOiAnXFxcXGNvdF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3RoOiB7XG4gICAgMTogJ1xcXFxjb3RoXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNzYzoge1xuICAgIDE6ICdcXFxcY3NjXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNzY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtjc2NofV57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzZWM6IHtcbiAgICAxOiAnXFxcXHNlY157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzZWNoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17c2VjaH1eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2luOiB7XG4gICAgMTogJ1xcXFxzaW5eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2luaDoge1xuICAgIDE6ICdcXFxcc2luaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW46IHtcbiAgICAxOiAnXFxcXHRhbl57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW4yOiB7XG4gICAgMjogJ1xcXFxtYXRocm17YXRhbjJ9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW5oOiB7XG4gICAgMTogJ1xcXFx0YW5oXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29zOiB7XG4gICAgMTogJ1xcXFxjb3NcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29zaDoge1xuICAgIDE6ICdcXFxcY29zaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3Q6IHtcbiAgICAxOiAnXFxcXGNvdFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3RoOiB7XG4gICAgMTogJ1xcXFxjb3RoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNzYzoge1xuICAgIDE6ICdcXFxcY3NjXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNzY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtjc2NofVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzZWM6IHtcbiAgICAxOiAnXFxcXHNlY1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzZWNoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17c2VjaH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2luOiB7XG4gICAgMTogJ1xcXFxzaW5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2luaDoge1xuICAgIDE6ICdcXFxcc2luaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0YW46IHtcbiAgICAxOiAnXFxcXHRhblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0YW5oOiB7XG4gICAgMTogJ1xcXFx0YW5oXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHVuaXRcbiAgdG86IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudG8sIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gdXRpbHNcbiAgbnVtZXJpYzogZnVuY3Rpb24gbnVtZXJpYyhub2RlLCBvcHRpb25zKSB7XG4gICAgLy8gTm90IHN1cmUgaWYgdGhpcyBpcyBzdHJpY3RseSByaWdodCBidXQgc2hvdWxkIHdvcmsgY29ycmVjdGx5IGZvciB0aGUgdmFzdCBtYWpvcml0eSBvZiB1c2UgY2FzZXMuXG4gICAgcmV0dXJuIG5vZGUuYXJnc1swXS50b1RleCgpO1xuICB9LFxuICAvLyB0eXBlXG4gIG51bWJlcjoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzdHJpbmc6IHtcbiAgICAwOiAnXFxcXG1hdGh0dHtcIlwifScsXG4gICAgMTogJ1xcXFxtYXRocm17c3RyaW5nfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBiaWdudW1iZXI6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb21wbGV4OiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogXCJcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KStcIi5jb25jYXQobGF0ZXhTeW1ib2xzLmksIFwiXFxcXGNkb3RcXFxcbGVmdCgke2FyZ3NbMV19XFxcXHJpZ2h0KVxcXFxyaWdodClcIilcbiAgfSxcbiAgbWF0cml4OiB7XG4gICAgMDogJ1xcXFxiZWdpbntibWF0cml4fVxcXFxlbmR7Ym1hdHJpeH0nLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzcGFyc2U6IHtcbiAgICAwOiAnXFxcXGJlZ2lue2JzcGFyc2V9XFxcXGVuZHtic3BhcnNlfScsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB1bml0OiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfVxufTtcbmV4cG9ydCB2YXIgZGVmYXVsdFRlbXBsYXRlID0gJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSc7XG52YXIgbGF0ZXhVbml0cyA9IHtcbiAgZGVnOiAnXlxcXFxjaXJjJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVMYXRleChzdHJpbmcpIHtcbiAgcmV0dXJuIGVzY2FwZUxhdGV4TGliKHN0cmluZywge1xuICAgIHByZXNlcnZlRm9ybWF0dGluZzogdHJ1ZVxuICB9KTtcbn0gLy8gQHBhcmFtIHtzdHJpbmd9IG5hbWVcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gaXNVbml0XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N5bWJvbChuYW1lLCBpc1VuaXQpIHtcbiAgaXNVbml0ID0gdHlwZW9mIGlzVW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGlzVW5pdDtcblxuICBpZiAoaXNVbml0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KGxhdGV4VW5pdHMsIG5hbWUpKSB7XG4gICAgICByZXR1cm4gbGF0ZXhVbml0c1tuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIGVzY2FwZUxhdGV4KG5hbWUpICsgJ30nO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5KGxhdGV4U3ltYm9scywgbmFtZSkpIHtcbiAgICByZXR1cm4gbGF0ZXhTeW1ib2xzW25hbWVdO1xuICB9XG5cbiAgcmV0dXJuIGVzY2FwZUxhdGV4KG5hbWUpO1xufSIsImltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGVMYXRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0NvbnN0YW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbnN0YW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgQ29uc3RhbnROb2RlIGhvbGRzIGEgY29uc3RhbnQgdmFsdWUgbGlrZSBhIG51bWJlciBvciBzdHJpbmcuXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICAgbmV3IENvbnN0YW50Tm9kZSgyLjMpXG4gICAqICAgICBuZXcgQ29uc3RhbnROb2RlKCdoZWxsbycpXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgVmFsdWUgY2FuIGJlIGFueSB0eXBlIChudW1iZXIsIEJpZ051bWJlciwgc3RyaW5nLCAuLi4pXG4gICAqIEBjb25zdHJ1Y3RvciBDb25zdGFudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBDb25zdGFudE5vZGUodmFsdWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29uc3RhbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0NvbnN0YW50Tm9kZSc7XG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuaXNDb25zdGFudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbENvbnN0YW50Tm9kZSgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgey8vIG5vdGhpbmcgdG8gZG8sIHdlIGRvbid0IGhhdmUgY2hpbGRzXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQ29uc3RhbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7Q29uc3RhbnROb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0NvbnN0YW50Tm9kZX1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKHRoaXMudmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMudmFsdWUsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBzd2l0Y2ggKHR5cGVPZih0aGlzLnZhbHVlKSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ0JpZ051bWJlcic6XG4gICAgICBjYXNlICdGcmFjdGlvbic6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW51bWJlclwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3RyaW5nXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtYm9vbGVhblwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW51bGwtc3ltYm9sXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC11bmRlZmluZWRcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbnN0YW50Tm9kZScsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIENvbnN0YW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3ltYm9sTm9kZVwiLCB2YWx1ZTogMi4zfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0NvbnN0YW50Tm9kZX1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKGpzb24udmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgc3dpdGNoICh0eXBlT2YodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiAnXFxcXG1hdGh0dHsnICsgZXNjYXBlTGF0ZXgodmFsdWUpICsgJ30nO1xuXG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnQmlnTnVtYmVyJzpcbiAgICAgICAge1xuICAgICAgICAgIGlmICghaXNGaW5pdGUodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnZhbHVlT2YoKSA8IDAgPyAnLVxcXFxpbmZ0eScgOiAnXFxcXGluZnR5JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaW5kZXggPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2UnKTtcblxuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgaW5kZXgpICsgJ1xcXFxjZG90MTBeeycgKyB2YWx1ZS5zdWJzdHJpbmcoaW5kZXggKyAxKSArICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuXG4gICAgICBjYXNlICdGcmFjdGlvbic6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRvTGF0ZXgoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ29uc3RhbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGtleXdvcmRzIH0gZnJvbSAnLi4va2V5d29yZHMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZvckVhY2gsIGpvaW4gfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyB0b1N5bWJvbCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBGdW5jdGlvbiBhc3NpZ25tZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICBGdW5jdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nW10gfCBBcnJheS48e25hbWU6IHN0cmluZywgdHlwZTogc3RyaW5nfT59IHBhcmFtc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkgd2l0aCBmdW5jdGlvbiBwYXJhbWV0ZXIgbmFtZXMsIG9yIGFuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSB3aXRoIG9iamVjdHMgY29udGFpbmluZyB0aGUgbmFtZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHR5cGUgb2YgdGhlIHBhcmFtZXRlclxuICAgKiBAcGFyYW0ge05vZGV9IGV4cHIgICAgICAgICAgICAgVGhlIGZ1bmN0aW9uIGV4cHJlc3Npb25cbiAgICovXG4gIGZ1bmN0aW9uIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUobmFtZSwgcGFyYW1zLCBleHByKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJuYW1lXCInKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBzdHJpbmdzIG9yIG9iamVjdHMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcInBhcmFtc1wiJyk7XG4gICAgaWYgKCFpc05vZGUoZXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImV4cHJcIicpO1xuICAgIGlmIChuYW1lIGluIGtleXdvcmRzKSB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgZnVuY3Rpb24gbmFtZSwgXCInICsgbmFtZSArICdcIiBpcyBhIHJlc2VydmVkIGtleXdvcmQnKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbSAmJiBwYXJhbS5uYW1lIHx8IHBhcmFtO1xuICAgIH0pO1xuICAgIHRoaXMudHlwZXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtICYmIHBhcmFtLnR5cGUgfHwgJ2FueSc7XG4gICAgfSk7XG4gICAgdGhpcy5leHByID0gZXhwcjtcbiAgfVxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJztcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuICAgIGZvckVhY2godGhpcy5wYXJhbXMsIGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgY2hpbGRBcmdOYW1lc1twYXJhbV0gPSB0cnVlO1xuICAgIH0pOyAvLyBjb21waWxlIHRoZSBmdW5jdGlvbiBleHByZXNzaW9uIHdpdGggdGhlIGNoaWxkIGFyZ3NcblxuICAgIHZhciBldmFsRXhwciA9IHRoaXMuZXhwci5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtcztcbiAgICB2YXIgc2lnbmF0dXJlID0gam9pbih0aGlzLnR5cGVzLCAnLCcpO1xuICAgIHZhciBzeW50YXggPSBuYW1lICsgJygnICsgam9pbih0aGlzLnBhcmFtcywgJywgJykgKyAnKSc7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgc2lnbmF0dXJlcyA9IHt9O1xuXG4gICAgICBzaWduYXR1cmVzW3NpZ25hdHVyZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcmdzW3BhcmFtc1tpXV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZhbEV4cHIoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZm4gPSB0eXBlZChuYW1lLCBzaWduYXR1cmVzKTtcbiAgICAgIGZuLnN5bnRheCA9IHN5bnRheDtcbiAgICAgIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgZm4pO1xuICAgICAgcmV0dXJuIGZuO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuZXhwciwgJ2V4cHInLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBleHByID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZXhwciwgJ2V4cHInLCB0aGlzKSk7XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5uYW1lLCB0aGlzLnBhcmFtcy5zbGljZSgwKSwgZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMubmFtZSwgdGhpcy5wYXJhbXMuc2xpY2UoMCksIHRoaXMuZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBJcyBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyZW50aGVzaXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBleHByUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5leHByLCBwYXJlbnRoZXNpcyk7XG4gICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBleHByUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBleHByUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlO1xuICB9XG4gIC8qKlxuICAgKiBnZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSAnKCcgKyBleHByICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm5hbWUgKyAnKCcgKyB0aGlzLnBhcmFtcy5qb2luKCcsICcpICsgJykgPSAnICsgZXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHR5cGVzID0gdGhpcy50eXBlcztcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBwYXJhbXM6IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogcGFyYW0sXG4gICAgICAgICAgdHlwZTogdHlwZXNbaW5kZXhdXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGV4cHI6IHRoaXMuZXhwclxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGdW5jdGlvbkFzc2lnbm1lbnROb2RlXCIsIG5hbWU6IC4uLiwgcGFyYW1zOiAuLi4sIGV4cHI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShqc29uLm5hbWUsIGpzb24ucGFyYW1zLCBqc29uLmV4cHIpO1xuICB9O1xuICAvKipcbiAgICogZ2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFyYW1zLnB1c2goJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wYXJhbWV0ZXJcIj4nICsgZXNjYXBlKHRoaXMucGFyYW1zW2ldKSArICc8L3NwYW4+Jyk7XG4gICAgfVxuXG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBleHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLm5hbWUpICsgJzwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcGFyYW1zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtdmFyaWFibGUtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPj08L3NwYW4+JyArIGV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGV4cHIsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIHRoaXMubmFtZSArICd9XFxcXGxlZnQoJyArIHRoaXMucGFyYW1zLm1hcCh0b1N5bWJvbCkuam9pbignLCcpICsgJ1xcXFxyaWdodCk6PScgKyBleHByO1xuICB9O1xuXG4gIHJldHVybiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc0NvbnN0YW50Tm9kZSwgaXNOb2RlLCBpc1JhbmdlTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xudmFyIG5hbWUgPSAnSW5kZXhOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ1JhbmdlJywgJ05vZGUnLCAnc2l6ZSddO1xuZXhwb3J0IHZhciBjcmVhdGVJbmRleE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBSYW5nZSxcbiAgICBOb2RlLFxuICAgIHNpemVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBJbmRleE5vZGVcbiAgICogQGV4dGVuZHMgTm9kZVxuICAgKlxuICAgKiBEZXNjcmliZXMgYSBzdWJzZXQgb2YgYSBtYXRyaXggb3IgYW4gb2JqZWN0IHByb3BlcnR5LlxuICAgKiBDYW5ub3QgYmUgdXNlZCBvbiBpdHMgb3duLCBuZWVkcyB0byBiZSB1c2VkIHdpdGhpbiBhbiBBY2Nlc3Nvck5vZGUgb3JcbiAgICogQXNzaWdubWVudE5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvdE5vdGF0aW9uPWZhbHNlXSAgT3B0aW9uYWwgcHJvcGVydHkgZGVzY3JpYmluZyB3aGV0aGVyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBpbmRleCB3YXMgd3JpdHRlbiB1c2luZyBkb3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RhdGlvbiBsaWtlIGBhLmJgLCBvciB1c2luZyBicmFja2V0XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90YXRpb24gbGlrZSBgYVtcImJcIl1gIChkZWZhdWx0KS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VkIHRvIHN0cmluZ2lmeSBhbiBJbmRleE5vZGUuXG4gICAqL1xuICBmdW5jdGlvbiBJbmRleE5vZGUoZGltZW5zaW9ucywgZG90Tm90YXRpb24pIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5kZXhOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgIHRoaXMuZG90Tm90YXRpb24gPSBkb3ROb3RhdGlvbiB8fCBmYWxzZTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShkaW1lbnNpb25zKSB8fCAhZGltZW5zaW9ucy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJkaW1lbnNpb25zXCInKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kb3ROb3RhdGlvbiAmJiAhdGhpcy5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZG90Tm90YXRpb24gb25seSBhcHBsaWNhYmxlIGZvciBvYmplY3QgcHJvcGVydGllcycpO1xuICAgIH1cbiAgfVxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBJbmRleE5vZGUucHJvdG90eXBlLnR5cGUgPSAnSW5kZXhOb2RlJztcbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5pc0luZGV4Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgYmlnbnVtYmVyIChjdXJyZW50bHkgYmlnbnVtYmVycyBhcmUgc2lsZW50bHlcbiAgICAvLyAgICAgICByZWR1Y2VkIHRvIG51bWJlcnMgd2hlbiBjaGFuZ2luZyB0aGUgdmFsdWUgdG8gemVyby1iYXNlZClcbiAgICAvLyBUT0RPOiBPcHRpbWl6YXRpb246IHdoZW4gdGhlIHJhbmdlIHZhbHVlcyBhcmUgQ29uc3RhbnROb2RlcyxcbiAgICAvLyAgICAgICB3ZSBjYW4gYmVmb3JlaGFuZCByZXNvbHZlIHRoZSB6ZXJvLWJhc2VkIHZhbHVlXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBhIHNpbXBsZSBvYmplY3QgcHJvcGVydHlcbiAgICB2YXIgZXZhbERpbWVuc2lvbnMgPSBtYXAodGhpcy5kaW1lbnNpb25zLCBmdW5jdGlvbiAocmFuZ2UsIGkpIHtcbiAgICAgIGlmIChpc1JhbmdlTm9kZShyYW5nZSkpIHtcbiAgICAgICAgaWYgKHJhbmdlLm5lZWRzRW5kKCkpIHtcbiAgICAgICAgICAvLyBjcmVhdGUgYSByYW5nZSBjb250YWluaW5nIGVuZCAobGlrZSAnNDplbmQnKVxuICAgICAgICAgIHZhciBjaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG4gICAgICAgICAgY2hpbGRBcmdOYW1lcy5lbmQgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGV2YWxTdGFydCA9IHJhbmdlLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIGV2YWxFbmQgPSByYW5nZS5lbmQuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgZXZhbFN0ZXAgPSByYW5nZS5zdGVwID8gcmFuZ2Uuc3RlcC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2l6ZShjb250ZXh0KS52YWx1ZU9mKCk7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcbiAgICAgICAgICAgIGNoaWxkQXJncy5lbmQgPSBzW2ldO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJhbmdlKGV2YWxTdGFydChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSwgZXZhbFN0ZXAoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJhbmdlXG4gICAgICAgICAgdmFyIF9ldmFsU3RhcnQgPSByYW5nZS5zdGFydC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgX2V2YWxFbmQgPSByYW5nZS5lbmQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIF9ldmFsU3RlcCA9IHJhbmdlLnN0ZXAgPyByYW5nZS5zdGVwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJhbmdlKF9ldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBfZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCksIF9ldmFsU3RlcChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTeW1ib2xOb2RlKHJhbmdlKSAmJiByYW5nZS5uYW1lID09PSAnZW5kJykge1xuICAgICAgICAvLyBTeW1ib2xOb2RlICdlbmQnXG4gICAgICAgIHZhciBfY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuXG4gICAgICAgIF9jaGlsZEFyZ05hbWVzLmVuZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGV2YWxSYW5nZSA9IHJhbmdlLl9jb21waWxlKG1hdGgsIF9jaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBzID0gc2l6ZShjb250ZXh0KS52YWx1ZU9mKCk7XG4gICAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG4gICAgICAgICAgY2hpbGRBcmdzLmVuZCA9IHNbaV07XG4gICAgICAgICAgcmV0dXJuIGV2YWxSYW5nZShzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENvbnN0YW50Tm9kZVxuICAgICAgICB2YXIgX2V2YWxSYW5nZSA9IHJhbmdlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZXZhbFJhbmdlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgaW5kZXggPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgJ2luZGV4Jyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxJbmRleE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBkaW1lbnNpb25zID0gbWFwKGV2YWxEaW1lbnNpb25zLCBmdW5jdGlvbiAoZXZhbERpbWVuc2lvbikge1xuICAgICAgICByZXR1cm4gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmRleCguLi5kaW1lbnNpb25zKTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmRpbWVuc2lvbnNbaV0sICdkaW1lbnNpb25zWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgSW5kZXhOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtJbmRleE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRpbWVuc2lvbnNbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5kaW1lbnNpb25zW2ldLCAnZGltZW5zaW9uc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKGRpbWVuc2lvbnMsIHRoaXMuZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtJbmRleE5vZGV9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZSh0aGlzLmRpbWVuc2lvbnMuc2xpY2UoMCksIHRoaXMuZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHRoaXMgSW5kZXhOb2RlIGNvbnRhaW5zIGEgc2luZ2xlIHByb3BlcnR5IG5hbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmlzT2JqZWN0UHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5sZW5ndGggPT09IDEgJiYgaXNDb25zdGFudE5vZGUodGhpcy5kaW1lbnNpb25zWzBdKSAmJiB0eXBlb2YgdGhpcy5kaW1lbnNpb25zWzBdLnZhbHVlID09PSAnc3RyaW5nJztcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgaWYgSW5kZXhOb2RlIGNvbnRhaW5zIGEgcHJvcGVydHkuXG4gICAqIElmIG5vdCwgcmV0dXJucyBudWxsLlxuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBudWxsfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuZ2V0T2JqZWN0UHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5kaW1lbnNpb25zWzBdLnZhbHVlIDogbnVsbDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gZm9ybWF0IHRoZSBwYXJhbWV0ZXJzIGxpa2UgXCJbMSwgMDo1XVwiXG4gICAgcmV0dXJuIHRoaXMuZG90Tm90YXRpb24gPyAnLicgKyB0aGlzLmdldE9iamVjdFByb3BlcnR5KCkgOiAnWycgKyB0aGlzLmRpbWVuc2lvbnMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnSW5kZXhOb2RlJyxcbiAgICAgIGRpbWVuc2lvbnM6IHRoaXMuZGltZW5zaW9ucyxcbiAgICAgIGRvdE5vdGF0aW9uOiB0aGlzLmRvdE5vdGF0aW9uXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEluZGV4Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiSW5kZXhOb2RlXCIsIGRpbWVuc2lvbnM6IFsuLi5dLCBkb3ROb3RhdGlvbjogZmFsc2V9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7SW5kZXhOb2RlfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUoanNvbi5kaW1lbnNpb25zLCBqc29uLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIGZvcm1hdCB0aGUgcGFyYW1ldGVycyBsaWtlIFwiWzEsIDA6NV1cIlxuICAgIHZhciBkaW1lbnNpb25zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZGltZW5zaW9uc1tpXSA9IHRoaXMuZGltZW5zaW9uc1tpXS50b0hUTUwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kb3ROb3RhdGlvbikge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hY2Nlc3Nvci1vcGVyYXRvclwiPi48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcHJvcGVydHlcIj4nICsgZXNjYXBlKHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSkgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+Wzwvc3Bhbj4nICsgZGltZW5zaW9ucy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5dPC9zcGFuPic7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zLm1hcChmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIHJldHVybiByYW5nZS50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5kb3ROb3RhdGlvbiA/ICcuJyArIHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSArICcnIDogJ197JyArIGRpbWVuc2lvbnMuam9pbignLCcpICsgJ30nO1xuICB9OyAvLyBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgUmFuZ2UgZnJvbSBzdGFydCwgc3RlcCBhbmQgZW5kXG5cblxuICBmdW5jdGlvbiBjcmVhdGVSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShpc0JpZ051bWJlcihzdGFydCkgPyBzdGFydC50b051bWJlcigpIDogc3RhcnQsIGlzQmlnTnVtYmVyKGVuZCkgPyBlbmQudG9OdW1iZXIoKSA6IGVuZCwgaXNCaWdOdW1iZXIoc3RlcCkgPyBzdGVwLnRvTnVtYmVyKCkgOiBzdGVwKTtcbiAgfVxuXG4gIHJldHVybiBJbmRleE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlLCBzdHJpbmdpZnkgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaXNTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ09iamVjdE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVPYmplY3ROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE9iamVjdE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGFuIG9iamVjdCB3aXRoIGtleXMvdmFsdWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIE5vZGU+fSBbcHJvcGVydGllc10gICBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnNcbiAgICovXG4gIGZ1bmN0aW9uIE9iamVjdE5vZGUocHJvcGVydGllcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPYmplY3ROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9OyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICghKHR5cGVvZiBwcm9wZXJ0aWVzID09PSAnb2JqZWN0JykgfHwgIU9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzTm9kZShwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnR5cGUgPSAnT2JqZWN0Tm9kZSc7XG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmlzT2JqZWN0Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxFbnRyaWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIC8vIHdlIHN0cmluZ2lmeS9wYXJzZSB0aGUga2V5IGhlcmUgdG8gcmVzb2x2ZSB1bmljb2RlIGNoYXJhY3RlcnMsXG4gICAgICAgIC8vIHNvIHlvdSBjYW5ub3QgY3JlYXRlIGEga2V5IGxpa2Uge1wiY29cXFxcdTAwNkVzdHJ1Y3RvclwiOiBudWxsfVxuICAgICAgICB2YXIgc3RyaW5naWZpZWRLZXkgPSBzdHJpbmdpZnkoa2V5KTtcbiAgICAgICAgdmFyIHBhcnNlZEtleSA9IEpTT04ucGFyc2Uoc3RyaW5naWZpZWRLZXkpO1xuXG4gICAgICAgIGlmICghaXNTYWZlUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBwYXJzZWRLZXkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcGFyc2VkS2V5ICsgJ1wiJyk7XG4gICAgICAgIH1cblxuICAgICAgICBldmFsRW50cmllc1twYXJzZWRLZXldID0gdGhpcy5wcm9wZXJ0aWVzW2tleV0uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBldmFsT2JqZWN0Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5IGluIGV2YWxFbnRyaWVzKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShldmFsRW50cmllcywgX2tleSkpIHtcbiAgICAgICAgICBvYmpbX2tleV0gPSBldmFsRW50cmllc1tfa2V5XShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMucHJvcGVydGllc1trZXldLCAncHJvcGVydGllc1snICsgc3RyaW5naWZ5KGtleSkgKyAnXScsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYmplY3ROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPYmplY3ROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnByb3BlcnRpZXNba2V5XSwgJ3Byb3BlcnRpZXNbJyArIHN0cmluZ2lmeShrZXkpICsgJ10nLCB0aGlzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtPYmplY3ROb2RlfVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHRoaXMucHJvcGVydGllc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goc3RyaW5naWZ5KGtleSkgKyAnOiAnICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9TdHJpbmcob3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAneycgKyBlbnRyaWVzLmpvaW4oJywgJykgKyAnfSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdPYmplY3ROb2RlJyxcbiAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBPcGVyYXRvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIk9iamVjdE5vZGVcIiwgXCJwcm9wZXJ0aWVzXCI6IHsuLi59fWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge09iamVjdE5vZGV9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKGpzb24ucHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaCgnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXByb3BlcnR5XCI+JyArIGVzY2FwZShrZXkpICsgJzwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1wcm9wZXJ0eS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9IVE1MKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLWN1cmx5LXBhcmVudGhlc2lzXCI+ezwvc3Bhbj4nICsgZW50cmllcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1jdXJseS1wYXJlbnRoZXNpc1wiPn08L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKCdcXFxcbWF0aGJmeycgKyBrZXkgKyAnOn0gJiAnICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9UZXgob3B0aW9ucykgKyAnXFxcXFxcXFwnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcXFxcbGVmdFxcXFx7XFxcXGJlZ2lue2FycmF5fXtsbH1cIi5jb25jYXQoZW50cmllcy5qb2luKCdcXG4nKSwgXCJcXFxcZW5ke2FycmF5fVxcXFxyaWdodFxcXFx9XCIpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3ROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIGlzU2FmZU1ldGhvZCB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZ2V0QXNzb2NpYXRpdml0eSwgZ2V0UHJlY2VkZW5jZSwgaXNBc3NvY2lhdGl2ZVdpdGgsIHByb3BlcnRpZXMgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgbGF0ZXhPcGVyYXRvcnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdPcGVyYXRvck5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVPcGVyYXRvck5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgT3BlcmF0b3JOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBbiBvcGVyYXRvciB3aXRoIHR3byBhcmd1bWVudHMsIGxpa2UgMiszXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcCAgICAgICAgICAgT3BlcmF0b3IgbmFtZSwgZm9yIGV4YW1wbGUgJysnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbiAgICAgICAgICAgRnVuY3Rpb24gbmFtZSwgZm9yIGV4YW1wbGUgJ2FkZCdcbiAgICogQHBhcmFtIHtOb2RlW119IGFyZ3MgICAgICAgICBPcGVyYXRvciBhcmd1bWVudHNcbiAgICogQHBhcmFtIHtib29sZWFufSBbaW1wbGljaXRdICBJcyB0aGlzIGFuIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uP1xuICAgKi9cbiAgZnVuY3Rpb24gT3BlcmF0b3JOb2RlKG9wLCBmbiwgYXJncywgaW1wbGljaXQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3BlcmF0b3JOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2Ygb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm9wXCInKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJmblwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpIHx8ICFhcmdzLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImFyZ3NcIicpO1xuICAgIH1cblxuICAgIHRoaXMuaW1wbGljaXQgPSBpbXBsaWNpdCA9PT0gdHJ1ZTtcbiAgICB0aGlzLm9wID0gb3A7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuYXJncyA9IGFyZ3MgfHwgW107XG4gIH1cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50eXBlID0gJ09wZXJhdG9yTm9kZSc7XG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNPcGVyYXRvck5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgLy8gdmFsaWRhdGUgZm5cbiAgICBpZiAodHlwZW9mIHRoaXMuZm4gIT09ICdzdHJpbmcnIHx8ICFpc1NhZmVNZXRob2QobWF0aCwgdGhpcy5mbikpIHtcbiAgICAgIGlmICghbWF0aFt0aGlzLmZuXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uICcgKyB0aGlzLmZuICsgJyBtaXNzaW5nIGluIHByb3ZpZGVkIG5hbWVzcGFjZSBcIm1hdGhcIicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gZnVuY3Rpb24gXCInICsgdGhpcy5mbiArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBmbiA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCB0aGlzLmZuKTtcbiAgICB2YXIgZXZhbEFyZ3MgPSBtYXAodGhpcy5hcmdzLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcblxuICAgIGlmIChldmFsQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBldmFsQXJnMCA9IGV2YWxBcmdzWzBdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuKGV2YWxBcmcwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB2YXIgX2V2YWxBcmcgPSBldmFsQXJnc1swXTtcbiAgICAgIHZhciBldmFsQXJnMSA9IGV2YWxBcmdzWzFdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuKF9ldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEFyZzEoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9wZXJhdG9yTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZSh0aGlzLm9wLCB0aGlzLmZuLCBhcmdzLCB0aGlzLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7T3BlcmF0b3JOb2RlfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUodGhpcy5vcCwgdGhpcy5mbiwgdGhpcy5hcmdzLnNsaWNlKDApLCB0aGlzLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhpcyBpcyBhbiB1bmFyeSBPcGVyYXRvck5vZGU6XG4gICAqIGhhcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgbGlrZSBgLWFgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhbiB1bmFyeSBvcGVyYXRvciBub2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc1VuYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFyZ3MubGVuZ3RoID09PSAxO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGlzIGEgYmluYXJ5IE9wZXJhdG9yTm9kZTpcbiAgICogaGFzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cywgbGlrZSBgYSArIGJgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhIGJpbmFyeSBvcGVyYXRvciBub2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc0JpbmFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcmdzLmxlbmd0aCA9PT0gMjtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB3aGljaCBwYXJlbnRoZXNlcyBhcmUgbmVjZXNzYXJ5LiBHZXRzIGFuIE9wZXJhdG9yTm9kZVxuICAgKiAod2hpY2ggaXMgdGhlIHJvb3Qgb2YgdGhlIHRyZWUpIGFuZCBhbiBBcnJheSBvZiBOb2Rlc1xuICAgKiAodGhpcy5hcmdzKSBhbmQgcmV0dXJucyBhbiBhcnJheSB3aGVyZSAndHJ1ZScgbWVhbnMgdGhhdCBhbiBhcmd1bWVudFxuICAgKiBoYXMgdG8gYmUgZW5jbG9zZWQgaW4gcGFyZW50aGVzZXMgd2hlcmVhcyAnZmFsc2UnIG1lYW5zIHRoZSBvcHBvc2l0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtPcGVyYXRvck5vZGV9IHJvb3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBhcmdzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbGF0ZXhcbiAgICogQHJldHVybiB7Ym9vbGVhbltdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHJvb3QsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgbGF0ZXgpIHtcbiAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSByb290IE9wZXJhdG9yTm9kZVxuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShyb290LCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGFzc29jaWF0aXZpdHkgPSBnZXRBc3NvY2lhdGl2aXR5KHJvb3QsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgYXJncy5sZW5ndGggPiAyICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpICE9PSAnT3BlcmF0b3JOb2RlOmFkZCcgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgIT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSB7XG4gICAgICByZXR1cm4gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBzd2l0Y2ggKGFyZy5nZXRDb250ZW50KCkudHlwZSkge1xuICAgICAgICAgIC8vIE5vZGVzIHRoYXQgZG9uJ3QgbmVlZCBleHRyYSBwYXJlbnRoZXNlc1xuICAgICAgICAgIGNhc2UgJ0FycmF5Tm9kZSc6XG4gICAgICAgICAgY2FzZSAnQ29uc3RhbnROb2RlJzpcbiAgICAgICAgICBjYXNlICdTeW1ib2xOb2RlJzpcbiAgICAgICAgICBjYXNlICdQYXJlbnRoZXNpc05vZGUnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSBvcGVyYW5kXG4gICAgICAgICAgdmFyIG9wZXJhbmRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzBdLCBwYXJlbnRoZXNpcyk7IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBMYVRlWCwgd2hlcmUgc29tZSBvZiB0aGUgcGFyZW50aGVzZXMgYXJlbid0IG5lZWRlZFxuXG4gICAgICAgICAgaWYgKGxhdGV4ICYmIG9wZXJhbmRQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgb3BlcmFuZElkZW50aWZpZXI7XG4gICAgICAgICAgICB2YXIgcm9vdElkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgICAgICAgIG9wZXJhbmRJZGVudGlmaWVyID0gYXJnc1swXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXMgTm9kZXMgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgICAgICAgb3BlcmFuZElkZW50aWZpZXIgPSBhcmdzWzBdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtyb290SWRlbnRpZmllcl0ubGF0ZXhMZWZ0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbb3BlcmFuZFByZWNlZGVuY2VdW29wZXJhbmRJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9wZXJhbmRQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgb3BlcmFuZCBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcGVyYW5kUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgb3BlcmFuZHMgcHJlY2VkZW5jZSBpcyBsb3dlciwgcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIHJlc3VsdCA9IFt0cnVlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gLy8gb3RoZXJ3aXNlLCBubyBwYXJlbnMgbmVlZGVkXG5cblxuICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gYmluYXJ5IG9wZXJhdG9yc1xuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxoc1BhcmVuczsgLy8gbGVmdCBoYW5kIHNpZGUgbmVlZHMgcGFyZW50aGVzaXM/XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgbGVmdCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciBsaHNQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzBdLCBwYXJlbnRoZXNpcyk7IC8vIGlzIHRoZSByb290IG5vZGUgYXNzb2NpYXRpdmUgd2l0aCB0aGUgbGVmdCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciBhc3NvY1dpdGhMaHMgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmdzWzBdLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICBpZiAobGhzUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGxlZnQgaGFuZCBzaWRlIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAvLyBGdW5jdGlvbk5vZGUgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGhzUHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSAncmlnaHQnICYmICFhc3NvY1dpdGhMaHMpIHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXF1YWwgcHJlY2VkZW5jZSwgaWYgdGhlIHJvb3Qgbm9kZSBpcyBsZWZ0IGFzc29jaWF0aXZlXG4gICAgICAgICAgICAvLyBwYXJlbnMgYXJlICoqbmV2ZXIqKiBuZWNlc3NhcnkgZm9yIHRoZSBsZWZ0IGhhbmQgc2lkZS5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHJpZ2h0IGFzc29jaWF0aXZlIGhvd2V2ZXIsIHBhcmVucyBhcmUgbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBpZiB0aGUgcm9vdCBub2RlIGlzbid0IGFzc29jaWF0aXZlIHdpdGggdGhlIGxlZnQgaGFuZCBzaWRlXG4gICAgICAgICAgICBsaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGhzUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByaHNQYXJlbnM7IC8vIHJpZ2h0IGhhbmQgc2lkZSBuZWVkcyBwYXJlbnRoZXNpcz9cbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSByaWdodCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciByaHNQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzFdLCBwYXJlbnRoZXNpcyk7IC8vIGlzIHRoZSByb290IG5vZGUgYXNzb2NpYXRpdmUgd2l0aCB0aGUgcmlnaHQgaGFuZCBzaWRlP1xuXG4gICAgICAgICAgdmFyIGFzc29jV2l0aFJocyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZ3NbMV0sIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgIGlmIChyaHNQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcmlnaHQgaGFuZCBzaWRlIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAvLyBGdW5jdGlvbk5vZGUgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmhzUHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSAnbGVmdCcgJiYgIWFzc29jV2l0aFJocykge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcXVhbCBwcmVjZWRlbmNlLCBpZiB0aGUgcm9vdCBub2RlIGlzIHJpZ2h0IGFzc29jaWF0aXZlXG4gICAgICAgICAgICAvLyBwYXJlbnMgYXJlICoqbmV2ZXIqKiBuZWNlc3NhcnkgZm9yIHRoZSByaWdodCBoYW5kIHNpZGUuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyBsZWZ0IGFzc29jaWF0aXZlIGhvd2V2ZXIsIHBhcmVucyBhcmUgbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBpZiB0aGUgcm9vdCBub2RlIGlzbid0IGFzc29jaWF0aXZlIHdpdGggdGhlIHJpZ2h0IGhhbmQgc2lkZVxuICAgICAgICAgICAgcmhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJoc1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICByaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBMYVRlWCwgd2hlcmUgc29tZSBvZiB0aGUgcGFyZW50aGVzZXMgYXJlbid0IG5lZWRlZFxuXG5cbiAgICAgICAgICBpZiAobGF0ZXgpIHtcbiAgICAgICAgICAgIHZhciBfcm9vdElkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIHZhciBsaHNJZGVudGlmaWVyO1xuICAgICAgICAgICAgdmFyIHJoc0lkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgICAgICAgIF9yb290SWRlbnRpZmllciA9IHJvb3QuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICBsaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzBdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcmhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1sxXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXNOb2RlcyB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgICAgICAgICAgICBfcm9vdElkZW50aWZpZXIgPSByb290LmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIGxoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMF0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcmhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1sxXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGhzUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtfcm9vdElkZW50aWZpZXJdLmxhdGV4TGVmdFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2xoc1ByZWNlZGVuY2VdW2xoc0lkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyaHNQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW19yb290SWRlbnRpZmllcl0ubGF0ZXhSaWdodFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3Joc1ByZWNlZGVuY2VdW3Joc0lkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzdWx0ID0gW2xoc1BhcmVucywgcmhzUGFyZW5zXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgcm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgdmFyIGFyZ1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZywgcGFyZW50aGVzaXMpO1xuICAgICAgICAgICAgdmFyIGFzc29jV2l0aEFyZyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZywgcGFyZW50aGVzaXMpO1xuICAgICAgICAgICAgdmFyIGFyZ0Fzc29jaWF0aXZpdHkgPSBnZXRBc3NvY2lhdGl2aXR5KGFyZywgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgICBpZiAoYXJnUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgYXJndW1lbnQgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVjZWRlbmNlID09PSBhcmdQcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09IGFyZ0Fzc29jaWF0aXZpdHkgJiYgIWFzc29jV2l0aEFyZykge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH0gLy8gaGFuZGxlcyBhbiBlZGdlIGNhc2Ugb2YgJ2F1dG8nIHBhcmVudGhlc2VzIHdpdGggaW1wbGljaXQgbXVsdGlwbGljYXRpb24gb2YgQ29uc3RhbnROb2RlXG4gICAgLy8gSW4gdGhhdCBjYXNlIHByaW50IHBhcmVudGhlc2VzIGZvciBQYXJlbnRoZXNpc05vZGVzIGV2ZW4gdGhvdWdoIHRoZXkgbm9ybWFsbHkgd291bGRuJ3QgYmVcbiAgICAvLyBwcmludGVkLlxuXG5cbiAgICBpZiAoYXJncy5sZW5ndGggPj0gMiAmJiByb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgcm9vdC5pbXBsaWNpdCAmJiBwYXJlbnRoZXNpcyA9PT0gJ2F1dG8nICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgIHJlc3VsdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIHZhciBpc1BhcmVudGhlc2lzTm9kZSA9IGFyZy5nZXRJZGVudGlmaWVyKCkgPT09ICdQYXJlbnRoZXNpc05vZGUnO1xuXG4gICAgICAgIGlmIChyZXN1bHRbaW5kZXhdIHx8IGlzUGFyZW50aGVzaXNOb2RlKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGZhbHNlKTtcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gJygnICsgb3BlcmFuZCArICcpJztcbiAgICAgIH0gLy8gZm9yIGV4YW1wbGUgZm9yIFwibm90XCIsIHdlIHdhbnQgYSBzcGFjZSBiZXR3ZWVuIG9wZXJhbmQgYW5kIGFyZ3VtZW50XG5cblxuICAgICAgdmFyIG9wSXNOYW1lZCA9IC9bYS16QS1aXSsvLnRlc3QodGhpcy5vcCk7XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIHRoaXMub3AgKyAob3BJc05hbWVkID8gJyAnIDogJycpICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSBpZiAoYXNzb2MgPT09ICdsZWZ0Jykge1xuICAgICAgICAvLyBwb3N0Zml4XG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgKG9wSXNOYW1lZCA/ICcgJyA6ICcnKSArIHRoaXMub3A7XG4gICAgICB9IC8vIGZhbGwgYmFjayB0byBwb3N0Zml4XG5cblxuICAgICAgcmV0dXJuIG9wZXJhbmQgKyB0aGlzLm9wO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXS50b1N0cmluZyhvcHRpb25zKTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgLy8gbGVmdCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIGxocyA9ICcoJyArIGxocyArICcpJztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICAvLyByaWdodCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIHJocyA9ICcoJyArIHJocyArICcpJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIGxocyArICcgJyArIHJocztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxocyArICcgJyArIHRoaXMub3AgKyAnICcgKyByaHM7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgdmFyIHN0cmluZ2lmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICBhcmcgPSAnKCcgKyBhcmcgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignICcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJyAnICsgdGhpcy5vcCArICcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICByZXR1cm4gdGhpcy5mbiArICcoJyArIHRoaXMuYXJncy5qb2luKCcsICcpICsgJyknO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnT3BlcmF0b3JOb2RlJyxcbiAgICAgIG9wOiB0aGlzLm9wLFxuICAgICAgZm46IHRoaXMuZm4sXG4gICAgICBhcmdzOiB0aGlzLmFyZ3MsXG4gICAgICBpbXBsaWNpdDogdGhpcy5pbXBsaWNpdFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBPcGVyYXRvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIk9wZXJhdG9yTm9kZVwiLCBcIm9wXCI6IFwiK1wiLCBcImZuXCI6IFwiYWRkXCIsIFwiYXJnc1wiOiBbLi4uXSwgXCJpbXBsaWNpdFwiOiBmYWxzZX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShqc29uLm9wLCBqc29uLmZuLCBqc29uLmFyZ3MsIGpzb24uaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBmYWxzZSk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBvcGVyYW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtdW5hcnktb3BlcmF0b3IgbWF0aC1sZWZ0aGFuZC11bmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcG9zdGZpeCB3aGVuIGFzc29jID09PSAnbGVmdCcgb3IgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXVuYXJ5LW9wZXJhdG9yIG1hdGgtcmlnaHRoYW5kLXVuYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBiaW5hcnkgb3BlcmF0b2VzXG4gICAgICB2YXIgbGhzID0gYXJnc1swXS50b0hUTUwob3B0aW9ucyk7IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdLnRvSFRNTChvcHRpb25zKTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgLy8gbGVmdCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIGxocyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICAvLyByaWdodCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIHJocyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHJocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1pbXBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj48L3NwYW4+JyArIHJocztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nICsgcmhzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RyaW5naWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICBhcmcgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBhcmcgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtaW1wbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+PC9zcGFuPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLmZuKSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCB0cnVlKTtcbiAgICB2YXIgb3AgPSBsYXRleE9wZXJhdG9yc1t0aGlzLmZuXTtcbiAgICBvcCA9IHR5cGVvZiBvcCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLm9wIDogb3A7IC8vIGZhbGwgYmFjayB0byB1c2luZyB0aGlzLm9wXG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KG9wZXJhbmQsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gb3AgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIGlmIChhc3NvYyA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIC8vIHBvc3RmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyBvcDtcbiAgICAgIH0gLy8gZmFsbCBiYWNrIHRvIHBvc3RmaXhcblxuXG4gICAgICByZXR1cm4gb3BlcmFuZCArIG9wO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIGJpbmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgbGhzVGV4ID0gbGhzLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIGxoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGxoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHNUZXggPSByaHMudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgcmhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQocmhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9IC8vIGhhbmRsZSBzb21lIGV4Y2VwdGlvbnMgKGR1ZSB0byB0aGUgd2F5IExhVGVYIHdvcmtzKVxuXG5cbiAgICAgIHZhciBsaHNJZGVudGlmaWVyO1xuXG4gICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICBsaHNJZGVudGlmaWVyID0gbGhzLmdldElkZW50aWZpZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpc05vZGVzIGlmIGluICdrZWVwJyBtb2RlXG4gICAgICAgIGxoc0lkZW50aWZpZXIgPSBsaHMuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0aGlzLmdldElkZW50aWZpZXIoKSkge1xuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6ZGl2aWRlJzpcbiAgICAgICAgICAvLyBvcCBjb250YWlucyAnXFxcXGZyYWMnIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICByZXR1cm4gb3AgKyAneycgKyBsaHNUZXggKyAnfScgKyAneycgKyByaHNUZXggKyAnfSc7XG5cbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOnBvdyc6XG4gICAgICAgICAgbGhzVGV4ID0gJ3snICsgbGhzVGV4ICsgJ30nO1xuICAgICAgICAgIHJoc1RleCA9ICd7JyArIHJoc1RleCArICd9JztcblxuICAgICAgICAgIHN3aXRjaCAobGhzSWRlbnRpZmllcikge1xuICAgICAgICAgICAgY2FzZSAnQ29uZGl0aW9uYWxOb2RlJzogLy9cblxuICAgICAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6XG4gICAgICAgICAgICAgIGxoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGxoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTptdWx0aXBseSc6XG4gICAgICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICAgICAgcmV0dXJuIGxoc1RleCArICd+JyArIHJoc1RleDtcbiAgICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxoc1RleCArIG9wICsgcmhzVGV4O1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgIHZhciB0ZXhpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICBhcmcgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChhcmcsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiB0aGlzLmltcGxpY2l0KSB7XG4gICAgICAgIHJldHVybiB0ZXhpZmllZEFyZ3Muam9pbignficpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4aWZpZWRBcmdzLmpvaW4ob3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmYWxsIGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgIC8vIGFzIHRoaXMgaXMgYSBmYWxsYmFjaywgaXQgZG9lc24ndCB1c2VcbiAgICAgIC8vIGZhbmN5IGZ1bmN0aW9uIG5hbWVzXG4gICAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIHRoaXMuZm4gKyAnfVxcXFxsZWZ0KCcgKyBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgICB9KS5qb2luKCcsJykgKyAnXFxcXHJpZ2h0KSc7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSArICc6JyArIHRoaXMuZm47XG4gIH07XG5cbiAgcmV0dXJuIE9wZXJhdG9yTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdQYXJlbnRoZXNpc05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVQYXJlbnRoZXNpc05vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgUGFyZW50aGVzaXNOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBIHBhcmVudGhlc2lzIG5vZGUgZGVzY3JpYmVzIG1hbnVhbCBwYXJlbnRoZXNpcyBmcm9tIHRoZSB1c2VyIGlucHV0XG4gICAqIEBwYXJhbSB7Tm9kZX0gY29udGVudFxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIFBhcmVudGhlc2lzTm9kZShjb250ZW50KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhcmVudGhlc2lzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAoIWlzTm9kZShjb250ZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiY29udGVudFwiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnR5cGUgPSAnUGFyZW50aGVzaXNOb2RlJztcbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5pc1BhcmVudGhlc2lzTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgY29udGVudCBvZiB0aGUgY3VycmVudCBOb2RlLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBjb250ZW50XG4gICAqIEBvdmVycmlkZVxuICAgKiovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5nZXRDb250ZW50KCk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5jb250ZW50LCAnY29udGVudCcsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBhcmVudGhlc2lzTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1BhcmVudGhlc2lzTm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgY29udGVudCA9IGNhbGxiYWNrKHRoaXMuY29udGVudCwgJ2NvbnRlbnQnLCB0aGlzKTtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZShjb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UGFyZW50aGVzaXNOb2RlfVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUodGhpcy5jb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gJygnICsgdGhpcy5jb250ZW50LnRvU3RyaW5nKG9wdGlvbnMpICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1BhcmVudGhlc2lzTm9kZScsXG4gICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gUGFyZW50aGVzaXNOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJQYXJlbnRoZXNpc05vZGVcIiwgXCJjb250ZW50XCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtQYXJlbnRoZXNpc05vZGV9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZShqc29uLmNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdGhpcy5jb250ZW50LnRvSFRNTChvcHRpb25zKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiBcIlxcXFxsZWZ0KFwiLmNvbmNhdCh0aGlzLmNvbnRlbnQudG9UZXgob3B0aW9ucyksIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvVGV4KG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBQYXJlbnRoZXNpc05vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ1JhbmdlTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVJhbmdlTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBSYW5nZU5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIGNyZWF0ZSBhIHJhbmdlXG4gICAqIEBwYXJhbSB7Tm9kZX0gc3RhcnQgIGluY2x1ZGVkIGxvd2VyLWJvdW5kXG4gICAqIEBwYXJhbSB7Tm9kZX0gZW5kICAgIGluY2x1ZGVkIHVwcGVyLWJvdW5kXG4gICAqIEBwYXJhbSB7Tm9kZX0gW3N0ZXBdIG9wdGlvbmFsIHN0ZXBcbiAgICovXG4gIGZ1bmN0aW9uIFJhbmdlTm9kZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dHNcblxuXG4gICAgaWYgKCFpc05vZGUoc3RhcnQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKCFpc05vZGUoZW5kKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmIChzdGVwICYmICFpc05vZGUoc3RlcCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHRocm93IG5ldyBFcnJvcignVG9vIG1hbnkgYXJndW1lbnRzJyk7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0OyAvLyBpbmNsdWRlZCBsb3dlci1ib3VuZFxuXG4gICAgdGhpcy5lbmQgPSBlbmQ7IC8vIGluY2x1ZGVkIHVwcGVyLWJvdW5kXG5cbiAgICB0aGlzLnN0ZXAgPSBzdGVwIHx8IG51bGw7IC8vIG9wdGlvbmFsIHN0ZXBcbiAgfVxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBSYW5nZU5vZGUucHJvdG90eXBlLnR5cGUgPSAnUmFuZ2VOb2RlJztcbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5pc1JhbmdlTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoZSBSYW5nZU5vZGUgbmVlZHMgdGhlIGBlbmRgIHN5bWJvbCB0byBiZSBkZWZpbmVkLlxuICAgKiBUaGlzIGVuZCBpcyB0aGUgc2l6ZSBvZiB0aGUgTWF0cml4IGluIGN1cnJlbnQgZGltZW5zaW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLm5lZWRzRW5kID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGZpbmQgYWxsIGBlbmRgIHN5bWJvbHMgaW4gdGhpcyBSYW5nZU5vZGVcbiAgICB2YXIgZW5kU3ltYm9scyA9IHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gaXNTeW1ib2xOb2RlKG5vZGUpICYmIG5vZGUubmFtZSA9PT0gJ2VuZCc7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVuZFN5bWJvbHMubGVuZ3RoID4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHJhbmdlID0gbWF0aC5yYW5nZTtcblxuICAgIHZhciBldmFsU3RhcnQgPSB0aGlzLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsRW5kID0gdGhpcy5lbmQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIGV2YWxTdGVwID0gdGhpcy5zdGVwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSYW5nZU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKGV2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsU3RlcChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSYW5nZU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKGV2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuc3RhcnQsICdzdGFydCcsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuZW5kLCAnZW5kJywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLnN0ZXAsICdzdGVwJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFJhbmdlTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UmFuZ2VOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuc3RhcnQsICdzdGFydCcsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZW5kLCAnZW5kJywgdGhpcykpLCB0aGlzLnN0ZXAgJiYgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuc3RlcCwgJ3N0ZXAnLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtSYW5nZU5vZGV9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgdGhpcy5zdGVwICYmIHRoaXMuc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG5lY2Vzc2FyeSBwYXJlbnRoZXNlc1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gICAqIEByZXR1cm4ge09iamVjdH0gcGFyZW50aGVzZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmVucyA9IHt9O1xuICAgIHZhciBzdGFydFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuc3RhcnQsIHBhcmVudGhlc2lzKTtcbiAgICBwYXJlbnMuc3RhcnQgPSBzdGFydFByZWNlZGVuY2UgIT09IG51bGwgJiYgc3RhcnRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuXG4gICAgaWYgKG5vZGUuc3RlcCkge1xuICAgICAgdmFyIHN0ZXBQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnN0ZXAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHBhcmVucy5zdGVwID0gc3RlcFByZWNlZGVuY2UgIT09IG51bGwgJiYgc3RlcFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG4gICAgfVxuXG4gICAgdmFyIGVuZFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuZW5kLCBwYXJlbnRoZXNpcyk7XG4gICAgcGFyZW5zLmVuZCA9IGVuZFByZWNlZGVuY2UgIT09IG51bGwgJiYgZW5kUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcbiAgICByZXR1cm4gcGFyZW5zO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gZm9ybWF0IHN0cmluZyBhcyBzdGFydDpzdGVwOnN0b3BcblxuICAgIHZhciBzdHI7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gJygnICsgc3RhcnQgKyAnKSc7XG4gICAgfVxuXG4gICAgc3RyID0gc3RhcnQ7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSAnKCcgKyBzdGVwICsgJyknO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzonICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gJygnICsgZW5kICsgJyknO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmFuZ2VOb2RlJyxcbiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgZW5kOiB0aGlzLmVuZCxcbiAgICAgIHN0ZXA6IHRoaXMuc3RlcFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBSYW5nZU5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlTm9kZVwiLCBcInN0YXJ0XCI6IC4uLiwgXCJlbmRcIjogLi4uLCBcInN0ZXBcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1JhbmdlTm9kZX1cbiAgICovXG5cblxuICBSYW5nZU5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKGpzb24uc3RhcnQsIGpzb24uZW5kLCBqc29uLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpOyAvLyBmb3JtYXQgc3RyaW5nIGFzIHN0YXJ0OnN0ZXA6c3RvcFxuXG4gICAgdmFyIHN0cjtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RhcnQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgc3RyID0gc3RhcnQ7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RlcCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1yYW5nZS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBlbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgc3RyICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1yYW5nZS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbXMge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHN0ciA9IHRoaXMuc3RhcnQudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdHIgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChzdHIsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChzdGVwLCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnOicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChlbmQsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGxhdGV4T3BlcmF0b3JzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmVsYXRpb25hbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVSZWxhdGlvbmFsTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgbm9kZSByZXByZXNlbnRpbmcgYSBjaGFpbmVkIGNvbmRpdGlvbmFsIGV4cHJlc3Npb24sIHN1Y2ggYXMgJ3ggPiB5ID4geidcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gY29uZGl0aW9uYWxzICAgQW4gYXJyYXkgb2YgY29uZGl0aW9uYWwgb3BlcmF0b3JzIHVzZWQgdG8gY29tcGFyZSB0aGUgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gcGFyYW1zICAgVGhlIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIGNvbXBhcmVkXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvciBSZWxhdGlvbmFsTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIFJlbGF0aW9uYWxOb2RlKGNvbmRpdGlvbmFscywgcGFyYW1zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlbGF0aW9uYWxOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZGl0aW9uYWxzKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGNvbmRpdGlvbmFscyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBwYXJhbXMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgIGlmIChjb25kaXRpb25hbHMubGVuZ3RoICE9PSBwYXJhbXMubGVuZ3RoIC0gMSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHBhcmFtcyBtdXN0IGNvbnRhaW4gZXhhY3RseSBvbmUgbW9yZSBlbGVtZW50IHRoYW4gcGFyYW1ldGVyIGNvbmRpdGlvbmFscycpO1xuICAgIHRoaXMuY29uZGl0aW9uYWxzID0gY29uZGl0aW9uYWxzO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICB9XG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnUmVsYXRpb25hbE5vZGUnO1xuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuaXNSZWxhdGlvbmFsTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY29tcGlsZWQgPSB0aGlzLnBhcmFtcy5tYXAocCA9PiBwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSZWxhdGlvbmFsTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIGV2YWxMaHM7XG4gICAgICB2YXIgZXZhbFJocyA9IGNvbXBpbGVkWzBdKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmFsTGhzID0gZXZhbFJocztcbiAgICAgICAgZXZhbFJocyA9IGNvbXBpbGVkW2kgKyAxXShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBjb25kRm4gPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgc2VsZi5jb25kaXRpb25hbHNbaV0pO1xuXG4gICAgICAgIGlmICghY29uZEZuKGV2YWxMaHMsIGV2YWxSaHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLnBhcmFtcy5mb3JFYWNoKChuLCBpKSA9PiBjYWxsYmFjayhuLCAncGFyYW1zWycgKyBpICsgJ10nLCB0aGlzKSwgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmVsYXRpb25hbE5vZGUgaGF2aW5nIGl0cyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UmVsYXRpb25hbE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUodGhpcy5jb25kaXRpb25hbHMuc2xpY2UoKSwgdGhpcy5wYXJhbXMubWFwKChuLCBpKSA9PiB0aGlzLl9pZk5vZGUoY2FsbGJhY2sobiwgJ3BhcmFtc1snICsgaSArICddJywgdGhpcykpLCB0aGlzKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1JlbGF0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uYWxzLCB0aGlzLnBhcmFtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnKCcgKyBwLnRvU3RyaW5nKG9wdGlvbnMpICsgJyknIDogcC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgb3BlcmF0b3JNYXAgPSB7XG4gICAgICBlcXVhbDogJz09JyxcbiAgICAgIHVuZXF1YWw6ICchPScsXG4gICAgICBzbWFsbGVyOiAnPCcsXG4gICAgICBsYXJnZXI6ICc+JyxcbiAgICAgIHNtYWxsZXJFcTogJzw9JyxcbiAgICAgIGxhcmdlckVxOiAnPj0nXG4gICAgfTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9ICcgJyArIG9wZXJhdG9yTWFwW3RoaXMuY29uZGl0aW9uYWxzW2ldXSArICcgJyArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSZWxhdGlvbmFsTm9kZScsXG4gICAgICBjb25kaXRpb25hbHM6IHRoaXMuY29uZGl0aW9uYWxzLFxuICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFJlbGF0aW9uYWxOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSZWxhdGlvbmFsTm9kZVwiLCBcImNvbmRpdGlvblwiOiAuLi4sIFwidHJ1ZUV4cHJcIjogLi4uLCBcImZhbHNlRXhwclwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UmVsYXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUoanNvbi5jb25kaXRpb25hbHMsIGpzb24ucGFyYW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHAudG9IVE1MKG9wdGlvbnMpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nIDogcC50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIG9wZXJhdG9yTWFwID0ge1xuICAgICAgZXF1YWw6ICc9PScsXG4gICAgICB1bmVxdWFsOiAnIT0nLFxuICAgICAgc21hbGxlcjogJzwnLFxuICAgICAgbGFyZ2VyOiAnPicsXG4gICAgICBzbWFsbGVyRXE6ICc8PScsXG4gICAgICBsYXJnZXJFcTogJz49J1xuICAgIH07XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZShvcGVyYXRvck1hcFt0aGlzLmNvbmRpdGlvbmFsc1tpXV0pICsgJzwvc3Bhbj4nICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICdcXFxcbGVmdCgnICsgcC50b1RleChvcHRpb25zKSArICdcXHJpZ2h0KScgOiBwLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gbGF0ZXhPcGVyYXRvcnNbdGhpcy5jb25kaXRpb25hbHNbaV1dICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHJldHVybiBSZWxhdGlvbmFsTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCB2YWxpZGF0ZVNhZmVNZXRob2QgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZSwgbGF0ZXhGdW5jdGlvbnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG52YXIgbmFtZSA9ICdGdW5jdGlvbk5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aCcsICdOb2RlJywgJ1N5bWJvbE5vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnVuY3Rpb25Ob2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aCxcbiAgICBOb2RlLFxuICAgIFN5bWJvbE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBGdW5jdGlvbk5vZGVcbiAgICogQGV4dGVuZHMgey4vTm9kZX1cbiAgICogaW52b2tlIGEgbGlzdCB3aXRoIGFyZ3VtZW50cyBvbiBhIG5vZGVcbiAgICogQHBhcmFtIHsuL05vZGUgfCBzdHJpbmd9IGZuIE5vZGUgcmVzb2x2aW5nIHdpdGggYSBmdW5jdGlvbiBvbiB3aGljaCB0byBpbnZva2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBhcmd1bWVudHMsIHR5cGljYWxseSBhIFN5bWJvTm9kZSBvciBBY2Nlc3Nvck5vZGVcbiAgICogQHBhcmFtIHsuL05vZGVbXX0gYXJnc1xuICAgKi9cbiAgZnVuY3Rpb24gRnVuY3Rpb25Ob2RlKGZuLCBhcmdzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZuID0gbmV3IFN5bWJvbE5vZGUoZm4pO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKCFpc05vZGUoZm4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGFzIHBhcmFtZXRlciBcImZuXCInKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSB8fCAhYXJncy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJhcmdzXCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy5hcmdzID0gYXJncyB8fCBbXTsgLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZuLm5hbWUgfHwgJyc7XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50eXBlID0gJ0Z1bmN0aW9uTm9kZSc7XG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuaXNGdW5jdGlvbk5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHZhbGlkIEZ1bmN0aW9uTm9kZScpO1xuICAgIH0gLy8gY29tcGlsZSBhcmd1bWVudHNcblxuXG4gICAgdmFyIGV2YWxBcmdzID0gbWFwKHRoaXMuYXJncywgZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNTeW1ib2xOb2RlKHRoaXMuZm4pKSB7XG4gICAgICAvLyB3ZSBjYW4gc3RhdGljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGUgZnVuY3Rpb24gaGFzIGFuIHJhd0FyZ3MgcHJvcGVydHlcbiAgICAgIHZhciBfbmFtZSA9IHRoaXMuZm4ubmFtZTtcbiAgICAgIHZhciBmbiA9IF9uYW1lIGluIG1hdGggPyBnZXRTYWZlUHJvcGVydHkobWF0aCwgX25hbWUpIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGlzUmF3ID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIGZuLnJhd0FyZ3MgPT09IHRydWU7XG5cbiAgICAgIGlmIChpc1Jhdykge1xuICAgICAgICAvLyBwYXNzIHVuZXZhbHVhdGVkIHBhcmFtZXRlcnMgKG5vZGVzKSB0byB0aGUgZnVuY3Rpb25cbiAgICAgICAgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIHZhciByYXdBcmdzID0gdGhpcy5hcmdzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShyYXdBcmdzLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHZhciBldmFsQXJnMCA9IGV2YWxBcmdzWzBdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikoZXZhbEFyZzAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHZhciBfZXZhbEFyZyA9IGV2YWxBcmdzWzBdO1xuICAgICAgICAgIHZhciBldmFsQXJnMSA9IGV2YWxBcmdzWzFdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikoX2V2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsQXJnMShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKS5hcHBseShudWxsLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FjY2Vzc29yTm9kZSh0aGlzLmZuKSAmJiBpc0luZGV4Tm9kZSh0aGlzLmZuLmluZGV4KSAmJiB0aGlzLmZuLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgLy8gZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmlnaHQgY29udGV4dDogdGhlIG9iamVjdCBvZiB0aGUgQWNjZXNzb3JOb2RlXG4gICAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMuZm4ub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgdmFyIHByb3AgPSB0aGlzLmZuLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICB2YXIgX3Jhd0FyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhbGlkYXRlU2FmZU1ldGhvZChvYmplY3QsIHByb3ApO1xuICAgICAgICB2YXIgaXNSYXcgPSBvYmplY3RbcHJvcF0gJiYgb2JqZWN0W3Byb3BdLnJhd0FyZ3M7XG4gICAgICAgIHJldHVybiBpc1JhdyA/IG9iamVjdFtwcm9wXShfcmF3QXJncywgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSkgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIDogb2JqZWN0W3Byb3BdLmFwcGx5KG9iamVjdCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vZGUuZm4uaXNBY2Nlc3Nvck5vZGUgJiYgIW5vZGUuZm4uaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpXG4gICAgICAvLyB3ZSBoYXZlIHRvIGR5bmFtaWNhbGx5IGRldGVybWluZSB3aGV0aGVyIHRoZSBmdW5jdGlvbiBoYXMgYSByYXdBcmdzIHByb3BlcnR5XG4gICAgICB2YXIgZXZhbEZuID0gdGhpcy5mbi5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHZhciBfcmF3QXJnczIgPSB0aGlzLmFyZ3M7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgZm4gPSBldmFsRm4oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaXNSYXcgPSBmbiAmJiBmbi5yYXdBcmdzO1xuICAgICAgICByZXR1cm4gaXNSYXcgPyBmbihfcmF3QXJnczIsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICA6IGZuLmFwcGx5KGZuLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5mbiwgJ2ZuJywgdGhpcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEZ1bmN0aW9uTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Ob2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGZuID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZm4sICdmbicsIHRoaXMpKTtcblxuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUoZm4sIGFyZ3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbk5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZSh0aGlzLmZuLCB0aGlzLmFyZ3Muc2xpY2UoMCkpO1xuICB9OyAvLyBiYWNrdXAgTm9kZSdzIHRvU3RyaW5nIGZ1bmN0aW9uXG4gIC8vIEBwcml2YXRlXG5cblxuICB2YXIgbm9kZVRvU3RyaW5nID0gRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKiBUaGlzIG92ZXJyaWRlcyBwYXJ0cyBvZiBOb2RlJ3MgdG9TdHJpbmcgZnVuY3Rpb24uXG4gICAqIElmIGNhbGxiYWNrIGlzIGFuIG9iamVjdCBjb250YWluaW5nIGNhbGxiYWNrcywgaXRcbiAgICogY2FsbHMgdGhlIGNvcnJlY3QgY2FsbGJhY2sgZm9yIHRoZSBjdXJyZW50IG5vZGUsXG4gICAqIG90aGVyd2lzZSBpdCBmYWxscyBiYWNrIHRvIGNhbGxpbmcgTm9kZSdzIHRvU3RyaW5nXG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcbiAgICB2YXIgbmFtZSA9IHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyID09PSAnb2JqZWN0JyAmJiBoYXNPd25Qcm9wZXJ0eShvcHRpb25zLmhhbmRsZXIsIG5hbWUpKSB7XG4gICAgICAvLyBjYWxsYmFjayBpcyBhIG1hcCBvZiBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcltuYW1lXSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfSAvLyBmYWxsIGJhY2sgdG8gTm9kZSdzIHRvU3RyaW5nXG5cblxuICAgIHJldHVybiBub2RlVG9TdHJpbmcuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIGZuID0gaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMuZm4pID8gJygnICsgdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKSArICcpJyA6IHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucyk7IC8vIGZvcm1hdCB0aGUgYXJndW1lbnRzIGxpa2UgXCJhZGQoMiwgNC4yKVwiXG5cbiAgICByZXR1cm4gZm4gKyAnKCcgKyBhcmdzLmpvaW4oJywgJykgKyAnKSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Z1bmN0aW9uTm9kZScsXG4gICAgICBmbjogdGhpcy5mbixcbiAgICAgIGFyZ3M6IHRoaXMuYXJnc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnVuY3Rpb25Ob2RlXCIsIGZuOiAuLi4sIGFyZ3M6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbk5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZShqc29uLmZuLCBqc29uLmFyZ3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pOyAvLyBmb3JtYXQgdGhlIGFyZ3VtZW50cyBsaWtlIFwiYWRkKDIsIDQuMilcIlxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMuZm4pICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gIH07XG4gIC8qXG4gICAqIEV4cGFuZCBhIExhVGVYIHRlbXBsYXRlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICoqL1xuXG5cbiAgZnVuY3Rpb24gZXhwYW5kVGVtcGxhdGUodGVtcGxhdGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgbGF0ZXggPSAnJzsgLy8gTWF0Y2ggZXZlcnl0aGluZyBvZiB0aGUgZm9ybSAke2lkZW50aWZpZXJ9IG9yICR7aWRlbnRpZmllclsyXX0gb3IgJCRcbiAgICAvLyB3aGlsZSBzdWJtYXRjaGluZyBpZGVudGlmaWVyIGFuZCAyIChpbiB0aGUgc2Vjb25kIGNhc2UpXG5cbiAgICB2YXIgcmVnZXggPSAvXFwkKD86XFx7KFthLXpfXVthLXpfMC05XSopKD86XFxbKFswLTldKylcXF0pP1xcfXxcXCQpL2dpO1xuICAgIHZhciBpbnB1dFBvcyA9IDA7IC8vIHBvc2l0aW9uIGluIHRoZSBpbnB1dCBzdHJpbmdcblxuICAgIHZhciBtYXRjaDtcblxuICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHRlbXBsYXRlKSkgIT09IG51bGwpIHtcbiAgICAgIC8vIGdvIHRocm91Z2ggYWxsIG1hdGNoZXNcbiAgICAgIC8vIGFkZCBldmVyeXRoaW5nIGluIGZyb250IG9mIHRoZSBtYXRjaCB0byB0aGUgTGFUZVggc3RyaW5nXG4gICAgICBsYXRleCArPSB0ZW1wbGF0ZS5zdWJzdHJpbmcoaW5wdXRQb3MsIG1hdGNoLmluZGV4KTtcbiAgICAgIGlucHV0UG9zID0gbWF0Y2guaW5kZXg7XG5cbiAgICAgIGlmIChtYXRjaFswXSA9PT0gJyQkJykge1xuICAgICAgICAvLyBlc2NhcGVkIGRvbGxhciBzaWduXG4gICAgICAgIGxhdGV4ICs9ICckJztcbiAgICAgICAgaW5wdXRQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRlbXBsYXRlIHBhcmFtZXRlclxuICAgICAgICBpbnB1dFBvcyArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IG5vZGVbbWF0Y2hbMV1dO1xuXG4gICAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1RlbXBsYXRlOiBQcm9wZXJ0eSAnICsgbWF0Y2hbMV0gKyAnIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoWzJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBubyBzcXVhcmUgYnJhY2tldHNcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICBpZiAoaXNOb2RlKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5LnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBhcnJheSBvZiBOb2RlcyBpbnRvIGNvbW1hIHNlcGFyYXRlZCBsaXN0XG4gICAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHkubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNOb2RlKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICdbJyArIGluZGV4ICsgJ10gaXMgbm90IGEgTm9kZS4nKTtcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICcgaGFzIHRvIGJlIGEgTm9kZSwgU3RyaW5nIG9yIGFycmF5IG9mIE5vZGVzJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICcgaGFzIHRvIGJlIGEgTm9kZSwgU3RyaW5nIG9yIGFycmF5IG9mIE5vZGVzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdpdGggc3F1YXJlIGJyYWNrZXRzXG4gICAgICAgICAgaWYgKGlzTm9kZShwcm9wZXJ0eVttYXRjaFsyXV0gJiYgcHJvcGVydHlbbWF0Y2hbMl1dKSkge1xuICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHlbbWF0Y2hbMl1dLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJ1snICsgbWF0Y2hbMl0gKyAnXSBpcyBub3QgYSBOb2RlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxhdGV4ICs9IHRlbXBsYXRlLnNsaWNlKGlucHV0UG9zKTsgLy8gYXBwZW5kIHJlc3Qgb2YgdGhlIHRlbXBsYXRlXG5cbiAgICByZXR1cm4gbGF0ZXg7XG4gIH0gLy8gYmFja3VwIE5vZGUncyB0b1RleCBmdW5jdGlvblxuICAvLyBAcHJpdmF0ZVxuXG5cbiAgdmFyIG5vZGVUb1RleCA9IEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9UZXg7XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKiBUaGlzIG92ZXJyaWRlcyBwYXJ0cyBvZiBOb2RlJ3MgdG9UZXggZnVuY3Rpb24uXG4gICAqIElmIGNhbGxiYWNrIGlzIGFuIG9iamVjdCBjb250YWluaW5nIGNhbGxiYWNrcywgaXRcbiAgICogY2FsbHMgdGhlIGNvcnJlY3QgY2FsbGJhY2sgZm9yIHRoZSBjdXJyZW50IG5vZGUsXG4gICAqIG90aGVyd2lzZSBpdCBmYWxscyBiYWNrIHRvIGNhbGxpbmcgTm9kZSdzIHRvVGV4XG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21UZXg7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyID09PSAnb2JqZWN0JyAmJiBoYXNPd25Qcm9wZXJ0eShvcHRpb25zLmhhbmRsZXIsIHRoaXMubmFtZSkpIHtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIGEgbWFwIG9mIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgICAgY3VzdG9tVGV4ID0gb3B0aW9ucy5oYW5kbGVyW3RoaXMubmFtZV0odGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVGV4O1xuICAgIH0gLy8gZmFsbCBiYWNrIHRvIE5vZGUncyB0b1RleFxuXG5cbiAgICByZXR1cm4gbm9kZVRvVGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIC8vIGdldCBMYVRlWCBvZiB0aGUgYXJndW1lbnRzXG4gICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBsYXRleENvbnZlcnRlcjtcblxuICAgIGlmIChsYXRleEZ1bmN0aW9uc1t0aGlzLm5hbWVdKSB7XG4gICAgICBsYXRleENvbnZlcnRlciA9IGxhdGV4RnVuY3Rpb25zW3RoaXMubmFtZV07XG4gICAgfSAvLyB0b1RleCBwcm9wZXJ0eSBvbiB0aGUgZnVuY3Rpb24gaXRzZWxmXG5cblxuICAgIGlmIChtYXRoW3RoaXMubmFtZV0gJiYgKHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAvLyAudG9UZXggaXMgYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgbGF0ZXhDb252ZXJ0ZXIgPSBtYXRoW3RoaXMubmFtZV0udG9UZXg7XG4gICAgfVxuXG4gICAgdmFyIGN1c3RvbVRvVGV4O1xuXG4gICAgc3dpdGNoICh0eXBlb2YgbGF0ZXhDb252ZXJ0ZXIpIHtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgLy8gYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBjdXN0b21Ub1RleCA9IGxhdGV4Q29udmVydGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gYSB0ZW1wbGF0ZSBzdHJpbmdcbiAgICAgICAgY3VzdG9tVG9UZXggPSBleHBhbmRUZW1wbGF0ZShsYXRleENvbnZlcnRlciwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAvLyBhbiBvYmplY3Qgd2l0aCBkaWZmZXJlbnQgXCJjb252ZXJ0ZXJzXCIgZm9yIGRpZmZlcmVudCBudW1iZXJzIG9mIGFyZ3VtZW50c1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0pIHtcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICBjdXN0b21Ub1RleCA9IGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGN1c3RvbVRvVGV4ID0gZXhwYW5kVGVtcGxhdGUobGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRvVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRvVGV4O1xuICAgIH1cblxuICAgIHJldHVybiBleHBhbmRUZW1wbGF0ZShkZWZhdWx0VGVtcGxhdGUsIHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSArICc6JyArIHRoaXMubmFtZTtcbiAgfTtcblxuICByZXR1cm4gRnVuY3Rpb25Ob2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0NvbnN0YW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzT3BlcmF0b3JOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL29iamVjdC5qcyc7XG52YXIgbmFtZSA9ICdwYXJzZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdudW1lcmljJywgJ2NvbmZpZycsICdBY2Nlc3Nvck5vZGUnLCAnQXJyYXlOb2RlJywgJ0Fzc2lnbm1lbnROb2RlJywgJ0Jsb2NrTm9kZScsICdDb25kaXRpb25hbE5vZGUnLCAnQ29uc3RhbnROb2RlJywgJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLCAnRnVuY3Rpb25Ob2RlJywgJ0luZGV4Tm9kZScsICdPYmplY3ROb2RlJywgJ09wZXJhdG9yTm9kZScsICdQYXJlbnRoZXNpc05vZGUnLCAnUmFuZ2VOb2RlJywgJ1JlbGF0aW9uYWxOb2RlJywgJ1N5bWJvbE5vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUGFyc2UgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBudW1lcmljLFxuICAgIGNvbmZpZyxcbiAgICBBY2Nlc3Nvck5vZGUsXG4gICAgQXJyYXlOb2RlLFxuICAgIEFzc2lnbm1lbnROb2RlLFxuICAgIEJsb2NrTm9kZSxcbiAgICBDb25kaXRpb25hbE5vZGUsXG4gICAgQ29uc3RhbnROb2RlLFxuICAgIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUsXG4gICAgRnVuY3Rpb25Ob2RlLFxuICAgIEluZGV4Tm9kZSxcbiAgICBPYmplY3ROb2RlLFxuICAgIE9wZXJhdG9yTm9kZSxcbiAgICBQYXJlbnRoZXNpc05vZGUsXG4gICAgUmFuZ2VOb2RlLFxuICAgIFJlbGF0aW9uYWxOb2RlLFxuICAgIFN5bWJvbE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFBhcnNlIGFuIGV4cHJlc3Npb24uIFJldHVybnMgYSBub2RlIHRyZWUsIHdoaWNoIGNhbiBiZSBldmFsdWF0ZWQgYnlcbiAgICogaW52b2tpbmcgbm9kZS5ldmFsdWF0ZSgpLlxuICAgKlxuICAgKiBOb3RlIHRoZSBldmFsdWF0aW5nIGFyYml0cmFyeSBleHByZXNzaW9ucyBtYXkgaW52b2x2ZSBzZWN1cml0eSByaXNrcyxcbiAgICogc2VlIFtodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sXShodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5wYXJzZShleHByKVxuICAgKiAgICAgbWF0aC5wYXJzZShleHByLCBvcHRpb25zKVxuICAgKiAgICAgbWF0aC5wYXJzZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSlcbiAgICogICAgIG1hdGgucGFyc2UoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0sIG9wdGlvbnMpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgICBjb25zdCBub2RlMSA9IG1hdGgucGFyc2UoJ3NxcnQoM14yICsgNF4yKScpXG4gICAqICAgICBub2RlMS5jb21waWxlKCkuZXZhbHVhdGUoKSAvLyA1XG4gICAqXG4gICAqICAgICBsZXQgc2NvcGUgPSB7YTozLCBiOjR9XG4gICAqICAgICBjb25zdCBub2RlMiA9IG1hdGgucGFyc2UoJ2EgKiBiJykgLy8gMTJcbiAgICogICAgIGNvbnN0IGNvZGUyID0gbm9kZTIuY29tcGlsZSgpXG4gICAqICAgICBjb2RlMi5ldmFsdWF0ZShzY29wZSkgLy8gMTJcbiAgICogICAgIHNjb3BlLmEgPSA1XG4gICAqICAgICBjb2RlMi5ldmFsdWF0ZShzY29wZSkgLy8gMjBcbiAgICpcbiAgICogICAgIGNvbnN0IG5vZGVzID0gbWF0aC5wYXJzZShbJ2EgPSAzJywgJ2IgPSA0JywgJ2EgKiBiJ10pXG4gICAqICAgICBub2Rlc1syXS5jb21waWxlKCkuZXZhbHVhdGUoKSAvLyAxMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIGV2YWx1YXRlLCBjb21waWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBNYXRyaXh9IGV4cHIgICAgICAgICAgRXhwcmVzc2lvbiB0byBiZSBwYXJzZWRcbiAgICogQHBhcmFtIHt7bm9kZXM6IE9iamVjdDxzdHJpbmcsIE5vZGU+fX0gW29wdGlvbnNdICBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBub2Rlc2AgYSBzZXQgb2YgY3VzdG9tIG5vZGVzXG4gICAqIEByZXR1cm4ge05vZGUgfCBOb2RlW119IG5vZGVcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICB2YXIgcGFyc2UgPSB0eXBlZChuYW1lLCB7XG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwge30pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoZXhwcmVzc2lvbnMpIHtcbiAgICAgIHJldHVybiBwYXJzZU11bHRpcGxlKGV4cHJlc3Npb25zLCB7fSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdPYmplY3QoZXhwcmVzc2lvbiwgb3B0aW9ucykge1xuICAgICAgdmFyIGV4dHJhTm9kZXMgPSBvcHRpb25zLm5vZGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5vZGVzIDoge307XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChleHByZXNzaW9uLCBleHRyYU5vZGVzKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgT2JqZWN0JzogcGFyc2VNdWx0aXBsZVxuICB9KTtcblxuICBmdW5jdGlvbiBwYXJzZU11bHRpcGxlKGV4cHJlc3Npb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBleHRyYU5vZGVzID0gb3B0aW9ucy5ub2RlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5ub2RlcyA6IHt9OyAvLyBwYXJzZSBhbiBhcnJheSBvciBtYXRyaXggd2l0aCBleHByZXNzaW9uc1xuXG4gICAgcmV0dXJuIGRlZXBNYXAoZXhwcmVzc2lvbnMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICBpZiAodHlwZW9mIGVsZW0gIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGVsZW0sIGV4dHJhTm9kZXMpO1xuICAgIH0pO1xuICB9IC8vIHRva2VuIHR5cGVzIGVudW1lcmF0aW9uXG5cblxuICB2YXIgVE9LRU5UWVBFID0ge1xuICAgIE5VTEw6IDAsXG4gICAgREVMSU1JVEVSOiAxLFxuICAgIE5VTUJFUjogMixcbiAgICBTWU1CT0w6IDMsXG4gICAgVU5LTk9XTjogNFxuICB9OyAvLyBtYXAgd2l0aCBhbGwgZGVsaW1pdGVyc1xuXG4gIHZhciBERUxJTUlURVJTID0ge1xuICAgICcsJzogdHJ1ZSxcbiAgICAnKCc6IHRydWUsXG4gICAgJyknOiB0cnVlLFxuICAgICdbJzogdHJ1ZSxcbiAgICAnXSc6IHRydWUsXG4gICAgJ3snOiB0cnVlLFxuICAgICd9JzogdHJ1ZSxcbiAgICAnXCInOiB0cnVlLFxuICAgICdcXCcnOiB0cnVlLFxuICAgICc7JzogdHJ1ZSxcbiAgICAnKyc6IHRydWUsXG4gICAgJy0nOiB0cnVlLFxuICAgICcqJzogdHJ1ZSxcbiAgICAnLionOiB0cnVlLFxuICAgICcvJzogdHJ1ZSxcbiAgICAnLi8nOiB0cnVlLFxuICAgICclJzogdHJ1ZSxcbiAgICAnXic6IHRydWUsXG4gICAgJy5eJzogdHJ1ZSxcbiAgICAnfic6IHRydWUsXG4gICAgJyEnOiB0cnVlLFxuICAgICcmJzogdHJ1ZSxcbiAgICAnfCc6IHRydWUsXG4gICAgJ158JzogdHJ1ZSxcbiAgICAnPSc6IHRydWUsXG4gICAgJzonOiB0cnVlLFxuICAgICc/JzogdHJ1ZSxcbiAgICAnPT0nOiB0cnVlLFxuICAgICchPSc6IHRydWUsXG4gICAgJzwnOiB0cnVlLFxuICAgICc+JzogdHJ1ZSxcbiAgICAnPD0nOiB0cnVlLFxuICAgICc+PSc6IHRydWUsXG4gICAgJzw8JzogdHJ1ZSxcbiAgICAnPj4nOiB0cnVlLFxuICAgICc+Pj4nOiB0cnVlXG4gIH07IC8vIG1hcCB3aXRoIGFsbCBuYW1lZCBkZWxpbWl0ZXJzXG5cbiAgdmFyIE5BTUVEX0RFTElNSVRFUlMgPSB7XG4gICAgbW9kOiB0cnVlLFxuICAgIHRvOiB0cnVlLFxuICAgIGluOiB0cnVlLFxuICAgIGFuZDogdHJ1ZSxcbiAgICB4b3I6IHRydWUsXG4gICAgb3I6IHRydWUsXG4gICAgbm90OiB0cnVlXG4gIH07XG4gIHZhciBDT05TVEFOVFMgPSB7XG4gICAgdHJ1ZTogdHJ1ZSxcbiAgICBmYWxzZTogZmFsc2UsXG4gICAgbnVsbDogbnVsbCxcbiAgICB1bmRlZmluZWQ6IHVuZGVmaW5lZFxuICB9O1xuICB2YXIgTlVNRVJJQ19DT05TVEFOVFMgPSBbJ05hTicsICdJbmZpbml0eSddO1xuXG4gIGZ1bmN0aW9uIGluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXh0cmFOb2Rlczoge30sXG4gICAgICAvLyBjdXJyZW50IGV4dHJhIG5vZGVzLCBtdXN0IGJlIGNhcmVmdWwgbm90IHRvIG11dGF0ZVxuICAgICAgZXhwcmVzc2lvbjogJycsXG4gICAgICAvLyBjdXJyZW50IGV4cHJlc3Npb25cbiAgICAgIGNvbW1lbnQ6ICcnLFxuICAgICAgLy8gbGFzdCBwYXJzZWQgY29tbWVudFxuICAgICAgaW5kZXg6IDAsXG4gICAgICAvLyBjdXJyZW50IGluZGV4IGluIGV4cHJcbiAgICAgIHRva2VuOiAnJyxcbiAgICAgIC8vIGN1cnJlbnQgdG9rZW5cbiAgICAgIHRva2VuVHlwZTogVE9LRU5UWVBFLk5VTEwsXG4gICAgICAvLyB0eXBlIG9mIHRoZSB0b2tlblxuICAgICAgbmVzdGluZ0xldmVsOiAwLFxuICAgICAgLy8gbGV2ZWwgb2YgbmVzdGluZyBpbnNpZGUgcGFyYW1ldGVycywgdXNlZCB0byBpZ25vcmUgbmV3bGluZSBjaGFyYWN0ZXJzXG4gICAgICBjb25kaXRpb25hbExldmVsOiBudWxsIC8vIHdoZW4gYSBjb25kaXRpb25hbCBpcyBiZWluZyBwYXJzZWQsIHRoZSBsZXZlbCBvZiB0aGUgY29uZGl0aW9uYWwgaXMgc3RvcmVkIGhlcmVcblxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFZpZXcgdXB0byBgbGVuZ3RoYCBjaGFyYWN0ZXJzIG9mIHRoZSBleHByZXNzaW9uIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTFdIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHZpZXdcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjdXJyZW50U3RyaW5nKHN0YXRlLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5zdWJzdHIoc3RhdGUuaW5kZXgsIGxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIFZpZXcgdGhlIGN1cnJlbnQgY2hhcmFjdGVyLiBSZXR1cm5zICcnIGlmIGVuZCBvZiBleHByZXNzaW9uIGlzIHJlYWNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gY3VycmVudFN0cmluZyhzdGF0ZSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogVGhlIGNoYXJhY3RlciBpcyBzdG9yZWQgaW50byB0aGUgY2hhciBjLiBJZiB0aGUgZW5kIG9mIHRoZSBleHByZXNzaW9uIGlzXG4gICAqIHJlYWNoZWQsIHRoZSBmdW5jdGlvbiBwdXRzIGFuIGVtcHR5IHN0cmluZyBpbiBjLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5leHQoc3RhdGUpIHtcbiAgICBzdGF0ZS5pbmRleCsrO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2aWV3IHRoZSBwcmV2aW91cyBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHByZXZDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5jaGFyQXQoc3RhdGUuaW5kZXggLSAxKTtcbiAgfVxuICAvKipcbiAgICogUHJldmlldyB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5leHRDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5jaGFyQXQoc3RhdGUuaW5kZXggKyAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG5leHQgdG9rZW4gaW4gdGhlIGN1cnJlbnQgc3RyaW5nIGV4cHIuXG4gICAqIFRoZSB0b2tlbiBhbmQgdG9rZW4gdHlwZSBhcmUgYXZhaWxhYmxlIGFzIHRva2VuIGFuZCB0b2tlblR5cGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRUb2tlbihzdGF0ZSkge1xuICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5OVUxMO1xuICAgIHN0YXRlLnRva2VuID0gJyc7XG4gICAgc3RhdGUuY29tbWVudCA9ICcnOyAvLyBza2lwIG92ZXIgd2hpdGVzcGFjZXNcbiAgICAvLyBzcGFjZSwgdGFiLCBhbmQgbmV3bGluZSB3aGVuIGluc2lkZSBwYXJhbWV0ZXJzXG5cbiAgICB3aGlsZSAocGFyc2UuaXNXaGl0ZXNwYWNlKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBzdGF0ZS5uZXN0aW5nTGV2ZWwpKSB7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9IC8vIHNraXAgY29tbWVudFxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcjJykge1xuICAgICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXFxuJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycpIHtcbiAgICAgICAgc3RhdGUuY29tbWVudCArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG4gICAgfSAvLyBjaGVjayBmb3IgZW5kIG9mIGV4cHJlc3Npb25cblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnJykge1xuICAgICAgLy8gdG9rZW4gaXMgc3RpbGwgZW1wdHlcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgbmV3IGxpbmUgY2hhcmFjdGVyXG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcbicgJiYgIXN0YXRlLm5lc3RpbmdMZXZlbCkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYzEgPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICB2YXIgYzIgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAyKTtcbiAgICB2YXIgYzMgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAzKTtcblxuICAgIGlmIChjMy5sZW5ndGggPT09IDMgJiYgREVMSU1JVEVSU1tjM10pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMzO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGRlbGltaXRlcnMgY29uc2lzdGluZyBvZiAyIGNoYXJhY3RlcnNcblxuXG4gICAgaWYgKGMyLmxlbmd0aCA9PT0gMiAmJiBERUxJTUlURVJTW2MyXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzI7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGRlbGltaXRlcnMgY29uc2lzdGluZyBvZiAxIGNoYXJhY3RlclxuXG5cbiAgICBpZiAoREVMSU1JVEVSU1tjMV0pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMxO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgYSBudW1iZXJcblxuXG4gICAgaWYgKHBhcnNlLmlzRGlnaXREb3QoYzEpKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuTlVNQkVSOyAvLyBjaGVjayBmb3IgYmluYXJ5LCBvY3RhbCwgb3IgaGV4XG5cbiAgICAgIHZhciBfYyA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDIpO1xuXG4gICAgICBpZiAoX2MgPT09ICcwYicgfHwgX2MgPT09ICcwbycgfHwgX2MgPT09ICcweCcpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgd2hpbGUgKHBhcnNlLmlzSGV4RGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGdldCBudW1iZXIsIGNhbiBoYXZlIGEgc2luZ2xlIGRvdFxuXG5cbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy4nKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICBpZiAoIXBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBubyBudW1iZXIsIGl0IGlzIGp1c3QgYSBkb3QgKGNhbiBiZSBkb3Qgbm90YXRpb24pXG4gICAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2UuaXNEZWNpbWFsTWFyayhjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH0gLy8gY2hlY2sgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uIGxpa2UgXCIyLjNlLTRcIiwgXCIxLjIzZTUwXCIgb3IgXCIyZSs0XCJcblxuXG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdFJyB8fCBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ2UnKSB7XG4gICAgICAgIGlmIChwYXJzZS5pc0RpZ2l0KG5leHRDaGFyYWN0ZXIoc3RhdGUpKSB8fCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy0nIHx8IG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnKycpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJysnIHx8IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLScpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgfSAvLyBTY2llbnRpZmljIG5vdGF0aW9uIE1VU1QgYmUgZm9sbG93ZWQgYnkgYW4gZXhwb25lbnRcblxuXG4gICAgICAgICAgaWYgKCFwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJzZS5pc0RlY2ltYWxNYXJrKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy4nKSB7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIHZhcmlhYmxlcywgZnVuY3Rpb25zLCBuYW1lZCBvcGVyYXRvcnNcblxuXG4gICAgaWYgKHBhcnNlLmlzQWxwaGEoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHByZXZDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgIHdoaWxlIChwYXJzZS5pc0FscGhhKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBwcmV2Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpIHx8IHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5KE5BTUVEX0RFTElNSVRFUlMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLlNZTUJPTDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc29tZXRoaW5nIHVua25vd24gaXMgZm91bmQsIHdyb25nIGNoYXJhY3RlcnMgLT4gYSBzeW50YXggZXJyb3JcblxuXG4gICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLlVOS05PV047XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnKSB7XG4gICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnU3ludGF4IGVycm9yIGluIHBhcnQgXCInICsgc3RhdGUudG9rZW4gKyAnXCInKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG5leHQgdG9rZW4gYW5kIHNraXAgbmV3bGluZSB0b2tlbnNcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKSB7XG4gICAgZG8ge1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIH0gd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXFxuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuXG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcGFyYW1ldGVycy5cbiAgICogTmV3IGxpbmUgY2hhcmFjdGVycyB3aWxsIGJlIGlnbm9yZWQgdW50aWwgY2xvc2VQYXJhbXMoc3RhdGUpIGlzIGNhbGxlZFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9wZW5QYXJhbXMoc3RhdGUpIHtcbiAgICBzdGF0ZS5uZXN0aW5nTGV2ZWwrKztcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgcGFyYW1ldGVycy5cbiAgICogTmV3IGxpbmUgY2hhcmFjdGVycyB3aWxsIG5vIGxvbmdlciBiZSBpZ25vcmVkXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2xvc2VQYXJhbXMoc3RhdGUpIHtcbiAgICBzdGF0ZS5uZXN0aW5nTGV2ZWwtLTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGBjYCBpcyBhIHZhbGlkIGFscGhhIGNoYXJhY3RlcjpcbiAgICpcbiAgICogLSBBIGxhdGluIGxldHRlciAodXBwZXIgb3IgbG93ZXIgY2FzZSkgQXNjaWk6IGEteiwgQS1aXG4gICAqIC0gQW4gdW5kZXJzY29yZSAgICAgICAgICAgICAgICAgICAgICAgIEFzY2lpOiBfXG4gICAqIC0gQSBkb2xsYXIgc2lnbiAgICAgICAgICAgICAgICAgICAgICAgIEFzY2lpOiAkXG4gICAqIC0gQSBsYXRpbiBsZXR0ZXIgd2l0aCBhY2NlbnRzICAgICAgICAgIFVuaWNvZGU6IFxcdTAwQzAgLSBcXHUwMkFGXG4gICAqIC0gQSBncmVlayBsZXR0ZXIgICAgICAgICAgICAgICAgICAgICAgIFVuaWNvZGU6IFxcdTAzNzAgLSBcXHUwM0ZGXG4gICAqIC0gQSBtYXRoZW1hdGljYWwgYWxwaGFudW1lcmljIHN5bWJvbCAgIFVuaWNvZGU6IFxcdXsxRDQwMH0gLSBcXHV7MUQ3RkZ9IGV4Y2x1ZGluZyBpbnZhbGlkIGNvZGUgcG9pbnRzXG4gICAqXG4gICAqIFRoZSBwcmV2aW91cyBhbmQgbmV4dCBjaGFyYWN0ZXJzIGFyZSBuZWVkZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXJcbiAgICogdGhpcyBjaGFyYWN0ZXIgaXMgcGFydCBvZiBhIHVuaWNvZGUgc3Vycm9nYXRlIHBhaXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgICAgQ3VycmVudCBjaGFyYWN0ZXIgaW4gdGhlIGV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNQcmV2ICBQcmV2aW91cyBjaGFyYWN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNOZXh0ICBOZXh0IGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzQWxwaGEgPSBmdW5jdGlvbiBpc0FscGhhKGMsIGNQcmV2LCBjTmV4dCkge1xuICAgIHJldHVybiBwYXJzZS5pc1ZhbGlkTGF0aW5PckdyZWVrKGMpIHx8IHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sKGMsIGNOZXh0KSB8fCBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbChjUHJldiwgYyk7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBsYXRpbiwgZ3JlZWssIG9yIGxldHRlci1saWtlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzVmFsaWRMYXRpbk9yR3JlZWsgPSBmdW5jdGlvbiBpc1ZhbGlkTGF0aW5PckdyZWVrKGMpIHtcbiAgICByZXR1cm4gL15bYS16QS1aXyRcXHUwMEMwLVxcdTAyQUZcXHUwMzcwLVxcdTAzRkZcXHUyMTAwLVxcdTIxNEZdJC8udGVzdChjKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gZ2l2ZW4gMTYgYml0IGNoYXJhY3RlcnMgZm9ybSBhIHN1cnJvZ2F0ZSBwYWlyIG9mIGFcbiAgICogdW5pY29kZSBtYXRoIHN5bWJvbC5cbiAgICpcbiAgICogaHR0cHM6Ly91bmljb2RlLXRhYmxlLmNvbS9lbi9cbiAgICogaHR0cHM6Ly93d3cud2lraXdhbmQuY29tL2VuL01hdGhlbWF0aWNhbF9vcGVyYXRvcnNfYW5kX3N5bWJvbHNfaW5fVW5pY29kZVxuICAgKlxuICAgKiBOb3RlOiBJbiBFUzYgd2lsbCBiZSB1bmljb2RlIGF3YXJlOlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODA3MTIvamF2YXNjcmlwdC11bmljb2RlLXJlZ2V4ZXNcbiAgICogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2VzNi11bmljb2RlLXJlZ2V4XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoaWdoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb3dcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbCA9IGZ1bmN0aW9uIGlzVmFsaWRNYXRoU3ltYm9sKGhpZ2gsIGxvdykge1xuICAgIHJldHVybiAvXltcXHVEODM1XSQvLnRlc3QoaGlnaCkgJiYgL15bXFx1REMwMC1cXHVERkZGXSQvLnRlc3QobG93KSAmJiAvXlteXFx1REM1NVxcdURDOURcXHVEQ0EwXFx1RENBMVxcdURDQTNcXHVEQ0E0XFx1RENBN1xcdURDQThcXHVEQ0FEXFx1RENCQVxcdURDQkNcXHVEQ0M0XFx1REQwNlxcdUREMEJcXHVERDBDXFx1REQxNVxcdUREMURcXHVERDNBXFx1REQzRlxcdURENDVcXHVERDQ3LVxcdURENDlcXHVERDUxXFx1REVBNlxcdURFQTdcXHVERkNDXFx1REZDRF0kLy50ZXN0KGxvdyk7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGdpdmVuIGNoYXJhY3RlciBjIGlzIGEgd2hpdGUgc3BhY2UgY2hhcmFjdGVyOiBzcGFjZSwgdGFiLCBvciBlbnRlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcGFyYW0ge251bWJlcn0gbmVzdGluZ0xldmVsXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNXaGl0ZXNwYWNlID0gZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGMsIG5lc3RpbmdMZXZlbCkge1xuICAgIC8vIFRPRE86IGFsc28gdGFrZSAnXFxyJyBjYXJyaWFnZSByZXR1cm4gYXMgbmV3bGluZT8gT3IgZG9lcyB0aGF0IGdpdmUgcHJvYmxlbXMgb24gbWFjP1xuICAgIHJldHVybiBjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcgfHwgYyA9PT0gJ1xcbicgJiYgbmVzdGluZ0xldmVsID4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGUgY2hhcmFjdGVyIGMgaXMgYSBkZWNpbWFsIG1hcmsgKGRvdCkuXG4gICAqIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpdCdzIG5vdCB0aGUgc3RhcnQgb2YgYSBkZWxpbWl0ZXIgJy4qJywgJy4vJywgb3IgJy5eJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gY05leHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RlY2ltYWxNYXJrID0gZnVuY3Rpb24gaXNEZWNpbWFsTWFyayhjLCBjTmV4dCkge1xuICAgIHJldHVybiBjID09PSAnLicgJiYgY05leHQgIT09ICcvJyAmJiBjTmV4dCAhPT0gJyonICYmIGNOZXh0ICE9PSAnXic7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGRpZ2l0IG9yIGRvdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGlnaXREb3QgPSBmdW5jdGlvbiBpc0RpZ2l0RG90KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA9PT0gJy4nO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBkaWdpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGlnaXQgPSBmdW5jdGlvbiBpc0RpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOSc7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGhleCBkaWdpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzSGV4RGlnaXQgPSBmdW5jdGlvbiBpc0hleERpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA+PSAnYScgJiYgYyA8PSAnZicgfHwgYyA+PSAnQScgJiYgYyA8PSAnRic7XG4gIH07XG4gIC8qKlxuICAgKiBTdGFydCBvZiB0aGUgcGFyc2UgbGV2ZWxzIGJlbG93LCBpbiBvcmRlciBvZiBwcmVjZWRlbmNlXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIGV4dHJhTm9kZXMpIHtcbiAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGUoKTtcblxuICAgIF9leHRlbmRzKHN0YXRlLCB7XG4gICAgICBleHByZXNzaW9uLFxuICAgICAgZXh0cmFOb2Rlc1xuICAgIH0pO1xuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHZhciBub2RlID0gcGFyc2VCbG9jayhzdGF0ZSk7IC8vIGNoZWNrIGZvciBnYXJiYWdlIGF0IHRoZSBlbmQgb2YgdGhlIGV4cHJlc3Npb25cbiAgICAvLyBhbiBleHByZXNzaW9uIGVuZHMgd2l0aCBhIGVtcHR5IGNoYXJhY3RlciAnJyBhbmQgdG9rZW5UeXBlIERFTElNSVRFUlxuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnJykge1xuICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUikge1xuICAgICAgICAvLyB1c2VyIGVudGVyZWQgYSBub3QgZXhpc3Rpbmcgb3BlcmF0b3IgbGlrZSBcIi8vXCJcbiAgICAgICAgLy8gVE9ETzogZ2l2ZSBoaW50cyBmb3IgYWxpYXNlcywgZm9yIGV4YW1wbGUgd2l0aCBcIjw+XCIgZ2l2ZSBhcyBoaW50IFwiIGRpZCB5b3UgbWVhbiAhPT0gP1wiXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBvcGVyYXRvciAnICsgc3RhdGUudG9rZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIHBhcnQgXCInICsgc3RhdGUudG9rZW4gKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBibG9jayB3aXRoIGV4cHJlc3Npb25zLiBFeHByZXNzaW9ucyBjYW4gYmUgc2VwYXJhdGVkIGJ5IGEgbmV3bGluZVxuICAgKiBjaGFyYWN0ZXIgJ1xcbicsIG9yIGJ5IGEgc2VtaWNvbG9uICc7Jy4gSW4gY2FzZSBvZiBhIHNlbWljb2xvbiwgbm8gb3V0cHV0XG4gICAqIG9mIHRoZSBwcmVjZWRpbmcgbGluZSBpcyByZXR1cm5lZC5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQmxvY2soc3RhdGUpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB2YXIgYmxvY2tzID0gW107XG4gICAgdmFyIHZpc2libGU7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcnICYmIHN0YXRlLnRva2VuICE9PSAnXFxuJyAmJiBzdGF0ZS50b2tlbiAhPT0gJzsnKSB7XG4gICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgfSAvLyBUT0RPOiBzaW1wbGlmeSB0aGlzIGxvb3BcblxuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXFxuJyB8fCBzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwICYmIG5vZGUpIHtcbiAgICAgICAgdmlzaWJsZSA9IHN0YXRlLnRva2VuICE9PSAnOyc7XG4gICAgICAgIGJsb2Nrcy5wdXNoKHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXFxuJyAmJiBzdGF0ZS50b2tlbiAhPT0gJzsnICYmIHN0YXRlLnRva2VuICE9PSAnJykge1xuICAgICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICAgICAgdmlzaWJsZSA9IHN0YXRlLnRva2VuICE9PSAnOyc7XG4gICAgICAgIGJsb2Nrcy5wdXNoKHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJsb2Nrcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUodW5kZWZpbmVkKTtcbiAgICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBc3NpZ25tZW50IG9mIGEgZnVuY3Rpb24gb3IgdmFyaWFibGUsXG4gICAqIC0gY2FuIGJlIGEgdmFyaWFibGUgbGlrZSAnYT0yLjMnXG4gICAqIC0gb3IgYSB1cGRhdGluZyBhbiBleGlzdGluZyB2YXJpYWJsZSBsaWtlICdtYXRyaXgoMiwzOjUpPVs2LDcsOF0nXG4gICAqIC0gZGVmaW5pbmcgYSBmdW5jdGlvbiBsaWtlICdmKHgpID0geF4yJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBc3NpZ25tZW50KHN0YXRlKSB7XG4gICAgdmFyIG5hbWUsIGFyZ3MsIHZhbHVlLCB2YWxpZDtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQ29uZGl0aW9uYWwoc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnPScpIHtcbiAgICAgIGlmIChpc1N5bWJvbE5vZGUobm9kZSkpIHtcbiAgICAgICAgLy8gcGFyc2UgYSB2YXJpYWJsZSBhc3NpZ25tZW50IGxpa2UgJ2EgPSAyLzMnXG4gICAgICAgIG5hbWUgPSBub2RlLm5hbWU7XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUobmFtZSksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBY2Nlc3Nvck5vZGUobm9kZSkpIHtcbiAgICAgICAgLy8gcGFyc2UgYSBtYXRyaXggc3Vic2V0IGFzc2lnbm1lbnQgbGlrZSAnQVsxLDJdID0gNCdcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShub2RlLm9iamVjdCwgbm9kZS5pbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uTm9kZShub2RlKSAmJiBpc1N5bWJvbE5vZGUobm9kZS5mbikpIHtcbiAgICAgICAgLy8gcGFyc2UgZnVuY3Rpb24gYXNzaWdubWVudCBsaWtlICdmKHgpID0geF4yJ1xuICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgbmFtZSA9IG5vZGUubmFtZTtcbiAgICAgICAgbm9kZS5hcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaXNTeW1ib2xOb2RlKGFyZykpIHtcbiAgICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJnLm5hbWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKG5hbWUsIGFyZ3MsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0ludmFsaWQgbGVmdCBoYW5kIHNpZGUgb2YgYXNzaWdubWVudCBvcGVyYXRvciA9Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGNvbmRpdGlvbmFsIG9wZXJhdGlvblxuICAgKlxuICAgKiAgICAgY29uZGl0aW9uID8gdHJ1ZVBhcnQgOiBmYWxzZVBhcnRcbiAgICpcbiAgICogTm90ZTogY29uZGl0aW9uYWwgb3BlcmF0b3IgaXMgcmlnaHQtYXNzb2NpYXRpdmVcbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ29uZGl0aW9uYWwoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbE9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJz8nKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIC8vIHNldCBhIGNvbmRpdGlvbmFsIGxldmVsLCB0aGUgcmFuZ2Ugb3BlcmF0b3Igd2lsbCBiZSBpZ25vcmVkIGFzIGxvbmdcbiAgICAgIC8vIGFzIGNvbmRpdGlvbmFsTGV2ZWwgPT09IHN0YXRlLm5lc3RpbmdMZXZlbC5cbiAgICAgIHZhciBwcmV2ID0gc3RhdGUuY29uZGl0aW9uYWxMZXZlbDtcbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBzdGF0ZS5uZXN0aW5nTGV2ZWw7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHZhciBjb25kaXRpb24gPSBub2RlO1xuICAgICAgdmFyIHRydWVFeHByID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJzonKSB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0ZhbHNlIHBhcnQgb2YgY29uZGl0aW9uYWwgZXhwcmVzc2lvbiBleHBlY3RlZCcpO1xuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IG51bGw7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHZhciBmYWxzZUV4cHIgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpOyAvLyBOb3RlOiBjaGVjayBmb3IgY29uZGl0aW9uYWwgb3BlcmF0b3IgYWdhaW4sIHJpZ2h0IGFzc29jaWF0aXZpdHlcblxuICAgICAgbm9kZSA9IG5ldyBDb25kaXRpb25hbE5vZGUoY29uZGl0aW9uLCB0cnVlRXhwciwgZmFsc2VFeHByKTsgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgY29uZGl0aW9uYWwgbGV2ZWxcblxuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IHByZXY7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgb3IsICd4IG9yIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxPcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsWG9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ29yJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdvcicsICdvcicsIFtub2RlLCBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgZXhjbHVzaXZlIG9yLCAneCB4b3IgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbFhvcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsQW5kKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ3hvcicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgneG9yJywgJ3hvcicsIFtub2RlLCBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgYW5kLCAneCBhbmQgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbEFuZChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlT3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnYW5kJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdhbmQnLCAnYW5kJywgW25vZGUsIHBhcnNlQml0d2lzZU9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIG9yLCAneCB8IHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VPcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlWG9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ3wnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ3wnLCAnYml0T3InLCBbbm9kZSwgcGFyc2VCaXR3aXNlWG9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIGV4Y2x1c2l2ZSBvciAoeG9yKSwgJ3ggXnwgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZVhvcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlQW5kKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ158Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdefCcsICdiaXRYb3InLCBbbm9kZSwgcGFyc2VCaXR3aXNlQW5kKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIGFuZCwgJ3ggJiB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlQW5kKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnJicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnJicsICdiaXRBbmQnLCBbbm9kZSwgcGFyc2VSZWxhdGlvbmFsKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGNoYWluZWQgY29uZGl0aW9uYWwsIGxpa2UgJ2EgPiBiID49IGMnXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW3BhcnNlU2hpZnQoc3RhdGUpXTtcbiAgICB2YXIgY29uZGl0aW9uYWxzID0gW107XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICc9PSc6ICdlcXVhbCcsXG4gICAgICAnIT0nOiAndW5lcXVhbCcsXG4gICAgICAnPCc6ICdzbWFsbGVyJyxcbiAgICAgICc+JzogJ2xhcmdlcicsXG4gICAgICAnPD0nOiAnc21hbGxlckVxJyxcbiAgICAgICc+PSc6ICdsYXJnZXJFcSdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIHZhciBjb25kID0ge1xuICAgICAgICBuYW1lOiBzdGF0ZS50b2tlbixcbiAgICAgICAgZm46IG9wZXJhdG9yc1tzdGF0ZS50b2tlbl1cbiAgICAgIH07XG4gICAgICBjb25kaXRpb25hbHMucHVzaChjb25kKTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zLnB1c2gocGFyc2VTaGlmdChzdGF0ZSkpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gcGFyYW1zWzBdO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMikge1xuICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUoY29uZGl0aW9uYWxzWzBdLm5hbWUsIGNvbmRpdGlvbmFsc1swXS5mbiwgcGFyYW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZShjb25kaXRpb25hbHMubWFwKGMgPT4gYy5mbiksIHBhcmFtcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBCaXR3aXNlIGxlZnQgc2hpZnQsIGJpdHdpc2UgcmlnaHQgYXJpdGhtZXRpYyBzaGlmdCwgYml0d2lzZSByaWdodCBsb2dpY2FsIHNoaWZ0XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNoaWZ0KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlQ29udmVyc2lvbihzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICc8PCc6ICdsZWZ0U2hpZnQnLFxuICAgICAgJz4+JzogJ3JpZ2h0QXJpdGhTaGlmdCcsXG4gICAgICAnPj4+JzogJ3JpZ2h0TG9nU2hpZnQnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZUNvbnZlcnNpb24oc3RhdGUpXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBjb252ZXJzaW9uIG9wZXJhdG9ycyAndG8nIGFuZCAnaW4nXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUNvbnZlcnNpb24oc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VSYW5nZShzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgIHRvOiAndG8nLFxuICAgICAgaW46ICd0bycgLy8gYWxpYXMgb2YgJ3RvJ1xuXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcblxuICAgICAgaWYgKG5hbWUgPT09ICdpbicgJiYgc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAgIC8vIGVuZCBvZiBleHByZXNzaW9uIC0+IHRoaXMgaXMgdGhlIHVuaXQgJ2luJyAoJ2luY2gnKVxuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnKicsICdtdWx0aXBseScsIFtub2RlLCBuZXcgU3ltYm9sTm9kZSgnaW4nKV0sIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb3BlcmF0b3IgJ2EgdG8gYicgb3IgJ2EgaW4gYidcbiAgICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlUmFuZ2Uoc3RhdGUpXTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHJhbmdlLCBcInN0YXJ0OmVuZFwiLCBcInN0YXJ0OnN0ZXA6ZW5kXCIsIFwiOlwiLCBcInN0YXJ0OlwiLCBcIjplbmRcIiwgZXRjXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJhbmdlKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnOicpIHtcbiAgICAgIC8vIGltcGxpY2l0IHN0YXJ0PTEgKG9uZS1iYXNlZClcbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBleHBsaWNpdCBzdGFydFxuICAgICAgbm9kZSA9IHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzonICYmIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgIT09IHN0YXRlLm5lc3RpbmdMZXZlbCkge1xuICAgICAgLy8gd2UgaWdub3JlIHRoZSByYW5nZSBvcGVyYXRvciB3aGVuIGEgY29uZGl0aW9uYWwgb3BlcmF0b3IgaXMgYmVpbmcgcHJvY2Vzc2VkIG9uIHRoZSBzYW1lIGxldmVsXG4gICAgICBwYXJhbXMucHVzaChub2RlKTsgLy8gcGFyc2Ugc3RlcCBhbmQgZW5kXG5cbiAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJzonICYmIHBhcmFtcy5sZW5ndGggPCAzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcpJyB8fCBzdGF0ZS50b2tlbiA9PT0gJ10nIHx8IHN0YXRlLnRva2VuID09PSAnLCcgfHwgc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAgICAgLy8gaW1wbGljaXQgZW5kXG4gICAgICAgICAgcGFyYW1zLnB1c2gobmV3IFN5bWJvbE5vZGUoJ2VuZCcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBleHBsaWNpdCBlbmRcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgLy8gcGFyYW1zID0gW3N0YXJ0LCBzdGVwLCBlbmRdXG4gICAgICAgIG5vZGUgPSBuZXcgUmFuZ2VOb2RlKHBhcmFtc1swXSwgcGFyYW1zWzJdLCBwYXJhbXNbMV0pOyAvLyBzdGFydCwgZW5kLCBzdGVwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBsZW5ndGggPT09IDJcbiAgICAgICAgLy8gcGFyYW1zID0gW3N0YXJ0LCBlbmRdXG4gICAgICAgIG5vZGUgPSBuZXcgUmFuZ2VOb2RlKHBhcmFtc1swXSwgcGFyYW1zWzFdKTsgLy8gc3RhcnQsIGVuZFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBhZGQgb3Igc3VidHJhY3RcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICcrJzogJ2FkZCcsXG4gICAgICAnLSc6ICdzdWJ0cmFjdCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBtdWx0aXBseSwgZGl2aWRlLCBtb2R1bHVzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIGxhc3QsIG5hbWUsIGZuO1xuICAgIG5vZGUgPSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpO1xuICAgIGxhc3QgPSBub2RlO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnKic6ICdtdWx0aXBseScsXG4gICAgICAnLionOiAnZG90TXVsdGlwbHknLFxuICAgICAgJy8nOiAnZGl2aWRlJyxcbiAgICAgICcuLyc6ICdkb3REaXZpZGUnLFxuICAgICAgJyUnOiAnbW9kJyxcbiAgICAgIG1vZDogJ21vZCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgICAvLyBleHBsaWNpdCBvcGVyYXRvcnNcbiAgICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIGxhc3QgPSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgW25vZGUsIGxhc3RdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIGxhc3Q7XG4gICAgbm9kZSA9IHBhcnNlUnVsZTIoc3RhdGUpO1xuICAgIGxhc3QgPSBub2RlO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW4gPT09ICdpbicgJiYgaXNDb25zdGFudE5vZGUobm9kZSkgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSICYmICFpc0NvbnN0YW50Tm9kZShsYXN0KSAmJiAoIWlzT3BlcmF0b3JOb2RlKGxhc3QpIHx8IGxhc3Qub3AgPT09ICchJykgfHwgc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICAvLyBwYXJzZSBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBzeW1ib2w6ICAgICAgaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnMmEnLCAnKDIrMylhJywgJ2EgYidcbiAgICAgICAgLy8gbnVtYmVyOiAgICAgIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJygyKzMpMidcbiAgICAgICAgLy8gcGFyZW50aGVzaXM6IGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJzIoMys0KScsICcoMys0KSgxKzIpJ1xuICAgICAgICBsYXN0ID0gcGFyc2VSdWxlMihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcqJywgJ211bHRpcGx5JywgW25vZGUsIGxhc3RdLCB0cnVlXG4gICAgICAgIC8qIGltcGxpY2l0ICovXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogSW5mYW1vdXMgXCJydWxlIDJcIiBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvaXNzdWVzLzc5MiNpc3N1ZWNvbW1lbnQtMzYxMDY1MzcwXG4gICAqIEV4cGxpY2l0IGRpdmlzaW9uIGdldHMgaGlnaGVyIHByZWNlZGVuY2UgdGhhbiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgKiB3aGVuIHRoZSBkaXZpc2lvbiBtYXRjaGVzIHRoaXMgcGF0dGVybjogW251bWJlcl0gLyBbbnVtYmVyXSBbc3ltYm9sXVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSdWxlMihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VVbmFyeShzdGF0ZSk7XG4gICAgdmFyIGxhc3QgPSBub2RlO1xuICAgIHZhciB0b2tlblN0YXRlcyA9IFtdO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIC8vIE1hdGNoIHRoZSBcIm51bWJlciAvXCIgcGFydCBvZiB0aGUgcGF0dGVybiBcIm51bWJlciAvIG51bWJlciBzeW1ib2xcIlxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnLycgJiYgaXNDb25zdGFudE5vZGUobGFzdCkpIHtcbiAgICAgICAgLy8gTG9vayBhaGVhZCB0byBzZWUgaWYgdGhlIG5leHQgdG9rZW4gaXMgYSBudW1iZXJcbiAgICAgICAgdG9rZW5TdGF0ZXMucHVzaChfZXh0ZW5kcyh7fSwgc3RhdGUpKTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7IC8vIE1hdGNoIHRoZSBcIm51bWJlciAvIG51bWJlclwiIHBhcnQgb2YgdGhlIHBhdHRlcm5cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSKSB7XG4gICAgICAgICAgLy8gTG9vayBhaGVhZCBhZ2FpblxuICAgICAgICAgIHRva2VuU3RhdGVzLnB1c2goX2V4dGVuZHMoe30sIHN0YXRlKSk7XG4gICAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7IC8vIE1hdGNoIHRoZSBcInN5bWJvbFwiIHBhcnQgb2YgdGhlIHBhdHRlcm4sIG9yIGEgbGVmdCBwYXJlbnRoZXNpc1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgICAgICAvLyBXZSd2ZSBtYXRjaGVkIHRoZSBwYXR0ZXJuIFwibnVtYmVyIC8gbnVtYmVyIHN5bWJvbFwiLlxuICAgICAgICAgICAgLy8gUmV3aW5kIG9uY2UgYW5kIGJ1aWxkIHRoZSBcIm51bWJlciAvIG51bWJlclwiIG5vZGU7IHRoZSBzeW1ib2wgd2lsbCBiZSBjb25zdW1lZCBsYXRlclxuICAgICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgICAgdG9rZW5TdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICBsYXN0ID0gcGFyc2VVbmFyeShzdGF0ZSk7XG4gICAgICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnLycsICdkaXZpZGUnLCBbbm9kZSwgbGFzdF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3QgYSBtYXRjaCwgc28gcmV3aW5kXG4gICAgICAgICAgICB0b2tlblN0YXRlcy5wb3AoKTtcblxuICAgICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vdCBhIG1hdGNoLCBzbyByZXdpbmRcbiAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBVbmFyeSBwbHVzIGFuZCBtaW51cywgYW5kIGxvZ2ljYWwgYW5kIGJpdHdpc2Ugbm90XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVVuYXJ5KHN0YXRlKSB7XG4gICAgdmFyIG5hbWUsIHBhcmFtcywgZm47XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICctJzogJ3VuYXJ5TWludXMnLFxuICAgICAgJysnOiAndW5hcnlQbHVzJyxcbiAgICAgICd+JzogJ2JpdE5vdCcsXG4gICAgICBub3Q6ICdub3QnXG4gICAgfTtcblxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgZm4gPSBvcGVyYXRvcnNbc3RhdGUudG9rZW5dO1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbcGFyc2VVbmFyeShzdGF0ZSldO1xuICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlUG93KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcG93ZXJcbiAgICogTm90ZTogcG93ZXIgb3BlcmF0b3IgaXMgcmlnaHQgYXNzb2NpYXRpdmVcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUG93KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlTGVmdEhhbmRPcGVyYXRvcnMoc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXicgfHwgc3RhdGUudG9rZW4gPT09ICcuXicpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gbmFtZSA9PT0gJ14nID8gJ3BvdycgOiAnZG90UG93JztcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlVW5hcnkoc3RhdGUpXTsgLy8gR28gYmFjayB0byB1bmFyeSwgd2UgY2FuIGhhdmUgJzJeLTMnXG5cbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBMZWZ0IGhhbmQgb3BlcmF0b3JzOiBmYWN0b3JpYWwgeCEsIGN0cmFuc3Bvc2UgeCdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTGVmdEhhbmRPcGVyYXRvcnMoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VDdXN0b21Ob2RlcyhzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICchJzogJ2ZhY3RvcmlhbCcsXG4gICAgICAnXFwnJzogJ2N0cmFuc3Bvc2UnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgY3VzdG9tIG5vZGUgaGFuZGxlci4gQSBub2RlIGhhbmRsZXIgY2FuIGJlIHVzZWQgdG8gcHJvY2Vzc1xuICAgKiBub2RlcyBpbiBhIGN1c3RvbSB3YXksIGZvciBleGFtcGxlIGZvciBoYW5kbGluZyBhIHBsb3QuXG4gICAqXG4gICAqIEEgaGFuZGxlciBtdXN0IGJlIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgb2YgdGhlIHBhcnNlIGZ1bmN0aW9uLlxuICAgKiAtIG11c3QgZXh0ZW5kIG1hdGguTm9kZVxuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIF9jb21waWxlKGRlZnM6IE9iamVjdCkgOiBzdHJpbmdcbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiBmaW5kKGZpbHRlcjogT2JqZWN0KSA6IE5vZGVbXVxuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIHRvU3RyaW5nKCkgOiBzdHJpbmdcbiAgICogLSB0aGUgY29uc3RydWN0b3IgaXMgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgY29udGFpbmluZyBhbGwgcGFyYW1ldGVyc1xuICAgKlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogICAgIG5vZGVzID0ge1xuICAgKiAgICAgICAncGxvdCc6IFBsb3RIYW5kbGVyXG4gICAqICAgICB9XG4gICAqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgaGFuZGxlciBpcyBjYWxsZWQgYXM6XG4gICAqXG4gICAqICAgICBub2RlID0gbmV3IFBsb3RIYW5kbGVyKHBhcmFtcylcbiAgICpcbiAgICogVGhlIGhhbmRsZXIgd2lsbCBiZSBpbnZva2VkIHdoZW4gZXZhbHVhdGluZyBhbiBleHByZXNzaW9uIGxpa2U6XG4gICAqXG4gICAqICAgICBub2RlID0gbWF0aC5wYXJzZSgncGxvdChzaW4oeCksIHgpJywgbm9kZXMpXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUN1c3RvbU5vZGVzKHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCAmJiBoYXNPd25Qcm9wZXJ0eShzdGF0ZS5leHRyYU5vZGVzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIHZhciBDdXN0b21Ob2RlID0gc3RhdGUuZXh0cmFOb2Rlc1tzdGF0ZS50b2tlbl07XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIHBhcmFtZXRlcnNcblxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgcGFyYW1zID0gW107XG4gICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgfSAvLyBjcmVhdGUgYSBuZXcgY3VzdG9tIG5vZGVcbiAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1ZhbGlkYXRlVHlwZXNcblxuXG4gICAgICByZXR1cm4gbmV3IEN1c3RvbU5vZGUocGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VTeW1ib2woc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBzeW1ib2xzOiBmdW5jdGlvbnMsIHZhcmlhYmxlcywgY29uc3RhbnRzLCB1bml0c1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTeW1ib2woc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZTtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSICYmIHN0YXRlLnRva2VuIGluIE5BTUVEX0RFTElNSVRFUlMpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKGhhc093blByb3BlcnR5KENPTlNUQU5UUywgbmFtZSkpIHtcbiAgICAgICAgLy8gdHJ1ZSwgZmFsc2UsIG51bGwsIC4uLlxuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShDT05TVEFOVFNbbmFtZV0pO1xuICAgICAgfSBlbHNlIGlmIChOVU1FUklDX0NPTlNUQU5UUy5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgICAvLyBOYU4sIEluZmluaXR5XG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKG51bWVyaWMobmFtZSwgJ251bWJlcicpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBuZXcgU3ltYm9sTm9kZShuYW1lKTtcbiAgICAgIH0gLy8gcGFyc2UgZnVuY3Rpb24gcGFyYW1ldGVycyBhbmQgbWF0cml4IGluZGV4XG5cblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGFjY2Vzc29yczpcbiAgICogLSBmdW5jdGlvbiBpbnZvY2F0aW9uIGluIHJvdW5kIGJyYWNrZXRzICguLi4pLCBmb3IgZXhhbXBsZSBzcXJ0KDIpXG4gICAqIC0gaW5kZXggZW5jbG9zZWQgaW4gc3F1YXJlIGJyYWNrZXRzIFsuLi5dLCBmb3IgZXhhbXBsZSBBWzIsM11cbiAgICogLSBkb3Qgbm90YXRpb24gZm9yIHByb3BlcnRpZXMsIGxpa2UgZm9vLmJhclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlICAgIE5vZGUgb24gd2hpY2ggdG8gYXBwbHkgdGhlIHBhcmFtZXRlcnMuIElmIHRoZXJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBhcmUgbm8gcGFyYW1ldGVycyBpbiB0aGUgZXhwcmVzc2lvbiwgdGhlIG5vZGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGl0c2VsZiBpcyByZXR1cm5lZFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbdHlwZXNdICBGaWx0ZXIgdGhlIHR5cGVzIG9mIG5vdGF0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW4gYmUgWycoJywgJ1snLCAnLiddXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSwgdHlwZXMpIHtcbiAgICB2YXIgcGFyYW1zO1xuXG4gICAgd2hpbGUgKChzdGF0ZS50b2tlbiA9PT0gJygnIHx8IHN0YXRlLnRva2VuID09PSAnWycgfHwgc3RhdGUudG9rZW4gPT09ICcuJykgJiYgKCF0eXBlcyB8fCB0eXBlcy5pbmRleE9mKHN0YXRlLnRva2VuKSAhPT0gLTEpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIHBhcmFtcyA9IFtdO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICBpZiAoaXNTeW1ib2xOb2RlKG5vZGUpIHx8IGlzQWNjZXNzb3JOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgLy8gZnVuY3Rpb24gaW52b2NhdGlvbiBsaWtlIGZuKDIsIDMpIG9yIG9iai5mbigyLCAzKVxuICAgICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICBub2RlID0gbmV3IEZ1bmN0aW9uTm9kZShub2RlLCBwYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgKDIrMykoNCs1KSBvciBzcXJ0KDIpKDErMilcbiAgICAgICAgICAvLyBkb24ndCBwYXJzZSBpdCBoZXJlIGJ1dCBsZXQgaXQgYmUgaGFuZGxlZCBieSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb25cbiAgICAgICAgICAvLyB3aXRoIGNvcnJlY3QgcHJlY2VkZW5jZVxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuID09PSAnWycpIHtcbiAgICAgICAgLy8gaW5kZXggbm90YXRpb24gbGlrZSB2YXJpYWJsZVsyLCAzXVxuICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyBdIGV4cGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBBY2Nlc3Nvck5vZGUobm9kZSwgbmV3IEluZGV4Tm9kZShwYXJhbXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvdCBub3RhdGlvbiBsaWtlIHZhcmlhYmxlLnByb3BcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgIT09IFRPS0VOVFlQRS5TWU1CT0wpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1Byb3BlcnR5IG5hbWUgZXhwZWN0ZWQgYWZ0ZXIgZG90Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMucHVzaChuZXcgQ29uc3RhbnROb2RlKHN0YXRlLnRva2VuKSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgdmFyIGRvdE5vdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IG5ldyBBY2Nlc3Nvck5vZGUobm9kZSwgbmV3IEluZGV4Tm9kZShwYXJhbXMsIGRvdE5vdGF0aW9uKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgZG91YmxlIHF1b3RlcyBzdHJpbmcuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBzdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcIicpIHtcbiAgICAgIHN0ciA9IHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpOyAvLyBjcmVhdGUgY29uc3RhbnRcblxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoc3RyKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgc3Vycm91bmRlZCBieSBkb3VibGUgcXVvdGVzIFwiLi4uXCJcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXCInKSB7XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXFxcJykge1xuICAgICAgICAvLyBlc2NhcGUgY2hhcmFjdGVyLCBpbW1lZGlhdGVseSBwcm9jZXNzIHRoZSBuZXh0XG4gICAgICAgIC8vIGNoYXJhY3RlciB0byBwcmV2ZW50IHN0b3BwaW5nIGF0IGEgbmV4dCAnXFxcIidcbiAgICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXCInKSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBzdHJpbmcgXCIgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoJ1wiJyArIHN0ciArICdcIicpOyAvLyB1bmVzY2FwZSBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzaW5nbGUgcXVvdGVzIHN0cmluZy5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIHN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1xcJycpIHtcbiAgICAgIHN0ciA9IHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpOyAvLyBjcmVhdGUgY29uc3RhbnRcblxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoc3RyKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlTWF0cml4KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgc3Vycm91bmRlZCBieSBzaW5nbGUgcXVvdGVzICcuLi4nXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1xcJycpIHtcbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXIsIGltbWVkaWF0ZWx5IHByb2Nlc3MgdGhlIG5leHRcbiAgICAgICAgLy8gY2hhcmFjdGVyIHRvIHByZXZlbnQgc3RvcHBpbmcgYXQgYSBuZXh0ICdcXCcnXG4gICAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1xcJycpIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIHN0cmluZyBcXCcgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoJ1wiJyArIHN0ciArICdcIicpOyAvLyB1bmVzY2FwZSBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgfVxuICAvKipcbiAgICogcGFyc2UgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VNYXRyaXgoc3RhdGUpIHtcbiAgICB2YXIgYXJyYXksIHBhcmFtcywgcm93cywgY29scztcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1snKSB7XG4gICAgICAvLyBtYXRyaXggWy4uLl1cbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAvLyB0aGlzIGlzIGEgbm9uLWVtcHR5IG1hdHJpeFxuICAgICAgICB2YXIgcm93ID0gcGFyc2VSb3coc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAgICAgLy8gMiBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHJvd3MgPSAxO1xuICAgICAgICAgIHBhcmFtcyA9IFtyb3ddOyAvLyB0aGUgcm93cyBvZiB0aGUgbWF0cml4IGFyZSBzZXBhcmF0ZWQgYnkgZG90LWNvbW1hJ3NcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtc1tyb3dzXSA9IHBhcnNlUm93KHN0YXRlKTtcbiAgICAgICAgICAgIHJvd3MrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2YgbWF0cml4IF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBjaGVjayBpZiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgbWF0Y2hlcyBpbiBhbGwgcm93c1xuXG4gICAgICAgICAgY29scyA9IHBhcmFtc1swXS5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKHZhciByID0gMTsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1tyXS5pdGVtcy5sZW5ndGggIT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3Ioc3RhdGUsICdDb2x1bW4gZGltZW5zaW9ucyBtaXNtYXRjaCAnICsgJygnICsgcGFyYW1zW3JdLml0ZW1zLmxlbmd0aCArICcgIT09ICcgKyBjb2xzICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhcnJheSA9IG5ldyBBcnJheU5vZGUocGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyAxIGRpbWVuc2lvbmFsIHZlY3RvclxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBtYXRyaXggXSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgYXJyYXkgPSByb3c7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYW4gZW1wdHkgbWF0cml4IFwiWyBdXCJcbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIGFycmF5ID0gbmV3IEFycmF5Tm9kZShbXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgYXJyYXkpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc2luZ2xlIGNvbW1hLXNlcGFyYXRlZCByb3cgZnJvbSBhIG1hdHJpeCwgbGlrZSAnYSwgYiwgYydcbiAgICogQHJldHVybiB7QXJyYXlOb2RlfSBub2RlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSb3coc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW3BhcnNlQXNzaWdubWVudChzdGF0ZSldO1xuICAgIHZhciBsZW4gPSAxO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBleHByZXNzaW9uXG5cbiAgICAgIHBhcmFtc1tsZW5dID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIGxlbisrO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKHBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGFuIG9iamVjdCwgZW5jbG9zZWQgaW4gYW5nbGUgYnJhY2tldHN7Li4ufSwgZm9yIGV4YW1wbGUge3ZhbHVlOiAyfVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VPYmplY3Qoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICd7Jykge1xuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICB2YXIga2V5O1xuICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgZG8ge1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnfScpIHtcbiAgICAgICAgICAvLyBwYXJzZSBrZXlcbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcIicpIHtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW4gPT09ICdcXCcnKSB7XG4gICAgICAgICAgICBrZXkgPSBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIgJiYgc3RhdGUudG9rZW4gaW4gTkFNRURfREVMSU1JVEVSUykge1xuICAgICAgICAgICAga2V5ID0gc3RhdGUudG9rZW47XG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnU3ltYm9sIG9yIHN0cmluZyBleHBlY3RlZCBhcyBvYmplY3Qga2V5Jyk7XG4gICAgICAgICAgfSAvLyBwYXJzZSBrZXkvdmFsdWUgc2VwYXJhdG9yXG5cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJzonKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0NvbG9uIDogZXhwZWN0ZWQgYWZ0ZXIgb2JqZWN0IGtleScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2Uga2V5XG5cbiAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG5cblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnfScpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdDb21tYSAsIG9yIGJyYWNrZXQgfSBleHBlY3RlZCBhZnRlciBvYmplY3QgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgdmFyIG5vZGUgPSBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlTnVtYmVyKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYSBudW1iZXJcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTnVtYmVyKHN0YXRlKSB7XG4gICAgdmFyIG51bWJlclN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBudW1iZXJcbiAgICAgIG51bWJlclN0ciA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUobnVtZXJpYyhudW1iZXJTdHIsIGNvbmZpZy5udW1iZXIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VQYXJlbnRoZXNlcyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcmVudGhlc2VzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVBhcmVudGhlc2VzKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7IC8vIGNoZWNrIGlmIGl0IGlzIGEgcGFyZW50aGVzaXplZCBleHByZXNzaW9uXG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgLy8gcGFyZW50aGVzZXMgKC4uLilcbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7IC8vIHN0YXJ0IGFnYWluXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IFBhcmVudGhlc2lzTm9kZShub2RlKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VFbmQoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBFdmFsdWF0ZWQgd2hlbiB0aGUgZXhwcmVzc2lvbiBpcyBub3QgeWV0IGVuZGVkIGJ1dCBleHBlY3RlZCB0byBlbmRcbiAgICogQHJldHVybiB7Tm9kZX0gcmVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VFbmQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAvLyBzeW50YXggZXJyb3Igb3IgdW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVmFsdWUgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBjdXJyZW50IHJvdyB2YWx1ZSAob25lIGJhc2VkKVxuICAgKiBSZXR1cm5zIHRoZSBsaW5lIG9mIHRoZSBjdXJyZW50bHkgaGFuZGxlZCBleHByZXNzaW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIC8qIFRPRE86IGltcGxlbWVudCBrZWVwaW5nIHRyYWNrIG9uIHRoZSByb3cgbnVtYmVyXG4gIGZ1bmN0aW9uIHJvdyAoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAqL1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgY3VycmVudCBjb2wgdmFsdWUgKG9uZSBiYXNlZClcbiAgICogUmV0dXJucyB0aGUgY29sdW1uIChwb3NpdGlvbikgd2hlcmUgdGhlIGxhc3Qgc3RhdGUudG9rZW4gc3RhcnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY29sKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmluZGV4IC0gc3RhdGUudG9rZW4ubGVuZ3RoICsgMTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGVycm9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtTeW50YXhFcnJvcn0gaW5zdGFudGlhdGVkIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgYyA9IGNvbChzdGF0ZSk7XG4gICAgdmFyIGVycm9yID0gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UgKyAnIChjaGFyICcgKyBjICsgJyknKTtcbiAgICBlcnJvci5jaGFyID0gYztcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlcnJvclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICogQHJldHVybiB7RXJyb3J9IGluc3RhbnRpYXRlZCBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKSB7XG4gICAgdmFyIGMgPSBjb2woc3RhdGUpO1xuICAgIHZhciBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihtZXNzYWdlICsgJyAoY2hhciAnICsgYyArICcpJyk7XG4gICAgZXJyb3IuY2hhciA9IGM7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlO1xufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUJpZ051bWJlckNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQmlnTnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVCaWdOdW1iZXJDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlQ29tcGxleENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29tcGxleERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlQ29tcGxleENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURlbnNlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEZW5zZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVGcmFjdGlvbkNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnJhY3Rpb25EZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUZyYWN0aW9uQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUeXBlZCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHR5cGVkRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgY3JlYXRlVHlwZWRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXF1YWxTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUVxdWFsU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVOdW1iZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBudW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVOdW1iZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyYWN0aW9uIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZnJhY3Rpb25EZXBlbmRlbmNpZXMgPSB7XG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnJhY3Rpb25cbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hdHJpeCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTWF0cml4XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVuYXJ5TWludXMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlVW5hcnlNaW51c1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBYnMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBhYnNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBYnNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWRkU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYWRkU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWRkU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB6ZXJvc0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzWmVyb3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJvdW5kIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcm91bmREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB6ZXJvc0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlUm91bmRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVplcm9zIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgemVyb3NEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlWmVyb3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTXVsdGlwbHlTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU11bHRpcGx5U2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTaXplIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc2l6ZURlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU2l6ZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRvdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRG90LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTXVsdGlwbHkgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtdWx0aXBseURlcGVuZGVuY2llcyA9IHtcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkb3REZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTXVsdGlwbHlcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjb25qRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25qLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNpemVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRG90IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZG90RGVwZW5kZW5jaWVzID0ge1xuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGNvbmpEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBzaXplRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRG90XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbmogfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBjb25qRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29ualxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnRyYWN0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc3VidHJhY3REZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTdWJ0cmFjdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUxhcmdlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGxhcmdlckRlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUxhcmdlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUlkZW50aXR5IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaWRlbnRpdHlEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlSWRlbnRpdHlcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGJpZ251bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnbnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVOdW1lcmljIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbnVtZXJpY0RlcGVuZGVuY2llcyA9IHtcbiAgYmlnbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBmcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVOdW1lcmljXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUJpZ251bWJlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGJpZ251bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQmlnbnVtYmVyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBudW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURpdmlkZVNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgbnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURpdmlkZVNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2V0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc3Vic2V0RGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTdWJzZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZvcm1hdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRm9ybWF0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpc051bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcG93RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQb3cuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVbml0Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBVbml0RGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbERlcGVuZGVuY2llcyxcbiAgZml4RGVwZW5kZW5jaWVzLFxuICBmb3JtYXREZXBlbmRlbmNpZXMsXG4gIGlzTnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgcG93RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVVuaXRDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXF1YWwgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBlcXVhbERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFcXVhbFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjZWlsRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDZWlsLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmbG9vckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRmxvb3IuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZpeCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZpeERlcGVuZGVuY2llcyA9IHtcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgY2VpbERlcGVuZGVuY2llcyxcbiAgZmxvb3JEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZpeFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNlaWwgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBjZWlsRGVwZW5kZW5jaWVzID0ge1xuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNlaWxcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGbG9vciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZsb29yRGVwZW5kZW5jaWVzID0ge1xuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZsb29yXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZvcm1hdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZvcm1hdERlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZvcm1hdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJc051bWVyaWMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpc051bWVyaWNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJc051bWVyaWNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpZGVudGl0eURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBvdyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHBvd0RlcGVuZGVuY2llcyA9IHtcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgZnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGlkZW50aXR5RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQb3dcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBVbml0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbml0Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBVbml0RGVwZW5kZW5jaWVzLFxuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTeW1ib2xOb2RlXG59OyIsImltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IHRvU3ltYm9sIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xudmFyIG5hbWUgPSAnU3ltYm9sTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoJywgJz9Vbml0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3ltYm9sTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGgsXG4gICAgVW5pdCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHNvbWUgbmFtZSBpcyBhIHZhbHVlbGVzcyB1bml0IGxpa2UgXCJpbmNoXCIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBpc1ZhbHVlbGVzc1VuaXQobmFtZSkge1xuICAgIHJldHVybiBVbml0ID8gVW5pdC5pc1ZhbHVlbGVzc1VuaXQobmFtZSkgOiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFN5bWJvbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEEgc3ltYm9sIG5vZGUgY2FuIGhvbGQgYW5kIHJlc29sdmUgYSBzeW1ib2xcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gU3ltYm9sTm9kZShuYW1lKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN5bWJvbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJuYW1lXCInKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50eXBlID0gJ1N5bWJvbE5vZGUnO1xuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5pc1N5bWJvbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuXG4gICAgaWYgKGFyZ05hbWVzW25hbWVdID09PSB0cnVlKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgRnVuY3Rpb25Bc3NpZ25tZW50IGFyZ3VtZW50XG4gICAgICAvLyAobGlrZSBhbiB4IHdoZW4gaW5zaWRlIHRoZSBleHByZXNzaW9uIG9mIGEgZnVuY3Rpb24gYXNzaWdubWVudCBgZih4KSA9IC4uLmApXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBhcmdzW25hbWVdO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgaW4gbWF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSkgOiBnZXRTYWZlUHJvcGVydHkobWF0aCwgbmFtZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXNVbml0ID0gaXNWYWx1ZWxlc3NVbml0KG5hbWUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSkgOiBpc1VuaXQgPyBuZXcgVW5pdChudWxsLCBuYW1lKSA6IHVuZGVmKG5hbWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgey8vIG5vdGhpbmcgdG8gZG8sIHdlIGRvbid0IGhhdmUgY2hpbGRzXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3ltYm9sTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1N5bWJvbE5vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gIH07XG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgJ1VuZGVmaW5lZCBzeW1ib2wge25hbWV9J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHVuZGVmKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBzeW1ib2wgJyArIG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1N5bWJvbE5vZGV9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBTeW1ib2xOb2RlKHRoaXMubmFtZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG5hbWUgPSBlc2NhcGUodGhpcy5uYW1lKTtcblxuICAgIGlmIChuYW1lID09PSAndHJ1ZScgfHwgbmFtZSA9PT0gJ2ZhbHNlJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtYm9vbGVhblwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2knKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1pbWFnaW5hcnktc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnSW5maW5pdHknKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1pbmZpbml0eS1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdOYU4nKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1uYW4tc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLW51bGwtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtdW5kZWZpbmVkLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnU3ltYm9sTm9kZScsXG4gICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBTeW1ib2xOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTeW1ib2xOb2RlXCIsIG5hbWU6IFwieFwifWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1N5bWJvbE5vZGV9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBTeW1ib2xOb2RlKGpzb24ubmFtZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXNVbml0ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIG1hdGhbdGhpcy5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgaXNWYWx1ZWxlc3NVbml0KHRoaXMubmFtZSkpIHtcbiAgICAgIGlzVW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN5bWJvbCA9IHRvU3ltYm9sKHRoaXMubmFtZSwgaXNVbml0KTtcblxuICAgIGlmIChzeW1ib2xbMF0gPT09ICdcXFxcJykge1xuICAgICAgLy8gbm8gc3BhY2UgbmVlZGVkIGlmIHRoZSBzeW1ib2wgc3RhcnRzIHdpdGggJ1xcJ1xuICAgICAgcmV0dXJuIHN5bWJvbDtcbiAgICB9IC8vIHRoZSBzcGFjZSBwcmV2ZW50cyBzeW1ib2xzIGZyb20gYnJlYWtpbmcgc3R1ZmYgbGlrZSAnXFxjZG90JyBpZiBpdCdzIHdyaXR0ZW4gcmlnaHQgYmVmb3JlIHRoZSBzeW1ib2xcblxuXG4gICAgcmV0dXJuICcgJyArIHN5bWJvbDtcbiAgfTtcblxuICByZXR1cm4gU3ltYm9sTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgcGFyc2VEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1BhcnNlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUV2YWx1YXRlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXZhbHVhdGVEZXBlbmRlbmNpZXMgPSB7XG4gIHBhcnNlRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXZhbHVhdGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWNjZXNzb3JOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBBcnJheU5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FycmF5Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Fzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBCbG9ja05vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Jsb2NrTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25kaXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uc3RhbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Z1bmN0aW9uTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgSW5kZXhOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJbmRleE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE9iamVjdE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc09iamVjdE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzT3BlcmF0b3JOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1BhcmVudGhlc2lzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSYW5nZU5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSZWxhdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3ltYm9sTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQYXJzZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHBhcnNlRGVwZW5kZW5jaWVzID0ge1xuICBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMsXG4gIEFycmF5Tm9kZURlcGVuZGVuY2llcyxcbiAgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEJsb2NrTm9kZURlcGVuZGVuY2llcyxcbiAgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzLFxuICBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyxcbiAgSW5kZXhOb2RlRGVwZW5kZW5jaWVzLFxuICBPYmplY3ROb2RlRGVwZW5kZW5jaWVzLFxuICBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMsXG4gIFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyxcbiAgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzLFxuICBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyxcbiAgU3ltYm9sTm9kZURlcGVuZGVuY2llcyxcbiAgbnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBhcnNlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJzZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWNjZXNzb3JOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBzdWJzZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFjY2Vzc29yTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQXJyYXlOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQXJyYXlOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBcnJheU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJzZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQXNzaWdubWVudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBzdWJzZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFzc2lnbm1lbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSZXN1bHRTZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1Jlc3VsdFNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmxvY2tOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQmxvY2tOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBSZXN1bHRTZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUJsb2NrTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlUmVzdWx0U2V0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmVzdWx0U2V0RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVSZXN1bHRTZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbmRpdGlvbmFsTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29uZGl0aW9uYWxOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25zdGFudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbnN0YW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZ1bmN0aW9uTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgU3ltYm9sTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnVuY3Rpb25Ob2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSYW5nZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmFuZ2VDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc2l6ZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXhOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgSW5kZXhOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBSYW5nZURlcGVuZGVuY2llcyxcbiAgc2l6ZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlSW5kZXhOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVSYW5nZUNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmFuZ2VEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZVJhbmdlQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBPYmplY3ROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVPYmplY3ROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvck5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU9wZXJhdG9yTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyZW50aGVzaXNOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQYXJlbnRoZXNpc05vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJhbmdlTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJhbmdlTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUmFuZ2VOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZWxhdGlvbmFsTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSZWxhdGlvbmFsTm9kZVxufTsiLCJpbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdldmFsdWF0ZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdwYXJzZSddO1xuZXhwb3J0IHZhciBjcmVhdGVFdmFsdWF0ZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIHBhcnNlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZSBhbiBleHByZXNzaW9uLlxuICAgKlxuICAgKiBOb3RlIHRoZSBldmFsdWF0aW5nIGFyYml0cmFyeSBleHByZXNzaW9ucyBtYXkgaW52b2x2ZSBzZWN1cml0eSByaXNrcyxcbiAgICogc2VlIFtodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sXShodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShleHByKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShleHByLCBzY29wZSlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0pXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dLCBzY29wZSlcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJygyKzMpLzQnKSAgICAgICAgICAgICAgICAvLyAxLjI1XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdzcXJ0KDNeMiArIDReMiknKSAgICAgICAgLy8gNVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnc3FydCgtNCknKSAgICAgICAgICAgICAgIC8vIDJpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFsnYT0zJywgJ2I9NCcsICdhKmInXSkgICAgLy8gWzMsIDQsIDEyXVxuICAgKlxuICAgKiAgICAgbGV0IHNjb3BlID0ge2E6MywgYjo0fVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnYSAqIGInLCBzY29wZSkgICAgICAgICAgIC8vIDEyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBwYXJzZSwgY29tcGlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgTWF0cml4fSBleHByICAgVGhlIGV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdICAgICAgICAgICAgICAgICAgICBTY29wZSB0byByZWFkL3dyaXRlIHZhcmlhYmxlc1xuICAgKiBAcmV0dXJuIHsqfSBUaGUgcmVzdWx0IG9mIHRoZSBleHByZXNzaW9uXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhleHByKSB7XG4gICAgICB2YXIgc2NvcGUgPSB7fTtcbiAgICAgIHJldHVybiBwYXJzZShleHByKS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nT2JqZWN0KGV4cHIsIHNjb3BlKSB7XG4gICAgICByZXR1cm4gcGFyc2UoZXhwcikuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KGV4cHIpIHtcbiAgICAgIHZhciBzY29wZSA9IHt9O1xuICAgICAgcmV0dXJuIGRlZXBNYXAoZXhwciwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZShlbnRyeSkuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBPYmplY3QnOiBmdW5jdGlvbiBBcnJheU1hdHJpeE9iamVjdChleHByLCBzY29wZSkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoZXhwciwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZShlbnRyeSkuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaW52RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJbnYuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGl2aWRlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGl2aWRlRGVwZW5kZW5jaWVzID0ge1xuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBpbnZEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEaXZpZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGV0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpZGVudGl0eURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW52IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaW52RGVwZW5kZW5jaWVzID0ge1xuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGV0RGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGlkZW50aXR5RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlSW52XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBsdXBEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0x1cC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRldERlcGVuZGVuY2llcyA9IHtcbiAgbHVwRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbGFyZ2VyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMYXJnZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMdXAgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBsdXBEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGxhcmdlckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVMdXBcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZpYm9uYWNjaUhlYXBDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3BhQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTcGFEZXBlbmRlbmNpZXMgPSB7XG4gIEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNwYUNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBsYXJnZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc21hbGxlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU21hbGxlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyA9IHtcbiAgbGFyZ2VyRGVwZW5kZW5jaWVzLFxuICBzbWFsbGVyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbWFsbGVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc21hbGxlckRlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNtYWxsZXJcbn07IiwiaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnbHVwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhYnMnLCAnYWRkU2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdzdWJ0cmFjdCcsICdsYXJnZXInLCAnZXF1YWxTY2FsYXInLCAndW5hcnlNaW51cycsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnLCAnU3BhJ107XG5leHBvcnQgdmFyIGNyZWF0ZUx1cCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhYnMsXG4gICAgYWRkU2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBzdWJ0cmFjdCxcbiAgICBsYXJnZXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgdW5hcnlNaW51cyxcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXgsXG4gICAgU3BhXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIE1hdHJpeCBMVSBkZWNvbXBvc2l0aW9uIHdpdGggcGFydGlhbCBwaXZvdGluZy4gTWF0cml4IGBBYCBpcyBkZWNvbXBvc2VkIGluIHR3byBtYXRyaWNlcyAoYExgLCBgVWApIGFuZCBhXG4gICAqIHJvdyBwZXJtdXRhdGlvbiB2ZWN0b3IgYHBgIHdoZXJlIGBBW3AsOl0gPSBMICogVWBcbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmx1cChBKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICBjb25zdCBtID0gW1syLCAxXSwgWzEsIDRdXVxuICAgKiAgICBjb25zdCByID0gbWF0aC5sdXAobSlcbiAgICogICAgLy8gciA9IHtcbiAgICogICAgLy8gICBMOiBbWzEsIDBdLCBbMC41LCAxXV0sXG4gICAqICAgIC8vICAgVTogW1syLCAxXSwgWzAsIDMuNV1dLFxuICAgKiAgICAvLyAgIFA6IFswLCAxXVxuICAgKiAgICAvLyB9XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzbHUsIGxzb2x2ZSwgbHVzb2x2ZSwgdXNvbHZlXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4IHwgQXJyYXl9IEEgICAgQSB0d28gZGltZW5zaW9uYWwgbWF0cml4IG9yIGFycmF5IGZvciB3aGljaCB0byBnZXQgdGhlIExVUCBkZWNvbXBvc2l0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHt7TDogQXJyYXkgfCBNYXRyaXgsIFU6IEFycmF5IHwgTWF0cml4LCBQOiBBcnJheS48bnVtYmVyPn19IFRoZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeCwgdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IGFuZCB0aGUgcGVybXV0YXRpb24gbWF0cml4LlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBEZW5zZU1hdHJpeDogZnVuY3Rpb24gRGVuc2VNYXRyaXgobSkge1xuICAgICAgcmV0dXJuIF9kZW5zZUxVUChtKTtcbiAgICB9LFxuICAgIFNwYXJzZU1hdHJpeDogZnVuY3Rpb24gU3BhcnNlTWF0cml4KG0pIHtcbiAgICAgIHJldHVybiBfc3BhcnNlTFVQKG0pO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KGEpIHtcbiAgICAgIC8vIGNyZWF0ZSBkZW5zZSBtYXRyaXggZnJvbSBhcnJheVxuICAgICAgdmFyIG0gPSBtYXRyaXgoYSk7IC8vIGx1cCwgdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuXG4gICAgICB2YXIgciA9IF9kZW5zZUxVUChtKTsgLy8gcmVzdWx0XG5cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgTDogci5MLnZhbHVlT2YoKSxcbiAgICAgICAgVTogci5VLnZhbHVlT2YoKSxcbiAgICAgICAgcDogci5wXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gX2RlbnNlTFVQKG0pIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gbS5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IG0uX3NpemVbMV07IC8vIG1pbmltdW0gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzLCBjb2x1bW5zKTsgLy8gbWF0cml4IGFycmF5LCBjbG9uZSBvcmlnaW5hbCBkYXRhXG5cbiAgICB2YXIgZGF0YSA9IGNsb25lKG0uX2RhdGEpOyAvLyBsIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBsZGF0YSA9IFtdO1xuICAgIHZhciBsc2l6ZSA9IFtyb3dzLCBuXTsgLy8gdSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdWRhdGEgPSBbXTtcbiAgICB2YXIgdXNpemUgPSBbbiwgY29sdW1uc107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrOyAvLyBwZXJtdXRhdGlvbiB2ZWN0b3JcblxuICAgIHZhciBwID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBwW2ldID0gaTtcbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBza2lwIGZpcnN0IGNvbHVtbiBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gbWluIGksalxuICAgICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihpLCBqKTsgLy8gdltpLCBqXVxuXG4gICAgICAgICAgdmFyIHMgPSAwOyAvLyBsb29wIHVwIHRvIG1pblxuXG4gICAgICAgICAgZm9yIChrID0gMDsgayA8IG1pbjsgaysrKSB7XG4gICAgICAgICAgICAvLyBzID0gbFtpLCBrXSAtIGRhdGFbaywgal1cbiAgICAgICAgICAgIHMgPSBhZGRTY2FsYXIocywgbXVsdGlwbHlTY2FsYXIoZGF0YVtpXVtrXSwgZGF0YVtrXVtqXSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbaV1bal0gPSBzdWJ0cmFjdChkYXRhW2ldW2pdLCBzKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyByb3cgd2l0aCBsYXJnZXIgdmFsdWUgaW4gY3ZlY3Rvciwgcm93ID49IGpcblxuXG4gICAgICB2YXIgcGkgPSBqO1xuICAgICAgdmFyIHBhYnN2ID0gMDtcbiAgICAgIHZhciB2amogPSAwOyAvLyBsb29wIHJvd3NcblxuICAgICAgZm9yIChpID0gajsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBkYXRhIEAgaSwgalxuICAgICAgICB2YXIgdiA9IGRhdGFbaV1bal07IC8vIGFic29sdXRlIHZhbHVlXG5cbiAgICAgICAgdmFyIGFic3YgPSBhYnModik7IC8vIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBwaXZvdGUgdmFsdWVcblxuICAgICAgICBpZiAobGFyZ2VyKGFic3YsIHBhYnN2KSkge1xuICAgICAgICAgIC8vIHN0b3JlIHJvd1xuICAgICAgICAgIHBpID0gaTsgLy8gdXBkYXRlIG1heCB2YWx1ZVxuXG4gICAgICAgICAgcGFic3YgPSBhYnN2OyAvLyB2YWx1ZSBAIFtqLCBqXVxuXG4gICAgICAgICAgdmpqID0gdjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBzd2FwIHJvd3MgKGogPC0+IHBpKVxuXG5cbiAgICAgIGlmIChqICE9PSBwaSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBwXG4gICAgICAgIHBbal0gPSBbcFtwaV0sIHBbcGldID0gcFtqXV1bMF07IC8vIHN3YXAgaiA8LT4gcGkgaW4gZGF0YVxuXG4gICAgICAgIERlbnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgZGF0YSk7XG4gICAgICB9IC8vIGNoZWNrIGNvbHVtbiBpcyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAvLyBsb29wIHJvd3MgKGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4KVxuICAgICAgICBmb3IgKGkgPSBqICsgMTsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIHZhbHVlIEAgaSwgalxuICAgICAgICAgIHZhciB2aWogPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgICAgaWYgKCFlcXVhbFNjYWxhcih2aWosIDApKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgZGF0YVxuICAgICAgICAgICAgZGF0YVtpXVtqXSA9IGRpdmlkZVNjYWxhcihkYXRhW2ldW2pdLCB2amopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIHJvdyBpbiBhcnJheXNcbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXSA9IFtdO1xuICAgICAgICAgIH0gLy8gTFxuXG5cbiAgICAgICAgICBsZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHdlIGFyZSBpbiB0aGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChpIDwgaikge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgICAvLyBMXG4gICAgICAgICAgICBsZGF0YVtpXVtqXSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZGlhZ29uYWwgdmFsdWVcblxuXG4gICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAgIC8vIExcbiAgICAgICAgICAgIGxkYXRhW2ldW2pdID0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAvLyBVXG4gICAgICAgICAgdWRhdGFbaV1bal0gPSAwO1xuICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgIC8vIExcbiAgICAgICAgICBsZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGwgbWF0cml4XG5cblxuICAgIHZhciBsID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGxkYXRhLFxuICAgICAgc2l6ZTogbHNpemVcbiAgICB9KTsgLy8gdSBtYXRyaXhcblxuICAgIHZhciB1ID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IHVkYXRhLFxuICAgICAgc2l6ZTogdXNpemVcbiAgICB9KTsgLy8gcCB2ZWN0b3JcblxuICAgIHZhciBwdiA9IFtdO1xuXG4gICAgZm9yIChpID0gMCwgbiA9IHAubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBwdltwW2ldXSA9IGk7XG4gICAgfSAvLyByZXR1cm4gbWF0cmljZXNcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIEw6IGwsXG4gICAgICBVOiB1LFxuICAgICAgcDogcHYsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnTDogJyArIHRoaXMuTC50b1N0cmluZygpICsgJ1xcblU6ICcgKyB0aGlzLlUudG9TdHJpbmcoKSArICdcXG5QOiAnICsgdGhpcy5wO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfc3BhcnNlTFVQKG0pIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gbS5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IG0uX3NpemVbMV07IC8vIG1pbmltdW0gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzLCBjb2x1bW5zKTsgLy8gbWF0cml4IGFycmF5cyAod2lsbCBub3QgYmUgbW9kaWZpZWQsIHRoYW5rcyB0byBwZXJtdXRhdGlvbiB2ZWN0b3IpXG5cbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzO1xuICAgIHZhciBpbmRleCA9IG0uX2luZGV4O1xuICAgIHZhciBwdHIgPSBtLl9wdHI7IC8vIGwgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGx2YWx1ZXMgPSBbXTtcbiAgICB2YXIgbGluZGV4ID0gW107XG4gICAgdmFyIGxwdHIgPSBbXTtcbiAgICB2YXIgbHNpemUgPSBbcm93cywgbl07IC8vIHUgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHV2YWx1ZXMgPSBbXTtcbiAgICB2YXIgdWluZGV4ID0gW107XG4gICAgdmFyIHVwdHIgPSBbXTtcbiAgICB2YXIgdXNpemUgPSBbbiwgY29sdW1uc107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrOyAvLyBwZXJtdXRhdGlvbiB2ZWN0b3JzLCAoY3VycmVudCBpbmRleCAtPiBvcmlnaW5hbCBpbmRleCkgYW5kIChvcmlnaW5hbCBpbmRleCAtPiBjdXJyZW50IGluZGV4KVxuXG4gICAgdmFyIHB2Q28gPSBbXTtcbiAgICB2YXIgcHZPYyA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgcHZDb1tpXSA9IGk7XG4gICAgICBwdk9jW2ldID0gaTtcbiAgICB9IC8vIHN3YXAgaW5kaWNlcyBpbiBwZXJtdXRhdGlvbiB2ZWN0b3JzIChjb25kaXRpb24geCA8IHkpIVxuXG5cbiAgICB2YXIgc3dhcEluZGVjZXMgPSBmdW5jdGlvbiBzd2FwSW5kZWNlcyh4LCB5KSB7XG4gICAgICAvLyBmaW5kIHB2IGluZGVjZXMgZ2V0dGluZyBkYXRhIGZyb20geCBhbmQgeVxuICAgICAgdmFyIGt4ID0gcHZPY1t4XTtcbiAgICAgIHZhciBreSA9IHB2T2NbeV07IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3IgY3VycmVudCAtPiBvcmlnaW5hbFxuXG4gICAgICBwdkNvW2t4XSA9IHk7XG4gICAgICBwdkNvW2t5XSA9IHg7IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3Igb3JpZ2luYWwgLT4gY3VycmVudFxuXG4gICAgICBwdk9jW3hdID0ga3k7XG4gICAgICBwdk9jW3ldID0ga3g7XG4gICAgfTsgLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgLy8gc3BhcnNlIGFjY3VtdWxhdG9yXG4gICAgICB2YXIgc3BhID0gbmV3IFNwYSgpOyAvLyBjaGVjayBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGNvbHVtbiBqXG5cbiAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICAgIGxwdHIucHVzaChsdmFsdWVzLmxlbmd0aCk7IC8vIGZpcnN0IHZhbHVlIGluIGogY29sdW1uIGZvciBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG4gICAgICAgIGx2YWx1ZXMucHVzaCgxKTtcbiAgICAgICAgbGluZGV4LnB1c2goaik7XG4gICAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgICB1cHRyLnB1c2godXZhbHVlcy5sZW5ndGgpOyAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG5cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGNvcHkgY29sdW1uIGogaW50byBzcGFyc2UgYWNjdW11bGF0b3JcblxuICAgICAgZm9yIChrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gaW5kZXhba107IC8vIGNvcHkgY29sdW1uIHZhbHVlcyBpbnRvIHNwYXJzZSBhY2N1bXVsYXRvciAodXNlIHBlcm11dGF0aW9uIHZlY3RvcilcblxuICAgICAgICBzcGEuc2V0KHB2Q29baV0sIHZhbHVlc1trXSk7XG4gICAgICB9IC8vIHNraXAgZmlyc3QgY29sdW1uIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgIC8vIGxvb3Agcm93cyBpbiBjb2x1bW4gaiAoYWJvdmUgZGlhZ29uYWwpXG4gICAgICAgIHNwYS5mb3JFYWNoKDAsIGogLSAxLCBmdW5jdGlvbiAoaywgdmtqKSB7XG4gICAgICAgICAgLy8gbG9vcCByb3dzIGluIGNvbHVtbiBrIChMKVxuICAgICAgICAgIFNwYXJzZU1hdHJpeC5fZm9yRWFjaFJvdyhrLCBsdmFsdWVzLCBsaW5kZXgsIGxwdHIsIGZ1bmN0aW9uIChpLCB2aWspIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHJvdyBpcyBiZWxvdyBrXG4gICAgICAgICAgICBpZiAoaSA+IGspIHtcbiAgICAgICAgICAgICAgLy8gdXBkYXRlIHNwYSB2YWx1ZVxuICAgICAgICAgICAgICBzcGEuYWNjdW11bGF0ZShpLCB1bmFyeU1pbnVzKG11bHRpcGx5U2NhbGFyKHZpaywgdmtqKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gcm93IHdpdGggbGFyZ2VyIHZhbHVlIGluIHNwYSwgcm93ID49IGpcblxuXG4gICAgICB2YXIgcGkgPSBqO1xuICAgICAgdmFyIHZqaiA9IHNwYS5nZXQoaik7XG4gICAgICB2YXIgcGFic3YgPSBhYnModmpqKTsgLy8gbG9vcCB2YWx1ZXMgaW4gc3BhIChvcmRlciBieSByb3csIGJlbG93IGRpYWdvbmFsKVxuXG4gICAgICBzcGEuZm9yRWFjaChqICsgMSwgcm93cyAtIDEsIGZ1bmN0aW9uICh4LCB2KSB7XG4gICAgICAgIC8vIGFic29sdXRlIHZhbHVlXG4gICAgICAgIHZhciBhYnN2ID0gYWJzKHYpOyAvLyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gcGl2b3RlIHZhbHVlXG5cbiAgICAgICAgaWYgKGxhcmdlcihhYnN2LCBwYWJzdikpIHtcbiAgICAgICAgICAvLyBzdG9yZSByb3dcbiAgICAgICAgICBwaSA9IHg7IC8vIHVwZGF0ZSBtYXggdmFsdWVcblxuICAgICAgICAgIHBhYnN2ID0gYWJzdjsgLy8gdmFsdWUgQCBbaiwgal1cblxuICAgICAgICAgIHZqaiA9IHY7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBzd2FwIHJvd3MgKGogPC0+IHBpKVxuXG4gICAgICBpZiAoaiAhPT0gcGkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gTFxuICAgICAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCBsc2l6ZVsxXSwgbHZhbHVlcywgbGluZGV4LCBscHRyKTsgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gVVxuXG5cbiAgICAgICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgdXNpemVbMV0sIHV2YWx1ZXMsIHVpbmRleCwgdXB0cik7IC8vIHN3YXAgdmFsdWVzIGluIHNwYVxuXG5cbiAgICAgICAgc3BhLnN3YXAoaiwgcGkpOyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIChzd2FwIHZhbHVlcyBAIGosIHBpKVxuXG4gICAgICAgIHN3YXBJbmRlY2VzKGosIHBpKTtcbiAgICAgIH0gLy8gbG9vcCB2YWx1ZXMgaW4gc3BhIChvcmRlciBieSByb3cpXG5cblxuICAgICAgc3BhLmZvckVhY2goMCwgcm93cyAtIDEsIGZ1bmN0aW9uICh4LCB2KSB7XG4gICAgICAgIC8vIGNoZWNrIHdlIGFyZSBhYm92ZSBkaWFnb25hbFxuICAgICAgICBpZiAoeCA8PSBqKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgdXZhbHVlcy5wdXNoKHYpO1xuICAgICAgICAgIHVpbmRleC5wdXNoKHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVwZGF0ZSB2YWx1ZVxuICAgICAgICAgIHYgPSBkaXZpZGVTY2FsYXIodiwgdmpqKTsgLy8gY2hlY2sgdmFsdWUgaXMgbm9uIHplcm9cblxuICAgICAgICAgIGlmICghZXF1YWxTY2FsYXIodiwgMCkpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgICAgbHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICAgICAgbGluZGV4LnB1c2goeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgX2xvb3AoKTtcbiAgICB9IC8vIHVwZGF0ZSBwdHJzXG5cblxuICAgIHVwdHIucHVzaCh1dmFsdWVzLmxlbmd0aCk7XG4gICAgbHB0ci5wdXNoKGx2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpY2VzXG5cbiAgICByZXR1cm4ge1xuICAgICAgTDogbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICAgIHZhbHVlczogbHZhbHVlcyxcbiAgICAgICAgaW5kZXg6IGxpbmRleCxcbiAgICAgICAgcHRyOiBscHRyLFxuICAgICAgICBzaXplOiBsc2l6ZVxuICAgICAgfSksXG4gICAgICBVOiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgICAgdmFsdWVzOiB1dmFsdWVzLFxuICAgICAgICBpbmRleDogdWluZGV4LFxuICAgICAgICBwdHI6IHVwdHIsXG4gICAgICAgIHNpemU6IHVzaXplXG4gICAgICB9KSxcbiAgICAgIHA6IHB2Q28sXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnTDogJyArIHRoaXMuTC50b1N0cmluZygpICsgJ1xcblU6ICcgKyB0aGlzLlUudG9TdHJpbmcoKSArICdcXG5QOiAnICsgdGhpcy5wO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pOyIsImltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2RldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnc3VidHJhY3QnLCAnbXVsdGlwbHknLCAndW5hcnlNaW51cycsICdsdXAnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGV0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIHN1YnRyYWN0LFxuICAgIG11bHRpcGx5LFxuICAgIHVuYXJ5TWludXMsXG4gICAgbHVwXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZGV0KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRldChbWzEsIDJdLCBbMywgNF1dKSAvLyByZXR1cm5zIC0yXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbXG4gICAqICAgICAgWy0yLCAyLCAzXSxcbiAgICogICAgICBbLTEsIDEsIDNdLFxuICAgKiAgICAgIFsyLCAwLCAtMV1cbiAgICogICAgXVxuICAgKiAgICBtYXRoLmRldChBKSAvLyByZXR1cm5zIDZcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGludlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSB4ICBBIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkZXRlcm1pbmFudCBvZiBgeGBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgYW55OiBmdW5jdGlvbiBhbnkoeCkge1xuICAgICAgcmV0dXJuIGNsb25lKHgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gZGV0KHgpIHtcbiAgICAgIHZhciBzaXplO1xuXG4gICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgc2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICAgIHggPSBtYXRyaXgoeCk7XG4gICAgICAgIHNpemUgPSB4LnNpemUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGEgc2NhbGFyXG4gICAgICAgIHNpemUgPSBbXTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgLy8gc2NhbGFyXG4gICAgICAgICAgcmV0dXJuIGNsb25lKHgpO1xuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyB2ZWN0b3JcbiAgICAgICAgICBpZiAoc2l6ZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lKHgudmFsdWVPZigpWzBdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIHR3byBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBzaXplWzFdO1xuXG4gICAgICAgICAgICBpZiAocm93cyA9PT0gY29scykge1xuICAgICAgICAgICAgICByZXR1cm4gX2RldCh4LmNsb25lKCkudmFsdWVPZigpLCByb3dzLCBjb2xzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgdHdvIGRpbWVuc2lvbmFsICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXlbXX0gbWF0cml4ICBBIHNxdWFyZSwgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAgICAgTnVtYmVyIG9mIHJvd3Mgb2YgdGhlIG1hdHJpeCAoemVyby1iYXNlZClcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgICAgIE51bWJlciBvZiBjb2x1bW5zIG9mIHRoZSBtYXRyaXggKHplcm8tYmFzZWQpXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGRldFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfZGV0KG1hdHJpeCwgcm93cywgY29scykge1xuICAgIGlmIChyb3dzID09PSAxKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMSB4IDEgbWF0cml4XG4gICAgICByZXR1cm4gY2xvbmUobWF0cml4WzBdWzBdKTtcbiAgICB9IGVsc2UgaWYgKHJvd3MgPT09IDIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAyIHggMiBtYXRyaXhcbiAgICAgIC8vIHRoZSBkZXRlcm1pbmFudCBvZiBbYTExLGExMjthMjEsYTIyXSBpcyBkZXQgPSBhMTEqYTIyLWEyMSphMTJcbiAgICAgIHJldHVybiBzdWJ0cmFjdChtdWx0aXBseShtYXRyaXhbMF1bMF0sIG1hdHJpeFsxXVsxXSksIG11bHRpcGx5KG1hdHJpeFsxXVswXSwgbWF0cml4WzBdWzFdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbXB1dGUgdGhlIExVIGRlY29tcG9zaXRpb25cbiAgICAgIHZhciBkZWNvbXAgPSBsdXAobWF0cml4KTsgLy8gVGhlIGRldGVybWluYW50IGlzIHRoZSBwcm9kdWN0IG9mIHRoZSBkaWFnb25hbCBlbnRyaWVzIG9mIFUgKGFuZCB0aG9zZSBvZiBMLCBidXQgdGhleSBhcmUgYWxsIDEpXG5cbiAgICAgIHZhciBkZXQgPSBkZWNvbXAuVVswXVswXTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IHJvd3M7IF9pKyspIHtcbiAgICAgICAgZGV0ID0gbXVsdGlwbHkoZGV0LCBkZWNvbXAuVVtfaV1bX2ldKTtcbiAgICAgIH0gLy8gVGhlIGRldGVybWluYW50IHdpbGwgYmUgbXVsdGlwbGllZCBieSAxIG9yIC0xIGRlcGVuZGluZyBvbiB0aGUgcGFyaXR5IG9mIHRoZSBwZXJtdXRhdGlvbiBtYXRyaXguXG4gICAgICAvLyBUaGlzIGNhbiBiZSBkZXRlcm1pbmVkIGJ5IGNvdW50aW5nIHRoZSBjeWNsZXMuIFRoaXMgaXMgcm91Z2hseSBhIGxpbmVhciB0aW1lIGFsZ29yaXRobS5cblxuXG4gICAgICB2YXIgZXZlbkN5Y2xlcyA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgdmlzaXRlZCA9IFtdO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB3aGlsZSAodmlzaXRlZFtpXSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID49IHJvd3MpIGJyZWFrO1xuICAgICAgICB2YXIgaiA9IGk7XG4gICAgICAgIHZhciBjeWNsZUxlbiA9IDA7XG5cbiAgICAgICAgd2hpbGUgKCF2aXNpdGVkW2RlY29tcC5wW2pdXSkge1xuICAgICAgICAgIHZpc2l0ZWRbZGVjb21wLnBbal1dID0gdHJ1ZTtcbiAgICAgICAgICBqID0gZGVjb21wLnBbal07XG4gICAgICAgICAgY3ljbGVMZW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjeWNsZUxlbiAlIDIgPT09IDApIHtcbiAgICAgICAgICBldmVuQ3ljbGVzKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZW5DeWNsZXMgJSAyID09PSAwID8gZGV0IDogdW5hcnlNaW51cyhkZXQpO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xudmFyIG5hbWUgPSAnaW52JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdkaXZpZGVTY2FsYXInLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5JywgJ3VuYXJ5TWludXMnLCAnZGV0JywgJ2lkZW50aXR5JywgJ2FicyddO1xuZXhwb3J0IHZhciBjcmVhdGVJbnYgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseSxcbiAgICB1bmFyeU1pbnVzLFxuICAgIGRldCxcbiAgICBpZGVudGl0eSxcbiAgICBhYnNcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgaW52ZXJzZSBvZiBhIHNxdWFyZSBtYXRyaXguXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguaW52KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5pbnYoW1sxLCAyXSwgWzMsIDRdXSkgIC8vIHJldHVybnMgW1stMiwgMV0sIFsxLjUsIC0wLjVdXVxuICAgKiAgICAgbWF0aC5pbnYoNCkgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMC4yNVxuICAgKiAgICAgMSAvIDQgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMC4yNVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIGRldCwgdHJhbnNwb3NlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICAgICBNYXRyaXggdG8gYmUgaW52ZXJzZWRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBUaGUgaW52ZXJzZSBvZiBgeGAuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHZhciBzaXplID0gaXNNYXRyaXgoeCkgPyB4LnNpemUoKSA6IGFycmF5U2l6ZSh4KTtcblxuICAgICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gdmVjdG9yXG4gICAgICAgICAgaWYgKHNpemVbMF0gPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICAgICAgICByZXR1cm4gbWF0cml4KFtkaXZpZGVTY2FsYXIoMSwgeC52YWx1ZU9mKClbMF0pXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gW2RpdmlkZVNjYWxhcigxLCB4WzBdKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgY29scyA9IHNpemVbMV07XG5cbiAgICAgICAgICAgIGlmIChyb3dzID09PSBjb2xzKSB7XG4gICAgICAgICAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXgoX2ludih4LnZhbHVlT2YoKSwgcm93cywgY29scyksIHguc3RvcmFnZSgpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gYW4gQXJyYXlcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ludih4LCByb3dzLCBjb2xzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSB0d28gZGltZW5zaW9uYWwgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhbnk6IGZ1bmN0aW9uIGFueSh4KSB7XG4gICAgICAvLyBzY2FsYXJcbiAgICAgIHJldHVybiBkaXZpZGVTY2FsYXIoMSwgeCk7IC8vIEZJWE1FOiBjcmVhdGUgYSBCaWdOdW1iZXIgb25lIHdoZW4gY29uZmlndXJlZCBmb3IgYmlnbnVtYmVyc1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGludmVyc2Ugb2YgYSBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXlbXX0gbWF0ICAgICBBIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgICAgIE51bWJlciBvZiByb3dzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzICAgICBOdW1iZXIgb2YgY29sdW1ucywgbXVzdCBlcXVhbCByb3dzXG4gICAqIEByZXR1cm4ge0FycmF5W119IGludiAgICBJbnZlcnNlIG1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfaW52KG1hdCwgcm93cywgY29scykge1xuICAgIHZhciByLCBzLCBmLCB2YWx1ZSwgdGVtcDtcblxuICAgIGlmIChyb3dzID09PSAxKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMSB4IDEgbWF0cml4XG4gICAgICB2YWx1ZSA9IG1hdFswXVswXTtcblxuICAgICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtbZGl2aWRlU2NhbGFyKDEsIHZhbHVlKV1dO1xuICAgIH0gZWxzZSBpZiAocm93cyA9PT0gMikge1xuICAgICAgLy8gdGhpcyBpcyBhIDIgeCAyIG1hdHJpeFxuICAgICAgdmFyIGQgPSBkZXQobWF0KTtcblxuICAgICAgaWYgKGQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1tkaXZpZGVTY2FsYXIobWF0WzFdWzFdLCBkKSwgZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMobWF0WzBdWzFdKSwgZCldLCBbZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMobWF0WzFdWzBdKSwgZCksIGRpdmlkZVNjYWxhcihtYXRbMF1bMF0sIGQpXV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBtYXRyaXggb2YgMyB4IDMgb3IgbGFyZ2VyXG4gICAgICAvLyBjYWxjdWxhdGUgaW52ZXJzZSB1c2luZyBnYXVzcy1qb3JkYW4gZWxpbWluYXRpb25cbiAgICAgIC8vICAgICAgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2F1c3NpYW5fZWxpbWluYXRpb25cbiAgICAgIC8vICAgICAgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9NYXRyaXhJbnZlcnNlLmh0bWxcbiAgICAgIC8vICAgICAgaHR0cDovL21hdGgudXd3LmVkdS9+bWNmYXJsYXQvaW52ZXJzZS5odG1cbiAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBtYXRyaXggKG9ubHkgdGhlIGFycmF5cywgbm90IG9mIHRoZSBlbGVtZW50cylcbiAgICAgIHZhciBBID0gbWF0LmNvbmNhdCgpO1xuXG4gICAgICBmb3IgKHIgPSAwOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgIEFbcl0gPSBBW3JdLmNvbmNhdCgpO1xuICAgICAgfSAvLyBjcmVhdGUgYW4gaWRlbnRpdHkgbWF0cml4IHdoaWNoIGluIHRoZSBlbmQgd2lsbCBjb250YWluIHRoZVxuICAgICAgLy8gbWF0cml4IGludmVyc2VcblxuXG4gICAgICB2YXIgQiA9IGlkZW50aXR5KHJvd3MpLnZhbHVlT2YoKTsgLy8gbG9vcCBvdmVyIGFsbCBjb2x1bW5zLCBhbmQgcGVyZm9ybSByb3cgcmVkdWN0aW9uc1xuXG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbHM7IGMrKykge1xuICAgICAgICAvLyBQaXZvdGluZzogU3dhcCByb3cgYyB3aXRoIHJvdyByLCB3aGVyZSByb3cgciBjb250YWlucyB0aGUgbGFyZ2VzdCBlbGVtZW50IEFbcl1bY11cbiAgICAgICAgdmFyIEFCaWcgPSBhYnMoQVtjXVtjXSk7XG4gICAgICAgIHZhciByQmlnID0gYztcbiAgICAgICAgciA9IGMgKyAxO1xuXG4gICAgICAgIHdoaWxlIChyIDwgcm93cykge1xuICAgICAgICAgIGlmIChhYnMoQVtyXVtjXSkgPiBBQmlnKSB7XG4gICAgICAgICAgICBBQmlnID0gYWJzKEFbcl1bY10pO1xuICAgICAgICAgICAgckJpZyA9IHI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFCaWcgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICAgIH1cblxuICAgICAgICByID0gckJpZztcblxuICAgICAgICBpZiAociAhPT0gYykge1xuICAgICAgICAgIHRlbXAgPSBBW2NdO1xuICAgICAgICAgIEFbY10gPSBBW3JdO1xuICAgICAgICAgIEFbcl0gPSB0ZW1wO1xuICAgICAgICAgIHRlbXAgPSBCW2NdO1xuICAgICAgICAgIEJbY10gPSBCW3JdO1xuICAgICAgICAgIEJbcl0gPSB0ZW1wO1xuICAgICAgICB9IC8vIGVsaW1pbmF0ZSBub24temVybyB2YWx1ZXMgb24gdGhlIG90aGVyIHJvd3MgYXQgY29sdW1uIGNcblxuXG4gICAgICAgIHZhciBBYyA9IEFbY107XG4gICAgICAgIHZhciBCYyA9IEJbY107XG5cbiAgICAgICAgZm9yIChyID0gMDsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICAgIHZhciBBciA9IEFbcl07XG4gICAgICAgICAgdmFyIEJyID0gQltyXTtcblxuICAgICAgICAgIGlmIChyICE9PSBjKSB7XG4gICAgICAgICAgICAvLyBlbGltaW5hdGUgdmFsdWUgYXQgY29sdW1uIGMgYW5kIHJvdyByXG4gICAgICAgICAgICBpZiAoQXJbY10gIT09IDApIHtcbiAgICAgICAgICAgICAgZiA9IGRpdmlkZVNjYWxhcih1bmFyeU1pbnVzKEFyW2NdKSwgQWNbY10pOyAvLyBhZGQgKGYgKiByb3cgYykgdG8gcm93IHIgdG8gZWxpbWluYXRlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgICAvLyBhdCBjb2x1bW4gY1xuXG4gICAgICAgICAgICAgIGZvciAocyA9IGM7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgICBBcltzXSA9IGFkZFNjYWxhcihBcltzXSwgbXVsdGlwbHkoZiwgQWNbc10pKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZvciAocyA9IDA7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgICBCcltzXSA9IGFkZFNjYWxhcihCcltzXSwgbXVsdGlwbHkoZiwgQmNbc10pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgdmFsdWUgYXQgQWNjIHRvIDEsXG4gICAgICAgICAgICAvLyBkaXZpZGUgZWFjaCB2YWx1ZSBvbiByb3cgciB3aXRoIHRoZSB2YWx1ZSBhdCBBY2NcbiAgICAgICAgICAgIGYgPSBBY1tjXTtcblxuICAgICAgICAgICAgZm9yIChzID0gYzsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICBBcltzXSA9IGRpdmlkZVNjYWxhcihBcltzXSwgZik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAocyA9IDA7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgQnJbc10gPSBkaXZpZGVTY2FsYXIoQnJbc10sIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gQjtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZGl2aWRlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdtdWx0aXBseScsICdlcXVhbFNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAnaW52J107XG5leHBvcnQgdmFyIGNyZWF0ZURpdmlkZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBtdWx0aXBseSxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgaW52XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIERpdmlkZSB0d28gdmFsdWVzLCBgeCAvIHlgLlxuICAgKiBUbyBkaXZpZGUgbWF0cmljZXMsIGB4YCBpcyBtdWx0aXBsaWVkIHdpdGggdGhlIGludmVyc2Ugb2YgYHlgOiBgeCAqIGludih5KWAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kaXZpZGUoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZGl2aWRlKDIsIDMpICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMC42NjY2NjY2NjY2NjY2NjY2XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoNSwgMTQpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5kaXZpZGUoYSwgYikgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMiArIDNpXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbWzcsIC02XSwgWzEzLCAtNF1dXG4gICAqICAgIGNvbnN0IGQgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIG1hdGguZGl2aWRlKGMsIGQpICAgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWy05LCA0XSwgWy0xMSwgNl1dXG4gICAqXG4gICAqICAgIGNvbnN0IGUgPSBtYXRoLnVuaXQoJzE4IGttJylcbiAgICogICAgbWF0aC5kaXZpZGUoZSwgNC41KSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNCBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHlcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4ICAgTnVtZXJhdG9yXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB5ICAgICAgICAgIERlbm9taW5hdG9yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gICAgICAgICAgICAgICAgICAgICAgUXVvdGllbnQsIGB4IC8geWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdkaXZpZGUnLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBkaXZpZGVTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdBcnJheSB8IE1hdHJpeCwgQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIFRPRE86IGltcGxlbWVudCBtYXRyaXggcmlnaHQgZGl2aXNpb24gdXNpbmcgcHNldWRvIGludmVyc2VcbiAgICAgIC8vIGh0dHBzOi8vd3d3Lm1hdGh3b3Jrcy5ubC9oZWxwL21hdGxhYi9yZWYvbXJkaXZpZGUuaHRtbFxuICAgICAgLy8gaHR0cHM6Ly93d3cuZ251Lm9yZy9zb2Z0d2FyZS9vY3RhdmUvZG9jL2ludGVycHJldGVyL0FyaXRobWV0aWMtT3BzLmh0bWxcbiAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyMjYzOTMyL2hvdy1kb2VzLWdudS1vY3RhdmUtbWF0cml4LWRpdmlzaW9uLXdvcmstZ2V0dGluZy11bmV4cGVjdGVkLWJlaGF2aW91clxuICAgICAgcmV0dXJuIG11bHRpcGx5KHgsIGludih5KSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gYW55QXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIG11bHRpcGx5KHgsIGludih5KSk7XG4gICAgfVxuICB9LCBkaXZpZGVTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiZnVuY3Rpb24gRSAoKSB7XG4gIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5tb2R1bGUuZXhwb3J0cy5UaW55RW1pdHRlciA9IEU7XG4iLCJmdW5jdGlvbiBpZChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5pZCA/IGAjJHtlbGVtZW50LmlkfWAgOiAnJ1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBjbGFzc1NlbGVjdG9yID0gJydcbiAgY29uc3QgY2xhc3NMaXN0ID0gZWxlbWVudC5jbGFzc0xpc3RcbiAgZm9yIChjb25zdCBjIG9mIGNsYXNzTGlzdCkge1xuICAgIGNsYXNzU2VsZWN0b3IgKz0gJy4nICsgY1xuICB9XG4gIHJldHVybiBjbGFzc1NlbGVjdG9yXG59XG5cbmZ1bmN0aW9uIG50aENoaWxkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBjaGlsZE51bWJlciA9IDBcbiAgY29uc3QgY2hpbGROb2RlcyA9IGVsZW1lbnQucGFyZW50Tm9kZSEuY2hpbGROb2Rlc1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgY2hpbGROb2Rlcykge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkgKytjaGlsZE51bWJlclxuICAgIGlmIChub2RlID09PSBlbGVtZW50KSByZXR1cm4gYDpudGgtY2hpbGQoJyR7Y2hpbGROdW1iZXJ9JylgXG4gIH1cbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgYXR0cmlidXRlcyA9ICcnXG4gIGZvciAoY29uc3QgYXR0ciBvZiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICBhdHRyaWJ1dGVzICs9IGBbJHthdHRyLm5hbWV9PVwiJHthdHRyLnZhbHVlfVwiXWBcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aChlbDogSFRNTEVsZW1lbnQsIHJvb3ROb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSA6IHN0cmluZyB7XG4gIGNvbnN0IHNlbGVjdG9yID0gZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICsgaWQoZWwpICsgY2xhc3NlcyhlbCkgKyBhdHRyaWJ1dGVzKGVsKSArIG50aENoaWxkKGVsKVxuICBjb25zdCBoYXNQYXJlbnQgPSBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUgIT09IHJvb3ROb2RlICYmIChlbC5wYXJlbnROb2RlIGFzIGFueSkudGFnTmFtZVxuICByZXR1cm4gaGFzUGFyZW50ID8gcGF0aChlbC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50LCByb290Tm9kZSkgKyAnID4gJyArIHNlbGVjdG9yIDogc2VsZWN0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc2goZWw6IEhUTUxFbGVtZW50KSB7XG4gIGNvbnN0IGNzc1BhdGggPSBwYXRoKGVsKVxuICBjb25zdCB0eXBlID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGVcbiAgY29uc3QgY2hlY2tlZCA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gIGNvbnN0IHZhbHVlID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXG4gIGNvbnN0IHRleHRDb250ZW50ID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnRleHRDb250ZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoXG4gIG5vZGU6IE5vZGUsXG4gIGVhY2g6IChub2RlOiBFbGVtZW50LCBsZXZlbDogbnVtYmVyKSA9PiBib29sZWFuLFxuICBiaW5kPzogYW55LFxuICBsZXZlbCA9IDBcbikge1xuICBsZXZlbCsrXG4gIGZvciAobGV0IGNoaWxkOiBOb2RlIHwgbnVsbCA9IG5vZGUuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICBjb25zdCBlbCA9IGNoaWxkIGFzIEVsZW1lbnRcbiAgICAgIGlmIChlYWNoLmNhbGwoYmluZCwgZWwsIGxldmVsKSkge1xuICAgICAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoZWwsIGVhY2gsIGJpbmQsIGxldmVsKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ1NTUnVsZShzaGVldDphbnksIHNlbGVjdG9yOnN0cmluZywgcnVsZXM6c3RyaW5nLCBpbmRleDpudW1iZXIpIDogdm9pZCB7XG4gIGlmICgnaW5zZXJ0UnVsZScgaW4gc2hlZXQpIHtcbiAgICBzaGVldC5pbnNlcnRSdWxlKHNlbGVjdG9yICsgJ3snICsgcnVsZXMgKyAnfScsIGluZGV4KVxuICB9IGVsc2UgaWYgKCdhZGRSdWxlJyBpbiBzaGVldCkge1xuICAgIHNoZWV0LmFkZFJ1bGUoc2VsZWN0b3IsIHJ1bGVzLCBpbmRleClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm91bmRzIHtcbiAgbGVmdCA9IDBcbiAgdG9wID0gMFxuICB3aWR0aCA9IDBcbiAgaGVpZ2h0ID0gMFxuICBjb3B5KHJlY3Q6IEJvdW5kcykge1xuICAgIHRoaXMudG9wID0gcmVjdC50b3BcbiAgICB0aGlzLmxlZnQgPSByZWN0LmxlZnRcbiAgICB0aGlzLndpZHRoID0gcmVjdC53aWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHRcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGdlcyB7XG4gIGxlZnQgPSAwXG4gIHRvcCA9IDBcbiAgcmlnaHQgPSAwXG4gIGJvdHRvbSA9IDBcbiAgY29weShyZWN0OiBFZGdlcykge1xuICAgIHRoaXMudG9wID0gcmVjdC50b3BcbiAgICB0aGlzLmxlZnQgPSByZWN0LmxlZnRcbiAgICB0aGlzLnJpZ2h0ID0gcmVjdC5yaWdodFxuICAgIHRoaXMuYm90dG9tID0gcmVjdC5ib3R0b21cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZHMoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGJvdW5kczogQm91bmRzID0gbmV3IEJvdW5kcygpLFxuICByZWZlcmVuY2VFbGVtZW50PzogRWxlbWVudFxuKSB7XG4gIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCFcbiAgY29uc3QgZG9jRWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50XG4gIGNvbnN0IGJvZHkgPSBkb2MuYm9keVxuXG4gIGlmIChlbGVtZW50ID09PSBkb2NFbCkge1xuICAgIHJldHVybiBnZXREb2N1bWVudEJvdW5kcyhkb2MsIGJvdW5kcylcbiAgfVxuXG4gIGlmIChyZWZlcmVuY2VFbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgYm91bmRzLmxlZnQgPSAwXG4gICAgYm91bmRzLnRvcCA9IDBcbiAgICBib3VuZHMud2lkdGggPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGhcbiAgICBib3VuZHMuaGVpZ2h0ID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldEhlaWdodFxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZGVmYXVsdFZpZXcgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQhLmRlZmF1bHRWaWV3IVxuICBsZXQgZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcblxuICBsZXQgY29tcHV0ZWRTdHlsZVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50XG4gIGxldCBwcmV2Q29tcHV0ZWRTdHlsZSA9IGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpXG4gIGxldCB0b3AgPSBlbC5vZmZzZXRUb3BcbiAgbGV0IGxlZnQgPSBlbC5vZmZzZXRMZWZ0XG5cbiAgaWYgKFxuICAgIG9mZnNldFBhcmVudCAmJlxuICAgIHJlZmVyZW5jZUVsZW1lbnQgJiZcbiAgICBvZmZzZXRQYXJlbnQuY29udGFpbnMocmVmZXJlbmNlRWxlbWVudCkgJiZcbiAgICBvZmZzZXRQYXJlbnQgIT09IHJlZmVyZW5jZUVsZW1lbnRcbiAgKSB7XG4gICAgZ2V0Qm91bmRzKHJlZmVyZW5jZUVsZW1lbnQsIGJvdW5kcywgb2Zmc2V0UGFyZW50KVxuICAgIGxlZnQgLT0gYm91bmRzLmxlZnRcbiAgICB0b3AgLT0gYm91bmRzLnRvcFxuICB9XG5cbiAgd2hpbGUgKFxuICAgIChlbCA9IGVsLnBhcmVudEVsZW1lbnQpICYmXG4gICAgZWwgIT09IGJvZHkgJiZcbiAgICBlbCAhPT0gZG9jRWwgJiZcbiAgICBlbCAhPT0gcmVmZXJlbmNlRWxlbWVudFxuICApIHtcbiAgICBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY29tcHV0ZWRTdHlsZSA9IGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpXG4gICAgdG9wIC09IGVsLnNjcm9sbFRvcFxuICAgIGxlZnQgLT0gZWwuc2Nyb2xsTGVmdFxuXG4gICAgaWYgKGVsID09PSBvZmZzZXRQYXJlbnQpIHtcbiAgICAgIHRvcCArPSBlbC5vZmZzZXRUb3BcbiAgICAgIGxlZnQgKz0gZWwub2Zmc2V0TGVmdFxuICAgICAgdG9wICs9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCkgfHwgMFxuICAgICAgbGVmdCArPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwXG4gICAgICBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnQgYXMgSFRNTEVsZW1lbnRcbiAgICB9XG5cbiAgICBwcmV2Q29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGVcbiAgfVxuXG4gIC8vIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3JlbGF0aXZlJyB8fCBwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgLy8gICBnZXREb2N1bWVudEJvdW5kcyhkb2MsIGJvdW5kcylcbiAgLy8gICB0b3AgKz0gYm91bmRzLnRvcFxuICAvLyAgIGxlZnQgKz0gYm91bmRzLmxlZnRcbiAgLy8gfVxuXG4gIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHRvcCArPSBNYXRoLm1heChkb2NFbC5zY3JvbGxUb3AsIGJvZHkuc2Nyb2xsVG9wKVxuICAgIGxlZnQgKz0gTWF0aC5tYXgoZG9jRWwuc2Nyb2xsTGVmdCwgYm9keS5zY3JvbGxMZWZ0KVxuICB9XG5cbiAgLy8gbGV0IGVsID0gZWxlbWVudFxuICAvLyBsZXQgbGVmdCA9IGVsLm9mZnNldExlZnRcbiAgLy8gbGV0IHRvcCA9IGVsLm9mZnNldFRvcFxuICAvLyBsZXQgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50XG4gIC8vIHdoaWxlIChlbCAmJiBlbC5ub2RlVHlwZSAhPT0gTm9kZS5ET0NVTUVOVF9OT0RFKSB7XG4gIC8vICAgbGVmdCAtPSBlbC5zY3JvbGxMZWZ0XG4gIC8vICAgdG9wIC09IGVsLnNjcm9sbFRvcFxuICAvLyAgIGlmIChlbCA9PT0gb2Zmc2V0UGFyZW50KSB7XG4gIC8vICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVxuICAvLyAgICAgbGVmdCArPSBlbC5vZmZzZXRMZWZ0ICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGghKSB8fCAwXG4gIC8vICAgICB0b3AgKz0gZWwub2Zmc2V0VG9wICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCEpIHx8IDBcbiAgLy8gICAgIG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudFxuICAvLyAgIH1cbiAgLy8gICBlbCA9IGVsLm9mZnNldFBhcmVudCBhcyBhbnlcbiAgLy8gfVxuXG4gIGJvdW5kcy5sZWZ0ID0gbGVmdFxuICBib3VuZHMudG9wID0gdG9wXG4gIGJvdW5kcy53aWR0aCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRXaWR0aFxuICBib3VuZHMuaGVpZ2h0ID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldEhlaWdodFxuICByZXR1cm4gYm91bmRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJnaW4oZWxlbWVudDogRWxlbWVudCwgbWFyZ2luOiBFZGdlcykge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIG1hcmdpbi5sZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5MZWZ0KSB8fCAwXG4gIG1hcmdpbi5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luUmlnaHQpIHx8IDBcbiAgbWFyZ2luLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luVG9wKSB8fCAwXG4gIG1hcmdpbi5ib3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSkgfHwgMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9yZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGJvcmRlcjogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBib3JkZXIubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwXG4gIGJvcmRlci5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgfHwgMFxuICBib3JkZXIudG9wID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgfHwgMFxuICBib3JkZXIuYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgfHwgMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFkZGluZyhlbGVtZW50OiBFbGVtZW50LCBwYWRkaW5nOiBFZGdlcykge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIHBhZGRpbmcubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpIHx8IDBcbiAgcGFkZGluZy5yaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1JpZ2h0KSB8fCAwXG4gIHBhZGRpbmcudG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSB8fCAwXG4gIHBhZGRpbmcuYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSB8fCAwXG59XG5cbi8qXG4gKiBPbiBzb21lIG1vYmlsZSBicm93c2VycywgdGhlIHZhbHVlIHJlcG9ydGVkIGJ5IHdpbmRvdy5pbm5lckhlaWdodFxuICogaXMgbm90IHRoZSB0cnVlIHZpZXdwb3J0IGhlaWdodC4gVGhpcyBtZXRob2QgcmV0dXJuc1xuICogdGhlIGFjdHVhbCB2aWV3cG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdwb3J0Qm91bmRzKGJvdW5kczogQm91bmRzKSB7XG4gIGlmICghdmlld3BvcnRUZXN0ZXIucGFyZW50Tm9kZSkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZCh2aWV3cG9ydFRlc3RlcilcbiAgYm91bmRzLmxlZnQgPSBwYWdlWE9mZnNldFxuICBib3VuZHMudG9wID0gcGFnZVlPZmZzZXRcbiAgYm91bmRzLndpZHRoID0gdmlld3BvcnRUZXN0ZXIub2Zmc2V0V2lkdGhcbiAgYm91bmRzLmhlaWdodCA9IHZpZXdwb3J0VGVzdGVyLm9mZnNldEhlaWdodFxuICByZXR1cm4gYm91bmRzXG59XG5jb25zdCB2aWV3cG9ydFRlc3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG52aWV3cG9ydFRlc3Rlci5pZCA9ICdWSUVXUE9SVCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUud2lkdGggPSAnMTAwdncnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50Qm91bmRzKGRvY3VtZW50OiBEb2N1bWVudCwgYm91bmRzOiBCb3VuZHMpIHtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudEVsZW1lbnQpXG4gIGNvbnN0IGJvZHlTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoYm9keSlcbiAgYm91bmRzLnRvcCA9XG4gICAgYm9keS5vZmZzZXRUb3AgKyBwYXJzZUZsb2F0KGRvY3VtZW50RWxlbWVudFN0eWxlLm1hcmdpblRvcCBhcyAnJykgfHxcbiAgICAwICsgcGFyc2VGbG9hdChib2R5U3R5bGUubWFyZ2luVG9wIGFzICcnKSB8fFxuICAgIDBcbiAgYm91bmRzLmxlZnQgPVxuICAgIGJvZHkub2Zmc2V0TGVmdCArIHBhcnNlRmxvYXQoZG9jdW1lbnRFbGVtZW50U3R5bGUubWFyZ2luTGVmdCBhcyAnJykgfHxcbiAgICAwICsgcGFyc2VGbG9hdChib2R5U3R5bGUubWFyZ2luTGVmdCBhcyAnJykgfHxcbiAgICAwXG4gIGJvdW5kcy53aWR0aCA9IE1hdGgubWF4KFxuICAgIE1hdGgubWF4KGJvZHkuc2Nyb2xsV2lkdGgsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCksXG4gICAgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSxcbiAgICBNYXRoLm1heChib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gIClcbiAgYm91bmRzLmhlaWdodCA9IE1hdGgubWF4KFxuICAgIE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KSxcbiAgICBNYXRoLm1heChib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCksXG4gICAgTWF0aC5tYXgoYm9keS5jbGllbnRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpXG4gIClcbiAgcmV0dXJuIGJvdW5kc1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBET00oaHRtbDpzdHJpbmcpIHtcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHdyYXBwZXIuaW5uZXJIVE1MID0gaHRtbFxuICBjb25zdCBlbCA9IHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQhXG4gIHdyYXBwZXIucmVtb3ZlQ2hpbGQoZWwpXG4gIHJldHVybiBlbFxufSIsIihmdW5jdGlvbihsKXtmdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGsoYSxjKXthPXZvaWQgMD09PWE/XCJ1dGYtOFwiOmE7Yz12b2lkIDA9PT1jP3tmYXRhbDohMX06YztpZigtMT09PXIuaW5kZXhPZihhLnRvTG93ZXJDYXNlKCkpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnVGV4dERlY29kZXInOiBUaGUgZW5jb2RpbmcgbGFiZWwgcHJvdmlkZWQgKCdcIithK1wiJykgaXMgaW52YWxpZC5cIik7aWYoYy5mYXRhbCl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogdGhlICdmYXRhbCcgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTt9ZnVuY3Rpb24gdChhKXtyZXR1cm4gQnVmZmVyLmZyb20oYS5idWZmZXIsYS5ieXRlT2Zmc2V0LGEuYnl0ZUxlbmd0aCkudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiB1KGEpe3ZhciBjPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2FdLHt0eXBlOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9KSk7XG50cnl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O2Yub3BlbihcIkdFVFwiLGMsITEpO2Yuc2VuZCgpO3JldHVybiBmLnJlc3BvbnNlVGV4dH1jYXRjaChlKXtyZXR1cm4gcShhKX1maW5hbGx5e1VSTC5yZXZva2VPYmplY3RVUkwoYyl9fWZ1bmN0aW9uIHEoYSl7Zm9yKHZhciBjPTAsZj1NYXRoLm1pbig2NTUzNixhLmxlbmd0aCsxKSxlPW5ldyBVaW50MTZBcnJheShmKSxoPVtdLGQ9MDs7KXt2YXIgYj1jPGEubGVuZ3RoO2lmKCFifHxkPj1mLTEpe2gucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5zdWJhcnJheSgwLGQpKSk7aWYoIWIpcmV0dXJuIGguam9pbihcIlwiKTthPWEuc3ViYXJyYXkoYyk7ZD1jPTB9Yj1hW2MrK107aWYoMD09PShiJjEyOCkpZVtkKytdPWI7ZWxzZSBpZigxOTI9PT0oYiYyMjQpKXt2YXIgZz1hW2MrK10mNjM7ZVtkKytdPShiJjMxKTw8NnxnfWVsc2UgaWYoMjI0PT09KGImMjQwKSl7Zz1hW2MrK10mNjM7dmFyIG49YVtjKytdJjYzO2VbZCsrXT1cbihiJjMxKTw8MTJ8Zzw8NnxufWVsc2UgaWYoMjQwPT09KGImMjQ4KSl7Zz1hW2MrK10mNjM7bj1hW2MrK10mNjM7dmFyIHY9YVtjKytdJjYzO2I9KGImNyk8PDE4fGc8PDEyfG48PDZ8djs2NTUzNTxiJiYoYi09NjU1MzYsZVtkKytdPWI+Pj4xMCYxMDIzfDU1Mjk2LGI9NTYzMjB8YiYxMDIzKTtlW2QrK109Yn19fWlmKGwuVGV4dEVuY29kZXImJmwuVGV4dERlY29kZXIpcmV0dXJuITE7dmFyIHI9W1widXRmLThcIixcInV0ZjhcIixcInVuaWNvZGUtMS0xLXV0Zi04XCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtLnByb3RvdHlwZSxcImVuY29kaW5nXCIse3ZhbHVlOlwidXRmLThcIn0pO20ucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGMpe2M9dm9pZCAwPT09Yz97c3RyZWFtOiExfTpjO2lmKGMuc3RyZWFtKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGVuY29kZTogdGhlICdzdHJlYW0nIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7Yz0wO2Zvcih2YXIgZj1hLmxlbmd0aCxlPTAsaD1NYXRoLm1heCgzMixcbmYrKGY+Pj4xKSs3KSxkPW5ldyBVaW50OEFycmF5KGg+Pj4zPDwzKTtjPGY7KXt2YXIgYj1hLmNoYXJDb2RlQXQoYysrKTtpZig1NTI5Njw9YiYmNTYzMTk+PWIpe2lmKGM8Zil7dmFyIGc9YS5jaGFyQ29kZUF0KGMpOzU2MzIwPT09KGcmNjQ1MTIpJiYoKytjLGI9KChiJjEwMjMpPDwxMCkrKGcmMTAyMykrNjU1MzYpfWlmKDU1Mjk2PD1iJiY1NjMxOT49Yiljb250aW51ZX1lKzQ+ZC5sZW5ndGgmJihoKz04LGgqPTErYy9hLmxlbmd0aCoyLGg9aD4+PjM8PDMsZz1uZXcgVWludDhBcnJheShoKSxnLnNldChkKSxkPWcpO2lmKDA9PT0oYiY0Mjk0OTY3MTY4KSlkW2UrK109YjtlbHNle2lmKDA9PT0oYiY0Mjk0OTY1MjQ4KSlkW2UrK109Yj4+PjYmMzF8MTkyO2Vsc2UgaWYoMD09PShiJjQyOTQ5MDE3NjApKWRbZSsrXT1iPj4+MTImMTV8MjI0LGRbZSsrXT1iPj4+NiY2M3wxMjg7ZWxzZSBpZigwPT09KGImNDI5Mjg3MDE0NCkpZFtlKytdPWI+Pj4xOCY3fDI0MCxkW2UrK109Yj4+PjEyJlxuNjN8MTI4LGRbZSsrXT1iPj4+NiY2M3wxMjg7ZWxzZSBjb250aW51ZTtkW2UrK109YiY2M3wxMjh9fXJldHVybiBkLnNsaWNlP2Quc2xpY2UoMCxlKTpkLnN1YmFycmF5KDAsZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImVuY29kaW5nXCIse3ZhbHVlOlwidXRmLThcIn0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImZhdGFsXCIse3ZhbHVlOiExfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwiaWdub3JlQk9NXCIse3ZhbHVlOiExfSk7dmFyIHA9cTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgQnVmZmVyJiZCdWZmZXIuZnJvbT9wPXQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIEJsb2ImJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBVUkwmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiYocD11KTtrLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxjKXtjPXZvaWQgMD09PWM/e3N0cmVhbTohMX06YztpZihjLnN0cmVhbSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO1xuYT1hIGluc3RhbmNlb2YgVWludDhBcnJheT9hOmEuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIpOm5ldyBVaW50OEFycmF5KGEpO3JldHVybiBwKGEpfTtsLlRleHRFbmNvZGVyPW07bC5UZXh0RGVjb2Rlcj1rfSkoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzKTtcbiIsIi8qKlxuICogQSBkb3VibHkgbGlua2VkIGxpc3QtYmFzZWQgTGVhc3QgUmVjZW50bHkgVXNlZCAoTFJVKSBjYWNoZS4gV2lsbCBrZWVwIG1vc3RcbiAqIHJlY2VudGx5IHVzZWQgaXRlbXMgd2hpbGUgZGlzY2FyZGluZyBsZWFzdCByZWNlbnRseSB1c2VkIGl0ZW1zIHdoZW4gaXRzIGxpbWl0XG4gKiBpcyByZWFjaGVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVC4gQ29weXJpZ2h0IChjKSAyMDEwIFJhc211cyBBbmRlcnNzb24gPGh0dHA6Ly9odW5jaC5zZS8+XG4gKiBTZWUgUkVBRE1FLm1kIGZvciBkZXRhaWxzLlxuICpcbiAqIElsbHVzdHJhdGlvbiBvZiB0aGUgZGVzaWduOlxuICpcbiAqICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5ICAgICAgICAgICAgIGVudHJ5XG4gKiAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX18gICAgICAgICAgICBfX19fX19cbiAqICAgICAgfCBoZWFkIHwubmV3ZXIgPT4gfCAgICAgIHwubmV3ZXIgPT4gfCAgICAgIHwubmV3ZXIgPT4gfCB0YWlsIHxcbiAqICAgICAgfCAgQSAgIHwgICAgICAgICAgfCAgQiAgIHwgICAgICAgICAgfCAgQyAgIHwgICAgICAgICAgfCAgRCAgIHxcbiAqICAgICAgfF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3wgPD0gb2xkZXIufF9fX19fX3xcbiAqXG4gKiAgcmVtb3ZlZCAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIGFkZGVkXG4gKi9cbihmdW5jdGlvbihnLGYpe1xuICBjb25zdCBlID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgPyBleHBvcnRzIDogdHlwZW9mIGcgPT0gJ29iamVjdCcgPyBnIDoge307XG4gIGYoZSk7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyBkZWZpbmUoJ2xydScsIGUpOyB9XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cbmNvbnN0IE5FV0VSID0gU3ltYm9sKCduZXdlcicpO1xuY29uc3QgT0xERVIgPSBTeW1ib2woJ29sZGVyJyk7XG5cbmZ1bmN0aW9uIExSVU1hcChsaW1pdCwgZW50cmllcykge1xuICBpZiAodHlwZW9mIGxpbWl0ICE9PSAnbnVtYmVyJykge1xuICAgIC8vIGNhbGxlZCBhcyAoZW50cmllcylcbiAgICBlbnRyaWVzID0gbGltaXQ7XG4gICAgbGltaXQgPSAwO1xuICB9XG5cbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9rZXltYXAgPSBuZXcgTWFwKCk7XG5cbiAgaWYgKGVudHJpZXMpIHtcbiAgICB0aGlzLmFzc2lnbihlbnRyaWVzKTtcbiAgICBpZiAobGltaXQgPCAxKSB7XG4gICAgICB0aGlzLmxpbWl0ID0gdGhpcy5zaXplO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnRzLkxSVU1hcCA9IExSVU1hcDtcblxuZnVuY3Rpb24gRW50cnkoa2V5LCB2YWx1ZSkge1xuICB0aGlzLmtleSA9IGtleTtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB0aGlzW05FV0VSXSA9IHVuZGVmaW5lZDtcbiAgdGhpc1tPTERFUl0gPSB1bmRlZmluZWQ7XG59XG5cblxuTFJVTWFwLnByb3RvdHlwZS5fbWFya0VudHJ5QXNVc2VkID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdCkge1xuICAgIC8vIEFscmVhZHkgdGhlIG1vc3QgcmVjZW5sdHkgdXNlZCBlbnRyeSwgc28gbm8gbmVlZCB0byB1cGRhdGUgdGhlIGxpc3RcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gSEVBRC0tLS0tLS0tLS0tLS0tVEFJTFxuICAvLyAgIDwub2xkZXIgICAubmV3ZXI+XG4gIC8vICA8LS0tIGFkZCBkaXJlY3Rpb24gLS1cbiAgLy8gICBBICBCICBDICA8RD4gIEVcbiAgaWYgKGVudHJ5W05FV0VSXSkge1xuICAgIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3QpIHtcbiAgICAgIHRoaXMub2xkZXN0ID0gZW50cnlbTkVXRVJdO1xuICAgIH1cbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gZW50cnlbT0xERVJdOyAvLyBDIDwtLSBFLlxuICB9XG4gIGlmIChlbnRyeVtPTERFUl0pIHtcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gZW50cnlbTkVXRVJdOyAvLyBDLiAtLT4gRVxuICB9XG4gIGVudHJ5W05FV0VSXSA9IHVuZGVmaW5lZDsgLy8gRCAtLXhcbiAgZW50cnlbT0xERVJdID0gdGhpcy5uZXdlc3Q7IC8vIEQuIC0tPiBFXG4gIGlmICh0aGlzLm5ld2VzdCkge1xuICAgIHRoaXMubmV3ZXN0W05FV0VSXSA9IGVudHJ5OyAvLyBFLiA8LS0gRFxuICB9XG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmFzc2lnbiA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgbGV0IGVudHJ5LCBsaW1pdCA9IHRoaXMubGltaXQgfHwgTnVtYmVyLk1BWF9WQUxVRTtcbiAgdGhpcy5fa2V5bWFwLmNsZWFyKCk7XG4gIGxldCBpdCA9IGVudHJpZXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICBmb3IgKGxldCBpdHYgPSBpdC5uZXh0KCk7ICFpdHYuZG9uZTsgaXR2ID0gaXQubmV4dCgpKSB7XG4gICAgbGV0IGUgPSBuZXcgRW50cnkoaXR2LnZhbHVlWzBdLCBpdHYudmFsdWVbMV0pO1xuICAgIHRoaXMuX2tleW1hcC5zZXQoZS5rZXksIGUpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHRoaXMub2xkZXN0ID0gZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnlbTkVXRVJdID0gZTtcbiAgICAgIGVbT0xERVJdID0gZW50cnk7XG4gICAgfVxuICAgIGVudHJ5ID0gZTtcbiAgICBpZiAobGltaXQtLSA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ292ZXJmbG93Jyk7XG4gICAgfVxuICB9XG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG4gIHRoaXMuc2l6ZSA9IHRoaXMuX2tleW1hcC5zaXplO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgLy8gRmlyc3QsIGZpbmQgb3VyIGNhY2hlIGVudHJ5XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgaWYgKCFlbnRyeSkgcmV0dXJuOyAvLyBOb3QgY2FjaGVkLiBTb3JyeS5cbiAgLy8gQXMgPGtleT4gd2FzIGZvdW5kIGluIHRoZSBjYWNoZSwgcmVnaXN0ZXIgaXQgYXMgYmVpbmcgcmVxdWVzdGVkIHJlY2VudGx5XG4gIHRoaXMuX21hcmtFbnRyeUFzVXNlZChlbnRyeSk7XG4gIHJldHVybiBlbnRyeS52YWx1ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG5cbiAgaWYgKGVudHJ5KSB7XG4gICAgLy8gdXBkYXRlIGV4aXN0aW5nXG4gICAgZW50cnkudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLl9tYXJrRW50cnlBc1VzZWQoZW50cnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gbmV3IGVudHJ5XG4gIHRoaXMuX2tleW1hcC5zZXQoa2V5LCAoZW50cnkgPSBuZXcgRW50cnkoa2V5LCB2YWx1ZSkpKTtcblxuICBpZiAodGhpcy5uZXdlc3QpIHtcbiAgICAvLyBsaW5rIHByZXZpb3VzIHRhaWwgdG8gdGhlIG5ldyB0YWlsIChlbnRyeSlcbiAgICB0aGlzLm5ld2VzdFtORVdFUl0gPSBlbnRyeTtcbiAgICBlbnRyeVtPTERFUl0gPSB0aGlzLm5ld2VzdDtcbiAgfSBlbHNlIHtcbiAgICAvLyB3ZSdyZSBmaXJzdCBpbiAtLSB5YXlcbiAgICB0aGlzLm9sZGVzdCA9IGVudHJ5O1xuICB9XG5cbiAgLy8gYWRkIG5ldyBlbnRyeSB0byB0aGUgZW5kIG9mIHRoZSBsaW5rZWQgbGlzdCAtLSBpdCdzIG5vdyB0aGUgZnJlc2hlc3QgZW50cnkuXG4gIHRoaXMubmV3ZXN0ID0gZW50cnk7XG4gICsrdGhpcy5zaXplO1xuICBpZiAodGhpcy5zaXplID4gdGhpcy5saW1pdCkge1xuICAgIC8vIHdlIGhpdCB0aGUgbGltaXQgLS0gcmVtb3ZlIHRoZSBoZWFkXG4gICAgdGhpcy5zaGlmdCgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIHRvZG86IGhhbmRsZSBzcGVjaWFsIGNhc2Ugd2hlbiBsaW1pdCA9PSAxXG4gIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICBpZiAoZW50cnkpIHtcbiAgICBpZiAodGhpcy5vbGRlc3RbTkVXRVJdKSB7XG4gICAgICAvLyBhZHZhbmNlIHRoZSBsaXN0XG4gICAgICB0aGlzLm9sZGVzdCA9IHRoaXMub2xkZXN0W05FV0VSXTtcbiAgICAgIHRoaXMub2xkZXN0W09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhlIGNhY2hlIGlzIGV4aGF1c3RlZFxuICAgICAgdGhpcy5vbGRlc3QgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGxhc3Qgc3Ryb25nIHJlZmVyZW5jZSB0byA8ZW50cnk+IGFuZCByZW1vdmUgbGlua3MgZnJvbSB0aGUgcHVyZ2VkXG4gICAgLy8gZW50cnkgYmVpbmcgcmV0dXJuZWQ6XG4gICAgZW50cnlbTkVXRVJdID0gZW50cnlbT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2tleW1hcC5kZWxldGUoZW50cnkua2V5KTtcbiAgICAtLXRoaXMuc2l6ZTtcbiAgICByZXR1cm4gW2VudHJ5LmtleSwgZW50cnkudmFsdWVdO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBGb2xsb3dpbmcgY29kZSBpcyBvcHRpb25hbCBhbmQgY2FuIGJlIHJlbW92ZWQgd2l0aG91dCBicmVha2luZyB0aGUgY29yZVxuLy8gZnVuY3Rpb25hbGl0eS5cblxuTFJVTWFwLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oa2V5KSB7XG4gIGxldCBlID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuICByZXR1cm4gZSA/IGUudmFsdWUgOiB1bmRlZmluZWQ7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5fa2V5bWFwLmhhcyhrZXkpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihrZXkpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuICBpZiAoIWVudHJ5KSByZXR1cm47XG4gIHRoaXMuX2tleW1hcC5kZWxldGUoZW50cnkua2V5KTtcbiAgaWYgKGVudHJ5W05FV0VSXSAmJiBlbnRyeVtPTERFUl0pIHtcbiAgICAvLyByZWxpbmsgdGhlIG9sZGVyIGVudHJ5IHdpdGggdGhlIG5ld2VyIGVudHJ5XG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IGVudHJ5W05FV0VSXTtcbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gZW50cnlbT0xERVJdO1xuICB9IGVsc2UgaWYgKGVudHJ5W05FV0VSXSkge1xuICAgIC8vIHJlbW92ZSB0aGUgbGluayB0byB1c1xuICAgIGVudHJ5W05FV0VSXVtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgLy8gbGluayB0aGUgbmV3ZXIgZW50cnkgdG8gaGVhZFxuICAgIHRoaXMub2xkZXN0ID0gZW50cnlbTkVXRVJdO1xuICB9IGVsc2UgaWYgKGVudHJ5W09MREVSXSkge1xuICAgIC8vIHJlbW92ZSB0aGUgbGluayB0byB1c1xuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSB1bmRlZmluZWQ7XG4gICAgLy8gbGluayB0aGUgbmV3ZXIgZW50cnkgdG8gaGVhZFxuICAgIHRoaXMubmV3ZXN0ID0gZW50cnlbT0xERVJdO1xuICB9IGVsc2Ugey8vIGlmKGVudHJ5W09MREVSXSA9PT0gdW5kZWZpbmVkICYmIGVudHJ5Lm5ld2VyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdGhpcy5zaXplLS07XG4gIHJldHVybiBlbnRyeS52YWx1ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgLy8gTm90IGNsZWFyaW5nIGxpbmtzIHNob3VsZCBiZSBzYWZlLCBhcyB3ZSBkb24ndCBleHBvc2UgbGl2ZSBsaW5rcyB0byB1c2VyXG4gIHRoaXMub2xkZXN0ID0gdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX2tleW1hcC5jbGVhcigpO1xufTtcblxuXG5mdW5jdGlvbiBFbnRyeUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuRW50cnlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuRW50cnlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogW2VudC5rZXksIGVudC52YWx1ZV0gfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gS2V5SXRlcmF0b3Iob2xkZXN0RW50cnkpIHsgdGhpcy5lbnRyeSA9IG9sZGVzdEVudHJ5OyB9XG5LZXlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuS2V5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IGVudC5rZXkgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFZhbHVlSXRlcmF0b3Iob2xkZXN0RW50cnkpIHsgdGhpcy5lbnRyeSA9IG9sZGVzdEVudHJ5OyB9XG5WYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9XG5WYWx1ZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnQudmFsdWUgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gIH1cbn07XG5cblxuTFJVTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgS2V5SXRlcmF0b3IodGhpcy5vbGRlc3QpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBWYWx1ZUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbkxSVU1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEVudHJ5SXRlcmF0b3IodGhpcy5vbGRlc3QpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZnVuLCB0aGlzT2JqKSB7XG4gIGlmICh0eXBlb2YgdGhpc09iaiAhPT0gJ29iamVjdCcpIHtcbiAgICB0aGlzT2JqID0gdGhpcztcbiAgfVxuICBsZXQgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgZnVuLmNhbGwodGhpc09iaiwgZW50cnkudmFsdWUsIGVudHJ5LmtleSwgdGhpcyk7XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gIH1cbn07XG5cbi8qKiBSZXR1cm5zIGEgSlNPTiAoYXJyYXkpIHJlcHJlc2VudGF0aW9uICovXG5MUlVNYXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcyA9IG5ldyBBcnJheSh0aGlzLnNpemUpLCBpID0gMCwgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgc1tpKytdID0geyBrZXk6IGVudHJ5LmtleSwgdmFsdWU6IGVudHJ5LnZhbHVlIH07XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gIH1cbiAgcmV0dXJuIHM7XG59O1xuXG4vKiogUmV0dXJucyBhIFN0cmluZyByZXByZXNlbnRhdGlvbiAqL1xuTFJVTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcyA9ICcnLCBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICBzICs9IFN0cmluZyhlbnRyeS5rZXkpKyc6JytlbnRyeS52YWx1ZTtcbiAgICBlbnRyeSA9IGVudHJ5W05FV0VSXTtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHMgKz0gJyA8ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBzO1xufTtcblxufSk7XG4iLCIvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vY2J1cmdtZXIveG1sc2VyaWFsaXplciBcblxuZnVuY3Rpb24gcmVtb3ZlSW52YWxpZENoYXJhY3RlcnMoY29udGVudDpzdHJpbmcpIHtcbiAgICAvLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIveG1sLyNOVC1DaGFyIGZvciB2YWxpZCBYTUwgMS4wIGNoYXJhY3RlcnNcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZdL2csICcnKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXR0cmlidXRlVmFsdWUgKHZhbHVlOnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAucmVwbGFjZSgvJy9nLCAnJmFwb3M7Jylcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVGV4dENvbnRlbnQgKGNvbnRlbnQ6c3RyaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGUgKG5hbWU6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpIHtcbiAgICByZXR1cm4gJyAnICsgbmFtZSArICc9XCInICsgc2VyaWFsaXplQXR0cmlidXRlVmFsdWUodmFsdWUpICsgJ1wiJ1xufVxuXG5mdW5jdGlvbiBnZXRUYWdOYW1lKG5vZGU6RWxlbWVudCkge1xuICAgIHZhciB0YWdOYW1lID0gbm9kZS50YWdOYW1lXG4gICAgLy8gQWlkIGluIHNlcmlhbGl6aW5nIG9mIG9yaWdpbmFsIEhUTUwgZG9jdW1lbnRzXG4gICAgaWYgKG5vZGUubmFtZXNwYWNlVVJJID09PSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcpIHtcbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgIH1cbiAgICByZXR1cm4gdGFnTmFtZVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOYW1lc3BhY2Uobm9kZTpFbGVtZW50LCBpc1Jvb3ROb2RlOmJvb2xlYW4pIHtcbiAgICBjb25zdCBub2RlSGFzWG1sbnNBdHRyID0gbm9kZS5oYXNBdHRyaWJ1dGUoJ3htbG5zJylcbiAgICAvLyBTZXJpYWxpemUgdGhlIG5hbWVzcGFjZSBhcyBhbiB4bWxucyBhdHRyaWJ1dGUgd2hlbmV2ZXIgdGhlIGVsZW1lbnRcbiAgICAvLyBkb2Vzbid0IGFscmVhZHkgaGF2ZSBvbmUgYW5kIHRoZSBpbmhlcml0ZWQgbmFtZXNwYWNlIGRvZXMgbm90IG1hdGNoXG4gICAgLy8gdGhlIGVsZW1lbnQncyBuYW1lc3BhY2UuXG4gICAgaWYgKCFub2RlSGFzWG1sbnNBdHRyICYmXG4gICAgICAgIChpc1Jvb3ROb2RlIHx8XG4gICAgICAgICAgICBub2RlLm5hbWVzcGFjZVVSSSAhPT0gbm9kZS5wYXJlbnRFbGVtZW50IS5uYW1lc3BhY2VVUkkpKSB7XG4gICAgICAgIHJldHVybiAnIHhtbG5zPVwiJyArIG5vZGUubmFtZXNwYWNlVVJJICsgJ1wiJ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQ2hpbGRyZW4obm9kZTpFbGVtZW50LCBvcHRpb25zOk9wdGlvbnMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJydcbiAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZS5jaGlsZE5vZGVzKSBvdXRwdXQgKz0gbm9kZVRyZWVUb1hIVE1MKG4sIG9wdGlvbnMpXG4gICAgcmV0dXJuIG91dHB1dFxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVUYWcobm9kZTpFbGVtZW50LCBvcHRpb25zOk9wdGlvbnMpIHtcbiAgICBsZXQgb3V0cHV0ID0gJzwnICsgZ2V0VGFnTmFtZShub2RlKVxuICAgIG91dHB1dCArPSBzZXJpYWxpemVOYW1lc3BhY2Uobm9kZSwgb3B0aW9ucy5kZXB0aCA9PT0gMClcbiAgICBcbiAgICBmb3IgKGNvbnN0IGF0dHIgb2Ygbm9kZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIG91dHB1dCArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKVxuICAgIH1cblxuICAgIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBvcHRpb25zLmRlcHRoKytcbiAgICAgICAgb3V0cHV0ICs9ICc+J1xuICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplQ2hpbGRyZW4obm9kZSwgb3B0aW9ucylcbiAgICAgICAgb3V0cHV0ICs9ICc8LycgKyBnZXRUYWdOYW1lKG5vZGUpICsgJz4nXG4gICAgICAgIG9wdGlvbnMuZGVwdGgtLVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dCArPSAnLz4nXG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVGV4dChub2RlOlRleHQpIHtcbiAgICB2YXIgdGV4dCA9IG5vZGUubm9kZVZhbHVlIHx8ICcnXG4gICAgcmV0dXJuIHNlcmlhbGl6ZVRleHRDb250ZW50KHRleHQpXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvbW1lbnQobm9kZTpDb21tZW50KSB7XG4gICAgcmV0dXJuICc8IS0tJyArXG4gICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAucmVwbGFjZSgvLS9nLCAnJiM0NTsnKSArXG4gICAgICAgICctLT4nXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNEQVRBKG5vZGU6Tm9kZSkge1xuICAgIHJldHVybiAnPCFbQ0RBVEFbJyArIG5vZGUubm9kZVZhbHVlICsgJ11dPidcbn1cblxuZnVuY3Rpb24gbm9kZVRyZWVUb1hIVE1MKG5vZGU6Tm9kZSwgb3B0aW9uczpPcHRpb25zKSA6IHN0cmluZyB7XG4gICAgY29uc3QgcmVwbGFjZWQgPSBvcHRpb25zLnJlcGxhY2VyPy4obm9kZSlcbiAgICBpZiAodHlwZW9mIHJlcGxhY2VkID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcmVwbGFjZWRcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8XG4gICAgICAgIG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQtZnJhZ21lbnQnKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVDaGlsZHJlbihub2RlIGFzIEVsZW1lbnQsIG9wdGlvbnMpXG4gICAgfSBlbHNlIGlmICgobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVUYWcobm9kZSBhcyBFbGVtZW50LCBvcHRpb25zKVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplVGV4dChub2RlIGFzIFRleHQpXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnI2NvbW1lbnQnKSB7XG4gICAgICAgIC8vIHJldHVybiBzZXJpYWxpemVDb21tZW50KG5vZGUgYXMgQ29tbWVudClcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjY2RhdGEtc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUNEQVRBKG5vZGUpXG4gICAgfVxuICAgIHJldHVybiAnJ1xufVxuXG5pbnRlcmZhY2UgT3B0aW9ucyB7XG4gICAgZGVwdGg6bnVtYmVyLFxuICAgIHJlcGxhY2VyPzoobm9kZTpOb2RlKT0+c3RyaW5nfHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVRvU3RyaW5nKG5vZGU6RWxlbWVudCwgcmVwbGFjZXI6T3B0aW9uc1sncmVwbGFjZXInXSkge1xuICAgIHJldHVybiByZW1vdmVJbnZhbGlkQ2hhcmFjdGVycyhub2RlVHJlZVRvWEhUTUwobm9kZSwge2RlcHRoOiAwLCByZXBsYWNlcn0pKVxufSIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIC8vIEhhY2sgdG8gbWFrZSBhbGwgZXhwb3J0cyBvZiB0aGlzIG1vZHVsZSBzaGEyNTYgZnVuY3Rpb24gb2JqZWN0IHByb3BlcnRpZXMuXG4gICAgdmFyIGV4cG9ydHMgPSB7fTtcbiAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIHZhciBzaGEyNTYgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbiAgICBmb3IgKHZhciBrIGluIGV4cG9ydHMpIHtcbiAgICAgICAgc2hhMjU2W2tdID0gZXhwb3J0c1trXTtcbiAgICB9XG4gICAgICAgIFxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gc2hhMjU2O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIHNoYTI1NjsgfSk7IFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3Quc2hhMjU2ID0gc2hhMjU2O1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8vIFNIQS0yNTYgKCsgSE1BQyBhbmQgUEJLREYyKSBmb3IgSmF2YVNjcmlwdC5cbi8vXG4vLyBXcml0dGVuIGluIDIwMTQtMjAxNiBieSBEbWl0cnkgQ2hlc3RueWtoLlxuLy8gUHVibGljIGRvbWFpbiwgbm8gd2FycmFudHkuXG4vL1xuLy8gRnVuY3Rpb25zIChhY2NlcHQgYW5kIHJldHVybiBVaW50OEFycmF5cyk6XG4vL1xuLy8gICBzaGEyNTYobWVzc2FnZSkgLT4gaGFzaFxuLy8gICBzaGEyNTYuaG1hYyhrZXksIG1lc3NhZ2UpIC0+IG1hY1xuLy8gICBzaGEyNTYucGJrZGYyKHBhc3N3b3JkLCBzYWx0LCByb3VuZHMsIGRrTGVuKSAtPiBka1xuLy9cbi8vICBDbGFzc2VzOlxuLy9cbi8vICAgbmV3IHNoYTI1Ni5IYXNoKClcbi8vICAgbmV3IHNoYTI1Ni5ITUFDKGtleSlcbi8vXG5leHBvcnRzLmRpZ2VzdExlbmd0aCA9IDMyO1xuZXhwb3J0cy5ibG9ja1NpemUgPSA2NDtcbi8vIFNIQS0yNTYgY29uc3RhbnRzXG52YXIgSyA9IG5ldyBVaW50MzJBcnJheShbXG4gICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YixcbiAgICAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LCAweGQ4MDdhYTk4LCAweDEyODM1YjAxLFxuICAgIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsXG4gICAgMHhjMTliZjE3NCwgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYyxcbiAgICAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLCAweDk4M2U1MTUyLFxuICAgIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsXG4gICAgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NywgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYyxcbiAgICAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsIDB4ZDE5MmU4MTksXG4gICAgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCwgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCxcbiAgICAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLFxuICAgIDB4NjgyZTZmZjMsIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsXG4gICAgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuXSk7XG5mdW5jdGlvbiBoYXNoQmxvY2tzKHcsIHYsIHAsIHBvcywgbGVuKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIHUsIGksIGosIHQxLCB0MjtcbiAgICB3aGlsZSAobGVuID49IDY0KSB7XG4gICAgICAgIGEgPSB2WzBdO1xuICAgICAgICBiID0gdlsxXTtcbiAgICAgICAgYyA9IHZbMl07XG4gICAgICAgIGQgPSB2WzNdO1xuICAgICAgICBlID0gdls0XTtcbiAgICAgICAgZiA9IHZbNV07XG4gICAgICAgIGcgPSB2WzZdO1xuICAgICAgICBoID0gdls3XTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGogPSBwb3MgKyBpICogNDtcbiAgICAgICAgICAgIHdbaV0gPSAoKChwW2pdICYgMHhmZikgPDwgMjQpIHwgKChwW2ogKyAxXSAmIDB4ZmYpIDw8IDE2KSB8XG4gICAgICAgICAgICAgICAgKChwW2ogKyAyXSAmIDB4ZmYpIDw8IDgpIHwgKHBbaiArIDNdICYgMHhmZikpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDE2OyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgdSA9IHdbaSAtIDJdO1xuICAgICAgICAgICAgdDEgPSAodSA+Pj4gMTcgfCB1IDw8ICgzMiAtIDE3KSkgXiAodSA+Pj4gMTkgfCB1IDw8ICgzMiAtIDE5KSkgXiAodSA+Pj4gMTApO1xuICAgICAgICAgICAgdSA9IHdbaSAtIDE1XTtcbiAgICAgICAgICAgIHQyID0gKHUgPj4+IDcgfCB1IDw8ICgzMiAtIDcpKSBeICh1ID4+PiAxOCB8IHUgPDwgKDMyIC0gMTgpKSBeICh1ID4+PiAzKTtcbiAgICAgICAgICAgIHdbaV0gPSAodDEgKyB3W2kgLSA3XSB8IDApICsgKHQyICsgd1tpIC0gMTZdIHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgIHQxID0gKCgoKChlID4+PiA2IHwgZSA8PCAoMzIgLSA2KSkgXiAoZSA+Pj4gMTEgfCBlIDw8ICgzMiAtIDExKSkgXlxuICAgICAgICAgICAgICAgIChlID4+PiAyNSB8IGUgPDwgKDMyIC0gMjUpKSkgKyAoKGUgJiBmKSBeICh+ZSAmIGcpKSkgfCAwKSArXG4gICAgICAgICAgICAgICAgKChoICsgKChLW2ldICsgd1tpXSkgfCAwKSkgfCAwKSkgfCAwO1xuICAgICAgICAgICAgdDIgPSAoKChhID4+PiAyIHwgYSA8PCAoMzIgLSAyKSkgXiAoYSA+Pj4gMTMgfCBhIDw8ICgzMiAtIDEzKSkgXlxuICAgICAgICAgICAgICAgIChhID4+PiAyMiB8IGEgPDwgKDMyIC0gMjIpKSkgKyAoKGEgJiBiKSBeIChhICYgYykgXiAoYiAmIGMpKSkgfCAwO1xuICAgICAgICAgICAgaCA9IGc7XG4gICAgICAgICAgICBnID0gZjtcbiAgICAgICAgICAgIGYgPSBlO1xuICAgICAgICAgICAgZSA9IChkICsgdDEpIHwgMDtcbiAgICAgICAgICAgIGQgPSBjO1xuICAgICAgICAgICAgYyA9IGI7XG4gICAgICAgICAgICBiID0gYTtcbiAgICAgICAgICAgIGEgPSAodDEgKyB0MikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHZbMF0gKz0gYTtcbiAgICAgICAgdlsxXSArPSBiO1xuICAgICAgICB2WzJdICs9IGM7XG4gICAgICAgIHZbM10gKz0gZDtcbiAgICAgICAgdls0XSArPSBlO1xuICAgICAgICB2WzVdICs9IGY7XG4gICAgICAgIHZbNl0gKz0gZztcbiAgICAgICAgdls3XSArPSBoO1xuICAgICAgICBwb3MgKz0gNjQ7XG4gICAgICAgIGxlbiAtPSA2NDtcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbi8vIEhhc2ggaW1wbGVtZW50cyBTSEEyNTYgaGFzaCBhbGdvcml0aG0uXG52YXIgSGFzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIYXNoKCkge1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IGV4cG9ydHMuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGV4cG9ydHMuYmxvY2tTaXplO1xuICAgICAgICAvLyBOb3RlOiBJbnQzMkFycmF5IGlzIHVzZWQgaW5zdGVhZCBvZiBVaW50MzJBcnJheSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBJbnQzMkFycmF5KDgpOyAvLyBoYXNoIHN0YXRlXG4gICAgICAgIHRoaXMudGVtcCA9IG5ldyBJbnQzMkFycmF5KDY0KTsgLy8gdGVtcG9yYXJ5IHN0YXRlXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTI4KTsgLy8gYnVmZmVyIGZvciBkYXRhIHRvIGhhc2hcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwOyAvLyBudW1iZXIgb2YgYnl0ZXMgaW4gYnVmZmVyXG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwOyAvLyBudW1iZXIgb2YgdG90YWwgYnl0ZXMgaGFzaGVkXG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhhc2ggd2FzIGZpbmFsaXplZFxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8vIFJlc2V0cyBoYXNoIHN0YXRlIG1ha2luZyBpdCBwb3NzaWJsZVxuICAgIC8vIHRvIHJlLXVzZSB0aGlzIGluc3RhbmNlIHRvIGhhc2ggb3RoZXIgZGF0YS5cbiAgICBIYXNoLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZVswXSA9IDB4NmEwOWU2Njc7XG4gICAgICAgIHRoaXMuc3RhdGVbMV0gPSAweGJiNjdhZTg1O1xuICAgICAgICB0aGlzLnN0YXRlWzJdID0gMHgzYzZlZjM3MjtcbiAgICAgICAgdGhpcy5zdGF0ZVszXSA9IDB4YTU0ZmY1M2E7XG4gICAgICAgIHRoaXMuc3RhdGVbNF0gPSAweDUxMGU1MjdmO1xuICAgICAgICB0aGlzLnN0YXRlWzVdID0gMHg5YjA1Njg4YztcbiAgICAgICAgdGhpcy5zdGF0ZVs2XSA9IDB4MWY4M2Q5YWI7XG4gICAgICAgIHRoaXMuc3RhdGVbN10gPSAweDViZTBjZDE5O1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gQ2xlYW5zIGludGVybmFsIGJ1ZmZlcnMgYW5kIHJlLWluaXRpYWxpemVzIGhhc2ggc3RhdGUuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50ZW1wW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIGhhc2ggc3RhdGUgd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICAvL1xuICAgIC8vIE9wdGlvbmFsbHksIGxlbmd0aCBvZiB0aGUgZGF0YSBjYW4gYmUgc3BlY2lmaWVkIHRvIGhhc2hcbiAgICAvLyBmZXdlciBieXRlcyB0aGFuIGRhdGEubGVuZ3RoLlxuICAgIC8vXG4gICAgLy8gVGhyb3dzIGVycm9yIHdoZW4gdHJ5aW5nIHRvIHVwZGF0ZSBhbHJlYWR5IGZpbmFsaXplZCBoYXNoOlxuICAgIC8vIGluc3RhbmNlIG11c3QgYmUgcmVzZXQgdG8gdXNlIGl0IGFnYWluLlxuICAgIEhhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhTGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID09PSB2b2lkIDApIHsgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoOyB9XG4gICAgICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTSEEyNTY6IGNhbid0IHVwZGF0ZSBiZWNhdXNlIGhhc2ggd2FzIGZpbmlzaGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YVBvcyA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gZGF0YUxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuYnVmZmVyTGVuZ3RoIDwgNjQgJiYgZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXSA9IGRhdGFbZGF0YVBvcysrXTtcbiAgICAgICAgICAgICAgICBkYXRhTGVuZ3RoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPT09IDY0KSB7XG4gICAgICAgICAgICAgICAgaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIHRoaXMuYnVmZmVyLCAwLCA2NCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID49IDY0KSB7XG4gICAgICAgICAgICBkYXRhUG9zID0gaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIGRhdGEsIGRhdGFQb3MsIGRhdGFMZW5ndGgpO1xuICAgICAgICAgICAgZGF0YUxlbmd0aCAlPSA2NDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtkYXRhUG9zKytdO1xuICAgICAgICAgICAgZGF0YUxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gRmluYWxpemVzIGhhc2ggc3RhdGUgYW5kIHB1dHMgaGFzaCBpbnRvIG91dC5cbiAgICAvL1xuICAgIC8vIElmIGhhc2ggd2FzIGFscmVhZHkgZmluYWxpemVkLCBwdXRzIHRoZSBzYW1lIHZhbHVlLlxuICAgIEhhc2gucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZXNIYXNoZWQgPSB0aGlzLmJ5dGVzSGFzaGVkO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSB0aGlzLmJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5IaSA9IChieXRlc0hhc2hlZCAvIDB4MjAwMDAwMDApIHwgMDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5MbyA9IGJ5dGVzSGFzaGVkIDw8IDM7XG4gICAgICAgICAgICB2YXIgcGFkTGVuZ3RoID0gKGJ5dGVzSGFzaGVkICUgNjQgPCA1NikgPyA2NCA6IDEyODtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2xlZnRdID0gMHg4MDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsZWZ0ICsgMTsgaSA8IHBhZExlbmd0aCAtIDg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDhdID0gKGJpdExlbkhpID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gN10gPSAoYml0TGVuSGkgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA2XSA9IChiaXRMZW5IaSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNV0gPSAoYml0TGVuSGkgPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDRdID0gKGJpdExlbkxvID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gM10gPSAoYml0TGVuTG8gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAyXSA9IChiaXRMZW5MbyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gMV0gPSAoYml0TGVuTG8gPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIGhhc2hCbG9ja3ModGhpcy50ZW1wLCB0aGlzLnN0YXRlLCB0aGlzLmJ1ZmZlciwgMCwgcGFkTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAwXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMV0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDJdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDNdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDApICYgMHhmZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFJldHVybnMgdGhlIGZpbmFsIGhhc2ggZGlnZXN0LlxuICAgIEhhc2gucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGlnZXN0TGVuZ3RoKTtcbiAgICAgICAgdGhpcy5maW5pc2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uIGZvciB1c2UgaW4gSE1BQyBmb3Igb3B0aW1pemF0aW9uLlxuICAgIEhhc2gucHJvdG90eXBlLl9zYXZlU3RhdGUgPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gdGhpcy5zdGF0ZVtpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIHVzZSBpbiBITUFDIGZvciBvcHRpbWl6YXRpb24uXG4gICAgSGFzaC5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZSA9IGZ1bmN0aW9uIChmcm9tLCBieXRlc0hhc2hlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSBieXRlc0hhc2hlZDtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gSGFzaDtcbn0oKSk7XG5leHBvcnRzLkhhc2ggPSBIYXNoO1xuLy8gSE1BQyBpbXBsZW1lbnRzIEhNQUMtU0hBMjU2IG1lc3NhZ2UgYXV0aGVudGljYXRpb24gYWxnb3JpdGhtLlxudmFyIEhNQUMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSE1BQyhrZXkpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBIYXNoKCk7XG4gICAgICAgIHRoaXMub3V0ZXIgPSBuZXcgSGFzaCgpO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IHRoaXMuaW5uZXIuYmxvY2tTaXplO1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IHRoaXMuaW5uZXIuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB2YXIgcGFkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja1NpemUpO1xuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICAobmV3IEhhc2goKSkudXBkYXRlKGtleSkuZmluaXNoKHBhZCkuY2xlYW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFkW2ldID0ga2V5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gXj0gMHgzNjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShwYWQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldIF49IDB4MzYgXiAweDVjO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKHBhZCk7XG4gICAgICAgIHRoaXMuaXN0YXRlID0gbmV3IFVpbnQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLm9zdGF0ZSA9IG5ldyBVaW50MzJBcnJheSg4KTtcbiAgICAgICAgdGhpcy5pbm5lci5fc2F2ZVN0YXRlKHRoaXMuaXN0YXRlKTtcbiAgICAgICAgdGhpcy5vdXRlci5fc2F2ZVN0YXRlKHRoaXMub3N0YXRlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJucyBITUFDIHN0YXRlIHRvIHRoZSBzdGF0ZSBpbml0aWFsaXplZCB3aXRoIGtleVxuICAgIC8vIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcnVuIEhNQUMgb3ZlciB0aGUgb3RoZXIgZGF0YSB3aXRoIHRoZSBzYW1lXG4gICAgLy8ga2V5IHdpdGhvdXQgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAgSE1BQy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuX3Jlc3RvcmVTdGF0ZSh0aGlzLmlzdGF0ZSwgdGhpcy5pbm5lci5ibG9ja1NpemUpO1xuICAgICAgICB0aGlzLm91dGVyLl9yZXN0b3JlU3RhdGUodGhpcy5vc3RhdGUsIHRoaXMub3V0ZXIuYmxvY2tTaXplKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBDbGVhbnMgSE1BQyBzdGF0ZS5cbiAgICBITUFDLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmlzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5vc3RhdGVbaV0gPSB0aGlzLmlzdGF0ZVtpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lci5jbGVhbigpO1xuICAgICAgICB0aGlzLm91dGVyLmNsZWFuKCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIHN0YXRlIHdpdGggcHJvdmlkZWQgZGF0YS5cbiAgICBITUFDLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBGaW5hbGl6ZXMgSE1BQyBhbmQgcHV0cyB0aGUgcmVzdWx0IGluIG91dC5cbiAgICBITUFDLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dGVyLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5maW5pc2gob3V0KTtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKG91dCwgdGhpcy5kaWdlc3RMZW5ndGgpLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGNvZGUuXG4gICAgSE1BQy5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgICB0aGlzLmZpbmlzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEhNQUM7XG59KCkpO1xuZXhwb3J0cy5ITUFDID0gSE1BQztcbi8vIFJldHVybnMgU0hBMjU2IGhhc2ggb2YgZGF0YS5cbmZ1bmN0aW9uIGhhc2goZGF0YSkge1xuICAgIHZhciBoID0gKG5ldyBIYXNoKCkpLnVwZGF0ZShkYXRhKTtcbiAgICB2YXIgZGlnZXN0ID0gaC5kaWdlc3QoKTtcbiAgICBoLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRpZ2VzdDtcbn1cbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG4vLyBGdW5jdGlvbiBoYXNoIGlzIGJvdGggYXZhaWxhYmxlIGFzIG1vZHVsZS5oYXNoIGFuZCBhcyBkZWZhdWx0IGV4cG9ydC5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaGFzaDtcbi8vIFJldHVybnMgSE1BQy1TSEEyNTYgb2YgZGF0YSB1bmRlciB0aGUga2V5LlxuZnVuY3Rpb24gaG1hYyhrZXksIGRhdGEpIHtcbiAgICB2YXIgaCA9IChuZXcgSE1BQyhrZXkpKS51cGRhdGUoZGF0YSk7XG4gICAgdmFyIGRpZ2VzdCA9IGguZGlnZXN0KCk7XG4gICAgaC5jbGVhbigpO1xuICAgIHJldHVybiBkaWdlc3Q7XG59XG5leHBvcnRzLmhtYWMgPSBobWFjO1xuLy8gRmlsbHMgaGtkZiBidWZmZXIgbGlrZSB0aGlzOlxuLy8gVCgxKSA9IEhNQUMtSGFzaChQUkssIFQoMCkgfCBpbmZvIHwgMHgwMSlcbmZ1bmN0aW9uIGZpbGxCdWZmZXIoYnVmZmVyLCBobWFjLCBpbmZvLCBjb3VudGVyKSB7XG4gICAgLy8gQ291bnRlciBpcyBhIGJ5dGUgdmFsdWU6IGNoZWNrIGlmIGl0IG92ZXJmbG93ZWQuXG4gICAgdmFyIG51bSA9IGNvdW50ZXJbMF07XG4gICAgaWYgKG51bSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoa2RmOiBjYW5ub3QgZXhwYW5kIG1vcmVcIik7XG4gICAgfVxuICAgIC8vIFByZXBhcmUgSE1BQyBpbnN0YW5jZSBmb3IgbmV3IGRhdGEgd2l0aCBvbGQga2V5LlxuICAgIGhtYWMucmVzZXQoKTtcbiAgICAvLyBIYXNoIGluIHByZXZpb3VzIG91dHB1dCBpZiBpdCB3YXMgZ2VuZXJhdGVkXG4gICAgLy8gKGkuZS4gY291bnRlciBpcyBncmVhdGVyIHRoYW4gMSkuXG4gICAgaWYgKG51bSA+IDEpIHtcbiAgICAgICAgaG1hYy51cGRhdGUoYnVmZmVyKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiBpbmZvIGlmIGl0IGV4aXN0cy5cbiAgICBpZiAoaW5mbykge1xuICAgICAgICBobWFjLnVwZGF0ZShpbmZvKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiB0aGUgY291bnRlci5cbiAgICBobWFjLnVwZGF0ZShjb3VudGVyKTtcbiAgICAvLyBPdXRwdXQgcmVzdWx0IHRvIGJ1ZmZlciBhbmQgY2xlYW4gSE1BQyBpbnN0YW5jZS5cbiAgICBobWFjLmZpbmlzaChidWZmZXIpO1xuICAgIC8vIEluY3JlbWVudCBjb3VudGVyIGluc2lkZSB0eXBlZCBhcnJheSwgdGhpcyB3b3JrcyBwcm9wZXJseS5cbiAgICBjb3VudGVyWzBdKys7XG59XG52YXIgaGtkZlNhbHQgPSBuZXcgVWludDhBcnJheShleHBvcnRzLmRpZ2VzdExlbmd0aCk7IC8vIEZpbGxlZCB3aXRoIHplcm9lcy5cbmZ1bmN0aW9uIGhrZGYoa2V5LCBzYWx0LCBpbmZvLCBsZW5ndGgpIHtcbiAgICBpZiAoc2FsdCA9PT0gdm9pZCAwKSB7IHNhbHQgPSBoa2RmU2FsdDsgfVxuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSAzMjsgfVxuICAgIHZhciBjb3VudGVyID0gbmV3IFVpbnQ4QXJyYXkoWzFdKTtcbiAgICAvLyBIS0RGLUV4dHJhY3QgdXNlcyBzYWx0IGFzIEhNQUMga2V5LCBhbmQga2V5IGFzIGRhdGEuXG4gICAgdmFyIG9rbSA9IGhtYWMoc2FsdCwga2V5KTtcbiAgICAvLyBJbml0aWFsaXplIEhNQUMgZm9yIGV4cGFuZGluZyB3aXRoIGV4dHJhY3RlZCBrZXkuXG4gICAgLy8gRW5zdXJlIG5vIGNvbGxpc2lvbnMgd2l0aCBgaG1hY2AgZnVuY3Rpb24uXG4gICAgdmFyIGhtYWNfID0gbmV3IEhNQUMob2ttKTtcbiAgICAvLyBBbGxvY2F0ZSBidWZmZXIuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGhtYWNfLmRpZ2VzdExlbmd0aCk7XG4gICAgdmFyIGJ1ZnBvcyA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYnVmcG9zID09PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBmaWxsQnVmZmVyKGJ1ZmZlciwgaG1hY18sIGluZm8sIGNvdW50ZXIpO1xuICAgICAgICAgICAgYnVmcG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBvdXRbaV0gPSBidWZmZXJbYnVmcG9zKytdO1xuICAgIH1cbiAgICBobWFjXy5jbGVhbigpO1xuICAgIGJ1ZmZlci5maWxsKDApO1xuICAgIGNvdW50ZXIuZmlsbCgwKTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5oa2RmID0gaGtkZjtcbi8vIERlcml2ZXMgYSBrZXkgZnJvbSBwYXNzd29yZCBhbmQgc2FsdCB1c2luZyBQQktERjItSE1BQy1TSEEyNTZcbi8vIHdpdGggdGhlIGdpdmVuIG51bWJlciBvZiBpdGVyYXRpb25zLlxuLy9cbi8vIFRoZSBudW1iZXIgb2YgYnl0ZXMgcmV0dXJuZWQgaXMgZXF1YWwgdG8gZGtMZW4uXG4vL1xuLy8gKEZvciBiZXR0ZXIgc2VjdXJpdHksIGF2b2lkIGRrTGVuIGdyZWF0ZXIgdGhhbiBoYXNoIGxlbmd0aCAtIDMyIGJ5dGVzKS5cbmZ1bmN0aW9uIHBia2RmMihwYXNzd29yZCwgc2FsdCwgaXRlcmF0aW9ucywgZGtMZW4pIHtcbiAgICB2YXIgcHJmID0gbmV3IEhNQUMocGFzc3dvcmQpO1xuICAgIHZhciBsZW4gPSBwcmYuZGlnZXN0TGVuZ3RoO1xuICAgIHZhciBjdHIgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICB2YXIgdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgdmFyIHUgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIHZhciBkayA9IG5ldyBVaW50OEFycmF5KGRrTGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSAqIGxlbiA8IGRrTGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBpICsgMTtcbiAgICAgICAgY3RyWzBdID0gKGMgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIGN0clsxXSA9IChjID4+PiAxNikgJiAweGZmO1xuICAgICAgICBjdHJbMl0gPSAoYyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBjdHJbM10gPSAoYyA+Pj4gMCkgJiAweGZmO1xuICAgICAgICBwcmYucmVzZXQoKTtcbiAgICAgICAgcHJmLnVwZGF0ZShzYWx0KTtcbiAgICAgICAgcHJmLnVwZGF0ZShjdHIpO1xuICAgICAgICBwcmYuZmluaXNoKHUpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICB0W2pdID0gdVtqXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA8PSBpdGVyYXRpb25zOyBqKyspIHtcbiAgICAgICAgICAgIHByZi5yZXNldCgpO1xuICAgICAgICAgICAgcHJmLnVwZGF0ZSh1KS5maW5pc2godSk7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgICAgICAgICAgdFtrXSBePSB1W2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuICYmIGkgKiBsZW4gKyBqIDwgZGtMZW47IGorKykge1xuICAgICAgICAgICAgZGtbaSAqIGxlbiArIGpdID0gdFtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRbaV0gPSB1W2ldID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgY3RyW2ldID0gMDtcbiAgICB9XG4gICAgcHJmLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRrO1xufVxuZXhwb3J0cy5wYmtkZjIgPSBwYmtkZjI7XG59KTtcbiIsImltcG9ydCB7V2ViUmVuZGVyZXJ9IGZyb20gJy4vV2ViUmVuZGVyZXInXG5pbXBvcnQgXCJmYXN0LXRleHQtZW5jb2RpbmdcIlxuaW1wb3J0IHtcbiAgYWRkQ1NTUnVsZSxcbiAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzLFxuICBnZXRCb3VuZHMsXG4gIGdldFBhZGRpbmcsXG4gIGdldE1hcmdpbixcbiAgZ2V0Qm9yZGVyLFxuICBCb3VuZHMsXG4gIEVkZ2VzXG59IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTFJVTWFwIH0gZnJvbSAnbHJ1X21hcCdcbmltcG9ydCAqIGFzIHNoYTI1NiBmcm9tICdmYXN0LXNoYTI1NidcblxuaW1wb3J0IHtzZXJpYWxpemVUb1N0cmluZywgc2VyaWFsaXplQXR0cmlidXRlfSBmcm9tICcuL3htbC1zZXJpYWxpemVyJ1xuXG5leHBvcnQgdHlwZSBFdmVudENhbGxiYWNrID0gKFxuICBldmVudDpcbiAgICB8ICdsYXllcnBhaW50ZWQnXG4gICAgfCAnbGF5ZXJyZXNpemVkJ1xuICAgIHwgJ2xheWVyY3JlYXRlZCdcbiAgICB8ICdsYXllcm1vdmVkJ1xuICAgIHwgJ3JlbW92YWxyZXF1aXJlZCdcbiAgICB8ICdpbnB1dHJlcXVpcmVkJyxcbiAgZGF0YTogeyB0YXJnZXQ6IEVsZW1lbnQgfVxuKSA9PiB2b2lkXG5cbmV4cG9ydCBjbGFzcyBXZWJMYXllciB7XG4gIHN0YXRpYyBERUZBVUxUX0NBQ0hFX1NJWkUgPSA0XG4gIHByaXZhdGUgc3RhdGljIGJsYW5rUmV0cnlDb3VudHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwXG4gIHByaXZhdGUgc3RhdGljIGNhbnZhc0hhc2hlczogTFJVTWFwPHN0cmluZywgc3RyaW5nPiA9IG5ldyBMUlVNYXAoMTAwMClcbiAgcHJpdmF0ZSBzdGF0aWMgY2FjaGVkQ2FudmFzZXM6IExSVU1hcDxzdHJpbmcsIEhUTUxDYW52YXNFbGVtZW50PiA9IG5ldyBMUlVNYXAoV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFKVxuXG4gIGlkOnN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIFdlYlJlbmRlcmVyLmxheWVycy5zZXQoZWxlbWVudCwgdGhpcylcbiAgICB0aGlzLmlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKSB8fCAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKClcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIHRoaXMuaWQpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFLCcnKVxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgdGhpcy5ldmVudENhbGxiYWNrKCdsYXllcmNyZWF0ZWQnLCB7IHRhcmdldDogZWxlbWVudCB9KVxuICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmxpbWl0ID0gV2ViUmVuZGVyZXIubGF5ZXJzLnNpemUgKiBXZWJMYXllci5ERUZBVUxUX0NBQ0hFX1NJWkVcbiAgICB0aGlzLl9oYXNoaW5nQ2FudmFzLndpZHRoID0gMjBcbiAgICB0aGlzLl9oYXNoaW5nQ2FudmFzLmhlaWdodCA9IDIwXG4gIH1cblxuICBuZWVkc1JlZnJlc2ggPSB0cnVlXG4gIG5lZWRzUmVtb3ZhbCA9IGZhbHNlXG5cbiAgcHNldWRvU3RhdGVzID0ge1xuICAgIGhvdmVyOiBmYWxzZSxcbiAgICBhY3RpdmU6IGZhbHNlLFxuICAgIGZvY3VzOiBmYWxzZSxcbiAgICB0YXJnZXQ6IGZhbHNlXG4gIH1cblxuICBzdmdJbWFnZTogSFRNTEltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpXG4gIGJvdW5kcyA9IG5ldyBCb3VuZHMoKVxuICAvLyBwcml2YXRlIF9wcmV2aW91c0JvdW5kcyA9IG5ldyBCb3VuZHMoKVxuXG4gIHByaXZhdGUgcGFkZGluZyA9IG5ldyBFZGdlcygpXG4gIHByaXZhdGUgbWFyZ2luID0gbmV3IEVkZ2VzKClcbiAgcHJpdmF0ZSBib3JkZXIgPSBuZXcgRWRnZXMoKVxuICBwYXJlbnRMYXllcj86IFdlYkxheWVyXG4gIGNoaWxkTGF5ZXJzID0gW10gYXMgV2ViTGF5ZXJbXVxuICBwaXhlbFJhdGlvPzogbnVtYmVyXG5cbiAgY2FjaGVkQm91bmRzOiBNYXA8c3RyaW5nLCBCb3VuZHM+ID0gbmV3IE1hcCgpXG4gIGNhY2hlZE1hcmdpbjogTWFwPHN0cmluZywgRWRnZXM+ID0gbmV3IE1hcCgpXG5cbiAgcHJpdmF0ZSBfZHluYW1pY0F0dHJpYnV0ZXMgPSAnJ1xuICBwcml2YXRlIF9zdmdEb2N1bWVudCA9ICcnXG4gIHByaXZhdGUgX3Jhc3Rlcml6aW5nRG9jdW1lbnQgPSAnJ1xuICBwcml2YXRlIF9zdmdTcmMgPSAnJ1xuICBwcml2YXRlIF9oYXNoaW5nQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcblxuICBfY2FudmFzITogSFRNTENhbnZhc0VsZW1lbnRcblxuICBzZXQgY2FudmFzKHZhbDogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5fY2FudmFzICE9PSB2YWwpIHtcbiAgICAgIHRoaXMuX2NhbnZhcyA9IHZhbFxuICAgICAgaWYgKHRoaXMuZXZlbnRDYWxsYmFjaykgdGhpcy5ldmVudENhbGxiYWNrKCdsYXllcnBhaW50ZWQnLCB7IHRhcmdldDogdGhpcy5lbGVtZW50IH0pXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNhbnZhcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FudmFzXG4gIH1cblxuICBnZXQgZGVwdGgoKSB7XG4gICAgbGV0IGRlcHRoID0gMFxuICAgIGxldCBsYXllciA9IHRoaXMgYXMgV2ViTGF5ZXJcbiAgICB3aGlsZSAobGF5ZXIucGFyZW50TGF5ZXIpIHtcbiAgICAgIGxheWVyID0gbGF5ZXIucGFyZW50TGF5ZXJcbiAgICAgIGRlcHRoKytcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoXG4gIH1cblxuICBnZXQgcm9vdExheWVyKCkge1xuICAgIGxldCByb290TGF5ZXIgPSB0aGlzIGFzIFdlYkxheWVyXG4gICAgd2hpbGUgKHJvb3RMYXllci5wYXJlbnRMYXllcikgcm9vdExheWVyID0gcm9vdExheWVyLnBhcmVudExheWVyXG4gICAgcmV0dXJuIHJvb3RMYXllclxuICB9XG5cbiAgdHJhdmVyc2VQYXJlbnRMYXllcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCBwYXJlbnRMYXllciA9IHRoaXMucGFyZW50TGF5ZXJcbiAgICBpZiAocGFyZW50TGF5ZXIpIHtcbiAgICAgIHBhcmVudExheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKGVhY2gpXG4gICAgICBlYWNoKHBhcmVudExheWVyKVxuICAgIH1cbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzKGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWQpIHtcbiAgICBlYWNoKHRoaXMpXG4gICAgdGhpcy50cmF2ZXJzZUNoaWxkTGF5ZXJzKGVhY2gpXG4gIH1cblxuICB0cmF2ZXJzZUNoaWxkTGF5ZXJzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWRcbiAgKSB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkTGF5ZXJzKSB7XG4gICAgICBjaGlsZC50cmF2ZXJzZUxheWVycyhlYWNoKVxuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgZ2V0Qm91bmRzKHRoaXMuZWxlbWVudCwgdGhpcy5ib3VuZHMsIHRoaXMucGFyZW50TGF5ZXIgJiYgdGhpcy5wYXJlbnRMYXllci5lbGVtZW50KVxuICAgIHRoaXMubmVlZHNSZWZyZXNoID0gZmFsc2VcbiAgICB0aGlzLl91cGRhdGVQYXJlbnRBbmRDaGlsZExheWVycygpXG4gICAgV2ViUmVuZGVyZXIuYWRkVG9TZXJpYWxpemVRdWV1ZSh0aGlzKVxuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudFxuICAgIGNvbnN0IGNoaWxkTGF5ZXJzID0gdGhpcy5jaGlsZExheWVyc1xuICAgIGNvbnN0IG9sZENoaWxkTGF5ZXJzID0gY2hpbGRMYXllcnMuc2xpY2UoKVxuXG4gICAgY29uc3QgcHJldmlvdXNQYXJlbnRMYXllciA9IHRoaXMucGFyZW50TGF5ZXJcbiAgICB0aGlzLnBhcmVudExheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgIGlmIChwcmV2aW91c1BhcmVudExheWVyICE9PSB0aGlzLnBhcmVudExheWVyKSB7XG4gICAgICB0aGlzLnBhcmVudExheWVyICYmIHRoaXMucGFyZW50TGF5ZXIuY2hpbGRMYXllcnMucHVzaCh0aGlzKVxuICAgICAgdGhpcy5ldmVudENhbGxiYWNrKCdsYXllcm1vdmVkJywgeyB0YXJnZXQ6IGVsZW1lbnQgfSlcbiAgICB9XG5cbiAgICBjaGlsZExheWVycy5sZW5ndGggPSAwXG4gICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGVsZW1lbnQsIHRoaXMuX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllciwgdGhpcylcblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2xkQ2hpbGRMYXllcnMpIHtcbiAgICAgIGNvbnN0IHBhcmVudExheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKGNoaWxkLmVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICAgIGlmICghcGFyZW50TGF5ZXIpIHtcbiAgICAgICAgY2hpbGQubmVlZHNSZW1vdmFsID0gdHJ1ZVxuICAgICAgICBjaGlsZExheWVycy5wdXNoKGNoaWxkKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllcihuOiBOb2RlKSB7XG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBlbCA9IG4gYXMgSFRNTEVsZW1lbnRcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsKVxuICAgIGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSlcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIFdlYlJlbmRlcmVyLmdlbmVyYXRlRWxlbWVudFVJRCgpKVxuICAgIH1cbiAgICBjb25zdCBpc0xheWVyID0gZWwuaGFzQXR0cmlidXRlKFdlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURSlcbiAgICBpZiAoaXNMYXllciB8fCBlbC5ub2RlTmFtZSA9PT0gJ1ZJREVPJyB8fCBzdHlsZXMudHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgIGxldCBjaGlsZCA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQoZWwpXG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIGNoaWxkID0gbmV3IFdlYkxheWVyKGVsLCB0aGlzLmV2ZW50Q2FsbGJhY2spXG4gICAgICB9XG4gICAgICB0aGlzLmNoaWxkTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICByZXR1cm4gZmFsc2UgLy8gc3RvcCB0cmF2ZXJzaW5nIHRoaXMgc3VidHJlZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VyaWFsaXphdGlvblJlcGxhY2VyID0gKG5vZGU6Tm9kZSkgPT4ge1xuICAgIGlmICh0aGlzLmVsZW1lbnQgPT09IG5vZGUpIHJldHVyblxuICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlIGFzIEVsZW1lbnRcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQoZWxlbWVudClcbiAgICBpZiAobGF5ZXIpIHsgICAgICBcbiAgICAgIGNvbnN0IGJvdW5kcyA9IGxheWVyLmJvdW5kc1xuICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAnJ1xuICAgICAgY29uc3QgZXh0cmFTdHlsZSA9IGBtaW4td2lkdGg6JHtib3VuZHMud2lkdGh9cHg7bWluLWhlaWdodDoke2JvdW5kcy5oZWlnaHR9cHg7dmlzaWJpbGl0eTpoaWRkZW5gXG4gICAgICBsZXQgYWRkZWRTdHlsZSA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgbGF5ZXIuZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyLm5hbWUgPT0gJ3N0eWxlJykge1xuICAgICAgICAgIGF0dHJpYnV0ZXMgKz0gc2VyaWFsaXplQXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSArICc7JyArIGV4dHJhU3R5bGUpXG4gICAgICAgICAgYWRkZWRTdHlsZSA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzICs9IHNlcmlhbGl6ZUF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghYWRkZWRTdHlsZSkge1xuICAgICAgICBhdHRyaWJ1dGVzICs9IHNlcmlhbGl6ZUF0dHJpYnV0ZSgnc3R5bGUnLCBleHRyYVN0eWxlKVxuICAgICAgfVxuICAgICAgY29uc3QgdGFnID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIHJldHVybiBgPCR7dGFnfSAke2F0dHJpYnV0ZXN9PjwvJHt0YWd9PmBcbiAgICB9XG4gIH1cblxuICBhc3luYyBzZXJpYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1ZJREVPJykgcmV0dXJuXG5cbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmJvdW5kc1xuXG4gICAgaWYgKHdpZHRoICogaGVpZ2h0ID4gMCkge1xuICAgICAgZ2V0UGFkZGluZyh0aGlzLmVsZW1lbnQsIHRoaXMucGFkZGluZylcbiAgICAgIGdldE1hcmdpbih0aGlzLmVsZW1lbnQsIHRoaXMubWFyZ2luKVxuICAgICAgZ2V0Qm9yZGVyKHRoaXMuZWxlbWVudCwgdGhpcy5ib3JkZXIpXG4gICAgICAvLyBhZGQgbWFyZ2lucyBhbmQgYm9yZGVyXG4gICAgICB3aWR0aCArPSBNYXRoLm1heCh0aGlzLm1hcmdpbi5sZWZ0LCAwKSArIE1hdGgubWF4KHRoaXMubWFyZ2luLnJpZ2h0LCAwKS8vICsgMC41XG4gICAgICBoZWlnaHQgKz0gTWF0aC5tYXgodGhpcy5tYXJnaW4udG9wLCAwKSArIE1hdGgubWF4KHRoaXMubWFyZ2luLmJvdHRvbSwgMClcbiAgICAgIC8vIHdpZHRoICs9IE1hdGgubWF4KHRoaXMuYm9yZGVyLmxlZnQsMCkgKyBNYXRoLm1heCh0aGlzLmJvcmRlci5yaWdodCwwKVxuICAgICAgLy8gaGVpZ2h0ICs9IE1hdGgubWF4KHRoaXMuYm9yZGVyLnRvcCwwKSArIE1hdGgubWF4KHRoaXMuYm9yZGVyLmJvdHRvbSwwKVxuXG4gICAgICAvLyBjcmVhdGUgc3ZnIG1hcmt1cFxuICAgICAgY29uc3QgZWxlbWVudEF0dHJpYnV0ZSA9IFdlYlJlbmRlcmVyLmF0dHJpYnV0ZUhUTUwoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFLCcnK3RoaXMuaWQpXG4gICAgICBjb25zdCBsYXllckVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGxheWVyRWxlbWVudClcbiAgICAgIGNvbnN0IG5lZWRzSW5saW5lQmxvY2sgPSBjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09ICdpbmxpbmUnXG4gICAgICBXZWJSZW5kZXJlci51cGRhdGVJbnB1dEF0dHJpYnV0ZXMobGF5ZXJFbGVtZW50KVxuICAgICAgY29uc3QgbGF5ZXJIVE1MID0gc2VyaWFsaXplVG9TdHJpbmcobGF5ZXJFbGVtZW50LCB0aGlzLnNlcmlhbGl6YXRpb25SZXBsYWNlcikucmVwbGFjZShcbiAgICAgICAgICBlbGVtZW50QXR0cmlidXRlLFxuICAgICAgICAgICAgYCR7ZWxlbWVudEF0dHJpYnV0ZX0gJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfT1cIlwiIGAgK1xuICAgICAgICAgICAgYCR7bmVlZHNJbmxpbmVCbG9jayA/IGAke1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9IGAgK1xuICAgICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0UHN1ZWRvQXR0cmlidXRlcyh0aGlzLnBzZXVkb1N0YXRlcylcbiAgICAgIClcbiAgICAgIC8vIGNvbnN0IGxheWVySFRNTCA9IFdlYlJlbmRlcmVyLnNlcmlhbGl6ZXJcbiAgICAgIC8vICAgLnNlcmlhbGl6ZVRvU3RyaW5nKGxheWVyRWxlbWVudClcbiAgICAgIC8vICAgLnJlcGxhY2UoXG4gICAgICAvLyAgICAgZWxlbWVudEF0dHJpYnV0ZSxcbiAgICAgIC8vICAgICAgIGAke2VsZW1lbnRBdHRyaWJ1dGV9ICR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgIC8vICAgICAgIGAke25lZWRzSW5saW5lQmxvY2sgPyBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfSBgICtcbiAgICAgIC8vICAgICAgIFdlYlJlbmRlcmVyLmdldFBzdWVkb0F0dHJpYnV0ZXModGhpcy5wc2V1ZG9TdGF0ZXMpXG4gICAgICAvLyAgIClcbiAgICAgIGNvbnN0IHBhcmVudHNIVE1MID0gdGhpcy5fZ2V0UGFyZW50c0hUTUwobGF5ZXJFbGVtZW50KVxuICAgICAgcGFyZW50c0hUTUxbMF0gPSBwYXJlbnRzSFRNTFswXS5yZXBsYWNlKFxuICAgICAgICAnaHRtbCcsXG4gICAgICAgICdodG1sICcgKyBXZWJSZW5kZXJlci5SRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFICsgJz1cIlwiICdcbiAgICAgIClcblxuICAgICAgY29uc3QgW3N2Z0NTU10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIFdlYlJlbmRlcmVyLmdldEVtYmVkZGVkQ1NTKHRoaXMuZWxlbWVudCksXG4gICAgICAgIFdlYlJlbmRlcmVyLmVtYmVkRXh0ZXJuYWxSZXNvdXJjZXModGhpcy5lbGVtZW50KVxuICAgICAgXSlcbiAgICAgIGNvbnN0IGRvY1N0cmluZyA9XG4gICAgICAgICc8c3ZnIHdpZHRoPVwiJyArXG4gICAgICAgIHdpZHRoICtcbiAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xuICAgICAgICBoZWlnaHQgK1xuICAgICAgICAnXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxkZWZzPjxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj48IVtDREFUQVthW2hyZWZde2NvbG9yOiMwMDAwRUU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt9JyArXG4gICAgICAgIHN2Z0NTUy5qb2luKCcnKSArXG4gICAgICAgICddXT48L3N0eWxlPjwvZGVmcz48Zm9yZWlnbk9iamVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCInICtcbiAgICAgICAgd2lkdGggK1xuICAgICAgICAnXCIgaGVpZ2h0PVwiJyArXG4gICAgICAgIGhlaWdodCArXG4gICAgICAgICdcIj4nICtcbiAgICAgICAgcGFyZW50c0hUTUxbMF0gK1xuICAgICAgICBsYXllckhUTUwgK1xuICAgICAgICBwYXJlbnRzSFRNTFsxXSArXG4gICAgICAgICc8L2ZvcmVpZ25PYmplY3Q+PC9zdmc+J1xuICAgICAgY29uc3Qgc3ZnRG9jID0gdGhpcy5fc3ZnRG9jdW1lbnQgPSBkb2NTdHJpbmdcbiAgICAgIC8vIGNvbnN0IHN2Z1NyYyA9ICh0aGlzLl9zdmdTcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJyArIGVuY29kZVVSSUNvbXBvbmVudChkb2NTdHJpbmcpKVxuXG4gICAgICAvLyBjaGVjayBmb3IgZXhpc3RpbmcgY2FudmFzXG4gICAgICBjb25zdCBjYW52YXNIYXNoID0gV2ViTGF5ZXIuY2FudmFzSGFzaGVzLmdldChzdmdEb2MpXG4gICAgICBpZiAoY2FudmFzSGFzaCAmJiBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5oYXMoY2FudmFzSGFzaCkpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5nZXQoY2FudmFzSGFzaCkhXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyByYXN0ZXJpemUgdGhlIHN2ZyBkb2N1bWVudCBpZiBubyBleGlzdGluZyBjYW52YXMgbWF0Y2hlc1xuICAgICAgdGhpcy5jYWNoZWRCb3VuZHMuc2V0KHN2Z0RvYywgbmV3IEJvdW5kcygpLmNvcHkodGhpcy5ib3VuZHMpKVxuICAgICAgdGhpcy5jYWNoZWRNYXJnaW4uc2V0KHN2Z0RvYywgbmV3IEVkZ2VzKCkuY29weSh0aGlzLm1hcmdpbikpXG4gICAgICBXZWJSZW5kZXJlci5hZGRUb1Jhc3Rlcml6ZVF1ZXVlKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmFzdGVyaXplKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuc3ZnSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgICAgdGhpcy5fcmFzdGVyaXppbmdEb2N1bWVudCA9IHRoaXMuX3N2Z0RvY3VtZW50XG4gICAgICB0aGlzLnN2Z0ltYWdlLnNyYyA9ICh0aGlzLl9zdmdTcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLl9zdmdEb2N1bWVudCkpXG4gICAgICBpZiAodGhpcy5zdmdJbWFnZS5jb21wbGV0ZSAmJiB0aGlzLnN2Z0ltYWdlLmN1cnJlbnRTcmMgPT09IHRoaXMuc3ZnSW1hZ2Uuc3JjKSB7XG4gICAgICAgIFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcylcbiAgICAgICAgdGhpcy5zdmdJbWFnZS5vbmxvYWQgPSBudWxsXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc3ZnRG9jID0gdGhpcy5fcmFzdGVyaXppbmdEb2N1bWVudFxuXG4gICAgaWYgKCF0aGlzLmNhY2hlZEJvdW5kcy5oYXMoc3ZnRG9jKSB8fCAhdGhpcy5jYWNoZWRNYXJnaW4uaGFzKHN2Z0RvYykpIHtcbiAgICAgIHRoaXMubmVlZHNSZWZyZXNoID0gdHJ1ZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN2Z0ltYWdlLmNvbXBsZXRlKSB7XG4gICAgICBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmNhY2hlZEJvdW5kcy5nZXQoc3ZnRG9jKSFcbiAgICBsZXQgeyBsZWZ0LCB0b3AgfSA9IHRoaXMuY2FjaGVkTWFyZ2luLmdldChzdmdEb2MpIVxuXG4gICAgY29uc3QgaGFzaGluZ0NhbnZhcyA9IHRoaXMuX2hhc2hpbmdDYW52YXNcbiAgICBsZXQgaHcgPSBoYXNoaW5nQ2FudmFzLndpZHRoXG4gICAgbGV0IGhoID0gaGFzaGluZ0NhbnZhcy5oZWlnaHRcbiAgICBjb25zdCBoY3R4ID0gaGFzaGluZ0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIVxuICAgIGhjdHguY2xlYXJSZWN0KDAsIDAsIGh3LCBoaClcbiAgICBoY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgaGN0eC5kcmF3SW1hZ2UodGhpcy5zdmdJbWFnZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCBodywgaGgpXG4gICAgY29uc3QgaGFzaERhdGEgPSBoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBodywgaGgpLmRhdGFcbiAgICBjb25zdCBoYXNoID1cbiAgICAgIFdlYlJlbmRlcmVyLmFycmF5QnVmZmVyVG9CYXNlNjQoc2hhMjU2Lmhhc2gobmV3IFVpbnQ4QXJyYXkoaGFzaERhdGEpKSkgK1xuICAgICAgJz93PScgK1xuICAgICAgd2lkdGggK1xuICAgICAgJztoPScgK1xuICAgICAgaGVpZ2h0XG4gICAgV2ViTGF5ZXIuY2FudmFzSGFzaGVzLnNldChzdmdEb2MsIGhhc2gpXG5cbiAgICBjb25zdCBibGFua1JldHJ5Q291bnQgPSBXZWJMYXllci5ibGFua1JldHJ5Q291bnRzLmdldChzdmdEb2MpfHwwXG4gICAgaWYgKFdlYlJlbmRlcmVyLmlzQmxhbmtJbWFnZShoYXNoRGF0YSkgJiYgYmxhbmtSZXRyeUNvdW50IDwgMTApIHtcbiAgICAgIFdlYkxheWVyLmJsYW5rUmV0cnlDb3VudHMuc2V0KHN2Z0RvYyxibGFua1JldHJ5Q291bnQrMSlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKSwgNTAwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmhhcyhoYXNoKSkge1xuICAgICAgdGhpcy5jYW52YXMgPSBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5nZXQoaGFzaCkhXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID1cbiAgICAgIHRoaXMucGl4ZWxSYXRpbyB8fFxuICAgICAgcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlBJWEVMX1JBVElPX0FUVFJJQlVURSkhKSB8fFxuICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICBjb25zdCBuZXdDYW52YXMgPVxuICAgICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2l6ZSA9PT0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXRcbiAgICAgICAgPyBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zaGlmdCgpIVsxXVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgbGV0IHcgPSAobmV3Q2FudmFzLndpZHRoID0gd2lkdGggKiBwaXhlbFJhdGlvKVxuICAgIGxldCBoID0gKG5ld0NhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvKVxuICAgIGNvbnN0IGN0eCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIVxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaClcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMuc3ZnSW1hZ2UsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgdywgaClcbiAgICBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zZXQoaGFzaCwgbmV3Q2FudmFzKVxuICAgIHRoaXMuY2FudmFzID0gbmV3Q2FudmFzXG4gIH1cblxuICAvLyBHZXQgYWxsIHBhcmVudHMgb2YgdGhlIGVtYmVkZWQgaHRtbCBhcyB0aGVzZSBjYW4gZWZmZWN0IHRoZSByZXN1bHRpbmcgc3R5bGVzXG4gIHByaXZhdGUgX2dldFBhcmVudHNIVE1MKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvcGVucyA9IFtdXG4gICAgY29uc3QgY2xvc2VzID0gW11cbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50IVxuICAgIGlmICghcGFyZW50KSBwYXJlbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICBkbyB7XG4gICAgICBsZXQgdGFnID0gcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAnICdcbiAgICAgIGZvciAoY29uc3QgYSBvZiBwYXJlbnQuYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYS5uYW1lID09PSAnc3R5bGUnKSBjb250aW51ZVxuXG4gICAgICAgIGF0dHJpYnV0ZXMgKz0gYCR7YS5uYW1lfT1cIiR7YS52YWx1ZX1cIiBgXG4gICAgICB9XG4gICAgICBjb25zdCBvcGVuID1cbiAgICAgICAgJzwnICtcbiAgICAgICAgdGFnICtcbiAgICAgICAgKHRhZyA9PT0gJ2h0bWwnXG4gICAgICAgICAgPyBgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIHN0eWxlPVwiLS14LXdpZHRoOiR7XG4gICAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRofXB4Oy0teC1oZWlnaHQ6JHt0aGlzLmJvdW5kcy5oZWlnaHR9cHg7LS14LWlubGluZS10b3A6JHtcbiAgICAgICAgICAgICAgdGhpcy5ib3JkZXIudG9wICsgdGhpcy5tYXJnaW4udG9wICsgdGhpcy5wYWRkaW5nLnRvcH1weFwiIGBcbiAgICAgICAgICA6ICcnKSArXG4gICAgICAgIGF0dHJpYnV0ZXMgK1xuICAgICAgICBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgLy8gV2ViUmVuZGVyZXIuZ2V0UHN1ZWRvQXR0cmlidXRlcyhwYXJlbnQpICtcbiAgICAgICAgJyA+J1xuICAgICAgb3BlbnMudW5zaGlmdChvcGVuKVxuICAgICAgY29uc3QgY2xvc2UgPSAnPC8nICsgdGFnICsgJz4nXG4gICAgICBjbG9zZXMucHVzaChjbG9zZSlcbiAgICAgIGlmICh0YWcgPT0gJ2h0bWwnKSBicmVha1xuICAgIH0gd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCEpKVxuICAgIHJldHVybiBbb3BlbnMuam9pbignJyksIGNsb3Nlcy5qb2luKCcnKV1cbiAgfVxufSIsInZhciByZXNpemVPYnNlcnZlcnMgPSBbXTtcbmV4cG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiIsInZhciBtc2cgPSAnUmVzaXplT2JzZXJ2ZXIgbG9vcCBjb21wbGV0ZWQgd2l0aCB1bmRlbGl2ZXJlZCBub3RpZmljYXRpb25zLic7XG52YXIgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnQ7XG4gICAgaWYgKHR5cGVvZiBFcnJvckV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50ID0gbmV3IEVycm9yRXZlbnQoJ2Vycm9yJywge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdlcnJvcicsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn07XG5leHBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH07XG4iLCJleHBvcnQgdmFyIGZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTsgfTtcbiIsInZhciB0cmlnZ2VyO1xudmFyIGNhbGxiYWNrcyA9IFtdO1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrcy5zcGxpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKCk7IH0pOyB9O1xudmFyIHF1ZXVlTWljcm9UYXNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0cmlnZ2VyKSB7XG4gICAgICAgIHZhciB0b2dnbGVfMSA9IDA7XG4gICAgICAgIHZhciBlbF8xID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB2YXIgY29uZmlnID0geyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH07XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeSgpOyB9KS5vYnNlcnZlKGVsXzEsIGNvbmZpZyk7XG4gICAgICAgIHRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7IGVsXzEudGV4dENvbnRlbnQgPSBcIlwiICsgKHRvZ2dsZV8xID8gdG9nZ2xlXzEtLSA6IHRvZ2dsZV8xKyspOyB9O1xuICAgIH1cbiAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgdHJpZ2dlcigpO1xufTtcbmV4cG9ydCB7IHF1ZXVlTWljcm9UYXNrIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJTaXplID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNpemUoaW5saW5lU2l6ZSwgYmxvY2tTaXplKSB7XG4gICAgICAgIHRoaXMuaW5saW5lU2l6ZSA9IGlubGluZVNpemU7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgICAgICBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlclNpemU7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgRE9NUmVjdFJlYWRPbmx5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBET01SZWN0UmVhZE9ubHkoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMueTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoO1xuICAgICAgICByZXR1cm4gZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICBET01SZWN0UmVhZE9ubHkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgeCA9IF9hLngsIHkgPSBfYS55LCB0b3AgPSBfYS50b3AsIHJpZ2h0ID0gX2EucmlnaHQsIGJvdHRvbSA9IF9hLmJvdHRvbSwgbGVmdCA9IF9hLmxlZnQsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSwgdG9wOiB0b3AsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnQsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9O1xuICAgIERPTVJlY3RSZWFkT25seS5mcm9tUmVjdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBET01SZWN0UmVhZE9ubHkocmVjdGFuZ2xlLngsIHJlY3RhbmdsZS55LCByZWN0YW5nbGUud2lkdGgsIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERPTVJlY3RSZWFkT25seTtcbn0oKSk7XG5leHBvcnQgeyBET01SZWN0UmVhZE9ubHkgfTtcbiIsInZhciBpc1NWRyA9IGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgJ2dldEJCb3gnIGluIHRhcmdldDsgfTtcbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoaXNTVkcodGFyZ2V0KSkge1xuICAgICAgICB2YXIgX2EgPSB0YXJnZXQuZ2V0QkJveCgpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAhd2lkdGggJiYgIWhlaWdodDtcbiAgICB9XG4gICAgdmFyIF9iID0gdGFyZ2V0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQ7XG4gICAgcmV0dXJuICEob2Zmc2V0V2lkdGggfHwgb2Zmc2V0SGVpZ2h0IHx8IHRhcmdldC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59O1xudmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgc2NvcGUgPSAoX2IgPSAoX2EgPSBvYmopID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVmYXVsdFZpZXc7XG4gICAgcmV0dXJuICEhKHNjb3BlICYmIG9iaiBpbnN0YW5jZW9mIHNjb3BlLkVsZW1lbnQpO1xufTtcbnZhciBpc1JlcGxhY2VkRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldC50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcbiAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdWSURFTyc6XG4gICAgICAgIGNhc2UgJ0FVRElPJzpcbiAgICAgICAgY2FzZSAnRU1CRUQnOlxuICAgICAgICBjYXNlICdPQkpFQ1QnOlxuICAgICAgICBjYXNlICdDQU5WQVMnOlxuICAgICAgICBjYXNlICdJRlJBTUUnOlxuICAgICAgICBjYXNlICdJTUcnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgeyBpc1NWRywgaXNIaWRkZW4sIGlzRWxlbWVudCwgaXNSZXBsYWNlZEVsZW1lbnQgfTtcbiIsImV4cG9ydCB2YXIgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIiwiaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZXMgfSBmcm9tICcuL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZSc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJFbnRyeSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJveGVzID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0KTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY29udGVudFJlY3QgPSBib3hlcy5jb250ZW50UmVjdDtcbiAgICAgICAgdGhpcy5ib3JkZXJCb3hTaXplID0gZnJlZXplKFtib3hlcy5ib3JkZXJCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuY29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmNvbnRlbnRCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH07XG4iLCJpbXBvcnQgeyBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xudmFyIGNhbGN1bGF0ZURlcHRoRm9yTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKGlzSGlkZGVuKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgZGVwdGggKz0gMTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aDtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9jYWxjdWxhdGVCb3hTaXplJztcbnZhciBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNoYWxsb3dlc3REZXB0aCA9IEluZmluaXR5O1xuICAgIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgaWYgKHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG90LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGVwdGggPSBjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICBvdC5sYXN0UmVwb3J0ZWRTaXplID0gY2FsY3VsYXRlQm94U2l6ZShvdC50YXJnZXQsIG90Lm9ic2VydmVkQm94KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXREZXB0aCA8IHNoYWxsb3dlc3REZXB0aCkge1xuICAgICAgICAgICAgICAgIHNoYWxsb3dlc3REZXB0aCA9IHRhcmdldERlcHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gcmVzaXplT2JzZXJ2ZXJDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJvLmNhbGxiYWNrLmNhbGwocm8ub2JzZXJ2ZXIsIGVudHJpZXMsIHJvLm9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9KTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNhbGxiYWNrc18xID0gY2FsbGJhY2tzOyBfaSA8IGNhbGxiYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMVtfaV07XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFsbG93ZXN0RGVwdGg7XG59O1xuZXhwb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH0gZnJvbSAnLi9jYWxjdWxhdGVEZXB0aEZvck5vZGUnO1xudmFyIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggPSBmdW5jdGlvbiAoZGVwdGgpIHtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5zcGxpY2UoMCwgcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8ub2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgaWYgKG90LmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCkgPiBkZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICByby5hY3RpdmVUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH07XG4iLCJpbXBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfSBmcm9tICcuLi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3InO1xuaW1wb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9IGZyb20gJy4uL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCc7XG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIHdoaWxlIChoYXNBY3RpdmVPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpO1xuICAgICAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB9XG4gICAgaWYgKGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCA+IDA7XG59O1xuZXhwb3J0IHsgcHJvY2VzcyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIiwiaW1wb3J0IHsgcXVldWVNaWNyb1Rhc2sgfSBmcm9tICcuL3F1ZXVlTWljcm9UYXNrJztcbnZhciBxdWV1ZVJlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgcXVldWVNaWNyb1Rhc2soZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyRGV0YWlsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuc2tpcHBlZFRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvblRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckRldGFpbDtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9O1xuIiwiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iLCJpbXBvcnQge0V2ZW50Q2FsbGJhY2ssIFdlYkxheWVyfSBmcm9tICcuL1dlYkxheWVyJ1xuaW1wb3J0IHsgYWRkQ1NTUnVsZSB9IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciBhcyBQb2x5ZmlsbCB9IGZyb20gJ0BqdWdnbGUvcmVzaXplLW9ic2VydmVyJ1xuY29uc3QgUmVzaXplT2JzZXJ2ZXI6dHlwZW9mIFBvbHlmaWxsID0gKHNlbGYgYXMgYW55KS5SZXNpemVPYnNlcnZlciB8fCBQb2x5ZmlsbFxuXG5cbnR5cGUgUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZSA9IGFueVxudHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrT3B0aW9ucyA9IHtcbiAgdGltZW91dDogbnVtYmVyXG59XG5leHBvcnQgdHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrRGVhZGxpbmUgPSB7XG4gIHJlYWRvbmx5IGRpZFRpbWVvdXQ6IGJvb2xlYW5cbiAgdGltZVJlbWFpbmluZzogKCkgPT4gbnVtYmVyXG59XG5cbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFjayAoXG4gIGNhbGxiYWNrOiAoZGVhZGxpbmU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSkgPT4gdm9pZCxcbiAgb3B0cz86IFJlcXVlc3RJZGxlQ2FsbGJhY2tPcHRpb25zXG4pIDogUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZVxuXG5kZWNsYXJlIGZ1bmN0aW9uIGNhbmNlbElkbGVDYWxsYmFjayhoYW5kbGU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tIYW5kbGUpIDogdm9pZFxuXG5cbmZ1bmN0aW9uIGVuc3VyZUVsZW1lbnRJc0luRG9jdW1lbnQoZWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnQge1xuICBjb25zdCBkb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudCFcbiAgY29uc3Qgcm9vdCA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290XG4gIGlmIChkb2N1bWVudC5jb250YWlucyhlbGVtZW50KSB8fCBkb2N1bWVudC5jb250YWlucyhyb290Py5ob3N0KSkge1xuICAgIHJldHVybiBlbGVtZW50XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ob3N0IGFzIEhUTUxFbGVtZW50fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjb250YWluZXIuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFLCAnJylcbiAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICBjb250YWluZXIuc3R5bGUudG9wID0gJy0xMDAwMDBweCdcbiAgY29udGFpbmVyLnN0eWxlWydjb250YWluJyBhcyBhbnldID0gJ3N0cmljdCdcbiAgLy8gY29uc3QgY29udGFpbmVyU2hhZG93ID0gY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSlcbiAgLy8gY29udGFpbmVyU2hhZG93LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gIGlmICghcm9vdC5ob3N0KSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpXG4gIHJldHVybiBlbGVtZW50XG59XG5cbmNvbnN0IHNjcmF0Y2hNYXQxID0gbmV3IE1hdHJpeDQoKVxuY29uc3Qgc2NyYXRjaE1hdDIgPSBuZXcgTWF0cml4NCgpXG5jb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpXG5jb25zdCBtaWNyb3Rhc2sgPSBQcm9taXNlLnJlc29sdmUoKVxuXG5leHBvcnQgY2xhc3MgV2ViUmVuZGVyZXIge1xuICBzdGF0aWMgQVRUUklCVVRFX1BSRUZJWCA9ICd4cidcbiAgc3RhdGljIGdldCBFTEVNRU5UX1VJRF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXVpZCcgfVxuICBzdGF0aWMgZ2V0IEhPVkVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctaG92ZXInfVxuICBzdGF0aWMgZ2V0IEFDVElWRV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWFjdGl2ZSd9XG4gIHN0YXRpYyBnZXQgRk9DVVNfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1mb2N1cyd9XG4gIHN0YXRpYyBnZXQgVEFSR0VUX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdGFyZ2V0J31cbiAgc3RhdGljIGdldCBMQVlFUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWxheWVyJ31cbiAgc3RhdGljIGdldCBQSVhFTF9SQVRJT19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXBpeGVsLXJhdGlvJyB9XG5cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmcnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLXBhcmVudCcgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctY29udGFpbmVyJyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1pbmxpbmUnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctZG9jdW1lbnQnIH1cblxuICBwcml2YXRlIHN0YXRpYyBfbmV4dFVJRCA9IDBcbiAgc3RhdGljIGdlbmVyYXRlRWxlbWVudFVJRCgpIHsgcmV0dXJuICcnICsgKHRoaXMuX25leHRVSUQgKyspIH1cblxuICBzdGF0aWMgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKClcblxuICBzdGF0aWMgcm9vdExheWVyczogTWFwPEVsZW1lbnQsIFdlYkxheWVyPiA9IG5ldyBNYXAoKVxuICBzdGF0aWMgbGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc3RhdGljIG11dGF0aW9uT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgTXV0YXRpb25PYnNlcnZlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgcmVzaXplT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgUG9seWZpbGw+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBzZXJpYWxpemVRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cbiAgc3RhdGljIHJhc3Rlcml6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmVuZGVyUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG5cbiAgLy8gc3RhdGljIHJlYWRvbmx5IHZpcnR1YWxIb3ZlckVsZW1lbnRzID0gbmV3IFNldDxFbGVtZW50PigpXG4gIHN0YXRpYyByZWFkb25seSBmb2N1c0VsZW1lbnQ6SFRNTEVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgZWxlbWVudCBpcyByZWFkeSB0byByZWNlaXZlIGlucHV0XG4gIHN0YXRpYyByZWFkb25seSBhY3RpdmVFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgYnV0dG9uIGVsZW1lbnQgaXMgYmVpbmcgXCJwcmVzc2VkIGRvd25cIlxuICBzdGF0aWMgcmVhZG9ubHkgdGFyZ2V0RWxlbWVudDpFbGVtZW50fG51bGwgPSBudWxsIC8vIGkuZS4sIHRoZSBlbGVtZW50IHdob3NlIElEIG1hdGNoZXMgdGhlIHVybCAjaGFzaFxuXG4gIC8vIHN0YXRpYyBjb250YWluc0hvdmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gICBmb3IgKGNvbnN0IHQgb2YgdGhpcy52aXJ0dWFsSG92ZXJFbGVtZW50cykge1xuICAvLyAgICAgaWYgKGVsZW1lbnQuY29udGFpbnModCkpIHJldHVybiB0cnVlXG4gIC8vICAgfVxuICAvLyAgIHJldHVybiBmYWxzZVxuICAvLyB9XG5cbiAgc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoc3RhdGVzOiB0eXBlb2YgV2ViTGF5ZXIucHJvdG90eXBlLnBzZXVkb1N0YXRlcykge1xuICAgIHJldHVybiAoXG4gICAgICBgJHtzdGF0ZXMuaG92ZXIgPyBgJHt0aGlzLkhPVkVSX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmZvY3VzID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy5hY3RpdmUgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy50YXJnZXQgPyBgJHt0aGlzLlRBUkdFVF9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHJvb3ROb2RlT2JzZXJ2ZXJzID0gbmV3IE1hcDxEb2N1bWVudHxTaGFkb3dSb290LCBNdXRhdGlvbk9ic2VydmVyPigpXG4gIC8vIHN0YXRpYyBkb2N1bWVudE9ic2VydmVyIDogTXV0YXRpb25PYnNlcnZlclxuICAvLyBzdGF0aWMgX2RpZEluaXQgPSBmYWxzZVxuXG4gIHN0YXRpYyBpbml0Um9vdE5vZGVPYnNlcnZhdGlvbihlbGVtZW50OkVsZW1lbnQpIHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudFxuICAgIGNvbnN0IHJvb3ROb2RlID0gZWxlbWVudC5nZXRSb290Tm9kZSgpIGFzIFNoYWRvd1Jvb3R8RG9jdW1lbnRcbiAgICBjb25zdCBzdHlsZVJvb3QgPSAnaGVhZCcgaW4gcm9vdE5vZGUgPyByb290Tm9kZS5oZWFkIDogcm9vdE5vZGVcbiAgICBpZiAodGhpcy5yb290Tm9kZU9ic2VydmVycy5nZXQocm9vdE5vZGUpKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICBzdHlsZVJvb3QuYXBwZW5kKHN0eWxlKVxuICAgIGNvbnN0IHNoZWV0ID0gc3R5bGUuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldFxuICAgIGxldCBpID0gMFxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSwgWyR7XG4gICAgICAgIFdlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICd2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDsnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV1gLFxuICAgICAgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAwICFpbXBvcnRhbnQ7IGxlZnQ6IDAgIWltcG9ydGFudDsgZmxvYXQ6IG5vbmU7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgbWluLXdpZHRoOnZhcigtLXgtd2lkdGgpOyBtaW4taGVpZ2h0OnZhcigtLXgtaGVpZ2h0KTsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfV1gLFxuICAgICAgJ3RvcDogdmFyKC0teC1pbmxpbmUtdG9wKSAhaW1wb3J0YW50OyB3aWR0aDphdXRvICFpbXBvcnRhbnQnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dYCxcbiAgICAgICd0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyB0b3A6IDAgIWltcG9ydGFudDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IGJvcmRlcjowICFpbXBvcnRhbnQ7IGJvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50OyBoZWlnaHQ6MTAwJSAhaW1wb3J0YW50OyBwYWRkaW5nOjAgIWltcG9ydGFudDsgcG9zaXRpb246c3RhdGljICFpbXBvcnRhbnQ7IGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwKSBub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEV9XTo6YmVmb3JlLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjphZnRlcmAsXG4gICAgICAnY29udGVudDpub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG5cbiAgICBpZiAocm9vdE5vZGUgPT09IGRvY3VtZW50KSB7XG4gICAgICBsZXQgcHJldmlvdXNIYXNoID0gJydcbiAgICAgIGNvbnN0IG9uSGFzaENoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByZXZpb3VzSGFzaCAhPSB3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSgpXG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3Iod2luZG93LmxvY2F0aW9uLmhhc2gpXG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzSGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoXG4gICAgICB9XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSwgZmFsc2UpXG4gICAgICBvbkhhc2hDaGFuZ2UoKVxuICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZXZ0LnRhcmdldFxuICAgICAgfSwgZmFsc2UpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gbnVsbFxuICAgICAgfSwgZmFsc2UpXG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlLGxdIG9mIHRoaXMubGF5ZXJzKSBsLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCA9IChub2RlOk5vZGUpID0+IHtcbiAgICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKVxuICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2Yobm9kZU5hbWUpICE9PSAtMSlcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycylcbiAgICB9XG5cbiAgICBjb25zdCBTVFlMRV9OT0RFUyA9IFtcIlNUWUxFXCIsIFwiTElOS1wiXTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2YobS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgICAgIHRoaXMuZW1iZWRkZWRDU1MuZ2V0KGRvY3VtZW50KT8uZGVsZXRlKG0udGFyZ2V0IGFzIEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG0uYWRkZWROb2Rlcykgc2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuc2V0KHJvb3ROb2RlLCBvYnNlcnZlcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1NlcmlhbGl6ZVF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnNlcmlhbGl6ZVF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5zZXJpYWxpemVRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvUmFzdGVyaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMucmFzdGVyaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnJhc3Rlcml6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SZW5kZXJRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmVuZGVyUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBUQVNLX0FTWU5DX01BWF9DT1VOVCA9IDIgLy8gc2luY2UgcmFzdGVyaXphdGlvbiBpcyBhc3luYywgbGltaXQgc2ltdWx0YW5lb3VzIHJhc3Rlcml6YXRpb25zXG4gIHN0YXRpYyBUQVNLX1NZTkNfTUFYX1RJTUUgPSAyMDBcbiAgc3RhdGljIHJhc3Rlcml6ZVRhc2tDb3VudCA9IDBcbiAgcHJpdmF0ZSBzdGF0aWMgX3J1blRhc2tzKCkge1xuICAgIFdlYlJlbmRlcmVyLnRhc2tzUGVuZGluZyA9IGZhbHNlXG4gICAgY29uc3Qgc2VyaWFsaXplUXVldWUgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZVxuICAgIGNvbnN0IHJhc3Rlcml6ZVF1ZXVlID0gV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWVcbiAgICBjb25zdCByZW5kZXJRdWV1ZSA9IFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlXG4gICAgY29uc3QgbWF4U3luY1RpbWUgPSBXZWJSZW5kZXJlci5UQVNLX1NZTkNfTUFYX1RJTUUgLyAyXG4gICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHJlbmRlclF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICByZW5kZXJRdWV1ZS5zaGlmdCgpIS5yZW5kZXIoKVxuICAgIH1cbiAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIHdoaWxlIChzZXJpYWxpemVRdWV1ZS5sZW5ndGggJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUgPCBtYXhTeW5jVGltZSkge1xuICAgICAgc2VyaWFsaXplUXVldWUuc2hpZnQoKSEuc2VyaWFsaXplKClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmFzdGVyaXplUXVldWUubGVuZ3RoICYmXG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPCBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVFxuICAgICkge1xuICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50KytcbiAgICAgIHJhc3Rlcml6ZVF1ZXVlXG4gICAgICAgIC5zaGlmdCgpIVxuICAgICAgICAucmFzdGVyaXplKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudC0tXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRhc2tzUGVuZGluZyA9IGZhbHNlXG4gIFxuICBzdGF0aWMgc2NoZWR1bGVUYXNrc0lmTmVlZGVkKCkge1xuICAgIGlmICh0aGlzLnRhc2tzUGVuZGluZyB8fFxuICAgICAgICAoV2ViUmVuZGVyZXIuc2VyaWFsaXplUXVldWUubGVuZ3RoID09PSAwICYmXG4gICAgICAgIFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiBcbiAgICAgICAgKFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBcbiAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50ID09PSBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVCkpKSByZXR1cm5cbiAgICB0aGlzLnRhc2tzUGVuZGluZyA9IHRydWVcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZUlkbGUoV2ViUmVuZGVyZXIuX3J1blRhc2tzKVxuICB9XG5cbiAgc3RhdGljIHNjaGVkdWxlSWRsZShjYjooZGVhZGxpbmU/OlJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSk9PmFueSkge1xuICAgIC8vIGlmIChcInJlcXVlc3RJZGxlQ2FsbGJhY2tcIiBpbiBzZWxmKSB7XG4gICAgLy8gICByZXF1ZXN0SWRsZUNhbGxiYWNrKGNiKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGNiLDEpXG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIHNldExheWVyTmVlZHNSZWZyZXNoKGxheWVyOiBXZWJMYXllcikge1xuICAgIGxheWVyLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMYXllclRyZWUoZWxlbWVudDogRWxlbWVudCwgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIGlmIChXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoZWxlbWVudCkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Egcm9vdCBXZWJMYXllciBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgYWxyZWFkeSBleGlzdHMnKVxuXG4gICAgZW5zdXJlRWxlbWVudElzSW5Eb2N1bWVudChlbGVtZW50KVxuICAgIFdlYlJlbmRlcmVyLmluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQpXG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMpXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5zZXQoZWxlbWVudCwgb2JzZXJ2ZXIpXG4gICAgdGhpcy5zdGFydE11dGF0aW9uT2JzZXJ2ZXIoZWxlbWVudClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0Q2xvc2VzdExheWVyKHJlY29yZC50YXJnZXQpIVxuICAgICAgICBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcnMuc2V0KGVsZW1lbnQsIHJlc2l6ZU9ic2VydmVyKVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIoZWxlbWVudCwgZXZlbnRDYWxsYmFjaylcbiAgICB0aGlzLnJvb3RMYXllcnMuc2V0KGVsZW1lbnQsIGxheWVyKVxuICAgIHJldHVybiBsYXllclxuICB9XG5cbiAgc3RhdGljIGRpc3Bvc2VMYXllcihsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yb290TGF5ZXJzLmhhcyhsYXllci5lbGVtZW50KSkge1xuICAgICAgdGhpcy5yb290TGF5ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChsYXllci5lbGVtZW50KSFcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdGhpcy5yZXNpemVPYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQ6IEVsZW1lbnR8bnVsbCk6IFdlYkxheWVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjbG9zZXN0TGF5ZXJFbGVtZW50ID1cbiAgICAgIGVsZW1lbnQgJiYgKGVsZW1lbnQuY2xvc2VzdChgWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV1gKSBhcyBIVE1MRWxlbWVudClcbiAgICByZXR1cm4gdGhpcy5sYXllcnMuZ2V0KGNsb3Nlc3RMYXllckVsZW1lbnQhKVxuICB9XG5cbiAgc3RhdGljIHBhcnNlQ1NTVHJhbnNmb3JtKGNvbXB1dGVkU3R5bGU6Q1NTU3R5bGVEZWNsYXJhdGlvbiwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyLCBwaXhlbFNpemU6bnVtYmVyLCBvdXQgPSBuZXcgTWF0cml4NCgpKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm1cbiAgICBjb25zdCB0cmFuc2Zvcm1PcmlnaW4gPSBjb21wdXRlZFN0eWxlLnRyYW5zZm9ybU9yaWdpblxuXG4gICAgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCdtYXRyaXgoJykgPT0gMCkge1xuICAgICAgb3V0LmlkZW50aXR5KClcbiAgICAgIHZhciBtYXQgPSB0cmFuc2Zvcm1cbiAgICAgICAgLnN1YnN0cmluZyg3LCB0cmFuc2Zvcm0ubGVuZ3RoIC0gMSlcbiAgICAgICAgLnNwbGl0KCcsICcpXG4gICAgICAgIC5tYXAocGFyc2VGbG9hdClcbiAgICAgIG91dC5lbGVtZW50c1swXSA9IG1hdFswXVxuICAgICAgb3V0LmVsZW1lbnRzWzFdID0gbWF0WzFdXG4gICAgICBvdXQuZWxlbWVudHNbNF0gPSBtYXRbMl1cbiAgICAgIG91dC5lbGVtZW50c1s1XSA9IG1hdFszXVxuICAgICAgb3V0LmVsZW1lbnRzWzEyXSA9IG1hdFs0XVxuICAgICAgb3V0LmVsZW1lbnRzWzEzXSA9IG1hdFs1XVxuICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtLmluZGV4T2YoJ21hdHJpeDNkKCcpID09IDApIHtcbiAgICAgIHZhciBtYXQgPSB0cmFuc2Zvcm1cbiAgICAgICAgLnN1YnN0cmluZyg5LCB0cmFuc2Zvcm0ubGVuZ3RoIC0gMSlcbiAgICAgICAgLnNwbGl0KCcsICcpXG4gICAgICAgIC5tYXAocGFyc2VGbG9hdClcbiAgICAgIG91dC5mcm9tQXJyYXkobWF0KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmIChvdXQuZWxlbWVudHNbMF0gPT09IDApIG91dC5lbGVtZW50c1swXSA9IDFlLTE1XG4gICAgaWYgKG91dC5lbGVtZW50c1s1XSA9PT0gMCkgb3V0LmVsZW1lbnRzWzVdID0gMWUtMTVcbiAgICBpZiAob3V0LmVsZW1lbnRzWzEwXSA9PT0gMCkgb3V0LmVsZW1lbnRzWzEwXSA9IDFlLTE1XG4gICAgb3V0LmVsZW1lbnRzWzEyXSAqPSBwaXhlbFNpemVcbiAgICBvdXQuZWxlbWVudHNbMTNdICo9IHBpeGVsU2l6ZSAqIC0xXG5cbiAgICB2YXIgb3JpZ2luID0gdHJhbnNmb3JtT3JpZ2luLnNwbGl0KCcgJykubWFwKHBhcnNlRmxvYXQpXG5cbiAgICB2YXIgb3ggPSAob3JpZ2luWzBdIC0gd2lkdGgvMikgKiBwaXhlbFNpemVcbiAgICB2YXIgb3kgPSAob3JpZ2luWzFdIC0gaGVpZ2h0LzIpICogcGl4ZWxTaXplICogLTFcbiAgICB2YXIgb3ogPSBvcmlnaW5bMl0gfHwgMFxuXG4gICAgdmFyIFQxID0gc2NyYXRjaE1hdDEuaWRlbnRpdHkoKS5tYWtlVHJhbnNsYXRpb24oLW94LCAtb3ksIC1veilcbiAgICB2YXIgVDIgPSBzY3JhdGNoTWF0Mi5pZGVudGl0eSgpLm1ha2VUcmFuc2xhdGlvbihveCwgb3ksIG96KVxuXG4gICAgZm9yIChjb25zdCBlIG9mIG91dC5lbGVtZW50cykge1xuICAgICAgaWYgKGlzTmFOKGUpKSByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBvdXQucHJlbXVsdGlwbHkoVDIpLm11bHRpcGx5KFQxKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGVtYmVkRXh0ZXJuYWxSZXNvdXJjZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gW11cbiAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChsaW5rKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTClcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTUcnICYmIGltZ0VsZW1lbnQuc3JjLnN1YnN0cigwLCA0KSAhPSAnZGF0YScpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGltZ0VsZW1lbnQuc3JjKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAhPSBjc3MpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNzcylcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKVxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBXZWJSZW5kZXJlci5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBzdHlsZS5pbm5lckhUTUwpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICBpZiAoc3R5bGUuaW5uZXJIVE1MICE9IGNzcykgc3R5bGUuaW5uZXJIVE1MID0gY3NzXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBwYXVzZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJzID0gV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMudmFsdWVzKClcbiAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMobS50YWtlUmVjb3JkcygpKVxuICAgICAgbS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVzdW1lTXV0YXRpb25PYnNlcnZlcnMoKSB7XG4gICAgZm9yIChjb25zdCBbZV0gb2YgV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIHRoaXMuc3RhcnRNdXRhdGlvbk9ic2VydmVyKGUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RhcnRNdXRhdGlvbk9ic2VydmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChlbGVtZW50KSFcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9oYW5kbGVNdXRhdGlvbnMgPSAocmVjb3JkczogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUocmVjb3JkLmF0dHJpYnV0ZU5hbWUhKSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcmVjb3JkLnRhcmdldCBhcyBDaGFyYWN0ZXJEYXRhXG4gICAgICAgIGlmICh0YXJnZXQuZGF0YSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgcmVjb3JkLnRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICA/IChyZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIDogcmVjb3JkLnRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICBpZiAoIXRhcmdldCkgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRhcmdldClcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcmVjb3JkLm9sZFZhbHVlID8gcmVjb3JkLm9sZFZhbHVlIDogJydcbiAgICAgICAgY29uc3QgY3VycmVudENsYXNzZXMgPSAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xhc3NOYW1lXG4gICAgICAgIGlmIChvbGRDbGFzc2VzID09PSBjdXJyZW50Q2xhc3NlcykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIGxheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKSAvLyBtYXkgYmUgbmVlZGVkIHRvIHN1cHBvcnQgOmZvY3VzLXdpdGhpbigpIGFuZCBmdXR1cmUgOmhhcygpIHNlbGVjdG9yIHN1cHBvcnRcbiAgICAgIGxheWVyLnBhcmVudExheWVyXG4gICAgICAgID8gbGF5ZXIucGFyZW50TGF5ZXIudHJhdmVyc2VDaGlsZExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgOiBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHJpZ2dlclJlZnJlc2ggPSBhc3luYyAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlLnRhcmdldCBhcyBhbnkpIVxuICAgIC8vIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhlLnRhcmdldCBhcyBhbnkpXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKGRvYzpEb2N1bWVudHxTaGFkb3dSb290KSB7XG4gICAgY29uc3Qgc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gc2hlZXRzW2ldIGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgY29uc3QgcnVsZXMgPSBzaGVldC5jc3NSdWxlc1xuICAgICAgICBpZiAoIXJ1bGVzKSBjb250aW51ZVxuICAgICAgICBjb25zdCBuZXdSdWxlcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6aG92ZXInKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuSE9WRVJfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmFjdGl2ZScpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6YWN0aXZlJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkFDVElWRV9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzpmb2N1cycpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2gocnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIGBbJHtXZWJSZW5kZXJlci5GT0NVU19BVFRSSUJVVEV9XWApKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6dGFyZ2V0JykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChcbiAgICAgICAgICAgICAgcnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuVEFSR0VUX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IG5ld1J1bGVzLmluZGV4T2YocnVsZXNbal0uY3NzVGV4dClcbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3UnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG5ld1J1bGVzW2pdKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ5dGVzOlVpbnQ4QXJyYXkpIHtcbiAgICB2YXIgYmluYXJ5ID0gJydcbiAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KVxuICB9XG5cbiAgc3RhdGljIGF0dHJpYnV0ZUNTUyhuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGBbJHtuYW1lfV09JHt2YWx1ZX1gIDogYFske25hbWV9XWBcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVIVE1MKG5hbWU6c3RyaW5nLCB2YWx1ZT86c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYCR7bmFtZX09XCIke3ZhbHVlfVwiYCA6IGAke25hbWV9PVwiXCJgXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmw6c3RyaW5nLCBjc3M6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgZm91bmRcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAvLyBBZGQgY2xhc3NlcyBmb3IgcHN1ZWRvLWNsYXNzZXNcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkhPVkVSX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuQUNUSVZFX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmZvY3VzJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5GT0NVU19BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLlRBUkdFVF9BVFRSSUJVVEUpKVxuXG4gICAgLy8gUmVwbGFjZSBhbGwgdXJscyBpbiB0aGUgY3NzXG4gICAgY29uc3QgcmVnRXggPSBSZWdFeHAoL3VybFxcKCg/IVsnXCJdPyg/OmRhdGEpOilbJ1wiXT8oW14nXCJcXCldKilbJ1wiXT9cXCkvZ2kpXG4gICAgd2hpbGUgKChmb3VuZCA9IHJlZ0V4LmV4ZWMoY3NzKSkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlVVJMID0gZm91bmRbMV1cbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMuZ2V0RGF0YVVSTChuZXcgVVJMKHJlc291cmNlVVJMLCB1cmwpLmhyZWYpLnRoZW4oZGF0YVVSTCA9PiB7XG4gICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UocmVzb3VyY2VVUkwsIGRhdGFVUkwpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgcmV0dXJuIGNzc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxYTUxIdHRwUmVxdWVzdD4ge1xuICAgIHVybCA9IG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24uaHJlZikuaHJlZlxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxYTUxIdHRwUmVxdWVzdD4ocmVzb2x2ZSA9PiB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSlcblxuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcblxuICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh4aHIpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHhocilcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlbWJlZGRlZENTUyA9IG5ldyBNYXA8U2hhZG93Um9vdHxEb2N1bWVudCwgTWFwPEVsZW1lbnQsIFByb21pc2U8c3RyaW5nPj4+KClcblxuICBzdGF0aWMgYXN5bmMgZ2V0RW1iZWRkZWRDU1MoZWw6RWxlbWVudCkge1xuICAgIGNvbnN0IHJvb3ROb2RlID0gZWwuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3QgZW1iZWRkZWQgPSB0aGlzLmVtYmVkZGVkQ1NTLmdldChyb290Tm9kZSkgfHwgbmV3IE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+KClcbiAgICB0aGlzLmVtYmVkZGVkQ1NTLnNldChyb290Tm9kZSwgZW1iZWRkZWQpXG5cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZSwgbGlua1t0eXBlPSd0ZXh0L2NzcyddLCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpXG4gICAgKVxuXG4gICAgbGV0IGZvdW5kTmV3U3R5bGVzID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3R5bGVFbGVtZW50cykge1xuICAgICAgaWYgKCFlbWJlZGRlZC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgZm91bmROZXdTdHlsZXMgPSB0cnVlXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gJ1NUWUxFJykge1xuICAgICAgICAgIGNvbnN0IHNoZWV0ID0gKGVsZW1lbnQgYXMgSFRNTFN0eWxlRWxlbWVudCkuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldFxuICAgICAgICAgIGxldCBjc3NUZXh0ID0gJydcbiAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2Ygc2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0ICsgJ1xcbidcbiAgICAgICAgICB9XG4gICAgICAgICAgZW1iZWRkZWQuc2V0KGVsZW1lbnQsIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzVGV4dCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW1iZWRkZWQuc2V0KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHRoaXMuZ2V0VVJMKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykhKS50aGVuKHhociA9PiB7XG4gICAgICAgICAgICAgIGlmICgheGhyLnJlc3BvbnNlKSByZXR1cm4gJydcbiAgICAgICAgICAgICAgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgICAgICAgICAgIHZhciBjc3MgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoeGhyLnJlc3BvbnNlKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBjc3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZm91bmROZXdTdHlsZXMpIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgIHJldHVybiBQcm9taXNlLmFsbChlbWJlZGRlZC52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIGFuZCByZXR1cm5zIGEgZGF0YXVybCBmb3IgdGhlIGdpdmVuIHVybFxuICBzdGF0aWMgYXN5bmMgZ2V0RGF0YVVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB4aHIgPSBhd2FpdCB0aGlzLmdldFVSTCh1cmwpXG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKVxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKT8uc3BsaXQoJzsnKVswXVxuICAgIGlmIChjb250ZW50VHlwZSA9PSAndGV4dC9jc3MnKSB7XG4gICAgICBsZXQgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKGFycilcbiAgICAgIGNzcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmwsIGNzcylcbiAgICAgIGNvbnN0IGJhc2U2NCA9IHdpbmRvdy5idG9hKGNzcylcbiAgICAgIGlmIChiYXNlNjQubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gJ2RhdGE6JyArIGNvbnRlbnRUeXBlICsgJztiYXNlNjQsJyArIGJhc2U2NFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZGF0YTonICsgY29udGVudFR5cGUgKyAnO2Jhc2U2NCwnICsgdGhpcy5hcnJheUJ1ZmZlclRvQmFzZTY0KGFycilcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlSW5wdXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCdpbnB1dCcpKSB0aGlzLl91cGRhdGVJbnB1dEF0dHJpYnV0ZShlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpXG4gICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JykpIHRoaXMuX3VwZGF0ZUlucHV0QXR0cmlidXRlKGUpXG4gIH1cblxuICBzdGF0aWMgX3VwZGF0ZUlucHV0QXR0cmlidXRlKGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCkge1xuICAgIGlmIChpbnB1dEVsZW1lbnQuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgIGlmICghaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJylcbiAgICB9XG4gICAgaWYgKGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgIT09IGlucHV0RWxlbWVudC52YWx1ZSkge1xuICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBpbnB1dEVsZW1lbnQudmFsdWUpXG4gICAgfVxuICB9XG5cbiAgLy8gc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAvLyAgIC8vIGNvbnN0IGxheWVyID0gdGhpcy5sYXllcnMuZ2V0KGVsZW1lbnQpXG4gIC8vICAgcmV0dXJuIChcbiAgLy8gICAgIGAke3RoaXMuY29udGFpbnNIb3ZlcihlbGVtZW50KSA/IGAke3RoaXMuSE9WRVJfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuZm9jdXNFbGVtZW50KSA/IGAke3RoaXMuRk9DVVNfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuYWN0aXZlRWxlbWVudCkgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy50YXJnZXRFbGVtZW50KSA/IGAke3RoaXMuVEFSR0VUX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWBcbiAgLy8gICApXG4gIC8vIH1cblxuICBzdGF0aWMgaXNCbGFua0ltYWdlKGltYWdlRGF0YTpVaW50OENsYW1wZWRBcnJheSkge1xuICAgICAgY29uc3QgcGl4ZWxCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkoaW1hZ2VEYXRhLmJ1ZmZlcilcbiAgICAgIHJldHVybiAhcGl4ZWxCdWZmZXIuc29tZShjb2xvciA9PiBjb2xvciAhPT0gMCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIF9USFJFRSBmcm9tICd0aHJlZSdcblxuaWYgKHNlbGYuVEhSRUUpIHtcbiAgdmFyIFRIUkVFID0gc2VsZi5USFJFRVxufSBlbHNlIHtcbiAgdmFyIFRIUkVFID0gX1RIUkVFXG59XG5cbmltcG9ydCB7IFdlYkxheWVyfSBmcm9tICcuLi9XZWJMYXllcidcbmltcG9ydCB7IFdlYlJlbmRlcmVyIH0gZnJvbSAnLi4vV2ViUmVuZGVyZXInXG5cbmltcG9ydCB7Qm91bmRzLCBnZXRCb3VuZHMsIGdldFZpZXdwb3J0Qm91bmRzLCB0cmF2ZXJzZUNoaWxkRWxlbWVudHMsIERPTSB9IGZyb20gJy4uL2RvbS11dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBXZWJMYXllcjNET3B0aW9ucyB7XG4gIHBpeGVsUmF0aW8/OiBudW1iZXJcbiAgbGF5ZXJTZXBhcmF0aW9uPzogbnVtYmVyXG4gIGF1dG9SZWZyZXNoPzogYm9vbGVhblxuICBvbkxheWVyQ3JlYXRlPyhsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpOiB2b2lkXG4gIG9uQWZ0ZXJSYXN0ZXJpemU/KGxheWVyOiBXZWJMYXllcjNEQ29udGVudCk6IHZvaWQsXG4gIHRleHR1cmVFbmNvZGluZz86IG51bWJlcixcbiAgcmVuZGVyT3JkZXJPZmZzZXQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IHtUSFJFRX1cblxudHlwZSBJbnRlcnNlY3Rpb24gPSBUSFJFRS5JbnRlcnNlY3Rpb24gJiB7Z3JvdXBPcmRlcjpudW1iZXJ9XG5cbmV4cG9ydCB0eXBlIFdlYkxheWVySGl0ID0gUmV0dXJuVHlwZTx0eXBlb2YgV2ViTGF5ZXIzRC5wcm90b3R5cGUuaGl0VGVzdD4gJiB7fVxuXG5jb25zdCBzY3JhdGNoTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDRcbmNvbnN0IHNjcmF0Y2hWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5jb25zdCBzY3JhdGNoVmVjdG9yMiA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IHNjcmF0Y2hCb3VuZHMgPSBuZXcgQm91bmRzKClcbmNvbnN0IHNjcmF0Y2hCb3VuZHMyID0gbmV3IEJvdW5kcygpXG5cbmNvbnN0IE9OX0JFRk9SRV9VUERBVEUgPSBTeW1ib2woJ09OX0JFRk9SRV9VUERBVEUnKVxuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzRENvbnRlbnQgZXh0ZW5kcyBUSFJFRS5PYmplY3QzRCB7XG5cbiAgcHVibGljIGlzUm9vdCA9IGZhbHNlXG5cbiAgcHJpdmF0ZSBfY2FtZXJhPzpUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm5hbWUgPSBlbGVtZW50LmlkXG4gICAgdGhpcy5fd2ViTGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoZWxlbWVudCkhXG5cbiAgICB0aGlzLmFkZCh0aGlzLmNvbnRlbnRNZXNoKVxuICAgIHRoaXMuYWRkKHRoaXMuX2JvdW5kc01lc2gpXG4gICAgdGhpcy5jdXJzb3IudmlzaWJsZSA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuXG4gICAgdGhpcy5jb250ZW50TWVzaC5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuICAgIHRoaXMuY29udGVudE1lc2gudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5jb250ZW50TWVzaFsnY3VzdG9tRGVwdGhNYXRlcmlhbCddID0gdGhpcy5kZXB0aE1hdGVyaWFsXG4gICAgdGhpcy5jb250ZW50TWVzaC5vbkJlZm9yZVJlbmRlciA9IChyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSkgPT4ge1xuICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhIGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhXG4gICAgfVxuXG4gICAgdGhpcy5fYm91bmRzTWVzaC5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuXG4gICAgV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuc2V0KHRoaXMuZWxlbWVudCwgdGhpcylcbiAgICBXZWJMYXllcjNELmxheWVyc0J5TWVzaC5zZXQodGhpcy5jb250ZW50TWVzaCwgdGhpcylcbiAgfVxuXG4gIHByb3RlY3RlZCBfd2ViTGF5ZXIgOiBXZWJMYXllclxuXG4gIHByaXZhdGUgX2xvY2FsWiA9IDBcbiAgcHJpdmF0ZSBfdmlld1ogPSAwXG4gIHByaXZhdGUgX3JlbmRlclogPSAwXG5cbiAgdGV4dHVyZXMgPSBuZXcgTWFwPEhUTUxDYW52YXNFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCwgVEhSRUUuVGV4dHVyZT4oKVxuXG4gIGdldCBjdXJyZW50VGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5fd2ViTGF5ZXIuZWxlbWVudC50YWdOYW1lID09PSAnVklERU8nKSB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMuX3dlYkxheWVyLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgbGV0IHQgPSB0aGlzLnRleHR1cmVzLmdldCh2aWRlbylcbiAgICAgIGlmICghdCkge1xuICAgICAgICB0ID0gbmV3IFRIUkVFLlZpZGVvVGV4dHVyZSh2aWRlbylcbiAgICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC53cmFwVCA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC5taW5GaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICAgIHRoaXMudGV4dHVyZXMuc2V0KHZpZGVvLCB0KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl93ZWJMYXllci5jYW52YXNcbiAgICBsZXQgdCA9IHRoaXMudGV4dHVyZXMuZ2V0KGNhbnZhcylcbiAgICBpZiAoIXQpIHtcbiAgICAgIHQgPSBuZXcgVEhSRUUuVGV4dHVyZShjYW52YXMpXG4gICAgICB0Lm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgIHQud3JhcFQgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICB0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICB0aGlzLnRleHR1cmVzLnNldChjYW52YXMsIHQpXG4gICAgfSBlbHNlIGlmICh0aGlzLnRleHR1cmVOZWVkc1VwZGF0ZSkge1xuICAgICAgdGhpcy50ZXh0dXJlTmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgICAgdC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICB9XG4gICAgcmV0dXJuIHRcbiAgfVxuXG4gIHRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG5cbiAgLy8gY29udGVudCA9IG5ldyBPYmplY3QzRCgpXG4gIGNvbnRlbnRNZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgV2ViTGF5ZXIzRC5HRU9NRVRSWSxcbiAgICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgYWxwaGFUZXN0OiAwLjAwMSxcbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9KVxuICApXG5cbiAgLyoqXG4gICAqIFRoaXMgbm9uLXZpc2libGUgbWVzaCBlbnN1cmVzIHRoYXQgYW4gYWRhcHRlZCBsYXllciByZXRhaW5zXG4gICAqIGl0cyBpbm5lckJvdW5kcywgZXZlbiBpZiB0aGUgY29udGVudCBtZXNoIGlzXG4gICAqIGluZGVwZW5kZW50bHkgYWRhcHRlZC5cbiAgICovXG4gIHByaXZhdGUgX2JvdW5kc01lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICBXZWJMYXllcjNELkdFT01FVFJZLFxuICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjdXJzb3IgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgY29ycmVjdCBzaGFkb3cgbWFwc1xuICAgKi9cbiAgZGVwdGhNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoRGVwdGhNYXRlcmlhbCh7XG4gICAgZGVwdGhQYWNraW5nOiBUSFJFRS5SR0JBRGVwdGhQYWNraW5nLFxuICAgIGFscGhhVGVzdDogMC4wMDFcbiAgfSlcblxuICBkb21MYXlvdXQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuICBkb21TaXplID0gbmV3IFRIUkVFLlZlY3RvcjMoMSwxLDEpXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaG92ZXIgc3RhdGVcbiAgICovXG4gIGdldCBwc2V1ZG9TdGF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLnBzZXVkb1N0YXRlc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXIgZGVwdGggKGRpc3RhbmNlIGZyb20gdGhpcyBsYXllcidzIGVsZW1lbnQgYW5kIHRoZSBwYXJlbnQgbGF5ZXIncyBlbGVtZW50KVxuICAgKi9cbiAgZ2V0IGRlcHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5kZXB0aFxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBnZXQgaW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50V2ViTGF5ZXIgPyB0aGlzLnBhcmVudFdlYkxheWVyLmNoaWxkV2ViTGF5ZXJzLmluZGV4T2YodGhpcykgOiAwXG4gIH1cblxuICBnZXQgbmVlZHNSZWZyZXNoKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5uZWVkc1JlZnJlc2hcbiAgfVxuXG4gIHNldE5lZWRzUmVmcmVzaCgpIHtcbiAgICB0aGlzLl93ZWJMYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgfVxuXG4gIC8qKiBJZiB0cnVlLCB0aGlzIGxheWVyIG5lZWRzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2NlbmUgKi9cbiAgZ2V0IG5lZWRzUmVtb3ZhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIubmVlZHNSZW1vdmFsXG4gIH1cblxuICBnZXQgYm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5ib3VuZHNcbiAgfVxuXG4gIGdldCBwYXJlbnRXZWJMYXllcigpOiBXZWJMYXllcjNEQ29udGVudCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX3dlYkxheWVyLnBhcmVudExheWVyICYmXG4gICAgICBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQodGhpcy5fd2ViTGF5ZXIucGFyZW50TGF5ZXIuZWxlbWVudClcbiAgICApXG4gIH1cblxuICBjaGlsZFdlYkxheWVyczogV2ViTGF5ZXIzRENvbnRlbnRbXSA9IFtdXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGUgRE9NIGxheW91dCBzaG91bGQgYmUgYXBwbGllZC5cbiAgICpcbiAgICogV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgYWx3YXlzIGJlIGFwcGxpZWQuXG4gICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBuZXZlciBiZSBhcHBsaWVkLlxuICAgKiBXaGVuIHNldCB0byBgJ2F1dG8nYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIG9ubHkgYmUgYXBwbGllZFxuICAgKiB3aGVuIHRoZSBgcGFyZW50TGF5ZXJgIGlzIHRoZSBzYW1lIGFzIHRoZSBgcGFyZW50YCBvYmplY3QuXG4gICAqXG4gICAqIEl0IGlzIHRoZSByZXNwb25zaWJpbHRpeSBvZiB0aGUgdXBkYXRlIGNhbGxiYWNrXG4gICAqIHRvIGZvbGxvdyB0aGVzZSBydWxlcy5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYGF1dG9gXG4gICAqL1xuICBzaG91bGRBcHBseURPTUxheW91dDogdHJ1ZSB8IGZhbHNlIHwgJ2F1dG8nID0gJ2F1dG8nXG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggZnJvbSBET01cbiAgICovXG4gIHB1YmxpYyByZWZyZXNoKHJlY3Vyc2U9ZmFsc2UpIHtcbiAgICB0aGlzLl93ZWJMYXllci5yZWZyZXNoKClcbiAgICB0aGlzLmNoaWxkV2ViTGF5ZXJzLmxlbmd0aCA9IDBcbiAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5fd2ViTGF5ZXIuY2hpbGRMYXllcnMpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gV2ViTGF5ZXIzRC5nZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50KGMuZWxlbWVudClcbiAgICAgIGlmICghY2hpbGQpIGNvbnRpbnVlXG4gICAgICB0aGlzLmNoaWxkV2ViTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICBpZiAocmVjdXJzZSkgY2hpbGQucmVmcmVzaChyZWN1cnNlKVxuICAgIH1cbiAgICB0aGlzLl9yZWZyZXNoVmlkZW9Cb3VuZHMoKVxuICAgIHRoaXMuX3JlZnJlc2hET01MYXlvdXQoKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVMYXlvdXQoKSB7XG4gICAgdGhpcy5wb3NpdGlvbi5jb3B5KHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uKVxuICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KHRoaXMuZG9tTGF5b3V0LnF1YXRlcm5pb24pXG4gICAgdGhpcy5zY2FsZS5jb3B5KHRoaXMuZG9tTGF5b3V0LnNjYWxlKVxuICAgIHRoaXMuY29udGVudE1lc2gucG9zaXRpb24uc2V0KDAsMCwwKVxuICAgIHRoaXMuY29udGVudE1lc2guc2NhbGUuY29weSh0aGlzLmRvbVNpemUpXG4gICAgdGhpcy5jb250ZW50TWVzaC5xdWF0ZXJuaW9uLnNldCgwLDAsMCwxKVxuICAgIHRoaXMuX2JvdW5kc01lc2gucG9zaXRpb24uc2V0KDAsMCwwKVxuICAgIHRoaXMuX2JvdW5kc01lc2guc2NhbGUuY29weSh0aGlzLmRvbVNpemUpXG4gICAgdGhpcy5fYm91bmRzTWVzaC5xdWF0ZXJuaW9uLnNldCgwLDAsMCwxKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDb250ZW50KCkge1xuICAgIGNvbnN0IG1lc2ggPSB0aGlzLmNvbnRlbnRNZXNoXG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY3VycmVudFRleHR1cmVcbiAgICBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWxcbiAgICBpZiAodGV4dHVyZS5pbWFnZSAmJiBtYXRlcmlhbC5tYXAgIT09IHRleHR1cmUpIHtcbiAgICAgIG1hdGVyaWFsLm1hcCA9IHRleHR1cmVcbiAgICAgIG1hdGVyaWFsLmRlcHRoV3JpdGUgPSBmYWxzZVxuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB0aGlzLmRlcHRoTWF0ZXJpYWxbJ21hcCddID0gdGV4dHVyZVxuICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgIH1cbiAgICBtYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWVcblxuICAgIC8vIGhhbmRsZSBsYXllciB2aXNpYmlsdGl5IG9yIHJlbW92YWxcbiAgICBjb25zdCBtYXQgPSBtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsXG4gICAgY29uc3QgaXNIaWRkZW4gPSBtYXQub3BhY2l0eSA8IDAuMDA1XG4gICAgaWYgKGlzSGlkZGVuKSBtZXNoLnZpc2libGUgPSBmYWxzZVxuICAgIGVsc2UgaWYgKG1lc2gubWF0ZXJpYWwubWFwKSBtZXNoLnZpc2libGUgPSB0cnVlXG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsICYmIGlzSGlkZGVuKSB7XG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHRoaXMucGFyZW50LnJlbW92ZSh0aGlzKVxuICAgICAgdGhpcy5kaXNwb3NlKClcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2NhbWVyYSkgcmV0dXJuXG5cbiAgICB0aGlzLl9sb2NhbFogPSBNYXRoLmFicyhcbiAgICAgIHNjcmF0Y2hWZWN0b3Iuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4KS56ICsgXG4gICAgICBzY3JhdGNoVmVjdG9yLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmNvbnRlbnRNZXNoLm1hdHJpeCkueilcbiAgICB0aGlzLl92aWV3WiA9IE1hdGguYWJzKHRoaXMuY29udGVudE1lc2guZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKS5hcHBseU1hdHJpeDQodGhpcy5fY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSkueilcbiAgICBcbiAgICBsZXQgcGFyZW50UmVuZGVyWiA9IHRoaXMucGFyZW50V2ViTGF5ZXIgPyB0aGlzLnBhcmVudFdlYkxheWVyLl9yZW5kZXJaIDogdGhpcy5fdmlld1pcbiAgICBcbiAgICBpZiAodGhpcy5fbG9jYWxaIDwgMWUtOCkgeyAvLyBjb3BsYW5hcj8gdXNlIHBhcmVudCByZW5kZXJaXG4gICAgICB0aGlzLl9yZW5kZXJaID0gcGFyZW50UmVuZGVyWlxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJaID0gdGhpcy5fdmlld1pcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRNZXNoLnJlbmRlck9yZGVyID0gKHRoaXMub3B0aW9ucy5yZW5kZXJPcmRlck9mZnNldCB8fCAwKSArIFxuICAgICAgKDEgLSBNYXRoLmxvZyh0aGlzLl9yZW5kZXJaICsgMSkgLyBNYXRoLmxvZyh0aGlzLl9jYW1lcmEuZmFyICsgMSkpK1xuICAgICAgKHRoaXMuZGVwdGggKyB0aGlzLmluZGV4ICogMC4wMDEpKjAuMDAwMDAwMVxuICB9XG5cbiAgZ2V0IHJvb3RXZWJMYXllcigpIHtcbiAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRoaXMuX3dlYkxheWVyLnJvb3RMYXllci5lbGVtZW50KSFcbiAgfVxuXG4gIC8qKiBJTlRFUk5BTCAqL1xuICBwcml2YXRlIFtPTl9CRUZPUkVfVVBEQVRFXSgpIHt9XG5cbiAgcHJvdGVjdGVkIF9kb1VwZGF0ZSgpIHtcbiAgICB0aGlzW09OX0JFRk9SRV9VUERBVEVdKClcbiAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKVxuICAgIHRoaXMudXBkYXRlTGF5b3V0KClcbiAgICBpZiAodGhpcy5uZWVkc1JlZnJlc2ggJiYgdGhpcy5vcHRpb25zLmF1dG9SZWZyZXNoICE9PSBmYWxzZSkgXG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIFdlYlJlbmRlcmVyLnNjaGVkdWxlVGFza3NJZk5lZWRlZCgpXG4gIH1cblxuICB1cGRhdGUocmVjdXJzZT1mYWxzZSkge1xuICAgIGlmIChyZWN1cnNlKSB0aGlzLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIodGhpcy5fZG9VcGRhdGUpXG4gICAgZWxzZSB0aGlzLl9kb1VwZGF0ZSgpXG4gIH1cblxuICBxdWVyeVNlbGVjdG9yKHNlbGVjdG9yOiBzdHJpbmcpOiBXZWJMYXllcjNEQ29udGVudCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KGVsZW1lbnQpXG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcjNEQ29udGVudCkgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCBwYXJlbnRMYXllciA9IHRoaXMucGFyZW50V2ViTGF5ZXJcbiAgICBpZiAocGFyZW50TGF5ZXIpIHtcbiAgICAgIHBhcmVudExheWVyLnRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMoZWFjaClcbiAgICAgIGVhY2guY2FsbCh0aGlzLCBwYXJlbnRMYXllcilcbiAgICB9XG4gIH1cblxuICB0cmF2ZXJzZUxheWVyc1ByZU9yZGVyKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpID0+IGJvb2xlYW58dm9pZFxuICApIHtcbiAgICBpZiAoZWFjaC5jYWxsKHRoaXMsIHRoaXMpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSB7XG4gICAgICBpZiAoY2hpbGQudHJhdmVyc2VMYXllcnNQcmVPcmRlcihlYWNoKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnNQb3N0T3JkZXIoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcjNEQ29udGVudCkgPT4gYm9vbGVhbnx2b2lkXG4gICkgOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRXZWJMYXllcnMpIHtcbiAgICAgIGlmIChjaGlsZC50cmF2ZXJzZUxheWVyc1Bvc3RPcmRlcihlYWNoKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gZWFjaC5jYWxsKHRoaXMsIHRoaXMpIHx8IHRydWVcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChjb25zdCB0IG9mIHRoaXMudGV4dHVyZXMudmFsdWVzKCkpIHtcbiAgICAgIHQuZGlzcG9zZSgpXG4gICAgfVxuICAgIHRoaXMuY29udGVudE1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgdGhpcy5fYm91bmRzTWVzaC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICBXZWJSZW5kZXJlci5kaXNwb3NlTGF5ZXIodGhpcy5fd2ViTGF5ZXIpXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSBjaGlsZC5kaXNwb3NlKClcbiAgfVxuXG4gIHByaXZhdGUgX3JlZnJlc2hWaWRlb0JvdW5kcygpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50Lm5vZGVOYW1lID09PSAnVklERU8nKSB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMuZWxlbWVudCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jdXJyZW50VGV4dHVyZVxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KVxuICAgICAgY29uc3QgeyBvYmplY3RGaXQgfSA9IGNvbXB1dGVkU3R5bGVcbiAgICAgIGNvbnN0IHsgd2lkdGg6IHZpZXdXaWR0aCwgaGVpZ2h0OiB2aWV3SGVpZ2h0IH0gPSB0aGlzLmJvdW5kc1xuICAgICAgY29uc3QgeyB2aWRlb1dpZHRoLCB2aWRlb0hlaWdodCB9ID0gdmlkZW9cbiAgICAgIGNvbnN0IHZpZGVvUmF0aW8gPSB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHRcbiAgICAgIGNvbnN0IHZpZXdSYXRpbyA9IHZpZXdXaWR0aCAvIHZpZXdIZWlnaHRcbiAgICAgIHRleHR1cmUuY2VudGVyLnNldCgwLjUsIDAuNSlcbiAgICAgIHN3aXRjaCAob2JqZWN0Rml0KSB7XG4gICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCh2aWV3V2lkdGggLyB2aWRlb1dpZHRoLCB2aWV3SGVpZ2h0IC8gdmlkZW9IZWlnaHQpLmNsYW1wU2NhbGFyKDAsIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY29udGFpbic6XG4gICAgICAgIGNhc2UgJ3NjYWxlLWRvd24nOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCgxLCAxKVxuICAgICAgICAgIGlmICh2aWV3UmF0aW8gPiB2aWRlb1JhdGlvKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRzLmhlaWdodCAqIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubGVmdCArPSAodGhpcy5ib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYm91bmRzLndpZHRoIC8gdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy50b3AgKz0gKHRoaXMuYm91bmRzLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnY292ZXInOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCh2aWV3V2lkdGggLyB2aWRlb1dpZHRoLCB2aWV3SGVpZ2h0IC8gdmlkZW9IZWlnaHQpXG4gICAgICAgICAgaWYgKHZpZXdSYXRpbyA8IHZpZGVvUmF0aW8pIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3VuZHMuaGVpZ2h0ICogdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5sZWZ0ICs9ICh0aGlzLmJvdW5kcy53aWR0aCAtIHdpZHRoKSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRoID0gd2lkdGhcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3VuZHMud2lkdGggLyB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLnRvcCArPSAodGhpcy5ib3VuZHMuaGVpZ2h0IC0gaGVpZ2h0KSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICBjYXNlICdmaWxsJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSlcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3JlZnJlc2hET01MYXlvdXQoKSB7XG5cbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLmRvbUxheW91dC5zY2FsZS5zZXQoMSwgMSwgMSlcbiAgICB0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uLnNldCgwLCAwLCAwLCAxKVxuXG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZHNcbiAgICBjb25zdCB3aWR0aCA9IGJvdW5kcy53aWR0aFxuICAgIGNvbnN0IGhlaWdodCA9IGJvdW5kcy5oZWlnaHRcbiAgICBjb25zdCBwaXhlbFNpemUgPSAxIC8gV2ViTGF5ZXIzRC5ERUZBVUxUX1BJWEVMU19QRVJfVU5JVFxuXG4gICAgdGhpcy5kb21TaXplLnNldChcbiAgICAgIE1hdGgubWF4KHBpeGVsU2l6ZSAqIHdpZHRoLCAxMGUtNiksXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiBoZWlnaHQsIDEwZS02KSxcbiAgICAgIDFcbiAgICApXG5cbiAgICBpZiAoIVdlYkxheWVyM0Quc2hvdWxkQXBwbHlET01MYXlvdXQodGhpcykpIHJldHVyblxuXG4gICAgY29uc3QgcGFyZW50Qm91bmRzID1cbiAgICAgIHRoaXMucGFyZW50V2ViTGF5ZXIgaW5zdGFuY2VvZiBXZWJMYXllcjNEQ29udGVudFxuICAgICAgICA/IHRoaXMucGFyZW50V2ViTGF5ZXIuYm91bmRzXG4gICAgICAgIDogZ2V0Vmlld3BvcnRCb3VuZHMoc2NyYXRjaEJvdW5kcylcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHBhcmVudEJvdW5kcy53aWR0aFxuICAgIGNvbnN0IHBhcmVudEhlaWdodCA9IHBhcmVudEJvdW5kcy5oZWlnaHRcblxuICAgIGNvbnN0IGxlZnRFZGdlID0gLXBhcmVudFdpZHRoIC8gMiArIHdpZHRoIC8gMlxuICAgIGNvbnN0IHRvcEVkZ2UgPSBwYXJlbnRIZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMlxuXG4gICAgLy8gY29uc3Qgc2VwID0gdGhpcy5vcHRpb25zLmxheWVyU2VwYXJhdGlvbiB8fCBXZWJMYXllcjNELkRFRkFVTFRfTEFZRVJfU0VQQVJBVElPTlxuICAgIFxuICAgIHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLnNldChcbiAgICAgIHBpeGVsU2l6ZSAqIChsZWZ0RWRnZSArIGJvdW5kcy5sZWZ0KSxcbiAgICAgIHBpeGVsU2l6ZSAqICh0b3BFZGdlIC0gYm91bmRzLnRvcCksXG4gICAgICAwXG4gICAgKVxuXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KVxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNvbXB1dGVkU3R5bGUudHJhbnNmb3JtXG4gICAgaWYgKHRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0gIT09ICdub25lJykge1xuICAgICAgY29uc3QgY3NzVHJhbnNmb3JtID0gV2ViUmVuZGVyZXIucGFyc2VDU1NUcmFuc2Zvcm0oY29tcHV0ZWRTdHlsZSwgd2lkdGgsIGhlaWdodCwgcGl4ZWxTaXplLCBzY3JhdGNoTWF0cml4KVxuICAgICAgaWYgKGNzc1RyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmRvbUxheW91dC51cGRhdGVNYXRyaXgoKVxuICAgICAgICB0aGlzLmRvbUxheW91dC5tYXRyaXgubXVsdGlwbHkoY3NzVHJhbnNmb3JtKVxuICAgICAgICB0aGlzLmRvbUxheW91dC5tYXRyaXguZGVjb21wb3NlKHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLCB0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uLCB0aGlzLmRvbUxheW91dC5zY2FsZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBET00gdHJlZSBpbnRvIDNEIGxheWVycy5cbiAqXG4gKiBXaGVuIGFuIGluc3RhbmNlIGlzIGNyZWF0ZWQsIGEgYHhyLWxheWVyYCBpcyBzZXQgb24gdGhlXG4gKiB0aGUgcGFzc2VkIERPTSBlbGVtZW50IHRvIG1hdGNoIHRoaXMgaW5zdGFuY2UncyBPYmplY3QzRCBpZC5cbiAqIElmIHRoZSBwYXNzZWQgRE9NIGVsZW1lbnQgaGFzIGFuIGBpZGAgYXR0cmlidXRlLCB0aGlzIGluc3RhbmNlJ3MgT2JqZWN0M0QgbmFtZVxuICogd2lsbCBiZSBzZXQgdG8gbWF0Y2ggdGhlIGVsZW1lbnQgaWQuXG4gKlxuICogQ2hpbGQgV2ViTGF5ZXIzRCBpbnN0YW5jZXMgY2FuIGJlIHNwZWNpZmllZCB3aXRoIGFuIGB4ci1sYXllcmAgYXR0cmlidXRlLFxuICogd2hpY2ggd2lsbCBiZSBzZXQgd2hlbiB0aGUgY2hpbGQgV2ViTGF5ZXIzRCBpbnN0YW5jZSBpcyBjcmVhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKiBUaGUgYXR0cmlidXRlIGNhbiBiZSBzcGVjaWZpZWQgYWRkZWQgaW4gSFRNTCBvciBkeW5hbWljYWxseTpcbiAqICAtIGA8ZGl2IHhyLWxheWVyPjwvZGl2PmBcbiAqXG4gKiBBZGRpdGlvbmFsbHksIHRoZSBwaXhlbCByYXRpbyBjYW4gYmUgYWRqdXN0ZWQgb24gZWFjaCBsYXllciwgaW5kaXZpZHVhbGx5OlxuICogIC0gYDxkaXYgeHItbGF5ZXIgeHItcGl4ZWwtcmF0aW89XCIwLjVcIj48L2Rpdj5gXG4gKlxuICogRGVmYXVsdCBkaW1lbnNpb25zOiAxcHggPSAwLjAwMSB3b3JsZCBkaW1lbnNpb25zID0gMW1tIChhc3N1bWluZyBtZXRlcnMpXG4gKiAgICAgZS5nLiwgNTAwcHggd2lkdGggbWVhbnMgMC41bWV0ZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJMYXllcjNEIGV4dGVuZHMgVEhSRUUuT2JqZWN0M0Qge1xuXG4gIHN0YXRpYyBsYXllcnNCeUVsZW1lbnQgPSBuZXcgV2Vha01hcDxFbGVtZW50LCBXZWJMYXllcjNEQ29udGVudD4oKVxuICBzdGF0aWMgbGF5ZXJzQnlNZXNoID0gbmV3IFdlYWtNYXA8VEhSRUUuTWVzaCwgV2ViTGF5ZXIzRENvbnRlbnQ+KClcblxuICBzdGF0aWMgREVGQVVMVF9MQVlFUl9TRVBBUkFUSU9OID0gMC4wMDFcbiAgc3RhdGljIERFRkFVTFRfUElYRUxTX1BFUl9VTklUID0gMTAwMFxuICBzdGF0aWMgR0VPTUVUUlkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLCAxLCAyLCAyKVxuXG4gIC8vIHN0YXRpYyBjb21wdXRlTmF0dXJhbERpc3RhbmNlKFxuICAvLyAgIHByb2plY3Rpb246IFRIUkVFLk1hdHJpeDQgfCBUSFJFRS5DYW1lcmEsXG4gIC8vICAgcmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXJcbiAgLy8gKSB7XG4gIC8vICAgbGV0IHByb2plY3Rpb25NYXRyaXggPSBwcm9qZWN0aW9uIGFzICBUSFJFRS5NYXRyaXg0XG4gIC8vICAgaWYgKChwcm9qZWN0aW9uIGFzIFRIUkVFLkNhbWVyYSkuaXNDYW1lcmEpIHtcbiAgLy8gICAgIHByb2plY3Rpb25NYXRyaXggPSAocHJvamVjdGlvbiBhcyBUSFJFRS5DYW1lcmEpLnByb2plY3Rpb25NYXRyaXhcbiAgLy8gICB9XG4gIC8vICAgY29uc3QgcGl4ZWxSYXRpbyA9IHJlbmRlcmVyLmdldFBpeGVsUmF0aW8oKVxuICAvLyAgIGNvbnN0IHdpZHRoUGl4ZWxzID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHBpeGVsUmF0aW9cbiAgLy8gICBjb25zdCB3aWR0aCA9IFdlYkxheWVyM0QuREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQgKiB3aWR0aFBpeGVsc1xuICAvLyAgIGNvbnN0IGhvcml6b250YWxGT1YgPSBnZXRGb3ZzKHByb2plY3Rpb25NYXRyaXgpLmhvcml6b250YWxcbiAgLy8gICBjb25zdCBuYXR1cmFsRGlzdGFuY2UgPSB3aWR0aCAvIDIgLyBNYXRoLnRhbihob3Jpem9udGFsRk9WIC8gMilcbiAgLy8gICByZXR1cm4gbmF0dXJhbERpc3RhbmNlXG4gIC8vIH1cbiAgXG4gIHN0YXRpYyBzaG91bGRBcHBseURPTUxheW91dChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpIHtcbiAgICBjb25zdCBzaG91bGQgPSBsYXllci5zaG91bGRBcHBseURPTUxheW91dFxuICAgIGlmICgoc2hvdWxkIGFzIGFueSkgPT09ICdhbHdheXMnIHx8IHNob3VsZCA9PT0gdHJ1ZSkgcmV0dXJuIHRydWVcbiAgICBpZiAoKHNob3VsZCBhcyBhbnkpID09PSAnbmV2ZXInIHx8IHNob3VsZCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIGlmIChzaG91bGQgPT09ICdhdXRvJyAmJiBsYXllci5wYXJlbnRXZWJMYXllciAmJiBsYXllci5wYXJlbnQgPT09IGxheWVyLnBhcmVudFdlYkxheWVyKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIFxuICBwdWJsaWMgcm9vdExheWVyITpXZWJMYXllcjNEQ29udGVudFxuXG4gIHByaXZhdGUgX2ludGVyYWN0aW9uUmF5cyA9IFtdIGFzIEFycmF5PFRIUkVFLlJheSB8IFRIUkVFLk9iamVjdDNEPlxuICBwcml2YXRlIF9yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKClcbiAgcHJpdmF0ZSBfaGl0SW50ZXJzZWN0aW9ucyA9IFtdIGFzIEludGVyc2VjdGlvbltdXG5cbiAgY29uc3RydWN0b3IoZWxlbWVudE9ySFRNTDogRWxlbWVudHxzdHJpbmcsIHB1YmxpYyBvcHRpb25zOiBXZWJMYXllcjNET3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuXG4gICAgY29uc3QgZWxlbWVudCA9IHR5cGVvZiBlbGVtZW50T3JIVE1MID09PSAnc3RyaW5nJyA/IERPTShlbGVtZW50T3JIVE1MKSA6IGVsZW1lbnRPckhUTUxcblxuICAgIFdlYlJlbmRlcmVyLmNyZWF0ZUxheWVyVHJlZShlbGVtZW50LCAoZXZlbnQsIHsgdGFyZ2V0IH0pID0+IHtcbiAgICAgIGlmIChldmVudCA9PT0gJ2xheWVyY3JlYXRlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIzRENvbnRlbnQodGFyZ2V0LCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIGlmICh0YXJnZXQgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICBsYXllcltPTl9CRUZPUkVfVVBEQVRFXSA9ICgpID0+IHRoaXMuX3VwZGF0ZUludGVyYWN0aW9ucygpXG4gICAgICAgICAgbGF5ZXIuaXNSb290ID0gdHJ1ZVxuICAgICAgICAgIHRoaXMucm9vdExheWVyID0gbGF5ZXJcbiAgICAgICAgICB0aGlzLmFkZChsYXllcilcbiAgICAgICAgfSBlbHNlIGxheWVyLnBhcmVudFdlYkxheWVyPy5hZGQobGF5ZXIpXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uTGF5ZXJDcmVhdGUobGF5ZXIpXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbGF5ZXJwYWludGVkJykge1xuICAgICAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQodGFyZ2V0KSFcbiAgICAgICAgY29uc3QgbGF5ZXIzRCA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChsYXllci5lbGVtZW50KSFcbiAgICAgICAgbGF5ZXIzRC50ZXh0dXJlTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbGF5ZXJtb3ZlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQodGFyZ2V0KSFcbiAgICAgICAgbGF5ZXIucGFyZW50V2ViTGF5ZXI/LmFkZChsYXllcilcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnVwZGF0ZSgpXG4gIH1cblxuICAvKipcbiAgICogQSBsaXN0IG9mIFJheXMgdG8gYmUgdXNlZCBmb3IgaW50ZXJhY3Rpb24uXG4gICAqIENhbiBvbmx5IGJlIHNldCBvbiBhIHJvb3QgV2ViTGF5ZXIzRCBpbnN0YW5jZS5cbiAgICovXG4gIGdldCBpbnRlcmFjdGlvblJheXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW9uUmF5c1xuICB9XG4gIHNldCBpbnRlcmFjdGlvblJheXMocmF5czogQXJyYXk8VEhSRUUuUmF5IHwgVEhSRUUuT2JqZWN0M0Q+KSB7XG4gICAgdGhpcy5faW50ZXJhY3Rpb25SYXlzID0gcmF5c1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIHF1ZXJ5IHNlbGVjdG9yIG9uIHRoZSByb290IGxheWVyXG4gICAqIEBwYXJhbSBzZWxlY3RvciBcbiAgICovXG4gIHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3I6c3RyaW5nKSA6IFdlYkxheWVyM0RDb250ZW50fHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucm9vdExheWVyLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaCBhbGwgbGF5ZXJzLCByZWN1cnNpdmVseVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLnJvb3RMYXllci5yZWZyZXNoKHRydWUpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCBsYXllcnMsIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5yb290TGF5ZXIudXBkYXRlKHRydWUpXG4gIH1cblxuICAvKiogR2V0IHRoZSBjb250ZW50IG1lc2ggb2YgdGhlIHJvb3QgbGF5ZXIgKi9cbiAgZ2V0IGNvbnRlbnRNZXNoKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3RMYXllci5jb250ZW50TWVzaFxuICB9XG5cbiAgcHJpdmF0ZSBfcHJldmlvdXNIb3ZlckxheWVycyA9IG5ldyBTZXQ8V2ViTGF5ZXIzRENvbnRlbnQ+KClcbiAgcHJpdmF0ZSBfY29udGVudE1lc2hlcyA9IFtdIGFzIFRIUkVFLk1lc2hbXVxuXG4gIHByaXZhdGUgX3ByZXBhcmVIaXRUZXN0ID0gKGxheWVyOldlYkxheWVyM0RDb250ZW50KSA9PiB7XG4gICAgaWYgKGxheWVyLnBzZXVkb1N0YXRlcy5ob3ZlcikgdGhpcy5fcHJldmlvdXNIb3ZlckxheWVycy5hZGQobGF5ZXIpXG4gICAgbGF5ZXIuY3Vyc29yLnZpc2libGUgPSBmYWxzZVxuICAgIGxheWVyLnBzZXVkb1N0YXRlcy5ob3ZlciA9IGZhbHNlXG4gICAgdGhpcy5fY29udGVudE1lc2hlcy5wdXNoKGxheWVyLmNvbnRlbnRNZXNoKVxuICB9XG5cbiAgLy8gcHJpdmF0ZSBfaW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcihpOkludGVyc2VjdGlvbikge1xuICAvLyAgIGxldCBvID0gaS5vYmplY3QgYXMgVEhSRUUuR3JvdXAmVEhSRUUuT2JqZWN0M0RcbiAgLy8gICB3aGlsZSAoby5wYXJlbnQgJiYgIW8uaXNHcm91cCkge1xuICAvLyAgICAgbyA9IG8ucGFyZW50IGFzIFRIUkVFLkdyb3VwJlRIUkVFLk9iamVjdDNEXG4gIC8vICAgfVxuICAvLyAgIGkuZ3JvdXBPcmRlciA9IG8ucmVuZGVyT3JkZXJcbiAgLy8gfVxuXG4gIHByaXZhdGUgX2ludGVyc2VjdGlvblNvcnQoYTpJbnRlcnNlY3Rpb24sYjpJbnRlcnNlY3Rpb24pIHtcbiAgICBjb25zdCBhTGF5ZXIgPSBhLm9iamVjdC5wYXJlbnQgYXMgV2ViTGF5ZXIzRENvbnRlbnRcbiAgICBjb25zdCBiTGF5ZXIgPSBiLm9iamVjdC5wYXJlbnQgYXMgV2ViTGF5ZXIzRENvbnRlbnRcbiAgICBpZiAoYUxheWVyLmRlcHRoICE9PSBiTGF5ZXIuZGVwdGgpIHtcbiAgICAgIHJldHVybiBiTGF5ZXIuZGVwdGggLSBhTGF5ZXIuZGVwdGhcbiAgICB9XG4gICAgcmV0dXJuIGJMYXllci5pbmRleCAtIGFMYXllci5pbmRleFxuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlSW50ZXJhY3Rpb25zKCkge1xuICAgIC8vIHRoaXMudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSwgdHJ1ZSlcbiAgICBcbiAgICBjb25zdCBwcmV2SG92ZXIgPSB0aGlzLl9wcmV2aW91c0hvdmVyTGF5ZXJzXG4gICAgcHJldkhvdmVyLmNsZWFyKClcbiAgICB0aGlzLl9jb250ZW50TWVzaGVzLmxlbmd0aCA9IDBcbiAgICB0aGlzLnJvb3RMYXllci50cmF2ZXJzZUxheWVyc1ByZU9yZGVyKHRoaXMuX3ByZXBhcmVIaXRUZXN0KVxuXG4gICAgZm9yIChjb25zdCByYXkgb2YgdGhpcy5faW50ZXJhY3Rpb25SYXlzKSB7XG4gICAgICBpZiAocmF5IGluc3RhbmNlb2YgVEhSRUUuUmF5KSB0aGlzLl9yYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLl9yYXljYXN0ZXIucmF5LnNldChcbiAgICAgICAgICByYXkuZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKSxcbiAgICAgICAgICByYXkuZ2V0V29ybGREaXJlY3Rpb24oc2NyYXRjaFZlY3RvcjIpXG4gICAgICAgIClcbiAgICAgIHRoaXMuX2hpdEludGVyc2VjdGlvbnMubGVuZ3RoID0gMFxuICAgICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX3JheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMuX2NvbnRlbnRNZXNoZXMsIGZhbHNlLCB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zKSBhcyBJbnRlcnNlY3Rpb25bXVxuICAgICAgLy8gaW50ZXJzZWN0aW9ucy5mb3JFYWNoKHRoaXMuX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIpXG4gICAgICBpbnRlcnNlY3Rpb25zLnNvcnQodGhpcy5faW50ZXJzZWN0aW9uU29ydClcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbnNbMF1cbiAgICAgIGlmIChpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBpbnRlcnNlY3Rpb24ub2JqZWN0LnBhcmVudCBhcyBXZWJMYXllcjNEQ29udGVudFxuICAgICAgICBsYXllci5jdXJzb3IucG9zaXRpb24uY29weShpbnRlcnNlY3Rpb24ucG9pbnQpXG4gICAgICAgIGxheWVyLmN1cnNvci52aXNpYmxlID0gdHJ1ZVxuICAgICAgICBsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIgPSB0cnVlXG4gICAgICAgIGlmICghcHJldkhvdmVyLmhhcyhsYXllcikpIHtcbiAgICAgICAgICBsYXllci5zZXROZWVkc1JlZnJlc2goKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBsYXllciBvZiBwcmV2SG92ZXIpIHtcbiAgICAgIGlmICghbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyKSB7XG4gICAgICAgIGxheWVyLnNldE5lZWRzUmVmcmVzaCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldExheWVyRm9yUXVlcnkoc2VsZWN0b3I6IHN0cmluZyk6IFdlYkxheWVyM0RDb250ZW50IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikhXG4gICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChlbGVtZW50KVxuICB9XG5cbiAgc3RhdGljIGdldENsb3Nlc3RMYXllckZvckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCk6IFdlYkxheWVyM0RDb250ZW50IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjbG9zZXN0TGF5ZXJFbGVtZW50ID1cbiAgICAgIGVsZW1lbnQgJiYgKGVsZW1lbnQuY2xvc2VzdChgWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV1gKSBhcyBIVE1MRWxlbWVudClcbiAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KGNsb3Nlc3RMYXllckVsZW1lbnQpXG4gIH1cblxuICBoaXRUZXN0KHJheTogVEhSRUUuUmF5KSB7XG4gICAgY29uc3QgcmF5Y2FzdGVyID0gdGhpcy5fcmF5Y2FzdGVyXG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX2hpdEludGVyc2VjdGlvbnNcbiAgICBjb25zdCBtZXNoTWFwID0gV2ViTGF5ZXIzRC5sYXllcnNCeU1lc2hcbiAgICByYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgIGludGVyc2VjdGlvbnMubGVuZ3RoID0gMFxuICAgIHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpcywgdHJ1ZSwgaW50ZXJzZWN0aW9ucylcbiAgICAvLyBpbnRlcnNlY3Rpb25zLmZvckVhY2godGhpcy5faW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcilcbiAgICBpbnRlcnNlY3Rpb25zLnNvcnQodGhpcy5faW50ZXJzZWN0aW9uU29ydClcbiAgICBmb3IgKGNvbnN0IGludGVyc2VjdGlvbiBvZiBpbnRlcnNlY3Rpb25zKSB7XG4gICAgICBjb25zdCBsYXllciA9IG1lc2hNYXAhLmdldChpbnRlcnNlY3Rpb24ub2JqZWN0IGFzIGFueSlcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBjb25zdCBsYXllckJvdW5kaW5nUmVjdCA9IGdldEJvdW5kcyhsYXllci5lbGVtZW50LCBzY3JhdGNoQm91bmRzKSFcbiAgICAgIGlmICghbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGggfHwgIWxheWVyQm91bmRpbmdSZWN0LmhlaWdodCkgY29udGludWVcbiAgICAgIGxldCB0YXJnZXQgPSBsYXllci5lbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgICBjb25zdCBjbGllbnRYID0gaW50ZXJzZWN0aW9uLnV2IS54ICogbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGhcbiAgICAgIGNvbnN0IGNsaWVudFkgPSAoMSAtIGludGVyc2VjdGlvbi51diEueSkgKiBsYXllckJvdW5kaW5nUmVjdC5oZWlnaHRcbiAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhsYXllci5lbGVtZW50LCBlbCA9PiB7XG4gICAgICAgIGlmICghdGFyZ2V0LmNvbnRhaW5zKGVsKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGNvbnN0IGVsZW1lbnRCb3VuZGluZ1JlY3QgPSBnZXRCb3VuZHMoZWwsIHNjcmF0Y2hCb3VuZHMyKSFcbiAgICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IGVsZW1lbnRCb3VuZGluZ1JlY3QubGVmdCAtIGxheWVyQm91bmRpbmdSZWN0LmxlZnRcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZWxlbWVudEJvdW5kaW5nUmVjdC50b3AgLSBsYXllckJvdW5kaW5nUmVjdC50b3BcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50Qm91bmRpbmdSZWN0XG4gICAgICAgIGNvbnN0IG9mZnNldFJpZ2h0ID0gb2Zmc2V0TGVmdCArIHdpZHRoXG4gICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCArIGhlaWdodFxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2xpZW50WCA+IG9mZnNldExlZnQgJiZcbiAgICAgICAgICBjbGllbnRYIDwgb2Zmc2V0UmlnaHQgJiZcbiAgICAgICAgICBjbGllbnRZID4gb2Zmc2V0VG9wICYmXG4gICAgICAgICAgY2xpZW50WSA8IG9mZnNldEJvdHRvbVxuICAgICAgICApIHtcbiAgICAgICAgICB0YXJnZXQgPSBlbCBhcyBIVE1MRWxlbWVudFxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlIC8vIHN0b3AgdHJhdmVyc2FsIGRvd24gdGhpcyBwYXRoXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHsgbGF5ZXIsIGludGVyc2VjdGlvbiwgdGFyZ2V0IH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbn1cblxuLy8gY2xhc3MgQ2FtZXJhRk9WcyB7XG4vLyAgIHRvcCA9IDBcbi8vICAgbGVmdCA9IDBcbi8vICAgYm90dG9tID0gMFxuLy8gICByaWdodCA9IDBcbi8vICAgaG9yaXpvbnRhbCA9IDBcbi8vICAgdmVydGljYWwgPSAwXG4vLyB9XG5cbi8vIGNvbnN0IF9mb3ZzID0gbmV3IENhbWVyYUZPVnMoKVxuLy8gY29uc3QgX2dldEZvdnNNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpXG4vLyBjb25zdCBfZ2V0Rm92c1ZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbi8vIGNvbnN0IEZPUldBUkQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSlcbi8vIGZ1bmN0aW9uIGdldEZvdnMocHJvamVjdGlvbk1hdHJpeDogVEhSRUUuTWF0cml4NCkge1xuLy8gICBjb25zdCBvdXQgPSBfZm92c1xuLy8gICBjb25zdCBpbnZQcm9qZWN0aW9uID0gX2dldEZvdnNNYXRyaXguZ2V0SW52ZXJzZShwcm9qZWN0aW9uTWF0cml4KSBhcyBUSFJFRS5NYXRyaXg0XG4vLyAgIGNvbnN0IHZlYyA9IF9nZXRGb3ZzVmVjdG9yXG4vLyAgIG91dC5sZWZ0ID0gdmVjXG4vLyAgICAgLnNldCgtMSwgMCwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5yaWdodCA9IHZlY1xuLy8gICAgIC5zZXQoMSwgMCwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC50b3AgPSB2ZWNcbi8vICAgICAuc2V0KDAsIDEsIC0xKVxuLy8gICAgIC5hcHBseU1hdHJpeDQoaW52UHJvamVjdGlvbilcbi8vICAgICAuYW5nbGVUbyhGT1JXQVJEKVxuLy8gICBvdXQuYm90dG9tID0gdmVjXG4vLyAgICAgLnNldCgwLCAtMSwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5ob3Jpem9udGFsID0gb3V0LnJpZ2h0ICsgb3V0LmxlZnRcbi8vICAgb3V0LnZlcnRpY2FsID0gb3V0LnRvcCArIG91dC5ib3R0b21cbi8vICAgcmV0dXJuIG91dFxuLy8gfVxuIiwiaW1wb3J0IHtjcmVhdGVBcHB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IFdlYkxheWVyM0QgfSBmcm9tIFwiLi4vLi4vcGFja2FnZXMvZXRoZXJlYWwvZXRoZXJlYWwuZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHVic0FwcCB7XG4gICAgY29uc3RydWN0b3IgKEFwcCwgY3JlYXRlT3B0aW9ucz17fSkge1xuICAgICAgICB0aGlzLmlzSW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc05ldHdvcmtlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnRha2VPd25lcnNoaXAgPSB0aGlzLnRha2VPd25lcnNoaXBQcm90by5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMuc2V0U2hhcmVkRGF0YSA9IHRoaXMuc2V0U2hhcmVkRGF0YVByb3RvLmJpbmQodGhpcylcblxuICAgICAgICB0aGlzLmhlYWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIHRoaXMuYXBwRGl2ICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBcbiAgICAgICAgLy8gdGhpcy5oZWFkRGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAvLyB0aGlzLmhlYWREaXYuc3R5bGUubGVmdCA9IC0xMDAwMCsncHgnO1xuICAgICAgICAvLyB0aGlzLmhlYWREaXYuc3R5bGUudG9wID0gMCsncHgnO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5oZWFkRGl2LmFwcGVuZENoaWxkKHRoaXMuYXBwRGl2KVxuICAgICAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaGVhZERpdilcblxuICAgICAgICB0aGlzLnZ1ZUFwcCA9IGNyZWF0ZUFwcChBcHAsIGNyZWF0ZU9wdGlvbnMpXG4gICAgfVxuXG4gICAgbW91bnQoKSB7XG4gICAgICAgIHRoaXMudnVlUm9vdCA9IHRoaXMudnVlQXBwLm1vdW50KHRoaXMuYXBwRGl2KTtcbiAgICAgICAgdGhpcy53ZWJMYXllcjNEID0gbmV3IFdlYkxheWVyM0QodGhpcy52dWVSb290LiRlbCwge1xuICAgICAgICAgICAgYXV0b1JlZnJlc2g6IHRydWUsXG4gICAgICAgICAgICBvbkxheWVyQ3JlYXRlOiAobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIHlldFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJSYXN0ZXJpemUobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nIHlldFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHR1cmVFbmNvZGluZzogVEhSRUUuc1JHQkVuY29kaW5nLFxuICAgICAgICAgICAgcmVuZGVyT3JkZXJPZmZzZXQ6IDAgIC8vIC0xMDAwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldE5ldHdvcmtNZXRob2RzKHRha2VPd25lcnNoaXAsIHNldFNoYXJlZERhdGEpIHtcbiAgICAgICAgdGhpcy50YWtlT3duZXJzaGlwID0gdGFrZU93bmVyc2hpcDtcbiAgICAgICAgdGhpcy5zZXRTaGFyZWREYXRhID0gc2V0U2hhcmVkRGF0YTtcbiAgICB9XG5cbiAgICAvLyBkdW1teSBmdW5jdGlvbnMsIGp1c3QgdG8gYXZvaWQgZXJyb3JzIGlmIHRoZXkgZ2V0IGNhbGxlZCBiZWZvcmVcbiAgICAvLyBuZXR3b3JraW5nIGlzIGluaXRpYWxpemVkLCBvciBjYWxsZWQgd2hlbiBuZXR3b3JrZWQgaXMgZmFsc2VcbiAgICB0YWtlT3duZXJzaGlwUHJvdG8oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzZXRTaGFyZWREYXRhUHJvdG8ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIHJlY2VpdmUgZGF0YSB1cGRhdGVzLiAgc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlc1xuICAgIHVwZGF0ZVNoYXJlZERhdGEoZGF0YU9iamVjdCkge1xuICAgICAgICByYWlzZShcInVwZGF0ZURhdGEgc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlc1wiKVxuICAgIH1cblxuICAgIC8vIHJlY2VpdmUgZGF0YSB1cGRhdGVzLiAgc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlc1xuICAgIGdldFNoYXJlZERhdGEoZGF0YU9iamVjdCkge1xuICAgICAgICByYWlzZShcImdldFNoYXJlZERhdGEgc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlc1wiKVxuICAgIH1cbiAgICBcbiAgICBwbGF5KCkge1xuICAgICAgICAvLyBpZiB3ZSBjYW4gZmlndXJlIG91dCBob3cgdG8gcGF1c2UsIHRoZW4gcmVzdGFydCBoZXJlXG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIC8vIHBlcmhhcHMgZmlndXJlIG91dCBob3cgdG8gcGF1c2UgdGhlIFZ1ZSBjb21wb25lbnQ/XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSB0aGUgdnVlIGNvbXBvbmVudCBhbmQgYW55IHJlc291cmNlcywgZXRjLiwgaXQgaGFzXG4gICAgfVxufSIsImltcG9ydCB7IHJlYWN0aXZlLCBpbmplY3QsIHJlYWRvbmx5IH0gZnJvbSBcInZ1ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gcmVhY3RpdmUoe1xuICAgICAgICAgICAgY291bnQ6IDBcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hcHAgPSBhcHBcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHJlYWRvbmx5KHRoaXMuX3N0YXRlKVxuICAgIH0gICAgXG5cbiAgICBpbmNyZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFwcC50YWtlT3duZXJzaGlwKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLmFwcC5zZXRTaGFyZWREYXRhKHRoaXMuc3RhdGUpXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdXBkYXRlU2hhcmVkRGF0YShkYXRhT2JqZWN0KSB7XG4gICAgICAgIC8vIG5lZWQgdG8gdXBkYXRlIHRoZSBlbGVtZW50cyB3aXRoaW4gdGhlIHN0YXRlLCBiZWNhdXNlIG90aGVyd2lzZVxuICAgICAgICAvLyB0aGUgZGF0YSB3b24ndCBmbG93IHRvIHRoZSBjb21wb25lbnRzXG4gICAgICAgIHRoaXMuX3N0YXRlLmNvdW50ID0gZGF0YU9iamVjdC5jb3VudFxuICAgIH1cbn1cbiIsImltcG9ydCBBcHAgZnJvbSBcIi4vQXBwLnZ1ZVwiO1xuaW1wb3J0IEh1YnNBcHBQcm90byBmcm9tIFwiLi4vSHVic0FwcFwiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuL3NoYXJlZFwiXG5cbmNsYXNzIEh1YnNBcHAgZXh0ZW5kcyBIdWJzQXBwUHJvdG8ge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgc3VwZXIoQXBwKVxuXG4gICAgICAgIC8vIGNyZWF0ZSBvdXIgc2hhcmVkIGRhdGEgb2JqZWN0IHRoYXQgd2lsbFxuICAgICAgICAvLyBzaGFyZSBkYXRhIGJldHdlZW4gdnVlIGFuZCBodWJzXG4gICAgICAgIHRoaXMuc2hhcmVkID0gbmV3IFN0b3JlKHRoaXMpXG4gICAgICAgIHRoaXMudnVlQXBwLnByb3ZpZGUoJ3NoYXJlZCcsIHRoaXMuc2hhcmVkKVxuXG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNOZXR3b3JrZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgY29uc29sZS5sb2cgKEpTT04uc3RyaW5naWZ5KHRoaXMuc2hhcmVkLmRhdGEpKVxuICAgIH1cbiAgICBcbiAgICB1cGRhdGVTaGFyZWREYXRhKGRhdGFPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zaGFyZWQudXBkYXRlU2hhcmVkRGF0YShkYXRhT2JqZWN0KVxuICAgIH1cblxuICAgIGdldFNoYXJlZERhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYXJlZC5zdGF0ZTtcbiAgICB9XG59XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhcHAgPSBuZXcgSHVic0FwcCgpXG4gICAgYXBwLm1vdW50KClcbiAgICByZXR1cm4gYXBwXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcbiIsIjx0ZW1wbGF0ZT5cbiAgPGgxPnt7IG1zZyB9fTwvaDE+XG5cbiAgPHA+XG4gICAgPGEgaHJlZj1cImh0dHBzOi8vdml0ZWpzLmRldi9ndWlkZS9mZWF0dXJlcy5odG1sXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICBWaXRlIERvY3VtZW50YXRpb24gYW5kIFRoZW4gU29tZSEgXG4gICAgPC9hPlxuICAgIHxcbiAgICA8YSBocmVmPVwiaHR0cHM6Ly92My52dWVqcy5vcmcvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+VnVlIDMgRG9jdW1lbnRhdGlvbjwvYT5cbiAgPC9wPlxuXG4gIDxidXR0b24geHItbGF5ZXIgQGNsaWNrPVwic3RhdGUuY291bnQrK1wiPmNvdW50IGlzOiB7eyBzdGF0ZS5jb3VudCB9fTwvYnV0dG9uPlxuICA8cD5cbiAgICBFZGl0XG4gICAgPGNvZGU+Y29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZTwvY29kZT4gdG8gdGVzdCBob3QgbW9kdWxlIHJlcGxhY2VtZW50IHdoaWxlIHJ1bm5pbmcgcHJvamVjdCBhcyBcIm5wbSBydW4gZGV2XCIuXG4gIDwvcD5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgeyBkZWZpbmVQcm9wcywgcmVhY3RpdmUgfSBmcm9tICd2dWUnXG5cbmRlZmluZVByb3BzKHtcbiAgbXNnOiBTdHJpbmdcbn0pXG5cbmNvbnN0IHN0YXRlID0gcmVhY3RpdmUoeyBjb3VudDogMCB9KVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG5hIHtcbiAgY29sb3I6ICM0MmI5ODM7XG59XG5cbioge1xuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xuICAgIGxpbmUtaGVpZ2h0IDogbm9ybWFsO1xufVxuXG5wIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDFlbTtcbiAgICBtYXJnaW4tYmxvY2stZW5kOiAxZW07XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogMHB4O1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHg7XG59XG5cbmgxIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBmb250LXNpemU6IDJlbTtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDAuNjdlbTtcbiAgICBtYXJnaW4tYmxvY2stZW5kOiAwLjY3ZW07XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogMHB4O1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmJ1dHRvbiB7XG4gICAgLyogd2lkdGg6IDEwMHB4O1xuICAgIGhlaWdodDogMzBweDsgKi9cbiAgICBhcHBlYXJhbmNlOiBhdXRvO1xuICAgIC13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1yZW5kZXJpbmc6IGF1dG87XG4gICAgY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKGJsYWNrLCB3aGl0ZSk7XG4gICAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgICB3b3JkLXNwYWNpbmc6IG5vcm1hbDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICB0ZXh0LWluZGVudDogMHB4O1xuICAgIHRleHQtc2hhZG93OiBub25lO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIGJhY2tncm91bmQtY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigyMzksIDIzOSwgMjM5KSwgcmdiKDU5LCA1OSwgNTkpKTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIG1hcmdpbjogMGVtO1xuICAgIGZvbnQ6IDQwMCAxMy4zMzMzcHggQXJpYWw7XG4gICAgcGFkZGluZzogMXB4IDZweDtcbiAgICBib3JkZXItd2lkdGg6IDJweDtcbiAgICBib3JkZXItc3R5bGU6IG91dHNldDtcbiAgICBib3JkZXItY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigxMTgsIDExOCwgMTE4KSwgcmdiKDEzMywgMTMzLCAxMzMpKTtcbiAgICBib3JkZXItaW1hZ2U6IGluaXRpYWw7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xufVxuXG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwidG9wXCI+XG4gICAgICA8aW1nIGFsdD1cIlZ1ZSBsb2dvXCIgc3JjPVwiLi4vLi4vYXNzZXRzL2xvZ28ucG5nXCIgLz5cbiAgICAgIDxIZWxsb1dvcmxkIG1zZz1cIlZ1ZSBDb21wb25lbnQgd2l0aCBMb2NhbCBCdXR0b24gQ291bnRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJ1xuXG4vLyBUaGlzIHN0YXJ0ZXIgdGVtcGxhdGUgaXMgdXNpbmcgVnVlIDMgZXhwZXJpbWVudGFsIDxzY3JpcHQgc2V0dXA+IFNGQ3Ncbi8vIENoZWNrIG91dCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcmZjcy9ibG9iL3NjcmlwdC1zZXR1cC0yL2FjdGl2ZS1yZmNzLzAwMDAtc2NyaXB0LXNldHVwLm1kXG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbiN0b3Age1xuICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzUwMzEyYztcbiAgbWFyZ2luLXRvcDogMzBweDtcblxuICB3aWR0aDogNTAwcHg7IGhlaWdodDogNTAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cblxuKiB7XG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xufVxuPC9zdHlsZT5cbiIsImltcG9ydCBBcHAgZnJvbSBcIi4vQXBwLnZ1ZVwiO1xuaW1wb3J0IEh1YnNBcHBQcm90byBmcm9tIFwiLi4vSHVic0FwcFwiO1xuXG5jbGFzcyBIdWJzQXBwIGV4dGVuZHMgSHVic0FwcFByb3RvIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHN1cGVyKEFwcClcbiAgICAgICAgdGhpcy5pc0ludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG59XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhcHAgPSBuZXcgSHVic0FwcCgpXG4gICAgYXBwLm1vdW50KClcbiAgICByZXR1cm4gYXBwXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXQiLCJleHBvcnQgZGVmYXVsdCBcImh0dHBzOi8vYmxhaXJob21lLm5ncm9rLmlvL3Rlc3QtdnVlLWFwcC9kaXN0LzE3NWFhMDJkMmYyNTgzOWMuanBnXCIiLCI8dGVtcGxhdGU+XG4gIDxoMj57eyBtc2cgfX08L2gyPlxuXG4gXG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IHsgZGVmaW5lUHJvcHMsIHJlYWN0aXZlIH0gZnJvbSAndnVlJ1xuXG5kZWZpbmVQcm9wcyh7XG4gIG1zZzogU3RyaW5nXG59KVxuXG5jb25zdCBzdGF0ZSA9IHJlYWN0aXZlKHsgY291bnQ6IDAgfSlcbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuYSB7XG4gIGNvbG9yOiAjNDJiOTgzO1xufVxuXG4qIHtcbiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICBsaW5lLWhlaWdodCA6IG5vcm1hbDtcbn1cblxucCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xufVxuXG5oMSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjY3ZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMC42N2VtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5idXR0b24ge1xuICAgIC8qIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDMwcHg7ICovXG4gICAgYXBwZWFyYW5jZTogYXV0bztcbiAgICAtd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YiAhaW1wb3J0YW50O1xuICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvO1xuICAgIGNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhibGFjaywgd2hpdGUpO1xuICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gICAgd29yZC1zcGFjaW5nOiBub3JtYWw7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgdGV4dC1pbmRlbnQ6IDBweDtcbiAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMjM5LCAyMzksIDIzOSksIHJnYig1OSwgNTksIDU5KSk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW46IDBlbTtcbiAgICBmb250OiA0MDAgMTMuMzMzM3B4IEFyaWFsO1xuICAgIHBhZGRpbmc6IDFweCA2cHg7XG4gICAgYm9yZGVyLXdpZHRoOiAycHg7XG4gICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7XG4gICAgYm9yZGVyLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMTE4LCAxMTgsIDExOCksIHJnYigxMzMsIDEzMywgMTMzKSk7XG4gICAgYm9yZGVyLWltYWdlOiBpbml0aWFsO1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbn1cblxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBpZD1cInRvcFwiPlxuICAgIDxUaXRsZSBtc2c9XCIzLUQgR3JhcGhpY3MgYW5kIHRoZSBDb25zdHJ1Y3Rpb24gb2YgVmlzdWFsIFJlYWxpdHlcIi8+XG5cdDxpbWcgc3JjPVwiLi4vLi4vYXNzZXRzL3VuY2FubnkuanBnXCIgd2lkdGg9XCIzMDBcIj5cblx0PGRpdiBjbGFzcz1cImRpc3BsYXl0ZXh0XCI+My1EIGNvbXB1dGVyIGdyYXBoaWNzIGhlbHAgdG8gY29uc3RydWN0IHRoZSB2aXN1YWwgcmVhbGl0aWVzIG9mIEFSIGFuZCBWUiwgaW4gcGFydGljdWxhciBwaG90b3JlYWxpc20uIFRoZSB1bmNhbm55IHZhbGxleS48L2Rpdj5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IFRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2VudGVyVGl0bGUudnVlJ1xuXG4vLyBUaGlzIHN0YXJ0ZXIgdGVtcGxhdGUgaXMgdXNpbmcgVnVlIDMgZXhwZXJpbWVudGFsIDxzY3JpcHQgc2V0dXA+IFNGQ3Ncbi8vIENoZWNrIG91dCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcmZjcy9ibG9iL3NjcmlwdC1zZXR1cC0yL2FjdGl2ZS1yZmNzLzAwMDAtc2NyaXB0LXNldHVwLm1kXG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbiN0b3Age1xuICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgY29sb3I6ICM1MDMxMmM7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG5cbiAgd2lkdGg6IDMwMHB4OyBoZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG5cbioge1xuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xufVxuaW1nIHtcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHAudnVlXCI7XG5pbXBvcnQgSHVic0FwcFByb3RvIGZyb20gXCIuLi9IdWJzQXBwXCI7XG5cbmNsYXNzIEh1YnNBcHAgZXh0ZW5kcyBIdWJzQXBwUHJvdG8ge1xuICAgIGNvbnN0cnVjdG9yICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIEFwcClcbiAgICAgICAgdGhpcy5pc0ludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG59XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhcHAgPSBuZXcgSHVic0FwcCgyLjUsIDIuNSlcbiAgICBhcHAubW91bnQoKVxuICAgIHJldHVybiBhcHBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdCJdLCJuYW1lcyI6WyJoYXNPd25Qcm9wZXJ0eSIsInVpZCIsImNvbXB1dGVkIiwicCIsIltvYmplY3QgT2JqZWN0XSIsIngiLCJ5IiwidGhpcyIsInZhbHVlIiwic2NhbGFyIiwiaW5kZXgiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidiIsInciLCJ3YXJuIiwiYWRkVmVjdG9ycyIsInMiLCJhMiIsImIyIiwic3ViVmVjdG9ycyIsIm11bHRpcGx5U2NhbGFyIiwibSIsImUiLCJlbGVtZW50cyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsIm1pblZhbCIsIm1heFZhbCIsImxlbmd0aCIsImRpdmlkZVNjYWxhciIsImZsb29yIiwiY2VpbCIsInJvdW5kIiwic3FydCIsImFicyIsImF0YW4yIiwiUEkiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImR4IiwiZHkiLCJub3JtYWxpemUiLCJhbHBoYSIsInYxIiwidjIiLCJhcnJheSIsIm9mZnNldCIsImF0dHJpYnV0ZSIsImdldFgiLCJnZXRZIiwiY2VudGVyIiwiYW5nbGUiLCJjMiIsImNvcyIsInNpbiIsInJhbmRvbSIsIlZlY3RvcjIiLCJwcm90b3R5cGUiLCJpc1ZlY3RvcjIiLCJfbHV0IiwiaSIsInRvU3RyaW5nIiwiX3NlZWQiLCJERUcyUkFEIiwiUkFEMkRFRyIsIm4iLCJ0IiwiZDAiLCJkMSIsImQyIiwiZDMiLCJ0b1VwcGVyQ2FzZSIsImExIiwiYjEiLCJsYW1iZGEiLCJkdCIsImxlcnAiLCJleHAiLCJldWNsaWRlYW5Nb2R1bG8iLCJsb3ciLCJoaWdoIiwicmFuZ2UiLCJkZWdyZWVzIiwicmFkaWFucyIsInBvdyIsImxvZyIsIkxOMiIsInEiLCJvcmRlciIsImNvczIiLCJzaW4yIiwiYzIyIiwiczIiLCJjMTMiLCJzMTMiLCJjMV8zIiwiczFfMyIsImMzXzEiLCJzM18xIiwic2V0IiwieiIsIl94IiwiX3kiLCJfeiIsIl93IiwicWEiLCJxYiIsInFtIiwic2xlcnBRdWF0ZXJuaW9ucyIsImRzdCIsImRzdE9mZnNldCIsInNyYzAiLCJzcmNPZmZzZXQwIiwic3JjMSIsInNyY09mZnNldDEiLCJ4MCIsInkwIiwiejAiLCJ3MCIsIngxIiwieTEiLCJ6MSIsIncxIiwiZGlyIiwic3FyU2luIiwiTnVtYmVyIiwiRVBTSUxPTiIsImxlbiIsInREaXIiLCJmIiwiX29uQ2hhbmdlQ2FsbGJhY2siLCJxdWF0ZXJuaW9uIiwiZXVsZXIiLCJ1cGRhdGUiLCJpc0V1bGVyIiwiX29yZGVyIiwiYzEiLCJjMyIsInMxIiwiczMiLCJheGlzIiwiaGFsZkFuZ2xlIiwidGUiLCJtMTEiLCJtMTIiLCJtMTMiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMzEiLCJtMzIiLCJtMzMiLCJ0cmFjZSIsInZGcm9tIiwidlRvIiwiciIsImRvdCIsImFjb3MiLCJNYXRoVXRpbHMuY2xhbXAiLCJzdGVwIiwiYW5nbGVUbyIsInNsZXJwIiwiY29uanVnYXRlIiwibCIsIm11bHRpcGx5UXVhdGVybmlvbnMiLCJxYXgiLCJxYXkiLCJxYXoiLCJxYXciLCJxYngiLCJxYnkiLCJxYnoiLCJxYnciLCJjb3B5IiwiY29zSGFsZlRoZXRhIiwic3FyU2luSGFsZlRoZXRhIiwic2luSGFsZlRoZXRhIiwiaGFsZlRoZXRhIiwicmF0aW9BIiwicmF0aW9CIiwiZ2V0WiIsImdldFciLCJjYWxsYmFjayIsIlF1YXRlcm5pb24iLCJpc1F1YXRlcm5pb24iLCJtdWx0aXBseVZlY3RvcnMiLCJlcnJvciIsImFwcGx5UXVhdGVybmlvbiIsIl9xdWF0ZXJuaW9uIiwic2V0RnJvbUV1bGVyIiwic2V0RnJvbUF4aXNBbmdsZSIsImFwcGx5TWF0cml4MyIsInF4IiwicXkiLCJxeiIsInF3IiwiaXgiLCJpeSIsIml6IiwiaXciLCJjYW1lcmEiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZEludmVyc2UiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGlvbk1hdHJpeEludmVyc2UiLCJtYXRyaXhXb3JsZCIsImNyb3NzVmVjdG9ycyIsImF4IiwiYXkiLCJheiIsImJ4IiwiYnkiLCJieiIsImRlbm9taW5hdG9yIiwibGVuZ3RoU3EiLCJwbGFuZU5vcm1hbCIsInByb2plY3RPblZlY3RvciIsInN1YiIsIl92ZWN0b3IiLCJub3JtYWwiLCJ0aGV0YSIsImR6Iiwic2V0RnJvbVNwaGVyaWNhbENvb3JkcyIsInJhZGl1cyIsInBoaSIsInNpblBoaVJhZGl1cyIsInNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsInN4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsInN5Iiwic3oiLCJmcm9tQXJyYXkiLCJWZWN0b3IzIiwiaXNWZWN0b3IzIiwiYXJndW1lbnRzIiwibjExIiwibjEyIiwibjEzIiwibjE0IiwibjIxIiwibjIyIiwibjIzIiwibjI0IiwibjMxIiwibjMyIiwibjMzIiwibjM0IiwibjQxIiwibjQyIiwibjQzIiwibjQ0IiwiTWF0cml4NCIsIm1lIiwieEF4aXMiLCJ5QXhpcyIsInpBeGlzIiwic2NhbGVYIiwiX3YxIiwic2NhbGVZIiwic2NhbGVaIiwiZCIsImFlIiwiYWYiLCJiZSIsImJmIiwiY2UiLCJjZiIsImRlIiwiZGYiLCJhYyIsImFkIiwiYmMiLCJiZCIsImNvbXBvc2UiLCJfemVybyIsIl9vbmUiLCJleWUiLCJ0YXJnZXQiLCJ1cCIsIm11bHRpcGx5TWF0cmljZXMiLCJhMTEiLCJhMTIiLCJhMTMiLCJhMTQiLCJhMjEiLCJhMjIiLCJhMjMiLCJhMjQiLCJhMzEiLCJhMzIiLCJhMzMiLCJhMzQiLCJhNDEiLCJhNDIiLCJhNDMiLCJhNDQiLCJiMTEiLCJiMTIiLCJiMTMiLCJiMTQiLCJiMjEiLCJiMjIiLCJiMjMiLCJiMjQiLCJiMzEiLCJiMzIiLCJiMzMiLCJiMzQiLCJiNDEiLCJiNDIiLCJiNDMiLCJiNDQiLCJ0bXAiLCJ0MTEiLCJ0MTIiLCJ0MTMiLCJ0MTQiLCJkZXQiLCJkZXRJbnYiLCJzY2FsZVhTcSIsInNjYWxlWVNxIiwic2NhbGVaU3EiLCJ0eCIsInR5IiwieHkiLCJ4eiIsInl4IiwieXoiLCJ6eCIsInp5IiwicG9zaXRpb24iLCJzY2FsZSIsIngyIiwieTIiLCJ6MiIsInh4IiwieXkiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsImRldGVybWluYW50IiwiaW52U1giLCJpbnZTWSIsImludlNaIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwiX20xIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwibmVhciIsImZhciIsImgiLCJtYXRyaXgiLCJpc01hdHJpeDQiLCJzZXRGcm9tTWF0cml4M0NvbHVtbiIsImciLCJtYXRyaXg0Iiwic2V0RnJvbU1hdHJpeDQiLCJpbnZlcnQiLCJ0cmFuc3Bvc2UiLCJyb3RhdGlvbiIsImN4IiwiY3kiLCJNYXRyaXgzIiwiaXNNYXRyaXgzIiwiT2JqZWN0IiwiZnJlZXplIiwiUklHSFQiLCJVUCIsIk5FQVIiLCJMRUZUIiwiRE9XTiIsIkZBUiIsInJldmVyc2VkIiwiZWFzaW5nMiIsIm1pcnJvcmVkIiwiY3JlYXRlUmV2ZXJzZWRFYXNpbmciLCJjcmVhdGVNaXJyb3JlZEVhc2luZyIsImNyZWF0ZUV4cG9JbiIsInBvd2VyIiwiY3JlYXRlQmFja0luIiwiY3JlYXRlQW50aWNpcGF0ZUVhc2luZyIsImJhY2tFYXNpbmciLCJlYXNlSW4iLCJlYXNlT3V0IiwiZWFzZUluT3V0IiwiY2lyY0luIiwiY2lyY091dCIsImNpcmNJbk91dCIsImJhY2tJbiIsImJhY2tPdXQiLCJiYWNrSW5PdXQiLCJhbnRpY2lwYXRlIiwiYm91bmNlT3V0IiwicDIiLCJGTE9BVF8zMl9TVVBQT1JURUQiLCJGbG9hdDMyQXJyYXkiLCJhIiwiYiIsImMiLCJnZXRTbG9wZSIsImNhbGNCZXppZXIiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJBcnJheSIsImdldFRGb3JYIiwiYVgiLCJkaXN0MiIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwiS19TUExJTkVfVEFCTEVfU0laRSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYmluYXJ5U3ViZGl2aWRlIiwiaXNCaWdOdW1iZXIiLCJnZXRQcm90b3R5cGVPZiIsImlzQ29tcGxleCIsImlzRnJhY3Rpb24iLCJpc1VuaXQiLCJpc0FycmF5IiwiaXNNYXRyaXgiLCJpc0RlbnNlTWF0cml4IiwiaXNTcGFyc2VNYXRyaXgiLCJpc1JhbmdlIiwiaXNJbmRleCIsImlzUmVzdWx0U2V0IiwiaXNIZWxwIiwiRGF0ZSIsIlJlZ0V4cCIsImlzQWNjZXNzb3JOb2RlIiwiaXNOb2RlIiwiaXNBcnJheU5vZGUiLCJpc0Fzc2lnbm1lbnROb2RlIiwiaXNCbG9ja05vZGUiLCJpc0NvbmRpdGlvbmFsTm9kZSIsImlzQ29uc3RhbnROb2RlIiwiaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiaXNGdW5jdGlvbk5vZGUiLCJpc0luZGV4Tm9kZSIsImlzT2JqZWN0Tm9kZSIsImlzT3BlcmF0b3JOb2RlIiwiaXNQYXJlbnRoZXNpc05vZGUiLCJpc1JhbmdlTm9kZSIsImlzU3ltYm9sTm9kZSIsImlzQ2hhaW4iLCJ0eXBlIiwiY2xvbmUiLCJtYXAiLCJ2YWx1ZU9mIiwiVHlwZUVycm9yIiwibWFwT2JqZWN0Iiwib2JqZWN0IiwiY2xvbmUyIiwia2V5IiwicHJvcCIsImRlZXBTdHJpY3RFcXVhbCIsInByb3BlcnR5IiwiY2FsbCIsIl90eXBlcyIsIm5hbWUiLCJ0ZXN0IiwiYW55VHlwZSIsIm9rIiwiX2lnbm9yZSIsIl9jb252ZXJzaW9ucyIsInR5cGVkIiwidHlwZXMiLCJjb252ZXJzaW9ucyIsImlnbm9yZSIsInR5cGVOYW1lIiwiZW50cnkiLCJmaW5kSW5BcnJheSIsImVudHJ5MiIsImhpbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJmbiIsInNpZ25hdHVyZSIsInNpZ25hdHVyZXMiLCJhcnIiLCJzcGxpdCIsInRyaW0iLCJzdHIiLCJqb2luIiwibWF0Y2giLCJmcm9tIiwiZmluZFR5cGVOYW1lIiwiY29udmVyc2lvbiIsInRvIiwiY29udmVydCIsInBhcmFtcyIsInBhcmFtIiwidHlwZU5hbWVzIiwiZ2V0VHlwZU5hbWUiLCJyZXN0UGFyYW0iLCJzbGljZSIsImZpbHRlciIsIm5vdEVtcHR5Iiwibm90SWdub3JlIiwibWF0Y2hpbmdDb252ZXJzaW9ucyIsImZpbHRlckNvbnZlcnNpb25zIiwiZXhhY3RUeXBlcyIsImZpbmRUeXBlQnlOYW1lIiwidHlwZUluZGV4IiwiZmluZFR5cGVJbmRleCIsImNvbnZlcnNpb25JbmRleCIsImNvbnZlcnRpYmxlVHlwZXMiLCJjb25jYXQiLCJwYXJzZWRQYXJhbSIsInBhcnNlUGFyYW0iLCJTeW50YXhFcnJvciIsInNvbWUiLCJpc0ludmFsaWRQYXJhbSIsImxhc3QiLCJ0ZXN0MCIsInRlc3QxIiwidGVzdHMiLCJoYXNSZXN0UGFyYW0iLCJ2YXJJbmRleCIsImluaXRpYWwiLCJjb21waWxlVGVzdCIsImxhc3RUZXN0IiwidGVzdFJlc3RQYXJhbSIsImFyZ3MiLCJleGNsdWRlQ29udmVyc2lvbnMiLCJnZXRQYXJhbUF0SW5kZXgiLCJpc0V4YWN0VHlwZSIsInVuaXEiLCJmbGF0TWFwIiwiZ2V0RXhwZWN0ZWRUeXBlTmFtZXMiLCJuYW1lMiIsImVyciIsImV4cGVjdGVkIiwiX25hbWUiLCJtYXRjaGluZ1NpZ25hdHVyZXMiLCJuZXh0TWF0Y2hpbmdEZWZzIiwibWVyZ2VFeHBlY3RlZFBhcmFtcyIsImFjdHVhbFR5cGUiLCJkYXRhIiwiY2F0ZWdvcnkiLCJhY3R1YWwiLCJsZW5ndGhzIiwiSW5maW5pdHkiLCJhcHBseSIsIm1heExlbmd0aCIsImV4cGVjdGVkTGVuZ3RoIiwicGFyYW0xIiwicGFyYW0yIiwiaGFzQ29udmVyc2lvbnMiLCJnZXRMb3dlc3RUeXBlSW5kZXgiLCJnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgiLCJzaWduYXR1cmUxIiwic2lnbmF0dXJlMiIsImNvbXBhcmVQYXJhbXMiLCJtYXRjaGVzIiwiZm9yRWFjaCIsImtleXMiLCJmbkNvbnZlcnQiLCJjb21waWxlZENvbnZlcnNpb25zIiwiY29tcGlsZUFyZ0NvbnZlcnNpb24iLCJsYXN0MiIsImZuUHJlcHJvY2VzcyIsImNvbnZlcnNpb24wIiwiY29udmVyc2lvbjEiLCJwdXNoIiwiYXJnIiwic2lnbmF0dXJlc01hcCIsInN0cmluZ2lmeVBhcmFtcyIsImlnbm9yZUNvbnZlcnNpb25UeXBlcyIsInBhcmFtczIiLCJ0eXBlR3JvdXBzIiwiZmlsdGVyZWRUeXBlcyIsInR5cGVHcm91cCIsIl9zcGxpdFBhcmFtcyIsImlpIiwiaGFzT3ZlcmxhcCIsImxlbjEiLCJsZW4yIiwicmVzdFBhcmFtMSIsInJlc3RQYXJhbTIiLCJwYXJzZWRTaWduYXR1cmVzIiwicGFyc2VTaWduYXR1cmUiLCJub3ROdWxsIiwicGFyc2VkU2lnbmF0dXJlIiwiY29uZmxpY3RpbmdTaWduYXR1cmUiLCJoYXNDb25mbGljdGluZ1BhcmFtcyIsInNwbGl0UGFyYW1zIiwic29ydCIsImNvbXBhcmVTaWduYXR1cmVzIiwib2swIiwib2sxIiwib2syIiwib2szIiwib2s0Iiwib2s1IiwiYWxsT2siLCJjb21waWxlVGVzdHMiLCJ0ZXN0MDAiLCJub3RPayIsInRlc3QxMCIsInRlc3QyMCIsInRlc3QzMCIsInRlc3Q0MCIsInRlc3Q1MCIsInRlc3QwMSIsInRlc3QxMSIsInRlc3QyMSIsInRlc3QzMSIsInRlc3Q0MSIsInRlc3Q1MSIsImZucyIsImNvbXBpbGVBcmdzUHJlcHJvY2Vzc2luZyIsImZuMCIsInVuZGVmIiwiZm4xIiwiZm4yIiwiZm4zIiwiZm40IiwiZm41IiwibGVuMCIsImxlbjMiLCJsZW40IiwibGVuNSIsImlTdGFydCIsImlFbmQiLCJnZW5lcmljIiwiY3JlYXRlRXJyb3IiLCJhcmcwIiwiYXJnMSIsImZuNiIsImRlZmluZVByb3BlcnR5IiwiY3JlYXRlU2lnbmF0dXJlc01hcCIsInN0YXJ0IiwiZW5kIiwiaXRlbSIsImFycmF5MSIsImFycmF5MiIsImNvbnRhaW5zMiIsImVudHJpZXMiLCJfc2lnbmF0dXJlIiwiX2ZuIiwiY3JlYXRlVHlwZWRGdW5jdGlvbiIsInN0cmluZywgT2JqZWN0IiwiZ2V0TmFtZSIsIi4uLkZ1bmN0aW9uIiwiZXh0cmFjdFNpZ25hdHVyZXMiLCJzdHJpbmcsIC4uLkZ1bmN0aW9uIiwiY3JlYXRlIiwiY3JlYXRlMiIsImZpbmQiLCJhZGRUeXBlIiwiYmVmb3JlT2JqZWN0VGVzdCIsInNwbGljZSIsImFkZENvbnZlcnNpb24iLCJmYWN0b3J5MiIsImlzRmluaXRlIiwic2lnbiIsIm9wdGlvbnMiLCJpc05hTiIsInByZWNpc2lvbiIsIm5vdGF0aW9uIiwiaXNOdW1iZXIiLCJ0b0ZpeGVkIiwidG9FeHBvbmVudGlhbCIsIlN0cmluZyIsInJvdW5kZWQiLCJyb3VuZERpZ2l0cyIsInNwbGl0TnVtYmVyIiwiZXhwb25lbnQiLCJjb2VmZmljaWVudHMiLCJuZXdFeHAiLCJtaXNzaW5nWmVyb3MiLCJleHBEaWZmIiwiZGVjaW1hbElkeCIsImRlY2ltYWxzIiwiZGVjaW1hbFZhbCIsInRvRW5naW5lZXJpbmciLCJsb3dlckV4cCIsInVwcGVyRXhwIiwiemVyb3MiLCJ0b1ByZWNpc2lvbiIsInJlcGxhY2UiLCJkaWdpdHMyIiwic2lnbjIiLCJwYXJzZUZsb2F0IiwiemVyb3MyIiwicGFyc2VJbnQiLCJzcGxpdFZhbHVlIiwicHAiLCJmaXJzdCIsInNoaWZ0IiwidW5zaGlmdCIsInBvcCIsIkRCTF9FUFNJTE9OIiwiZXBzaWxvbiIsImRpZmYiLCJndCIsInZhbHVlV2l0aG91dEV4cCIsIm11bCIsInZhbHVlU3RyIiwiaXNaZXJvIiwidG9TaWduaWZpY2FudERpZ2l0cyIsImV4cDIiLCJ0ZXh0Iiwic2VhcmNoIiwic3Vic3RyaW5nIiwiZm9ybWF0TnVtYmVyIiwiZm9ybWF0QmlnTnVtYmVyIiwibG9va3NMaWtlRnJhY3Rpb24iLCJmcmFjdGlvbiIsImZvcm1hdEFycmF5IiwiaXNTdHJpbmciLCJzeW50YXgiLCJmb3JtYXQiLCJlc2NhcGVkIiwiY2hhckF0IiwicmVsYXRpb24iLCJEaW1lbnNpb25FcnJvciIsIm1lc3NhZ2UiLCJzdGFjayIsIkluZGV4RXJyb3IiLCJzaXplMiIsImRpbSIsImRpbU5leHQiLCJjaGlsZCIsImlzSW50ZWdlciIsImRlZmF1bHRWYWx1ZSIsImVsZW0iLCJvbGRMZW4iLCJuZXdMZW4iLCJtaW5MZW4iLCJzaXplcyIsIm5ld0FycmF5IiwiZmxhdEFycmF5IiwiZmxhdCIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInByb2R1Y3QiLCJhcnJheVNpemUiLCJ0b3RhbFNpemUiLCJzaXplSW5kZXgiLCJ0bXBBcnJheTIiLCJ0bXBBcnJheSIsIl9yZXNoYXBlIiwiZGltcyIsIm91dGVyIiwiX3Vuc3F1ZWV6ZSIsIm5leHQiLCJzZXBhcmF0b3IiLCJ0eXBlT2YyIiwiaXNBcnJheTIiLCJpdGVtVHlwZSIsImdldEFycmF5RGF0YVR5cGUiLCJkZXBlbmRlbmNpZXMyIiwibWV0YSIsInNjb3BlIiwiZGVwcyIsInByb3BlcnRpZXMyIiwicGlja1NoYWxsb3ciLCJzdHJpcE9wdGlvbmFsTm90YXRpb24iLCJkZXBlbmRlbmN5IiwiaXNPcHRpb25hbERlcGVuZGVuY3kiLCJldmVyeSIsIm1pc3NpbmdEZXBlbmRlbmNpZXMiLCJpc0ZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJhc3NlcnRBbmRDcmVhdGUiLCJSYW5nZUVycm9yIiwiaXNEaW1lbnNpb25FcnJvciIsImlzSW5kZXhFcnJvciIsIl9jcmVhdGVUeXBlZDIiLCJ0eXBlZEZ1bmN0aW9uIiwiY3JlYXRlVHlwZWQiLCJfcmVmIiwiQmlnTnVtYmVyIiwiQ29tcGxleCIsIkRlbnNlTWF0cml4IiwiRnJhY3Rpb24iLCJpc0Jvb2xlYW4iLCJpc0Z1bmN0aW9uIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiQ29tcGxleDIiLCJ0b051bWJlciIsIkZyYWN0aW9uMiIsImluZXhhY3QiLCJxdWFkcmFudCIsImNyZWF0ZVJlc3VsdFNldCIsIlJlc3VsdFNldCIsInRvSlNPTiIsIm1hdGhqcyIsImZyb21KU09OIiwianNvbiIsImlzQ2xhc3MiLCJFWFBfTElNSVQiLCJOVU1FUkFMUyIsIkxOMTAiLCJERUZBVUxUUyIsInJvdW5kaW5nIiwibW9kdWxvIiwidG9FeHBOZWciLCJ0b0V4cFBvcyIsIm1pbkUiLCJtYXhFIiwiY3J5cHRvIiwiZXh0ZXJuYWwiLCJpbnZhbGlkQXJndW1lbnQiLCJkZWNpbWFsRXJyb3IiLCJtYXRoZmxvb3IiLCJtYXRocG93IiwiaXNCaW5hcnkiLCJpc0hleCIsImlzT2N0YWwiLCJpc0RlY2ltYWwiLCJCQVNFIiwiTE4xMF9QUkVDSVNJT04iLCJQSV9QUkVDSVNJT04iLCJQIiwiayIsIndzIiwiaW5kZXhPZkxhc3RXb3JkIiwiZ2V0WmVyb1N0cmluZyIsInJtIiwicmVwZWF0aW5nIiwiZGkiLCJyZCIsImJhc2VJbiIsImJhc2VPdXQiLCJqIiwiYXJyTCIsInN0ckwiLCJyZXZlcnNlIiwiYWJzb2x1dGVWYWx1ZSIsImZpbmFsaXNlIiwiY29tcGFyZWRUbyIsImNtcCIsInhkTCIsInlkTCIsInhkIiwieWQiLCJ4cyIsInlzIiwiTmFOIiwiY29zaW5lIiwicHIiLCJDdG9yIiwic2QiLCJ0aW55UG93IiwidGF5bG9yU2VyaWVzIiwidGltZXMiLCJjb3MyeCIsIm1pbnVzIiwicGx1cyIsInRvTGVzc1RoYW5IYWxmUGkiLCJuZWciLCJjdWJlUm9vdCIsImNicnQiLCJyZXAiLCJ0MyIsInQzcGx1c3giLCJkaWdpdHNUb1N0cmluZyIsImRpdmlkZSIsImVxIiwiZGVjaW1hbFBsYWNlcyIsImRwIiwiZGl2aWRlZEJ5IiwiZGl2IiwiZGl2aWRlZFRvSW50ZWdlckJ5IiwiZGl2VG9JbnQiLCJlcXVhbHMiLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiZ3RlIiwiaHlwZXJib2xpY0Nvc2luZSIsImNvc2giLCJvbmUiLCJjb3NoMl94IiwiZDgiLCJoeXBlcmJvbGljU2luZSIsInNpbmgiLCJzaW5oMl94IiwiZDUiLCJkMTYiLCJkMjAiLCJoeXBlcmJvbGljVGFuZ2VudCIsInRhbmgiLCJpbnZlcnNlQ29zaW5lIiwiaGFsZlBpIiwiaXNOZWciLCJnZXRQaSIsImFzaW4iLCJpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSIsImFjb3NoIiwibHRlIiwibG4iLCJpbnZlcnNlSHlwZXJib2xpY1NpbmUiLCJhc2luaCIsImludmVyc2VIeXBlcmJvbGljVGFuZ2VudCIsImF0YW5oIiwid3ByIiwieHNkIiwiaW52ZXJzZVNpbmUiLCJhdGFuIiwiaW52ZXJzZVRhbmdlbnQiLCJweCIsImlzSW50IiwiaXNOZWdhdGl2ZSIsImlzUG9zaXRpdmUiLCJpc1BvcyIsImxlc3NUaGFuIiwibHQiLCJsZXNzVGhhbk9yRXF1YWxUbyIsImxvZ2FyaXRobSIsImJhc2UiLCJpc0Jhc2UxMCIsImluZiIsIm51bSIsIm5hdHVyYWxMb2dhcml0aG0iLCJnZXRMbjEwIiwiY2hlY2tSb3VuZGluZ0RpZ2l0cyIsInhlIiwieExUeSIsImdldEJhc2UxMEV4cG9uZW50IiwibW9kIiwibmF0dXJhbEV4cG9uZW50aWFsIiwibmVnYXRlZCIsImFkZCIsImNhcnJ5IiwiZ2V0UHJlY2lzaW9uIiwic2luZSIsInNpbjJfeCIsInNxdWFyZVJvb3QiLCJ0YW5nZW50IiwidGFuIiwickwiLCJ0b0JpbmFyeSIsInRvU3RyaW5nQmluYXJ5IiwidG9EZWNpbWFsUGxhY2VzIiwidG9EUCIsImZpbml0ZVRvU3RyaW5nIiwidG9GcmFjdGlvbiIsIm1heEQiLCJuMCIsInRvSGV4YWRlY2ltYWwiLCJ0b0hleCIsInRvTmVhcmVzdCIsInRvT2N0YWwiLCJ0b1Bvd2VyIiwieW4iLCJpbnRQb3ciLCJ0b1NEIiwidHJ1bmNhdGVkIiwidHJ1bmMiLCJ0ZW1wIiwiYUwiLCJiTCIsImxvZ0Jhc2UiLCJtb3JlIiwicHJvZCIsInByb2RMIiwicWQiLCJyZW0iLCJyZW1MIiwicmVtMCIsInhpIiwieEwiLCJ5ZDAiLCJ5TCIsIm11bHRpcGx5SW50ZWdlciIsImNvbXBhcmUiLCJpc1RydW5jYXRlZCIsInJvdW5kVXAiLCJ4ZGkiLCJpc0V4cCIsIm5vbkZpbml0ZVRvU3RyaW5nIiwienMiLCJ0cnVuY2F0ZSIsImx0Z3QiLCJndWFyZCIsInBvdzIiLCJzdW0iLCJjMCIsIm51bWVyYXRvciIsImNoYXJDb2RlQXQiLCJpc0h5cGVyYm9saWMiLCJ1IiwicGkiLCJpc09kZCIsImNvbnZlcnRCYXNlIiwib2JqIiwidXNlRGVmYXVsdHMiLCJkZWZhdWx0cyIsInBzIiwiZ2V0UmFuZG9tVmFsdWVzIiwicmFuZG9tQnl0ZXMiLCJEZWNpbWFsIiwibWF4T3JNaW4iLCJVaW50MzJBcnJheSIsIlN5bWJvbCIsImZvciIsInRvU3RyaW5nVGFnIiwiaTIiLCJEZWNpbWFsMiIsInBhcnNlRGVjaW1hbCIsImRpdmlzb3IiLCJpc0Zsb2F0IiwicGFyc2VPdGhlciIsIlJPVU5EX1VQIiwiUk9VTkRfRE9XTiIsIlJPVU5EX0NFSUwiLCJST1VORF9GTE9PUiIsIlJPVU5EX0hBTEZfVVAiLCJST1VORF9IQUxGX0RPV04iLCJST1VORF9IQUxGX0VWRU4iLCJST1VORF9IQUxGX0NFSUwiLCJST1VORF9IQUxGX0ZMT09SIiwiRVVDTElEIiwiY29uZmlnIiwiaXNEZWNpbWFsSW5zdGFuY2UiLCJoeXBvdCIsImxvZzEwIiwibG9nMiIsImNyZWF0ZUJpZ051bWJlckNsYXNzIiwib24iLCJjb25maWcyIiwicm9vdCIsImNvc2gyIiwic2luaDIiLCJwYXJzZXJfZXhpdCIsIl9hMiIsIl9iMiIsInJlIiwiaW0iLCJ0b2tlbnMiLCJwYXJzZSIsImFiczIiLCJsb2giLCJsb2dIeXBvdCIsImV4cG0xIiwibGltaXQiLCJjb3NtMSIsImNvdCIsInNlYyIsImNzYyIsInQxIiwidDIiLCJhY290IiwiYXNlYyIsImFjc2MiLCJjb3RoIiwiY3NjaCIsInNlY2giLCJyZXMiLCJub0lNIiwib25lTWludXMiLCJvbmVQbHVzIiwiYWNvdGgiLCJhY3NjaCIsImFzZWNoIiwiaW52ZXJzZSIsInBsYWNlcyIsInJldCIsInRvVmVjdG9yIiwiaXNJbmZpbml0ZSIsIkUiLCJjcmVhdGVDb21wbGV4Q2xhc3MiLCJ0b1BvbGFyIiwic3RyUmUiLCJzdHJJbSIsImZyb21Qb2xhciIsImhhc0Jhc2UiLCJQMiIsIkludGVybWVkaWF0ZUluaGVyaXRvciIsImVycm9yQ29uc3RydWN0b3IiLCJEaXZpc2lvbkJ5WmVybyIsIkludmFsaWRQYXJhbWV0ZXIiLCJmYWN0b3JzIiwicDEiLCJNIiwiQSIsIkIiLCJDIiwiRCIsIk4iLCJhc3NpZ24iLCJnY2QiLCJsY20iLCJmYWN0b3JpemUiLCJzaW1wbGlmeSIsImVwcyIsImNvbnQiLCJyZWMiLCJkaXZpc2libGUiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInRvTGF0ZXgiLCJ0b0NvbnRpbnVlZCIsImRlYyIsImN5Y0xlbiIsImN5Y2xlTGVuIiwiY3ljT2ZmIiwicmVtMSIsInJlbTIiLCJtb2Rwb3ciLCJjeWNsZVN0YXJ0IiwiY3JlYXRlRnJhY3Rpb25DbGFzcyIsImNyZWF0ZVJhbmdlQ2xhc3MiLCJSYW5nZSIsImhhc1N0YXJ0IiwiaGFzRW5kIiwiaGFzU3RlcCIsIm51bXMiLCJzaXplIiwidG9BcnJheSIsImNyZWF0ZU1hdHJpeENsYXNzIiwiTWF0cml4Iiwic3RvcmFnZSIsImRhdGF0eXBlIiwic3Vic2V0IiwicmVwbGFjZW1lbnQiLCJnZXQiLCJyZXNpemUiLCJyZXNoYXBlIiwic2tpcFplcm9zIiwiY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyIsIl9kYXRhIiwiX3NpemUiLCJfZGF0YXR5cGUiLCJwcmVwcm9jZXNzIiwidHlwZU9mIiwiaXNTY2FsYXIiLCJfZ2V0U3VibWF0cml4IiwiZGltZW5zaW9uIiwic3VibWF0cml4Iiwic1NpemUiLCJpU2l6ZSIsInVuc3F1ZWV6ZSIsImRhdGFJbmRleCIsInN1YkluZGV4IiwibmV3U2l6ZSIsImNoYW5nZWQiLCJjcmVhdGVEZW5zZU1hdHJpeCIsImdldERhdGFUeXBlIiwiX2dldCIsIl9zZXQiLCJpbmRleEkiLCJpc0NvbGxlY3Rpb24iLCJzaXplQXJyYXkiLCJfcmVzaXplMiIsInJlY3Vyc2UyIiwicmVjdXJzZSIsImRpYWdvbmFsIiwia1N1cGVyIiwia1N1YiIsInJvd3MiLCJjb2x1bW5zIiwiX3ZhbHVlIiwibXMiLCJzd2FwUm93cyIsIl9zd2FwUm93cyIsInZpIiwiZGVlcE1hcCIsIm4xIiwibjIiLCJhYnNOdW1iZXIiLCJhZGROdW1iZXIiLCJtdWx0aXBseU51bWJlciIsInVuYXJ5TWludXNOdW1iZXIiLCJjZWlsTnVtYmVyIiwibW9kTnVtYmVyIiwicG93TnVtYmVyIiwicm91bmROdW1iZXIiLCJjcmVhdGVJc051bWVyaWMiLCJudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4iLCJDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfCBOb2RlIiwiQXJyYXkgfCBNYXRyaXgiLCJjcmVhdGVFcXVhbFNjYWxhciIsImJvb2xlYW4sIGJvb2xlYW4iLCJudW1iZXIsIG51bWJlciIsIm5lYXJseUVxdWFsIiwiQmlnTnVtYmVyLCBCaWdOdW1iZXIiLCJiaWdOZWFybHlFcXVhbCIsIkZyYWN0aW9uLCBGcmFjdGlvbiIsIkNvbXBsZXgsIENvbXBsZXgiLCJjb21wbGV4RXF1YWxzIiwiVW5pdCwgVW5pdCIsImVxdWFsQmFzZSIsImZhY3RvcnkiLCJfcmVmMiIsImNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzIiwiZXF1YWxTY2FsYXIiLCJTcGFyc2VNYXRyaXgiLCJzb3VyY2UiLCJfdmFsdWVzIiwiX2luZGV4IiwiX3B0ciIsInB0ciIsInZhbHVlcyIsInplcm8iLCJyb3ciLCJpZHgiLCJrayIsIm12YWx1ZXMiLCJtaW5kZXgiLCJtcHRyIiwicHYiLCJ2YWx1ZXMyIiwiaW5zIiwiazAiLCJrMSIsImNyZWF0ZVNwYXJzZU1hdHJpeCIsImRlbnNpdHkiLCJfZ2V0c3Vic2V0IiwiX3NldHN1YnNldCIsIl9nZXRWYWx1ZUluZGV4IiwiY29sSW5kZXgiLCJyb3dJbmRleCIsIl9pIiwicjEiLCJfaTIiLCJfaTMiLCJfaiIsIm1pblJvdyIsIm1heFJvdyIsIm1pbkNvbHVtbiIsIm1heENvbHVtbiIsImludm9rZSIsIl9rIiwiX2k1IiwiX21hcCIsIl9rMiIsIl9pNyIsIl90b0FycmF5IiwiX2ZvckVhY2hSb3ciLCJreCIsImt5IiwidngiLCJ2eSIsImNyZWF0ZU51bWJlciIsIm51bWJlciIsInN0cmluZyIsImluY2x1ZGVzIiwiVW5pdCIsIm51bGwiLCJVbml0LCBzdHJpbmcgfCBVbml0IiwidW5pdCIsInZhbHVlbGVzc1VuaXQiLCJjcmVhdGVCaWdudW1iZXIiLCJjcmVhdGVGcmFjdGlvbiIsImNyZWF0ZU1hdHJpeCIsIl9jcmVhdGUiLCJmb3JtYXQyIiwic3RyaW5nLCBzdHJpbmciLCJBcnJheSB8IE1hdHJpeCwgc3RyaW5nIiwiQXJyYXkgfCBNYXRyaXgsIHN0cmluZywgc3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZVVuYXJ5TWludXMiLCJjcmVhdGVBYnMiLCJjcmVhdGVBZGRTY2FsYXIiLCJmaXhQcmVmaXgiLCJjcmVhdGVBbGdvcml0aG0xMSIsImF2YWx1ZXMiLCJhaW5kZXgiLCJhcHRyIiwiYXNpemUiLCJhZHQiLCJjdmFsdWVzIiwiY2luZGV4IiwiY3B0ciIsImNyZWF0ZUFsZ29yaXRobTE0IiwiYWRhdGEiLCJjZGF0YSIsIl9pdGVyYXRlIiwibGV2ZWwiLCJhdiIsImJ2IiwiY3YiLCJjcmVhdGVDZWlsIiwiYWxnb3JpdGhtMTEiLCJhbGdvcml0aG0xNCIsInJvdW5kMiIsInJlc3VsdCIsIkNvbXBsZXgsIG51bWJlciIsIkZyYWN0aW9uLCBudW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIiwiU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXkiLCJjcmVhdGVGaXgiLCJfQ29tcGxleCIsImZsb29yMiIsImNlaWwyIiwibnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRmxvb3IiLCJjcmVhdGVBbGdvcml0aG0wMSIsImRlbnNlTWF0cml4Iiwic3BhcnNlTWF0cml4IiwiYnZhbHVlcyIsImJpbmRleCIsImJwdHIiLCJic2l6ZSIsImJkdCIsIm1hcmsiLCJjcmVhdGVBbGdvcml0aG0wNCIsInhhIiwieGIiLCJ3YSIsIndiIiwiY3JlYXRlQWxnb3JpdGhtMTAiLCJjcmVhdGVBbGdvcml0aG0xMyIsImJkYXRhIiwiY3NpemUiLCJjcmVhdGVBbGdvcml0aG0wMiIsImNpaiIsImNyZWF0ZUFsZ29yaXRobTAzIiwiY3JlYXRlQWxnb3JpdGhtMDUiLCJ3YWkiLCJ3YmkiLCJ2YyIsImNyZWF0ZUFsZ29yaXRobTEyIiwiYWxnb3JpdGhtMDIiLCJhbGdvcml0aG0wMyIsImFsZ29yaXRobTA1IiwiYWxnb3JpdGhtMTIiLCJhbGdvcml0aG0xMyIsIlNwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4IiwiU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgiLCJBcnJheSwgQXJyYXkiLCJBcnJheSwgTWF0cml4IiwiTWF0cml4LCBBcnJheSIsIlNwYXJzZU1hdHJpeCwgYW55IiwiRGVuc2VNYXRyaXgsIGFueSIsImFueSwgU3BhcnNlTWF0cml4IiwiYW55LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBhbnkiLCJhbnksIEFycmF5IiwiY3JlYXRlTXVsdGlwbHlTY2FsYXIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQiLCJfbm9ybWFsaXplIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4IiwibXVsdGlwbHkiLCJjcmVhdGVNdWx0aXBseSIsImFkZFNjYWxhciIsInNpemUxIiwiYWxlbmd0aCIsImJjb2x1bW5zIiwibWYiLCJfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeCIsIl9tdWx0aXBseU1hdHJpeFZlY3RvciIsImFyb3dzIiwiYWNvbHVtbnMiLCJicm93cyIsImliIiwidmJpIiwia2EwIiwia2ExIiwia2EiLCJpYSIsImljIiwiX211bHRpcGx5TWF0cml4TWF0cml4IiwiamIiLCJrYjAiLCJrYjEiLCJrYiIsInZiaWoiLCJwMCIsImV4dGVuZCIsIk1hdHJpeCwgTWF0cml4IiwieHNpemUiLCJ5c2l6ZSIsIl9tdWx0aXBseVZlY3RvclZlY3RvciIsIl9tdWx0aXBseVZlY3Rvck1hdHJpeCIsImFueSwgYW55IiwiYW55LCBhbnksIC4uLmFueSIsInJlc3QiLCJjcmVhdGVTdWJ0cmFjdCIsInVuYXJ5TWludXMiLCJhbGdvcml0aG0wMSIsImFsZ29yaXRobTEwIiwiY3JlYXRlQWxnb3JpdGhtMDciLCJ2YSIsInZiIiwiY3JlYXRlQ29uaiIsInF1ZXVlIiwibWFwMiIsImRlbCIsImlkIiwib2xkSW5kZXgiLCJoaXQiLCJudUluZGV4IiwiZGVsZXRlIiwiY2xlYXIiLCJoYXNoZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImhhc2hlcjIiLCJtZW1vaXplMiIsImNhY2hlIiwiTWFwIiwibHJ1IiwibHJ1UXVldWUiLCJoYXNoIiwiaGFzIiwibmV3VmFsIiwiY3JlYXRlSWRlbnRpdHkiLCJudW1iZXIgfCBCaWdOdW1iZXIiLCJfaWRlbnRpdHkiLCJudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyIsIm51bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY29scyIsIm51bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJfaWRlbnRpdHlWZWN0b3IiLCJBcnJheSwgc3RyaW5nIiwiTWF0cml4LCBzdHJpbmciLCJCaWciLCJtaW5pbXVtIiwiY291bnQiLCJBcmd1bWVudHNFcnJvciIsImlzQXJndW1lbnRzRXJyb3IiLCJjcmVhdGVTaXplIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciB8IFVuaXQgfCBib29sZWFuIHwgbnVsbCIsIm5vTWF0cml4IiwiaXNQbGFpbk9iamVjdCIsImlzU2FmZVByb3BlcnR5IiwiaXNTYWZlTWV0aG9kIiwic2FmZU5hdGl2ZVByb3BlcnRpZXMiLCJGdW5jdGlvbiIsIm1ldGhvZCIsInNhZmVOYXRpdmVNZXRob2RzIiwidG9Mb2NhbGVTdHJpbmciLCJjcmVhdGVTdWJzZXQiLCJBcnJheSwgSW5kZXgiLCJNYXRyaXgsIEluZGV4IiwiT2JqZWN0LCBJbmRleCIsIl9nZXRPYmplY3RQcm9wZXJ0eSIsInN0cmluZywgSW5kZXgiLCJfZ2V0U3Vic3RyaW5nIiwiQXJyYXksIEluZGV4LCBhbnkiLCJBcnJheSwgSW5kZXgsIGFueSwgYW55IiwiTWF0cml4LCBJbmRleCwgYW55IiwiTWF0cml4LCBJbmRleCwgYW55LCBhbnkiLCJzdHJpbmcsIEluZGV4LCBzdHJpbmciLCJfc2V0U3Vic3RyaW5nIiwic3RyaW5nLCBJbmRleCwgc3RyaW5nLCBzdHJpbmciLCJPYmplY3QsIEluZGV4LCBhbnkiLCJfc2V0T2JqZWN0UHJvcGVydHkiLCJzdHJMZW4iLCJzdWJzdHIiLCJjaGFycyIsIl9sZW4iLCJnZXRTYWZlUHJvcGVydHkiLCJ1cGRhdGVkIiwiY3JlYXRlWmVyb3MiLCJfemVyb3MiLCIuLi5udW1iZXIgfCBCaWdOdW1iZXIgfCBzdHJpbmciLCJoYXNCaWdOdW1iZXJzIiwiY3JlYXRlRm9ybWF0IiwiYW55IiwiZm9ybWF0U3RyaW5nIiwiYW55LCBPYmplY3QgfCBmdW5jdGlvbiB8IG51bWJlciIsImNyZWF0ZU51bWVyaWMiLCJfbnVtYmVyIiwiYmlnbnVtYmVyIiwidmFsaWRJbnB1dFR5cGVzIiwidmFsaWRPdXRwdXRUeXBlcyIsIm5vQmlnbnVtYmVyIiwiZnJhY3Rpb24yIiwibm9GcmFjdGlvbiIsIm91dHB1dFR5cGUiLCJpbnB1dFR5cGUiLCJjcmVhdGVEaXZpZGVTY2FsYXIiLCJudW1lcmljIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIiLCJudW1lcmljMiIsIm51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyLCBVbml0IiwiY3JlYXRlUG93IiwiaWRlbnRpdHkiLCJfcG93IiwicHJlZGljdGFibGUiLCJBcnJheSwgbnVtYmVyIiwiX3Bvd0FycmF5IiwiQXJyYXksIEJpZ051bWJlciIsIk1hdHJpeCwgbnVtYmVyIiwiX3Bvd01hdHJpeCIsIk1hdHJpeCwgQmlnTnVtYmVyIiwiVW5pdCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwieUZyYWMiLCJ5TnVtIiwiZXgiLCJlbnVtZXJhYmxlT25seSIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk5PX0lOVCIsImNyZWF0ZVJvdW5kIiwiX29iamVjdFNwcmVhZCIsInJvdW5kTnVtYmVyU2lnbmF0dXJlcyIsIkNvbXBsZXgsIEJpZ051bWJlciIsIl9uIiwibnVtYmVyLCBCaWdOdW1iZXIiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBTcGFyc2VNYXRyaXgiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBEZW5zZU1hdHJpeCIsIkFycmF5LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJjcmVhdGVFcXVhbCIsImFsZ29yaXRobTA3IiwiY3JlYXRlU21hbGxlciIsImNyZWF0ZUxhcmdlciIsImNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzcyIsInNtYWxsZXIiLCJsYXJnZXIiLCJvbmVPdmVyTG9nUGhpIiwiRmlib25hY2NpSGVhcCIsIl9taW5pbXVtIiwibm9kZSIsInBhcmVudCIsImRlZ3JlZSIsImlzRmlib25hY2NpSGVhcCIsImluc2VydCIsImlzRW1wdHkiLCJleHRyYWN0TWluaW11bSIsIm51bWJlck9mQ2hpbGRyZW4iLCJ0ZW1wUmlnaHQiLCJhcnJheVNpemUyIiwibnVtUm9vdHMiLCJfZmluZE1pbmltdW1Ob2RlIiwicmVtb3ZlIiwiX2RlY3JlYXNlS2V5IiwiX2xpbmtOb2RlcyIsImNyZWF0ZVNwYUNsYXNzIiwiU3BhIiwiX2hlYXAiLCJpc1NwYSIsImFjY3VtdWxhdGUiLCJoZWFwIiwibm9kZXMiLCJzd2FwIiwibm9kZWkiLCJub2RlaiIsIm1lbW9pemUiLCJjcmVhdGVCaWdOdW1iZXJQaSIsImNyZWF0ZVVuaXRDbGFzcyIsInN1YnRyYWN0IiwiZml4IiwiZXF1YWwiLCJpc051bWVyaWMiLCJfQmlnTnVtYmVyIiwiX0ZyYWN0aW9uIiwidW5pdHMiLCJkaW1lbnNpb25zIiwiVU5JVF9OT05FIiwicHJlZml4IiwiUFJFRklYRVMiLCJOT05FIiwiQkFTRV9ESU1FTlNJT05TIiwic2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uIiwibnVtYmVyMiIsImlzRGlnaXQiLCJ0ZW50YXRpdmVOdW1iZXIiLCJ0ZW50YXRpdmVJbmRleCIsInVuaXROYW1lIiwiaXNWYWxpZEFscGhhIiwiZmlyc3RDIiwidG9GaW5kIiwidW5pdDIiLCJwb3dlck11bHRpcGxpZXJDdXJyZW50IiwiZXhwZWN0aW5nVW5pdCIsInBhcnNlTnVtYmVyIiwicGFyc2VDaGFyYWN0ZXIiLCJwb3dlck11bHRpcGxpZXJTdGFjayIsInBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCIsInVTdHIiLCJvbGRDIiwicGFyc2VVbml0IiwiX2ZpbmRVbml0IiwiYmFzZURpbSIsImF1dG8iLCJhbGxvd05vVW5pdHMiLCJfaXNEZXJpdmVkIiwidW5pdFZhbHVlIiwidW5pdE9mZnNldCIsInVuaXRQb3dlciIsInVuaXRQcmVmaXhWYWx1ZSIsIl9nZXROdW1iZXJDb252ZXJ0ZXIiLCJfZGVub3JtYWxpemUiLCJwcmVmaXhWYWx1ZSIsIlVOSVRTIiwicHJlZml4ZXMiLCJlbmRzV2l0aCIsIl91bml0IiwicHJlZml4TGVuIiwicHJlZml4TmFtZSIsIl9wcmVmaXgiLCJCQVNFX1VOSVRTIiwiaXNWYWx1ZWxlc3NVbml0Iiwib3RoZXIiLCJpbnZlcnRlZCIsInZhbFRoaXMiLCJ2YWxPdGhlciIsImdldE51bWVyaWNJZlVuaXRsZXNzIiwiVyIsInRvTnVtZXJpYyIsImZvcm1hdFVuaXRzIiwibWF0Y2hpbmdCYXNlIiwibWF0Y2hpbmdVbml0IiwicHJvcG9zZWRVbml0TGlzdCIsImtleTIiLCJjdXJyZW50VW5pdFN5c3RlbSIsIm1pc3NpbmdCYXNlRGltIiwidG9TSSIsIlVOSVRfU1lTVEVNUyIsInNpIiwic3RyTnVtIiwic3RyRGVuIiwibk51bSIsIm5EZW4iLCJfaTQiLCJzaW1wIiwiaXNJbWFnaW5hcnkiLCJWQVIiLCJWQSIsIl9iZXN0UHJlZml4IiwidW5pdFN0ciIsImFic1ZhbHVlIiwiYWJzVW5pdFZhbHVlIiwiYmVzdFByZWZpeCIsImJlc3REaWZmIiwic2NpZW50aWZpYyIsInNwbGl0VW5pdCIsInBhcnRzIiwieE51bWVyaWMiLCJ4Um91bmRlZCIsInRlc3RTdW0iLCJTSE9SVCIsImRhIiwiRyIsIlQiLCJaIiwiWSIsIkxPTkciLCJkZWNhIiwiaGVjdG8iLCJraWxvIiwibWVnYSIsImdpZ2EiLCJ0ZXJhIiwicGV0YSIsImV4YSIsInpldHRhIiwieW90dGEiLCJkZWNpIiwiY2VudGkiLCJtaWxsaSIsIm1pY3JvIiwibmFubyIsInBpY28iLCJmZW10byIsImF0dG8iLCJ6ZXB0byIsInlvY3RvIiwiU1FVQVJFRCIsIkNVQklDIiwiQklOQVJZX1NIT1JUX1NJIiwiQklOQVJZX1NIT1JUX0lFQyIsIktpIiwiTWkiLCJHaSIsIlRpIiwiUGkiLCJFaSIsIlppIiwiWWkiLCJCSU5BUllfTE9OR19TSSIsIkJJTkFSWV9MT05HX0lFQyIsImtpYmkiLCJtZWJpIiwiZ2liaSIsInRlYmkiLCJwZWJpIiwiZXhpIiwiemViaSIsInlvYmkiLCJCVFUiLCJNTSIsIlNIT1JUTE9ORyIsIl9leHRlbmRzIiwiQklOQVJZX1NIT1JUIiwiQklOQVJZX0xPTkciLCJNQVNTIiwiTEVOR1RIIiwiVElNRSIsIkNVUlJFTlQiLCJURU1QRVJBVFVSRSIsIkxVTUlOT1VTX0lOVEVOU0lUWSIsIkFNT1VOVF9PRl9TVUJTVEFOQ0UiLCJGT1JDRSIsIlNVUkZBQ0UiLCJWT0xVTUUiLCJFTkVSR1kiLCJQT1dFUiIsIlBSRVNTVVJFIiwiRUxFQ1RSSUNfQ0hBUkdFIiwiRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UiLCJFTEVDVFJJQ19QT1RFTlRJQUwiLCJFTEVDVFJJQ19SRVNJU1RBTkNFIiwiRUxFQ1RSSUNfSU5EVUNUQU5DRSIsIkVMRUNUUklDX0NPTkRVQ1RBTkNFIiwiTUFHTkVUSUNfRkxVWCIsIk1BR05FVElDX0ZMVVhfREVOU0lUWSIsIkZSRVFVRU5DWSIsIkFOR0xFIiwiQklUIiwibWV0ZXIiLCJpbmNoIiwiZm9vdCIsInlhcmQiLCJtaWxlIiwibGluayIsInJvZCIsImNoYWluIiwiYW5nc3Ryb20iLCJpbiIsImZ0IiwibWkiLCJsaSIsImNoIiwibWlsIiwibTIiLCJzcWluIiwic3FmdCIsInNxeWQiLCJzcW1pIiwic3FyZCIsInNxY2giLCJzcW1pbCIsImFjcmUiLCJoZWN0YXJlIiwibTMiLCJMIiwibGl0cmUiLCJjdWluIiwiY3VmdCIsImN1eWQiLCJ0ZWFzcG9vbiIsInRhYmxlc3Bvb24iLCJkcm9wIiwiZ3R0IiwibWluaW0iLCJmbHVpZGRyYW0iLCJmbHVpZG91bmNlIiwiZ2lsbCIsImNjIiwiY3VwIiwicGludCIsInF1YXJ0IiwiZ2FsbG9uIiwiYmVlcmJhcnJlbCIsIm9pbGJhcnJlbCIsImhvZ3NoZWFkIiwiZmxkciIsImZsb3oiLCJnaSIsImNwIiwicHQiLCJxdCIsImdhbCIsImJibCIsIm9ibCIsImdyYW0iLCJ0b24iLCJ0b25uZSIsImdyYWluIiwiZHJhbSIsIm91bmNlIiwicG91bmRtYXNzIiwiaHVuZHJlZHdlaWdodCIsInN0aWNrIiwic3RvbmUiLCJnciIsImRyIiwib3oiLCJsYm0iLCJjd3QiLCJzZWNvbmQiLCJtaW51dGUiLCJob3VyIiwiZGF5Iiwid2VlayIsIm1vbnRoIiwieWVhciIsImRlY2FkZSIsImNlbnR1cnkiLCJtaWxsZW5uaXVtIiwiaGVydHoiLCJyZWNpcHJvY2FsIiwiSHoiLCJyYWQiLCJyYWRpYW4iLCJkZWciLCJncmFkIiwiZ3JhZGlhbiIsImN5Y2xlIiwiYXJjc2VjIiwiYXJjbWluIiwiYW1wZXJlIiwiSyIsImRlZ0MiLCJkZWdGIiwiZGVnUiIsImtlbHZpbiIsImNlbHNpdXMiLCJmYWhyZW5oZWl0IiwicmFua2luZSIsIm1vbCIsIm1vbGUiLCJjZCIsImNhbmRlbGEiLCJuZXd0b24iLCJkeW4iLCJkeW5lIiwibGJmIiwicG91bmRmb3JjZSIsImtpcCIsImtpbG9ncmFtZm9yY2UiLCJKIiwiam91bGUiLCJlcmciLCJXaCIsImVWIiwiZWxlY3Ryb252b2x0Iiwid2F0dCIsImhwIiwiSSIsIlBhIiwicHNpIiwiYXRtIiwiYmFyIiwidG9yciIsIm1tSGciLCJtbUgyTyIsImNtSDJPIiwiY291bG9tYiIsImZhcmFkIiwiRiIsInZvbHQiLCJWIiwib2htIiwiaGVucnkiLCJIIiwic2llbWVucyIsIlMiLCJ3ZWJlciIsIldiIiwidGVzbGEiLCJiaXRzIiwiYnl0ZXMiLCJBTElBU0VTIiwibWV0ZXJzIiwiaW5jaGVzIiwiZmVldCIsInlhcmRzIiwibWlsZXMiLCJsaW5rcyIsInJvZHMiLCJjaGFpbnMiLCJhbmdzdHJvbXMiLCJsaXRyZXMiLCJsaXRlciIsImxpdGVycyIsInRlYXNwb29ucyIsInRhYmxlc3Bvb25zIiwibWluaW1zIiwiZmx1aWRkcmFtcyIsImZsdWlkb3VuY2VzIiwiZ2lsbHMiLCJjdXBzIiwicGludHMiLCJxdWFydHMiLCJnYWxsb25zIiwiYmVlcmJhcnJlbHMiLCJvaWxiYXJyZWxzIiwiaG9nc2hlYWRzIiwiZ3R0cyIsImdyYW1zIiwidG9ucyIsInRvbm5lcyIsImdyYWlucyIsImRyYW1zIiwib3VuY2VzIiwicG91bmRtYXNzZXMiLCJodW5kcmVkd2VpZ2h0cyIsInN0aWNrcyIsImxiIiwibGJzIiwia2lwcyIsImtnZiIsImFjcmVzIiwiaGVjdGFyZXMiLCJzcWZlZXQiLCJzcXlhcmQiLCJzcW1pbGUiLCJzcW1pbGVzIiwibW1oZyIsIm1taDJvIiwiY21oMm8iLCJzZWNvbmRzIiwic2VjcyIsIm1pbnV0ZXMiLCJtaW5zIiwiaG91cnMiLCJociIsImhycyIsImRheXMiLCJ3ZWVrcyIsIm1vbnRocyIsInllYXJzIiwiZGVjYWRlcyIsImNlbnR1cmllcyIsIm1pbGxlbm5pYSIsImdyYWRpYW5zIiwiY3ljbGVzIiwiYXJjc2Vjb25kIiwiYXJjc2Vjb25kcyIsImFyY21pbnV0ZSIsImFyY21pbnV0ZXMiLCJCVFVzIiwid2F0dHMiLCJqb3VsZXMiLCJhbXBlcmVzIiwiY291bG9tYnMiLCJ2b2x0cyIsIm9obXMiLCJmYXJhZHMiLCJ3ZWJlcnMiLCJ0ZXNsYXMiLCJlbGVjdHJvbnZvbHRzIiwibW9sZXMiLCJiaXQiLCJieXRlIiwiY29uZmlnMyIsImNyZWF0ZVBpIiwiY2dzIiwidXMiLCJfa2V5MiIsInNldFVuaXRTeXN0ZW0iLCJnZXRVbml0U3lzdGVtIiwiX2tleSIsInR5cGVDb252ZXJ0ZXJzIiwiX25hbWUyIiwiX3VuaXQyIiwiYWxpYXMiLCJfa2V5MyIsImNyZWF0ZVVuaXQiLCJvdmVycmlkZSIsIl9rZXk0IiwiZGVsZXRlVW5pdCIsImFsaWFzZXMiLCJsYXN0VW5pdCIsIl9rZXk1IiwiY3JlYXRlVW5pdFNpbmdsZSIsImRlZmluaXRpb24iLCJiYXNlTmFtZSIsImRlZlVuaXQiLCJuZXdVbml0IiwiYW55TWF0Y2giLCJfbmV3QmFzZVVuaXQiLCJuZXdCYXNlVW5pdCIsIl9pNiIsIl9pOCIsImFsaWFzTmFtZSIsIl9hbGlhcyIsIl9rZXk2IiwibnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4LCBzdHJpbmciLCJPYmplY3QsIE9iamVjdCIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCwgT2JqZWN0IiwiZGVmIiwic3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0IiwiYWxnb3JpdGhtMDQiLCJjcmVhdGVEb3QiLCJjb25qIiwiQXJyYXkgfCBEZW5zZU1hdHJpeCwgQXJyYXkgfCBEZW5zZU1hdHJpeCIsIl92YWxpZGF0ZURpbSIsImFJc0NvbHVtbiIsImJJc0NvbHVtbiIsImFkZDIiLCJtdWwyIiwiX2MyIiwiX2MyMiIsIl9jMyIsInhpbmRleCIsInh2YWx1ZXMiLCJ5aW5kZXgiLCJ5dmFsdWVzIiwieExlbiIsInlMZW4iLCJ4U2l6ZSIsInlTaXplIiwia2V5d29yZHMiLCJjcmVhdGVOb2RlIiwibWF0aFdpdGhUcmFuc2Zvcm0iLCJOb2RlMiIsImV2YWx1YXRlIiwiY29tcGlsZSIsImNvbW1lbnQiLCJleHByIiwiX2NvbXBpbGUiLCJzeW1ib2wiLCJtYXRoIiwiYXJnTmFtZXMiLCJfaWZOb2RlIiwidHJhdmVyc2UiLCJjYWxsYmFjazIiLCJwYXRoIiwidHJhbnNmb3JtIiwiX3RyYW5zZm9ybSIsImNsb25lRGVlcCIsImN1c3RvbVN0cmluZyIsImhhbmRsZXIiLCJfdG9TdHJpbmciLCJ0b0hUTUwiLCJ0b1RleCIsImN1c3RvbVRleCIsIl90b1RleCIsImdldElkZW50aWZpZXIiLCJnZXRDb250ZW50IiwiaXNPYmplY3RQcm9wZXJ0eSIsImdldE9iamVjdFByb3BlcnR5IiwiZXJyb3JUcmFuc2Zvcm0iLCJjcmVhdGVBY2Nlc3Nvck5vZGUiLCJOb2RlIiwiYWNjZXNzIiwiYWNjZXNzRmFjdG9yeSIsIkFjY2Vzc29yTm9kZSIsImJpbmQiLCJldmFsT2JqZWN0IiwiZXZhbEluZGV4IiwiY29udGV4dCIsIm5lZWRQYXJlbnRoZXNpcyIsImNyZWF0ZUFycmF5Tm9kZSIsIml0ZW1zIiwiQXJyYXlOb2RlIiwiZXZhbEl0ZW1zIiwiZXZhbEl0ZW0iLCJjaGlsZE5vZGUiLCJwcm9wZXJ0aWVzIiwiQXNzaWdubWVudE5vZGUiLCJGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiQ29uZGl0aW9uYWxOb2RlIiwibGF0ZXhMZWZ0UGFyZW5zIiwibGF0ZXhSaWdodFBhcmVucyIsImxhdGV4UGFyZW5zIiwiT3BlcmF0b3JOb2RlOm9yIiwiYXNzb2NpYXRpdml0eSIsImFzc29jaWF0aXZlV2l0aCIsIk9wZXJhdG9yTm9kZTp4b3IiLCJPcGVyYXRvck5vZGU6YW5kIiwiT3BlcmF0b3JOb2RlOmJpdE9yIiwiT3BlcmF0b3JOb2RlOmJpdFhvciIsIk9wZXJhdG9yTm9kZTpiaXRBbmQiLCJPcGVyYXRvck5vZGU6ZXF1YWwiLCJPcGVyYXRvck5vZGU6dW5lcXVhbCIsIk9wZXJhdG9yTm9kZTpzbWFsbGVyIiwiT3BlcmF0b3JOb2RlOmxhcmdlciIsIk9wZXJhdG9yTm9kZTpzbWFsbGVyRXEiLCJPcGVyYXRvck5vZGU6bGFyZ2VyRXEiLCJSZWxhdGlvbmFsTm9kZSIsIk9wZXJhdG9yTm9kZTpsZWZ0U2hpZnQiLCJPcGVyYXRvck5vZGU6cmlnaHRBcml0aFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0TG9nU2hpZnQiLCJPcGVyYXRvck5vZGU6dG8iLCJSYW5nZU5vZGUiLCJPcGVyYXRvck5vZGU6YWRkIiwiT3BlcmF0b3JOb2RlOnN1YnRyYWN0IiwiT3BlcmF0b3JOb2RlOm11bHRpcGx5IiwiT3BlcmF0b3JOb2RlOmRpdmlkZSIsIk9wZXJhdG9yTm9kZTpkb3RNdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkb3REaXZpZGUiLCJPcGVyYXRvck5vZGU6bW9kIiwiT3BlcmF0b3JOb2RlOnVuYXJ5UGx1cyIsIk9wZXJhdG9yTm9kZTp1bmFyeU1pbnVzIiwiT3BlcmF0b3JOb2RlOmJpdE5vdCIsIk9wZXJhdG9yTm9kZTpub3QiLCJPcGVyYXRvck5vZGU6cG93IiwiT3BlcmF0b3JOb2RlOmRvdFBvdyIsIk9wZXJhdG9yTm9kZTpmYWN0b3JpYWwiLCJPcGVyYXRvck5vZGU6dHJhbnNwb3NlIiwiX25vZGUiLCJwYXJlbnRoZXNpcyIsImlkZW50aWZpZXIiLCJnZXRQcmVjZWRlbmNlIiwibm9kZUEiLCJub2RlQiIsImlkZW50aWZpZXJBIiwiaWRlbnRpZmllckIiLCJjcmVhdGVBc3NpZ25tZW50Tm9kZSIsImFzc2lnbkZhY3RvcnkiLCJwcmVjZWRlbmNlIiwiZXhwclByZWNlZGVuY2UiLCJldmFsVmFsdWUiLCJzZXRTYWZlUHJvcGVydHkiLCJjaGlsZE9iamVjdCIsImV2YWxQYXJlbnRPYmplY3QiLCJwYXJlbnRQcm9wIiwiZXZhbFBhcmVudEluZGV4IiwicGFyZW50SW5kZXgiLCJjcmVhdGVCbG9ja05vZGUiLCJibG9ja3MiLCJCbG9ja05vZGUiLCJibG9jayIsInZpc2libGUiLCJldmFsQmxvY2tzIiwicmVzdWx0cyIsImNyZWF0ZUNvbmRpdGlvbmFsTm9kZSIsImNvbmRpdGlvbiIsInRydWVFeHByIiwiZmFsc2VFeHByIiwiZXZhbENvbmRpdGlvbiIsImV2YWxUcnVlRXhwciIsImV2YWxGYWxzZUV4cHIiLCJ0ZXN0Q29uZGl0aW9uIiwiY29uZGl0aW9uUHJlY2VkZW5jZSIsInRydWVQcmVjZWRlbmNlIiwiZmFsc2VQcmVjZWRlbmNlIiwiZGVmYXVsdEVzY2FwZXMiLCJ7IiwifSIsIlxcIiwiIyIsIiQiLCIlIiwiJiIsIl4iLCJfIiwifiIsImZvcm1hdEVzY2FwZXMiLCLigJMiLCLigJQiLCIgIiwiXHQiLCJcclxuIiwiXG4iLCJkZWZhdWx0RXNjYXBlTWFwRm4iLCJkZWZhdWx0RXNjYXBlczIiLCJmb3JtYXRFc2NhcGVzMiIsImxhdGV4U3ltYm9scyIsIkFscGhhIiwiQmV0YSIsImJldGEiLCJHYW1tYSIsImdhbW1hIiwiRGVsdGEiLCJkZWx0YSIsIkVwc2lsb24iLCJ2YXJlcHNpbG9uIiwiWmV0YSIsInpldGEiLCJFdGEiLCJldGEiLCJUaGV0YSIsInZhcnRoZXRhIiwiSW90YSIsImlvdGEiLCJLYXBwYSIsImthcHBhIiwidmFya2FwcGEiLCJMYW1iZGEiLCJNdSIsIm11IiwiTnUiLCJudSIsIlhpIiwiT21pY3JvbiIsIm9taWNyb24iLCJ2YXJwaSIsIlJobyIsInJobyIsInZhcnJobyIsIlNpZ21hIiwic2lnbWEiLCJ2YXJzaWdtYSIsIlRhdSIsInRhdSIsIlVwc2lsb24iLCJ1cHNpbG9uIiwiUGhpIiwidmFycGhpIiwiQ2hpIiwiY2hpIiwiUHNpIiwiT21lZ2EiLCJvbWVnYSIsInRydWUiLCJmYWxzZSIsIkluZiIsImluZmluaXR5Iiwib28iLCJsaW0iLCJ1bmRlZmluZWQiLCJsYXRleE9wZXJhdG9ycyIsImN0cmFuc3Bvc2UiLCJmYWN0b3JpYWwiLCJkb3RQb3ciLCJ1bmFyeVBsdXMiLCJiaXROb3QiLCJub3QiLCJkb3RNdWx0aXBseSIsImRvdERpdmlkZSIsImxlZnRTaGlmdCIsInJpZ2h0QXJpdGhTaGlmdCIsInJpZ2h0TG9nU2hpZnQiLCJ1bmVxdWFsIiwic21hbGxlckVxIiwibGFyZ2VyRXEiLCJiaXRBbmQiLCJiaXRYb3IiLCJiaXRPciIsImFuZCIsInhvciIsIm9yIiwibGF0ZXhGdW5jdGlvbnMiLCIxIiwiMiIsImN1YmUiLCJsb2cxcCIsIm5vcm0iLCJudGhSb290IiwibnRoUm9vdHMiLCJzcXVhcmUiLCJiZWxsTnVtYmVycyIsImNhdGFsYW4iLCJzdGlybGluZ1MyIiwiY3Jvc3MiLCJleHBtIiwiaW52Iiwic3FydG0iLCJjb21iaW5hdGlvbnMiLCJjb21iaW5hdGlvbnNXaXRoUmVwIiwiZXJmIiwidmFyaWFuY2UiLCIwIiwiY29tcGxleCIsInNwYXJzZSIsImxhdGV4VW5pdHMiLCJfcmVmJHByZXNlcnZlRm9ybWF0dGkiLCJwcmVzZXJ2ZUZvcm1hdHRpbmciLCJfcmVmJGVzY2FwZU1hcEZuIiwiZXNjYXBlTWFwRm4iLCJydW5uaW5nU3RyIiwiZXNjYXBlcyIsImVzY2FwZUtleXMiLCJfbG9vcCIsInNwZWNpYWxDaGFyRm91bmQiLCJlc2NhcGVMYXRleExpYiIsImlzVW5pdDIiLCJlc2NhcGVMYXRleCIsImNyZWF0ZUNvbnN0YW50Tm9kZSIsIkNvbnN0YW50Tm9kZSIsImNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGUiLCJjaGlsZEFyZ05hbWVzIiwiZXZhbEV4cHIiLCJjaGlsZEFyZ3MiLCJlc2NhcGUiLCJ0b1N5bWJvbCIsImNyZWF0ZUluZGV4Tm9kZSIsImRvdE5vdGF0aW9uIiwiSW5kZXhOb2RlIiwiZXZhbERpbWVuc2lvbnMiLCJuZWVkc0VuZCIsImV2YWxTdGFydCIsImV2YWxFbmQiLCJldmFsU3RlcCIsImNyZWF0ZVJhbmdlIiwiX2V2YWxTdGFydCIsIl9ldmFsRW5kIiwiX2V2YWxTdGVwIiwiX2NoaWxkQXJnTmFtZXMiLCJldmFsUmFuZ2UiLCJfZXZhbFJhbmdlIiwiZXZhbERpbWVuc2lvbiIsImNyZWF0ZU9iamVjdE5vZGUiLCJPYmplY3ROb2RlIiwiZXZhbEVudHJpZXMiLCJzdHJpbmdpZmllZEtleSIsInBhcnNlZEtleSIsImNyZWF0ZU9wZXJhdG9yTm9kZSIsIm9wIiwiaW1wbGljaXQiLCJPcGVyYXRvck5vZGUiLCJsYXRleCIsImdldEFzc29jaWF0aXZpdHkiLCJvcGVyYW5kUHJlY2VkZW5jZSIsIm9wZXJhbmRJZGVudGlmaWVyIiwicm9vdElkZW50aWZpZXIiLCJsaHNQYXJlbnMiLCJyaHNQYXJlbnMiLCJsaHNQcmVjZWRlbmNlIiwiYXNzb2NXaXRoTGhzIiwiaXNBc3NvY2lhdGl2ZVdpdGgiLCJfcm9vdElkZW50aWZpZXIiLCJsaHNJZGVudGlmaWVyIiwicmhzSWRlbnRpZmllciIsInJoc1ByZWNlZGVuY2UiLCJhc3NvY1dpdGhSaHMiLCJhcmdQcmVjZWRlbmNlIiwiYXNzb2NXaXRoQXJnIiwiYXJnQXNzb2NpYXRpdml0eSIsImlzUGFyZW50aGVzaXNOb2RlMiIsImV2YWxBcmdzIiwiZXZhbEFyZzAiLCJfZXZhbEFyZyIsImV2YWxBcmcxIiwiZXZhbEFyZyIsImlzVW5hcnkiLCJwYXJlbnMiLCJjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyIsImFzc29jIiwib3BlcmFuZCIsIm9wSXNOYW1lZCIsImxocyIsInJocyIsInN0cmluZ2lmaWVkQXJncyIsImxoc1RleCIsInJoc1RleCIsInRleGlmaWVkQXJncyIsImNyZWF0ZVBhcmVudGhlc2lzTm9kZSIsImNvbnRlbnQiLCJQYXJlbnRoZXNpc05vZGUiLCJjcmVhdGVSYW5nZU5vZGUiLCJzdGFydFByZWNlZGVuY2UiLCJzdGVwUHJlY2VkZW5jZSIsImVuZFByZWNlZGVuY2UiLCJjcmVhdGVSZWxhdGlvbmFsTm9kZSIsImNvbmRpdGlvbmFscyIsImlzUmVsYXRpb25hbE5vZGUiLCJzZWxmMiIsImNvbXBpbGVkIiwiZXZhbExocyIsImV2YWxSaHMiLCJjb25kRm4iLCJwYXJhbVN0cmluZ3MiLCJwYXJhbVByZWNlZGVuY2UiLCJvcGVyYXRvck1hcCIsIkJpZ051bWJlckRlcGVuZGVuY2llcyIsIkNvbXBsZXhEZXBlbmRlbmNpZXMiLCJNYXRyaXhEZXBlbmRlbmNpZXMiLCJEZW5zZU1hdHJpeERlcGVuZGVuY2llcyIsIkZyYWN0aW9uRGVwZW5kZW5jaWVzIiwidHlwZWREZXBlbmRlbmNpZXMiLCJlcXVhbFNjYWxhckRlcGVuZGVuY2llcyIsIlNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyIsIm51bWJlckRlcGVuZGVuY2llcyIsImZyYWN0aW9uRGVwZW5kZW5jaWVzIiwibWF0cml4RGVwZW5kZW5jaWVzIiwidW5hcnlNaW51c0RlcGVuZGVuY2llcyIsImFic0RlcGVuZGVuY2llcyIsImFkZFNjYWxhckRlcGVuZGVuY2llcyIsInJvdW5kRGVwZW5kZW5jaWVzIiwiemVyb3NEZXBlbmRlbmNpZXMiLCJtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyIsInNpemVEZXBlbmRlbmNpZXMiLCJtdWx0aXBseURlcGVuZGVuY2llcyIsImRvdERlcGVuZGVuY2llcyIsImNvbmpEZXBlbmRlbmNpZXMiLCJzdWJ0cmFjdERlcGVuZGVuY2llcyIsImxhcmdlckRlcGVuZGVuY2llcyIsImlkZW50aXR5RGVwZW5kZW5jaWVzIiwibnVtZXJpY0RlcGVuZGVuY2llcyIsImJpZ251bWJlckRlcGVuZGVuY2llcyIsImRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyIsInN1YnNldERlcGVuZGVuY2llcyIsIlVuaXREZXBlbmRlbmNpZXMiLCJlcXVhbERlcGVuZGVuY2llcyIsImZpeERlcGVuZGVuY2llcyIsImNlaWxEZXBlbmRlbmNpZXMiLCJmbG9vckRlcGVuZGVuY2llcyIsImZvcm1hdERlcGVuZGVuY2llcyIsImlzTnVtZXJpY0RlcGVuZGVuY2llcyIsInBvd0RlcGVuZGVuY2llcyIsIk5vZGVEZXBlbmRlbmNpZXMiLCJTeW1ib2xOb2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlU3ltYm9sTm9kZSIsIlN5bWJvbE5vZGUiLCJtYXRoMiIsInBhcnNlRGVwZW5kZW5jaWVzIiwiQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzIiwiQXJyYXlOb2RlRGVwZW5kZW5jaWVzIiwiQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMiLCJCbG9ja05vZGVEZXBlbmRlbmNpZXMiLCJSZXN1bHRTZXREZXBlbmRlbmNpZXMiLCJDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMiLCJDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMiLCJGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIiwiRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlRnVuY3Rpb25Ob2RlIiwiRnVuY3Rpb25Ob2RlIiwicmF3QXJncyIsIl9yYXdBcmdzIiwiZXZhbEZuIiwiX3Jhd0FyZ3MyIiwibm9kZVRvU3RyaW5nIiwidGVtcGxhdGUiLCJyZWdleCIsImlucHV0UG9zIiwiZXhlYyIsIlJlZmVyZW5jZUVycm9yIiwibm9kZVRvVGV4IiwibGF0ZXhDb252ZXJ0ZXIiLCJjdXN0b21Ub1RleCIsImV4cGFuZFRlbXBsYXRlIiwiSW5kZXhOb2RlRGVwZW5kZW5jaWVzIiwiUmFuZ2VEZXBlbmRlbmNpZXMiLCJPYmplY3ROb2RlRGVwZW5kZW5jaWVzIiwiT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzIiwiUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzIiwiUmFuZ2VOb2RlRGVwZW5kZW5jaWVzIiwiUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMiLCJjcmVhdGVQYXJzZSIsImV4cHJlc3Npb24iLCJwYXJzZVN0YXJ0IiwiZXhwcmVzc2lvbnMiLCJwYXJzZU11bHRpcGxlIiwiQXJyYXkgfCBNYXRyaXgsIE9iamVjdCIsImV4dHJhTm9kZXMiLCJUT0tFTlRZUEUiLCJERUxJTUlURVJTIiwiLCIsIigiLCIpIiwiWyIsIl0iLCJcIiIsIiciLCI7IiwiKyIsIi0iLCIqIiwiLioiLCIvIiwiLi8iLCIuXiIsIiEiLCJ8IiwiXnwiLCI9IiwiOiIsIj8iLCI9PSIsIiE9IiwiPCIsIj4iLCI8PSIsIj49IiwiPDwiLCI+PiIsIj4+PiIsIk5BTUVEX0RFTElNSVRFUlMiLCJDT05TVEFOVFMiLCJOVU1FUklDX0NPTlNUQU5UUyIsInN0YXRlIiwiY3VycmVudFN0cmluZyIsInRva2VuVHlwZSIsInRva2VuIiwiaXNXaGl0ZXNwYWNlIiwiY3VycmVudENoYXJhY3RlciIsIm5lc3RpbmdMZXZlbCIsImlzRGlnaXREb3QiLCJpc0hleERpZ2l0IiwiaXNEZWNpbWFsTWFyayIsIm5leHRDaGFyYWN0ZXIiLCJjcmVhdGVTeW50YXhFcnJvciIsImlzQWxwaGEiLCJwcmV2Q2hhcmFjdGVyIiwiY29uZGl0aW9uYWxMZXZlbCIsInBhcnNlQXNzaWdubWVudCIsInBhcnNlQmxvY2siLCJ2YWxpZCIsInBhcnNlTG9naWNhbFhvciIsInBhcnNlTG9naWNhbE9yIiwicGFyc2VDb25kaXRpb25hbCIsInBhcnNlTG9naWNhbEFuZCIsInBhcnNlQml0d2lzZU9yIiwicGFyc2VCaXR3aXNlWG9yIiwicGFyc2VCaXR3aXNlQW5kIiwicGFyc2VSZWxhdGlvbmFsIiwicGFyc2VTaGlmdCIsIm9wZXJhdG9ycyIsImNvbmQiLCJwYXJzZUNvbnZlcnNpb24iLCJwYXJzZVJhbmdlIiwicGFyc2VBZGRTdWJ0cmFjdCIsInBhcnNlTXVsdGlwbHlEaXZpZGUiLCJwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24iLCJwYXJzZVJ1bGUyIiwicGFyc2VVbmFyeSIsInRva2VuU3RhdGVzIiwiQ3VzdG9tTm9kZSIsInBhcnNlQWNjZXNzb3JzIiwicGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbiIsInBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVJvdyIsIm51bWJlclN0ciIsInBhcnNlRW5kIiwicGFyc2VQYXJlbnRoZXNlcyIsInBhcnNlT2JqZWN0IiwicGFyc2VNYXRyaXgiLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nIiwicGFyc2VTeW1ib2wiLCJwYXJzZUN1c3RvbU5vZGVzIiwicGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyIsInBhcnNlUG93IiwiY29sIiwiY2hhciIsImNQcmV2IiwiY05leHQiLCJpc1ZhbGlkTGF0aW5PckdyZWVrIiwiaXNWYWxpZE1hdGhTeW1ib2wiLCJjcmVhdGVFdmFsdWF0ZSIsImludkRlcGVuZGVuY2llcyIsImRldERlcGVuZGVuY2llcyIsImx1cERlcGVuZGVuY2llcyIsIlNwYURlcGVuZGVuY2llcyIsIkZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMiLCJzbWFsbGVyRGVwZW5kZW5jaWVzIiwiY3JlYXRlTHVwIiwiX2RlbnNlTFVQIiwibHZhbHVlcyIsImxpbmRleCIsImxwdHIiLCJsc2l6ZSIsInV2YWx1ZXMiLCJ1aW5kZXgiLCJ1cHRyIiwidXNpemUiLCJwdkNvIiwicHZPYyIsInN3YXBJbmRlY2VzIiwic3BhIiwiazIiLCJ2a2oiLCJ2aWsiLCJ2amoiLCJwYWJzdiIsImFic3YiLCJVIiwiX3NwYXJzZUxVUCIsImxkYXRhIiwidWRhdGEiLCJ2aWoiLCJjcmVhdGVEZXQiLCJsdXAiLCJtYXRyaXgyIiwiZGVjb21wIiwiZXZlbkN5Y2xlcyIsInZpc2l0ZWQiLCJfZGV0IiwiY3JlYXRlSW52IiwiX2ludiIsIm1hdCIsIkFCaWciLCJyQmlnIiwiQWMiLCJCYyIsIkFyIiwiQnIiLCJjcmVhdGVEaXZpZGUiLCJBcnJheSB8IE1hdHJpeCwgQXJyYXkgfCBNYXRyaXgiLCJhbnksIEFycmF5IHwgTWF0cml4IiwiY3R4Iiwib25jZSIsIm9mZiIsImxpc3RlbmVyIiwiZW1pdCIsImV2dEFyciIsImV2dHMiLCJsaXZlRXZlbnRzIiwidGlueUVtaXR0ZXJNb2R1bGUiLCJlYWNoIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwibm9kZVR5cGUiLCJFTEVNRU5UX05PREUiLCJlbCIsInNoZWV0Iiwic2VsZWN0b3IiLCJydWxlcyIsImluc2VydFJ1bGUiLCJhZGRSdWxlIiwiZmF0YWwiLCJVaW50MTZBcnJheSIsImZyb21DaGFyQ29kZSIsInN1YmFycmF5IiwiVGV4dEVuY29kZXIiLCJUZXh0RGVjb2RlciIsImVuY29kZSIsInN0cmVhbSIsIlVpbnQ4QXJyYXkiLCJCdWZmZXIiLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIkJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwicmVzcG9uc2VUZXh0IiwicmV2b2tlT2JqZWN0VVJMIiwiZGVjb2RlIiwiQXJyYXlCdWZmZXIiLCJ3aW5kb3ciLCJnbG9iYWwiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJlbGVtZW50IiwiYm91bmRzIiwiQm91bmRzIiwicmVmZXJlbmNlRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkb2NFbCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJkb2N1bWVudDIiLCJkb2N1bWVudEVsZW1lbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJib2R5U3R5bGUiLCJvZmZzZXRUb3AiLCJtYXJnaW5Ub3AiLCJvZmZzZXRMZWZ0IiwibWFyZ2luTGVmdCIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImNsaWVudEhlaWdodCIsImdldERvY3VtZW50Qm91bmRzIiwiZGVmYXVsdFZpZXciLCJjb21wdXRlZFN0eWxlIiwib2Zmc2V0UGFyZW50IiwicHJldkNvbXB1dGVkU3R5bGUiLCJjb250YWlucyIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJ2aWV3cG9ydFRlc3RlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImh0bWwiLCJ3cmFwcGVyIiwiaW5uZXJIVE1MIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInN0eWxlIiwidmlzaWJpbGl0eSIsInBvaW50ZXJFdmVudHMiLCJleHBvcnRzMiIsIk5FV0VSIiwiT0xERVIiLCJvbGRlc3QiLCJuZXdlc3QiLCJfa2V5bWFwIiwib2xkZXN0RW50cnkiLCJMUlVNYXAiLCJfbWFya0VudHJ5QXNVc2VkIiwiTUFYX1ZBTFVFIiwiaXQiLCJpdGVyYXRvciIsIml0diIsImRvbmUiLCJFbnRyeSIsImVudCIsIktleUl0ZXJhdG9yIiwiVmFsdWVJdGVyYXRvciIsIkVudHJ5SXRlcmF0b3IiLCJmdW4iLCJ0aGlzT2JqIiwic2VyaWFsaXplQXR0cmlidXRlVmFsdWUiLCJ0YWdOYW1lIiwibmFtZXNwYWNlVVJJIiwib3V0cHV0IiwiY2hpbGROb2RlcyIsIm5vZGVUcmVlVG9YSFRNTCIsInJlcGxhY2VkIiwicmVwbGFjZXIiLCJub2RlTmFtZSIsInNlcmlhbGl6ZUNoaWxkcmVuIiwiZ2V0VGFnTmFtZSIsImlzUm9vdE5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJzZXJpYWxpemVOYW1lc3BhY2UiLCJkZXB0aCIsImF0dHIiLCJhdHRyaWJ1dGVzIiwic2VyaWFsaXplQXR0cmlidXRlIiwic2VyaWFsaXplVGFnIiwibm9kZVZhbHVlIiwic2VyaWFsaXplVGV4dCIsInNlcmlhbGl6ZUNEQVRBIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJkaWdlc3RMZW5ndGgiLCJibG9ja1NpemUiLCJwb3MiLCJIYXNoIiwiSW50MzJBcnJheSIsImJ1ZmZlckxlbmd0aCIsImJ5dGVzSGFzaGVkIiwiZmluaXNoZWQiLCJyZXNldCIsImNsZWFuIiwiZGF0YUxlbmd0aCIsImRhdGFQb3MiLCJoYXNoQmxvY2tzIiwiZmluaXNoIiwib3V0IiwiYml0TGVuSGkiLCJiaXRMZW5MbyIsInBhZExlbmd0aCIsImRpZ2VzdCIsIl9zYXZlU3RhdGUiLCJfcmVzdG9yZVN0YXRlIiwiSGFzaDIiLCJITUFDIiwiaW5uZXIiLCJwYWQiLCJpc3RhdGUiLCJvc3RhdGUiLCJITUFDMiIsImhtYWMyIiwiaW5mbyIsImNvdW50ZXIiLCJobWFjIiwiaGtkZlNhbHQiLCJzYWx0Iiwib2ttIiwiaG1hY18iLCJidWZwb3MiLCJmaWxsIiwicGFzc3dvcmQiLCJpdGVyYXRpb25zIiwiZGtMZW4iLCJwcmYiLCJjdHIiLCJkayIsImhrZGYiLCJwYmtkZjIiLCJzaGEyNTYyIiwiZXZlbnRDYWxsYmFjayIsImhvdmVyIiwiYWN0aXZlIiwiZm9jdXMiLCJJbWFnZSIsIkVkZ2VzIiwiZWxlbWVudDIiLCJsYXllciIsIldlYlJlbmRlcmVyIiwibGF5ZXJzIiwiZXh0cmFTdHlsZSIsImFkZGVkU3R5bGUiLCJ0YWciLCJnZXRBdHRyaWJ1dGUiLCJFTEVNRU5UX1VJRF9BVFRSSUJVVEUiLCJnZW5lcmF0ZUVsZW1lbnRVSUQiLCJzZXRBdHRyaWJ1dGUiLCJMQVlFUl9BVFRSSUJVVEUiLCJwYXJlbnRMYXllciIsImdldENsb3Nlc3RMYXllciIsImNhY2hlZENhbnZhc2VzIiwiX1dlYkxheWVyIiwiREVGQVVMVF9DQUNIRV9TSVpFIiwiX2hhc2hpbmdDYW52YXMiLCJ2YWwiLCJfY2FudmFzIiwicm9vdExheWVyIiwidHJhdmVyc2VQYXJlbnRMYXllcnMiLCJ0cmF2ZXJzZUNoaWxkTGF5ZXJzIiwiY2hpbGRMYXllcnMiLCJ0cmF2ZXJzZUxheWVycyIsIm5lZWRzUmVmcmVzaCIsIl91cGRhdGVQYXJlbnRBbmRDaGlsZExheWVycyIsImFkZFRvU2VyaWFsaXplUXVldWUiLCJvbGRDaGlsZExheWVycyIsInByZXZpb3VzUGFyZW50TGF5ZXIiLCJfdHJ5Q29udmVydEVsZW1lbnRUb1dlYkxheWVyIiwibmVlZHNSZW1vdmFsIiwic3R5bGVzIiwicGFkZGluZyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW4iLCJtYXJnaW5SaWdodCIsIm1hcmdpbkJvdHRvbSIsImJvcmRlciIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsImVsZW1lbnRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVIVE1MIiwibGF5ZXJFbGVtZW50IiwibmVlZHNJbmxpbmVCbG9jayIsImRpc3BsYXkiLCJ1cGRhdGVJbnB1dEF0dHJpYnV0ZXMiLCJsYXllckhUTUwiLCJzZXJpYWxpemF0aW9uUmVwbGFjZXIiLCJSRU5ERVJJTkdfQVRUUklCVVRFIiwiUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEUiLCJnZXRQc3VlZG9BdHRyaWJ1dGVzIiwicHNldWRvU3RhdGVzIiwicGFyZW50c0hUTUwiLCJfZ2V0UGFyZW50c0hUTUwiLCJSRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFIiwic3ZnQ1NTIiwiUHJvbWlzZSIsImFsbCIsImdldEVtYmVkZGVkQ1NTIiwiZW1iZWRFeHRlcm5hbFJlc291cmNlcyIsImRvY1N0cmluZyIsInN2Z0RvYyIsIl9zdmdEb2N1bWVudCIsImNhbnZhc0hhc2giLCJjYW52YXNIYXNoZXMiLCJjYW52YXMiLCJjYWNoZWRCb3VuZHMiLCJjYWNoZWRNYXJnaW4iLCJhZGRUb1Jhc3Rlcml6ZVF1ZXVlIiwic3ZnSW1hZ2UiLCJvbmxvYWQiLCJhZGRUb1JlbmRlclF1ZXVlIiwiX3Jhc3Rlcml6aW5nRG9jdW1lbnQiLCJzcmMiLCJfc3ZnU3JjIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY29tcGxldGUiLCJjdXJyZW50U3JjIiwiaGFzaGluZ0NhbnZhcyIsImh3IiwiaGgiLCJoY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImRyYXdJbWFnZSIsImhhc2hEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsInNoYTI1Ni5oYXNoIiwiYmxhbmtSZXRyeUNvdW50IiwiYmxhbmtSZXRyeUNvdW50cyIsImlzQmxhbmtJbWFnZSIsInBpeGVsUmF0aW8iLCJQSVhFTF9SQVRJT19BVFRSSUJVVEUiLCJkZXZpY2VQaXhlbFJhdGlvIiwibmV3Q2FudmFzIiwib3BlbnMiLCJjbG9zZXMiLCJSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSIsImNsb3NlIiwiV2ViTGF5ZXIiLCJSZXNpemVPYnNlcnZlckJveE9wdGlvbnMiLCJSZXNpemVPYnNlcnZlckJveE9wdGlvbnMyIiwicmVzaXplT2JzZXJ2ZXJzIiwibXNnIiwidHJpZ2dlciIsIlJlc2l6ZU9ic2VydmVyU2l6ZSIsImlubGluZVNpemUiLCJET01SZWN0UmVhZE9ubHkiLCJmcm9tUmVjdCIsInJlY3RhbmdsZSIsIkRPTVJlY3RSZWFkT25seTIiLCJpc1NWRyIsIlNWR0VsZW1lbnQiLCJpc0hpZGRlbiIsImdldEJCb3giLCJnZXRDbGllbnRSZWN0cyIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJXZWFrTWFwIiwic2Nyb2xsUmVnZXhwIiwidmVydGljYWxSZWdleHAiLCJJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBhcnNlRGltZW5zaW9uIiwicGl4ZWwiLCJzd2l0Y2hTaXplcyIsInplcm9Cb3hlcyIsImRldmljZVBpeGVsQ29udGVudEJveFNpemUiLCJib3JkZXJCb3hTaXplIiwiY29udGVudEJveFNpemUiLCJjb250ZW50UmVjdCIsImNhbGN1bGF0ZUJveFNpemVzIiwiZm9yY2VSZWNhbGN1bGF0aW9uIiwiY3MiLCJzdmciLCJvd25lclNWR0VsZW1lbnQiLCJyZW1vdmVQYWRkaW5nIiwiYm94U2l6aW5nIiwid3JpdGluZ01vZGUiLCJjYW5TY3JvbGxWZXJ0aWNhbGx5Iiwib3ZlcmZsb3dZIiwiY2FuU2Nyb2xsSG9yaXpvbnRhbGx5Iiwib3ZlcmZsb3dYIiwiYm9yZGVyVG9wIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJCb3R0b20iLCJob3Jpem9udGFsUGFkZGluZyIsInZlcnRpY2FsUGFkZGluZyIsImhvcml6b250YWxCb3JkZXJBcmVhIiwidmVydGljYWxCb3JkZXJBcmVhIiwiaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyIsInZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzIiwid2lkdGhSZWR1Y3Rpb24iLCJoZWlnaHRSZWR1Y3Rpb24iLCJjb250ZW50V2lkdGgiLCJjb250ZW50SGVpZ2h0IiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJib3hlcyIsImNhbGN1bGF0ZUJveFNpemUiLCJvYnNlcnZlZEJveCIsIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWCIsIkJPUkRFUl9CT1giLCJSZXNpemVPYnNlcnZlckVudHJ5IiwiY2FsY3VsYXRlRGVwdGhGb3JOb2RlIiwicGFyZW50Tm9kZSIsImJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyIsInNoYWxsb3dlc3REZXB0aCIsImNhbGxiYWNrczIiLCJybyIsImFjdGl2ZVRhcmdldHMiLCJvdCIsInRhcmdldERlcHRoIiwibGFzdFJlcG9ydGVkU2l6ZSIsIm9ic2VydmVyIiwiY2FsbGJhY2tzXzEiLCJnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIiwic2tpcHBlZFRhcmdldHMiLCJvYnNlcnZhdGlvblRhcmdldHMiLCJpc0FjdGl2ZSIsInByb2Nlc3MiLCJldmVudCIsIkVycm9yRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJjYWxsYmFja3MiLCJxdWV1ZU1pY3JvVGFzayIsInRvZ2dsZV8xIiwiZWxfMSIsImNyZWF0ZVRleHROb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsImNiMiIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwidGV4dENvbnRlbnQiLCJ3YXRjaGluZyIsIm9ic2VydmVyQ29uZmlnIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImV2ZW50cyIsInRpbWUiLCJ0aW1lb3V0Iiwibm93Iiwic2NoZWR1bGVkIiwic2NoZWR1bGVyIiwiX3RoaXMiLCJzdG9wcGVkIiwic2NoZWR1bGUiLCJydW4iLCJ1bnRpbCIsImVsZW1lbnRzSGF2ZVJlc2l6ZWQiLCJzdG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3QiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU2NoZWR1bGVyMiIsInVwZGF0ZUNvdW50IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJDT05URU5UX0JPWCIsImlzUmVwbGFjZWRFbGVtZW50IiwiUmVzaXplT2JzZXJ2YXRpb24yIiwiUmVzaXplT2JzZXJ2ZXJEZXRhaWwiLCJyZXNpemVPYnNlcnZlciIsIm9ic2VydmVyTWFwIiwiZ2V0T2JzZXJ2YXRpb25JbmRleCIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciIsImNvbm5lY3QiLCJkZXRhaWwiLCJmaXJzdE9ic2VydmF0aW9uIiwiYm94IiwidW5vYnNlcnZlIiwibGFzdE9ic2VydmF0aW9uIiwiUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyMiIsIlJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIyIiwic2VsZiIsIlBvbHlmaWxsIiwic2NyYXRjaE1hdDEiLCJzY3JhdGNoTWF0MiIsInRleHREZWNvZGVyIiwiQVRUUklCVVRFX1BSRUZJWCIsIl9uZXh0VUlEIiwic3RhdGVzIiwiSE9WRVJfQVRUUklCVVRFIiwiRk9DVVNfQVRUUklCVVRFIiwiQUNUSVZFX0FUVFJJQlVURSIsIlRBUkdFVF9BVFRSSUJVVEUiLCJyb290Tm9kZSIsImdldFJvb3ROb2RlIiwic3R5bGVSb290IiwiaGVhZCIsInJvb3ROb2RlT2JzZXJ2ZXJzIiwiYXBwZW5kIiwiX1dlYlJlbmRlcmVyIiwicHJldmlvdXNIYXNoIiwib25IYXNoQ2hhbmdlIiwibG9jYXRpb24iLCJ0YXJnZXRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImV2dCIsImZvY3VzRWxlbWVudCIsInNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzIiwic2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQiLCJTVFlMRV9OT0RFUyIsIm11dGF0aW9ucyIsImVtYmVkZGVkQ1NTIiwiYWRkZWROb2RlcyIsImF0dHJpYnV0ZU9sZFZhbHVlIiwiY2hhcmFjdGVyRGF0YU9sZFZhbHVlIiwic2VyaWFsaXplUXVldWUiLCJyYXN0ZXJpemVRdWV1ZSIsInJlbmRlclF1ZXVlIiwidGFza3NQZW5kaW5nIiwibWF4U3luY1RpbWUiLCJUQVNLX1NZTkNfTUFYX1RJTUUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsInJlbmRlciIsInNlcmlhbGl6ZSIsInJhc3Rlcml6ZVRhc2tDb3VudCIsIlRBU0tfQVNZTkNfTUFYX0NPVU5UIiwicmFzdGVyaXplIiwidGhlbiIsInNjaGVkdWxlSWRsZSIsIl9ydW5UYXNrcyIsImhvc3QiLCJjb250YWluZXIiLCJSRU5ERVJJTkdfQ09OVEFJTkVSX0FUVFJJQlVURSIsImFwcGVuZENoaWxkIiwiaW5pdFJvb3ROb2RlT2JzZXJ2YXRpb24iLCJfaGFuZGxlTXV0YXRpb25zIiwibXV0YXRpb25PYnNlcnZlcnMiLCJzdGFydE11dGF0aW9uT2JzZXJ2ZXIiLCJyZWNvcmQiLCJyZWNvcmRzIiwibGF5ZXIyIiwic2V0TGF5ZXJOZWVkc1JlZnJlc2giLCJfdHJpZ2dlclJlZnJlc2giLCJjYXB0dXJlIiwicm9vdExheWVycyIsImNsb3Nlc3RMYXllckVsZW1lbnQiLCJjbG9zZXN0IiwicGl4ZWxTaXplIiwidHJhbnNmb3JtT3JpZ2luIiwib3JpZ2luIiwib3giLCJveSIsIlQxIiwibWFrZVRyYW5zbGF0aW9uIiwiVDIiLCJwcmVtdWx0aXBseSIsInByb21pc2VzIiwicXVlcnlTZWxlY3RvckFsbCIsImdldEF0dHJpYnV0ZU5TIiwiZ2V0RGF0YVVSTCIsInJlbW92ZUF0dHJpYnV0ZU5TIiwiZGF0YVVSTCIsImltZ0VsZW1lbnQiLCJnZW5lcmF0ZUVtYmVkZGVkQ1NTIiwiaHJlZiIsImNzcyIsInRha2VSZWNvcmRzIiwic2hlZXRzIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsIm5ld1J1bGVzIiwiY3NzVGV4dCIsImJpbmFyeSIsImJ0b2EiLCJ1cmwiLCJmb3VuZCIsImF0dHJpYnV0ZUNTUyIsInJlZ0V4IiwicmVzb3VyY2VVUkwiLCJ4aHIiLCJyZXNwb25zZVR5cGUiLCJvbmVycm9yIiwiZW1iZWRkZWQiLCJzdHlsZUVsZW1lbnRzIiwiZm91bmROZXdTdHlsZXMiLCJydWxlIiwiZ2V0VVJMIiwicmVzcG9uc2UiLCJfYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMiLCJjb250ZW50VHlwZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiYmFzZTY0IiwiX3VwZGF0ZUlucHV0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnB1dEVsZW1lbnQiLCJjaGVja2VkIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1hZ2VEYXRhIiwiY29sb3IiLCJzZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsImFjdGl2ZUVsZW1lbnQiLCJhdHRyaWJ1dGVOYW1lIiwib2xkVmFsdWUiLCJjbGFzc05hbWUiLCJhc3luYyIsIlRIUkVFIiwiX1RIUkVFIiwic2NyYXRjaE1hdHJpeCIsInNjcmF0Y2hWZWN0b3IiLCJzY3JhdGNoVmVjdG9yMiIsInNjcmF0Y2hCb3VuZHMiLCJzY3JhdGNoQm91bmRzMiIsIk9OX0JFRk9SRV9VUERBVEUiLCJPYmplY3QzRCIsIk1lc2giLCJXZWJMYXllcjNEIiwiR0VPTUVUUlkiLCJNZXNoQmFzaWNNYXRlcmlhbCIsInNpZGUiLCJEb3VibGVTaWRlIiwidHJhbnNwYXJlbnQiLCJhbHBoYVRlc3QiLCJvcGFjaXR5IiwiTWVzaERlcHRoTWF0ZXJpYWwiLCJkZXB0aFBhY2tpbmciLCJSR0JBRGVwdGhQYWNraW5nIiwiX3dlYkxheWVyIiwiY29udGVudE1lc2giLCJfYm91bmRzTWVzaCIsImN1cnNvciIsIm1hdHJpeEF1dG9VcGRhdGUiLCJkZXB0aE1hdGVyaWFsIiwib25CZWZvcmVSZW5kZXIiLCJyZW5kZXJlciIsInNjZW5lIiwiX2NhbWVyYSIsImxheWVyc0J5RWxlbWVudCIsImxheWVyc0J5TWVzaCIsInZpZGVvIiwidGV4dHVyZXMiLCJWaWRlb1RleHR1cmUiLCJ3cmFwUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJ3cmFwVCIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsInRleHR1cmVFbmNvZGluZyIsImVuY29kaW5nIiwidGV4dHVyZU5lZWRzVXBkYXRlIiwibmVlZHNVcGRhdGUiLCJUZXh0dXJlIiwicGFyZW50V2ViTGF5ZXIiLCJjaGlsZFdlYkxheWVycyIsInJlZnJlc2giLCJnZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50IiwiX3JlZnJlc2hWaWRlb0JvdW5kcyIsIl9yZWZyZXNoRE9NTGF5b3V0IiwiZG9tTGF5b3V0IiwiZG9tU2l6ZSIsIm1lc2giLCJ0ZXh0dXJlIiwiY3VycmVudFRleHR1cmUiLCJtYXRlcmlhbCIsImltYWdlIiwiZGVwdGhXcml0ZSIsImlzSGlkZGVuMiIsImRpc3Bvc2UiLCJfbG9jYWxaIiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwiX3ZpZXdaIiwiZ2V0V29ybGRQb3NpdGlvbiIsInBhcmVudFJlbmRlcloiLCJfcmVuZGVyWiIsInJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXJPZmZzZXQiLCJ1cGRhdGVDb250ZW50IiwidXBkYXRlTGF5b3V0IiwiYXV0b1JlZnJlc2giLCJzY2hlZHVsZVRhc2tzSWZOZWVkZWQiLCJ0cmF2ZXJzZUxheWVyc1ByZU9yZGVyIiwiX2RvVXBkYXRlIiwidHJhdmVyc2VMYXllckFuY2VzdG9ycyIsInRyYXZlcnNlTGF5ZXJzUG9zdE9yZGVyIiwiZ2VvbWV0cnkiLCJkaXNwb3NlTGF5ZXIiLCJvYmplY3RGaXQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwidmlkZW9SYXRpbyIsInZpZXdSYXRpbyIsInJlcGVhdCIsImNsYW1wU2NhbGFyIiwiREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQiLCJzaG91bGRBcHBseURPTUxheW91dCIsInBhcmVudEJvdW5kcyIsIldlYkxheWVyM0RDb250ZW50IiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImdldFZpZXdwb3J0Qm91bmRzIiwibGVmdEVkZ2UiLCJ0b3BFZGdlIiwiY3NzVHJhbnNmb3JtIiwicGFyc2VDU1NUcmFuc2Zvcm0iLCJ1cGRhdGVNYXRyaXgiLCJkZWNvbXBvc2UiLCJlbGVtZW50T3JIVE1MIiwiUmF5Y2FzdGVyIiwiU2V0IiwiX3ByZXZpb3VzSG92ZXJMYXllcnMiLCJfY29udGVudE1lc2hlcyIsIkRPTSIsImNyZWF0ZUxheWVyVHJlZSIsIl91cGRhdGVJbnRlcmFjdGlvbnMiLCJpc1Jvb3QiLCJvbkxheWVyQ3JlYXRlIiwiX1dlYkxheWVyM0QiLCJzaG91bGQiLCJfaW50ZXJhY3Rpb25SYXlzIiwicmF5cyIsImFMYXllciIsImJMYXllciIsInByZXZIb3ZlciIsIl9wcmVwYXJlSGl0VGVzdCIsInJheSIsIlJheSIsIl9yYXljYXN0ZXIiLCJnZXRXb3JsZERpcmVjdGlvbiIsIl9oaXRJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsImludGVyc2VjdE9iamVjdHMiLCJfaW50ZXJzZWN0aW9uU29ydCIsImludGVyc2VjdGlvbiIsInBvaW50Iiwic2V0TmVlZHNSZWZyZXNoIiwicmF5Y2FzdGVyIiwibWVzaE1hcCIsImludGVyc2VjdE9iamVjdCIsImxheWVyQm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRzIiwiY2xpZW50WCIsInV2IiwiY2xpZW50WSIsImVsZW1lbnRCb3VuZGluZ1JlY3QiLCJERUZBVUxUX0xBWUVSX1NFUEFSQVRJT04iLCJQbGFuZUdlb21ldHJ5IiwiSHVic0FwcCIsIkh1YnNBcHBQcm90byIsIkFwcCIsImluaXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxPQUFPLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFO0FBQ3hDLElBQUksTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMxQyxR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QUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDekMsSUFBSSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUIsSUFBSSxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUU7QUFDeEIsUUFBUSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxHQUFHLENBQUMsQ0FBQztBQUM5RCxLQUFLO0FBQ0wsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssWUFBWSxNQUFNLENBQUMsQ0FBQztBQUM3RCxJQUFJLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDeEMsSUFBSSxNQUFNLElBQUksR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLFVBQVUsR0FBRyxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQzlFLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNsQyxRQUFRLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyQyxLQUFLO0FBQ0wsU0FBUyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFFO0FBQzFDLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLFVBQVUsR0FBRyxLQUFLLEVBQUU7QUFDeEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDN0MsSUFBSSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENB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
