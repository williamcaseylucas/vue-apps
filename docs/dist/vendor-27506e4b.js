/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject(value) ? reactive(value) : value;
const toReadonly = (value) => isObject(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
    else if (target !== rawTarget) {
        // #3602 readonly(reactive(Map))
        // ensure that the nested reactive `Map` can do tracking for itself
        target.get(key);
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function markRaw(value) {
    def(value, "__v_skip" /* SKIP */, true);
    return value;
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job && job.active !== false) {
                if (("production" !== 'production') && checkRecursiveUpdates(seen, job)) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length ||
            pendingPreFlushCbs.length ||
            pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            const instance = fn.ownerInstance;
            const componentName = instance && getComponentName(instance.type);
            warn(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
            return true;
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment: Comment$1,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}
const globalCompatConfig = {
    MODE: 2
};
function getCompatConfigForKey(key, instance) {
    const instanceConfig = instance && instance.type.compatConfig;
    if (instanceConfig && key in instanceConfig) {
        return instanceConfig[key];
    }
    return globalCompatConfig[key];
}
function isCompatEnabled(key, instance, enableForBuiltIn = false) {
    // skip compat for built-in components
    if (!enableForBuiltIn && instance && instance.type.__isBuiltIn) {
        return false;
    }
    const rawMode = getCompatConfigForKey('MODE', instance) || 2;
    const val = getCompatConfigForKey(key, instance);
    const mode = isFunction(rawMode)
        ? rawMode(instance && instance.type)
        : rawMode;
    if (mode === 2) {
        return val !== false;
    }
    else {
        return val === true || val === 'suppress-warning';
    }
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            instance.emitted = {};
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        instance.emitted[handlerName] = true;
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.emitsCache;
    const cached = cache.get(comp);
    if (cached !== undefined) {
        return cached;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, null);
        return null;
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    cache.set(comp, normalized);
    return normalized;
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only
) {
    if (!ctx)
        return fn;
    // already normalized
    if (fn._n) {
        return fn;
    }
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we disable block tracking and
        // force bail out when invoking a compiled slot (indicated by the ._d flag).
        // This isn't necessary if rendering a compiled `<slot>`, so we flip the
        // ._d flag off when invoking the wrapped fn inside `renderSlot`.
        if (renderFnWithContext._d) {
            setBlockTracking(-1);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (renderFnWithContext._d) {
            setBlockTracking(1);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentUpdated(ctx);
        }
        return res;
    };
    // mark normalized to avoid duplicated wrapping
    renderFnWithContext._n = true;
    // mark this as compiled by default
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    // disable block tracking by default
    renderFnWithContext._d = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (fallthroughAttrs && inheritAttrs !== false) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment$1) ;
            }
        }
        if (false &&
            isCompatEnabled("INSTANCE_ATTRS_CLASS_STYLE" /* INSTANCE_ATTRS_CLASS_STYLE */, instance) &&
            vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */ &&
            (root.shapeFlag & 1 /* ELEMENT */ ||
                root.shapeFlag & 6 /* COMPONENT */)) ;
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment$1);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment$1 || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment$1 // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue.call(instance.proxy)
                : defaultValue;
        }
        else ;
    }
}
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    let isMultiSource = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        isMultiSource = true;
        forceTrigger = source.some(isReactive);
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep ||
                forceTrigger ||
                (isMultiSource
                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))
                    : hasChanged(newValue, oldValue)) ||
                (false  )) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job; // the scheduler function gets called directly
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, value, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? source.includes('.')
            ? createPathGetter(publicThis, source)
            : () => publicThis[source]
        : source.bind(publicThis, publicThis);
    let cb;
    if (isFunction(value)) {
        cb = value;
    }
    else {
        cb = value.handler;
        options = value;
    }
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function traverse(value, seen = new Set()) {
    if (!isObject(value) ||
        seen.has(value) ||
        value["__v_skip" /* SKIP */]) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else if (isPlainObject(value)) {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)
(!isInSSRComponentSetup || lifecycle === "sp" /* SERVER_PREFETCH */) &&
    injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onServerPrefetch = createHook("sp" /* SERVER_PREFETCH */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
function onErrorCaptured(hook, target = currentInstance) {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
}
let shouldCacheAccess = true;
function applyOptions(instance) {
    const options = resolveMergedOptions(instance);
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    // do not cache property access on public proxy during state initialization
    shouldCacheAccess = false;
    // call beforeCreate first before accessing other options since
    // the hook may mutate resolved options (#2791)
    if (options.beforeCreate) {
        callHook(options.beforeCreate, instance, "bc" /* BEFORE_CREATE */);
    }
    const { 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // lifecycle
    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, 
    // public API
    expose, inheritAttrs, 
    // assets
    components, directives, filters } = options;
    const checkDuplicateProperties = null;
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        resolveInjections(injectOptions, ctx, checkDuplicateProperties);
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (dataOptions) {
        const data = dataOptions.call(publicThis, publicThis);
        if (!isObject(data)) ;
        else {
            instance.data = reactive(data);
        }
    }
    // state initialization complete at this point - start caching access
    shouldCacheAccess = true;
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        for (const key in watchOptions) {
            createWatcher(watchOptions[key], ctx, publicThis, key);
        }
    }
    if (provideOptions) {
        const provides = isFunction(provideOptions)
            ? provideOptions.call(publicThis)
            : provideOptions;
        Reflect.ownKeys(provides).forEach(key => {
            provide(key, provides[key]);
        });
    }
    if (created) {
        callHook(created, instance, "c" /* CREATED */);
    }
    function registerLifecycleHook(register, hook) {
        if (isArray(hook)) {
            hook.forEach(_hook => register(_hook.bind(publicThis)));
        }
        else if (hook) {
            register(hook.bind(publicThis));
        }
    }
    registerLifecycleHook(onBeforeMount, beforeMount);
    registerLifecycleHook(onMounted, mounted);
    registerLifecycleHook(onBeforeUpdate, beforeUpdate);
    registerLifecycleHook(onUpdated, updated);
    registerLifecycleHook(onActivated, activated);
    registerLifecycleHook(onDeactivated, deactivated);
    registerLifecycleHook(onErrorCaptured, errorCaptured);
    registerLifecycleHook(onRenderTracked, renderTracked);
    registerLifecycleHook(onRenderTriggered, renderTriggered);
    registerLifecycleHook(onBeforeUnmount, beforeUnmount);
    registerLifecycleHook(onUnmounted, unmounted);
    registerLifecycleHook(onServerPrefetch, serverPrefetch);
    if (isArray(expose)) {
        if (expose.length) {
            const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
            expose.forEach(key => {
                exposed[key] = toRef(publicThis, key);
            });
        }
        else if (!instance.exposed) {
            instance.exposed = EMPTY_OBJ;
        }
    }
    // options that are handled when creating the instance but also need to be
    // applied from mixins
    if (render && instance.render === NOOP) {
        instance.render = render;
    }
    if (inheritAttrs != null) {
        instance.inheritAttrs = inheritAttrs;
    }
    // asset options.
    if (components)
        instance.components = components;
    if (directives)
        instance.directives = directives;
}
function resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {
    if (isArray(injectOptions)) {
        injectOptions = normalizeInject(injectOptions);
    }
    for (const key in injectOptions) {
        const opt = injectOptions[key];
        if (isObject(opt)) {
            if ('default' in opt) {
                ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
            }
            else {
                ctx[key] = inject(opt.from || key);
            }
        }
        else {
            ctx[key] = inject(opt);
        }
    }
}
function callHook(hook, instance, type) {
    callWithAsyncErrorHandling(isArray(hook)
        ? hook.map(h => h.bind(instance.proxy))
        : hook.bind(instance.proxy), instance, type);
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
/**
 * Resolve merged options and cache it on the component.
 * This is done only once per-component since the merging does not involve
 * instances.
 */
function resolveMergedOptions(instance) {
    const base = instance.type;
    const { mixins, extends: extendsOptions } = base;
    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;
    const cached = cache.get(base);
    let resolved;
    if (cached) {
        resolved = cached;
    }
    else if (!globalMixins.length && !mixins && !extendsOptions) {
        {
            resolved = base;
        }
    }
    else {
        resolved = {};
        if (globalMixins.length) {
            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));
        }
        mergeOptions(resolved, base, optionMergeStrategies);
    }
    cache.set(base, resolved);
    return resolved;
}
function mergeOptions(to, from, strats, asMixin = false) {
    const { mixins, extends: extendsOptions } = from;
    if (extendsOptions) {
        mergeOptions(to, extendsOptions, strats, true);
    }
    if (mixins) {
        mixins.forEach((m) => mergeOptions(to, m, strats, true));
    }
    for (const key in from) {
        if (asMixin && key === 'expose') ;
        else {
            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);
            to[key] = strat ? strat(to[key], from[key]) : from[key];
        }
    }
    return to;
}
const internalOptionMergeStrats = {
    data: mergeDataFn,
    props: mergeObjectOptions,
    emits: mergeObjectOptions,
    // objects
    methods: mergeObjectOptions,
    computed: mergeObjectOptions,
    // lifecycle
    beforeCreate: mergeAsArray,
    created: mergeAsArray,
    beforeMount: mergeAsArray,
    mounted: mergeAsArray,
    beforeUpdate: mergeAsArray,
    updated: mergeAsArray,
    beforeDestroy: mergeAsArray,
    destroyed: mergeAsArray,
    activated: mergeAsArray,
    deactivated: mergeAsArray,
    errorCaptured: mergeAsArray,
    serverPrefetch: mergeAsArray,
    // assets
    components: mergeObjectOptions,
    directives: mergeObjectOptions,
    // watch
    watch: mergeWatchOptions,
    // provide / inject
    provide: mergeDataFn,
    inject: mergeInject
};
function mergeDataFn(to, from) {
    if (!from) {
        return to;
    }
    if (!to) {
        return from;
    }
    return function mergedDataFn() {
        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);
    };
}
function mergeInject(to, from) {
    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));
}
function normalizeInject(raw) {
    if (isArray(raw)) {
        const res = {};
        for (let i = 0; i < raw.length; i++) {
            res[raw[i]] = raw[i];
        }
        return res;
    }
    return raw;
}
function mergeAsArray(to, from) {
    return to ? [...new Set([].concat(to, from))] : from;
}
function mergeObjectOptions(to, from) {
    return to ? extend(extend(Object.create(null), to), from) : from;
}
function mergeWatchOptions(to, from) {
    if (!to)
        return from;
    if (!from)
        return to;
    const merged = extend(Object.create(null), to);
    for (const key in from) {
        merged[key] = mergeAsArray(to[key], from[key]);
    }
    return merged;
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    // ensure all declared prop keys are present
    for (const key in instance.propsOptions[0]) {
        if (!(key in props)) {
            props[key] = undefined;
        }
    }
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    let hasAttrsChanged = false;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                let key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        if (value !== attrs[key]) {
                            attrs[key] = value;
                            hasAttrsChanged = true;
                        }
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);
                    }
                }
                else {
                    if (value !== attrs[key]) {
                        attrs[key] = value;
                        hasAttrsChanged = true;
                    }
                }
            }
        }
    }
    else {
        // full props update.
        if (setFullProps(instance, rawProps, props, attrs)) {
            hasAttrsChanged = true;
        }
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                    hasAttrsChanged = true;
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    if (hasAttrsChanged) {
        trigger(instance, "set" /* SET */, '$attrs');
    }
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    let hasAttrsChanged = false;
    let rawCastValues;
    if (rawProps) {
        for (let key in rawProps) {
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            const value = rawProps[key];
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                if (!needCastKeys || !needCastKeys.includes(camelKey)) {
                    props[camelKey] = value;
                }
                else {
                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;
                }
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                if (value !== attrs[key]) {
                    attrs[key] = value;
                    hasAttrsChanged = true;
                }
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        const castValues = rawCastValues || EMPTY_OBJ;
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));
        }
    }
    return hasAttrsChanged;
}
function resolvePropValue(options, props, key, value, instance, isAbsent) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue.call(null, props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (isAbsent && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.propsCache;
    const cached = cache.get(comp);
    if (cached) {
        return cached;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, EMPTY_ARR);
        return EMPTY_ARR;
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    const res = [normalized, needCastKeys];
    cache.set(comp, res);
    return res;
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => {
    const normalized = withCtx((props) => {
        return normalizeSlotValue(rawSlot(props));
    }, ctx);
    normalized._c = false;
    return normalized;
};
const normalizeObjectSlots = (rawSlots, slots, instance) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // users can get the shallow readonly version of the slots object through `this.$slots`,
            // we should avoid the proxy object polluting the slots of the internal instance
            instance.slots = toRaw(children);
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        let hook = binding.dir[name];
        if (hook) {
            // disable tracking inside all lifecycle hooks
            // since they can potentially be called inside effects.
            pauseTracking();
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
            resetTracking();
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            errorHandler: undefined,
            warnHandler: undefined,
            compilerOptions: {}
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null),
        optionsCache: new WeakMap(),
        propsCache: new WeakMap(),
        emitsCache: new WeakMap()
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            _instance: null,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        app._instance = vnode.component;
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        app._instance = null;
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));
        return;
    }
    if (isAsyncWrapper(vnode) && !isUnmount) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    const refValue = vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */
        ? vnode.component.exposed || vnode.component.proxy
        : vnode.el;
    const value = isUnmount ? null : refValue;
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // dynamic ref changed. unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            {
                refs[ref] = value;
            }
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment$1:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, 
        // pass cached nodes if the static node is being mounted multiple times
        // so that runtime-dom can simply cloneNode() instead of inserting new
        // HTML
        n2.el && [n2.el, n2.anchor]);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // oldVNode may be an errored async setup() component inside Suspense
            // which will not have a mounted element
            oldVNode.el &&
                // - In the case of a Fragment, we need to provide the actual parent
                // of the Fragment itself so it can move its children.
                (oldVNode.type === Fragment ||
                    // - In the case of different nodes, there is going to be a replacement
                    // which also requires the correct parent container
                    !isSameVNodeType(oldVNode, newVNode) ||
                    // - In the case of a component, it could contain anything.
                    oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                    oldVNode.shapeFlag & 64 /* TELEPORT */)
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (dynamicChildren) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        // resolve props and slots for setup context
        {
            setupComponent(instance);
        }
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment$1));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    const hydrateSubTree = () => {
                        instance.subTree = renderComponentRoot(instance);
                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);
                    };
                    if (isAsyncWrapper(initialVNode)) {
                        initialVNode.type.__asyncLoader().then(
                        // note: we are moving the render call into an async callback,
                        // which means it won't track dependencies - but it's ok because
                        // a server-rendered async wrapper is already in resolved state
                        // and it will never need to change.
                        () => !instance.isUnmounted && hydrateSubTree());
                    }
                    else {
                        hydrateSubTree();
                    }
                }
                else {
                    const subTree = (instance.subTree = renderComponentRoot(instance));
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                if (initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, vnode, true);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment$1 = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
// Whether we should be tracking dynamic child nodes inside a block.
// Only tracks when this value is > 0
// We are not using a simple boolean because this value may need to be
// incremented/decremented by nested usage of v-once (see below)
let isBlockTreeEnabled = 1;
/**
 * Block tracking sometimes needs to be disabled, for example during the
 * creation of a tree that needs to be cached by v-once. The compiler generates
 * code like this:
 *
 * ``` js
 * _cache[1] || (
 *   setBlockTracking(-1),
 *   _cache[1] = createVNode(...),
 *   setBlockTracking(1),
 *   _cache[1]
 * )
 * ```
 *
 * @private
 */
function setBlockTracking(value) {
    isBlockTreeEnabled += value;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren =
        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (isBlockTreeEnabled > 0 && currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment$1;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        __v_skip: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        type.normalize(vnode);
    }
    if (isBlockTreeEnabled > 0 &&
        // avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    const cloned = {
        __v_isVNode: true,
        __v_skip: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
    return cloned;
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment$1);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, 
        // #3666, avoid reference pollution when reusing vnode
        child.slice());
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return cloneIfMounted(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && (slot._d = false);
                normalizeChildren(vnode, slot());
                slot._c && (slot._d = true);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.slots._ === 1 /* STABLE */) {
                    children._ = 1 /* STABLE */;
                }
                else {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, incoming)
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            {
                return globalProperties[key];
            }
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // inheritAttrs
        inheritAttrs: type.inheritAttrs,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null,
        sp: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR, skipOptions) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__ && !(false )) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.1.2";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: insertAdjacentHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG, cached) {
        if (cached) {
            let [cachedFirst, cachedLast] = cached;
            let first, last;
            while (true) {
                let node = cachedFirst.cloneNode(true);
                if (!first)
                    first = node;
                parent.insertBefore(node, anchor);
                if (cachedFirst === cachedLast) {
                    last = node;
                    break;
                }
                cachedFirst = cachedFirst.nextSibling;
            }
            return [first, last];
        }
        // <parent> before | first ... last | anchor </parent>
        const before = anchor ? anchor.previousSibling : parent.lastChild;
        if (anchor) {
            let insertionPoint;
            let usingTempInsertionPoint = false;
            if (anchor instanceof Element) {
                insertionPoint = anchor;
            }
            else {
                // insertAdjacentHTML only works for elements but the anchor is not an
                // element...
                usingTempInsertionPoint = true;
                insertionPoint = isSVG
                    ? doc.createElementNS(svgNS, 'g')
                    : doc.createElement('div');
                parent.insertBefore(insertionPoint, anchor);
            }
            insertionPoint.insertAdjacentHTML('beforebegin', content);
            if (usingTempInsertionPoint) {
                parent.removeChild(insertionPoint);
            }
        }
        else {
            parent.insertAdjacentHTML('beforeend', content);
        }
        return [
            // first
            before ? before.nextSibling : parent.firstChild,
            // last
            anchor ? anchor.previousSibling : parent.lastChild
        ];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG, instance) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        if (value == null) {
            el.removeAttribute(key);
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            // __UNSAFE__
            // Reason: potential execution of JS expressions in in-DOM template.
            // The user must make sure the in-DOM template is trusted. If it's
            // rendered by the server, the template should not contain any user data.
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}e.prototype.isVector2=!0;const r=[];for(let $h=0;$h<256;$h++)r[$h]=($h<16?"0":"")+$h.toString(16);let n=1234567;const i=Math.PI/180,s=180/Math.PI;function a(t,e,r){return Math.max(e,Math.min(r,t))}function o(t,e){return (t%e+e)%e}function u(t,e,r){return (1-r)*t+r*e}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:i,RAD2DEG:s,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:a,euclideanModulo:o,mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},inverseLerp:function(t,e,r){return t!==e?(r-t)/(e-t):0},lerp:u,damp:function(t,e,r,n){return u(t,e,1-Math.exp(-r*n))},pingpong:function(t,e=1){return e-Math.abs(o(t,2*e)-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i},radToDeg:function(t){return t*s},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}});class c{constructor(t=0,e=0,r=0,n=1){this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(0===a)return t[e+0]=o,t[e+1]=u,t[e+2]=h,void(t[e+3]=c);if(1===a)return t[e+0]=l,t[e+1]=p,t[e+2]=f,void(t[e+3]=d);if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(a(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}slerpQuaternions(t,e,r){this.copy(t).slerp(e,r);}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}c.prototype.isQuaternion=!0;class l{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(f.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return p.copy(this).projectOnVector(t),this.sub(p)}reflect(t){return this.sub(p.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(a(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}l.prototype.isVector3=!0;const p=new l,f=new c;class m{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new m).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/y.setFromMatrixColumn(t,0).length(),i=1/y.setFromMatrixColumn(t,1).length(),s=1/y.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(v,t,x)}lookAt(t,e,r){const n=this.elements;return _.subVectors(t,e),0===_.lengthSq()&&(_.z=1),_.normalize(),w.crossVectors(r,_),0===w.lengthSq()&&(1===Math.abs(r.z)?_.x+=1e-4:_.z+=1e-4,_.normalize(),w.crossVectors(r,_)),w.normalize(),b.crossVectors(_,w),n[0]=w.x,n[4]=b.x,n[8]=_.x,n[1]=w.y,n[5]=b.y,n[9]=_.y,n[2]=w.z,n[6]=b.z,n[10]=_.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],N=n[12],E=n[1],S=n[5],T=n[9],O=n[13],z=n[2],C=n[6],A=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*E+o*z+u*D,i[4]=s*_+a*S+o*C+u*k,i[8]=s*M+a*T+o*A+u*I,i[12]=s*N+a*O+o*R+u*L,i[1]=h*b+c*E+l*z+p*D,i[5]=h*_+c*S+l*C+p*k,i[9]=h*M+c*T+l*A+p*I,i[13]=h*N+c*O+l*R+p*L,i[2]=f*b+d*E+m*z+y*D,i[6]=f*_+d*S+m*C+y*k,i[10]=f*M+d*T+m*A+y*I,i[14]=f*N+d*O+m*R+y*L,i[3]=g*b+v*E+x*z+w*D,i[7]=g*_+v*S+x*C+w*k,i[11]=g*M+v*T+x*A+w*I,i[15]=g*N+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15],g=c*m*u-d*l*u+d*o*p-a*m*p-c*o*y+a*l*y,v=f*l*u-h*m*u-f*o*p+s*m*p+h*o*y-s*l*y,x=h*d*u-f*c*u+f*a*p-s*d*p-h*a*y+s*c*y,w=f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m,b=e*g+r*v+n*x+i*w;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/b;return t[0]=g*_,t[1]=(d*l*i-c*m*i-d*n*p+r*m*p+c*n*y-r*l*y)*_,t[2]=(a*m*i-d*o*i+d*n*u-r*m*u-a*n*y+r*o*y)*_,t[3]=(c*o*i-a*l*i-c*n*u+r*l*u+a*n*p-r*o*p)*_,t[4]=v*_,t[5]=(h*m*i-f*l*i+f*n*p-e*m*p-h*n*y+e*l*y)*_,t[6]=(f*o*i-s*m*i-f*n*u+e*m*u+s*n*y-e*o*y)*_,t[7]=(s*l*i-h*o*i+h*n*u-e*l*u-s*n*p+e*o*p)*_,t[8]=x*_,t[9]=(f*c*i-h*d*i-f*r*p+e*d*p+h*r*y-e*c*y)*_,t[10]=(s*d*i-f*a*i+f*r*u-e*d*u-s*r*y+e*a*y)*_,t[11]=(h*a*i-s*c*i-h*r*u+e*c*u+s*r*p-e*a*p)*_,t[12]=w*_,t[13]=(h*d*n-f*c*n+f*r*l-e*d*l-h*r*m+e*c*m)*_,t[14]=(f*a*n-s*d*n-f*r*o+e*d*o+s*r*m-e*a*m)*_,t[15]=(s*c*n-h*a*n+h*r*o-e*c*o-s*r*l+e*a*l)*_,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,n,i,s){return this.set(1,r,i,0,t,1,s,0,e,n,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=y.set(n[0],n[1],n[2]).length();const s=y.set(n[4],n[5],n[6]).length(),a=y.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],g.copy(this);const o=1/i,u=1/s,h=1/a;return g.elements[0]*=o,g.elements[1]*=o,g.elements[2]*=o,g.elements[4]*=u,g.elements[5]*=u,g.elements[6]*=u,g.elements[8]*=h,g.elements[9]*=h,g.elements[10]*=h,e.setFromRotationMatrix(g),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}m.prototype.isMatrix4=!0;const y=new l,g=new m,v=new l(0,0,0),x=new l(1,1,1),w=new l,b=new l,_=new l;new m;new c;const S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},T={h:0,s:0,l:0},O={h:0,s:0,l:0};function z(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}function C(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function A(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class R{constructor(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,r){return this.r=t,this.g=e,this.b=r,this}setHSL(t,e,r){if(t=o(t,1),e=a(e,0,1),r=a(r,0,1),0===e)this.r=this.g=this.b=r;else {const n=r<=.5?r*(1+e):r+e-r*e,i=2*r-n;this.r=z(i,n,t+1/3),this.g=z(i,n,t),this.b=z(i,n,t-1/3);}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.");}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const n=r[1],i=r[2];switch(n){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const r=parseFloat(t[1])/360,n=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(r,n,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=r[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=S[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=C(t.r),this.g=C(t.g),this.b=C(t.b),this}copyLinearToSRGB(t){return this.r=A(t.r),this.g=A(t.g),this.b=A(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return ("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,r=this.g,n=this.b,i=Math.max(e,r,n),s=Math.min(e,r,n);let a,o;const u=(s+i)/2;if(s===i)a=0,o=0;else {const t=i-s;switch(o=u<=.5?t/(i+s):t/(2-i-s),i){case e:a=(r-n)/t+(r<n?6:0);break;case r:a=(n-e)/t+2;break;case n:a=(e-r)/t+4;}a/=6;}return t.h=a,t.s=o,t.l=u,t}getStyle(){return "rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,r){return this.getHSL(T),T.h+=t,T.s+=e,T.l+=r,this.setHSL(T.h,T.s,T.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this}lerpHSL(t,e){this.getHSL(T),t.getHSL(O);const r=u(T.h,O.h,e),n=u(T.s,O.s,e),i=u(T.l,O.l,e);return this.setHSL(r,n,i),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}R.NAMES=S,R.prototype.isColor=!0,R.prototype.r=1,R.prototype.g=1,R.prototype.b=1;const D=new e;class k{constructor(t=new e(1/0,1/0),r=new e(-1/0,-1/0)){this.min=t,this.max=r;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return void 0===r&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new e),r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return void 0===r&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new e),r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return D.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}k.prototype.isBox2=!0;class I{constructor(t=new l(1/0,1/0,1/0),e=new l(-1/0,-1/0,-1/0)){this.min=t,this.max=e;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.length;o<u;o+=3){const u=t[o],h=t[o+1],c=t[o+2];u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.count;o<u;o++){const u=t.getX(o),h=t.getY(o),c=t.getZ(o);u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=B.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),F.copy(e.boundingBox),F.applyMatrix4(t.matrixWorld),this.union(F));const r=t.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new l),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,B),B.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return !1;this.getCenter($),G.subVectors(this.max,$),P.subVectors(t.a,$),U.subVectors(t.b,$),j.subVectors(t.c,$),q.subVectors(U,P),H.subVectors(j,U),V.subVectors(P,j);let e=[0,-q.z,q.y,0,-H.z,H.y,0,-V.z,V.y,q.z,0,-q.x,H.z,0,-H.x,V.z,0,-V.x,-q.y,q.x,0,-H.y,H.x,0,-V.y,V.x,0];return !!Z(e,P,U,j,G)&&(e=[1,0,0,0,1,0,0,0,1],!!Z(e,P,U,j,G)&&(W.crossVectors(q,H),e=[W.x,W.y,W.z],Z(e,P,U,j,G)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new l),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return B.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(B).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(L[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),L[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),L[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),L[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),L[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),L[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),L[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),L[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(L)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}I.prototype.isBox3=!0;const L=[new l,new l,new l,new l,new l,new l,new l,new l],B=new l,F=new I,P=new l,U=new l,j=new l,q=new l,H=new l,V=new l,$=new l,G=new l,W=new l,Y=new l;function Z(t,e,r,n,i){for(let s=0,a=t.length-3;s<=a;s+=3){Y.fromArray(t,s);const a=i.x*Math.abs(Y.x)+i.y*Math.abs(Y.y)+i.z*Math.abs(Y.z),o=e.dot(Y),u=r.dot(Y),h=n.dot(Y);if(Math.max(-Math.max(o,u,h),Math.min(o,u,h))>a)return !1}return !0}new l;new l;new l;new l;new l;new l;new l;new l;new l;class ot{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=h*s-a*u,l=a*o-h*i,p=u*i-s*o,f=e*c+r*l+n*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=c*d,t[1]=(n*u-h*r)*d,t[2]=(a*r-n*s)*d,t[3]=l*d,t[4]=(h*e-n*o)*d,t[5]=(n*i-a*e)*d,t[6]=p*d,t[7]=(r*o-u*e)*d,t[8]=(s*e-r*i)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);return this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1),this}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return (new this.constructor).fromArray(this.elements)}}ot.prototype.isMatrix3=!0;new l;new l;new ot;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new l(0,0,0));Object.freeze(new l(1,0,0));Object.freeze(new l(0,1,0));Object.freeze(new l(0,0,1));Object.freeze(new l(1,1,1));Object.freeze(new c);({RIGHT:Object.freeze(new l(1,0,0)),UP:Object.freeze(new l(0,1,0)),NEAR:Object.freeze(new l(0,0,1)),LEFT:Object.freeze(new l(-1,0,0)),DOWN:Object.freeze(new l(0,-1,0)),FAR:Object.freeze(new l(0,0,-1))});new l;(()=>{const t=2*Math.PI,e=new l(0,0,1),r=new c,n=new c,i=new l,s=new c;return function(a=1,o=1){var u=(Math.random()-.5)*t*a,h=Math.random()*t,c=Math.random()*Math.PI*o;return i.set(1,0,0).applyAxisAngle(e,h),r.setFromAxisAngle(e,u),n.setFromAxisAngle(i,c),s.multiplyQuaternions(n,r)}})();(()=>{const t=new l;return function(e,r,n){const i=t.set(e.x,e.y,e.z),s=r.dot(i),a=t.copy(r).multiplyScalar(s),o=n.set(a.x,a.y,a.z,e.w).normalize();return s<0&&(o.x=-o.x,o.y=-o.y,o.z=-o.z,o.w=-o.w),o}})();new k,new k,new e,new e;new l,new l,new l,new l,new l,new l,new l;var ee=function(t){return function(e){return 1-t(1-e)}},re=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},ne=ee,ie=re,se=function(t){return function(e){return Math.pow(e,t)}},ae=function(t){return function(e){return e*e*((t+1)*e-t)}},oe=function(t){var e=ae(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ue=se(2),he=ee(ue),ce=re(ue),le=function(t){return 1-Math.sin(Math.acos(t))},pe=ee(le),fe=re(pe),de=ae(1.525),me=ee(de),ye=re(de),ge=oe(1.525),ve=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},xe="undefined"!=typeof Float32Array,we=function(t,e){return 1-3*e+3*t},be=function(t,e){return 3*e-6*t},_e=function(t){return 3*t},Me=function(t,e,r){return 3*we(e,r)*t*t+2*be(e,r)*t+_e(e)},Ne=function(t,e,r){return ((we(e,r)*t+be(e,r))*t+_e(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:ee,mirrored:re,createReversedEasing:ne,createMirroredEasing:ie,createExpoIn:se,createBackIn:ae,createAnticipateEasing:oe,linear:function(t){return t},easeIn:ue,easeOut:he,easeInOut:ce,circIn:le,circOut:pe,circInOut:fe,backIn:de,backOut:me,backInOut:ye,anticipate:ge,bounceOut:ve,bounceIn:function(t){return 1-ve(1-t)},bounceInOut:function(t){return t<.5?.5*(1-ve(1-2*t)):.5*ve(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=xe?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=Me(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=Me(n,t,r)))return n;n-=(Ne(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=Ne(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=Ne(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:Ne(s(i),e,n)}}});new e;new l;new c;new I;new R;new R(0,0,0);function Fe(t){return "number"==typeof t}function Pe(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function Ue(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function je(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function qe(t){return t&&!0===t.constructor.prototype.isUnit||!1}function He(t){return "string"==typeof t}var Ve=Array.isArray;function $e(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ge(t){return Array.isArray(t)||$e(t)}function We(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ye(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ze(t){return t&&!0===t.constructor.prototype.isRange||!1}function Xe(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Je(t){return "boolean"==typeof t}function Qe(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function Ke(t){return t&&!0===t.constructor.prototype.isHelp||!1}function tr(t){return "function"==typeof t}function er(t){return t instanceof Date}function rr(t){return t instanceof RegExp}function nr(t){return !(!t||"object"!=typeof t||t.constructor!==Object||Ue(t)||je(t))}function ir(t){return null===t}function sr(t){return void 0===t}function ar(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function lr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function pr(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function fr(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function dr(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function mr(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function yr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function gr(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function vr(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function xr(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function wr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function br(t){return t&&!0===t.constructor.prototype.isChain||!1}function _r(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":Pe(t)?"BigNumber":Ue(t)?"Complex":je(t)?"Fraction":$e(t)?"Matrix":qe(t)?"Unit":Xe(t)?"Index":Ze(t)?"Range":Qe(t)?"ResultSet":mr(t)?t.type:br(t)?"Chain":Ke(t)?"Help":"Object":"function"===e?"Function":e}function Mr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Mr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Pe(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Nr(t,Mr)}function Nr(t,e){var r={};for(var n in t)Ar(t,n)&&(r[n]=e(t[n]));return r}function Er(t,e){for(var r in e)Ar(e,r)&&(t[r]=e[r]);return t}function Tr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!Tr(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!Tr(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!Tr(t[r],e[r]))return !1;return !0}return t===e}function Ar(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Br="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ur=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=A(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(N):n.types:[]).map(M)}function M(t){return t.name}function N(t){return null===t.conversion||void 0===t.conversion}function E(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=E(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=E(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function C(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function A(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(N):a.types;if(a.restParam){var u=o.filter(N);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(C);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,N=l?x(s[4].params[0]):e,E=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,A=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,J=c?s[3].params.length:-1,Q=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===J&&M(e)&&A(r)?H.apply(t,arguments):arguments.length===Q&&N(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&E(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function J(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function Q(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(J(e),t)},"...Function":function(t){return B(J(t),Q(t))},"string, ...Function":function(t,e){return B(t,Q(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function jr(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var qr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Hr(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Fe(e)?r=e:Fe(e.precision)&&(r=e.precision)),n){case"fixed":return $r(t,r);case"exponential":return Gr(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Wr(Vr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Fe(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Fe(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Vr(t),a=e?Wr(s,e):s;if(a.exponent<n||a.exponent>=i)return Gr(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(Yr(e-o.length))),o=o.concat(Yr(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=Yr(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Vr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function $r(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Vr(t),n="number"==typeof e?Wr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(Yr(a-i.length))),s<0&&(i=Yr(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Gr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Vr(t),n=e?Wr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(Yr(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function Wr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function Yr(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Zr=Number.EPSILON||2220446049250313e-31;function Xr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Zr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function Jr(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return Qr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():Qr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Qr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Kr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function tn(t,e){return "number"==typeof t?Hr(t,e):Pe(t)?Jr(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?nn(t,e):He(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+tn(t[r],e))).join(", ")+"}":String(t)}function en(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function rn(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nn(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=nn(t[i],e);return r+="]"}return tn(t,e)}function sn(t,e,r){if(!(this instanceof sn))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function an(t,e,r){if(!(this instanceof an))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function on(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function un(t,e,r){var n,i=t.length;if(i!==e[r])throw new sn(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new sn(e.length-1,e.length,"<");un(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new sn(e.length+1,e.length,">")}function hn(t,e){if(0===e.length){if(Array.isArray(t))throw new sn(t.length,0)}else un(t,e,0);}function cn(t,e){if(!Fe(t)||!jr(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new an(t,e)}function ln(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Fe(t)||!jr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(e)+")")})),pn(t,e,0,void 0!==r?r:0),t}function pn(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),pn(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,pn(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function fn(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new sn(0,i(on(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new sn(i(e),i(on(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof sn)throw new sn(i(e),i(on(t)),"!=");throw o}return r}function dn(t,e,r,n){var i=n||on(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=mn(t,e,0);i.length<e;)i.push(1);return t}function mn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=mn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function yn(t,e){return Array.prototype.map.call(t,e)}function gn(t,e){Array.prototype.forEach.call(t,e);}function vn(t,e){return Array.prototype.join.call(t,e)}function xn(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?xn(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function bn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(Mn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Mn(t){return t&&"?"===t[0]?t.slice(1):t}sn.prototype=new RangeError,sn.prototype.constructor=RangeError,sn.prototype.name="DimensionError",sn.prototype.isDimensionError=!0,an.prototype=new RangeError,an.prototype.constructor=RangeError,an.prototype.name="IndexError",an.prototype.isIndexError=!0;var Nn=function(){return Nn=Ur.create,Ur},En=bn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=Nn();return s.types=[{name:"number",test:Fe},{name:"Complex",test:Ue},{name:"BigNumber",test:Pe},{name:"Fraction",test:je},{name:"Unit",test:qe},{name:"string",test:He},{name:"Chain",test:br},{name:"Array",test:Ve},{name:"Matrix",test:$e},{name:"DenseMatrix",test:We},{name:"SparseMatrix",test:Ye},{name:"Range",test:Ze},{name:"Index",test:Xe},{name:"boolean",test:Je},{name:"ResultSet",test:Qe},{name:"Help",test:Ke},{name:"function",test:tr},{name:"Date",test:er},{name:"RegExp",test:rr},{name:"null",test:ir},{name:"undefined",test:sr},{name:"AccessorNode",test:ar},{name:"ArrayNode",test:or},{name:"AssignmentNode",test:ur},{name:"BlockNode",test:hr},{name:"ConditionalNode",test:cr},{name:"ConstantNode",test:lr},{name:"FunctionNode",test:fr},{name:"FunctionAssignmentNode",test:pr},{name:"IndexNode",test:dr},{name:"Node",test:mr},{name:"ObjectNode",test:yr},{name:"OperatorNode",test:gr},{name:"ParenthesisNode",test:vr},{name:"RangeNode",test:xr},{name:"SymbolNode",test:wr},{name:"Object",test:nr}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||Sn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||Tn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||Tn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||Tn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||On(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Sn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||On(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||Tn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Sn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||On(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function Sn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Tn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function On(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var zn,Cn,An=bn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),Rn=9e15,Dn="0123456789abcdef",kn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",In="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ln={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Rn,maxE:Rn,crypto:!1},Bn=!0,Fn="[DecimalError] Invalid argument: ",Pn=Math.floor,Un=Math.pow,jn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Hn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n=1e7,Gn=kn.length-1,Wn=In.length-1,Yn={name:"[object Decimal]"};function Zn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=ai(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=ai(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Xn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fn+t)}function Jn(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=Un(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==Un(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==Un(10,e-3)-1,a}function Qn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Dn.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}Yn.absoluteValue=Yn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),ti(t)},Yn.ceil=function(){return ti(new this.constructor(this),this.e+1,2)},Yn.comparedTo=Yn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},Yn.cosine=Yn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/mi(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=di(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,yi(n,r)),n.precision=t,n.rounding=e,ti(2==Cn||3==Cn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},Yn.cubeRoot=Yn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(Bn=!1,(s=c.s*Un(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Zn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=Un(r,1/3),t=Pn((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=Kn(h.plus(c).times(o),h.plus(u),a+2,1),Zn(o.d).slice(0,a)===(r=Zn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ti(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(ti(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return Bn=!0,ti(n,t,l.rounding,e)},Yn.decimalPlaces=Yn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-Pn(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},Yn.dividedBy=Yn.div=function(t){return Kn(this,new this.constructor(t))},Yn.dividedToIntegerBy=Yn.divToInt=function(t){var e=this.constructor;return ti(Kn(this,new e(t),0,1,1),e.precision,e.rounding)},Yn.equals=Yn.eq=function(t){return 0===this.cmp(t)},Yn.floor=function(){return ti(new this.constructor(this),this.e+1,3)},Yn.greaterThan=Yn.gt=function(t){return this.cmp(t)>0},Yn.greaterThanOrEqualTo=Yn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Yn.hyperbolicCosine=Yn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/mi(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=di(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return ti(s,a.precision=r,a.rounding=n,!0)},Yn.hyperbolicSine=Yn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=di(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=di(s,2,i=i.times(1/mi(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,ti(i,e,r,!0)},Yn.hyperbolicTangent=Yn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Kn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},Yn.inverseCosine=Yn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?ii(r,i,s):new r(0):new r(NaN):e.isZero()?ii(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=ii(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},Yn.inverseHyperbolicCosine=Yn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Bn=!1,r=r.times(r).minus(1).sqrt().plus(r),Bn=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},Yn.inverseHyperbolicSine=Yn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Bn=!1,r=r.times(r).plus(1).sqrt().plus(r),Bn=!0,n.precision=t,n.rounding=e,r.ln())},Yn.inverseHyperbolicTangent=Yn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?ti(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Kn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},Yn.inverseSine=Yn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=ii(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},Yn.inverseTangent=Yn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=Wn)return (a=ii(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=Wn)return (a=ii(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(Bn=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),Bn=!0,ti(a,c.precision=l,c.rounding=p,!0)},Yn.isFinite=function(){return !!this.d},Yn.isInteger=Yn.isInt=function(){return !!this.d&&Pn(this.e/7)>this.d.length-2},Yn.isNaN=function(){return !this.s},Yn.isNegative=Yn.isNeg=function(){return this.s<0},Yn.isPositive=Yn.isPos=function(){return this.s>0},Yn.isZero=function(){return !!this.d&&0===this.d[0]},Yn.lessThan=Yn.lt=function(t){return this.cmp(t)<0},Yn.lessThanOrEqualTo=Yn.lte=function(t){return this.cmp(t)<1},Yn.logarithm=Yn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(Bn=!1,a=li(h,o=l+5),n=e?ni(c,o+10):li(t,o),Jn((u=Kn(a,n,o,1)).d,i=l,p))do{if(a=li(h,o+=10),n=e?ni(c,o+10):li(t,o),u=Kn(a,n,o,1),!s){+Zn(u.d).slice(i+1,i+15)+1==1e14&&(u=ti(u,l+1,0));break}}while(Jn(u.d,i+=10,p));return Bn=!0,ti(u,l,p)},Yn.minus=Yn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return Bn?ti(t,o,u):t}if(r=Pn(t.e/7),c=Pn(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=$n-1;--h[i],h[n]+=$n;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=ri(h,r),Bn?ti(t,o,u):t):new d(3===u?-0:0)},Yn.modulo=Yn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?ti(new n(r),n.precision,n.rounding):(Bn=!1,9==n.modulo?(e=Kn(r,t.abs(),0,3,1)).s*=t.s:e=Kn(r,t,0,n.modulo,1),e=e.times(t),Bn=!0,r.minus(e))},Yn.naturalExponential=Yn.exp=function(){return ci(this)},Yn.naturalLogarithm=Yn.ln=function(){return li(this)},Yn.negated=Yn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,ti(t)},Yn.plus=Yn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),Bn?ti(t,o,u):t;if(s=Pn(l.e/7),n=Pn(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/$n|0,h[i]%=$n;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=ri(h,n),Bn?ti(t,o,u):t},Yn.precision=Yn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Fn+t);return r.d?(e=si(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},Yn.round=function(){var t=this,e=t.constructor;return ti(new e(t),t.e+1,e.rounding)},Yn.sine=Yn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return di(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/mi(5,r)),e=di(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,yi(n,r)),n.precision=t,n.rounding=e,ti(Cn>2?r.neg():r,t,e,!0)):new n(NaN)},Yn.squareRoot=Yn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(Bn=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Zn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=Pn((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(Kn(a,s,r+2,1)).times(.5),Zn(s.d).slice(0,r)===(e=Zn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(ti(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(ti(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return Bn=!0,ti(n,u,c.rounding,t)},Yn.tangent=Yn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=Kn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,ti(2==Cn||4==Cn?r.neg():r,t,e,!0)):new n(NaN)},Yn.times=Yn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=Pn(c.e/7)+Pn(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%$n|0,e=o/$n|0;s[i]=(s[i]+e)%$n|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=ri(s,r),Bn?ti(t,l.precision,l.rounding):t},Yn.toBinary=function(t,e){return gi(this,2,t,e)},Yn.toDecimalPlaces=Yn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Xn(t,0,1e9),void 0===e?e=n.rounding:Xn(e,0,8),ti(r,t+r.e+1,e))},Yn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=ei(n,!0):(Xn(t,0,1e9),void 0===e?e=i.rounding:Xn(e,0,8),r=ei(n=ti(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Yn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=ei(i):(Xn(t,0,1e9),void 0===e?e=s.rounding:Xn(e,0,8),r=ei(n=ti(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Yn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=si(d)-f.e-1)%7,e.d[0]=Un(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Fn+o);t=o.gt(e)?s>0?e:h:o;}for(Bn=!1,o=new m(Zn(d)),c=m.precision,m.precision=s=7*d.length*2;l=Kn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=Kn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=Kn(h,n,s,1).minus(f).abs().cmp(Kn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,Bn=!0,p},Yn.toHexadecimal=Yn.toHex=function(t,e){return gi(this,16,t,e)},Yn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Xn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Bn=!1,r=Kn(r,t,0,e,1).times(t),Bn=!0,ti(r)):(t.s=r.s,r=t),r},Yn.toNumber=function(){return +this},Yn.toOctal=function(t,e){return gi(this,8,t,e)},Yn.toPower=Yn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(Un(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return ti(o,n,s);if((e=Pn(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=oi(u,o,r,n),t.s<0?new u(1).div(i):ti(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=Un(+o,h))&&isFinite(r)?new u(r+"").e:Pn(h*(Math.log("0."+Zn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(Bn=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=ci(t.times(li(o,n+r)),n)).d&&Jn((i=ti(i,n+5,1)).d,n,s)&&(e=n+10,+Zn((i=ti(ci(t.times(li(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=ti(i,n+1,0))),i.s=a,Bn=!0,u.rounding=s,ti(i,n,s))},Yn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=ei(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Xn(t,1,1e9),void 0===e?e=i.rounding:Xn(e,0,8),r=ei(n=ti(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},Yn.toSignificantDigits=Yn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Xn(t,1,1e9),void 0===e?e=r.rounding:Xn(e,0,8)),ti(new r(this),t,e)},Yn.toString=function(){var t=this,e=t.constructor,r=ei(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},Yn.truncated=Yn.trunc=function(){return ti(new this.constructor(this),this.e+1,1)},Yn.valueOf=Yn.toJSON=function(){var t=this,e=t.constructor,r=ei(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var Kn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,N,E,S,T,O,z=n.constructor,C=n.s==i.s?1:-1,A=n.d,R=i.d;if(!(A&&A[0]&&R&&R[0]))return new z(n.s&&i.s&&(A?!R||A[0]!=R[0]:R)?A&&0==A[0]||!R?0*C:C/0:NaN);for(u?(f=1,c=n.e-i.e):(u=$n,f=7,c=Pn(n.e/f)-Pn(i.e/f)),T=R.length,E=A.length,v=(g=new z(C)).d=[],l=0;R[l]==(A[l]||0);l++);if(R[l]>(A[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<E||p)&&_--;l++)M=p*u+(A[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<E;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),A=t(A,p,u),T=R.length,E=A.length),N=T,w=(x=A.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=A[N]||0:(x=[A[N]],w=1);}while((N++<E||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,zn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,ti(g,o?s+g.e+1:s,a,d);}return g}}();function ti(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/Un(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/Un(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%Un(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/Un(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=Un(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=Un(10,7-s),l[p]=a>0?(c/Un(10,i-a)%Un(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==$n&&(l[0]=1));break}if(l[p]+=o,l[p]!=$n)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return Bn&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function ei(t,e,r){if(!t.isFinite())return pi(t);var n,i=t.e,s=Zn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ai(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+ai(-i-1)+s,r&&(n=r-a)>0&&(s+=ai(n))):i>=a?(s+=ai(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ai(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ai(n))),s}function ri(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function ni(t,e,r){if(e>Gn)throw Bn=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return ti(new t(kn),e,1,!0)}function ii(t,e,r){if(e>Wn)throw Error("[DecimalError] Precision limit exceeded");return ti(new t(In),e,r,!0)}function si(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function ai(t){for(var e="";t--;)e+="0";return e}function oi(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(Bn=!1;;){if(r%2&&vi((s=s.times(e)).d,a)&&(i=!0),0===(r=Pn(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}vi((e=e.times(e)).d,a);}return Bn=!0,s}function ui(t){return 1&t.d[t.d.length-1]}function hi(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function ci(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Bn=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(Un(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=ti(s.times(t),u,1),r=r.times(++c),Zn((o=a.plus(Kn(s,r,u,1))).d).slice(0,u)===Zn(a.d).slice(0,u)){for(i=l;i--;)a=ti(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&Jn(a.d,u-n,f,h)))return ti(a,p.precision=d,f,Bn=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function li(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Bn=!1,c=v):c=e,y.precision=c+=10,n=(r=Zn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=ni(y,c+2,v).times(s+""),d=li(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?ti(d,v,g,Bn=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Zn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=Kn(d.minus(1),d.plus(1),c,1),p=ti(d.times(d),c,1),i=3;;){if(a=ti(a.times(p),c,1),Zn((h=u.plus(Kn(a,new y(i),c,1))).d).slice(0,c)===Zn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(ni(y,c+2,v).times(s+""))),u=Kn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!Jn(u.d,c-10,g,o))return ti(u,y.precision=v,g,Bn=!0);y.precision=c+=10,h=a=d=Kn(l.minus(1),l.plus(1),c,1),p=ti(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function pi(t){return String(t.s*t.s/0)}function fi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),Bn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function di(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(Bn=!1,u=r.times(r),o=new t(n);;){if(a=Kn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=Kn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return Bn=!0,a.d.length=c+1,a}function mi(t,e){for(var r=t;--e;)r*=t;return r}function yi(t,e){var r,n=e.s<0,i=ii(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Cn=n?4:1,e;if((r=e.divToInt(i)).isZero())Cn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return Cn=ui(r)?n?2:3:n?4:1,e;Cn=ui(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function gi(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Xn(r,1,1e9),void 0===n?n=f.rounding:Xn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=ei(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=Qn(ei(p),10,i),p.e=p.d.length),s=u=(l=Qn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=Kn(t,p,r,n,0,i)).d,s=t.e,h=zn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=Dn.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=Qn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=Dn.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=pi(t);return t.s<0?"-"+c:c}function vi(t,e){if(t.length>e)return t.length=e,!0}function xi(t){return new this(t).abs()}function wi(t){return new this(t).acos()}function bi(t){return new this(t).acosh()}function _i(t,e){return new this(t).plus(e)}function Mi(t){return new this(t).asin()}function Ni(t){return new this(t).asinh()}function Ei(t){return new this(t).atan()}function Si(t){return new this(t).atanh()}function Ti(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?ii(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=ii(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Kn(t,e,s,1)),e=ii(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Kn(t,e,s,1)):(r=ii(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function Oi(t){return new this(t).cbrt()}function zi(t){return ti(t=new this(t),t.e+1,2)}function Ci(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Rn,0,"toExpPos",0,Rn,"maxE",0,Rn,"minE",-Rn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Ln[r]),void 0!==(n=t[r])){if(!(Pn(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Fn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Ln[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Fn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function Ai(t){return new this(t).cos()}function Ri(t){return new this(t).cosh()}function Di(t,e){return new this(t).div(e)}function ki(t){return new this(t).exp()}function Ii(t){return ti(t=new this(t),t.e+1,3)}function Li(){var t,e,r=new this(0);for(Bn=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return Bn=!0,new this(1/0);r=e;}return Bn=!0,r.sqrt()}function Bi(t){return t instanceof ns||t&&"[object Decimal]"===t.name||!1}function Fi(t){return new this(t).ln()}function Pi(t,e){return new this(t).log(e)}function Ui(t){return new this(t).log(2)}function ji(t){return new this(t).log(10)}function qi(){return hi(this,arguments,"lt")}function Hi(){return hi(this,arguments,"gt")}function Vi(t,e){return new this(t).mod(e)}function $i(t,e){return new this(t).mul(e)}function Gi(t,e){return new this(t).pow(e)}function Wi(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Xn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=Un(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function Yi(t){return ti(t=new this(t),t.e+1,this.rounding)}function Zi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Xi(t){return new this(t).sin()}function Ji(t){return new this(t).sinh()}function Qi(t){return new this(t).sqrt()}function Ki(t,e){return new this(t).sub(e)}function ts(t){return new this(t).tan()}function es(t){return new this(t).tanh()}function rs(t){return ti(t=new this(t),t.e+1,1)}Yn[Symbol.for("nodejs.util.inspect.custom")]=Yn.toString,Yn[Symbol.toStringTag]="Decimal";var ns=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(Bn?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(Bn?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):fi(i,t.toString())}if("string"!==n)throw Error(Fn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Vn.test(t)?fi(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(qn.test(e))r=16,e=e.toLowerCase();else if(jn.test(e))r=2;else {if(!Hn.test(e))throw Error(Fn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=oi(n,new n(r),s,2*s)),s=c=(h=Qn(e,r,$n)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=ri(h,c),t.d=h,Bn=!1,a&&(t=Kn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?Un(2,u):ns.pow(2,u))),Bn=!0,t)}(i,t)}if(s.prototype=Yn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ci,s.clone=t,s.isDecimal=Bi,s.abs=xi,s.acos=wi,s.acosh=bi,s.add=_i,s.asin=Mi,s.asinh=Ni,s.atan=Ei,s.atanh=Si,s.atan2=Ti,s.cbrt=Oi,s.ceil=zi,s.cos=Ai,s.cosh=Ri,s.div=Di,s.exp=ki,s.floor=Ii,s.hypot=Li,s.ln=Fi,s.log=Pi,s.log10=ji,s.log2=Ui,s.max=qi,s.min=Hi,s.mod=Vi,s.mul=$i,s.pow=Gi,s.random=Wi,s.round=Yi,s.sign=Zi,s.sin=Xi,s.sinh=Ji,s.sqrt=Qi,s.sub=Ki,s.tan=ts,s.tanh=es,s.trunc=rs,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Ln);kn=new ns(kn),In=new ns(In);var is,ss=bn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=ns.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),as={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
is=as,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return isNaN(r.re)||isNaN(r.im),r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,is.exports=s;}();var os=Fr(as.exports),us=bn("Complex",[],(()=>(os.prototype.type="Complex",os.prototype.isComplex=!0,os.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},os.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},os.prototype.format=function(t){var e=this.im,r=this.re,n=Hr(this.re,t),i=Hr(this.im,t),s=Fe(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},os.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return os(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Fe(r)){if(qe(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Fe(n))return new os({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},os.prototype.valueOf=os.prototype.toString,os.fromJSON=function(t){return new os(t)},os.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},os)),{isClass:!0}),hs={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=1,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(hs);var cs=Fr(hs.exports),ls=bn("Fraction",[],(()=>(cs.prototype.type="Fraction",cs.prototype.isFraction=!0,cs.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},cs.fromJSON=function(t){return new cs(t)},cs)),{isClass:!0}),ps=bn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(Pe(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Pe(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(Pe(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return qr(r)===qr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Hr(this.start,t);return 1!==this.step&&(e+=":"+Hr(this.step,t)),e+=":"+Hr(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),fs=bn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),ds=bn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!He(e))throw new Error("Invalid datatype: "+e);if($e(t))"DenseMatrix"===t.type?(this._data=Mr(t._data),this._size=Mr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Ve(t.data)&&Ve(t.size))this._data=t.data,this._size=t.size,hn(this._data,this._size),this._datatype=e||t.datatype;else if(Ve(t))this._data=h(t),this._size=on(this._data),hn(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+_r(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Xe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new sn(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)cn(s[o],t._size[o]),cn(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return cn(e,t.length),t[e]})).valueOf():a.map((function(s){return cn(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if($e(r)?(i=r.size(),r=r.valueOf()):i=on(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new sn(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=dn(r,s.length,c,i);}if(!Tr(s,i))throw new sn(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){cn(e),t[e]=r[n[0]];})):o.forEach((function(s,o){cn(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;Ve(n);)n=n[0];return n}return t._size=e.slice(0),t._data=ln(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];Ve(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return xn(this._data,_r)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);for(var e=0;e<t.length;e++)cn(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];cn(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!Ve(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new sn(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)cn(s=t[n],a.length),a=a[s];return cn(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ge(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=fn(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:Mr(this._data),size:Mr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return Ve(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?xn(n,_r):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){Ve(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return Mr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return tn(this._data,t)},r.prototype.toString=function(){return tn(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!Ve(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(Pe(n)&&(n=n.toNumber()),!Fe(n)||!jr(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(Ve(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if($e(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=Pe(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=ln(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Fe(t)&&jr(t)&&Fe(e)&&jr(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return cn(t,this._size[0]),cn(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function ms(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return ms(t,e)})):e(t)}var ys="number",gs="number, number";function vs(t){return Math.abs(t)}function xs(t,e){return t+e}function ws(t,e){return t*e}function bs(t){return -t}function _s(t){return Math.ceil(t)}function Ms(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Ns(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Es(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat($r(t,e))}vs.signature=ys,xs.signature=gs,ws.signature=gs,bs.signature=ys,_s.signature=ys,Ms.signature=gs,Ns.signature=gs,Es.signature=gs;var Ss=bn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return ms(t,this)}})}));function Ts(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var Os="equalScalar",zs=bn(Os,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(Os,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Xr(t.re,e.re,r)&&Xr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));bn(Os,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(Os,{"number, number":function(t,e){return Xr(t,e,r.epsilon)}})}));var Cs=bn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!He(e))throw new Error("Invalid datatype: "+e);if($e(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?Mr(e._values):void 0,t._index=Mr(e._index),t._ptr=Mr(e._ptr),t._size=Mr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&Ve(t.index)&&Ve(t.ptr)&&Ve(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Ve(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+_r(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(He(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(Ve(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Xe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new sn(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)cn(u[r],t._size[r]),cn(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if($e(r)?(i=r.size(),r=r.toArray()):i=on(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new sn(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=dn(r,s.length,u,i);}if(!Tr(s,i))throw new sn(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;He(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?Mr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return xn(this._values,_r)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];cn(e,this._size[0]),cn(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!Ve(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new sn(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;He(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),cn(s,o),cn(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ge(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Fe(t)||!jr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!Ve(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Fe(e)||!jr(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+tn(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?Mr(this._values):void 0,index:Mr(this._index),ptr:Mr(this._ptr),size:Mr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;He(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+tn(e,t)+" x "+tn(r,t)+"] density: "+tn(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+tn(this._index[u],t)+", "+tn(s,t)+") ==> "+(this._values?tn(this._values[u],t):"X");}return i},i.prototype.toString=function(){return tn(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!Ve(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Pe(t)&&(t=t.toNumber()),!Fe(t)||!jr(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(Pe(s)&&(s=s.toNumber()),!Fe(s)||!jr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;He(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(Ve(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if($e(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Fe(t)&&jr(t)&&Fe(e)&&jr(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return cn(t,this._size[0]),cn(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),As=bn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return ms(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),Rs=bn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return ms(t,this)}})})),Ds=bn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return ms(t,this)}})})),ks=bn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Is=bn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:bs,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return ms(t,this)}})})),Ls=bn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:vs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return ms(t,this)},Unit:function(t){return t.abs()}})})),Bs=bn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":xs,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Fs=bn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var N=o[M],E=s?y(n,a[M]):y(a[M],n);d(E,m)||(v.push(N),g.push(E));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Ps=bn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:Mr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),Us=bn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Fs({typed:e,equalScalar:s}),o=Ps({typed:e});return e("ceil",{number:function(t){return Xr(t,n(t),r.epsilon)?n(t):_s(t)},"number, number":function(t,e){if(Xr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return Ts(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return Ts(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),ns.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number":function(t,e){return ms(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),js=bn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Ps({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return ms(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),qs=bn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Fs({typed:e,equalScalar:s}),o=Ps({typed:e});return e("floor",{number:function(t){return Xr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Xr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return Ts(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return Ts(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),ns.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return ms(t,this)},"Array | Matrix, number":function(t,e){return ms(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Hs=bn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new sn(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],N=c[d+1],E=M;E<N;E++)w[f=h[E]]=i?v(u[E],s[f][d]):v(s[f][d],u[E]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Vs=bn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new sn(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,C=s&&c?[]:void 0,A=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(N=o[_],E=o[_+1],M=N;M<E;M++)b=a[M],T.push(b),A[b]=D,z&&(z[b]=s[M]);for(N=p[_],E=p[_+1],M=N;M<E;M++)if(A[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?A[b]=null:z[b]=k;}}else T.push(b),R[b]=D,C&&(C[b]=c[M]);if(z&&C)for(M=O[_];M<T.length;)A[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=C[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),$s=bn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Gs=bn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new sn(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),Ws=bn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new sn(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var N=l[M],E=l[M+1],S=N;S<E;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),Ys=bn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new sn(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,N=c[_],E=c[_+1],S=N;S<E;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Zs=bn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new sn(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E=s&&c?[]:void 0,S=[],T=[],O=E?[]:void 0,z=E?[]:void 0,C=[],A=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],N=o[_+1];M<N;M++)b=a[M],S.push(b),C[b]=R,O&&(O[b]=s[M]);for(M=p[_],N=p[_+1];M<N;M++)C[b=l[M]]!==R&&S.push(b),A[b]=R,z&&(z[b]=c[M]);if(E)for(M=T[_];M<S.length;){var D=C[b=S[M]],k=A[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(E.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:E,index:S,ptr:T,size:[y,g],datatype:m})}})),Xs=bn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));bn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ws({typed:e,equalScalar:n}),a=Ys({typed:e}),o=Zs({typed:e,equalScalar:n}),u=Fs({typed:e,equalScalar:n}),h=Xs({typed:e,DenseMatrix:i}),c=Gs({typed:e}),l=Ps({typed:e});return e("mod",{"number, number":Ms,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var Qs=bn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ws,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Ks=bn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Fs({typed:e,equalScalar:s}),u=Ps({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var N=0;N<d;N++){var E=l[N];if(!w(E,b))for(var S=u[N],T=u[N+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(E,a[O])):(M[z]=!0,y.push(z),_[z]=x(E,a[O]));}}for(var C=y.length,A=0;A<C;A++){var R=y[A];m[A]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],N=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),E=0;E<y;E++){M[E]=_.length;var S=l[E],T=l[E+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var C=z+1,A=void 0,R=S;R<T;R++){var D=c[R];O!==C?(A=v(a[z][D],h[R]),O=C):A=g(A,v(a[z][D],h[R]));}O!==C||x(A,w)||(_.push(z),b.push(A));}}return M[y]=_.length,N},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),N=[],E=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var C=u[O],A=u[O+1],R=C;R<A;R++){var D=o[R];E[D]!==T?(E[D]=T,b.push(D),N[D]=g(z,a[R])):N[D]=y(N[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=N[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,N,E,S,T=y?[]:void 0,O=[],z=[],C=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),A=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],N=p[D+1],_=M;_<N;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k?(R[E]=k,O.push(E),A[E]=v(c[_],a[x])):A[E]=g(A[E],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k&&(R[E]=k,O.push(E));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=A[F];}}return z[m]=O.length,C}});return e("multiply",Er({"Array, Array":function(t,e){h(on(t),on(e));var n=this(r(t),r(e));return $e(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),ta=bn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Hs({typed:e}),u=Ys({typed:e}),h=Zs({typed:e,equalScalar:n}),c=$s({typed:e,DenseMatrix:a}),l=Gs({typed:e}),p=Ps({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return ea(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return ea(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return ea(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return ea(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function ea(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new sn(r.length,n.length)}var ra=bn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new sn(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,N=b[l]===_?x[l]:m;g[l][p]=y(M,N);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),na=bn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return ms(t,this)}})}));function ia(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function sa(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:ia(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var aa=bn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=Pe(t)||Pe(e)?i:null;if(Pe(t)&&(t=t.toNumber()),Pe(e)&&(e=e.toNumber()),!jr(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!jr(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=ln([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function oa(){throw new Error('No "bignumber" implementation available')}function ua(){throw new Error('No "fraction" implementation available')}function ha(t,e,r,n){if(!(this instanceof ha))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}ha.prototype=new Error,ha.prototype.constructor=Error,ha.prototype.name="ArgumentsError",ha.prototype.isArgumentsError=!0;var ca=bn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:on,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function la(t,e){if(ma(t)&&fa(t,e))return t[e];if("function"==typeof t[e]&&da(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function pa(t,e,r){if(ma(t)&&fa(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function fa(t,e){return !(!t||"object"!=typeof t)&&(!!Ar(ya,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function da(t,e){return null!=t&&"function"==typeof t[e]&&(!(Ar(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!Ar(ga,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ma(t){return "object"==typeof t&&t&&t.constructor===Object}var ya={length:!0,name:!0},ga={toString:!0,valueOf:!0,toLocaleString:!0},va=bn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ba,"string, Index":xa,"Array, Index, any":function(t,e,n){return r(Mr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(Mr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":wa,"string, Index, string, string":wa,"Object, Index, any":_a})}));function xa(t,e){if(!Xe(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new sn(e.size().length,1);var r=t.length;cn(e.min()[0],r),cn(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function wa(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new sn(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new sn(i.size()[0],r.length);var s=t.length;cn(e.min()[0]),cn(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ba(t,e){if(1!==e.size().length)throw new sn(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return la(t,r)}function _a(t,e,r){if(1!==e.size().length)throw new sn(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=Mr(t);return pa(i,n,r),i}var Ma=bn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){Pe(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!jr(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?ln(a,t,r):a}})),Na=bn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:tn,"any, Object | function | number":tn})})),Ea=bn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):oa,Fraction:n?t=>n(t):ua};return function(t,e){var r=_r(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),Sa=bn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,_r(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,_r(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),Ta=bn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!jr(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:jr(e)||t>=0||r.predictable?Ns(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!jr(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=on(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function Oa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oa(Object(r),!0).forEach((function(e){Ca(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Ca(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Aa="Number of decimals in function round must be an integer",Ra=bn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Fs({typed:e,equalScalar:n}),u=Xs({typed:e,DenseMatrix:a}),h=Ps({typed:e});return e("round",za(za({},Da),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(Aa);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Aa);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(Aa);return t.round(e)},"Array | Matrix":function(t){return ms(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),Da={number:Es,"number, number":function(t,e){if(!jr(e))throw new TypeError(Aa);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Es(t,e)}},ka=bn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));bn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var Ia=bn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),La=bn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Ys({typed:e}),a=ra({typed:e,DenseMatrix:i}),o=Xs({typed:e,DenseMatrix:i}),u=Gs({typed:e}),h=Ps({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Xr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!Ts(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Ba=bn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Fa=bn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});sa((function(t){return new t(1).exp()}),{hasher:Ua}),sa((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:Ua});var Pa=sa((function(t){return t.acos(-1)}),{hasher:Ua});function Ua(t){return t[0].precision}function ja(){return (ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function qa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qa(Object(r),!0).forEach((function(e){Va(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Va(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}sa((function(t){return Pa(t).times(2)}),{hasher:Ua});var $a=bn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!Ue(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)E();}function N(t){return t>="0"&&t<="9"}function E(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?E():"-"===n&&(e+=n,E()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,E(),!N(n))return S(i),null}else {for(;N(n);)e+=n,E();"."===n&&(e+=n,E());}for(;N(n);)e+=n,E();if("E"===n||"e"===n){var s="",a=r;if(s+=n,E(),"+"!==n&&"-"!==n||(s+=n,E()),!N(n))return S(a),e;for(e+=s;N(n);)e+=n,E();}return e}function O(){for(var t="";N(n)||_.isValidAlpha(n);)t+=n,E();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(E(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;E(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(N){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,E(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=C(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),E(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=Mr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])Ar(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(_r(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(_r(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(_r(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(_r(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var C=sa((t=>{if(Ar(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(Ar(B,r)&&Kr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=Ar(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function A(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==C(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ha({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ha(Ha({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,A(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=Mr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(qe(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=Mr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(Ar(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&Ar(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(Ar(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!Ar(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&Ue(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)Ar(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&Ue(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(Ar(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=ja({},R.SHORT,R.LONG),R.BINARY_SHORT=ja({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=ja({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)Ar(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Pa(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!Ar(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(Ar(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(Ar(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(Ar(F,V)){var $=B[F[V]],G={};for(var W in $)Ar($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(Ar(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)Ar(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ar(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!N(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(Ar(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(Ar(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)Ar(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var E in l)Ar(l,E)&&(M[E]=l[E]);M.name=b,_.UNITS[b]=M;}return delete C.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});bn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return ms(t,this)}})}));bn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));bn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Hs({typed:e}),u=Vs({typed:e,equalScalar:i}),h=$s({typed:e,DenseMatrix:s}),c=Gs({typed:e}),l=Ps({typed:e});return e("add",Er({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Za=bn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=$e(t)?t._data:t,c=$e(t)?t._datatype:void 0,l=$e(s)?s._data:s,p=$e(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var N=y(i(h[0][0]),l[0][0]),E=1;E<u;E++)N=m(N,y(i(h[E][0]),l[E][0]));return N}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return $e(t)?t.size():s(t)}})),Xa={end:!0},Ja=bn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(Ar(t,e)&&e in Xa)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!mr(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&Tr(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function Qa(t){return t&&t.isIndexError?new an(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Ka(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return la(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Qa(n)}}}var to=bn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=Ka({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError('Node expected for parameter "object"');if(!dr(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(ar(t)||or(t)||lr(t)||fr(t)||yr(t)||vr(t)||wr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return la(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),eo=bn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(mr))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=yn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(yn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return yn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var ro=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function no(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<ro.length;i++)if(n in ro[i])return i;return null}function io(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=no(r,e);if(null===i)return null;var s=ro[i][n];if(Ar(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function so(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=no(n,r);if(null===o)return null;var u=ro[o][s];if(Ar(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var ao=bn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=Ka({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return pa(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Qa(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!wr(t)&&!ar(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(wr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!dr(this.index))throw new TypeError('IndexNode expected as "index"');if(!mr(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=no(t,e),n=no(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return pa(i,u,s)}}if(wr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return pa(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=la(i,c),u=n(t,e,o),l=a(t,e,r);return pa(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!wr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return pa(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),oo=bn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!mr(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=yn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return gn(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),uo=bn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError("Parameter condition must be a Node");if(!mr(e))throw new TypeError("Parameter trueExpr must be a Node");if(!mr(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(Pe(t))return !t.isZero();if(Ue(t))return !(!t.re&&!t.im);if(qe(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+_r(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.condition.toString(t),i=no(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=no(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=no(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.condition.toHTML(t),i=no(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=no(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=no(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),ho=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},co={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},lo={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},po=function(t,e){return ho({},t,e)},fo={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},mo={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},yo={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(mo.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(mo.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(mo.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(mo.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(mo.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(mo.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(mo.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(mo.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(mo.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(mo.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(mo.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(mo.bitAnd,"${args[1]}\\right)")},bitNot:{1:mo.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(mo.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(mo.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(mo.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(mo.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(mo.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(mo.and,"${args[1]}\\right)")},not:{1:mo.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(mo.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(mo.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(mo.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(mo.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(mo.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(mo.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(mo.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(mo.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(mo.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(mo.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(mo.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(mo.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(mo.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(fo.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},go={deg:"^\\circ"};function vo(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?po:i,a=String(t),o="",u=s(ho({},co),n?ho({},lo):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function xo(t,e){return (e=void 0!==e&&e)?Ar(go,t)?go[t]:"\\mathrm{"+vo(t)+"}":Ar(fo,t)?fo[t]:vo(t)}var wo=bn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return tn(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(_r(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(_r(this.value)){case"string":return "\\mathtt{"+vo(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),bo=bn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!mr(r))throw new TypeError('Node expected for parameter "expr"');if(t in Xa)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=no(t,e),n=no(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);gn(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=vn(this.types,","),u=s+"("+vn(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,pa(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+rn(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+rn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(xo).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),_o=bn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(mr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(Pe(t)?t.toNumber():t,Pe(r)?r.toNumber():r,Pe(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=yn(this.dimensions,(function(r,i){if(xr(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(wr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=la(t,"index");return function(t,e,n){var s=yn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&lr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+rn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),Mo=bn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return mr(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(Ar(this.properties,n)){var i=en(n),s=JSON.parse(i);if(!fa(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)Ar(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)Ar(this.properties,e)&&t(this.properties[e],"properties["+en(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)Ar(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+en(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)Ar(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push(en(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push('<span class="math-symbol math-property">'+rn(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)Ar(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),No=bn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(mr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=no(t,e),o=io(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=no(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===ro[a][c].latexLeftParens){s=[!1];break}if(!1===ro[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=no(n[0],e),d=so(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=no(n[1],e),x=so(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===ro[a][m].latexLeftParens&&(l=!1),!1===ro[f][y].latexParens&&(l=!1)),null!==v&&(!1===ro[a][m].latexRightParens&&(p=!1),!1===ro[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=no(r,e),i=so(t,r,e),s=io(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!da(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=la(t,this.fn),n=yn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,yn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=io(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=io(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+rn(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+rn(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(this.op)+"</span>"):'<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=mo[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=io(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),Eo=bn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),So=bn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!mr(t))throw new TypeError("Node expected");if(!mr(e))throw new TypeError("Node expected");if(n&&!mr(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=no(t,e),n={},i=no(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=no(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=no(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return wr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),To=bn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!la(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+rn(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=no(this,e),n=this.params.map((function(n,i){var s=no(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=mo[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function Oo(){return (Oo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function zo(){return (zo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var Co={createBigNumberClass:ss},Ao={createComplexClass:us},Ro={createMatrixClass:fs},Do={MatrixDependencies:Ro,createDenseMatrixClass:ds},ko={createFractionClass:ls},Io={BigNumberDependencies:Co,ComplexDependencies:Ao,DenseMatrixDependencies:Do,FractionDependencies:ko,createTyped:En},Lo={typedDependencies:Io,createEqualScalar:zs},Bo={MatrixDependencies:Ro,equalScalarDependencies:Lo,typedDependencies:Io,createSparseMatrixClass:Cs},Fo={typedDependencies:Io,createNumber:As},Po={FractionDependencies:ko,typedDependencies:Io,createFraction:Ds},Uo={DenseMatrixDependencies:Do,MatrixDependencies:Ro,SparseMatrixDependencies:Bo,typedDependencies:Io,createMatrix:ks},jo={typedDependencies:Io,createUnaryMinus:Is},qo={typedDependencies:Io,createAbs:Ls},Ho={typedDependencies:Io,createAddScalar:Bs},Vo={BigNumberDependencies:Co,DenseMatrixDependencies:Do,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,zerosDependencies:{BigNumberDependencies:Co,matrixDependencies:Uo,typedDependencies:Io,createZeros:Ma},createRound:Ra},Go={typedDependencies:Io,createMultiplyScalar:Qs},Wo={matrixDependencies:Uo,typedDependencies:Io,createSize:ca},Yo={addScalarDependencies:Ho,dotDependencies:{addScalarDependencies:Ho,conjDependencies:{typedDependencies:Io,createConj:na},multiplyScalarDependencies:Go,sizeDependencies:Wo,typedDependencies:Io,createDot:Za},equalScalarDependencies:Lo,matrixDependencies:Uo,multiplyScalarDependencies:Go,typedDependencies:Io,createMultiply:Ks},Zo={DenseMatrixDependencies:Do,addScalarDependencies:Ho,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,unaryMinusDependencies:jo,createSubtract:ta},Xo={DenseMatrixDependencies:Do,matrixDependencies:Uo,typedDependencies:Io,createLarger:La},Jo={BigNumberDependencies:Co,DenseMatrixDependencies:Do,SparseMatrixDependencies:Bo,matrixDependencies:Uo,typedDependencies:Io,createIdentity:aa},Ko={bignumberDependencies:{BigNumberDependencies:Co,typedDependencies:Io,createBignumber:Rs},fractionDependencies:Po,numberDependencies:Fo,createNumeric:Ea},tu={numericDependencies:Ko,typedDependencies:Io,createDivideScalar:Sa},eu={matrixDependencies:Uo,typedDependencies:Io,createSubset:va},ru={BigNumberDependencies:Co,ComplexDependencies:Ao,FractionDependencies:ko,absDependencies:qo,addScalarDependencies:Ho,divideScalarDependencies:tu,equalDependencies:{DenseMatrixDependencies:Do,equalScalarDependencies:Lo,matrixDependencies:Uo,typedDependencies:Io,createEqual:ka},fixDependencies:{ComplexDependencies:Ao,ceilDependencies:{equalScalarDependencies:Lo,matrixDependencies:Uo,roundDependencies:Vo,typedDependencies:Io,createCeil:Us},floorDependencies:{equalScalarDependencies:Lo,matrixDependencies:Uo,roundDependencies:Vo,typedDependencies:Io,createFloor:qs},matrixDependencies:Uo,typedDependencies:Io,createFix:js},formatDependencies:{typedDependencies:Io,createFormat:Na},isNumericDependencies:{typedDependencies:Io,createIsNumeric:Ss},multiplyScalarDependencies:Go,numberDependencies:Fo,powDependencies:{ComplexDependencies:Ao,fractionDependencies:Po,identityDependencies:Jo,matrixDependencies:Uo,multiplyDependencies:Yo,numberDependencies:Fo,typedDependencies:Io,createPow:Ta},roundDependencies:Vo,subtractDependencies:Zo,createUnitClass:$a},su={createNode:Ja},au={UnitDependencies:ru,NodeDependencies:su,createSymbolNode:bn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return la(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?la(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=rn(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=xo(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:su,subsetDependencies:eu,createAccessorNode:to},ArrayNodeDependencies:{NodeDependencies:su,createArrayNode:eo},AssignmentNodeDependencies:{matrixDependencies:Uo,NodeDependencies:su,subsetDependencies:eu,createAssignmentNode:ao},BlockNodeDependencies:{NodeDependencies:su,ResultSetDependencies:{createResultSet:An},createBlockNode:oo},ConditionalNodeDependencies:{NodeDependencies:su,createConditionalNode:uo},ConstantNodeDependencies:{NodeDependencies:su,createConstantNode:wo},FunctionAssignmentNodeDependencies:{NodeDependencies:su,typedDependencies:Io,createFunctionAssignmentNode:bo},FunctionNodeDependencies:{NodeDependencies:su,SymbolNodeDependencies:au,createFunctionNode:bn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!mr(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(mr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=yn(this.args,(function(r){return r._compile(t,e)}));if(wr(this.fn)){var n=this.fn.name,s=n in t?la(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?la(e,n):s)(a,t,Oo({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?la(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?la(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?la(t,n):s).apply(null,yn(r,(function(r){return r(t,e,i)})))}}if(ar(this.fn)&&dr(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!da(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,Oo({},e,n)):s[l].apply(s,yn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,Oo({},e,n)):s.apply(s,yn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(mr(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(mr(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!mr(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&Ar(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (pr(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+rn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&Ar(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(yo[this.name]&&(r=yo[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:su,RangeDependencies:{createRangeClass:ps},sizeDependencies:Wo,createIndexNode:_o},ObjectNodeDependencies:{NodeDependencies:su,createObjectNode:Mo},OperatorNodeDependencies:{NodeDependencies:su,createOperatorNode:No},ParenthesisNodeDependencies:{NodeDependencies:su,createParenthesisNode:Eo},RangeNodeDependencies:{NodeDependencies:su,createRangeNode:So},RelationalNodeDependencies:{NodeDependencies:su,createRelationalNode:To},SymbolNodeDependencies:au,numericDependencies:Ko,typedDependencies:Io,createParse:bn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return ms(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,N=3,E=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function C(t,e){return t.expression.substr(t.index,e)}function A(t){return C(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(A(t),t.nestingLevel);)R(t);if("#"===A(t))for(;"\n"!==A(t)&&""!==A(t);)t.comment+=A(t),R(t);if(""!==A(t)){if("\n"===A(t)&&!t.nestingLevel)return t.tokenType=_,t.token=A(t),void R(t);var e=A(t),r=C(t,2),n=C(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=C(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=A(t),R(t),t.token+=A(t),R(t);x.isHexDigit(A(t));)t.token+=A(t),R(t);return}if("."===A(t))t.token+=A(t),R(t),x.isDigit(A(t))||(t.tokenType=_);else {for(;x.isDigit(A(t));)t.token+=A(t),R(t);x.isDecimalMark(A(t),k(t))&&(t.token+=A(t),R(t));}for(;x.isDigit(A(t));)t.token+=A(t),R(t);if("E"===A(t)||"e"===A(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=A(t),R(t),"+"!==A(t)&&"-"!==A(t)||(t.token+=A(t),R(t)),!x.isDigit(A(t)))throw at(t,'Digit expected, got "'+A(t)+'"');for(;x.isDigit(A(t));)t.token+=A(t),R(t);if(x.isDecimalMark(A(t),k(t)))throw at(t,'Digit expected, got "'+A(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+A(t)+'"')}else {if(!x.isAlpha(A(t),D(t),k(t))){for(t.tokenType=E;""!==A(t);)t.token+=A(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(A(t),D(t),k(t))||x.isDigit(A(t));)t.token+=A(t),R(t);Ar(T,t.token)?t.tokenType=_:t.tokenType=N;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};zo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(wr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(ar(s))return L(t),n=U(t),new a(s.object,s.index,n);if(fr(s)&&wr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){wr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ar(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ar(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};Ar(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=J(t);for(var s={"+":"add","-":"subtract"};Ar(s,t.token);)n=s[r=t.token],L(t),i=[e,J(t)],e=new d(r,n,i);return e}function J(t){var e,r,n,i;r=e=Q(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ar(s,t.token);)i=s[n=t.token],L(t),r=Q(t),e=new d(n,i,[e,r]);return e}function Q(t){var e,r;for(r=e=K(t);t.tokenType===N||"in"===t.token&&lr(e)||!(t.tokenType!==M||lr(r)||gr(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&lr(r);){if(n.push(zo({},t)),L(t),t.tokenType!==M){zo(t,n.pop());break}if(n.push(zo({},t)),L(t),t.tokenType!==N&&"("!==t.token){n.pop(),zo(t,n.pop());break}zo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ar(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===N&&Ar(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===N||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,Ar(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===N||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;Ar(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!wr(e)&&!ar(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==N)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==A(t)&&'"'!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==A(t)&&"'"!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:Io,createEvaluate:bn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return ms(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return ms(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:tu,equalScalarDependencies:Lo,invDependencies:{absDependencies:qo,addScalarDependencies:Ho,detDependencies:{lupDependencies:{DenseMatrixDependencies:Do,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Xo,smallerDependencies:{DenseMatrixDependencies:Do,matrixDependencies:Uo,typedDependencies:Io,createSmaller:Ia},createFibonacciHeapClass:Ba},addScalarDependencies:Ho,equalScalarDependencies:Lo,createSpaClass:Fa},SparseMatrixDependencies:Bo,absDependencies:qo,addScalarDependencies:Ho,divideScalarDependencies:tu,equalScalarDependencies:Lo,largerDependencies:Xo,matrixDependencies:Uo,multiplyScalarDependencies:Go,subtractDependencies:Zo,typedDependencies:Io,unaryMinusDependencies:jo,createLup:bn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],N=[],E=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),N.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),C=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,C)&&(T=t,C=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,E[1],_,M,N),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return N.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:N,size:E}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=Mr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,N=0,E=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,N)&&(M=e,N=T,E=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],E));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),C=new l({data:v,size:x}),A=[];for(e=0,d=w.length;e<d;e++)A[w[e]]=e;return {L:z,U:C,p:A,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:Uo,multiplyDependencies:Yo,subtractDependencies:Zo,typedDependencies:Io,unaryMinusDependencies:jo,createDet:bn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return Mr(t)},"Array | Matrix":function(t){var e;switch((e=$e(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return Mr(t);case 1:if(1===e[0])return Mr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+tn(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return Mr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+tn(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+tn(e)+")")}}})}))},divideScalarDependencies:tu,identityDependencies:Jo,matrixDependencies:Uo,multiplyDependencies:Yo,typedDependencies:Io,unaryMinusDependencies:jo,createInv:bn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=$e(t)?t.size():on(t);switch(e.length){case 1:if(1===e[0])return $e(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+tn(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return $e(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+tn(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+tn(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],N=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)N[l]=i(N[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)N[l]=n(N[l],p);}}}return g}}))},matrixDependencies:Uo,multiplyDependencies:Yo,typedDependencies:Io,createDivide:bn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Fs({typed:e,equalScalar:i}),u=Ps({typed:e});return e("divide",Er({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var hu={exports:{}};function cu(){}cu.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},hu.exports=cu,hu.exports.TinyEmitter=cu;new l;function vu(t,e,r,n=0){var i;n++;for(let s=(t=t.shadowRoot||t).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const t=null==(i=s.assignedElements)?void 0:i.call(s,{flatten:!0});if(t)for(const i of t)e.call(r,i,n)&&vu(s,e,r,n);e.call(r,s,n)&&vu(s,e,r,n);}}function xu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Br);class wu{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class bu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function _u(t,e=new wu,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(_u(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}function Mu(t,e){if(null===t.offsetParent)return void(e.left=e.right=e.top=e.bottom=0);let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}const Nu=document.createElement("div");function Eu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}Nu.id="VIEWPORT",Nu.style.position="fixed",Nu.style.width="100vw",Nu.style.height="100vh",Nu.style.visibility="hidden",Nu.style.pointerEvents="none";var Su={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(Su);var Tu={exports:{}};function Ou(t,e){return " "+t+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}async function zu(t,e){let r=[];for(const n of t.childNodes)r.push(Cu(n,e));return Promise.all(r).then((t=>t.join("")))}async function Cu(t,e){var r;const n=null==(r=e.replacer)?void 0:r.call(e,t);if("string"==typeof n)return n;if("#document"===t.nodeName||"#document-fragment"===t.nodeName)return zu(t,e);if(t.tagName)return async function(t,e){const r=function(t){var e=t.tagName;return "http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e}(t);let n="<"+r;n+=function(t,e){return t.hasAttribute("xmlns")||!e&&t.namespaceURI===t.parentElement.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(t,0===e.depth);const i=zu(t,e),s="img"===r;for(const a of t.attributes)s&&"src"===a.name?n+=Ou(a.name,await Th.getDataURL(a.value)):n+=Ou(a.name,a.value);return t.childNodes.length>0?(e.depth++,n+=">",n+=await i,n+="</"+r+">",e.depth--):n+="/>",n}(t,e);if("#text"===t.nodeName)return function(t){return (t.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t);if("#comment"===t.nodeName);else if("#cdata-section"===t.nodeName)return function(t){return "<![CDATA["+t.nodeValue+"]]>"}(t);return ""}async function Au(t,e){return (await Cu(t,{depth:0,replacer:e})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(Tu);const Ru=new TextEncoder,Du=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new wu,this.padding=new bu,this.margin=new bu,this.border=new bu,this.childLayers=[],this.rasterizationCount=new Map,this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgHash="",this._svgDocument="",this._svgHashRasterizing="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=t=>{if(this.element===t)return;const e=t,r=Th.layers.get(e);if(r){const t=r.bounds;let n="";const i=`max-width:${t.width+1}px;max-height:${t.height+1}px;min-width:${t.width}px;min-height:${t.height}px;visibility:hidden`;let s=!1;for(const e of r.element.attributes)"src"!==e.name&&("style"==e.name?(n+=Ou(e.name,e.value+";"+i),s=!0):n+=Ou(e.name,e.value));s||(n+=Ou("style",i));const a=e.tagName.toLowerCase();return `<${a} ${n}></${a}>`}},Th.layers.set(t,this),this.id=t.getAttribute(Th.ELEMENT_UID_ATTRIBUTE)||Th.generateElementUID(),t.setAttribute(Th.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(Th.LAYER_ATTRIBUTE,""),this.parentLayer=Th.getClosestLayer(this.element,!1),this.eventCallback("layercreated",{target:t}),Du.cachedCanvases.limit=Th.layers.size*Du.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}trySetFromSVGHash(t){const e=this.cachedBounds.get(t),r=this.cachedMargin.get(t);if(t==this._currentSVGHash)return e&&r&&(this._currentBounds=e,this._currentMargin=r),!0;{const n=Du.svgCanvasHash.get(this._currentSVGHash),i=Du.svgCanvasHash.get(t),s=Du.cachedCanvases.get(i);if(s&&e&&r)return this._currentSVGHash=t,this._currentCanvas=s,this._currentBounds=e,this._currentMargin=r,n!==i&&this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}),!0}return !1}get currentCanvas(){return this._currentCanvas}get currentBounds(){return this._currentBounds}get currentMargin(){return this._currentMargin}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){this._currentSVGHash||(_u(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),Mu(this.element,this.margin),this._currentBounds=this.bounds,this._currentMargin=this.margin),this.needsRefresh=!1,this._updateParentAndChildLayers(),Th.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=Th.getClosestLayer(this.element,!1),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,vu(t,this._tryConvertElementToWebLayer,this);for(const i of r){Th.getClosestLayer(i.element,!1)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(Th.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(Th.ELEMENT_UID_ATTRIBUTE,Th.generateElementUID());if(e.hasAttribute(Th.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=Th.layers.get(e);return t||(t=new Du(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){var t;const e=this.element;if("VIDEO"===e.nodeName)return;_u(e,this.bounds,null==(t=this.parentLayer)?void 0:t.element),Mu(e,this.margin);let{width:r,height:n}=this.bounds;if(r+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),n+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0),r*n>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(e,this.padding),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(e,this.border);const t=Th.attributeHTML(Th.ELEMENT_UID_ATTRIBUTE,""+this.id),i="inline"===getComputedStyle(e).display;Th.updateInputAttributes(e);const s=this._getParentsHTML(e);s[0]=s[0].replace("html","html "+Th.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');let[a,o]=await Promise.all([Th.getRenderingCSS(e),Au(e,this.serializationReplacer)]);o=o.replace(t,`${t} ${Th.RENDERING_ATTRIBUTE}="" ${i?`${Th.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+Th.getPsuedoAttributes(this.pseudoStates));const u='<svg width="'+r+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+a.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+(r+1)+'" height="'+(n+1)+'">'+s[0]+o+s[1]+"</foreignObject></svg>",h=this._svgDocument=u,c=this._svgHash=Th.arrayBufferToBase64(Tu.exports.hash(Ru.encode(h)))+"?w="+r+";h="+n;if(this.cachedBounds.set(c,(new wu).copy(this.bounds)),this.cachedMargin.set(c,(new bu).copy(this.margin)),this.trySetFromSVGHash(c))return;Th.addToRasterizeQueue(this);}else this._currentBounds.copy(this.bounds),this._currentMargin.copy(this.margin);}async rasterize(){return new Promise(((t,e)=>{const r=()=>{Th.addToRenderQueue(this),this.svgImage.onload=null,t();};this.svgImage.onload=()=>{setTimeout(r,10);},this.svgImage.onerror=t=>{e(t);},this._svgHashRasterizing=this._svgHash,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument);}))}render(){if(!this.svgImage.complete||this.svgImage.currentSrc!==this.svgImage.src)return void setTimeout((()=>Th.addToRenderQueue(this)),100);const t=this._svgHashRasterizing;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i,right:s,bottom:a}=this.cachedMargin.get(t);const o=e+n+s,u=r+i+a,h=this._hashingCanvas;let c=h.width,l=h.height;const p=h.getContext("2d");p.clearRect(0,0,c,l),p.imageSmoothingEnabled=!1,p.drawImage(this.svgImage,0,0,o,u,0,0,c,l);const f=p.getImageData(0,0,c,l).data,d=Th.arrayBufferToBase64(Tu.exports.hash(new Uint8Array(f))),m=Du.svgCanvasHash.get(t);Du.svgCanvasHash.set(t,d),m!==d&&Du.svgRetryCount.set(t,0);const y=Du.svgRetryCount.get(t)||0;if(Du.svgRetryCount.set(t,y+1),y>3&&Du.cachedCanvases.has(d))return void(this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(this._svgHash));if(setTimeout((()=>Th.addToRenderQueue(this)),2*(500+1e3*Math.random())^y),m===d)return;const g=this.pixelRatio||parseFloat(this.element.getAttribute(Th.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,v=Du.cachedCanvases.size===Du.cachedCanvases.limit?Du.cachedCanvases.shift()[1]:document.createElement("canvas");let x=v.width=o*g,w=v.height=u*g;const b=v.getContext("2d");b.imageSmoothingEnabled=!1,b.clearRect(0,0,x,w),b.drawImage(this.svgImage,0,0,o,u,0,0,x,w),Du.cachedCanvases.set(d,v),console.log("layer painted x"+y,this.element),this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(t);}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${Th.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n!==document.documentElement?n.parentElement||document.documentElement:null);return [e.join(""),r.join("")]}};let ku=Du;ku.DEFAULT_CACHE_SIZE=4,ku.svgRetryCount=new Map,ku.svgCanvasHash=new Su.LRUMap(1e3),ku.cachedCanvases=new Su.LRUMap(Du.DEFAULT_CACHE_SIZE);var Iu,Lu,Bu=[],Fu="ResizeObserver loop completed with undelivered notifications.";(Lu=Iu||(Iu={})).BORDER_BOX="border-box",Lu.CONTENT_BOX="content-box",Lu.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Pu,Uu=function(t){return Object.freeze(t)},ju=function(t,e){this.inlineSize=t,this.blockSize=e,Uu(this);},qu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Uu(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Hu=function(t){return t instanceof SVGElement&&"getBBox"in t},Vu=function(t){if(Hu(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},$u=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},Gu="undefined"!=typeof window?window:{},Wu=new WeakMap,Yu=/auto|scroll/,Zu=/^tb|vertical/,Xu=/msie|trident/i.test(Gu.navigator&&Gu.navigator.userAgent),Ju=function(t){return parseFloat(t||"0")},Qu=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new ju((r?e:t)||0,(r?t:e)||0)},Ku=Uu({devicePixelContentBoxSize:Qu(),borderBoxSize:Qu(),contentBoxSize:Qu(),contentRect:new qu(0,0,0,0)}),th=function(t,e){if(void 0===e&&(e=!1),Wu.has(t)&&!e)return Wu.get(t);if(Vu(t))return Wu.set(t,Ku),Ku;var r=getComputedStyle(t),n=Hu(t)&&t.ownerSVGElement&&t.getBBox(),i=!Xu&&"border-box"===r.boxSizing,s=Zu.test(r.writingMode||""),a=!n&&Yu.test(r.overflowY||""),o=!n&&Yu.test(r.overflowX||""),u=n?0:Ju(r.paddingTop),h=n?0:Ju(r.paddingRight),c=n?0:Ju(r.paddingBottom),l=n?0:Ju(r.paddingLeft),p=n?0:Ju(r.borderTopWidth),f=n?0:Ju(r.borderRightWidth),d=n?0:Ju(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:Ju(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:Ju(r.width)-b-w,N=n?n.height:Ju(r.height)-_-x,E=M+m+w+g,S=N+y+x+v,T=Uu({devicePixelContentBoxSize:Qu(Math.round(M*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:Qu(E,S,s),contentBoxSize:Qu(M,N,s),contentRect:new qu(l,u,M,N)});return Wu.set(t,T),T},eh=function(t,e,r){var n=th(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Iu.DEVICE_PIXEL_CONTENT_BOX:return a;case Iu.BORDER_BOX:return i;default:return s}},rh=function(t){var e=th(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Uu([e.borderBoxSize]),this.contentBoxSize=Uu([e.contentBoxSize]),this.devicePixelContentBoxSize=Uu([e.devicePixelContentBoxSize]);},nh=function(t){if(Vu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},ih=function(){var t=1/0,e=[];Bu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new rh(e.target),i=nh(e.target);n.push(r),e.lastReportedSize=eh(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},sh=function(t){Bu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(nh(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},ah=function(){var t,e=0;for(sh(e);Bu.some((function(t){return t.activeTargets.length>0}));)e=ih(),sh(e);return Bu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Fu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Fu),window.dispatchEvent(t)),e>0},oh=[],uh=function(t){if(!Pu){var e=0,r=document.createTextNode("");new MutationObserver((function(){return oh.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),Pu=function(){r.textContent=""+(e?e--:e++);};}oh.push(t),Pu();},hh=0,ch={attributes:!0,characterData:!0,childList:!0,subtree:!0},lh=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ph=function(t){return void 0===t&&(t=0),Date.now()+t},fh=!1,dh=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!fh){fh=!0;var r,n=ph(t);r=function(){var r=!1;try{r=ah();}finally{if(fh=!1,t=n-ph(),!hh)return;r?e.run(1e3):t>0?e.run(t):e.start();}},uh((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,ch)};document.body?e():Gu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),lh.forEach((function(e){return Gu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),lh.forEach((function(e){return Gu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),mh=function(t){!hh&&t>0&&dh.start(),!(hh+=t)&&dh.stop();},yh=function(){function t(t,e){this.target=t,this.observedBox=e||Iu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=eh(this.target,this.observedBox,!0);return t=this.target,Hu(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),gh=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},vh=new WeakMap,xh=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},wh=function(){function t(){}return t.connect=function(t,e){var r=new gh(t,e);vh.set(t,r);},t.observe=function(t,e,r){var n=vh.get(t),i=0===n.observationTargets.length;xh(n.observationTargets,e)<0&&(i&&Bu.push(n),n.observationTargets.push(new yh(e,r&&r.box)),mh(1),dh.schedule());},t.unobserve=function(t,e){var r=vh.get(t),n=xh(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&Bu.splice(Bu.indexOf(r),1),r.observationTargets.splice(n,1),mh(-1));},t.disconnect=function(t){var e=this,r=vh.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),bh=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");wh.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$u(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");wh.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$u(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");wh.unobserve(this,t);},t.prototype.disconnect=function(){wh.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const _h=self.ResizeObserver||bh;const Mh=new m,Nh=new m,Eh=new TextDecoder;Promise.resolve();const Sh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;const i=this.containerStyleElement=e.createElement("style");e.head.appendChild(i),i.innerHTML=`\n      [${Sh.RENDERING_CONTAINER_ATTRIBUTE}] {\n        all: initial;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0px;\n      }\n    `;const s=this.renderingStyleElement=e.createElement("style");n.append(s);const a=s.sheet;let o=0;if(xu(a,`[${Sh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",o++),xu(a,`[${Sh.RENDERING_ATTRIBUTE}], [${Sh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",o++),xu(a,`[${Sh.RENDERING_ATTRIBUTE}] [${Sh.LAYER_ATTRIBUTE}], [${Sh.RENDERING_ATTRIBUTE}] [${Sh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",o++),xu(a,`[${Sh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",o++),xu(a,`[${Sh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",o++),xu(a,`[${Sh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; width: 100% !important; height:100% !important; padding:0 !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",o++),xu(a,`[${Sh.RENDERING_PARENT_ATTRIBUTE}]::before, [${Sh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",o++),r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{u();}));}const u=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},h=t=>{var e=t.nodeName.toUpperCase();-1!==c.indexOf(e)&&t.addEventListener("load",u);},c=["STYLE","LINK"],l=new MutationObserver((t=>{var r;for(const n of t){-1!==c.indexOf(n.target.nodeName.toUpperCase())&&(u(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)h(t);}}));l.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,l);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){Sh.tasksPending=!1;const t=Sh.serializeQueue,e=Sh.rasterizeQueue,r=Sh.renderQueue,n=Sh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&Sh.rasterizeTaskCount<Sh.TASK_ASYNC_MAX_COUNT&&(Sh.rasterizeTaskCount++,e.shift().rasterize().finally((()=>{Sh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===Sh.serializeQueue.length&&0===Sh.renderQueue.length&&(0===Sh.rasterizeQueue.length||Sh.rasterizeTaskCount===Sh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,Sh.scheduleIdle(Sh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e,r){if(Sh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t,e){if(document.contains(t))return t;const r=document.createElement("div");r.setAttribute(Th.RENDERING_CONTAINER_ATTRIBUTE,""),r.style.visibility="hidden",r.style.pointerEvents="none",r.style.touchAction="none",r.attachShadow({mode:"open"}).appendChild(t),document.documentElement.appendChild(r);}(t),Sh.initRootNodeObservation(t);const n=new MutationObserver(Sh._handleMutations);this.mutationObservers.set(t,n),this.startMutationObserver(t);const i=new _h((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(Sh.setLayerNeedsRefresh),t.traverseParentLayers(Sh.setLayerNeedsRefresh);}}));i.observe(t),this.resizeObservers.set(t,i),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const s=new ku(t,r);return this.rootLayers.set(t,s),s}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t,e=!0){let r=e?t:t.parentElement;const n=null==r?void 0:r.closest(`[${Sh.LAYER_ATTRIBUTE}]`);if(!n){const r=(null==t?void 0:t.getRootNode()).host;if(r)return this.getClosestLayer(r,e)}return this.layers.get(n)}static parseCSSTransform(t,e,r,n,i=new m){const s=t.transform,a=t.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var o=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=o[0],i.elements[1]=o[1],i.elements[4]=o[2],i.elements[5]=o[3],i.elements[12]=o[4],i.elements[13]=o[5];}else {if(0!=s.indexOf("matrix3d("))return null;o=s.substring(9,s.length-1).split(", ").map(parseFloat);i.fromArray(o);}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=n,i.elements[13]*=-1*n;var u=a.split(" ").map(parseFloat),h=(u[0]-e/2)*n,c=(u[1]-r/2)*n*-1,l=u[2]||0,p=Mh.identity().makeTranslation(-h,-c,-l),f=Nh.identity().makeTranslation(h,c,l);for(const d of i.elements)if(isNaN(d))return null;return i.premultiply(f).multiply(p)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(Sh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(Sh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(Sh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(Sh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=Sh.mutationObservers.values();for(const e of t)Sh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of Sh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){Sh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${Sh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${Sh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${Sh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${Sh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t,e){return t=new URL(t,window.location.href).href,new Promise((r=>{var n=new XMLHttpRequest;n.open("GET",t,!0),e&&n.setRequestHeader("accept",e),n.responseType="arraybuffer",n.onload=()=>{r(n);},n.onerror=()=>{r(n);},n.send();}))}static async getRenderingCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));n.push(this.renderingStyleElement);const i=t.getRootNode()instanceof ShadowRoot;function s(t){let e="",r="";for(const n of t)n.type===CSSRule.FONT_FACE_RULE&&(r+="\n\n"+n.cssText),e+="\n\n"+n.cssText;return {allRules:e,fontRules:r}}for(const a of n)r.has(a)||r.set(a,new Promise((t=>{const n=setInterval((()=>{if(a.sheet){clearInterval(n);const o=s(a.sheet.rules);if(i&&o.fontRules){const t=document.createElement("style");t.innerHTML=o.fontRules,document.head.appendChild(t),r.set(t,Promise.resolve(""));}this._addDynamicPseudoClassRules(e),t(o.allRules);}}),10);})).then((t=>this.generateEmbeddedCSS(window.location.href,t))));return Promise.all(r.values())}static async getDataURL(t){if(this.dataURLMap.has(t))return this.dataURLMap.get(t);const e=new Promise((async e=>{var r;const n=await this.getURL(t),i=new Uint8Array(n.response),s=null==(r=n.getResponseHeader("Content-Type"))?void 0:r.split(";")[0];let a="";if("text/css"==s){let e=Eh.decode(i);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);r.length>0&&(a="data:"+s+";base64,"+r);}else a="data:"+s+";base64,"+this.arrayBufferToBase64(i);e(a);}));return this.dataURLMap.set(t,e),e}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let Th=Sh;if(Th.ATTRIBUTE_PREFIX="xr",Th._nextUID=0,Th.serializer=new XMLSerializer,Th.rootLayers=new Map,Th.layers=new Map,Th.mutationObservers=new Map,Th.resizeObservers=new Map,Th.serializeQueue=[],Th.rasterizeQueue=[],Th.renderQueue=[],Th.focusElement=null,Th.activeElement=null,Th.targetElement=null,Th.rootNodeObservers=new Map,Th.TASK_ASYNC_MAX_COUNT=2,Th.TASK_SYNC_MAX_TIME=200,Th.rasterizeTaskCount=0,Th.tasksPending=!1,Th._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=Sh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(Sh.setLayerNeedsRefresh):r.traverseLayers(Sh.setLayerNeedsRefresh);}}},Th._triggerRefresh=async t=>{const e=Sh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(Sh.setLayerNeedsRefresh):e.traverseLayers(Sh.setLayerNeedsRefresh));},Th.embeddedCSS=new Map,Th.dataURLMap=new Map,self.THREE)var Oh=self.THREE;else Oh=t;const zh=new Oh.Matrix4,Ch=new Oh.Vector3,Ah=new Oh.Vector3,Rh=new wu,Dh=new wu,kh=Symbol("ON_BEFORE_UPDATE");class Ih extends Oh.Object3D{constructor(t,e={}){super(),this.element=t,this.options=e,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new Oh.Mesh(Bh.GEOMETRY,new Oh.MeshBasicMaterial({side:Oh.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new Oh.Mesh(Bh.GEOMETRY,new Oh.MeshBasicMaterial({visible:!1})),this.cursor=new Oh.Object3D,this.depthMaterial=new Oh.MeshDepthMaterial({depthPacking:Oh.RGBADepthPacking,alphaTest:.001}),this.domLayout=new Oh.Object3D,this.domSize=new Oh.Vector3(1,1,1),this.bounds=new wu,this.margin=new bu,this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=t.id,this._webLayer=Th.getClosestLayer(t),t.layer=this,this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(t,e,r)=>{this._camera=r;},this._boundsMesh.matrixAutoUpdate=!0,Bh.layersByElement.set(this.element,this),Bh.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new Oh.VideoTexture(t),e.wrapS=Oh.ClampToEdgeWrapping,e.wrapT=Oh.ClampToEdgeWrapping,e.minFilter=Oh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.currentCanvas;let e=this.textures.get(t);return t&&!e&&(e=new Oh.Texture(t),e.needsUpdate=!0,e.wrapS=Oh.ClampToEdgeWrapping,e.wrapT=Oh.ClampToEdgeWrapping,e.minFilter=Oh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(Th.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get parentWebLayer(){return this._webLayer.parentLayer&&Bh.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){var e;this._webLayer.refresh(),this.childWebLayers.length=0;for(const r of this._webLayer.childLayers){const n=Bh.layersByElement.get(null==(e=Th.getClosestLayer(r.element))?void 0:e.element);n&&(this.childWebLayers.push(n),t&&n.refresh(t));}this._refreshVideoBounds();}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(Ch.setFromMatrixPosition(this.matrix).z+Ch.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Ch).applyMatrix4(this._camera.matrixWorldInverse).z);let t=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=t:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index);}}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;if(e&&(e.image&&r.map!==e||this.textureNeedsUpdate)){const t=this.contentMesh.scale,n=Math.abs(t.x*this.scale.x/t.y*this.scale.y),i=this.domSize.x/this.domSize.y;Math.abs(i-n)<1e3&&(r.map=e,this.depthMaterial.map=e,this.textureNeedsUpdate=!1,r.needsUpdate=!0,e.needsUpdate=!0,this.depthMaterial.needsUpdate=!0);}r.transparent=!0;const n=t.material.opacity<.005;n?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&n&&(this.parent&&this.parent.remove(this),this.dispose());}get rootWebLayer(){return Bh.layersByElement.get(this._webLayer.rootLayer.element)}[kh](){}_doUpdate(){this[kh](),this.updateContent(),this.updateLayout(),this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),Th.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){var e;const r=this.element.querySelector(t)||(null==(e=this.element.shadowRoot)?void 0:e.querySelector(t));if(r)return Bh.layersByElement.get(r)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),Th.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds.copy(this._webLayer.currentBounds),{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_updateDOMLayout(){if(this.needsRemoval)return;const{currentBounds:t,currentMargin:e}=this._webLayer;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const r="VIDEO"===this.element.nodeName,n=r?this.bounds:this.bounds.copy(t),i=r?this.margin:this.margin.copy(e),s=n.width+i.left+i.right,a=n.height+i.top+i.bottom,o=n.width,u=n.height,h=1/Bh.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(h*(o+i.left+i.right),1e-5),Math.max(h*(u+i.top+i.bottom),1e-5),1),!Bh.shouldApplyDOMLayout(this))return;const c=this.parentWebLayer;if(!c)return;const l=c.bounds,p=c.margin,f=l.width+p.left+p.right,d=l.height+p.bottom+p.bottom,m=-f/2+p.left,y=d/2-p.top;this.domLayout.position.set(h*(m+s/2+n.left-i.left),h*(y-a/2-n.top+i.top),0);const g=getComputedStyle(this.element),v=g.transform;if(v&&"none"!==v){const t=Th.parseCSSTransform(g,n.width,n.height,h,zh);t&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(t),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale));}}}const Lh=class extends Oh.Object3D{constructor(t,e={}){super(),this.options=e,this._interactionRays=[],this._raycaster=new Oh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);};const r="string"==typeof t?Eu(t):t;Th.createLayerTree(r,e,((t,{target:e})=>{var n,i,s,a,o,u;if("layercreated"===t){const t=new Ih(e,this.options);e===r?(t[kh]=()=>this._updateInteractions(),t.isRoot=!0,this.rootLayer=t,this.add(t)):null==(n=t.parentWebLayer)||n.add(t),null==(s=(i=this.options).onLayerCreate)||s.call(i,t);}else if("layerpainted"===t){const t=Th.layers.get(e),r=Lh.layersByElement.get(t.element);r.textureNeedsUpdate=!0,null==(o=(a=this.options).onLayerPaint)||o.call(a,r);}else if("layermoved"===t){const t=Lh.layersByElement.get(e);null==(u=t.parentWebLayer)||u.add(t);}})),this.refresh(),this.update();}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}querySelector(t){return this.rootLayer.querySelector(t)}refresh(){this.rootLayer.refresh(!0);}update(){this.rootLayer.update(!0);}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(t,e){const r=t.object.parent,n=e.object.parent;return r.depth!==n.depth?n.depth-r.depth:n.index-r.index}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof Oh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(Ch),e.getWorldDirection(Ah).negate()),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=Lh.layersByMesh;t instanceof Oh.Ray?this._raycaster.ray.copy(t):this._raycaster.ray.set(t.getWorldPosition(Ch),t.getWorldDirection(Ah).negate()),r.length=0,e.intersectObject(this,!0,r),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=_u(t.element,Rh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return vu(t.element,(t=>{if(!r.contains(t))return !1;const n=_u(t,Dh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let Bh=Lh;Bh.layersByElement=new WeakMap,Bh.layersByMesh=new WeakMap,Bh.DEFAULT_LAYER_SEPARATION=.001,Bh.DEFAULT_PIXELS_PER_UNIT=1e3,Bh.GEOMETRY=new Oh.PlaneGeometry(1,1,2,2);new m;new m;

export { Bh as B, Fragment as F, popScopeId as a, createVNode as b, createBlock as c, createApp as d, readonly as e, createTextVNode as f, inject as i, openBlock as o, pushScopeId as p, reactive as r, toDisplayString as t, unref as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTI3NTA2ZTRiLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtZG9tL2Rpc3QvcnVudGltZS1kb20uZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvVmVjdG9yMi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRoVXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9WZWN0b3IzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvRXVsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQ29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQm94Mi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9Cb3gzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1JheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9MaW5lMy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRyaXgzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1BsYW5lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvbWF0aC11dGlscy50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1NwYXRpYWxNZXRyaWNzLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvU3BhdGlhbExheW91dC50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9wbW90aW9uL2Vhc2luZy9kaXN0L2Vhc2luZy5lcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1RyYW5zaXRpb25hYmxlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2lzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL29iamVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90eXBlZC1mdW5jdGlvbi90eXBlZC1mdW5jdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9udW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvSW5kZXhFcnJvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mYWN0b3J5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2NvcmUvZnVuY3Rpb24vdHlwZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9yZXN1bHRzZXQvUmVzdWx0U2V0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2RlY2ltYWwuanMvZGVjaW1hbC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9iaWdudW1iZXIvQmlnTnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvbXBsZXguanMvY29tcGxleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2NvbXBsZXgvQ29tcGxleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFjdGlvbi5qcy9mcmFjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2ZyYWN0aW9uL0ZyYWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1JhbmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L01hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9EZW5zZU1hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb2xsZWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3BsYWluL251bWJlci9hcml0aG1ldGljLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3V0aWxzL2lzTnVtZXJpYy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9lcXVhbFNjYWxhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb21wbGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1NwYXJzZU1hdHJpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL251bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2JpZ251bWJlci9mdW5jdGlvbi9iaWdudW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9mcmFjdGlvbi9mdW5jdGlvbi9mcmFjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9mdW5jdGlvbi9tYXRyaXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy91bmFyeU1pbnVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWRkU2NhbGFyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvY2VpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2ZpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2Zsb29yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbW9kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbXVsdGlwbHlTY2FsYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9tdWx0aXBseS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3N1YnRyYWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2NvbXBsZXgvY29uai5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9scnVRdWV1ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mdW5jdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaWRlbnRpdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbm9vcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lcnJvci9Bcmd1bWVudHNFcnJvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvc2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jdXN0b21zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9zdWJzZXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3plcm9zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3N0cmluZy9mb3JtYXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vdXRpbHMvbnVtZXJpYy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2RpdmlkZVNjYWxhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3Bvdy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3JvdW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvZXF1YWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9zbWFsbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvbGFyZ2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L0ZpYm9uYWNjaUhlYXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvU3BhLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L1VuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL3VuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL2NyZWF0ZVVuaXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9hZGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RvdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2tleXdvcmRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Ob2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS91dGlscy9hY2Nlc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0FjY2Vzc29yTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQXJyYXlOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vb3BlcmF0b3JzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Bc3NpZ25tZW50Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvdXRpbHMvYXNzaWduLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9CbG9ja05vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0NvbmRpdGlvbmFsTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9lc2NhcGUtbGF0ZXgvZGlzdC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9sYXRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQ29uc3RhbnROb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbkFzc2lnbm1lbnROb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9JbmRleE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09iamVjdE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09wZXJhdG9yTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUGFyZW50aGVzaXNOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9SYW5nZU5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1JlbGF0aW9uYWxOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbk5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNaZXJvcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRG90LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29uai5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnbnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVW5pdENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXF1YWwuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDZWlsLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRmxvb3IuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGb3JtYXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJc051bWVyaWMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQb3cuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1N5bWJvbE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0V2YWx1YXRlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUGFyc2UuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBY2Nlc3Nvck5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBcnJheU5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Jsb2NrTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1Jlc3VsdFNldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbmRpdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbnN0YW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGdW5jdGlvbk5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbmRleE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSYW5nZUNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzT2JqZWN0Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc09wZXJhdG9yTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1BhcmVudGhlc2lzTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JhbmdlTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JlbGF0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2Z1bmN0aW9uL2V2YWx1YXRlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEaXZpZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbnYuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNMdXAuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTcGFDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZpYm9uYWNjaUhlYXBDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NtYWxsZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FsZ2VicmEvZGVjb21wb3NpdGlvbi9sdXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RldC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaW52LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZGl2aWRlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RpbnktZW1pdHRlci9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1NwaGVyaWNhbENvb3JkaW5hdGUudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL2RvbS11dGlscy50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXRleHQtZW5jb2RpbmcvdGV4dC5taW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbHJ1X21hcC9scnUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL3htbC1zZXJpYWxpemVyLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3Qtc2hhMjU2L3NoYTI1Ni5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy93ZWItbGF5ZXIvV2ViTGF5ZXIudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1sYXllci9XZWJSZW5kZXJlci50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy93ZWItbGF5ZXIvdGhyZWUvdGhyZWUtd2ViLWxheWVyLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2V0aGVyZWFsL2V0aGVyZWFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXlcclxuICogaXMgaW4gdGhhdCBtYXAuXHJcbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXHJcbiAqIFxcL1xcKiNcXF9cXF9QVVJFXFxfXFxfXFwqXFwvXHJcbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIsIGV4cGVjdHNMb3dlckNhc2UpIHtcclxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyB2YWwgPT4gISFtYXBbdmFsLnRvTG93ZXJDYXNlKCldIDogdmFsID0+ICEhbWFwW3ZhbF07XHJcbn1cblxuLyoqXHJcbiAqIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXHJcbiAqL1xyXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcclxuICAgIFsxIC8qIFRFWFQgKi9dOiBgVEVYVGAsXHJcbiAgICBbMiAvKiBDTEFTUyAqL106IGBDTEFTU2AsXHJcbiAgICBbNCAvKiBTVFlMRSAqL106IGBTVFlMRWAsXHJcbiAgICBbOCAvKiBQUk9QUyAqL106IGBQUk9QU2AsXHJcbiAgICBbMTYgLyogRlVMTF9QUk9QUyAqL106IGBGVUxMX1BST1BTYCxcclxuICAgIFszMiAvKiBIWURSQVRFX0VWRU5UUyAqL106IGBIWURSQVRFX0VWRU5UU2AsXHJcbiAgICBbNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovXTogYFNUQUJMRV9GUkFHTUVOVGAsXHJcbiAgICBbMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovXTogYEtFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFsyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqL106IGBVTktFWUVEX0ZSQUdNRU5UYCxcclxuICAgIFs1MTIgLyogTkVFRF9QQVRDSCAqL106IGBORUVEX1BBVENIYCxcclxuICAgIFsxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi9dOiBgRFlOQU1JQ19TTE9UU2AsXHJcbiAgICBbMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqL106IGBERVZfUk9PVF9GUkFHTUVOVGAsXHJcbiAgICBbLTEgLyogSE9JU1RFRCAqL106IGBIT0lTVEVEYCxcclxuICAgIFstMiAvKiBCQUlMICovXTogYEJBSUxgXHJcbn07XG5cbi8qKlxyXG4gKiBEZXYgb25seVxyXG4gKi9cclxuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcclxuICAgIFsxIC8qIFNUQUJMRSAqL106ICdTVEFCTEUnLFxyXG4gICAgWzIgLyogRFlOQU1JQyAqL106ICdEWU5BTUlDJyxcclxuICAgIFszIC8qIEZPUldBUkRFRCAqL106ICdGT1JXQVJERUQnXHJcbn07XG5cbmNvbnN0IEdMT0JBTFNfV0hJVEVfTElTVEVEID0gJ0luZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksJyArXHJcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcclxuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XHJcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChHTE9CQUxTX1dISVRFX0xJU1RFRCk7XG5cbmNvbnN0IHJhbmdlID0gMjtcclxuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcclxuICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KC9cXHI/XFxuLyk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcclxuICAgICAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goYCR7bGluZX0keycgJy5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIGxpbmVMZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgxLCBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnICcucmVwZWF0KHBhZCkgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA+IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyAnXicucmVwZWF0KGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xyXG59XG5cbi8qKlxyXG4gKiBPbiB0aGUgY2xpZW50IHdlIG9ubHkgbmVlZCB0byBvZmZlciBzcGVjaWFsIGNhc2VzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdFxyXG4gKiBoYXZlIGRpZmZlcmVudCBuYW1lcyBmcm9tIHRoZWlyIGNvcnJlc3BvbmRpbmcgZG9tIHByb3BlcnRpZXM6XHJcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxyXG4gKiAtIGFsbG93ZnVsbHNjcmVlbiAtPiBhbGxvd0Z1bGxzY3JlZW5cclxuICogLSBmb3Jtbm92YWxpZGF0ZSAtPiBmb3JtTm9WYWxpZGF0ZVxyXG4gKiAtIGlzbWFwIC0+IGlzTWFwXHJcbiAqIC0gbm9tb2R1bGUgLT4gbm9Nb2R1bGVcclxuICogLSBub3ZhbGlkYXRlIC0+IG5vVmFsaWRhdGVcclxuICogLSByZWFkb25seSAtPiByZWFkT25seVxyXG4gKi9cclxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xyXG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcclxuLyoqXHJcbiAqIFRoZSBmdWxsIGxpc3QgaXMgbmVlZGVkIGR1cmluZyBTU1IgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBpbml0aWFsIG1hcmt1cC5cclxuICovXHJcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyArXHJcbiAgICBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixgICtcclxuICAgIGBsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGAgK1xyXG4gICAgYGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgKTtcclxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xyXG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XHJcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcclxuICAgIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XHJcbiAgICB9XHJcbiAgICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcclxuICAgIGlmIChpc1Vuc2FmZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlKTtcclxufVxyXG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcclxuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXHJcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXHJcbiAgICBodG1sRm9yOiAnZm9yJyxcclxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXHJcbn07XHJcbi8qKlxyXG4gKiBDU1MgcHJvcGVydGllcyB0aGF0IGFjY2VwdCBwbGFpbiBudW1iZXJzXHJcbiAqL1xyXG5jb25zdCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsYm9yZGVyLWltYWdlLW91dHNldCxib3JkZXItaW1hZ2Utc2xpY2UsYCArXHJcbiAgICBgYm9yZGVyLWltYWdlLXdpZHRoLGJveC1mbGV4LGJveC1mbGV4LWdyb3VwLGJveC1vcmRpbmFsLWdyb3VwLGNvbHVtbi1jb3VudCxgICtcclxuICAgIGBjb2x1bW5zLGZsZXgsZmxleC1ncm93LGZsZXgtcG9zaXRpdmUsZmxleC1zaHJpbmssZmxleC1uZWdhdGl2ZSxmbGV4LW9yZGVyLGAgK1xyXG4gICAgYGdyaWQtcm93LGdyaWQtcm93LWVuZCxncmlkLXJvdy1zcGFuLGdyaWQtcm93LXN0YXJ0LGdyaWQtY29sdW1uLGAgK1xyXG4gICAgYGdyaWQtY29sdW1uLWVuZCxncmlkLWNvbHVtbi1zcGFuLGdyaWQtY29sdW1uLXN0YXJ0LGZvbnQtd2VpZ2h0LGxpbmUtY2xhbXAsYCArXHJcbiAgICBgbGluZS1oZWlnaHQsb3BhY2l0eSxvcmRlcixvcnBoYW5zLHRhYi1zaXplLHdpZG93cyx6LWluZGV4LHpvb20sYCArXHJcbiAgICAvLyBTVkdcclxuICAgIGBmaWxsLW9wYWNpdHksZmxvb2Qtb3BhY2l0eSxzdG9wLW9wYWNpdHksc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxgICtcclxuICAgIGBzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGhgKTtcclxuLyoqXHJcbiAqIEtub3duIGF0dHJpYnV0ZXMsIHRoaXMgaXMgdXNlZCBmb3Igc3RyaW5naWZpY2F0aW9uIG9mIHJ1bnRpbWUgc3RhdGljIG5vZGVzXHJcbiAqIHNvIHRoYXQgd2UgZG9uJ3Qgc3RyaW5naWZ5IGJpbmRpbmdzIHRoYXQgY2Fubm90IGJlIHNldCBmcm9tIEhUTUwuXHJcbiAqIERvbid0IGFsc28gZm9yZ2V0IHRvIGFsbG93IGBkYXRhLSpgIGFuZCBgYXJpYS0qYCFcclxuICogR2VuZXJhdGVkIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9BdHRyaWJ1dGVzXHJcbiAqL1xyXG5jb25zdCBpc0tub3duQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGAgK1xyXG4gICAgYGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGAgK1xyXG4gICAgYGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGAgK1xyXG4gICAgYGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxgICtcclxuICAgIGBjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxgICtcclxuICAgIGBkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sYCArXHJcbiAgICBgZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxgICtcclxuICAgIGBoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbnRlZ3JpdHksYCArXHJcbiAgICBgaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LGAgK1xyXG4gICAgYG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsYCArXHJcbiAgICBgb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LGAgK1xyXG4gICAgYHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsYCArXHJcbiAgICBgc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LGAgK1xyXG4gICAgYHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLGAgK1xyXG4gICAgYHZhbHVlLHdpZHRoLHdyYXBgKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU3R5bGUoaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xyXG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooLispLztcclxuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGNzc1RleHQuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XHJcbiAgICBsZXQgcmV0ID0gJyc7XHJcbiAgICBpZiAoIXN0eWxlcykge1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xyXG4gICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHxcclxuICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wKG5vcm1hbGl6ZWRLZXkpKSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciB2YWxpZCB2YWx1ZXNcclxuICAgICAgICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xyXG4gICAgbGV0IHJlcyA9ICcnO1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJlcyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy50cmltKCk7XHJcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50XHJcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xyXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXHJcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXHJcbiAgICAnZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xyXG4gICAgJ3RpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsJyArXHJcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xyXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcclxuICAgICdvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LCcgK1xyXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxyXG5jb25zdCBTVkdfVEFHUyA9ICdzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsJyArXHJcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcclxuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xyXG4gICAgJ2ZlRGlzdGFuY2VMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLCcgK1xyXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXHJcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcclxuICAgICdmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssJyArXHJcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xyXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXHJcbiAgICAndGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3JztcclxuY29uc3QgVk9JRF9UQUdTID0gJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJztcclxuY29uc3QgaXNIVE1MVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEhUTUxfVEFHUyk7XHJcbmNvbnN0IGlzU1ZHVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFNWR19UQUdTKTtcclxuY29uc3QgaXNWb2lkVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcclxuICAgIGNvbnN0IHN0ciA9ICcnICsgc3RyaW5nO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBsZXQgZXNjYXBlZDtcclxuICAgIGxldCBpbmRleDtcclxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xyXG4gICAgICAgICAgICBjYXNlIDM0OiAvLyBcIlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmcXVvdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6IC8vICZcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmFtcDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vICdcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJiMzOTsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjA6IC8vIDxcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmx0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MjogLy8gPlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmZ3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgIGh0bWwgKz0gZXNjYXBlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xyXG59XHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTIvc3ludGF4Lmh0bWwjY29tbWVudHNcclxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcclxuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsICcnKTtcclxufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xyXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVxdWFsO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcclxuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xyXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcclxuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcclxuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcclxufVxyXG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcclxuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcclxufVxuXG4vKipcclxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc09iamVjdCh2YWwpXHJcbiAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XHJcbiAgICBpZiAoaXNNYXAodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xyXG4gICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn07XG5cbi8qKlxyXG4gKiBMaXN0IG9mIEBiYWJlbC9wYXJzZXIgcGx1Z2lucyB0aGF0IGFyZSB1c2VkIGZvciB0ZW1wbGF0ZSBleHByZXNzaW9uXHJcbiAqIHRyYW5zZm9ybXMgYW5kIFNGQyBzY3JpcHQgdHJhbnNmb3Jtcy4gQnkgZGVmYXVsdCB3ZSBlbmFibGUgcHJvcG9zYWxzIHNsYXRlZFxyXG4gKiBmb3IgRVMyMDIwLiBUaGlzIHdpbGwgbmVlZCB0byBiZSB1cGRhdGVkIGFzIHRoZSBzcGVjIG1vdmVzIGZvcndhcmQuXHJcbiAqIEZ1bGwgbGlzdCBhdCBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9uZXh0L2JhYmVsLXBhcnNlciNwbHVnaW5zXHJcbiAqL1xyXG5jb25zdCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zID0gW1xyXG4gICAgJ2JpZ0ludCcsXHJcbiAgICAnb3B0aW9uYWxDaGFpbmluZycsXHJcbiAgICAnbnVsbGlzaENvYWxlc2NpbmdPcGVyYXRvcidcclxuXTtcclxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXHJcbiAgICA6IHt9O1xyXG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xyXG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cclxuICovXHJcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XHJcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcclxuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xyXG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XHJcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XHJcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XHJcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xyXG4gICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xyXG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcclxuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdmFsIGluc3RhbmNlb2YgRGF0ZTtcclxuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XHJcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXHJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn07XHJcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcclxuICAgIGtleSAhPT0gJ05hTicgJiZcclxuICAgIGtleVswXSAhPT0gJy0nICYmXHJcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XHJcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxyXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXHJcbicsa2V5LHJlZiwnICtcclxuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XHJcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoKHN0cikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XHJcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xyXG59KTtcclxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gKHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCkpO1xyXG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxyXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gdmFsdWUgIT09IG9sZFZhbHVlICYmICh2YWx1ZSA9PT0gdmFsdWUgfHwgb2xkVmFsdWUgPT09IG9sZFZhbHVlKTtcclxuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xyXG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn07XHJcbmxldCBfZ2xvYmFsVGhpcztcclxuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcclxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxyXG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xyXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcclxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XHJcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkF0dHIsIGlzTWFwLCBpc01vZGVsTGlzdGVuZXIsIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiaW1wb3J0IHsgRU1QVFlfT0JKLCBpc0FycmF5LCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgZXh0ZW5kLCBoYXNPd24sIGlzT2JqZWN0LCBoYXNDaGFuZ2VkLCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgZWZmZWN0U3RhY2sgPSBbXTtcclxubGV0IGFjdGl2ZUVmZmVjdDtcclxuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xyXG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xyXG5mdW5jdGlvbiBpc0VmZmVjdChmbikge1xyXG4gICAgcmV0dXJuIGZuICYmIGZuLl9pc0VmZmVjdCA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcclxuICAgIGlmIChpc0VmZmVjdChmbikpIHtcclxuICAgICAgICBmbiA9IGZuLnJhdztcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdCA9IGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKTtcclxuICAgIGlmICghb3B0aW9ucy5sYXp5KSB7XHJcbiAgICAgICAgZWZmZWN0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHN0b3AoZWZmZWN0KSB7XHJcbiAgICBpZiAoZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgIGNsZWFudXAoZWZmZWN0KTtcclxuICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnMub25TdG9wKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uU3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZmZlY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxubGV0IHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlRWZmZWN0KGZuLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBlZmZlY3QgPSBmdW5jdGlvbiByZWFjdGl2ZUVmZmVjdCgpIHtcclxuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZWZmZWN0U3RhY2suaW5jbHVkZXMoZWZmZWN0KSkge1xyXG4gICAgICAgICAgICBjbGVhbnVwKGVmZmVjdCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVUcmFja2luZygpO1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0U3RhY2sucHVzaChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gZWZmZWN0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IGVmZmVjdFN0YWNrW2VmZmVjdFN0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVmZmVjdC5pZCA9IHVpZCsrO1xyXG4gICAgZWZmZWN0LmFsbG93UmVjdXJzZSA9ICEhb3B0aW9ucy5hbGxvd1JlY3Vyc2U7XHJcbiAgICBlZmZlY3QuX2lzRWZmZWN0ID0gdHJ1ZTtcclxuICAgIGVmZmVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgZWZmZWN0LnJhdyA9IGZuO1xyXG4gICAgZWZmZWN0LmRlcHMgPSBbXTtcclxuICAgIGVmZmVjdC5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIHJldHVybiBlZmZlY3Q7XHJcbn1cclxuZnVuY3Rpb24gY2xlYW51cChlZmZlY3QpIHtcclxuICAgIGNvbnN0IHsgZGVwcyB9ID0gZWZmZWN0O1xyXG4gICAgaWYgKGRlcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlcHNbaV0uZGVsZXRlKGVmZmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlcHMubGVuZ3RoID0gMDtcclxuICAgIH1cclxufVxyXG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xyXG5jb25zdCB0cmFja1N0YWNrID0gW107XHJcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XHJcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xyXG4gICAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBlbmFibGVUcmFja2luZygpIHtcclxuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XHJcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcclxuICAgIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xyXG4gICAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogbGFzdDtcclxufVxyXG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xyXG4gICAgaWYgKCFzaG91bGRUcmFjayB8fCBhY3RpdmVFZmZlY3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKCFkZXBzTWFwKSB7XHJcbiAgICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIChkZXBzTWFwID0gbmV3IE1hcCgpKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcclxuICAgIGlmICghZGVwKSB7XHJcbiAgICAgICAgZGVwc01hcC5zZXQoa2V5LCAoZGVwID0gbmV3IFNldCgpKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRlcC5oYXMoYWN0aXZlRWZmZWN0KSkge1xyXG4gICAgICAgIGRlcC5hZGQoYWN0aXZlRWZmZWN0KTtcclxuICAgICAgICBhY3RpdmVFZmZlY3QuZGVwcy5wdXNoKGRlcCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhY3RpdmVFZmZlY3Qub3B0aW9ucy5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUVmZmVjdC5vcHRpb25zLm9uVHJhY2soe1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0OiBhY3RpdmVFZmZlY3QsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAga2V5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xyXG4gICAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmICghZGVwc01hcCkge1xyXG4gICAgICAgIC8vIG5ldmVyIGJlZW4gdHJhY2tlZFxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGVmZmVjdHMgPSBuZXcgU2V0KCk7XHJcbiAgICBjb25zdCBhZGQgPSAoZWZmZWN0c1RvQWRkKSA9PiB7XHJcbiAgICAgICAgaWYgKGVmZmVjdHNUb0FkZCkge1xyXG4gICAgICAgICAgICBlZmZlY3RzVG9BZGQuZm9yRWFjaChlZmZlY3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdCAhPT0gYWN0aXZlRWZmZWN0IHx8IGVmZmVjdC5hbGxvd1JlY3Vyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLmFkZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIiAvKiBDTEVBUiAqLykge1xyXG4gICAgICAgIC8vIGNvbGxlY3Rpb24gYmVpbmcgY2xlYXJlZFxyXG4gICAgICAgIC8vIHRyaWdnZXIgYWxsIGVmZmVjdHMgZm9yIHRhcmdldFxyXG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaChhZGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSAnbGVuZ3RoJyAmJiBpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICBkZXBzTWFwLmZvckVhY2goKGRlcCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsZW5ndGgnIHx8IGtleSA+PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgYWRkKGRlcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHNjaGVkdWxlIHJ1bnMgZm9yIFNFVCB8IEFERCB8IERFTEVURVxyXG4gICAgICAgIGlmIChrZXkgIT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoa2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFsc28gcnVuIGZvciBpdGVyYXRpb24ga2V5IG9uIEFERCB8IERFTEVURSB8IE1hcC5TRVRcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImFkZFwiIC8qIEFERCAqLzpcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0ludGVnZXJLZXkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBpbmRleCBhZGRlZCB0byBhcnJheSAtPiBsZW5ndGggY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldCgnbGVuZ3RoJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkZWxldGVcIiAvKiBERUxFVEUgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzZXRcIiAvKiBTRVQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgcnVuID0gKGVmZmVjdCkgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZWZmZWN0Lm9wdGlvbnMub25UcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIGVmZmVjdC5vcHRpb25zLm9uVHJpZ2dlcih7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3QsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFRhcmdldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdC5vcHRpb25zLnNjaGVkdWxlcikge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5zY2hlZHVsZXIoZWZmZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlZmZlY3RzLmZvckVhY2gocnVuKTtcclxufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xyXG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKVxyXG4gICAgLm1hcChrZXkgPT4gU3ltYm9sW2tleV0pXHJcbiAgICAuZmlsdGVyKGlzU3ltYm9sKSk7XHJcbmNvbnN0IGdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKCk7XHJcbmNvbnN0IHNoYWxsb3dHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcihmYWxzZSwgdHJ1ZSk7XHJcbmNvbnN0IHJlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUsIHRydWUpO1xyXG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSB7fTtcclxuWydpbmNsdWRlcycsICdpbmRleE9mJywgJ2xhc3RJbmRleE9mJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gQXJyYXkucHJvdG90eXBlW2tleV07XHJcbiAgICBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICB0cmFjayhhcnIsIFwiZ2V0XCIgLyogR0VUICovLCBpICsgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3ZSBydW4gdGhlIG1ldGhvZCB1c2luZyB0aGUgb3JpZ2luYWwgYXJncyBmaXJzdCAod2hpY2ggbWF5IGJlIHJlYWN0aXZlKVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IG1ldGhvZC5hcHBseShhcnIsIGFyZ3MpO1xyXG4gICAgICAgIGlmIChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhhdCBkaWRuJ3Qgd29yaywgcnVuIGl0IGFnYWluIHVzaW5nIHJhdyB2YWx1ZXMuXHJcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoYXJyLCBhcmdzLm1hcCh0b1JhdykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuWydwdXNoJywgJ3BvcCcsICdzaGlmdCcsICd1bnNoaWZ0JywgJ3NwbGljZSddLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IEFycmF5LnByb3RvdHlwZVtrZXldO1xyXG4gICAgYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBjb25zdCByZXMgPSBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG59KTtcclxuZnVuY3Rpb24gY3JlYXRlR2V0dGVyKGlzUmVhZG9ubHkgPSBmYWxzZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xyXG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJBVyAqLyAmJlxyXG4gICAgICAgICAgICByZWNlaXZlciA9PT1cclxuICAgICAgICAgICAgICAgIChpc1JlYWRvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5TWFwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhZG9ubHlNYXBcclxuICAgICAgICAgICAgICAgICAgICA6IHNoYWxsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhY3RpdmVNYXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcclxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkgJiYgdGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXMgPSBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIGlmIChpc1N5bWJvbChrZXkpID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSkgOiBpc05vblRyYWNrYWJsZUtleXMoa2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkpIHtcclxuICAgICAgICAgICAgdHJhY2sodGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzUmVmKHJlcykpIHtcclxuICAgICAgICAgICAgLy8gcmVmIHVud3JhcHBpbmcgLSBkb2VzIG5vdCBhcHBseSBmb3IgQXJyYXkgKyBpbnRlZ2VyIGtleS5cclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkVW53cmFwID0gIXRhcmdldElzQXJyYXkgfHwgIWlzSW50ZWdlcktleShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkVW53cmFwID8gcmVzLnZhbHVlIDogcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNPYmplY3QocmVzKSkge1xyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHJldHVybmVkIHZhbHVlIGludG8gYSBwcm94eSBhcyB3ZWxsLiB3ZSBkbyB0aGUgaXNPYmplY3QgY2hlY2tcclxuICAgICAgICAgICAgLy8gaGVyZSB0byBhdm9pZCBpbnZhbGlkIHZhbHVlIHdhcm5pbmcuIEFsc28gbmVlZCB0byBsYXp5IGFjY2VzcyByZWFkb25seVxyXG4gICAgICAgICAgICAvLyBhbmQgcmVhY3RpdmUgaGVyZSB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5LlxyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seSA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxufVxyXG5jb25zdCBzZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcigpO1xyXG5jb25zdCBzaGFsbG93U2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIodHJ1ZSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHRlcihzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xyXG4gICAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgIGlmICghc2hhbGxvdykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheSh0YXJnZXQpICYmIGlzSW50ZWdlcktleShrZXkpXHJcbiAgICAgICAgICAgID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoXHJcbiAgICAgICAgICAgIDogaGFzT3duKHRhcmdldCwga2V5KTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcclxuICAgICAgICAvLyBkb24ndCB0cmlnZ2VyIGlmIHRhcmdldCBpcyBzb21ldGhpbmcgdXAgaW4gdGhlIHByb3RvdHlwZSBjaGFpbiBvZiBvcmlnaW5hbFxyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xyXG4gICAgICAgICAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xyXG4gICAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIG93bktleXModGFyZ2V0KSB7XHJcbiAgICB0cmFjayh0YXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIGlzQXJyYXkodGFyZ2V0KSA/ICdsZW5ndGgnIDogSVRFUkFURV9LRVkpO1xyXG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xyXG59XHJcbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IHtcclxuICAgIGdldCxcclxuICAgIHNldCxcclxuICAgIGRlbGV0ZVByb3BlcnR5LFxyXG4gICAgaGFzLFxyXG4gICAgb3duS2V5c1xyXG59O1xyXG5jb25zdCByZWFkb25seUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiByZWFkb25seUdldCxcclxuICAgIHNldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IGV4dGVuZCh7fSwgbXV0YWJsZUhhbmRsZXJzLCB7XHJcbiAgICBnZXQ6IHNoYWxsb3dHZXQsXHJcbiAgICBzZXQ6IHNoYWxsb3dTZXRcclxufSk7XHJcbi8vIFByb3BzIGhhbmRsZXJzIGFyZSBzcGVjaWFsIGluIHRoZSBzZW5zZSB0aGF0IGl0IHNob3VsZCBub3QgdW53cmFwIHRvcC1sZXZlbFxyXG4vLyByZWZzIChpbiBvcmRlciB0byBhbGxvdyByZWZzIHRvIGJlIGV4cGxpY2l0bHkgcGFzc2VkIGRvd24pLCBidXQgc2hvdWxkXHJcbi8vIHJldGFpbiB0aGUgcmVhY3Rpdml0eSBvZiB0aGUgbm9ybWFsIHJlYWRvbmx5IG9iamVjdC5cclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSBleHRlbmQoe30sIHJlYWRvbmx5SGFuZGxlcnMsIHtcclxuICAgIGdldDogc2hhbGxvd1JlYWRvbmx5R2V0XHJcbn0pO1xuXG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcclxuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XHJcbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XHJcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XHJcbmZ1bmN0aW9uIGdldCQxKHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICAvLyAjMTc3MjogcmVhZG9ubHkocmVhY3RpdmUoTWFwKSkgc2hvdWxkIHJldHVybiByZWFkb25seSArIHJlYWN0aXZlIHZlcnNpb25cclxuICAgIC8vIG9mIHRoZSB2YWx1ZVxyXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCByYXdLZXkpO1xyXG4gICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XHJcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xyXG4gICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcclxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcclxuICAgICAgICAvLyAjMzYwMiByZWFkb25seShyZWFjdGl2ZShNYXApKVxyXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBuZXN0ZWQgcmVhY3RpdmUgYE1hcGAgY2FuIGRvIHRyYWNraW5nIGZvciBpdHNlbGZcclxuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywga2V5KTtcclxuICAgIH1cclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIHJhd0tleSk7XHJcbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcclxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxyXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcclxufVxyXG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCB2YWx1ZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuZnVuY3Rpb24gc2V0JDEoa2V5LCB2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XHJcbiAgICBpZiAoaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjbGVhcigpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcclxuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxyXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xyXG4gICAgaWYgKGhhZEl0ZW1zKSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBDTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXHJcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xyXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XHJcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XHJcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcclxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcclxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcclxuICAgICAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxyXG4gICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXHJcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIERFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcclxuaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xyXG4gICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCB0cnVlKTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xyXG4gICAgICAgID8gaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgIDogaXNSZWFkb25seVxyXG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcclxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxyXG59O1xyXG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XHJcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcclxuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcclxuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXHJcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcclxuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xyXG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcclxuICAgICAgICBjYXNlICdBcnJheSc6XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcclxuICAgICAgICBjYXNlICdNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1NldCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XHJcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XHJcbiAgICAgICAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxyXG4gICAgICAgID8gMCAvKiBJTlZBTElEICovXHJcbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLCByZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiBhIHNoYWxsb3dseS1yZWFjdGl2ZSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3RcclxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcclxuICogcm9vdCBsZXZlbCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFjdGl2ZU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSByZWFkb25seSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QuIE5vdGUgdGhlIHJldHVybmVkIGNvcHkgaXMgbm90XHJcbiAqIG1hZGUgcmVhY3RpdmUsIGJ1dCBgcmVhZG9ubHlgIGNhbiBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeSByZWFjdGl2ZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCByZWFkb25seU1hcCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcclxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxyXG4gKiByZXR1cm5lZCBwcm9wZXJ0aWVzLlxyXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlNYXApO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seSwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXHJcbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxyXG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dICYmXHJcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKSkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxyXG4gICAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcclxuICAgIH1cclxuICAgIC8vIG9ubHkgYSB3aGl0ZWxpc3Qgb2YgdmFsdWUgdHlwZXMgY2FuIGJlIG9ic2VydmVkLlxyXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnMpO1xyXG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcclxuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcclxuICAgIHJldHVybiAoKG9ic2VydmVkICYmIHRvUmF3KG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL10pKSB8fCBvYnNlcnZlZCk7XHJcbn1cclxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xyXG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogU0tJUCAqLywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuY29uc3QgY29udmVydCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgPyByZWFjdGl2ZSh2YWwpIDogdmFsO1xyXG5mdW5jdGlvbiBpc1JlZihyKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbihyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcclxufVxyXG5mdW5jdGlvbiByZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xyXG59XHJcbmNsYXNzIFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoX3Jhd1ZhbHVlLCBfc2hhbGxvdykge1xyXG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gX3Jhd1ZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3NoYWxsb3cgPSBfc2hhbGxvdztcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfc2hhbGxvdyA/IF9yYXdWYWx1ZSA6IGNvbnZlcnQoX3Jhd1ZhbHVlKTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICB0cmFjayh0b1Jhdyh0aGlzKSwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh0b1JhdyhuZXdWYWwpLCB0aGlzLl9yYXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc2hhbGxvdyA/IG5ld1ZhbCA6IGNvbnZlcnQobmV3VmFsKTtcclxuICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZikge1xyXG4gICAgdHJpZ2dlcih0b1JhdyhyZWYpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcclxuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xyXG59XHJcbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXHJcbiAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKVxyXG4gICAgICAgID8gb2JqZWN0V2l0aFJlZnNcclxuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcclxufVxyXG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFjayh0aGlzLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyksICgpID0+IHRyaWdnZXIodGhpcywgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpKTtcclxuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XHJcbiAgICAgICAgdGhpcy5fc2V0ID0gc2V0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoKTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9zZXQobmV3VmFsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUHJveHkob2JqZWN0KSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXkpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuX2tleSA9IF9rZXk7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSkge1xyXG4gICAgcmV0dXJuIGlzUmVmKG9iamVjdFtrZXldKVxyXG4gICAgICAgID8gb2JqZWN0W2tleV1cclxuICAgICAgICA6IG5ldyBPYmplY3RSZWZJbXBsKG9iamVjdCwga2V5KTtcclxufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZWZmZWN0ID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgICAgICBsYXp5OiB0cnVlLFxyXG4gICAgICAgICAgICBzY2hlZHVsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dID0gaXNSZWFkb25seTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICAvLyB0aGUgY29tcHV0ZWQgcmVmIG1heSBnZXQgd3JhcHBlZCBieSBvdGhlciBwcm94aWVzIGUuZy4gcmVhZG9ubHkoKSAjMzM3NlxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBpZiAoc2VsZi5fZGlydHkpIHtcclxuICAgICAgICAgICAgc2VsZi5fdmFsdWUgPSB0aGlzLmVmZmVjdCgpO1xyXG4gICAgICAgICAgICBzZWxmLl9kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFjayhzZWxmLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyKG5ld1ZhbHVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgc2V0dGVyO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcclxuICAgICAgICBzZXR0ZXIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLmdldDtcclxuICAgICAgICBzZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuc2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSB8fCAhZ2V0dGVyT3JPcHRpb25zLnNldCk7XHJcbn1cblxuZXhwb3J0IHsgSVRFUkFURV9LRVksIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZW5hYmxlVHJhY2tpbmcsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCByZXNldFRyYWNraW5nLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyYWNrLCB0cmlnZ2VyLCB0cmlnZ2VyUmVmLCB1bnJlZiB9O1xuIiwiaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCBpc1JlYWN0aXZlLCBlZmZlY3QsIHN0b3AsIHJlZiwgcmVhY3RpdmUsIHByb3h5UmVmcywgdG9SZWYsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNQcm94eSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgbWFya1JhdywgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBjdXN0b21SZWYsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIGV4dGVuZCwgaGFzT3duLCBFTVBUWV9PQkosIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgcmVtb3ZlLCBOT09QLCBoYXNDaGFuZ2VkLCBpc09iamVjdCwgaXNTZXQsIGlzTWFwLCBpc1BsYWluT2JqZWN0LCBpbnZva2VBcnJheUZucywgZGVmLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIE5PLCBnZXRHbG9iYWxUaGlzLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XHJcbiAgICBzdGFjay5wdXNoKHZub2RlKTtcclxufVxyXG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcclxuICAgIHN0YWNrLnBvcCgpO1xyXG59XHJcbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XHJcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxyXG4gICAgLy8gZHVyaW5nIHBhdGNoLCBsZWFkaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cclxuICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcclxuICAgIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XHJcbiAgICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XHJcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwV2FybkhhbmRsZXIsIGluc3RhbmNlLCAxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovLCBbXHJcbiAgICAgICAgICAgIG1zZyArIGFyZ3Muam9pbignJyksXHJcbiAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmApXHJcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xyXG4gICAgICAgICAgICAhZmFsc2UpIHtcclxuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcclxuICAgIH1cclxuICAgIHJlc2V0VHJhY2tpbmcoKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcclxuICAgIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcclxuICAgIGlmICghY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgdGhlIHN0YWNrIGJlY2F1c2UgaXQgd2lsbCBiZSBpbmNvbXBsZXRlIGR1cmluZyB1cGRhdGVzXHJcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcclxuICAgIC8vIGluc3RhbmNlIHBhcmVudCBwb2ludGVycy5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xyXG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XHJcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxyXG4gICAgICAgICAgICAgICAgcmVjdXJzZUNvdW50OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XHJcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XHJcbiAgICBjb25zdCBsb2dzID0gW107XHJcbiAgICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xyXG4gICAgICAgIGxvZ3MucHVzaCguLi4oaSA9PT0gMCA/IFtdIDogW2BcXG5gXSksIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGxvZ3M7XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xyXG4gICAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcclxuICAgIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xyXG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcclxuICAgIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcclxuICAgIHJldHVybiB2bm9kZS5wcm9wc1xyXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXHJcbiAgICAgICAgOiBbb3BlbiArIGNsb3NlXTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xyXG4gICAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMykge1xyXG4gICAgICAgIHJlcy5wdXNoKGAgLi4uYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fFxyXG4gICAgICAgIHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XHJcbiAgICB9XHJcbn1cblxuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IHtcclxuICAgIFtcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqL106ICdiZWZvcmVDcmVhdGUgaG9vaycsXHJcbiAgICBbXCJjXCIgLyogQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxyXG4gICAgW1wiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi9dOiAnYmVmb3JlTW91bnQgaG9vaycsXHJcbiAgICBbXCJtXCIgLyogTU9VTlRFRCAqL106ICdtb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcclxuICAgIFtcInVcIiAvKiBVUERBVEVEICovXTogJ3VwZGF0ZWQnLFxyXG4gICAgW1wiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi9dOiAnYmVmb3JlVW5tb3VudCBob29rJyxcclxuICAgIFtcInVtXCIgLyogVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcclxuICAgIFtcImFcIiAvKiBBQ1RJVkFURUQgKi9dOiAnYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZGFcIiAvKiBERUFDVElWQVRFRCAqL106ICdkZWFjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcclxuICAgIFtcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovXTogJ3JlbmRlclRyYWNrZWQgaG9vaycsXHJcbiAgICBbXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovXTogJ3JlbmRlclRyaWdnZXJlZCBob29rJyxcclxuICAgIFswIC8qIFNFVFVQX0ZVTkNUSU9OICovXTogJ3NldHVwIGZ1bmN0aW9uJyxcclxuICAgIFsxIC8qIFJFTkRFUl9GVU5DVElPTiAqL106ICdyZW5kZXIgZnVuY3Rpb24nLFxyXG4gICAgWzIgLyogV0FUQ0hfR0VUVEVSICovXTogJ3dhdGNoZXIgZ2V0dGVyJyxcclxuICAgIFszIC8qIFdBVENIX0NBTExCQUNLICovXTogJ3dhdGNoZXIgY2FsbGJhY2snLFxyXG4gICAgWzQgLyogV0FUQ0hfQ0xFQU5VUCAqL106ICd3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb24nLFxyXG4gICAgWzUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi9dOiAnbmF0aXZlIGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi9dOiAnY29tcG9uZW50IGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzcgLyogVk5PREVfSE9PSyAqL106ICd2bm9kZSBob29rJyxcclxuICAgIFs4IC8qIERJUkVDVElWRV9IT09LICovXTogJ2RpcmVjdGl2ZSBob29rJyxcclxuICAgIFs5IC8qIFRSQU5TSVRJT05fSE9PSyAqL106ICd0cmFuc2l0aW9uIGhvb2snLFxyXG4gICAgWzEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovXTogJ2FwcCBlcnJvckhhbmRsZXInLFxyXG4gICAgWzExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi9dOiAnYXBwIHdhcm5IYW5kbGVyJyxcclxuICAgIFsxMiAvKiBGVU5DVElPTl9SRUYgKi9dOiAncmVmIGZ1bmN0aW9uJyxcclxuICAgIFsxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovXTogJ2FzeW5jIGNvbXBvbmVudCBsb2FkZXInLFxyXG4gICAgWzE0IC8qIFNDSEVEVUxFUiAqL106ICdzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuICcgK1xyXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLW5leHQnXHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGxldCByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xyXG4gICAgICAgIC8vIHRoZSBleHBvc2VkIGluc3RhbmNlIGlzIHRoZSByZW5kZXIgcHJveHkgdG8ga2VlcCBpdCBjb25zaXN0ZW50IHdpdGggMi54XHJcbiAgICAgICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXHJcbiAgICAgICAgY29uc3QgZXJyb3JJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXSA6IHR5cGU7XHJcbiAgICAgICAgd2hpbGUgKGN1cikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XHJcbiAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHAtbGV2ZWwgaGFuZGxpbmdcclxuICAgICAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XHJcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwRXJyb3JIYW5kbGVyLCBudWxsLCAxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcclxufVxyXG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXHJcbiAgICAgICAgaWYgKHRocm93SW5EZXYpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG5sZXQgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuY29uc3QgcXVldWUgPSBbXTtcclxubGV0IGZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUHJlRmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVByZUZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHByZUZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xyXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xyXG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcclxufVxyXG4vLyAjMjc2OFxyXG4vLyBVc2UgYmluYXJ5LXNlYXJjaCB0byBmaW5kIGEgc3VpdGFibGUgcG9zaXRpb24gaW4gdGhlIHF1ZXVlLFxyXG4vLyBzbyB0aGF0IHRoZSBxdWV1ZSBtYWludGFpbnMgdGhlIGluY3JlYXNpbmcgb3JkZXIgb2Ygam9iJ3MgaWQsXHJcbi8vIHdoaWNoIGNhbiBwcmV2ZW50IHRoZSBqb2IgZnJvbSBiZWluZyBza2lwcGVkIGFuZCBhbHNvIGNhbiBhdm9pZCByZXBlYXRlZCBwYXRjaGluZy5cclxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGpvYikge1xyXG4gICAgLy8gdGhlIHN0YXJ0IGluZGV4IHNob3VsZCBiZSBgZmx1c2hJbmRleCArIDFgXHJcbiAgICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcclxuICAgIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XHJcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICBjb25zdCBtaWRkbGUgPSAoc3RhcnQgKyBlbmQpID4+PiAxO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQocXVldWVbbWlkZGxlXSk7XHJcbiAgICAgICAgbWlkZGxlSm9iSWQgPCBqb2JJZCA/IChzdGFydCA9IG1pZGRsZSArIDEpIDogKGVuZCA9IG1pZGRsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhcnQ7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XHJcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcclxuICAgIC8vIGJ5IGRlZmF1bHQgdGhlIHNlYXJjaCBpbmRleCBpbmNsdWRlcyB0aGUgY3VycmVudCBqb2IgdGhhdCBpcyBiZWluZyBydW5cclxuICAgIC8vIHNvIGl0IGNhbm5vdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiBhZ2Fpbi5cclxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXHJcbiAgICAvLyBhbGxvdyBpdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiAtIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG9cclxuICAgIC8vIGVuc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wLlxyXG4gICAgaWYgKCghcXVldWUubGVuZ3RoIHx8XHJcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkgJiZcclxuICAgICAgICBqb2IgIT09IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYikge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IGZpbmRJbnNlcnRpb25JbmRleChqb2IpO1xyXG4gICAgICAgIGlmIChwb3MgPiAtMSkge1xyXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zLCAwLCBqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVldWUucHVzaChqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZUZsdXNoKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcclxuICAgIGlmICghaXNGbHVzaGluZyAmJiAhaXNGbHVzaFBlbmRpbmcpIHtcclxuICAgICAgICBpc0ZsdXNoUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcclxuICAgIGNvbnN0IGkgPSBxdWV1ZS5pbmRleE9mKGpvYik7XHJcbiAgICBpZiAoaSA+IGZsdXNoSW5kZXgpIHtcclxuICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVDYihjYiwgYWN0aXZlUXVldWUsIHBlbmRpbmdRdWV1ZSwgaW5kZXgpIHtcclxuICAgIGlmICghaXNBcnJheShjYikpIHtcclxuICAgICAgICBpZiAoIWFjdGl2ZVF1ZXVlIHx8XHJcbiAgICAgICAgICAgICFhY3RpdmVRdWV1ZS5pbmNsdWRlcyhjYiwgY2IuYWxsb3dSZWN1cnNlID8gaW5kZXggKyAxIDogaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpZiBjYiBpcyBhbiBhcnJheSwgaXQgaXMgYSBjb21wb25lbnQgbGlmZWN5Y2xlIGhvb2sgd2hpY2ggY2FuIG9ubHkgYmVcclxuICAgICAgICAvLyB0cmlnZ2VyZWQgYnkgYSBqb2IsIHdoaWNoIGlzIGFscmVhZHkgZGVkdXBlZCBpbiB0aGUgbWFpbiBxdWV1ZSwgc29cclxuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcclxuICAgICAgICBwZW5kaW5nUXVldWUucHVzaCguLi5jYik7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUZsdXNoKCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQcmVGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQcmVGbHVzaENicywgcGVuZGluZ1ByZUZsdXNoQ2JzLCBwcmVGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQb3N0Rmx1c2hDYnMsIHBlbmRpbmdQb3N0Rmx1c2hDYnMsIHBvc3RGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYiA9IG51bGwpIHtcclxuICAgIGlmIChwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gcGFyZW50Sm9iO1xyXG4gICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzID0gWy4uLm5ldyBTZXQocGVuZGluZ1ByZUZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJlRmx1c2hJbmRleCA9IDA7IHByZUZsdXNoSW5kZXggPCBhY3RpdmVQcmVGbHVzaENicy5sZW5ndGg7IHByZUZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcHJlRmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbHVzaCB1bnRpbCBpdCBkcmFpbnNcclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xyXG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxyXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcclxuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcclxuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcclxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcclxuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxyXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXHJcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYiAmJiBqb2IuYWN0aXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fFxyXG4gICAgICAgICAgICBwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XHJcbiAgICBpZiAoIXNlZW4uaGFzKGZuKSkge1xyXG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xyXG4gICAgICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGZuLm93bmVySW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xyXG4gICAgICAgICAgICB3YXJuKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gYCArXHJcbiAgICAgICAgICAgICAgICBgVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gYCArXHJcbiAgICAgICAgICAgICAgICBgZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGAgK1xyXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IG5ldyBTZXQoKTtcclxuLy8gRXhwb3NlIHRoZSBITVIgcnVudGltZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxyXG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXHJcbi8vIGl0IGVhc2llciB0byBiZSB1c2VkIGluIHRvb2xpbmdzIGxpa2UgdnVlLWxvYWRlclxyXG4vLyBOb3RlOiBmb3IgYSBjb21wb25lbnQgdG8gYmUgZWxpZ2libGUgZm9yIEhNUiBpdCBhbHNvIG5lZWRzIHRoZSBfX2htcklkIG9wdGlvblxyXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgY29uc3QgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIGdsb2JhbE9iamVjdC5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxyXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcclxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcclxuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcclxuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIH1cclxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBjb21wb25lbnQpIHtcclxuICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgd2FybihgSE1SIEFQSSB1c2FnZSBpcyBvdXQgb2YgZGF0ZS5cXG5gICtcclxuICAgICAgICAgICAgYFBsZWFzZSB1cGdyYWRlIHZ1ZS1sb2FkZXIvdml0ZS9yb2xsdXAtcGx1Z2luLXZ1ZSBvciBvdGhlciByZWxldmFudCBgICtcclxuICAgICAgICAgICAgYGRlcGVuZGVuY3kgdGhhdCBoYW5kbGVzIFZ1ZSBTRkMgY29tcGlsYXRpb24uYCk7XHJcbiAgICAgICAgY29tcG9uZW50ID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBtYXAuc2V0KGlkLCB7XHJcbiAgICAgICAgY29tcG9uZW50OiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50LFxyXG4gICAgICAgIGluc3RhbmNlczogbmV3IFNldCgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKG5ld1JlbmRlcilcclxuICAgICAgICByZWNvcmQuY29tcG9uZW50LnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZC5pbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChuZXdSZW5kZXIpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xyXG4gICAgICAgIC8vIHRoaXMgZmxhZyBmb3JjZXMgY2hpbGQgY29tcG9uZW50cyB3aXRoIHNsb3QgY29udGVudCB0byB1cGRhdGVcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gQXJyYXkuZnJvbSBjcmVhdGVzIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmdcclxuICAgIC8vIHVwZGF0ZXNcclxuICAgIGNvbnN0IHsgY29tcG9uZW50LCBpbnN0YW5jZXMgfSA9IHJlY29yZDtcclxuICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgLy8gMS4gVXBkYXRlIGV4aXN0aW5nIGNvbXAgZGVmaW5pdGlvbiB0byBtYXRjaCBuZXcgb25lXHJcbiAgICAgICAgbmV3Q29tcCA9IGlzQ2xhc3NDb21wb25lbnQobmV3Q29tcCkgPyBuZXdDb21wLl9fdmNjT3B0cyA6IG5ld0NvbXA7XHJcbiAgICAgICAgZXh0ZW5kKGNvbXBvbmVudCwgbmV3Q29tcCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdfX2ZpbGUnICYmICEoa2V5IGluIG5ld0NvbXApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgY29tcG9uZW50W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gTWFyayBjb21wb25lbnQgZGlydHkuIFRoaXMgZm9yY2VzIHRoZSByZW5kZXJlciB0byByZXBsYWNlIHRoZSBjb21wb25lbnRcclxuICAgICAgICAvLyBvbiBwYXRjaC5cclxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKGNvbXBvbmVudCk7XHJcbiAgICAgICAgLy8gMy4gTWFrZSBzdXJlIHRvIHVubWFyayB0aGUgY29tcG9uZW50IGFmdGVyIHRoZSByZWxvYWQuXHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XHJcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIEFycmF5LmZyb20oaW5zdGFuY2VzKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIDQuIEZvcmNlIHRoZSBwYXJlbnQgaW5zdGFuY2UgdG8gcmUtcmVuZGVyLiBUaGlzIHdpbGwgY2F1c2UgYWxsIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gY29tcG9uZW50cyB0byBiZSB1bm1vdW50ZWQgYW5kIHJlLW1vdW50ZWQuIFF1ZXVlIHRoZSB1cGRhdGUgc28gdGhhdCB3ZVxyXG4gICAgICAgICAgICAvLyBkb24ndCBlbmQgdXAgZm9yY2luZyB0aGUgc2FtZSBwYXJlbnQgdG8gcmUtcmVuZGVyIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBtb3VudGVkIHZpYSBjcmVhdGVBcHAoKSBoYXMgYSByZWxvYWQgbWV0aG9kXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgaW5zaWRlIHRyZWUgY3JlYXRlZCB2aWEgcmF3IHJlbmRlcigpLiBGb3JjZSByZWxvYWQuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XHJcbiAgICByZXR1cm4gKGlkLCBhcmcpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gYCArXHJcbiAgICAgICAgICAgICAgICBgRnVsbCByZWxvYWQgcmVxdWlyZWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5sZXQgZGV2dG9vbHM7XHJcbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayhob29rKSB7XHJcbiAgICBkZXZ0b29scyA9IGhvb2s7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xyXG4gICAgLy8gVE9ETyBxdWV1ZSBpZiBkZXZ0b29scyBpcyB1bmRlZmluZWRcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImFwcDppbml0XCIgLyogQVBQX0lOSVQgKi8sIGFwcCwgdmVyc2lvbiwge1xyXG4gICAgICAgIEZyYWdtZW50LFxyXG4gICAgICAgIFRleHQsXHJcbiAgICAgICAgQ29tbWVudDogQ29tbWVudCQxLFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcclxuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LCBldmVudCwgcGFyYW1zKTtcclxufVxuXG5jb25zdCBkZXByZWNhdGlvbkRhdGEgPSB7XHJcbiAgICBbXCJHTE9CQUxfTU9VTlRcIiAvKiBHTE9CQUxfTU9VTlQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBnbG9iYWwgYXBwIGJvb3RzdHJhcHBpbmcgQVBJIGhhcyBjaGFuZ2VkOiB2bS4kbW91bnQoKSBhbmQgdGhlIFwiZWxcIiBgICtcclxuICAgICAgICAgICAgYG9wdGlvbiBoYXZlIGJlZW4gcmVtb3ZlZC4gVXNlIGNyZWF0ZUFwcChSb290Q29tcG9uZW50KS5tb3VudCgpIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNtb3VudGluZy1hcHAtaW5zdGFuY2VgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIEdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZSBkZXRlY3RlZCBkaXJlY3RpdmVzIG9uIHRoZSBtb3VudCBjb250YWluZXIuIGAgK1xyXG4gICAgICAgICAgICBgSW4gVnVlIDMsIHRoZSBjb250YWluZXIgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgdGVtcGxhdGUgYCArXHJcbiAgICAgICAgICAgIGBhbmQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkL3JlcGxhY2VkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9tb3VudC1jaGFuZ2VzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0VYVEVORFwiIC8qIEdMT0JBTF9FWFRFTkQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5leHRlbmQoKSBoYXMgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBkZWZpbmVDb21wb25lbnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9nbG9iYWwtYXBpLmh0bWwjZGVmaW5lY29tcG9uZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBHTE9CQUxfUFJPVE9UWVBFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUucHJvdG90eXBlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjdnVlLXByb3RvdHlwZS1yZXBsYWNlZC1ieS1jb25maWctZ2xvYmFscHJvcGVydGllc2BcclxuICAgIH0sXHJcbiAgICBbXCJHTE9CQUxfU0VUXCIgLyogR0xPQkFMX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVnVlLnNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0RFTEVURVwiIC8qIEdMT0JBTF9ERUxFVEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5kZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogR0xPQkFMX09CU0VSVkFCTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5vYnNlcnZhYmxlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXHJcbiAgICAgICAgICAgIGBVc2UgXFxgaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tIFwidnVlXCJcXGAgZnJvbSBDb21wb3NpdGlvbiBBUEkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9hcGkvYmFzaWMtcmVhY3Rpdml0eS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBHTE9CQUxfUFJJVkFURV9VVElMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUudXRpbCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgcmVmYWN0b3IgdG8gYXZvaWQgaXRzIHVzYWdlIGAgK1xyXG4gICAgICAgICAgICBgc2luY2UgaXQgd2FzIGFuIGludGVybmFsIEFQSSBldmVuIGluIFZ1ZSAyLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfU0lMRU5UXCIgLyogQ09ORklHX1NJTEVOVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnNpbGVudCBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2UgaXQgaXMgbm90IGdvb2QgcHJhY3RpY2UgdG8gYCArXHJcbiAgICAgICAgICAgIGBpbnRlbnRpb25hbGx5IHN1cHByZXNzIHdhcm5pbmdzLiBZb3UgY2FuIHVzZSB5b3VyIGJyb3dzZXIgY29uc29sZSdzIGAgK1xyXG4gICAgICAgICAgICBgZmlsdGVyIGZlYXR1cmVzIHRvIGZvY3VzIG9uIHJlbGV2YW50IG1lc3NhZ2VzLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfREVWVE9PTFNcIiAvKiBDT05GSUdfREVWVE9PTFMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5kZXZ0b29scyBoYXMgYmVlbiByZW1vdmVkLiBUbyBlbmFibGUgZGV2dG9vbHMgZm9yIGAgK1xyXG4gICAgICAgICAgICBgcHJvZHVjdGlvbiwgY29uZmlndXJlIHRoZSBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gY29tcGlsZS10aW1lIGZsYWcuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L3RyZWUvbWFzdGVyL3BhY2thZ2VzL3Z1ZSNidW5kbGVyLWJ1aWxkLWZlYXR1cmUtZmxhZ3NgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX0tFWV9DT0RFU1wiIC8qIENPTkZJR19LRVlfQ09ERVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5rZXlDb2RlcyBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCB5b3UgY2FuIGRpcmVjdGx5IHVzZSB0aGUga2ViYWItY2FzZSBrZXkgbmFtZXMgYXMgdi1vbiBtb2RpZmllcnMuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogQ09ORklHX1BST0RVQ1RJT05fVElQICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcucHJvZHVjdGlvblRpcCBoYXMgYmVlbiByZW1vdmVkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLXByb2R1Y3Rpb250aXAtcmVtb3ZlZGBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIENPTkZJR19JR05PUkVEX0VMRU1FTlRTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25maWcuaWdub3JlZEVsZW1lbnRzIGhhcyBiZWVuIHJlbW92ZWQuYDtcclxuICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgUGFzcyB0aGUgXCJpc0N1c3RvbUVsZW1lbnRcIiBvcHRpb24gdG8gQHZ1ZS9jb21waWxlci1kb20gaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgVXNlIGNvbmZpZy5pc0N1c3RvbUVsZW1lbnQgaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtc2c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNjb25maWctaWdub3JlZGVsZW1lbnRzLWlzLW5vdy1jb25maWctaXNjdXN0b21lbGVtZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkNPTkZJR19XSElURVNQQUNFXCIgLyogQ09ORklHX1dISVRFU1BBQ0UgKi9dOiB7XHJcbiAgICAgICAgLy8gdGhpcyB3YXJuaW5nIGlzIG9ubHkgcmVsZXZhbnQgaW4gdGhlIGZ1bGwgYnVpbGQgd2hlbiB1c2luZyBydW50aW1lXHJcbiAgICAgICAgLy8gY29tcGlsYXRpb24sIHNvIGl0J3MgcHV0IGluIHRoZSBydW50aW1lIGNvbXBhdENvbmZpZyBsaXN0LlxyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMyBjb21waWxlcidzIHdoaXRlc3BhY2Ugb3B0aW9uIHdpbGwgZGVmYXVsdCB0byBcImNvbmRlbnNlXCIgaW5zdGVhZCBvZiBgICtcclxuICAgICAgICAgICAgYFwicHJlc2VydmVcIi4gVG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLCBwcm92aWRlIGFuIGV4cGxpY2l0IHZhbHVlIGZvciBgICtcclxuICAgICAgICAgICAgYFxcYGNvbmZpZy5jb21waWxlck9wdGlvbnMud2hpdGVzcGFjZVxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUUyAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyBubyBsb25nZXIgZXhwb3NlcyBpbnRlcm5hbCBzdHJhdGVnaWVzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBjdXN0b20gbWVyZ2UgZnVuY3Rpb25zIGluc3RlYWQuYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX1NFVFwiIC8qIElOU1RBTkNFX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJHNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfREVMRVRFXCIgLyogSU5TVEFOQ0VfREVMRVRFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogSU5TVEFOQ0VfREVTVFJPWSAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlc3Ryb3koKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXBwLnVubW91bnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9hcHBsaWNhdGlvbi1hcGkuaHRtbCN1bm1vdW50YFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBJTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kb24vJG9uY2UvJG9mZigpIGhhdmUgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBhbiBleHRlcm5hbCBldmVudCBlbWl0dGVyIGxpYnJhcnkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vZXZlbnRzLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXZlbnQgPT4gYFwiJHtldmVudH1cIiBsaWZlY3ljbGUgZXZlbnRzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLiBGcm9tIHRlbXBsYXRlcywgYCArXHJcbiAgICAgICAgICAgIGB1c2UgdGhlIFwidm5vZGVcIiBwcmVmaXggaW5zdGVhZCBvZiBcImhvb2s6XCIuIEZvciBleGFtcGxlLCBAJHtldmVudH0gYCArXHJcbiAgICAgICAgICAgIGBzaG91bGQgYmUgY2hhbmdlZCB0byBAdm5vZGUtJHtldmVudC5zbGljZSg1KX0uIGAgK1xyXG4gICAgICAgICAgICBgRnJvbSBKYXZhU2NyaXB0LCB1c2UgQ29tcG9zaXRpb24gQVBJIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgYGhvb2tzLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92bm9kZS1saWZlY3ljbGUtZXZlbnRzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBJTlNUQU5DRV9DSElMRFJFTiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGNoaWxkcmVuIGhhcyBiZWVuIHJlbW92ZWQuIENvbnNpZGVyIHJlZmFjdG9yaW5nIHlvdXIgbG9naWMgYCArXHJcbiAgICAgICAgICAgIGB0byBhdm9pZCByZWx5aW5nIG9uIGRpcmVjdCBhY2Nlc3MgdG8gY2hpbGQgY29tcG9uZW50cy5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vY2hpbGRyZW4uaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBJTlNUQU5DRV9MSVNURU5FUlMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYHZtLiRsaXN0ZW5lcnMgaGFzIGJlZW4gcmVtb3ZlZC4gSW4gVnVlIDMsIHBhcmVudCB2LW9uIGxpc3RlbmVycyBhcmUgYCArXHJcbiAgICAgICAgICAgIGBpbmNsdWRlZCBpbiB2bS4kYXR0cnMgYW5kIGl0IGlzIG5vIGxvbmdlciBuZWNlc3NhcnkgdG8gc2VwYXJhdGVseSB1c2UgYCArXHJcbiAgICAgICAgICAgIGB2LW9uPVwiJGxpc3RlbmVyc1wiIGlmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIi4gYCArXHJcbiAgICAgICAgICAgIGAoTm90ZTogdGhlIFZ1ZSAzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyBpZiB0aGlzIGNvbXBhdCBjb25maWcgaXMgZGlzYWJsZWQpYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2xpc3RlbmVycy1yZW1vdmVkLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfU0NPUEVEX1NMT1RTXCIgLyogSU5TVEFOQ0VfU0NPUEVEX1NMT1RTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kc2NvcGVkU2xvdHMgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZtLiRzbG90cyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9zbG90cy11bmlmaWNhdGlvbi5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogY29tcG9uZW50TmFtZSA9PiBgQ29tcG9uZW50IDwke2NvbXBvbmVudE5hbWUgfHxcclxuICAgICAgICAgICAgJ0Fub255bW91cyd9PiBoYXMgXFxgaW5oZXJpdEF0dHJzOiBmYWxzZVxcYCBidXQgaXMgYCArXHJcbiAgICAgICAgICAgIGByZWx5aW5nIG9uIGNsYXNzL3N0eWxlIGZhbGx0aHJvdWdoIGZyb20gcGFyZW50LiBJbiBWdWUgMywgY2xhc3Mvc3R5bGUgYCArXHJcbiAgICAgICAgICAgIGBhcmUgbm93IGluY2x1ZGVkIGluICRhdHRycyBhbmQgd2lsbCBubyBsb25nZXIgZmFsbHRocm91Z2ggd2hlbiBgICtcclxuICAgICAgICAgICAgYGluaGVyaXRBdHRycyBpcyBmYWxzZS4gSWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiIG9uIGAgK1xyXG4gICAgICAgICAgICBgY29tcG9uZW50IHJvb3QgaXQgc2hvdWxkIHJlbmRlciB0aGUgc2FtZSBlbmQgcmVzdWx0LiBgICtcclxuICAgICAgICAgICAgYElmIHlvdSBhcmUgYmluZGluZyAkYXR0cnMgdG8gYSBub24tcm9vdCBlbGVtZW50IGFuZCBleHBlY3RpbmcgYCArXHJcbiAgICAgICAgICAgIGBjbGFzcy9zdHlsZSB0byBmYWxsdGhyb3VnaCBvbiByb290LCB5b3Ugd2lsbCBuZWVkIHRvIG5vdyBtYW51YWxseSBiaW5kIGAgK1xyXG4gICAgICAgICAgICBgdGhlbSBvbiByb290IHZpYSA6Y2xhc3M9XCIkYXR0cnMuY2xhc3NcIi5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cnMtaW5jbHVkZXMtY2xhc3Mtc3R5bGUuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJPUFRJT05TX0RBVEFfRk5cIiAvKiBPUFRJT05TX0RBVEFfRk4gKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBcImRhdGFcIiBvcHRpb24gY2FuIG5vIGxvbmdlciBiZSBhIHBsYWluIG9iamVjdC4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGEgZnVuY3Rpb24uYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogT1BUSU9OU19EQVRBX01FUkdFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBEZXRlY3RlZCBjb25mbGljdGluZyBrZXkgXCIke2tleX1cIiB3aGVuIG1lcmdpbmcgZGF0YSBvcHRpb24gdmFsdWVzLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCBkYXRhIGtleXMgYXJlIG1lcmdlZCBzaGFsbG93bHkgYW5kIHdpbGwgb3ZlcnJpZGUgb25lIGFub3RoZXIuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWwjbWl4aW4tbWVyZ2UtYmVoYXZpb3ItY2hhbmdlYFxyXG4gICAgfSxcclxuICAgIFtcIk9QVElPTlNfQkVGT1JFX0RFU1RST1lcIiAvKiBPUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcXGBiZWZvcmVEZXN0cm95XFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgYmVmb3JlVW5tb3VudFxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBPUFRJT05TX0RFU1RST1lFRCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmBcclxuICAgIH0sXHJcbiAgICBbXCJXQVRDSF9BUlJBWVwiIC8qIFdBVENIX0FSUkFZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcIndhdGNoXCIgb3B0aW9uIG9yIHZtLiR3YXRjaCBvbiBhbiBhcnJheSB2YWx1ZSB3aWxsIG5vIGxvbmdlciBgICtcclxuICAgICAgICAgICAgYHRyaWdnZXIgb24gYXJyYXkgbXV0YXRpb24gdW5sZXNzIHRoZSBcImRlZXBcIiBvcHRpb24gaXMgc3BlY2lmaWVkLiBgICtcclxuICAgICAgICAgICAgYElmIGN1cnJlbnQgdXNhZ2UgaXMgaW50ZW5kZWQsIHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiV0FUQ0hfQVJSQVlcIiAvKiBXQVRDSF9BUlJBWSAqL306IGZhbHNlIH0pXFxuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL3dhdGNoLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUFJPUFNfREVGQVVMVF9USElTXCIgLyogUFJPUFNfREVGQVVMVF9USElTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBwcm9wcyBkZWZhdWx0IHZhbHVlIGZ1bmN0aW9uIG5vIGxvbmdlciBoYXMgYWNjZXNzIHRvIFwidGhpc1wiLiBUaGUgY29tcGF0IGAgK1xyXG4gICAgICAgICAgICBgYnVpbGQgb25seSBvZmZlcnMgYWNjZXNzIHRvIHRoaXMuJG9wdGlvbnMuYCArXHJcbiAgICAgICAgICAgIGAoZm91bmQgaW4gcHJvcCBcIiR7a2V5fVwiKWAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9wcm9wcy1kZWZhdWx0LXRoaXMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDVVNUT01fRElSXCIgLyogQ1VTVE9NX0RJUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiAobGVnYWN5SG9vaywgbmV3SG9vaykgPT4gYEN1c3RvbSBkaXJlY3RpdmUgaG9vayBcIiR7bGVnYWN5SG9va31cIiBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcIiR7bmV3SG9va31cIiBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9jdXN0b20tZGlyZWN0aXZlcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfRk9SX1JFRlwiIC8qIFZfRk9SX1JFRiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgUmVmIHVzYWdlIG9uIHYtZm9yIG5vIGxvbmdlciBjcmVhdGVzIGFycmF5IHJlZiB2YWx1ZXMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgQ29uc2lkZXIgdXNpbmcgZnVuY3Rpb24gcmVmcyBvciByZWZhY3RvciB0byBhdm9pZCByZWYgdXNhZ2UgYWx0b2dldGhlci5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXJyYXktcmVmcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIFZfT05fS0VZQ09ERV9NT0RJRklFUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVXNpbmcga2V5Q29kZSBhcyB2LW9uIG1vZGlmaWVyIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGtlYmFiLWNhc2Uga2V5IG5hbWUgbW9kaWZpZXJzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIEFUVFJfRkFMU0VfVkFMVUUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogKG5hbWUpID0+IGBBdHRyaWJ1dGUgXCIke25hbWV9XCIgd2l0aCB2LWJpbmQgdmFsdWUgXFxgZmFsc2VcXGAgd2lsbCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGAke25hbWV9PVwiZmFsc2VcIiBpbnN0ZWFkIG9mIHJlbW92aW5nIGl0IGluIFZ1ZSAzLiBUbyByZW1vdmUgdGhlIGF0dHJpYnV0ZSwgYCArXHJcbiAgICAgICAgICAgIGB1c2UgXFxgbnVsbFxcYCBvciBcXGB1bmRlZmluZWRcXGAgaW5zdGVhZC4gSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcclxuICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBBVFRSX0ZBTFNFX1ZBTFVFICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChuYW1lLCB2YWx1ZSwgY29lcmNlZCkgPT4gYEVudW1lcmF0ZWQgYXR0cmlidXRlIFwiJHtuYW1lfVwiIHdpdGggdi1iaW5kIHZhbHVlIFxcYCR7dmFsdWV9XFxgIHdpbGwgYCArXHJcbiAgICAgICAgICAgIGAke3ZhbHVlID09PSBudWxsID8gYGJlIHJlbW92ZWRgIDogYHJlbmRlciB0aGUgdmFsdWUgYXMtaXNgfSBpbnN0ZWFkIG9mIGNvZXJjaW5nIHRoZSB2YWx1ZSB0byBcIiR7Y29lcmNlZH1cIiBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGV4cGxpY2l0IFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlcy4gYCArXHJcbiAgICAgICAgICAgIGBJZiB0aGUgdXNhZ2UgaXMgaW50ZW5kZWQsIGAgK1xyXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiVFJBTlNJVElPTl9DTEFTU0VTXCIgLyogVFJBTlNJVElPTl9DTEFTU0VTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBgIC8vIHRoaXMgZmVhdHVyZSBjYW5ub3QgYmUgcnVudGltZS1kZXRlY3RlZFxyXG4gICAgfSxcclxuICAgIFtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIFRSQU5TSVRJT05fR1JPVVBfUk9PVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgPFRyYW5zaXRpb25Hcm91cD4gbm8gbG9uZ2VyIHJlbmRlcnMgYSByb290IDxzcGFuPiBlbGVtZW50IGJ5IGAgK1xyXG4gICAgICAgICAgICBgZGVmYXVsdCBpZiBubyBcInRhZ1wiIHByb3AgaXMgc3BlY2lmaWVkLiBJZiB5b3UgZG8gbm90IHJlbHkgb24gdGhlIHNwYW4gYCArXHJcbiAgICAgICAgICAgIGBmb3Igc3R5bGluZywgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXHJcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBUUkFOU0lUSU9OX0dST1VQX1JPT1QgKi99OiBmYWxzZSB9KVxcbmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi90cmFuc2l0aW9uLWdyb3VwLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09NUE9ORU5UX0FTWU5DXCIgLyogQ09NUE9ORU5UX0FTWU5DICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBBc3luYyBjb21wb25lbnQke25hbWUgPyBgIDwke25hbWV9PmAgOiBgc2B9IHNob3VsZCBiZSBleHBsaWNpdGx5IGNyZWF0ZWQgdmlhIFxcYGRlZmluZUFzeW5jQ29tcG9uZW50KClcXGAgYCArXHJcbiAgICAgICAgICAgICAgICBgaW4gVnVlIDMuIFBsYWluIGZ1bmN0aW9ucyB3aWxsIGJlIHRyZWF0ZWQgYXMgZnVuY3Rpb25hbCBjb21wb25lbnRzIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgYG5vbi1jb21wYXQgYnVpbGQuIElmIHlvdSBoYXZlIGFscmVhZHkgbWlncmF0ZWQgYWxsIGFzeW5jIGNvbXBvbmVudCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2FnZSBhbmQgaW50ZW5kIHRvIHVzZSBwbGFpbiBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgYCArXHJcbiAgICAgICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIENPTVBPTkVOVF9BU1lOQyAqL306IGZhbHNlIH0pXFxuYCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2FzeW5jLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIENPTVBPTkVOVF9GVU5DVElPTkFMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBGdW5jdGlvbmFsIGNvbXBvbmVudCR7bmFtZSA/IGAgPCR7bmFtZX0+YCA6IGBzYH0gc2hvdWxkIGJlIGRlZmluZWQgYXMgYSBwbGFpbiBmdW5jdGlvbiBpbiBWdWUgMy4gVGhlIFwiZnVuY3Rpb25hbFwiIGAgK1xyXG4gICAgICAgICAgICAgICAgYG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBOT1RFOiBCZWZvcmUgbWlncmF0aW5nIHRvIHVzZSBwbGFpbiBgICtcclxuICAgICAgICAgICAgICAgIGBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgZmlyc3QgbWFrZSBzdXJlIHRoYXQgYWxsIGFzeW5jIGAgK1xyXG4gICAgICAgICAgICAgICAgYGNvbXBvbmVudHMgdXNhZ2UgaGF2ZSBiZWVuIG1pZ3JhdGVkIGFuZCBpdHMgY29tcGF0IGJlaGF2aW9yIGhhcyBgICtcclxuICAgICAgICAgICAgICAgIGBiZWVuIGRpc2FibGVkLmApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9mdW5jdGlvbmFsLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ01zZyA9IGBvcHQtaW4gdG8gYCArXHJcbiAgICAgICAgICAgICAgICBgVnVlIDMgYmVoYXZpb3Igb24gYSBwZXItY29tcG9uZW50IGJhc2lzIHdpdGggXFxgY29tcGF0Q29uZmlnOiB7ICR7XCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovfTogZmFsc2UgfVxcYC5gO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5wcm9wcyAmJiBpc0FycmF5KGNvbXAucHJvcHMpXHJcbiAgICAgICAgICAgICAgICA/IGNvbXAucHJvcHMuaW5jbHVkZXMoJ21vZGVsVmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgOiBoYXNPd24oY29tcC5wcm9wcywgJ21vZGVsVmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChgQ29tcG9uZW50IGRlbGNhcmVzIFwibW9kZWxWYWx1ZVwiIHByb3AsIHdoaWNoIGlzIFZ1ZSAzIHVzYWdlLCBidXQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGlzIHJ1bm5pbmcgdW5kZXIgVnVlIDIgY29tcGF0IHYtbW9kZWwgYmVoYXZpb3IuIFlvdSBjYW4gJHtjb25maWdNc2d9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChgdi1tb2RlbCB1c2FnZSBvbiBjb21wb25lbnQgaGFzIGNoYW5nZWQgaW4gVnVlIDMuIENvbXBvbmVudCB0aGF0IGV4cGVjdHMgYCArXHJcbiAgICAgICAgICAgICAgICBgdG8gd29yayB3aXRoIHYtbW9kZWwgc2hvdWxkIG5vdyB1c2UgdGhlIFwibW9kZWxWYWx1ZVwiIHByb3AgYW5kIGVtaXQgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYFwidXBkYXRlOm1vZGVsVmFsdWVcIiBldmVudC4gWW91IGNhbiB1cGRhdGUgdGhlIHVzYWdlIGFuZCB0aGVuICR7Y29uZmlnTXNnfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92LW1vZGVsLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUkVOREVSX0ZVTkNUSU9OXCIgLyogUkVOREVSX0ZVTkNUSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMydzIHJlbmRlciBmdW5jdGlvbiBBUEkgaGFzIGNoYW5nZWQuIGAgK1xyXG4gICAgICAgICAgICBgWW91IGNhbiBvcHQtaW4gdG8gdGhlIG5ldyBBUEkgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIFJFTkRFUl9GVU5DVElPTiAqL306IGZhbHNlIH0pXFxuYCArXHJcbiAgICAgICAgICAgIGBcXG4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgcGVyLWNvbXBvbmVudCB2aWEgdGhlIFwiY29tcGF0Q29uZmlnXCIgb3B0aW9uLilgLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vcmVuZGVyLWZ1bmN0aW9uLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkZJTFRFUlNcIiAvKiBGSUxURVJTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBmaWx0ZXJzIGhhdmUgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFRoZSBcInxcIiBzeW1ib2wgd2lsbCBiZSB0cmVhdGVkIGFzIG5hdGl2ZSBKYXZhU2NyaXB0IGJpdHdpc2UgT1Igb3BlcmF0b3IuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIG1ldGhvZCBjYWxscyBvciBjb21wdXRlZCBwcm9wZXJ0aWVzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2ZpbHRlcnMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJQUklWQVRFX0FQSVNcIiAvKiBQUklWQVRFX0FQSVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogbmFtZSA9PiBgXCIke25hbWV9XCIgaXMgYSBWdWUgMiBwcml2YXRlIEFQSSB0aGF0IG5vIGxvbmdlciBleGlzdHMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgSWYgeW91IGFyZSBzZWVpbmcgdGhpcyB3YXJuaW5nIG9ubHkgZHVlIHRvIGEgZGVwZW5kZW5jeSwgeW91IGNhbiBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB2aWEgeyBQUklWQVRFX0FQSVM6ICdzdXByZXNzLXdhcm5pbmcnIH0uYFxyXG4gICAgfVxyXG59O1xyXG5jb25zdCBpbnN0YW5jZVdhcm5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmNvbnN0IHdhcm5Db3VudCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAvLyBjaGVjayB1c2VyIGNvbmZpZ1xyXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xyXG4gICAgaWYgKGNvbmZpZyA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHVwS2V5ID0ga2V5ICsgYXJncy5qb2luKCcnKTtcclxuICAgIGxldCBjb21wSWQgPSBpbnN0YW5jZSAmJiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKTtcclxuICAgIGlmIChjb21wSWQgPT09ICdBbm9ueW1vdXMnICYmIGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29tcElkID0gaW5zdGFuY2UudWlkO1xyXG4gICAgfVxyXG4gICAgLy8gc2tpcCBpZiB0aGUgc2FtZSB3YXJuaW5nIGlzIGVtaXR0ZWQgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0eXBlXHJcbiAgICBjb25zdCBjb21wb25lbnREdXBLZXkgPSBkdXBLZXkgKyBjb21wSWQ7XHJcbiAgICBpZiAoY29tcG9uZW50RHVwS2V5IGluIGluc3RhbmNlV2FybmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaW5zdGFuY2VXYXJuZWRbY29tcG9uZW50RHVwS2V5XSA9IHRydWU7XHJcbiAgICAvLyBzYW1lIHdhcm5pbmcsIGJ1dCBkaWZmZXJlbnQgY29tcG9uZW50LiBza2lwIHRoZSBsb25nIG1lc3NhZ2UgYW5kIGp1c3RcclxuICAgIC8vIGxvZyB0aGUga2V5IGFuZCBjb3VudC5cclxuICAgIGlmIChkdXBLZXkgaW4gd2FybkNvdW50KSB7XHJcbiAgICAgICAgd2FybihgKGRlcHJlY2F0aW9uICR7a2V5fSkgKCR7Kyt3YXJuQ291bnRbZHVwS2V5XSArIDF9KWApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHdhcm5Db3VudFtkdXBLZXldID0gMDtcclxuICAgIGNvbnN0IHsgbWVzc2FnZSwgbGluayB9ID0gZGVwcmVjYXRpb25EYXRhW2tleV07XHJcbiAgICB3YXJuKGAoZGVwcmVjYXRpb24gJHtrZXl9KSAke3R5cGVvZiBtZXNzYWdlID09PSAnZnVuY3Rpb24nID8gbWVzc2FnZSguLi5hcmdzKSA6IG1lc3NhZ2V9JHtsaW5rID8gYFxcbiAgRGV0YWlsczogJHtsaW5rfWAgOiBgYH1gKTtcclxuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIHRydWUpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgXiBUaGUgYWJvdmUgZGVwcmVjYXRpb24ncyBjb21wYXQgYmVoYXZpb3IgaXMgZGlzYWJsZWQgYW5kIHdpbGwgbGlrZWx5IGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byBydW50aW1lIGVycm9ycy5gKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBnbG9iYWxDb21wYXRDb25maWcgPSB7XHJcbiAgICBNT0RFOiAyXHJcbn07XHJcbmZ1bmN0aW9uIGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZUNvbmZpZyA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuY29tcGF0Q29uZmlnO1xyXG4gICAgaWYgKGluc3RhbmNlQ29uZmlnICYmIGtleSBpbiBpbnN0YW5jZUNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZUNvbmZpZ1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdsb2JhbENvbXBhdENvbmZpZ1trZXldO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCBlbmFibGVGb3JCdWlsdEluID0gZmFsc2UpIHtcclxuICAgIC8vIHNraXAgY29tcGF0IGZvciBidWlsdC1pbiBjb21wb25lbnRzXHJcbiAgICBpZiAoIWVuYWJsZUZvckJ1aWx0SW4gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX2lzQnVpbHRJbikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJhd01vZGUgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoJ01PREUnLCBpbnN0YW5jZSkgfHwgMjtcclxuICAgIGNvbnN0IHZhbCA9IGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKTtcclxuICAgIGNvbnN0IG1vZGUgPSBpc0Z1bmN0aW9uKHJhd01vZGUpXHJcbiAgICAgICAgPyByYXdNb2RlKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUpXHJcbiAgICAgICAgOiByYXdNb2RlO1xyXG4gICAgaWYgKG1vZGUgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gdmFsICE9PSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSAnc3VwcHJlc3Mtd2FybmluZyc7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcclxuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1pdHNPcHRpb25zLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZW1pdHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiZcclxuICAgICAgICAgICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoZXZlbnQpIGluIHByb3BzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgYXJncyA9IHJhd0FyZ3M7XHJcbiAgICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKCd1cGRhdGU6Jyk7XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcclxuICAgIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xyXG4gICAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xyXG4gICAgICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiBhLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcclxuICAgICAgICAgICAgd2FybihgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IGAgK1xyXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgYE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBgICtcclxuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgaGFuZGxlck5hbWU7XHJcbiAgICBsZXQgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCkpXSB8fFxyXG4gICAgICAgIC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcclxuICAgICAgICBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSldO1xyXG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFsc28gdHJpZ2dlciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRcclxuICAgIC8vIGZvciBwcm9wcyBwYXNzZWQgdmlhIGtlYmFiLWNhc2VcclxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcclxuICAgICAgICBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpKV07XHJcbiAgICB9XHJcbiAgICBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xyXG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcob25jZUhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcclxuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgcmF3LmZvckVhY2goa2V5ID0+IChub3JtYWxpemVkW2tleV0gPSBudWxsKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcclxuICAgIH1cclxuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XHJcbn1cblxuLyoqXHJcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXHJcbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcclxuICovXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG4vKipcclxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcclxuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxyXG4gKiAvLyAuLi5yZW5kZXJcclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcclxuICAgIHJldHVybiBwcmV2O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcclxufVxyXG4vKipcclxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXHJcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XHJcbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QgLy8gZmFsc2Ugb25seVxyXG4pIHtcclxuICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIC8vIGFscmVhZHkgbm9ybWFsaXplZFxyXG4gICAgaWYgKGZuLl9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XHJcbiAgICAgICAgLy8gY2FuIG1lc3MgdXAgYmxvY2sgdHJhY2tpbmcsIHNvIGJ5IGRlZmF1bHQgd2UgZGlzYWJsZSBibG9jayB0cmFja2luZyBhbmRcclxuICAgICAgICAvLyBmb3JjZSBiYWlsIG91dCB3aGVuIGludm9raW5nIGEgY29tcGlsZWQgc2xvdCAoaW5kaWNhdGVkIGJ5IHRoZSAuX2QgZmxhZykuXHJcbiAgICAgICAgLy8gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAsIHNvIHdlIGZsaXAgdGhlXHJcbiAgICAgICAgLy8gLl9kIGZsYWcgb2ZmIHdoZW4gaW52b2tpbmcgdGhlIHdyYXBwZWQgZm4gaW5zaWRlIGByZW5kZXJTbG90YC5cclxuICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xyXG4gICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZm4oLi4uYXJncyk7XHJcbiAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcclxuICAgICAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgLy8gbWFyayBub3JtYWxpemVkIHRvIGF2b2lkIGR1cGxpY2F0ZWQgd3JhcHBpbmdcclxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xyXG4gICAgLy8gbWFyayB0aGlzIGFzIGNvbXBpbGVkIGJ5IGRlZmF1bHRcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBpbiB2bm9kZS50cyAtPiBub3JtYWxpemVDaGlsZHJlbigpIHRvIHNldCB0aGUgc2xvdFxyXG4gICAgLy8gcmVuZGVyaW5nIGZsYWcuXHJcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcclxuICAgIC8vIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdFxyXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcclxufVxuXG4vKipcclxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxyXG4gKiBJZiAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlciB0aGVuIHRoZSB3YXJuaW5nIGZvciBmYWlsZWQgYXR0cnNcclxuICogZmFsbHRocm91Z2ggY2FuIGJlIHN1cHByZXNzZWQuXHJcbiAqL1xyXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcclxuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4LCBpbmhlcml0QXR0cnMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIC8vIHdpdGhQcm94eSBpcyBhIHByb3h5IHdpdGggYSBkaWZmZXJlbnQgYGhhc2AgdHJhcCBvbmx5IGZvclxyXG4gICAgICAgICAgICAvLyBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrLlxyXG4gICAgICAgICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xyXG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIuY2FsbChwcm94eVRvVXNlLCBwcm94eVRvVXNlLCByZW5kZXJDYWNoZSwgcHJvcHMsIHNldHVwU3RhdGUsIGRhdGEsIGN0eCkpO1xyXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudDtcclxuICAgICAgICAgICAgLy8gaW4gZGV2LCBtYXJrIGF0dHJzIGFjY2Vzc2VkIGlmIG9wdGlvbmFsIHByb3BzIChhdHRycyA9PT0gcHJvcHMpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYXR0cnMgPT09IHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5sZW5ndGggPiAxXHJcbiAgICAgICAgICAgICAgICA/IHJlbmRlcihwcm9wcywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBhdHRycygpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogeyBhdHRycywgc2xvdHMsIGVtaXQgfSlcclxuICAgICAgICAgICAgICAgIDogcmVuZGVyKHByb3BzLCBudWxsIC8qIHdlIGtub3cgaXQgZG9lc24ndCBuZWVkIGl0ICovKSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHNcclxuICAgICAgICAgICAgICAgID8gYXR0cnNcclxuICAgICAgICAgICAgICAgIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXR0ciBtZXJnaW5nXHJcbiAgICAgICAgLy8gaW4gZGV2IG1vZGUsIGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQsIGFuZCBpdCdzIHBvc3NpYmxlIGZvciBhIHRlbXBsYXRlXHJcbiAgICAgICAgLy8gdG8gaGF2ZSBjb21tZW50cyBhbG9uZyBzaWRlIHRoZSByb290IGVsZW1lbnQgd2hpY2ggbWFrZXMgaXQgYSBmcmFnbWVudFxyXG4gICAgICAgIGxldCByb290ID0gcmVzdWx0O1xyXG4gICAgICAgIGxldCBzZXRSb290ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDggLyogREVWX1JPT1RfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCQxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlICYmXHJcbiAgICAgICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlKSAmJlxyXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgICAgICAocm9vdC5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgIHJvb3Quc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pKSA7XHJcbiAgICAgICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXHJcbiAgICAgICAgaWYgKHZub2RlLmRpcnMpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcclxuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XHJcbiAgICAgICAgICAgIHNldFJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKiBJbiBkZXYgbW9kZSwgdGVtcGxhdGUgcm9vdCBsZXZlbCBjb21tZW50cyBhcmUgcmVuZGVyZWQsIHdoaWNoIHR1cm5zIHRoZVxyXG4gKiB0ZW1wbGF0ZSBpbnRvIGEgZnJhZ21lbnQgcm9vdCwgYnV0IHdlIG5lZWQgdG8gbG9jYXRlIHRoZSBzaW5nbGUgZWxlbWVudFxyXG4gKiByb290IGZvciBhdHRycyBhbmQgc2NvcGUgaWQgcHJvY2Vzc2luZy5cclxuICovXHJcbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4pO1xyXG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcclxuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XHJcbiAgICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XHJcbiAgICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XHJcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XHJcbn07XHJcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4pIHtcclxuICAgIGxldCBzaW5nbGVSb290O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIC8vIGlnbm9yZSB1c2VyIGNvbW1lbnRcclxuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzaW5nbGVSb290O1xyXG59XHJcbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xyXG4gICAgbGV0IHJlcztcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50JDEgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxyXG4gICAgKTtcclxufTtcclxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XHJcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xyXG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xyXG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcclxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cclxuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXHJcbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCB0aGF0IHJlZmVyZW5jZXMgdmFsdWVzIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLFxyXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXHJcbiAgICAgICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gdGhpcyBwYXRoIGlzIG9ubHkgdGFrZW4gYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxyXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XHJcbiAgICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XHJcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxyXG4pIHtcclxuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XHJcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcclxuLy8gU3VzcGVuc2UgZXhwb3NlcyBhIGNvbXBvbmVudC1saWtlIEFQSSwgYW5kIGlzIHRyZWF0ZWQgbGlrZSBhIGNvbXBvbmVudFxyXG4vLyBpbiB0aGUgY29tcGlsZXIsIGJ1dCBpbnRlcm5hbGx5IGl0J3MgYSBzcGVjaWFsIGJ1aWx0LWluIHR5cGUgdGhhdCBob29rc1xyXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cclxuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xyXG4gICAgbmFtZTogJ1N1c3BlbnNlJyxcclxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcclxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXHJcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcclxuICAgIC8vIGludGVybmFscy5cclxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBcclxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcclxuICAgIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXHJcbiAgICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXHJcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cclxufTtcclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgU3VzcGVuc2UgPSAoU3VzcGVuc2VJbXBsXHJcbiAgICApO1xyXG5mdW5jdGlvbiB0cmlnZ2VyRXZlbnQodm5vZGUsIG5hbWUpIHtcclxuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XHJcbiAgICAgICAgZXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XHJcbiAgICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykpO1xyXG4gICAgLy8gc3RhcnQgbW91bnRpbmcgdGhlIGNvbnRlbnQgc3VidHJlZSBpbiBhbiBvZmYtZG9tIGNvbnRhaW5lclxyXG4gICAgcGF0Y2gobnVsbCwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBoaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgLy8gbm93IGNoZWNrIGlmIHdlIGhhdmUgZW5jb3VudGVyZWQgYW55IGFzeW5jIGRlcHNcclxuICAgIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xyXG4gICAgICAgIC8vIGhhcyBhc3luY1xyXG4gICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcclxuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvblBlbmRpbmcnKTtcclxuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XHJcbiAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZS5zc0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xyXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XHJcbiAgICBzdXNwZW5zZS52bm9kZSA9IG4yO1xyXG4gICAgbjIuZWwgPSBuMS5lbDtcclxuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcclxuICAgIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcclxuICAgIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcclxuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcclxuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cclxuICAgICAgICAgICAgcGF0Y2gocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcclxuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXHJcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcclxuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcclxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxyXG4gICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQobjIsICdvblBlbmRpbmcnKTtcclxuICAgICAgICAgICAgLy8gbW91bnQgcGVuZGluZyBicmFuY2ggaW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBgY29uc29sZS5pbmZvYCBjYW5ub3QgYmUgbnVsbCBlcnJvclxyXG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiB1bm1vdW50LCBuOiBuZXh0LCBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IHRpbWVvdXQgPSB0b051bWJlcih2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50aW1lb3V0KTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgaXNTVkcsXHJcbiAgICAgICAgY29udGFpbmVyLFxyXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcclxuICAgICAgICBhbmNob3IsXHJcbiAgICAgICAgZGVwczogMCxcclxuICAgICAgICBwZW5kaW5nSWQ6IDAsXHJcbiAgICAgICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IC0xLFxyXG4gICAgICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcclxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxyXG4gICAgICAgIGlzSW5GYWxsYmFjazogdHJ1ZSxcclxuICAgICAgICBpc0h5ZHJhdGluZyxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgZWZmZWN0czogW10sXHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBwZW5kaW5nSWQsIGVmZmVjdHMsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBpbml0aWFsIGFuY2hvciBvbiBtb3VudFxyXG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgdHJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgcGFydCBvZiBhIHBhcmVudCBzdXNwZW5zZS4gZ2V0IHRoZSBsYXRlc3QgYW5jaG9yIGZvciBpbnNlcnRpb25cclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyZWQgZWZmZWN0c1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgbWVyZ2UgYnVmZmVyZWQgcG9zdCBqb2JzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGF0IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXHJcbiAgICAgICAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEByZXNvbHZlIGV2ZW50XHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUmVzb2x2ZScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBpc1NWRyB9ID0gc3VzcGVuc2U7XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25GYWxsYmFjaycpO1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXHJcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcclxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xyXG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XHJcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxyXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBtYXkgaGF2ZSBiZWVuIHJlcGxhY2VkIGlmIGFuIHVwZGF0ZSBoYXBwZW5lZCBiZWZvcmUgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmVsID0gaHlkcmF0ZWRFbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcclxuICAgICAgICAgICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCB2bm9kZSwgXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXHJcbiAgICAgICAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksIHN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShwbGFjZWhvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25seSBkZWNyZWFzZSBkZXBzIGNvdW50IGlmIHN1c3BlbnNlIGlzIG5vdCBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gc3VzcGVuc2U7XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVN1c3BlbnNlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XHJcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxyXG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcclxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXHJcbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XHJcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcclxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XHJcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNTbG90Q2hpbGRyZW4gPSBzaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlbik7XHJcbiAgICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW5cclxuICAgICAgICA/IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5mYWxsYmFjaylcclxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChzKSB7XHJcbiAgICBsZXQgYmxvY2s7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgIGNvbnN0IGlzQ29tcGlsZWRTbG90ID0gcy5fYztcclxuICAgICAgICBpZiAoaXNDb21waWxlZFNsb3QpIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZVRyYWNraW5nOiBmYWxzZVxyXG4gICAgICAgICAgICAvLyBhbGxvdyBibG9jayB0cmFja2luZyBmb3IgY29tcGlsZWQgc2xvdHNcclxuICAgICAgICAgICAgLy8gKHNlZSAuL2NvbXBvbmVudFJlbmRlckNvbnRleHQudHMpXHJcbiAgICAgICAgICAgIHMuX2QgPSBmYWxzZTtcclxuICAgICAgICAgICAgb3BlbkJsb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHMgPSBzKCk7XHJcbiAgICAgICAgaWYgKGlzQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIHMuX2QgPSB0cnVlO1xyXG4gICAgICAgICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcclxuICAgICAgICAgICAgY2xvc2VCbG9jaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHMpKSB7XHJcbiAgICAgICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcyA9IHNpbmdsZUNoaWxkO1xyXG4gICAgfVxyXG4gICAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xyXG4gICAgaWYgKGJsb2NrKSB7XHJcbiAgICAgICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoYyA9PiBjICE9PSBzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xyXG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaChmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcclxuICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcclxuICAgIGNvbnN0IHsgdm5vZGUsIHBhcmVudENvbXBvbmVudCB9ID0gc3VzcGVuc2U7XHJcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XHJcbiAgICAvLyBpbiBjYXNlIHN1c3BlbnNlIGlzIHRoZSByb290IG5vZGUgb2YgYSBjb21wb25lbnQsXHJcbiAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdGhlIEhPQyBlbFxyXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcclxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xyXG4gICAgICAgIC8vIGJ5IGRlZmF1bHQgYW4gaW5zdGFuY2UgaW5oZXJpdHMgaXRzIHBhcmVudCdzIHByb3ZpZGVzIG9iamVjdFxyXG4gICAgICAgIC8vIGJ1dCB3aGVuIGl0IG5lZWRzIHRvIHByb3ZpZGUgdmFsdWVzIG9mIGl0cyBvd24sIGl0IGNyZWF0ZXMgaXRzXHJcbiAgICAgICAgLy8gb3duIHByb3ZpZGVzIG9iamVjdCB1c2luZyBwYXJlbnQgcHJvdmlkZXMgb2JqZWN0IGFzIHByb3RvdHlwZS5cclxuICAgICAgICAvLyB0aGlzIHdheSBpbiBgaW5qZWN0YCB3ZSBjYW4gc2ltcGx5IGxvb2sgdXAgaW5qZWN0aW9ucyBmcm9tIGRpcmVjdFxyXG4gICAgICAgIC8vIHBhcmVudCBhbmQgbGV0IHRoZSBwcm90b3R5cGUgY2hhaW4gZG8gdGhlIHdvcmsuXHJcbiAgICAgICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xyXG4gICAgICAgICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcclxuICAgIC8vIGZhbGxiYWNrIHRvIGBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VgIHNvIHRoYXQgdGhpcyBjYW4gYmUgY2FsbGVkIGluXHJcbiAgICAvLyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAvLyAjMjQwMFxyXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXHJcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwQ29udGV4dCdzIGBwcm92aWRlc2AgaWYgdGhlIGludGFuY2UgaXMgYXQgcm9vdFxyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UucGFyZW50ID09IG51bGxcclxuICAgICAgICAgICAgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXNcclxuICAgICAgICAgICAgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xyXG4gICAgICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZS5wcm94eSlcclxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XHJcbiAgICB9XHJcbn1cblxuLy8gU2ltcGxlIGVmZmVjdC5cclxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xyXG59XHJcbi8vIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzIHRvIHRyaWdnZXIgb24gdW5kZWZpbmVkIGluaXRpYWwgdmFsdWVzXHJcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xyXG4gICAgICAgIHdhcm4oYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IGAgK1xyXG4gICAgICAgICAgICBgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvblRyYWNrLCBvblRyaWdnZXIgfSA9IEVNUFRZX09CSiwgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCwgcywgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGAgK1xyXG4gICAgICAgICAgICBgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmApO1xyXG4gICAgfTtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XHJcbiAgICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xyXG4gICAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UudmFsdWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gISFzb3VyY2UuX3NoYWxsb3c7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2U7XHJcbiAgICAgICAgZGVlcCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcclxuICAgICAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZShpc1JlYWN0aXZlKTtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZShzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHMsIGluc3RhbmNlLCAyIC8qIFdBVENIX0dFVFRFUiAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbb25JbnZhbGlkYXRlXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNsZWFudXA7XHJcbiAgICBsZXQgb25JbnZhbGlkYXRlID0gKGZuKSA9PiB7XHJcbiAgICAgICAgY2xlYW51cCA9IHJ1bm5lci5vcHRpb25zLm9uU3RvcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBXQVRDSF9DTEVBTlVQICovKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcclxuICAgIGNvbnN0IGpvYiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXJ1bm5lci5hY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICAgICAgaWYgKGRlZXAgfHxcclxuICAgICAgICAgICAgICAgIGZvcmNlVHJpZ2dlciB8fFxyXG4gICAgICAgICAgICAgICAgKGlzTXVsdGlTb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoKHYsIGkpID0+IGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pKVxyXG4gICAgICAgICAgICAgICAgICAgIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZhbHNlICApKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBXQVRDSF9DQUxMQkFDSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHVuZGVmaW5lZCA6IG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW52YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxyXG4gICAgICAgICAgICBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gaW1wb3J0YW50OiBtYXJrIHRoZSBqb2IgYXMgYSB3YXRjaGVyIGNhbGxiYWNrIHNvIHRoYXQgc2NoZWR1bGVyIGtub3dzXHJcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXHJcbiAgICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcclxuICAgIGxldCBzY2hlZHVsZXI7XHJcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9IGpvYjsgLy8gdGhlIHNjaGVkdWxlciBmdW5jdGlvbiBnZXRzIGNhbGxlZCBkaXJlY3RseVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRlZmF1bHQ6ICdwcmUnXHJcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlIHx8IGluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQcmVGbHVzaENiKGpvYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aXRoICdwcmUnIG9wdGlvbiwgdGhlIGZpcnN0IGNhbGwgbXVzdCBoYXBwZW4gYmVmb3JlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgc28gaXQgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHkuXHJcbiAgICAgICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW5uZXIgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrLFxyXG4gICAgICAgIG9uVHJpZ2dlcixcclxuICAgICAgICBzY2hlZHVsZXJcclxuICAgIH0pO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChydW5uZXIsIGluc3RhbmNlKTtcclxuICAgIC8vIGluaXRpYWwgcnVuXHJcbiAgICBpZiAoY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgICAgIGpvYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XHJcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHJ1bm5lciwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcnVubmVyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHN0b3AocnVubmVyKTtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmVtb3ZlKGluc3RhbmNlLmVmZmVjdHMsIHJ1bm5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4vLyB0aGlzLiR3YXRjaFxyXG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xyXG4gICAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKVxyXG4gICAgICAgID8gc291cmNlLmluY2x1ZGVzKCcuJylcclxuICAgICAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSlcclxuICAgICAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV1cclxuICAgICAgICA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xyXG4gICAgbGV0IGNiO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgY2IgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcclxuICAgICAgICBvcHRpb25zID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMsIHRoaXMpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XHJcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1ciA9IGN0eDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xyXG4gICAgICAgICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VyO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgc2VlbiA9IG5ldyBTZXQoKSkge1xyXG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHxcclxuICAgICAgICBzZWVuLmhhcyh2YWx1ZSkgfHxcclxuICAgICAgICB2YWx1ZVtcIl9fdl9za2lwXCIgLyogU0tJUCAqL10pIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZWVuLmFkZCh2YWx1ZSk7XHJcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNMZWF2aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGxlYXZpbmdWTm9kZXM6IG5ldyBNYXAoKVxyXG4gICAgfTtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcclxuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xyXG4gICAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgbW9kZTogU3RyaW5nLFxyXG4gICAgICAgIGFwcGVhcjogQm9vbGVhbixcclxuICAgICAgICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXHJcbiAgICAgICAgLy8gZW50ZXJcclxuICAgICAgICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIC8vIGxlYXZlXHJcbiAgICAgICAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBhcHBlYXJcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxyXG4gICAgfSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZUcmFuc2l0aW9uS2V5O1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHRyYWNrIHJlYWN0aXZpdHkgZm9yIHRoZXNlIHByb3BzIHNvIHVzZSB0aGUgcmF3XHJcbiAgICAgICAgICAgIC8vIHByb3BzIGZvciBhIGJpdCBiZXR0ZXIgcGVyZlxyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcclxuICAgICAgICAgICAgLy8gY2hlY2sgbW9kZVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGUgJiYgIVsnaW4tb3V0JywgJ291dC1pbicsICdkZWZhdWx0J10uaW5jbHVkZXMobW9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGNoaWxkcmVuIGhhcyBhIGd1YXJhbnRlZWQgbGVuZ3RoIG9mIDEuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiA8dHJhbnNpdGlvbj48a2VlcC1hbGl2ZS8+PC90cmFuc2l0aW9uPiwgd2UgbmVlZCB0b1xyXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSB0eXBlIG9mIHRoZSBrZXB0LWFsaXZlIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICBjb25zdCBpbm5lckNoaWxkID0gZ2V0S2VlcEFsaXZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZElubmVyQ2hpbGQgPSBvbGRDaGlsZCAmJiBnZXRLZWVwQWxpdmVDaGlsZChvbGRDaGlsZCk7XHJcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGdldFRyYW5zaXRpb25LZXkgfSA9IGlubmVyQ2hpbGQudHlwZTtcclxuICAgICAgICAgICAgaWYgKGdldFRyYW5zaXRpb25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFRyYW5zaXRpb25LZXkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2VHJhbnNpdGlvbktleSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09IHByZXZUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbktleUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtb2RlXHJcbiAgICAgICAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmXHJcbiAgICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSAmJlxyXG4gICAgICAgICAgICAgICAgKCFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkgfHwgdHJhbnNpdGlvbktleUNoYW5nZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9sZCB0cmVlJ3MgaG9va3MgaW4gY2FzZSBvZiBkeW5hbWljIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xyXG4gICAgICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGJldHdlZW4gZGlmZmVyZW50IHZpZXdzXHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBwbGFjZWhvbGRlciBub2RlIGFuZCBxdWV1ZSB1cGRhdGUgd2hlbiBsZWF2ZSBmaW5pc2hlc1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0JyAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XHJcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XHJcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xyXG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xyXG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xyXG59XHJcbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxyXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcclxuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcclxuICAgICAgICBob29rICYmXHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIFRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaG9va3MgPSB7XHJcbiAgICAgICAgbW9kZSxcclxuICAgICAgICBwZXJzaXN0ZWQsXHJcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcclxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxyXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXHJcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcclxuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgICAgICBob29rKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XHJcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkxlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChvbkxlYXZlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9uZSh2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBob29rcztcclxufVxyXG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcclxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxyXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXHJcbi8vIHVubW91bnRlZC5cclxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xyXG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xyXG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxyXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICAgIDogdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSkge1xyXG4gICAgbGV0IHJldCA9IFtdO1xyXG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKVxyXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XHJcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXHJcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCQxKSB7XHJcbiAgICAgICAgICAgIHJldC5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjMTEyNiBpZiBhIHRyYW5zaXRpb24gY2hpbGRyZW4gbGlzdCBjb250YWlucyBtdWx0aXBsZSBzdWIgZnJhZ21lbnRzLCB0aGVzZVxyXG4gICAgLy8gZnJhZ21lbnRzIHdpbGwgYmUgbWVyZ2VkIGludG8gYSBmbGF0IGNoaWxkcmVuIGFycmF5LiBTaW5jZSBlYWNoIHYtZm9yXHJcbiAgICAvLyBmcmFnbWVudCBtYXkgY29udGFpbiBkaWZmZXJlbnQgc3RhdGljIGJpbmRpbmdzIGluc2lkZSwgd2UgbmVlZCB0byBkZS1vcFxyXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gdG8gZm9yY2UgZnVsbCBkaWZmcyB0byBlbnN1cmUgY29ycmVjdCBiZWhhdmlvci5cclxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yIC8qIEJBSUwgKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xyXG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XHJcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCwgZGVsYXkgPSAyMDAsIHRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgc3VzcGVuc2libGUgPSB0cnVlLCBvbkVycm9yOiB1c2VyT25FcnJvciB9ID0gc291cmNlO1xyXG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgIGxldCByZXNvbHZlZENvbXA7XHJcbiAgICBsZXQgcmV0cmllcyA9IDA7XHJcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcclxuICAgICAgICByZXRyaWVzKys7XHJcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBsb2FkKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XHJcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxyXG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyT25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGNvbXApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb21wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcclxuICAgICAgICBuYW1lOiAnQXN5bmNDb21wb25lbnRXcmFwcGVyJyxcclxuICAgICAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxyXG4gICAgICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXR1cCgpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICAgICAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWRcclxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMTMgLyogQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqLywgIWVycm9yQ29tcG9uZW50IC8qIGRvIG5vdCB0aHJvdyBpbiBkZXYgaWYgdXNlciBwcm92aWRlZCBlcnJvciBjb21wb25lbnQgKi8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzdXNwZW5zZS1jb250cm9sbGVkIG9yIFNTUi5cclxuICAgICAgICAgICAgaWYgKChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSkgfHxcclxuICAgICAgICAgICAgICAgIChmYWxzZSApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29tcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHJlZigpO1xyXG4gICAgICAgICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXkpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2FkKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgaXMga2VlcC1hbGl2ZSwgZm9yY2UgdXBkYXRlIHNvIHRoZSBsb2FkZWQgY29tcG9uZW50J3NcclxuICAgICAgICAgICAgICAgICAgICAvLyBuYW1lIGlzIHRha2VuIGludG8gYWNjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHsgdm5vZGU6IHsgcmVmLCBwcm9wcywgY2hpbGRyZW4gfSB9KSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAvLyBlbnN1cmUgaW5uZXIgY29tcG9uZW50IGluaGVyaXRzIHRoZSBhc3luYyB3cmFwcGVyJ3MgcmVmIG93bmVyXHJcbiAgICB2bm9kZS5yZWYgPSByZWY7XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcclxuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcclxuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxyXG4gICAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cclxuICAgIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XHJcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXHJcbiAgICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcclxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXHJcbiAgICAgICAgLy8gY3R4IHdoZXJlIHRoZSByZW5kZXJlciBwYXNzZXMgaW4gaXRzIGludGVybmFscyxcclxuICAgICAgICAvLyBhbmQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBleHBvc2VzIGFjdGl2YXRlL2RlYWN0aXZhdGUgaW1wbGVtZW50YXRpb25zLlxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXHJcbiAgICAgICAgLy8gcmVuZGVyZXIgdG8gZmFjaWxpdGF0ZSB0cmVlLXNoYWtpbmcuXHJcbiAgICAgICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcclxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxyXG4gICAgICAgIC8vIGZvciBLZWVwQWxpdmUsIHdlIGp1c3QgbmVlZCB0byByZW5kZXIgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcclxuICAgICAgICBjb25zdCB7IHJlbmRlcmVyOiB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogX3VubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gfSA9IHNoYXJlZENvbnRleHQ7XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLywgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHByb3BzIGhhdmUgY2hhbmdlZFxyXG4gICAgICAgICAgICBwYXRjaChpbnN0YW5jZS52bm9kZSwgdm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCB2bm9kZS5zbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnRzIHRyZWVcclxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEgLyogTEVBVkUgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5kYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudHMgdHJlZVxyXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXHJcbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXHJcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICB7IGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSk7XHJcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXHJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxyXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcclxuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcclxuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xyXG4gICAgICAgICAgICAvLyBmb3IgYXN5bmMgY29tcG9uZW50cywgbmFtZSBjaGVjayBzaG91bGQgYmUgYmFzZWQgaW4gaXRzIGxvYWRlZFxyXG4gICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGlzQXN5bmNXcmFwcGVyKHZub2RlKVxyXG4gICAgICAgICAgICAgICAgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fVxyXG4gICAgICAgICAgICAgICAgOiBjb21wKTtcclxuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xyXG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxyXG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxyXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcclxuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxyXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXHJcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcclxuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcclxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXHJcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2VcclxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcclxuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcclxuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XHJcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIEFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xyXG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcclxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXHJcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cclxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxyXG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBob29rKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xyXG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XHJcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxyXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcclxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cclxuICAgIC8vIGFycmF5cy5cclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xyXG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXHJcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxyXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XHJcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcclxuICAgIGxldCBzaGFwZUZsYWcgPSB2bm9kZS5zaGFwZUZsYWc7XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgIHNoYXBlRmxhZyAtPSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICB2bm9kZS5zaGFwZUZsYWcgPSBzaGFwZUZsYWc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xyXG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xyXG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xyXG4gICAgICAgIC8vIGNhY2hlIHRoZSBlcnJvciBoYW5kbGluZyB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZSBob29rXHJcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXHJcbiAgICAgICAgLy8gaGFuZGxpbmdcIi5cclxuICAgICAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHxcclxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cclxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50SW5zdGFuY2UgZHVyaW5nIGhvb2sgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyB0aGUgaG9vayBkb2VzIG5vdCBzeW5jaHJvbm91c2x5IHRyaWdnZXIgb3RoZXIgaG9va3MsIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcmVwZW5kKSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5nc1t0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCAnJykpO1xyXG4gICAgICAgIHdhcm4oYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBgICtcclxuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXHJcbiAgICAgICAgICAgIGBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArXHJcbiAgICAgICAgICAgIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYFxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IFxyXG4vLyBwb3N0LWNyZWF0ZSBsaWZlY3ljbGUgcmVnaXN0cmF0aW9ucyBhcmUgbm9vcHMgZHVyaW5nIFNTUiAoZXhjZXB0IGZvciBzZXJ2ZXJQcmVmZXRjaClcclxuKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIgLyogU0VSVkVSX1BSRUZFVENIICovKSAmJlxyXG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsIGhvb2ssIHRhcmdldCk7XHJcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi8pO1xyXG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiIC8qIE1PVU5URUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiIC8qIEJFRk9SRV9VUERBVEUgKi8pO1xyXG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiIC8qIFVQREFURUQgKi8pO1xyXG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFwiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi8pO1xyXG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiIC8qIFVOTU9VTlRFRCAqLyk7XHJcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFwic3BcIiAvKiBTRVJWRVJfUFJFRkVUQ0ggKi8pO1xyXG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovKTtcclxuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgaW5qZWN0SG9vayhcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi8sIGhvb2ssIHRhcmdldCk7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAodHlwZSwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcclxuICAgICAgICAgICAgd2FybihgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xyXG5mdW5jdGlvbiBhcHBseU9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XHJcbiAgICAvLyBkbyBub3QgY2FjaGUgcHJvcGVydHkgYWNjZXNzIG9uIHB1YmxpYyBwcm94eSBkdXJpbmcgc3RhdGUgaW5pdGlhbGl6YXRpb25cclxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gZmFsc2U7XHJcbiAgICAvLyBjYWxsIGJlZm9yZUNyZWF0ZSBmaXJzdCBiZWZvcmUgYWNjZXNzaW5nIG90aGVyIG9wdGlvbnMgc2luY2VcclxuICAgIC8vIHRoZSBob29rIG1heSBtdXRhdGUgcmVzb2x2ZWQgb3B0aW9ucyAoIzI3OTEpXHJcbiAgICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcclxuICAgICAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIiAvKiBCRUZPUkVfQ1JFQVRFICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgXHJcbiAgICAvLyBzdGF0ZVxyXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsIG1ldGhvZHMsIHdhdGNoOiB3YXRjaE9wdGlvbnMsIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLCBpbmplY3Q6IGluamVjdE9wdGlvbnMsIFxyXG4gICAgLy8gbGlmZWN5Y2xlXHJcbiAgICBjcmVhdGVkLCBiZWZvcmVNb3VudCwgbW91bnRlZCwgYmVmb3JlVXBkYXRlLCB1cGRhdGVkLCBhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkLCBiZWZvcmVEZXN0cm95LCBiZWZvcmVVbm1vdW50LCBkZXN0cm95ZWQsIHVubW91bnRlZCwgcmVuZGVyLCByZW5kZXJUcmFja2VkLCByZW5kZXJUcmlnZ2VyZWQsIGVycm9yQ2FwdHVyZWQsIHNlcnZlclByZWZldGNoLCBcclxuICAgIC8vIHB1YmxpYyBBUElcclxuICAgIGV4cG9zZSwgaW5oZXJpdEF0dHJzLCBcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgZmlsdGVycyB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgW3Byb3BzT3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIlByb3BzXCIgLyogUFJPUFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvcHRpb25zIGluaXRpYWxpemF0aW9uIG9yZGVyICh0byBiZSBjb25zaXN0ZW50IHdpdGggVnVlIDIpOlxyXG4gICAgLy8gLSBwcm9wcyAoYWxyZWFkeSBkb25lIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbilcclxuICAgIC8vIC0gaW5qZWN0XHJcbiAgICAvLyAtIG1ldGhvZHNcclxuICAgIC8vIC0gZGF0YSAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICAvLyAtIGNvbXB1dGVkXHJcbiAgICAvLyAtIHdhdGNoIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcclxuICAgIGlmIChpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGhvZHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lIG1ldGhvZHMgdG8gdGhlIHByb3h5IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aG9zZSBhcmUgcmVhZC1vbmx5IGJ1dCByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChkYXRhT3B0aW9ucykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIGAgK1xyXG4gICAgICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzUHJvbWlzZShkYXRhKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgYCArXHJcbiAgICAgICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcclxuICAgICAgICAgICAgICAgIGBhc3luYyBzZXR1cCgpICsgPFN1c3BlbnNlPi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgZGF0YSgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIERBVEEgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb3NlIGRhdGEgb24gY3R4IGR1cmluZyBkZXZcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcgJiYga2V5WzBdICE9PSAnXycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3RhdGUgaW5pdGlhbGl6YXRpb24gY29tcGxldGUgYXQgdGhpcyBwb2ludCAtIHN0YXJ0IGNhY2hpbmcgYWNjZXNzXHJcbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XHJcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcclxuICAgICAgICAgICAgICAgID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbihvcHQuZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdldCA9PT0gTk9PUCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KVxyXG4gICAgICAgICAgICAgICAgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcclxuICAgICAgICAgICAgICAgIGdldCxcclxuICAgICAgICAgICAgICAgIHNldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2V0OiB2ID0+IChjLnZhbHVlID0gdilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXHJcbiAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICA6IHByb3ZpZGVPcHRpb25zO1xyXG4gICAgICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgcHJvdmlkZXNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3JlYXRlZCkge1xyXG4gICAgICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIiAvKiBDUkVBVEVEICovKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhyZWdpc3RlciwgaG9vaykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGhvb2spKSB7XHJcbiAgICAgICAgICAgIGhvb2suZm9yRWFjaChfaG9vayA9PiByZWdpc3RlcihfaG9vay5iaW5kKHB1YmxpY1RoaXMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVNb3VudCwgYmVmb3JlTW91bnQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25VcGRhdGVkLCB1cGRhdGVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25FcnJvckNhcHR1cmVkLCBlcnJvckNhcHR1cmVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlVW5tb3VudCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xyXG4gICAgaWYgKGlzQXJyYXkoZXhwb3NlKSkge1xyXG4gICAgICAgIGlmIChleHBvc2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKHt9KSk7XHJcbiAgICAgICAgICAgIGV4cG9zZS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleHBvc2VkW2tleV0gPSB0b1JlZihwdWJsaWNUaGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvcHRpb25zIHRoYXQgYXJlIGhhbmRsZWQgd2hlbiBjcmVhdGluZyB0aGUgaW5zdGFuY2UgYnV0IGFsc28gbmVlZCB0byBiZVxyXG4gICAgLy8gYXBwbGllZCBmcm9tIG1peGluc1xyXG4gICAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcclxuICAgICAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XHJcbiAgICB9XHJcbiAgICAvLyBhc3NldCBvcHRpb25zLlxyXG4gICAgaWYgKGNvbXBvbmVudHMpXHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XHJcbiAgICBpZiAoZGlyZWN0aXZlcylcclxuICAgICAgICBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcclxuICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XHJcbiAgICAgICAgaW5qZWN0T3B0aW9ucyA9IG5vcm1hbGl6ZUluamVjdChpbmplY3RPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcclxuICAgICAgICAgICAgaWYgKCdkZWZhdWx0JyBpbiBvcHQpIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0KG9wdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaXNBcnJheShob29rKVxyXG4gICAgICAgID8gaG9vay5tYXAoaCA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKVxyXG4gICAgICAgIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSwgaW5zdGFuY2UsIHR5cGUpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIocmF3LCBjdHgsIHB1YmxpY1RoaXMsIGtleSkge1xyXG4gICAgY29uc3QgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKCcuJylcclxuICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KVxyXG4gICAgICAgIDogKCkgPT4gcHVibGljVGhpc1trZXldO1xyXG4gICAgaWYgKGlzU3RyaW5nKHJhdykpIHtcclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcclxuICAgICAgICB3YXRjaChnZXR0ZXIsIHJhdy5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoKHIgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpXHJcbiAgICAgICAgICAgICAgICA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogY3R4W3Jhdy5oYW5kbGVyXTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBvcHRpb246IFwiJHtrZXl9XCJgLCByYXcpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXNvbHZlIG1lcmdlZCBvcHRpb25zIGFuZCBjYWNoZSBpdCBvbiB0aGUgY29tcG9uZW50LlxyXG4gKiBUaGlzIGlzIGRvbmUgb25seSBvbmNlIHBlci1jb21wb25lbnQgc2luY2UgdGhlIG1lcmdpbmcgZG9lcyBub3QgaW52b2x2ZVxyXG4gKiBpbnN0YW5jZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XHJcbiAgICBjb25zdCB7IG1peGluczogZ2xvYmFsTWl4aW5zLCBvcHRpb25zQ2FjaGU6IGNhY2hlLCBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH0gfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XHJcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XHJcbiAgICBsZXQgcmVzb2x2ZWQ7XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmVzb2x2ZWQgPSBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmVkID0ge307XHJcbiAgICAgICAgaWYgKGdsb2JhbE1peGlucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2gobSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIGJhc2UsIG9wdGlvbk1lcmdlU3RyYXRlZ2llcyk7XHJcbiAgICB9XHJcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xyXG4gICAgcmV0dXJuIHJlc29sdmVkO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcclxuICAgIGlmIChleHRlbmRzT3B0aW9ucykge1xyXG4gICAgICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobWl4aW5zKSB7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XHJcbiAgICAgICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSAnZXhwb3NlJykge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYFwiZXhwb3NlXCIgb3B0aW9uIGlzIGlnbm9yZWQgd2hlbiBkZWNsYXJlZCBpbiBtaXhpbnMgb3IgZXh0ZW5kcy4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzdHJhdCA9IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XSB8fCAoc3RyYXRzICYmIHN0cmF0c1trZXldKTtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcclxuICAgIGRhdGE6IG1lcmdlRGF0YUZuLFxyXG4gICAgcHJvcHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcclxuICAgIGVtaXRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXHJcbiAgICAvLyBvYmplY3RzXHJcbiAgICBtZXRob2RzOiBtZXJnZU9iamVjdE9wdGlvbnMsXHJcbiAgICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gbGlmZWN5Y2xlXHJcbiAgICBiZWZvcmVDcmVhdGU6IG1lcmdlQXNBcnJheSxcclxuICAgIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcclxuICAgIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXHJcbiAgICBtb3VudGVkOiBtZXJnZUFzQXJyYXksXHJcbiAgICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcclxuICAgIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcclxuICAgIGJlZm9yZURlc3Ryb3k6IG1lcmdlQXNBcnJheSxcclxuICAgIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXHJcbiAgICBkZWFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxyXG4gICAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcclxuICAgIC8vIGFzc2V0c1xyXG4gICAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gd2F0Y2hcclxuICAgIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcclxuICAgIC8vIHByb3ZpZGUgLyBpbmplY3RcclxuICAgIHByb3ZpZGU6IG1lcmdlRGF0YUZuLFxyXG4gICAgaW5qZWN0OiBtZXJnZUluamVjdFxyXG59O1xyXG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xyXG4gICAgaWYgKCFmcm9tKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0bykge1xyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcclxuICAgICAgICByZXR1cm4gKGV4dGVuZCkoaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VJbmplY3QodG8sIGZyb20pIHtcclxuICAgIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmF3O1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xyXG4gICAgcmV0dXJuIHRvID8gWy4uLm5ldyBTZXQoW10uY29uY2F0KHRvLCBmcm9tKSldIDogZnJvbTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcclxuICAgIHJldHVybiB0byA/IGV4dGVuZChleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pLCBmcm9tKSA6IGZyb207XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcclxuICAgIGlmICghdG8pXHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICBpZiAoIWZyb20pXHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHRvKTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcclxuICAgICAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lcmdlZDtcclxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cclxuaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgcHJvcHMgPSB7fTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxuICAgIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgIC8vIGVuc3VyZSBhbGwgZGVjbGFyZWQgcHJvcCBrZXlzIGFyZSBwcmVzZW50XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gdmFsaWRhdGlvblxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bCkge1xyXG4gICAgICAgIC8vIHN0YXRlZnVsXHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIG9wdGlvbmFsIHByb3BzLCBwcm9wcyA9PT0gYXR0cnNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gZGVjbGFyZWQgcHJvcHNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGF0dHJzLCB2bm9kZTogeyBwYXRjaEZsYWcgfSB9ID0gaW5zdGFuY2U7XHJcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBpZiAoXHJcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxyXG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcclxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XHJcbiAgICAhKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIChpbnN0YW5jZS50eXBlLl9faG1ySWQgfHxcclxuICAgICAgICAgICAgKGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQudHlwZS5fX2htcklkKSkpICYmXHJcbiAgICAgICAgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJlxyXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykpIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gdGhlIHByb3BzLlxyXG4gICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGZhbHNlIC8qIGlzQWJzZW50ICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGZ1bGwgcHJvcHMgdXBkYXRlLlxyXG4gICAgICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XHJcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXHJcbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxyXG4gICAgICAgIGxldCBrZWJhYktleTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcclxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSwgdHJ1ZSAvKiBpc0Fic2VudCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcclxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB0cmlnZ2VyIHVwZGF0ZXMgZm9yICRhdHRycyBpbiBjYXNlIGl0J3MgdXNlZCBpbiBjb21wb25lbnQgc2xvdHNcclxuICAgIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcclxuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFNFVCAqLywgJyRhdHRycycpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XHJcbiAgICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcclxuICAgIGxldCByYXdDYXN0VmFsdWVzO1xyXG4gICAgaWYgKHJhd1Byb3BzKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgLy8gcHJvcCBvcHRpb24gbmFtZXMgYXJlIGNhbWVsaXplZCBkdXJpbmcgbm9ybWFsaXphdGlvbiwgc28gdG8gc3VwcG9ydFxyXG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxyXG4gICAgICAgICAgICBsZXQgY2FtZWxLZXk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAoY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobmVlZENhc3RLZXlzKSB7XHJcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCBjYXN0VmFsdWVzW2tleV0sIGluc3RhbmNlLCAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICBpZiAob3B0ICE9IG51bGwpIHtcclxuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwobnVsbCwgcHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xyXG4gICAgICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xyXG4gICAgICAgICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmXHJcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQucHJvcHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzKVxyXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xyXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmF3KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSAobm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBvcHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcclxuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xyXG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8vIHVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayB0eXBlIGNvbnN0cnVjdG9yc1xyXG4vLyBzbyB0aGF0IGl0IHdvcmtzIGFjcm9zcyB2bXMgLyBpZnJhbWVzLlxyXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gY3RvciAmJiBjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XHJcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkVHlwZXMuZmluZEluZGV4KHQgPT4gaXNTYW1lVHlwZSh0LCB0eXBlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChvcHQgPT0gbnVsbClcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wKGtleSwgcmVzb2x2ZWRWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IgfSA9IHByb3A7XHJcbiAgICAvLyByZXF1aXJlZCFcclxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xyXG4gICAgICAgIHdhcm4oJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHR5cGUgY2hlY2tcclxuICAgIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XHJcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICB3YXJuKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY3VzdG9tIHZhbGlkYXRvclxyXG4gICAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ1N0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50Jyk7XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgbGV0IHZhbGlkO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcclxuICAgIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XHJcbiAgICAgICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0c1xyXG4gICAgICAgIGlmICghdmFsaWQgJiYgdCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZCxcclxuICAgICAgICBleHBlY3RlZFR5cGVcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuYCArXHJcbiAgICAgICAgYCBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJyl9YDtcclxuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XHJcbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxyXG4gICAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmXHJcbiAgICAgICAgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiZcclxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xyXG4gICAgfVxyXG4gICAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgcmVjZWl2ZWQgdmFsdWVcclxuICAgIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2U7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xyXG4gICAgICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XHJcbiAgICBjb25zdCBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcclxuICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZWxlbSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzLnNvbWUoZWxlbSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJyk7XHJcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xyXG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpXHJcbiAgICA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSlcclxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XHJcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXHJcbiAgICAgICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgICAgICBgSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG4gICAgfSwgY3R4KTtcclxuICAgIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59O1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XHJcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcclxuICAgICAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgIShmYWxzZSApKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJlxyXG4gICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgIHdhcm4oYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBgICtcclxuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XHJcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcclxufTtcclxuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gdXNlcnMgY2FuIGdldCB0aGUgc2hhbGxvdyByZWFkb25seSB2ZXJzaW9uIG9mIHRoZSBzbG90cyBvYmplY3QgdGhyb3VnaCBgdGhpcy4kc2xvdHNgLFxyXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgYXZvaWQgdGhlIHByb3h5IG9iamVjdCBwb2xsdXRpbmcgdGhlIHNsb3RzIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHRvUmF3KGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgLy8gbWFrZSBjb21waWxlciBtYXJrZXIgbm9uLWVudW1lcmFibGVcclxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xyXG59O1xyXG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xyXG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcclxuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBBTkQgc3RhYmxlLlxyXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXHJcbiAgICAgICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgYnV0IGR5bmFtaWMgKHYtaWYvdi1mb3Igb24gc2xvdHMpIC0gdXBkYXRlIHNsb3RzLCBidXQgc2tpcFxyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gIzI4OTNcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIHRoZSBvcHRpbWl6ZWQgc2xvdHMgYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxyXG4gICAgICAgICAgICAgICAgLy8gaS5lLiBsZXQgdGhlIGByZW5kZXJTbG90YCBjcmVhdGUgdGhlIGJhaWxlZCBGcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHMuXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcclxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XHJcbiAgICB9XHJcbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcclxuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG4vKipcclxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcclxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXHJcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXHJcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXHJcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcclxuICBbZm9vLCB0aGlzLnhdLFxyXG4gIFtiYXIsIHRoaXMueV1cclxuXSlcclxuKi9cclxuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCcpO1xyXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcclxuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluc3RhbmNlID0gaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XHJcbiAgICAgICAgICAgIGRpciA9IHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBiaW5kaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgZGlyLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgbW9kaWZpZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xyXG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xyXG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZSB0cmFja2luZyBpbnNpZGUgYWxsIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcDogbnVsbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxyXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxyXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWl4aW5zOiBbXSxcclxuICAgICAgICBjb21wb25lbnRzOiB7fSxcclxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcclxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcclxuICAgICAgICBvcHRpb25zQ2FjaGU6IG5ldyBXZWFrTWFwKCksXHJcbiAgICAgICAgcHJvcHNDYWNoZTogbmV3IFdlYWtNYXAoKSxcclxuICAgICAgICBlbWl0c0NhY2hlOiBuZXcgV2Vha01hcCgpXHJcbiAgICB9O1xyXG59XHJcbmxldCB1aWQgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcclxuICAgICAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xyXG4gICAgICAgICAgICByb290UHJvcHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGFwcCA9IChjb250ZXh0LmFwcCA9IHtcclxuICAgICAgICAgICAgX3VpZDogdWlkKyssXHJcbiAgICAgICAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXHJcbiAgICAgICAgICAgIF9wcm9wczogcm9vdFByb3BzLFxyXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxyXG4gICAgICAgICAgICBfY29udGV4dDogY29udGV4dCxcclxuICAgICAgICAgICAgX2luc3RhbmNlOiBudWxsLFxyXG4gICAgICAgICAgICB2ZXJzaW9uLFxyXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKCdNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6ICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgaXNTVkcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGFwcCBjb250ZXh0IG9uIHRoZSByb290IFZOb2RlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIHJvb3QgaW5zdGFuY2Ugb24gaW5pdGlhbCBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBITVIgcm9vdCByZWxvYWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKGNsb25lVk5vZGUodm5vZGUpLCByb290Q29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUuY29tcG9uZW50LnByb3h5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5tb3VudCgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBhbGxvdyBzeW1ib2xzIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9O1xyXG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcclxuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xyXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcclxuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cclxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXHJcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcclxuICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XHJcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICAgICAgY29uc3QgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBDbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkobm9kZS5kYXRhKX1gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBTZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkodm5vZGUuY2hpbGRyZW4pfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8gfHwgaXNGcmFnbWVudFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFuY2hvciwgYWRvcHQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRvcHQgaXQgZnJvbSB0aGUgc2VydmVyLXJlbmRlcmVkIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBzZXR0aW5nIHVwIHRoZSByZW5kZXIgZWZmZWN0LCBpZiB0aGUgaW5pdGlhbCB2bm9kZSBhbHJlYWR5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIC5lbCBzZXQsIHRoZSBjb21wb25lbnQgd2lsbCBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gaXRzIHN1Yi10cmVlLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICMzNzg3XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29tcG9uZW50IGlzIGFzeW5jLCBpdCBtYXkgZ2V0IG1vdmVkIC8gdW5tb3VudGVkIGJlZm9yZSBpdHNcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaXMgbG9hZGVkLCBzbyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIHRoYXQgbWF0Y2hlcyBpdHMgYWRvcHRlZCBET00uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHROb2RlLnByZXZpb3VzU2libGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoJycpIDogY3JlYXRlVk5vZGUoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAhPT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXHJcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xyXG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8gJiZcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTU1JlZCBET00gY29udGFpbnMgbW9yZSBub2RlcyB0aGFuIGl0IHNob3VsZC4gUmVtb3ZlIHRoZW0uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gQ2xpZW50OiAke2VsLnRleHRDb250ZW50fVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXHJcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXHJcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxyXG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogVEVYVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBgKHRleHQpYFxyXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcclxuICAgICAgICAgICAgICAgICAgICA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYGApO1xyXG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXhjZXNzaXZlIGZyYWdtZW50IG5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShuZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIHJlbW92ZShub2RlKTtcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBuZXh0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XHJcbn1cblxubGV0IHN1cHBvcnRlZDtcclxubGV0IHBlcmY7XHJcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcclxuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcclxuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcclxuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcclxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cclxuICpcclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGAgK1xyXG4gICAgICAgICAgICBgY29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBleHBsaWNpdGx5IHJlcGxhY2UgZmVhdHVyZSBmbGFnIGdsb2JhbHMgYCArXHJcbiAgICAgICAgICAgIGB3aXRoIGJvb2xlYW4gbGl0ZXJhbHMgdG8gZ2V0IHByb3BlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGZpbmFsIGJ1bmRsZS4gYCArXHJcbiAgICAgICAgICAgIGBTZWUgaHR0cDovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MgZm9yIG1vcmUgZGV0YWlscy5gKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBwcm9kRWZmZWN0T3B0aW9ucyA9IHtcclxuICAgIHNjaGVkdWxlcjogcXVldWVKb2IsXHJcbiAgICAvLyAjMTgwMSwgIzIwNDMgY29tcG9uZW50IHJlbmRlciBlZmZlY3RzIHNob3VsZCBhbGxvdyByZWN1cnNpdmUgdXBkYXRlc1xyXG4gICAgYWxsb3dSZWN1cnNlOiB0cnVlXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZURldkVmZmVjdE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgICAgICBhbGxvd1JlY3Vyc2U6IHRydWUsXHJcbiAgICAgICAgb25UcmFjazogaW5zdGFuY2UucnRjID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwLFxyXG4gICAgICAgIG9uVHJpZ2dlcjogaW5zdGFuY2UucnRnID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlXHJcbiAgICA7XHJcbmNvbnN0IHNldFJlZiA9IChyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xyXG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xyXG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHRlbXBsYXRlIHJlZiBpcyBmb3J3YXJkZWQgdG8gaW5uZXIgY29tcG9uZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgID8gdm5vZGUuY29tcG9uZW50LmV4cG9zZWQgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5XHJcbiAgICAgICAgOiB2bm9kZS5lbDtcclxuICAgIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xyXG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xyXG4gICAgICAgIHdhcm4oYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXHJcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XHJcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xyXG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XHJcbiAgICAvLyBkeW5hbWljIHJlZiBjaGFuZ2VkLiB1bnNldCBvbGQgcmVmXHJcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xyXG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xyXG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vICMxNzg5OiBmb3Igbm9uLW51bGwgdmFsdWVzLCBzZXQgdGhlbSBhZnRlciByZW5kZXJcclxuICAgICAgICAvLyBudWxsIHZhbHVlcyBtZWFucyB0aGlzIGlzIHVubW91bnQgYW5kIGl0IHNob3VsZCBub3Qgb3ZlcndyaXRlIGFub3RoZXJcclxuICAgICAgICAvLyByZWYgd2l0aCB0aGUgc2FtZSBrZXlcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiAvKiBGVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCB2YWx1ZSwgYCgke3R5cGVvZiB2YWx1ZX0pYCk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgY3JlYXRlUmVuZGVyZXIgZnVuY3Rpb24gYWNjZXB0cyB0d28gZ2VuZXJpYyBhcmd1bWVudHM6XHJcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxyXG4gKiBob3N0IGVudmlyb25tZW50LiBGb3IgZXhhbXBsZSwgZm9yIHJ1bnRpbWUtZG9tLCBIb3N0Tm9kZSB3b3VsZCBiZSB0aGUgRE9NXHJcbiAqIGBOb2RlYCBpbnRlcmZhY2UgYW5kIEhvc3RFbGVtZW50IHdvdWxkIGJlIHRoZSBET00gYEVsZW1lbnRgIGludGVyZmFjZS5cclxuICpcclxuICogQ3VzdG9tIHJlbmRlcmVycyBjYW4gcGFzcyBpbiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgdHlwZXMgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGAganNcclxuICogY29uc3QgeyByZW5kZXIsIGNyZWF0ZUFwcCB9ID0gY3JlYXRlUmVuZGVyZXI8Tm9kZSwgRWxlbWVudD4oe1xyXG4gKiAgIHBhdGNoUHJvcCxcclxuICogICAuLi5ub2RlT3BzXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcclxufVxyXG4vLyBTZXBhcmF0ZSBBUEkgZm9yIGNyZWF0aW5nIGh5ZHJhdGlvbi1lbmFibGVkIHJlbmRlcmVyLlxyXG4vLyBIeWRyYXRpb24gbG9naWMgaXMgb25seSB1c2VkIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBtYWtpbmcgaXRcclxuLy8gdHJlZS1zaGFrYWJsZS5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXHJcbiAgICB7XHJcbiAgICAgICAgaW5pdEZlYXR1cmVGbGFncygpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XHJcbiAgICAgICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgICAgIHNldERldnRvb2xzSG9vayh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wOiBob3N0Rm9yY2VQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBjbG9uZU5vZGU6IGhvc3RDbG9uZU5vZGUsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xyXG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXHJcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxyXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcclxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XHJcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICBuMSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIEJBSUwgKi8pIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcclxuICAgICAgICAgICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NGcmFnbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIFxyXG4gICAgICAgIC8vIHBhc3MgY2FjaGVkIG5vZGVzIGlmIHRoZSBzdGF0aWMgbm9kZSBpcyBiZWluZyBtb3VudGVkIG11bHRpcGxlIHRpbWVzXHJcbiAgICAgICAgLy8gc28gdGhhdCBydW50aW1lLWRvbSBjYW4gc2ltcGx5IGNsb25lTm9kZSgpIGluc3RlYWQgb2YgaW5zZXJ0aW5nIG5ld1xyXG4gICAgICAgIC8vIEhUTUxcclxuICAgICAgICBuMi5lbCAmJiBbbjIuZWwsIG4yLmFuY2hvcl0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxyXG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcclxuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxyXG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxyXG4gICAgICAgICAgICBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XHJcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XHJcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxyXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXHJcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi87XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcclxuICAgICAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXHJcbiAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcclxuICAgICAgICAgICAgb2xkVk5vZGUuZWwgJiZcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKVxyXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcclxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gKG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSAobjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBzbG90IGZyYWdtZW50IHdpdGggOnNsb3R0ZWQgc2NvcGUgaWRzXHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xyXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxyXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIGEgZnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBhcnJheSBjaGlsZHJlblxyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSBlaXRoZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgb3IgaW1wbGljaXRseSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxyXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcclxuICAgICAgICAgICAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggY2hpbGRyZW4gb3JkZXIsIGJ1dCBpdCBtYXkgY29udGFpbiBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcclxuICAgICAgICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXHJcbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlIC8qIHNoYWxsb3cgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2V5ZWQgLyB1bmtleWVkLCBvciBtYW51YWwgZnJhZ21lbnRzLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXHJcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGNoaWxkIGlzIGd1YXJhbnRlZWQgdG8gYmUgYSBibG9jayBzbyB0aGUgZnJhZ21lbnQgd2lsbCBuZXZlclxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKGluaXRpYWxWTm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5qZWN0IHJlbmRlcmVyIGludGVybmFscyBmb3Iga2VlcEFsaXZlXHJcbiAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXNvbHZlIHByb3BzIGFuZCBzbG90cyBmb3Igc2V0dXAgY29udGV4dFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR1cCgpIGlzIGFzeW5jLiBUaGlzIGNvbXBvbmVudCByZWxpZXMgb24gYXN5bmMgbG9naWMgdG8gYmUgcmVzb2x2ZWRcclxuICAgICAgICAvLyBiZWZvcmUgcHJvY2VlZGluZ1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpO1xyXG4gICAgICAgICAgICAvLyBHaXZlIGl0IGEgcGxhY2Vob2xkZXIgaWYgdGhpcyBpcyBub3QgaHlkcmF0aW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHNlbGYtZGVmaW5lZCBmYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XHJcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0IHJ1bm5lci5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0KGZ1bmN0aW9uIGNvbXBvbmVudEVmZmVjdCgpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChibSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGVsLCBpbnN0YW5jZS5zdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90ZTogd2UgYXJlIG1vdmluZyB0aGUgcmVuZGVyIGNhbGwgaW50byBhbiBhc3luYyBjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggbWVhbnMgaXQgd29uJ3QgdHJhY2sgZGVwZW5kZW5jaWVzIC0gYnV0IGl0J3Mgb2sgYmVjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNlcnZlci1yZW5kZXJlZCBhc3luYyB3cmFwcGVyIGlzIGFscmVhZHkgaW4gcmVzb2x2ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGl0IHdpbGwgbmV2ZXIgbmVlZCB0byBjaGFuZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBoeWRyYXRlU3ViVHJlZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXHJcbiAgICAgICAgICAgICAgICAvLyAjMTc0MiBhY3RpdmF0ZWQgaG9vayBtdXN0IGJlIGFjY2Vzc2VkIGFmdGVyIGZpcnN0IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGhvb2sgbWF5IGJlIGluamVjdGVkIGJ5IGEgY2hpbGQga2VlcC1hbGl2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAjMjQ1ODogZGVmZXJlbmNlIG1vdW50LW9ubHkgb2JqZWN0IHBhcmFtZXRlcnMgdG8gcHJldmVudCBtZW1sZWFrc1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxyXG4gICAgICAgICAgICAgICAgLy8gT1IgcGFyZW50IGNhbGxpbmcgcHJvY2Vzc0NvbXBvbmVudCAobmV4dDogVk5vZGUpXHJcbiAgICAgICAgICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZVVwZGF0ZSBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAoYnUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlVXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gocHJldlRyZWUsIG5leHRUcmVlLCBcclxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxyXG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgZWwuIEhPQyBpcyBpbmRpY2F0ZWQgYnkgcGFyZW50IGluc3RhbmNlJ3Mgc3ViVHJlZSBwb2ludGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoaWxkIGNvbXBvbmVudCdzIHZub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmICh1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkgOiBwcm9kRWZmZWN0T3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZS5vd25lckluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XHJcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XHJcbiAgICAgICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIC8vIHByb3BzIHVwZGF0ZSBtYXkgaGF2ZSB0cmlnZ2VyZWQgcHJlLWZsdXNoIHdhdGNoZXJzLlxyXG4gICAgICAgIC8vIGZsdXNoIHRoZW0gYmVmb3JlIHRoZSByZW5kZXIgdXBkYXRlLlxyXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnModW5kZWZpbmVkLCBpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xyXG4gICAgICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSBlaXRoZXIgZnVsbHkta2V5ZWQgb3IgbWl4ZWQgKHNvbWUga2V5ZWQgc29tZSBub3QpXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXHJcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgY2hpbGRyZW4sIGp1c3QgdW5tb3VudCBvbGRcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgdGV4dCBPUiBudWxsXHJcbiAgICAgICAgICAgICAgICAvLyBuZXcgY2hpbGRyZW4gaXMgYXJyYXkgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXcgaWYgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkXHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgZmFsc2UsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxyXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcclxuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxyXG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcclxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYikgZCBlXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gc3luYyBmcm9tIGVuZFxyXG4gICAgICAgIC8vIGEgKGIgYylcclxuICAgICAgICAvLyBkIGUgKGIgYylcclxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltlMl0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUxLS07XHJcbiAgICAgICAgICAgIGUyLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBjIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxyXG4gICAgICAgIGlmIChpID4gZTEpIHtcclxuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDQuIGNvbW1vbiBzZXF1ZW5jZSArIHVubW91bnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSAyLCBlMiA9IDFcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gKGIgYylcclxuICAgICAgICAvLyBpID0gMCwgZTEgPSAwLCBlMiA9IC0xXHJcbiAgICAgICAgZWxzZSBpZiAoaSA+IGUyKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA1LiB1bmtub3duIHNlcXVlbmNlXHJcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xyXG4gICAgICAgIC8vIFtpIC4uLiBlMiArIDFdOiBhIGIgW2UgZCBjIGhdIGYgZ1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDQsIGUyID0gNVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzMSA9IGk7IC8vIHByZXYgc3RhcnRpbmcgaW5kZXhcclxuICAgICAgICAgICAgY29uc3QgczIgPSBpOyAvLyBuZXh0IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxyXG4gICAgICAgICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCwgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxyXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBub2RlcyAmIHJlbW92ZSBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudFxyXG4gICAgICAgICAgICBsZXQgajtcclxuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xyXG4gICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxyXG4gICAgICAgICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XHJcbiAgICAgICAgICAgIC8vIHdvcmtzIGFzIE1hcDxuZXdJbmRleCwgb2xkSW5kZXg+XHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcclxuICAgICAgICAgICAgLy8gYW5kIG9sZEluZGV4ID0gMCBpcyBhIHNwZWNpYWwgdmFsdWUgaW5kaWNhdGluZyB0aGUgbmV3IG5vZGUgaGFzXHJcbiAgICAgICAgICAgIC8vIG5vIGNvcnJlc3BvbmRpbmcgb2xkIG5vZGUuXHJcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBuZXcgY2hpbGRyZW4gaGF2ZSBiZWVuIHBhdGNoZWQgc28gdGhpcyBjYW4gb25seSBiZSBhIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleS1sZXNzIG5vZGUsIHRyeSB0byBsb2NhdGUgYSBrZXktbGVzcyBub2RlIG9mIHRoZSBzYW1lIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXHJcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcclxuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaWY6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBjdXJyZW50IG5vZGUgaXMgbm90IGFtb25nIHRoZSBzdGFibGUgc2VxdWVuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXHJcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBSRU9SREVSICovICYmXHJcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogRU5URVIgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgLy8gdW5zZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiBkaXJzO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcclxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xyXG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cclxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxyXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCQxICYmICFjMi5lbCkge1xyXG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcclxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XHJcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbMF07XHJcbiAgICBsZXQgaSwgaiwgdSwgdiwgYztcclxuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xyXG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHUgPSAwO1xyXG4gICAgICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xyXG4gICAgICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICB3aGlsZSAodS0tID4gMCkge1xyXG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XHJcbiAgICAgICAgdiA9IHBbdl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XHJcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSAnJyk7XHJcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XHJcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcclxuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcclxuICAgIH1cclxufTtcclxuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xyXG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxyXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xyXG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcclxuICAgICAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIC8vICMzMzAyXHJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcclxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIC8vICMyNjUyIHdlIGNvdWxkIGJlIHRlbGVwb3J0aW5nIGZyb20gYSBub24tU1ZHIHRyZWUgaW50byBhbiBTVkcgdHJlZVxyXG4gICAgICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUZWxlcG9ydCAqYWx3YXlzKiBoYXMgQXJyYXkgY2hpbGRyZW4uIFRoaXMgaXMgZW5mb3JjZWQgaW4gYm90aCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVyIGFuZCB2bm9kZSBjaGlsZHJlbiBub3JtYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xyXG4gICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaW4gYmxvY2sgdHJlZSBtb2RlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGFsbCByb290LWxldmVsIG5vZGVzXHJcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXHJcbiAgICAgICAgICAgICAgICAvLyBiZSBtb3ZlZCBpbiBmdXR1cmUgcGF0Y2hlcy5cclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY3VycmVudENvbnRhaW5lciwgY3VycmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIGNvbnRhaW5lciwgbWFpbkFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIG5leHRUYXJnZXQsIG51bGwsIGludGVybmFscywgMCAvKiBUQVJHRVRfQ0hBTkdFICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkIC0+IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gdGVsZXBvcnQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcclxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcclxufTtcclxuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBSRU9SREVSICovKSB7XHJcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXHJcbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVEFSR0VUX0NIQU5HRSAqLykge1xyXG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogUkVPUkRFUiAqLztcclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxyXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcclxuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxyXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XHJcbn1cclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XHJcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxyXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxyXG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGltcGxpY2l0IHNlbGYtcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xyXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcclxuICAgIHJldHVybiAocmVnaXN0cnkgJiZcclxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xyXG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IENvbW1lbnQkMSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBTdGF0aWMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1N0YXRpYycgOiB1bmRlZmluZWQpO1xyXG4vLyBTaW5jZSB2LWlmIGFuZCB2LWZvciBhcmUgdGhlIHR3byBwb3NzaWJsZSB3YXlzIG5vZGUgc3RydWN0dXJlIGNhbiBkeW5hbWljYWxseVxyXG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxyXG4vLyBjYW4gZGl2aWRlIGEgdGVtcGxhdGUgaW50byBuZXN0ZWQgYmxvY2tzLCBhbmQgd2l0aGluIGVhY2ggYmxvY2sgdGhlIG5vZGVcclxuLy8gc3RydWN0dXJlIHdvdWxkIGJlIHN0YWJsZS4gVGhpcyBhbGxvd3MgdXMgdG8gc2tpcCBtb3N0IGNoaWxkcmVuIGRpZmZpbmdcclxuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXHJcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcclxubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XHJcbi8qKlxyXG4gKiBPcGVuIGEgYmxvY2suXHJcbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AuIEl0IGNhbm5vdCBiZSBwYXJ0IG9mIGBjcmVhdGVCbG9ja2BcclxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXHJcbiAqIGlzIGNhbGxlZC4gVGhlIGdlbmVyYXRlZCBjb2RlIHR5cGljYWxseSBsb29rcyBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICogICByZXR1cm4gKG9wZW5CbG9jaygpLGNyZWF0ZUJsb2NrKCdkaXYnLCBudWxsLCBbLi4uXSkpXHJcbiAqIH1cclxuICogYGBgXHJcbiAqIGRpc2FibGVUcmFja2luZyBpcyB0cnVlIHdoZW4gY3JlYXRpbmcgYSB2LWZvciBmcmFnbWVudCBibG9jaywgc2luY2UgYSB2LWZvclxyXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XHJcbiAgICBibG9ja1N0YWNrLnB1c2goKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSkpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XHJcbiAgICBibG9ja1N0YWNrLnBvcCgpO1xyXG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbn1cclxuLy8gV2hldGhlciB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZHluYW1pYyBjaGlsZCBub2RlcyBpbnNpZGUgYSBibG9jay5cclxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxyXG4vLyBXZSBhcmUgbm90IHVzaW5nIGEgc2ltcGxlIGJvb2xlYW4gYmVjYXVzZSB0aGlzIHZhbHVlIG1heSBuZWVkIHRvIGJlXHJcbi8vIGluY3JlbWVudGVkL2RlY3JlbWVudGVkIGJ5IG5lc3RlZCB1c2FnZSBvZiB2LW9uY2UgKHNlZSBiZWxvdylcclxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XHJcbi8qKlxyXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcclxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xyXG4gKiBjb2RlIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIF9jYWNoZVsxXSB8fCAoXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXHJcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcclxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxyXG4gKiAgIF9jYWNoZVsxXVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xyXG4gICAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cclxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcclxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKTtcclxuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcclxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9XHJcbiAgICAgICAgaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xyXG4gICAgLy8gY2xvc2UgYmxvY2tcclxuICAgIGNsb3NlQmxvY2soKTtcclxuICAgIC8vIGEgYmxvY2sgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIHBhdGNoZWQsIHNvIHRyYWNrIGl0IGFzIGEgY2hpbGQgb2YgaXRzXHJcbiAgICAvLyBwYXJlbnQgYmxvY2tcclxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcclxuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XHJcbn1cclxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xyXG4vKipcclxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxyXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xyXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXHJcbiAqIHR5cGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xyXG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcclxufVxyXG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXHJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXHJcbiAgICAgICAgOiBhcmdzKSk7XHJcbn07XHJcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcclxuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmIH0pID0+IHtcclxuICAgIHJldHVybiAocmVmICE9IG51bGxcclxuICAgICAgICA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZilcclxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmIH1cclxuICAgICAgICAgICAgOiByZWZcclxuICAgICAgICA6IG51bGwpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybVxyXG4gICAgOiBfY3JlYXRlVk5vZGUpO1xyXG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcclxuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdHlwZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZSA9IENvbW1lbnQkMTtcclxuICAgIH1cclxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlVk5vZGUgcmVjZWl2aW5nIGFuIGV4aXN0aW5nIHZub2RlLiBUaGlzIGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxyXG4gICAgICAgIC8vIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIi8+XHJcbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh0eXBlLCBwcm9wcywgdHJ1ZSAvKiBtZXJnZVJlZjogdHJ1ZSAqLyk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgY29tcG9uZW50IG5vcm1hbGl6YXRpb24uXHJcbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcclxuICAgIH1cclxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIC8vIGZvciByZWFjdGl2ZSBvciBwcm94eSBvYmplY3RzLCB3ZSBuZWVkIHRvIGNsb25lIGl0IHRvIGVuYWJsZSBtdXRhdGlvbi5cclxuICAgICAgICBpZiAoaXNQcm94eShwcm9wcykgfHwgSW50ZXJuYWxPYmplY3RLZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XHJcbiAgICAgICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChzdHlsZSkpIHtcclxuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcclxuICAgICAgICAgICAgLy8gbXV0YXRlZFxyXG4gICAgICAgICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGVuY29kZSB0aGUgdm5vZGUgdHlwZSBpbmZvcm1hdGlvbiBpbnRvIGEgYml0bWFwXHJcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxyXG4gICAgICAgID8gMSAvKiBFTEVNRU5UICovXHJcbiAgICAgICAgOiBpc1N1c3BlbnNlKHR5cGUpXHJcbiAgICAgICAgICAgID8gMTI4IC8qIFNVU1BFTlNFICovXHJcbiAgICAgICAgICAgIDogaXNUZWxlcG9ydCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24odHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAyIC8qIEZVTkNUSU9OQUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8gJiYgaXNQcm94eSh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcclxuICAgICAgICB3YXJuKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCwgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IGAgK1xyXG4gICAgICAgICAgICBgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGAgK1xyXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZub2RlID0ge1xyXG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxyXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcHJvcHMsXHJcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxyXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcclxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IG51bGwsXHJcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxyXG4gICAgICAgIHN1c3BlbnNlOiBudWxsLFxyXG4gICAgICAgIHNzQ29udGVudDogbnVsbCxcclxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxyXG4gICAgICAgIGRpcnM6IG51bGwsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogbnVsbCxcclxuICAgICAgICBlbDogbnVsbCxcclxuICAgICAgICBhbmNob3I6IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcclxuICAgICAgICBzdGF0aWNDb3VudDogMCxcclxuICAgICAgICBzaGFwZUZsYWcsXHJcbiAgICAgICAgcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbFxyXG4gICAgfTtcclxuICAgIC8vIHZhbGlkYXRlIGtleVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xyXG4gICAgICAgIHdhcm4oYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XHJcbiAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cclxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJlxyXG4gICAgICAgIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxyXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxyXG4gICAgICAgIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xyXG4gICAgICAgIGN1cnJlbnRCbG9jayAmJlxyXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXHJcbiAgICAgICAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXHJcbiAgICAgICAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXHJcbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxyXG4gICAgICAgIChwYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxyXG4gICAgICAgIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXHJcbiAgICAgICAgcGF0Y2hGbGFnICE9PSAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XHJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgTk9UIHVzaW5nIHNwcmVhZCBvciBleHRlbmQgdG8gYXZvaWQgdGhlIHJ1bnRpbWVcclxuICAgIC8vIGtleSBlbnVtZXJhdGlvbiBjb3N0LlxyXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcclxuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XHJcbiAgICBjb25zdCBjbG9uZWQgPSB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgX192X3NraXA6IHRydWUsXHJcbiAgICAgICAgdHlwZTogdm5vZGUudHlwZSxcclxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXHJcbiAgICAgICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxyXG4gICAgICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZlxyXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpc0FycmF5KHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcclxuICAgICAgICAgICAgOiByZWYsXHJcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcclxuICAgICAgICBjaGlsZHJlbjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKVxyXG4gICAgICAgICAgICA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSlcclxuICAgICAgICAgICAgOiBjaGlsZHJlbixcclxuICAgICAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcclxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXHJcbiAgICAgICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXHJcbiAgICAgICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcclxuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxyXG4gICAgICAgIC8vIG5vdGU6IHBlcnNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cclxuICAgICAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXHJcbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XHJcbiAgICAgICAgICAgID8gcGF0Y2hGbGFnID09PSAtMSAvLyBob2lzdGVkIG5vZGVcclxuICAgICAgICAgICAgICAgID8gMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICAgICAgOiBwYXRjaEZsYWcgfCAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgIDogcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxyXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXHJcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcclxuICAgICAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxyXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxyXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxyXG4gICAgICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcclxuICAgICAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxyXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxyXG4gICAgICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcclxuICAgICAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXHJcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxyXG4gICAgICAgIGVsOiB2bm9kZS5lbCxcclxuICAgICAgICBhbmNob3I6IHZub2RlLmFuY2hvclxyXG4gICAgfTtcclxuICAgIHJldHVybiBjbG9uZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldiBvbmx5LCBmb3IgSE1SIG9mIGhvaXN0ZWQgdm5vZGVzIHJldXNlZCBpbiB2LWZvclxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XHJcbiAgICAvLyBBIHN0YXRpYyB2bm9kZSBjYW4gY29udGFpbiBtdWx0aXBsZSBzdHJpbmdpZmllZCBlbGVtZW50cywgYW5kIHRoZSBudW1iZXJcclxuICAgIC8vIG9mIGVsZW1lbnRzIGlzIG5lY2Vzc2FyeSBmb3IgaHlkcmF0aW9uLlxyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xyXG4gICAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSAnJywgXHJcbi8vIHdoZW4gdXNlZCBhcyB0aGUgdi1lbHNlIGJyYW5jaCwgdGhlIGNvbW1lbnQgbm9kZSBtdXN0IGJlIGNyZWF0ZWQgYXMgYVxyXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxyXG5hc0Jsb2NrID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBhc0Jsb2NrXHJcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQkMSwgbnVsbCwgdGV4dCkpXHJcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50JDEsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xyXG4gICAgICAgIC8vIGZyYWdtZW50XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKEZyYWdtZW50LCBudWxsLCBcclxuICAgICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcclxuICAgICAgICBjaGlsZC5zbGljZSgpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXHJcbiAgICAgICAgLy8gYWx3YXlzIHByb2R1Y2UgYWxsLXZub2RlIGNoaWxkcmVuIGFycmF5c1xyXG4gICAgICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xyXG4gICAgfVxyXG59XHJcbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXHJcbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xyXG4gICAgbGV0IHR5cGUgPSAwO1xyXG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovIHx8IHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzbG90IHRvIHBsYWluIGNoaWxkcmVuIGZvciBwbGFpbiBlbGVtZW50IGFuZCBUZWxlcG9ydFxyXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9jIG1hcmtlciBpcyBhZGRlZCBieSB3aXRoQ3R4KCkgaW5kaWNhdGluZyB0aGlzIGlzIGEgY29tcGlsZWQgc2xvdFxyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMSAvKiBTVEFCTEUgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBEWU5BTUlDICovO1xyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XHJcbiAgICAgICAgdHlwZSA9IDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xyXG4gICAgICAgIC8vIGZvcmNlIHRlbGVwb3J0IGNoaWxkcmVuIHRvIGFycmF5IHNvIGl0IGNhbiBiZSBtb3ZlZCBhcm91bmRcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFRFWFRfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xyXG4gICAgY29uc3QgcmV0ID0gZXh0ZW5kKHt9LCBhcmdzWzBdKTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPT0gaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNvbWluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxyXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxyXG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcclxuZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xyXG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB3YXJuKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcclxuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcclxuICAgICAgICBzbG90ID0gKCkgPT4gW107XHJcbiAgICB9XHJcbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcclxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXHJcbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxyXG4gICAgLy8gZW5hYmxlIGl0LlxyXG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xyXG4gICAgICAgIHNsb3QuX2QgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9wZW5CbG9jaygpO1xyXG4gICAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XHJcbiAgICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7IGtleTogcHJvcHMua2V5IHx8IGBfJHtuYW1lfWAgfSwgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLCB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgLyogU1RBQkxFICovXHJcbiAgICAgICAgPyA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9cclxuICAgICAgICA6IC0yIC8qIEJBSUwgKi8pO1xyXG4gICAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xyXG4gICAgICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgJy1zJ107XHJcbiAgICB9XHJcbiAgICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XHJcbiAgICAgICAgc2xvdC5fZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVuZGVyZWQ7XHJcbn1cclxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcclxuICAgIHJldHVybiB2bm9kZXMuc29tZShjaGlsZCA9PiB7XHJcbiAgICAgICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQkMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAgICAgPyB2bm9kZXNcclxuICAgICAgICA6IG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIEZvciBwcmVmaXhpbmcga2V5cyBpbiB2LW9uPVwib2JqXCIgd2l0aCBcIm9uXCJcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqKSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICB3YXJuKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJldFt0b0hhbmRsZXJLZXkoa2V5KV0gPSBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqICMyNDM3IEluIFZ1ZSAzLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYSBwdWJsaWMgaW5zdGFuY2UgcHJveHkgYnV0XHJcbiAqIHRoZXkgZXhpc3QgaW4gdGhlIGludGVybmFsIHBhcmVudCBjaGFpbi4gRm9yIGNvZGUgdGhhdCByZWxpZXMgb24gdHJhdmVyc2luZ1xyXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXHJcbiAqL1xyXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XHJcbiAgICBpZiAoIWkpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcclxuICAgICAgICByZXR1cm4gaS5leHBvc2VkID8gaS5leHBvc2VkIDogaS5wcm94eTtcclxuICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XHJcbn07XHJcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xyXG4gICAgJDogaSA9PiBpLFxyXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXHJcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXHJcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxyXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcclxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXHJcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxyXG4gICAgJHBhcmVudDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXHJcbiAgICAkcm9vdDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxyXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxyXG4gICAgJG9wdGlvbnM6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSksXHJcbiAgICAkZm9yY2VVcGRhdGU6IGkgPT4gKCkgPT4gcXVldWVKb2IoaS51cGRhdGUpLFxyXG4gICAgJG5leHRUaWNrOiBpID0+IG5leHRUaWNrLmJpbmQoaS5wcm94eSksXHJcbiAgICAkd2F0Y2g6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QKVxyXG59KTtcclxuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcclxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxyXG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xyXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXHJcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcclxuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTRVRVUCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogREFUQSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQ09OVEVYVCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBQUk9QUyAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogU0VUVVAgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogREFUQSAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBQUk9QUyAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIENPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIE9USEVSICovO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcclxuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xyXG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcclxuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcclxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXHJcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcclxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xyXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxyXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmXHJcbiAgICAgICAgICAgICghaXNTdHJpbmcoa2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcclxuICAgICAgICAgICAgICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxyXG4gICAgICAgICAgICAgICAga2V5LmluZGV4T2YoJ19fdicpICE9PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmXHJcbiAgICAgICAgICAgICAgICAoa2V5WzBdID09PSAnJCcgfHwga2V5WzBdID09PSAnXycpICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcclxuICAgICAgICAgICAgICAgICAgICBgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgaGFzKHsgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfSB9LCBrZXkpIHtcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIHJldHVybiAoYWNjZXNzQ2FjaGVba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHx8XHJcbiAgICAgICAgICAgIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHx8XHJcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oY3R4LCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcclxuICAgIH1cclxufTtcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UpIHtcclxuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcclxuICAgICAgICAgICAgYFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmApO1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcclxuICAgIGdldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcclxuICAgICAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcclxuICAgIH0sXHJcbiAgICBoYXMoXywga2V5KSB7XHJcbiAgICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSAnXycgJiYgIWlzR2xvYmFsbHlXaGl0ZWxpc3RlZChrZXkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcclxuICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhcztcclxuICAgIH1cclxufSk7XHJcbi8vIEluIGRldiBtb2RlLCB0aGUgcHJveHkgdGFyZ2V0IGV4cG9zZXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBzZWVuIG9uIGB0aGlzYFxyXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXHJcbi8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5pdGlvbnMgY2FuIGJlIHNraXBwZWQuXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xyXG4gICAgLy8gZXhwb3NlIGludGVybmFsIGluc3RhbmNlIGZvciBwcm94eSBoYW5kbGVyc1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2VcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBwcm9wZXJ0aWVzXHJcbiAgICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcclxuICAgICAgICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxyXG4gICAgICAgICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBjdHgsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10gfSA9IGluc3RhbmNlO1xyXG4gICAgaWYgKHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xyXG4gICAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBpZiAoa2V5WzBdID09PSAnJCcgfHwga2V5WzBdID09PSAnXycpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSByZXR1cm4gcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgYCArXHJcbiAgICAgICAgICAgICAgICBgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcclxubGV0IHVpZCQxID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcclxuICAgIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xyXG4gICAgLy8gaW5oZXJpdCBwYXJlbnQgYXBwIGNvbnRleHQgLSBvciAtIGlmIHJvb3QsIGFkb3B0IGZyb20gcm9vdCB2bm9kZVxyXG4gICAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcclxuICAgIGNvbnN0IGluc3RhbmNlID0ge1xyXG4gICAgICAgIHVpZDogdWlkJDErKyxcclxuICAgICAgICB2bm9kZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBhcHBDb250ZXh0LFxyXG4gICAgICAgIHJvb3Q6IG51bGwsXHJcbiAgICAgICAgbmV4dDogbnVsbCxcclxuICAgICAgICBzdWJUcmVlOiBudWxsLFxyXG4gICAgICAgIHVwZGF0ZTogbnVsbCxcclxuICAgICAgICByZW5kZXI6IG51bGwsXHJcbiAgICAgICAgcHJveHk6IG51bGwsXHJcbiAgICAgICAgZXhwb3NlZDogbnVsbCxcclxuICAgICAgICB3aXRoUHJveHk6IG51bGwsXHJcbiAgICAgICAgZWZmZWN0czogbnVsbCxcclxuICAgICAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcclxuICAgICAgICBhY2Nlc3NDYWNoZTogbnVsbCxcclxuICAgICAgICByZW5kZXJDYWNoZTogW10sXHJcbiAgICAgICAgLy8gbG9jYWwgcmVzb3ZsZWQgYXNzZXRzXHJcbiAgICAgICAgY29tcG9uZW50czogbnVsbCxcclxuICAgICAgICBkaXJlY3RpdmVzOiBudWxsLFxyXG4gICAgICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXHJcbiAgICAgICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXHJcbiAgICAgICAgLy8gZW1pdFxyXG4gICAgICAgIGVtaXQ6IG51bGwsXHJcbiAgICAgICAgZW1pdHRlZDogbnVsbCxcclxuICAgICAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxyXG4gICAgICAgIC8vIGluaGVyaXRBdHRyc1xyXG4gICAgICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXHJcbiAgICAgICAgLy8gc3RhdGVcclxuICAgICAgICBjdHg6IEVNUFRZX09CSixcclxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcHJvcHM6IEVNUFRZX09CSixcclxuICAgICAgICBhdHRyczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgcmVmczogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcclxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxyXG4gICAgICAgIHN1c3BlbnNlLFxyXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcclxuICAgICAgICBhc3luY0RlcDogbnVsbCxcclxuICAgICAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcclxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGJjOiBudWxsLFxyXG4gICAgICAgIGM6IG51bGwsXHJcbiAgICAgICAgYm06IG51bGwsXHJcbiAgICAgICAgbTogbnVsbCxcclxuICAgICAgICBidTogbnVsbCxcclxuICAgICAgICB1OiBudWxsLFxyXG4gICAgICAgIHVtOiBudWxsLFxyXG4gICAgICAgIGJ1bTogbnVsbCxcclxuICAgICAgICBkYTogbnVsbCxcclxuICAgICAgICBhOiBudWxsLFxyXG4gICAgICAgIHJ0ZzogbnVsbCxcclxuICAgICAgICBydGM6IG51bGwsXHJcbiAgICAgICAgZWM6IG51bGwsXHJcbiAgICAgICAgc3A6IG51bGxcclxuICAgIH07XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcclxuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG59O1xyXG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xyXG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi87XHJcbn1cclxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XHJcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XHJcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XHJcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XHJcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxyXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcclxuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcclxuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBgICtcclxuICAgICAgICAgICAgICAgIGBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBgICtcclxuICAgICAgICAgICAgICAgIGBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIDAuIGNyZWF0ZSByZW5kZXIgcHJveHkgcHJvcGVydHkgYWNjZXNzIGNhY2hlXHJcbiAgICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAvLyAxLiBjcmVhdGUgcHVibGljIGluc3RhbmNlIC8gcmVuZGVyIHByb3h5XHJcbiAgICAvLyBhbHNvIG1hcmsgaXQgcmF3IHNvIGl0J3MgbmV2ZXIgb2JzZXJ2ZWRcclxuICAgIGluc3RhbmNlLnByb3h5ID0gbWFya1JhdyhuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICAvLyAyLiBjYWxsIHNldHVwKClcclxuICAgIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcclxuICAgIGlmIChzZXR1cCkge1xyXG4gICAgICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IChpbnN0YW5jZS5zZXR1cENvbnRleHQgPVxyXG4gICAgICAgICAgICBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGwpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzZXR1cCwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8sIFsocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsIHNldHVwQ29udGV4dF0pO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1NTUikge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBwcm9taXNlIHNvIHNlcnZlci1yZW5kZXJlciBjYW4gd2FpdCBvbiBpdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGFzeW5jIHNldHVwIHJldHVybmVkIFByb21pc2UuXHJcbiAgICAgICAgICAgICAgICAvLyBiYWlsIGhlcmUgYW5kIHdhaXQgZm9yIHJlLWVudHJ5LlxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBhbiBpbmxpbmUgcmVuZGVyIGZ1bmN0aW9uXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gYCArXHJcbiAgICAgICAgICAgICAgICBgcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGJpbmRpbmdzLlxyXG4gICAgICAgIC8vIGFzc3VtaW5nIGEgcmVuZGVyIGZ1bmN0aW9uIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaXMgcHJlc2VudC5cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0dXBSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHdhcm4oYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHNldHVwUmVzdWx0fWApO1xyXG4gICAgfVxyXG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcclxufVxyXG5sZXQgY29tcGlsZTtcclxuLy8gZGV2IG9ubHlcclxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xyXG4vKipcclxuICogRm9yIHJ1bnRpbWUtZG9tIHRvIHJlZ2lzdGVyIHRoZSBjb21waWxlci5cclxuICogTm90ZSB0aGUgZXhwb3J0ZWQgbWV0aG9kIHVzZXMgYW55IHRvIGF2b2lkIGQudHMgcmVseWluZyBvbiB0aGUgY29tcGlsZXIgdHlwZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xyXG4gICAgY29tcGlsZSA9IF9jb21waWxlO1xyXG59XHJcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcclxuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAvLyB0ZW1wbGF0ZSAvIHJlbmRlciBmdW5jdGlvbiBub3JtYWxpemF0aW9uXHJcbiAgICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xyXG4gICAgICAgIC8vIGNvdWxkIGJlIHNldCBmcm9tIHNldHVwKClcclxuICAgICAgICBpZiAoY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IENvbXBvbmVudC50ZW1wbGF0ZTtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChleHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXJzXHJcbiAgICAgICAgICAgICAgICB9LCBjb21waWxlck9wdGlvbnMpLCBjb21wb25lbnRDb21waWxlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IChDb21wb25lbnQucmVuZGVyIHx8IE5PT1ApO1xyXG4gICAgICAgIC8vIGZvciBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrcywgdGhlIHJlbmRlclxyXG4gICAgICAgIC8vIHByb3h5IHVzZWQgbmVlZHMgYSBkaWZmZXJlbnQgYGhhc2AgaGFuZGxlciB3aGljaCBpcyBtb3JlIHBlcmZvcm1hbnQgYW5kXHJcbiAgICAgICAgLy8gYWxzbyBvbmx5IGFsbG93cyBhIHdoaXRlbGlzdCBvZiBnbG9iYWxzIHRvIGZhbGx0aHJvdWdoLlxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5yZW5kZXIuX3JjKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLndpdGhQcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc3VwcG9ydCBmb3IgMi54IG9wdGlvbnNcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICEoZmFsc2UgKSkge1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxyXG4gICAgLy8gdGhlIHJ1bnRpbWUgY29tcGlsYXRpb24gb2YgdGVtcGxhdGUgaW4gU1NSIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlclxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcclxuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXHJcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXHJcbiAgICAgICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGF0dHJIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBkZWxldGVQcm9wZXJ0eTogKCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgZXhwb3NlID0gZXhwb3NlZCA9PiB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gcHJveHlSZWZzKGV4cG9zZWQpO1xyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcclxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0ckhhbmRsZXJzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXR0cnM6IGluc3RhbmNlLmF0dHJzLFxyXG4gICAgICAgICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXHJcbiAgICAgICAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXHJcbiAgICAgICAgICAgIGV4cG9zZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8gcmVjb3JkIGVmZmVjdHMgY3JlYXRlZCBkdXJpbmcgYSBjb21wb25lbnQncyBzZXR1cCgpIHNvIHRoYXQgdGhleSBjYW4gYmVcclxuLy8gc3RvcHBlZCB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuZnVuY3Rpb24gcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChlZmZlY3QsIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAoaW5zdGFuY2UuZWZmZWN0cyB8fCAoaW5zdGFuY2UuZWZmZWN0cyA9IFtdKSkucHVzaChlZmZlY3QpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xyXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KVxyXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXHJcbiAgICAgICAgOiBDb21wb25lbnQubmFtZTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmFtZSA9XHJcbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcclxufVxyXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XHJcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMpO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChjLmVmZmVjdCk7XHJcbiAgICByZXR1cm4gYztcclxufVxuXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVQcm9wcygpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZUVtaXQoKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgZGVmaW5lRW1pdCgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXHJcbiAgICAgICAgICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXHJcbiAgICAgICAgICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHVzZUNvbnRleHQoKSB7XHJcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpKSB7XHJcbiAgICAgICAgd2FybihgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xyXG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgaWYgKGwgPT09IDIpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXHJcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGwgPiAzKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcclxuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgd2FybihgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XHJcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xyXG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcclxuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xyXG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXHJcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcclxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcclxuICAgICAgICBoZWFkZXIob2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFjdGl2ZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsICdSZWFkb25seSddLFxyXG4gICAgICAgICAgICAgICAgICAgICc8JyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxyXG4gICAgICAgICAgICAgICAgICAgICc+J1xyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5KG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcclxuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja3MucHVzaChbXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xyXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcclxuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxyXG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcclxuICAgICAgICBpZiAodi5fc2hhbGxvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgUmVmYDtcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XHJcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XHJcbiAgICB9XHJcbn1cblxuLy8gQ29yZSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHZlcnNpb24gPSBcIjMuMS4yXCI7XHJcbi8qKlxyXG4gKiBTU1IgdXRpbHMgZm9yIFxcQHZ1ZS9zZXJ2ZXItcmVuZGVyZXIuIE9ubHkgZXhwb3NlZCBpbiBjanMgYnVpbGRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IHNzclV0aWxzID0gKG51bGwpO1xyXG4vKipcclxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzXHJcbiAqL1xyXG5jb25zdCByZXNvbHZlRmlsdGVyID0gbnVsbDtcclxuLyoqXHJcbiAqIEBpbnRlcm5hbCBvbmx5IGV4cG9zZWQgaW4gY29tcGF0IGJ1aWxkcy5cclxuICovXHJcbmNvbnN0IGNvbXBhdFV0aWxzID0gKG51bGwpO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCQxIGFzIENvbW1lbnQsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0LCBkZWZpbmVQcm9wcywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBoLCBoYW5kbGVFcnJvciwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNlcnZlclByZWZldGNoLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VDb250ZXh0LCB1c2VTU1JDb250ZXh0LCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIHdpdGhTY29wZUlkIH07XG4iLCJpbXBvcnQgeyBjYW1lbGl6ZSwgd2FybiwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25Nb3VudGVkLCB3YXRjaEVmZmVjdCwgb25VcGRhdGVkLCBGcmFnbWVudCwgaCwgQmFzZVRyYW5zaXRpb24sIHVzZVRyYW5zaXRpb25TdGF0ZSwgdG9SYXcsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBjcmVhdGVWTm9kZSwgY3JlYXRlUmVuZGVyZXIsIGlzUnVudGltZU9ubHksIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXksIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaW52b2tlQXJyYXlGbnMsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGlzSFRNTFRhZywgaXNTVkdUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xyXG5jb25zdCBub2RlT3BzID0ge1xyXG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBpc1NWR1xyXG4gICAgICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcclxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAodGFnID09PSAnc2VsZWN0JyAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCBwcm9wcy5tdWx0aXBsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcclxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXHJcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xyXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxyXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcclxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcclxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XHJcbiAgICB9LFxyXG4gICAgY2xvbmVOb2RlKGVsKSB7XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gZWwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIC8vICMzMDcyXHJcbiAgICAgICAgLy8gLSBpbiBgcGF0Y2hET01Qcm9wYCwgd2Ugc3RvcmUgdGhlIGFjdHVhbCB2YWx1ZSBpbiB0aGUgYGVsLl92YWx1ZWAgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gLSBub3JtYWxseSwgZWxlbWVudHMgdXNpbmcgYDp2YWx1ZWAgYmluZGluZ3Mgd2lsbCBub3QgYmUgaG9pc3RlZCwgYnV0IGlmXHJcbiAgICAgICAgLy8gICB0aGUgYm91bmQgdmFsdWUgaXMgYSBjb25zdGFudCwgZS5nLiBgOnZhbHVlPVwidHJ1ZVwiYCAtIHRoZXkgZG8gZ2V0XHJcbiAgICAgICAgLy8gICBob2lzdGVkLlxyXG4gICAgICAgIC8vIC0gaW4gcHJvZHVjdGlvbiwgaG9pc3RlZCBub2RlcyBhcmUgY2xvbmVkIHdoZW4gc3Vic2VxdWVudCBpbnNlcnRzLCBidXRcclxuICAgICAgICAvLyAgIGNsb25lTm9kZSgpIGRvZXMgbm90IGNvcHkgdGhlIGN1c3RvbSBwcm9wZXJ0eSB3ZSBhdHRhY2hlZC5cclxuICAgICAgICAvLyAtIFRoaXMgbWF5IG5lZWQgdG8gYWNjb3VudCBmb3Igb3RoZXIgY3VzdG9tIERPTSBwcm9wZXJ0aWVzIHdlIGF0dGFjaCB0b1xyXG4gICAgICAgIC8vICAgZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gYF92YWx1ZWAgaW4gdGhlIGZ1dHVyZS5cclxuICAgICAgICBpZiAoYF92YWx1ZWAgaW4gZWwpIHtcclxuICAgICAgICAgICAgY2xvbmVkLl92YWx1ZSA9IGVsLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcclxuICAgIH0sXHJcbiAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAvLyBSZWFzb246IGluc2VydEFkamFjZW50SFRNTC5cclxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cclxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXHJcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRywgY2FjaGVkKSB7XHJcbiAgICAgICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgICAgICBsZXQgW2NhY2hlZEZpcnN0LCBjYWNoZWRMYXN0XSA9IGNhY2hlZDtcclxuICAgICAgICAgICAgbGV0IGZpcnN0LCBsYXN0O1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBjYWNoZWRGaXJzdC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbm9kZTtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWRGaXJzdCA9PT0gY2FjaGVkTGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FjaGVkRmlyc3QgPSBjYWNoZWRGaXJzdC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW2ZpcnN0LCBsYXN0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gPHBhcmVudD4gYmVmb3JlIHwgZmlyc3QgLi4uIGxhc3QgfCBhbmNob3IgPC9wYXJlbnQ+XHJcbiAgICAgICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKGFuY2hvcikge1xyXG4gICAgICAgICAgICBsZXQgaW5zZXJ0aW9uUG9pbnQ7XHJcbiAgICAgICAgICAgIGxldCB1c2luZ1RlbXBJbnNlcnRpb25Qb2ludCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSBhbmNob3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnNlcnRBZGphY2VudEhUTUwgb25seSB3b3JrcyBmb3IgZWxlbWVudHMgYnV0IHRoZSBhbmNob3IgaXMgbm90IGFuXHJcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50Li4uXHJcbiAgICAgICAgICAgICAgICB1c2luZ1RlbXBJbnNlcnRpb25Qb2ludCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnRpb25Qb2ludCA9IGlzU1ZHXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydGlvblBvaW50LCBhbmNob3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc2VydGlvblBvaW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBjb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKHVzaW5nVGVtcEluc2VydGlvblBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoaW5zZXJ0aW9uUG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgLy8gZmlyc3RcclxuICAgICAgICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXHJcbiAgICAgICAgICAgIC8vIGxhc3RcclxuICAgICAgICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG59O1xuXG4vLyBjb21waWxlciBzaG91bGQgbm9ybWFsaXplIGNsYXNzICsgOmNsYXNzIGJpbmRpbmdzIG9uIHRoZSBzYW1lIGVsZW1lbnRcclxuLy8gaW50byBhIHNpbmdsZSBiaW5kaW5nIFsnc3RhdGljQ2xhc3MnLCBkeW5hbWljXVxyXG5mdW5jdGlvbiBwYXRjaENsYXNzKGVsLCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgdmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkaXJlY3RseSBzZXR0aW5nIGNsYXNzTmFtZSBzaG91bGQgYmUgZmFzdGVyIHRoYW4gc2V0QXR0cmlidXRlIGluIHRoZW9yeVxyXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gZWxlbWVudCBkdXJpbmcgYSB0cmFuc2l0aW9uLCB0YWtlIHRoZSB0ZW1wb3JhcnkgdHJhbnNpdGlvblxyXG4gICAgICAgIC8vIGNsYXNzZXMgaW50byBhY2NvdW50LlxyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3Z0YztcclxuICAgICAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSAodmFsdWVcclxuICAgICAgICAgICAgICAgID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc11cclxuICAgICAgICAgICAgICAgIDogWy4uLnRyYW5zaXRpb25DbGFzc2VzXSkuam9pbignICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5jbGFzc05hbWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcobmV4dCkpIHtcclxuICAgICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gc3R5bGUuZGlzcGxheTtcclxuICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBgZGlzcGxheWAgb2YgdGhlIGVsZW1lbnQgaXMgY29udHJvbGxlZCBieSBgdi1zaG93YCxcclxuICAgICAgICAgICAgLy8gc28gd2UgYWx3YXlzIGtlZXAgdGhlIGN1cnJlbnQgYGRpc3BsYXlgIHZhbHVlIHJlZ2FyZGxlc3Mgb2YgdGhlIGBzdHlsZWAgdmFsdWUsXHJcbiAgICAgICAgICAgIC8vIHRodXMgaGFuZGluZyBvdmVyIGNvbnRyb2wgdG8gYHYtc2hvd2AuXHJcbiAgICAgICAgICAgIGlmICgnX3ZvZCcgaW4gZWwpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xyXG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldiAmJiAhaXNTdHJpbmcocHJldikpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XHJcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcclxuICAgICAgICB2YWwuZm9yRWFjaCh2ID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCctLScpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUocHJlZml4ZWQpLCB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgJycpLCAnaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcclxuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xyXG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XHJcbiAgICBpZiAobmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSBpbiBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcclxuICAgIH1cclxuICAgIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xyXG4gICAgICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByYXdOYW1lO1xyXG59XG5cbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlKSB7XHJcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXHJcbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmIHZhbHVlID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gX19VTlNBRkVfX1xyXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXHJcbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXHJcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcclxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcclxuLy8gdW5tb3VudGVkLlxyXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xyXG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XHJcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiYgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJykge1xyXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cclxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnICYmIHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAvLyBlLmcuIDxzZWxlY3QgbXVsdGlwbGU+IGNvbXBpbGVzIHRvIHsgbXVsdGlwbGU6ICcnIH1cclxuICAgICAgICAgICAgZWxba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAvLyBlLmcuIDxkaXYgOmlkPVwibnVsbFwiPlxyXG4gICAgICAgICAgICBlbFtrZXldID0gJyc7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPGltZyA6d2lkdGg9XCJudWxsXCI+XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSAwO1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNvbWUgcHJvcGVydGllcyBwZXJmb3JtIHZhbHVlIHZhbGlkYXRpb24gYW5kIHRocm93XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGVsW2tleV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xyXG4gICAgICAgICAgICAgICAgYHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8vIEFzeW5jIGVkZ2UgY2FzZSBmaXggcmVxdWlyZXMgc3RvcmluZyBhbiBldmVudCBsaXN0ZW5lcidzIGF0dGFjaCB0aW1lc3RhbXAuXHJcbmxldCBfZ2V0Tm93ID0gRGF0ZS5ub3c7XHJcbmxldCBza2lwVGltZXN0YW1wQ2hlY2sgPSBmYWxzZTtcclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAvLyBEZXRlcm1pbmUgd2hhdCBldmVudCB0aW1lc3RhbXAgdGhlIGJyb3dzZXIgaXMgdXNpbmcuIEFubm95aW5nbHksIHRoZVxyXG4gICAgLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXNcclxuICAgIC8vIChyZWxhdGl2ZSB0byBVTklYIGVwb2NoKSwgc28gaW4gb3JkZXIgdG8gY29tcGFyZSB0aW1lIHdlIGhhdmUgdG8gdXNlIHRoZVxyXG4gICAgLy8gc2FtZSB0aW1lc3RhbXAgdHlwZSB3aGVuIHNhdmluZyB0aGUgZmx1c2ggdGltZXN0YW1wLlxyXG4gICAgaWYgKF9nZXROb3coKSA+IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLnRpbWVTdGFtcCkge1xyXG4gICAgICAgIC8vIGlmIHRoZSBsb3ctcmVzIHRpbWVzdGFtcCB3aGljaCBpcyBiaWdnZXIgdGhhbiB0aGUgZXZlbnQgdGltZXN0YW1wXHJcbiAgICAgICAgLy8gKHdoaWNoIGlzIGV2YWx1YXRlZCBBRlRFUikgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCxcclxuICAgICAgICAvLyBhbmQgd2UgbmVlZCB0byB1c2UgdGhlIGhpLXJlcyB2ZXJzaW9uIGZvciBldmVudCBsaXN0ZW5lcnMgYXMgd2VsbC5cclxuICAgICAgICBfZ2V0Tm93ID0gKCkgPT4gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICB9XHJcbiAgICAvLyAjMzQ4NTogRmlyZWZveCA8PSA1MyBoYXMgaW5jb3JyZWN0IEV2ZW50LnRpbWVTdGFtcCBpbXBsZW1lbnRhdGlvblxyXG4gICAgLy8gYW5kIGRvZXMgbm90IGZpcmUgbWljcm90YXNrcyBpbiBiZXR3ZWVuIGV2ZW50IHByb3BhZ2F0aW9uLCBzbyBzYWZlIHRvIGV4Y2x1ZGUuXHJcbiAgICBjb25zdCBmZk1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS9pKTtcclxuICAgIHNraXBUaW1lc3RhbXBDaGVjayA9ICEhKGZmTWF0Y2ggJiYgTnVtYmVyKGZmTWF0Y2hbMV0pIDw9IDUzKTtcclxufVxyXG4vLyBUbyBhdm9pZCB0aGUgb3ZlcmhlYWQgb2YgcmVwZWF0ZWRseSBjYWxsaW5nIHBlcmZvcm1hbmNlLm5vdygpLCB3ZSBjYWNoZVxyXG4vLyBhbmQgdXNlIHRoZSBzYW1lIHRpbWVzdGFtcCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCBpbiB0aGUgc2FtZSB0aWNrLlxyXG5sZXQgY2FjaGVkTm93ID0gMDtcclxuY29uc3QgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5jb25zdCByZXNldCA9ICgpID0+IHtcclxuICAgIGNhY2hlZE5vdyA9IDA7XHJcbn07XHJcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKHJlc2V0KSwgKGNhY2hlZE5vdyA9IF9nZXROb3coKSkpO1xyXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcclxuICAgIC8vIHZlaSA9IHZ1ZSBldmVudCBpbnZva2Vyc1xyXG4gICAgY29uc3QgaW52b2tlcnMgPSBlbC5fdmVpIHx8IChlbC5fdmVpID0ge30pO1xyXG4gICAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XHJcbiAgICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgIC8vIHBhdGNoXHJcbiAgICAgICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xyXG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gYWRkXHJcbiAgICAgICAgICAgIGNvbnN0IGludm9rZXIgPSAoaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKG5leHRWYWx1ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xyXG4gICAgICAgICAgICAvLyByZW1vdmVcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xyXG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xyXG4gICAgbGV0IG9wdGlvbnM7XHJcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBsZXQgbTtcclxuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtoeXBoZW5hdGUobmFtZS5zbGljZSgyKSksIG9wdGlvbnNdO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XHJcbiAgICAgICAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXHJcbiAgICAgICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uXHJcbiAgICAgICAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxyXG4gICAgICAgIC8vIGFuZCB0aGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcclxuICAgICAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuXHJcbiAgICAgICAgY29uc3QgdGltZVN0YW1wID0gZS50aW1lU3RhbXAgfHwgX2dldE5vdygpO1xyXG4gICAgICAgIGlmIChza2lwVGltZXN0YW1wQ2hlY2sgfHwgdGltZVN0YW1wID49IGludm9rZXIuYXR0YWNoZWQgLSAxKSB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLCBpbnN0YW5jZSwgNSAvKiBOQVRJVkVfRVZFTlRfSEFORExFUiAqLywgW2VdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcclxuICAgIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcclxuICAgIHJldHVybiBpbnZva2VyO1xyXG59XHJcbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcclxuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XHJcbiAgICAgICAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmbiA9PiAoZSkgPT4gIWUuX3N0b3BwZWQgJiYgZm4oZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IG5hdGl2ZU9uUkUgPSAvXm9uW2Etel0vO1xyXG5jb25zdCBmb3JjZVBhdGNoUHJvcCA9IChfLCBrZXkpID0+IGtleSA9PT0gJ3ZhbHVlJztcclxuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpc1NWRyA9IGZhbHNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xyXG4gICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAvLyBzcGVjaWFsXHJcbiAgICAgICAgY2FzZSAnY2xhc3MnOlxyXG4gICAgICAgICAgICBwYXRjaENsYXNzKGVsLCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnc3R5bGUnOlxyXG4gICAgICAgICAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaERPTVByb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxpbnB1dCB2LW1vZGVsIHR5cGU9XCJjaGVja2JveFwiPiB3aXRoXHJcbiAgICAgICAgICAgICAgICAvLyA6dHJ1ZS12YWx1ZSAmIDpmYWxzZS12YWx1ZVxyXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgZG9tIHByb3BlcnRpZXMgc2luY2Ugbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZVxyXG4gICAgICAgICAgICAgICAgLy8gc3RyaW5naWZpZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAndHJ1ZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZmFsc2UtdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgIC8vIG1vc3Qga2V5cyBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGUgb24gc3ZnIGVsZW1lbnRzIHRvIHdvcmtcclxuICAgICAgICAvLyAuLi5leGNlcHQgaW5uZXJIVE1MXHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG9yIG5hdGl2ZSBvbmNsaWNrIHdpdGggZnVuY3Rpb24gdmFsdWVzXHJcbiAgICAgICAgaWYgKGtleSBpbiBlbCAmJiBuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gc3BlbGxjaGVjayBhbmQgZHJhZ2dhYmxlIGFyZSBudW1lcmF0ZWQgYXR0cnMsIGhvd2V2ZXIgdGhlaXJcclxuICAgIC8vIGNvcnJlc3BvbmRpbmcgRE9NIHByb3BlcnRpZXMgYXJlIGFjdHVhbGx5IGJvb2xlYW5zIC0gdGhpcyBsZWFkcyB0b1xyXG4gICAgLy8gc2V0dGluZyBpdCB3aXRoIGEgc3RyaW5nIFwiZmFsc2VcIiB2YWx1ZSBsZWFkaW5nIGl0IHRvIGJlIGNvZXJjZWQgdG9cclxuICAgIC8vIGB0cnVlYCwgc28gd2UgbmVlZCB0byBhbHdheXMgdHJlYXQgdGhlbSBhcyBhdHRyaWJ1dGVzLlxyXG4gICAgLy8gTm90ZSB0aGF0IGBjb250ZW50RWRpdGFibGVgIGRvZXNuJ3QgaGF2ZSB0aGlzIHByb2JsZW06IGl0cyBET01cclxuICAgIC8vIHByb3BlcnR5IGlzIGFsc28gZW51bWVyYXRlZCBzdHJpbmcgdmFsdWVzLlxyXG4gICAgaWYgKGtleSA9PT0gJ3NwZWxsY2hlY2snIHx8IGtleSA9PT0gJ2RyYWdnYWJsZScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMTc4NywgIzI4NDAgZm9ybSBwcm9wZXJ0eSBvbiBmb3JtIGVsZW1lbnRzIGlzIHJlYWRvbmx5IGFuZCBtdXN0IGJlIHNldCBhc1xyXG4gICAgLy8gYXR0cmlidXRlLlxyXG4gICAgaWYgKGtleSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzE1MjYgPGlucHV0IGxpc3Q+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKGtleSA9PT0gJ2xpc3QnICYmIGVsLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMjc2NiA8dGV4dGFyZWEgdHlwZT4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAoa2V5ID09PSAndHlwZScgJiYgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIG5hdGl2ZSBvbmNsaWNrIHdpdGggc3RyaW5nIHZhbHVlLCBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5IGluIGVsO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gJyRzdHlsZScpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xyXG4gICAgICAgIGlmICghbW9kdWxlcykge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xyXG4gICAgICAgIGlmICghbW9kKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBTRkMncyBDU1MgdmFyaWFibGUgaW5qZWN0aW9uIGZlYXR1cmUuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHNldFZhcnMgPSAoKSA9PiBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKTtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB3YXRjaEVmZmVjdChzZXRWYXJzLCB7IGZsdXNoOiAncG9zdCcgfSkpO1xyXG4gICAgb25VcGRhdGVkKHNldFZhcnMpO1xyXG59XHJcbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcclxuICAgICAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcclxuICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGRyaWxsIGRvd24gSE9DcyB1bnRpbCBpdCdzIGEgbm9uLWNvbXBvbmVudCB2bm9kZVxyXG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xyXG4gICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XHJcbiAgICB9XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmIHZub2RlLmVsKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB2bm9kZS5lbC5zdHlsZTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XHJcbmNvbnN0IEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xyXG4vLyBET00gVHJhbnNpdGlvbiBpcyBhIGhpZ2hlci1vcmRlci1jb21wb25lbnQgYmFzZWQgb24gdGhlIHBsYXRmb3JtLWFnbm9zdGljXHJcbi8vIGJhc2UgVHJhbnNpdGlvbiBjb21wb25lbnQsIHdpdGggRE9NLXNwZWNpZmljIGxvZ2ljLlxyXG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XHJcblRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbic7XHJcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XHJcbiAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBjc3M6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxyXG4gICAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nXHJcbn07XHJcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAoVHJhbnNpdGlvbi5wcm9wcyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBCYXNlVHJhbnNpdGlvbi5wcm9wcywgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpO1xyXG4vKipcclxuICogIzMyMjcgSW5jb21pbmcgaG9va3MgbWF5IGJlIG1lcmdlZCBpbnRvIGFycmF5cyB3aGVuIHdyYXBwaW5nIFRyYW5zaXRpb25cclxuICogd2l0aCBjdXN0b20gSE9Dcy5cclxuICovXHJcbmNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcclxuICAgICAgICBob29rLmZvckVhY2goaCA9PiBoKC4uLmFyZ3MpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhvb2spIHtcclxuICAgICAgICBob29rKC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQ2hlY2sgaWYgYSBob29rIGV4cGVjdHMgYSBjYWxsYmFjayAoMm5kIGFyZyksIHdoaWNoIG1lYW5zIHRoZSB1c2VyXHJcbiAqIGludGVuZHMgdG8gZXhwbGljaXRseSBjb250cm9sIHRoZSBlbmQgb2YgdGhlIHRyYW5zaXRpb24uXHJcbiAqL1xyXG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcclxuICAgIHJldHVybiBob29rXHJcbiAgICAgICAgPyBpc0FycmF5KGhvb2spXHJcbiAgICAgICAgICAgID8gaG9vay5zb21lKGggPT4gaC5sZW5ndGggPiAxKVxyXG4gICAgICAgICAgICA6IGhvb2subGVuZ3RoID4gMVxyXG4gICAgICAgIDogZmFsc2U7XHJcbn07XHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcclxuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcclxuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbmFtZSA9ICd2JywgdHlwZSwgZHVyYXRpb24sIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLCBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLCBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLCBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2AgfSA9IHJhd1Byb3BzO1xyXG4gICAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xyXG4gICAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XHJcbiAgICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcclxuICAgIGNvbnN0IHsgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25MZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLCBvbkFwcGVhciA9IG9uRW50ZXIsIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZCB9ID0gYmFzZVByb3BzO1xyXG4gICAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xyXG4gICAgICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcclxuICAgICAgICAgICAgY2FsbEhvb2soaG9vaywgW2VsLCByZXNvbHZlXSk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xyXG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVFbnRlciwgW2VsXSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXHJcbiAgICAgICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXHJcbiAgICAgICAgb25MZWF2ZShlbCwgZG9uZSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHNvICotbGVhdmUtZnJvbSBjbGFzc2VzIGltbWVkaWF0ZWx5IHRha2UgZWZmZWN0ICgjMjU5MylcclxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmUsIFtlbCwgcmVzb2x2ZV0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XHJcbiAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xyXG4gICAgICAgIHJldHVybiBbbiwgbl07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XHJcbiAgICBjb25zdCByZXMgPSB0b051bWJlcih2YWwpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICB2YWxpZGF0ZUR1cmF0aW9uKHJlcyk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gYCArXHJcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICB3YXJuKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgTmFOIC0gYCArXHJcbiAgICAgICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5hZGQoYykpO1xyXG4gICAgKGVsLl92dGMgfHxcclxuICAgICAgICAoZWwuX3Z0YyA9IG5ldyBTZXQoKSkpLmFkZChjbHMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcclxuICAgIGNvbnN0IHsgX3Z0YyB9ID0gZWw7XHJcbiAgICBpZiAoX3Z0Yykge1xyXG4gICAgICAgIF92dGMuZGVsZXRlKGNscyk7XHJcbiAgICAgICAgaWYgKCFfdnRjLnNpemUpIHtcclxuICAgICAgICAgICAgZWwuX3Z0YyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XHJcbiAgICB9KTtcclxufVxyXG5sZXQgZW5kSWQgPSAwO1xyXG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgZXhwbGljaXRUaW1lb3V0LCByZXNvbHZlKSB7XHJcbiAgICBjb25zdCBpZCA9IChlbC5fZW5kSWQgPSArK2VuZElkKTtcclxuICAgIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGV4cGxpY2l0VGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmVJZk5vdFN0YWxlLCBleHBsaWNpdFRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArICdlbmQnO1xyXG4gICAgbGV0IGVuZGVkID0gMDtcclxuICAgIGNvbnN0IGVuZCA9ICgpID0+IHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XHJcbiAgICAgICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRpbWVvdXQgKyAxKTtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCBnZXRTdHlsZVByb3BlcnRpZXMgPSAoa2V5KSA9PiAoc3R5bGVzW2tleV0gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhUUkFOU0lUSU9OICsgJ0RlbGF5Jyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhBTklNQVRJT04gKyAnRHVyYXRpb24nKTtcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcclxuICAgIGxldCB0eXBlID0gbnVsbDtcclxuICAgIGxldCB0aW1lb3V0ID0gMDtcclxuICAgIGxldCBwcm9wQ291bnQgPSAwO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gVFJBTlNJVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xyXG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICB0eXBlID0gQU5JTUFUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xyXG4gICAgICAgIHR5cGUgPVxyXG4gICAgICAgICAgICB0aW1lb3V0ID4gMFxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcclxuICAgICAgICAgICAgICAgICAgICA/IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgICAgICA6IEFOSU1BVElPTlxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIHByb3BDb3VudCA9IHR5cGVcclxuICAgICAgICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxyXG4gICAgICAgIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChzdHlsZXNbVFJBTlNJVElPTiArICdQcm9wZXJ0eSddKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIHByb3BDb3VudCxcclxuICAgICAgICBoYXNUcmFuc2Zvcm1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xyXG4gICAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucy5tYXAoKGQsIGkpID0+IHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkpKTtcclxufVxyXG4vLyBPbGQgdmVyc2lvbnMgb2YgQ2hyb21pdW0gKGJlbG93IDYxLjAuMzE2My4xMDApIGZvcm1hdHMgZmxvYXRpbmcgcG9pbnRlclxyXG4vLyBudW1iZXJzIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cclxuLy8gSWYgY29tbWEgaXMgbm90IHJlcGxhY2VkIHdpdGggYSBkb3QsIHRoZSBpbnB1dCB3aWxsIGJlIHJvdW5kZWQgZG93blxyXG4vLyAoaS5lLiBhY3RpbmcgYXMgYSBmbG9vciBmdW5jdGlvbikgY2F1c2luZyB1bmV4cGVjdGVkIGJlaGF2aW9yc1xyXG5mdW5jdGlvbiB0b01zKHMpIHtcclxuICAgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMDtcclxufVxyXG4vLyBzeW5jaHJvbm91c2x5IGZvcmNlIGxheW91dCB0byBwdXQgZWxlbWVudHMgaW50byBhIGNlcnRhaW4gc3RhdGVcclxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XHJcbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSB7XHJcbiAgICBuYW1lOiAnVHJhbnNpdGlvbkdyb3VwJyxcclxuICAgIHByb3BzOiAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xyXG4gICAgICAgIHRhZzogU3RyaW5nLFxyXG4gICAgICAgIG1vdmVDbGFzczogU3RyaW5nXHJcbiAgICB9KSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZDaGlsZHJlbjtcclxuICAgICAgICBsZXQgY2hpbGRyZW47XHJcbiAgICAgICAgb25VcGRhdGVkKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hpbGRyZW4gaXMgZ3VhcmFudGVlZCB0byBleGlzdCBhZnRlciBpbml0aWFsIHJlbmRlclxyXG4gICAgICAgICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCAndid9LW1vdmVgO1xyXG4gICAgICAgICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShwcmV2Q2hpbGRyZW5bMF0uZWwsIGluc3RhbmNlLnZub2RlLmVsLCBtb3ZlQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXHJcbiAgICAgICAgICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZWRDaGlsZHJlbiA9IHByZXZDaGlsZHJlbi5maWx0ZXIoYXBwbHlUcmFuc2xhdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGMuZWw7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IChlbC5fbW92ZUNiID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XHJcbiAgICAgICAgICAgIGxldCB0YWcgPSByYXdQcm9wcy50YWcgfHwgRnJhZ21lbnQ7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoY2hpbGQsIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcclxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xyXG4gICAgY29uc3QgZWwgPSBjLmVsO1xyXG4gICAgaWYgKGVsLl9tb3ZlQ2IpIHtcclxuICAgICAgICBlbC5fbW92ZUNiKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICBlbC5fZW50ZXJDYigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcclxuICAgIG5ld1Bvc2l0aW9uTWFwLnNldChjLCBjLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxufVxyXG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcclxuICAgIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcclxuICAgIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XHJcbiAgICBpZiAoZHggfHwgZHkpIHtcclxuICAgICAgICBjb25zdCBzID0gYy5lbC5zdHlsZTtcclxuICAgICAgICBzLnRyYW5zZm9ybSA9IHMud2Via2l0VHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2R4fXB4LCR7ZHl9cHgpYDtcclxuICAgICAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcclxuICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xyXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXHJcbiAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXHJcbiAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcclxuICAgIC8vIGlzIGFwcGxpZWQuXHJcbiAgICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xyXG4gICAgaWYgKGVsLl92dGMpIHtcclxuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMVxyXG4gICAgICAgID8gcm9vdFxyXG4gICAgICAgIDogcm9vdC5wYXJlbnROb2RlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xyXG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XHJcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xyXG4gICAgcmV0dXJuIGlzQXJyYXkoZm4pID8gdmFsdWUgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xyXG59O1xyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xyXG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcclxuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsICdpbnB1dCcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIoZWwsIHR5cGUpIHtcclxuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xyXG4gICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xyXG59XHJcbi8vIFdlIGFyZSBleHBvcnRpbmcgdGhlIHYtbW9kZWwgcnVudGltZSBkaXJlY3RseSBhcyB2bm9kZSBob29rcyBzbyB0aGF0IGl0IGNhblxyXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cclxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJztcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gJ2NoYW5nZScgOiAnaW5wdXQnLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYXN0VG9OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gdG9OdW1iZXIoZG9tVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGF6eSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxyXG4gICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIC8vIGF2b2lkIGNsZWFyaW5nIHVucmVzb2x2ZWQgdGV4dC4gIzIzMDJcclxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJykgJiYgdG9OdW1iZXIoZWwudmFsdWUpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbiA9IGVsLl9hc3NpZ247XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXNzaWduKGNsb25lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXHJcbiAgICBtb3VudGVkOiBzZXRDaGVja2VkLFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXJcclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobykgPT4gbnVtYmVyID8gdG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobykpO1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGVsLm11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICA/IGlzU2V0TW9kZWxcclxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBTZXQoc2VsZWN0ZWRWYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFxyXG4gICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFswXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cclxuICAgIC8vIDxvcHRpb24+cy5cclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XHJcbiAgICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XHJcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYCArXHJcbiAgICAgICAgICAgICAgICBgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcclxuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XHJcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSlcclxuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgc2V0IHZpYSA6dmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcclxuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBmb3IgdHJ1ZS12YWx1ZSBhbmQgZmFsc2UtdmFsdWUgc2V0IHZpYSA6dHJ1ZS12YWx1ZSBvciA6ZmFsc2UtdmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xyXG4gICAgY29uc3Qga2V5ID0gY2hlY2tlZCA/ICdfdHJ1ZVZhbHVlJyA6ICdfZmFsc2VWYWx1ZSc7XHJcbiAgICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XHJcbn1cclxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcclxuICAgIGxldCBtb2RlbFRvVXNlO1xyXG4gICAgc3dpdGNoIChlbC50YWdOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFNlbGVjdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbENoZWNrYm94O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxSYWRpbztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcclxuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcclxufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXTtcclxuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XHJcbiAgICBzdG9wOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXHJcbiAgICBwcmV2ZW50OiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcclxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcclxuICAgIGN0cmw6IGUgPT4gIWUuY3RybEtleSxcclxuICAgIHNoaWZ0OiBlID0+ICFlLnNoaWZ0S2V5LFxyXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcclxuICAgIG1ldGE6IGUgPT4gIWUubWV0YUtleSxcclxuICAgIGxlZnQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcclxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxyXG4gICAgcmlnaHQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcclxuICAgIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZShtID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcclxuICAgICAgICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xyXG4gICAgfTtcclxufTtcclxuLy8gS2VwdCBmb3IgMi54IGNvbXBhdC5cclxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cclxuY29uc3Qga2V5TmFtZXMgPSB7XHJcbiAgICBlc2M6ICdlc2NhcGUnLFxyXG4gICAgc3BhY2U6ICcgJyxcclxuICAgIHVwOiAnYXJyb3ctdXAnLFxyXG4gICAgbGVmdDogJ2Fycm93LWxlZnQnLFxyXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXHJcbiAgICBkb3duOiAnYXJyb3ctZG93bicsXHJcbiAgICBkZWxldGU6ICdiYWNrc3BhY2UnXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghKCdrZXknIGluIGV2ZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XHJcbiAgICAgICAgaWYgKG1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XG5cbmNvbnN0IHZTaG93ID0ge1xyXG4gICAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBlbC5fdm9kID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX3ZvZCA6ICdub25lJztcclxufVxuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSBleHRlbmQoeyBwYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xyXG4vLyBsYXp5IGNyZWF0ZSB0aGUgcmVuZGVyZXIgLSB0aGlzIG1ha2VzIGNvcmUgcmVuZGVyZXIgbG9naWMgdHJlZS1zaGFrYWJsZVxyXG4vLyBpbiBjYXNlIHRoZSB1c2VyIG9ubHkgaW1wb3J0cyByZWFjdGl2aXR5IHV0aWxpdGllcyBmcm9tIFZ1ZS5cclxubGV0IHJlbmRlcmVyO1xyXG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xyXG5mdW5jdGlvbiBlbnN1cmVSZW5kZXJlcigpIHtcclxuICAgIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcclxufVxyXG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcclxuICAgIHJlbmRlcmVyID0gZW5hYmxlZEh5ZHJhdGlvblxyXG4gICAgICAgID8gcmVuZGVyZXJcclxuICAgICAgICA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XHJcbiAgICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcclxuICAgIHJldHVybiByZW5kZXJlcjtcclxufVxyXG4vLyB1c2UgZXhwbGljaXQgdHlwZSBjYXN0cyBoZXJlIHRvIGF2b2lkIGltcG9ydCgpIGNhbGxzIGluIHJvbGxlZC11cCBkLnRzXHJcbmNvbnN0IHJlbmRlciA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmh5ZHJhdGUoLi4uYXJncyk7XHJcbn0pO1xyXG5jb25zdCBjcmVhdGVBcHAgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XHJcbiAgICAgICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAvLyBfX1VOU0FGRV9fXHJcbiAgICAgICAgICAgIC8vIFJlYXNvbjogcG90ZW50aWFsIGV4ZWN1dGlvbiBvZiBKUyBleHByZXNzaW9ucyBpbiBpbi1ET00gdGVtcGxhdGUuXHJcbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgbWFrZSBzdXJlIHRoZSBpbi1ET00gdGVtcGxhdGUgaXMgdHJ1c3RlZC4gSWYgaXQnc1xyXG4gICAgICAgICAgICAvLyByZW5kZXJlZCBieSB0aGUgc2VydmVyLCB0aGUgdGVtcGxhdGUgc2hvdWxkIG5vdCBjb250YWluIGFueSB1c2VyIGRhdGEuXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXHJcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndi1jbG9haycpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xyXG4gICAgLy8gSW5qZWN0IGBpc05hdGl2ZVRhZ2BcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBmb3IgY29tcG9uZW50IG5hbWUgdmFsaWRhdGlvbiAoZGV2IG9ubHkpXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzTmF0aXZlVGFnJywge1xyXG4gICAgICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpLFxyXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxyXG4gICAgfSk7XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XHJcbiAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XHJcbiAgICAgICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gYXBwLmNvbmZpZy5pc0N1c3RvbUVsZW1lbnQ7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc0N1c3RvbUVsZW1lbnQnLCB7XHJcbiAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgY29uZmlnIG9wdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBgICtcclxuICAgICAgICAgICAgYGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIGAgK1xyXG4gICAgICAgICAgICBgU2luY2UgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBjb21waWxlck9wdGlvbnNcXGAgYCArXHJcbiAgICAgICAgICAgIGBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cXG5gICtcclxuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cXG5gICtcclxuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXFxuYCArXHJcbiAgICAgICAgICAgIGAtIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS90cmVlL21haW4vcGFja2FnZXMvcGx1Z2luLXZ1ZSNleGFtcGxlLWZvci1wYXNzaW5nLW9wdGlvbnMtdG8tdnVlY29tcGlsZXItZG9tYDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2NvbXBpbGVyT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgd2Fybihtc2cpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0KCkge1xyXG4gICAgICAgICAgICAgICAgd2Fybihtc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciBcIiR7Y29udGFpbmVyfVwiIHJldHVybmVkIG51bGwuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiZcclxuICAgICAgICBjb250YWluZXIubW9kZSA9PT0gJ2Nsb3NlZCcpIHtcclxuICAgICAgICB3YXJuKGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XG5cbmV4cG9ydCB7IFRyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCwgY3JlYXRlQXBwLCBjcmVhdGVTU1JBcHAsIGh5ZHJhdGUsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCJjbGFzcyBWZWN0b3IyIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwICkge1xuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cdH1cblxuXHRnZXQgd2lkdGgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54O1xuXG5cdH1cblxuXHRzZXQgd2lkdGgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy54ID0gdmFsdWU7XG5cblx0fVxuXG5cdGdldCBoZWlnaHQoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy55O1xuXG5cdH1cblxuXHRzZXQgaGVpZ2h0KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMueSA9IHZhbHVlO1xuXG5cdH1cblxuXHRzZXQoIHgsIHkgKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggPSBzY2FsYXI7XG5cdFx0dGhpcy55ID0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFgoIHggKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFkoIHkgKSB7XG5cblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudCggaW5kZXgsIHZhbHVlICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogdGhpcy54ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB0aGlzLnkgPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENvbXBvbmVudCggaW5kZXggKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy54O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gdGhpcy55O1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMueCwgdGhpcy55ICk7XG5cblx0fVxuXG5cdGNvcHkoIHYgKSB7XG5cblx0XHR0aGlzLnggPSB2Lng7XG5cdFx0dGhpcy55ID0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZCggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHYueDtcblx0XHR0aGlzLnkgKz0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCArPSBzO1xuXHRcdHRoaXMueSArPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggKyBiLng7XG5cdFx0dGhpcy55ID0gYS55ICsgYi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxlZFZlY3RvciggdiwgcyApIHtcblxuXHRcdHRoaXMueCArPSB2LnggKiBzO1xuXHRcdHRoaXMueSArPSB2LnkgKiBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IyOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54IC09IHYueDtcblx0XHR0aGlzLnkgLT0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCAtPSBzO1xuXHRcdHRoaXMueSAtPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggLSBiLng7XG5cdFx0dGhpcy55ID0gYS55IC0gYi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCB2ICkge1xuXG5cdFx0dGhpcy54ICo9IHYueDtcblx0XHR0aGlzLnkgKj0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggKj0gc2NhbGFyO1xuXHRcdHRoaXMueSAqPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlKCB2ICkge1xuXG5cdFx0dGhpcy54IC89IHYueDtcblx0XHR0aGlzLnkgLz0gdi55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpdmlkZVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoIDEgLyBzY2FsYXIgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueTtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgZVsgNiBdO1xuXHRcdHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgNyBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1pbiggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWluKCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWluKCB0aGlzLnksIHYueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1heCggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wKCBtaW4sIG1heCApIHtcblxuXHRcdC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluLngsIE1hdGgubWluKCBtYXgueCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluLnksIE1hdGgubWluKCBtYXgueSwgdGhpcy55ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcFNjYWxhciggbWluVmFsLCBtYXhWYWwgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXBMZW5ndGgoIG1pbiwgbWF4ICkge1xuXG5cdFx0Y29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblxuXHRcdHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggbGVuZ3RoIHx8IDEgKS5tdWx0aXBseVNjYWxhciggTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG1heCwgbGVuZ3RoICkgKSApO1xuXG5cdH1cblxuXHRmbG9vcigpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNlaWwoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmNlaWwoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguY2VpbCggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmQoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZFRvWmVybygpIHtcblxuXHRcdHRoaXMueCA9ICggdGhpcy54IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9ICggdGhpcy55IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xuXHRcdHRoaXMueSA9IC0gdGhpcy55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRvdCggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XG5cblx0fVxuXG5cdGNyb3NzKCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueSAtIHRoaXMueSAqIHYueDtcblxuXHR9XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKTtcblxuXHR9XG5cblx0bWFuaGF0dGFuTGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggKSArIE1hdGguYWJzKCB0aGlzLnkgKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTtcblxuXHR9XG5cblx0YW5nbGUoKSB7XG5cblx0XHQvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpc1xuXG5cdFx0Y29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKCAtIHRoaXMueSwgLSB0aGlzLnggKSArIE1hdGguUEk7XG5cblx0XHRyZXR1cm4gYW5nbGU7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKCB2ICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSB7XG5cblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgZHkgPSB0aGlzLnkgLSB2Lnk7XG5cdFx0cmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuXG5cdH1cblxuXHRtYW5oYXR0YW5EaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggLSB2LnggKSArIE1hdGguYWJzKCB0aGlzLnkgLSB2LnkgKTtcblxuXHR9XG5cblx0c2V0TGVuZ3RoKCBsZW5ndGggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhciggbGVuZ3RoICk7XG5cblx0fVxuXG5cdGxlcnAoIHYsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgKz0gKCB2LnkgLSB0aGlzLnkgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBWZWN0b3JzKCB2MSwgdjIsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ID0gdjEueCArICggdjIueCAtIHYxLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSA9IHYxLnkgKyAoIHYyLnkgLSB2MS55ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIHYgKSB7XG5cblx0XHRyZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICk7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHR0aGlzLnggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy55ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy54O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLnk7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXgsIG9mZnNldCApIHtcblxuXHRcdGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3RhdGVBcm91bmQoIGNlbnRlciwgYW5nbGUgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIGFuZ2xlICksIHMgPSBNYXRoLnNpbiggYW5nbGUgKTtcblxuXHRcdGNvbnN0IHggPSB0aGlzLnggLSBjZW50ZXIueDtcblx0XHRjb25zdCB5ID0gdGhpcy55IC0gY2VudGVyLnk7XG5cblx0XHR0aGlzLnggPSB4ICogYyAtIHkgKiBzICsgY2VudGVyLng7XG5cdFx0dGhpcy55ID0geCAqIHMgKyB5ICogYyArIGNlbnRlci55O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJhbmRvbSgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy55ID0gTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG5WZWN0b3IyLnByb3RvdHlwZS5pc1ZlY3RvcjIgPSB0cnVlO1xuXG5leHBvcnQgeyBWZWN0b3IyIH07XG4iLCJjb25zdCBfbHV0ID0gW107XG5cbmZvciAoIGxldCBpID0gMDsgaSA8IDI1NjsgaSArKyApIHtcblxuXHRfbHV0WyBpIF0gPSAoIGkgPCAxNiA/ICcwJyA6ICcnICkgKyAoIGkgKS50b1N0cmluZyggMTYgKTtcblxufVxuXG5sZXQgX3NlZWQgPSAxMjM0NTY3O1xuXG5cbmNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuY29uc3QgUkFEMkRFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTk2MzEzNiMyMTk2MzEzNlxuZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkge1xuXG5cdGNvbnN0IGQwID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCBkMSA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcblx0Y29uc3QgZDIgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IGQzID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCB1dWlkID0gX2x1dFsgZDAgJiAweGZmIF0gKyBfbHV0WyBkMCA+PiA4ICYgMHhmZiBdICsgX2x1dFsgZDAgPj4gMTYgJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAyNCAmIDB4ZmYgXSArICctJyArXG5cdFx0XHRfbHV0WyBkMSAmIDB4ZmYgXSArIF9sdXRbIGQxID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMSA+PiAxNiAmIDB4MGYgfCAweDQwIF0gKyBfbHV0WyBkMSA+PiAyNCAmIDB4ZmYgXSArICctJyArXG5cdFx0XHRfbHV0WyBkMiAmIDB4M2YgfCAweDgwIF0gKyBfbHV0WyBkMiA+PiA4ICYgMHhmZiBdICsgJy0nICsgX2x1dFsgZDIgPj4gMTYgJiAweGZmIF0gKyBfbHV0WyBkMiA+PiAyNCAmIDB4ZmYgXSArXG5cdFx0XHRfbHV0WyBkMyAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMyA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDI0ICYgMHhmZiBdO1xuXG5cdC8vIC50b1VwcGVyQ2FzZSgpIGhlcmUgZmxhdHRlbnMgY29uY2F0ZW5hdGVkIHN0cmluZ3MgdG8gc2F2ZSBoZWFwIG1lbW9yeSBzcGFjZS5cblx0cmV0dXJuIHV1aWQudG9VcHBlckNhc2UoKTtcblxufVxuXG5mdW5jdGlvbiBjbGFtcCggdmFsdWUsIG1pbiwgbWF4ICkge1xuXG5cdHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCB2YWx1ZSApICk7XG5cbn1cblxuLy8gY29tcHV0ZSBldWNsaWRpYW4gbW9kdWxvIG9mIG0gJSBuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXG5mdW5jdGlvbiBldWNsaWRlYW5Nb2R1bG8oIG4sIG0gKSB7XG5cblx0cmV0dXJuICggKCBuICUgbSApICsgbSApICUgbTtcblxufVxuXG4vLyBMaW5lYXIgbWFwcGluZyBmcm9tIHJhbmdlIDxhMSwgYTI+IHRvIHJhbmdlIDxiMSwgYjI+XG5mdW5jdGlvbiBtYXBMaW5lYXIoIHgsIGExLCBhMiwgYjEsIGIyICkge1xuXG5cdHJldHVybiBiMSArICggeCAtIGExICkgKiAoIGIyIC0gYjEgKSAvICggYTIgLSBhMSApO1xuXG59XG5cbi8vIGh0dHBzOi8vd3d3LmdhbWVkZXYubmV0L3R1dG9yaWFscy9wcm9ncmFtbWluZy9nZW5lcmFsLWFuZC1nYW1lcGxheS1wcm9ncmFtbWluZy9pbnZlcnNlLWxlcnAtYS1zdXBlci11c2VmdWwteWV0LW9mdGVuLW92ZXJsb29rZWQtZnVuY3Rpb24tcjUyMzAvXG5mdW5jdGlvbiBpbnZlcnNlTGVycCggeCwgeSwgdmFsdWUgKSB7XG5cblx0aWYgKCB4ICE9PSB5ICkge1xuXG5cdFx0cmV0dXJuICggdmFsdWUgLSB4ICkgLyAoIHkgLSB4ICk7XG5cblx0XHQgfSBlbHNlIHtcblxuXHRcdHJldHVybiAwO1xuXG5cdFx0IH1cblxufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaW5lYXJfaW50ZXJwb2xhdGlvblxuZnVuY3Rpb24gbGVycCggeCwgeSwgdCApIHtcblxuXHRyZXR1cm4gKCAxIC0gdCApICogeCArIHQgKiB5O1xuXG59XG5cbi8vIGh0dHA6Ly93d3cucm9yeWRyaXNjb2xsLmNvbS8yMDE2LzAzLzA3L2ZyYW1lLXJhdGUtaW5kZXBlbmRlbnQtZGFtcGluZy11c2luZy1sZXJwL1xuZnVuY3Rpb24gZGFtcCggeCwgeSwgbGFtYmRhLCBkdCApIHtcblxuXHRyZXR1cm4gbGVycCggeCwgeSwgMSAtIE1hdGguZXhwKCAtIGxhbWJkYSAqIGR0ICkgKTtcblxufVxuXG4vLyBodHRwczovL3d3dy5kZXNtb3MuY29tL2NhbGN1bGF0b3IvdmNzam55ejd4NFxuZnVuY3Rpb24gcGluZ3BvbmcoIHgsIGxlbmd0aCA9IDEgKSB7XG5cblx0cmV0dXJuIGxlbmd0aCAtIE1hdGguYWJzKCBldWNsaWRlYW5Nb2R1bG8oIHgsIGxlbmd0aCAqIDIgKSAtIGxlbmd0aCApO1xuXG59XG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU21vb3Roc3RlcFxuZnVuY3Rpb24gc21vb3Roc3RlcCggeCwgbWluLCBtYXggKSB7XG5cblx0aWYgKCB4IDw9IG1pbiApIHJldHVybiAwO1xuXHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRyZXR1cm4geCAqIHggKiAoIDMgLSAyICogeCApO1xuXG59XG5cbmZ1bmN0aW9uIHNtb290aGVyc3RlcCggeCwgbWluLCBtYXggKSB7XG5cblx0aWYgKCB4IDw9IG1pbiApIHJldHVybiAwO1xuXHRpZiAoIHggPj0gbWF4ICkgcmV0dXJuIDE7XG5cblx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRyZXR1cm4geCAqIHggKiB4ICogKCB4ICogKCB4ICogNiAtIDE1ICkgKyAxMCApO1xuXG59XG5cbi8vIFJhbmRvbSBpbnRlZ2VyIGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRJbnQoIGxvdywgaGlnaCApIHtcblxuXHRyZXR1cm4gbG93ICsgTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyArIDEgKSApO1xuXG59XG5cbi8vIFJhbmRvbSBmbG9hdCBmcm9tIDxsb3csIGhpZ2g+IGludGVydmFsXG5mdW5jdGlvbiByYW5kRmxvYXQoIGxvdywgaGlnaCApIHtcblxuXHRyZXR1cm4gbG93ICsgTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyApO1xuXG59XG5cbi8vIFJhbmRvbSBmbG9hdCBmcm9tIDwtcmFuZ2UvMiwgcmFuZ2UvMj4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRGbG9hdFNwcmVhZCggcmFuZ2UgKSB7XG5cblx0cmV0dXJuIHJhbmdlICogKCAwLjUgLSBNYXRoLnJhbmRvbSgpICk7XG5cbn1cblxuLy8gRGV0ZXJtaW5pc3RpYyBwc2V1ZG8tcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbIDAsIDEgXVxuZnVuY3Rpb24gc2VlZGVkUmFuZG9tKCBzICkge1xuXG5cdGlmICggcyAhPT0gdW5kZWZpbmVkICkgX3NlZWQgPSBzICUgMjE0NzQ4MzY0NztcblxuXHQvLyBQYXJrLU1pbGxlciBhbGdvcml0aG1cblxuXHRfc2VlZCA9IF9zZWVkICogMTY4MDcgJSAyMTQ3NDgzNjQ3O1xuXG5cdHJldHVybiAoIF9zZWVkIC0gMSApIC8gMjE0NzQ4MzY0NjtcblxufVxuXG5mdW5jdGlvbiBkZWdUb1JhZCggZGVncmVlcyApIHtcblxuXHRyZXR1cm4gZGVncmVlcyAqIERFRzJSQUQ7XG5cbn1cblxuZnVuY3Rpb24gcmFkVG9EZWcoIHJhZGlhbnMgKSB7XG5cblx0cmV0dXJuIHJhZGlhbnMgKiBSQUQyREVHO1xuXG59XG5cbmZ1bmN0aW9uIGlzUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuICggdmFsdWUgJiAoIHZhbHVlIC0gMSApICkgPT09IDAgJiYgdmFsdWUgIT09IDA7XG5cbn1cblxuZnVuY3Rpb24gY2VpbFBvd2VyT2ZUd28oIHZhbHVlICkge1xuXG5cdHJldHVybiBNYXRoLnBvdyggMiwgTWF0aC5jZWlsKCBNYXRoLmxvZyggdmFsdWUgKSAvIE1hdGguTE4yICkgKTtcblxufVxuXG5mdW5jdGlvbiBmbG9vclBvd2VyT2ZUd28oIHZhbHVlICkge1xuXG5cdHJldHVybiBNYXRoLnBvdyggMiwgTWF0aC5mbG9vciggTWF0aC5sb2coIHZhbHVlICkgLyBNYXRoLkxOMiApICk7XG5cbn1cblxuZnVuY3Rpb24gc2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlciggcSwgYSwgYiwgYywgb3JkZXIgKSB7XG5cblx0Ly8gSW50cmluc2ljIFByb3BlciBFdWxlciBBbmdsZXMgLSBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVsZXJfYW5nbGVzXG5cblx0Ly8gcm90YXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBheGVzIGluIHRoZSBvcmRlciBzcGVjaWZpZWQgYnkgJ29yZGVyJ1xuXHQvLyByb3RhdGlvbiBieSBhbmdsZSAnYScgaXMgYXBwbGllZCBmaXJzdCwgdGhlbiBieSBhbmdsZSAnYicsIHRoZW4gYnkgYW5nbGUgJ2MnXG5cdC8vIGFuZ2xlcyBhcmUgaW4gcmFkaWFuc1xuXG5cdGNvbnN0IGNvcyA9IE1hdGguY29zO1xuXHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRjb25zdCBjMiA9IGNvcyggYiAvIDIgKTtcblx0Y29uc3QgczIgPSBzaW4oIGIgLyAyICk7XG5cblx0Y29uc3QgYzEzID0gY29zKCAoIGEgKyBjICkgLyAyICk7XG5cdGNvbnN0IHMxMyA9IHNpbiggKCBhICsgYyApIC8gMiApO1xuXG5cdGNvbnN0IGMxXzMgPSBjb3MoICggYSAtIGMgKSAvIDIgKTtcblx0Y29uc3QgczFfMyA9IHNpbiggKCBhIC0gYyApIC8gMiApO1xuXG5cdGNvbnN0IGMzXzEgPSBjb3MoICggYyAtIGEgKSAvIDIgKTtcblx0Y29uc3QgczNfMSA9IHNpbiggKCBjIC0gYSApIC8gMiApO1xuXG5cdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0Y2FzZSAnWFlYJzpcblx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBjMV8zLCBzMiAqIHMxXzMsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1laWSc6XG5cdFx0XHRxLnNldCggczIgKiBzMV8zLCBjMiAqIHMxMywgczIgKiBjMV8zLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdaWFonOlxuXHRcdFx0cS5zZXQoIHMyICogYzFfMywgczIgKiBzMV8zLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWFpYJzpcblx0XHRcdHEuc2V0KCBjMiAqIHMxMywgczIgKiBzM18xLCBzMiAqIGMzXzEsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1lYWSc6XG5cdFx0XHRxLnNldCggczIgKiBjM18xLCBjMiAqIHMxMywgczIgKiBzM18xLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdaWVonOlxuXHRcdFx0cS5zZXQoIHMyICogczNfMSwgczIgKiBjM18xLCBjMiAqIHMxMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1hdGhVdGlsczogLnNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHR9XG5cbn1cblxuXG5cblxuZXhwb3J0IHtcblx0REVHMlJBRCxcblx0UkFEMkRFRyxcblx0Z2VuZXJhdGVVVUlELFxuXHRjbGFtcCxcblx0ZXVjbGlkZWFuTW9kdWxvLFxuXHRtYXBMaW5lYXIsXG5cdGludmVyc2VMZXJwLFxuXHRsZXJwLFxuXHRkYW1wLFxuXHRwaW5ncG9uZyxcblx0c21vb3Roc3RlcCxcblx0c21vb3RoZXJzdGVwLFxuXHRyYW5kSW50LFxuXHRyYW5kRmxvYXQsXG5cdHJhbmRGbG9hdFNwcmVhZCxcblx0c2VlZGVkUmFuZG9tLFxuXHRkZWdUb1JhZCxcblx0cmFkVG9EZWcsXG5cdGlzUG93ZXJPZlR3byxcblx0Y2VpbFBvd2VyT2ZUd28sXG5cdGZsb29yUG93ZXJPZlR3byxcblx0c2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcixcbn07XG4iLCJpbXBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jbGFzcyBRdWF0ZXJuaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl93ID0gdztcblxuXHR9XG5cblx0c3RhdGljIHNsZXJwKCBxYSwgcWIsIHFtLCB0ICkge1xuXG5cdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogU3RhdGljIC5zbGVycCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSBpbnN0ZWFkLicgKTtcblx0XHRyZXR1cm4gcW0uc2xlcnBRdWF0ZXJuaW9ucyggcWEsIHFiLCB0ICk7XG5cblx0fVxuXG5cdHN0YXRpYyBzbGVycEZsYXQoIGRzdCwgZHN0T2Zmc2V0LCBzcmMwLCBzcmNPZmZzZXQwLCBzcmMxLCBzcmNPZmZzZXQxLCB0ICkge1xuXG5cdFx0Ly8gZnV6ei1mcmVlLCBhcnJheS1iYXNlZCBRdWF0ZXJuaW9uIFNMRVJQIG9wZXJhdGlvblxuXG5cdFx0bGV0IHgwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDAgXSxcblx0XHRcdHkwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDEgXSxcblx0XHRcdHowID0gc3JjMFsgc3JjT2Zmc2V0MCArIDIgXSxcblx0XHRcdHcwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDMgXTtcblxuXHRcdGNvbnN0IHgxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDAgXSxcblx0XHRcdHkxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDEgXSxcblx0XHRcdHoxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDIgXSxcblx0XHRcdHcxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDMgXTtcblxuXHRcdGlmICggdCA9PT0gMCApIHtcblxuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAwIF0gPSB4MDtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTA7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHowO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MDtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggdCA9PT0gMSApIHtcblxuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAwIF0gPSB4MTtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMSBdID0geTE7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHoxO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MTtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggdzAgIT09IHcxIHx8IHgwICE9PSB4MSB8fCB5MCAhPT0geTEgfHwgejAgIT09IHoxICkge1xuXG5cdFx0XHRsZXQgcyA9IDEgLSB0O1xuXHRcdFx0Y29uc3QgY29zID0geDAgKiB4MSArIHkwICogeTEgKyB6MCAqIHoxICsgdzAgKiB3MSxcblx0XHRcdFx0ZGlyID0gKCBjb3MgPj0gMCA/IDEgOiAtIDEgKSxcblx0XHRcdFx0c3FyU2luID0gMSAtIGNvcyAqIGNvcztcblxuXHRcdFx0Ly8gU2tpcCB0aGUgU2xlcnAgZm9yIHRpbnkgc3RlcHMgdG8gYXZvaWQgbnVtZXJpYyBwcm9ibGVtczpcblx0XHRcdGlmICggc3FyU2luID4gTnVtYmVyLkVQU0lMT04gKSB7XG5cblx0XHRcdFx0Y29uc3Qgc2luID0gTWF0aC5zcXJ0KCBzcXJTaW4gKSxcblx0XHRcdFx0XHRsZW4gPSBNYXRoLmF0YW4yKCBzaW4sIGNvcyAqIGRpciApO1xuXG5cdFx0XHRcdHMgPSBNYXRoLnNpbiggcyAqIGxlbiApIC8gc2luO1xuXHRcdFx0XHR0ID0gTWF0aC5zaW4oIHQgKiBsZW4gKSAvIHNpbjtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0RGlyID0gdCAqIGRpcjtcblxuXHRcdFx0eDAgPSB4MCAqIHMgKyB4MSAqIHREaXI7XG5cdFx0XHR5MCA9IHkwICogcyArIHkxICogdERpcjtcblx0XHRcdHowID0gejAgKiBzICsgejEgKiB0RGlyO1xuXHRcdFx0dzAgPSB3MCAqIHMgKyB3MSAqIHREaXI7XG5cblx0XHRcdC8vIE5vcm1hbGl6ZSBpbiBjYXNlIHdlIGp1c3QgZGlkIGEgbGVycDpcblx0XHRcdGlmICggcyA9PT0gMSAtIHQgKSB7XG5cblx0XHRcdFx0Y29uc3QgZiA9IDEgLyBNYXRoLnNxcnQoIHgwICogeDAgKyB5MCAqIHkwICsgejAgKiB6MCArIHcwICogdzAgKTtcblxuXHRcdFx0XHR4MCAqPSBmO1xuXHRcdFx0XHR5MCAqPSBmO1xuXHRcdFx0XHR6MCAqPSBmO1xuXHRcdFx0XHR3MCAqPSBmO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRkc3RbIGRzdE9mZnNldCBdID0geDA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDIgXSA9IHowO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMyBdID0gdzA7XG5cblx0fVxuXG5cdHN0YXRpYyBtdWx0aXBseVF1YXRlcm5pb25zRmxhdCggZHN0LCBkc3RPZmZzZXQsIHNyYzAsIHNyY09mZnNldDAsIHNyYzEsIHNyY09mZnNldDEgKSB7XG5cblx0XHRjb25zdCB4MCA9IHNyYzBbIHNyY09mZnNldDAgXTtcblx0XHRjb25zdCB5MCA9IHNyYzBbIHNyY09mZnNldDAgKyAxIF07XG5cdFx0Y29uc3QgejAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMiBdO1xuXHRcdGNvbnN0IHcwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDMgXTtcblxuXHRcdGNvbnN0IHgxID0gc3JjMVsgc3JjT2Zmc2V0MSBdO1xuXHRcdGNvbnN0IHkxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDEgXTtcblx0XHRjb25zdCB6MSA9IHNyYzFbIHNyY09mZnNldDEgKyAyIF07XG5cdFx0Y29uc3QgdzEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMyBdO1xuXG5cdFx0ZHN0WyBkc3RPZmZzZXQgXSA9IHgwICogdzEgKyB3MCAqIHgxICsgeTAgKiB6MSAtIHowICogeTE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MCAqIHcxICsgdzAgKiB5MSArIHowICogeDEgLSB4MCAqIHoxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejAgKiB3MSArIHcwICogejEgKyB4MCAqIHkxIC0geTAgKiB4MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcwICogdzEgLSB4MCAqIHgxIC0geTAgKiB5MSAtIHowICogejE7XG5cblx0XHRyZXR1cm4gZHN0O1xuXG5cdH1cblxuXHRnZXQgeCgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94O1xuXG5cdH1cblxuXHRzZXQgeCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl94ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl95O1xuXG5cdH1cblxuXHRzZXQgeSggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl95ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeigpIHtcblxuXHRcdHJldHVybiB0aGlzLl96O1xuXG5cdH1cblxuXHRzZXQgeiggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl96ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgdygpIHtcblxuXHRcdHJldHVybiB0aGlzLl93O1xuXG5cdH1cblxuXHRzZXQgdyggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl93ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl93ID0gdztcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiwgdGhpcy5fdyApO1xuXG5cdH1cblxuXHRjb3B5KCBxdWF0ZXJuaW9uICkge1xuXG5cdFx0dGhpcy5feCA9IHF1YXRlcm5pb24ueDtcblx0XHR0aGlzLl95ID0gcXVhdGVybmlvbi55O1xuXHRcdHRoaXMuX3ogPSBxdWF0ZXJuaW9uLno7XG5cdFx0dGhpcy5fdyA9IHF1YXRlcm5pb24udztcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tRXVsZXIoIGV1bGVyLCB1cGRhdGUgKSB7XG5cblx0XHRpZiAoICEgKCBldWxlciAmJiBldWxlci5pc0V1bGVyICkgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHggPSBldWxlci5feCwgeSA9IGV1bGVyLl95LCB6ID0gZXVsZXIuX3osIG9yZGVyID0gZXVsZXIuX29yZGVyO1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlL1xuXHRcdC8vIFx0MjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvXG5cdFx0Ly9cdGNvbnRlbnQvU3BpbkNhbGMubVxuXG5cdFx0Y29uc3QgY29zID0gTWF0aC5jb3M7XG5cdFx0Y29uc3Qgc2luID0gTWF0aC5zaW47XG5cblx0XHRjb25zdCBjMSA9IGNvcyggeCAvIDIgKTtcblx0XHRjb25zdCBjMiA9IGNvcyggeSAvIDIgKTtcblx0XHRjb25zdCBjMyA9IGNvcyggeiAvIDIgKTtcblxuXHRcdGNvbnN0IHMxID0gc2luKCB4IC8gMiApO1xuXHRcdGNvbnN0IHMyID0gc2luKCB5IC8gMiApO1xuXHRcdGNvbnN0IHMzID0gc2luKCB6IC8gMiApO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWic6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFonOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhZJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWCc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlgnOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWFpZJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggdXBkYXRlICE9PSBmYWxzZSApIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuXHRcdC8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkXG5cblx0XHRjb25zdCBoYWxmQW5nbGUgPSBhbmdsZSAvIDIsIHMgPSBNYXRoLnNpbiggaGFsZkFuZ2xlICk7XG5cblx0XHR0aGlzLl94ID0gYXhpcy54ICogcztcblx0XHR0aGlzLl95ID0gYXhpcy55ICogcztcblx0XHR0aGlzLl96ID0gYXhpcy56ICogcztcblx0XHR0aGlzLl93ID0gTWF0aC5jb3MoIGhhbGZBbmdsZSApO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Sb3RhdGlvbk1hdHJpeCggbSApIHtcblxuXHRcdC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9tYXRyaXhUb1F1YXRlcm5pb24vaW5kZXguaHRtXG5cblx0XHQvLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKVxuXG5cdFx0Y29uc3QgdGUgPSBtLmVsZW1lbnRzLFxuXG5cdFx0XHRtMTEgPSB0ZVsgMCBdLCBtMTIgPSB0ZVsgNCBdLCBtMTMgPSB0ZVsgOCBdLFxuXHRcdFx0bTIxID0gdGVbIDEgXSwgbTIyID0gdGVbIDUgXSwgbTIzID0gdGVbIDkgXSxcblx0XHRcdG0zMSA9IHRlWyAyIF0sIG0zMiA9IHRlWyA2IF0sIG0zMyA9IHRlWyAxMCBdLFxuXG5cdFx0XHR0cmFjZSA9IG0xMSArIG0yMiArIG0zMztcblxuXHRcdGlmICggdHJhY2UgPiAwICkge1xuXG5cdFx0XHRjb25zdCBzID0gMC41IC8gTWF0aC5zcXJ0KCB0cmFjZSArIDEuMCApO1xuXG5cdFx0XHR0aGlzLl93ID0gMC4yNSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMzIgLSBtMjMgKSAqIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMTMgLSBtMzEgKSAqIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMjEgLSBtMTIgKSAqIHM7XG5cblx0XHR9IGVsc2UgaWYgKCBtMTEgPiBtMjIgJiYgbTExID4gbTMzICkge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMTEgLSBtMjIgLSBtMzMgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTMyIC0gbTIzICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9IDAuMjUgKiBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTEyICsgbTIxICkgLyBzO1xuXHRcdFx0dGhpcy5feiA9ICggbTEzICsgbTMxICkgLyBzO1xuXG5cdFx0fSBlbHNlIGlmICggbTIyID4gbTMzICkge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMjIgLSBtMTEgLSBtMzMgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTEzIC0gbTMxICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTEyICsgbTIxICkgLyBzO1xuXHRcdFx0dGhpcy5feSA9IDAuMjUgKiBzO1xuXHRcdFx0dGhpcy5feiA9ICggbTIzICsgbTMyICkgLyBzO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTMzIC0gbTExIC0gbTIyICk7XG5cblx0XHRcdHRoaXMuX3cgPSAoIG0yMSAtIG0xMiApIC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0xMyArIG0zMSApIC8gcztcblx0XHRcdHRoaXMuX3kgPSAoIG0yMyArIG0zMiApIC8gcztcblx0XHRcdHRoaXMuX3ogPSAwLjI1ICogcztcblxuXHRcdH1cblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tVW5pdFZlY3RvcnMoIHZGcm9tLCB2VG8gKSB7XG5cblx0XHQvLyBhc3N1bWVzIGRpcmVjdGlvbiB2ZWN0b3JzIHZGcm9tIGFuZCB2VG8gYXJlIG5vcm1hbGl6ZWRcblxuXHRcdGxldCByID0gdkZyb20uZG90KCB2VG8gKSArIDE7XG5cblx0XHRpZiAoIHIgPCBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0Ly8gdkZyb20gYW5kIHZUbyBwb2ludCBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zXG5cblx0XHRcdHIgPSAwO1xuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB2RnJvbS54ICkgPiBNYXRoLmFicyggdkZyb20ueiApICkge1xuXG5cdFx0XHRcdHRoaXMuX3ggPSAtIHZGcm9tLnk7XG5cdFx0XHRcdHRoaXMuX3kgPSB2RnJvbS54O1xuXHRcdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdFx0dGhpcy5fdyA9IHI7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGhpcy5feCA9IDA7XG5cdFx0XHRcdHRoaXMuX3kgPSAtIHZGcm9tLno7XG5cdFx0XHRcdHRoaXMuX3ogPSB2RnJvbS55O1xuXHRcdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gY3Jvc3NWZWN0b3JzKCB2RnJvbSwgdlRvICk7IC8vIGlubGluZWQgdG8gYXZvaWQgY3ljbGljIGRlcGVuZGVuY3kgb24gVmVjdG9yM1xuXG5cdFx0XHR0aGlzLl94ID0gdkZyb20ueSAqIHZUby56IC0gdkZyb20ueiAqIHZUby55O1xuXHRcdFx0dGhpcy5feSA9IHZGcm9tLnogKiB2VG8ueCAtIHZGcm9tLnggKiB2VG8uejtcblx0XHRcdHRoaXMuX3ogPSB2RnJvbS54ICogdlRvLnkgLSB2RnJvbS55ICogdlRvLng7XG5cdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhbmdsZVRvKCBxICkge1xuXG5cdFx0cmV0dXJuIDIgKiBNYXRoLmFjb3MoIE1hdGguYWJzKCBNYXRoVXRpbHMuY2xhbXAoIHRoaXMuZG90KCBxICksIC0gMSwgMSApICkgKTtcblxuXHR9XG5cblx0cm90YXRlVG93YXJkcyggcSwgc3RlcCApIHtcblxuXHRcdGNvbnN0IGFuZ2xlID0gdGhpcy5hbmdsZVRvKCBxICk7XG5cblx0XHRpZiAoIGFuZ2xlID09PSAwICkgcmV0dXJuIHRoaXM7XG5cblx0XHRjb25zdCB0ID0gTWF0aC5taW4oIDEsIHN0ZXAgLyBhbmdsZSApO1xuXG5cdFx0dGhpcy5zbGVycCggcSwgdCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAxICk7XG5cblx0fVxuXG5cdGludmVydCgpIHtcblxuXHRcdC8vIHF1YXRlcm5pb24gaXMgYXNzdW1lZCB0byBoYXZlIHVuaXQgbGVuZ3RoXG5cblx0XHRyZXR1cm4gdGhpcy5jb25qdWdhdGUoKTtcblxuXHR9XG5cblx0Y29uanVnYXRlKCkge1xuXG5cdFx0dGhpcy5feCAqPSAtIDE7XG5cdFx0dGhpcy5feSAqPSAtIDE7XG5cdFx0dGhpcy5feiAqPSAtIDE7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3ggKiB2Ll94ICsgdGhpcy5feSAqIHYuX3kgKyB0aGlzLl96ICogdi5feiArIHRoaXMuX3cgKiB2Ll93O1xuXG5cdH1cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdztcblxuXHR9XG5cblx0bGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5feCAqIHRoaXMuX3ggKyB0aGlzLl95ICogdGhpcy5feSArIHRoaXMuX3ogKiB0aGlzLl96ICsgdGhpcy5fdyAqIHRoaXMuX3cgKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0bGV0IGwgPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0aWYgKCBsID09PSAwICkge1xuXG5cdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdHRoaXMuX3kgPSAwO1xuXHRcdFx0dGhpcy5feiA9IDA7XG5cdFx0XHR0aGlzLl93ID0gMTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGwgPSAxIC8gbDtcblxuXHRcdFx0dGhpcy5feCA9IHRoaXMuX3ggKiBsO1xuXHRcdFx0dGhpcy5feSA9IHRoaXMuX3kgKiBsO1xuXHRcdFx0dGhpcy5feiA9IHRoaXMuX3ogKiBsO1xuXHRcdFx0dGhpcy5fdyA9IHRoaXMuX3cgKiBsO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCBxLCBwICkge1xuXG5cdFx0aWYgKCBwICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHEsIHAgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHRoaXMsIHEgKTtcblxuXHR9XG5cblx0cHJlbXVsdGlwbHkoIHEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKCBxLCB0aGlzICk7XG5cblx0fVxuXG5cdG11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSB7XG5cblx0XHQvLyBmcm9tIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvY29kZS9pbmRleC5odG1cblxuXHRcdGNvbnN0IHFheCA9IGEuX3gsIHFheSA9IGEuX3ksIHFheiA9IGEuX3osIHFhdyA9IGEuX3c7XG5cdFx0Y29uc3QgcWJ4ID0gYi5feCwgcWJ5ID0gYi5feSwgcWJ6ID0gYi5feiwgcWJ3ID0gYi5fdztcblxuXHRcdHRoaXMuX3ggPSBxYXggKiBxYncgKyBxYXcgKiBxYnggKyBxYXkgKiBxYnogLSBxYXogKiBxYnk7XG5cdFx0dGhpcy5feSA9IHFheSAqIHFidyArIHFhdyAqIHFieSArIHFheiAqIHFieCAtIHFheCAqIHFiejtcblx0XHR0aGlzLl96ID0gcWF6ICogcWJ3ICsgcWF3ICogcWJ6ICsgcWF4ICogcWJ5IC0gcWF5ICogcWJ4O1xuXHRcdHRoaXMuX3cgPSBxYXcgKiBxYncgLSBxYXggKiBxYnggLSBxYXkgKiBxYnkgLSBxYXogKiBxYno7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2xlcnAoIHFiLCB0ICkge1xuXG5cdFx0aWYgKCB0ID09PSAwICkgcmV0dXJuIHRoaXM7XG5cdFx0aWYgKCB0ID09PSAxICkgcmV0dXJuIHRoaXMuY29weSggcWIgKTtcblxuXHRcdGNvbnN0IHggPSB0aGlzLl94LCB5ID0gdGhpcy5feSwgeiA9IHRoaXMuX3osIHcgPSB0aGlzLl93O1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9zbGVycC9cblxuXHRcdGxldCBjb3NIYWxmVGhldGEgPSB3ICogcWIuX3cgKyB4ICogcWIuX3ggKyB5ICogcWIuX3kgKyB6ICogcWIuX3o7XG5cblx0XHRpZiAoIGNvc0hhbGZUaGV0YSA8IDAgKSB7XG5cblx0XHRcdHRoaXMuX3cgPSAtIHFiLl93O1xuXHRcdFx0dGhpcy5feCA9IC0gcWIuX3g7XG5cdFx0XHR0aGlzLl95ID0gLSBxYi5feTtcblx0XHRcdHRoaXMuX3ogPSAtIHFiLl96O1xuXG5cdFx0XHRjb3NIYWxmVGhldGEgPSAtIGNvc0hhbGZUaGV0YTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRoaXMuY29weSggcWIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggY29zSGFsZlRoZXRhID49IDEuMCApIHtcblxuXHRcdFx0dGhpcy5fdyA9IHc7XG5cdFx0XHR0aGlzLl94ID0geDtcblx0XHRcdHRoaXMuX3kgPSB5O1xuXHRcdFx0dGhpcy5feiA9IHo7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3FyU2luSGFsZlRoZXRhID0gMS4wIC0gY29zSGFsZlRoZXRhICogY29zSGFsZlRoZXRhO1xuXG5cdFx0aWYgKCBzcXJTaW5IYWxmVGhldGEgPD0gTnVtYmVyLkVQU0lMT04gKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAxIC0gdDtcblx0XHRcdHRoaXMuX3cgPSBzICogdyArIHQgKiB0aGlzLl93O1xuXHRcdFx0dGhpcy5feCA9IHMgKiB4ICsgdCAqIHRoaXMuX3g7XG5cdFx0XHR0aGlzLl95ID0gcyAqIHkgKyB0ICogdGhpcy5feTtcblx0XHRcdHRoaXMuX3ogPSBzICogeiArIHQgKiB0aGlzLl96O1xuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHRcdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdH1cblxuXHRcdGNvbnN0IHNpbkhhbGZUaGV0YSA9IE1hdGguc3FydCggc3FyU2luSGFsZlRoZXRhICk7XG5cdFx0Y29uc3QgaGFsZlRoZXRhID0gTWF0aC5hdGFuMiggc2luSGFsZlRoZXRhLCBjb3NIYWxmVGhldGEgKTtcblx0XHRjb25zdCByYXRpb0EgPSBNYXRoLnNpbiggKCAxIC0gdCApICogaGFsZlRoZXRhICkgLyBzaW5IYWxmVGhldGEsXG5cdFx0XHRyYXRpb0IgPSBNYXRoLnNpbiggdCAqIGhhbGZUaGV0YSApIC8gc2luSGFsZlRoZXRhO1xuXG5cdFx0dGhpcy5fdyA9ICggdyAqIHJhdGlvQSArIHRoaXMuX3cgKiByYXRpb0IgKTtcblx0XHR0aGlzLl94ID0gKCB4ICogcmF0aW9BICsgdGhpcy5feCAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3kgPSAoIHkgKiByYXRpb0EgKyB0aGlzLl95ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feiA9ICggeiAqIHJhdGlvQSArIHRoaXMuX3ogKiByYXRpb0IgKTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKSB7XG5cblx0XHR0aGlzLmNvcHkoIHFhICkuc2xlcnAoIHFiLCB0ICk7XG5cblx0fVxuXG5cdGVxdWFscyggcXVhdGVybmlvbiApIHtcblxuXHRcdHJldHVybiAoIHF1YXRlcm5pb24uX3ggPT09IHRoaXMuX3ggKSAmJiAoIHF1YXRlcm5pb24uX3kgPT09IHRoaXMuX3kgKSAmJiAoIHF1YXRlcm5pb24uX3ogPT09IHRoaXMuX3ogKSAmJiAoIHF1YXRlcm5pb24uX3cgPT09IHRoaXMuX3cgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cdFx0dGhpcy5fdyA9IGFycmF5WyBvZmZzZXQgKyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX3c7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXggKSB7XG5cblx0XHR0aGlzLl94ID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy5feSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXHRcdHRoaXMuX3ogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblx0XHR0aGlzLl93ID0gYXR0cmlidXRlLmdldFcoIGluZGV4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlKCBjYWxsYmFjayApIHtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2VDYWxsYmFjaygpIHt9XG5cbn1cblxuUXVhdGVybmlvbi5wcm90b3R5cGUuaXNRdWF0ZXJuaW9uID0gdHJ1ZTtcblxuZXhwb3J0IHsgUXVhdGVybmlvbiB9O1xuIiwiaW1wb3J0ICogYXMgTWF0aFV0aWxzIGZyb20gJy4vTWF0aFV0aWxzLmpzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24uanMnO1xuXG5jbGFzcyBWZWN0b3IzIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSB6O1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHogKSB7XG5cblx0XHRpZiAoIHogPT09IHVuZGVmaW5lZCApIHogPSB0aGlzLno7IC8vIHNwcml0ZS5zY2FsZS5zZXQoeCx5KVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggPSBzY2FsYXI7XG5cdFx0dGhpcy55ID0gc2NhbGFyO1xuXHRcdHRoaXMueiA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRYKCB4ICkge1xuXG5cdFx0dGhpcy54ID0geDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRZKCB5ICkge1xuXG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRaKCB6ICkge1xuXG5cdFx0dGhpcy56ID0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb21wb25lbnQoIGluZGV4LCB2YWx1ZSApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHRoaXMueCA9IHZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgMTogdGhpcy55ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOiB0aGlzLnogPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldENvbXBvbmVudCggaW5kZXggKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy54O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gdGhpcy55O1xuXHRcdFx0Y2FzZSAyOiByZXR1cm4gdGhpcy56O1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMueCwgdGhpcy55LCB0aGlzLnogKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cdFx0dGhpcy56ID0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZCggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHYueDtcblx0XHR0aGlzLnkgKz0gdi55O1xuXHRcdHRoaXMueiArPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cdFx0dGhpcy56ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cdFx0dGhpcy56ID0gYS56ICsgYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxlZFZlY3RvciggdiwgcyApIHtcblxuXHRcdHRoaXMueCArPSB2LnggKiBzO1xuXHRcdHRoaXMueSArPSB2LnkgKiBzO1xuXHRcdHRoaXMueiArPSB2LnogKiBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54IC09IHYueDtcblx0XHR0aGlzLnkgLT0gdi55O1xuXHRcdHRoaXMueiAtPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cdFx0dGhpcy56IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cdFx0dGhpcy56ID0gYS56IC0gYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5KCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cdFx0dGhpcy56ICo9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ICo9IHNjYWxhcjtcblx0XHR0aGlzLnkgKj0gc2NhbGFyO1xuXHRcdHRoaXMueiAqPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICogYi54O1xuXHRcdHRoaXMueSA9IGEueSAqIGIueTtcblx0XHR0aGlzLnogPSBhLnogKiBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlFdWxlciggZXVsZXIgKSB7XG5cblx0XHRpZiAoICEgKCBldWxlciAmJiBldWxlci5pc0V1bGVyICkgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIGV1bGVyICkgKTtcblxuXHR9XG5cblx0YXBwbHlBeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKCBfcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApICk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgMyBdICogeSArIGVbIDYgXSAqIHo7XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF0gKiB6O1xuXHRcdHRoaXMueiA9IGVbIDIgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOCBdICogejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseU5vcm1hbE1hdHJpeCggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4MyggbSApLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDQoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgdyA9IDEgLyAoIGVbIDMgXSAqIHggKyBlWyA3IF0gKiB5ICsgZVsgMTEgXSAqIHogKyBlWyAxNSBdICk7XG5cblx0XHR0aGlzLnggPSAoIGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogeiArIGVbIDEyIF0gKSAqIHc7XG5cdFx0dGhpcy55ID0gKCBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHogKyBlWyAxMyBdICkgKiB3O1xuXHRcdHRoaXMueiA9ICggZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogeiArIGVbIDE0IF0gKSAqIHc7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlRdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBxeCA9IHEueCwgcXkgPSBxLnksIHF6ID0gcS56LCBxdyA9IHEudztcblxuXHRcdC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG5cblx0XHRjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcblx0XHRjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcblx0XHRjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcblx0XHRjb25zdCBpdyA9IC0gcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6O1xuXG5cdFx0Ly8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG5cdFx0dGhpcy54ID0gaXggKiBxdyArIGl3ICogLSBxeCArIGl5ICogLSBxeiAtIGl6ICogLSBxeTtcblx0XHR0aGlzLnkgPSBpeSAqIHF3ICsgaXcgKiAtIHF5ICsgaXogKiAtIHF4IC0gaXggKiAtIHF6O1xuXHRcdHRoaXMueiA9IGl6ICogcXcgKyBpdyAqIC0gcXogKyBpeCAqIC0gcXkgLSBpeSAqIC0gcXg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cHJvamVjdCggY2FtZXJhICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEucHJvamVjdGlvbk1hdHJpeCApO1xuXG5cdH1cblxuXHR1bnByb2plY3QoIGNhbWVyYSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4NCggY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlICkuYXBwbHlNYXRyaXg0KCBjYW1lcmEubWF0cml4V29ybGQgKTtcblxuXHR9XG5cblx0dHJhbnNmb3JtRGlyZWN0aW9uKCBtICkge1xuXG5cdFx0Ly8gaW5wdXQ6IFRIUkVFLk1hdHJpeDQgYWZmaW5lIG1hdHJpeFxuXHRcdC8vIHZlY3RvciBpbnRlcnByZXRlZCBhcyBhIGRpcmVjdGlvblxuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgOCBdICogejtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDkgXSAqIHo7XG5cdFx0dGhpcy56ID0gZVsgMiBdICogeCArIGVbIDYgXSAqIHkgKyBlWyAxMCBdICogejtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cdFx0dGhpcy56IC89IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGVTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKCAxIC8gc2NhbGFyICk7XG5cblx0fVxuXG5cdG1pbiggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWluKCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWluKCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWluKCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1heCggdiApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIHYueCApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIHYueSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCB0aGlzLnosIHYueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wKCBtaW4sIG1heCApIHtcblxuXHRcdC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluLngsIE1hdGgubWluKCBtYXgueCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluLnksIE1hdGgubWluKCBtYXgueSwgdGhpcy55ICkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggbWluLnosIE1hdGgubWluKCBtYXgueiwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcFNjYWxhciggbWluVmFsLCBtYXhWYWwgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueSApICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy56ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5mbG9vciggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLmNlaWwoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5yb3VuZCggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmRUb1plcm8oKSB7XG5cblx0XHR0aGlzLnggPSAoIHRoaXMueCA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSAoIHRoaXMueSA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSAoIHRoaXMueiA8IDAgKSA/IE1hdGguY2VpbCggdGhpcy56ICkgOiBNYXRoLmZsb29yKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRuZWdhdGUoKSB7XG5cblx0XHR0aGlzLnggPSAtIHRoaXMueDtcblx0XHR0aGlzLnkgPSAtIHRoaXMueTtcblx0XHR0aGlzLnogPSAtIHRoaXMuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56O1xuXG5cdH1cblxuXHQvLyBUT0RPIGxlbmd0aFNxdWFyZWQ/XG5cblx0bGVuZ3RoU3EoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKTtcblxuXHR9XG5cblx0bWFuaGF0dGFuTGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggKSArIE1hdGguYWJzKCB0aGlzLnkgKSArIE1hdGguYWJzKCB0aGlzLnogKTtcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTtcblxuXHR9XG5cblx0c2V0TGVuZ3RoKCBsZW5ndGggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhciggbGVuZ3RoICk7XG5cblx0fVxuXG5cdGxlcnAoIHYsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ICs9ICggdi54IC0gdGhpcy54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgKz0gKCB2LnkgLSB0aGlzLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiArPSAoIHYueiAtIHRoaXMueiApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXHRcdHRoaXMueiA9IHYxLnogKyAoIHYyLnogLSB2MS56ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjcm9zcyggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKCB0aGlzLCB2ICk7XG5cblx0fVxuXG5cdGNyb3NzVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGF4ID0gYS54LCBheSA9IGEueSwgYXogPSBhLno7XG5cdFx0Y29uc3QgYnggPSBiLngsIGJ5ID0gYi55LCBieiA9IGIuejtcblxuXHRcdHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5O1xuXHRcdHRoaXMueSA9IGF6ICogYnggLSBheCAqIGJ6O1xuXHRcdHRoaXMueiA9IGF4ICogYnkgLSBheSAqIGJ4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHByb2plY3RPblZlY3RvciggdiApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gdi5sZW5ndGhTcSgpO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCApO1xuXG5cdFx0Y29uc3Qgc2NhbGFyID0gdi5kb3QoIHRoaXMgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0cmV0dXJuIHRoaXMuY29weSggdiApLm11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKTtcblxuXHR9XG5cblx0cHJvamVjdE9uUGxhbmUoIHBsYW5lTm9ybWFsICkge1xuXG5cdFx0X3ZlY3Rvci5jb3B5KCB0aGlzICkucHJvamVjdE9uVmVjdG9yKCBwbGFuZU5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc3ViKCBfdmVjdG9yICk7XG5cblx0fVxuXG5cdHJlZmxlY3QoIG5vcm1hbCApIHtcblxuXHRcdC8vIHJlZmxlY3QgaW5jaWRlbnQgdmVjdG9yIG9mZiBwbGFuZSBvcnRob2dvbmFsIHRvIG5vcm1hbFxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLnN1YiggX3ZlY3Rvci5jb3B5KCBub3JtYWwgKS5tdWx0aXBseVNjYWxhciggMiAqIHRoaXMuZG90KCBub3JtYWwgKSApICk7XG5cblx0fVxuXG5cdGFuZ2xlVG8oIHYgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IE1hdGguc3FydCggdGhpcy5sZW5ndGhTcSgpICogdi5sZW5ndGhTcSgpICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkgcmV0dXJuIE1hdGguUEkgLyAyO1xuXG5cdFx0Y29uc3QgdGhldGEgPSB0aGlzLmRvdCggdiApIC8gZGVub21pbmF0b3I7XG5cblx0XHQvLyBjbGFtcCwgdG8gaGFuZGxlIG51bWVyaWNhbCBwcm9ibGVtc1xuXG5cdFx0cmV0dXJuIE1hdGguYWNvcyggTWF0aFV0aWxzLmNsYW1wKCB0aGV0YSwgLSAxLCAxICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueSwgZHogPSB0aGlzLnogLSB2Lno7XG5cblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xuXG5cdH1cblxuXHRtYW5oYXR0YW5EaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguYWJzKCB0aGlzLnggLSB2LnggKSArIE1hdGguYWJzKCB0aGlzLnkgLSB2LnkgKSArIE1hdGguYWJzKCB0aGlzLnogLSB2LnogKTtcblxuXHR9XG5cblx0c2V0RnJvbVNwaGVyaWNhbCggcyApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMoIHMucmFkaXVzLCBzLnBoaSwgcy50aGV0YSApO1xuXG5cdH1cblxuXHRzZXRGcm9tU3BoZXJpY2FsQ29vcmRzKCByYWRpdXMsIHBoaSwgdGhldGEgKSB7XG5cblx0XHRjb25zdCBzaW5QaGlSYWRpdXMgPSBNYXRoLnNpbiggcGhpICkgKiByYWRpdXM7XG5cblx0XHR0aGlzLnggPSBzaW5QaGlSYWRpdXMgKiBNYXRoLnNpbiggdGhldGEgKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNvcyggcGhpICkgKiByYWRpdXM7XG5cdFx0dGhpcy56ID0gc2luUGhpUmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUN5bGluZHJpY2FsKCBjICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKCBjLnJhZGl1cywgYy50aGV0YSwgYy55ICk7XG5cblx0fVxuXG5cdHNldEZyb21DeWxpbmRyaWNhbENvb3JkcyggcmFkaXVzLCB0aGV0YSwgeSApIHtcblxuXHRcdHRoaXMueCA9IHJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApO1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gcmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtICkge1xuXG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAxMiBdO1xuXHRcdHRoaXMueSA9IGVbIDEzIF07XG5cdFx0dGhpcy56ID0gZVsgMTQgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4U2NhbGUoIG0gKSB7XG5cblx0XHRjb25zdCBzeCA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMCApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN5ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRoaXMueCA9IHN4O1xuXHRcdHRoaXMueSA9IHN5O1xuXHRcdHRoaXMueiA9IHN6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDQgKTtcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeDNDb2x1bW4oIG0sIGluZGV4ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZnJvbUFycmF5KCBtLmVsZW1lbnRzLCBpbmRleCAqIDMgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCB2ICkge1xuXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSAmJiAoIHYueiA9PT0gdGhpcy56ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXHRcdHRoaXMueiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMueDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy55O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLno7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXgsIG9mZnNldCApIHtcblxuXHRcdGlmICggb2Zmc2V0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLnkgPSBhdHRyaWJ1dGUuZ2V0WSggaW5kZXggKTtcblx0XHR0aGlzLnogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyYW5kb20oKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJhbmRvbSgpO1xuXHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy56ID0gTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG5WZWN0b3IzLnByb3RvdHlwZS5pc1ZlY3RvcjMgPSB0cnVlO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5cbmV4cG9ydCB7IFZlY3RvcjMgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jbGFzcyBNYXRyaXg0IHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMuZWxlbWVudHMgPSBbXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4NDogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjE0LCBuMjEsIG4yMiwgbjIzLCBuMjQsIG4zMSwgbjMyLCBuMzMsIG4zNCwgbjQxLCBuNDIsIG40MywgbjQ0ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG4xMTsgdGVbIDQgXSA9IG4xMjsgdGVbIDggXSA9IG4xMzsgdGVbIDEyIF0gPSBuMTQ7XG5cdFx0dGVbIDEgXSA9IG4yMTsgdGVbIDUgXSA9IG4yMjsgdGVbIDkgXSA9IG4yMzsgdGVbIDEzIF0gPSBuMjQ7XG5cdFx0dGVbIDIgXSA9IG4zMTsgdGVbIDYgXSA9IG4zMjsgdGVbIDEwIF0gPSBuMzM7IHRlWyAxNCBdID0gbjM0O1xuXHRcdHRlWyAzIF0gPSBuNDE7IHRlWyA3IF0gPSBuNDI7IHRlWyAxMSBdID0gbjQzOyB0ZVsgMTUgXSA9IG40NDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpZGVudGl0eSgpIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCAwLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCwgMCxcblx0XHRcdDAsIDAsIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG5cdGNvcHkoIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSA9IG1lWyAwIF07IHRlWyAxIF0gPSBtZVsgMSBdOyB0ZVsgMiBdID0gbWVbIDIgXTsgdGVbIDMgXSA9IG1lWyAzIF07XG5cdFx0dGVbIDQgXSA9IG1lWyA0IF07IHRlWyA1IF0gPSBtZVsgNSBdOyB0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07XG5cdFx0dGVbIDggXSA9IG1lWyA4IF07IHRlWyA5IF0gPSBtZVsgOSBdOyB0ZVsgMTAgXSA9IG1lWyAxMCBdOyB0ZVsgMTEgXSA9IG1lWyAxMSBdO1xuXHRcdHRlWyAxMiBdID0gbWVbIDEyIF07IHRlWyAxMyBdID0gbWVbIDEzIF07IHRlWyAxNCBdID0gbWVbIDE0IF07IHRlWyAxNSBdID0gbWVbIDE1IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29weVBvc2l0aW9uKCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzLCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0ZVsgMTIgXSA9IG1lWyAxMiBdO1xuXHRcdHRlWyAxMyBdID0gbWVbIDEzIF07XG5cdFx0dGVbIDE0IF0gPSBtZVsgMTQgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4MyggbSApIHtcblxuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHRtZVsgMCBdLCBtZVsgMyBdLCBtZVsgNiBdLCAwLFxuXHRcdFx0bWVbIDEgXSwgbWVbIDQgXSwgbWVbIDcgXSwgMCxcblx0XHRcdG1lWyAyIF0sIG1lWyA1IF0sIG1lWyA4IF0sIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDAgKTtcblx0XHR5QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAxICk7XG5cdFx0ekF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHRoaXMuc2V0KFxuXHRcdFx0eEF4aXMueCwgeUF4aXMueCwgekF4aXMueCwgMCxcblx0XHRcdHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAsXG5cdFx0XHR4QXhpcy56LCB5QXhpcy56LCB6QXhpcy56LCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdFJvdGF0aW9uKCBtICkge1xuXG5cdFx0Ly8gdGhpcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCByZWZsZWN0aW9uIG1hdHJpY2VzXG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3Qgc2NhbGVYID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAwICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVZID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVaID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAyICkubGVuZ3RoKCk7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMSBdID0gbWVbIDEgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMiBdID0gbWVbIDIgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSBtZVsgNCBdICogc2NhbGVZO1xuXHRcdHRlWyA1IF0gPSBtZVsgNSBdICogc2NhbGVZO1xuXHRcdHRlWyA2IF0gPSBtZVsgNiBdICogc2NhbGVZO1xuXHRcdHRlWyA3IF0gPSAwO1xuXG5cdFx0dGVbIDggXSA9IG1lWyA4IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDkgXSA9IG1lWyA5IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDEwIF0gPSBtZVsgMTAgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbUV1bGVyKCBldWxlciApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLngsIHkgPSBldWxlci55LCB6ID0gZXVsZXIuejtcblx0XHRjb25zdCBhID0gTWF0aC5jb3MoIHggKSwgYiA9IE1hdGguc2luKCB4ICk7XG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB5ICksIGQgPSBNYXRoLnNpbiggeSApO1xuXHRcdGNvbnN0IGUgPSBNYXRoLmNvcyggeiApLCBmID0gTWF0aC5zaW4oIHogKTtcblxuXHRcdGlmICggZXVsZXIub3JkZXIgPT09ICdYWVonICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBjICogZjtcblx0XHRcdHRlWyA4IF0gPSBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWYgKyBiZSAqIGQ7XG5cdFx0XHR0ZVsgNSBdID0gYWUgLSBiZiAqIGQ7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogYztcblxuXHRcdFx0dGVbIDIgXSA9IGJmIC0gYWUgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGJlICsgYWYgKiBkO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWVhaJyApIHtcblxuXHRcdFx0Y29uc3QgY2UgPSBjICogZSwgY2YgPSBjICogZiwgZGUgPSBkICogZSwgZGYgPSBkICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGNlICsgZGYgKiBiO1xuXHRcdFx0dGVbIDQgXSA9IGRlICogYiAtIGNmO1xuXHRcdFx0dGVbIDggXSA9IGEgKiBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYSAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gY2YgKiBiIC0gZGU7XG5cdFx0XHR0ZVsgNiBdID0gZGYgKyBjZSAqIGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWFknICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgLSBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gLSBhICogZjtcblx0XHRcdHRlWyA4IF0gPSBkZSArIGNmICogYjtcblxuXHRcdFx0dGVbIDEgXSA9IGNmICsgZGUgKiBiO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGRmIC0gY2UgKiBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gLSBhICogZDtcblx0XHRcdHRlWyA2IF0gPSBiO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWllYJyApIHtcblxuXHRcdFx0Y29uc3QgYWUgPSBhICogZSwgYWYgPSBhICogZiwgYmUgPSBiICogZSwgYmYgPSBiICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IGJlICogZCAtIGFmO1xuXHRcdFx0dGVbIDggXSA9IGFlICogZCArIGJmO1xuXG5cdFx0XHR0ZVsgMSBdID0gYyAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYmYgKiBkICsgYWU7XG5cdFx0XHR0ZVsgOSBdID0gYWYgKiBkIC0gYmU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGM7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWlgnICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmQgLSBhYyAqIGY7XG5cdFx0XHR0ZVsgOCBdID0gYmMgKiBmICsgYWQ7XG5cblx0XHRcdHRlWyAxIF0gPSBmO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IC0gYiAqIGU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQgKiBlO1xuXHRcdFx0dGVbIDYgXSA9IGFkICogZiArIGJjO1xuXHRcdFx0dGVbIDEwIF0gPSBhYyAtIGJkICogZjtcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWFpZJyApIHtcblxuXHRcdFx0Y29uc3QgYWMgPSBhICogYywgYWQgPSBhICogZCwgYmMgPSBiICogYywgYmQgPSBiICogZDtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IC0gZjtcblx0XHRcdHRlWyA4IF0gPSBkICogZTtcblxuXHRcdFx0dGVbIDEgXSA9IGFjICogZiArIGJkO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGFkICogZiAtIGJjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmMgKiBmIC0gYWQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGU7XG5cdFx0XHR0ZVsgMTAgXSA9IGJkICogZiArIGFjO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYm90dG9tIHJvd1xuXHRcdHRlWyAzIF0gPSAwO1xuXHRcdHRlWyA3IF0gPSAwO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdC8vIGxhc3QgY29sdW1uXG5cdFx0dGVbIDEyIF0gPSAwO1xuXHRcdHRlWyAxMyBdID0gMDtcblx0XHR0ZVsgMTQgXSA9IDA7XG5cdFx0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9zZSggX3plcm8sIHEsIF9vbmUgKTtcblxuXHR9XG5cblx0bG9va0F0KCBleWUsIHRhcmdldCwgdXAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRfei5zdWJWZWN0b3JzKCBleWUsIHRhcmdldCApO1xuXG5cdFx0aWYgKCBfei5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb25cblxuXHRcdFx0X3oueiA9IDE7XG5cblx0XHR9XG5cblx0XHRfei5ub3JtYWxpemUoKTtcblx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0aWYgKCBfeC5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyB1cCBhbmQgeiBhcmUgcGFyYWxsZWxcblxuXHRcdFx0aWYgKCBNYXRoLmFicyggdXAueiApID09PSAxICkge1xuXG5cdFx0XHRcdF96LnggKz0gMC4wMDAxO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdF96LnogKz0gMC4wMDAxO1xuXG5cdFx0XHR9XG5cblx0XHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdFx0X3guY3Jvc3NWZWN0b3JzKCB1cCwgX3ogKTtcblxuXHRcdH1cblxuXHRcdF94Lm5vcm1hbGl6ZSgpO1xuXHRcdF95LmNyb3NzVmVjdG9ycyggX3osIF94ICk7XG5cblx0XHR0ZVsgMCBdID0gX3gueDsgdGVbIDQgXSA9IF95Lng7IHRlWyA4IF0gPSBfei54O1xuXHRcdHRlWyAxIF0gPSBfeC55OyB0ZVsgNSBdID0gX3kueTsgdGVbIDkgXSA9IF96Lnk7XG5cdFx0dGVbIDIgXSA9IF94Lno7IHRlWyA2IF0gPSBfeS56OyB0ZVsgMTAgXSA9IF96Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0sIG4gKSB7XG5cblx0XHRpZiAoIG4gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgbiApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggdGhpcywgbSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoIG0sIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGFlID0gYS5lbGVtZW50cztcblx0XHRjb25zdCBiZSA9IGIuZWxlbWVudHM7XG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gYWVbIDAgXSwgYTEyID0gYWVbIDQgXSwgYTEzID0gYWVbIDggXSwgYTE0ID0gYWVbIDEyIF07XG5cdFx0Y29uc3QgYTIxID0gYWVbIDEgXSwgYTIyID0gYWVbIDUgXSwgYTIzID0gYWVbIDkgXSwgYTI0ID0gYWVbIDEzIF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDYgXSwgYTMzID0gYWVbIDEwIF0sIGEzNCA9IGFlWyAxNCBdO1xuXHRcdGNvbnN0IGE0MSA9IGFlWyAzIF0sIGE0MiA9IGFlWyA3IF0sIGE0MyA9IGFlWyAxMSBdLCBhNDQgPSBhZVsgMTUgXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyA0IF0sIGIxMyA9IGJlWyA4IF0sIGIxNCA9IGJlWyAxMiBdO1xuXHRcdGNvbnN0IGIyMSA9IGJlWyAxIF0sIGIyMiA9IGJlWyA1IF0sIGIyMyA9IGJlWyA5IF0sIGIyNCA9IGJlWyAxMyBdO1xuXHRcdGNvbnN0IGIzMSA9IGJlWyAyIF0sIGIzMiA9IGJlWyA2IF0sIGIzMyA9IGJlWyAxMCBdLCBiMzQgPSBiZVsgMTQgXTtcblx0XHRjb25zdCBiNDEgPSBiZVsgMyBdLCBiNDIgPSBiZVsgNyBdLCBiNDMgPSBiZVsgMTEgXSwgYjQ0ID0gYmVbIDE1IF07XG5cblx0XHR0ZVsgMCBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxICsgYTE0ICogYjQxO1xuXHRcdHRlWyA0IF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDI7XG5cdFx0dGVbIDggXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMyArIGExNCAqIGI0Mztcblx0XHR0ZVsgMTIgXSA9IGExMSAqIGIxNCArIGExMiAqIGIyNCArIGExMyAqIGIzNCArIGExNCAqIGI0NDtcblxuXHRcdHRlWyAxIF0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzEgKyBhMjQgKiBiNDE7XG5cdFx0dGVbIDUgXSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMiArIGEyNCAqIGI0Mjtcblx0XHR0ZVsgOSBdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzO1xuXHRcdHRlWyAxMyBdID0gYTIxICogYjE0ICsgYTIyICogYjI0ICsgYTIzICogYjM0ICsgYTI0ICogYjQ0O1xuXG5cdFx0dGVbIDIgXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MTtcblx0XHR0ZVsgNiBdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyICsgYTM0ICogYjQyO1xuXHRcdHRlWyAxMCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzICsgYTM0ICogYjQzO1xuXHRcdHRlWyAxNCBdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0O1xuXG5cdFx0dGVbIDMgXSA9IGE0MSAqIGIxMSArIGE0MiAqIGIyMSArIGE0MyAqIGIzMSArIGE0NCAqIGI0MTtcblx0XHR0ZVsgNyBdID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyO1xuXHRcdHRlWyAxMSBdID0gYTQxICogYjEzICsgYTQyICogYjIzICsgYTQzICogYjMzICsgYTQ0ICogYjQzO1xuXHRcdHRlWyAxNSBdID0gYTQxICogYjE0ICsgYTQyICogYjI0ICsgYTQzICogYjM0ICsgYTQ0ICogYjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgNCBdICo9IHM7IHRlWyA4IF0gKj0gczsgdGVbIDEyIF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA1IF0gKj0gczsgdGVbIDkgXSAqPSBzOyB0ZVsgMTMgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDYgXSAqPSBzOyB0ZVsgMTAgXSAqPSBzOyB0ZVsgMTQgXSAqPSBzO1xuXHRcdHRlWyAzIF0gKj0gczsgdGVbIDcgXSAqPSBzOyB0ZVsgMTEgXSAqPSBzOyB0ZVsgMTUgXSAqPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRldGVybWluYW50KCkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgbjExID0gdGVbIDAgXSwgbjEyID0gdGVbIDQgXSwgbjEzID0gdGVbIDggXSwgbjE0ID0gdGVbIDEyIF07XG5cdFx0Y29uc3QgbjIxID0gdGVbIDEgXSwgbjIyID0gdGVbIDUgXSwgbjIzID0gdGVbIDkgXSwgbjI0ID0gdGVbIDEzIF07XG5cdFx0Y29uc3QgbjMxID0gdGVbIDIgXSwgbjMyID0gdGVbIDYgXSwgbjMzID0gdGVbIDEwIF0sIG4zNCA9IHRlWyAxNCBdO1xuXHRcdGNvbnN0IG40MSA9IHRlWyAzIF0sIG40MiA9IHRlWyA3IF0sIG40MyA9IHRlWyAxMSBdLCBuNDQgPSB0ZVsgMTUgXTtcblxuXHRcdC8vVE9ETzogbWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50XG5cdFx0Ly8oIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bSApXG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0bjQxICogKFxuXHRcdFx0XHQrIG4xNCAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgLSBuMTMgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjE0ICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMiAqIG4yNCAqIG4zM1xuXHRcdFx0XHQgKyBuMTMgKiBuMjIgKiBuMzRcblx0XHRcdFx0IC0gbjEyICogbjIzICogbjM0XG5cdFx0XHQpICtcblx0XHRcdG40MiAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjMgKiBuMzRcblx0XHRcdFx0IC0gbjExICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xNCAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgLSBuMTMgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjEzICogbjI0ICogbjMxXG5cdFx0XHRcdCAtIG4xNCAqIG4yMyAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDMgKiAoXG5cdFx0XHRcdCsgbjExICogbjI0ICogbjMyXG5cdFx0XHRcdCAtIG4xMSAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTQgKiBuMjEgKiBuMzJcblx0XHRcdFx0ICsgbjEyICogbjIxICogbjM0XG5cdFx0XHRcdCArIG4xNCAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTIgKiBuMjQgKiBuMzFcblx0XHRcdCkgK1xuXHRcdFx0bjQ0ICogKFxuXHRcdFx0XHQtIG4xMyAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTEgKiBuMjMgKiBuMzJcblx0XHRcdFx0ICsgbjExICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgLSBuMTIgKiBuMjEgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjIzICogbjMxXG5cdFx0XHQpXG5cblx0XHQpO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0bGV0IHRtcDtcblxuXHRcdHRtcCA9IHRlWyAxIF07IHRlWyAxIF0gPSB0ZVsgNCBdOyB0ZVsgNCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAyIF07IHRlWyAyIF0gPSB0ZVsgOCBdOyB0ZVsgOCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA2IF07IHRlWyA2IF0gPSB0ZVsgOSBdOyB0ZVsgOSBdID0gdG1wO1xuXG5cdFx0dG1wID0gdGVbIDMgXTsgdGVbIDMgXSA9IHRlWyAxMiBdOyB0ZVsgMTIgXSA9IHRtcDtcblx0XHR0bXAgPSB0ZVsgNyBdOyB0ZVsgNyBdID0gdGVbIDEzIF07IHRlWyAxMyBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAxMSBdOyB0ZVsgMTEgXSA9IHRlWyAxNCBdOyB0ZVsgMTQgXSA9IHRtcDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRQb3NpdGlvbiggeCwgeSwgeiApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGlmICggeC5pc1ZlY3RvcjMgKSB7XG5cblx0XHRcdHRlWyAxMiBdID0geC54O1xuXHRcdFx0dGVbIDEzIF0gPSB4Lnk7XG5cdFx0XHR0ZVsgMTQgXSA9IHguejtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRlWyAxMiBdID0geDtcblx0XHRcdHRlWyAxMyBdID0geTtcblx0XHRcdHRlWyAxNCBdID0gejtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHQvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG1cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sIG40MSA9IHRlWyAzIF0sXG5cdFx0XHRuMTIgPSB0ZVsgNCBdLCBuMjIgPSB0ZVsgNSBdLCBuMzIgPSB0ZVsgNiBdLCBuNDIgPSB0ZVsgNyBdLFxuXHRcdFx0bjEzID0gdGVbIDggXSwgbjIzID0gdGVbIDkgXSwgbjMzID0gdGVbIDEwIF0sIG40MyA9IHRlWyAxMSBdLFxuXHRcdFx0bjE0ID0gdGVbIDEyIF0sIG4yNCA9IHRlWyAxMyBdLCBuMzQgPSB0ZVsgMTQgXSwgbjQ0ID0gdGVbIDE1IF0sXG5cblx0XHRcdHQxMSA9IG4yMyAqIG4zNCAqIG40MiAtIG4yNCAqIG4zMyAqIG40MiArIG4yNCAqIG4zMiAqIG40MyAtIG4yMiAqIG4zNCAqIG40MyAtIG4yMyAqIG4zMiAqIG40NCArIG4yMiAqIG4zMyAqIG40NCxcblx0XHRcdHQxMiA9IG4xNCAqIG4zMyAqIG40MiAtIG4xMyAqIG4zNCAqIG40MiAtIG4xNCAqIG4zMiAqIG40MyArIG4xMiAqIG4zNCAqIG40MyArIG4xMyAqIG4zMiAqIG40NCAtIG4xMiAqIG4zMyAqIG40NCxcblx0XHRcdHQxMyA9IG4xMyAqIG4yNCAqIG40MiAtIG4xNCAqIG4yMyAqIG40MiArIG4xNCAqIG4yMiAqIG40MyAtIG4xMiAqIG4yNCAqIG40MyAtIG4xMyAqIG4yMiAqIG40NCArIG4xMiAqIG4yMyAqIG40NCxcblx0XHRcdHQxNCA9IG4xNCAqIG4yMyAqIG4zMiAtIG4xMyAqIG4yNCAqIG4zMiAtIG4xNCAqIG4yMiAqIG4zMyArIG4xMiAqIG4yNCAqIG4zMyArIG4xMyAqIG4yMiAqIG4zNCAtIG4xMiAqIG4yMyAqIG4zNDtcblxuXHRcdGNvbnN0IGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMyArIG40MSAqIHQxNDtcblxuXHRcdGlmICggZGV0ID09PSAwICkgcmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwICk7XG5cblx0XHRjb25zdCBkZXRJbnYgPSAxIC8gZGV0O1xuXG5cdFx0dGVbIDAgXSA9IHQxMSAqIGRldEludjtcblx0XHR0ZVsgMSBdID0gKCBuMjQgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzEgKiBuNDMgKyBuMjEgKiBuMzQgKiBuNDMgKyBuMjMgKiBuMzEgKiBuNDQgLSBuMjEgKiBuMzMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMiBdID0gKCBuMjIgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzIgKiBuNDEgKyBuMjQgKiBuMzEgKiBuNDIgLSBuMjEgKiBuMzQgKiBuNDIgLSBuMjIgKiBuMzEgKiBuNDQgKyBuMjEgKiBuMzIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMyBdID0gKCBuMjMgKiBuMzIgKiBuNDEgLSBuMjIgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzEgKiBuNDIgKyBuMjEgKiBuMzMgKiBuNDIgKyBuMjIgKiBuMzEgKiBuNDMgLSBuMjEgKiBuMzIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyA0IF0gPSB0MTIgKiBkZXRJbnY7XG5cdFx0dGVbIDUgXSA9ICggbjEzICogbjM0ICogbjQxIC0gbjE0ICogbjMzICogbjQxICsgbjE0ICogbjMxICogbjQzIC0gbjExICogbjM0ICogbjQzIC0gbjEzICogbjMxICogbjQ0ICsgbjExICogbjMzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDYgXSA9ICggbjE0ICogbjMyICogbjQxIC0gbjEyICogbjM0ICogbjQxIC0gbjE0ICogbjMxICogbjQyICsgbjExICogbjM0ICogbjQyICsgbjEyICogbjMxICogbjQ0IC0gbjExICogbjMyICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDcgXSA9ICggbjEyICogbjMzICogbjQxIC0gbjEzICogbjMyICogbjQxICsgbjEzICogbjMxICogbjQyIC0gbjExICogbjMzICogbjQyIC0gbjEyICogbjMxICogbjQzICsgbjExICogbjMyICogbjQzICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgOCBdID0gdDEzICogZGV0SW52O1xuXHRcdHRlWyA5IF0gPSAoIG4xNCAqIG4yMyAqIG40MSAtIG4xMyAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMSAqIG40MyArIG4xMSAqIG4yNCAqIG40MyArIG4xMyAqIG4yMSAqIG40NCAtIG4xMSAqIG4yMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAxMCBdID0gKCBuMTIgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjIgKiBuNDEgKyBuMTQgKiBuMjEgKiBuNDIgLSBuMTEgKiBuMjQgKiBuNDIgLSBuMTIgKiBuMjEgKiBuNDQgKyBuMTEgKiBuMjIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgMTEgXSA9ICggbjEzICogbjIyICogbjQxIC0gbjEyICogbjIzICogbjQxIC0gbjEzICogbjIxICogbjQyICsgbjExICogbjIzICogbjQyICsgbjEyICogbjIxICogbjQzIC0gbjExICogbjIyICogbjQzICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMTIgXSA9IHQxNCAqIGRldEludjtcblx0XHR0ZVsgMTMgXSA9ICggbjEzICogbjI0ICogbjMxIC0gbjE0ICogbjIzICogbjMxICsgbjE0ICogbjIxICogbjMzIC0gbjExICogbjI0ICogbjMzIC0gbjEzICogbjIxICogbjM0ICsgbjExICogbjIzICogbjM0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDE0IF0gPSAoIG4xNCAqIG4yMiAqIG4zMSAtIG4xMiAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMSAqIG4zMiArIG4xMSAqIG4yNCAqIG4zMiArIG4xMiAqIG4yMSAqIG4zNCAtIG4xMSAqIG4yMiAqIG4zNCApICogZGV0SW52O1xuXHRcdHRlWyAxNSBdID0gKCBuMTIgKiBuMjMgKiBuMzEgLSBuMTMgKiBuMjIgKiBuMzEgKyBuMTMgKiBuMjEgKiBuMzIgLSBuMTEgKiBuMjMgKiBuMzIgLSBuMTIgKiBuMjEgKiBuMzMgKyBuMTEgKiBuMjIgKiBuMzMgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggdiApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56O1xuXG5cdFx0dGVbIDAgXSAqPSB4OyB0ZVsgNCBdICo9IHk7IHRlWyA4IF0gKj0gejtcblx0XHR0ZVsgMSBdICo9IHg7IHRlWyA1IF0gKj0geTsgdGVbIDkgXSAqPSB6O1xuXHRcdHRlWyAyIF0gKj0geDsgdGVbIDYgXSAqPSB5OyB0ZVsgMTAgXSAqPSB6O1xuXHRcdHRlWyAzIF0gKj0geDsgdGVbIDcgXSAqPSB5OyB0ZVsgMTEgXSAqPSB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldE1heFNjYWxlT25BeGlzKCkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3Qgc2NhbGVYU3EgPSB0ZVsgMCBdICogdGVbIDAgXSArIHRlWyAxIF0gKiB0ZVsgMSBdICsgdGVbIDIgXSAqIHRlWyAyIF07XG5cdFx0Y29uc3Qgc2NhbGVZU3EgPSB0ZVsgNCBdICogdGVbIDQgXSArIHRlWyA1IF0gKiB0ZVsgNSBdICsgdGVbIDYgXSAqIHRlWyA2IF07XG5cdFx0Y29uc3Qgc2NhbGVaU3EgPSB0ZVsgOCBdICogdGVbIDggXSArIHRlWyA5IF0gKiB0ZVsgOSBdICsgdGVbIDEwIF0gKiB0ZVsgMTAgXTtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIE1hdGgubWF4KCBzY2FsZVhTcSwgc2NhbGVZU3EsIHNjYWxlWlNxICkgKTtcblxuXHR9XG5cblx0bWFrZVRyYW5zbGF0aW9uKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIHgsXG5cdFx0XHQwLCAxLCAwLCB5LFxuXHRcdFx0MCwgMCwgMSwgeixcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWCggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCAwLCAwLCAwLFxuXHRcdFx0MCwgYywgLSBzLCAwLFxuXHRcdFx0MCwgcywgYywgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQgYywgMCwgcywgMCxcblx0XHRcdCAwLCAxLCAwLCAwLFxuXHRcdFx0LSBzLCAwLCBjLCAwLFxuXHRcdFx0IDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uWiggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICksIHMgPSBNYXRoLnNpbiggdGhldGEgKTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHRjLCAtIHMsIDAsIDAsXG5cdFx0XHRzLCBjLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uQXhpcyggYXhpcywgYW5nbGUgKSB7XG5cblx0XHQvLyBCYXNlZCBvbiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3JlZmVyZW5jZS9hcnRpY2xlcy9hcnRpY2xlMTE5OS5hc3BcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggYW5nbGUgKTtcblx0XHRjb25zdCBzID0gTWF0aC5zaW4oIGFuZ2xlICk7XG5cdFx0Y29uc3QgdCA9IDEgLSBjO1xuXHRcdGNvbnN0IHggPSBheGlzLngsIHkgPSBheGlzLnksIHogPSBheGlzLno7XG5cdFx0Y29uc3QgdHggPSB0ICogeCwgdHkgPSB0ICogeTtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHR0eCAqIHggKyBjLCB0eCAqIHkgLSBzICogeiwgdHggKiB6ICsgcyAqIHksIDAsXG5cdFx0XHR0eCAqIHkgKyBzICogeiwgdHkgKiB5ICsgYywgdHkgKiB6IC0gcyAqIHgsIDAsXG5cdFx0XHR0eCAqIHogLSBzICogeSwgdHkgKiB6ICsgcyAqIHgsIHQgKiB6ICogeiArIGMsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VTY2FsZSggeCwgeSwgeiApIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHR4LCAwLCAwLCAwLFxuXHRcdFx0MCwgeSwgMCwgMCxcblx0XHRcdDAsIDAsIHosIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VTaGVhciggeHksIHh6LCB5eCwgeXosIHp4LCB6eSApIHtcblxuXHRcdHRoaXMuc2V0KFxuXG5cdFx0XHQxLCB5eCwgengsIDAsXG5cdFx0XHR4eSwgMSwgenksIDAsXG5cdFx0XHR4eiwgeXosIDEsIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbXBvc2UoIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGNvbnN0IHggPSBxdWF0ZXJuaW9uLl94LCB5ID0gcXVhdGVybmlvbi5feSwgeiA9IHF1YXRlcm5pb24uX3osIHcgPSBxdWF0ZXJuaW9uLl93O1xuXHRcdGNvbnN0IHgyID0geCArIHgsXHR5MiA9IHkgKyB5LCB6MiA9IHogKyB6O1xuXHRcdGNvbnN0IHh4ID0geCAqIHgyLCB4eSA9IHggKiB5MiwgeHogPSB4ICogejI7XG5cdFx0Y29uc3QgeXkgPSB5ICogeTIsIHl6ID0geSAqIHoyLCB6eiA9IHogKiB6Mjtcblx0XHRjb25zdCB3eCA9IHcgKiB4Miwgd3kgPSB3ICogeTIsIHd6ID0gdyAqIHoyO1xuXG5cdFx0Y29uc3Qgc3ggPSBzY2FsZS54LCBzeSA9IHNjYWxlLnksIHN6ID0gc2NhbGUuejtcblxuXHRcdHRlWyAwIF0gPSAoIDEgLSAoIHl5ICsgenogKSApICogc3g7XG5cdFx0dGVbIDEgXSA9ICggeHkgKyB3eiApICogc3g7XG5cdFx0dGVbIDIgXSA9ICggeHogLSB3eSApICogc3g7XG5cdFx0dGVbIDMgXSA9IDA7XG5cblx0XHR0ZVsgNCBdID0gKCB4eSAtIHd6ICkgKiBzeTtcblx0XHR0ZVsgNSBdID0gKCAxIC0gKCB4eCArIHp6ICkgKSAqIHN5O1xuXHRcdHRlWyA2IF0gPSAoIHl6ICsgd3ggKSAqIHN5O1xuXHRcdHRlWyA3IF0gPSAwO1xuXG5cdFx0dGVbIDggXSA9ICggeHogKyB3eSApICogc3o7XG5cdFx0dGVbIDkgXSA9ICggeXogLSB3eCApICogc3o7XG5cdFx0dGVbIDEwIF0gPSAoIDEgLSAoIHh4ICsgeXkgKSApICogc3o7XG5cdFx0dGVbIDExIF0gPSAwO1xuXG5cdFx0dGVbIDEyIF0gPSBwb3NpdGlvbi54O1xuXHRcdHRlWyAxMyBdID0gcG9zaXRpb24ueTtcblx0XHR0ZVsgMTQgXSA9IHBvc2l0aW9uLno7XG5cdFx0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRlY29tcG9zZSggcG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0bGV0IHN4ID0gX3YxLnNldCggdGVbIDAgXSwgdGVbIDEgXSwgdGVbIDIgXSApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN5ID0gX3YxLnNldCggdGVbIDQgXSwgdGVbIDUgXSwgdGVbIDYgXSApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN6ID0gX3YxLnNldCggdGVbIDggXSwgdGVbIDkgXSwgdGVbIDEwIF0gKS5sZW5ndGgoKTtcblxuXHRcdC8vIGlmIGRldGVybWluZSBpcyBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbnZlcnQgb25lIHNjYWxlXG5cdFx0Y29uc3QgZGV0ID0gdGhpcy5kZXRlcm1pbmFudCgpO1xuXHRcdGlmICggZGV0IDwgMCApIHN4ID0gLSBzeDtcblxuXHRcdHBvc2l0aW9uLnggPSB0ZVsgMTIgXTtcblx0XHRwb3NpdGlvbi55ID0gdGVbIDEzIF07XG5cdFx0cG9zaXRpb24ueiA9IHRlWyAxNCBdO1xuXG5cdFx0Ly8gc2NhbGUgdGhlIHJvdGF0aW9uIHBhcnRcblx0XHRfbTEuY29weSggdGhpcyApO1xuXG5cdFx0Y29uc3QgaW52U1ggPSAxIC8gc3g7XG5cdFx0Y29uc3QgaW52U1kgPSAxIC8gc3k7XG5cdFx0Y29uc3QgaW52U1ogPSAxIC8gc3o7XG5cblx0XHRfbTEuZWxlbWVudHNbIDAgXSAqPSBpbnZTWDtcblx0XHRfbTEuZWxlbWVudHNbIDEgXSAqPSBpbnZTWDtcblx0XHRfbTEuZWxlbWVudHNbIDIgXSAqPSBpbnZTWDtcblxuXHRcdF9tMS5lbGVtZW50c1sgNCBdICo9IGludlNZO1xuXHRcdF9tMS5lbGVtZW50c1sgNSBdICo9IGludlNZO1xuXHRcdF9tMS5lbGVtZW50c1sgNiBdICo9IGludlNZO1xuXG5cdFx0X20xLmVsZW1lbnRzWyA4IF0gKj0gaW52U1o7XG5cdFx0X20xLmVsZW1lbnRzWyA5IF0gKj0gaW52U1o7XG5cdFx0X20xLmVsZW1lbnRzWyAxMCBdICo9IGludlNaO1xuXG5cdFx0cXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoIF9tMSApO1xuXG5cdFx0c2NhbGUueCA9IHN4O1xuXHRcdHNjYWxlLnkgPSBzeTtcblx0XHRzY2FsZS56ID0gc3o7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVBlcnNwZWN0aXZlKCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIG5lYXIsIGZhciApIHtcblxuXHRcdGlmICggZmFyID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUGVyc3BlY3RpdmUoKSBoYXMgYmVlbiByZWRlZmluZWQgYW5kIGhhcyBhIG5ldyBzaWduYXR1cmUuIFBsZWFzZSBjaGVjayB0aGUgZG9jcy4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgeCA9IDIgKiBuZWFyIC8gKCByaWdodCAtIGxlZnQgKTtcblx0XHRjb25zdCB5ID0gMiAqIG5lYXIgLyAoIHRvcCAtIGJvdHRvbSApO1xuXG5cdFx0Y29uc3QgYSA9ICggcmlnaHQgKyBsZWZ0ICkgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IGIgPSAoIHRvcCArIGJvdHRvbSApIC8gKCB0b3AgLSBib3R0b20gKTtcblx0XHRjb25zdCBjID0gLSAoIGZhciArIG5lYXIgKSAvICggZmFyIC0gbmVhciApO1xuXHRcdGNvbnN0IGQgPSAtIDIgKiBmYXIgKiBuZWFyIC8gKCBmYXIgLSBuZWFyICk7XG5cblx0XHR0ZVsgMCBdID0geDtcdHRlWyA0IF0gPSAwO1x0dGVbIDggXSA9IGE7XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEgXSA9IDA7XHR0ZVsgNSBdID0geTtcdHRlWyA5IF0gPSBiO1x0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAyIF0gPSAwO1x0dGVbIDYgXSA9IDA7XHR0ZVsgMTAgXSA9IGM7XHR0ZVsgMTQgXSA9IGQ7XG5cdFx0dGVbIDMgXSA9IDA7XHR0ZVsgNyBdID0gMDtcdHRlWyAxMSBdID0gLSAxO1x0dGVbIDE1IF0gPSAwO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VPcnRob2dyYXBoaWMoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHcgPSAxLjAgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IGggPSAxLjAgLyAoIHRvcCAtIGJvdHRvbSApO1xuXHRcdGNvbnN0IHAgPSAxLjAgLyAoIGZhciAtIG5lYXIgKTtcblxuXHRcdGNvbnN0IHggPSAoIHJpZ2h0ICsgbGVmdCApICogdztcblx0XHRjb25zdCB5ID0gKCB0b3AgKyBib3R0b20gKSAqIGg7XG5cdFx0Y29uc3QgeiA9ICggZmFyICsgbmVhciApICogcDtcblxuXHRcdHRlWyAwIF0gPSAyICogdztcdHRlWyA0IF0gPSAwO1x0dGVbIDggXSA9IDA7XHR0ZVsgMTIgXSA9IC0geDtcblx0XHR0ZVsgMSBdID0gMDtcdHRlWyA1IF0gPSAyICogaDtcdHRlWyA5IF0gPSAwO1x0dGVbIDEzIF0gPSAtIHk7XG5cdFx0dGVbIDIgXSA9IDA7XHR0ZVsgNiBdID0gMDtcdHRlWyAxMCBdID0gLSAyICogcDtcdHRlWyAxNCBdID0gLSB6O1xuXHRcdHRlWyAzIF0gPSAwO1x0dGVbIDcgXSA9IDA7XHR0ZVsgMTEgXSA9IDA7XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBtYXRyaXggKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtYXRyaXguZWxlbWVudHM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxNjsgaSArKyApIHtcblxuXHRcdFx0aWYgKCB0ZVsgaSBdICE9PSBtZVsgaSBdICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAxNjsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGVbIDMgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA2IF0gPSB0ZVsgNiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA3IF0gPSB0ZVsgNyBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDkgXSA9IHRlWyA5IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDEwIF0gPSB0ZVsgMTAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTEgXSA9IHRlWyAxMSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDEyIF0gPSB0ZVsgMTIgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTMgXSA9IHRlWyAxMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxNCBdID0gdGVbIDE0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDE1IF0gPSB0ZVsgMTUgXTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cbn1cblxuTWF0cml4NC5wcm90b3R5cGUuaXNNYXRyaXg0ID0gdHJ1ZTtcblxuY29uc3QgX3YxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX20xID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4NCgpO1xuY29uc3QgX3plcm8gPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCAwLCAwLCAwICk7XG5jb25zdCBfb25lID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMyggMSwgMSwgMSApO1xuY29uc3QgX3ggPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfeSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF96ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5leHBvcnQgeyBNYXRyaXg0IH07XG4iLCJpbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uLmpzJztcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gJy4vTWF0cml4NC5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX21hdHJpeCA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IF9xdWF0ZXJuaW9uID0gLypAX19QVVJFX18qLyBuZXcgUXVhdGVybmlvbigpO1xuXG5jbGFzcyBFdWxlciB7XG5cblx0Y29uc3RydWN0b3IoIHggPSAwLCB5ID0gMCwgeiA9IDAsIG9yZGVyID0gRXVsZXIuRGVmYXVsdE9yZGVyICkge1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fb3JkZXIgPSBvcmRlcjtcblxuXHR9XG5cblx0Z2V0IHgoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feDtcblxuXHR9XG5cblx0c2V0IHgoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feCA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feTtcblxuXHR9XG5cblx0c2V0IHkoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feSA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IHooKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fejtcblxuXHR9XG5cblx0c2V0IHooIHZhbHVlICkge1xuXG5cdFx0dGhpcy5feiA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0Z2V0IG9yZGVyKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyO1xuXG5cdH1cblxuXHRzZXQgb3JkZXIoIHZhbHVlICkge1xuXG5cdFx0dGhpcy5fb3JkZXIgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgb3JkZXIgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRjb3B5KCBldWxlciApIHtcblxuXHRcdHRoaXMuX3ggPSBldWxlci5feDtcblx0XHR0aGlzLl95ID0gZXVsZXIuX3k7XG5cdFx0dGhpcy5feiA9IGV1bGVyLl96O1xuXHRcdHRoaXMuX29yZGVyID0gZXVsZXIuX29yZGVyO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Sb3RhdGlvbk1hdHJpeCggbSwgb3JkZXIsIHVwZGF0ZSApIHtcblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHM7XG5cdFx0Y29uc3QgbTExID0gdGVbIDAgXSwgbTEyID0gdGVbIDQgXSwgbTEzID0gdGVbIDggXTtcblx0XHRjb25zdCBtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdO1xuXHRcdGNvbnN0IG0zMSA9IHRlWyAyIF0sIG0zMiA9IHRlWyA2IF0sIG0zMyA9IHRlWyAxMCBdO1xuXG5cdFx0b3JkZXIgPSBvcmRlciB8fCB0aGlzLl9vcmRlcjtcblxuXHRcdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0XHRjYXNlICdYWVonOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIGNsYW1wKCBtMTMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVhaJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMjMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMTEgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pYWSc6XG5cblx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXNpbiggY2xhbXAoIG0zMiwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzIgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWVgnOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0zMSwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzEgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVpYJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCBjbGFtcCggbTIxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0yMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1haWSc6XG5cblx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXNpbiggLSBjbGFtcCggbTEyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0xMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIG0xMywgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyO1xuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21RdWF0ZXJuaW9uKCBxLCBvcmRlciwgdXBkYXRlICkge1xuXG5cdFx0X21hdHJpeC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiggcSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBfbWF0cml4LCBvcmRlciwgdXBkYXRlICk7XG5cblx0fVxuXG5cdHNldEZyb21WZWN0b3IzKCB2LCBvcmRlciApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldCggdi54LCB2LnksIHYueiwgb3JkZXIgfHwgdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0cmVvcmRlciggbmV3T3JkZXIgKSB7XG5cblx0XHQvLyBXQVJOSU5HOiB0aGlzIGRpc2NhcmRzIHJldm9sdXRpb24gaW5mb3JtYXRpb24gLWJob3VzdG9uXG5cblx0XHRfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHRoaXMgKTtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21RdWF0ZXJuaW9uKCBfcXVhdGVybmlvbiwgbmV3T3JkZXIgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCBldWxlciApIHtcblxuXHRcdHJldHVybiAoIGV1bGVyLl94ID09PSB0aGlzLl94ICkgJiYgKCBldWxlci5feSA9PT0gdGhpcy5feSApICYmICggZXVsZXIuX3ogPT09IHRoaXMuX3ogKSAmJiAoIGV1bGVyLl9vcmRlciA9PT0gdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgMCBdO1xuXHRcdHRoaXMuX3kgPSBhcnJheVsgMSBdO1xuXHRcdHRoaXMuX3ogPSBhcnJheVsgMiBdO1xuXHRcdGlmICggYXJyYXlbIDMgXSAhPT0gdW5kZWZpbmVkICkgdGhpcy5fb3JkZXIgPSBhcnJheVsgMyBdO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLl94O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLl95O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLl96O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0aGlzLl9vcmRlcjtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0dG9WZWN0b3IzKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdGlmICggb3B0aW9uYWxSZXN1bHQgKSB7XG5cblx0XHRcdHJldHVybiBvcHRpb25hbFJlc3VsdC5zZXQoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3ogKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBuZXcgVmVjdG9yMyggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5FdWxlci5wcm90b3R5cGUuaXNFdWxlciA9IHRydWU7XG5cbkV1bGVyLkRlZmF1bHRPcmRlciA9ICdYWVonO1xuRXVsZXIuUm90YXRpb25PcmRlcnMgPSBbICdYWVonLCAnWVpYJywgJ1pYWScsICdYWlknLCAnWVhaJywgJ1pZWCcgXTtcblxuZXhwb3J0IHsgRXVsZXIgfTtcbiIsImltcG9ydCAqIGFzIE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5cbmNvbnN0IF9jb2xvcktleXdvcmRzID0geyAnYWxpY2VibHVlJzogMHhGMEY4RkYsICdhbnRpcXVld2hpdGUnOiAweEZBRUJENywgJ2FxdWEnOiAweDAwRkZGRiwgJ2FxdWFtYXJpbmUnOiAweDdGRkZENCwgJ2F6dXJlJzogMHhGMEZGRkYsXG5cdCdiZWlnZSc6IDB4RjVGNURDLCAnYmlzcXVlJzogMHhGRkU0QzQsICdibGFjayc6IDB4MDAwMDAwLCAnYmxhbmNoZWRhbG1vbmQnOiAweEZGRUJDRCwgJ2JsdWUnOiAweDAwMDBGRiwgJ2JsdWV2aW9sZXQnOiAweDhBMkJFMixcblx0J2Jyb3duJzogMHhBNTJBMkEsICdidXJseXdvb2QnOiAweERFQjg4NywgJ2NhZGV0Ymx1ZSc6IDB4NUY5RUEwLCAnY2hhcnRyZXVzZSc6IDB4N0ZGRjAwLCAnY2hvY29sYXRlJzogMHhEMjY5MUUsICdjb3JhbCc6IDB4RkY3RjUwLFxuXHQnY29ybmZsb3dlcmJsdWUnOiAweDY0OTVFRCwgJ2Nvcm5zaWxrJzogMHhGRkY4REMsICdjcmltc29uJzogMHhEQzE0M0MsICdjeWFuJzogMHgwMEZGRkYsICdkYXJrYmx1ZSc6IDB4MDAwMDhCLCAnZGFya2N5YW4nOiAweDAwOEI4Qixcblx0J2Rhcmtnb2xkZW5yb2QnOiAweEI4ODYwQiwgJ2RhcmtncmF5JzogMHhBOUE5QTksICdkYXJrZ3JlZW4nOiAweDAwNjQwMCwgJ2RhcmtncmV5JzogMHhBOUE5QTksICdkYXJra2hha2knOiAweEJEQjc2QiwgJ2RhcmttYWdlbnRhJzogMHg4QjAwOEIsXG5cdCdkYXJrb2xpdmVncmVlbic6IDB4NTU2QjJGLCAnZGFya29yYW5nZSc6IDB4RkY4QzAwLCAnZGFya29yY2hpZCc6IDB4OTkzMkNDLCAnZGFya3JlZCc6IDB4OEIwMDAwLCAnZGFya3NhbG1vbic6IDB4RTk5NjdBLCAnZGFya3NlYWdyZWVuJzogMHg4RkJDOEYsXG5cdCdkYXJrc2xhdGVibHVlJzogMHg0ODNEOEIsICdkYXJrc2xhdGVncmF5JzogMHgyRjRGNEYsICdkYXJrc2xhdGVncmV5JzogMHgyRjRGNEYsICdkYXJrdHVycXVvaXNlJzogMHgwMENFRDEsICdkYXJrdmlvbGV0JzogMHg5NDAwRDMsXG5cdCdkZWVwcGluayc6IDB4RkYxNDkzLCAnZGVlcHNreWJsdWUnOiAweDAwQkZGRiwgJ2RpbWdyYXknOiAweDY5Njk2OSwgJ2RpbWdyZXknOiAweDY5Njk2OSwgJ2RvZGdlcmJsdWUnOiAweDFFOTBGRiwgJ2ZpcmVicmljayc6IDB4QjIyMjIyLFxuXHQnZmxvcmFsd2hpdGUnOiAweEZGRkFGMCwgJ2ZvcmVzdGdyZWVuJzogMHgyMjhCMjIsICdmdWNoc2lhJzogMHhGRjAwRkYsICdnYWluc2Jvcm8nOiAweERDRENEQywgJ2dob3N0d2hpdGUnOiAweEY4RjhGRiwgJ2dvbGQnOiAweEZGRDcwMCxcblx0J2dvbGRlbnJvZCc6IDB4REFBNTIwLCAnZ3JheSc6IDB4ODA4MDgwLCAnZ3JlZW4nOiAweDAwODAwMCwgJ2dyZWVueWVsbG93JzogMHhBREZGMkYsICdncmV5JzogMHg4MDgwODAsICdob25leWRldyc6IDB4RjBGRkYwLCAnaG90cGluayc6IDB4RkY2OUI0LFxuXHQnaW5kaWFucmVkJzogMHhDRDVDNUMsICdpbmRpZ28nOiAweDRCMDA4MiwgJ2l2b3J5JzogMHhGRkZGRjAsICdraGFraSc6IDB4RjBFNjhDLCAnbGF2ZW5kZXInOiAweEU2RTZGQSwgJ2xhdmVuZGVyYmx1c2gnOiAweEZGRjBGNSwgJ2xhd25ncmVlbic6IDB4N0NGQzAwLFxuXHQnbGVtb25jaGlmZm9uJzogMHhGRkZBQ0QsICdsaWdodGJsdWUnOiAweEFERDhFNiwgJ2xpZ2h0Y29yYWwnOiAweEYwODA4MCwgJ2xpZ2h0Y3lhbic6IDB4RTBGRkZGLCAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnOiAweEZBRkFEMiwgJ2xpZ2h0Z3JheSc6IDB4RDNEM0QzLFxuXHQnbGlnaHRncmVlbic6IDB4OTBFRTkwLCAnbGlnaHRncmV5JzogMHhEM0QzRDMsICdsaWdodHBpbmsnOiAweEZGQjZDMSwgJ2xpZ2h0c2FsbW9uJzogMHhGRkEwN0EsICdsaWdodHNlYWdyZWVuJzogMHgyMEIyQUEsICdsaWdodHNreWJsdWUnOiAweDg3Q0VGQSxcblx0J2xpZ2h0c2xhdGVncmF5JzogMHg3Nzg4OTksICdsaWdodHNsYXRlZ3JleSc6IDB4Nzc4ODk5LCAnbGlnaHRzdGVlbGJsdWUnOiAweEIwQzRERSwgJ2xpZ2h0eWVsbG93JzogMHhGRkZGRTAsICdsaW1lJzogMHgwMEZGMDAsICdsaW1lZ3JlZW4nOiAweDMyQ0QzMixcblx0J2xpbmVuJzogMHhGQUYwRTYsICdtYWdlbnRhJzogMHhGRjAwRkYsICdtYXJvb24nOiAweDgwMDAwMCwgJ21lZGl1bWFxdWFtYXJpbmUnOiAweDY2Q0RBQSwgJ21lZGl1bWJsdWUnOiAweDAwMDBDRCwgJ21lZGl1bW9yY2hpZCc6IDB4QkE1NUQzLFxuXHQnbWVkaXVtcHVycGxlJzogMHg5MzcwREIsICdtZWRpdW1zZWFncmVlbic6IDB4M0NCMzcxLCAnbWVkaXVtc2xhdGVibHVlJzogMHg3QjY4RUUsICdtZWRpdW1zcHJpbmdncmVlbic6IDB4MDBGQTlBLCAnbWVkaXVtdHVycXVvaXNlJzogMHg0OEQxQ0MsXG5cdCdtZWRpdW12aW9sZXRyZWQnOiAweEM3MTU4NSwgJ21pZG5pZ2h0Ymx1ZSc6IDB4MTkxOTcwLCAnbWludGNyZWFtJzogMHhGNUZGRkEsICdtaXN0eXJvc2UnOiAweEZGRTRFMSwgJ21vY2Nhc2luJzogMHhGRkU0QjUsICduYXZham93aGl0ZSc6IDB4RkZERUFELFxuXHQnbmF2eSc6IDB4MDAwMDgwLCAnb2xkbGFjZSc6IDB4RkRGNUU2LCAnb2xpdmUnOiAweDgwODAwMCwgJ29saXZlZHJhYic6IDB4NkI4RTIzLCAnb3JhbmdlJzogMHhGRkE1MDAsICdvcmFuZ2VyZWQnOiAweEZGNDUwMCwgJ29yY2hpZCc6IDB4REE3MEQ2LFxuXHQncGFsZWdvbGRlbnJvZCc6IDB4RUVFOEFBLCAncGFsZWdyZWVuJzogMHg5OEZCOTgsICdwYWxldHVycXVvaXNlJzogMHhBRkVFRUUsICdwYWxldmlvbGV0cmVkJzogMHhEQjcwOTMsICdwYXBheWF3aGlwJzogMHhGRkVGRDUsICdwZWFjaHB1ZmYnOiAweEZGREFCOSxcblx0J3BlcnUnOiAweENEODUzRiwgJ3BpbmsnOiAweEZGQzBDQiwgJ3BsdW0nOiAweEREQTBERCwgJ3Bvd2RlcmJsdWUnOiAweEIwRTBFNiwgJ3B1cnBsZSc6IDB4ODAwMDgwLCAncmViZWNjYXB1cnBsZSc6IDB4NjYzMzk5LCAncmVkJzogMHhGRjAwMDAsICdyb3N5YnJvd24nOiAweEJDOEY4Rixcblx0J3JveWFsYmx1ZSc6IDB4NDE2OUUxLCAnc2FkZGxlYnJvd24nOiAweDhCNDUxMywgJ3NhbG1vbic6IDB4RkE4MDcyLCAnc2FuZHlicm93bic6IDB4RjRBNDYwLCAnc2VhZ3JlZW4nOiAweDJFOEI1NywgJ3NlYXNoZWxsJzogMHhGRkY1RUUsXG5cdCdzaWVubmEnOiAweEEwNTIyRCwgJ3NpbHZlcic6IDB4QzBDMEMwLCAnc2t5Ymx1ZSc6IDB4ODdDRUVCLCAnc2xhdGVibHVlJzogMHg2QTVBQ0QsICdzbGF0ZWdyYXknOiAweDcwODA5MCwgJ3NsYXRlZ3JleSc6IDB4NzA4MDkwLCAnc25vdyc6IDB4RkZGQUZBLFxuXHQnc3ByaW5nZ3JlZW4nOiAweDAwRkY3RiwgJ3N0ZWVsYmx1ZSc6IDB4NDY4MkI0LCAndGFuJzogMHhEMkI0OEMsICd0ZWFsJzogMHgwMDgwODAsICd0aGlzdGxlJzogMHhEOEJGRDgsICd0b21hdG8nOiAweEZGNjM0NywgJ3R1cnF1b2lzZSc6IDB4NDBFMEQwLFxuXHQndmlvbGV0JzogMHhFRTgyRUUsICd3aGVhdCc6IDB4RjVERUIzLCAnd2hpdGUnOiAweEZGRkZGRiwgJ3doaXRlc21va2UnOiAweEY1RjVGNSwgJ3llbGxvdyc6IDB4RkZGRjAwLCAneWVsbG93Z3JlZW4nOiAweDlBQ0QzMiB9O1xuXG5jb25zdCBfaHNsQSA9IHsgaDogMCwgczogMCwgbDogMCB9O1xuY29uc3QgX2hzbEIgPSB7IGg6IDAsIHM6IDAsIGw6IDAgfTtcblxuZnVuY3Rpb24gaHVlMnJnYiggcCwgcSwgdCApIHtcblxuXHRpZiAoIHQgPCAwICkgdCArPSAxO1xuXHRpZiAoIHQgPiAxICkgdCAtPSAxO1xuXHRpZiAoIHQgPCAxIC8gNiApIHJldHVybiBwICsgKCBxIC0gcCApICogNiAqIHQ7XG5cdGlmICggdCA8IDEgLyAyICkgcmV0dXJuIHE7XG5cdGlmICggdCA8IDIgLyAzICkgcmV0dXJuIHAgKyAoIHEgLSBwICkgKiA2ICogKCAyIC8gMyAtIHQgKTtcblx0cmV0dXJuIHA7XG5cbn1cblxuZnVuY3Rpb24gU1JHQlRvTGluZWFyKCBjICkge1xuXG5cdHJldHVybiAoIGMgPCAwLjA0MDQ1ICkgPyBjICogMC4wNzczOTkzODA4IDogTWF0aC5wb3coIGMgKiAwLjk0Nzg2NzI5ODYgKyAwLjA1MjEzMjcwMTQsIDIuNCApO1xuXG59XG5cbmZ1bmN0aW9uIExpbmVhclRvU1JHQiggYyApIHtcblxuXHRyZXR1cm4gKCBjIDwgMC4wMDMxMzA4ICkgPyBjICogMTIuOTIgOiAxLjA1NSAqICggTWF0aC5wb3coIGMsIDAuNDE2NjYgKSApIC0gMC4wNTU7XG5cbn1cblxuY2xhc3MgQ29sb3Ige1xuXG5cdGNvbnN0cnVjdG9yKCByLCBnLCBiICkge1xuXG5cdFx0aWYgKCBnID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyByIGlzIFRIUkVFLkNvbG9yLCBoZXggb3Igc3RyaW5nXG5cdFx0XHRyZXR1cm4gdGhpcy5zZXQoIHIgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnNldFJHQiggciwgZywgYiApO1xuXG5cdH1cblxuXHRzZXQoIHZhbHVlICkge1xuXG5cdFx0aWYgKCB2YWx1ZSAmJiB2YWx1ZS5pc0NvbG9yICkge1xuXG5cdFx0XHR0aGlzLmNvcHkoIHZhbHVlICk7XG5cblx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICkge1xuXG5cdFx0XHR0aGlzLnNldEhleCggdmFsdWUgKTtcblxuXHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgKSB7XG5cblx0XHRcdHRoaXMuc2V0U3R5bGUoIHZhbHVlICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnIgPSBzY2FsYXI7XG5cdFx0dGhpcy5nID0gc2NhbGFyO1xuXHRcdHRoaXMuYiA9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRIZXgoIGhleCApIHtcblxuXHRcdGhleCA9IE1hdGguZmxvb3IoIGhleCApO1xuXG5cdFx0dGhpcy5yID0gKCBoZXggPj4gMTYgJiAyNTUgKSAvIDI1NTtcblx0XHR0aGlzLmcgPSAoIGhleCA+PiA4ICYgMjU1ICkgLyAyNTU7XG5cdFx0dGhpcy5iID0gKCBoZXggJiAyNTUgKSAvIDI1NTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRSR0IoIHIsIGcsIGIgKSB7XG5cblx0XHR0aGlzLnIgPSByO1xuXHRcdHRoaXMuZyA9IGc7XG5cdFx0dGhpcy5iID0gYjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRIU0woIGgsIHMsIGwgKSB7XG5cblx0XHQvLyBoLHMsbCByYW5nZXMgYXJlIGluIDAuMCAtIDEuMFxuXHRcdGggPSBNYXRoVXRpbHMuZXVjbGlkZWFuTW9kdWxvKCBoLCAxICk7XG5cdFx0cyA9IE1hdGhVdGlscy5jbGFtcCggcywgMCwgMSApO1xuXHRcdGwgPSBNYXRoVXRpbHMuY2xhbXAoIGwsIDAsIDEgKTtcblxuXHRcdGlmICggcyA9PT0gMCApIHtcblxuXHRcdFx0dGhpcy5yID0gdGhpcy5nID0gdGhpcy5iID0gbDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IHAgPSBsIDw9IDAuNSA/IGwgKiAoIDEgKyBzICkgOiBsICsgcyAtICggbCAqIHMgKTtcblx0XHRcdGNvbnN0IHEgPSAoIDIgKiBsICkgLSBwO1xuXG5cdFx0XHR0aGlzLnIgPSBodWUycmdiKCBxLCBwLCBoICsgMSAvIDMgKTtcblx0XHRcdHRoaXMuZyA9IGh1ZTJyZ2IoIHEsIHAsIGggKTtcblx0XHRcdHRoaXMuYiA9IGh1ZTJyZ2IoIHEsIHAsIGggLSAxIC8gMyApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFN0eWxlKCBzdHlsZSApIHtcblxuXHRcdGZ1bmN0aW9uIGhhbmRsZUFscGhhKCBzdHJpbmcgKSB7XG5cblx0XHRcdGlmICggc3RyaW5nID09PSB1bmRlZmluZWQgKSByZXR1cm47XG5cblx0XHRcdGlmICggcGFyc2VGbG9hdCggc3RyaW5nICkgPCAxICkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkNvbG9yOiBBbHBoYSBjb21wb25lbnQgb2YgJyArIHN0eWxlICsgJyB3aWxsIGJlIGlnbm9yZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblxuXHRcdGxldCBtO1xuXG5cdFx0aWYgKCBtID0gL14oKD86cmdifGhzbClhPylcXCgoW15cXCldKilcXCkvLmV4ZWMoIHN0eWxlICkgKSB7XG5cblx0XHRcdC8vIHJnYiAvIGhzbFxuXG5cdFx0XHRsZXQgY29sb3I7XG5cdFx0XHRjb25zdCBuYW1lID0gbVsgMSBdO1xuXHRcdFx0Y29uc3QgY29tcG9uZW50cyA9IG1bIDIgXTtcblxuXHRcdFx0c3dpdGNoICggbmFtZSApIHtcblxuXHRcdFx0XHRjYXNlICdyZ2InOlxuXHRcdFx0XHRjYXNlICdyZ2JhJzpcblxuXHRcdFx0XHRcdGlmICggY29sb3IgPSAvXlxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqKD86LFxccyooXFxkKlxcLj9cXGQrKVxccyopPyQvLmV4ZWMoIGNvbXBvbmVudHMgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmdiKDI1NSwwLDApIHJnYmEoMjU1LDAsMCwwLjUpXG5cdFx0XHRcdFx0XHR0aGlzLnIgPSBNYXRoLm1pbiggMjU1LCBwYXJzZUludCggY29sb3JbIDEgXSwgMTAgKSApIC8gMjU1O1xuXHRcdFx0XHRcdFx0dGhpcy5nID0gTWF0aC5taW4oIDI1NSwgcGFyc2VJbnQoIGNvbG9yWyAyIF0sIDEwICkgKSAvIDI1NTtcblx0XHRcdFx0XHRcdHRoaXMuYiA9IE1hdGgubWluKCAyNTUsIHBhcnNlSW50KCBjb2xvclsgMyBdLCAxMCApICkgLyAyNTU7XG5cblx0XHRcdFx0XHRcdGhhbmRsZUFscGhhKCBjb2xvclsgNCBdICk7XG5cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBjb2xvciA9IC9eXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooPzosXFxzKihcXGQqXFwuP1xcZCspXFxzKik/JC8uZXhlYyggY29tcG9uZW50cyApICkge1xuXG5cdFx0XHRcdFx0XHQvLyByZ2IoMTAwJSwwJSwwJSkgcmdiYSgxMDAlLDAlLDAlLDAuNSlcblx0XHRcdFx0XHRcdHRoaXMuciA9IE1hdGgubWluKCAxMDAsIHBhcnNlSW50KCBjb2xvclsgMSBdLCAxMCApICkgLyAxMDA7XG5cdFx0XHRcdFx0XHR0aGlzLmcgPSBNYXRoLm1pbiggMTAwLCBwYXJzZUludCggY29sb3JbIDIgXSwgMTAgKSApIC8gMTAwO1xuXHRcdFx0XHRcdFx0dGhpcy5iID0gTWF0aC5taW4oIDEwMCwgcGFyc2VJbnQoIGNvbG9yWyAzIF0sIDEwICkgKSAvIDEwMDtcblxuXHRcdFx0XHRcdFx0aGFuZGxlQWxwaGEoIGNvbG9yWyA0IF0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdoc2wnOlxuXHRcdFx0XHRjYXNlICdoc2xhJzpcblxuXHRcdFx0XHRcdGlmICggY29sb3IgPSAvXlxccyooXFxkKlxcLj9cXGQrKVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooPzosXFxzKihcXGQqXFwuP1xcZCspXFxzKik/JC8uZXhlYyggY29tcG9uZW50cyApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBoc2woMTIwLDUwJSw1MCUpIGhzbGEoMTIwLDUwJSw1MCUsMC41KVxuXHRcdFx0XHRcdFx0Y29uc3QgaCA9IHBhcnNlRmxvYXQoIGNvbG9yWyAxIF0gKSAvIDM2MDtcblx0XHRcdFx0XHRcdGNvbnN0IHMgPSBwYXJzZUludCggY29sb3JbIDIgXSwgMTAgKSAvIDEwMDtcblx0XHRcdFx0XHRcdGNvbnN0IGwgPSBwYXJzZUludCggY29sb3JbIDMgXSwgMTAgKSAvIDEwMDtcblxuXHRcdFx0XHRcdFx0aGFuZGxlQWxwaGEoIGNvbG9yWyA0IF0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0SFNMKCBoLCBzLCBsICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggbSA9IC9eXFwjKFtBLUZhLWZcXGRdKykkLy5leGVjKCBzdHlsZSApICkge1xuXG5cdFx0XHQvLyBoZXggY29sb3JcblxuXHRcdFx0Y29uc3QgaGV4ID0gbVsgMSBdO1xuXHRcdFx0Y29uc3Qgc2l6ZSA9IGhleC5sZW5ndGg7XG5cblx0XHRcdGlmICggc2l6ZSA9PT0gMyApIHtcblxuXHRcdFx0XHQvLyAjZmYwXG5cdFx0XHRcdHRoaXMuciA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAwICkgKyBoZXguY2hhckF0KCAwICksIDE2ICkgLyAyNTU7XG5cdFx0XHRcdHRoaXMuZyA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAxICkgKyBoZXguY2hhckF0KCAxICksIDE2ICkgLyAyNTU7XG5cdFx0XHRcdHRoaXMuYiA9IHBhcnNlSW50KCBoZXguY2hhckF0KCAyICkgKyBoZXguY2hhckF0KCAyICksIDE2ICkgLyAyNTU7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHNpemUgPT09IDYgKSB7XG5cblx0XHRcdFx0Ly8gI2ZmMDAwMFxuXHRcdFx0XHR0aGlzLnIgPSBwYXJzZUludCggaGV4LmNoYXJBdCggMCApICsgaGV4LmNoYXJBdCggMSApLCAxNiApIC8gMjU1O1xuXHRcdFx0XHR0aGlzLmcgPSBwYXJzZUludCggaGV4LmNoYXJBdCggMiApICsgaGV4LmNoYXJBdCggMyApLCAxNiApIC8gMjU1O1xuXHRcdFx0XHR0aGlzLmIgPSBwYXJzZUludCggaGV4LmNoYXJBdCggNCApICsgaGV4LmNoYXJBdCggNSApLCAxNiApIC8gMjU1O1xuXG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIHN0eWxlICYmIHN0eWxlLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLnNldENvbG9yTmFtZSggc3R5bGUgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb2xvck5hbWUoIHN0eWxlICkge1xuXG5cdFx0Ly8gY29sb3Iga2V5d29yZHNcblx0XHRjb25zdCBoZXggPSBfY29sb3JLZXl3b3Jkc1sgc3R5bGUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0aWYgKCBoZXggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gcmVkXG5cdFx0XHR0aGlzLnNldEhleCggaGV4ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyB1bmtub3duIGNvbG9yXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Db2xvcjogVW5rbm93biBjb2xvciAnICsgc3R5bGUgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy5yLCB0aGlzLmcsIHRoaXMuYiApO1xuXG5cdH1cblxuXHRjb3B5KCBjb2xvciApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yLnI7XG5cdFx0dGhpcy5nID0gY29sb3IuZztcblx0XHR0aGlzLmIgPSBjb2xvci5iO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHlHYW1tYVRvTGluZWFyKCBjb2xvciwgZ2FtbWFGYWN0b3IgPSAyLjAgKSB7XG5cblx0XHR0aGlzLnIgPSBNYXRoLnBvdyggY29sb3IuciwgZ2FtbWFGYWN0b3IgKTtcblx0XHR0aGlzLmcgPSBNYXRoLnBvdyggY29sb3IuZywgZ2FtbWFGYWN0b3IgKTtcblx0XHR0aGlzLmIgPSBNYXRoLnBvdyggY29sb3IuYiwgZ2FtbWFGYWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5TGluZWFyVG9HYW1tYSggY29sb3IsIGdhbW1hRmFjdG9yID0gMi4wICkge1xuXG5cdFx0Y29uc3Qgc2FmZUludmVyc2UgPSAoIGdhbW1hRmFjdG9yID4gMCApID8gKCAxLjAgLyBnYW1tYUZhY3RvciApIDogMS4wO1xuXG5cdFx0dGhpcy5yID0gTWF0aC5wb3coIGNvbG9yLnIsIHNhZmVJbnZlcnNlICk7XG5cdFx0dGhpcy5nID0gTWF0aC5wb3coIGNvbG9yLmcsIHNhZmVJbnZlcnNlICk7XG5cdFx0dGhpcy5iID0gTWF0aC5wb3coIGNvbG9yLmIsIHNhZmVJbnZlcnNlICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udmVydEdhbW1hVG9MaW5lYXIoIGdhbW1hRmFjdG9yICkge1xuXG5cdFx0dGhpcy5jb3B5R2FtbWFUb0xpbmVhciggdGhpcywgZ2FtbWFGYWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb252ZXJ0TGluZWFyVG9HYW1tYSggZ2FtbWFGYWN0b3IgKSB7XG5cblx0XHR0aGlzLmNvcHlMaW5lYXJUb0dhbW1hKCB0aGlzLCBnYW1tYUZhY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHlTUkdCVG9MaW5lYXIoIGNvbG9yICkge1xuXG5cdFx0dGhpcy5yID0gU1JHQlRvTGluZWFyKCBjb2xvci5yICk7XG5cdFx0dGhpcy5nID0gU1JHQlRvTGluZWFyKCBjb2xvci5nICk7XG5cdFx0dGhpcy5iID0gU1JHQlRvTGluZWFyKCBjb2xvci5iICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29weUxpbmVhclRvU1JHQiggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLnIgKTtcblx0XHR0aGlzLmcgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLmcgKTtcblx0XHR0aGlzLmIgPSBMaW5lYXJUb1NSR0IoIGNvbG9yLmIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb252ZXJ0U1JHQlRvTGluZWFyKCkge1xuXG5cdFx0dGhpcy5jb3B5U1JHQlRvTGluZWFyKCB0aGlzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udmVydExpbmVhclRvU1JHQigpIHtcblxuXHRcdHRoaXMuY29weUxpbmVhclRvU1JHQiggdGhpcyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldEhleCgpIHtcblxuXHRcdHJldHVybiAoIHRoaXMuciAqIDI1NSApIDw8IDE2IF4gKCB0aGlzLmcgKiAyNTUgKSA8PCA4IF4gKCB0aGlzLmIgKiAyNTUgKSA8PCAwO1xuXG5cdH1cblxuXHRnZXRIZXhTdHJpbmcoKSB7XG5cblx0XHRyZXR1cm4gKCAnMDAwMDAwJyArIHRoaXMuZ2V0SGV4KCkudG9TdHJpbmcoIDE2ICkgKS5zbGljZSggLSA2ICk7XG5cblx0fVxuXG5cdGdldEhTTCggdGFyZ2V0ICkge1xuXG5cdFx0Ly8gaCxzLGwgcmFuZ2VzIGFyZSBpbiAwLjAgLSAxLjBcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkNvbG9yOiAuZ2V0SFNMKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IHsgaDogMCwgczogMCwgbDogMCB9O1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgciA9IHRoaXMuciwgZyA9IHRoaXMuZywgYiA9IHRoaXMuYjtcblxuXHRcdGNvbnN0IG1heCA9IE1hdGgubWF4KCByLCBnLCBiICk7XG5cdFx0Y29uc3QgbWluID0gTWF0aC5taW4oIHIsIGcsIGIgKTtcblxuXHRcdGxldCBodWUsIHNhdHVyYXRpb247XG5cdFx0Y29uc3QgbGlnaHRuZXNzID0gKCBtaW4gKyBtYXggKSAvIDIuMDtcblxuXHRcdGlmICggbWluID09PSBtYXggKSB7XG5cblx0XHRcdGh1ZSA9IDA7XG5cdFx0XHRzYXR1cmF0aW9uID0gMDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnN0IGRlbHRhID0gbWF4IC0gbWluO1xuXG5cdFx0XHRzYXR1cmF0aW9uID0gbGlnaHRuZXNzIDw9IDAuNSA/IGRlbHRhIC8gKCBtYXggKyBtaW4gKSA6IGRlbHRhIC8gKCAyIC0gbWF4IC0gbWluICk7XG5cblx0XHRcdHN3aXRjaCAoIG1heCApIHtcblxuXHRcdFx0XHRjYXNlIHI6IGh1ZSA9ICggZyAtIGIgKSAvIGRlbHRhICsgKCBnIDwgYiA/IDYgOiAwICk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGc6IGh1ZSA9ICggYiAtIHIgKSAvIGRlbHRhICsgMjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgYjogaHVlID0gKCByIC0gZyApIC8gZGVsdGEgKyA0OyBicmVhaztcblxuXHRcdFx0fVxuXG5cdFx0XHRodWUgLz0gNjtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5oID0gaHVlO1xuXHRcdHRhcmdldC5zID0gc2F0dXJhdGlvbjtcblx0XHR0YXJnZXQubCA9IGxpZ2h0bmVzcztcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGdldFN0eWxlKCkge1xuXG5cdFx0cmV0dXJuICdyZ2IoJyArICggKCB0aGlzLnIgKiAyNTUgKSB8IDAgKSArICcsJyArICggKCB0aGlzLmcgKiAyNTUgKSB8IDAgKSArICcsJyArICggKCB0aGlzLmIgKiAyNTUgKSB8IDAgKSArICcpJztcblxuXHR9XG5cblx0b2Zmc2V0SFNMKCBoLCBzLCBsICkge1xuXG5cdFx0dGhpcy5nZXRIU0woIF9oc2xBICk7XG5cblx0XHRfaHNsQS5oICs9IGg7IF9oc2xBLnMgKz0gczsgX2hzbEEubCArPSBsO1xuXG5cdFx0dGhpcy5zZXRIU0woIF9oc2xBLmgsIF9oc2xBLnMsIF9oc2xBLmwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGQoIGNvbG9yICkge1xuXG5cdFx0dGhpcy5yICs9IGNvbG9yLnI7XG5cdFx0dGhpcy5nICs9IGNvbG9yLmc7XG5cdFx0dGhpcy5iICs9IGNvbG9yLmI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkQ29sb3JzKCBjb2xvcjEsIGNvbG9yMiApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yMS5yICsgY29sb3IyLnI7XG5cdFx0dGhpcy5nID0gY29sb3IxLmcgKyBjb2xvcjIuZztcblx0XHR0aGlzLmIgPSBjb2xvcjEuYiArIGNvbG9yMi5iO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxhciggcyApIHtcblxuXHRcdHRoaXMuciArPSBzO1xuXHRcdHRoaXMuZyArPSBzO1xuXHRcdHRoaXMuYiArPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YiggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgPSBNYXRoLm1heCggMCwgdGhpcy5yIC0gY29sb3IuciApO1xuXHRcdHRoaXMuZyA9IE1hdGgubWF4KCAwLCB0aGlzLmcgLSBjb2xvci5nICk7XG5cdFx0dGhpcy5iID0gTWF0aC5tYXgoIDAsIHRoaXMuYiAtIGNvbG9yLmIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggY29sb3IgKSB7XG5cblx0XHR0aGlzLnIgKj0gY29sb3Iucjtcblx0XHR0aGlzLmcgKj0gY29sb3IuZztcblx0XHR0aGlzLmIgKj0gY29sb3IuYjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVNjYWxhciggcyApIHtcblxuXHRcdHRoaXMuciAqPSBzO1xuXHRcdHRoaXMuZyAqPSBzO1xuXHRcdHRoaXMuYiAqPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnAoIGNvbG9yLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuciArPSAoIGNvbG9yLnIgLSB0aGlzLnIgKSAqIGFscGhhO1xuXHRcdHRoaXMuZyArPSAoIGNvbG9yLmcgLSB0aGlzLmcgKSAqIGFscGhhO1xuXHRcdHRoaXMuYiArPSAoIGNvbG9yLmIgLSB0aGlzLmIgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBDb2xvcnMoIGNvbG9yMSwgY29sb3IyLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuciA9IGNvbG9yMS5yICsgKCBjb2xvcjIuciAtIGNvbG9yMS5yICkgKiBhbHBoYTtcblx0XHR0aGlzLmcgPSBjb2xvcjEuZyArICggY29sb3IyLmcgLSBjb2xvcjEuZyApICogYWxwaGE7XG5cdFx0dGhpcy5iID0gY29sb3IxLmIgKyAoIGNvbG9yMi5iIC0gY29sb3IxLmIgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBIU0woIGNvbG9yLCBhbHBoYSApIHtcblxuXHRcdHRoaXMuZ2V0SFNMKCBfaHNsQSApO1xuXHRcdGNvbG9yLmdldEhTTCggX2hzbEIgKTtcblxuXHRcdGNvbnN0IGggPSBNYXRoVXRpbHMubGVycCggX2hzbEEuaCwgX2hzbEIuaCwgYWxwaGEgKTtcblx0XHRjb25zdCBzID0gTWF0aFV0aWxzLmxlcnAoIF9oc2xBLnMsIF9oc2xCLnMsIGFscGhhICk7XG5cdFx0Y29uc3QgbCA9IE1hdGhVdGlscy5sZXJwKCBfaHNsQS5sLCBfaHNsQi5sLCBhbHBoYSApO1xuXG5cdFx0dGhpcy5zZXRIU0woIGgsIHMsIGwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGMgKSB7XG5cblx0XHRyZXR1cm4gKCBjLnIgPT09IHRoaXMuciApICYmICggYy5nID09PSB0aGlzLmcgKSAmJiAoIGMuYiA9PT0gdGhpcy5iICk7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHR0aGlzLnIgPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy5nID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLmIgPSBhcnJheVsgb2Zmc2V0ICsgMiBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLnI7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuZztcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy5iO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHRmcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGluZGV4ICkge1xuXG5cdFx0dGhpcy5yID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy5nID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy5iID0gYXR0cmlidXRlLmdldFooIGluZGV4ICk7XG5cblx0XHRpZiAoIGF0dHJpYnV0ZS5ub3JtYWxpemVkID09PSB0cnVlICkge1xuXG5cdFx0XHQvLyBhc3N1bWluZyBVaW50OEFycmF5XG5cblx0XHRcdHRoaXMuciAvPSAyNTU7XG5cdFx0XHR0aGlzLmcgLz0gMjU1O1xuXHRcdFx0dGhpcy5iIC89IDI1NTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0pTT04oKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5nZXRIZXgoKTtcblxuXHR9XG5cbn1cblxuQ29sb3IuTkFNRVMgPSBfY29sb3JLZXl3b3JkcztcblxuQ29sb3IucHJvdG90eXBlLmlzQ29sb3IgPSB0cnVlO1xuQ29sb3IucHJvdG90eXBlLnIgPSAxO1xuQ29sb3IucHJvdG90eXBlLmcgPSAxO1xuQ29sb3IucHJvdG90eXBlLmIgPSAxO1xuXG5leHBvcnQgeyBDb2xvciB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMi5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IyKCk7XG5cbmNsYXNzIEJveDIge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMiggKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMiggLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHR0aGlzLm1pbi5jb3B5KCBjZW50ZXIgKS5zdWIoIGhhbGZTaXplICk7XG5cdFx0dGhpcy5tYXguY29weSggY2VudGVyICkuYWRkKCBoYWxmU2l6ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxuXHRjb3B5KCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXguY29weSggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VFbXB0eSgpIHtcblxuXHRcdHRoaXMubWluLnggPSB0aGlzLm1pbi55ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IC0gSW5maW5pdHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aXNFbXB0eSgpIHtcblxuXHRcdC8vIHRoaXMgaXMgYSBtb3JlIHJvYnVzdCBjaGVjayBmb3IgZW1wdHkgdGhhbiAoIHZvbHVtZSA8PSAwICkgYmVjYXVzZSB2b2x1bWUgY2FuIGdldCBwb3NpdGl2ZSB3aXRoIHR3byBuZWdhdGl2ZSBheGVzXG5cblx0XHRyZXR1cm4gKCB0aGlzLm1heC54IDwgdGhpcy5taW4ueCApIHx8ICggdGhpcy5tYXgueSA8IHRoaXMubWluLnkgKTtcblxuXHR9XG5cblx0Z2V0Q2VudGVyKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwICkgOiB0YXJnZXQuYWRkVmVjdG9ycyggdGhpcy5taW4sIHRoaXMubWF4ICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRnZXRTaXplKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0U2l6ZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCggMCwgMCApIDogdGFyZ2V0LnN1YlZlY3RvcnMoIHRoaXMubWF4LCB0aGlzLm1pbiApO1xuXG5cdH1cblxuXHRleHBhbmRCeVBvaW50KCBwb2ludCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggcG9pbnQgKTtcblx0XHR0aGlzLm1heC5tYXgoIHBvaW50ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXhwYW5kQnlWZWN0b3IoIHZlY3RvciApIHtcblxuXHRcdHRoaXMubWluLnN1YiggdmVjdG9yICk7XG5cdFx0dGhpcy5tYXguYWRkKCB2ZWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy5taW4uYWRkU2NhbGFyKCAtIHNjYWxhciApO1xuXHRcdHRoaXMubWF4LmFkZFNjYWxhciggc2NhbGFyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udGFpbnNQb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gcG9pbnQueCA8IHRoaXMubWluLnggfHwgcG9pbnQueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdHBvaW50LnkgPCB0aGlzLm1pbi55IHx8IHBvaW50LnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjb250YWluc0JveCggYm94ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubWluLnggPD0gYm94Lm1pbi54ICYmIGJveC5tYXgueCA8PSB0aGlzLm1heC54ICYmXG5cdFx0XHR0aGlzLm1pbi55IDw9IGJveC5taW4ueSAmJiBib3gubWF4LnkgPD0gdGhpcy5tYXgueTtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA0IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9uc1xuXG5cdFx0cmV0dXJuIGJveC5tYXgueCA8IHRoaXMubWluLnggfHwgYm94Lm1pbi54ID4gdGhpcy5tYXgueCB8fFxuXHRcdFx0Ym94Lm1heC55IDwgdGhpcy5taW4ueSB8fCBib3gubWluLnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjbGFtcFBvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggcG9pbnQgKS5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBjbGFtcGVkUG9pbnQgPSBfdmVjdG9yLmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3QoIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1heCggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1pbiggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVuaW9uKCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5taW4oIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5tYXgoIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIG9mZnNldCApIHtcblxuXHRcdHRoaXMubWluLmFkZCggb2Zmc2V0ICk7XG5cdFx0dGhpcy5tYXguYWRkKCBvZmZzZXQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGJveCApIHtcblxuXHRcdHJldHVybiBib3gubWluLmVxdWFscyggdGhpcy5taW4gKSAmJiBib3gubWF4LmVxdWFscyggdGhpcy5tYXggKTtcblxuXHR9XG5cbn1cblxuQm94Mi5wcm90b3R5cGUuaXNCb3gyID0gdHJ1ZTtcblxuZXhwb3J0IHsgQm94MiB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIEJveDMge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMyggKyBJbmZpbml0eSwgKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMyggLSBJbmZpbml0eSwgLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMyApIHtcblxuXHRcdFx0Y29uc3QgeCA9IGFycmF5WyBpIF07XG5cdFx0XHRjb25zdCB5ID0gYXJyYXlbIGkgKyAxIF07XG5cdFx0XHRjb25zdCB6ID0gYXJyYXlbIGkgKyAyIF07XG5cblx0XHRcdGlmICggeCA8IG1pblggKSBtaW5YID0geDtcblx0XHRcdGlmICggeSA8IG1pblkgKSBtaW5ZID0geTtcblx0XHRcdGlmICggeiA8IG1pblogKSBtaW5aID0gejtcblxuXHRcdFx0aWYgKCB4ID4gbWF4WCApIG1heFggPSB4O1xuXHRcdFx0aWYgKCB5ID4gbWF4WSApIG1heFkgPSB5O1xuXHRcdFx0aWYgKCB6ID4gbWF4WiApIG1heFogPSB6O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4uc2V0KCBtaW5YLCBtaW5ZLCBtaW5aICk7XG5cdFx0dGhpcy5tYXguc2V0KCBtYXhYLCBtYXhZLCBtYXhaICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHggPSBhdHRyaWJ1dGUuZ2V0WCggaSApO1xuXHRcdFx0Y29uc3QgeSA9IGF0dHJpYnV0ZS5nZXRZKCBpICk7XG5cdFx0XHRjb25zdCB6ID0gYXR0cmlidXRlLmdldFooIGkgKTtcblxuXHRcdFx0aWYgKCB4IDwgbWluWCApIG1pblggPSB4O1xuXHRcdFx0aWYgKCB5IDwgbWluWSApIG1pblkgPSB5O1xuXHRcdFx0aWYgKCB6IDwgbWluWiApIG1pblogPSB6O1xuXG5cdFx0XHRpZiAoIHggPiBtYXhYICkgbWF4WCA9IHg7XG5cdFx0XHRpZiAoIHkgPiBtYXhZICkgbWF4WSA9IHk7XG5cdFx0XHRpZiAoIHogPiBtYXhaICkgbWF4WiA9IHo7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbi5zZXQoIG1pblgsIG1pblksIG1pblogKTtcblx0XHR0aGlzLm1heC5zZXQoIG1heFgsIG1heFksIG1heFogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHRcdHRoaXMubWluLmNvcHkoIGNlbnRlciApLnN1YiggaGFsZlNpemUgKTtcblx0XHR0aGlzLm1heC5jb3B5KCBjZW50ZXIgKS5hZGQoIGhhbGZTaXplICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0dGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdHJldHVybiB0aGlzLmV4cGFuZEJ5T2JqZWN0KCBvYmplY3QgKTtcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGJveCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUVtcHR5KCkge1xuXG5cdFx0dGhpcy5taW4ueCA9IHRoaXMubWluLnkgPSB0aGlzLm1pbi56ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IHRoaXMubWF4LnogPSAtIEluZmluaXR5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cblx0XHQvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlc1xuXG5cdFx0cmV0dXJuICggdGhpcy5tYXgueCA8IHRoaXMubWluLnggKSB8fCAoIHRoaXMubWF4LnkgPCB0aGlzLm1pbi55ICkgfHwgKCB0aGlzLm1heC56IDwgdGhpcy5taW4ueiApO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAsIDAgKSA6IHRhcmdldC5hZGRWZWN0b3JzKCB0aGlzLm1pbiwgdGhpcy5tYXggKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGdldFNpemUoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwLCAwICkgOiB0YXJnZXQuc3ViVmVjdG9ycyggdGhpcy5tYXgsIHRoaXMubWluICk7XG5cblx0fVxuXG5cdGV4cGFuZEJ5UG9pbnQoIHBvaW50ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBwb2ludCApO1xuXHRcdHRoaXMubWF4Lm1heCggcG9pbnQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVZlY3RvciggdmVjdG9yICkge1xuXG5cdFx0dGhpcy5taW4uc3ViKCB2ZWN0b3IgKTtcblx0XHR0aGlzLm1heC5hZGQoIHZlY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGRTY2FsYXIoIC0gc2NhbGFyICk7XG5cdFx0dGhpcy5tYXguYWRkU2NhbGFyKCBzY2FsYXIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0Ly8gQ29tcHV0ZXMgdGhlIHdvcmxkLWF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggb2YgYW4gb2JqZWN0IChpbmNsdWRpbmcgaXRzIGNoaWxkcmVuKSxcblx0XHQvLyBhY2NvdW50aW5nIGZvciBib3RoIHRoZSBvYmplY3QncywgYW5kIGNoaWxkcmVuJ3MsIHdvcmxkIHRyYW5zZm9ybXNcblxuXHRcdG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCggZmFsc2UsIGZhbHNlICk7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblxuXHRcdGlmICggZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0aWYgKCBnZW9tZXRyeS5ib3VuZGluZ0JveCA9PT0gbnVsbCApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRfYm94LmNvcHkoIGdlb21ldHJ5LmJvdW5kaW5nQm94ICk7XG5cdFx0XHRfYm94LmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XG5cblx0XHRcdHRoaXMudW5pb24oIF9ib3ggKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeU9iamVjdCggY2hpbGRyZW5bIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSB8fFxuXHRcdFx0cG9pbnQueiA8IHRoaXMubWluLnogfHwgcG9pbnQueiA+IHRoaXMubWF4LnogPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNvbnRhaW5zQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiZcblx0XHRcdHRoaXMubWluLnkgPD0gYm94Lm1pbi55ICYmIGJveC5tYXgueSA8PSB0aGlzLm1heC55ICYmXG5cdFx0XHR0aGlzLm1pbi56IDw9IGJveC5taW4ueiAmJiBib3gubWF4LnogPD0gdGhpcy5tYXguejtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55ICksXG5cdFx0XHQoIHBvaW50LnogLSB0aGlzLm1pbi56ICkgLyAoIHRoaXMubWF4LnogLSB0aGlzLm1pbi56IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy5cblx0XHRyZXR1cm4gYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRib3gubWF4LnkgPCB0aGlzLm1pbi55IHx8IGJveC5taW4ueSA+IHRoaXMubWF4LnkgfHxcblx0XHRcdGJveC5tYXgueiA8IHRoaXMubWluLnogfHwgYm94Lm1pbi56ID4gdGhpcy5tYXgueiA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0Ly8gRmluZCB0aGUgcG9pbnQgb24gdGhlIEFBQkIgY2xvc2VzdCB0byB0aGUgc3BoZXJlIGNlbnRlci5cblx0XHR0aGlzLmNsYW1wUG9pbnQoIHNwaGVyZS5jZW50ZXIsIF92ZWN0b3IgKTtcblxuXHRcdC8vIElmIHRoYXQgcG9pbnQgaXMgaW5zaWRlIHRoZSBzcGhlcmUsIHRoZSBBQUJCIGFuZCBzcGhlcmUgaW50ZXJzZWN0LlxuXHRcdHJldHVybiBfdmVjdG9yLmRpc3RhbmNlVG9TcXVhcmVkKCBzcGhlcmUuY2VudGVyICkgPD0gKCBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cyApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gV2UgY29tcHV0ZSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBkb3QgcHJvZHVjdCB2YWx1ZXMuIElmIHRob3NlIHZhbHVlc1xuXHRcdC8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuXG5cdFx0bGV0IG1pbiwgbWF4O1xuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueCA+IDAgKSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblxuXHRcdH1cblxuXHRcdGlmICggcGxhbmUubm9ybWFsLnkgPiAwICkge1xuXG5cdFx0XHRtaW4gKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXHRcdFx0bWF4ICs9IHBsYW5lLm5vcm1hbC55ICogdGhpcy5tYXgueTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWF4Lnk7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueiA+IDAgKSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnogKiB0aGlzLm1heC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5tYXguejtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCBtaW4gPD0gLSBwbGFuZS5jb25zdGFudCAmJiBtYXggPj0gLSBwbGFuZS5jb25zdGFudCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzVHJpYW5nbGUoIHRyaWFuZ2xlICkge1xuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY29tcHV0ZSBib3ggY2VudGVyIGFuZCBleHRlbnRzXG5cdFx0dGhpcy5nZXRDZW50ZXIoIF9jZW50ZXIgKTtcblx0XHRfZXh0ZW50cy5zdWJWZWN0b3JzKCB0aGlzLm1heCwgX2NlbnRlciApO1xuXG5cdFx0Ly8gdHJhbnNsYXRlIHRyaWFuZ2xlIHRvIGFhYmIgb3JpZ2luXG5cdFx0X3YwLnN1YlZlY3RvcnMoIHRyaWFuZ2xlLmEsIF9jZW50ZXIgKTtcblx0XHRfdjEuc3ViVmVjdG9ycyggdHJpYW5nbGUuYiwgX2NlbnRlciApO1xuXHRcdF92Mi5zdWJWZWN0b3JzKCB0cmlhbmdsZS5jLCBfY2VudGVyICk7XG5cblx0XHQvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGVcblx0XHRfZjAuc3ViVmVjdG9ycyggX3YxLCBfdjAgKTtcblx0XHRfZjEuc3ViVmVjdG9ycyggX3YyLCBfdjEgKTtcblx0XHRfZjIuc3ViVmVjdG9ycyggX3YwLCBfdjIgKTtcblxuXHRcdC8vIHRlc3QgYWdhaW5zdCBheGVzIHRoYXQgYXJlIGdpdmVuIGJ5IGNyb3NzIHByb2R1Y3QgY29tYmluYXRpb25zIG9mIHRoZSBlZGdlcyBvZiB0aGUgdHJpYW5nbGUgYW5kIHRoZSBlZGdlcyBvZiB0aGUgYWFiYlxuXHRcdC8vIG1ha2UgYW4gYXhpcyB0ZXN0aW5nIG9mIGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIGFhYmIgYWdhaW5zdCBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSB0cmlhbmdsZSA9IDkgYXhpcyBvZiBzZXBhcmF0aW9uXG5cdFx0Ly8gYXhpc19paiA9IHVfaSB4IGZfaiAodTAsIHUxLCB1MiA9IGZhY2Ugbm9ybWFscyBvZiBhYWJiID0geCx5LHogYXhlcyB2ZWN0b3JzIHNpbmNlIGFhYmIgaXMgYXhpcyBhbGlnbmVkKVxuXHRcdGxldCBheGVzID0gW1xuXHRcdFx0MCwgLSBfZjAueiwgX2YwLnksIDAsIC0gX2YxLnosIF9mMS55LCAwLCAtIF9mMi56LCBfZjIueSxcblx0XHRcdF9mMC56LCAwLCAtIF9mMC54LCBfZjEueiwgMCwgLSBfZjEueCwgX2YyLnosIDAsIC0gX2YyLngsXG5cdFx0XHQtIF9mMC55LCBfZjAueCwgMCwgLSBfZjEueSwgX2YxLngsIDAsIC0gX2YyLnksIF9mMi54LCAwXG5cdFx0XTtcblx0XHRpZiAoICEgc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gdGVzdCAzIGZhY2Ugbm9ybWFscyBmcm9tIHRoZSBhYWJiXG5cdFx0YXhlcyA9IFsgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSBdO1xuXHRcdGlmICggISBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyBmaW5hbGx5IHRlc3RpbmcgdGhlIGZhY2Ugbm9ybWFsIG9mIHRoZSB0cmlhbmdsZVxuXHRcdC8vIHVzZSBhbHJlYWR5IGV4aXN0aW5nIHRyaWFuZ2xlIGVkZ2UgdmVjdG9ycyBoZXJlXG5cdFx0X3RyaWFuZ2xlTm9ybWFsLmNyb3NzVmVjdG9ycyggX2YwLCBfZjEgKTtcblx0XHRheGVzID0gWyBfdHJpYW5nbGVOb3JtYWwueCwgX3RyaWFuZ2xlTm9ybWFsLnksIF90cmlhbmdsZU5vcm1hbC56IF07XG5cblx0XHRyZXR1cm4gc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKTtcblxuXHR9XG5cblx0Y2xhbXBQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0Y29uc3QgY2xhbXBlZFBvaW50ID0gX3ZlY3Rvci5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblxuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRnZXRCb3VuZGluZ1NwaGVyZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHQvL3RhcmdldCA9IG5ldyBTcGhlcmUoKTsgLy8gcmVtb3ZlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5nZXRDZW50ZXIoIHRhcmdldC5jZW50ZXIgKTtcblxuXHRcdHRhcmdldC5yYWRpdXMgPSB0aGlzLmdldFNpemUoIF92ZWN0b3IgKS5sZW5ndGgoKSAqIDAuNTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGludGVyc2VjdCggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWF4KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWluKCBib3gubWF4ICk7XG5cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5pb24oIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1heCggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbWF0cml4ICkge1xuXG5cdFx0Ly8gdHJhbnNmb3JtIG9mIGVtcHR5IGJveCBpcyBhbiBlbXB0eSBib3guXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gTk9URTogSSBhbSB1c2luZyBhIGJpbmFyeSBwYXR0ZXJuIHRvIHNwZWNpZnkgYWxsIDJeMyBjb21iaW5hdGlvbnMgYmVsb3dcblx0XHRfcG9pbnRzWyAwIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDAwXG5cdFx0X3BvaW50c1sgMSBdLnNldCggdGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDAwMVxuXHRcdF9wb2ludHNbIDIgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMTBcblx0XHRfcG9pbnRzWyAzIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDExXG5cdFx0X3BvaW50c1sgNCBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDEwMFxuXHRcdF9wb2ludHNbIDUgXS5zZXQoIHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAxMDFcblx0XHRfcG9pbnRzWyA2IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTEwXG5cdFx0X3BvaW50c1sgNyBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDExMVxuXG5cdFx0dGhpcy5zZXRGcm9tUG9pbnRzKCBfcG9pbnRzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGQoIG9mZnNldCApO1xuXHRcdHRoaXMubWF4LmFkZCggb2Zmc2V0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBib3ggKSB7XG5cblx0XHRyZXR1cm4gYm94Lm1pbi5lcXVhbHMoIHRoaXMubWluICkgJiYgYm94Lm1heC5lcXVhbHMoIHRoaXMubWF4ICk7XG5cblx0fVxuXG59XG5cbkJveDMucHJvdG90eXBlLmlzQm94MyA9IHRydWU7XG5cbmNvbnN0IF9wb2ludHMgPSBbXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpXG5dO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfYm94ID0gLypAX19QVVJFX18qLyBuZXcgQm94MygpO1xuXG4vLyB0cmlhbmdsZSBjZW50ZXJlZCB2ZXJ0aWNlc1xuXG5jb25zdCBfdjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbi8vIHRyaWFuZ2xlIGVkZ2UgdmVjdG9yc1xuXG5jb25zdCBfZjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9jZW50ZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZXh0ZW50cyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90cmlhbmdsZU5vcm1hbCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90ZXN0QXhpcyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuZnVuY3Rpb24gc2F0Rm9yQXhlcyggYXhlcywgdjAsIHYxLCB2MiwgZXh0ZW50cyApIHtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGogPSBheGVzLmxlbmd0aCAtIDM7IGkgPD0gajsgaSArPSAzICkge1xuXG5cdFx0X3Rlc3RBeGlzLmZyb21BcnJheSggYXhlcywgaSApO1xuXHRcdC8vIHByb2plY3QgdGhlIGFhYmIgb250byB0aGUgc2VwZXJhdGluZyBheGlzXG5cdFx0Y29uc3QgciA9IGV4dGVudHMueCAqIE1hdGguYWJzKCBfdGVzdEF4aXMueCApICsgZXh0ZW50cy55ICogTWF0aC5hYnMoIF90ZXN0QXhpcy55ICkgKyBleHRlbnRzLnogKiBNYXRoLmFicyggX3Rlc3RBeGlzLnogKTtcblx0XHQvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXNcblx0XHRjb25zdCBwMCA9IHYwLmRvdCggX3Rlc3RBeGlzICk7XG5cdFx0Y29uc3QgcDEgPSB2MS5kb3QoIF90ZXN0QXhpcyApO1xuXHRcdGNvbnN0IHAyID0gdjIuZG90KCBfdGVzdEF4aXMgKTtcblx0XHQvLyBhY3R1YWwgdGVzdCwgYmFzaWNhbGx5IHNlZSBpZiBlaXRoZXIgb2YgdGhlIG1vc3QgZXh0cmVtZSBvZiB0aGUgdHJpYW5nbGUgcG9pbnRzIGludGVyc2VjdHMgclxuXHRcdGlmICggTWF0aC5tYXgoIC0gTWF0aC5tYXgoIHAwLCBwMSwgcDIgKSwgTWF0aC5taW4oIHAwLCBwMSwgcDIgKSApID4gciApIHtcblxuXHRcdFx0Ly8gcG9pbnRzIG9mIHRoZSBwcm9qZWN0ZWQgdHJpYW5nbGUgYXJlIG91dHNpZGUgdGhlIHByb2plY3RlZCBoYWxmLWxlbmd0aCBvZiB0aGUgYWFiYlxuXHRcdFx0Ly8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXRcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG5cbn1cblxuZXhwb3J0IHsgQm94MyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfc2VnQ2VudGVyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3NlZ0RpciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9kaWZmID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfZWRnZTEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZWRnZTIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jbGFzcyBSYXkge1xuXG5cdGNvbnN0cnVjdG9yKCBvcmlnaW4gPSBuZXcgVmVjdG9yMygpLCBkaXJlY3Rpb24gPSBuZXcgVmVjdG9yMyggMCwgMCwgLSAxICkgKSB7XG5cblx0XHR0aGlzLm9yaWdpbiA9IG9yaWdpbjtcblx0XHR0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuXHR9XG5cblx0c2V0KCBvcmlnaW4sIGRpcmVjdGlvbiApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIG9yaWdpbiApO1xuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIGRpcmVjdGlvbiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHJheSApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIHJheS5vcmlnaW4gKTtcblx0XHR0aGlzLmRpcmVjdGlvbi5jb3B5KCByYXkuZGlyZWN0aW9uICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0fVxuXG5cdGxvb2tBdCggdiApIHtcblxuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIHYgKS5zdWIoIHRoaXMub3JpZ2luICkubm9ybWFsaXplKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmVjYXN0KCB0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggdGhpcy5hdCggdCwgX3ZlY3RvciApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5zdWJWZWN0b3JzKCBwb2ludCwgdGhpcy5vcmlnaW4gKTtcblxuXHRcdGNvbnN0IGRpcmVjdGlvbkRpc3RhbmNlID0gdGFyZ2V0LmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMub3JpZ2luICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBkaXJlY3Rpb25EaXN0YW5jZSA9IF92ZWN0b3Iuc3ViVmVjdG9ycyggcG9pbnQsIHRoaXMub3JpZ2luICkuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXlcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0XHR9XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0cmV0dXJuIF92ZWN0b3IuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3FUb1NlZ21lbnQoIHYwLCB2MSwgb3B0aW9uYWxQb2ludE9uUmF5LCBvcHRpb25hbFBvaW50T25TZWdtZW50ICkge1xuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3Lmdlb21ldHJpY3Rvb2xzLmNvbS9HVEVuZ2luZS9JbmNsdWRlL01hdGhlbWF0aWNzL0d0ZURpc3RSYXlTZWdtZW50Lmhcblx0XHQvLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudFxuXHRcdC8vIGRlZmluZWQgYnkgdjAgYW5kIHYxXG5cdFx0Ly8gSXQgY2FuIGFsc28gc2V0IHR3byBvcHRpb25hbCB0YXJnZXRzIDpcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXlcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzZWdtZW50XG5cblx0XHRfc2VnQ2VudGVyLmNvcHkoIHYwICkuYWRkKCB2MSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHRfc2VnRGlyLmNvcHkoIHYxICkuc3ViKCB2MCApLm5vcm1hbGl6ZSgpO1xuXHRcdF9kaWZmLmNvcHkoIHRoaXMub3JpZ2luICkuc3ViKCBfc2VnQ2VudGVyICk7XG5cblx0XHRjb25zdCBzZWdFeHRlbnQgPSB2MC5kaXN0YW5jZVRvKCB2MSApICogMC41O1xuXHRcdGNvbnN0IGEwMSA9IC0gdGhpcy5kaXJlY3Rpb24uZG90KCBfc2VnRGlyICk7XG5cdFx0Y29uc3QgYjAgPSBfZGlmZi5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cdFx0Y29uc3QgYjEgPSAtIF9kaWZmLmRvdCggX3NlZ0RpciApO1xuXHRcdGNvbnN0IGMgPSBfZGlmZi5sZW5ndGhTcSgpO1xuXHRcdGNvbnN0IGRldCA9IE1hdGguYWJzKCAxIC0gYTAxICogYTAxICk7XG5cdFx0bGV0IHMwLCBzMSwgc3FyRGlzdCwgZXh0RGV0O1xuXG5cdFx0aWYgKCBkZXQgPiAwICkge1xuXG5cdFx0XHQvLyBUaGUgcmF5IGFuZCBzZWdtZW50IGFyZSBub3QgcGFyYWxsZWwuXG5cblx0XHRcdHMwID0gYTAxICogYjEgLSBiMDtcblx0XHRcdHMxID0gYTAxICogYjAgLSBiMTtcblx0XHRcdGV4dERldCA9IHNlZ0V4dGVudCAqIGRldDtcblxuXHRcdFx0aWYgKCBzMCA+PSAwICkge1xuXG5cdFx0XHRcdGlmICggczEgPj0gLSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHMxIDw9IGV4dERldCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmVnaW9uIDBcblx0XHRcdFx0XHRcdC8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC5cblxuXHRcdFx0XHRcdFx0Y29uc3QgaW52RGV0ID0gMSAvIGRldDtcblx0XHRcdFx0XHRcdHMwICo9IGludkRldDtcblx0XHRcdFx0XHRcdHMxICo9IGludkRldDtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSBzMCAqICggczAgKyBhMDEgKiBzMSArIDIgKiBiMCApICsgczEgKiAoIGEwMSAqIHMwICsgczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyByZWdpb24gMVxuXG5cdFx0XHRcdFx0XHRzMSA9IHNlZ0V4dGVudDtcblx0XHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiA1XG5cblx0XHRcdFx0XHRzMSA9IC0gc2VnRXh0ZW50O1xuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoIHMxIDw9IC0gZXh0RGV0ICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVnaW9uIDRcblxuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCAtIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyAtIHNlZ0V4dGVudCA6IE1hdGgubWluKCBNYXRoLm1heCggLSBzZWdFeHRlbnQsIC0gYjEgKSwgc2VnRXh0ZW50ICk7XG5cdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzMSA8PSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gM1xuXG5cdFx0XHRcdFx0czAgPSAwO1xuXHRcdFx0XHRcdHMxID0gTWF0aC5taW4oIE1hdGgubWF4KCAtIHNlZ0V4dGVudCwgLSBiMSApLCBzZWdFeHRlbnQgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gMlxuXG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyBzZWdFeHRlbnQgOiBNYXRoLm1pbiggTWF0aC5tYXgoIC0gc2VnRXh0ZW50LCAtIGIxICksIHNlZ0V4dGVudCApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBSYXkgYW5kIHNlZ21lbnQgYXJlIHBhcmFsbGVsLlxuXG5cdFx0XHRzMSA9ICggYTAxID4gMCApID8gLSBzZWdFeHRlbnQgOiBzZWdFeHRlbnQ7XG5cdFx0XHRzMCA9IE1hdGgubWF4KCAwLCAtICggYTAxICogczEgKyBiMCApICk7XG5cdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25hbFBvaW50T25SYXkgKSB7XG5cblx0XHRcdG9wdGlvbmFsUG9pbnRPblJheS5jb3B5KCB0aGlzLmRpcmVjdGlvbiApLm11bHRpcGx5U2NhbGFyKCBzMCApLmFkZCggdGhpcy5vcmlnaW4gKTtcblxuXHRcdH1cblxuXHRcdGlmICggb3B0aW9uYWxQb2ludE9uU2VnbWVudCApIHtcblxuXHRcdFx0b3B0aW9uYWxQb2ludE9uU2VnbWVudC5jb3B5KCBfc2VnRGlyICkubXVsdGlwbHlTY2FsYXIoIHMxICkuYWRkKCBfc2VnQ2VudGVyICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc3FyRGlzdDtcblxuXHR9XG5cblx0aW50ZXJzZWN0U3BoZXJlKCBzcGhlcmUsIHRhcmdldCApIHtcblxuXHRcdF92ZWN0b3Iuc3ViVmVjdG9ycyggc3BoZXJlLmNlbnRlciwgdGhpcy5vcmlnaW4gKTtcblx0XHRjb25zdCB0Y2EgPSBfdmVjdG9yLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblx0XHRjb25zdCBkMiA9IF92ZWN0b3IuZG90KCBfdmVjdG9yICkgLSB0Y2EgKiB0Y2E7XG5cdFx0Y29uc3QgcmFkaXVzMiA9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xuXG5cdFx0aWYgKCBkMiA+IHJhZGl1czIgKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IHRoYyA9IE1hdGguc3FydCggcmFkaXVzMiAtIGQyICk7XG5cblx0XHQvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQwID0gdGNhIC0gdGhjO1xuXG5cdFx0Ly8gdDEgPSBzZWNvbmQgaW50ZXJzZWN0IHBvaW50IC0gZXhpdCBwb2ludCBvbiBiYWNrIG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQxID0gdGNhICsgdGhjO1xuXG5cdFx0Ly8gdGVzdCB0byBzZWUgaWYgYm90aCB0MCBhbmQgdDEgYXJlIGJlaGluZCB0aGUgcmF5IC0gaWYgc28sIHJldHVybiBudWxsXG5cdFx0aWYgKCB0MCA8IDAgJiYgdDEgPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyB0ZXN0IHRvIHNlZSBpZiB0MCBpcyBiZWhpbmQgdGhlIHJheTpcblx0XHQvLyBpZiBpdCBpcywgdGhlIHJheSBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgc28gcmV0dXJuIHRoZSBzZWNvbmQgZXhpdCBwb2ludCBzY2FsZWQgYnkgdDEsXG5cdFx0Ly8gaW4gb3JkZXIgdG8gYWx3YXlzIHJldHVybiBhbiBpbnRlcnNlY3QgcG9pbnQgdGhhdCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LlxuXHRcdGlmICggdDAgPCAwICkgcmV0dXJuIHRoaXMuYXQoIHQxLCB0YXJnZXQgKTtcblxuXHRcdC8vIGVsc2UgdDAgaXMgaW4gZnJvbnQgb2YgdGhlIHJheSwgc28gcmV0dXJuIHRoZSBmaXJzdCBjb2xsaXNpb24gcG9pbnQgc2NhbGVkIGJ5IHQwXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQwLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQoIHNwaGVyZS5jZW50ZXIgKSA8PSAoIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9QbGFuZSggcGxhbmUgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHBsYW5lLm5vcm1hbC5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHBsYW5lLmRpc3RhbmNlVG9Qb2ludCggdGhpcy5vcmlnaW4gKSA9PT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gMDtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkXG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdCA9IC0gKCB0aGlzLm9yaWdpbi5kb3QoIHBsYW5lLm5vcm1hbCApICsgcGxhbmUuY29uc3RhbnQgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0Ly8gUmV0dXJuIGlmIHRoZSByYXkgbmV2ZXIgaW50ZXJzZWN0cyB0aGUgcGxhbmVcblxuXHRcdHJldHVybiB0ID49IDAgPyB0IDogbnVsbDtcblxuXHR9XG5cblx0aW50ZXJzZWN0UGxhbmUoIHBsYW5lLCB0YXJnZXQgKSB7XG5cblx0XHRjb25zdCB0ID0gdGhpcy5kaXN0YW5jZVRvUGxhbmUoIHBsYW5lICk7XG5cblx0XHRpZiAoIHQgPT09IG51bGwgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gY2hlY2sgaWYgdGhlIHJheSBsaWVzIG9uIHRoZSBwbGFuZSBmaXJzdFxuXG5cdFx0Y29uc3QgZGlzdFRvUG9pbnQgPSBwbGFuZS5kaXN0YW5jZVRvUG9pbnQoIHRoaXMub3JpZ2luICk7XG5cblx0XHRpZiAoIGRpc3RUb1BvaW50ID09PSAwICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gcGxhbmUubm9ybWFsLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgKiBkaXN0VG9Qb2ludCA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcmF5IG9yaWdpbiBpcyBiZWhpbmQgdGhlIHBsYW5lIChhbmQgaXMgcG9pbnRpbmcgYmVoaW5kIGl0KVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RCb3goIGJveCwgdGFyZ2V0ICkge1xuXG5cdFx0bGV0IHRtaW4sIHRtYXgsIHR5bWluLCB0eW1heCwgdHptaW4sIHR6bWF4O1xuXG5cdFx0Y29uc3QgaW52ZGlyeCA9IDEgLyB0aGlzLmRpcmVjdGlvbi54LFxuXHRcdFx0aW52ZGlyeSA9IDEgLyB0aGlzLmRpcmVjdGlvbi55LFxuXHRcdFx0aW52ZGlyeiA9IDEgLyB0aGlzLmRpcmVjdGlvbi56O1xuXG5cdFx0Y29uc3Qgb3JpZ2luID0gdGhpcy5vcmlnaW47XG5cblx0XHRpZiAoIGludmRpcnggPj0gMCApIHtcblxuXHRcdFx0dG1pbiA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cdFx0XHR0bWF4ID0gKCBib3gubWF4LnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRtaW4gPSAoIGJveC5tYXgueCAtIG9yaWdpbi54ICkgKiBpbnZkaXJ4O1xuXHRcdFx0dG1heCA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cblx0XHR9XG5cblx0XHRpZiAoIGludmRpcnkgPj0gMCApIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAoIHRtaW4gPiB0eW1heCApIHx8ICggdHltaW4gPiB0bWF4ICkgKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIFRoZXNlIGxpbmVzIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRtaW4gb3IgdG1heCBpcyBOYU5cblx0XHQvLyAocmVzdWx0IG9mIDAgKiBJbmZpbml0eSkuIHggIT09IHggcmV0dXJucyB0cnVlIGlmIHggaXMgTmFOXG5cblx0XHRpZiAoIHR5bWluID4gdG1pbiB8fCB0bWluICE9PSB0bWluICkgdG1pbiA9IHR5bWluO1xuXG5cdFx0aWYgKCB0eW1heCA8IHRtYXggfHwgdG1heCAhPT0gdG1heCApIHRtYXggPSB0eW1heDtcblxuXHRcdGlmICggaW52ZGlyeiA+PSAwICkge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9XG5cblx0XHRpZiAoICggdG1pbiA+IHR6bWF4ICkgfHwgKCB0em1pbiA+IHRtYXggKSApIHJldHVybiBudWxsO1xuXG5cdFx0aWYgKCB0em1pbiA+IHRtaW4gfHwgdG1pbiAhPT0gdG1pbiApIHRtaW4gPSB0em1pbjtcblxuXHRcdGlmICggdHptYXggPCB0bWF4IHx8IHRtYXggIT09IHRtYXggKSB0bWF4ID0gdHptYXg7XG5cblx0XHQvL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpXG5cblx0XHRpZiAoIHRtYXggPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcy5hdCggdG1pbiA+PSAwID8gdG1pbiA6IHRtYXgsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goIGJveCwgX3ZlY3RvciApICE9PSBudWxsO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RUcmlhbmdsZSggYSwgYiwgYywgYmFja2ZhY2VDdWxsaW5nLCB0YXJnZXQgKSB7XG5cblx0XHQvLyBDb21wdXRlIHRoZSBvZmZzZXQgb3JpZ2luLCBlZGdlcywgYW5kIG5vcm1hbC5cblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5nZW9tZXRyaWN0b29scy5jb20vR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oXG5cblx0XHRfZWRnZTEuc3ViVmVjdG9ycyggYiwgYSApO1xuXHRcdF9lZGdlMi5zdWJWZWN0b3JzKCBjLCBhICk7XG5cdFx0X25vcm1hbC5jcm9zc1ZlY3RvcnMoIF9lZGdlMSwgX2VkZ2UyICk7XG5cblx0XHQvLyBTb2x2ZSBRICsgdCpEID0gYjEqRTEgKyBiMipFMiAoUSA9IGtEaWZmLCBEID0gcmF5IGRpcmVjdGlvbixcblx0XHQvLyBFMSA9IGtFZGdlMSwgRTIgPSBrRWRnZTIsIE4gPSBDcm9zcyhFMSxFMikpIGJ5XG5cdFx0Ly8gICB8RG90KEQsTil8KmIxID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoUSxFMikpXG5cdFx0Ly8gICB8RG90KEQsTil8KmIyID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoRTEsUSkpXG5cdFx0Ly8gICB8RG90KEQsTil8KnQgPSAtc2lnbihEb3QoRCxOKSkqRG90KFEsTilcblx0XHRsZXQgRGROID0gdGhpcy5kaXJlY3Rpb24uZG90KCBfbm9ybWFsICk7XG5cdFx0bGV0IHNpZ247XG5cblx0XHRpZiAoIERkTiA+IDAgKSB7XG5cblx0XHRcdGlmICggYmFja2ZhY2VDdWxsaW5nICkgcmV0dXJuIG51bGw7XG5cdFx0XHRzaWduID0gMTtcblxuXHRcdH0gZWxzZSBpZiAoIERkTiA8IDAgKSB7XG5cblx0XHRcdHNpZ24gPSAtIDE7XG5cdFx0XHREZE4gPSAtIERkTjtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0X2RpZmYuc3ViVmVjdG9ycyggdGhpcy5vcmlnaW4sIGEgKTtcblx0XHRjb25zdCBEZFF4RTIgPSBzaWduICogdGhpcy5kaXJlY3Rpb24uZG90KCBfZWRnZTIuY3Jvc3NWZWN0b3JzKCBfZGlmZiwgX2VkZ2UyICkgKTtcblxuXHRcdC8vIGIxIDwgMCwgbm8gaW50ZXJzZWN0aW9uXG5cdFx0aWYgKCBEZFF4RTIgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IERkRTF4USA9IHNpZ24gKiB0aGlzLmRpcmVjdGlvbi5kb3QoIF9lZGdlMS5jcm9zcyggX2RpZmYgKSApO1xuXG5cdFx0Ly8gYjIgPCAwLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkRTF4USA8IDAgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYjErYjIgPiAxLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkUXhFMiArIERkRTF4USA+IERkTiApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBMaW5lIGludGVyc2VjdHMgdHJpYW5nbGUsIGNoZWNrIGlmIHJheSBkb2VzLlxuXHRcdGNvbnN0IFFkTiA9IC0gc2lnbiAqIF9kaWZmLmRvdCggX25vcm1hbCApO1xuXG5cdFx0Ly8gdCA8IDAsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggUWROIDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBSYXkgaW50ZXJzZWN0cyB0cmlhbmdsZS5cblx0XHRyZXR1cm4gdGhpcy5hdCggUWROIC8gRGROLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXg0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KCBtYXRyaXg0ICk7XG5cdFx0dGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXg0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCByYXkgKSB7XG5cblx0XHRyZXR1cm4gcmF5Lm9yaWdpbi5lcXVhbHMoIHRoaXMub3JpZ2luICkgJiYgcmF5LmRpcmVjdGlvbi5lcXVhbHMoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBSYXkgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0ICogYXMgTWF0aFV0aWxzIGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX3N0YXJ0UCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zdGFydEVuZCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY2xhc3MgTGluZTMge1xuXG5cdGNvbnN0cnVjdG9yKCBzdGFydCA9IG5ldyBWZWN0b3IzKCksIGVuZCA9IG5ldyBWZWN0b3IzKCkgKSB7XG5cblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cblx0fVxuXG5cdHNldCggc3RhcnQsIGVuZCApIHtcblxuXHRcdHRoaXMuc3RhcnQuY29weSggc3RhcnQgKTtcblx0XHR0aGlzLmVuZC5jb3B5KCBlbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBsaW5lICkge1xuXG5cdFx0dGhpcy5zdGFydC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cdFx0dGhpcy5lbmQuY29weSggbGluZS5lbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMuc3RhcnQsIHRoaXMuZW5kICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRkZWx0YSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLmVuZCwgdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUbyggdGhpcy5lbmQgKTtcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmRlbHRhKCB0YXJnZXQgKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKCBwb2ludCwgY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRfc3RhcnRQLnN1YlZlY3RvcnMoIHBvaW50LCB0aGlzLnN0YXJ0ICk7XG5cdFx0X3N0YXJ0RW5kLnN1YlZlY3RvcnMoIHRoaXMuZW5kLCB0aGlzLnN0YXJ0ICk7XG5cblx0XHRjb25zdCBzdGFydEVuZDIgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRFbmQgKTtcblx0XHRjb25zdCBzdGFydEVuZF9zdGFydFAgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRQICk7XG5cblx0XHRsZXQgdCA9IHN0YXJ0RW5kX3N0YXJ0UCAvIHN0YXJ0RW5kMjtcblxuXHRcdGlmICggY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRcdHQgPSBNYXRoVXRpbHMuY2xhbXAoIHQsIDAsIDEgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgY2xhbXBUb0xpbmUsIHRhcmdldCApIHtcblxuXHRcdGNvbnN0IHQgPSB0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoIHBvaW50LCBjbGFtcFRvTGluZSApO1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZWx0YSggdGFyZ2V0ICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMuc3RhcnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXggKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cdFx0dGhpcy5lbmQuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGxpbmUgKSB7XG5cblx0XHRyZXR1cm4gbGluZS5zdGFydC5lcXVhbHMoIHRoaXMuc3RhcnQgKSAmJiBsaW5lLmVuZC5lcXVhbHMoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBMaW5lMyB9O1xuIiwiY2xhc3MgTWF0cml4MyB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCxcblx0XHRcdDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjIxLCBuMjIsIG4yMywgbjMxLCBuMzIsIG4zMyApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyAxIF0gPSBuMjE7IHRlWyAyIF0gPSBuMzE7XG5cdFx0dGVbIDMgXSA9IG4xMjsgdGVbIDQgXSA9IG4yMjsgdGVbIDUgXSA9IG4zMjtcblx0XHR0ZVsgNiBdID0gbjEzOyB0ZVsgNyBdID0gbjIzOyB0ZVsgOCBdID0gbjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07XG5cdFx0dGVbIDMgXSA9IG1lWyAzIF07IHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTtcblx0XHR0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07IHRlWyA4IF0gPSBtZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAwICk7XG5cdFx0eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyA0IF0sIG1lWyA4IF0sXG5cdFx0XHRtZVsgMSBdLCBtZVsgNSBdLCBtZVsgOSBdLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDYgXSwgbWVbIDEwIF1cblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgMyBdLCBhMTMgPSBhZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IGFlWyAxIF0sIGEyMiA9IGFlWyA0IF0sIGEyMyA9IGFlWyA3IF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDUgXSwgYTMzID0gYWVbIDggXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyAzIF0sIGIxMyA9IGJlWyA2IF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDQgXSwgYjIzID0gYmVbIDcgXTtcblx0XHRjb25zdCBiMzEgPSBiZVsgMiBdLCBiMzIgPSBiZVsgNSBdLCBiMzMgPSBiZVsgOCBdO1xuXG5cdFx0dGVbIDAgXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTtcblx0XHR0ZVsgMyBdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyO1xuXHRcdHRlWyA2IF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzM7XG5cblx0XHR0ZVsgMSBdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuXHRcdHRlWyA0IF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG5cdFx0dGVbIDcgXSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcblxuXHRcdHRlWyAyIF0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7XG5cdFx0dGVbIDUgXSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjtcblx0XHR0ZVsgOCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgMyBdICo9IHM7IHRlWyA2IF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDcgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOCBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhID0gdGVbIDAgXSwgYiA9IHRlWyAxIF0sIGMgPSB0ZVsgMiBdLFxuXHRcdFx0ZCA9IHRlWyAzIF0sIGUgPSB0ZVsgNCBdLCBmID0gdGVbIDUgXSxcblx0XHRcdGcgPSB0ZVsgNiBdLCBoID0gdGVbIDcgXSwgaSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sXG5cdFx0XHRuMTIgPSB0ZVsgMyBdLCBuMjIgPSB0ZVsgNCBdLCBuMzIgPSB0ZVsgNSBdLFxuXHRcdFx0bjEzID0gdGVbIDYgXSwgbjIzID0gdGVbIDcgXSwgbjMzID0gdGVbIDggXSxcblxuXHRcdFx0dDExID0gbjMzICogbjIyIC0gbjMyICogbjIzLFxuXHRcdFx0dDEyID0gbjMyICogbjEzIC0gbjMzICogbjEyLFxuXHRcdFx0dDEzID0gbjIzICogbjEyIC0gbjIyICogbjEzLFxuXG5cdFx0XHRkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTM7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjMxICogbjIzIC0gbjMzICogbjIxICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjMyICogbjIxIC0gbjMxICogbjIyICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMyBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA0IF0gPSAoIG4zMyAqIG4xMSAtIG4zMSAqIG4xMyApICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4zMSAqIG4xMiAtIG4zMiAqIG4xMSApICogZGV0SW52O1xuXG5cdFx0dGVbIDYgXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMjEgKiBuMTMgLSBuMjMgKiBuMTEgKSAqIGRldEludjtcblx0XHR0ZVsgOCBdID0gKCBuMjIgKiBuMTEgLSBuMjEgKiBuMTIgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRsZXQgdG1wO1xuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dG1wID0gbVsgMSBdOyBtWyAxIF0gPSBtWyAzIF07IG1bIDMgXSA9IHRtcDtcblx0XHR0bXAgPSBtWyAyIF07IG1bIDIgXSA9IG1bIDYgXTsgbVsgNiBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDUgXTsgbVsgNSBdID0gbVsgNyBdOyBtWyA3IF0gPSB0bXA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Tm9ybWFsTWF0cml4KCBtYXRyaXg0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoIG1hdHJpeDQgKS5pbnZlcnQoKS50cmFuc3Bvc2UoKTtcblxuXHR9XG5cblx0dHJhbnNwb3NlSW50b0FycmF5KCByICkge1xuXG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRyWyAwIF0gPSBtWyAwIF07XG5cdFx0clsgMSBdID0gbVsgMyBdO1xuXHRcdHJbIDIgXSA9IG1bIDYgXTtcblx0XHRyWyAzIF0gPSBtWyAxIF07XG5cdFx0clsgNCBdID0gbVsgNCBdO1xuXHRcdHJbIDUgXSA9IG1bIDcgXTtcblx0XHRyWyA2IF0gPSBtWyAyIF07XG5cdFx0clsgNyBdID0gbVsgNSBdO1xuXHRcdHJbIDggXSA9IG1bIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRVdlRyYW5zZm9ybSggdHgsIHR5LCBzeCwgc3ksIHJvdGF0aW9uLCBjeCwgY3kgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHJvdGF0aW9uICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCByb3RhdGlvbiApO1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHRzeCAqIGMsIHN4ICogcywgLSBzeCAqICggYyAqIGN4ICsgcyAqIGN5ICkgKyBjeCArIHR4LFxuXHRcdFx0LSBzeSAqIHMsIHN5ICogYywgLSBzeSAqICggLSBzICogY3ggKyBjICogY3kgKSArIGN5ICsgdHksXG5cdFx0XHQwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggc3gsIHN5ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzeDsgdGVbIDMgXSAqPSBzeDsgdGVbIDYgXSAqPSBzeDtcblx0XHR0ZVsgMSBdICo9IHN5OyB0ZVsgNCBdICo9IHN5OyB0ZVsgNyBdICo9IHN5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gdGVbIDAgXSwgYTEyID0gdGVbIDMgXSwgYTEzID0gdGVbIDYgXTtcblx0XHRjb25zdCBhMjEgPSB0ZVsgMSBdLCBhMjIgPSB0ZVsgNCBdLCBhMjMgPSB0ZVsgNyBdO1xuXG5cdFx0dGVbIDAgXSA9IGMgKiBhMTEgKyBzICogYTIxO1xuXHRcdHRlWyAzIF0gPSBjICogYTEyICsgcyAqIGEyMjtcblx0XHR0ZVsgNiBdID0gYyAqIGExMyArIHMgKiBhMjM7XG5cblx0XHR0ZVsgMSBdID0gLSBzICogYTExICsgYyAqIGEyMTtcblx0XHR0ZVsgNCBdID0gLSBzICogYTEyICsgYyAqIGEyMjtcblx0XHR0ZVsgNyBdID0gLSBzICogYTEzICsgYyAqIGEyMztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIHR4LCB0eSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gKz0gdHggKiB0ZVsgMiBdOyB0ZVsgMyBdICs9IHR4ICogdGVbIDUgXTsgdGVbIDYgXSArPSB0eCAqIHRlWyA4IF07XG5cdFx0dGVbIDEgXSArPSB0eSAqIHRlWyAyIF07IHRlWyA0IF0gKz0gdHkgKiB0ZVsgNSBdOyB0ZVsgNyBdICs9IHR5ICogdGVbIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDk7IGkgKysgKSB7XG5cblx0XHRcdGlmICggdGVbIGkgXSAhPT0gbWVbIGkgXSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgOTsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG59XG5cbk1hdHJpeDMucHJvdG90eXBlLmlzTWF0cml4MyA9IHRydWU7XG5cbmV4cG9ydCB7IE1hdHJpeDMgfTtcbiIsImltcG9ydCB7IE1hdHJpeDMgfSBmcm9tICcuL01hdHJpeDMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ZlY3RvcjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsTWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4MygpO1xuXG5jbGFzcyBQbGFuZSB7XG5cblx0Y29uc3RydWN0b3IoIG5vcm1hbCA9IG5ldyBWZWN0b3IzKCAxLCAwLCAwICksIGNvbnN0YW50ID0gMCApIHtcblxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWRcblxuXHRcdHRoaXMubm9ybWFsID0gbm9ybWFsO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBjb25zdGFudDtcblxuXHR9XG5cblx0c2V0KCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggbm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IGNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudHMoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5zZXQoIHgsIHksIHogKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggbm9ybWFsLCBwb2ludCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHBvaW50LmRvdCggdGhpcy5ub3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ29wbGFuYXJQb2ludHMoIGEsIGIsIGMgKSB7XG5cblx0XHRjb25zdCBub3JtYWwgPSBfdmVjdG9yMS5zdWJWZWN0b3JzKCBjLCBiICkuY3Jvc3MoIF92ZWN0b3IyLnN1YlZlY3RvcnMoIGEsIGIgKSApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT9cblxuXHRcdHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgYSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHBsYW5lICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggcGxhbmUubm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IHBsYW5lLmNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdC8vIE5vdGU6IHdpbGwgbGVhZCB0byBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBwbGFuZSBpcyBpbnZhbGlkLlxuXG5cdFx0Y29uc3QgaW52ZXJzZU5vcm1hbExlbmd0aCA9IDEuMCAvIHRoaXMubm9ybWFsLmxlbmd0aCgpO1xuXHRcdHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKCBpbnZlcnNlTm9ybWFsTGVuZ3RoICk7XG5cdFx0dGhpcy5jb25zdGFudCAqPSBpbnZlcnNlTm9ybWFsTGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMuY29uc3RhbnQgKj0gLSAxO1xuXHRcdHRoaXMubm9ybWFsLm5lZ2F0ZSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWwuZG90KCBwb2ludCApICsgdGhpcy5jb25zdGFudDtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBzcGhlcmUuY2VudGVyICkgLSBzcGhlcmUucmFkaXVzO1xuXG5cdH1cblxuXHRwcm9qZWN0UG9pbnQoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBwb2ludCApICkuYWRkKCBwb2ludCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RMaW5lKCBsaW5lLCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IGxpbmUuZGVsdGEoIF92ZWN0b3IxICk7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHRoaXMubm9ybWFsLmRvdCggZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBsaW5lLnN0YXJ0ICkgPT09IDAgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gVW5zdXJlIGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgbWV0aG9kIHRvIGhhbmRsZSB0aGlzIGNhc2UuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHQgPSAtICggbGluZS5zdGFydC5kb3QoIHRoaXMubm9ybWFsICkgKyB0aGlzLmNvbnN0YW50ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdGlmICggdCA8IDAgfHwgdCA+IDEgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBkaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggbGluZS5zdGFydCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzTGluZSggbGluZSApIHtcblxuXHRcdC8vIE5vdGU6IHRoaXMgdGVzdHMgaWYgYSBsaW5lIGludGVyc2VjdHMgdGhlIHBsYW5lLCBub3Qgd2hldGhlciBpdCAob3IgaXRzIGVuZC1wb2ludHMpIGFyZSBjb3BsYW5hciB3aXRoIGl0LlxuXG5cdFx0Y29uc3Qgc3RhcnRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKTtcblx0XHRjb25zdCBlbmRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuZW5kICk7XG5cblx0XHRyZXR1cm4gKCBzdGFydFNpZ24gPCAwICYmIGVuZFNpZ24gPiAwICkgfHwgKCBlbmRTaWduIDwgMCAmJiBzdGFydFNpZ24gPiAwICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNTcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcGxhbmFyUG9pbnQoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXgsIG9wdGlvbmFsTm9ybWFsTWF0cml4ICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsTWF0cml4ID0gb3B0aW9uYWxOb3JtYWxNYXRyaXggfHwgX25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3QgcmVmZXJlbmNlUG9pbnQgPSB0aGlzLmNvcGxhbmFyUG9pbnQoIF92ZWN0b3IxICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdGNvbnN0IG5vcm1hbCA9IHRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myggbm9ybWFsTWF0cml4ICkubm9ybWFsaXplKCk7XG5cblx0XHR0aGlzLmNvbnN0YW50ID0gLSByZWZlcmVuY2VQb2ludC5kb3QoIG5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAtPSBvZmZzZXQuZG90KCB0aGlzLm5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcGxhbmUgKSB7XG5cblx0XHRyZXR1cm4gcGxhbmUubm9ybWFsLmVxdWFscyggdGhpcy5ub3JtYWwgKSAmJiAoIHBsYW5lLmNvbnN0YW50ID09PSB0aGlzLmNvbnN0YW50ICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5QbGFuZS5wcm90b3R5cGUuaXNQbGFuZSA9IHRydWU7XG5cbmV4cG9ydCB7IFBsYW5lIH07XG4iLCJpbXBvcnQge1ZlY3RvcjJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjInXG5pbXBvcnQge1ZlY3RvcjN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge1ZlY3RvcjR9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjQnXG5pbXBvcnQge1F1YXRlcm5pb259IGZyb20gJ3RocmVlL3NyYy9tYXRoL1F1YXRlcm5pb24nXG5pbXBvcnQge0V1bGVyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9FdWxlcidcbmltcG9ydCB7Q29sb3J9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0NvbG9yJ1xuaW1wb3J0IHtCb3gyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gyJ1xuaW1wb3J0IHtCb3gzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gzJ1xuaW1wb3J0IHtSYXl9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1JheSdcbmltcG9ydCB7TGluZTN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0xpbmUzJ1xuaW1wb3J0IHtQbGFuZX0gZnJvbSAndGhyZWUvc3JjL21hdGgvUGxhbmUnXG5cbi8vIGltcG9ydCB7TWF0cml4M30gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4Mydcbi8vIGltcG9ydCB7TWF0cml4NH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcblxuXG4vLyBleHBvcnQgY2xhc3MgUHJvcGVydHlJdGVyYXRvcjxUID0gYW55PiBpbXBsZW1lbnRzIEl0ZXJhdG9yPG51bWJlcj4ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX29iajpULCBwcml2YXRlIF9rZXlzOlJlYWRvbmx5QXJyYXk8a2V5b2YgVD4pIHt9XG4vLyAgICAgcHJpdmF0ZSBfaWR4ID0gMFxuLy8gICAgIG5leHQoKSA6IEl0ZXJhdG9yUmVzdWx0PG51bWJlciwgbnVtYmVyPiB7XG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICBkb25lOiB0aGlzLl9pZHggPT09IChWZWN0b3IyS2V5cy5sZW5ndGggLSAxKSxcbi8vICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vYmpbdGhpcy5fa2V5c1t0aGlzLl9pZHgrK11dIGFzIGFueVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMicge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IyIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjJLZXlzID0gWyd4JywneSddIGFzIGNvbnN0XG4vLyBWZWN0b3IyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBWZWN0b3IyS2V5cylcbi8vIH1cblxuLy8gZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnIHtcbi8vICAgICBpbnRlcmZhY2UgVmVjdG9yMyB7XG4vLyAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IFByb3BlcnR5SXRlcmF0b3Jcbi8vICAgICB9XG4vLyB9XG4vLyBjb25zdCBWZWN0b3IzS2V5cyA9IFsneCcsJ3knLCd6J10gYXMgY29uc3Rcbi8vIFZlY3RvcjMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjNLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbicge1xuLy8gICAgIGludGVyZmFjZSBRdWF0ZXJuaW9uIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFF1YXRlcm5pb25LZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gUXVhdGVybmlvbi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgUXVhdGVybmlvbktleXMpXG4vLyB9XG5cbi8vIGltcG9ydCB7dHJhY2tlZH0gZnJvbSAnLi90cmFja2luZydcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd3Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeCcpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3knKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ196Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfdycpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ3InKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdnJylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAnYicpXG5cbmV4cG9ydCBjb25zdCBWXzAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMigwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDEsMSkpXG5leHBvcnQgY29uc3QgVl8wMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwwKSlcbmV4cG9ydCBjb25zdCBWXzEwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMDEwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLDEsMCkpXG5leHBvcnQgY29uc3QgVl8wMDEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwxKSlcbmV4cG9ydCBjb25zdCBWXzExMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwxLDEpKVxuZXhwb3J0IGNvbnN0IFFfSURFTlRJVFkgPSBPYmplY3QuZnJlZXplKG5ldyBRdWF0ZXJuaW9uKVxuXG5leHBvcnQgY29uc3QgRElSRUNUSU9OID0ge1xuICAgIFJJR0hUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDEsIDAsIDApKSxcbiAgICBVUDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAxLCAwKSksXG4gICAgTkVBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAxKSksXG4gICAgTEVGVDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygtMSwgMCwgMCkpLFxuICAgIERPV046IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgLTEsIDApKSxcbiAgICBGQVI6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgMCwgLTEpKVxufVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvQm94Mycge1xuLy8gICAgIGludGVyZmFjZSBCb3gzIHtcbi8vICAgICAgICAgbGVmdDpudW1iZXJcbi8vICAgICAgICAgcmlnaHQ6bnVtYmVyXG4vLyAgICAgICAgIGJvdHRvbTpudW1iZXJcbi8vICAgICAgICAgdG9wOm51bWJlclxuLy8gICAgICAgICBjZW50ZXI6VmVjdG9yM1xuLy8gICAgIH1cbi8vIH1cblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnbGVmdCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAncmlnaHQnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueFxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3RvcCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi55XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnYm90dG9tJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4Lnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBjb25zdCBjZW50ZXJNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdjZW50ZXInLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIWNlbnRlck1hcC5oYXModGhpcykpIGNlbnRlck1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENlbnRlcihjZW50ZXJNYXAuZ2V0KHRoaXMpKVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IHNpemVNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdzaXplJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgaWYgKCFzaXplTWFwLmhhcyh0aGlzKSkgc2l6ZU1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoc2l6ZU1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuZXhwb3J0IHtcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjMsXG4gICAgVmVjdG9yNCxcbiAgICBRdWF0ZXJuaW9uLFxuICAgIEV1bGVyLFxuICAgIENvbG9yLFxuICAgIEJveDIsXG4gICAgQm94MyxcbiAgICBSYXksXG4gICAgTGluZTMsXG4gICAgUGxhbmUsXG59XG5cblxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IyTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yNExpa2Uge3g6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBRdWF0ZXJuaW9uTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbG9yTGlrZSB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQm94M0xpa2Uge21pbjpWZWN0b3IzTGlrZSwgbWF4OlZlY3RvcjNMaWtlfVxuLy8gZXhwb3J0IGludGVyZmFjZSBSYXlMaWtlIHtvcmlnaW46VmVjdG9yM0xpa2UsIGRpcmVjdGlvbjpWZWN0b3IzTGlrZX1cblxuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4MydcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5leHBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzJ1xuXG4vKlxuKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBhIHVuaXRsZXNzIHNjYWxhciBtZWFzdXJlIG9mIHRoZSBkaWZmZXJlbmNlXG4qIGJldHdlZW4gdGhlIGB0YXJnZXRgIHZhbHVlIGFuZCB0aGUgcHJldmlvdXMgdGFyZ2V0IHZhbHVlIChzdGFnZWQgb3IgY29tbWl0dGVkKVxuKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlbGF0aXZlX2NoYW5nZV9hbmRfZGlmZmVyZW5jZVxuKiBcbiogRXhhY3RseSBob3cgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBjYWxjdWxhdGVkIGlzIGJhc2VkIG9uIHRoZSB2YWx1ZSB0eXBlOlxuXG4qIG51bWJlciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIGFic29sdXRlIHZhbHVlXG4qIHZlY3RvciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIG1hZ25pdHVkZVxuKiBib3ggLSBhdmcgY29ycmVzcG9uZGluZyBjb3JuZXIgZGlzdGFuY2VzIC8gYXZnIHNpemUgbWFnbml0dWRlXG4qIHF1YXRlcm5pb24gLSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gLyBtYXggYW5ndWxhciBkaXN0YW5jZSAoMTgwIGRlZylcbiogY29sb3IgLSBhdmcgcmdiIGRpc3RhbmNlIC8gbWF4IHJnYiBkaXN0YW5jZSAod2hpdGUgPSBzcXJ0KDMpKVxuKiBcbiogSWYgdGhlcmUgaXMgbm8gY2hhbmdlLCB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyAwXG4qIE90aGVyd2lzZSwgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgcG9zaXRpdmUuIFxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVsYXRpdmVEaWZmZXJlbmNlPFQgZXh0ZW5kcyBNYXRoVHlwZSA9IE1hdGhUeXBlPihzdGFydDpULCBlbmQ6VCkge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VOdW1iZXIoc3RhcnQsIGVuZCBhcyBudW1iZXIpICAgIFxuICAgIGlmICgnaXNWZWN0b3IzJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMyhzdGFydCBhcyBWZWN0b3IzLCBlbmQgYXMgVmVjdG9yMykgICAgXG4gICAgaWYgKCdpc1ZlY3RvcjInIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IyKHN0YXJ0IGFzIFZlY3RvcjIsIGVuZCBhcyBWZWN0b3IyKSAgICBcbiAgICBpZiAoJ2lzQm94MycgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoc3RhcnQgYXMgQm94MywgZW5kIGFzIEJveDMpXG4gICAgLy8gdGhlIGZvbGxvd2luZyB0eXBlcyBhcmUgbmF0dXJhbGx5IGJvdW5kZWQsXG4gICAgLy8gc28gaW5zdGVhZCBvZiBkaXZpZGluZyBieSBhdmVyYWdlIG1hZ25pdHVkZXMsXG4gICAgLy8gd2UgY2FuIHNpbXBseSBkaXZpZGUgYnkgdGhlIG1heGltdW0gZGlzdGFuY2UgXG4gICAgLy8gYmV0d2VlbiBhbnkgdHdvIHBvc3NpYmxlIHZhbHVlc1xuICAgIGlmICgnaXNRdWF0ZXJuaW9uJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlUXVhdGVybmlvbihzdGFydCBhcyBRdWF0ZXJuaW9uLCBlbmQgYXMgUXVhdGVybmlvbilcbiAgICBpZiAoJ2lzQ29sb3InIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VDb2xvcihzdGFydCBhcyBDb2xvciwgZW5kIGFzIENvbG9yKVxuICAgIHJldHVybiBJbmZpbml0eVxufVxuZXhwb3J0IHR5cGUgTWF0aFR5cGUgPSBudW1iZXJ8VmVjdG9yMnxWZWN0b3IzfENvbG9yfFF1YXRlcm5pb258Qm94M1xuXG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlTnVtYmVyKHM6bnVtYmVyLCBlOm51bWJlcikge1xuICAgIGlmIChlID09PSBzKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZS1zKVxuICAgIGNvbnN0IGF2Z0Fic29sdXRlVmFsdWUgPSAoKE1hdGguYWJzKGUpICsgTWF0aC5hYnMocykpLzIpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnQWJzb2x1dGVWYWx1ZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjMoczpUSFJFRS5WZWN0b3IzLGU6VEhSRUUuVmVjdG9yMykge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjIoczpUSFJFRS5WZWN0b3IyLGU6VEhSRUUuVmVjdG9yMikge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoczpCb3gzLCBlOkJveDMpIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgY29uc3QgdiA9IHNjcmF0Y2hWM1xuICAgIGNvbnN0IG1pbkRpc3QgPSBlLm1pbi5kaXN0YW5jZVRvKHMubWluKVxuICAgIGNvbnN0IG1heERpc3QgPSBlLm1heC5kaXN0YW5jZVRvKHMubWF4KVxuICAgIGNvbnN0IGF2Z0Rpc3RhbmNlID0gKG1pbkRpc3QgKyBtYXhEaXN0KSAvIDJcbiAgICBjb25zdCBhdmdTaXplTWFnbml0dWRlID0gKGUuZ2V0U2l6ZSh2KS5sZW5ndGgoKSArIHMuZ2V0U2l6ZSh2KS5sZW5ndGgoKSkgLyAyXG4gICAgcmV0dXJuIGF2Z0Rpc3RhbmNlIC8gYXZnU2l6ZU1hZ25pdHVkZVxufVxuY29uc3Qgc2NyYXRjaFYzID0gbmV3IFZlY3RvcjNcblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VRdWF0ZXJuaW9uKHM6UXVhdGVybmlvbiwgZTpRdWF0ZXJuaW9uKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIHJldHVybiBzLmFuZ2xlVG8oZSkgLyBNYXRoLlBJXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQ29sb3IoczpDb2xvciwgZTpDb2xvcikge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICBjb25zdCB2ID0gc2NyYXRjaFYzXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2LnNldChcbiAgICAgICAgTWF0aC5hYnMoZS5yIC0gcy5yKSxcbiAgICAgICAgTWF0aC5hYnMoZS5nIC0gcy5nKSwgXG4gICAgICAgIE1hdGguYWJzKGUuYiAtIHMuYilcbiAgICApLmxlbmd0aCgpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gc3FydDNcbn1cbmNvbnN0IHNxcnQzID0gTWF0aC5zcXJ0KDMpXG5cblxuXG4vKiogXG4gKiBSZXR1cm4gcmFuZG9tIG51bWJlciB3aXRoIGdhdXNzaWFuIGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzdGFuZGFyZERldmlhdGlvbj0xXVxuICovXG5leHBvcnQgY29uc3QgZ2F1c3NpYW4gPSAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuICB2YXIgdSA9IE1hdGgucmFuZG9tKClcbiAgcmV0dXJuICh1JTFlLTg+NWUtOT8xOi0xKSpNYXRoLnNxcnQoLU1hdGgubG9nKE1hdGgubWF4KDFlLTksdSkpKSpzdGFuZGFyZERldmlhdGlvbjtcbn1cbi8vIGV4cG9ydCBjb25zdCBnYXVzc2lhbiA9ICgoKSA9PiB7XG4vLyAgICAgY29uc3QgXzJQSSA9IE1hdGguUElcbi8vICAgICBsZXQgejA6bnVtYmVyLCB6MTpudW1iZXJcbi8vICAgICBsZXQgZ2VuZXJhdGUgPSBmYWxzZVxuLy8gICAgIHJldHVybiAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuLy8gICAgICAgICBnZW5lcmF0ZSA9ICFnZW5lcmF0ZVxuLy8gICAgICAgICBpZiAoIWdlbmVyYXRlKSByZXR1cm4gejEgKiBzdGFuZGFyZERldmlhdGlvblxuLy8gICAgICAgICBsZXQgdTE6bnVtYmVyLCB1MjpudW1iZXJcbi8vICAgICAgICAgZG8geyB1MSA9IE1hdGgucmFuZG9tKCkgfSB3aGlsZSAodTEgPCBOdW1iZXIuRVBTSUxPTilcbi8vICAgICAgICAgdTIgPSBNYXRoLnJhbmRvbSgpXG4vLyAgICAgICAgIHowID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1MSkpICogTWF0aC5jb3MoXzJQSSAqIHUyKVxuLy8gICAgICAgICB6MSA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2codTEpKSAqIE1hdGguc2luKF8yUEkgKiB1Milcbi8vICAgICAgICAgcmV0dXJuIHowICogc3RhbmRhcmREZXZpYXRpb25cbi8vICAgICB9XG4vLyB9KSgpXG5cbi8qKlxuICogUmV0dXJuIHJhbmRvbSBudW1iZXIgd2l0aCBsZXZ5IGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzY2FsZT0xXVxuICogXG4gKiBCYXNlZCBvbjpcbiAqIGh0dHA6Ly9hbmRyZXdlY2tmb3JkLmJsb2dzcG90LmNvbS8yMDExLzA1L2dlbmVyYXRpbmctbGV2eS1yYW5kb20tdmFyaWFibGVzLWZyb20uaHRtbFxuICovXG5leHBvcnQgY29uc3QgbGV2eSA9IChzY2FsZT0xKSA9PiAge1xuICAgIGNvbnN0IHN0ZERldmlhdGlvbiA9IE1hdGguc3FydCggTWF0aC5zcXJ0KDEgLyAoMiAqIHNjYWxlKSkgKVxuICAgIHJldHVybiAxIC8gKGdhdXNzaWFuKHN0ZERldmlhdGlvbikgKiogMilcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gcXVhdGVybmlvblxuICogQHBhcmFtIG91dCBcbiAqIEBwYXJhbSB0d2lzdFNjYWxlIFxuICogQHBhcmFtIHN3aW5nU2NhbGUgXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21RdWF0ZXJuaW9uID0gKCgpID0+IHtcbiAgICBjb25zdCBfMlBJID0gTWF0aC5QSSAqIDJcbiAgICBjb25zdCBWXzAwMSA9IG5ldyBWZWN0b3IzKDAsMCwxKVxuICAgIGNvbnN0IHR3aXN0ID0gbmV3IFF1YXRlcm5pb25cbiAgICBjb25zdCBzd2luZyA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgY29uc3Qgc3dpbmdBeGlzID0gbmV3IFZlY3RvcjNcbiAgICBjb25zdCBvdXQgPSBuZXcgUXVhdGVybmlvblxuICAgIHJldHVybiBmdW5jdGlvbiByYW5kb21RdWF0ZXJuaW9uKHR3aXN0U2NhbGU9MSwgc3dpbmdTY2FsZT0xKSB7XG4gICAgICAgIHZhciB0d2lzdE1hZ25pdHVkZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIF8yUEkgKiB0d2lzdFNjYWxlIFxuICAgICAgICB2YXIgc3dpbmdEaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogXzJQSVxuICAgICAgICB2YXIgc3dpbmdNYWduaXR1ZGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIHN3aW5nU2NhbGVcbiAgICAgICAgc3dpbmdBeGlzLnNldCgxLDAsMCkuYXBwbHlBeGlzQW5nbGUoVl8wMDEsIHN3aW5nRGlyZWN0aW9uKVxuICAgICAgICB0d2lzdC5zZXRGcm9tQXhpc0FuZ2xlKFZfMDAxLCB0d2lzdE1hZ25pdHVkZSlcbiAgICAgICAgc3dpbmcuc2V0RnJvbUF4aXNBbmdsZShzd2luZ0F4aXMsIHN3aW5nTWFnbml0dWRlKVxuICAgICAgICByZXR1cm4gb3V0Lm11bHRpcGx5UXVhdGVybmlvbnMoc3dpbmcsIHR3aXN0KVxuICAgIH1cbn0pKClcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVNlbGVjdDxUPihhcnI6VFtdLCB3ZWlnaHRzPzpudW1iZXJbXSkgOiBUIHtcbiAgICBsZXQgdG90YWwgPSAwXG4gICAgZm9yIChsZXQgaT0wOyBpPCBhcnIubGVuZ3RoOyBpKyspIHsgdG90YWwgKz0gd2VpZ2h0cz8uW2ldfHwxIH1cbiAgICBjb25zdCB0aHJlc2hvbGQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxcbiAgICB0b3RhbCA9IDBcbiAgICBmb3IgKGxldCBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b3RhbCArPSB3ZWlnaHRzPy5baV18fDFcbiAgICAgICAgaWYgKHRvdGFsID4gdGhyZXNob2xkKSByZXR1cm4gYXJyW2ldXG4gICAgfVxuICAgIHJldHVybiBhcnJbMF0gLy8gbWFrZSB0c2MgaGFwcHlcbn1cblxuLyoqXG4gKiBVc2UgdGhlIHN3aW5nLXR3aXN0IGRlY29tcG9zaXRpb24gdG8gZ2V0IHRoZSBjb21wb25lbnQgb2YgYSByb3RhdGlvblxuICogYXJvdW5kIHRoZSBnaXZlbiBheGlzLlxuICogXG4gKiBAcGFyYW0gcm90YXRpb24gIFRoZSByb3RhdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGF4aXMgKHNob3VsZCBiZSBub3JtYWxpemVkKS5cbiAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCBvZiByb3RhdGlvbiBhYm91dCB0aGUgYXhpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dHJhY3RSb3RhdGlvbkFib3V0QXhpcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdmVjID0gbmV3IFZlY3RvcjNcbiAgICByZXR1cm4gZnVuY3Rpb24gZXh0cmFjdFJvdGF0aW9uQWJvdXRBeGlzKHJvdDpRdWF0ZXJuaW9uLCBkaXJlY3Rpb246VmVjdG9yMywgb3V0OlF1YXRlcm5pb24pIHtcbiAgICAgICAgY29uc3Qgcm90QXhpcyA9IHZlYy5zZXQocm90LngsIHJvdC55LCByb3QueilcbiAgICAgICAgY29uc3QgZG90UHJvZCA9IGRpcmVjdGlvbi5kb3Qocm90QXhpcykgICAgICBcbiAgICAgICAgLy8gU2hvcnRjdXQgY2FsY3VsYXRpb24gb2YgYHByb2plY3Rpb25gIHJlcXVpcmVzIGBkaXJlY3Rpb25gIHRvIGJlIG5vcm1hbGl6ZWRcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZlYy5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZG90UHJvZClcbiAgICAgICAgY29uc3QgdHdpc3QgPSBvdXQuc2V0KHByb2plY3Rpb24ueCwgcHJvamVjdGlvbi55LCBwcm9qZWN0aW9uLnosIHJvdC53KS5ub3JtYWxpemUoKVxuICAgICAgICBpZiAoZG90UHJvZCA8IDAuMCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGB0d2lzdGAgcG9pbnRzIHRvd2FyZHMgYGRpcmVjdGlvbmBcbiAgICAgICAgICAgIHR3aXN0LnggPSAtdHdpc3QueFxuICAgICAgICAgICAgdHdpc3QueSA9IC10d2lzdC55XG4gICAgICAgICAgICB0d2lzdC56ID0gLXR3aXN0LnpcbiAgICAgICAgICAgIHR3aXN0LncgPSAtdHdpc3Qud1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0d2lzdFxuICAgIH1cbn0pKCkiLCJcbmltcG9ydCB7IEJveDMsIFZlY3RvcjMsIFF1YXRlcm5pb24sIE1hdHJpeDQsIFZfMDAwLCBESVJFQ1RJT04sIFZfMTExLCBCb3gyLCBWZWN0b3IyLCBRX0lERU5USVRZIH0gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuaW1wb3J0IHsgRXRoZXJlYWxMYXlvdXRTeXN0ZW0sIE5vZGUzRCB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5pbXBvcnQgeyBNZW1vaXphdGlvbkNhY2hlIH0gZnJvbSAnLi9NZW1vaXphdGlvbkNhY2hlJ1xuaW1wb3J0IHsgU3BhdGlhbEFkYXB0ZXIgfSBmcm9tICcuL1NwYXRpYWxBZGFwdGVyJ1xuXG5jb25zdCBJbnRlcm5hbFJhd1N0YXRlID0gU3ltYm9sKFwicmF3XCIpXG5jb25zdCBJbnRlcm5hbEN1cnJlbnRTdGF0ZSA9IFN5bWJvbChcImN1cnJlbnRcIilcbmNvbnN0IEludGVybmFsVGFyZ2V0U3RhdGUgPSBTeW1ib2woXCJ0YXJnZXRcIilcbmNvbnN0IEludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZSA9IFN5bWJvbChcInByZXZpb3VzVGFyZ2V0XCIpXG5cbmV4cG9ydCBjbGFzcyBOb2RlU3RhdGU8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RlOidjdXJyZW50J3wndGFyZ2V0JywgcHVibGljIG1ldHJpY3M6U3BhdGlhbE1ldHJpY3M8Tj4pIHt9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZVxuXG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUuaW52YWxpZGF0ZUFsbCgpXG4gICAgfVxuXG4gICAgb3BhY2l0eSA9IDFcbiBcbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50XG4gICAgfVxuICAgIHNldCBwYXJlbnQodmFsOk58bnVsbCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fcGFyZW50XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSB2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHZhbFxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKClcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9wYXJlbnQgOiBOfG51bGwgPSBudWxsXG5cbiAgICBnZXQgcGFyZW50U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldHJpY3MucGFyZW50TWV0cmljcz8uW3RoaXMubW9kZV1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9sb2NhbE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgZ2V0IGxvY2FsTWF0cml4KCkgeyBcbiAgICAgICAgY29uc3QgcGFyZW50V29ybGRJbnZlcnNlID0gdGhpcy5wYXJlbnRTdGF0ZT8ud29ybGRNYXRyaXhJbnZlcnNlXG4gICAgICAgIHJldHVybiBwYXJlbnRXb3JsZEludmVyc2UgPyB0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHBhcmVudFdvcmxkSW52ZXJzZSwgdGhpcy53b3JsZE1hdHJpeCkgOiBcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsTWF0cml4LmNvcHkodGhpcy53b3JsZE1hdHJpeClcbiAgICB9XG4gICAgXG4gICAgZ2V0IHJlZmVyZW5jZVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRyaWNzLnJlZmVyZW5jZU1ldHJpY3M/Llt0aGlzLm1vZGVdXG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBfY2FjaGVkTG9jYWxNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAvLyAgICAgdGhpcy5fbG9jYWxNYXRyaXguZGVjb21wb3NlKHRoaXMuX2xvY2FsUG9zaXRpb24sIHRoaXMuX2xvY2FsT3JpZW50YXRpb24sIHRoaXMuX2xvY2FsU2NhbGUpXG4gICAgLy8gICAgIHRoaXMuX2xvY2FsT3JpZW50YXRpb24ubm9ybWFsaXplKClcbiAgICAvLyAgICAgdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl9sb2NhbE9yaWVudGF0aW9uKS5pbnZlcnQoKVxuICAgIC8vICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb24pXG4gICAgLy8gICAgIHRoaXMuX2xvY2FsUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlKVxuICAgIC8vICAgICByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXhcbiAgICAvLyB9KVxuICAgIGdldCB3b3JsZE1hdHJpeCgpIHsgcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4IH1cbiAgICBzZXQgd29ybGRNYXRyaXgodmFsOk1hdHJpeDQpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZhbC5lbGVtZW50c1swXSkgfHx2YWwuZWxlbWVudHNbMF0gPT09IDApIHRocm93IG5ldyBFcnJvcigpXG4gICAgICAgIGlmICghdGhpcy5fd29ybGRNYXRyaXguZXF1YWxzKHZhbCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpXG4gICAgICAgICAgICB0aGlzLl93b3JsZE1hdHJpeC5jb3B5KHZhbClcbiAgICAgICAgICAgIHRoaXMuX3dvcmxkTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuX3dvcmxkTWF0cml4KS5pbnZlcnQoKVxuICAgICAgICAgICAgdGhpcy5fd29ybGRNYXRyaXguZGVjb21wb3NlKHRoaXMuX3dvcmxkUG9zaXRpb24sIHRoaXMuX3dvcmxkT3JpZW50YXRpb24sIHRoaXMuX3dvcmxkU2NhbGUpXG4gICAgICAgICAgICB0aGlzLl93b3JsZE9yaWVudGF0aW9uSW52ZXJzZS5jb3B5KHRoaXMuX3dvcmxkT3JpZW50YXRpb24pLmludmVydCgpXG4gICAgICAgICAgICB0aGlzLl93b3JsZFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb24pXG4gICAgICAgICAgICB0aGlzLl93b3JsZFJvdGF0aW9uSW52ZXJzZS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLl93b3JsZE9yaWVudGF0aW9uSW52ZXJzZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3dvcmxkTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZE1hdHJpeEludmVyc2UgPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3dvcmxkUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF93b3JsZFNjYWxlID0gbmV3IFZlY3RvcjMoMSwxLDEpXG4gICAgcHJpdmF0ZSBfd29ybGRSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfd29ybGRSb3RhdGlvbkludmVyc2UgPSBuZXcgTWF0cml4NFxuICAgIFxuICAgIHByaXZhdGUgX3JlbGF0aXZlUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3JlbGF0aXZlT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3JlbGF0aXZlU2NhbGUgPSBuZXcgVmVjdG9yMygxLDEsMSlcblxuICAgIGdldCByZWxhdGl2ZVBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCByZWZQb3NpdGlvbiA9IHRoaXMucmVmZXJlbmNlU3RhdGU/LndvcmxkUG9zaXRpb25cbiAgICAgICAgcmV0dXJuIHJlZlBvc2l0aW9uID8gXG4gICAgICAgICAgICB0aGlzLl9yZWxhdGl2ZVBvc2l0aW9uLnN1YlZlY3RvcnModGhpcy53b3JsZFBvc2l0aW9uLCByZWZQb3NpdGlvbikgOlxuICAgICAgICAgICAgdGhpcy5fcmVsYXRpdmVQb3NpdGlvbi5jb3B5KHRoaXMud29ybGRQb3NpdGlvbilcbiAgICB9XG5cbiAgICBnZXQgcmVsYXRpdmVPcmllbnRhdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmVmT3JpZW50YXRpb25JbnYgPSB0aGlzLnJlZmVyZW5jZVN0YXRlPy53b3JsZE9yaWVudGF0aW9uSW52ZXJzZVxuICAgICAgICByZXR1cm4gcmVmT3JpZW50YXRpb25JbnYgPyBcbiAgICAgICAgICAgIHRoaXMuX3JlbGF0aXZlT3JpZW50YXRpb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLndvcmxkT3JpZW50YXRpb24sIHJlZk9yaWVudGF0aW9uSW52KSA6XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGl2ZU9yaWVudGF0aW9uLmNvcHkodGhpcy53b3JsZE9yaWVudGF0aW9uKVxuICAgIH1cblxuICAgIGdldCByZWxhdGl2ZVNjYWxlKCkge1xuICAgICAgICBjb25zdCByZWZTY2FsZSA9IHRoaXMucmVmZXJlbmNlU3RhdGU/LndvcmxkU2NhbGVcbiAgICAgICAgcmV0dXJuIHJlZlNjYWxlID8gdGhpcy5fcmVsYXRpdmVTY2FsZS5jb3B5KHRoaXMud29ybGRTY2FsZSkuZGl2aWRlKHJlZlNjYWxlKSA6XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGl2ZVNjYWxlLmNvcHkodGhpcy53b3JsZFNjYWxlKVxuICAgIH1cblxuICAgIGdldCB3b3JsZE1hdHJpeEludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE1hdHJpeEludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgd29ybGRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUG9zaXRpb25cbiAgICB9XG5cbiAgICBnZXQgd29ybGRPcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkT3JpZW50YXRpb25cbiAgICB9XG5cbiAgICBnZXQgd29ybGRTY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2NhbGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnNlIHdvcmxkIG9yaWVudGF0aW9uXG4gICAgICovXG4gICAgZ2V0IHdvcmxkT3JpZW50YXRpb25JbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXb3JsZCByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUm90YXRpb25cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogV29ybGQgcm90YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFJvdGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbm5lciBib3VuZHMgY2VudGVyIGluIHdvcmxkIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRDZW50ZXIgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkQ2VudGVyLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQ2VudGVyKS5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeClcbiAgICB9KVxuICAgIGdldCB3b3JsZENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFdvcmxkQ2VudGVyKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfd29ybGRDZW50ZXIgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byB3b3JsZCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKiBcbiAgICAgKiBTcGF0aWFsIEZyYW1lID0gUmVmZXJlbmNlIE9yaWdpbiArIE15IFdvcmxkIE9yaWVudGF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkU3BhdGlhbE1hdHJpeCA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCB3b3JsZEZyb21TcGF0aWFsID0gdGhpcy5fd29ybGRGcm9tU3BhdGlhbC5jb21wb3NlKHRoaXMub3V0ZXJPcmlnaW4sIHRoaXMud29ybGRPcmllbnRhdGlvbiwgVl8xMTEpIFxuICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbVdvcmxkLmNvcHkodGhpcy5fd29ybGRGcm9tU3BhdGlhbCkuaW52ZXJ0KClcbiAgICAgICAgdGhpcy5fbG9jYWxGcm9tU3BhdGlhbC5tdWx0aXBseU1hdHJpY2VzKHRoaXMud29ybGRNYXRyaXhJbnZlcnNlLCB3b3JsZEZyb21TcGF0aWFsKVxuICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbUxvY2FsLmNvcHkodGhpcy5fbG9jYWxGcm9tU3BhdGlhbCkuaW52ZXJ0KClcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2VTdGF0ZVxuICAgICAgICBpZiAocmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9zcGF0aWFsRnJvbVJlZmVyZW5jZS5tdWx0aXBseU1hdHJpY2VzKHRoaXMuX3NwYXRpYWxGcm9tV29ybGQsIHJlZmVyZW5jZS53b3JsZE1hdHJpeClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NwYXRpYWxGcm9tUmVmZXJlbmNlLmNvcHkodGhpcy5fc3BhdGlhbEZyb21Xb3JsZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd29ybGRGcm9tU3BhdGlhbFxuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsTWF0cml4KClcbiAgICB9XG5cbiAgICBwcml2YXRlIF93b3JsZEZyb21TcGF0aWFsID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVdvcmxkID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9sb2NhbEZyb21TcGF0aWFsID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbUxvY2FsID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVJlZmVyZW5jZSA9IG5ldyBNYXRyaXg0XG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tV29ybGRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGxvY2FsIGZyYW1lIGZyb20gc3BhdGlhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBsb2NhbEZyb21TcGF0aWFsKCkgeyBcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbEZyb21TcGF0aWFsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBzcGF0aWFsIGZyYW1lIGZyb20gbG9jYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbEZyb21Mb2NhbCgpIHsgXG4gICAgICAgIHRoaXMuc3BhdGlhbE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbEZyb21Mb2NhbCBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSByZWZlcmVuY2UgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbEZyb21SZWZlcmVuY2UoKSB7IFxuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tUmVmZXJlbmNlIFxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgc3BhdGlhbCBib3VuZHMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkU3BhdGlhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zcGF0aWFsQm91bmRzLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQm91bmRzKVxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9zcGF0aWFsQm91bmRzLmFwcGx5TWF0cml4NCh0aGlzLnNwYXRpYWxGcm9tTG9jYWwpXG4gICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fc3BhdGlhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fc3BhdGlhbFNpemUpXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9KVxuICAgIGdldCBzcGF0aWFsQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkU3BhdGlhbEJvdW5kcygpIH1cbiAgICBwcml2YXRlIF9zcGF0aWFsQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9zcGF0aWFsU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfc3BhdGlhbENlbnRlciA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BhdGlhbCBzaXplXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxTaXplKCkge1xuICAgICAgICB0aGlzLnNwYXRpYWxCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNwYXRpYWwgY2VudGVyXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuc3BhdGlhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbENlbnRlclxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkT3V0ZXJCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fb3V0ZXJCb3VuZHNcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMubWV0cmljcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm1ldHJpY3Mubm9kZSlcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGJvdW5kcy5jb3B5KGFkYXB0ZXIub3V0ZXJCb3VuZHNbdGhpcy5tb2RlXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZVN0YXRlID0gdGhpcy5yZWZlcmVuY2VTdGF0ZVxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VTdGF0ZSkgYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKFZfMDAwLFZfMDAwKVxuICAgICAgICAgICAgZWxzZSBib3VuZHMuY29weShyZWZlcmVuY2VTdGF0ZS5tZXRyaWNzLmlubmVyQm91bmRzKVxuICAgICAgICAgICAgYm91bmRzLmFwcGx5TWF0cml4NCh0aGlzLnNwYXRpYWxGcm9tUmVmZXJlbmNlKVxuICAgICAgICB9XG4gICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fb3V0ZXJDZW50ZXIpXG4gICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX291dGVyU2l6ZSlcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0pXG4gICAgLyoqXG4gICAgKiBUaGUgcmVmZXJlbmNlIGJvdW5kcyBpbiB0aGUgc3BhdGlhbCBmcmFtZVxuICAgICovXG4gICAgZ2V0IG91dGVyQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkT3V0ZXJCb3VuZHMoKSB9XG4gICAgcHJpdmF0ZSBfb3V0ZXJCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX291dGVyQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9vdXRlclNpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG91dGVyQ2VudGVyKCkge1xuICAgICAgICB0aGlzLm91dGVyQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlckNlbnRlclxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRlciBib3VuZHMgc2l6ZSBpbiB0aGUgc3BhdGlhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlclNpemUoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRlciBib3VuZHMgb3JpZ2luIGluIHRoZSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlck9yaWdpbigpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMubWV0cmljcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm1ldHJpY3Mubm9kZSlcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHJldHVybiBhZGFwdGVyLm91dGVyT3JpZ2luW3RoaXMubW9kZV1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlU3RhdGU/LndvcmxkQ2VudGVyID8/IFZfMDAwXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBvcmllbnRhdGlvbiBpbiB0aGUgd29ybGQgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJPcmllbnRhdGlvbigpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMubWV0cmljcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm1ldHJpY3Mubm9kZSlcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHJldHVybiBhZGFwdGVyLm91dGVyT3JpZW50YXRpb25bdGhpcy5tb2RlXVxuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VTdGF0ZT8ud29ybGRPcmllbnRhdGlvbiA/PyBRX0lERU5USVRZXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkT3V0ZXJWaXN1YWxCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fb3V0ZXJWaXN1YWxCb3VuZHNcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMubWV0cmljcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm1ldHJpY3Mubm9kZSlcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGJvdW5kcy5jb3B5KGFkYXB0ZXIub3V0ZXJWaXN1YWxCb3VuZHNbdGhpcy5tb2RlXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZVN0YXRlID0gdGhpcy5yZWZlcmVuY2VTdGF0ZVxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VTdGF0ZSkgYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKFZfMDAwLCBWXzAwMClcbiAgICAgICAgICAgIGVsc2UgYm91bmRzLmNvcHkocmVmZXJlbmNlU3RhdGUudmlzdWFsQm91bmRzKVxuICAgICAgICB9XG4gICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fb3V0ZXJWaXN1YWxDZW50ZXIpXG4gICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX291dGVyVmlzdWFsU2l6ZSlcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0pXG4gICAgLyoqXG4gICAgKiBUaGUgcmVmZXJlbmNlIGJvdW5kcyBpbiB0aGUgdmlzdWFsIGZyYW1lXG4gICAgKi9cbiAgICBnZXQgb3V0ZXJWaXN1YWxCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRPdXRlclZpc3VhbEJvdW5kcygpIH1cbiAgICBwcml2YXRlIF9vdXRlclZpc3VhbEJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfb3V0ZXJWaXN1YWxDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX291dGVyVmlzdWFsU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJWaXN1YWxDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJWaXN1YWxCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyVmlzdWFsQ2VudGVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyVmlzdWFsIGJvdW5kcyBzaXplIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyVmlzdWFsU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJWaXN1YWxTaXplXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGdldCBfdmlld1N0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3Tm9kZSA9PT0gdGhpcy5tZXRyaWNzLm5vZGUpIHJldHVybiB0aGlzXG4gICAgICAgIGNvbnN0IHZpZXdNZXRyaWNzID0gdGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3TWV0cmljc1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnY3VycmVudCcpIHJldHVybiB2aWV3TWV0cmljc1tJbnRlcm5hbEN1cnJlbnRTdGF0ZV1cbiAgICAgICAgcmV0dXJuIHZpZXdNZXRyaWNzW0ludGVybmFsVGFyZ2V0U3RhdGVdXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBmcmFtZSBmcm9tIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHZpZXdGcm9tV29ybGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3RnJvbVdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy53b3JsZE1hdHJpeClcbiAgICB9XG4gICAgcHJpdmF0ZSBfdmlld0Zyb21Xb3JsZCA9IG5ldyBNYXRyaXg0XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXcgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHZpZXdGcm9tU3BhdGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdGcm9tU3BhdGlhbC5tdWx0aXBseU1hdHJpY2VzKHRoaXMuX3ZpZXdTdGF0ZS53b3JsZE1hdHJpeEludmVyc2UsIHRoaXMuc3BhdGlhbE1hdHJpeClcbiAgICB9XG4gICAgcHJpdmF0ZSBfdmlld0Zyb21TcGF0aWFsID0gbmV3IE1hdHJpeDRcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gcGFyZW50IGZyYW1lIGZyb20gc3BhdGlhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbVZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsRnJvbVZpZXcuY29weSh0aGlzLnZpZXdGcm9tU3BhdGlhbCkuaW52ZXJ0KClcbiAgICB9XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21WaWV3ID0gbmV3IE1hdHJpeDRcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZWQgRGV2aWNlIENvb3JkaW5hdGVzXG4gICAgICovXG4gICAgZ2V0IG5kY0JvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZE5EQ0JvdW5kcygpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZE5EQ0JvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3Tm9kZSA9PT0gdGhpcy5tZXRyaWNzLm5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX25kY0JvdW5kcy5taW4uc2V0U2NhbGFyKC0xKVxuICAgICAgICAgICAgdGhpcy5fbmRjQm91bmRzLm1heC5zZXRTY2FsYXIoMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZGNCb3VuZHNcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3RnJ1c3R1bSA9IHRoaXMubWV0cmljcy5zeXN0ZW0udmlld0ZydXN0dW1cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdGcnVzdHVtLnBlcnNwZWN0aXZlUHJvamVjdGlvbk1hdHJpeFxuICAgICAgICBjb25zdCB2aWV3RnJvbVdvcmxkID0gdGhpcy52aWV3RnJvbVdvcmxkXG4gICAgICAgIGNvbnN0IHZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkID0gdGhpcy5fdmlld1Byb2plY3Rpb25Gcm9tV29ybGQubXVsdGlwbHlNYXRyaWNlcyhwcm9qZWN0aW9uLCB2aWV3RnJvbVdvcmxkKVxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9uZGNCb3VuZHMuY29weSh0aGlzLm1ldHJpY3MuaW5uZXJCb3VuZHMpLmFwcGx5TWF0cml4NCh2aWV3UHJvamVjdGlvbkZyb21Xb3JsZClcbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9uZGNDZW50ZXIpXG4gICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX25kY1NpemUpXG4gICAgICAgIGlmICghaXNGaW5pdGUoYm91bmRzLm1pbi54KSB8fCAhaXNGaW5pdGUoYm91bmRzLm1pbi55KSB8fCAhaXNGaW5pdGUoYm91bmRzLm1pbi56KSB8fCBcbiAgICAgICAgICAgICFpc0Zpbml0ZShib3VuZHMubWF4LngpIHx8ICFpc0Zpbml0ZShib3VuZHMubWF4LnkpIHx8ICFpc0Zpbml0ZShib3VuZHMubWF4LnopKSB7XG4gICAgICAgICAgICBib3VuZHMubWluLnNldFNjYWxhcigtMSlcbiAgICAgICAgICAgIGJvdW5kcy5tYXguc2V0U2NhbGFyKDEpXG4gICAgICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX25kY0NlbnRlcilcbiAgICAgICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX25kY1NpemUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0sIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBfdmlld1Byb2plY3Rpb25Gcm9tV29ybGQgPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX25kY0JvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfbmRjQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9uZGNTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIGdldCBuZGNDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZE5EQ0JvdW5kcygpXG4gICAgICAgIHJldHVybiB0aGlzLl9uZGNDZW50ZXJcbiAgICB9XG4gICAgZ2V0IG5kY1NpemUoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZE5EQ0JvdW5kcygpXG4gICAgICAgIHJldHVybiB0aGlzLl9uZGNTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHZpc3VhbCBib3VuZHMgb2YgdGhpcyBub2RlLlxuICAgICAqIFxuICAgICAqIEhvcml6b250YWwgYW5kIHZlcnRpY2FsIHVuaXRzIGFyZSBpbiBwaXhlbHMsIHdpdGggc2NyZWVuIGNlbnRlciBhdCAoMCwwKVxuICAgICAqIFogZGltZW5zaW9uIGlzIGluIG1ldGVyc1xuICAgICAqL1xuICAgIGdldCB2aXN1YWxCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRWaXN1YWxCb3VuZHMoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRWaXN1YWxCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3lzdGVtID0gdGhpcy5tZXRyaWNzLnN5c3RlbVxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gc3lzdGVtLnZpZXdGcnVzdHVtLnBlcnNwZWN0aXZlUHJvamVjdGlvbk1hdHJpeFxuICAgICAgICBjb25zdCBpbnZlcnNlUHJvamVjdGlvbiA9IHRoaXMuX2ludmVyc2VQcm9qZWN0aW9uLmNvcHkocHJvamVjdGlvbikuaW52ZXJ0KClcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fdmlzdWFsQm91bmRzLmNvcHkodGhpcy5uZGNCb3VuZHMpXG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLl92MVxuICAgICAgICBjb25zdCBuZWFyTWV0ZXJzID0gdi5zZXQoMCwwLGJvdW5kcy5taW4ueikuYXBwbHlNYXRyaXg0KGludmVyc2VQcm9qZWN0aW9uKS56XG4gICAgICAgIGNvbnN0IGZhck1ldGVycyA9IHYuc2V0KDAsMCxib3VuZHMubWF4LnopLmFwcGx5TWF0cml4NChpbnZlcnNlUHJvamVjdGlvbikuelxuICAgICAgICBib3VuZHMubWluLnogPSBmYXJNZXRlcnNcbiAgICAgICAgYm91bmRzLm1heC56ID0gbmVhck1ldGVyc1xuICAgICAgICBib3VuZHMubWluLnggKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnhcbiAgICAgICAgYm91bmRzLm1heC54ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi54XG4gICAgICAgIGJvdW5kcy5taW4ueSAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueVxuICAgICAgICBib3VuZHMubWF4LnkgKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnlcbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl92aXN1YWxDZW50ZXIpXG4gICAgICAgIGJvdW5kcy5nZXRTaXplKHRoaXMuX3Zpc3VhbFNpemUpIFxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSwgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIF92aXN1YWxCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX3Zpc3VhbENlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfdmlzdWFsU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfdjEgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2ludmVyc2VQcm9qZWN0aW9uID0gbmV3IE1hdHJpeDRcblxuICAgIGdldCB2aXN1YWxDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFZpc3VhbEJvdW5kcygpXG4gICAgICAgIHJldHVybiB0aGlzLl92aXN1YWxDZW50ZXJcbiAgICB9XG4gICAgZ2V0IHZpc3VhbFNpemUoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFZpc3VhbEJvdW5kcygpXG4gICAgICAgIHJldHVybiB0aGlzLl92aXN1YWxTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXcgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhpcyBub2RlIHN0YXRlXG4gICAgICovXG4gICAgZ2V0IHJlbGF0aXZlVmlld1Bvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld1Bvc2l0aW9uLmNvcHkodGhpcy5fdmlld1N0YXRlLndvcmxkUG9zaXRpb24pLmFwcGx5TWF0cml4NCh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSlcbiAgICB9XG4gICAgcHJpdmF0ZSBfdmlld1Bvc2l0aW9uID0gbmV3IFZlY3RvcjNcblxuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIG9ydGhvZ29uYWwgKHJpZ2h0LWFuZ2xlZCkgb3JpZW50YXRpb24gd2l0aCB0aGUgY2xvc2VzdCB2aWV3IG9yaWVudGF0aW9uIGFsaWdubWVudFxuICAgICAqL1xuICAgIGdldCB2aWV3QWxpZ25lZE9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVmlld0FsaWduZWRPcmllbnRhdGlvbigpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFZpZXdBbGlnbmVkT3JpZW50YXRpb24gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVWaWV3TWF0cml4ID0gdGhpcy5fcmVsYXRpdmVWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXModGhpcy53b3JsZE1hdHJpeEludmVyc2UsIHRoaXMuX3ZpZXdTdGF0ZS53b3JsZE1hdHJpeClcbiAgICAgICAgY29uc3QgcmVsYXRpdmVWaWV3Um90YXRpb24gPSB0aGlzLl9yZWxhdGl2ZVZpZXdSb3RhdGlvbi5leHRyYWN0Um90YXRpb24ocmVsYXRpdmVWaWV3TWF0cml4KVxuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdPcmllbnRhdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld09yaWVudGF0aW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyZWxhdGl2ZVZpZXdSb3RhdGlvbilcbiAgICAgICAgY29uc3QgZm9yd2FyZERpcmVjdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld0ZvcndhcmQuc2V0KDAsIDAsIDEpLmFwcGx5UXVhdGVybmlvbihyZWxhdGl2ZVZpZXdPcmllbnRhdGlvbilcbiAgICAgICAgY29uc3QgdXBEaXJlY3Rpb24gPSB0aGlzLl9yZWxhdGl2ZVZpZXdVcC5zZXQoMCwgMSwgMCkuYXBwbHlRdWF0ZXJuaW9uKHJlbGF0aXZlVmlld09yaWVudGF0aW9uKVxuICAgICAgICBcbiAgICAgICAgbGV0IGRpc3RGb3J3YXJkID0gSW5maW5pdHlcbiAgICAgICAgbGV0IGRpc3RVcCA9IEluZmluaXR5XG4gICAgICAgIGxldCBjbG9zZXN0Rm9yd2FyZERpcmVjdGlvbiA6IFZlY3RvcjNcbiAgICAgICAgbGV0IGNsb3Nlc3RVcERpcmVjdGlvbiA6IFZlY3RvcjNcbiAgICAgICAgbGV0IGQgOiBrZXlvZiB0eXBlb2YgRElSRUNUSU9OXG5cbiAgICAgICAgZm9yIChkIGluIERJUkVDVElPTikge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gRElSRUNUSU9OW2RdXG4gICAgICAgICAgICB2YXIgZGlzdCA9IHVwRGlyZWN0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKGRpcilcbiAgICAgICAgICAgIGlmIChkaXN0IDwgZGlzdFVwKSB7XG4gICAgICAgICAgICAgICAgZGlzdFVwID0gZGlzdFxuICAgICAgICAgICAgICAgIGNsb3Nlc3RVcERpcmVjdGlvbiA9IGRpclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZvciAoZCBpbiBESVJFQ1RJT04pIHtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IERJUkVDVElPTltkXSAgICBcbiAgICAgICAgICAgIC8vIGF2b2lkIGhhdmluZyBmb3J3YXJkICYgdXAgZGVmaW5lZCBvbiB0aGUgc2FtZSBheGlzXG4gICAgICAgICAgICBpZiAoZGlyLnggJiYgY2xvc2VzdFVwRGlyZWN0aW9uIS54KSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKGRpci55ICYmIGNsb3Nlc3RVcERpcmVjdGlvbiEueSkgY29udGludWVcbiAgICAgICAgICAgIGlmIChkaXIueiAmJiBjbG9zZXN0VXBEaXJlY3Rpb24hLnopIGNvbnRpbnVlXG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gZm9yd2FyZERpcmVjdGlvbi5kaXN0YW5jZVRvU3F1YXJlZChkaXIpXG4gICAgICAgICAgICBpZiAoZGlzdCA8IGRpc3RGb3J3YXJkKSB7XG4gICAgICAgICAgICAgICAgZGlzdEZvcndhcmQgPSBkaXN0XG4gICAgICAgICAgICAgICAgY2xvc2VzdEZvcndhcmREaXJlY3Rpb24gPSBkaXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBjb25zdCByb3QgPSB0aGlzLl9vcnRob2dvbmFsUm90YXRpb24uaWRlbnRpdHkoKVxuICAgICAgICByb3QubG9va0F0KGNsb3Nlc3RGb3J3YXJkRGlyZWN0aW9uISwgVl8wMDAsIGNsb3Nlc3RVcERpcmVjdGlvbiEpXG4gICAgICAgIHJldHVybiB0aGlzLl9vcnRob2dvbmFsT3JpZW50YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHJvdClcbiAgICB9LCB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld01hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3Um90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld09yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdVcCA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3Rm9yd2FyZCA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfb3J0aG9nb25hbFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9vcnRob2dvbmFsT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuXG5cbiAgICBwcml2YXRlIF9jb21wdXRlT2NjbHVzaW9uID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX29jY2x1ZGluZ1BlcmNlbnQgPSAwXG4gICAgICAgIHRoaXMuX29jY2x1ZGVkUGVyY2VudCA9IDBcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLm1ldHJpY3NcbiAgICAgICAgaWYgKG1ldHJpY3MuaW5uZXJCb3VuZHMuaXNFbXB0eSgpKSByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN5c3RlbSA9IG1ldHJpY3Muc3lzdGVtXG4gICAgICAgIGNvbnN0IGFkYXB0ZXJzID0gc3lzdGVtLm5vZGVBZGFwdGVycy52YWx1ZXMoKVxuXG4gICAgICAgIGNvbnN0IG15Qm91bmRzID0gdGhpcy52aXN1YWxCb3VuZHNcbiAgICAgICAgY29uc3QgbXlOZWFyID0gbXlCb3VuZHMubWluLnpcbiAgICAgICAgY29uc3QgYSA9IE5vZGVTdGF0ZS5fYm94QVxuICAgICAgICBjb25zdCBiID0gTm9kZVN0YXRlLl9ib3hCXG4gICAgICAgIGEubWluLnNldChteUJvdW5kcy5taW4ueCwgbXlCb3VuZHMubWluLnkpXG4gICAgICAgIGEubWluLnNldChteUJvdW5kcy5tYXgueCwgbXlCb3VuZHMubWF4LnkpXG4gICAgICAgIGNvbnN0IG15TGVuZ3RoID0gYS5nZXRTaXplKE5vZGVTdGF0ZS5fc2l6ZUEpLmxlbmd0aCgpXG5cbiAgICAgICAgZm9yIChjb25zdCBhZGFwdGVyIG9mIGFkYXB0ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlck1ldHJpY3MgPSBhZGFwdGVyLm1ldHJpY3NcbiAgICAgICAgICAgIGlmIChvdGhlck1ldHJpY3MgPT09IG1ldHJpY3MpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAoIW90aGVyTWV0cmljcy5pc0FkYXB0aXZlIHx8IG90aGVyTWV0cmljcy5pbm5lckJvdW5kcy5pc0VtcHR5KCkpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAob3RoZXJNZXRyaWNzLmNvbnRhaW5lZEJ5Tm9kZShhZGFwdGVyLm5vZGUpKSBjb250aW51ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvdGhlclN0YXRlID0gdGhpcy5tb2RlID09PSAnY3VycmVudCcgPyBvdGhlck1ldHJpY3MuY3VycmVudCA6IG90aGVyTWV0cmljcy50YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IG90aGVyQm91bmRzID0gb3RoZXJTdGF0ZS52aXN1YWxCb3VuZHNcbiAgICAgICAgICAgIGEubWluLnNldChteUJvdW5kcy5taW4ueCwgbXlCb3VuZHMubWluLnkpXG4gICAgICAgICAgICBhLm1pbi5zZXQobXlCb3VuZHMubWF4LngsIG15Qm91bmRzLm1heC55KVxuICAgICAgICAgICAgYi5taW4uc2V0KG90aGVyQm91bmRzLm1pbi54LCBvdGhlckJvdW5kcy5taW4ueSlcbiAgICAgICAgICAgIGIubWluLnNldChvdGhlckJvdW5kcy5tYXgueCwgb3RoZXJCb3VuZHMubWF4LnkpXG4gICAgICAgICAgICBjb25zdCBvdmVybGFwUGVyY2VudCA9IGEuaW50ZXJzZWN0KGIpLmdldFNpemUoTm9kZVN0YXRlLl9zaXplQikubGVuZ3RoKCkgLyBteUxlbmd0aFxuICAgICAgICAgICAgaWYgKG92ZXJsYXBQZXJjZW50ID4gMCkgIHtcbiAgICAgICAgICAgICAgICBpZiAgKG15TmVhciA8IG90aGVyQm91bmRzLm1pbi56KSB0aGlzLl9vY2NsdWRpbmdQZXJjZW50ICs9IG92ZXJsYXBQZXJjZW50XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLl9vY2NsdWRlZFBlcmNlbnQgKz0gb3ZlcmxhcFBlcmNlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sICB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgc3RhdGljIF9ib3hBID0gbmV3IEJveDJcbiAgICBwcml2YXRlIHN0YXRpYyBfYm94QiA9IG5ldyBCb3gyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NpemVBID0gbmV3IFZlY3RvcjJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2l6ZUIgPSBuZXcgVmVjdG9yMlxuXG4gICAgLyoqIFxuICAgICAqIFRoZSBwZXJjZW50IG9mIHRoaXMgbm9kZSBvY2NsdWRpbmcgYW5vdGhlciBub2RlXG4gICAgICovXG4gICAgZ2V0IG9jY2x1ZGluZ1BlcmNlbnQoKSB7XG4gICAgICAgIHRoaXMuX2NvbXB1dGVPY2NsdXNpb24oKVxuICAgICAgICByZXR1cm4gdGhpcy5fb2NjbHVkaW5nUGVyY2VudFxuICAgIH1cbiAgICBwcml2YXRlIF9vY2NsdWRpbmdQZXJjZW50ID0gMFxuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnQgb2YgdGhpcyBub2RlIG9jY2x1ZGVkIGJ5IGFub3RoZXIgbm9kZVxuICAgICAqL1xuICAgIGdldCBvY2NsdWRlZFBlcmNlbnQoKSB7XG4gICAgICAgIHRoaXMuX2NvbXB1dGVPY2NsdXNpb24oKVxuICAgICAgICByZXR1cm4gdGhpcy5fb2NjbHVkZWRQZXJjZW50XG4gICAgfVxuICAgIHByaXZhdGUgX29jY2x1ZGVkUGVyY2VudCA9IDBcblxuICAgIC8qKlxuICAgICAqIFVzZWQgYXMgYSBoZXVyaXN0aWMgZm9yIHZpZXctc2l6ZSBtYXhpbWl6YXRpb25cbiAgICAgKiAoYXZlcmFnZSBlZGdlIGxlbmd0aCBjb3JyZXNwb25kcyBiZXR0ZXIgd2l0aCBpbm5jcmVhc2lnIHZpc3VhbCBhcmVhXG4gICAgICogY29tcGFyZWQgdG8gYXJlYSBvZiB0aGUgcHJvamVjdGVkIGJvdW5kaW5nLWJveCBpbiBcbiAgICAgKiBjYXNlcyB3aGVyZSB0aGUgdW5kZXJseWluZyBhc3BlY3QgcmF0aW9zIGFyZSBub3QgZml4ZWQpXG4gICAgICovXG4gICAgdmlzdWFsQXZlcmFnZUVkZ2VMZW5ndGgoKSB7XG5cbiAgICB9XG5cbn1cblxuXG4vKipcbiAqIE1haW50YWlucyBjdXJyZW50ICYgdGFyZ2V0IHNjZW5lZ3JhcGggc3RhdGUsXG4gKiBhbmQgZWZmaWNpZW50bHkvcmVhY3RpdmVseSBjb21wdXRlIHNwYXRpYWwgbWV0cmljcyBcbiAqIGJhc2VkIG9uICp0YXJnZXQqIChub3QgY3VycmVudCkgc2NlbmVncmFwaCBzdGF0ZS4gXG4gKiBcbiAqIEFsbCBtZXRyaWMgdmFsdWVzIHNob3VsZCBiZSB0cmVhdGVkIGFzIHJlYWQtb25seS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNwYXRpYWxNZXRyaWNzPE4gZXh0ZW5kcyBOb2RlM0Q9Tm9kZTNEPiB7XG4gICAgXG4gICAgY29uc3RydWN0b3IocHVibGljIHN5c3RlbTpFdGhlcmVhbExheW91dFN5c3RlbTxOPiwgcHVibGljIG5vZGU6Tikge31cblxuICAgIHByaXZhdGUgX2NhY2hlID0gbmV3IE1lbW9pemF0aW9uQ2FjaGUoKVxuICAgIFxuICAgIG5lZWRzVXBkYXRlID0gdHJ1ZVxuXG4gICAgcGFyZW50Tm9kZSEgOiBOfG51bGxcbiAgICBwYXJlbnRNZXRyaWNzISA6IFNwYXRpYWxNZXRyaWNzPE4+fG51bGxcbiAgICByZWZlcmVuY2VNZXRyaWNzPyA6IFNwYXRpYWxNZXRyaWNzPE4+fG51bGxcblxuICAgIHByaXZhdGUgX2FkYXB0ZXI/IDogU3BhdGlhbEFkYXB0ZXI8Tj5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtZXRyaWNzLCBpZiBuZWNlc3NhcnlcbiAgICAgKi9cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2VcblxuICAgICAgICAgICAgLy8gdGhpcy5wcmV2aW91c1RhcmdldC5wYXJlbnQgPSB0aGlzLnRhcmdldC5wYXJlbnRcbiAgICAgICAgICAgIC8vIHRoaXMucHJldmlvdXNUYXJnZXQubG9jYWxNYXRyaXggPSB0aGlzLnRhcmdldC5sb2NhbE1hdHJpeFxuXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlciA9IHRoaXMuc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5ub2RlKVxuXG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSB0aGlzLnJhdy5wYXJlbnRcbiAgICAgICAgICAgIHRoaXMucGFyZW50TWV0cmljcyA9IHRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKHRoaXMucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IGFkYXB0ZXI/LmFjdGl2ZUxheW91dD8ucmVmZXJlbmNlTm9kZSB8fCBhZGFwdGVyPy5yZWZlcmVuY2VOb2RlIHx8IHRoaXMucGFyZW50Tm9kZVxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VNZXRyaWNzID0gcmVmZXJlbmNlICYmIHRoaXMuc3lzdGVtLmdldE1ldHJpY3MocmVmZXJlbmNlIGFzIE4pXG5cbiAgICAgICAgICAgIC8vIHRoaXMucGFyZW50TWV0cmljcz8udXBkYXRlKClcbiAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlTWV0cmljcz8udXBkYXRlKClcblxuXG4gICAgICAgICAgICBpZiAoYWRhcHRlcikge1xuXG4gICAgICAgICAgICAgICAgYWRhcHRlci5fdXBkYXRlKClcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVJbm5lckJvdW5kcygpXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlU3RhdGVzKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgX2NhY2hlZElubmVyQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5faW5uZXJCb3VuZHNcblxuICAgICAgICBpZiAodGhpcy5ub2RlICE9PSB0aGlzLnN5c3RlbS52aWV3Tm9kZSkge1xuICAgICAgICAgICAgaW5uZXIuY29weSh0aGlzLmludHJpbnNpY0JvdW5kcylcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQm91bmRzID0gdGhpcy5fY2hpbGRCb3VuZHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmJvdW5kaW5nQ2hpbGRNZXRyaWNzKSB7XG4gICAgICAgICAgICAgICAgYy5pbnZhbGlkYXRlU3RhdGVzKClcbiAgICAgICAgICAgICAgICBjaGlsZEJvdW5kcy5jb3B5KGMuaW5uZXJCb3VuZHMpXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZHMuYXBwbHlNYXRyaXg0KGMucmF3LmxvY2FsTWF0cml4KVxuICAgICAgICAgICAgICAgIGlubmVyLnVuaW9uKGNoaWxkQm91bmRzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2VudGVyID0gaW5uZXIuZ2V0Q2VudGVyKHRoaXMuX2lubmVyQ2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gaW5uZXIuZ2V0U2l6ZSh0aGlzLl9pbm5lclNpemUpXG4gICAgICAgIGlmIChzaXplLmxlbmd0aCgpID4gMCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbnRlbnQgaXMgZmxhdCwgZ2l2ZSBzb21lIHRoaWNrbmVzcyBzbyB0aGF0XG4gICAgICAgICAgICAvLyBib3VuZHMtc2l6ZSBtZWFuaW5nZnVsbHkgYWZmZWN0cyBzY2FsZVxuICAgICAgICAgICAgY29uc3Qgc2l6ZUVwc2lsbG9uID0gdGhpcy5zeXN0ZW0uZXBzaWxsb25NZXRlcnNcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaXplLngpIDw9IHNpemVFcHNpbGxvbikgc2l6ZS54ID0gKE1hdGguc2lnbihzaXplLngpIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTAwMFxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNpemUueSkgPD0gc2l6ZUVwc2lsbG9uKSBzaXplLnkgPSAoTWF0aC5zaWduKHNpemUueSkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZS56KSA8PSBzaXplRXBzaWxsb24pIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgeiBzaXplLCBtYWtlIHN1cmUgYm91bmRzIGFyZSBvbmx5IGV4dGVuZCBiYWNrd2FyZHMgXG4gICAgICAgICAgICAgICAgLy8gKHRoaXMgd2F5LCB2aXN1YWwtYm91bmRzIHJlbWFpbiBhY2N1cmF0ZSlcbiAgICAgICAgICAgICAgICBzaXplLnogPSAoTWF0aC5zaWduKHNpemUueikgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICAgICAgY2VudGVyLnogLT0gc2l6ZUVwc2lsbG9uICogMTAwMCAvIDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlubmVyLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5uZXJcbiAgICB9KVxuICAgIHByaXZhdGUgX2NoaWxkQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbm5lckJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfaW5uZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2lubmVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYm91bmRzIG9mIHRoaXMgbm9kZSBhbmQgbm9uLWFkYXB0aXZlIGNoaWxkIG5vZGVzIGluIHRoZSBsb2NhbCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAqL1xuICAgIGdldCBpbm5lckJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZElubmVyQm91bmRzKClcbiAgICB9XG4gICAgXG4gICAgZ2V0IGlubmVyQ2VudGVyKCkge1xuICAgICAgICB0aGlzLmlubmVyQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lckNlbnRlclxuICAgIH1cblxuICAgIGdldCBpbm5lclNpemUoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnRyaW5zaWMgYm91bmRzIG9mIHRoZSBnZW9tZXRyeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGlzIG5vZGUgKGV4Y2x1ZGluZyBjaGlsZCBub2RlcylcbiAgICAgKi9cbiAgICBnZXQgaW50cmluc2ljQm91bmRzKCkgOiBSZWFkb25seTxCb3gzPiB7XG4gICAgICAgIGlmICh0aGlzLl9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYmluZGluZ3MuZ2V0SW50cmluc2ljQm91bmRzKHRoaXMsIHRoaXMuX2ludHJpbnNpY0JvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX2ludHJpbnNpY0JvdW5kcy5nZXRDZW50ZXIodGhpcy5faW50cmluc2ljQ2VudGVyKVxuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzLmdldFNpemUodGhpcy5faW50cmluc2ljU2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW50cmluc2ljQm91bmRzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbnRyaW5zaWNDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2ludHJpbnNpY1NpemUgPSBuZXcgVmVjdG9yM1xuICAgIFxuICAgIGdldCBpbnRyaW5zaWNDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuaW50cmluc2ljQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRyaW5zaWNDZW50ZXJcbiAgICB9XG5cbiAgICBnZXQgaW50cmluc2ljU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludHJpbnNpY1NpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlIGludHJpbnNpYyBib3VuZHMgaW4gb3JkZXIgdG8gYWxsb3cgaXQgdG8gYmUgcmVjb21wdXRlZFxuICAgICAqL1xuICAgIGludmFsaWRhdGVJbnRyaW5zaWNCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2ludHJpbnNpY0JvdW5kc05lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5ib3VuZGluZ0NoaWxkTWV0cmljcykge1xuICAgICAgICAgICAgYy5pbnZhbGlkYXRlSW50cmluc2ljQm91bmRzKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludmFsaWRhdGVJbm5lckJvdW5kcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZElubmVyQm91bmRzLm5lZWRzVXBkYXRlKSByZXR1cm5cbiAgICAgICAgdGhpcy5fY2FjaGVkTm9kZUNoaWxkcmVuLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRCb3VuZHNDaGlsZHJlbi5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmJvdW5kaW5nQ2hpbGRNZXRyaWNzKSB7XG4gICAgICAgICAgICBjLmludmFsaWRhdGVJbm5lckJvdW5kcygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIHRoaXMgbm9kZSBkb2VzIG5vdCBjb250YWluIHRoZSBwYXNzZWQgbm9kZS5cbiAgICAgKiBJZiB0aGUgZ2l2ZW4gbm9kZSBpcyBhIGRlc2NlbmRlbnQgb2YgdGhpcyBub2RlLCByZXR1cm5zXG4gICAgICogdGhlIGNsb3Nlc3QgY2hpbGQgbm9kZS5cbiAgICAgKi9cbiAgICBjb250YWluc05vZGUobm9kZTpOKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgbGV0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKG5vZGUpIGFzIFNwYXRpYWxNZXRyaWNzPE4+fG51bGxcbiAgICAgICAgd2hpbGUgKHBhcmVudE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3MgPT09IHRoaXMpIHJldHVybiBwYXJlbnRNZXRyaWNzLm5vZGVcbiAgICAgICAgICAgIHBhcmVudE1ldHJpY3MgPSBwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb250YWluZWRCeU5vZGUobm9kZTpOKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgbGV0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgd2hpbGUgKHBhcmVudE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRNZXRyaWNzLm5vZGUgPT09IG5vZGUpIHJldHVybiBwYXJlbnRNZXRyaWNzLm5vZGVcbiAgICAgICAgICAgIHBhcmVudE1ldHJpY3MgPSBwYXJlbnRNZXRyaWNzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgbm9kZUNoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkTm9kZUNoaWxkcmVuKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkTm9kZUNoaWxkcmVuID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc3lzdGVtLmJpbmRpbmdzLmdldENoaWxkcmVuKHRoaXMsIHRoaXMuX25vZGVDaGlsZHJlbilcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vZGVDaGlsZHJlblxuICAgIH0pXG4gICAgcHJpdmF0ZSBfbm9kZUNoaWxkcmVuID0gbmV3IEFycmF5PE4+KClcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgc3BhdGlhbCBzdGF0ZSBmcm9tIHNwYXRpYWwgb3JpZW50YXRpb24gJiBib3VuZHNcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb21wdXRlU3RhdGUgPSAoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICAgICAgY29uc3QgcmVsYXRpdmVPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG5cbiAgICAgICAgY29uc3Qgd29ybGRNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgICAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3Qgd29ybGRPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgICAgIGNvbnN0IHdvcmxkU2NhbGUgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIGNvbnN0IHNwYXRpYWxDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBzcGF0aWFsU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IHNwYXRpYWxPZmZzZXQgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBpbm5lck9mZnNldCA9IG5ldyBWZWN0b3IzXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVTdGF0ZSh0aGlzOlNwYXRpYWxNZXRyaWNzPE4+LCBzdGF0ZTpOb2RlU3RhdGU8Tj4pIHtcblxuICAgICAgICAgICAgdGhpcy5yYXcgLy8gREVCVUc6IHdoeSBkb2VzIHRoaXMgYnJlYWsgdGhpbmdzP1xuXG4gICAgICAgICAgICBzdGF0ZS5wYXJlbnQgPSB0aGlzLnJhdy5wYXJlbnRcblxuICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuX2FkYXB0ZXJcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZVN0YXRlID0gdGhpcy5yZWZlcmVuY2VNZXRyaWNzPy5bc3RhdGUubW9kZV1cbiAgICAgICAgICAgIHJlbGF0aXZlT3JpZW50YXRpb24uY29weShcbiAgICAgICAgICAgICAgICBhZGFwdGVyPy5vcmllbnRhdGlvbi5lbmFibGVkICYmIGFkYXB0ZXI/Lm9yaWVudGF0aW9uW3N0YXRlLm1vZGVdIHx8IHRoaXMucmF3LnJlbGF0aXZlT3JpZW50YXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGNvbnN0IHNwYXRpYWxCb3VuZHMgPSBhZGFwdGVyPy5ib3VuZHMuZW5hYmxlZCAmJiBhZGFwdGVyPy5ib3VuZHNbc3RhdGUubW9kZV1cblxuICAgICAgICAgICAgaWYgKHNwYXRpYWxCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBzcGF0aWFsQm91bmRzLmdldENlbnRlcihzcGF0aWFsQ2VudGVyKVxuICAgICAgICAgICAgICAgIHNwYXRpYWxCb3VuZHMuZ2V0U2l6ZShzcGF0aWFsU2l6ZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyQ2VudGVyID0gdGhpcy5pbm5lckNlbnRlclxuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyU2l6ZSA9IHRoaXMuaW5uZXJTaXplXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzaXplRXBzaWxsb24gPSB0aGlzLnN5c3RlbS5lcHNpbGxvbk1ldGVyc1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzcGF0aWFsU2l6ZS54KSA8PSBzaXplRXBzaWxsb24pIHNwYXRpYWxTaXplLnggPSAoTWF0aC5zaWduKHNwYXRpYWxTaXplLngpIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTBcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BhdGlhbFNpemUueSkgPD0gc2l6ZUVwc2lsbG9uKSBzcGF0aWFsU2l6ZS55ID0gKE1hdGguc2lnbihzcGF0aWFsU2l6ZS55KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNwYXRpYWxTaXplLnopIDw9IHNpemVFcHNpbGxvbikgc3BhdGlhbFNpemUueiA9IChNYXRoLnNpZ24oc3BhdGlhbFNpemUueikgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMFxuXG4gICAgICAgICAgICAgICAgd29ybGRTY2FsZS5jb3B5KHNwYXRpYWxTaXplKVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbm5lclNpemUueCkgPj0gc2l6ZUVwc2lsbG9uKSB3b3JsZFNjYWxlLnggLz0gaW5uZXJTaXplLnhcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5uZXJTaXplLnkpID49IHNpemVFcHNpbGxvbikgd29ybGRTY2FsZS55IC89IGlubmVyU2l6ZS55XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlubmVyU2l6ZS56KSA+PSBzaXplRXBzaWxsb24pIHdvcmxkU2NhbGUueiAvPSBpbm5lclNpemUuelxuXG4gICAgICAgICAgICAgICAgd29ybGRPcmllbnRhdGlvbi5tdWx0aXBseVF1YXRlcm5pb25zKHN0YXRlLm91dGVyT3JpZW50YXRpb24sIHJlbGF0aXZlT3JpZW50YXRpb24pLm5vcm1hbGl6ZSgpXG4gICAgICAgICAgICAgICAgc3BhdGlhbE9mZnNldC5jb3B5KHNwYXRpYWxDZW50ZXIpLmFwcGx5UXVhdGVybmlvbih3b3JsZE9yaWVudGF0aW9uKVxuICAgICAgICAgICAgICAgIGlubmVyT2Zmc2V0LmNvcHkoaW5uZXJDZW50ZXIpLm11bHRpcGx5KHdvcmxkU2NhbGUpLmFwcGx5UXVhdGVybmlvbih3b3JsZE9yaWVudGF0aW9uKVxuICAgICAgICAgICAgICAgIHdvcmxkUG9zaXRpb24uY29weShzdGF0ZS5vdXRlck9yaWdpbikuYWRkKHNwYXRpYWxPZmZzZXQpLnN1Yihpbm5lck9mZnNldClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3b3JsZE1hdHJpeC5jb21wb3NlKHdvcmxkUG9zaXRpb24sd29ybGRPcmllbnRhdGlvbix3b3JsZFNjYWxlKVxuICAgICAgICAgICAgICAgIHN0YXRlLndvcmxkTWF0cml4ID0gd29ybGRNYXRyaXhcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJlbGF0aXZlTWF0cml4LmNvbXBvc2UodGhpcy5yYXcucmVsYXRpdmVQb3NpdGlvbiwgcmVsYXRpdmVPcmllbnRhdGlvbiwgdGhpcy5yYXcucmVsYXRpdmVTY2FsZSlcbiAgICAgICAgICAgICAgICBzdGF0ZS53b3JsZE1hdHJpeCA9IHJlZmVyZW5jZVN0YXRlPy53b3JsZE1hdHJpeCA/IFxuICAgICAgICAgICAgICAgICAgICB3b3JsZE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHJlZmVyZW5jZVN0YXRlPy53b3JsZE1hdHJpeCxyZWxhdGl2ZU1hdHJpeCkgOiBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVNYXRyaXhcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGFkYXB0ZXI/Lm9wYWNpdHkuZW5hYmxlZCAmJiBhZGFwdGVyPy5vcGFjaXR5W3N0YXRlLm1vZGVdXG4gICAgICAgICAgICBzdGF0ZS5vcGFjaXR5ID0gdHlwZW9mIG9wYWNpdHkgPT09ICdudW1iZXInID8gb3BhY2l0eSA6IDFcblxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIH1cbiAgICB9KSgpXG5cbiAgICBpbnZhbGlkYXRlU3RhdGVzKGluY2x1ZGVSYXc9dHJ1ZSkge1xuICAgICAgICBpZiAoaW5jbHVkZVJhdykge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkUmF3U3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgICAgICB0aGlzW0ludGVybmFsUmF3U3RhdGVdLmludmFsaWRhdGUoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlZEN1cnJlbnRTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpcy5fY2FjaGVkVGFyZ2V0U3RhdGUubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXNbSW50ZXJuYWxDdXJyZW50U3RhdGVdLmludmFsaWRhdGUoKVxuICAgICAgICB0aGlzW0ludGVybmFsVGFyZ2V0U3RhdGVdLmludmFsaWRhdGUoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByYXcgbm9kZSBzdGF0ZSwgYmVmb3JlIGFueSB1cGRhdGUsIHdpdGggYW5jZXN0b3IgdGFyZ2V0IHN0YXRlc1xuICAgICAqL1xuICAgIGdldCByYXcoKSA6IFJlYWRvbmx5PE5vZGVTdGF0ZTxOPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUmF3U3RhdGUoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRSYXdTdGF0ZSA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICB0aGlzLnN5c3RlbS5iaW5kaW5ncy5nZXRTdGF0ZSh0aGlzLCB0aGlzW0ludGVybmFsUmF3U3RhdGVdKVxuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbFJhd1N0YXRlXVxuICAgIH0pO1xuICAgIFtJbnRlcm5hbFJhd1N0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCd0YXJnZXQnLCB0aGlzKVxuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkQ3VycmVudFN0YXRlKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkQ3VycmVudFN0YXRlID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wdXRlU3RhdGUodGhpc1tJbnRlcm5hbEN1cnJlbnRTdGF0ZV0pXG4gICAgfSk7XG4gICAgW0ludGVybmFsQ3VycmVudFN0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCdjdXJyZW50JywgdGhpcylcblxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgdGFyZ2V0KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUYXJnZXRTdGF0ZSgpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFRhcmdldFN0YXRlID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wdXRlU3RhdGUodGhpc1tJbnRlcm5hbFRhcmdldFN0YXRlXSlcbiAgICB9KTtcbiAgICBbSW50ZXJuYWxUYXJnZXRTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgndGFyZ2V0JywgdGhpcylcblxuXG4gICAgLyoqXG4gICAgICogVGhlIHByZXZpb3VzIHRhcmdldCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCBwcmV2aW91c1RhcmdldCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICByZXR1cm4gdGhpc1tJbnRlcm5hbFByZXZpb3VzVGFyZ2V0U3RhdGVdXG4gICAgfVxuICAgIFtJbnRlcm5hbFByZXZpb3VzVGFyZ2V0U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ3RhcmdldCcsIHRoaXMpXG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCBub2RlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGlzIGJvdW5kaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBnZXQgYm91bmRpbmdDaGlsZE1ldHJpY3MoKSA6IFJlYWRvbmx5QXJyYXk8U3BhdGlhbE1ldHJpY3M8Tj4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEJvdW5kc0NoaWxkcmVuKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkQm91bmRzQ2hpbGRyZW4gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZUNoaWxkcmVuID0gdGhpcy5ub2RlQ2hpbGRyZW5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLl9ib3VuZGluZ0NoaWxkcmVuXG4gICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKGNoaWxkKVxuICAgICAgICAgICAgaWYgKG1ldHJpY3MuaXNBZGFwdGl2ZSkgY29udGludWVcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobWV0cmljcylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5cbiAgICB9KVxuICAgIHByaXZhdGUgX2JvdW5kaW5nQ2hpbGRyZW4gPSBbXSBhcyBTcGF0aWFsTWV0cmljczxOPltdXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgaXNBZGFwdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3lzdGVtLm5vZGVBZGFwdGVycy5oYXModGhpcy5ub2RlKVxuICAgIH1cbiAgICBcbn1cblxuIiwiaW1wb3J0IHsgTm9kZTNEIH0gZnJvbSAnLi9FdGhlcmVhbExheW91dFN5c3RlbSdcbmltcG9ydCB7IFZlY3RvcjMsIFF1YXRlcm5pb24sIEJveDMsIE1hdGhVdGlscywgcmFuZG9tU2VsZWN0LCByYW5kb21RdWF0ZXJuaW9uLCBnYXVzc2lhbiwgbGV2eX0gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuaW1wb3J0IHsgU3BhdGlhbEFkYXB0ZXIgfSBmcm9tICcuL1NwYXRpYWxBZGFwdGVyJ1xuaW1wb3J0IHsgT3B0aW1pemVyQ29uZmlnIH0gZnJvbSAnLi9TcGF0aWFsT3B0aW1pemVyJ1xuaW1wb3J0IHsgXG4gICAgT2JqZWN0aXZlT3B0aW9ucywgXG4gICAgVmVjdG9yM1NwZWMsIC8vUmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQgYXMgUmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQsIFxuICAgIFF1YXRlcm5pb25TcGVjLCBSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludCBhcyBSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludCxcbiAgICBXb3JsZFNjYWxlQ29uc3RyYWludCBhcyBXb3JsZFNjYWxlQ29uc3RyYWludCwgQXNwZWN0Q29uc3RyYWludCxcbiAgICBTcGF0aWFsQm91bmRzU3BlYywgU3BhdGlhbEJvdW5kc0NvbnN0cmFpbnQsXG4gICAgVmlzdWFsQm91bmRzU3BlYywgVmlzdWFsQm91bmRzQ29uc3RyYWludCwgXG4gICAgVmlzdWFsTWF4aW1pemVPYmplY3RpdmUgYXMgTWF4aW1pemVPYmplY3RpdmUsXG4gICAgU3BhdGlhbE9iamVjdGl2ZSwgTWFnbmV0aXplT2JqZWN0aXZlLCBNaW5pbWl6ZU9jY2x1c2lvbk9iamVjdGl2ZVxufSBmcm9tICcuL1NwYXRpYWxPYmplY3RpdmUnXG5cblxuLyoqXG4gKiBEZWZpbmVzIHNwYXRpYWwgbGF5b3V0IGNvbnN0cmFpbnRzL2dvYWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGF0aWFsTGF5b3V0IGV4dGVuZHMgT3B0aW1pemVyQ29uZmlnIHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBhZGFwdGVyOlNwYXRpYWxBZGFwdGVyPGFueT4pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgIH1cbiAgICBcbiAgICByZWxhdGl2ZVRvbGVyYW5jZT86bnVtYmVyXG4gICAgYWJzb2x1dGVUb2xlcmFuY2UgPSB7XG4gICAgICAgIG1ldGVyOiAnMTBtbScsXG4gICAgICAgIHBpeGVsOiAnNHB4JyxcbiAgICAgICAgZGVncmVlOiAnMC4wMDJkZWcnLFxuICAgICAgICByYXRpbzogMC4wMDJcbiAgICB9XG5cbiAgICBnZXRDb21wdXRlZEFic29sdXRlVG9sZXJhbmNlKHR5cGU6IGtleW9mIHR5cGVvZiBTcGF0aWFsTGF5b3V0LnByb3RvdHlwZS5hYnNvbHV0ZVRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLnN5c3RlbS5tZWFzdXJlTnVtYmVyKHRoaXMuYWJzb2x1dGVUb2xlcmFuY2VbdHlwZV0sIHR5cGUpXG4gICAgfVxuXG4gICAgc3VjY2Vzc1JhdGUgPSAwXG5cbiAgICByZXN0YXJ0UmF0ZSA9IDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3RpdmVzIGFwcGxpZWQgdG8gdGhpcyBsYXlvdXRcbiAgICAgKi9cbiAgICBvYmplY3RpdmVzID0gbmV3IEFycmF5PFNwYXRpYWxPYmplY3RpdmU+KCkgYXMgUmVhZG9ubHlBcnJheTxTcGF0aWFsT2JqZWN0aXZlPlxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSByZWZlcmVuY2UgZnJhbWUgZm9yIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBjb25zdHJhaW50cy4gXG4gICAgICogaWYgbm90IGRlZmluZWQsIHRoZSBwYXJlbnQgbm9kZSBiZWNvbWVzIHRoZSByZWZlcmVuY2UgZnJhbWUuIFxuICAgICAqL1xuICAgIHJlZmVyZW5jZU5vZGU/Ok5vZGUzRHxudWxsID0gbnVsbFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIGEgcmVmZXJlbmNlIGZyYW1lIGZvciBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHJlZmVyZW5jZSBcbiAgICAgKi9cbiAgICBwb3NlUmVsYXRpdmVUbyhyZWZlcmVuY2U/Ok5vZGUzRHxudWxsKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlTm9kZSA9IHJlZmVyZW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIG1heGltaXplKG9wdHM/OlBhcnRpYWw8TWF4aW1pemVPYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWF4aW1pemVPYmplY3RpdmUgPSBcbiAgICAgICAgICAgIHRoaXMubWF4aW1pemVPYmplY3RpdmUgPz8gbmV3IE1heGltaXplT2JqZWN0aXZlKHRoaXMpXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC0xMDAwXG4gICAgICAgIG9iai5yZWxhdGl2ZVRvbGVyYW5jZSA9IDAuMVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLG9wdHMpXG4gICAgfVxuICAgIG1heGltaXplT2JqZWN0aXZlPzpNYXhpbWl6ZU9iamVjdGl2ZVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcmVsYXRpdmUgb3JpZW50YXRpb24gY29uc3RyYWludFxuICAgICAqL1xuICAgIG9yaWVudGF0aW9uKHNwZWM6UXVhdGVybmlvblNwZWMsIG9wdHM/OlBhcnRpYWw8UmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMub3JpZW50YXRpb25Db25zdHJhaW50ID0gdGhpcy5vcmllbnRhdGlvbkNvbnN0cmFpbnQgPz8gbmV3IFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5zcGVjID0gc3BlY1xuICAgICAgICBvYmoucHJpb3JpdHkgPSAtOTk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIG9yaWVudGF0aW9uQ29uc3RyYWludD86UmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnRcblxuICAgIC8qKlxuICAgICogQWRkIGFuIGFzcGVjdC1yYXRpbyBjb25zdHJhaW50XG4gICAgKiBDb25zdHJhaW4gbm9ybWFsaXplZCB3b3JsZCBzY2FsZSB0byBwcmVzZXJ2ZVxuICAgICogeHl6IG9yIHh5IGFzcGVjdCByYXRpb3NcbiAgICAqL1xuICAgIGtlZXBBc3BlY3QobW9kZToneHl6J3wneHknPSAneHl6Jywgb3B0cz86UGFydGlhbDxBc3BlY3RDb25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmtlZXBBc3BlY3RDb25zdHJhaW50ID0gdGhpcy5rZWVwQXNwZWN0Q29uc3RyYWludCA/PyBuZXcgQXNwZWN0Q29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmoubW9kZSA9IG1vZGVcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTk5OFxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBrZWVwQXNwZWN0Q29uc3RyYWludD86QXNwZWN0Q29uc3RyYWludFxuXG4gICAgLy8gLyoqXG4gICAgLy8gICogQWRkIGEgcmVsYXRpdmUgcG9zaXRpb24gY29uc3RyYWludFxuICAgIC8vICAqL1xuICAgIC8vIHBvc2l0aW9uKHNwZWM6VmVjdG9yM1NwZWMsIG9wdHM/OlBhcnRpYWw8UmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQ+KSB7XG4gICAgLy8gICAgIGNvbnN0IG9iaiA9IHRoaXMucG9zaXRpb25Db25zdHJhaW50ID0gdGhpcy5wb3NpdGlvbkNvbnN0cmFpbnQgPz8gbmV3IFJlbGF0aXZlUG9zaXRpb25Db25zdHJhaW50KHRoaXMpXG4gICAgLy8gICAgIG9iai5zcGVjID0gc3BlY1xuICAgIC8vICAgICBvYmoucHJpb3JpdHkgPSAtMlxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIC8vIH1cbiAgICAvLyBwb3NpdGlvbkNvbnN0cmFpbnQ/OlJlbGF0aXZlUG9zaXRpb25Db25zdHJhaW50XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB3b3JsZCBzY2FsZSBjb25zdHJhaW50XG4gICAgICovXG4gICAgc2NhbGUoc3BlYzpWZWN0b3IzU3BlYywgb3B0cz86UGFydGlhbDxXb3JsZFNjYWxlQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5zY2FsZUNvbnN0cmFpbnQgPSB0aGlzLnNjYWxlQ29uc3RyYWludCA/PyBuZXcgV29ybGRTY2FsZUNvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC0yXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIHNjYWxlQ29uc3RyYWludD86V29ybGRTY2FsZUNvbnN0cmFpbnRcblxuXG4gICAgYm91bmRzKHNwZWM6U3BhdGlhbEJvdW5kc1NwZWMsIG9wdHM/OlBhcnRpYWw8U3BhdGlhbEJvdW5kc0NvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuYm91bmRzQ29uc3RyYWludCA9ICB0aGlzLmJvdW5kc0NvbnN0cmFpbnQgPz8gbmV3IFNwYXRpYWxCb3VuZHNDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5zcGVjID0gc3BlY1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBib3VuZHNDb25zdHJhaW50PzpTcGF0aWFsQm91bmRzQ29uc3RyYWludFxuXG4gICAgdmlzdWFsT3JpZW50YXRpb24oc3BlYzpRdWF0ZXJuaW9uU3BlYyxvcHRzPzpQYXJ0aWFsPFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm9yaWVudGF0aW9uQ29uc3RyYWludCA9IHRoaXMub3JpZW50YXRpb25Db25zdHJhaW50ID8/IG5ldyBSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTk5OVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cblxuICAgIHZpc3VhbEJvdW5kcyhzcGVjOlZpc3VhbEJvdW5kc1NwZWMsIG9wdHM/OlBhcnRpYWw8VmlzdWFsQm91bmRzQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3QgbWV0ZXJDb25zdHJhaW50ID0gdGhpcy52aXN1YWxCb3VuZHNNZXRlckNvbnN0cmFpbnQgPSBcbiAgICAgICAgICAgIHRoaXMudmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50ID8/IG5ldyBWaXN1YWxCb3VuZHNDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIGNvbnN0IHBpeGVsQ29uc3RyYWludCA9IHRoaXMudmlzdWFsQm91bmRzUGl4ZWxDb25zdHJhaW50ID0gXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludCA/PyBuZXcgVmlzdWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBtZXRlckNvbnN0cmFpbnQuc3BlYyA9IHNwZWNcbiAgICAgICAgbWV0ZXJDb25zdHJhaW50LnR5cGUgPSAnbWV0ZXInXG4gICAgICAgIHBpeGVsQ29uc3RyYWludC5zcGVjID0gc3BlY1xuICAgICAgICBwaXhlbENvbnN0cmFpbnQudHlwZSA9ICdwaXhlbCdcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG1ldGVyQ29uc3RyYWludCwgb3B0cykuYWRkT2JqZWN0aXZlKHBpeGVsQ29uc3RyYWludCwgb3B0cylcbiAgICB9XG4gICAgdmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50PzpWaXN1YWxCb3VuZHNDb25zdHJhaW50XG4gICAgdmlzdWFsQm91bmRzUGl4ZWxDb25zdHJhaW50PzpWaXN1YWxCb3VuZHNDb25zdHJhaW50XG5cbiAgICBtYWduZXRpemUob3B0cz86UGFydGlhbDxNYWduZXRpemVPYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWFnbmV0aXplT2JqZWN0aXZlID0gdGhpcy5tYWduZXRpemVPYmplY3RpdmUgPz8gbmV3IE1hZ25ldGl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtOTAwXG4gICAgICAgIG9iai5yZWxhdGl2ZVRvbGVyYW5jZSA9IDAuOTVcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgbWFnbmV0aXplT2JqZWN0aXZlPzpNYWduZXRpemVPYmplY3RpdmVcblxuICAgIGF2b2lkT2NjbHVzaW9uKG9wdHM/OlBhcnRpYWw8TWluaW1pemVPY2NsdXNpb25PYmplY3RpdmU+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMubWluaW1pemVPY2NsdXNpb25PYmplY3RpdmUgPSBcbiAgICAgICAgICAgIHRoaXMubWluaW1pemVPY2NsdXNpb25PYmplY3RpdmUgPz8gbmV3IE1hZ25ldGl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAxMVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRPYmplY3RpdmUob2JqLCBvcHRzKVxuICAgIH1cbiAgICBtaW5pbWl6ZU9jY2x1c2lvbk9iamVjdGl2ZT86TWFnbmV0aXplT2JqZWN0aXZlXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gb2JqZWN0aXZlIHdpdGggaXQncyBvcHRpb25zLlxuICAgICAqIElmIHRoZSBvYmplY3RpdmUgaW5zdGFuY2UgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCdzIG5vdCBhZGRlZCBhZ2Fpbi5cbiAgICAgKiBcbiAgICAgKiBBZnRlciBhbiBvYmplY3RpdmUgaXMgYWRkZWQsIHRoZSBvYmplY3RpdmUgbGlzdCBpcyBzdGFibHkgc29ydGVkLCBcbiAgICAgKiBhY2NvcmRpbmcgdG8gdGhlIHByaW9yaXR5IG9mIGVhY2ggb2JqZWN0aXZlLlxuICAgICAqL1xuICAgIGFkZE9iamVjdGl2ZTxUIGV4dGVuZHMgU3BhdGlhbE9iamVjdGl2ZT4ob2JqOlQsIG9wdHM/OlBhcnRpYWw8VD4pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmosIG9wdHMpXG4gICAgICAgIGlmICh0aGlzLm9iamVjdGl2ZXMuaW5kZXhPZihvYmopID09PSAtMSkgXG4gICAgICAgICAgICAodGhpcy5vYmplY3RpdmVzIGFzIEFycmF5PFNwYXRpYWxPYmplY3RpdmU+KS5wdXNoKG9iailcbiAgICAgICAgdGhpcy5wcm9jZXNzT2JqZWN0aXZlcygpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuXG4gICAgLyoqXG4gICAgICogVGhlIHNvbHV0aW9ucyBiZWluZyBleHBsb3JlZCBmb3IgdGhpcyBsYXlvdXRcbiAgICAgKi9cbiAgICBzb2x1dGlvbnMgPSBuZXcgQXJyYXk8TGF5b3V0U29sdXRpb24+KClcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG9wdGltaXphdGlvbiBpdGVyYXRpb25cbiAgICAgKi9cbiAgICBpdGVyYXRpb24gPSAwXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGlzIGxheW91dCBoYXMgYSB2YWxpZCBzb2x1dGlvblxuICAgICAqL1xuICAgIGdldCBoYXNWYWxpZFNvbHV0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb2x1dGlvbnNbMF0/LmlzRmVhc2libGUgPT09IHRydWVcbiAgICB9XG5cbiAgICAvKiogc3RhYmxlLXNvcnQgb2JqZWN0aXZlcyBieSBwcmlvcml0eSAqL1xuICAgIC8vIHByaXZhdGUgX3ByaW9yaXR5U29ydChhOlNwYXRpYWxPYmplY3RpdmUsYjpTcGF0aWFsT2JqZWN0aXZlKSB7XG4gICAgLy8gICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleFxuICAgIC8vICAgICAvLyBpZiAoYS5wcmlvcml0eSA9PT0gYi5wcmlvcml0eSkgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4XG4gICAgLy8gICAgIC8vIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eVxuICAgIC8vIH1cblxuICAgIHByb2Nlc3NPYmplY3RpdmVzKCkge1xuICAgICAgICBjb25zdCBzeXMgPSB0aGlzLmFkYXB0ZXIuc3lzdGVtXG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB0aGlzLm9iamVjdGl2ZXMgYXMgQXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqZWN0aXZlcykge1xuICAgICAgICAgICAgby5pbmRleCA9IGluZGV4KytcbiAgICAgICAgICAgIG8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSA9IG8uYWJzb2x1dGVUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IFxuICAgICAgICAgICAgICAgIHN5cy5tZWFzdXJlTnVtYmVyKG8uYWJzb2x1dGVUb2xlcmFuY2UsIHN5cy5tYXRoU2NvcGVbby50eXBlXSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZShvLnR5cGUpXG4gICAgICAgICAgICBvLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2UgPSBvLnJlbGF0aXZlVG9sZXJhbmNlID8/XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRvbGVyYW5jZSA/P1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zeXN0ZW0ub3B0aW1pemUucmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3RpdmVzLnNvcnQodGhpcy5fcHJpb3JpdHlTb3J0KVxuICAgIH1cblxuICAgIGJlc3RTb2x1dGlvbiEgOiBMYXlvdXRTb2x1dGlvblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJlc3Qgc2NvcmVzIGFuZCBzb3J0IHNvbHV0aW9uc1xuICAgICAqL1xuICAgIHNvcnRTb2x1dGlvbnMoKSB7XG4gICAgICAgIHRoaXMuc29sdXRpb25zLnNvcnQodGhpcy5jb21wYXJlU29sdXRpb25zKVxuICAgICAgICB0aGlzLmJlc3RTb2x1dGlvbiA9IHRoaXMuc29sdXRpb25zWzBdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWFjaCBvYmplY3RpdmUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIHNjYWxhciB2YWx1ZSBcbiAgICAgKiB0aGF0IGluY3JlYXNlcyBpbiBjb3JyZWxhdGlvbiB3aXRoIGltcHJvdmVkIGZpdG5lc3MuIFxuICAgICAqIFxuICAgICAqIFRoZSBmaXRuZXNzIHZhbHVlIGRvZXMgbm90IG5lZWQgdG8gYmUgbm9ybWFsaXplZCwgYXMgXG4gICAgICogaW5kaXZpZHVhbCBvYmplY3RpdmVzIGFyZSBub3Qgd2VpZ2h0ZWQgZGlyZWN0bHkgYWdhaW5zdFxuICAgICAqIG9uZSBhbm90aGVyLiBSYXRoZXIsIHNvbHV0aW9ucyBhcmUgcmFua2VkIGJ5IHByZWZlcnJpbmcgXG4gICAgICogdGhlIHNvbHV0aW9uIHRoYXQgaGFzIHRoZSBoaWdoZXN0IHNjb3JlICh3aXRoaW4gdG9sZXJhbmNlKVxuICAgICAqIG9mIGVhY2ggb2JqZWN0aXZlLCBpbiBvcmRlciBvZiBvYmplY3RpdmUgcHJpb3JpdHkuIFxuICAgICAqIFxuICAgICAqIElmIG9uZSBzb2x1dGlvbiBpcyBmZWFzaWJsZSAobm8gbmVnYXRpdmUgc2NvcmVzKSBhbmQgdGhlIFxuICAgICAqIG90aGVyIHNvbHRpb24gaXNuJ3QsIHRoZSBmZWFzaWJsZSBvbmUgaXMgYWx3YXlzIHJhbmtlZCBoaWdoZXIuIFxuICAgICAqIFxuICAgICAqIEluIGFsbCBvdGhlciBjYXNlcywgc29sdXRpb25zIGFyZSBjb21wYXJlZCBieSBleGFtaW5pbmdcbiAgICAgKiB0aGVpciBvYmplY3RpdmUgc2NvcmVzIHNlcXVlbnRpYWxseTpcbiAgICAgKiBcbiAgICAgKiBJZiBhdCBhbnkgcG9pbnQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBzY29yZXMgaXMgbGFyZ2VyIFxuICAgICAqIHRoYW4gdGhlIHRvbGVyYW5jZSBmb3IgYSBnaXZlbiBvYmplY3RpdmUsIHRoZSB0d28gc29sdXRpb25zIFxuICAgICAqIHdpbGwgYmUgcmFua2VkIGJ5IHRoYXQgb2JqZWN0aXZlLiBcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgdHdvIHNvbHV0aW9ucyBhcmUgd2l0aGluIHJlbGF0aXZlIHRvbGVyYW5jZSBcbiAgICAgKiBvZiBvbmUgYW5vdGhlciBmb3IgYWxsIG9iamVjdGl2ZXMsIHRob3NlIHR3byB3aWxsIGJlXG4gICAgICogY29tcGFyZWQgdG8gb25lIGFub3RoZXIgYnkgdGhlIGxvd2VzdCBwcmlvcml0eSBvYmplY3RpdmVcbiAgICAgKiBcbiAgICAgKiBJZiBlaXRoZXIgc29sdXRpb24gYnJlYWtzIGNvbnN0cmFpbnRzLCB0aGVuXG4gICAgICogdGhlIG9uZSB3aXRoIHRoZSBsb3dlc3QgcGVuYWx0eSBpcyByYW5rZWQgaGlnaGVyXG4gICAgICovXG4gICAgY29tcGFyZVNvbHV0aW9ucyA9IChhOkxheW91dFNvbHV0aW9uLCBiOkxheW91dFNvbHV0aW9uKSA9PiB7XG5cbiAgICAgICAgLy8gY29uc3QgYU1pbiA9IGEuYm91bmRzLm1pblxuICAgICAgICAvLyBjb25zdCBhTWF4ID0gYS5ib3VuZHMubWF4XG4gICAgICAgIC8vIGlmIChpc05hTihhTWluLngpfHxpc05hTihhTWluLnkpfHxpc05hTihhTWluLnopfHxpc05hTihhTWF4LngpfHxpc05hTihhTWF4LnkpfHxpc05hTihhTWF4LnopKVxuICAgICAgICAvLyAgICAgcmV0dXJuIDFcblxuICAgICAgICBjb25zdCBvYmplY3RpdmVzID0gdGhpcy5vYmplY3RpdmVzXG4gICAgICAgIGlmIChhLnNjb3Jlcy5sZW5ndGggPCBvYmplY3RpdmVzLmxlbmd0aCkgcmV0dXJuIDFcbiAgICAgICAgaWYgKGIuc2NvcmVzLmxlbmd0aCA8IG9iamVjdGl2ZXMubGVuZ3RoKSByZXR1cm4gLTFcblxuICAgICAgICBjb25zdCBhRmVhc2libGUgPSBhLmlzRmVhc2libGVcbiAgICAgICAgY29uc3QgYkZlYXNpYmxlID0gYi5pc0ZlYXNpYmxlXG4gICAgICAgIGlmIChhRmVhc2libGUgJiYgIWJGZWFzaWJsZSkgcmV0dXJuIC0xXG4gICAgICAgIGlmIChiRmVhc2libGUgJiYgIWFGZWFzaWJsZSkgcmV0dXJuIDFcblxuICAgICAgICBsZXQgcmFuayA9IDBcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJlc3RTY29yZXMgPSB0aGlzLnNvbHV0aW9uc1swXS5zY29yZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY29yZUEgPSBhLnNjb3Jlc1tpXSBcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlQiA9IGIuc2NvcmVzW2ldIFxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjb3JlQSkpIHJldHVybiAxXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmVCKSkgcmV0dXJuIC0xXG4gICAgICAgICAgICBjb25zdCBvYmplY3RpdmUgPSBvYmplY3RpdmVzW2ldXG4gICAgICAgICAgICBjb25zdCBvUmVsVG9sID0gb2JqZWN0aXZlLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgICAgIGNvbnN0IG9BYnNUb2wgPSBvYmplY3RpdmUuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZVxuICAgICAgICAgICAgY29uc3QgYmVzdCA9IE1hdGgubWF4KGJlc3RTY29yZXNbaV0sIHNjb3JlQSwgc2NvcmVCKVxuICAgICAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gTWF0aC5taW4oYmVzdCAtIE1hdGguYWJzKGJlc3QpICogb1JlbFRvbCwgLW9BYnNUb2wpXG4gICAgICAgICAgICBpZiAoc2NvcmVBIDwgdG9sZXJhbmNlIHx8IHNjb3JlQiA8IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIG9iamVjdGl2ZS5zb3J0QmxhbWUrK1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29yZUIgLSBzY29yZUEgLy8gcmFuayBieSBoaWdoZXN0IHNjb3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcmVCIC0gc2NvcmVBICE9PSAwKSByYW5rID0gc2NvcmVCIC0gc2NvcmVBXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhbGwgc2NvcmVzIGFyZSB3aXRoaW4gcmVsYXRpdmUgdG9sZXJhbmNlIG9mIG9uZSBhbm90aGVyLFxuICAgICAgICAvLyBzb3J0IGJ5IGxvd2VzdCBwcmlvcml0eSBzY29yZVxuICAgICAgICByZXR1cm4gcmFua1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblN0cmF0ZWd5IHt0eXBlOnN0cmluZywgc3RlcFNpemU6IG51bWJlcn1cblxuZXhwb3J0IGNsYXNzIExheW91dFNvbHV0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheW91dD86U3BhdGlhbExheW91dCkgeyBcbiAgICAgICAgaWYgKGxheW91dCkgdGhpcy5sYXlvdXQgPSBsYXlvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5b3V0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvbHV0aW9uXG4gICAgICovXG4gICAgbGF5b3V0OiBTcGF0aWFsTGF5b3V0ID0gdW5kZWZpbmVkIGFzIGFueVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxheW91dCBvcmllbnRhdGlvbiAocmVsYXRpdmUgdG8gcGFyZW50IG9yaWVudGF0aW9uKVxuICAgICAqL1xuICAgIG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgYm91bmRzICh3b3JsZCB1bml0cylcbiAgICAgKi9cbiAgICBib3VuZHMgPSBuZXcgQm94M1xuXG5cbiAgICBnZXQgYXNwZWN0UGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzW3RoaXMubGF5b3V0Lm9iamVjdGl2ZXMuaW5kZXhPZih0aGlzLmxheW91dC5rZWVwQXNwZWN0Q29uc3RyYWludCEpXXx8MFxuICAgIH1cblxuICAgIGdldCBvcmllbnRhdGlvblBlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlc1t0aGlzLmxheW91dC5vYmplY3RpdmVzLmluZGV4T2YodGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50ISldfHwwXG4gICAgfVxuXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHNQZW5hbHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZXNbdGhpcy5sYXlvdXQub2JqZWN0aXZlcy5pbmRleE9mKHRoaXMubGF5b3V0LmJvdW5kc0NvbnN0cmFpbnQhKV18fDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBmaXRuZXNzIHNjb3JlcyBmb3IgdGhpcyBzb2x1dGlvblxuICAgICAqIChvbmUgZm9yIGVhY2ggb2JqZWN0aXZlLCBoaWdoZXIgaXMgYmV0dGVyKVxuICAgICAqL1xuICAgIHNjb3JlcyA9IFtdIGFzIG51bWJlcltdXG5cbiAgICAvKipcbiAgICAgKiBBbGwgY29uc3RyYWludHMgYXJlIHNhdGlzZmllZFxuICAgICAqL1xuICAgIGlzRmVhc2libGUgPSBmYWxzZVxuICAgIFxuXG4gICAgbXV0YXRpb25TdHJhdGVnaWVzID0gW1xuICAgICAgICB7dHlwZToncm90YXRlJywgc3RlcFNpemU6IDAuMX0sXG4gICAgICAgIHt0eXBlOidjZW50ZXInLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J3NpemUnLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J21pbm1heCcsIHN0ZXBTaXplOiAwLjF9LFxuICAgIF1cblxuICAgIHByaXZhdGUgX3NlbGVjdFN0cmF0ZWd5KCkge1xuICAgICAgICBjb25zdCBzdHJhdGVnaWVzID0gdGhpcy5tdXRhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuX211dGF0aW9uV2VpZ2h0c1xuXG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ29uc3RyYWludCA9IHRoaXMubGF5b3V0Lm9yaWVudGF0aW9uQ29uc3RyYWludFxuICAgICAgICBjb25zdCBhc3BlY3RDb25zdHJhaW50ID0gdGhpcy5sYXlvdXQua2VlcEFzcGVjdENvbnN0cmFpbnRcblxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzdHJhdGVnaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gc3RyYXRlZ2llc1tpXS5zdGVwU2l6ZVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3JvdGF0ZScgXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcmllbnRhdGlvblBlbmFsdHkgPiAtb3JpZW50YXRpb25Db25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAwLjAxXG4gICAgICAgICAgICBpZiAoYXNwZWN0Q29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3NpemUnIFxuICAgICAgICAgICAgICAgICYmIHRoaXMuYXNwZWN0UGVuYWx0eSA8IC1hc3BlY3RDb25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAxMDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5kb21TZWxlY3Qoc3RyYXRlZ2llcywgd2VpZ2h0cylcbiAgICB9XG4gICAgcHJpdmF0ZSBfbXV0YXRpb25XZWlnaHRzID0gW10gYXMgbnVtYmVyW11cblxuICAgIGNvcHkoc29sdXRpb246TGF5b3V0U29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBzb2x1dGlvbi5sYXlvdXRcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KCBzb2x1dGlvbi5vcmllbnRhdGlvbiApXG4gICAgICAgIHRoaXMuYm91bmRzLmNvcHkoIHNvbHV0aW9uLmJvdW5kcyApXG4gICAgICAgIHRoaXMuc2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgLy8gdGhpcy5iZXN0U2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb2x1dGlvbi5zY29yZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcmVzW2ldID0gc29sdXRpb24uc2NvcmVzW2ldXG4gICAgICAgICAgICAvLyB0aGlzLmJlc3RTY29yZXNbaV0gPSBzb2x1dGlvbi5iZXN0U2NvcmVzW2ldXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gc29sdXRpb24uaXNGZWFzaWJsZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9zY3JhdGNoVjEgPSBuZXcgVmVjdG9yMyBcbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyYXRjaFYyID0gbmV3IFZlY3RvcjNcblxuICAgIHJhbmRvbWl6ZShzaXplSGludDpudW1iZXIpIHtcbiAgICAgICAgLy8gdGhpcy5vcmllbnRhdGlvbi5jb3B5KHJhbmRvbVF1YXRlcm5pb24oKSlcbiAgICAgICAgY29uc3QgZmFyID0gbGV2eShzaXplSGludClcbiAgICAgICAgLy8gY29uc3QgY2VudGVyID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMS5zZXQoXG4gICAgICAgIC8vICAgICAoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogZ2F1c3NpYW4oc2l6ZUhpbnQgKiAwLjEpKSAqIGZhcixcbiAgICAgICAgLy8gICAgICgoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBnYXVzc2lhbihzaXplSGludCAqIDAuMSkpICogZmFyLFxuICAgICAgICAvLyAgICAgLSBmYXJcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBjZW50ZXIgPSBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYxLnNldChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgLSBmYXJcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHZpZXdTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLnZpZXdNZXRyaWNzLnRhcmdldFxuXG4gICAgICAgIFxuXG4gICAgICAgIGNlbnRlci5hcHBseU1hdHJpeDQodmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy50YXJnZXQucGFyZW50U3RhdGVcbiAgICAgICAgcGFyZW50U3RhdGUgJiYgY2VudGVyLmFwcGx5TWF0cml4NChwYXJlbnRTdGF0ZS53b3JsZE1hdHJpeEludmVyc2UpXG5cbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KHZpZXdTdGF0ZS53b3JsZE9yaWVudGF0aW9uKVxuICAgICAgICBwYXJlbnRTdGF0ZSAmJiB0aGlzLm9yaWVudGF0aW9uLm11bHRpcGx5KHBhcmVudFN0YXRlLndvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuXG4gICAgICAgIC8vIGNvbnN0IGhhbGZTaXplID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMi5zZXQoXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjFcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy5pbm5lckJvdW5kc1xuICAgICAgICBjb25zdCBzaXplID0gaW5uZXIuaXNFbXB0eSgpID8gXG4gICAgICAgICAgICBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYyLnNldCgxLDEsMSkgOiBcbiAgICAgICAgICAgIGlubmVyLmdldFNpemUoTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMilcbiAgICAgICAgc2l6ZS5ub3JtYWxpemUoKVxuICAgICAgICBzaXplLm11bHRpcGx5U2NhbGFyKGZhciAqIDIgKiBNYXRoLnRhbig1ICogTWF0aFV0aWxzLkRFRzJSQUQpKVxuICAgICAgICAvLyBzaXplLm11bHRpcGx5U2NhbGFyKE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIpXG4gICAgICAgIHRoaXMuYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgLy8gdGhpcy5ib3VuZHMubWluLmNvcHkoY2VudGVyKS5zdWIoaGFsZlNpemUpXG4gICAgICAgIC8vIHRoaXMuYm91bmRzLm1heC5jb3B5KGNlbnRlcikuYWRkKGhhbGZTaXplKVxuICAgICAgICAvLyB0aGlzLmJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NpemUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9vdGhlckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX290aGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICBtb3ZlVG93YXJkcyhzb2x1dGlvbjpMYXlvdXRTb2x1dGlvbiwgbWluRnJlcTpudW1iZXIsIG1heEZyZXE6bnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm91bmRzLmdldENlbnRlcihMYXlvdXRTb2x1dGlvbi5fY2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5ib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcbiAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBzb2x1dGlvbi5ib3VuZHNcbiAgICAgICAgY29uc3Qgb3RoZXJDZW50ZXIgPSBvdGhlckJvdW5kcy5nZXRDZW50ZXIoTGF5b3V0U29sdXRpb24uX290aGVyQ2VudGVyKVxuICAgICAgICBjb25zdCBvdGhlclNpemUgPSBvdGhlckJvdW5kcy5nZXRTaXplKExheW91dFNvbHV0aW9uLl9vdGhlclNpemUpXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uc2xlcnAoc29sdXRpb24ub3JpZW50YXRpb24sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICBjZW50ZXIubGVycChvdGhlckNlbnRlciwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgICAgIHNpemUubGVycChvdGhlclNpemUsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5taW4ubGVycChvdGhlckJvdW5kcy5taW4sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5tYXgubGVycChvdGhlckJvdW5kcy5tYXgsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogIFxuICAgICAqIEBwYXJhbSBzdGVwU2l6ZSBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBwZXJ0dXJiKCkgOiB0eXBlb2YgTGF5b3V0U29sdXRpb24ucHJvdG90eXBlLm11dGF0aW9uU3RyYXRlZ2llc1swXSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMuX3NlbGVjdFN0cmF0ZWd5KClcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3lUeXBlID0gc3RyYXRlZ3kudHlwZVxuICAgICAgICBsZXQgc3RlcFNpemUgPSBzdHJhdGVneS5zdGVwU2l6ZVxuXG4gICAgICAgIC8vIG9yaWVudGF0aW9uIG11dGF0aW9uIHN0cmF0ZWd5XG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdyb3RhdGUnIHx8IE1hdGgucmFuZG9tKCkgPCAwLjAwMSkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25TcGVjID0gdGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50Py5zcGVjIGFzIGFueVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uU3BlYz8uaXNRdWF0ZXJuaW9uICYmIFxuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb25QZW5hbHR5IDwgb3JpZW50YXRpb25TcGVjLmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UgJiYgXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uLmNvcHkob3JpZW50YXRpb25TcGVjKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKGxldnkoTWF0aC5taW4oc3RlcFNpemUsIDEpKjAuMDAwMSksIDEpXG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5tdWx0aXBseShyYW5kb21RdWF0ZXJuaW9uKHNjYWxlLCBzY2FsZSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmJvdW5kc1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBib3VuZHMuZ2V0Q2VudGVyKExheW91dFNvbHV0aW9uLl9jZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcblxuICAgICAgICAvLyBjZW50ZXIgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnY2VudGVyJykgIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IExheW91dFNvbHV0aW9uLl9kaXJlY3Rpb24uc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24ocmFuZG9tUXVhdGVybmlvbigxLDEpKVxuICAgICAgICAgICAgb2Zmc2V0LnNldExlbmd0aChnYXVzc2lhbihzdGVwU2l6ZSkpLm11bHRpcGx5U2NhbGFyKHNpemUubGVuZ3RoKCkpXG4gICAgICAgICAgICBjZW50ZXIuYWRkKG9mZnNldClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpemUgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnc2l6ZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMiAqKiBnYXVzc2lhbihzdGVwU2l6ZSlcbiAgICAgICAgICAgIHNpemUubXVsdGlwbHlTY2FsYXIoc2NhbGUpXG4gICAgICAgIH1cblxuICAgICAgICBzaXplLmNsYW1wU2NhbGFyKHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLmVwc2lsbG9uTWV0ZXJzLzEwLDFlMjApXG4gICAgICAgIGJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG5cblxuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnbWlubWF4Jykge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTGF5b3V0U29sdXRpb24uX2RpcmVjdGlvbi5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihyYW5kb21RdWF0ZXJuaW9uKDEsMSkpXG4gICAgICAgICAgICBvZmZzZXQuc2V0TGVuZ3RoKGdhdXNzaWFuKHN0ZXBTaXplKSkubXVsdGlwbHkoc2l6ZSlcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi5hZGQob2Zmc2V0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLmFkZChvZmZzZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBzaXplIGhhcyBubyBuZWdhdGl2ZSBjb21wb25lbnRzLCBvciBlbHNlIFxuICAgICAgICAvLyBCb3gzIGlzIHVuYWJsZSB0byB0cmFuc2l0aW9uIHByb3Blcmx5XG4gICAgICAgIC8vIGFsdGVybmF0aXZlIGZpeDogdXBkYXRlIEJveDMgdG8gc3VwcG9ydCBuZWdhdGl2ZSBzaXplIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgbWluID0gYm91bmRzLm1pblxuICAgICAgICBjb25zdCBtYXggPSBib3VuZHMubWF4XG4gICAgICAgIGlmIChtaW4ueCA+IG1heC54KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3gnKVxuICAgICAgICBpZiAobWluLnkgPiBtYXgueSkgdGhpcy5fc3dhcChtaW4sbWF4LCd5JylcbiAgICAgICAgaWYgKG1pbi56ID4gbWF4LnopIHRoaXMuX3N3YXAobWluLG1heCwneicpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3RyYXRlZ3lcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zd2FwKGE6VmVjdG9yMywgYjpWZWN0b3IzLCBrZXk6J3gnfCd5J3wneicpIHtcbiAgICAgICAgY29uc3QgYVZhbHVlID0gYVtrZXldXG4gICAgICAgIGNvbnN0IGJWYWx1ZSA9IGJba2V5XVxuICAgICAgICBhW2tleV0gPSBiVmFsdWVcbiAgICAgICAgYltrZXldID0gYVZhbHVlXG4gICAgfVxuXG4gICAgc3RhdGljIGdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluOm51bWJlcixtYXg6bnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbilcbiAgICB9XG5cbiAgICBhcHBseShldmFsdWF0ZT10cnVlKSB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMubGF5b3V0XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBsYXlvdXQuYWRhcHRlclxuICAgICAgICBhZGFwdGVyLm9yaWVudGF0aW9uLnRhcmdldCA9IHRoaXMub3JpZW50YXRpb25cbiAgICAgICAgYWRhcHRlci5ib3VuZHMudGFyZ2V0ID0gdGhpcy5ib3VuZHNcbiAgICAgICAgYWRhcHRlci5tZXRyaWNzLmludmFsaWRhdGVTdGF0ZXMoZmFsc2UpXG4gICAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGF5b3V0Lm9iamVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gbGF5b3V0Lm9iamVjdGl2ZXNbaV1cbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuc2NvcmVzW2ldID0gby5ldmFsdWF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgLW8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSB8fCAhaXNGaW5pdGUoc2NvcmUpKSBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEggPSAxLjUyNTtcbnZhciByZXZlcnNlZCA9IGZ1bmN0aW9uIChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoMSAtIHApO1xuICAgIH07XG59O1xudmFyIG1pcnJvcmVkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCA8PSAwLjUgPyBlYXNpbmcoMiAqIHApIC8gMiA6ICgyIC0gZWFzaW5nKDIgKiAoMSAtIHApKSkgLyAyO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZVJldmVyc2VkRWFzaW5nID0gcmV2ZXJzZWQ7XG52YXIgY3JlYXRlTWlycm9yZWRFYXNpbmcgPSBtaXJyb3JlZDtcbnZhciBjcmVhdGVFeHBvSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHAsIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVCYWNrSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiBwICogKChwb3dlciArIDEpICogcCAtIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nID0gZnVuY3Rpb24gKHBvd2VyKSB7XG4gICAgdmFyIGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0Vhc2luZyhwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuICAgIH07XG59O1xudmFyIGxpbmVhciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHA7XG59O1xudmFyIGVhc2VJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVFeHBvSW4oMik7XG52YXIgZWFzZU91dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChlYXNlSW4pO1xudmFyIGVhc2VJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChlYXNlSW4pO1xudmFyIGNpcmNJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xufTtcbnZhciBjaXJjT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGNpcmNJbik7XG52YXIgY2lyY0luT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGNpcmNPdXQpO1xudmFyIGJhY2tJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIGJhY2tPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoYmFja0luKTtcbnZhciBiYWNrSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoYmFja0luKTtcbnZhciBhbnRpY2lwYXRlID0gLyojX19QVVJFX18qL2NyZWF0ZUFudGljaXBhdGVFYXNpbmcoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPSA0LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbnZhciBCT1VOQ0VfVEhJUkRfVEhSRVNIT0xEID0gOS4wIC8gMTAuMDtcbnZhciBjYSA9IDQzNTYuMCAvIDM2MS4wO1xudmFyIGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbnZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG52YXIgYm91bmNlT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPyA3LjU2MjUgKiBwMiA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRCA/IDkuMDc1ICogcDIgLSA5LjkgKiBwICsgMy40IDogcCA8IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPyBjYSAqIHAyIC0gY2IgKiBwICsgY2MgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG52YXIgYm91bmNlSW4gPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCk7XG59O1xudmFyIGJvdW5jZUluT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHAgKiAyLjAgLSAxLjApICsgMC41O1xufTtcbnZhciBORVdUT05fSVRFUkFUSU9OUyA9IDg7XG52YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xudmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbnZhciBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xudmFyIEtfU1BMSU5FX1RBQkxFX1NJWkUgPSAxMTtcbnZhciBLX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyAoS19TUExJTkVfVEFCTEVfU0laRSAtIDEuMCk7XG52YXIgRkxPQVRfMzJfU1VQUE9SVEVEID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgYSA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbn07XG52YXIgYiA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYTIgLSA2LjAgKiBhMTtcbn07XG52YXIgYyA9IGZ1bmN0aW9uIChhMSkge1xuICAgIHJldHVybiAzLjAgKiBhMTtcbn07XG52YXIgZ2V0U2xvcGUgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIDMuMCAqIGEoYTEsIGEyKSAqIHQgKiB0ICsgMi4wICogYihhMSwgYTIpICogdCArIGMoYTEpO1xufTtcbnZhciBjYWxjQmV6aWVyID0gZnVuY3Rpb24gKHQsIGExLCBhMikge1xuICAgIHJldHVybiAoKGEoYTEsIGEyKSAqIHQgKyBiKGExLCBhMikpICogdCArIGMoYTEpKSAqIHQ7XG59O1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IEZMT0FUXzMyX1NVUFBPUlRFRCA/IG5ldyBGbG9hdDMyQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSkgOiBuZXcgQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSk7XG4gICAgdmFyIGJpbmFyeVN1YmRpdmlkZSA9IGZ1bmN0aW9uIChhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICB2YXIgY3VycmVudFQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUO1xuICAgIH07XG4gICAgdmFyIG5ld3RvblJhcGhzb25JdGVyYXRlID0gZnVuY3Rpb24gKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgICAgZm9yICg7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfTtcbiAgICB2YXIgY2FsY1NhbXBsZVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLX1NQTElORV9UQUJMRV9TSVpFOyArK2kpIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIEtfU0FNUExFX1NURVBfU0laRSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2V0VEZvclggPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLjA7XG4gICAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBLX1NQTElORV9UQUJMRV9TSVpFIC0gMTtcbiAgICAgICAgdmFyIGRpc3QgPSAwLjA7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSAwLjA7XG4gICAgICAgIHZhciBpbml0aWFsU2xvcGUgPSAwLjA7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIEtfU0FNUExFX1NURVBfU0laRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gYVg7XG4gICAgICAgIH0gZWxzZSBpZiAoYVggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxjQmV6aWVyKGdldFRGb3JYKGFYKSwgbVkxLCBtWTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiByZXNvbHZlcjtcbn1cblxuZXhwb3J0IHsgcmV2ZXJzZWQsIG1pcnJvcmVkLCBjcmVhdGVSZXZlcnNlZEVhc2luZywgY3JlYXRlTWlycm9yZWRFYXNpbmcsIGNyZWF0ZUV4cG9JbiwgY3JlYXRlQmFja0luLCBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIGJvdW5jZU91dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBjdWJpY0JlemllciB9O1xuIiwiXG4vLyBpbXBvcnQgeyBjYWNoZWQsIHRyYWNrZWQsIFRyYWNrZWRBcnJheSB9IGZyb20gJy4vdHJhY2tpbmcnXG5pbXBvcnQgeyBcbiAgICBWZWN0b3IyLCBcbiAgICBWZWN0b3IzLCBcbiAgICBRdWF0ZXJuaW9uLCBcbiAgICBCb3gzLCBcbiAgICBDb2xvciwgXG4gICAgTWF0aFV0aWxzLCBcbiAgICBWXzAwLCBcbiAgICBWXzAwMCwgXG4gICAgUV9JREVOVElUWSwgXG4gICAgY29tcHV0ZVJlbGF0aXZlRGlmZmVyZW5jZSxcbiAgICBNYXRoVHlwZVxufSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBFdGhlcmVhbExheW91dFN5c3RlbSB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5cbmltcG9ydCAqIGFzIGVhc2luZ0ltcG9ydCBmcm9tICdAcG9wbW90aW9uL2Vhc2luZydcblxuLy8gYmVjdWFzZSBhcGktZXh0cmFjdG9yIGNvbXBsYWlucyBhYm91dCBgaW1wb3J0IF8gYXMgXyBmcm9tYCxcbi8vIHdlIGhhdmUgdG8gcmVkZWNsYXJlIHR5cGVzIGhlcmVcbmV4cG9ydCB0eXBlIEVhc2luZyA9ICh2OiBudW1iZXIpID0+IG51bWJlcjtcbmV4cG9ydCB0eXBlIEVhc2luZ01vZGlmaWVyID0gKGVhc2luZzogRWFzaW5nKSA9PiBFYXNpbmc7XG5leHBvcnQgaW50ZXJmYWNlIEVhc2luZ01vZHVsZSB7XG4gICAgcmV2ZXJzZWQ6IEVhc2luZ01vZGlmaWVyO1xuICAgIG1pcnJvcmVkOiBFYXNpbmdNb2RpZmllcjtcbiAgICBjcmVhdGVSZXZlcnNlZEVhc2luZzogRWFzaW5nTW9kaWZpZXI7XG4gICAgY3JlYXRlTWlycm9yZWRFYXNpbmc6IEVhc2luZ01vZGlmaWVyO1xuICAgIGNyZWF0ZUV4cG9JbjogKHBvd2VyOiBudW1iZXIpID0+IEVhc2luZztcbiAgICBjcmVhdGVCYWNrSW46IChwb3dlcjogbnVtYmVyKSA9PiBFYXNpbmc7XG4gICAgY3JlYXRlQW50aWNpcGF0ZUVhc2luZzogKHBvd2VyOiBudW1iZXIpID0+IEVhc2luZztcbiAgICBsaW5lYXI6IEVhc2luZztcbiAgICBlYXNlSW46IEVhc2luZztcbiAgICBlYXNlT3V0OiBFYXNpbmc7XG4gICAgZWFzZUluT3V0OiBFYXNpbmc7XG4gICAgY2lyY0luOiBFYXNpbmc7XG4gICAgY2lyY091dDogRWFzaW5nO1xuICAgIGNpcmNJbk91dDogRWFzaW5nO1xuICAgIGJhY2tJbjogRWFzaW5nO1xuICAgIGJhY2tPdXQ6IEVhc2luZztcbiAgICBiYWNrSW5PdXQ6IEVhc2luZztcbiAgICBhbnRpY2lwYXRlOiBFYXNpbmc7XG4gICAgYm91bmNlT3V0OiAocDogbnVtYmVyKSA9PiBudW1iZXI7XG4gICAgYm91bmNlSW46IChwOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICBib3VuY2VJbk91dDogKHA6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIGN1YmljQmV6aWVyKG1YMTogbnVtYmVyLCBtWTE6IG51bWJlciwgbVgyOiBudW1iZXIsIG1ZMjogbnVtYmVyKTogKGFYOiBudW1iZXIpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGVhc2luZyA9IGVhc2luZ0ltcG9ydCBhcyBFYXNpbmdNb2R1bGVcblxuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbmFibGVUeXBlPFQgZXh0ZW5kcyBNYXRoVHlwZT4gPSBUIGV4dGVuZHMgbnVtYmVyID8gbnVtYmVyIDogVCAvLyB3aWRlbiBudW1iZXIgbGl0ZXJhbCB0eXBlc1xuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvbjxUIGV4dGVuZHMgTWF0aFR5cGUgPSBNYXRoVHlwZT57XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86UGFydGlhbDxUcmFuc2l0aW9uPikge1xuICAgICAgICBvcHRpb25zICYmIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucylcbiAgICB9XG4gICAgcHVibGljIHRhcmdldD86IFRyYW5zaXRpb25hYmxlVHlwZTxUPlxuICAgIHB1YmxpYyBkdXJhdGlvbj86IG51bWJlclxuICAgIHB1YmxpYyBlYXNpbmc/OiBFYXNpbmdcbiAgICBwdWJsaWMgYmxlbmQ/OiBib29sZWFuXG4gICAgcHVibGljIGVsYXBzZWQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25Db25maWcge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86VHJhbnNpdGlvbkNvbmZpZykge1xuICAgICAgICBjb25maWcgJiYgT2JqZWN0LmFzc2lnbih0aGlzLCBjb25maWcpXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbXVsdGlwbGllciB0byBpbmZsdWVuY2UgdGhlIHNwZWVkIG9mIHRoZSB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgbXVsdGlwbGllcj86IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICBkdXJhdGlvbj86IG51bWJlciBcbiAgICAvKipcbiAgICAgKiBUaGUgZWFzaW5nIGZ1bmN0aW9uIFxuICAgICAqL1xuICAgIGVhc2luZz86IChhbHBoYTpudW1iZXIpID0+IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIHJlcXVpcmVkIHRvIFwic3RhZ2VcIiBhIHRyYW5zaXRpb24uXG4gICAgICogXG4gICAgICogQSB0aHJlc2hvbGQgb2YgMCBtZWFucyBhbnkgZGlmZmVyZW5jZSB3aWxsIHRyaWdnZXIgYSB0cmFuc2l0aW9uLlxuICAgICAqIFxuICAgICAqIEEgdGhyZXNob2xkIG9mIDAuMSBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgYSByZWxhdGl2ZSBkaWZmZXJlbmNlIG9mIDEwJS4gXG4gICAgICovXG4gICAgdGhyZXNob2xkPzogbnVtYmVyXG4gICAgLyoqc1xuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0aGUgYHRhcmdldGAgbXVzdCBiZSBtYWludGFpbmVkXG4gICAgICogYmV5b25kIHRoZSBgdGhyZXNob2xkYCB0byBhdXRvbWF0aWNhbGx5IFwic3RhZ2VcIiBhIHRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBkZWxheT86IG51bWJlclxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGFmdGVyIGEgbmV3IFwiY29tbWl0XCIgaXMgYWxsb3dlZFxuICAgICAqL1xuICAgIGRlYm91bmNlPzogbnVtYmVyXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHNlY29uZHMgYmVmb3JlIHRoZSBgc3RhZ2VkVGFyZ2V0YFxuICAgICAqIGlzIGNvbW1pdHRlZFxuICAgICAqL1xuICAgIG1heFdhaXQ/OiBudW1iZXJcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBibGVuZCB0cmFuc2l0aW9ucyB0b2dldGhlclxuICAgICAqL1xuICAgIGJsZW5kPzogYm9vbGVhblxufVxuXG5jb25zdCBfc2NyYXRjaFYyID0gbmV3IFZlY3RvcjJcbmNvbnN0IF9zY3JhdGNoVjMgPSBuZXcgVmVjdG9yM1xuY29uc3QgX3NjcmF0Y2hRID0gbmV3IFF1YXRlcm5pb25cbmNvbnN0IF9zY3JhdGNoQm94ID0gbmV3IEJveDNcbmNvbnN0IF9zY3JhdGNoQ29sb3IgPSBuZXcgQ29sb3JcbmNvbnN0IF9ibGFja0NvbG9yID0gbmV3IENvbG9yKDAsMCwwKVxuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvbmFibGU8VCBleHRlbmRzIE1hdGhUeXBlID0gTWF0aFR5cGU+IGV4dGVuZHMgVHJhbnNpdGlvbkNvbmZpZyB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN5c3RlbTpFdGhlcmVhbExheW91dFN5c3RlbTxhbnk+LCBcbiAgICAgICAgc3RhcnRWYWx1ZTpNYXRoVHlwZSxcbiAgICAgICAgY29uZmlnPzpUcmFuc2l0aW9uQ29uZmlnLCBcbiAgICAgICAgcHVibGljIHBhcmVudENvbmZpZzpUcmFuc2l0aW9uQ29uZmlnID0gc3lzdGVtLnRyYW5zaXRpb24pXG4gICAge1xuICAgICAgICBzdXBlcihjb25maWcpXG4gICAgICAgIHRoaXMucmVzZXQoc3RhcnRWYWx1ZSBhcyBUcmFuc2l0aW9uYWJsZVR5cGU8VD4pXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzVGFyZ2V0ID0gdGhpcy5fY29weSh0aGlzLl9wcmV2aW91c1RhcmdldCwgdGhpcy50YXJnZXQpXG4gICAgfVxuXG4gICAgLyoqICovXG4gICAgbmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gICAgcHJpdmF0ZSBfY29weSh0bz86VHJhbnNpdGlvbmFibGVUeXBlPFQ+LCBmcm9tPzpUcmFuc2l0aW9uYWJsZVR5cGU8VD4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBpZiAodHlwZW9mIGZyb20gPT09ICdudW1iZXInKSByZXR1cm4gZnJvbVxuICAgICAgICBjb25zdCByZXN1bHQgPSB0byA/ICh0byBhcyBhbnkpLmNvcHkoZnJvbSkgOiAoZnJvbSBhcyBhbnkpLmNsb25lKClcbiAgICAgICAgaWYgKHJlc3VsdCAmJiAnaXNCb3gzJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEJveCA9IHJlc3VsdCBhcyBCb3gzXG4gICAgICAgICAgICBjb25zdCByZXN1bHRTaXplID0gcmVzdWx0Qm94LmdldFNpemUodGhpcy5fc2l6ZSlcbiAgICAgICAgICAgIGlmIChyZXN1bHRCb3guaXNFbXB0eSgpIHx8XG4gICAgICAgICAgICAgICAgIWlzRmluaXRlKHJlc3VsdFNpemUueCkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUocmVzdWx0U2l6ZS55KSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShyZXN1bHRTaXplLnopKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Qm94LnNldEZyb21DZW50ZXJBbmRTaXplKFZfMDAwLCBWXzAwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICAgIHByaXZhdGUgX3NpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgcHJpdmF0ZSBfaXNFcXVhbChhPzpUcmFuc2l0aW9uYWJsZVR5cGU8VD4sIGI/OlRyYW5zaXRpb25hYmxlVHlwZTxUPikge1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZVxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSByZXR1cm4gYSA9PT0gYlxuICAgICAgICByZXR1cm4gKGEgYXMgYW55KT8uZXF1YWxzKGIpIHx8IGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgYWxsIHN0YXRlcyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLCBcbiAgICAgKiBhbmQgcmVtb3ZlIGFsbCBvbmdvaW5nIHRyYW5zaXRpb25zXG4gICAgICovXG4gICAgcmVzZXQodj86VHJhbnNpdGlvbmFibGVUeXBlPFQ+KSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gdGhpcy5fY29weSh0aGlzLl9zdGFydCwgdilcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2NvcHkodGhpcy5fY3VycmVudCwgdilcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGhpcy5fY29weSh0aGlzLl90YXJnZXQsIHYpXG4gICAgICAgIHRoaXMucXVldWUubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydGluZyB2YWx1ZSBmb3IgY3VycmVudGx5IG9uZ29pbmcgdHJhbnNpdGlvbnNcbiAgICAgKi9cbiAgICBzZXQgc3RhcnQodmFsdWU6VHJhbnNpdGlvbmFibGVUeXBlPFQ+KSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0ID0gdGhpcy5fY29weSh0aGlzLl9zdGFydCwgdmFsdWUpXG4gICAgfVxuICAgIGdldCBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0XG4gICAgfVxuICAgIHByaXZhdGUgX3N0YXJ0ISA6IFRyYW5zaXRpb25hYmxlVHlwZTxUPlxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHZhbHVlLiBcbiAgICAgKi9cbiAgICBzZXQgY3VycmVudCh2YWx1ZTpUcmFuc2l0aW9uYWJsZVR5cGU8VD4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2NvcHkodGhpcy5fY3VycmVudCwgdmFsdWUpXG4gICAgfVxuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFxuICAgIH1cbiAgICBwcml2YXRlIF9jdXJyZW50ITogVHJhbnNpdGlvbmFibGVUeXBlPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgXCJjaGFuZ2VkXCIgcmVmZXJlbmNlIHZhbHVlXG4gICAgICovXG4gICAgc2V0IHJlZmVyZW5jZSh2YWx1ZTpUcmFuc2l0aW9uYWJsZVR5cGU8VD58dW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZSA9IHRoaXMuX2NvcHkodGhpcy5fcmVmZXJlbmNlLCB2YWx1ZSlcbiAgICB9XG4gICAgZ2V0IHJlZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmVyZW5jZVxuICAgIH1cbiAgICBwcml2YXRlIF9yZWZlcmVuY2U/IDogVHJhbnNpdGlvbmFibGVUeXBlPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHZhbHVlLiBcbiAgICAgKi9cbiAgICBzZXQgdGFyZ2V0KHZhbHVlOlRyYW5zaXRpb25hYmxlVHlwZTxUPikge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuX2NvcHkodGhpcy5fdGFyZ2V0LCB2YWx1ZSlcbiAgICB9XG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFxuICAgIH1cbiAgICBwcml2YXRlIF90YXJnZXQhOiBUcmFuc2l0aW9uYWJsZVR5cGU8VD5cblxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBxdWV1ZSBvZiBjb21taXR0ZWQgdHJhbnNpdGlvbnMgdGhhdCBhcmUgc3RpbGwgaW5mbHVlbmNpbmcgdGhlIGBjdXJyZW50YCB2YWx1ZVxuICAgICAqICh3aG9zZSBkdXJhdGlvbnMgaGF2ZSBub3QgeWV0IGJlZW4gZXhjZWVkZWQpXG4gICAgICovXG4gICAgcmVhZG9ubHkgcXVldWU6IFJlcXVpcmVkPFRyYW5zaXRpb248VD4+W10gPSBbXVxuXG4gICAgLyoqXG4gICAgICogSWYgZmFsc2UsIHRoaXMgdHJhbnNpdGlvbmFibGUgaXMgaW5lcnRcbiAgICAgKi9cbiAgICBlbmFibGVkID0gZmFsc2VcblxuICAgIC8qKlxuICAgICAqIEF0IDAsIGEgbmV3IHRyYW5zaXRpb24gaGFzIHN0YXJ0ZWRcbiAgICAgKiBCZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50cyB0aGUgdHJhbnNpdGlvbiBwcm9ncmVzc1xuICAgICAqIEF0IDEsIG5vIHRyYW5zaXRpb25zIGFyZSBhY3RpdmVcbiAgICAgKi9cbiAgICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm4gMVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMucXVldWVbdGhpcy5xdWV1ZS5sZW5ndGgtMV1cbiAgICAgICAgICAgIGlmICh0LmR1cmF0aW9uID09PSAwKSByZXR1cm4gMFxuICAgICAgICAgICAgcmV0dXJuIHQuZWxhcHNlZCAvIHQuZHVyYXRpb25cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIDFcbiAgICB9XG5cbiAgICAvKiogXG4gICAgICogRm9yY2UgdGhlIG5leHQgdXBkYXRlIHRvIG5vdCBjb21taXQgdGhlIHRhcmdldCB2YWx1ZVxuICAgICAqKi9cbiAgICBmb3JjZVdhaXQgPSBmYWxzZVxuXG4gICAgLyoqXG4gICAgICogRm9yY2UgdGhlIG5leHQgdXBkYXRlIHRvIGNvbW1pdCB0aGUgdGFyZ2V0IHZhbHVlLFxuICAgICAqIG9yIHRoZSBzcGVjaWZpZWQgdHJhbnNpdGlvbi5cbiAgICAgKiBJZiBmb3JjZUNvbW1pdCBpcyBzZXQgd2hpbGUgZm9yY2VXYWl0IGlzIGFsc28gc2V0LCBcbiAgICAgKiBmb3JjZVdhaXQgdGFrZXMgcHJlY2VkZW5jZS4gXG4gICAgICovXG4gICAgZ2V0IGZvcmNlQ29tbWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9yY2VDb21taXRcbiAgICB9XG4gICAgc2V0IGZvcmNlQ29tbWl0KHZhbDogYm9vbGVhbiB8IFRyYW5zaXRpb248VD4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmNlQ29tbWl0ID09PSB2YWwpIHJldHVyblxuICAgICAgICB0aGlzLl9mb3JjZUNvbW1pdCA9IHZhbFxuICAgIH1cbiAgICBwcml2YXRlIF9mb3JjZUNvbW1pdCA9IGZhbHNlIGFzIGJvb2xlYW4gfCBUcmFuc2l0aW9uPFQ+XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0YXJnZXQgYW5kIGxhc3QgY29tbWl0dGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGdldCByZWxhdGl2ZURpZmZlcmVuY2UoKSB7XG4gICAgICAgIGNvbnN0IGxhc3RUYXJnZXQgPSB0aGlzLnF1ZXVlW3RoaXMucXVldWUubGVuZ3RoLTFdPy50YXJnZXQgPz8gdGhpcy5zdGFydFxuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyA/IGNvbXB1dGVSZWxhdGl2ZURpZmZlcmVuY2UobGFzdFRhcmdldCwgdGhpcy50YXJnZXQpIDogMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHRhcmdldCBhbmQgcmVmZXJlbmNlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZVJlbGF0aXZlRGlmZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlZmVyZW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMudGFyZ2V0ICE9PSAndW5kZWZpbmVkJyA/IFxuICAgICAgICAgICAgY29tcHV0ZVJlbGF0aXZlRGlmZmVyZW5jZSh0aGlzLnJlZmVyZW5jZSwgdGhpcy50YXJnZXQpIDogSW5maW5pdHlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiBjb25maWcgYWZ0ZXIgYWNjb3VudGluZyBmb3IgYWRhcHRlciBhbmQgc3lzdGVtIGRlZmF1bHRzXG4gICAgICovXG4gICAgZ2V0IHJlc29sdmVkQ29uZmlnKCkge1xuICAgICAgICBjb25zdCByID0gdGhpcy5fcmVzb2x2ZWRDb25maWdcbiAgICAgICAgY29uc3QgYWRhcHRlckNvbmZpZyA9IHRoaXMucGFyZW50Q29uZmlnXG4gICAgICAgIGNvbnN0IHN5c3RlbUNvbmZpZyA9IHRoaXMuc3lzdGVtLnRyYW5zaXRpb25cbiAgICAgICAgci5tdWx0aXBsaWVyID0gdGhpcy5tdWx0aXBsaWVyID8/IGFkYXB0ZXJDb25maWc/Lm11bHRpcGxpZXIgPz8gc3lzdGVtQ29uZmlnLm11bHRpcGxpZXJcbiAgICAgICAgci5kdXJhdGlvbiA9IHRoaXMuZHVyYXRpb24gPz8gYWRhcHRlckNvbmZpZz8uZHVyYXRpb24gPz8gc3lzdGVtQ29uZmlnLmR1cmF0aW9uXG4gICAgICAgIHIuZWFzaW5nID0gdGhpcy5lYXNpbmcgPz8gYWRhcHRlckNvbmZpZz8uZWFzaW5nID8/IHN5c3RlbUNvbmZpZy5lYXNpbmdcbiAgICAgICAgci50aHJlc2hvbGQgPSB0aGlzLnRocmVzaG9sZCA/PyBhZGFwdGVyQ29uZmlnPy50aHJlc2hvbGQgPz8gc3lzdGVtQ29uZmlnLnRocmVzaG9sZFxuICAgICAgICByLmRlbGF5ID0gdGhpcy5kZWxheSA/PyBhZGFwdGVyQ29uZmlnPy5kZWxheSA/PyBzeXN0ZW1Db25maWcuZGVsYXlcbiAgICAgICAgci5kZWJvdW5jZSA9IHRoaXMuZGVib3VuY2UgPz8gYWRhcHRlckNvbmZpZz8uZGVib3VuY2UgPz8gc3lzdGVtQ29uZmlnLmRlYm91bmNlXG4gICAgICAgIHIubWF4V2FpdCA9IHRoaXMubWF4V2FpdCA/PyBhZGFwdGVyQ29uZmlnPy5tYXhXYWl0ID8/IHN5c3RlbUNvbmZpZy5tYXhXYWl0XG4gICAgICAgIHIuYmxlbmQgPSB0aGlzLmJsZW5kID8/IGFkYXB0ZXJDb25maWc/LmJsZW5kID8/IHN5c3RlbUNvbmZpZy5ibGVuZFxuICAgICAgICByZXR1cm4gclxuICAgIH1cbiAgICBwcml2YXRlIF9yZXNvbHZlZENvbmZpZyA9IG5ldyBUcmFuc2l0aW9uQ29uZmlnIGFzIFJlcXVpcmVkPFRyYW5zaXRpb25Db25maWc+XG5cblxuICAgIGRlbGF5VGltZSA9IDBcbiAgICBkZWJvdW5jZVRpbWUgPSAwXG5cbiAgICAvLyB3YWl0VGltZSA9IDBcblxuICAgIHByaXZhdGUgX3ByZXZpb3VzU3RhdHVzOiAndW5jaGFuZ2VkJ3wnY2hhbmdlZCd8J3NldHRsaW5nJ3wnY29tbWl0dGluZycgPSAndW5jaGFuZ2VkJ1xuICAgIGdldCBwcmV2aW91c1N0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzU3RhdHVzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHRoZSBzdGF0dXMgb2YgdGhlIHRhcmdldCB2YWx1ZVxuICAgICAqIFxuICAgICAqIFwidW5jaGFuZ2VkXCIgLSB0aGUgdGFyZ2V0IHZhbHVlIGlzIHVuY2hhbmdlZCByZWxhdGl2ZSB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmFsdWVcbiAgICAgKiBcImNoYW5nZWRcIiAtIHRoZSB0YXJnZXQgdmFsdWUgaGFzIGNoYW5nZWQgcmVsYXRpdmUgdG8gdGhlIGByZWZlcmVuY2VgIHZhbHVlIG9yIGxhc3QgY29tbWl0dGVkIHZhbHVlXG4gICAgICogXCJzZXR0bGluZ1wiIC0gdGhlIHRhcmdldCB2YWx1ZSBoYXMgY2hhbmdlZCwgcGVuZGluZyBzdGFiYWxpemF0aW9uL3RpbWVvdXQsIG9yIHJldmVyc2lvbiB0byBcInVuY2hhbmdlZFwiIHN0YXRlXG4gICAgICogXCJjb21taXR0aW5nXCIgLSB0aGUgdGFyZ2V0IHZhbHVlIHdpbGwgYmUgYWNjZXB0ZWQgYXMgYSBuZXcgdHJhbnNpdGlvbiB0YXJnZXRzXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMubmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3RhdHVzID0gdGhpcy5fc3RhdHVzXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSB0aGlzLl9jb21wdXRlU3RhdHVzKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzXG4gICAgfVxuICAgIHByaXZhdGUgX3N0YXR1cyA6ICd1bmNoYW5nZWQnfCdjaGFuZ2VkJ3wnc2V0dGxpbmcnfCdjb21taXR0aW5nJyA9ICd1bmNoYW5nZWQnXG4gICAgcHJpdmF0ZSBfY29tcHV0ZVN0YXR1cygpIDogJ3VuY2hhbmdlZCd8J2NoYW5nZWQnfCdzZXR0bGluZyd8J2NvbW1pdHRpbmcnIHtcblxuICAgICAgICBpZiAodGhpcy5mb3JjZUNvbW1pdCkgcmV0dXJuICdjb21taXR0aW5nJ1xuXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMucmVzb2x2ZWRDb25maWdcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gY29uZmlnLnRocmVzaG9sZFxuICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuc3lzdGVtLmRlbHRhVGltZSAqIGNvbmZpZy5tdWx0aXBsaWVyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5kZWxheVRpbWUgKyBkZWx0YVxuICAgICAgICBjb25zdCBkZWJvdW5jZSA9IHRoaXMuZGVib3VuY2VUaW1lICsgZGVsdGFcbiAgICAgICAgLy8gY29uc3Qgd2FpdCA9IHRoaXMud2FpdFRpbWUgKyBkZWx0YVxuICAgICAgICBjb25zdCByZWxEaWZmID0gdGhpcy5yZWxhdGl2ZURpZmZlcmVuY2VcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHJlbERpZmYgPiB0aHJlc2hvbGRcblxuICAgICAgICBpZiAoIWNoYW5nZWQpIHJldHVybiAndW5jaGFuZ2VkJ1xuXG4gICAgICAgIGlmICghdGhpcy5mb3JjZVdhaXQgJiYgKChkZWxheSA+PSBjb25maWcuZGVsYXkgJiYgZGVib3VuY2UgPj0gY29uZmlnLmRlYm91bmNlKSB8fCBkZWxheSA+PSBjb25maWcubWF4V2FpdCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnY29tbWl0dGluZydcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZlJlbERpZmYgPSB0aGlzLnJlZmVyZW5jZVJlbGF0aXZlRGlmZmVyZW5jZVxuICAgICAgICBjb25zdCBzdGFibGUgPSByZWZSZWxEaWZmIDwgdGhyZXNob2xkXG5cbiAgICAgICAgaWYgKCFzdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnY2hhbmdlZCdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnc2V0dGxpbmcnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgcHJpdmF0ZSBfdXBkYXRlVHJhbnNpdGlvbmFibGUoKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhVGltZSAgPSB0aGlzLnN5c3RlbS5kZWx0YVRpbWVcbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5yZXNvbHZlZENvbmZpZ1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWVcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zdGF0dXNcbiAgICAgICAgY29uc3QgZGVsdGEgPSBkZWx0YVRpbWUgKiBjb25maWcubXVsdGlwbGllclxuXG4gICAgICAgIC8vIEZpbml0ZSBJbXB1bHNlIFJlc3BvbnNlIEludGVycnVwdGFibGUgVHJhbnNpdGlvbnNcblxuICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoICYmIHF1ZXVlWzBdLmVsYXBzZWQgPj0gcXVldWVbMF0uZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBxdWV1ZS5zaGlmdCgpIS50YXJnZXRcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5zdGFydFxuICAgICAgICBsZXQgcHJldmlvdXNUYXJnZXQgPSB0aGlzLnN0YXJ0XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHF1ZXVlW2ldXG4gICAgICAgICAgICB0aGlzLl9hZGRUcmFuc2l0aW9uVG9DdXJyZW50KHByZXZpb3VzVGFyZ2V0LCB0cmFuc2l0aW9uLCBkZWx0YSlcbiAgICAgICAgICAgIHByZXZpb3VzVGFyZ2V0ID0gdHJhbnNpdGlvbi50YXJnZXRcbiAgICAgICAgICAgIGlmICghdHJhbnNpdGlvbi5ibGVuZCkgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEh5c3RlcmVzaXMtQXdhcmUgVGFyZ2V0IENoYW5nZSBUcmlnZ2VyXG5cbiAgICAgICAgdGhpcy5kZWJvdW5jZVRpbWUgKz0gZGVsdGFcblxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnc2V0dGxpbmcnOiBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2hhbmdlZCc6IFxuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlUaW1lICs9IGRlbHRhXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLnRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICd1bmNoYW5nZWQnOiBcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlUaW1lID0gMFxuICAgICAgICAgICAgICAgIC8vIGlmIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgICAgICAgICAgICAvLyAoYW5kIGxlc3MgdGhlbiB0aGUgY2hhbmdlIHRocmVzaG9sZCksXG4gICAgICAgICAgICAgICAgLy8gaW5zdGFudGx5IHVwZGF0ZSB0aGUgbGFzdCBjb21taXR0ZWQgdmFsdWUgdG8gdGhlIFxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMucmVsYXRpdmVEaWZmZXJlbmNlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCB0ID0gdGhpcy5xdWV1ZVt0aGlzLnF1ZXVlLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdC50YXJnZXQgPSB0aGlzLl9jb3B5KHQudGFyZ2V0LCB0aGlzLnRhcmdldClcbiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLl9jb3B5KHRoaXMuc3RhcnQsIHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdjb21taXR0aW5nJzogXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheVRpbWUgPSAwXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJvdW5jZVRpbWUgPSAwXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHR5cGVvZiB0aGlzLmZvcmNlQ29tbWl0ID09PSAnb2JqZWN0JyA/IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmNlQ29tbWl0IDogbmV3IFRyYW5zaXRpb248VD4oKVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24udGFyZ2V0ID0gdHJhbnNpdGlvbi50YXJnZXQgPz8gdGhpcy5fY29weSh1bmRlZmluZWQsIHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZHVyYXRpb24gPSB0cmFuc2l0aW9uLmR1cmF0aW9uID8/IGNvbmZpZy5kdXJhdGlvblxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZWFzaW5nID0gdHJhbnNpdGlvbi5lYXNpbmcgPz8gY29uZmlnLmVhc2luZ1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmxlbmQgPSB0cmFuc2l0aW9uLmJsZW5kID8/IGNvbmZpZy5ibGVuZFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZWxhcHNlZCA9IHRyYW5zaXRpb24uZWxhcHNlZCA/PyAwXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh0cmFuc2l0aW9uIGFzIFJlcXVpcmVkPFRyYW5zaXRpb248VD4+KVxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VDb21taXQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JjZVdhaXQgPSBmYWxzZVxuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZFRyYW5zaXRpb25Ub0N1cnJlbnQocHJldjpUcmFuc2l0aW9uYWJsZVR5cGU8VD4sIHRyYW5zaXRpb246UmVxdWlyZWQ8VHJhbnNpdGlvbjxUPj4sIGRlbHRhOm51bWJlcikge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fY3VycmVudFxuICAgICAgICBjb25zdCBhbHBoYSA9IHRyYW5zaXRpb24uZHVyYXRpb24gPiAwID8gdHJhbnNpdGlvbi5lYXNpbmcoIE1hdGgubWluKHRyYW5zaXRpb24uZWxhcHNlZCAvIHRyYW5zaXRpb24uZHVyYXRpb24sIDEpICkgOiAxXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRyYW5zaXRpb24udGFyZ2V0XG4gICAgICAgIHRyYW5zaXRpb24uZWxhcHNlZCArPSBkZWx0YVxuXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGN1cnJlbnQgYXMgbnVtYmVyICsgTWF0aFV0aWxzLmxlcnAodGFyZ2V0IC0gKHByZXYgYXMgbnVtYmVyKSwgMCwgMS1hbHBoYSkgYXMgYW55XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIGlmICgnaXNWZWN0b3IzJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLlZlY3RvcjNcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwcmV2IGFzIFRIUkVFLlZlY3RvcjNcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0YXJnZXQgYXMgVEhSRUUuVmVjdG9yM1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gX3NjcmF0Y2hWMy5jb3B5KGUpLnN1YihzKS5sZXJwKFZfMDAwLCAxLWFscGhhKVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGMuYWRkKGFtb3VudCkgYXMgYW55XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIGlmICgnaXNWZWN0b3IyJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLlZlY3RvcjJcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwcmV2IGFzIFRIUkVFLlZlY3RvcjJcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0YXJnZXQgYXMgVEhSRUUuVmVjdG9yMlxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gX3NjcmF0Y2hWMi5jb3B5KGUpLnN1YihzKS5sZXJwKFZfMDAsIDEtYWxwaGEpXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gYy5hZGQoYW1vdW50KSBhcyBhbnlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgaWYgKCdpc1F1YXRlcm5pb24nIGluIHRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IGN1cnJlbnQgYXMgVEhSRUUuUXVhdGVybmlvblxuICAgICAgICAgICAgY29uc3QgcyA9IHByZXYgYXMgVEhSRUUuUXVhdGVybmlvblxuICAgICAgICAgICAgY29uc3QgZSA9IHRhcmdldCBhcyBUSFJFRS5RdWF0ZXJuaW9uXG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBfc2NyYXRjaFEuY29weShzKS5pbnZlcnQoKS5tdWx0aXBseShlKS5zbGVycChRX0lERU5USVRZLCAxLWFscGhhKVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGMubXVsdGlwbHkoYW1vdW50KS5ub3JtYWxpemUoKSBhcyBhbnlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgaWYgKCdpc0NvbG9yJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLkNvbG9yXG4gICAgICAgICAgICBjb25zdCBzID0gcHJldiBhcyBUSFJFRS5Db2xvclxuICAgICAgICAgICAgY29uc3QgZSA9IHRhcmdldCBhcyBUSFJFRS5Db2xvclxuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gX3NjcmF0Y2hDb2xvci5jb3B5KGUpLnN1YihzKS5sZXJwKF9ibGFja0NvbG9yLCAxLWFscGhhKVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGMuYWRkKGFtb3VudCkgYXMgYW55XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIGlmICgnaXNCb3gzJyBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50IGFzIFRIUkVFLkJveDNcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwcmV2IGFzIFRIUkVFLkJveDNcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0YXJnZXQgYXMgVEhSRUUuQm94M1xuICAgICAgICAgICAgY29uc3QgbWluQW1vdW50ID0gX3NjcmF0Y2hCb3gubWluLmNvcHkoZS5taW4pLnN1YihzLm1pbikubGVycChWXzAwMCwgMS1hbHBoYSlcbiAgICAgICAgICAgIGNvbnN0IG1heEFtb3VudCA9IF9zY3JhdGNoQm94Lm1heC5jb3B5KGUubWF4KS5zdWIocy5tYXgpLmxlcnAoVl8wMDAsIDEtYWxwaGEpXG4gICAgICAgICAgICBjLm1pbi5hZGQobWluQW1vdW50KVxuICAgICAgICAgICAgYy5tYXguYWRkKG1heEFtb3VudClcbiAgICAgICAgICAgIC8vIGlmIChjLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IG1pbiA9IGMubWluXG4gICAgICAgICAgICAvLyAgICAgY29uc3QgbWF4ID0gYy5tYXhcbiAgICAgICAgICAgIC8vICAgICBpZiAobWluLnggPiBtYXgueCkgdGhpcy5fc3dhcChtaW4sbWF4LCd4JylcbiAgICAgICAgICAgIC8vICAgICBpZiAobWluLnkgPiBtYXgueSkgdGhpcy5fc3dhcChtaW4sbWF4LCd5JylcbiAgICAgICAgICAgIC8vICAgICBpZiAobWluLnogPiBtYXgueikgdGhpcy5fc3dhcChtaW4sbWF4LCd6JylcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjIGFzIGFueVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9zd2FwKGE6VmVjdG9yMywgYjpWZWN0b3IzLCBrZXk6J3gnfCd5J3wneicpIHtcbiAgICAgICAgY29uc3QgYVZhbHVlID0gYVtrZXldXG4gICAgICAgIGNvbnN0IGJWYWx1ZSA9IGJba2V5XVxuICAgICAgICBhW2tleV0gPSBiVmFsdWVcbiAgICAgICAgYltrZXldID0gYVZhbHVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgdXBkYXRlKGZvcmNlPWZhbHNlKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzVXBkYXRlICYmICFmb3JjZSkgcmV0dXJuXG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0VxdWFsKHRoaXMuX3ByZXZpb3VzVGFyZ2V0LCB0aGlzLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuX3RhcmdldFxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJldmlvdXNUYXJnZXQgPSB0aGlzLl9jb3B5KHRoaXMuX3ByZXZpb3VzVGFyZ2V0LCB0aGlzLnRhcmdldClcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgc3luY0dyb3VwID0gdGhpcy5zeW5jR3JvdXAgYXMgU2V0PFRyYW5zaXRpb25hYmxlPlxuICAgICAgICBpZiAoIXRoaXMuZm9yY2VDb21taXQgJiYgc3luY0dyb3VwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygc3luY0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQuZW5hYmxlZCAmJiB0LnN0YXR1cyA9PT0gJ2NvbW1pdHRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG8gb2Ygc3luY0dyb3VwKSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvLm5lZWRzVXBkYXRlICYmIHRvLmZvcmNlQ29tbWl0ID09PSBmYWxzZSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0by5yZWxhdGl2ZURpZmZlcmVuY2UgPiB0by5yZXNvbHZlZENvbmZpZy50aHJlc2hvbGQpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvLmZvcmNlQ29tbWl0ID0gdHJ1ZSBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRyYW5zaXRpb25hYmxlKClcbiAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgfVxuICAgIHByaXZhdGUgX3ByZXZpb3VzVGFyZ2V0ISA6IFRyYW5zaXRpb25hYmxlVHlwZTxUPlxuXG4gICAgc2V0IHN5bmNHcm91cChncm91cDpTZXQ8YW55Pnx1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNHcm91cCkgdGhpcy5fc3luY0dyb3VwLmRlbGV0ZSh0aGlzKVxuICAgICAgICB0aGlzLl9zeW5jR3JvdXAgPSBncm91cFxuICAgICAgICBncm91cD8uYWRkKHRoaXMpXG4gICAgfVxuICAgIGdldCBzeW5jR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zeW5jR3JvdXBcbiAgICB9XG4gICAgcHJpdmF0ZSBfc3luY0dyb3VwPzpTZXQ8YW55PlxufSIsIi8vIHR5cGUgY2hlY2tzIGZvciBhbGwga25vd24gdHlwZXNcbi8vXG4vLyBub3RlIHRoYXQ6XG4vL1xuLy8gLSBjaGVjayBieSBkdWNrLXR5cGluZyBvbiBhIHByb3BlcnR5IGxpa2UgYGlzVW5pdGAsIGluc3RlYWQgb2YgY2hlY2tpbmcgaW5zdGFuY2VvZi5cbi8vICAgaW5zdGFuY2VvZiBjYW5ub3QgYmUgdXNlZCBiZWNhdXNlIHRoYXQgd291bGQgbm90IGFsbG93IHRvIHBhc3MgZGF0YSBmcm9tXG4vLyAgIG9uZSBpbnN0YW5jZSBvZiBtYXRoLmpzIHRvIGFub3RoZXIgc2luY2UgZWFjaCBoYXMgaXQncyBvd24gaW5zdGFuY2Ugb2YgVW5pdC5cbi8vIC0gY2hlY2sgdGhlIGBpc1VuaXRgIHByb3BlcnR5IHZpYSB0aGUgY29uc3RydWN0b3IsIHNvIHRoZXJlIHdpbGwgYmUgbm9cbi8vICAgbWF0Y2hlcyBmb3IgXCJmYWtlXCIgaW5zdGFuY2VzIGxpa2UgcGxhaW4gb2JqZWN0cyB3aXRoIGEgcHJvcGVydHkgYGlzVW5pdGAuXG4vLyAgIFRoYXQgaXMgaW1wb3J0YW50IGZvciBzZWN1cml0eSByZWFzb25zLlxuLy8gLSBJdCBtdXN0IG5vdCBiZSBwb3NzaWJsZSB0byBvdmVycmlkZSB0aGUgdHlwZSBjaGVja3MgdXNlZCBpbnRlcm5hbGx5LFxuLy8gICBmb3Igc2VjdXJpdHkgcmVhc29ucywgc28gdGhlc2UgZnVuY3Rpb25zIGFyZSBub3QgZXhwb3NlZCBpbiB0aGUgZXhwcmVzc2lvblxuLy8gICBwYXJzZXIuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmlnTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNCaWdOdW1iZXIgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb21wbGV4KHgpIHtcbiAgcmV0dXJuIHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih4KS5pc0NvbXBsZXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGcmFjdGlvbih4KSB7XG4gIHJldHVybiB4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoeCkuaXNGcmFjdGlvbiA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VuaXQoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc1VuaXQgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0IHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmV4cG9ydCBmdW5jdGlvbiBpc01hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTWF0cml4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBhIGNvbGxlY3Rpb246IGFuIEFycmF5IG9yIE1hdHJpeFxuICogQHBhcmFtIHsqfSB4XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXNDb2xsZWN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sbGVjdGlvbih4KSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHgpIHx8IGlzTWF0cml4KHgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVuc2VNYXRyaXgoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRGVuc2VNYXRyaXggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTcGFyc2VNYXRyaXgoeCkge1xuICByZXR1cm4geCAmJiB4LmlzU3BhcnNlTWF0cml4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTWF0cml4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmFuZ2UoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc1JhbmdlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSW5kZXgoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0luZGV4ID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzdWx0U2V0KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNSZXN1bHRTZXQgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNIZWxwKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNIZWxwID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHgpIHtcbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBEYXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwKHgpIHtcbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWdFeHA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICByZXR1cm4gISEoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmICFpc0NvbXBsZXgoeCkgJiYgIWlzRnJhY3Rpb24oeCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbCh4KSB7XG4gIHJldHVybiB4ID09PSBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHgpIHtcbiAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FjY2Vzc29yTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNBY2Nlc3Nvck5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0FycmF5Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBc3NpZ25tZW50Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNBc3NpZ25tZW50Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCbG9ja05vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQmxvY2tOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbmRpdGlvbmFsTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNDb25kaXRpb25hbE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uc3RhbnROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0NvbnN0YW50Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb25Ob2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Z1bmN0aW9uTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzSW5kZXhOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3ROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc09iamVjdE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT3BlcmF0b3JOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc09wZXJhdG9yTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYXJlbnRoZXNpc05vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzUGFyZW50aGVzaXNOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JhbmdlTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNSYW5nZU5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ltYm9sTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNTeW1ib2xOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NoYWluKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNDaGFpbiA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0eXBlT2YoeCkge1xuICB2YXIgdCA9IHR5cGVvZiB4O1xuXG4gIGlmICh0ID09PSAnb2JqZWN0Jykge1xuICAgIC8vIEphdmFTY3JpcHQgdHlwZXNcbiAgICBpZiAoeCA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkgcmV0dXJuICdBcnJheSc7XG4gICAgaWYgKHggaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gJ0RhdGUnO1xuICAgIGlmICh4IGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gJ1JlZ0V4cCc7IC8vIG1hdGguanMgdHlwZXNcblxuICAgIGlmIChpc0JpZ051bWJlcih4KSkgcmV0dXJuICdCaWdOdW1iZXInO1xuICAgIGlmIChpc0NvbXBsZXgoeCkpIHJldHVybiAnQ29tcGxleCc7XG4gICAgaWYgKGlzRnJhY3Rpb24oeCkpIHJldHVybiAnRnJhY3Rpb24nO1xuICAgIGlmIChpc01hdHJpeCh4KSkgcmV0dXJuICdNYXRyaXgnO1xuICAgIGlmIChpc1VuaXQoeCkpIHJldHVybiAnVW5pdCc7XG4gICAgaWYgKGlzSW5kZXgoeCkpIHJldHVybiAnSW5kZXgnO1xuICAgIGlmIChpc1JhbmdlKHgpKSByZXR1cm4gJ1JhbmdlJztcbiAgICBpZiAoaXNSZXN1bHRTZXQoeCkpIHJldHVybiAnUmVzdWx0U2V0JztcbiAgICBpZiAoaXNOb2RlKHgpKSByZXR1cm4geC50eXBlO1xuICAgIGlmIChpc0NoYWluKHgpKSByZXR1cm4gJ0NoYWluJztcbiAgICBpZiAoaXNIZWxwKHgpKSByZXR1cm4gJ0hlbHAnO1xuICAgIHJldHVybiAnT2JqZWN0JztcbiAgfVxuXG4gIGlmICh0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gJ0Z1bmN0aW9uJztcbiAgcmV0dXJuIHQ7IC8vIGNhbiBiZSAnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJywgLi4uXG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbi8qKlxuICogQ2xvbmUgYW4gb2JqZWN0XG4gKlxuICogICAgIGNsb25lKHgpXG4gKlxuICogQ2FuIGNsb25lIGFueSBwcmltaXRpdmUgdHlwZSwgYXJyYXksIGFuZCBvYmplY3QuXG4gKiBJZiB4IGhhcyBhIGZ1bmN0aW9uIGNsb25lLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB0byBjbG9uZSB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Kn0geFxuICogQHJldHVybiB7Kn0gY2xvbmVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoeCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB4OyAvLyBpbW11dGFibGUgcHJpbWl0aXZlIHR5cGVzXG5cbiAgaWYgKHR5cGUgPT09ICdudW1iZXInIHx8IHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdib29sZWFuJyB8fCB4ID09PSBudWxsIHx8IHggPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB4O1xuICB9IC8vIHVzZSBjbG9uZSBmdW5jdGlvbiBvZiB0aGUgb2JqZWN0IHdoZW4gYXZhaWxhYmxlXG5cblxuICBpZiAodHlwZW9mIHguY2xvbmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4geC5jbG9uZSgpO1xuICB9IC8vIGFycmF5XG5cblxuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiB4Lm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBjbG9uZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoeCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiBuZXcgRGF0ZSh4LnZhbHVlT2YoKSk7XG4gIGlmIChpc0JpZ051bWJlcih4KSkgcmV0dXJuIHg7IC8vIGJpZ251bWJlcnMgYXJlIGltbXV0YWJsZVxuXG4gIGlmICh4IGluc3RhbmNlb2YgUmVnRXhwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2xvbmUgJyArIHgpOyAvLyBUT0RPOiBjbG9uZSBhIFJlZ0V4cFxuICAvLyBvYmplY3RcblxuICByZXR1cm4gbWFwT2JqZWN0KHgsIGNsb25lKTtcbn1cbi8qKlxuICogQXBwbHkgbWFwIHRvIGFsbCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRoIG1hcHBlZCBwcm9wZXJ0aWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIGNhbGxiYWNrKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqZWN0LCBrZXkpKSB7XG4gICAgICBjbG9uZVtrZXldID0gY2FsbGJhY2sob2JqZWN0W2tleV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cbi8qKlxuICogRXh0ZW5kIG9iamVjdCBhIHdpdGggdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhXG4gKiBAcGFyYW0ge09iamVjdH0gYlxuICogQHJldHVybiB7T2JqZWN0fSBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gIGZvciAodmFyIHByb3AgaW4gYikge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShiLCBwcm9wKSkge1xuICAgICAgYVtwcm9wXSA9IGJbcHJvcF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGE7XG59XG4vKipcbiAqIERlZXAgZXh0ZW5kIGFuIG9iamVjdCBhIHdpdGggdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhXG4gKiBAcGFyYW0ge09iamVjdH0gYlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEV4dGVuZChhLCBiKSB7XG4gIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBBcnJheXMgdG8gZGVlcEV4dGVuZFxuICBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kJyk7XG4gIH1cblxuICBmb3IgKHZhciBwcm9wIGluIGIpIHtcbiAgICAvLyBXZSBjaGVjayBhZ2FpbnN0IHByb3Agbm90IGJlaW5nIGluIE9iamVjdC5wcm90b3R5cGUgb3IgRnVuY3Rpb24ucHJvdG90eXBlXG4gICAgLy8gdG8gcHJldmVudCBwb2xsdXRpbmcgZm9yIGV4YW1wbGUgT2JqZWN0Ll9fcHJvdG9fXy5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkoYiwgcHJvcCkgJiYgIShwcm9wIGluIE9iamVjdC5wcm90b3R5cGUpICYmICEocHJvcCBpbiBGdW5jdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICBpZiAoYltwcm9wXSAmJiBiW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgaWYgKGFbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFbcHJvcF0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhW3Byb3BdICYmIGFbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgIGRlZXBFeHRlbmQoYVtwcm9wXSwgYltwcm9wXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYVtwcm9wXSA9IGJbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiW3Byb3BdKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYVtwcm9wXSA9IGJbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGE7XG59XG4vKipcbiAqIERlZXAgdGVzdCBlcXVhbGl0eSBvZiBhbGwgZmllbGRzIGluIHR3byBwYWlycyBvZiBhcnJheXMgb3Igb2JqZWN0cy5cbiAqIENvbXBhcmVzIHZhbHVlcyBhbmQgZnVuY3Rpb25zIHN0cmljdGx5IChpZS4gMiBpcyBub3QgdGhlIHNhbWUgYXMgJzInKS5cbiAqIEBwYXJhbSB7QXJyYXkgfCBPYmplY3R9IGFcbiAqIEBwYXJhbSB7QXJyYXkgfCBPYmplY3R9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwU3RyaWN0RXF1YWwoYSwgYikge1xuICB2YXIgcHJvcCwgaSwgbGVuO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICghZGVlcFN0cmljdEVxdWFsKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShiKSB8fCAhKGIgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChwcm9wIGluIGEpIHtcbiAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VuZmlsdGVyZWRGb3JJbkxvb3BcbiAgICAgIGlmICghKHByb3AgaW4gYikgfHwgIWRlZXBTdHJpY3RFcXVhbChhW3Byb3BdLCBiW3Byb3BdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChwcm9wIGluIGIpIHtcbiAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1VuZmlsdGVyZWRGb3JJbkxvb3BcbiAgICAgIGlmICghKHByb3AgaW4gYSkgfHwgIWRlZXBTdHJpY3RFcXVhbChhW3Byb3BdLCBiW3Byb3BdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgZmxhdHRlbiBhIG5lc3RlZCBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gbmVzdGVkT2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGZsYXR0ZW5lZCBvYmplY3RcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEZsYXR0ZW4obmVzdGVkT2JqZWN0KSB7XG4gIHZhciBmbGF0dGVuZWRPYmplY3QgPSB7fTtcblxuICBfZGVlcEZsYXR0ZW4obmVzdGVkT2JqZWN0LCBmbGF0dGVuZWRPYmplY3QpO1xuXG4gIHJldHVybiBmbGF0dGVuZWRPYmplY3Q7XG59IC8vIGhlbHBlciBmdW5jdGlvbiB1c2VkIGJ5IGRlZXBGbGF0dGVuXG5cbmZ1bmN0aW9uIF9kZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QsIGZsYXR0ZW5lZE9iamVjdCkge1xuICBmb3IgKHZhciBwcm9wIGluIG5lc3RlZE9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShuZXN0ZWRPYmplY3QsIHByb3ApKSB7XG4gICAgICB2YXIgdmFsdWUgPSBuZXN0ZWRPYmplY3RbcHJvcF07XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIF9kZWVwRmxhdHRlbih2YWx1ZSwgZmxhdHRlbmVkT2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZsYXR0ZW5lZE9iamVjdFtwcm9wXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgc3VwcG9ydHMgT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHN1cHBvcnRlZFxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkRlZmluZVByb3BlcnR5KCkge1xuICAvLyB0ZXN0IG5lZWRlZCBmb3IgYnJva2VuIElFOCBpbXBsZW1lbnRhdGlvblxuICB0cnkge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge31cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7fVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQXR0YWNoIGEgbGF6eSBsb2FkaW5nIHByb3BlcnR5IHRvIGEgY29uc3RhbnQuXG4gKiBUaGUgZ2l2ZW4gZnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgb25jZSB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBmaXJzdCByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAgICAgICAgIE9iamVjdCB3aGVyZSB0byBhZGQgdGhlIHByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCAgICAgICAgICAgUHJvcGVydHkgbmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gdmFsdWVSZXNvbHZlciBGdW5jdGlvbiByZXR1cm5pbmcgdGhlIHByb3BlcnR5IHZhbHVlLiBDYWxsZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRob3V0IGFyZ3VtZW50cy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGF6eShvYmplY3QsIHByb3AsIHZhbHVlUmVzb2x2ZXIpIHtcbiAgdmFyIF91bmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICB2YXIgX3ZhbHVlO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3AsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmIChfdW5pbml0aWFsaXplZCkge1xuICAgICAgICBfdmFsdWUgPSB2YWx1ZVJlc29sdmVyKCk7XG4gICAgICAgIF91bmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3ZhbHVlID0gdmFsdWU7XG4gICAgICBfdW5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IHRydWVcbiAgfSk7XG59XG4vKipcbiAqIFRyYXZlcnNlIGEgcGF0aCBpbnRvIGFuIG9iamVjdC5cbiAqIFdoZW4gYSBuYW1lc3BhY2UgaXMgbWlzc2luZywgaXQgd2lsbCBiZSBjcmVhdGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBwYXRoICAgQSBkb3Qgc2VwYXJhdGVkIHN0cmluZyBsaWtlICduYW1lLnNwYWNlJ1xuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIHRoZSBvYmplY3QgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZShvYmplY3QsIHBhdGgpIHtcbiAgaWYgKHBhdGggJiYgdHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHRyYXZlcnNlKG9iamVjdCwgcGF0aC5zcGxpdCgnLicpKTtcbiAgfVxuXG4gIHZhciBvYmogPSBvYmplY3Q7XG5cbiAgaWYgKHBhdGgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuXG4gICAgICBpZiAoIShrZXkgaW4gb2JqKSkge1xuICAgICAgICBvYmpba2V5XSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBvYmogPSBvYmpba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuLyoqXG4gKiBBIHNhZmUgaGFzT3duUHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gIHJldHVybiBvYmplY3QgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBvYmplY3QgaXMgYSBmYWN0b3J5LiBhIGZhY3RvcnkgaGFzIGZpZWxkczpcbiAqXG4gKiAtIGZhY3Rvcnk6IGZ1bmN0aW9uICh0eXBlOiBPYmplY3QsIGNvbmZpZzogT2JqZWN0LCBsb2FkOiBmdW5jdGlvbiwgdHlwZWQ6IGZ1bmN0aW9uIFssIG1hdGg6IE9iamVjdF0pICAgKHJlcXVpcmVkKVxuICogLSBuYW1lOiBzdHJpbmcgKG9wdGlvbmFsKVxuICogLSBwYXRoOiBzdHJpbmcgICAgQSBkb3Qgc2VwYXJhdGVkIHBhdGggKG9wdGlvbmFsKVxuICogLSBtYXRoOiBib29sZWFuICAgSWYgdHJ1ZSAoZmFsc2UgYnkgZGVmYXVsdCksIHRoZSBtYXRoIG5hbWVzcGFjZSBpcyBwYXNzZWRcbiAqICAgICAgICAgICAgICAgICAgIGFzIGZpZnRoIGFyZ3VtZW50IG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xlZ2FjeUZhY3Rvcnkob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5mYWN0b3J5ID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBHZXQgYSBuZXN0ZWQgcHJvcGVydHkgZnJvbSBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGhcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIGlmIChpc1BhdGgocGF0aCkpIHtcbiAgICAgIHJldHVybiBnZXQob2JqZWN0LCBwYXRoLnNwbGl0KCcuJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqZWN0W3BhdGhdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjaGlsZCA9IG9iamVjdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGF0aFtpXTtcbiAgICBjaGlsZCA9IGNoaWxkID8gY2hpbGRba2V5XSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBjaGlsZDtcbn1cbi8qKlxuICogU2V0IGEgbmVzdGVkIHByb3BlcnR5IGluIGFuIG9iamVjdFxuICogTXV0YXRlcyB0aGUgb2JqZWN0IGl0c2VsZlxuICogSWYgdGhlIHBhdGggZG9lc24ndCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBwYXRoXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGlzUGF0aChwYXRoKSkge1xuICAgICAgcmV0dXJuIHNldChvYmplY3QsIHBhdGguc3BsaXQoJy4nKSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RbcGF0aF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoaWxkID0gb2JqZWN0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGF0aFtpXTtcblxuICAgIGlmIChjaGlsZFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNoaWxkW2tleV0gPSB7fTtcbiAgICB9XG5cbiAgICBjaGlsZCA9IGNoaWxkW2tleV07XG4gIH1cblxuICBpZiAocGF0aC5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGxhc3RLZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgY2hpbGRbbGFzdEtleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBvYmplY3QgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcGVydGllc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gW3RyYW5zZm9ybV0gT3B0aW9uYWwgdmFsdWUgdG8gdHJhbnNmb3JtIGEgdmFsdWUgd2hlbiBwaWNraW5nIGl0XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2sob2JqZWN0LCBwcm9wZXJ0aWVzLCB0cmFuc2Zvcm0pIHtcbiAgdmFyIGNvcHkgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcHJvcGVydGllc1tpXTtcbiAgICB2YXIgdmFsdWUgPSBnZXQob2JqZWN0LCBrZXkpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldChjb3B5LCBrZXksIHRyYW5zZm9ybSA/IHRyYW5zZm9ybSh2YWx1ZSwga2V5KSA6IHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29weTtcbn1cbi8qKlxuICogU2hhbGxvdyB2ZXJzaW9uIG9mIHBpY2ssIGNyZWF0aW5nIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBidXQgbm90IGZvciBuZXN0ZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcGVydGllc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrU2hhbGxvdyhvYmplY3QsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGNvcHkgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcHJvcGVydGllc1tpXTtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb3B5W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29weTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLm1hcChrZXkgPT4gb2JqZWN0W2tleV0pO1xufSAvLyBoZWxwZXIgZnVuY3Rpb24gdG8gdGVzdCB3aGV0aGVyIGEgc3RyaW5nIGNvbnRhaW5zIGEgcGF0aCBsaWtlICd1c2VyLm5hbWUnXG5cbmZ1bmN0aW9uIGlzUGF0aChzdHIpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKCcuJykgIT09IC0xO1xufSIsIi8qKlxuICogdHlwZWQtZnVuY3Rpb25cbiAqXG4gKiBUeXBlIGNoZWNraW5nIGZvciBKYXZhU2NyaXB0IGZ1bmN0aW9uc1xuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvdHlwZWQtZnVuY3Rpb25cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE9sZE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgT2xkTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHJvb3QudHlwZWQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG4gIGZ1bmN0aW9uIG9rICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdE9rICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1bmRlZiAoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIHBhcmFtczogUGFyYW1bXSxcbiAgICogICBmbjogZnVuY3Rpb25cbiAgICogfX0gU2lnbmF0dXJlXG4gICAqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgdHlwZXM6IFR5cGVbXSxcbiAgICogICByZXN0UGFyYW06IGJvb2xlYW5cbiAgICogfX0gUGFyYW1cbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICBuYW1lOiBzdHJpbmcsXG4gICAqICAgdHlwZUluZGV4OiBudW1iZXIsXG4gICAqICAgdGVzdDogZnVuY3Rpb24sXG4gICAqICAgY29udmVyc2lvbj86IENvbnZlcnNpb25EZWYsXG4gICAqICAgY29udmVyc2lvbkluZGV4OiBudW1iZXIsXG4gICAqIH19IFR5cGVcbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICBmcm9tOiBzdHJpbmcsXG4gICAqICAgdG86IHN0cmluZyxcbiAgICogICBjb252ZXJ0OiBmdW5jdGlvbiAoKikgOiAqXG4gICAqIH19IENvbnZlcnNpb25EZWZcbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICBuYW1lOiBzdHJpbmcsXG4gICAqICAgdGVzdDogZnVuY3Rpb24oKikgOiBib29sZWFuXG4gICAqIH19IFR5cGVEZWZcbiAgICovXG5cbiAgLy8gY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGNyZWF0ZSAoKSB7XG4gICAgLy8gZGF0YSB0eXBlIHRlc3RzXG4gICAgdmFyIF90eXBlcyA9IFtcbiAgICAgIHsgbmFtZTogJ251bWJlcicsICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcicgfSB9LFxuICAgICAgeyBuYW1lOiAnc3RyaW5nJywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJyB9IH0sXG4gICAgICB7IG5hbWU6ICdib29sZWFuJywgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJyB9IH0sXG4gICAgICB7IG5hbWU6ICdGdW5jdGlvbicsICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbid9IH0sXG4gICAgICB7IG5hbWU6ICdBcnJheScsICAgICB0ZXN0OiBBcnJheS5pc0FycmF5IH0sXG4gICAgICB7IG5hbWU6ICdEYXRlJywgICAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCBpbnN0YW5jZW9mIERhdGUgfSB9LFxuICAgICAgeyBuYW1lOiAnUmVnRXhwJywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWdFeHAgfSB9LFxuICAgICAgeyBuYW1lOiAnT2JqZWN0JywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsICYmIHguY29uc3RydWN0b3IgPT09IE9iamVjdFxuICAgICAgfX0sXG4gICAgICB7IG5hbWU6ICdudWxsJywgICAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gbnVsbCB9IH0sXG4gICAgICB7IG5hbWU6ICd1bmRlZmluZWQnLCB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gdW5kZWZpbmVkIH0gfVxuICAgIF07XG5cbiAgICB2YXIgYW55VHlwZSA9IHtcbiAgICAgIG5hbWU6ICdhbnknLFxuICAgICAgdGVzdDogb2tcbiAgICB9XG5cbiAgICAvLyB0eXBlcyB3aGljaCBuZWVkIHRvIGJlIGlnbm9yZWRcbiAgICB2YXIgX2lnbm9yZSA9IFtdO1xuXG4gICAgLy8gdHlwZSBjb252ZXJzaW9uc1xuICAgIHZhciBfY29udmVyc2lvbnMgPSBbXTtcblxuICAgIC8vIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgb2JqZWN0LCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSB0eXBlZCBmdW5jdGlvbiBhdCB0aGUgZW5kXG4gICAgdmFyIHR5cGVkID0ge1xuICAgICAgdHlwZXM6IF90eXBlcyxcbiAgICAgIGNvbnZlcnNpb25zOiBfY29udmVyc2lvbnMsXG4gICAgICBpZ25vcmU6IF9pZ25vcmVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgdGVzdCBmdW5jdGlvbiBmb3IgYSB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVOYW1lXG4gICAgICogQHJldHVybiB7VHlwZURlZn0gUmV0dXJucyB0aGUgdHlwZSBkZWZpbml0aW9uIHdoZW4gZm91bmQsXG4gICAgICogICAgICAgICAgICAgICAgICAgIFRocm93cyBhIFR5cGVFcnJvciBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVHlwZUJ5TmFtZSAodHlwZU5hbWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IGZpbmRJbkFycmF5KHR5cGVkLnR5cGVzLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5Lm5hbWUgPT09IHR5cGVOYW1lO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlTmFtZSA9PT0gJ2FueScpIHsgLy8gc3BlY2lhbCBiYWtlZC1pbiBjYXNlICdhbnknXG4gICAgICAgIHJldHVybiBhbnlUeXBlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGludCA9IGZpbmRJbkFycmF5KHR5cGVkLnR5cGVzLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIHR5cGUgXCInICsgdHlwZU5hbWUgKyAnXCInICtcbiAgICAgICAgICAoaGludCA/ICgnLiBEaWQgeW91IG1lYW4gXCInICsgaGludC5uYW1lICsgJ1wiPycpIDogJycpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBpbmRleCBvZiBhIHR5cGUgZGVmaW5pdGlvbi4gSGFuZGxlcyBzcGVjaWFsIGNhc2UgJ2FueSdcbiAgICAgKiBAcGFyYW0ge1R5cGVEZWZ9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFR5cGVJbmRleCh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gYW55VHlwZSkge1xuICAgICAgICByZXR1cm4gOTk5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZWQudHlwZXMuaW5kZXhPZih0eXBlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgdHlwZSB0aGF0IG1hdGNoZXMgYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBmaXJzdCB0eXBlIGZvciB3aGljaFxuICAgICAqICAgICAgICAgICAgICAgICAgdGhlIHR5cGUgdGVzdCBtYXRjaGVzIHRoZSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVHlwZU5hbWUodmFsdWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IGZpbmRJbkFycmF5KHR5cGVkLnR5cGVzLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnRlc3QodmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgaGFzIHVua25vd24gdHlwZS4gVmFsdWU6ICcgKyB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNwZWNpZmljIHNpZ25hdHVyZSBmcm9tIGEgKGNvbXBvc2VkKSB0eXBlZCBmdW5jdGlvbiwgZm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgIHR5cGVkLmZpbmQoZm4sIFsnbnVtYmVyJywgJ3N0cmluZyddKVxuICAgICAqICAgdHlwZWQuZmluZChmbiwgJ251bWJlciwgc3RyaW5nJylcbiAgICAgKlxuICAgICAqIEZ1bmN0aW9uIGZpbmQgb25seSBvbmx5IHdvcmtzIGZvciBleGFjdCBtYXRjaGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gICAgICAgICAgICAgICAgICAgQSB0eXBlZC1mdW5jdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHNpZ25hdHVyZSAgIFNpZ25hdHVyZSB0byBiZSBmb3VuZCwgY2FuIGJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW4gYXJyYXkgb3IgYSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSAgICAgICAgICAgICAgICAgICAgIFJldHVybnMgdGhlIG1hdGNoaW5nIHNpZ25hdHVyZSwgb3JcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd3MgYW4gZXJyb3Igd2hlbiBubyBzaWduYXR1cmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kIChmbiwgc2lnbmF0dXJlKSB7XG4gICAgICBpZiAoIWZuLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gaXMgbm8gdHlwZWQtZnVuY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgLy8gbm9ybWFsaXplIGlucHV0XG4gICAgICB2YXIgYXJyO1xuICAgICAgaWYgKHR5cGVvZiBzaWduYXR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGFyciA9IHNpZ25hdHVyZS5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGFycltpXS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2lnbmF0dXJlKSkge1xuICAgICAgICBhcnIgPSBzaWduYXR1cmU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGFycmF5IG9yIGEgY29tbWEgc2VwYXJhdGVkIHN0cmluZyBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RyID0gYXJyLmpvaW4oJywnKTtcblxuICAgICAgLy8gZmluZCBhbiBleGFjdCBtYXRjaFxuICAgICAgdmFyIG1hdGNoID0gZm4uc2lnbmF0dXJlc1tzdHJdO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogZXh0ZW5kIGZpbmQgdG8gbWF0Y2ggbm9uLWV4YWN0IHNpZ25hdHVyZXNcblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2lnbmF0dXJlIG5vdCBmb3VuZCAoc2lnbmF0dXJlOiAnICsgKGZuLm5hbWUgfHwgJ3VubmFtZWQnKSArICcoJyArIGFyci5qb2luKCcsICcpICsgJykpJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIGdpdmVuIHZhbHVlIHRvIGFub3RoZXIgZGF0YSB0eXBlLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnZlcnQgKHZhbHVlLCB0eXBlKSB7XG4gICAgICB2YXIgZnJvbSA9IGZpbmRUeXBlTmFtZSh2YWx1ZSk7XG5cbiAgICAgIC8vIGNoZWNrIGNvbnZlcnNpb24gaXMgbmVlZGVkXG4gICAgICBpZiAodHlwZSA9PT0gZnJvbSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQuY29udmVyc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbnZlcnNpb24gPSB0eXBlZC5jb252ZXJzaW9uc1tpXTtcbiAgICAgICAgaWYgKGNvbnZlcnNpb24uZnJvbSA9PT0gZnJvbSAmJiBjb252ZXJzaW9uLnRvID09PSB0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24uY29udmVydCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBmcm9tICcgKyBmcm9tICsgJyB0byAnICsgdHlwZSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFN0cmluZ2lmeSBwYXJhbWV0ZXJzIGluIGEgbm9ybWFsaXplZCB3YXlcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlQYXJhbXMgKHBhcmFtcykge1xuICAgICAgcmV0dXJuIHBhcmFtc1xuICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgdHlwZU5hbWVzID0gcGFyYW0udHlwZXMubWFwKGdldFR5cGVOYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIChwYXJhbS5yZXN0UGFyYW0gPyAnLi4uJyA6ICcnKSArIHR5cGVOYW1lcy5qb2luKCd8Jyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuam9pbignLCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgcGFyYW1ldGVyLCBsaWtlIFwiLi4ubnVtYmVyIHwgYm9vbGVhblwiXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHJldHVybiB7UGFyYW19IHBhcmFtXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VQYXJhbSAocGFyYW0sIGNvbnZlcnNpb25zKSB7XG4gICAgICB2YXIgcmVzdFBhcmFtID0gcGFyYW0uaW5kZXhPZignLi4uJykgPT09IDA7XG4gICAgICB2YXIgdHlwZXMgPSAoIXJlc3RQYXJhbSlcbiAgICAgICAgICA/IHBhcmFtXG4gICAgICAgICAgOiAocGFyYW0ubGVuZ3RoID4gMylcbiAgICAgICAgICAgICAgPyBwYXJhbS5zbGljZSgzKVxuICAgICAgICAgICAgICA6ICdhbnknO1xuXG4gICAgICB2YXIgdHlwZU5hbWVzID0gdHlwZXMuc3BsaXQoJ3wnKS5tYXAodHJpbSlcbiAgICAgICAgICAuZmlsdGVyKG5vdEVtcHR5KVxuICAgICAgICAgIC5maWx0ZXIobm90SWdub3JlKTtcblxuICAgICAgdmFyIG1hdGNoaW5nQ29udmVyc2lvbnMgPSBmaWx0ZXJDb252ZXJzaW9ucyhjb252ZXJzaW9ucywgdHlwZU5hbWVzKTtcblxuICAgICAgdmFyIGV4YWN0VHlwZXMgPSB0eXBlTmFtZXMubWFwKGZ1bmN0aW9uICh0eXBlTmFtZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGZpbmRUeXBlQnlOYW1lKHR5cGVOYW1lKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IHR5cGVOYW1lLFxuICAgICAgICAgIHR5cGVJbmRleDogZmluZFR5cGVJbmRleCh0eXBlKSxcbiAgICAgICAgICB0ZXN0OiB0eXBlLnRlc3QsXG4gICAgICAgICAgY29udmVyc2lvbjogbnVsbCxcbiAgICAgICAgICBjb252ZXJzaW9uSW5kZXg6IC0xXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNvbnZlcnRpYmxlVHlwZXMgPSBtYXRjaGluZ0NvbnZlcnNpb25zLm1hcChmdW5jdGlvbiAoY29udmVyc2lvbikge1xuICAgICAgICB2YXIgdHlwZSA9IGZpbmRUeXBlQnlOYW1lKGNvbnZlcnNpb24uZnJvbSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBjb252ZXJzaW9uLmZyb20sXG4gICAgICAgICAgdHlwZUluZGV4OiBmaW5kVHlwZUluZGV4KHR5cGUpLFxuICAgICAgICAgIHRlc3Q6IHR5cGUudGVzdCxcbiAgICAgICAgICBjb252ZXJzaW9uOiBjb252ZXJzaW9uLFxuICAgICAgICAgIGNvbnZlcnNpb25JbmRleDogY29udmVyc2lvbnMuaW5kZXhPZihjb252ZXJzaW9uKVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGVzOiBleGFjdFR5cGVzLmNvbmNhdChjb252ZXJ0aWJsZVR5cGVzKSxcbiAgICAgICAgcmVzdFBhcmFtOiByZXN0UGFyYW1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSBzaWduYXR1cmUgd2l0aCBjb21tYSBzZXBhcmF0ZWQgcGFyYW1ldGVycyxcbiAgICAgKiBsaWtlIFwibnVtYmVyIHwgYm9vbGVhbiwgLi4uc3RyaW5nXCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtTaWduYXR1cmUgfCBudWxsfSBzaWduYXR1cmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZVNpZ25hdHVyZSAoc2lnbmF0dXJlLCBmbiwgY29udmVyc2lvbnMpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgICAgaWYgKHNpZ25hdHVyZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIHBhcmFtcyA9IHNpZ25hdHVyZVxuICAgICAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgICAgIC5tYXAodHJpbSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcnNlZFBhcmFtID0gcGFyc2VQYXJhbShwYXJhbSwgY29udmVyc2lvbnMpO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJzZWRQYXJhbS5yZXN0UGFyYW0gJiYgKGluZGV4ICE9PSBhcnJheS5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5leHBlY3RlZCByZXN0IHBhcmFtZXRlciBcIicgKyBwYXJhbSArICdcIjogJyArXG4gICAgICAgICAgICAgICAgICAgICdvbmx5IGFsbG93ZWQgZm9yIHRoZSBsYXN0IHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFBhcmFtO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnNvbWUoaXNJbnZhbGlkUGFyYW0pKSB7XG4gICAgICAgIC8vIGludmFsaWQgc2lnbmF0dXJlOiBhdCBsZWFzdCBvbmUgcGFyYW1ldGVyIGhhcyBubyB0eXBlc1xuICAgICAgICAvLyAodGhleSBtYXkgaGF2ZSBiZWVuIGZpbHRlcmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgIGZuOiBmblxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBzZXQgb2YgcGFyYW1zIGNvbnRhaW5zIGEgcmVzdFBhcmFtXG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgbGFzdCBwYXJhbWV0ZXIgaXMgYSByZXN0UGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNSZXN0UGFyYW0ocGFyYW1zKSB7XG4gICAgICB2YXIgcGFyYW0gPSBsYXN0KHBhcmFtcylcbiAgICAgIHJldHVybiBwYXJhbSA/IHBhcmFtLnJlc3RQYXJhbSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHBhcmFtZXRlciBjb250YWlucyBjb252ZXJzaW9uc1xuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYXQgbGVhc3Qgb25lIG9mIHRoZSBwYXJhbWV0ZXJzXG4gICAgICogICAgICAgICAgICAgICAgICAgY29udGFpbnMgYSBjb252ZXJzaW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0NvbnZlcnNpb25zKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0udHlwZXMuc29tZShmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gdHlwZS5jb252ZXJzaW9uICE9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0eXBlIHRlc3QgZm9yIGEgc2luZ2xlIHBhcmFtZXRlciwgd2hpY2ggY2FuIGhhdmUgb25lIG9yIG11bHRpcGxlXG4gICAgICogdHlwZXMuXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbih4OiAqKSA6IGJvb2xlYW59IFJldHVybnMgYSB0ZXN0IGZ1bmN0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZVRlc3QocGFyYW0pIHtcbiAgICAgIGlmICghcGFyYW0gfHwgcGFyYW0udHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgcmV0dXJuIG9rO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocGFyYW0udHlwZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmaW5kVHlwZUJ5TmFtZShwYXJhbS50eXBlc1swXS5uYW1lKS50ZXN0O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocGFyYW0udHlwZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHZhciB0ZXN0MCA9IGZpbmRUeXBlQnlOYW1lKHBhcmFtLnR5cGVzWzBdLm5hbWUpLnRlc3Q7XG4gICAgICAgIHZhciB0ZXN0MSA9IGZpbmRUeXBlQnlOYW1lKHBhcmFtLnR5cGVzWzFdLm5hbWUpLnRlc3Q7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvcih4KSB7XG4gICAgICAgICAgcmV0dXJuIHRlc3QwKHgpIHx8IHRlc3QxKHgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHsgLy8gcGFyYW0udHlwZXMubGVuZ3RoID4gMlxuICAgICAgICB2YXIgdGVzdHMgPSBwYXJhbS50eXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gZmluZFR5cGVCeU5hbWUodHlwZS5uYW1lKS50ZXN0O1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb3IoeCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0ZXN0c1tpXSh4KSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGVzdCBmb3IgYWxsIHBhcmFtZXRlcnMgb2YgYSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGFyZ3M6IEFycmF5PCo+KSA6IGJvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZVRlc3RzKHBhcmFtcykge1xuICAgICAgdmFyIHRlc3RzLCB0ZXN0MCwgdGVzdDE7XG5cbiAgICAgIGlmIChoYXNSZXN0UGFyYW0ocGFyYW1zKSkge1xuICAgICAgICAvLyB2YXJpYWJsZSBhcmd1bWVudHMgbGlrZSAnLi4ubnVtYmVyJ1xuICAgICAgICB0ZXN0cyA9IGluaXRpYWwocGFyYW1zKS5tYXAoY29tcGlsZVRlc3QpO1xuICAgICAgICB2YXIgdmFySW5kZXggPSB0ZXN0cy5sZW5ndGg7XG4gICAgICAgIHZhciBsYXN0VGVzdCA9IGNvbXBpbGVUZXN0KGxhc3QocGFyYW1zKSk7XG4gICAgICAgIHZhciB0ZXN0UmVzdFBhcmFtID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gdmFySW5kZXg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWxhc3RUZXN0KGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGVzdHNbaV0oYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVzdFJlc3RQYXJhbShhcmdzKSAmJiAoYXJncy5sZW5ndGggPj0gdmFySW5kZXggKyAxKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBubyB2YXJpYWJsZSBhcmd1bWVudHNcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAwO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHRlc3QwID0gY29tcGlsZVRlc3QocGFyYW1zWzBdKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRlc3QwKGFyZ3NbMF0pICYmIGFyZ3MubGVuZ3RoID09PSAxO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHRlc3QwID0gY29tcGlsZVRlc3QocGFyYW1zWzBdKTtcbiAgICAgICAgICB0ZXN0MSA9IGNvbXBpbGVUZXN0KHBhcmFtc1sxXSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0MChhcmdzWzBdKSAmJiB0ZXN0MShhcmdzWzFdKSAmJiBhcmdzLmxlbmd0aCA9PT0gMjtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICAgIHRlc3RzID0gcGFyYW1zLm1hcChjb21waWxlVGVzdCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlc3RBcmdzKGFyZ3MpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKCF0ZXN0c1tpXShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSB0ZXN0cy5sZW5ndGg7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHBhcmFtZXRlciBhdCBhIHNwZWNpZmljIGluZGV4IG9mIGEgc2lnbmF0dXJlLlxuICAgICAqIEhhbmRsZXMgcmVzdCBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQYXJhbSB8IG51bGx9IFJldHVybnMgdGhlIG1hdGNoaW5nIHBhcmFtZXRlciB3aGVuIGZvdW5kLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UGFyYW1BdEluZGV4KHNpZ25hdHVyZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleCA8IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoXG4gICAgICAgICAgPyBzaWduYXR1cmUucGFyYW1zW2luZGV4XVxuICAgICAgICAgIDogaGFzUmVzdFBhcmFtKHNpZ25hdHVyZS5wYXJhbXMpXG4gICAgICAgICAgICAgID8gbGFzdChzaWduYXR1cmUucGFyYW1zKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHR5cGUgbmFtZXMgb2YgYSBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBleGNsdWRlQ29udmVyc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gUmV0dXJucyBhbiBhcnJheSB3aXRoIHR5cGUgbmFtZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRFeHBlY3RlZFR5cGVOYW1lcyAoc2lnbmF0dXJlLCBpbmRleCwgZXhjbHVkZUNvbnZlcnNpb25zKSB7XG4gICAgICB2YXIgcGFyYW0gPSBnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCk7XG4gICAgICB2YXIgdHlwZXMgPSBwYXJhbVxuICAgICAgICAgID8gZXhjbHVkZUNvbnZlcnNpb25zXG4gICAgICAgICAgICAgICAgICA/IHBhcmFtLnR5cGVzLmZpbHRlcihpc0V4YWN0VHlwZSlcbiAgICAgICAgICAgICAgICAgIDogcGFyYW0udHlwZXNcbiAgICAgICAgICA6IFtdO1xuXG4gICAgICByZXR1cm4gdHlwZXMubWFwKGdldFR5cGVOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIGEgdHlwZVxuICAgICAqIEBwYXJhbSB7VHlwZX0gdHlwZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUmV0dXJucyB0aGUgdHlwZSBuYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSkge1xuICAgICAgcmV0dXJuIHR5cGUubmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSB0eXBlIGlzIGFuIGV4YWN0IHR5cGUgb3IgY29udmVyc2lvblxuICAgICAqIEBwYXJhbSB7VHlwZX0gdHlwZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFeGFjdFR5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIHR5cGUuY29udmVyc2lvbiA9PT0gbnVsbCB8fCB0eXBlLmNvbnZlcnNpb24gPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGVycm9yIG1lc3NhZ2VzOiBjcmVhdGUgYW4gYXJyYXkgd2l0aFxuICAgICAqIGFsbCBhdmFpbGFibGUgdHlwZXMgb24gYSBzcGVjaWZpYyBhcmd1bWVudCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZVtdfSBzaWduYXR1cmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybiB7c3RyaW5nW119IFJldHVybnMgYW4gYXJyYXkgd2l0aCBhdmFpbGFibGUgdHlwZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZUV4cGVjdGVkUGFyYW1zKHNpZ25hdHVyZXMsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZU5hbWVzID0gdW5pcShmbGF0TWFwKHNpZ25hdHVyZXMsIGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGdldEV4cGVjdGVkVHlwZU5hbWVzKHNpZ25hdHVyZSwgaW5kZXgsIGZhbHNlKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuICh0eXBlTmFtZXMuaW5kZXhPZignYW55JykgIT09IC0xKSA/IFsnYW55J10gOiB0eXBlTmFtZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHthcnJheS48Kj59IGFyZ3MgICAgICAgICAgVGhlIGFjdHVhbCBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXMgIEEgbGlzdCB3aXRoIGF2YWlsYWJsZSBzaWduYXR1cmVzXG4gICAgICogQHJldHVybiB7VHlwZUVycm9yfSBSZXR1cm5zIGEgdHlwZSBlcnJvciB3aXRoIGFkZGl0aW9uYWwgZGF0YVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgYXR0YWNoZWQgdG8gaXQgaW4gdGhlIHByb3BlcnR5IGBkYXRhYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG5hbWUsIGFyZ3MsIHNpZ25hdHVyZXMpIHtcbiAgICAgIHZhciBlcnIsIGV4cGVjdGVkO1xuICAgICAgdmFyIF9uYW1lID0gbmFtZSB8fCAndW5uYW1lZCc7XG5cbiAgICAgIC8vIHRlc3QgZm9yIHdyb25nIHR5cGUgYXQgc29tZSBpbmRleFxuICAgICAgdmFyIG1hdGNoaW5nU2lnbmF0dXJlcyA9IHNpZ25hdHVyZXM7XG4gICAgICB2YXIgaW5kZXg7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBhcmdzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dE1hdGNoaW5nRGVmcyA9IG1hdGNoaW5nU2lnbmF0dXJlcy5maWx0ZXIoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICAgIHZhciB0ZXN0ID0gY29tcGlsZVRlc3QoZ2V0UGFyYW1BdEluZGV4KHNpZ25hdHVyZSwgaW5kZXgpKTtcbiAgICAgICAgICByZXR1cm4gKGluZGV4IDwgc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGggfHwgaGFzUmVzdFBhcmFtKHNpZ25hdHVyZS5wYXJhbXMpKSAmJlxuICAgICAgICAgICAgICB0ZXN0KGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5leHRNYXRjaGluZ0RlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gbm8gbWF0Y2hpbmcgc2lnbmF0dXJlcyBhbnltb3JlLCB0aHJvdyBlcnJvciBcIndyb25nIHR5cGVcIlxuICAgICAgICAgIGV4cGVjdGVkID0gbWVyZ2VFeHBlY3RlZFBhcmFtcyhtYXRjaGluZ1NpZ25hdHVyZXMsIGluZGV4KTtcbiAgICAgICAgICBpZiAoZXhwZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbFR5cGUgPSBmaW5kVHlwZU5hbWUoYXJnc1tpbmRleF0pO1xuXG4gICAgICAgICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQgaW4gZnVuY3Rpb24gJyArIF9uYW1lICtcbiAgICAgICAgICAgICAgICAnIChleHBlY3RlZDogJyArIGV4cGVjdGVkLmpvaW4oJyBvciAnKSArXG4gICAgICAgICAgICAgICAgJywgYWN0dWFsOiAnICsgYWN0dWFsVHlwZSArICcsIGluZGV4OiAnICsgaW5kZXggKyAnKScpO1xuICAgICAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAnd3JvbmdUeXBlJyxcbiAgICAgICAgICAgICAgZm46IF9uYW1lLFxuICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsVHlwZSxcbiAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtYXRjaGluZ1NpZ25hdHVyZXMgPSBuZXh0TWF0Y2hpbmdEZWZzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHRlc3QgZm9yIHRvbyBmZXcgYXJndW1lbnRzXG4gICAgICB2YXIgbGVuZ3RocyA9IG1hdGNoaW5nU2lnbmF0dXJlcy5tYXAoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gaGFzUmVzdFBhcmFtKHNpZ25hdHVyZS5wYXJhbXMpID8gSW5maW5pdHkgOiBzaWduYXR1cmUucGFyYW1zLmxlbmd0aDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgTWF0aC5taW4uYXBwbHkobnVsbCwgbGVuZ3RocykpIHtcbiAgICAgICAgZXhwZWN0ZWQgPSBtZXJnZUV4cGVjdGVkUGFyYW1zKG1hdGNoaW5nU2lnbmF0dXJlcywgaW5kZXgpO1xuICAgICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdUb28gZmV3IGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBleHBlY3RlZC5qb2luKCcgb3IgJykgK1xuICAgICAgICAgICAgJywgaW5kZXg6ICcgKyBhcmdzLmxlbmd0aCArICcpJyk7XG4gICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgIGNhdGVnb3J5OiAndG9vRmV3QXJncycsXG4gICAgICAgICAgZm46IF9uYW1lLFxuICAgICAgICAgIGluZGV4OiBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuXG4gICAgICAvLyB0ZXN0IGZvciB0b28gbWFueSBhcmd1bWVudHNcbiAgICAgIHZhciBtYXhMZW5ndGggPSBNYXRoLm1heC5hcHBseShudWxsLCBsZW5ndGhzKTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdUb28gbWFueSBhcmd1bWVudHMgaW4gZnVuY3Rpb24gJyArIF9uYW1lICtcbiAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgbWF4TGVuZ3RoICsgJywgYWN0dWFsOiAnICsgYXJncy5sZW5ndGggKyAnKScpO1xuICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICBjYXRlZ29yeTogJ3Rvb01hbnlBcmdzJyxcbiAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgaW5kZXg6IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoOiBtYXhMZW5ndGhcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuXG4gICAgICBlcnIgPSBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgb2YgdHlwZSBcIicgKyBhcmdzLmpvaW4oJywgJykgK1xuICAgICAgICAgICdcIiBkbyBub3QgbWF0Y2ggYW55IG9mIHRoZSBkZWZpbmVkIHNpZ25hdHVyZXMgb2YgZnVuY3Rpb24gJyArIF9uYW1lICsgJy4nKTtcbiAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICBjYXRlZ29yeTogJ21pc21hdGNoJyxcbiAgICAgICAgYWN0dWFsOiBhcmdzLm1hcChmaW5kVHlwZU5hbWUpXG4gICAgICB9XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGxvd2VzdCBpbmRleCBvZiBhbGwgZXhhY3QgdHlwZXMgb2YgYSBwYXJhbWV0ZXIgKG5vIGNvbnZlcnNpb25zKVxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbG93ZXN0IHR5cGUgaW4gdHlwZWQudHlwZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMb3dlc3RUeXBlSW5kZXggKHBhcmFtKSB7XG4gICAgICB2YXIgbWluID0gOTk5O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0V4YWN0VHlwZShwYXJhbS50eXBlc1tpXSkpIHtcbiAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHBhcmFtLnR5cGVzW2ldLnR5cGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBsb3dlc3QgaW5kZXggb2YgdGhlIGNvbnZlcnNpb24gb2YgYWxsIHR5cGVzIG9mIHRoZSBwYXJhbWV0ZXJcbiAgICAgKiBoYXZpbmcgYSBjb252ZXJzaW9uXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIGxvd2VzdCBpbmRleCBvZiB0aGUgY29udmVyc2lvbnMgb2YgdGhpcyB0eXBlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4IChwYXJhbSkge1xuICAgICAgdmFyIG1pbiA9IDk5OTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbS50eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWlzRXhhY3RUeXBlKHBhcmFtLnR5cGVzW2ldKSkge1xuICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcGFyYW0udHlwZXNbaV0uY29udmVyc2lvbkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmUgdHdvIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtMVxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtMlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyBhIG5lZ2F0aXZlIG51bWJlciB3aGVuIHBhcmFtMSBtdXN0IGdldCBhIGxvd2VyXG4gICAgICogICAgICAgICAgICAgICAgICBpbmRleCB0aGFuIHBhcmFtMiwgYSBwb3NpdGl2ZSBudW1iZXIgd2hlbiB0aGUgb3Bwb3NpdGUsXG4gICAgICogICAgICAgICAgICAgICAgICBvciB6ZXJvIHdoZW4gYm90aCBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlUGFyYW1zIChwYXJhbTEsIHBhcmFtMikge1xuICAgICAgdmFyIGM7XG5cbiAgICAgIC8vIGNvbXBhcmUgaGF2aW5nIGEgcmVzdCBwYXJhbWV0ZXIgb3Igbm90XG4gICAgICBjID0gcGFyYW0xLnJlc3RQYXJhbSAtIHBhcmFtMi5yZXN0UGFyYW07XG4gICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSBoYXZpbmcgY29udmVyc2lvbnMgb3Igbm90XG4gICAgICBjID0gaGFzQ29udmVyc2lvbnMocGFyYW0xKSAtIGhhc0NvbnZlcnNpb25zKHBhcmFtMik7XG4gICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgaW5kZXggb2YgdGhlIHR5cGVzXG4gICAgICBjID0gZ2V0TG93ZXN0VHlwZUluZGV4KHBhcmFtMSkgLSBnZXRMb3dlc3RUeXBlSW5kZXgocGFyYW0yKTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBpbmRleCBvZiBhbnkgY29udmVyc2lvblxuICAgICAgcmV0dXJuIGdldExvd2VzdENvbnZlcnNpb25JbmRleChwYXJhbTEpIC0gZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4KHBhcmFtMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gc2lnbmF0dXJlc1xuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUxXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybnMgYSBuZWdhdGl2ZSBudW1iZXIgd2hlbiBwYXJhbTEgbXVzdCBnZXQgYSBsb3dlclxuICAgICAqICAgICAgICAgICAgICAgICAgaW5kZXggdGhhbiBwYXJhbTIsIGEgcG9zaXRpdmUgbnVtYmVyIHdoZW4gdGhlIG9wcG9zaXRlLFxuICAgICAqICAgICAgICAgICAgICAgICAgb3IgemVybyB3aGVuIGJvdGggYXJlIGVxdWFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZVNpZ25hdHVyZXMgKHNpZ25hdHVyZTEsIHNpZ25hdHVyZTIpIHtcbiAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihzaWduYXR1cmUxLnBhcmFtcy5sZW5ndGgsIHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aCk7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBjO1xuXG4gICAgICAvLyBjb21wYXJlIHdoZXRoZXIgdGhlIHBhcmFtcyBoYXZlIGNvbnZlcnNpb25zIGF0IGFsbCBvciBub3RcbiAgICAgIGMgPSBzaWduYXR1cmUxLnBhcmFtcy5zb21lKGhhc0NvbnZlcnNpb25zKSAtIHNpZ25hdHVyZTIucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpXG4gICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gYztcbiAgICAgIH1cblxuICAgICAgLy8gbmV4dCBjb21wYXJlIHdoZXRoZXIgdGhlIHBhcmFtcyBoYXZlIGNvbnZlcnNpb25zIG9uZSBieSBvbmVcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjID0gaGFzQ29udmVyc2lvbnMoc2lnbmF0dXJlMS5wYXJhbXNbaV0pIC0gaGFzQ29udmVyc2lvbnMoc2lnbmF0dXJlMi5wYXJhbXNbaV0pO1xuICAgICAgICBpZiAoYyAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIHR5cGVzIG9mIHRoZSBwYXJhbXMgb25lIGJ5IG9uZVxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGMgPSBjb21wYXJlUGFyYW1zKHNpZ25hdHVyZTEucGFyYW1zW2ldLCBzaWduYXR1cmUyLnBhcmFtc1tpXSk7XG4gICAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgbnVtYmVyIG9mIHBhcmFtc1xuICAgICAgcmV0dXJuIHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aCAtIHNpZ25hdHVyZTIucGFyYW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcGFyYW1zIGNvbnRhaW5pbmcgYWxsIHR5cGVzIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCB0byB0aGUgZGVmaW5lZCB0eXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHR5cGVOYW1lc1xuICAgICAqIEByZXR1cm4ge0NvbnZlcnNpb25EZWZbXX0gUmV0dXJucyB0aGUgY29udmVyc2lvbnMgdGhhdCBhcmUgYXZhaWxhYmxlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICBmb3IgZXZlcnkgdHlwZSAoaWYgYW55KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlckNvbnZlcnNpb25zKGNvbnZlcnNpb25zLCB0eXBlTmFtZXMpIHtcbiAgICAgIHZhciBtYXRjaGVzID0ge307XG5cbiAgICAgIGNvbnZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbnZlcnNpb24pIHtcbiAgICAgICAgaWYgKHR5cGVOYW1lcy5pbmRleE9mKGNvbnZlcnNpb24uZnJvbSkgPT09IC0xICYmXG4gICAgICAgICAgICB0eXBlTmFtZXMuaW5kZXhPZihjb252ZXJzaW9uLnRvKSAhPT0gLTEgJiZcbiAgICAgICAgICAgICFtYXRjaGVzW2NvbnZlcnNpb24uZnJvbV0pIHtcbiAgICAgICAgICBtYXRjaGVzW2NvbnZlcnNpb24uZnJvbV0gPSBjb252ZXJzaW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hdGNoZXMpLm1hcChmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1tmcm9tXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXByb2Nlc3MgYXJndW1lbnRzIGJlZm9yZSBjYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbjpcbiAgICAgKiAtIGlmIG5lZWRlZCBjb252ZXJ0IHRoZSBwYXJhbWV0ZXJzXG4gICAgICogLSBpbiBjYXNlIG9mIHJlc3QgcGFyYW1ldGVycywgbW92ZSB0aGUgcmVzdCBwYXJhbWV0ZXJzIGludG8gYW4gQXJyYXlcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSB3cmFwcGVkIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nKHBhcmFtcywgZm4pIHtcbiAgICAgIHZhciBmbkNvbnZlcnQgPSBmbjtcblxuICAgICAgLy8gVE9ETzogY2FuIHdlIG1ha2UgdGhpcyB3cmFwcGVyIGZ1bmN0aW9uIHNtYXJ0ZXIvc2ltcGxlcj9cblxuICAgICAgaWYgKHBhcmFtcy5zb21lKGhhc0NvbnZlcnNpb25zKSkge1xuICAgICAgICB2YXIgcmVzdFBhcmFtID0gaGFzUmVzdFBhcmFtKHBhcmFtcyk7XG4gICAgICAgIHZhciBjb21waWxlZENvbnZlcnNpb25zID0gcGFyYW1zLm1hcChjb21waWxlQXJnQ29udmVyc2lvbilcblxuICAgICAgICBmbkNvbnZlcnQgPSBmdW5jdGlvbiBjb252ZXJ0QXJncygpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgIHZhciBsYXN0ID0gcmVzdFBhcmFtID8gYXJndW1lbnRzLmxlbmd0aCAtIDEgOiBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2ldID0gY29tcGlsZWRDb252ZXJzaW9uc1tpXShhcmd1bWVudHNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdFBhcmFtKSB7XG4gICAgICAgICAgICBhcmdzW2xhc3RdID0gYXJndW1lbnRzW2xhc3RdLm1hcChjb21waWxlZENvbnZlcnNpb25zW2xhc3RdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZuUHJlcHJvY2VzcyA9IGZuQ29udmVydDtcbiAgICAgIGlmIChoYXNSZXN0UGFyYW0ocGFyYW1zKSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyYW1zLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgZm5QcmVwcm9jZXNzID0gZnVuY3Rpb24gcHJlcHJvY2Vzc1Jlc3RQYXJhbXMgKCkge1xuICAgICAgICAgIHJldHVybiBmbkNvbnZlcnQuYXBwbHkodGhpcyxcbiAgICAgICAgICAgICAgc2xpY2UoYXJndW1lbnRzLCAwLCBvZmZzZXQpLmNvbmNhdChbc2xpY2UoYXJndW1lbnRzLCBvZmZzZXQpXSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmblByZXByb2Nlc3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBjb252ZXJzaW9uIGZvciBhIHBhcmFtZXRlciB0byB0aGUgcmlnaHQgdHlwZVxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgdGhlIHdyYXBwZWQgZnVuY3Rpb24gdGhhdCB3aWxsIGNvbnZlcnQgYXJndW1lbnRzXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlQXJnQ29udmVyc2lvbihwYXJhbSkge1xuICAgICAgdmFyIHRlc3QwLCB0ZXN0MSwgY29udmVyc2lvbjAsIGNvbnZlcnNpb24xO1xuICAgICAgdmFyIHRlc3RzID0gW107XG4gICAgICB2YXIgY29udmVyc2lvbnMgPSBbXTtcblxuICAgICAgcGFyYW0udHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodHlwZS5jb252ZXJzaW9uKSB7XG4gICAgICAgICAgdGVzdHMucHVzaChmaW5kVHlwZUJ5TmFtZSh0eXBlLmNvbnZlcnNpb24uZnJvbSkudGVzdCk7XG4gICAgICAgICAgY29udmVyc2lvbnMucHVzaCh0eXBlLmNvbnZlcnNpb24uY29udmVydCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBjcmVhdGUgb3B0aW1pemVkIGNvbnZlcnNpb24gZnVuY3Rpb25zIGRlcGVuZGluZyBvbiB0aGUgbnVtYmVyIG9mIGNvbnZlcnNpb25zXG4gICAgICBzd2l0Y2ggKGNvbnZlcnNpb25zLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdGVzdDAgPSB0ZXN0c1swXVxuICAgICAgICAgIGNvbnZlcnNpb24wID0gY29udmVyc2lvbnNbMF07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBpZiAodGVzdDAoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjAoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHRlc3QwID0gdGVzdHNbMF1cbiAgICAgICAgICB0ZXN0MSA9IHRlc3RzWzFdXG4gICAgICAgICAgY29udmVyc2lvbjAgPSBjb252ZXJzaW9uc1swXTtcbiAgICAgICAgICBjb252ZXJzaW9uMSA9IGNvbnZlcnNpb25zWzFdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgaWYgKHRlc3QwKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24wKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZXN0MShhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMShhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjb252ZXJ0QXJnKGFyZykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb252ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGVzdHNbaV0oYXJnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uc1tpXShhcmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGFuIGFycmF5IHdpdGggc2lnbmF0dXJlcyBpbnRvIGEgbWFwIHdpdGggc2lnbmF0dXJlcyxcbiAgICAgKiB3aGVyZSBzaWduYXR1cmVzIHdpdGggdW5pb24gdHlwZXMgYXJlIHNwbGl0IGludG8gc2VwYXJhdGUgc2lnbmF0dXJlc1xuICAgICAqXG4gICAgICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhlcmUgYXJlIGNvbmZsaWN0aW5nIHR5cGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZVtdfSBzaWduYXR1cmVzXG4gICAgICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gIFJldHVybnMgYSBtYXAgd2l0aCBzaWduYXR1cmVzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIGtleSBhbmQgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoaXMgc2lnbmF0dXJlIGFzIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVNpZ25hdHVyZXNNYXAoc2lnbmF0dXJlcykge1xuICAgICAgdmFyIHNpZ25hdHVyZXNNYXAgPSB7fTtcbiAgICAgIHNpZ25hdHVyZXMuZm9yRWFjaChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIGlmICghc2lnbmF0dXJlLnBhcmFtcy5zb21lKGhhc0NvbnZlcnNpb25zKSkge1xuICAgICAgICAgIHNwbGl0UGFyYW1zKHNpZ25hdHVyZS5wYXJhbXMsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgc2lnbmF0dXJlc01hcFtzdHJpbmdpZnlQYXJhbXMocGFyYW1zKV0gPSBzaWduYXR1cmUuZm47XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2lnbmF0dXJlc01hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdCBwYXJhbXMgd2l0aCB1bmlvbiB0eXBlcyBpbiB0byBzZXBhcmF0ZSBwYXJhbXMuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgICBzcGxpdFBhcmFtcyhbWydBcnJheScsICdPYmplY3QnXSwgWydzdHJpbmcnLCAnUmVnRXhwJ10pXG4gICAgICogICAgIC8vIHJldHVybnM6XG4gICAgICogICAgIC8vIFtcbiAgICAgKiAgICAgLy8gICBbJ0FycmF5JywgJ3N0cmluZyddLFxuICAgICAqICAgICAvLyAgIFsnQXJyYXknLCAnUmVnRXhwJ10sXG4gICAgICogICAgIC8vICAgWydPYmplY3QnLCAnc3RyaW5nJ10sXG4gICAgICogICAgIC8vICAgWydPYmplY3QnLCAnUmVnRXhwJ11cbiAgICAgKiAgICAgLy8gXVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJhbVtdfSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlnbm9yZUNvbnZlcnNpb25UeXBlc1xuICAgICAqIEByZXR1cm4ge1BhcmFtW119XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXRQYXJhbXMocGFyYW1zLCBpZ25vcmVDb252ZXJzaW9uVHlwZXMpIHtcbiAgICAgIGZ1bmN0aW9uIF9zcGxpdFBhcmFtcyhwYXJhbXMsIGluZGV4LCB0eXBlcykge1xuICAgICAgICBpZiAoaW5kZXggPCBwYXJhbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW2luZGV4XVxuICAgICAgICAgIHZhciBmaWx0ZXJlZFR5cGVzID0gaWdub3JlQ29udmVyc2lvblR5cGVzXG4gICAgICAgICAgICAgID8gcGFyYW0udHlwZXMuZmlsdGVyKGlzRXhhY3RUeXBlKVxuICAgICAgICAgICAgICA6IHBhcmFtLnR5cGVzO1xuICAgICAgICAgIHZhciB0eXBlR3JvdXBzXG5cbiAgICAgICAgICBpZiAocGFyYW0ucmVzdFBhcmFtKSB7XG4gICAgICAgICAgICAvLyBzcGxpdCB0aGUgdHlwZXMgb2YgYSByZXN0IHBhcmFtZXRlciBpbiB0d286XG4gICAgICAgICAgICAvLyBvbmUgd2l0aCBvbmx5IGV4YWN0IHR5cGVzLCBhbmQgb25lIHdpdGggZXhhY3QgdHlwZXMgYW5kIGNvbnZlcnNpb25zXG4gICAgICAgICAgICB2YXIgZXhhY3RUeXBlcyA9IGZpbHRlcmVkVHlwZXMuZmlsdGVyKGlzRXhhY3RUeXBlKVxuICAgICAgICAgICAgdHlwZUdyb3VwcyA9IGV4YWN0VHlwZXMubGVuZ3RoIDwgZmlsdGVyZWRUeXBlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFtleGFjdFR5cGVzLCBmaWx0ZXJlZFR5cGVzXVxuICAgICAgICAgICAgICAgIDogW2ZpbHRlcmVkVHlwZXNdXG5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzcGxpdCBhbGwgdGhlIHR5cGVzIG9mIGEgcmVndWxhciBwYXJhbWV0ZXIgaW50byBvbmUgdHlwZSBwZXIgZ3JvdXBcbiAgICAgICAgICAgIHR5cGVHcm91cHMgPSBmaWx0ZXJlZFR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICByZXR1cm4gW3R5cGVdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlY3Vyc2Ugb3ZlciB0aGUgZ3JvdXBzIHdpdGggdHlwZXNcbiAgICAgICAgICByZXR1cm4gZmxhdE1hcCh0eXBlR3JvdXBzLCBmdW5jdGlvbiAodHlwZUdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3NwbGl0UGFyYW1zKHBhcmFtcywgaW5kZXggKyAxLCB0eXBlcy5jb25jYXQoW3R5cGVHcm91cF0pKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgcGFyYW1ldGVycy4gTm93IGJ1aWxkIGEgbmV3IFBhcmFtXG4gICAgICAgICAgdmFyIHNwbGl0dGVkUGFyYW1zID0gdHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlLCB0eXBlSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGVzOiB0eXBlLFxuICAgICAgICAgICAgICByZXN0UGFyYW06ICh0eXBlSW5kZXggPT09IHBhcmFtcy5sZW5ndGggLSAxKSAmJiBoYXNSZXN0UGFyYW0ocGFyYW1zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFtzcGxpdHRlZFBhcmFtc107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9zcGxpdFBhcmFtcyhwYXJhbXMsIDAsIFtdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdHdvIHNpZ25hdHVyZXMgaGF2ZSBhIGNvbmZsaWN0aW5nIHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmUxXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgc2lnbmF0dXJlcyBjb25mbGljdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0NvbmZsaWN0aW5nUGFyYW1zKHNpZ25hdHVyZTEsIHNpZ25hdHVyZTIpIHtcbiAgICAgIHZhciBpaSA9IE1hdGgubWF4KHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aCwgc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIHZhciB0eXBlc05hbWVzMSA9IGdldEV4cGVjdGVkVHlwZU5hbWVzKHNpZ25hdHVyZTEsIGksIHRydWUpO1xuICAgICAgICB2YXIgdHlwZXNOYW1lczIgPSBnZXRFeHBlY3RlZFR5cGVOYW1lcyhzaWduYXR1cmUyLCBpLCB0cnVlKTtcblxuICAgICAgICBpZiAoIWhhc092ZXJsYXAodHlwZXNOYW1lczEsIHR5cGVzTmFtZXMyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbGVuMSA9IHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aDtcbiAgICAgIHZhciBsZW4yID0gc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoO1xuICAgICAgdmFyIHJlc3RQYXJhbTEgPSBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlMS5wYXJhbXMpO1xuICAgICAgdmFyIHJlc3RQYXJhbTIgPSBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlMi5wYXJhbXMpO1xuXG4gICAgICByZXR1cm4gcmVzdFBhcmFtMVxuICAgICAgICAgID8gcmVzdFBhcmFtMiA/IChsZW4xID09PSBsZW4yKSA6IChsZW4yID49IGxlbjEpXG4gICAgICAgICAgOiByZXN0UGFyYW0yID8gKGxlbjEgPj0gbGVuMikgIDogKGxlbjEgPT09IGxlbjIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHlwZWQgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAgICAgICAgICAgICAgIFRoZSBuYW1lIGZvciB0aGUgdHlwZWQgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59IHNpZ25hdHVyZXNNYXBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuIG9iamVjdCB3aXRoIG9uZSBvclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGUgc2lnbmF0dXJlcyBhcyBrZXksIGFuZCB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUgYXMgdmFsdWUuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259ICBSZXR1cm5zIHRoZSBjcmVhdGVkIHR5cGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVR5cGVkRnVuY3Rpb24obmFtZSwgc2lnbmF0dXJlc01hcCkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHNpZ25hdHVyZXNNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ05vIHNpZ25hdHVyZXMgcHJvdmlkZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gcGFyc2UgdGhlIHNpZ25hdHVyZXMsIGFuZCBjaGVjayBmb3IgY29uZmxpY3RzXG4gICAgICB2YXIgcGFyc2VkU2lnbmF0dXJlcyA9IFtdO1xuICAgICAgT2JqZWN0LmtleXMoc2lnbmF0dXJlc01hcClcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVNpZ25hdHVyZShzaWduYXR1cmUsIHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSwgdHlwZWQuY29udmVyc2lvbnMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihub3ROdWxsKVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwYXJzZWRTaWduYXR1cmUpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhpcyBwYXJhbWV0ZXIgY29uZmxpY3RzIHdpdGggYWxyZWFkeSBwYXJzZWQgc2lnbmF0dXJlc1xuICAgICAgICAgICAgdmFyIGNvbmZsaWN0aW5nU2lnbmF0dXJlID0gZmluZEluQXJyYXkocGFyc2VkU2lnbmF0dXJlcywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhc0NvbmZsaWN0aW5nUGFyYW1zKHMsIHBhcnNlZFNpZ25hdHVyZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvbmZsaWN0aW5nU2lnbmF0dXJlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbmZsaWN0aW5nIHNpZ25hdHVyZXMgXCInICtcbiAgICAgICAgICAgICAgICAgIHN0cmluZ2lmeVBhcmFtcyhjb25mbGljdGluZ1NpZ25hdHVyZS5wYXJhbXMpICsgJ1wiIGFuZCBcIicgK1xuICAgICAgICAgICAgICAgICAgc3RyaW5naWZ5UGFyYW1zKHBhcnNlZFNpZ25hdHVyZS5wYXJhbXMpICsgJ1wiLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZWRTaWduYXR1cmVzLnB1c2gocGFyc2VkU2lnbmF0dXJlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgLy8gc3BsaXQgYW5kIGZpbHRlciB0aGUgdHlwZXMgb2YgdGhlIHNpZ25hdHVyZXMsIGFuZCB0aGVuIG9yZGVyIHRoZW1cbiAgICAgIHZhciBzaWduYXR1cmVzID0gZmxhdE1hcChwYXJzZWRTaWduYXR1cmVzLCBmdW5jdGlvbiAocGFyc2VkU2lnbmF0dXJlKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBwYXJzZWRTaWduYXR1cmUgPyBzcGxpdFBhcmFtcyhwYXJzZWRTaWduYXR1cmUucGFyYW1zLCBmYWxzZSkgOiBbXVxuXG4gICAgICAgIHJldHVybiBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgICBmbjogcGFyc2VkU2lnbmF0dXJlLmZuXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KS5maWx0ZXIobm90TnVsbCk7XG5cbiAgICAgIHNpZ25hdHVyZXMuc29ydChjb21wYXJlU2lnbmF0dXJlcyk7XG5cbiAgICAgIC8vIHdlIGNyZWF0ZSBhIGhpZ2hseSBvcHRpbWl6ZWQgY2hlY2tzIGZvciB0aGUgZmlyc3QgY291cGxlIG9mIHNpZ25hdHVyZXMgd2l0aCBtYXggMiBhcmd1bWVudHNcbiAgICAgIHZhciBvazAgPSBzaWduYXR1cmVzWzBdICYmIHNpZ25hdHVyZXNbMF0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1swXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMSA9IHNpZ25hdHVyZXNbMV0gJiYgc2lnbmF0dXJlc1sxXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzFdLnBhcmFtcyk7XG4gICAgICB2YXIgb2syID0gc2lnbmF0dXJlc1syXSAmJiBzaWduYXR1cmVzWzJdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMl0ucGFyYW1zKTtcbiAgICAgIHZhciBvazMgPSBzaWduYXR1cmVzWzNdICYmIHNpZ25hdHVyZXNbM10ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1szXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rNCA9IHNpZ25hdHVyZXNbNF0gJiYgc2lnbmF0dXJlc1s0XS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzRdLnBhcmFtcyk7XG4gICAgICB2YXIgb2s1ID0gc2lnbmF0dXJlc1s1XSAmJiBzaWduYXR1cmVzWzVdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbNV0ucGFyYW1zKTtcbiAgICAgIHZhciBhbGxPayA9IG9rMCAmJiBvazEgJiYgb2syICYmIG9rMyAmJiBvazQgJiYgb2s1O1xuXG4gICAgICAvLyBjb21waWxlIHRoZSB0ZXN0c1xuICAgICAgdmFyIHRlc3RzID0gc2lnbmF0dXJlcy5tYXAoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gY29tcGlsZVRlc3RzKHNpZ25hdHVyZS5wYXJhbXMpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB0ZXN0MDAgPSBvazAgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzBdLnBhcmFtc1swXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MTAgPSBvazEgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzFdLnBhcmFtc1swXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MjAgPSBvazIgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzJdLnBhcmFtc1swXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0MzAgPSBvazMgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzNdLnBhcmFtc1swXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NDAgPSBvazQgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzRdLnBhcmFtc1swXSkgOiBub3RPaztcbiAgICAgIHZhciB0ZXN0NTAgPSBvazUgPyBjb21waWxlVGVzdChzaWduYXR1cmVzWzVdLnBhcmFtc1swXSkgOiBub3RPaztcblxuICAgICAgdmFyIHRlc3QwMSA9IG9rMCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMF0ucGFyYW1zWzFdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QxMSA9IG9rMSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMV0ucGFyYW1zWzFdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QyMSA9IG9rMiA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMl0ucGFyYW1zWzFdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QzMSA9IG9rMyA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbM10ucGFyYW1zWzFdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q0MSA9IG9rNCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNF0ucGFyYW1zWzFdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q1MSA9IG9rNSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNV0ucGFyYW1zWzFdKSA6IG5vdE9rO1xuXG4gICAgICAvLyBjb21waWxlIHRoZSBmdW5jdGlvbnNcbiAgICAgIHZhciBmbnMgPSBzaWduYXR1cmVzLm1hcChmdW5jdGlvbihzaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVBcmdzUHJlcHJvY2Vzc2luZyhzaWduYXR1cmUucGFyYW1zLCBzaWduYXR1cmUuZm4pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBmbjAgPSBvazAgPyBmbnNbMF0gOiB1bmRlZjtcbiAgICAgIHZhciBmbjEgPSBvazEgPyBmbnNbMV0gOiB1bmRlZjtcbiAgICAgIHZhciBmbjIgPSBvazIgPyBmbnNbMl0gOiB1bmRlZjtcbiAgICAgIHZhciBmbjMgPSBvazMgPyBmbnNbM10gOiB1bmRlZjtcbiAgICAgIHZhciBmbjQgPSBvazQgPyBmbnNbNF0gOiB1bmRlZjtcbiAgICAgIHZhciBmbjUgPSBvazUgPyBmbnNbNV0gOiB1bmRlZjtcblxuICAgICAgdmFyIGxlbjAgPSBvazAgPyBzaWduYXR1cmVzWzBdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4xID0gb2sxID8gc2lnbmF0dXJlc1sxXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMiA9IG9rMiA/IHNpZ25hdHVyZXNbMl0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjMgPSBvazMgPyBzaWduYXR1cmVzWzNdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW40ID0gb2s0ID8gc2lnbmF0dXJlc1s0XS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuNSA9IG9rNSA/IHNpZ25hdHVyZXNbNV0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuXG4gICAgICAvLyBzaW1wbGUgYW5kIGdlbmVyaWMsIGJ1dCBhbHNvIHNsb3dcbiAgICAgIHZhciBpU3RhcnQgPSBhbGxPayA/IDYgOiAwO1xuICAgICAgdmFyIGlFbmQgPSBzaWduYXR1cmVzLmxlbmd0aDtcbiAgICAgIHZhciBnZW5lcmljID0gZnVuY3Rpb24gZ2VuZXJpYygpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBpU3RhcnQ7IGkgPCBpRW5kOyBpKyspIHtcbiAgICAgICAgICBpZiAodGVzdHNbaV0oYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZuc1tpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKG5hbWUsIGFyZ3VtZW50cywgc2lnbmF0dXJlcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgdHlwZWQgZnVuY3Rpb25cbiAgICAgIC8vIGZhc3QsIHNwZWNpYWxpemVkIHZlcnNpb24uIEZhbGxzIGJhY2sgdG8gdGhlIHNsb3dlciwgZ2VuZXJpYyBvbmUgaWYgbmVlZGVkXG4gICAgICB2YXIgZm4gPSBmdW5jdGlvbiBmbihhcmcwLCBhcmcxKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMCAmJiB0ZXN0MDAoYXJnMCkgJiYgdGVzdDAxKGFyZzEpKSB7IHJldHVybiBmbjAuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjEgJiYgdGVzdDEwKGFyZzApICYmIHRlc3QxMShhcmcxKSkgeyByZXR1cm4gZm4xLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4yICYmIHRlc3QyMChhcmcwKSAmJiB0ZXN0MjEoYXJnMSkpIHsgcmV0dXJuIGZuMi5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMyAmJiB0ZXN0MzAoYXJnMCkgJiYgdGVzdDMxKGFyZzEpKSB7IHJldHVybiBmbjMuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjQgJiYgdGVzdDQwKGFyZzApICYmIHRlc3Q0MShhcmcxKSkgeyByZXR1cm4gZm40LmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW41ICYmIHRlc3Q1MChhcmcwKSAmJiB0ZXN0NTEoYXJnMSkpIHsgcmV0dXJuIGZuNS5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuXG4gICAgICAgIHJldHVybiBnZW5lcmljLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggbmFtZSB0aGUgdHlwZWQgZnVuY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7dmFsdWU6IG5hbWV9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gb2xkIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBhbmQgc29tZSBkb24ndCBzdXBwb3J0IHNldHRpbmcgdGhlIG5hbWUgcHJvcGVydHlcbiAgICAgICAgLy8gdGhlIGZ1bmN0aW9uIG5hbWUgaXMgbm90IGVzc2VudGlhbCBmb3IgdGhlIGZ1bmN0aW9uaW5nLCBpdCdzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZyxcbiAgICAgICAgLy8gc28gaXQncyBmaW5lIHRvIGhhdmUgdW5uYW1lZCBmdW5jdGlvbnMuXG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBzaWduYXR1cmVzIHRvIHRoZSBmdW5jdGlvblxuICAgICAgZm4uc2lnbmF0dXJlcyA9IGNyZWF0ZVNpZ25hdHVyZXNNYXAoc2lnbmF0dXJlcyk7XG5cbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSB0eXBlIHNob3VsZCBiZSBOT1QgYmUgaWdub3JlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlTmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90SWdub3JlKHR5cGVOYW1lKSB7XG4gICAgICByZXR1cm4gdHlwZWQuaWdub3JlLmluZGV4T2YodHlwZU5hbWUpID09PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0cmltIGEgc3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cikge1xuICAgICAgcmV0dXJuIHN0ci50cmltKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgc3RyaW5nIGlzIG5vdCBlbXB0eVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vdEVtcHR5KHN0cikge1xuICAgICAgcmV0dXJuICEhc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIG5vdCBzdHJpY3QgZXF1YWwgdG8gbnVsbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vdE51bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBwYXJhbWV0ZXIgaGFzIG5vIHR5cGVzIGRlZmluZWRcbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnZhbGlkUGFyYW0gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0udHlwZXMubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgYnV0IHRoZSBsYXN0IGl0ZW1zIG9mIGFuIGFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnIpIHtcbiAgICAgIHJldHVybiBhcnIuc2xpY2UoMCwgYXJyLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgbGFzdCBpdGVtIG9mIGFuIGFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycikge1xuICAgICAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2xpY2UgYW4gYXJyYXkgb3IgZnVuY3Rpb24gQXJndW1lbnRzXG4gICAgICogQHBhcmFtIHtBcnJheSB8IEFyZ3VtZW50cyB8IElBcmd1bWVudHN9IGFyclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kXVxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFyciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGFuIGFycmF5IGNvbnRhaW5zIHNvbWUgaXRlbVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gICAgICogQHBhcmFtIHsqfSBpdGVtXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGFycmF5IGNvbnRhaW5zIGl0ZW0sIGZhbHNlIGlmIG5vdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaXRlbSkge1xuICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0d28gYXJyYXlzIGhhdmUgb3ZlcmxhcHBpbmcgaXRlbXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheTFcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheTJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhdCBsZWFzdCBvbmUgaXRlbSBleGlzdHMgaW4gYm90aCBhcnJheXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNPdmVybGFwKGFycmF5MSwgYXJyYXkyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29udGFpbnMoYXJyYXkyLCBhcnJheTFbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZmlyc3QgaXRlbSBmcm9tIGFuIGFycmF5IGZvciB3aGljaCB0ZXN0KGFycltpXSkgcmV0dXJucyB0cnVlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gdGVzdFxuICAgICAqIEByZXR1cm4geyogfCB1bmRlZmluZWR9IFJldHVybnMgdGhlIGZpcnN0IG1hdGNoaW5nIGl0ZW1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvciB1bmRlZmluZWQgd2hlbiB0aGVyZSBpcyBubyBtYXRjaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbkFycmF5KGFyciwgdGVzdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRlc3QoYXJyW2ldKSkge1xuICAgICAgICAgIHJldHVybiBhcnJbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHVuaXF1ZSBpdGVtcyBvZiBhbiBhcnJheSB3aXRoIHN0cmluZ3NcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycikge1xuICAgICAgdmFyIGVudHJpZXMgPSB7fVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZW50cmllc1thcnJbaV1dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhlbnRyaWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0IG1hcCB0aGUgcmVzdWx0IGludm9raW5nIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGl0ZW0gaW4gYW4gYXJyYXkuXG4gICAgICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vc2FtZ2lsZXMvNzYyZWUzMzdkZmY0ODYyM2U3MjlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoYXJyLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFyci5tYXAoY2FsbGJhY2spKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgZnVuY3Rpb24gbmFtZSBmcm9tIGEgc2V0IG9mIHR5cGVkIGZ1bmN0aW9ucyxcbiAgICAgKiBhbmQgY2hlY2sgd2hldGhlciB0aGUgbmFtZSBvZiBhbGwgZnVuY3Rpb25zIG1hdGNoIChpZiBnaXZlbilcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uW119IGZuc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hbWUgKGZucykge1xuICAgICAgdmFyIG5hbWUgPSAnJztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZuID0gZm5zW2ldO1xuXG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIG5hbWVzIGFyZSB0aGUgc2FtZSB3aGVuIGRlZmluZWRcbiAgICAgICAgaWYgKCh0eXBlb2YgZm4uc2lnbmF0dXJlcyA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGZuLnNpZ25hdHVyZSA9PT0gJ3N0cmluZycpICYmIGZuLm5hbWUgIT09ICcnKSB7XG4gICAgICAgICAgaWYgKG5hbWUgPT09ICcnKSB7XG4gICAgICAgICAgICBuYW1lID0gZm4ubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAobmFtZSAhPT0gZm4ubmFtZSkge1xuICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignRnVuY3Rpb24gbmFtZXMgZG8gbm90IG1hdGNoIChleHBlY3RlZDogJyArIG5hbWUgKyAnLCBhY3R1YWw6ICcgKyBmbi5uYW1lICsgJyknKTtcbiAgICAgICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgICAgICBhY3R1YWw6IGZuLm5hbWUsXG4gICAgICAgICAgICAgIGV4cGVjdGVkOiBuYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICAvLyBleHRyYWN0IGFuZCBtZXJnZSBhbGwgc2lnbmF0dXJlcyBvZiBhIGxpc3Qgd2l0aCB0eXBlZCBmdW5jdGlvbnNcbiAgICBmdW5jdGlvbiBleHRyYWN0U2lnbmF0dXJlcyhmbnMpIHtcbiAgICAgIHZhciBlcnI7XG4gICAgICB2YXIgc2lnbmF0dXJlc01hcCA9IHt9O1xuXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZVVuaXF1ZShfc2lnbmF0dXJlLCBfZm4pIHtcbiAgICAgICAgaWYgKHNpZ25hdHVyZXNNYXAuaGFzT3duUHJvcGVydHkoX3NpZ25hdHVyZSkgJiYgX2ZuICE9PSBzaWduYXR1cmVzTWFwW19zaWduYXR1cmVdKSB7XG4gICAgICAgICAgZXJyID0gbmV3IEVycm9yKCdTaWduYXR1cmUgXCInICsgX3NpZ25hdHVyZSArICdcIiBpcyBkZWZpbmVkIHR3aWNlJyk7XG4gICAgICAgICAgZXJyLmRhdGEgPSB7c2lnbmF0dXJlOiBfc2lnbmF0dXJlfTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgLy8gZWxzZTogYm90aCBzaWduYXR1cmVzIHBvaW50IHRvIHRoZSBzYW1lIGZ1bmN0aW9uLCB0aGF0J3MgZmluZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmbiA9IGZuc1tpXTtcblxuICAgICAgICAvLyB0ZXN0IHdoZXRoZXIgdGhpcyBpcyBhIHR5cGVkLWZ1bmN0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgZm4uc2lnbmF0dXJlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBtZXJnZSB0aGUgc2lnbmF0dXJlc1xuICAgICAgICAgIGZvciAodmFyIHNpZ25hdHVyZSBpbiBmbi5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICBpZiAoZm4uc2lnbmF0dXJlcy5oYXNPd25Qcm9wZXJ0eShzaWduYXR1cmUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlVW5pcXVlKHNpZ25hdHVyZSwgZm4uc2lnbmF0dXJlc1tzaWduYXR1cmVdKTtcbiAgICAgICAgICAgICAgc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdID0gZm4uc2lnbmF0dXJlc1tzaWduYXR1cmVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZm4uc2lnbmF0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhbGlkYXRlVW5pcXVlKGZuLnNpZ25hdHVyZSwgZm4pO1xuICAgICAgICAgIHNpZ25hdHVyZXNNYXBbZm4uc2lnbmF0dXJlXSA9IGZuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIGlzIG5vIHR5cGVkLWZ1bmN0aW9uIChpbmRleDogJyArIGkgKyAnKScpO1xuICAgICAgICAgIGVyci5kYXRhID0ge2luZGV4OiBpfTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpZ25hdHVyZXNNYXA7XG4gICAgfVxuXG4gICAgdHlwZWQgPSBjcmVhdGVUeXBlZEZ1bmN0aW9uKCd0eXBlZCcsIHtcbiAgICAgICdzdHJpbmcsIE9iamVjdCc6IGNyZWF0ZVR5cGVkRnVuY3Rpb24sXG4gICAgICAnT2JqZWN0JzogZnVuY3Rpb24gKHNpZ25hdHVyZXNNYXApIHtcbiAgICAgICAgLy8gZmluZCBleGlzdGluZyBuYW1lXG4gICAgICAgIHZhciBmbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgc2lnbmF0dXJlIGluIHNpZ25hdHVyZXNNYXApIHtcbiAgICAgICAgICBpZiAoc2lnbmF0dXJlc01hcC5oYXNPd25Qcm9wZXJ0eShzaWduYXR1cmUpKSB7XG4gICAgICAgICAgICBmbnMucHVzaChzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IGdldE5hbWUoZm5zKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVR5cGVkRnVuY3Rpb24obmFtZSwgc2lnbmF0dXJlc01hcCk7XG4gICAgICB9LFxuICAgICAgJy4uLkZ1bmN0aW9uJzogZnVuY3Rpb24gKGZucykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZWRGdW5jdGlvbihnZXROYW1lKGZucyksIGV4dHJhY3RTaWduYXR1cmVzKGZucykpO1xuICAgICAgfSxcbiAgICAgICdzdHJpbmcsIC4uLkZ1bmN0aW9uJzogZnVuY3Rpb24gKG5hbWUsIGZucykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBleHRyYWN0U2lnbmF0dXJlcyhmbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHR5cGVkLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICB0eXBlZC50eXBlcyA9IF90eXBlcztcbiAgICB0eXBlZC5jb252ZXJzaW9ucyA9IF9jb252ZXJzaW9ucztcbiAgICB0eXBlZC5pZ25vcmUgPSBfaWdub3JlO1xuICAgIHR5cGVkLmNvbnZlcnQgPSBjb252ZXJ0O1xuICAgIHR5cGVkLmZpbmQgPSBmaW5kO1xuXG4gICAgLyoqXG4gICAgICogYWRkIGEgdHlwZVxuICAgICAqIEBwYXJhbSB7e25hbWU6IHN0cmluZywgdGVzdDogZnVuY3Rpb259fSB0eXBlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYmVmb3JlT2JqZWN0VGVzdD10cnVlXVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0cnVlLCB0aGUgbmV3IHRlc3Qgd2lsbCBiZSBpbnNlcnRlZCBiZWZvcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHRlc3Qgd2l0aCBuYW1lICdPYmplY3QnIChpZiBhbnkpLCBzaW5jZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0cyBmb3IgT2JqZWN0IG1hdGNoIEFycmF5IGFuZCBjbGFzc2VzIHRvby5cbiAgICAgKi9cbiAgICB0eXBlZC5hZGRUeXBlID0gZnVuY3Rpb24gKHR5cGUsIGJlZm9yZU9iamVjdFRlc3QpIHtcbiAgICAgIGlmICghdHlwZSB8fCB0eXBlb2YgdHlwZS5uYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZS50ZXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCB3aXRoIHByb3BlcnRpZXMge25hbWU6IHN0cmluZywgdGVzdDogZnVuY3Rpb259IGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiZWZvcmVPYmplY3RUZXN0ICE9PSBmYWxzZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHR5cGVkLnR5cGVzW2ldLm5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICB0eXBlZC50eXBlcy5zcGxpY2UoaSwgMCwgdHlwZSk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHlwZWQudHlwZXMucHVzaCh0eXBlKTtcbiAgICB9O1xuXG4gICAgLy8gYWRkIGEgY29udmVyc2lvblxuICAgIHR5cGVkLmFkZENvbnZlcnNpb24gPSBmdW5jdGlvbiAoY29udmVyc2lvbikge1xuICAgICAgaWYgKCFjb252ZXJzaW9uXG4gICAgICAgICAgfHwgdHlwZW9mIGNvbnZlcnNpb24uZnJvbSAhPT0gJ3N0cmluZydcbiAgICAgICAgICB8fCB0eXBlb2YgY29udmVyc2lvbi50byAhPT0gJ3N0cmluZydcbiAgICAgICAgICB8fCB0eXBlb2YgY29udmVyc2lvbi5jb252ZXJ0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCB3aXRoIHByb3BlcnRpZXMge2Zyb206IHN0cmluZywgdG86IHN0cmluZywgY29udmVydDogZnVuY3Rpb259IGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHR5cGVkLmNvbnZlcnNpb25zLnB1c2goY29udmVyc2lvbik7XG4gICAgfTtcblxuICAgIHJldHVybiB0eXBlZDtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGUoKTtcbn0pKTtcbiIsImltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi9pcy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHt7c2lnbjogJysnIHwgJy0nIHwgJycsIGNvZWZmaWNpZW50czogbnVtYmVyW10sIGV4cG9uZW50OiBudW1iZXJ9fSBTcGxpdFZhbHVlXG4gKi9cblxuLyoqXG4gKiBDaGVjayBpZiBhIG51bWJlciBpcyBpbnRlZ2VyXG4gKiBAcGFyYW0ge251bWJlciB8IGJvb2xlYW59IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufSBpc0ludGVnZXJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IHZhbHVlID09PSBNYXRoLnJvdW5kKHZhbHVlKSA6IGZhbHNlOyAvLyBOb3RlOiB3ZSB1c2UgPT0sIG5vdCA9PT0sIGFzIHdlIGNhbiBoYXZlIEJvb2xlYW5zIGFzIHdlbGxcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzaWduIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIHNpZ24gPSAvKiAjX19QVVJFX18gKi9NYXRoLnNpZ24gfHwgZnVuY3Rpb24gKHgpIHtcbiAgaWYgKHggPiAwKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSBpZiAoeCA8IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgYmFzZS0yIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cyID0gLyogI19fUFVSRV9fICovTWF0aC5sb2cyIHx8IGZ1bmN0aW9uIGxvZzIoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCkgLyBNYXRoLkxOMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgYmFzZS0xMCBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgbG9nMTAgPSAvKiAjX19QVVJFX18gKi9NYXRoLmxvZzEwIHx8IGZ1bmN0aW9uIGxvZzEwKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjEwO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIG51bWJlciArIDFcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgbG9nMXAgPSAvKiAjX19QVVJFX18gKi9NYXRoLmxvZzFwIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4ICsgMSk7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgY3ViaWMgcm9vdCBmb3IgYSBudW1iZXJcbiAqXG4gKiBDb2RlIGZyb20gZXM2LXNoaW0uanM6XG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsbWlsbHIvZXM2LXNoaW0vYmxvYi9tYXN0ZXIvZXM2LXNoaW0uanMjTDE1NjQtTDE1NzdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY3ViaWMgcm9vdCBvZiB4XG4gKi9cblxuZXhwb3J0IHZhciBjYnJ0ID0gLyogI19fUFVSRV9fICovTWF0aC5jYnJ0IHx8IGZ1bmN0aW9uIGNicnQoeCkge1xuICBpZiAoeCA9PT0gMCkge1xuICAgIHJldHVybiB4O1xuICB9XG5cbiAgdmFyIG5lZ2F0ZSA9IHggPCAwO1xuICB2YXIgcmVzdWx0O1xuXG4gIGlmIChuZWdhdGUpIHtcbiAgICB4ID0gLXg7XG4gIH1cblxuICBpZiAoaXNGaW5pdGUoeCkpIHtcbiAgICByZXN1bHQgPSBNYXRoLmV4cChNYXRoLmxvZyh4KSAvIDMpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N1YmVfcm9vdCNOdW1lcmljYWxfbWV0aG9kc1xuXG4gICAgcmVzdWx0ID0gKHggLyAocmVzdWx0ICogcmVzdWx0KSArIDIgKiByZXN1bHQpIC8gMztcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSB4O1xuICB9XG5cbiAgcmV0dXJuIG5lZ2F0ZSA/IC1yZXN1bHQgOiByZXN1bHQ7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIGV4cG9uZW50aWF0aW9uIG1pbnVzIDFcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc1xuICovXG5cbmV4cG9ydCB2YXIgZXhwbTEgPSAvKiAjX19QVVJFX18gKi9NYXRoLmV4cG0xIHx8IGZ1bmN0aW9uIGV4cG0xKHgpIHtcbiAgcmV0dXJuIHggPj0gMmUtNCB8fCB4IDw9IC0yZS00ID8gTWF0aC5leHAoeCkgLSAxIDogeCArIHggKiB4IC8gMiArIHggKiB4ICogeCAvIDY7XG59O1xuLyoqXG4gKiBDb252ZXJ0IGEgbnVtYmVyIHRvIGEgZm9ybWF0dGVkIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBTeW50YXg6XG4gKlxuICogICAgZm9ybWF0KHZhbHVlKVxuICogICAgZm9ybWF0KHZhbHVlLCBvcHRpb25zKVxuICogICAgZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gKiAgICBmb3JtYXQodmFsdWUsIGZuKVxuICpcbiAqIFdoZXJlOlxuICpcbiAqICAgIHtudW1iZXJ9IHZhbHVlICAgVGhlIHZhbHVlIHRvIGJlIGZvcm1hdHRlZFxuICogICAge09iamVjdH0gb3B0aW9ucyBBbiBvYmplY3Qgd2l0aCBmb3JtYXR0aW5nIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOlxuICogICAgICAgICAgICAgICAgICAgICB7c3RyaW5nfSBub3RhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG5vdGF0aW9uLiBDaG9vc2UgZnJvbTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdmaXhlZCcgICAgICAgICAgQWx3YXlzIHVzZSByZWd1bGFyIG51bWJlciBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40MCcgYW5kICcxNDAwMDAwMCdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdleHBvbmVudGlhbCcgICAgQWx3YXlzIHVzZSBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEuMjM0ZSsyJyBhbmQgJzEuNGUrNydcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdlbmdpbmVlcmluZycgICAgQWx3YXlzIHVzZSBlbmdpbmVlcmluZyBub3RhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40ZSswJyBhbmQgJzE0LjBlKzYnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycgKGRlZmF1bHQpIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsb3dlckV4cGAgYW5kIGB1cHBlckV4cGAgYm91bmRzLCBhbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcyBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBleGNsdWRlZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gcHJlY2lzaW9uICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIHRvdGFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCByb3VuZGluZyBhbnkgZGlnaXRzLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBsb3dlckV4cCAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgbG93ZXIgYm91bmRhcnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoIGFuIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYG5vdGF0aW9uPSdhdXRvYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB2YWx1ZSBpcyBgLTNgLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSB1cHBlckV4cCAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgdXBwZXIgYm91bmRhcnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoIGFuIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYG5vdGF0aW9uPSdhdXRvYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB2YWx1ZSBpcyBgNWAuXG4gKiAgICB7RnVuY3Rpb259IGZuICAgIEEgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb24uIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZVxuICogICAgICAgICAgICAgICAgICAgICBidWlsdC1pbiBub3RhdGlvbnMuIEZ1bmN0aW9uIGBmbmAgaXMgY2FsbGVkIHdpdGggYHZhbHVlYCBhc1xuICogICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXIgYW5kIG11c3QgcmV0dXJuIGEgc3RyaW5nLiBJcyB1c2VmdWwgZm9yIGV4YW1wbGUgdG9cbiAqICAgICAgICAgICAgICAgICAgICAgZm9ybWF0IGFsbCB2YWx1ZXMgaW5zaWRlIGEgbWF0cml4IGluIGEgcGFydGljdWxhciB3YXkuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgZm9ybWF0KDYuNCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzYuNCdcbiAqICAgIGZvcm1hdCgxMjQwMDAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcxLjI0ZTYnXG4gKiAgICBmb3JtYXQoMS8zKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMzMzMzMzMzMzMzMzMzJ1xuICogICAgZm9ybWF0KDEvMywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzJ1xuICogICAgZm9ybWF0KDIxMzg1LCAyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzIxMDAwJ1xuICogICAgZm9ybWF0KDEyLjA3MSwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgLy8gJzEyJ1xuICogICAgZm9ybWF0KDIuMywgICAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDJ9KSAgLy8gJzIuMzAnXG4gKiAgICBmb3JtYXQoNTIuOCwgICB7bm90YXRpb246ICdleHBvbmVudGlhbCd9KSAgICAgICAgICAvLyAnNS4yOGUrMSdcbiAqICAgIGZvcm1hdCgxMjM0NTY3OCwge25vdGF0aW9uOiAnZW5naW5lZXJpbmcnfSkgICAgICAgIC8vICcxMi4zNDU2NzhlKzYnXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgbnVtYmVyfSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge3N0cmluZ30gc3RyIFRoZSBmb3JtYXR0ZWQgdmFsdWVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGhhbmRsZSBmb3JtYXQodmFsdWUsIGZuKVxuICAgIHJldHVybiBvcHRpb25zKHZhbHVlKTtcbiAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlc1xuXG5cbiAgaWYgKHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiAnSW5maW5pdHknO1xuICB9IGVsc2UgaWYgKHZhbHVlID09PSAtSW5maW5pdHkpIHtcbiAgICByZXR1cm4gJy1JbmZpbml0eSc7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgcmV0dXJuICdOYU4nO1xuICB9IC8vIGRlZmF1bHQgdmFsdWVzIGZvciBvcHRpb25zXG5cblxuICB2YXIgbm90YXRpb24gPSAnYXV0byc7XG4gIHZhciBwcmVjaXNpb247XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICAvLyBkZXRlcm1pbmUgbm90YXRpb24gZnJvbSBvcHRpb25zXG4gICAgaWYgKG9wdGlvbnMubm90YXRpb24pIHtcbiAgICAgIG5vdGF0aW9uID0gb3B0aW9ucy5ub3RhdGlvbjtcbiAgICB9IC8vIGRldGVybWluZSBwcmVjaXNpb24gZnJvbSBvcHRpb25zXG5cblxuICAgIGlmIChpc051bWJlcihvcHRpb25zKSkge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKG9wdGlvbnMucHJlY2lzaW9uKSkge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucy5wcmVjaXNpb247XG4gICAgfVxuICB9IC8vIGhhbmRsZSB0aGUgdmFyaW91cyBub3RhdGlvbnNcblxuXG4gIHN3aXRjaCAobm90YXRpb24pIHtcbiAgICBjYXNlICdmaXhlZCc6XG4gICAgICByZXR1cm4gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2V4cG9uZW50aWFsJzpcbiAgICAgIHJldHVybiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZW5naW5lZXJpbmcnOlxuICAgICAgcmV0dXJuIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvcyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludFxuICAgICAgcmV0dXJuIHRvUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24sIG9wdGlvbnMgJiYgb3B0aW9ucykucmVwbGFjZSgvKChcXC5cXGQqPykoMCspKSgkfGUpLywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGlnaXRzID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB2YXIgZSA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgcmV0dXJuIGRpZ2l0cyAhPT0gJy4nID8gZGlnaXRzICsgZSA6IGU7XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbm90YXRpb24gXCInICsgbm90YXRpb24gKyAnXCIuICcgKyAnQ2hvb3NlIFwiYXV0b1wiLCBcImV4cG9uZW50aWFsXCIsIG9yIFwiZml4ZWRcIi4nKTtcbiAgfVxufVxuLyoqXG4gKiBTcGxpdCBhIG51bWJlciBpbnRvIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge1NwbGl0VmFsdWV9XG4gKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdE51bWJlcih2YWx1ZSkge1xuICAvLyBwYXJzZSB0aGUgaW5wdXQgdmFsdWVcbiAgdmFyIG1hdGNoID0gU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eMCo/KC0/KShcXGQrXFwuP1xcZCopKGUoWystXT9cXGQrKSk/JC8pO1xuXG4gIGlmICghbWF0Y2gpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0ludmFsaWQgbnVtYmVyICcgKyB2YWx1ZSk7XG4gIH1cblxuICB2YXIgc2lnbiA9IG1hdGNoWzFdO1xuICB2YXIgZGlnaXRzID0gbWF0Y2hbMl07XG4gIHZhciBleHBvbmVudCA9IHBhcnNlRmxvYXQobWF0Y2hbNF0gfHwgJzAnKTtcbiAgdmFyIGRvdCA9IGRpZ2l0cy5pbmRleE9mKCcuJyk7XG4gIGV4cG9uZW50ICs9IGRvdCAhPT0gLTEgPyBkb3QgLSAxIDogZGlnaXRzLmxlbmd0aCAtIDE7XG4gIHZhciBjb2VmZmljaWVudHMgPSBkaWdpdHMucmVwbGFjZSgnLicsICcnKSAvLyByZW1vdmUgdGhlIGRvdCAobXVzdCBiZSByZW1vdmVkIGJlZm9yZSByZW1vdmluZyBsZWFkaW5nIHplcm9zKVxuICAucmVwbGFjZSgvXjAqLywgZnVuY3Rpb24gKHplcm9zKSB7XG4gICAgLy8gcmVtb3ZlIGxlYWRpbmcgemVyb3MsIGFkZCB0aGVpciBjb3VudCB0byB0aGUgZXhwb25lbnRcbiAgICBleHBvbmVudCAtPSB6ZXJvcy5sZW5ndGg7XG4gICAgcmV0dXJuICcnO1xuICB9KS5yZXBsYWNlKC8wKiQvLCAnJykgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zXG4gIC5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KGQpO1xuICB9KTtcblxuICBpZiAoY29lZmZpY2llbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvZWZmaWNpZW50cy5wdXNoKDApO1xuICAgIGV4cG9uZW50Kys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNpZ246IHNpZ24sXG4gICAgY29lZmZpY2llbnRzOiBjb2VmZmljaWVudHMsXG4gICAgZXhwb25lbnQ6IGV4cG9uZW50XG4gIH07XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBlbmdpbmVlcmluZyBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNicsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgICAgICAgT3B0aW9uYWwgbnVtYmVyIG9mIHNpZ25pZmljYW50IGZpZ3VyZXMgdG8gcmV0dXJuLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH1cblxuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbik7XG4gIHZhciBlID0gcm91bmRlZC5leHBvbmVudDtcbiAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50czsgLy8gZmluZCBuZWFyZXN0IGxvd2VyIG11bHRpcGxlIG9mIDMgZm9yIGV4cG9uZW50XG5cbiAgdmFyIG5ld0V4cCA9IGUgJSAzID09PSAwID8gZSA6IGUgPCAwID8gZSAtIDMgLSBlICUgMyA6IGUgLSBlICUgMztcblxuICBpZiAoaXNOdW1iZXIocHJlY2lzaW9uKSkge1xuICAgIC8vIGFkZCB6ZXJvZXMgdG8gZ2l2ZSBjb3JyZWN0IHNpZyBmaWdzXG4gICAgd2hpbGUgKHByZWNpc2lvbiA+IGMubGVuZ3RoIHx8IGUgLSBuZXdFeHAgKyAxID4gYy5sZW5ndGgpIHtcbiAgICAgIGMucHVzaCgwKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uY2F0ZW5hdGUgY29lZmZpY2llbnRzIHdpdGggbmVjZXNzYXJ5IHplcm9zXG4gICAgLy8gYWRkIHplcm9zIGlmIG5lY2Vzc2FyeSAoZm9yIGV4YW1wbGU6IDFlKzggLT4gMTAwZSs2KVxuICAgIHZhciBtaXNzaW5nWmVyb3MgPSBNYXRoLmFicyhlIC0gbmV3RXhwKSAtIChjLmxlbmd0aCAtIDEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXNzaW5nWmVyb3M7IGkrKykge1xuICAgICAgYy5wdXNoKDApO1xuICAgIH1cbiAgfSAvLyBmaW5kIGRpZmZlcmVuY2UgaW4gZXhwb25lbnRzXG5cblxuICB2YXIgZXhwRGlmZiA9IE1hdGguYWJzKGUgLSBuZXdFeHApO1xuICB2YXIgZGVjaW1hbElkeCA9IDE7IC8vIHB1c2ggZGVjaW1hbCBpbmRleCBvdmVyIGJ5IGV4cERpZmYgdGltZXNcblxuICB3aGlsZSAoZXhwRGlmZiA+IDApIHtcbiAgICBkZWNpbWFsSWR4Kys7XG4gICAgZXhwRGlmZi0tO1xuICB9IC8vIGlmIGFsbCBjb2VmZmljaWVudCB2YWx1ZXMgYXJlIHplcm8gYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgYW5kIHByZWNpc2lvbiBpcyB1bnNldCwgZG9uJ3QgYWRkIGEgZGVjaW1hbCB2YWx1ZS5cbiAgLy8gb3RoZXJ3aXNlIGNvbmNhdCB3aXRoIHRoZSByZXN0IG9mIHRoZSBjb2VmZmljaWVudHNcblxuXG4gIHZhciBkZWNpbWFscyA9IGMuc2xpY2UoZGVjaW1hbElkeCkuam9pbignJyk7XG4gIHZhciBkZWNpbWFsVmFsID0gaXNOdW1iZXIocHJlY2lzaW9uKSAmJiBkZWNpbWFscy5sZW5ndGggfHwgZGVjaW1hbHMubWF0Y2goL1sxLTldLykgPyAnLicgKyBkZWNpbWFscyA6ICcnO1xuICB2YXIgc3RyID0gYy5zbGljZSgwLCBkZWNpbWFsSWR4KS5qb2luKCcnKSArIGRlY2ltYWxWYWwgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgbmV3RXhwLnRvU3RyaW5nKCk7XG4gIHJldHVybiByb3VuZGVkLnNpZ24gKyBzdHI7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGZpeGVkIG5vdGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdICBPcHRpb25hbCBudW1iZXIgb2YgZGVjaW1hbHMgYWZ0ZXIgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsIHBvaW50LiBudWxsIGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzcGxpdFZhbHVlID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHR5cGVvZiBwcmVjaXNpb24gPT09ICdudW1iZXInID8gcm91bmREaWdpdHMoc3BsaXRWYWx1ZSwgc3BsaXRWYWx1ZS5leHBvbmVudCArIDEgKyBwcmVjaXNpb24pIDogc3BsaXRWYWx1ZTtcbiAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50cztcbiAgdmFyIHAgPSByb3VuZGVkLmV4cG9uZW50ICsgMTsgLy8gZXhwb25lbnQgbWF5IGhhdmUgY2hhbmdlZFxuICAvLyBhcHBlbmQgemVyb3MgaWYgbmVlZGVkXG5cbiAgdmFyIHBwID0gcCArIChwcmVjaXNpb24gfHwgMCk7XG5cbiAgaWYgKGMubGVuZ3RoIDwgcHApIHtcbiAgICBjID0gYy5jb25jYXQoemVyb3MocHAgLSBjLmxlbmd0aCkpO1xuICB9IC8vIHByZXBlbmQgemVyb3MgaWYgbmVlZGVkXG5cblxuICBpZiAocCA8IDApIHtcbiAgICBjID0gemVyb3MoLXAgKyAxKS5jb25jYXQoYyk7XG4gICAgcCA9IDE7XG4gIH0gLy8gaW5zZXJ0IGEgZG90IGlmIG5lZWRlZFxuXG5cbiAgaWYgKHAgPCBjLmxlbmd0aCkge1xuICAgIGMuc3BsaWNlKHAsIDAsIHAgPT09IDAgPyAnMC4nIDogJy4nKTtcbiAgfVxuXG4gIHJldHVybiByb3VuZGVkLnNpZ24gKyBjLmpvaW4oJycpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgaW4gZXhwb25lbnRpYWwgbm90YXRpb24uIExpa2UgJzEuMjNlKzUnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gIE51bWJlciBvZiBkaWdpdHMgaW4gZm9ybWF0dGVkIG91dHB1dC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF4aW11bSBhdmFpbGFibGUgZGlnaXRzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHVzZWQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfSAvLyByb3VuZCBpZiBuZWVkZWQsIGVsc2UgY3JlYXRlIGEgY2xvbmVcblxuXG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSBwcmVjaXNpb24gPyByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKSA6IHNwbGl0O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzO1xuICB2YXIgZSA9IHJvdW5kZWQuZXhwb25lbnQ7IC8vIGFwcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuICBpZiAoYy5sZW5ndGggPCBwcmVjaXNpb24pIHtcbiAgICBjID0gYy5jb25jYXQoemVyb3MocHJlY2lzaW9uIC0gYy5sZW5ndGgpKTtcbiAgfSAvLyBmb3JtYXQgYXMgYEMuQ0NDZStFRUVgIG9yIGBDLkNDQ2UtRUVFYFxuXG5cbiAgdmFyIGZpcnN0ID0gYy5zaGlmdCgpO1xuICByZXR1cm4gcm91bmRlZC5zaWduICsgZmlyc3QgKyAoYy5sZW5ndGggPiAwID8gJy4nICsgYy5qb2luKCcnKSA6ICcnKSArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBlO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgd2l0aCBhIGNlcnRhaW4gcHJlY2lzaW9uXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gT3B0aW9uYWwgbnVtYmVyIG9mIGRpZ2l0cy5cbiAqIEBwYXJhbSB7e2xvd2VyRXhwOiBudW1iZXIgfCB1bmRlZmluZWQsIHVwcGVyRXhwOiBudW1iZXIgfCB1bmRlZmluZWR9fSBbb3B0aW9uc11cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnkgZGVmYXVsdDpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckV4cCA9IC0zIChpbmNsKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyID0gKzUgKGV4Y2wpXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24sIG9wdGlvbnMpIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIH0gLy8gZGV0ZXJtaW5lIGxvd2VyIGFuZCB1cHBlciBib3VuZCBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24uXG5cblxuICB2YXIgbG93ZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMubG93ZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubG93ZXJFeHAgOiAtMztcbiAgdmFyIHVwcGVyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLnVwcGVyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVwcGVyRXhwIDogNTtcbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHByZWNpc2lvbiA/IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pIDogc3BsaXQ7XG5cbiAgaWYgKHJvdW5kZWQuZXhwb25lbnQgPCBsb3dlckV4cCB8fCByb3VuZGVkLmV4cG9uZW50ID49IHVwcGVyRXhwKSB7XG4gICAgLy8gZXhwb25lbnRpYWwgbm90YXRpb25cbiAgICByZXR1cm4gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzO1xuICAgIHZhciBlID0gcm91bmRlZC5leHBvbmVudDsgLy8gYXBwZW5kIHRyYWlsaW5nIHplcm9zXG5cbiAgICBpZiAoYy5sZW5ndGggPCBwcmVjaXNpb24pIHtcbiAgICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcmVjaXNpb24gLSBjLmxlbmd0aCkpO1xuICAgIH0gLy8gYXBwZW5kIHRyYWlsaW5nIHplcm9zXG4gICAgLy8gVE9ETzogc2ltcGxpZnkgdGhlIG5leHQgc3RhdGVtZW50XG5cblxuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhlIC0gYy5sZW5ndGggKyAxICsgKGMubGVuZ3RoIDwgcHJlY2lzaW9uID8gcHJlY2lzaW9uIC0gYy5sZW5ndGggOiAwKSkpOyAvLyBwcmVwZW5kIHplcm9zXG5cbiAgICBjID0gemVyb3MoLWUpLmNvbmNhdChjKTtcbiAgICB2YXIgZG90ID0gZSA+IDAgPyBlIDogMDtcblxuICAgIGlmIChkb3QgPCBjLmxlbmd0aCAtIDEpIHtcbiAgICAgIGMuc3BsaWNlKGRvdCArIDEsIDAsICcuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGMuam9pbignJyk7XG4gIH1cbn1cbi8qKlxuICogUm91bmQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgYSBudW1iZXIgKlxuICogQHBhcmFtIHtTcGxpdFZhbHVlfSBzcGxpdCAgICAgICBBIHZhbHVlIHNwbGl0IHdpdGggLnNwbGl0TnVtYmVyKHZhbHVlKVxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAgQSBwb3NpdGl2ZSBpbnRlZ2VyXG4gKiBAcmV0dXJuIHtTcGxpdFZhbHVlfVxuICogICAgICAgICAgICAgIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqICAgICAgICAgICAgICB3aXRoIHJvdW5kZWQgZGlnaXRzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pIHtcbiAgLy8gY3JlYXRlIGEgY2xvbmVcbiAgdmFyIHJvdW5kZWQgPSB7XG4gICAgc2lnbjogc3BsaXQuc2lnbixcbiAgICBjb2VmZmljaWVudHM6IHNwbGl0LmNvZWZmaWNpZW50cyxcbiAgICBleHBvbmVudDogc3BsaXQuZXhwb25lbnRcbiAgfTtcbiAgdmFyIGMgPSByb3VuZGVkLmNvZWZmaWNpZW50czsgLy8gcHJlcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuICB3aGlsZSAocHJlY2lzaW9uIDw9IDApIHtcbiAgICBjLnVuc2hpZnQoMCk7XG4gICAgcm91bmRlZC5leHBvbmVudCsrO1xuICAgIHByZWNpc2lvbisrO1xuICB9XG5cbiAgaWYgKGMubGVuZ3RoID4gcHJlY2lzaW9uKSB7XG4gICAgdmFyIHJlbW92ZWQgPSBjLnNwbGljZShwcmVjaXNpb24sIGMubGVuZ3RoIC0gcHJlY2lzaW9uKTtcblxuICAgIGlmIChyZW1vdmVkWzBdID49IDUpIHtcbiAgICAgIHZhciBpID0gcHJlY2lzaW9uIC0gMTtcbiAgICAgIGNbaV0rKztcblxuICAgICAgd2hpbGUgKGNbaV0gPT09IDEwKSB7XG4gICAgICAgIGMucG9wKCk7XG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICBjLnVuc2hpZnQoMCk7XG4gICAgICAgICAgcm91bmRlZC5leHBvbmVudCsrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGktLTtcbiAgICAgICAgY1tpXSsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByb3VuZGVkO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gYXJyYXkgZmlsbGVkIHdpdGggemVyb3MuXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuXG5mdW5jdGlvbiB6ZXJvcyhsZW5ndGgpIHtcbiAgdmFyIGFyciA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnIucHVzaCgwKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIGEgbnVtYmVyLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICogICAyLjM0IHJldHVybnMgM1xuICogICAwLjAwMzQgcmV0dXJucyAyXG4gKiAgIDEyMC41ZSszMCByZXR1cm5zIDRcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gZGlnaXRzICAgTnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0c1xuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZ2l0cyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbCgpLnJlcGxhY2UoL2UuKiQvLCAnJykgLy8gcmVtb3ZlIGV4cG9uZW50aWFsIG5vdGF0aW9uXG4gIC5yZXBsYWNlKC9eMFxcLj8wKnxcXC4vLCAnJykgLy8gcmVtb3ZlIGRlY2ltYWwgcG9pbnQgYW5kIGxlYWRpbmcgemVyb3NcbiAgLmxlbmd0aDtcbn1cbi8qKlxuICogTWluaW11bSBudW1iZXIgYWRkZWQgdG8gb25lIHRoYXQgbWFrZXMgdGhlIHJlc3VsdCBkaWZmZXJlbnQgdGhhbiBvbmVcbiAqL1xuXG5leHBvcnQgdmFyIERCTF9FUFNJTE9OID0gTnVtYmVyLkVQU0lMT04gfHwgMi4yMjA0NDYwNDkyNTAzMTMwODA4NDcyNjMzMzYxODE2RS0xNjtcbi8qKlxuICogQ29tcGFyZXMgdHdvIGZsb2F0aW5nIHBvaW50IG51bWJlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0geCAgICAgICAgICBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtlcHNpbG9uXSAgVGhlIG1heGltdW0gcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGVwc2lsb24gaXMgdW5kZWZpbmVkIG9yIG51bGwsIHRoZSBmdW5jdGlvbiB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHR3byBudW1iZXJzIGFyZSBuZWFybHkgZXF1YWxcbiovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWFybHlFcXVhbCh4LCB5LCBlcHNpbG9uKSB7XG4gIC8vIGlmIGVwc2lsb24gaXMgbnVsbCBvciB1bmRlZmluZWQsIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsXG4gIGlmIChlcHNpbG9uID09PSBudWxsIHx8IGVwc2lsb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB4ID09PSB5O1xuICB9XG5cbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOYU5cblxuXG4gIGlmIChpc05hTih4KSB8fCBpc05hTih5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBhdCB0aGlzIHBvaW50IHggYW5kIHkgc2hvdWxkIGJlIGZpbml0ZVxuXG5cbiAgaWYgKGlzRmluaXRlKHgpICYmIGlzRmluaXRlKHkpKSB7XG4gICAgLy8gY2hlY2sgbnVtYmVycyBhcmUgdmVyeSBjbG9zZSwgbmVlZGVkIHdoZW4gY29tcGFyaW5nIG51bWJlcnMgbmVhciB6ZXJvXG4gICAgdmFyIGRpZmYgPSBNYXRoLmFicyh4IC0geSk7XG5cbiAgICBpZiAoZGlmZiA8IERCTF9FUFNJTE9OKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlIHJlbGF0aXZlIGVycm9yXG4gICAgICByZXR1cm4gZGlmZiA8PSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeSkpICogZXBzaWxvbjtcbiAgICB9XG4gIH0gLy8gSW5maW5pdGUgYW5kIE51bWJlciBvciBuZWdhdGl2ZSBJbmZpbml0ZSBhbmQgcG9zaXRpdmUgSW5maW5pdGUgY2FzZXNcblxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIGFyY2NvcyBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGFjb3NoID0gTWF0aC5hY29zaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KHggKiB4IC0gMSkgKyB4KTtcbn07XG5leHBvcnQgdmFyIGFzaW5oID0gTWF0aC5hc2luaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KHggKiB4ICsgMSkgKyB4KTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBhcmN0YW5nZW50IG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgYXRhbmggPSBNYXRoLmF0YW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZygoMSArIHgpIC8gKDEgLSB4KSkgLyAyO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBjb3NoID0gTWF0aC5jb3NoIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiAoTWF0aC5leHAoeCkgKyBNYXRoLmV4cCgteCkpIC8gMjtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIHNpbmggPSBNYXRoLnNpbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIChNYXRoLmV4cCh4KSAtIE1hdGguZXhwKC14KSkgLyAyO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgdGFuaCA9IE1hdGgudGFuaCB8fCBmdW5jdGlvbiAoeCkge1xuICB2YXIgZSA9IE1hdGguZXhwKDIgKiB4KTtcbiAgcmV0dXJuIChlIC0gMSkgLyAoZSArIDEpO1xufTsiLCIvKipcbiAqIENvbnZlcnQgYSBCaWdOdW1iZXIgdG8gYSBmb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICBmb3JtYXQodmFsdWUpXG4gKiAgICBmb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gKiAgICBmb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqICAgIGZvcm1hdCh2YWx1ZSwgZm4pXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAge251bWJlcn0gdmFsdWUgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gKiAgICB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gKiAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IG5vdGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpeGVkJyAgICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2V4cG9uZW50aWFsJyAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nIChkZWZhdWx0KSBSZWd1bGFyIG51bWJlciBub3RhdGlvbiBmb3IgbnVtYmVyc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXZpbmcgYW4gYWJzb2x1dGUgdmFsdWUgYmV0d2VlblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcywgYW5kIHVzZXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb25lbnRpYWwgbm90YXRpb24gZWxzZXdoZXJlLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb3dlciBib3VuZCBpcyBpbmNsdWRlZCwgdXBwZXIgYm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgZXhjbHVkZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNCcgYW5kICcxLjRlNycuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHByZWNpc2lvbiAgIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYgdG8gcm91bmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGRpZ2l0cyBvZiB0aGUgbnVtYmVyLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9ucyAnZXhwb25lbnRpYWwnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW5naW5lZXJpbmcnLCBhbmQgJ2F1dG8nLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSB0b3RhbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIHJldHVybmVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIG5vdGF0aW9uICdmaXhlZCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIG51bWJlciBvZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduaWZpY2FudCBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBsb3dlckV4cCAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgbG93ZXIgYm91bmRhcnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoIGFuIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYG5vdGF0aW9uPSdhdXRvYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB2YWx1ZSBpcyBgLTNgLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSB1cHBlckV4cCAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgdXBwZXIgYm91bmRhcnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoIGFuIGV4cG9uZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYG5vdGF0aW9uPSdhdXRvYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB2YWx1ZSBpcyBgNWAuXG4gKiAgICB7RnVuY3Rpb259IGZuICAgIEEgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb24uIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZVxuICogICAgICAgICAgICAgICAgICAgICBidWlsdC1pbiBub3RhdGlvbnMuIEZ1bmN0aW9uIGBmbmAgaXMgY2FsbGVkIHdpdGggYHZhbHVlYCBhc1xuICogICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXIgYW5kIG11c3QgcmV0dXJuIGEgc3RyaW5nLiBJcyB1c2VmdWwgZm9yIGV4YW1wbGUgdG9cbiAqICAgICAgICAgICAgICAgICAgICAgZm9ybWF0IGFsbCB2YWx1ZXMgaW5zaWRlIGEgbWF0cml4IGluIGEgcGFydGljdWxhciB3YXkuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgZm9ybWF0KDYuNCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzYuNCdcbiAqICAgIGZvcm1hdCgxMjQwMDAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcxLjI0ZTYnXG4gKiAgICBmb3JtYXQoMS8zKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMzMzMzMzMzMzMzMzMzJ1xuICogICAgZm9ybWF0KDEvMywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzAuMzMzJ1xuICogICAgZm9ybWF0KDIxMzg1LCAyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzIxMDAwJ1xuICogICAgZm9ybWF0KDEyZTgsIHtub3RhdGlvbjogJ2ZpeGVkJ30pICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMTIwMDAwMDAwMCdcbiAqICAgIGZvcm1hdCgyLjMsICAgIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiA0fSkgIC8vIHJldHVybnMgJzIuMzAwMCdcbiAqICAgIGZvcm1hdCg1Mi44LCAgIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgIC8vIHJldHVybnMgJzUuMjhlKzEnXG4gKiAgICBmb3JtYXQoMTI0MDAsICB7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgICAvLyByZXR1cm5zICcxMi40MDBlKzMnXG4gKlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgbnVtYmVyfSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge3N0cmluZ30gc3RyIFRoZSBmb3JtYXR0ZWQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBoYW5kbGUgZm9ybWF0KHZhbHVlLCBmbilcbiAgICByZXR1cm4gb3B0aW9ucyh2YWx1ZSk7XG4gIH0gLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXNcblxuXG4gIGlmICghdmFsdWUuaXNGaW5pdGUoKSkge1xuICAgIHJldHVybiB2YWx1ZS5pc05hTigpID8gJ05hTicgOiB2YWx1ZS5ndCgwKSA/ICdJbmZpbml0eScgOiAnLUluZmluaXR5JztcbiAgfSAvLyBkZWZhdWx0IHZhbHVlcyBmb3Igb3B0aW9uc1xuXG5cbiAgdmFyIG5vdGF0aW9uID0gJ2F1dG8nO1xuICB2YXIgcHJlY2lzaW9uO1xuXG4gIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBkZXRlcm1pbmUgbm90YXRpb24gZnJvbSBvcHRpb25zXG4gICAgaWYgKG9wdGlvbnMubm90YXRpb24pIHtcbiAgICAgIG5vdGF0aW9uID0gb3B0aW9ucy5ub3RhdGlvbjtcbiAgICB9IC8vIGRldGVybWluZSBwcmVjaXNpb24gZnJvbSBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHByZWNpc2lvbiA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnByZWNpc2lvbikge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucy5wcmVjaXNpb247XG4gICAgfVxuICB9IC8vIGhhbmRsZSB0aGUgdmFyaW91cyBub3RhdGlvbnNcblxuXG4gIHN3aXRjaCAobm90YXRpb24pIHtcbiAgICBjYXNlICdmaXhlZCc6XG4gICAgICByZXR1cm4gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2V4cG9uZW50aWFsJzpcbiAgICAgIHJldHVybiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZW5naW5lZXJpbmcnOlxuICAgICAgcmV0dXJuIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGxvd2VyIGFuZCB1cHBlciBib3VuZCBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAgICAgIC8vIFRPRE86IGltcGxlbWVudCBzdXBwb3J0IGZvciB1cHBlciBhbmQgbG93ZXIgdG8gYmUgQmlnTnVtYmVycyB0aGVtc2VsdmVzXG4gICAgICAgIHZhciBsb3dlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sb3dlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sb3dlckV4cCA6IC0zO1xuICAgICAgICB2YXIgdXBwZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMudXBwZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXBwZXJFeHAgOiA1OyAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlIHplcm9cblxuICAgICAgICBpZiAodmFsdWUuaXNaZXJvKCkpIHJldHVybiAnMCc7IC8vIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0byBvdXRwdXQgZXhwb25lbnRpYWwgbm90YXRpb25cblxuICAgICAgICB2YXIgc3RyO1xuICAgICAgICB2YXIgcm91bmRlZCA9IHZhbHVlLnRvU2lnbmlmaWNhbnREaWdpdHMocHJlY2lzaW9uKTtcbiAgICAgICAgdmFyIGV4cCA9IHJvdW5kZWQuZTtcblxuICAgICAgICBpZiAoZXhwID49IGxvd2VyRXhwICYmIGV4cCA8IHVwcGVyRXhwKSB7XG4gICAgICAgICAgLy8gbm9ybWFsIG51bWJlciBub3RhdGlvblxuICAgICAgICAgIHN0ciA9IHJvdW5kZWQudG9GaXhlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGV4cG9uZW50aWFsIG5vdGF0aW9uXG4gICAgICAgICAgc3RyID0gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKTtcbiAgICAgICAgfSAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3MgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnRcblxuXG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvKChcXC5cXGQqPykoMCspKSgkfGUpLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBkaWdpdHMgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgdmFyIGUgPSBhcmd1bWVudHNbNF07XG4gICAgICAgICAgcmV0dXJuIGRpZ2l0cyAhPT0gJy4nID8gZGlnaXRzICsgZSA6IGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBub3RhdGlvbiBcIicgKyBub3RhdGlvbiArICdcIi4gJyArICdDaG9vc2UgXCJhdXRvXCIsIFwiZXhwb25lbnRpYWxcIiwgb3IgXCJmaXhlZFwiLicpO1xuICB9XG59XG4vKipcbiAqIEZvcm1hdCBhIEJpZ051bWJlciBpbiBlbmdpbmVlcmluZyBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNicsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge0JpZ051bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgICAgICAgT3B0aW9uYWwgbnVtYmVyIG9mIHNpZ25pZmljYW50IGZpZ3VyZXMgdG8gcmV0dXJuLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0VuZ2luZWVyaW5nKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgLy8gZmluZCBuZWFyZXN0IGxvd2VyIG11bHRpcGxlIG9mIDMgZm9yIGV4cG9uZW50XG4gIHZhciBlID0gdmFsdWUuZTtcbiAgdmFyIG5ld0V4cCA9IGUgJSAzID09PSAwID8gZSA6IGUgPCAwID8gZSAtIDMgLSBlICUgMyA6IGUgLSBlICUgMzsgLy8gZmluZCBkaWZmZXJlbmNlIGluIGV4cG9uZW50cywgYW5kIGNhbGN1bGF0ZSB0aGUgdmFsdWUgd2l0aG91dCBleHBvbmVudFxuXG4gIHZhciB2YWx1ZVdpdGhvdXRFeHAgPSB2YWx1ZS5tdWwoTWF0aC5wb3coMTAsIC1uZXdFeHApKTtcbiAgdmFyIHZhbHVlU3RyID0gdmFsdWVXaXRob3V0RXhwLnRvUHJlY2lzaW9uKHByZWNpc2lvbik7XG5cbiAgaWYgKHZhbHVlU3RyLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcbiAgICB2YWx1ZVN0ciA9IHZhbHVlV2l0aG91dEV4cC50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlU3RyICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIG5ld0V4cC50b1N0cmluZygpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgaW4gZXhwb25lbnRpYWwgbm90YXRpb24uIExpa2UgJzEuMjNlKzUnLCAnMi4zZSswJywgJzMuNTAwZS0zJ1xuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbl0gIE51bWJlciBvZiBkaWdpdHMgaW4gZm9ybWF0dGVkIG91dHB1dC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF4aW11bSBhdmFpbGFibGUgZGlnaXRzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHVzZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChwcmVjaXNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKHByZWNpc2lvbiAtIDEpOyAvLyBOb3RlIHRoZSBvZmZzZXQgb2Ygb25lXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwoKTtcbiAgfVxufVxuLyoqXG4gKiBGb3JtYXQgYSBudW1iZXIgd2l0aCBmaXhlZCBub3RhdGlvbi5cbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSBPcHRpb25hbCBudW1iZXIgb2YgZGVjaW1hbHMgYWZ0ZXIgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWwgcG9pbnQuIFVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgcmV0dXJuIHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKTtcbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciwgaXNTdHJpbmcsIHR5cGVPZiB9IGZyb20gJy4vaXMuanMnO1xuaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdE51bWJlciB9IGZyb20gJy4vbnVtYmVyLmpzJztcbmltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXRCaWdOdW1iZXIgfSBmcm9tICcuL2JpZ251bWJlci9mb3JtYXR0ZXIuanMnO1xuLyoqXG4gKiBDaGVjayBpZiBhIHRleHQgZW5kcyB3aXRoIGEgY2VydGFpbiBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aCh0ZXh0LCBzZWFyY2gpIHtcbiAgdmFyIHN0YXJ0ID0gdGV4dC5sZW5ndGggLSBzZWFyY2gubGVuZ3RoO1xuICB2YXIgZW5kID0gdGV4dC5sZW5ndGg7XG4gIHJldHVybiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSA9PT0gc2VhcmNoO1xufVxuLyoqXG4gKiBGb3JtYXQgYSB2YWx1ZSBvZiBhbnkgdHlwZSBpbnRvIGEgc3RyaW5nLlxuICpcbiAqIFVzYWdlOlxuICogICAgIG1hdGguZm9ybWF0KHZhbHVlKVxuICogICAgIG1hdGguZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gKlxuICogV2hlbiB2YWx1ZSBpcyBhIGZ1bmN0aW9uOlxuICpcbiAqIC0gV2hlbiB0aGUgZnVuY3Rpb24gaGFzIGEgcHJvcGVydHkgYHN5bnRheGAsIGl0IHJldHVybnMgdGhpc1xuICogICBzeW50YXggZGVzY3JpcHRpb24uXG4gKiAtIEluIG90aGVyIGNhc2VzLCBhIHN0cmluZyBgJ2Z1bmN0aW9uJ2AgaXMgcmV0dXJuZWQuXG4gKlxuICogV2hlbiBgdmFsdWVgIGlzIGFuIE9iamVjdDpcbiAqXG4gKiAtIFdoZW4gdGhlIG9iamVjdCBjb250YWlucyBhIHByb3BlcnR5IGBmb3JtYXRgIGJlaW5nIGEgZnVuY3Rpb24sIHRoaXNcbiAqICAgZnVuY3Rpb24gaXMgaW52b2tlZCBhcyBgdmFsdWUuZm9ybWF0KG9wdGlvbnMpYCBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAqIC0gV2hlbiB0aGUgb2JqZWN0IGhhcyBpdHMgb3duIGB0b1N0cmluZ2AgbWV0aG9kLCB0aGlzIG1ldGhvZCBpcyBpbnZva2VkXG4gKiAgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICogLSBJbiBvdGhlciBjYXNlcyB0aGUgZnVuY3Rpb24gd2lsbCBsb29wIG92ZXIgYWxsIG9iamVjdCBwcm9wZXJ0aWVzIGFuZFxuICogICByZXR1cm4gSlNPTiBvYmplY3Qgbm90YXRpb24gbGlrZSAne1wiYVwiOiAyLCBcImJcIjogM30nLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiAgICAgbWF0aC5mb3JtYXQoMi83KSAgICAgICAgICAgICAgICAvLyAnMC4yODU3MTQyODU3MTQyODU3J1xuICogICAgIG1hdGguZm9ybWF0KG1hdGgucGksIDMpICAgICAgICAgLy8gJzMuMTQnXG4gKiAgICAgbWF0aC5mb3JtYXQobmV3IENvbXBsZXgoMiwgMykpICAvLyAnMiArIDNpJ1xuICogICAgIG1hdGguZm9ybWF0KCdoZWxsbycpICAgICAgICAgICAgLy8gJ1wiaGVsbG9cIidcbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlICAgICAgICAgICAgIFZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkXG4gKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsdWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGlzQmlnTnVtYmVyKHZhbHVlKSkge1xuICAgIHJldHVybiBmb3JtYXRCaWdOdW1iZXIodmFsdWUsIG9wdGlvbnMpO1xuICB9IC8vIG5vdGU6IHdlIHVzZSB1bnNhZmUgZHVjay10eXBpbmcgaGVyZSB0byBjaGVjayBmb3IgRnJhY3Rpb25zLCB0aGlzIGlzXG4gIC8vIG9rIGhlcmUgc2luY2Ugd2UncmUgb25seSBpbnZva2luZyB0b1N0cmluZyBvciBjb25jYXRlbmF0aW5nIGl0cyB2YWx1ZXNcblxuXG4gIGlmIChsb29rc0xpa2VGcmFjdGlvbih2YWx1ZSkpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5mcmFjdGlvbiAhPT0gJ2RlY2ltYWwnKSB7XG4gICAgICAvLyBvdXRwdXQgYXMgcmF0aW8sIGxpa2UgJzEvMydcbiAgICAgIHJldHVybiB2YWx1ZS5zICogdmFsdWUubiArICcvJyArIHZhbHVlLmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG91dHB1dCBhcyBkZWNpbWFsLCBsaWtlICcwLigzKSdcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmb3JtYXRBcnJheSh2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuICdcIicgKyB2YWx1ZSArICdcIic7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbHVlLnN5bnRheCA/IFN0cmluZyh2YWx1ZS5zeW50YXgpIDogJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZS5mb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5mb3JtYXQob3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB2YWx1ZS50b1N0cmluZyhvcHRpb25zKSAhPT0ge30udG9TdHJpbmcoKSkge1xuICAgICAgLy8gdGhpcyBvYmplY3QgaGFzIGEgbm9uLW5hdGl2ZSB0b1N0cmluZyBtZXRob2QsIHVzZSB0aGF0IG9uZVxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZW50cmllcyA9IE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuICdcIicgKyBrZXkgKyAnXCI6ICcgKyBmb3JtYXQodmFsdWVba2V5XSwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAneycgKyBlbnRyaWVzLmpvaW4oJywgJykgKyAnfSc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG4vKipcbiAqIFN0cmluZ2lmeSBhIHZhbHVlIGludG8gYSBzdHJpbmcgZW5jbG9zZWQgaW4gZG91YmxlIHF1b3Rlcy5cbiAqIFVuZXNjYXBlZCBkb3VibGUgcXVvdGVzIGFuZCBiYWNrc2xhc2hlcyBpbnNpZGUgdGhlIHZhbHVlIGFyZSBlc2NhcGVkLlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcbiAgdmFyIHRleHQgPSBTdHJpbmcodmFsdWUpO1xuICB2YXIgZXNjYXBlZCA9ICcnO1xuICB2YXIgaSA9IDA7XG5cbiAgd2hpbGUgKGkgPCB0ZXh0Lmxlbmd0aCkge1xuICAgIHZhciBjID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICBpZiAoYyA9PT0gJ1xcXFwnKSB7XG4gICAgICBlc2NhcGVkICs9IGM7XG4gICAgICBpKys7XG4gICAgICBjID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChjID09PSAnJyB8fCAnXCJcXFxcL2JmbnJ0dScuaW5kZXhPZihjKSA9PT0gLTEpIHtcbiAgICAgICAgZXNjYXBlZCArPSAnXFxcXCc7IC8vIG5vIHZhbGlkIGVzY2FwZSBjaGFyYWN0ZXIgLT4gZXNjYXBlIGl0XG4gICAgICB9XG5cbiAgICAgIGVzY2FwZWQgKz0gYztcbiAgICB9IGVsc2UgaWYgKGMgPT09ICdcIicpIHtcbiAgICAgIGVzY2FwZWQgKz0gJ1xcXFxcIic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVzY2FwZWQgKz0gYztcbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gJ1wiJyArIGVzY2FwZWQgKyAnXCInO1xufVxuLyoqXG4gKiBFc2NhcGUgc3BlY2lhbCBIVE1MIGNoYXJhY3RlcnNcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlKHZhbHVlKSB7XG4gIHZhciB0ZXh0ID0gU3RyaW5nKHZhbHVlKTtcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykucmVwbGFjZSgvJy9nLCAnJiMzOTsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICByZXR1cm4gdGV4dDtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgZm9ybWF0IGFuIG4tZGltZW5zaW9uYWwgbWF0cml4XG4gKiBFeGFtcGxlIG91dHB1dDogXCJbWzEsIDJdLCBbMywgNF1dXCJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGFycmF5LCBvcHRpb25zKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHZhciBzdHIgPSAnWyc7XG4gICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgIHN0ciArPSAnLCAnO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gZm9ybWF0QXJyYXkoYXJyYXlbaV0sIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0ciArPSAnXSc7XG4gICAgcmV0dXJuIHN0cjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm9ybWF0KGFycmF5LCBvcHRpb25zKTtcbiAgfVxufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgdmFsdWUgbG9va3MgbGlrZSBhIEZyYWN0aW9uICh1bnNhZmUgZHVjay10eXBlIGNoZWNrKVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGxvb2tzTGlrZUZyYWN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5zID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLmQgPT09ICdudW1iZXInIHx8IGZhbHNlO1xufVxuLyoqXG4gKiBDb21wYXJlIHR3byBzdHJpbmdzXG4gKiBAcGFyYW0ge3N0cmluZ30geFxuICogQHBhcmFtIHtzdHJpbmd9IHlcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVRleHQoeCwgeSkge1xuICAvLyB3ZSBkb24ndCB3YW50IHRvIGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmcsIG9ubHkgYWNjZXB0IHN0cmluZyBpbnB1dFxuICBpZiAoIWlzU3RyaW5nKHgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50IGluIGZ1bmN0aW9uIGNvbXBhcmVUZXh0ICcgKyAnKGV4cGVjdGVkOiBzdHJpbmcgb3IgQXJyYXkgb3IgTWF0cml4LCBhY3R1YWw6ICcgKyB0eXBlT2YoeCkgKyAnLCBpbmRleDogMCknKTtcbiAgfVxuXG4gIGlmICghaXNTdHJpbmcoeSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQgaW4gZnVuY3Rpb24gY29tcGFyZVRleHQgJyArICcoZXhwZWN0ZWQ6IHN0cmluZyBvciBBcnJheSBvciBNYXRyaXgsIGFjdHVhbDogJyArIHR5cGVPZih5KSArICcsIGluZGV4OiAxKScpO1xuICB9XG5cbiAgcmV0dXJuIHggPT09IHkgPyAwIDogeCA+IHkgPyAxIDogLTE7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSByYW5nZSBlcnJvciB3aXRoIHRoZSBtZXNzYWdlOlxuICogICAgICdEaW1lbnNpb24gbWlzbWF0Y2ggKDxhY3R1YWwgc2l6ZT4gIT0gPGV4cGVjdGVkIHNpemU+KSdcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVtYmVyW119IGFjdHVhbCAgICAgICAgVGhlIGFjdHVhbCBzaXplXG4gKiBAcGFyYW0ge251bWJlciB8IG51bWJlcltdfSBleHBlY3RlZCAgICAgIFRoZSBleHBlY3RlZCBzaXplXG4gKiBAcGFyYW0ge3N0cmluZ30gW3JlbGF0aW9uPSchPSddICAgICAgICAgIE9wdGlvbmFsIHJlbGF0aW9uIGJldHdlZW4gYWN0dWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBleHBlY3RlZCBzaXplOiAnIT0nLCAnPCcsIGV0Yy5cbiAqIEBleHRlbmRzIFJhbmdlRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIERpbWVuc2lvbkVycm9yKGFjdHVhbCwgZXhwZWN0ZWQsIHJlbGF0aW9uKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEaW1lbnNpb25FcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICB9XG5cbiAgdGhpcy5hY3R1YWwgPSBhY3R1YWw7XG4gIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgdGhpcy5yZWxhdGlvbiA9IHJlbGF0aW9uO1xuICB0aGlzLm1lc3NhZ2UgPSAnRGltZW5zaW9uIG1pc21hdGNoICgnICsgKEFycmF5LmlzQXJyYXkoYWN0dWFsKSA/ICdbJyArIGFjdHVhbC5qb2luKCcsICcpICsgJ10nIDogYWN0dWFsKSArICcgJyArICh0aGlzLnJlbGF0aW9uIHx8ICchPScpICsgJyAnICsgKEFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpID8gJ1snICsgZXhwZWN0ZWQuam9pbignLCAnKSArICddJyA6IGV4cGVjdGVkKSArICcpJztcbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlID0gbmV3IFJhbmdlRXJyb3IoKTtcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlRXJyb3I7XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUubmFtZSA9ICdEaW1lbnNpb25FcnJvcic7XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUuaXNEaW1lbnNpb25FcnJvciA9IHRydWU7IiwiLyoqXG4gKiBDcmVhdGUgYSByYW5nZSBlcnJvciB3aXRoIHRoZSBtZXNzYWdlOlxuICogICAgICdJbmRleCBvdXQgb2YgcmFuZ2UgKGluZGV4IDwgbWluKSdcbiAqICAgICAnSW5kZXggb3V0IG9mIHJhbmdlIChpbmRleCA8IG1heCknXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICAgICBUaGUgYWN0dWFsIGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSAgIE1pbmltdW0gaW5kZXggKGluY2x1ZGVkKVxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhdICAgICBNYXhpbXVtIGluZGV4IChleGNsdWRlZClcbiAqIEBleHRlbmRzIFJhbmdlRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEluZGV4RXJyb3IoaW5kZXgsIG1pbiwgbWF4KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBJbmRleEVycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmluZGV4ID0gaW5kZXg7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhpcy5taW4gPSAwO1xuICAgIHRoaXMubWF4ID0gbWluO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWluID0gbWluO1xuICAgIHRoaXMubWF4ID0gbWF4O1xuICB9XG5cbiAgaWYgKHRoaXMubWluICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pbmRleCA8IHRoaXMubWluKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnIDwgJyArIHRoaXMubWluICsgJyknO1xuICB9IGVsc2UgaWYgKHRoaXMubWF4ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pbmRleCA+PSB0aGlzLm1heCkge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyA+ICcgKyAodGhpcy5tYXggLSAxKSArICcpJztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcpJztcbiAgfVxuXG4gIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn1cbkluZGV4RXJyb3IucHJvdG90eXBlID0gbmV3IFJhbmdlRXJyb3IoKTtcbkluZGV4RXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2VFcnJvcjtcbkluZGV4RXJyb3IucHJvdG90eXBlLm5hbWUgPSAnSW5kZXhFcnJvcic7XG5JbmRleEVycm9yLnByb3RvdHlwZS5pc0luZGV4RXJyb3IgPSB0cnVlOyIsImltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4vbnVtYmVyLmpzJztcbmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IEluZGV4RXJyb3IgfSBmcm9tICcuLi9lcnJvci9JbmRleEVycm9yLmpzJztcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzaXplIG9mIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkuXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0aGUgc2l6ZSBvZiB0aGUgZmlyc3QgZW50cnksIGl0IGRvZXMgbm90IHZhbGlkYXRlXG4gKiB3aGV0aGVyIGFsbCBkaW1lbnNpb25zIG1hdGNoLiAodXNlIGZ1bmN0aW9uIGB2YWxpZGF0ZWAgZm9yIHRoYXQpXG4gKiBAcGFyYW0ge0FycmF5fSB4XG4gKiBAUmV0dXJuIHtOdW1iZXJbXX0gc2l6ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVNpemUoeCkge1xuICB2YXIgcyA9IFtdO1xuXG4gIHdoaWxlIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcy5wdXNoKHgubGVuZ3RoKTtcbiAgICB4ID0geFswXTtcbiAgfVxuXG4gIHJldHVybiBzO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSB2YWxpZGF0ZSB3aGV0aGVyIGVhY2ggZWxlbWVudCBpbiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBoYXMgYSBzaXplIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3ZpZGVkIHNpemUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICBBcnJheSB0byBiZSB2YWxpZGF0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgIEFycmF5IHdpdGggdGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gICBDdXJyZW50IGRpbWVuc2lvblxuICogQHRocm93cyBEaW1lbnNpb25FcnJvclxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfdmFsaWRhdGUoYXJyYXksIHNpemUsIGRpbSkge1xuICB2YXIgaTtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAobGVuICE9PSBzaXplW2RpbV0pIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IobGVuLCBzaXplW2RpbV0pO1xuICB9XG5cbiAgaWYgKGRpbSA8IHNpemUubGVuZ3RoIC0gMSkge1xuICAgIC8vIHJlY3Vyc2l2ZWx5IHZhbGlkYXRlIGVhY2ggY2hpbGQgYXJyYXlcbiAgICB2YXIgZGltTmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCAtIDEsIHNpemUubGVuZ3RoLCAnPCcpO1xuICAgICAgfVxuXG4gICAgICBfdmFsaWRhdGUoYXJyYXlbaV0sIHNpemUsIGRpbU5leHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBsYXN0IGRpbWVuc2lvbi4gbm9uZSBvZiB0aGUgY2hpbGRzIG1heSBiZSBhbiBhcnJheVxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlbaV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCArIDEsIHNpemUubGVuZ3RoLCAnPicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBWYWxpZGF0ZSB3aGV0aGVyIGVhY2ggZWxlbWVudCBpbiBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5IGhhc1xuICogYSBzaXplIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3ZpZGVkIHNpemUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICBBcnJheSB0byBiZSB2YWxpZGF0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgIEFycmF5IHdpdGggdGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb25cbiAqIEB0aHJvd3MgRGltZW5zaW9uRXJyb3JcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShhcnJheSwgc2l6ZSkge1xuICB2YXIgaXNTY2FsYXIgPSBzaXplLmxlbmd0aCA9PT0gMDtcblxuICBpZiAoaXNTY2FsYXIpIHtcbiAgICAvLyBzY2FsYXJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhcnJheS5sZW5ndGgsIDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBhcnJheVxuICAgIF92YWxpZGF0ZShhcnJheSwgc2l6ZSwgMCk7XG4gIH1cbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGluZGV4IGlzIGFuIGludGVnZXIgbnVtYmVyIHdpdGggaW5kZXggPj0gMCBhbmQgaW5kZXggPCBsZW5ndGhcbiAqIHdoZW4gbGVuZ3RoIGlzIHByb3ZpZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggICAgWmVyby1iYXNlZCBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIExlbmd0aCBvZiB0aGUgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbmRleChpbmRleCwgbGVuZ3RoKSB7XG4gIGlmICghaXNOdW1iZXIoaW5kZXgpIHx8ICFpc0ludGVnZXIoaW5kZXgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyICh2YWx1ZTogJyArIGluZGV4ICsgJyknKTtcbiAgfVxuXG4gIGlmIChpbmRleCA8IDAgfHwgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgaW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEluZGV4RXJyb3IoaW5kZXgsIGxlbmd0aCk7XG4gIH1cbn1cbi8qKlxuICogUmVzaXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkuIFRoZSByZXNpemVkIGFycmF5IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICBBcnJheSB0byBiZSByZXNpemVkXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBzaXplIEFycmF5IHdpdGggdGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgVmFsdWUgdG8gYmUgZmlsbGVkIGluIGluIG5ldyBlbnRyaWVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6ZXJvIGJ5IGRlZmF1bHQuIFNwZWNpZnkgZm9yIGV4YW1wbGUgYG51bGxgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBjbGVhcmx5IHNlZSBlbnRyaWVzIHRoYXQgYXJlIG5vdCBleHBsaWNpdGx5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldC5cbiAqIEByZXR1cm4ge0FycmF5fSBhcnJheSAgICAgICAgIFRoZSByZXNpemVkIGFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZShhcnJheSwgc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBzY2FsYXJzLCBoYXZpbmcgc2l6ZT1bXSA/XG4gIC8vIGNoZWNrIHRoZSB0eXBlIG9mIHRoZSBhcmd1bWVudHNcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSB8fCAhQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoc2l6ZS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2l6aW5nIHRvIHNjYWxhciBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH0gLy8gY2hlY2sgd2hldGhlciBzaXplIGNvbnRhaW5zIHBvc2l0aXZlIGludGVnZXJzXG5cblxuICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHNpemUsIG11c3QgY29udGFpbiBwb3NpdGl2ZSBpbnRlZ2VycyAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICB9XG4gIH0pOyAvLyByZWN1cnNpdmVseSByZXNpemUgdGhlIGFycmF5XG5cbiAgdmFyIF9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDA7XG5cbiAgX3Jlc2l6ZShhcnJheSwgc2l6ZSwgMCwgX2RlZmF1bHRWYWx1ZSk7XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSByZXNpemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICBBcnJheSB0byBiZSByZXNpemVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgIEFycmF5IHdpdGggdGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gICAgICAgICAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgVmFsdWUgdG8gYmUgZmlsbGVkIGluIGluIG5ldyBlbnRyaWVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgYnkgZGVmYXVsdC5cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3Jlc2l6ZShhcnJheSwgc2l6ZSwgZGltLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIGk7XG4gIHZhciBlbGVtO1xuICB2YXIgb2xkTGVuID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgbmV3TGVuID0gc2l6ZVtkaW1dO1xuICB2YXIgbWluTGVuID0gTWF0aC5taW4ob2xkTGVuLCBuZXdMZW4pOyAvLyBhcHBseSBuZXcgbGVuZ3RoXG5cbiAgYXJyYXkubGVuZ3RoID0gbmV3TGVuO1xuXG4gIGlmIChkaW0gPCBzaXplLmxlbmd0aCAtIDEpIHtcbiAgICAvLyBub24tbGFzdCBkaW1lbnNpb25cbiAgICB2YXIgZGltTmV4dCA9IGRpbSArIDE7IC8vIHJlc2l6ZSBleGlzdGluZyBjaGlsZCBhcnJheXNcblxuICAgIGZvciAoaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgLy8gcmVzaXplIGNoaWxkIGFycmF5XG4gICAgICBlbGVtID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbGVtKSkge1xuICAgICAgICBlbGVtID0gW2VsZW1dOyAvLyBhZGQgYSBkaW1lbnNpb25cblxuICAgICAgICBhcnJheVtpXSA9IGVsZW07XG4gICAgICB9XG5cbiAgICAgIF9yZXNpemUoZWxlbSwgc2l6ZSwgZGltTmV4dCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9IC8vIGNyZWF0ZSBuZXcgY2hpbGQgYXJyYXlzXG5cblxuICAgIGZvciAoaSA9IG1pbkxlbjsgaSA8IG5ld0xlbjsgaSsrKSB7XG4gICAgICAvLyBnZXQgY2hpbGQgYXJyYXlcbiAgICAgIGVsZW0gPSBbXTtcbiAgICAgIGFycmF5W2ldID0gZWxlbTsgLy8gcmVzaXplIG5ldyBjaGlsZCBhcnJheVxuXG4gICAgICBfcmVzaXplKGVsZW0sIHNpemUsIGRpbU5leHQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxhc3QgZGltZW5zaW9uXG4gICAgLy8gcmVtb3ZlIGRpbWVuc2lvbnMgb2YgZXhpc3RpbmcgdmFsdWVzXG4gICAgZm9yIChpID0gMDsgaSA8IG1pbkxlbjsgaSsrKSB7XG4gICAgICB3aGlsZSAoQXJyYXkuaXNBcnJheShhcnJheVtpXSkpIHtcbiAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpXVswXTtcbiAgICAgIH1cbiAgICB9IC8vIGZpbGwgbmV3IGVsZW1lbnRzIHdpdGggdGhlIGRlZmF1bHQgdmFsdWVcblxuXG4gICAgZm9yIChpID0gbWluTGVuOyBpIDwgbmV3TGVuOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBSZS1zaGFwZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5IHRvIGZpdCB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgICAgICAgICBBcnJheSB0byBiZSByZXNoYXBlZFxuICogQHBhcmFtIHtBcnJheS48bnVtYmVyPn0gc2l6ZXMgIExpc3Qgb2Ygc2l6ZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXl9ICAgICAgICAgICAgICAgQXJyYXkgd2hvc2UgZGF0YSBoYXMgYmVlbiBmb3JtYXR0ZWQgdG8gZml0IHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKlxuICogQHRocm93cyB7RGltZW5zaW9uRXJyb3J9ICAgICAgIElmIHRoZSBwcm9kdWN0IG9mIHRoZSBuZXcgZGltZW5zaW9uIHNpemVzIGRvZXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgZXF1YWwgdGhhdCBvZiB0aGUgb2xkIG9uZXNcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNoYXBlKGFycmF5LCBzaXplcykge1xuICB2YXIgZmxhdEFycmF5ID0gZmxhdHRlbihhcnJheSk7XG4gIHZhciBuZXdBcnJheTtcblxuICBmdW5jdGlvbiBwcm9kdWN0KGFycikge1xuICAgIHJldHVybiBhcnIucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBwcmV2ICogY3Vycik7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFBcnJheS5pc0FycmF5KHNpemVzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoc2l6ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKDAsIHByb2R1Y3QoYXJyYXlTaXplKGFycmF5KSksICchPScpO1xuICB9XG5cbiAgdmFyIHRvdGFsU2l6ZSA9IDE7XG5cbiAgZm9yICh2YXIgc2l6ZUluZGV4ID0gMDsgc2l6ZUluZGV4IDwgc2l6ZXMubGVuZ3RoOyBzaXplSW5kZXgrKykge1xuICAgIHRvdGFsU2l6ZSAqPSBzaXplc1tzaXplSW5kZXhdO1xuICB9XG5cbiAgaWYgKGZsYXRBcnJheS5sZW5ndGggIT09IHRvdGFsU2l6ZSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihwcm9kdWN0KHNpemVzKSwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gIH1cblxuICB0cnkge1xuICAgIG5ld0FycmF5ID0gX3Jlc2hhcGUoZmxhdEFycmF5LCBzaXplcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIERpbWVuc2lvbkVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IocHJvZHVjdChzaXplcyksIHByb2R1Y3QoYXJyYXlTaXplKGFycmF5KSksICchPScpO1xuICAgIH1cblxuICAgIHRocm93IGU7XG4gIH1cblxuICByZXR1cm4gbmV3QXJyYXk7XG59XG4vKipcbiAqIEl0ZXJhdGl2ZWx5IHJlLXNoYXBlIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgdG8gZml0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICAgIEFycmF5IHRvIGJlIHJlc2hhcGVkXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBzaXplcyAgTGlzdCBvZiBzaXplcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheX0gICAgICAgICAgICAgICBBcnJheSB3aG9zZSBkYXRhIGhhcyBiZWVuIGZvcm1hdHRlZCB0byBmaXQgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqL1xuXG5mdW5jdGlvbiBfcmVzaGFwZShhcnJheSwgc2l6ZXMpIHtcbiAgLy8gdGVzdGluZyBpZiB0aGVyZSBhcmUgZW5vdWdoIGVsZW1lbnRzIGZvciB0aGUgcmVxdWVzdGVkIHNoYXBlXG4gIHZhciB0bXBBcnJheSA9IGFycmF5O1xuICB2YXIgdG1wQXJyYXkyOyAvLyBmb3IgZWFjaCBkaW1lbnNpb25zIHN0YXJ0aW5nIGJ5IHRoZSBsYXN0IG9uZSBhbmQgaWdub3JpbmcgdGhlIGZpcnN0IG9uZVxuXG4gIGZvciAodmFyIHNpemVJbmRleCA9IHNpemVzLmxlbmd0aCAtIDE7IHNpemVJbmRleCA+IDA7IHNpemVJbmRleC0tKSB7XG4gICAgdmFyIHNpemUgPSBzaXplc1tzaXplSW5kZXhdO1xuICAgIHRtcEFycmF5MiA9IFtdOyAvLyBhZ2dyZWdhdGUgdGhlIGVsZW1lbnRzIG9mIHRoZSBjdXJyZW50IHRtcEFycmF5IGluIGVsZW1lbnRzIG9mIHRoZSByZXF1ZXN0ZWQgc2l6ZVxuXG4gICAgdmFyIGxlbmd0aCA9IHRtcEFycmF5Lmxlbmd0aCAvIHNpemU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB0bXBBcnJheTIucHVzaCh0bXBBcnJheS5zbGljZShpICogc2l6ZSwgKGkgKyAxKSAqIHNpemUpKTtcbiAgICB9IC8vIHNldCBpdCBhcyB0aGUgbmV3IHRtcEFycmF5IGZvciB0aGUgbmV4dCBsb29wIHR1cm4gb3IgZm9yIHJldHVyblxuXG5cbiAgICB0bXBBcnJheSA9IHRtcEFycmF5MjtcbiAgfVxuXG4gIHJldHVybiB0bXBBcnJheTtcbn1cbi8qKlxuICogU3F1ZWV6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gW3NpemVdXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldHVybnMgdGhlIGFycmF5IGl0c2VsZlxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWVlemUoYXJyYXksIHNpemUpIHtcbiAgdmFyIHMgPSBzaXplIHx8IGFycmF5U2l6ZShhcnJheSk7IC8vIHNxdWVlemUgb3V0ZXIgZGltZW5zaW9uc1xuXG4gIHdoaWxlIChBcnJheS5pc0FycmF5KGFycmF5KSAmJiBhcnJheS5sZW5ndGggPT09IDEpIHtcbiAgICBhcnJheSA9IGFycmF5WzBdO1xuICAgIHMuc2hpZnQoKTtcbiAgfSAvLyBmaW5kIHRoZSBmaXJzdCBkaW1lbnNpb24gdG8gYmUgc3F1ZWV6ZWRcblxuXG4gIHZhciBkaW1zID0gcy5sZW5ndGg7XG5cbiAgd2hpbGUgKHNbZGltcyAtIDFdID09PSAxKSB7XG4gICAgZGltcy0tO1xuICB9IC8vIHNxdWVlemUgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgaWYgKGRpbXMgPCBzLmxlbmd0aCkge1xuICAgIGFycmF5ID0gX3NxdWVlemUoYXJyYXksIGRpbXMsIDApO1xuICAgIHMubGVuZ3RoID0gZGltcztcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgc3F1ZWV6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgUmVxdWlyZWQgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7QXJyYXkgfCAqfSBSZXR1cm5zIHRoZSBzcXVlZXplZCBhcnJheVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfc3F1ZWV6ZShhcnJheSwgZGltcywgZGltKSB7XG4gIHZhciBpLCBpaTtcblxuICBpZiAoZGltIDwgZGltcykge1xuICAgIHZhciBuZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBfc3F1ZWV6ZShhcnJheVtpXSwgZGltcywgbmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgYXJyYXkgPSBhcnJheVswXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFVuc3F1ZWV6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5OiBhZGQgZGltZW5zaW9ucyB3aGVuIG1pc3NpbmdcbiAqXG4gKiBQYXJhbXRlciBgc2l6ZWAgd2lsbCBiZSBtdXRhdGVkIHRvIG1hdGNoIHRoZSBuZXcsIHVucXVlZXplZCBtYXRyaXggc2l6ZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgICAgICAgRGVzaXJlZCBudW1iZXIgb2YgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3V0ZXJdICAgIE51bWJlciBvZiBvdXRlciBkaW1lbnNpb25zIHRvIGJlIGFkZGVkXG4gKiBAcGFyYW0ge0FycmF5fSBbc2l6ZV0gQ3VycmVudCBzaXplIG9mIGFycmF5LlxuICogQHJldHVybnMge0FycmF5fSByZXR1cm5zIHRoZSBhcnJheSBpdHNlbGZcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gdW5zcXVlZXplKGFycmF5LCBkaW1zLCBvdXRlciwgc2l6ZSkge1xuICB2YXIgcyA9IHNpemUgfHwgYXJyYXlTaXplKGFycmF5KTsgLy8gdW5zcXVlZXplIG91dGVyIGRpbWVuc2lvbnNcblxuICBpZiAob3V0ZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG91dGVyOyBpKyspIHtcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcbiAgICAgIHMudW5zaGlmdCgxKTtcbiAgICB9XG4gIH0gLy8gdW5zcXVlZXplIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gIGFycmF5ID0gX3Vuc3F1ZWV6ZShhcnJheSwgZGltcywgMCk7XG5cbiAgd2hpbGUgKHMubGVuZ3RoIDwgZGltcykge1xuICAgIHMucHVzaCgxKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgdW5zcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyBSZXF1aXJlZCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheSB8ICp9IFJldHVybnMgdGhlIHNxdWVlemVkIGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF91bnNxdWVlemUoYXJyYXksIGRpbXMsIGRpbSkge1xuICB2YXIgaSwgaWk7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdmFyIG5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IF91bnNxdWVlemUoYXJyYXlbaV0sIGRpbXMsIG5leHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBkID0gZGltOyBkIDwgZGltczsgZCsrKSB7XG4gICAgICBhcnJheSA9IFthcnJheV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBGbGF0dGVuIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXksIHB1dCBhbGwgZWxlbWVudHMgaW4gYSBvbmUgZGltZW5zaW9uYWxcbiAqIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgIEEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgVGhlIGZsYXR0ZW5lZCBhcnJheSAoMSBkaW1lbnNpb25hbClcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAvLyBpZiBub3QgYW4gYXJyYXksIHJldHVybiBhcyBpc1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIHZhciBmbGF0ID0gW107XG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24gY2FsbGJhY2sodmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goY2FsbGJhY2spOyAvLyB0cmF2ZXJzZSB0aHJvdWdoIHN1Yi1hcnJheXMgcmVjdXJzaXZlbHlcbiAgICB9IGVsc2Uge1xuICAgICAgZmxhdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmxhdDtcbn1cbi8qKlxuICogQSBzYWZlIG1hcFxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcChhcnJheSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBBIHNhZmUgZm9yRWFjaFxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJyYXksIGNhbGxiYWNrKTtcbn1cbi8qKlxuICogQSBzYWZlIGZpbHRlclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihhcnJheSwgY2FsbGJhY2spIHtcbiAgaWYgKGFycmF5U2l6ZShhcnJheSkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBkaW1lbnNpb25hbCBtYXRyaWNlcyBzdXBwb3J0ZWQnKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIGNhbGxiYWNrKTtcbn1cbi8qKlxuICogRmlsdGVyIHZhbHVlcyBpbiBhIGNhbGxiYWNrIGdpdmVuIGEgcmVndWxhciBleHByZXNzaW9uXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cFxuICogQHJldHVybiB7QXJyYXl9IFJldHVybnMgdGhlIGZpbHRlcmVkIGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJSZWdFeHAoYXJyYXksIHJlZ2V4cCkge1xuICBpZiAoYXJyYXlTaXplKGFycmF5KS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGRpbWVuc2lvbmFsIG1hdHJpY2VzIHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgZW50cnkgPT4gcmVnZXhwLnRlc3QoZW50cnkpKTtcbn1cbi8qKlxuICogQSBzYWZlIGpvaW5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbn1cbi8qKlxuICogQXNzaWduIGEgbnVtZXJpYyBpZGVudGlmaWVyIHRvIGV2ZXJ5IGVsZW1lbnQgb2YgYSBzb3J0ZWQgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGEgIEFuIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIHRoZSBvcmlnaW5hbCB2YWx1ZSBhbmQgaXRzIGlkZW50aWZpZXJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpZnkoYSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBpbnB1dCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGEubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICB2YXIgYiA9IFtdO1xuICB2YXIgY291bnQgPSAwO1xuICBiWzBdID0ge1xuICAgIHZhbHVlOiBhWzBdLFxuICAgIGlkZW50aWZpZXI6IDBcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYVtpXSA9PT0gYVtpIC0gMV0pIHtcbiAgICAgIGNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG5cbiAgICBiLnB1c2goe1xuICAgICAgdmFsdWU6IGFbaV0sXG4gICAgICBpZGVudGlmaWVyOiBjb3VudFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGI7XG59XG4vKipcbiAqIFJlbW92ZSB0aGUgbnVtZXJpYyBpZGVudGlmaWVyIGZyb20gdGhlIGVsZW1lbnRzXG4gKiBAcGFyYW0ge2FycmF5fSBhICBBbiBhcnJheVxuICogQHJldHVybiB7YXJyYXl9IEFuIGFycmF5IG9mIHZhbHVlcyB3aXRob3V0IGlkZW50aWZpZXJzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYWxpemUoYSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBpbnB1dCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGEubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICB2YXIgYiA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGIucHVzaChhW2ldLnZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBiO1xufVxuLyoqXG4gKiBDaGVjayB0aGUgZGF0YXR5cGUgb2YgYSBnaXZlbiBvYmplY3RcbiAqIFRoaXMgaXMgYSBsb3cgbGV2ZWwgaW1wbGVtZW50YXRpb24gdGhhdCBzaG91bGQgb25seSBiZSB1c2VkIGJ5XG4gKiBwYXJlbnQgTWF0cml4IGNsYXNzZXMgc3VjaCBhcyBTcGFyc2VNYXRyaXggb3IgRGVuc2VNYXRyaXhcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHZhbGlkYXRlIEFycmF5IE1hdHJpeCBzaGFwZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHR5cGVPZiAgIENhbGxiYWNrIGZ1bmN0aW9uIHRvIHVzZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgYSB2YWx1ZVxuICogQHJldHVybiBzdHJpbmdcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlEYXRhVHlwZShhcnJheSwgdHlwZU9mKSB7XG4gIHZhciB0eXBlOyAvLyB0byBob2xkIHR5cGUgaW5mb1xuXG4gIHZhciBsZW5ndGggPSAwOyAvLyB0byBob2xkIGxlbmd0aCB2YWx1ZSB0byBlbnN1cmUgaXQgaGFzIGNvbnNpc3RlbnQgc2l6ZXNcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoaXRlbSk7IC8vIFNhdmluZyB0aGUgdGFyZ2V0IG1hdHJpeCByb3cgc2l6ZVxuXG4gICAgaWYgKGkgPT09IDAgJiYgaXNBcnJheSkge1xuICAgICAgbGVuZ3RoID0gaXRlbS5sZW5ndGg7XG4gICAgfSAvLyBJZiB0aGUgY3VycmVudCBpdGVtIGlzIGFuIGFycmF5IGJ1dCB0aGUgbGVuZ3RoIGRvZXMgbm90IGVxdWFsIHRoZSB0YXJnZXRWZWN0b3JTaXplXG5cblxuICAgIGlmIChpc0FycmF5ICYmIGl0ZW0ubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW1UeXBlID0gaXNBcnJheSA/IGdldEFycmF5RGF0YVR5cGUoaXRlbSwgdHlwZU9mKSAvLyByZWN1cnNlIGludG8gYSBuZXN0ZWQgYXJyYXlcbiAgICA6IHR5cGVPZihpdGVtKTtcblxuICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHR5cGUgPSBpdGVtVHlwZTsgLy8gZmlyc3QgaXRlbVxuICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gaXRlbVR5cGUpIHtcbiAgICAgIHJldHVybiAnbWl4ZWQnO1xuICAgIH0gZWxzZSB7Ly8gd2UncmUgZ29vZCwgZXZlcnl0aGluZyBoYXMgdGhlIHNhbWUgdHlwZSBzbyBmYXJcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHlwZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBsYXN0IGl0ZW0gZnJvbSBhbiBhcnJheVxuICogQHBhcmFtIGFycmF5XG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG59XG4vKipcbiAqIEdldCBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYXJyYXkuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LnNsaWNlKDAsIGFycmF5Lmxlbmd0aCAtIDEpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgb3Igc3RyaW5nIGNvbnRhaW5zIGFuIGl0ZW1cbiAqIEBwYXJhbSB7QXJyYXkgfCBzdHJpbmd9IGFycmF5XG4gKiBAcGFyYW0geyp9IGl0ZW1cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKGFycmF5LCBpdGVtKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn0iLCJpbXBvcnQgeyBjb250YWlucyB9IGZyb20gJy4vYXJyYXkuanMnO1xuaW1wb3J0IHsgcGlja1NoYWxsb3cgfSBmcm9tICcuL29iamVjdC5qcyc7XG4vKipcbiAqIENyZWF0ZSBhIGZhY3RvcnkgZnVuY3Rpb24sIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGluamVjdCBkZXBlbmRlbmNpZXMuXG4gKlxuICogVGhlIGNyZWF0ZWQgZnVuY3Rpb25zIGFyZSBtZW1vaXplZCwgYSBjb25zZWN1dGl2ZSBjYWxsIG9mIHRoZSBmYWN0b3J5XG4gKiB3aXRoIHRoZSBleGFjdCBzYW1lIGlucHV0cyB3aWxsIHJldHVybiB0aGUgc2FtZSBmdW5jdGlvbiBpbnN0YW5jZS5cbiAqIFRoZSBtZW1vaXplZCBjYWNoZSBpcyBleHBvc2VkIG9uIGBmYWN0b3J5LmNhY2hlYCBhbmQgY2FuIGJlIGNsZWFyZWRcbiAqIGlmIG5lZWRlZC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBjb25zdCBuYW1lID0gJ2xvZydcbiAqICAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBbJ2NvbmZpZycsICd0eXBlZCcsICdkaXZpZGVTY2FsYXInLCAnQ29tcGxleCddXG4gKlxuICogICAgIGV4cG9ydCBjb25zdCBjcmVhdGVMb2cgPSBmYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKHsgdHlwZWQsIGNvbmZpZywgZGl2aWRlU2NhbGFyLCBDb21wbGV4IH0pID0+IHtcbiAqICAgICAgIC8vIC4uLiBjcmVhdGUgdGhlIGZ1bmN0aW9uIGxvZyBoZXJlIGFuZCByZXR1cm4gaXRcbiAqICAgICB9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICAgICAgIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nW119IGRlcGVuZGVuY2llcyBUaGUgbmFtZXMgb2YgYWxsIHJlcXVpcmVkIGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY3JlYXRlICAgICAgIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIGFsbCBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbbWV0YV0gICAgICAgICBPcHRpb25hbCBvYmplY3Qgd2l0aCBtZXRhIGluZm9ybWF0aW9uIHRoYXQgd2lsbCBiZSBhdHRhY2hlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHRoZSBjcmVhdGVkIGZhY3RvcnkgZnVuY3Rpb24gYXMgcHJvcGVydHkgYG1ldGFgLlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgY3JlYXRlLCBtZXRhKSB7XG4gIGZ1bmN0aW9uIGFzc2VydEFuZENyZWF0ZShzY29wZSkge1xuICAgIC8vIHdlIG9ubHkgcGFzcyB0aGUgcmVxdWVzdGVkIGRlcGVuZGVuY2llcyB0byB0aGUgZmFjdG9yeSBmdW5jdGlvblxuICAgIC8vIHRvIHByZXZlbnQgZnVuY3Rpb25zIHRvIHJlbHkgb24gZGVwZW5kZW5jaWVzIHRoYXQgYXJlIG5vdCBleHBsaWNpdGx5XG4gICAgLy8gcmVxdWVzdGVkLlxuICAgIHZhciBkZXBzID0gcGlja1NoYWxsb3coc2NvcGUsIGRlcGVuZGVuY2llcy5tYXAoc3RyaXBPcHRpb25hbE5vdGF0aW9uKSk7XG4gICAgYXNzZXJ0RGVwZW5kZW5jaWVzKG5hbWUsIGRlcGVuZGVuY2llcywgc2NvcGUpO1xuICAgIHJldHVybiBjcmVhdGUoZGVwcyk7XG4gIH1cblxuICBhc3NlcnRBbmRDcmVhdGUuaXNGYWN0b3J5ID0gdHJ1ZTtcbiAgYXNzZXJ0QW5kQ3JlYXRlLmZuID0gbmFtZTtcbiAgYXNzZXJ0QW5kQ3JlYXRlLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5zbGljZSgpLnNvcnQoKTtcblxuICBpZiAobWV0YSkge1xuICAgIGFzc2VydEFuZENyZWF0ZS5tZXRhID0gbWV0YTtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRBbmRDcmVhdGU7XG59XG4vKipcbiAqIFNvcnQgYWxsIGZhY3RvcmllcyBzdWNoIHRoYXQgd2hlbiBsb2FkaW5nIGluIG9yZGVyLCB0aGUgZGVwZW5kZW5jaWVzIGFyZSByZXNvbHZlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBmYWN0b3JpZXNcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIHRoZSBzb3J0ZWQgZmFjdG9yaWVzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0RmFjdG9yaWVzKGZhY3Rvcmllcykge1xuICB2YXIgZmFjdG9yaWVzQnlOYW1lID0ge307XG4gIGZhY3Rvcmllcy5mb3JFYWNoKGZhY3RvcnkgPT4ge1xuICAgIGZhY3Rvcmllc0J5TmFtZVtmYWN0b3J5LmZuXSA9IGZhY3Rvcnk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNvbnRhaW5zRGVwZW5kZW5jeShmYWN0b3J5LCBkZXBlbmRlbmN5KSB7XG4gICAgLy8gVE9ETzogZGV0ZWN0IGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAgICBpZiAoaXNGYWN0b3J5KGZhY3RvcnkpKSB7XG4gICAgICBpZiAoY29udGFpbnMoZmFjdG9yeS5kZXBlbmRlbmNpZXMsIGRlcGVuZGVuY3kuZm4gfHwgZGVwZW5kZW5jeS5uYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhY3RvcnkuZGVwZW5kZW5jaWVzLnNvbWUoZCA9PiBjb250YWluc0RlcGVuZGVuY3koZmFjdG9yaWVzQnlOYW1lW2RdLCBkZXBlbmRlbmN5KSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHNvcnRlZCA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFkZEZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBzb3J0ZWQubGVuZ3RoICYmICFjb250YWluc0RlcGVuZGVuY3koc29ydGVkW2luZGV4XSwgZmFjdG9yeSkpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgc29ydGVkLnNwbGljZShpbmRleCwgMCwgZmFjdG9yeSk7XG4gIH0gLy8gc29ydCByZWd1bGFyIGZhY3RvcnkgZnVuY3Rpb25zXG5cblxuICBmYWN0b3JpZXMuZmlsdGVyKGlzRmFjdG9yeSkuZm9yRWFjaChhZGRGYWN0b3J5KTsgLy8gc29ydCBsZWdhY3kgZmFjdG9yeSBmdW5jdGlvbnMgQUZURVIgdGhlIHJlZ3VsYXIgZmFjdG9yeSBmdW5jdGlvbnNcblxuICBmYWN0b3JpZXMuZmlsdGVyKGZhY3RvcnkgPT4gIWlzRmFjdG9yeShmYWN0b3J5KSkuZm9yRWFjaChhZGRGYWN0b3J5KTtcbiAgcmV0dXJuIHNvcnRlZDtcbn0gLy8gVE9ETzogY29tbWVudCBvciBjbGVhbnVwIGlmIHVudXNlZCBpbiB0aGUgZW5kXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZmFjdG9yaWVzKSB7XG4gIHZhciBzY29wZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHNvcnRGYWN0b3JpZXMoZmFjdG9yaWVzKS5mb3JFYWNoKGZhY3RvcnkgPT4gZmFjdG9yeShzY29wZSkpO1xuICByZXR1cm4gc2NvcGU7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBvYmplY3QgaXMgYSBmYWN0b3J5LiBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gaXQgaGFzXG4gKiBwcm9wZXJ0aWVzIG5hbWUsIGRlcGVuZGVuY2llcywgYW5kIGEgZnVuY3Rpb24gY3JlYXRlLlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZhY3Rvcnkob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouZm4gPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkob2JqLmRlcGVuZGVuY2llcyk7XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgb2YgYSBsaXN0IHdpdGggZGVwZW5kZW5jaWVzIGFyZSBhdmFpbGFibGUgaW4gdGhlIHByb3ZpZGVkIHNjb3BlLlxuICpcbiAqIFdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIHdoZW4gdGhlcmUgYXJlIGRlcGVuZGVuY2llcyBtaXNzaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgTmFtZSBmb3IgdGhlIGZ1bmN0aW9uIHRvIGJlIGNyZWF0ZWQuIFVzZWQgdG8gZ2VuZXJhdGUgYSB1c2VmdWwgZXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gc2NvcGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVwZW5kZW5jaWVzKG5hbWUsIGRlcGVuZGVuY2llcywgc2NvcGUpIHtcbiAgdmFyIGFsbERlZmluZWQgPSBkZXBlbmRlbmNpZXMuZmlsdGVyKGRlcGVuZGVuY3kgPT4gIWlzT3B0aW9uYWxEZXBlbmRlbmN5KGRlcGVuZGVuY3kpKSAvLyBmaWx0ZXIgb3B0aW9uYWxzXG4gIC5ldmVyeShkZXBlbmRlbmN5ID0+IHNjb3BlW2RlcGVuZGVuY3ldICE9PSB1bmRlZmluZWQpO1xuXG4gIGlmICghYWxsRGVmaW5lZCkge1xuICAgIHZhciBtaXNzaW5nRGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmZpbHRlcihkZXBlbmRlbmN5ID0+IHNjb3BlW2RlcGVuZGVuY3ldID09PSB1bmRlZmluZWQpOyAvLyBUT0RPOiBjcmVhdGUgYSBjdXN0b20gZXJyb3IgY2xhc3MgZm9yIHRoaXMsIGEgTWF0aGpzRXJyb3Igb3Igc29tZXRoaW5nIGxpa2UgdGhhdFxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBmdW5jdGlvbiBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiwgXCIpICsgXCJzb21lIGRlcGVuZGVuY2llcyBhcmUgbWlzc2luZzogXCIuY29uY2F0KG1pc3NpbmdEZXBlbmRlbmNpZXMubWFwKGQgPT4gXCJcXFwiXCIuY29uY2F0KGQsIFwiXFxcIlwiKSkuam9pbignLCAnKSwgXCIuXCIpKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT3B0aW9uYWxEZXBlbmRlbmN5KGRlcGVuZGVuY3kpIHtcbiAgcmV0dXJuIGRlcGVuZGVuY3kgJiYgZGVwZW5kZW5jeVswXSA9PT0gJz8nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwT3B0aW9uYWxOb3RhdGlvbihkZXBlbmRlbmN5KSB7XG4gIHJldHVybiBkZXBlbmRlbmN5ICYmIGRlcGVuZGVuY3lbMF0gPT09ICc/JyA/IGRlcGVuZGVuY3kuc2xpY2UoMSkgOiBkZXBlbmRlbmN5O1xufSIsIi8qKlxuICogQ3JlYXRlIGEgdHlwZWQtZnVuY3Rpb24gd2hpY2ggY2hlY2tzIHRoZSB0eXBlcyBvZiB0aGUgYXJndW1lbnRzIGFuZFxuICogY2FuIG1hdGNoIHRoZW0gYWdhaW5zdCBtdWx0aXBsZSBwcm92aWRlZCBzaWduYXR1cmVzLiBUaGUgdHlwZWQtZnVuY3Rpb25cbiAqIGF1dG9tYXRpY2FsbHkgY29udmVydHMgaW5wdXRzIGluIG9yZGVyIHRvIGZpbmQgYSBtYXRjaGluZyBzaWduYXR1cmUuXG4gKiBUeXBlZCBmdW5jdGlvbnMgdGhyb3cgaW5mb3JtYXRpdmUgZXJyb3JzIGluIGNhc2Ugb2Ygd3JvbmcgaW5wdXQgYXJndW1lbnRzLlxuICpcbiAqIFNlZSB0aGUgbGlicmFyeSBbdHlwZWQtZnVuY3Rpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvdHlwZWQtZnVuY3Rpb24pXG4gKiBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiBTeW50YXg6XG4gKlxuICogICAgIG1hdGgudHlwZWQobmFtZSwgc2lnbmF0dXJlcykgOiBmdW5jdGlvblxuICogICAgIG1hdGgudHlwZWQoc2lnbmF0dXJlcykgOiBmdW5jdGlvblxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAvLyBjcmVhdGUgYSB0eXBlZCBmdW5jdGlvbiB3aXRoIG11bHRpcGxlIHR5cGVzIHBlciBhcmd1bWVudCAodHlwZSB1bmlvbilcbiAqICAgICBjb25zdCBmbjIgPSB0eXBlZCh7XG4gKiAgICAgICAnbnVtYmVyIHwgYm9vbGVhbic6IGZ1bmN0aW9uIChiKSB7XG4gKiAgICAgICAgIHJldHVybiAnYiBpcyBhIG51bWJlciBvciBib29sZWFuJ1xuICogICAgICAgfSxcbiAqICAgICAgICdzdHJpbmcsIG51bWJlciB8IGJvb2xlYW4nOiBmdW5jdGlvbiAoYSwgYikge1xuICogICAgICAgICByZXR1cm4gJ2EgaXMgYSBzdHJpbmcsIGIgaXMgYSBudW1iZXIgb3IgYm9vbGVhbidcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICpcbiAqICAgICAvLyBjcmVhdGUgYSB0eXBlZCBmdW5jdGlvbiB3aXRoIGFuIGFueSB0eXBlIGFyZ3VtZW50XG4gKiAgICAgY29uc3QgbG9nID0gdHlwZWQoe1xuICogICAgICAgJ3N0cmluZywgYW55JzogZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKCdldmVudDogJyArIGV2ZW50ICsgJywgZGF0YTogJyArIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICogICAgICAgfVxuICogICAgIH0pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uYWwgbmFtZSBmb3IgdGhlIHR5cGVkLWZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGZ1bmN0aW9uPn0gc2lnbmF0dXJlcyAgIE9iamVjdCB3aXRoIG9uZSBvciBtdWx0aXBsZSBmdW5jdGlvbiBzaWduYXR1cmVzXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IFRoZSBjcmVhdGVkIHR5cGVkLWZ1bmN0aW9uLlxuICovXG5pbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNBcnJheSwgaXNBcnJheU5vZGUsIGlzQXNzaWdubWVudE5vZGUsIGlzQmlnTnVtYmVyLCBpc0Jsb2NrTm9kZSwgaXNCb29sZWFuLCBpc0NoYWluLCBpc0NvbXBsZXgsIGlzQ29uZGl0aW9uYWxOb2RlLCBpc0NvbnN0YW50Tm9kZSwgaXNEYXRlLCBpc0RlbnNlTWF0cml4LCBpc0ZyYWN0aW9uLCBpc0Z1bmN0aW9uLCBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUsIGlzRnVuY3Rpb25Ob2RlLCBpc0hlbHAsIGlzSW5kZXgsIGlzSW5kZXhOb2RlLCBpc01hdHJpeCwgaXNOb2RlLCBpc051bGwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNPYmplY3ROb2RlLCBpc09wZXJhdG9yTm9kZSwgaXNQYXJlbnRoZXNpc05vZGUsIGlzUmFuZ2UsIGlzUmFuZ2VOb2RlLCBpc1JlZ0V4cCwgaXNSZXN1bHRTZXQsIGlzU3BhcnNlTWF0cml4LCBpc1N0cmluZywgaXNTeW1ib2xOb2RlLCBpc1VuZGVmaW5lZCwgaXNVbml0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHR5cGVkRnVuY3Rpb24gZnJvbSAndHlwZWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgZGlnaXRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJzsgLy8gcmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiB0eXBlZC1mdW5jdGlvblxuXG52YXIgX2NyZWF0ZVR5cGVkMiA9IGZ1bmN0aW9uIF9jcmVhdGVUeXBlZCgpIHtcbiAgLy8gaW5pdGlhbGx5LCByZXR1cm4gdGhlIG9yaWdpbmFsIGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG4gIC8vIGNvbnNlY3V0aXZlbHksIHJldHVybiBhIG5ldyBpbnN0YW5jZSBmcm9tIHR5cGVkLmNyZWF0ZS5cbiAgX2NyZWF0ZVR5cGVkMiA9IHR5cGVkRnVuY3Rpb24uY3JlYXRlO1xuICByZXR1cm4gdHlwZWRGdW5jdGlvbjtcbn07XG5cbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9CaWdOdW1iZXInLCAnP0NvbXBsZXgnLCAnP0RlbnNlTWF0cml4JywgJz9GcmFjdGlvbiddO1xuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyB0eXBlZCBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9IGRlcGVuZGVuY2llcyAgIE9iamVjdCB3aXRoIGRhdGEgdHlwZXMgbGlrZSBDb21wbGV4IGFuZCBCaWdOdW1iZXJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZVR5cGVkID0gLyogI19fUFVSRV9fICovZmFjdG9yeSgndHlwZWQnLCBkZXBlbmRlbmNpZXMsIGZ1bmN0aW9uIGNyZWF0ZVR5cGVkKF9yZWYpIHtcbiAgdmFyIHtcbiAgICBCaWdOdW1iZXIsXG4gICAgQ29tcGxleCxcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBGcmFjdGlvblxuICB9ID0gX3JlZjtcblxuICAvLyBUT0RPOiB0eXBlZC1mdW5jdGlvbiBtdXN0IGJlIGFibGUgdG8gc2lsZW50bHkgaWdub3JlIHNpZ25hdHVyZXMgd2l0aCB1bmtub3duIGRhdGEgdHlwZXNcbiAgLy8gZ2V0IGEgbmV3IGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG4gIHZhciB0eXBlZCA9IF9jcmVhdGVUeXBlZDIoKTsgLy8gZGVmaW5lIGFsbCB0eXBlcy4gVGhlIG9yZGVyIG9mIHRoZSB0eXBlcyBkZXRlcm1pbmVzIGluIHdoaWNoIG9yZGVyIGZ1bmN0aW9uXG4gIC8vIGFyZ3VtZW50cyBhcmUgdHlwZS1jaGVja2VkIChzbyBmb3IgcGVyZm9ybWFuY2UgaXQncyBpbXBvcnRhbnQgdG8gcHV0IHRoZVxuICAvLyBtb3N0IHVzZWQgdHlwZXMgZmlyc3QpLlxuXG5cbiAgdHlwZWQudHlwZXMgPSBbe1xuICAgIG5hbWU6ICdudW1iZXInLFxuICAgIHRlc3Q6IGlzTnVtYmVyXG4gIH0sIHtcbiAgICBuYW1lOiAnQ29tcGxleCcsXG4gICAgdGVzdDogaXNDb21wbGV4XG4gIH0sIHtcbiAgICBuYW1lOiAnQmlnTnVtYmVyJyxcbiAgICB0ZXN0OiBpc0JpZ051bWJlclxuICB9LCB7XG4gICAgbmFtZTogJ0ZyYWN0aW9uJyxcbiAgICB0ZXN0OiBpc0ZyYWN0aW9uXG4gIH0sIHtcbiAgICBuYW1lOiAnVW5pdCcsXG4gICAgdGVzdDogaXNVbml0XG4gIH0sIHtcbiAgICBuYW1lOiAnc3RyaW5nJyxcbiAgICB0ZXN0OiBpc1N0cmluZ1xuICB9LCB7XG4gICAgbmFtZTogJ0NoYWluJyxcbiAgICB0ZXN0OiBpc0NoYWluXG4gIH0sIHtcbiAgICBuYW1lOiAnQXJyYXknLFxuICAgIHRlc3Q6IGlzQXJyYXlcbiAgfSwge1xuICAgIG5hbWU6ICdNYXRyaXgnLFxuICAgIHRlc3Q6IGlzTWF0cml4XG4gIH0sIHtcbiAgICBuYW1lOiAnRGVuc2VNYXRyaXgnLFxuICAgIHRlc3Q6IGlzRGVuc2VNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdTcGFyc2VNYXRyaXgnLFxuICAgIHRlc3Q6IGlzU3BhcnNlTWF0cml4XG4gIH0sIHtcbiAgICBuYW1lOiAnUmFuZ2UnLFxuICAgIHRlc3Q6IGlzUmFuZ2VcbiAgfSwge1xuICAgIG5hbWU6ICdJbmRleCcsXG4gICAgdGVzdDogaXNJbmRleFxuICB9LCB7XG4gICAgbmFtZTogJ2Jvb2xlYW4nLFxuICAgIHRlc3Q6IGlzQm9vbGVhblxuICB9LCB7XG4gICAgbmFtZTogJ1Jlc3VsdFNldCcsXG4gICAgdGVzdDogaXNSZXN1bHRTZXRcbiAgfSwge1xuICAgIG5hbWU6ICdIZWxwJyxcbiAgICB0ZXN0OiBpc0hlbHBcbiAgfSwge1xuICAgIG5hbWU6ICdmdW5jdGlvbicsXG4gICAgdGVzdDogaXNGdW5jdGlvblxuICB9LCB7XG4gICAgbmFtZTogJ0RhdGUnLFxuICAgIHRlc3Q6IGlzRGF0ZVxuICB9LCB7XG4gICAgbmFtZTogJ1JlZ0V4cCcsXG4gICAgdGVzdDogaXNSZWdFeHBcbiAgfSwge1xuICAgIG5hbWU6ICdudWxsJyxcbiAgICB0ZXN0OiBpc051bGxcbiAgfSwge1xuICAgIG5hbWU6ICd1bmRlZmluZWQnLFxuICAgIHRlc3Q6IGlzVW5kZWZpbmVkXG4gIH0sIHtcbiAgICBuYW1lOiAnQWNjZXNzb3JOb2RlJyxcbiAgICB0ZXN0OiBpc0FjY2Vzc29yTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0FycmF5Tm9kZScsXG4gICAgdGVzdDogaXNBcnJheU5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdBc3NpZ25tZW50Tm9kZScsXG4gICAgdGVzdDogaXNBc3NpZ25tZW50Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Jsb2NrTm9kZScsXG4gICAgdGVzdDogaXNCbG9ja05vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdDb25kaXRpb25hbE5vZGUnLFxuICAgIHRlc3Q6IGlzQ29uZGl0aW9uYWxOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQ29uc3RhbnROb2RlJyxcbiAgICB0ZXN0OiBpc0NvbnN0YW50Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Z1bmN0aW9uTm9kZScsXG4gICAgdGVzdDogaXNGdW5jdGlvbk5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdJbmRleE5vZGUnLFxuICAgIHRlc3Q6IGlzSW5kZXhOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnTm9kZScsXG4gICAgdGVzdDogaXNOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnT2JqZWN0Tm9kZScsXG4gICAgdGVzdDogaXNPYmplY3ROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnT3BlcmF0b3JOb2RlJyxcbiAgICB0ZXN0OiBpc09wZXJhdG9yTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1BhcmVudGhlc2lzTm9kZScsXG4gICAgdGVzdDogaXNQYXJlbnRoZXNpc05vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdSYW5nZU5vZGUnLFxuICAgIHRlc3Q6IGlzUmFuZ2VOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnU3ltYm9sTm9kZScsXG4gICAgdGVzdDogaXNTeW1ib2xOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnT2JqZWN0JyxcbiAgICB0ZXN0OiBpc09iamVjdFxuICB9IC8vIG9yZGVyICdPYmplY3QnIGxhc3QsIGl0IG1hdGNoZXMgb24gb3RoZXIgY2xhc3NlcyB0b29cbiAgXTtcbiAgdHlwZWQuY29udmVyc2lvbnMgPSBbe1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnQmlnTnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQmlnTnVtYmVyKSB7XG4gICAgICAgIHRocm93Tm9CaWdudW1iZXIoeCk7XG4gICAgICB9IC8vIG5vdGU6IGNvbnZlcnNpb24gZnJvbSBudW1iZXIgdG8gQmlnTnVtYmVyIGNhbiBmYWlsIGlmIHggaGFzID4xNSBkaWdpdHNcblxuXG4gICAgICBpZiAoZGlnaXRzKHgpID4gMTUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGltcGxpY2l0bHkgY29udmVydCBhIG51bWJlciB3aXRoID4xNSBzaWduaWZpY2FudCBkaWdpdHMgdG8gQmlnTnVtYmVyICcgKyAnKHZhbHVlOiAnICsgeCArICcpLiAnICsgJ1VzZSBmdW5jdGlvbiBiaWdudW1iZXIoeCkgdG8gY29udmVydCB0byBCaWdOdW1iZXIuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnQ29tcGxleCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUNvbXBsZXgpIHtcbiAgICAgICAgdGhyb3dOb0NvbXBsZXgoeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ3N0cmluZycsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4geCArICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdCaWdOdW1iZXInLFxuICAgIHRvOiAnQ29tcGxleCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUNvbXBsZXgpIHtcbiAgICAgICAgdGhyb3dOb0NvbXBsZXgoeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LnRvTnVtYmVyKCksIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdGcmFjdGlvbicsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGltcGxpY2l0bHkgY29udmVydCBhIEZyYWN0aW9uIHRvIEJpZ051bWJlciBvciB2aWNlIHZlcnNhLiAnICsgJ1VzZSBmdW5jdGlvbiBiaWdudW1iZXIoeCkgdG8gY29udmVydCB0byBCaWdOdW1iZXIgb3IgZnJhY3Rpb24oeCkgdG8gY29udmVydCB0byBGcmFjdGlvbi4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnRnJhY3Rpb24nLFxuICAgIHRvOiAnQ29tcGxleCcsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUNvbXBsZXgpIHtcbiAgICAgICAgdGhyb3dOb0NvbXBsZXgoeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LnZhbHVlT2YoKSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGYgPSBuZXcgRnJhY3Rpb24oeCk7XG5cbiAgICAgIGlmIChmLnZhbHVlT2YoKSAhPT0geCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgbnVtYmVyIHRvIGEgRnJhY3Rpb24gd2hlbiB0aGVyZSB3aWxsIGJlIGEgbG9zcyBvZiBwcmVjaXNpb24gJyArICcodmFsdWU6ICcgKyB4ICsgJykuICcgKyAnVXNlIGZ1bmN0aW9uIGZyYWN0aW9uKHgpIHRvIGNvbnZlcnQgdG8gRnJhY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmO1xuICAgIH1cbiAgfSwge1xuICAgIC8vIEZJWE1FOiBhZGQgY29udmVyc2lvbiBmcm9tIEZyYWN0aW9uIHRvIG51bWJlciwgZm9yIGV4YW1wbGUgZm9yIGBzcXJ0KGZyYWN0aW9uKDEsMykpYFxuICAgIC8vICBmcm9tOiAnRnJhY3Rpb24nLFxuICAgIC8vICB0bzogJ251bWJlcicsXG4gICAgLy8gIGNvbnZlcnQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgLy8gICAgcmV0dXJuIHgudmFsdWVPZigpXG4gICAgLy8gIH1cbiAgICAvLyB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdudW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgdmFyIG4gPSBOdW1iZXIoeCk7XG5cbiAgICAgIGlmIChpc05hTihuKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gYSBudW1iZXInKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFCaWdOdW1iZXIpIHtcbiAgICAgICAgdGhyb3dOb0JpZ251bWJlcih4KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIEJpZ051bWJlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdzdHJpbmcnLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIEZyYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBDb21wbGV4Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnbnVtYmVyJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiAreDtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFCaWdOdW1iZXIpIHtcbiAgICAgICAgdGhyb3dOb0JpZ251bWJlcih4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoK3gpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKCt4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdzdHJpbmcnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuIFN0cmluZyh4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnQXJyYXknLFxuICAgIHRvOiAnTWF0cml4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KGFycmF5KSB7XG4gICAgICBpZiAoIURlbnNlTWF0cml4KSB7XG4gICAgICAgIHRocm93Tm9NYXRyaXgoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChhcnJheSk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ01hdHJpeCcsXG4gICAgdG86ICdBcnJheScsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydChtYXRyaXgpIHtcbiAgICAgIHJldHVybiBtYXRyaXgudmFsdWVPZigpO1xuICAgIH1cbiAgfV07XG4gIHJldHVybiB0eXBlZDtcbn0pO1xuXG5mdW5jdGlvbiB0aHJvd05vQmlnbnVtYmVyKHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBCaWdOdW1iZXI6IG5vIGNsYXNzICdCaWdOdW1iZXInIHByb3ZpZGVkXCIpKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb0NvbXBsZXgoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIENvbXBsZXggbnVtYmVyOiBubyBjbGFzcyAnQ29tcGxleCcgcHJvdmlkZWRcIikpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vTWF0cml4KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGFycmF5IGludG8gYSBNYXRyaXg6IG5vIGNsYXNzIFxcJ0RlbnNlTWF0cml4XFwnIHByb3ZpZGVkJyk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9GcmFjdGlvbih4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgRnJhY3Rpb24sIG5vIGNsYXNzICdGcmFjdGlvbicgcHJvdmlkZWQuXCIpKTtcbn0iLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdSZXN1bHRTZXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVSZXN1bHRTZXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQSBSZXN1bHRTZXQgY29udGFpbnMgYSBsaXN0IG9yIHJlc3VsdHNcbiAgICogQGNsYXNzIFJlc3VsdFNldFxuICAgKiBAcGFyYW0ge0FycmF5fSBlbnRyaWVzXG4gICAqIEBjb25zdHJ1Y3RvciBSZXN1bHRTZXRcbiAgICovXG4gIGZ1bmN0aW9uIFJlc3VsdFNldChlbnRyaWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlc3VsdFNldCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRyaWVzID0gZW50cmllcyB8fCBbXTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBSZXN1bHRTZXQucHJvdG90eXBlLnR5cGUgPSAnUmVzdWx0U2V0JztcbiAgUmVzdWx0U2V0LnByb3RvdHlwZS5pc1Jlc3VsdFNldCA9IHRydWU7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhcnJheSB3aXRoIHJlc3VsdHMgaG9sZCBieSB0aGlzIFJlc3VsdFNldFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gZW50cmllc1xuICAgKi9cblxuICBSZXN1bHRTZXQucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllcztcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0cmluZ2lmaWVkIHJlc3VsdHMgb2YgdGhlIFJlc3VsdFNldFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0cmluZ1xuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdbJyArIHRoaXMuZW50cmllcy5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSZXN1bHRTZXRcIiwgXCJlbnRyaWVzXCI6IFsuLi5dfWBcbiAgICovXG5cblxuICBSZXN1bHRTZXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmVzdWx0U2V0JyxcbiAgICAgIGVudHJpZXM6IHRoaXMuZW50cmllc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFJlc3VsdFNldCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlc3VsdFNldFwiLCBcImVudHJpZXNcIjogWy4uLl19YFxuICAgKiBAcmV0dXJuIHtSZXN1bHRTZXR9XG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJlc3VsdFNldChqc29uLmVudHJpZXMpO1xuICB9O1xuXG4gIHJldHVybiBSZXN1bHRTZXQ7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qXHJcbiAqICBkZWNpbWFsLmpzIHYxMC4yLjFcclxuICogIEFuIGFyYml0cmFyeS1wcmVjaXNpb24gRGVjaW1hbCB0eXBlIGZvciBKYXZhU2NyaXB0LlxyXG4gKiAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvZGVjaW1hbC5qc1xyXG4gKiAgQ29weXJpZ2h0IChjKSAyMDIwIE1pY2hhZWwgTWNsYXVnaGxpbiA8TThjaDg4bEBnbWFpbC5jb20+XHJcbiAqICBNSVQgTGljZW5jZVxyXG4gKi9cclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgRURJVEFCTEUgREVGQVVMVFMgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuXHJcbiAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgbWFnbml0dWRlLlxyXG4gIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgYHRvRXhwTmVnYCwgYHRvRXhwUG9zYCwgYG1pbkVgIGFuZCBgbWF4RWAuXHJcbnZhciBFWFBfTElNSVQgPSA5ZTE1LCAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDllMTVcclxuXHJcbiAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgcHJlY2lzaW9uYCwgYW5kIG9uIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgYXJndW1lbnQgdG9cclxuICAvLyBgdG9EZWNpbWFsUGxhY2VzYCwgYHRvRXhwb25lbnRpYWxgLCBgdG9GaXhlZGAsIGB0b1ByZWNpc2lvbmAgYW5kIGB0b1NpZ25pZmljYW50RGlnaXRzYC5cclxuICBNQVhfRElHSVRTID0gMWU5LCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gMWU5XHJcblxyXG4gIC8vIEJhc2UgY29udmVyc2lvbiBhbHBoYWJldC5cclxuICBOVU1FUkFMUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJyxcclxuXHJcbiAgLy8gVGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIDEwICgxMDI1IGRpZ2l0cykuXHJcbiAgTE4xMCA9ICcyLjMwMjU4NTA5Mjk5NDA0NTY4NDAxNzk5MTQ1NDY4NDM2NDIwNzYwMTEwMTQ4ODYyODc3Mjk3NjAzMzMyNzkwMDk2NzU3MjYwOTY3NzM1MjQ4MDIzNTk5NzIwNTA4OTU5ODI5ODM0MTk2Nzc4NDA0MjI4NjI0ODYzMzQwOTUyNTQ2NTA4MjgwNjc1NjY2NjI4NzM2OTA5ODc4MTY4OTQ4MjkwNzIwODMyNTU1NDY4MDg0Mzc5OTg5NDgyNjIzMzE5ODUyODM5MzUwNTMwODk2NTM3NzczMjYyODg0NjE2MzM2NjIyMjI4NzY5ODIxOTg4Njc0NjU0MzY2NzQ3NDQwNDI0MzI3NDM2NTE1NTA0ODkzNDMxNDkzOTM5MTQ3OTYxOTQwNDQwMDIyMjEwNTEwMTcxNDE3NDgwMDM2ODgwODQwMTI2NDcwODA2ODU1Njc3NDMyMTYyMjgzNTUyMjAxMTQ4MDQ2NjM3MTU2NTkxMjEzNzM0NTA3NDc4NTY5NDc2ODM0NjM2MTY3OTIxMDE4MDY0NDUwNzA2NDgwMDAyNzc1MDI2ODQ5MTY3NDY1NTA1ODY4NTY5MzU2NzM0MjA2NzA1ODExMzY0MjkyMjQ1NTQ0MDU3NTg5MjU3MjQyMDgyNDEzMTQ2OTU2ODkwMTY3NTg5NDAyNTY3NzYzMTEzNTY5MTkyOTIwMzMzNzY1ODcxNDE2NjAyMzAxMDU3MDMwODk2MzQ1NzIwNzU0NDAzNzA4NDc0Njk5NDAxNjgyNjkyODI4MDg0ODExODQyODkzMTQ4NDg1MjQ5NDg2NDQ4NzE5Mjc4MDk2NzYyNzEyNzU3NzUzOTcwMjc2Njg2MDU5NTI0OTY3MTY2NzQxODM0ODU3MDQ0MjI1MDcxOTc5NjUwMDQ3MTQ5NTEwNTA0OTIyMTQ3NzY1Njc2MzY5Mzg2NjI5NzY5Nzk1MjIxMTA3MTgyNjQ1NDk3MzQ3NzI2NjI0MjU3MDk0MjkzMjI1ODI3OTg1MDI1ODU1MDk3ODUyNjUzODMyMDc2MDY3MjYzMTcxNjQzMDk1MDU5OTUwODc4MDc1MjM3MTAzMzMxMDExOTc4NTc1NDczMzE1NDE0MjE4MDg0Mjc1NDM4NjM1OTE3NzgxMTcwNTQzMDk4Mjc0ODIzODUwNDU2NDgwMTkwOTU2MTAyOTkyOTE4MjQzMTgyMzc1MjUzNTc3MDk3NTA1Mzk1NjUxODc2OTc1MTAzNzQ5NzA4ODg2OTIxODAyMDUxODkzMzk1MDcyMzg1MzkyMDUxNDQ2MzQxOTcyNjUyODcyODY5NjUxMTA4NjI1NzE0OTIxOTg4NDk5Nzg3NDg4NzM3NzEzNDU2ODYyMDkxNjcwNTgnLFxyXG5cclxuICAvLyBQaSAoMTAyNSBkaWdpdHMpLlxyXG4gIFBJID0gJzMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTAyODg0MTk3MTY5Mzk5Mzc1MTA1ODIwOTc0OTQ0NTkyMzA3ODE2NDA2Mjg2MjA4OTk4NjI4MDM0ODI1MzQyMTE3MDY3OTgyMTQ4MDg2NTEzMjgyMzA2NjQ3MDkzODQ0NjA5NTUwNTgyMjMxNzI1MzU5NDA4MTI4NDgxMTE3NDUwMjg0MTAyNzAxOTM4NTIxMTA1NTU5NjQ0NjIyOTQ4OTU0OTMwMzgxOTY0NDI4ODEwOTc1NjY1OTMzNDQ2MTI4NDc1NjQ4MjMzNzg2NzgzMTY1MjcxMjAxOTA5MTQ1NjQ4NTY2OTIzNDYwMzQ4NjEwNDU0MzI2NjQ4MjEzMzkzNjA3MjYwMjQ5MTQxMjczNzI0NTg3MDA2NjA2MzE1NTg4MTc0ODgxNTIwOTIwOTYyODI5MjU0MDkxNzE1MzY0MzY3ODkyNTkwMzYwMDExMzMwNTMwNTQ4ODIwNDY2NTIxMzg0MTQ2OTUxOTQxNTExNjA5NDMzMDU3MjcwMzY1NzU5NTkxOTUzMDkyMTg2MTE3MzgxOTMyNjExNzkzMTA1MTE4NTQ4MDc0NDYyMzc5OTYyNzQ5NTY3MzUxODg1NzUyNzI0ODkxMjI3OTM4MTgzMDExOTQ5MTI5ODMzNjczMzYyNDQwNjU2NjQzMDg2MDIxMzk0OTQ2Mzk1MjI0NzM3MTkwNzAyMTc5ODYwOTQzNzAyNzcwNTM5MjE3MTc2MjkzMTc2NzUyMzg0Njc0ODE4NDY3NjY5NDA1MTMyMDAwNTY4MTI3MTQ1MjYzNTYwODI3Nzg1NzcxMzQyNzU3Nzg5NjA5MTczNjM3MTc4NzIxNDY4NDQwOTAxMjI0OTUzNDMwMTQ2NTQ5NTg1MzcxMDUwNzkyMjc5Njg5MjU4OTIzNTQyMDE5OTU2MTEyMTI5MDIxOTYwODY0MDM0NDE4MTU5ODEzNjI5Nzc0NzcxMzA5OTYwNTE4NzA3MjExMzQ5OTk5OTk4MzcyOTc4MDQ5OTUxMDU5NzMxNzMyODE2MDk2MzE4NTk1MDI0NDU5NDU1MzQ2OTA4MzAyNjQyNTIyMzA4MjUzMzQ0Njg1MDM1MjYxOTMxMTg4MTcxMDEwMDAzMTM3ODM4NzUyODg2NTg3NTMzMjA4MzgxNDIwNjE3MTc3NjY5MTQ3MzAzNTk4MjUzNDkwNDI4NzU1NDY4NzMxMTU5NTYyODYzODgyMzUzNzg3NTkzNzUxOTU3NzgxODU3NzgwNTMyMTcxMjI2ODA2NjEzMDAxOTI3ODc2NjExMTk1OTA5MjE2NDIwMTk4OTM4MDk1MjU3MjAxMDY1NDg1ODYzMjc4OScsXHJcblxyXG5cclxuICAvLyBUaGUgaW5pdGlhbCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgb2YgdGhlIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbiAgREVGQVVMVFMgPSB7XHJcblxyXG4gICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBzdGF0ZWQgcmFuZ2VzIChpbmNsdXNpdmUpLlxyXG4gICAgLy8gTW9zdCBvZiB0aGVzZSB2YWx1ZXMgY2FuIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgdGhlIGBEZWNpbWFsLmNvbmZpZ2AgbWV0aG9kLlxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiBhIGNhbGN1bGF0aW9uIG9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgIC8vIEUuZy4gYERlY2ltYWwuY29uZmlnKHsgcHJlY2lzaW9uOiAyMCB9KTtgXHJcbiAgICBwcmVjaXNpb246IDIwLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWF9ESUdJVFNcclxuXHJcbiAgICAvLyBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gYHByZWNpc2lvbmAuXHJcbiAgICAvL1xyXG4gICAgLy8gUk9VTkRfVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgLy8gUk9VTkRfRE9XTiAgICAgICAxIFRvd2FyZHMgemVyby5cclxuICAgIC8vIFJPVU5EX0NFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIFJPVU5EX0ZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgIC8vIFJPVU5EX0hBTEZfVVAgICAgNCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdXAuXHJcbiAgICAvLyBST1VORF9IQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXHJcbiAgICAvLyBST1VORF9IQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAvLyBST1VORF9IQUxGX0NFSUwgIDcgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cclxuICAgIC8vXHJcbiAgICAvLyBFLmcuXHJcbiAgICAvLyBgRGVjaW1hbC5yb3VuZGluZyA9IDQ7YFxyXG4gICAgLy8gYERlY2ltYWwucm91bmRpbmcgPSBEZWNpbWFsLlJPVU5EX0hBTEZfVVA7YFxyXG4gICAgcm91bmRpbmc6IDQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgLy8gVGhlIG1vZHVsbyBtb2RlIHVzZWQgd2hlbiBjYWxjdWxhdGluZyB0aGUgbW9kdWx1czogYSBtb2Qgbi5cclxuICAgIC8vIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxyXG4gICAgLy8gVGhlIHJlbWFpbmRlciAocikgaXMgY2FsY3VsYXRlZCBhczogciA9IGEgLSBuICogcS5cclxuICAgIC8vXHJcbiAgICAvLyBVUCAgICAgICAgIDAgVGhlIHJlbWFpbmRlciBpcyBwb3NpdGl2ZSBpZiB0aGUgZGl2aWRlbmQgaXMgbmVnYXRpdmUsIGVsc2UgaXMgbmVnYXRpdmUuXHJcbiAgICAvLyBET1dOICAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQgKEphdmFTY3JpcHQgJSkuXHJcbiAgICAvLyBGTE9PUiAgICAgIDMgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aXNvciAoUHl0aG9uICUpLlxyXG4gICAgLy8gSEFMRl9FVkVOICA2IFRoZSBJRUVFIDc1NCByZW1haW5kZXIgZnVuY3Rpb24uXHJcbiAgICAvLyBFVUNMSUQgICAgIDkgRXVjbGlkaWFuIGRpdmlzaW9uLiBxID0gc2lnbihuKSAqIGZsb29yKGEgLyBhYnMobikpLiBBbHdheXMgcG9zaXRpdmUuXHJcbiAgICAvL1xyXG4gICAgLy8gVHJ1bmNhdGVkIGRpdmlzaW9uICgxKSwgZmxvb3JlZCBkaXZpc2lvbiAoMyksIHRoZSBJRUVFIDc1NCByZW1haW5kZXIgKDYpLCBhbmQgRXVjbGlkaWFuXHJcbiAgICAvLyBkaXZpc2lvbiAoOSkgYXJlIGNvbW1vbmx5IHVzZWQgZm9yIHRoZSBtb2R1bHVzIG9wZXJhdGlvbi4gVGhlIG90aGVyIHJvdW5kaW5nIG1vZGVzIGNhbiBhbHNvXHJcbiAgICAvLyBiZSB1c2VkLCBidXQgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXHJcbiAgICBtb2R1bG86IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDlcclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGJlbmVhdGggd2hpY2ggYHRvU3RyaW5nYCByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAtN1xyXG4gICAgdG9FeHBOZWc6IC03LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAtRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBhYm92ZSB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IDIxXHJcbiAgICB0b0V4cFBvczogIDIxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIEVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBtaW5pbXVtIGV4cG9uZW50IHZhbHVlLCBiZW5lYXRoIHdoaWNoIHVuZGVyZmxvdyB0byB6ZXJvIG9jY3Vycy5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogLTMyNCAgKDVlLTMyNClcclxuICAgIG1pbkU6IC1FWFBfTElNSVQsICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1FWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCB2YWx1ZSwgYWJvdmUgd2hpY2ggb3ZlcmZsb3cgdG8gSW5maW5pdHkgb2NjdXJzLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAzMDggICgxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOClcclxuICAgIG1heEU6IEVYUF9MSU1JVCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gV2hldGhlciB0byB1c2UgY3J5cHRvZ3JhcGhpY2FsbHktc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiwgaWYgYXZhaWxhYmxlLlxyXG4gICAgY3J5cHRvOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZS9mYWxzZVxyXG4gIH0sXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIE9GIEVESVRBQkxFIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4gIGluZXhhY3QsIHF1YWRyYW50LFxyXG4gIGV4dGVybmFsID0gdHJ1ZSxcclxuXHJcbiAgZGVjaW1hbEVycm9yID0gJ1tEZWNpbWFsRXJyb3JdICcsXHJcbiAgaW52YWxpZEFyZ3VtZW50ID0gZGVjaW1hbEVycm9yICsgJ0ludmFsaWQgYXJndW1lbnQ6ICcsXHJcbiAgcHJlY2lzaW9uTGltaXRFeGNlZWRlZCA9IGRlY2ltYWxFcnJvciArICdQcmVjaXNpb24gbGltaXQgZXhjZWVkZWQnLFxyXG4gIGNyeXB0b1VuYXZhaWxhYmxlID0gZGVjaW1hbEVycm9yICsgJ2NyeXB0byB1bmF2YWlsYWJsZScsXHJcblxyXG4gIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXHJcbiAgbWF0aHBvdyA9IE1hdGgucG93LFxyXG5cclxuICBpc0JpbmFyeSA9IC9eMGIoWzAxXSsoXFwuWzAxXSopP3xcXC5bMDFdKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gIGlzSGV4ID0gL14weChbMC05YS1mXSsoXFwuWzAtOWEtZl0qKT98XFwuWzAtOWEtZl0rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNPY3RhbCA9IC9eMG8oWzAtN10rKFxcLlswLTddKik/fFxcLlswLTddKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gIGlzRGVjaW1hbCA9IC9eKFxcZCsoXFwuXFxkKik/fFxcLlxcZCspKGVbKy1dP1xcZCspPyQvaSxcclxuXHJcbiAgQkFTRSA9IDFlNyxcclxuICBMT0dfQkFTRSA9IDcsXHJcbiAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXHJcblxyXG4gIExOMTBfUFJFQ0lTSU9OID0gTE4xMC5sZW5ndGggLSAxLFxyXG4gIFBJX1BSRUNJU0lPTiA9IFBJLmxlbmd0aCAtIDEsXHJcblxyXG4gIC8vIERlY2ltYWwucHJvdG90eXBlIG9iamVjdFxyXG4gIFAgPSB7IG5hbWU6ICdbb2JqZWN0IERlY2ltYWxdJyB9O1xyXG5cclxuXHJcbi8vIERlY2ltYWwgcHJvdG90eXBlIG1ldGhvZHNcclxuXHJcblxyXG4vKlxyXG4gKiAgYWJzb2x1dGVWYWx1ZSAgICAgICAgICAgICBhYnNcclxuICogIGNlaWxcclxuICogIGNvbXBhcmVkVG8gICAgICAgICAgICAgICAgY21wXHJcbiAqICBjb3NpbmUgICAgICAgICAgICAgICAgICAgIGNvc1xyXG4gKiAgY3ViZVJvb3QgICAgICAgICAgICAgICAgICBjYnJ0XHJcbiAqICBkZWNpbWFsUGxhY2VzICAgICAgICAgICAgIGRwXHJcbiAqICBkaXZpZGVkQnkgICAgICAgICAgICAgICAgIGRpdlxyXG4gKiAgZGl2aWRlZFRvSW50ZWdlckJ5ICAgICAgICBkaXZUb0ludFxyXG4gKiAgZXF1YWxzICAgICAgICAgICAgICAgICAgICBlcVxyXG4gKiAgZmxvb3JcclxuICogIGdyZWF0ZXJUaGFuICAgICAgICAgICAgICAgZ3RcclxuICogIGdyZWF0ZXJUaGFuT3JFcXVhbFRvICAgICAgZ3RlXHJcbiAqICBoeXBlcmJvbGljQ29zaW5lICAgICAgICAgIGNvc2hcclxuICogIGh5cGVyYm9saWNTaW5lICAgICAgICAgICAgc2luaFxyXG4gKiAgaHlwZXJib2xpY1RhbmdlbnQgICAgICAgICB0YW5oXHJcbiAqICBpbnZlcnNlQ29zaW5lICAgICAgICAgICAgIGFjb3NcclxuICogIGludmVyc2VIeXBlcmJvbGljQ29zaW5lICAgYWNvc2hcclxuICogIGludmVyc2VIeXBlcmJvbGljU2luZSAgICAgYXNpbmhcclxuICogIGludmVyc2VIeXBlcmJvbGljVGFuZ2VudCAgYXRhbmhcclxuICogIGludmVyc2VTaW5lICAgICAgICAgICAgICAgYXNpblxyXG4gKiAgaW52ZXJzZVRhbmdlbnQgICAgICAgICAgICBhdGFuXHJcbiAqICBpc0Zpbml0ZVxyXG4gKiAgaXNJbnRlZ2VyICAgICAgICAgICAgICAgICBpc0ludFxyXG4gKiAgaXNOYU5cclxuICogIGlzTmVnYXRpdmUgICAgICAgICAgICAgICAgaXNOZWdcclxuICogIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgaXNQb3NcclxuICogIGlzWmVyb1xyXG4gKiAgbGVzc1RoYW4gICAgICAgICAgICAgICAgICBsdFxyXG4gKiAgbGVzc1RoYW5PckVxdWFsVG8gICAgICAgICBsdGVcclxuICogIGxvZ2FyaXRobSAgICAgICAgICAgICAgICAgbG9nXHJcbiAqICBbbWF4aW11bV0gICAgICAgICAgICAgICAgIFttYXhdXHJcbiAqICBbbWluaW11bV0gICAgICAgICAgICAgICAgIFttaW5dXHJcbiAqICBtaW51cyAgICAgICAgICAgICAgICAgICAgIHN1YlxyXG4gKiAgbW9kdWxvICAgICAgICAgICAgICAgICAgICBtb2RcclxuICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICAgZXhwXHJcbiAqICBuYXR1cmFsTG9nYXJpdGhtICAgICAgICAgIGxuXHJcbiAqICBuZWdhdGVkICAgICAgICAgICAgICAgICAgIG5lZ1xyXG4gKiAgcGx1cyAgICAgICAgICAgICAgICAgICAgICBhZGRcclxuICogIHByZWNpc2lvbiAgICAgICAgICAgICAgICAgc2RcclxuICogIHJvdW5kXHJcbiAqICBzaW5lICAgICAgICAgICAgICAgICAgICAgIHNpblxyXG4gKiAgc3F1YXJlUm9vdCAgICAgICAgICAgICAgICBzcXJ0XHJcbiAqICB0YW5nZW50ICAgICAgICAgICAgICAgICAgIHRhblxyXG4gKiAgdGltZXMgICAgICAgICAgICAgICAgICAgICBtdWxcclxuICogIHRvQmluYXJ5XHJcbiAqICB0b0RlY2ltYWxQbGFjZXMgICAgICAgICAgIHRvRFBcclxuICogIHRvRXhwb25lbnRpYWxcclxuICogIHRvRml4ZWRcclxuICogIHRvRnJhY3Rpb25cclxuICogIHRvSGV4YWRlY2ltYWwgICAgICAgICAgICAgdG9IZXhcclxuICogIHRvTmVhcmVzdFxyXG4gKiAgdG9OdW1iZXJcclxuICogIHRvT2N0YWxcclxuICogIHRvUG93ZXIgICAgICAgICAgICAgICAgICAgcG93XHJcbiAqICB0b1ByZWNpc2lvblxyXG4gKiAgdG9TaWduaWZpY2FudERpZ2l0cyAgICAgICB0b1NEXHJcbiAqICB0b1N0cmluZ1xyXG4gKiAgdHJ1bmNhdGVkICAgICAgICAgICAgICAgICB0cnVuY1xyXG4gKiAgdmFsdWVPZiAgICAgICAgICAgICAgICAgICB0b0pTT05cclxuICovXHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XHJcbiAgaWYgKHgucyA8IDApIHgucyA9IDE7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciBpbiB0aGVcclxuICogZGlyZWN0aW9uIG9mIHBvc2l0aXZlIEluZmluaXR5LlxyXG4gKlxyXG4gKi9cclxuUC5jZWlsID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMik7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuXHJcbiAqICAgMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gKiAgLTEgICAgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCxcclxuICogICAwICAgIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcclxuICogICBOYU4gIGlmIHRoZSB2YWx1ZSBvZiBlaXRoZXIgRGVjaW1hbCBpcyBOYU4uXHJcbiAqXHJcbiAqL1xyXG5QLmNvbXBhcmVkVG8gPSBQLmNtcCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGksIGosIHhkTCwgeWRMLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIHlkID0gKHkgPSBuZXcgeC5jb25zdHJ1Y3Rvcih5KSkuZCxcclxuICAgIHhzID0geC5zLFxyXG4gICAgeXMgPSB5LnM7XHJcblxyXG4gIC8vIEVpdGhlciBOYU4gb3IgwrFJbmZpbml0eT9cclxuICBpZiAoIXhkIHx8ICF5ZCkge1xyXG4gICAgcmV0dXJuICF4cyB8fCAheXMgPyBOYU4gOiB4cyAhPT0geXMgPyB4cyA6IHhkID09PSB5ZCA/IDAgOiAheGQgXiB4cyA8IDAgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkgcmV0dXJuIHhkWzBdID8geHMgOiB5ZFswXSA/IC15cyA6IDA7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoeHMgIT09IHlzKSByZXR1cm4geHM7XHJcblxyXG4gIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gIGlmICh4LmUgIT09IHkuZSkgcmV0dXJuIHguZSA+IHkuZSBeIHhzIDwgMCA/IDEgOiAtMTtcclxuXHJcbiAgeGRMID0geGQubGVuZ3RoO1xyXG4gIHlkTCA9IHlkLmxlbmd0aDtcclxuXHJcbiAgLy8gQ29tcGFyZSBkaWdpdCBieSBkaWdpdC5cclxuICBmb3IgKGkgPSAwLCBqID0geGRMIDwgeWRMID8geGRMIDogeWRMOyBpIDwgajsgKytpKSB7XHJcbiAgICBpZiAoeGRbaV0gIT09IHlkW2ldKSByZXR1cm4geGRbaV0gPiB5ZFtpXSBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICB9XHJcblxyXG4gIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICByZXR1cm4geGRMID09PSB5ZEwgPyAwIDogeGRMID4geWRMIF4geHMgPCAwID8gMSA6IC0xO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjb3NpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy0xLCAxXVxyXG4gKlxyXG4gKiBjb3MoMCkgICAgICAgICA9IDFcclxuICogY29zKC0wKSAgICAgICAgPSAxXHJcbiAqIGNvcyhJbmZpbml0eSkgID0gTmFOXHJcbiAqIGNvcygtSW5maW5pdHkpID0gTmFOXHJcbiAqIGNvcyhOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmNvc2luZSA9IFAuY29zID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguZCkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gIC8vIGNvcygwKSA9IGNvcygtMCkgPSAxXHJcbiAgaWYgKCF4LmRbMF0pIHJldHVybiBuZXcgQ3RvcigxKTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIExPR19CQVNFO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0gY29zaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID09IDIgfHwgcXVhZHJhbnQgPT0gMyA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjdWJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiAgY2JydCgwKSAgPSAgMFxyXG4gKiAgY2JydCgtMCkgPSAtMFxyXG4gKiAgY2JydCgxKSAgPSAgMVxyXG4gKiAgY2JydCgtMSkgPSAtMVxyXG4gKiAgY2JydChOKSAgPSAgTlxyXG4gKiAgY2JydCgtSSkgPSAtSVxyXG4gKiAgY2JydChJKSAgPSAgSVxyXG4gKlxyXG4gKiBNYXRoLmNicnQoeCkgPSAoeCA8IDAgPyAtTWF0aC5wb3coLXgsIDEvMykgOiBNYXRoLnBvdyh4LCAxLzMpKVxyXG4gKlxyXG4gKi9cclxuUC5jdWJlUm9vdCA9IFAuY2JydCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgZSwgbSwgbiwgciwgcmVwLCBzLCBzZCwgdCwgdDMsIHQzcGx1c3gsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICBzID0geC5zICogbWF0aHBvdyh4LnMgKiB4LCAxIC8gMyk7XHJcblxyXG4gICAvLyBNYXRoLmNicnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gICAvLyBQYXNzIHggdG8gTWF0aC5wb3cgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgaWYgKCFzIHx8IE1hdGguYWJzKHMpID09IDEgLyAwKSB7XHJcbiAgICBuID0gZGlnaXRzVG9TdHJpbmcoeC5kKTtcclxuICAgIGUgPSB4LmU7XHJcblxyXG4gICAgLy8gQWRqdXN0IG4gZXhwb25lbnQgc28gaXQgaXMgYSBtdWx0aXBsZSBvZiAzIGF3YXkgZnJvbSB4IGV4cG9uZW50LlxyXG4gICAgaWYgKHMgPSAoZSAtIG4ubGVuZ3RoICsgMSkgJSAzKSBuICs9IChzID09IDEgfHwgcyA9PSAtMiA/ICcwJyA6ICcwMCcpO1xyXG4gICAgcyA9IG1hdGhwb3cobiwgMSAvIDMpO1xyXG5cclxuICAgIC8vIFJhcmVseSwgZSBtYXkgYmUgb25lIGxlc3MgdGhhbiB0aGUgcmVzdWx0IGV4cG9uZW50IHZhbHVlLlxyXG4gICAgZSA9IG1hdGhmbG9vcigoZSArIDEpIC8gMykgLSAoZSAlIDMgPT0gKGUgPCAwID8gLTEgOiAyKSk7XHJcblxyXG4gICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgIH1cclxuXHJcbiAgICByID0gbmV3IEN0b3Iobik7XHJcbiAgICByLnMgPSB4LnM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gIH1cclxuXHJcbiAgc2QgPSAoZSA9IEN0b3IucHJlY2lzaW9uKSArIDM7XHJcblxyXG4gIC8vIEhhbGxleSdzIG1ldGhvZC5cclxuICAvLyBUT0RPPyBDb21wYXJlIE5ld3RvbidzIG1ldGhvZC5cclxuICBmb3IgKDs7KSB7XHJcbiAgICB0ID0gcjtcclxuICAgIHQzID0gdC50aW1lcyh0KS50aW1lcyh0KTtcclxuICAgIHQzcGx1c3ggPSB0My5wbHVzKHgpO1xyXG4gICAgciA9IGRpdmlkZSh0M3BsdXN4LnBsdXMoeCkudGltZXModCksIHQzcGx1c3gucGx1cyh0MyksIHNkICsgMiwgMSk7XHJcblxyXG4gICAgLy8gVE9ETz8gUmVwbGFjZSB3aXRoIGZvci1sb29wIGFuZCBjaGVja1JvdW5kaW5nRGlnaXRzLlxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgc2QpID09PSAobiA9IGRpZ2l0c1RvU3RyaW5nKHIuZCkpLnNsaWNlKDAsIHNkKSkge1xyXG4gICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHMgYXJlIDk5OTkgb3IgNDk5OVxyXG4gICAgICAvLyAsIGkuZS4gYXBwcm9hY2hpbmcgYSByb3VuZGluZyBib3VuZGFyeSwgY29udGludWUgdGhlIGl0ZXJhdGlvbi5cclxuICAgICAgaWYgKG4gPT0gJzk5OTknIHx8ICFyZXAgJiYgbiA9PSAnNDk5OScpIHtcclxuXHJcbiAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlIGV4YWN0IHJlc3VsdCBhcyB0aGVcclxuICAgICAgICAvLyBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgaWYgKCFyZXApIHtcclxuICAgICAgICAgIGZpbmFsaXNlKHQsIGUgKyAxLCAwKTtcclxuXHJcbiAgICAgICAgICBpZiAodC50aW1lcyh0KS50aW1lcyh0KS5lcSh4KSkge1xyXG4gICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZCArPSA0O1xyXG4gICAgICAgIHJlcCA9IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgYW4gZXhhY3QgcmVzdWx0LlxyXG4gICAgICAgIC8vIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgZmluYWxpc2UociwgZSArIDEsIDEpO1xyXG4gICAgICAgICAgbSA9ICFyLnRpbWVzKHIpLnRpbWVzKHIpLmVxKHgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIGUsIEN0b3Iucm91bmRpbmcsIG0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqL1xyXG5QLmRlY2ltYWxQbGFjZXMgPSBQLmRwID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB3LFxyXG4gICAgZCA9IHRoaXMuZCxcclxuICAgIG4gPSBOYU47XHJcblxyXG4gIGlmIChkKSB7XHJcbiAgICB3ID0gZC5sZW5ndGggLSAxO1xyXG4gICAgbiA9ICh3IC0gbWF0aGZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IHdvcmQuXHJcbiAgICB3ID0gZFt3XTtcclxuICAgIGlmICh3KSBmb3IgKDsgdyAlIDEwID09IDA7IHcgLz0gMTApIG4tLTtcclxuICAgIGlmIChuIDwgMCkgbiA9IDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiAvIDAgPSBJXHJcbiAqICBuIC8gTiA9IE5cclxuICogIG4gLyBJID0gMFxyXG4gKiAgMCAvIG4gPSAwXHJcbiAqICAwIC8gMCA9IE5cclxuICogIDAgLyBOID0gTlxyXG4gKiAgMCAvIEkgPSAwXHJcbiAqICBOIC8gbiA9IE5cclxuICogIE4gLyAwID0gTlxyXG4gKiAgTiAvIE4gPSBOXHJcbiAqICBOIC8gSSA9IE5cclxuICogIEkgLyBuID0gSVxyXG4gKiAgSSAvIDAgPSBJXHJcbiAqICBJIC8gTiA9IE5cclxuICogIEkgLyBJID0gTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGRpdmlkZWQgYnkgYHlgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLmRpdmlkZWRCeSA9IFAuZGl2ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gZGl2aWRlKHRoaXMsIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHkpKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW50ZWdlciBwYXJ0IG9mIGRpdmlkaW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWxcclxuICogYnkgdGhlIHZhbHVlIG9mIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5kaXZpZGVkVG9JbnRlZ2VyQnkgPSBQLmRpdlRvSW50ID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuICByZXR1cm4gZmluYWxpc2UoZGl2aWRlKHgsIG5ldyBDdG9yKHkpLCAwLCAxLCAxKSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIGB5YCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZXF1YWxzID0gUC5lcSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpID09PSAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciBpbiB0aGVcclxuICogZGlyZWN0aW9uIG9mIG5lZ2F0aXZlIEluZmluaXR5LlxyXG4gKlxyXG4gKi9cclxuUC5mbG9vciA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsIG90aGVyd2lzZSByZXR1cm5cclxuICogZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmdyZWF0ZXJUaGFuID0gUC5ndCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpID4gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5ncmVhdGVyVGhhbk9yRXF1YWxUbyA9IFAuZ3RlID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgayA9IHRoaXMuY21wKHkpO1xyXG4gIHJldHVybiBrID09IDEgfHwgayA9PT0gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWzEsIEluZmluaXR5XVxyXG4gKlxyXG4gKiBjb3NoKHgpID0gMSArIHheMi8yISArIHheNC80ISArIHheNi82ISArIC4uLlxyXG4gKlxyXG4gKiBjb3NoKDApICAgICAgICAgPSAxXHJcbiAqIGNvc2goLTApICAgICAgICA9IDFcclxuICogY29zaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogY29zaCgtSW5maW5pdHkpID0gSW5maW5pdHlcclxuICogY29zaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqICB4ICAgICAgICB0aW1lIHRha2VuIChtcykgICByZXN1bHRcclxuICogMTAwMCAgICAgIDkgICAgICAgICAgICAgICAgIDkuODUwMzU1NTcwMDg1MjM0OTY5NGUrNDMzXHJcbiAqIDEwMDAwICAgICAyNSAgICAgICAgICAgICAgICA0LjQwMzQwOTExMjgzMTQ2MDc5MzZlKzQzNDJcclxuICogMTAwMDAwICAgIDE3MSAgICAgICAgICAgICAgIDEuNDAzMzMxNjgwMjEzMDYxNTg5N2UrNDM0MjlcclxuICogMTAwMDAwMCAgIDM4MTcgICAgICAgICAgICAgIDEuNTE2NjA3Njk4NDAxMDQzNzcyNWUrNDM0Mjk0XHJcbiAqIDEwMDAwMDAwICBhYmFuZG9uZWQgYWZ0ZXIgMiBtaW51dGUgd2FpdFxyXG4gKlxyXG4gKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIGNvc2goeCkgPSAwLjUgKiAoZXhwKHgpICsgZXhwKC14KSlcclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY0Nvc2luZSA9IFAuY29zaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaywgbiwgcHIsIHJtLCBsZW4sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgb25lID0gbmV3IEN0b3IoMSk7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeC5zID8gMSAvIDAgOiBOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gb25lO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IGNvcyg0eCkgPSAxIC0gOGNvc14yKHgpICsgOGNvc140KHgpICsgMVxyXG4gIC8vIGkuZS4gY29zKHgpID0gMSAtIGNvc14yKHgvNCkoOCAtIDhjb3NeMih4LzQpKVxyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgLy8gVE9ETz8gRXN0aW1hdGlvbiByZXVzZWQgZnJvbSBjb3NpbmUoKSBhbmQgbWF5IG5vdCBiZSBvcHRpbWFsIGhlcmUuXHJcbiAgaWYgKGxlbiA8IDMyKSB7XHJcbiAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgbiA9ICgxIC8gdGlueVBvdyg0LCBrKSkudG9TdHJpbmcoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IDE2O1xyXG4gICAgbiA9ICcyLjMyODMwNjQzNjUzODY5NjI4OTA2MjVlLTEwJztcclxuICB9XHJcblxyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMSwgeC50aW1lcyhuKSwgbmV3IEN0b3IoMSksIHRydWUpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIHZhciBjb3NoMl94LFxyXG4gICAgaSA9IGssXHJcbiAgICBkOCA9IG5ldyBDdG9yKDgpO1xyXG4gIGZvciAoOyBpLS07KSB7XHJcbiAgICBjb3NoMl94ID0geC50aW1lcyh4KTtcclxuICAgIHggPSBvbmUubWludXMoY29zaDJfeC50aW1lcyhkOC5taW51cyhjb3NoMl94LnRpbWVzKGQ4KSkpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZSh4LCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIHNpbmgoeCkgPSB4ICsgeF4zLzMhICsgeF41LzUhICsgeF43LzchICsgLi4uXHJcbiAqXHJcbiAqIHNpbmgoMCkgICAgICAgICA9IDBcclxuICogc2luaCgtMCkgICAgICAgID0gLTBcclxuICogc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogc2luaCgtSW5maW5pdHkpID0gLUluZmluaXR5XHJcbiAqIHNpbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKiB4ICAgICAgICB0aW1lIHRha2VuIChtcylcclxuICogMTAgICAgICAgMiBtc1xyXG4gKiAxMDAgICAgICA1IG1zXHJcbiAqIDEwMDAgICAgIDE0IG1zXHJcbiAqIDEwMDAwICAgIDgyIG1zXHJcbiAqIDEwMDAwMCAgIDg4NiBtcyAgICAgICAgICAgIDEuNDAzMzMxNjgwMjEzMDYxNTg5N2UrNDM0MjlcclxuICogMjAwMDAwICAgMjYxMyBtc1xyXG4gKiAzMDAwMDAgICA1NDA3IG1zXHJcbiAqIDQwMDAwMCAgIDg4MjQgbXNcclxuICogNTAwMDAwICAgMTMwMjYgbXMgICAgICAgICAgOC43MDgwNjQzNjEyNzE4MDg0MTI5ZSsyMTcxNDZcclxuICogMTAwMDAwMCAgNDg1NDMgbXNcclxuICpcclxuICogVE9ETz8gQ29tcGFyZSBwZXJmb3JtYW5jZSBvZiBzaW5oKHgpID0gMC41ICogKGV4cCh4KSAtIGV4cCgteCkpXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNTaW5lID0gUC5zaW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBrLCBwciwgcm0sIGxlbixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgaWYgKGxlbiA8IDMpIHtcclxuICAgIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCwgdHJ1ZSk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBBbHRlcm5hdGl2ZSBhcmd1bWVudCByZWR1Y3Rpb246IHNpbmgoM3gpID0gc2luaCh4KSgzICsgNHNpbmheMih4KSlcclxuICAgIC8vIGkuZS4gc2luaCh4KSA9IHNpbmgoeC8zKSgzICsgNHNpbmheMih4LzMpKVxyXG4gICAgLy8gMyBtdWx0aXBsaWNhdGlvbnMgYW5kIDEgYWRkaXRpb25cclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IHNpbmgoNXgpID0gc2luaCh4KSg1ICsgc2luaF4yKHgpKDIwICsgMTZzaW5oXjIoeCkpKVxyXG4gICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzUpKDUgKyBzaW5oXjIoeC81KSgyMCArIDE2c2luaF4yKHgvNSkpKVxyXG4gICAgLy8gNCBtdWx0aXBsaWNhdGlvbnMgYW5kIDIgYWRkaXRpb25zXHJcblxyXG4gICAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgayA9IDEuNCAqIE1hdGguc3FydChsZW4pO1xyXG4gICAgayA9IGsgPiAxNiA/IDE2IDogayB8IDA7XHJcblxyXG4gICAgeCA9IHgudGltZXMoMSAvIHRpbnlQb3coNSwgaykpO1xyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuXHJcbiAgICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gICAgdmFyIHNpbmgyX3gsXHJcbiAgICAgIGQ1ID0gbmV3IEN0b3IoNSksXHJcbiAgICAgIGQxNiA9IG5ldyBDdG9yKDE2KSxcclxuICAgICAgZDIwID0gbmV3IEN0b3IoMjApO1xyXG4gICAgZm9yICg7IGstLTspIHtcclxuICAgICAgc2luaDJfeCA9IHgudGltZXMoeCk7XHJcbiAgICAgIHggPSB4LnRpbWVzKGQ1LnBsdXMoc2luaDJfeC50aW1lcyhkMTYudGltZXMoc2luaDJfeCkucGx1cyhkMjApKSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZSh4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy0xLCAxXVxyXG4gKlxyXG4gKiB0YW5oKHgpID0gc2luaCh4KSAvIGNvc2goeClcclxuICpcclxuICogdGFuaCgwKSAgICAgICAgID0gMFxyXG4gKiB0YW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiB0YW5oKEluZmluaXR5KSAgPSAxXHJcbiAqIHRhbmgoLUluZmluaXR5KSA9IC0xXHJcbiAqIHRhbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljVGFuZ2VudCA9IFAudGFuaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4LnMpO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyA3O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICByZXR1cm4gZGl2aWRlKHguc2luaCgpLCB4LmNvc2goKSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjY29zaW5lIChpbnZlcnNlIGNvc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2ZcclxuICogdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstMSwgMV1cclxuICogUmFuZ2U6IFswLCBwaV1cclxuICpcclxuICogYWNvcyh4KSA9IHBpLzIgLSBhc2luKHgpXHJcbiAqXHJcbiAqIGFjb3MoMCkgICAgICAgPSBwaS8yXHJcbiAqIGFjb3MoLTApICAgICAgPSBwaS8yXHJcbiAqIGFjb3MoMSkgICAgICAgPSAwXHJcbiAqIGFjb3MoLTEpICAgICAgPSBwaVxyXG4gKiBhY29zKDEvMikgICAgID0gcGkvM1xyXG4gKiBhY29zKC0xLzIpICAgID0gMipwaS8zXHJcbiAqIGFjb3MofHh8ID4gMSkgPSBOYU5cclxuICogYWNvcyhOYU4pICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlQ29zaW5lID0gUC5hY29zID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBoYWxmUGksXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgayA9IHguYWJzKCkuY21wKDEpLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKGsgIT09IC0xKSB7XHJcbiAgICByZXR1cm4gayA9PT0gMFxyXG4gICAgICAvLyB8eHwgaXMgMVxyXG4gICAgICA/IHguaXNOZWcoKSA/IGdldFBpKEN0b3IsIHByLCBybSkgOiBuZXcgQ3RvcigwKVxyXG4gICAgICAvLyB8eHwgPiAxIG9yIHggaXMgTmFOXHJcbiAgICAgIDogbmV3IEN0b3IoTmFOKTtcclxuICB9XHJcblxyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuXHJcbiAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFjb3MoMC41KSA9IHBpLzMgYW5kIGFjb3MoLTAuNSkgPSAyKnBpLzNcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDY7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSB4LmFzaW4oKTtcclxuICBoYWxmUGkgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGhhbGZQaS5taW51cyh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgaW4gcmFkaWFucyBvZiB0aGVcclxuICogdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFsxLCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFswLCBJbmZpbml0eV1cclxuICpcclxuICogYWNvc2goeCkgPSBsbih4ICsgc3FydCh4XjIgLSAxKSlcclxuICpcclxuICogYWNvc2goeCA8IDEpICAgICA9IE5hTlxyXG4gKiBhY29zaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBhY29zaCgtSW5maW5pdHkpID0gTmFOXHJcbiAqIGFjb3NoKDApICAgICAgICAgPSBOYU5cclxuICogYWNvc2goLTApICAgICAgICA9IE5hTlxyXG4gKiBhY29zaCgxKSAgICAgICAgID0gMFxyXG4gKiBhY29zaCgtMSkgICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VIeXBlcmJvbGljQ29zaW5lID0gUC5hY29zaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHgubHRlKDEpKSByZXR1cm4gbmV3IEN0b3IoeC5lcSgxKSA/IDAgOiBOYU4pO1xyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heChNYXRoLmFicyh4LmUpLCB4LnNkKCkpICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICB4ID0geC50aW1lcyh4KS5taW51cygxKS5zcXJ0KCkucGx1cyh4KTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC5sbigpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHNpbmUgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWVcclxuICogb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGFzaW5oKHgpID0gbG4oeCArIHNxcnQoeF4yICsgMSkpXHJcbiAqXHJcbiAqIGFzaW5oKE5hTikgICAgICAgPSBOYU5cclxuICogYXNpbmgoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGFzaW5oKC1JbmZpbml0eSkgPSAtSW5maW5pdHlcclxuICogYXNpbmgoMCkgICAgICAgICA9IDBcclxuICogYXNpbmgoLTApICAgICAgICA9IC0wXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VIeXBlcmJvbGljU2luZSA9IFAuYXNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDIgKiBNYXRoLm1heChNYXRoLmFicyh4LmUpLCB4LnNkKCkpICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICB4ID0geC50aW1lcyh4KS5wbHVzKDEpLnNxcnQoKS5wbHVzKHgpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LmxuKCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBpbiByYWRpYW5zIG9mIHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy0xLCAxXVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGF0YW5oKHgpID0gMC41ICogbG4oKDEgKyB4KSAvICgxIC0geCkpXHJcbiAqXHJcbiAqIGF0YW5oKHx4fCA+IDEpICAgPSBOYU5cclxuICogYXRhbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhdGFuaChJbmZpbml0eSkgID0gTmFOXHJcbiAqIGF0YW5oKC1JbmZpbml0eSkgPSBOYU5cclxuICogYXRhbmgoMCkgICAgICAgICA9IDBcclxuICogYXRhbmgoLTApICAgICAgICA9IC0wXHJcbiAqIGF0YW5oKDEpICAgICAgICAgPSBJbmZpbml0eVxyXG4gKiBhdGFuaCgtMSkgICAgICAgID0gLUluZmluaXR5XHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VIeXBlcmJvbGljVGFuZ2VudCA9IFAuYXRhbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSwgd3ByLCB4c2QsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgaWYgKHguZSA+PSAwKSByZXR1cm4gbmV3IEN0b3IoeC5hYnMoKS5lcSgxKSA/IHgucyAvIDAgOiB4LmlzWmVybygpID8geCA6IE5hTik7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIHhzZCA9IHguc2QoKTtcclxuXHJcbiAgaWYgKE1hdGgubWF4KHhzZCwgcHIpIDwgMiAqIC14LmUgLSAxKSByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHByLCBybSwgdHJ1ZSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByID0geHNkIC0geC5lO1xyXG5cclxuICB4ID0gZGl2aWRlKHgucGx1cygxKSwgbmV3IEN0b3IoMSkubWludXMoeCksIHdwciArIHByLCAxKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDQ7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSB4LmxuKCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC50aW1lcygwLjUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNzaW5lIChpbnZlcnNlIHNpbmUpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlIG9mIHRoaXNcclxuICogRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGkvMiwgcGkvMl1cclxuICpcclxuICogYXNpbih4KSA9IDIqYXRhbih4LygxICsgc3FydCgxIC0geF4yKSkpXHJcbiAqXHJcbiAqIGFzaW4oMCkgICAgICAgPSAwXHJcbiAqIGFzaW4oLTApICAgICAgPSAtMFxyXG4gKiBhc2luKDEvMikgICAgID0gcGkvNlxyXG4gKiBhc2luKC0xLzIpICAgID0gLXBpLzZcclxuICogYXNpbigxKSAgICAgICA9IHBpLzJcclxuICogYXNpbigtMSkgICAgICA9IC1waS8yXHJcbiAqIGFzaW4ofHh8ID4gMSkgPSBOYU5cclxuICogYXNpbihOYU4pICAgICA9IE5hTlxyXG4gKlxyXG4gKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIFRheWxvciBzZXJpZXMuXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VTaW5lID0gUC5hc2luID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBoYWxmUGksIGssXHJcbiAgICBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBrID0geC5hYnMoKS5jbXAoMSk7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIGlmIChrICE9PSAtMSkge1xyXG5cclxuICAgIC8vIHx4fCBpcyAxXHJcbiAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICBoYWxmUGkgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICBoYWxmUGkucyA9IHgucztcclxuICAgICAgcmV0dXJuIGhhbGZQaTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB8eHwgPiAxIG9yIHggaXMgTmFOXHJcbiAgICByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICB9XHJcblxyXG4gIC8vIFRPRE8/IFNwZWNpYWwgY2FzZSBhc2luKDEvMikgPSBwaS82IGFuZCBhc2luKC0xLzIpID0gLXBpLzZcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDY7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSB4LmRpdihuZXcgQ3RvcigxKS5taW51cyh4LnRpbWVzKHgpKS5zcXJ0KCkucGx1cygxKSkuYXRhbigpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgudGltZXMoMik7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3RhbmdlbnQgKGludmVyc2UgdGFuZ2VudCkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWVcclxuICogb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waS8yLCBwaS8yXVxyXG4gKlxyXG4gKiBhdGFuKHgpID0geCAtIHheMy8zICsgeF41LzUgLSB4XjcvNyArIC4uLlxyXG4gKlxyXG4gKiBhdGFuKDApICAgICAgICAgPSAwXHJcbiAqIGF0YW4oLTApICAgICAgICA9IC0wXHJcbiAqIGF0YW4oMSkgICAgICAgICA9IHBpLzRcclxuICogYXRhbigtMSkgICAgICAgID0gLXBpLzRcclxuICogYXRhbihJbmZpbml0eSkgID0gcGkvMlxyXG4gKiBhdGFuKC1JbmZpbml0eSkgPSAtcGkvMlxyXG4gKiBhdGFuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZVRhbmdlbnQgPSBQLmF0YW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGksIGosIGssIG4sIHB4LCB0LCByLCB3cHIsIHgyLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSB7XHJcbiAgICBpZiAoIXgucykgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgICBpZiAocHIgKyA0IDw9IFBJX1BSRUNJU0lPTikge1xyXG4gICAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuICAgICAgci5zID0geC5zO1xyXG4gICAgICByZXR1cm4gcjtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHguaXNaZXJvKCkpIHtcclxuICAgIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICB9IGVsc2UgaWYgKHguYWJzKCkuZXEoMSkgJiYgcHIgKyA0IDw9IFBJX1BSRUNJU0lPTikge1xyXG4gICAgciA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuMjUpO1xyXG4gICAgci5zID0geC5zO1xyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHdwciA9IHByICsgMTA7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIC8vIFRPRE8/IGlmICh4ID49IDEgJiYgcHIgPD0gUElfUFJFQ0lTSU9OKSBhdGFuKHgpID0gaGFsZlBpICogeC5zIC0gYXRhbigxIC8geCk7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIC8vIEVuc3VyZSB8eHwgPCAwLjQyXHJcbiAgLy8gYXRhbih4KSA9IDIgKiBhdGFuKHggLyAoMSArIHNxcnQoMSArIHheMikpKVxyXG5cclxuICBrID0gTWF0aC5taW4oMjgsIHdwciAvIExPR19CQVNFICsgMiB8IDApO1xyXG5cclxuICBmb3IgKGkgPSBrOyBpOyAtLWkpIHggPSB4LmRpdih4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoMSkpO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBqID0gTWF0aC5jZWlsKHdwciAvIExPR19CQVNFKTtcclxuICBuID0gMTtcclxuICB4MiA9IHgudGltZXMoeCk7XHJcbiAgciA9IG5ldyBDdG9yKHgpO1xyXG4gIHB4ID0geDtcclxuXHJcbiAgLy8gYXRhbih4KSA9IHggLSB4XjMvMyArIHheNS81IC0geF43LzcgKyAuLi5cclxuICBmb3IgKDsgaSAhPT0gLTE7KSB7XHJcbiAgICBweCA9IHB4LnRpbWVzKHgyKTtcclxuICAgIHQgPSByLm1pbnVzKHB4LmRpdihuICs9IDIpKTtcclxuXHJcbiAgICBweCA9IHB4LnRpbWVzKHgyKTtcclxuICAgIHIgPSB0LnBsdXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgIGlmIChyLmRbal0gIT09IHZvaWQgMCkgZm9yIChpID0gajsgci5kW2ldID09PSB0LmRbaV0gJiYgaS0tOyk7XHJcbiAgfVxyXG5cclxuICBpZiAoaykgciA9IHIudGltZXMoMiA8PCAoayAtIDEpKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGEgZmluaXRlIG51bWJlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNGaW5pdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICEhdGhpcy5kO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNJbnRlZ2VyID0gUC5pc0ludCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLmQgJiYgbWF0aGZsb29yKHRoaXMuZSAvIExPR19CQVNFKSA+IHRoaXMuZC5sZW5ndGggLSAyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc05hTiA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gIXRoaXMucztcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIG5lZ2F0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc05lZ2F0aXZlID0gUC5pc05lZyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5zIDwgMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc1Bvc2l0aXZlID0gUC5pc1BvcyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5zID4gMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIDAgb3IgLTAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLmQgJiYgdGhpcy5kWzBdID09PSAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIGB5YCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAubGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGB5YCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAubGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpIDwgMTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIGxvZ2FyaXRobSBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHRvIHRoZSBzcGVjaWZpZWQgYmFzZSwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBJZiBubyBiYXNlIGlzIHNwZWNpZmllZCwgcmV0dXJuIGxvZ1sxMF0oYXJnKS5cclxuICpcclxuICogbG9nW2Jhc2VdKGFyZykgPSBsbihhcmcpIC8gbG4oYmFzZSlcclxuICpcclxuICogVGhlIHJlc3VsdCB3aWxsIGFsd2F5cyBiZSBjb3JyZWN0bHkgcm91bmRlZCBpZiB0aGUgYmFzZSBvZiB0aGUgbG9nIGlzIDEwLCBhbmQgJ2FsbW9zdCBhbHdheXMnXHJcbiAqIG90aGVyd2lzZTpcclxuICpcclxuICogRGVwZW5kaW5nIG9uIHRoZSByb3VuZGluZyBtb2RlLCB0aGUgcmVzdWx0IG1heSBiZSBpbmNvcnJlY3RseSByb3VuZGVkIGlmIHRoZSBmaXJzdCBmaWZ0ZWVuXHJcbiAqIHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OTk5OTk5OTk5OTk5IG9yIFs1MF0wMDAwMDAwMDAwMDAwMC4gSW4gdGhhdCBjYXNlLCB0aGUgbWF4aW11bSBlcnJvclxyXG4gKiBiZXR3ZWVuIHRoZSByZXN1bHQgYW5kIHRoZSBjb3JyZWN0bHkgcm91bmRlZCByZXN1bHQgd2lsbCBiZSBvbmUgdWxwICh1bml0IGluIHRoZSBsYXN0IHBsYWNlKS5cclxuICpcclxuICogbG9nWy1iXShhKSAgICAgICA9IE5hTlxyXG4gKiBsb2dbMF0oYSkgICAgICAgID0gTmFOXHJcbiAqIGxvZ1sxXShhKSAgICAgICAgPSBOYU5cclxuICogbG9nW05hTl0oYSkgICAgICA9IE5hTlxyXG4gKiBsb2dbSW5maW5pdHldKGEpID0gTmFOXHJcbiAqIGxvZ1tiXSgwKSAgICAgICAgPSAtSW5maW5pdHlcclxuICogbG9nW2JdKC0wKSAgICAgICA9IC1JbmZpbml0eVxyXG4gKiBsb2dbYl0oLWEpICAgICAgID0gTmFOXHJcbiAqIGxvZ1tiXSgxKSAgICAgICAgPSAwXHJcbiAqIGxvZ1tiXShJbmZpbml0eSkgPSBJbmZpbml0eVxyXG4gKiBsb2dbYl0oTmFOKSAgICAgID0gTmFOXHJcbiAqXHJcbiAqIFtiYXNlXSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKlxyXG4gKi9cclxuUC5sb2dhcml0aG0gPSBQLmxvZyA9IGZ1bmN0aW9uIChiYXNlKSB7XHJcbiAgdmFyIGlzQmFzZTEwLCBkLCBkZW5vbWluYXRvciwgaywgaW5mLCBudW0sIHNkLCByLFxyXG4gICAgYXJnID0gdGhpcyxcclxuICAgIEN0b3IgPSBhcmcuY29uc3RydWN0b3IsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgZ3VhcmQgPSA1O1xyXG5cclxuICAvLyBEZWZhdWx0IGJhc2UgaXMgMTAuXHJcbiAgaWYgKGJhc2UgPT0gbnVsbCkge1xyXG4gICAgYmFzZSA9IG5ldyBDdG9yKDEwKTtcclxuICAgIGlzQmFzZTEwID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgYmFzZSA9IG5ldyBDdG9yKGJhc2UpO1xyXG4gICAgZCA9IGJhc2UuZDtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGJhc2UgaXMgbmVnYXRpdmUsIG9yIG5vbi1maW5pdGUsIG9yIGlzIDAgb3IgMS5cclxuICAgIGlmIChiYXNlLnMgPCAwIHx8ICFkIHx8ICFkWzBdIHx8IGJhc2UuZXEoMSkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIGlzQmFzZTEwID0gYmFzZS5lcSgxMCk7XHJcbiAgfVxyXG5cclxuICBkID0gYXJnLmQ7XHJcblxyXG4gIC8vIElzIGFyZyBuZWdhdGl2ZSwgbm9uLWZpbml0ZSwgMCBvciAxP1xyXG4gIGlmIChhcmcucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYXJnLmVxKDEpKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoZCAmJiAhZFswXSA/IC0xIC8gMCA6IGFyZy5zICE9IDEgPyBOYU4gOiBkID8gMCA6IDEgLyAwKTtcclxuICB9XHJcblxyXG4gIC8vIFRoZSByZXN1bHQgd2lsbCBoYXZlIGEgbm9uLXRlcm1pbmF0aW5nIGRlY2ltYWwgZXhwYW5zaW9uIGlmIGJhc2UgaXMgMTAgYW5kIGFyZyBpcyBub3QgYW5cclxuICAvLyBpbnRlZ2VyIHBvd2VyIG9mIDEwLlxyXG4gIGlmIChpc0Jhc2UxMCkge1xyXG4gICAgaWYgKGQubGVuZ3RoID4gMSkge1xyXG4gICAgICBpbmYgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChrID0gZFswXTsgayAlIDEwID09PSAwOykgayAvPSAxMDtcclxuICAgICAgaW5mID0gayAhPT0gMTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgc2QgPSBwciArIGd1YXJkO1xyXG4gIG51bSA9IG5hdHVyYWxMb2dhcml0aG0oYXJnLCBzZCk7XHJcbiAgZGVub21pbmF0b3IgPSBpc0Jhc2UxMCA/IGdldExuMTAoQ3Rvciwgc2QgKyAxMCkgOiBuYXR1cmFsTG9nYXJpdGhtKGJhc2UsIHNkKTtcclxuXHJcbiAgLy8gVGhlIHJlc3VsdCB3aWxsIGhhdmUgNSByb3VuZGluZyBkaWdpdHMuXHJcbiAgciA9IGRpdmlkZShudW0sIGRlbm9taW5hdG9yLCBzZCwgMSk7XHJcblxyXG4gIC8vIElmIGF0IGEgcm91bmRpbmcgYm91bmRhcnksIGkuZS4gdGhlIHJlc3VsdCdzIHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OTkgb3IgWzUwXTAwMDAsXHJcbiAgLy8gY2FsY3VsYXRlIDEwIGZ1cnRoZXIgZGlnaXRzLlxyXG4gIC8vXHJcbiAgLy8gSWYgdGhlIHJlc3VsdCBpcyBrbm93biB0byBoYXZlIGFuIGluZmluaXRlIGRlY2ltYWwgZXhwYW5zaW9uLCByZXBlYXQgdGhpcyB1bnRpbCBpdCBpcyBjbGVhclxyXG4gIC8vIHRoYXQgdGhlIHJlc3VsdCBpcyBhYm92ZSBvciBiZWxvdyB0aGUgYm91bmRhcnkuIE90aGVyd2lzZSwgaWYgYWZ0ZXIgY2FsY3VsYXRpbmcgdGhlIDEwXHJcbiAgLy8gZnVydGhlciBkaWdpdHMsIHRoZSBsYXN0IDE0IGFyZSBuaW5lcywgcm91bmQgdXAgYW5kIGFzc3VtZSB0aGUgcmVzdWx0IGlzIGV4YWN0LlxyXG4gIC8vIEFsc28gYXNzdW1lIHRoZSByZXN1bHQgaXMgZXhhY3QgaWYgdGhlIGxhc3QgMTQgYXJlIHplcm8uXHJcbiAgLy9cclxuICAvLyBFeGFtcGxlIG9mIGEgcmVzdWx0IHRoYXQgd2lsbCBiZSBpbmNvcnJlY3RseSByb3VuZGVkOlxyXG4gIC8vIGxvZ1sxMDQ4NTc2XSg0NTAzNTk5NjI3MzcwNTAyKSA9IDIuNjAwMDAwMDAwMDAwMDAwMDk2MTAyNzk1MTE0NDQ3NDYuLi5cclxuICAvLyBUaGUgYWJvdmUgcmVzdWx0IGNvcnJlY3RseSByb3VuZGVkIHVzaW5nIFJPVU5EX0NFSUwgdG8gMSBkZWNpbWFsIHBsYWNlIHNob3VsZCBiZSAyLjcsIGJ1dCBpdFxyXG4gIC8vIHdpbGwgYmUgZ2l2ZW4gYXMgMi42IGFzIHRoZXJlIGFyZSAxNSB6ZXJvcyBpbW1lZGlhdGVseSBhZnRlciB0aGUgcmVxdWVzdGVkIGRlY2ltYWwgcGxhY2UsIHNvXHJcbiAgLy8gdGhlIGV4YWN0IHJlc3VsdCB3b3VsZCBiZSBhc3N1bWVkIHRvIGJlIDIuNiwgd2hpY2ggcm91bmRlZCB1c2luZyBST1VORF9DRUlMIHRvIDEgZGVjaW1hbFxyXG4gIC8vIHBsYWNlIGlzIHN0aWxsIDIuNi5cclxuICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIGsgPSBwciwgcm0pKSB7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICBzZCArPSAxMDtcclxuICAgICAgbnVtID0gbmF0dXJhbExvZ2FyaXRobShhcmcsIHNkKTtcclxuICAgICAgZGVub21pbmF0b3IgPSBpc0Jhc2UxMCA/IGdldExuMTAoQ3Rvciwgc2QgKyAxMCkgOiBuYXR1cmFsTG9nYXJpdGhtKGJhc2UsIHNkKTtcclxuICAgICAgciA9IGRpdmlkZShudW0sIGRlbm9taW5hdG9yLCBzZCwgMSk7XHJcblxyXG4gICAgICBpZiAoIWluZikge1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0LCBhcyB0aGUgZmlyc3QgbWF5IGJlIDQuXHJcbiAgICAgICAgaWYgKCtkaWdpdHNUb1N0cmluZyhyLmQpLnNsaWNlKGsgKyAxLCBrICsgMTUpICsgMSA9PSAxZTE0KSB7XHJcbiAgICAgICAgICByID0gZmluYWxpc2UociwgcHIgKyAxLCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9IHdoaWxlIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgayArPSAxMCwgcm0pKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cyBhbmQgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcblAubWF4ID0gZnVuY3Rpb24gKCkge1xyXG4gIEFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLCB0aGlzKTtcclxuICByZXR1cm4gbWF4T3JNaW4odGhpcy5jb25zdHJ1Y3RvciwgYXJndW1lbnRzLCAnbHQnKTtcclxufTtcclxuICovXHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cyBhbmQgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcblAubWluID0gZnVuY3Rpb24gKCkge1xyXG4gIEFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLCB0aGlzKTtcclxuICByZXR1cm4gbWF4T3JNaW4odGhpcy5jb25zdHJ1Y3RvciwgYXJndW1lbnRzLCAnZ3QnKTtcclxufTtcclxuICovXHJcblxyXG5cclxuLypcclxuICogIG4gLSAwID0gblxyXG4gKiAgbiAtIE4gPSBOXHJcbiAqICBuIC0gSSA9IC1JXHJcbiAqICAwIC0gbiA9IC1uXHJcbiAqICAwIC0gMCA9IDBcclxuICogIDAgLSBOID0gTlxyXG4gKiAgMCAtIEkgPSAtSVxyXG4gKiAgTiAtIG4gPSBOXHJcbiAqICBOIC0gMCA9IE5cclxuICogIE4gLSBOID0gTlxyXG4gKiAgTiAtIEkgPSBOXHJcbiAqICBJIC0gbiA9IElcclxuICogIEkgLSAwID0gSVxyXG4gKiAgSSAtIE4gPSBOXHJcbiAqICBJIC0gSSA9IE5cclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBtaW51cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAubWludXMgPSBQLnN1YiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGQsIGUsIGksIGosIGssIGxlbiwgcHIsIHJtLCB4ZCwgeGUsIHhMVHksIHlkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gIGlmICgheC5kIHx8ICF5LmQpIHtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geSBuZWdhdGVkIGlmIHggaXMgZmluaXRlIGFuZCB5IGlzIMKxSW5maW5pdHkuXHJcbiAgICBlbHNlIGlmICh4LmQpIHkucyA9IC15LnM7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBmaW5pdGUgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgIC8vIFJldHVybiB4IGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCBkaWZmZXJlbnQgc2lnbnMuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG4gICAgZWxzZSB5ID0gbmV3IEN0b3IoeS5kIHx8IHgucyAhPT0geS5zID8geCA6IE5hTik7XHJcblxyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBzaWducyBkaWZmZXIuLi5cclxuICBpZiAoeC5zICE9IHkucykge1xyXG4gICAgeS5zID0gLXkucztcclxuICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgfVxyXG5cclxuICB4ZCA9IHguZDtcclxuICB5ZCA9IHkuZDtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyB6ZXJvIGFuZCB5IGlzIG5vbi16ZXJvLlxyXG4gICAgaWYgKHlkWzBdKSB5LnMgPSAteS5zO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgemVybyBhbmQgeCBpcyBub24temVyby5cclxuICAgIGVsc2UgaWYgKHhkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgLy8gUmV0dXJuIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgIC8vIEZyb20gSUVFRSA3NTQgKDIwMDgpIDYuMzogMCAtIDAgPSAtMCAtIC0wID0gLTAgd2hlbiByb3VuZGluZyB0byAtSW5maW5pdHkuXHJcbiAgICBlbHNlIHJldHVybiBuZXcgQ3RvcihybSA9PT0gMyA/IC0wIDogMCk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfVxyXG5cclxuICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAvLyBDYWxjdWxhdGUgYmFzZSAxZTcgZXhwb25lbnRzLlxyXG4gIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG4gIHhlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKTtcclxuXHJcbiAgeGQgPSB4ZC5zbGljZSgpO1xyXG4gIGsgPSB4ZSAtIGU7XHJcblxyXG4gIC8vIElmIGJhc2UgMWU3IGV4cG9uZW50cyBkaWZmZXIuLi5cclxuICBpZiAoaykge1xyXG4gICAgeExUeSA9IGsgPCAwO1xyXG5cclxuICAgIGlmICh4TFR5KSB7XHJcbiAgICAgIGQgPSB4ZDtcclxuICAgICAgayA9IC1rO1xyXG4gICAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkID0geWQ7XHJcbiAgICAgIGUgPSB4ZTtcclxuICAgICAgbGVuID0geGQubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE51bWJlcnMgd2l0aCBtYXNzaXZlbHkgZGlmZmVyZW50IGV4cG9uZW50cyB3b3VsZCByZXN1bHQgaW4gYSB2ZXJ5IGhpZ2ggbnVtYmVyIG9mXHJcbiAgICAvLyB6ZXJvcyBuZWVkaW5nIHRvIGJlIHByZXBlbmRlZCwgYnV0IHRoaXMgY2FuIGJlIGF2b2lkZWQgd2hpbGUgc3RpbGwgZW5zdXJpbmcgY29ycmVjdFxyXG4gICAgLy8gcm91bmRpbmcgYnkgbGltaXRpbmcgdGhlIG51bWJlciBvZiB6ZXJvcyB0byBgTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpICsgMmAuXHJcbiAgICBpID0gTWF0aC5tYXgoTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMjtcclxuXHJcbiAgICBpZiAoayA+IGkpIHtcclxuICAgICAgayA9IGk7XHJcbiAgICAgIGQubGVuZ3RoID0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgZm9yIChpID0gazsgaS0tOykgZC5wdXNoKDApO1xyXG4gICAgZC5yZXZlcnNlKCk7XHJcblxyXG4gIC8vIEJhc2UgMWU3IGV4cG9uZW50cyBlcXVhbC5cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIENoZWNrIGRpZ2l0cyB0byBkZXRlcm1pbmUgd2hpY2ggaXMgdGhlIGJpZ2dlciBudW1iZXIuXHJcblxyXG4gICAgaSA9IHhkLmxlbmd0aDtcclxuICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIHhMVHkgPSBpIDwgbGVuO1xyXG4gICAgaWYgKHhMVHkpIGxlbiA9IGk7XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGlmICh4ZFtpXSAhPSB5ZFtpXSkge1xyXG4gICAgICAgIHhMVHkgPSB4ZFtpXSA8IHlkW2ldO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgayA9IDA7XHJcbiAgfVxyXG5cclxuICBpZiAoeExUeSkge1xyXG4gICAgZCA9IHhkO1xyXG4gICAgeGQgPSB5ZDtcclxuICAgIHlkID0gZDtcclxuICAgIHkucyA9IC15LnM7XHJcbiAgfVxyXG5cclxuICBsZW4gPSB4ZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFwcGVuZCB6ZXJvcyB0byBgeGRgIGlmIHNob3J0ZXIuXHJcbiAgLy8gRG9uJ3QgYWRkIHplcm9zIHRvIGB5ZGAgaWYgc2hvcnRlciBhcyBzdWJ0cmFjdGlvbiBvbmx5IG5lZWRzIHRvIHN0YXJ0IGF0IGB5ZGAgbGVuZ3RoLlxyXG4gIGZvciAoaSA9IHlkLmxlbmd0aCAtIGxlbjsgaSA+IDA7IC0taSkgeGRbbGVuKytdID0gMDtcclxuXHJcbiAgLy8gU3VidHJhY3QgeWQgZnJvbSB4ZC5cclxuICBmb3IgKGkgPSB5ZC5sZW5ndGg7IGkgPiBrOykge1xyXG5cclxuICAgIGlmICh4ZFstLWldIDwgeWRbaV0pIHtcclxuICAgICAgZm9yIChqID0gaTsgaiAmJiB4ZFstLWpdID09PSAwOykgeGRbal0gPSBCQVNFIC0gMTtcclxuICAgICAgLS14ZFtqXTtcclxuICAgICAgeGRbaV0gKz0gQkFTRTtcclxuICAgIH1cclxuXHJcbiAgICB4ZFtpXSAtPSB5ZFtpXTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKDsgeGRbLS1sZW5dID09PSAwOykgeGQucG9wKCk7XHJcblxyXG4gIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgZm9yICg7IHhkWzBdID09PSAwOyB4ZC5zaGlmdCgpKSAtLWU7XHJcblxyXG4gIC8vIFplcm8/XHJcbiAgaWYgKCF4ZFswXSkgcmV0dXJuIG5ldyBDdG9yKHJtID09PSAzID8gLTAgOiAwKTtcclxuXHJcbiAgeS5kID0geGQ7XHJcbiAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgIG4gJSAwID0gIE5cclxuICogICBuICUgTiA9ICBOXHJcbiAqICAgbiAlIEkgPSAgblxyXG4gKiAgIDAgJSBuID0gIDBcclxuICogIC0wICUgbiA9IC0wXHJcbiAqICAgMCAlIDAgPSAgTlxyXG4gKiAgIDAgJSBOID0gIE5cclxuICogICAwICUgSSA9ICAwXHJcbiAqICAgTiAlIG4gPSAgTlxyXG4gKiAgIE4gJSAwID0gIE5cclxuICogICBOICUgTiA9ICBOXHJcbiAqICAgTiAlIEkgPSAgTlxyXG4gKiAgIEkgJSBuID0gIE5cclxuICogICBJICUgMCA9ICBOXHJcbiAqICAgSSAlIE4gPSAgTlxyXG4gKiAgIEkgJSBJID0gIE5cclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBtb2R1bG8gYHlgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFRoZSByZXN1bHQgZGVwZW5kcyBvbiB0aGUgbW9kdWxvIG1vZGUuXHJcbiAqXHJcbiAqL1xyXG5QLm1vZHVsbyA9IFAubW9kID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgcSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIMKxSW5maW5pdHkgb3IgTmFOLCBvciB5IGlzIE5hTiBvciDCsTAuXHJcbiAgaWYgKCF4LmQgfHwgIXkucyB8fCB5LmQgJiYgIXkuZFswXSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gIC8vIFJldHVybiB4IGlmIHkgaXMgwrFJbmZpbml0eSBvciB4IGlzIMKxMC5cclxuICBpZiAoIXkuZCB8fCB4LmQgJiYgIXguZFswXSkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZyk7XHJcbiAgfVxyXG5cclxuICAvLyBQcmV2ZW50IHJvdW5kaW5nIG9mIGludGVybWVkaWF0ZSBjYWxjdWxhdGlvbnMuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgaWYgKEN0b3IubW9kdWxvID09IDkpIHtcclxuXHJcbiAgICAvLyBFdWNsaWRpYW4gZGl2aXNpb246IHEgPSBzaWduKHkpICogZmxvb3IoeCAvIGFicyh5KSlcclxuICAgIC8vIHJlc3VsdCA9IHggLSBxICogeSAgICB3aGVyZSAgMCA8PSByZXN1bHQgPCBhYnMoeSlcclxuICAgIHEgPSBkaXZpZGUoeCwgeS5hYnMoKSwgMCwgMywgMSk7XHJcbiAgICBxLnMgKj0geS5zO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBxID0gZGl2aWRlKHgsIHksIDAsIEN0b3IubW9kdWxvLCAxKTtcclxuICB9XHJcblxyXG4gIHEgPSBxLnRpbWVzKHkpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiB4Lm1pbnVzKHEpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsXHJcbiAqIGkuZS4gdGhlIGJhc2UgZSByYWlzZWQgdG8gdGhlIHBvd2VyIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAubmF0dXJhbEV4cG9uZW50aWFsID0gUC5leHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIG5hdHVyYWxFeHBvbmVudGlhbCh0aGlzKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICogcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5uYXR1cmFsTG9nYXJpdGhtID0gUC5sbiA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gbmF0dXJhbExvZ2FyaXRobSh0aGlzKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG5lZ2F0ZWQsIGkuZS4gYXMgaWYgbXVsdGlwbGllZCBieVxyXG4gKiAtMS5cclxuICpcclxuICovXHJcblAubmVnYXRlZCA9IFAubmVnID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XHJcbiAgeC5zID0gLXgucztcclxuICByZXR1cm4gZmluYWxpc2UoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gKyAwID0gblxyXG4gKiAgbiArIE4gPSBOXHJcbiAqICBuICsgSSA9IElcclxuICogIDAgKyBuID0gblxyXG4gKiAgMCArIDAgPSAwXHJcbiAqICAwICsgTiA9IE5cclxuICogIDAgKyBJID0gSVxyXG4gKiAgTiArIG4gPSBOXHJcbiAqICBOICsgMCA9IE5cclxuICogIE4gKyBOID0gTlxyXG4gKiAgTiArIEkgPSBOXHJcbiAqICBJICsgbiA9IElcclxuICogIEkgKyAwID0gSVxyXG4gKiAgSSArIE4gPSBOXHJcbiAqICBJICsgSSA9IElcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBwbHVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5wbHVzID0gUC5hZGQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBjYXJyeSwgZCwgZSwgaSwgaywgbGVuLCBwciwgcm0sIHhkLCB5ZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIG5vdCBmaW5pdGUuLi5cclxuICBpZiAoIXguZCB8fCAheS5kKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgaWYgKCF4LnMgfHwgIXkucykgeSA9IG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBmaW5pdGUgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgIC8vIFJldHVybiB4IGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggZGlmZmVyZW50IHNpZ25zLlxyXG4gICAgLy8gUmV0dXJuIHkgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgIGVsc2UgaWYgKCF4LmQpIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zID09PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gICAvLyBJZiBzaWducyBkaWZmZXIuLi5cclxuICBpZiAoeC5zICE9IHkucykge1xyXG4gICAgeS5zID0gLXkucztcclxuICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSB4LmQ7XHJcbiAgeWQgPSB5LmQ7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyB6ZXJvLi4uXHJcbiAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIHplcm8uXHJcbiAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLlxyXG4gICAgaWYgKCF5ZFswXSkgeSA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG4gIH1cclxuXHJcbiAgLy8geCBhbmQgeSBhcmUgZmluaXRlLCBub24temVybyBudW1iZXJzIHdpdGggdGhlIHNhbWUgc2lnbi5cclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGJhc2UgMWU3IGV4cG9uZW50cy5cclxuICBrID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKTtcclxuICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuXHJcbiAgeGQgPSB4ZC5zbGljZSgpO1xyXG4gIGkgPSBrIC0gZTtcclxuXHJcbiAgLy8gSWYgYmFzZSAxZTcgZXhwb25lbnRzIGRpZmZlci4uLlxyXG4gIGlmIChpKSB7XHJcblxyXG4gICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgIGQgPSB4ZDtcclxuICAgICAgaSA9IC1pO1xyXG4gICAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkID0geWQ7XHJcbiAgICAgIGUgPSBrO1xyXG4gICAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGltaXQgbnVtYmVyIG9mIHplcm9zIHByZXBlbmRlZCB0byBtYXgoY2VpbChwciAvIExPR19CQVNFKSwgbGVuKSArIDEuXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpO1xyXG4gICAgbGVuID0gayA+IGxlbiA/IGsgKyAxIDogbGVuICsgMTtcclxuXHJcbiAgICBpZiAoaSA+IGxlbikge1xyXG4gICAgICBpID0gbGVuO1xyXG4gICAgICBkLmxlbmd0aCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuIE5vdGU6IEZhc3RlciB0byB1c2UgcmV2ZXJzZSB0aGVuIGRvIHVuc2hpZnRzLlxyXG4gICAgZC5yZXZlcnNlKCk7XHJcbiAgICBmb3IgKDsgaS0tOykgZC5wdXNoKDApO1xyXG4gICAgZC5yZXZlcnNlKCk7XHJcbiAgfVxyXG5cclxuICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgaSA9IHlkLmxlbmd0aDtcclxuXHJcbiAgLy8gSWYgeWQgaXMgbG9uZ2VyIHRoYW4geGQsIHN3YXAgeGQgYW5kIHlkIHNvIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gIGlmIChsZW4gLSBpIDwgMCkge1xyXG4gICAgaSA9IGxlbjtcclxuICAgIGQgPSB5ZDtcclxuICAgIHlkID0geGQ7XHJcbiAgICB4ZCA9IGQ7XHJcbiAgfVxyXG5cclxuICAvLyBPbmx5IHN0YXJ0IGFkZGluZyBhdCB5ZC5sZW5ndGggLSAxIGFzIHRoZSBmdXJ0aGVyIGRpZ2l0cyBvZiB4ZCBjYW4gYmUgbGVmdCBhcyB0aGV5IGFyZS5cclxuICBmb3IgKGNhcnJ5ID0gMDsgaTspIHtcclxuICAgIGNhcnJ5ID0gKHhkWy0taV0gPSB4ZFtpXSArIHlkW2ldICsgY2FycnkpIC8gQkFTRSB8IDA7XHJcbiAgICB4ZFtpXSAlPSBCQVNFO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNhcnJ5KSB7XHJcbiAgICB4ZC51bnNoaWZ0KGNhcnJ5KTtcclxuICAgICsrZTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB6ZXJvLCBhcyAreCArICt5ICE9IDAgJiYgLXggKyAteSAhPSAwXHJcbiAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7IHhkWy0tbGVuXSA9PSAwOykgeGQucG9wKCk7XHJcblxyXG4gIHkuZCA9IHhkO1xyXG4gIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFt6XSB7Ym9vbGVhbnxudW1iZXJ9IFdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlLCBmYWxzZSwgMSBvciAwLlxyXG4gKlxyXG4gKi9cclxuUC5wcmVjaXNpb24gPSBQLnNkID0gZnVuY3Rpb24gKHopIHtcclxuICB2YXIgayxcclxuICAgIHggPSB0aGlzO1xyXG5cclxuICBpZiAoeiAhPT0gdm9pZCAwICYmIHogIT09ICEheiAmJiB6ICE9PSAxICYmIHogIT09IDApIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHopO1xyXG5cclxuICBpZiAoeC5kKSB7XHJcbiAgICBrID0gZ2V0UHJlY2lzaW9uKHguZCk7XHJcbiAgICBpZiAoeiAmJiB4LmUgKyAxID4gaykgayA9IHguZSArIDE7XHJcbiAgfSBlbHNlIHtcclxuICAgIGsgPSBOYU47XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaztcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgdXNpbmdcclxuICogcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5yb3VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCB4LmUgKyAxLCBDdG9yLnJvdW5kaW5nKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIHNpbih4KSA9IHggLSB4XjMvMyEgKyB4XjUvNSEgLSAuLi5cclxuICpcclxuICogc2luKDApICAgICAgICAgPSAwXHJcbiAqIHNpbigtMCkgICAgICAgID0gLTBcclxuICogc2luKEluZmluaXR5KSAgPSBOYU5cclxuICogc2luKC1JbmZpbml0eSkgPSBOYU5cclxuICogc2luKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuc2luZSA9IFAuc2luID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIExPR19CQVNFO1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICB4ID0gc2luZShDdG9yLCB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA+IDIgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqICBzcXJ0KC1uKSA9ICBOXHJcbiAqICBzcXJ0KE4pICA9ICBOXHJcbiAqICBzcXJ0KC1JKSA9ICBOXHJcbiAqICBzcXJ0KEkpICA9ICBJXHJcbiAqICBzcXJ0KDApICA9ICAwXHJcbiAqICBzcXJ0KC0wKSA9IC0wXHJcbiAqXHJcbiAqL1xyXG5QLnNxdWFyZVJvb3QgPSBQLnNxcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG0sIG4sIHNkLCByLCByZXAsIHQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIGQgPSB4LmQsXHJcbiAgICBlID0geC5lLFxyXG4gICAgcyA9IHgucyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAvLyBOZWdhdGl2ZS9OYU4vSW5maW5pdHkvemVybz9cclxuICBpZiAocyAhPT0gMSB8fCAhZCB8fCAhZFswXSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKCFzIHx8IHMgPCAwICYmICghZCB8fCBkWzBdKSA/IE5hTiA6IGQgPyB4IDogMSAvIDApO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICBzID0gTWF0aC5zcXJ0KCt4KTtcclxuXHJcbiAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAvLyBQYXNzIHggdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gIGlmIChzID09IDAgfHwgcyA9PSAxIC8gMCkge1xyXG4gICAgbiA9IGRpZ2l0c1RvU3RyaW5nKGQpO1xyXG5cclxuICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICBzID0gTWF0aC5zcXJ0KG4pO1xyXG4gICAgZSA9IG1hdGhmbG9vcigoZSArIDEpIC8gMikgLSAoZSA8IDAgfHwgZSAlIDIpO1xyXG5cclxuICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICB9XHJcblxyXG4gICAgciA9IG5ldyBDdG9yKG4pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gbmV3IEN0b3Iocy50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHNkID0gKGUgPSBDdG9yLnByZWNpc2lvbikgKyAzO1xyXG5cclxuICAvLyBOZXd0b24tUmFwaHNvbiBpdGVyYXRpb24uXHJcbiAgZm9yICg7Oykge1xyXG4gICAgdCA9IHI7XHJcbiAgICByID0gdC5wbHVzKGRpdmlkZSh4LCB0LCBzZCArIDIsIDEpKS50aW1lcygwLjUpO1xyXG5cclxuICAgIC8vIFRPRE8/IFJlcGxhY2Ugd2l0aCBmb3ItbG9vcCBhbmQgY2hlY2tSb3VuZGluZ0RpZ2l0cy5cclxuICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHNkKSA9PT0gKG4gPSBkaWdpdHNUb1N0cmluZyhyLmQpKS5zbGljZSgwLCBzZCkpIHtcclxuICAgICAgbiA9IG4uc2xpY2Uoc2QgLSAzLCBzZCArIDEpO1xyXG5cclxuICAgICAgLy8gVGhlIDR0aCByb3VuZGluZyBkaWdpdCBtYXkgYmUgaW4gZXJyb3IgYnkgLTEgc28gaWYgdGhlIDQgcm91bmRpbmcgZGlnaXRzIGFyZSA5OTk5IG9yXHJcbiAgICAgIC8vIDQ5OTksIGkuZS4gYXBwcm9hY2hpbmcgYSByb3VuZGluZyBib3VuZGFyeSwgY29udGludWUgdGhlIGl0ZXJhdGlvbi5cclxuICAgICAgaWYgKG4gPT0gJzk5OTknIHx8ICFyZXAgJiYgbiA9PSAnNDk5OScpIHtcclxuXHJcbiAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlIGV4YWN0IHJlc3VsdCBhcyB0aGVcclxuICAgICAgICAvLyBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgaWYgKCFyZXApIHtcclxuICAgICAgICAgIGZpbmFsaXNlKHQsIGUgKyAxLCAwKTtcclxuXHJcbiAgICAgICAgICBpZiAodC50aW1lcyh0KS5lcSh4KSkge1xyXG4gICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZCArPSA0O1xyXG4gICAgICAgIHJlcCA9IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgYW4gZXhhY3QgcmVzdWx0LlxyXG4gICAgICAgIC8vIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgZmluYWxpc2UociwgZSArIDEsIDEpO1xyXG4gICAgICAgICAgbSA9ICFyLnRpbWVzKHIpLmVxKHgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIGUsIEN0b3Iucm91bmRpbmcsIG0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB0YW5nZW50IG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKlxyXG4gKiB0YW4oMCkgICAgICAgICA9IDBcclxuICogdGFuKC0wKSAgICAgICAgPSAtMFxyXG4gKiB0YW4oSW5maW5pdHkpICA9IE5hTlxyXG4gKiB0YW4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiB0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC50YW5nZW50ID0gUC50YW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgMTA7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSB4LnNpbigpO1xyXG4gIHgucyA9IDE7XHJcbiAgeCA9IGRpdmlkZSh4LCBuZXcgQ3RvcigxKS5taW51cyh4LnRpbWVzKHgpKS5zcXJ0KCksIHByICsgMTAsIDApO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID09IDIgfHwgcXVhZHJhbnQgPT0gNCA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuICogMCA9IDBcclxuICogIG4gKiBOID0gTlxyXG4gKiAgbiAqIEkgPSBJXHJcbiAqICAwICogbiA9IDBcclxuICogIDAgKiAwID0gMFxyXG4gKiAgMCAqIE4gPSBOXHJcbiAqICAwICogSSA9IE5cclxuICogIE4gKiBuID0gTlxyXG4gKiAgTiAqIDAgPSBOXHJcbiAqICBOICogTiA9IE5cclxuICogIE4gKiBJID0gTlxyXG4gKiAgSSAqIG4gPSBJXHJcbiAqICBJICogMCA9IE5cclxuICogIEkgKiBOID0gTlxyXG4gKiAgSSAqIEkgPSBJXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoaXMgRGVjaW1hbCB0aW1lcyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAudGltZXMgPSBQLm11bCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGNhcnJ5LCBlLCBpLCBrLCByLCByTCwgdCwgeGRMLCB5ZEwsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICB5ZCA9ICh5ID0gbmV3IEN0b3IoeSkpLmQ7XHJcblxyXG4gIHkucyAqPSB4LnM7XHJcblxyXG4gICAvLyBJZiBlaXRoZXIgaXMgTmFOLCDCsUluZmluaXR5IG9yIMKxMC4uLlxyXG4gIGlmICgheGQgfHwgIXhkWzBdIHx8ICF5ZCB8fCAheWRbMF0pIHtcclxuXHJcbiAgICByZXR1cm4gbmV3IEN0b3IoIXkucyB8fCB4ZCAmJiAheGRbMF0gJiYgIXlkIHx8IHlkICYmICF5ZFswXSAmJiAheGRcclxuXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIMKxMCBhbmQgeSBpcyDCsUluZmluaXR5LCBvciB5IGlzIMKxMCBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgICA/IE5hTlxyXG5cclxuICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIGlzIMKxSW5maW5pdHkuXHJcbiAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cclxuICAgICAgOiAheGQgfHwgIXlkID8geS5zIC8gMCA6IHkucyAqIDApO1xyXG4gIH1cclxuXHJcbiAgZSA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG4gIHhkTCA9IHhkLmxlbmd0aDtcclxuICB5ZEwgPSB5ZC5sZW5ndGg7XHJcblxyXG4gIC8vIEVuc3VyZSB4ZCBwb2ludHMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICBpZiAoeGRMIDwgeWRMKSB7XHJcbiAgICByID0geGQ7XHJcbiAgICB4ZCA9IHlkO1xyXG4gICAgeWQgPSByO1xyXG4gICAgckwgPSB4ZEw7XHJcbiAgICB4ZEwgPSB5ZEw7XHJcbiAgICB5ZEwgPSByTDtcclxuICB9XHJcblxyXG4gIC8vIEluaXRpYWxpc2UgdGhlIHJlc3VsdCBhcnJheSB3aXRoIHplcm9zLlxyXG4gIHIgPSBbXTtcclxuICByTCA9IHhkTCArIHlkTDtcclxuICBmb3IgKGkgPSByTDsgaS0tOykgci5wdXNoKDApO1xyXG5cclxuICAvLyBNdWx0aXBseSFcclxuICBmb3IgKGkgPSB5ZEw7IC0taSA+PSAwOykge1xyXG4gICAgY2FycnkgPSAwO1xyXG4gICAgZm9yIChrID0geGRMICsgaTsgayA+IGk7KSB7XHJcbiAgICAgIHQgPSByW2tdICsgeWRbaV0gKiB4ZFtrIC0gaSAtIDFdICsgY2Fycnk7XHJcbiAgICAgIHJbay0tXSA9IHQgJSBCQVNFIHwgMDtcclxuICAgICAgY2FycnkgPSB0IC8gQkFTRSB8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcltrXSA9IChyW2tdICsgY2FycnkpICUgQkFTRSB8IDA7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yICg7ICFyWy0tckxdOykgci5wb3AoKTtcclxuXHJcbiAgaWYgKGNhcnJ5KSArK2U7XHJcbiAgZWxzZSByLnNoaWZ0KCk7XHJcblxyXG4gIHkuZCA9IHI7XHJcbiAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQociwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKSA6IHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgMiwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9CaW5hcnkgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nQmluYXJ5KHRoaXMsIDIsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgZHBgXHJcbiAqIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCBvciBgcm91bmRpbmdgIGlmIGBybWAgaXMgb21pdHRlZC5cclxuICpcclxuICogSWYgYGRwYCBpcyBvbWl0dGVkLCByZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvRGVjaW1hbFBsYWNlcyA9IFAudG9EUCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG4gIGlmIChkcCA9PT0gdm9pZCAwKSByZXR1cm4geDtcclxuXHJcbiAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIGRwICsgeC5lICsgMSwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBleHBvbmVudGlhbCBub3RhdGlvbiByb3VuZGVkIHRvXHJcbiAqIGBkcGAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgdmFyIHN0cixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChkcCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgeCA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBkcCArIDEsIHJtKTtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHRydWUsIGRwICsgMSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBub3JtYWwgKGZpeGVkLXBvaW50KSBub3RhdGlvbiB0b1xyXG4gKiBgZHBgIGZpeGVkIGRlY2ltYWwgcGxhY2VzIGFuZCByb3VuZGVkIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCBvciBgcm91bmRpbmdgIGlmIGBybWAgaXNcclxuICogb21pdHRlZC5cclxuICpcclxuICogQXMgd2l0aCBKYXZhU2NyaXB0IG51bWJlcnMsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsIGJ1dCBlLmcuICgtMC4wMDAwMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKlxyXG4gKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsIGJ1dCAoLTAuMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKiAoLTApLnRvRml4ZWQoMSkgaXMgJzAuMCcsIGJ1dCAoLTAuMDEpLnRvRml4ZWQoMSkgaXMgJy0wLjAnLlxyXG4gKiAoLTApLnRvRml4ZWQoMykgaXMgJzAuMDAwJy5cclxuICogKC0wLjUpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICpcclxuICovXHJcblAudG9GaXhlZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgc3RyLCB5LFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB5ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgeC5lICsgMSwgcm0pO1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeSwgZmFsc2UsIGRwICsgeS5lICsgMSk7XHJcbiAgfVxyXG5cclxuICAvLyBUbyBkZXRlcm1pbmUgd2hldGhlciB0byBhZGQgdGhlIG1pbnVzIHNpZ24gbG9vayBhdCB0aGUgdmFsdWUgYmVmb3JlIGl0IHdhcyByb3VuZGVkLFxyXG4gIC8vIGkuZS4gbG9vayBhdCBgeGAgcmF0aGVyIHRoYW4gYHlgLlxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGFzIGEgc2ltcGxlIGZyYWN0aW9uIHdpdGggYW4gaW50ZWdlclxyXG4gKiBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAqXHJcbiAqIFRoZSBkZW5vbWluYXRvciB3aWxsIGJlIGEgcG9zaXRpdmUgbm9uLXplcm8gdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWQgbWF4aW11bVxyXG4gKiBkZW5vbWluYXRvci4gSWYgYSBtYXhpbXVtIGRlbm9taW5hdG9yIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBkZW5vbWluYXRvciB3aWxsIGJlIHRoZSBsb3dlc3RcclxuICogdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAqXHJcbiAqIFttYXhEXSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBNYXhpbXVtIGRlbm9taW5hdG9yLiBJbnRlZ2VyID49IDEgYW5kIDwgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLnRvRnJhY3Rpb24gPSBmdW5jdGlvbiAobWF4RCkge1xyXG4gIHZhciBkLCBkMCwgZDEsIGQyLCBlLCBrLCBuLCBuMCwgbjEsIHByLCBxLCByLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXhkKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIG4xID0gZDAgPSBuZXcgQ3RvcigxKTtcclxuICBkMSA9IG4wID0gbmV3IEN0b3IoMCk7XHJcblxyXG4gIGQgPSBuZXcgQ3RvcihkMSk7XHJcbiAgZSA9IGQuZSA9IGdldFByZWNpc2lvbih4ZCkgLSB4LmUgLSAxO1xyXG4gIGsgPSBlICUgTE9HX0JBU0U7XHJcbiAgZC5kWzBdID0gbWF0aHBvdygxMCwgayA8IDAgPyBMT0dfQkFTRSArIGsgOiBrKTtcclxuXHJcbiAgaWYgKG1heEQgPT0gbnVsbCkge1xyXG5cclxuICAgIC8vIGQgaXMgMTAqKmUsIHRoZSBtaW5pbXVtIG1heC1kZW5vbWluYXRvciBuZWVkZWQuXHJcbiAgICBtYXhEID0gZSA+IDAgPyBkIDogbjE7XHJcbiAgfSBlbHNlIHtcclxuICAgIG4gPSBuZXcgQ3RvcihtYXhEKTtcclxuICAgIGlmICghbi5pc0ludCgpIHx8IG4ubHQobjEpKSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBuKTtcclxuICAgIG1heEQgPSBuLmd0KGQpID8gKGUgPiAwID8gZCA6IG4xKSA6IG47XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIG4gPSBuZXcgQ3RvcihkaWdpdHNUb1N0cmluZyh4ZCkpO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBlID0geGQubGVuZ3RoICogTE9HX0JBU0UgKiAyO1xyXG5cclxuICBmb3IgKDs7KSAge1xyXG4gICAgcSA9IGRpdmlkZShuLCBkLCAwLCAxLCAxKTtcclxuICAgIGQyID0gZDAucGx1cyhxLnRpbWVzKGQxKSk7XHJcbiAgICBpZiAoZDIuY21wKG1heEQpID09IDEpIGJyZWFrO1xyXG4gICAgZDAgPSBkMTtcclxuICAgIGQxID0gZDI7XHJcbiAgICBkMiA9IG4xO1xyXG4gICAgbjEgPSBuMC5wbHVzKHEudGltZXMoZDIpKTtcclxuICAgIG4wID0gZDI7XHJcbiAgICBkMiA9IGQ7XHJcbiAgICBkID0gbi5taW51cyhxLnRpbWVzKGQyKSk7XHJcbiAgICBuID0gZDI7XHJcbiAgfVxyXG5cclxuICBkMiA9IGRpdmlkZShtYXhELm1pbnVzKGQwKSwgZDEsIDAsIDEsIDEpO1xyXG4gIG4wID0gbjAucGx1cyhkMi50aW1lcyhuMSkpO1xyXG4gIGQwID0gZDAucGx1cyhkMi50aW1lcyhkMSkpO1xyXG4gIG4wLnMgPSBuMS5zID0geC5zO1xyXG5cclxuICAvLyBEZXRlcm1pbmUgd2hpY2ggZnJhY3Rpb24gaXMgY2xvc2VyIHRvIHgsIG4wL2QwIG9yIG4xL2QxP1xyXG4gIHIgPSBkaXZpZGUobjEsIGQxLCBlLCAxKS5taW51cyh4KS5hYnMoKS5jbXAoZGl2aWRlKG4wLCBkMCwgZSwgMSkubWludXMoeCkuYWJzKCkpIDwgMVxyXG4gICAgICA/IFtuMSwgZDFdIDogW24wLCBkMF07XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gcjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSAxNiwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9IZXhhZGVjaW1hbCA9IFAudG9IZXggPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nQmluYXJ5KHRoaXMsIDE2LCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybnMgYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmVhcmVzdCBtdWx0aXBsZSBvZiBgeWAgaW4gdGhlIGRpcmVjdGlvbiBvZiByb3VuZGluZ1xyXG4gKiBtb2RlIGBybWAsIG9yIGBEZWNpbWFsLnJvdW5kaW5nYCBpZiBgcm1gIGlzIG9taXR0ZWQsIHRvIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHdheXMgaGF2ZSB0aGUgc2FtZSBzaWduIGFzIHRoaXMgRGVjaW1hbCwgdW5sZXNzIGVpdGhlciB0aGlzIERlY2ltYWxcclxuICogb3IgYHlgIGlzIE5hTiwgaW4gd2hpY2ggY2FzZSB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgYWxzbyBiZSBOYU4uXHJcbiAqXHJcbiAqIFRoZSByZXR1cm4gdmFsdWUgaXMgbm90IGFmZmVjdGVkIGJ5IHRoZSB2YWx1ZSBvZiBgcHJlY2lzaW9uYC5cclxuICpcclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgbWFnbml0dWRlIHRvIHJvdW5kIHRvIGEgbXVsdGlwbGUgb2YuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAqICd0b05lYXJlc3QoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcclxuICpcclxuICovXHJcblAudG9OZWFyZXN0ID0gZnVuY3Rpb24gKHksIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgaWYgKHkgPT0gbnVsbCkge1xyXG5cclxuICAgIC8vIElmIHggaXMgbm90IGZpbml0ZSwgcmV0dXJuIHguXHJcbiAgICBpZiAoIXguZCkgcmV0dXJuIHg7XHJcblxyXG4gICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB5ID0gbmV3IEN0b3IoeSk7XHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkge1xyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB4IGlzIG5vdCBmaW5pdGUsIHJldHVybiB4IGlmIHkgaXMgbm90IE5hTiwgZWxzZSBOYU4uXHJcbiAgICBpZiAoIXguZCkgcmV0dXJuIHkucyA/IHggOiB5O1xyXG5cclxuICAgIC8vIElmIHkgaXMgbm90IGZpbml0ZSwgcmV0dXJuIEluZmluaXR5IHdpdGggdGhlIHNpZ24gb2YgeCBpZiB5IGlzIEluZmluaXR5LCBlbHNlIE5hTi5cclxuICAgIGlmICgheS5kKSB7XHJcbiAgICAgIGlmICh5LnMpIHkucyA9IHgucztcclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBJZiB5IGlzIG5vdCB6ZXJvLCBjYWxjdWxhdGUgdGhlIG5lYXJlc3QgbXVsdGlwbGUgb2YgeSB0byB4LlxyXG4gIGlmICh5LmRbMF0pIHtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICB4ID0gZGl2aWRlKHgsIHksIDAsIHJtLCAxKS50aW1lcyh5KTtcclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgIGZpbmFsaXNlKHgpO1xyXG5cclxuICAvLyBJZiB5IGlzIHplcm8sIHJldHVybiB6ZXJvIHdpdGggdGhlIHNpZ24gb2YgeC5cclxuICB9IGVsc2Uge1xyXG4gICAgeS5zID0geC5zO1xyXG4gICAgeCA9IHk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gKiBaZXJvIGtlZXBzIGl0cyBzaWduLlxyXG4gKlxyXG4gKi9cclxuUC50b051bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gK3RoaXM7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgOCwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9PY3RhbCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgOCwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJhaXNlZCB0byB0aGUgcG93ZXIgYHlgLCByb3VuZGVkXHJcbiAqIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIEVDTUFTY3JpcHQgY29tcGxpYW50LlxyXG4gKlxyXG4gKiAgIHBvdyh4LCBOYU4pICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBOYU5cclxuICogICBwb3coeCwgwrEwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDFcclxuXHJcbiAqICAgcG93KE5hTiwgbm9uLXplcm8pICAgICAgICAgICAgICAgICAgICA9IE5hTlxyXG4gKiAgIHBvdyhhYnMoeCkgPiAxLCArSW5maW5pdHkpICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coYWJzKHgpID4gMSwgLUluZmluaXR5KSAgICAgICAgICAgID0gKzBcclxuICogICBwb3coYWJzKHgpID09IDEsIMKxSW5maW5pdHkpICAgICAgICAgICA9IE5hTlxyXG4gKiAgIHBvdyhhYnMoeCkgPCAxLCArSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdyhhYnMoeCkgPCAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coK0luZmluaXR5LCB5ID4gMCkgICAgICAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KCtJbmZpbml0eSwgeSA8IDApICAgICAgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KC1JbmZpbml0eSwgb2RkIGludGVnZXIgPiAwKSAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgIHBvdygtSW5maW5pdHksIGV2ZW4gaW50ZWdlciA+IDApICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA8IDApICAgICAgID0gLTBcclxuICogICBwb3coLUluZmluaXR5LCBldmVuIGludGVnZXIgPCAwKSAgICAgID0gKzBcclxuICogICBwb3coKzAsIHkgPiAwKSAgICAgICAgICAgICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coKzAsIHkgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAqICAgcG93KC0wLCBvZGQgaW50ZWdlciA+IDApICAgICAgICAgICAgICA9IC0wXHJcbiAqICAgcG93KC0wLCBldmVuIGludGVnZXIgPiAwKSAgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KC0wLCBvZGQgaW50ZWdlciA8IDApICAgICAgICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiAgIHBvdygtMCwgZXZlbiBpbnRlZ2VyIDwgMCkgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coZmluaXRlIHggPCAwLCBmaW5pdGUgbm9uLWludGVnZXIpID0gTmFOXHJcbiAqXHJcbiAqIEZvciBub24taW50ZWdlciBvciB2ZXJ5IGxhcmdlIGV4cG9uZW50cyBwb3coeCwgeSkgaXMgY2FsY3VsYXRlZCB1c2luZ1xyXG4gKlxyXG4gKiAgIHheeSA9IGV4cCh5KmxuKHgpKVxyXG4gKlxyXG4gKiBBc3N1bWluZyB0aGUgZmlyc3QgMTUgcm91bmRpbmcgZGlnaXRzIGFyZSBlYWNoIGVxdWFsbHkgbGlrZWx5IHRvIGJlIGFueSBkaWdpdCAwLTksIHRoZVxyXG4gKiBwcm9iYWJpbGl0eSBvZiBhbiBpbmNvcnJlY3RseSByb3VuZGVkIHJlc3VsdFxyXG4gKiBQKFs0OV05ezE0fSB8IFs1MF0wezE0fSkgPSAyICogMC4yICogMTBeLTE0ID0gNGUtMTUgPSAxLzIuNWUrMTRcclxuICogaS5lLiAxIGluIDI1MCwwMDAsMDAwLDAwMCwwMDBcclxuICpcclxuICogSWYgYSByZXN1bHQgaXMgaW5jb3JyZWN0bHkgcm91bmRlZCB0aGUgbWF4aW11bSBlcnJvciB3aWxsIGJlIDEgdWxwICh1bml0IGluIGxhc3QgcGxhY2UpLlxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBwb3dlciB0byB3aGljaCB0byByYWlzZSB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqL1xyXG5QLnRvUG93ZXIgPSBQLnBvdyA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGUsIGssIHByLCByLCBybSwgcyxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICB5biA9ICsoeSA9IG5ldyBDdG9yKHkpKTtcclxuXHJcbiAgLy8gRWl0aGVyIMKxSW5maW5pdHksIE5hTiBvciDCsTA/XHJcbiAgaWYgKCF4LmQgfHwgIXkuZCB8fCAheC5kWzBdIHx8ICF5LmRbMF0pIHJldHVybiBuZXcgQ3RvcihtYXRocG93KCt4LCB5bikpO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGlmICh4LmVxKDEpKSByZXR1cm4geDtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gIGlmICh5LmVxKDEpKSByZXR1cm4gZmluYWxpc2UoeCwgcHIsIHJtKTtcclxuXHJcbiAgLy8geSBleHBvbmVudFxyXG4gIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICAvLyBJZiB5IGlzIGEgc21hbGwgaW50ZWdlciB1c2UgdGhlICdleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZycgYWxnb3JpdGhtLlxyXG4gIGlmIChlID49IHkuZC5sZW5ndGggLSAxICYmIChrID0geW4gPCAwID8gLXluIDogeW4pIDw9IE1BWF9TQUZFX0lOVEVHRVIpIHtcclxuICAgIHIgPSBpbnRQb3coQ3RvciwgeCwgaywgcHIpO1xyXG4gICAgcmV0dXJuIHkucyA8IDAgPyBuZXcgQ3RvcigxKS5kaXYocikgOiBmaW5hbGlzZShyLCBwciwgcm0pO1xyXG4gIH1cclxuXHJcbiAgcyA9IHgucztcclxuXHJcbiAgLy8gaWYgeCBpcyBuZWdhdGl2ZVxyXG4gIGlmIChzIDwgMCkge1xyXG5cclxuICAgIC8vIGlmIHkgaXMgbm90IGFuIGludGVnZXJcclxuICAgIGlmIChlIDwgeS5kLmxlbmd0aCAtIDEpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJlc3VsdCBpcyBwb3NpdGl2ZSBpZiB4IGlzIG5lZ2F0aXZlIGFuZCB0aGUgbGFzdCBkaWdpdCBvZiBpbnRlZ2VyIHkgaXMgZXZlbi5cclxuICAgIGlmICgoeS5kW2VdICYgMSkgPT0gMCkgcyA9IDE7XHJcblxyXG4gICAgLy8gaWYgeC5lcSgtMSlcclxuICAgIGlmICh4LmUgPT0gMCAmJiB4LmRbMF0gPT0gMSAmJiB4LmQubGVuZ3RoID09IDEpIHtcclxuICAgICAgeC5zID0gcztcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBFc3RpbWF0ZSByZXN1bHQgZXhwb25lbnQuXHJcbiAgLy8geF55ID0gMTBeZSwgIHdoZXJlIGUgPSB5ICogbG9nMTAoeClcclxuICAvLyBsb2cxMCh4KSA9IGxvZzEwKHhfc2lnbmlmaWNhbmQpICsgeF9leHBvbmVudFxyXG4gIC8vIGxvZzEwKHhfc2lnbmlmaWNhbmQpID0gbG4oeF9zaWduaWZpY2FuZCkgLyBsbigxMClcclxuICBrID0gbWF0aHBvdygreCwgeW4pO1xyXG4gIGUgPSBrID09IDAgfHwgIWlzRmluaXRlKGspXHJcbiAgICA/IG1hdGhmbG9vcih5biAqIChNYXRoLmxvZygnMC4nICsgZGlnaXRzVG9TdHJpbmcoeC5kKSkgLyBNYXRoLkxOMTAgKyB4LmUgKyAxKSlcclxuICAgIDogbmV3IEN0b3IoayArICcnKS5lO1xyXG5cclxuICAvLyBFeHBvbmVudCBlc3RpbWF0ZSBtYXkgYmUgaW5jb3JyZWN0IGUuZy4geDogMC45OTk5OTk5OTk5OTk5OTk5OTksIHk6IDIuMjksIGU6IDAsIHIuZTogLTEuXHJcblxyXG4gIC8vIE92ZXJmbG93L3VuZGVyZmxvdz9cclxuICBpZiAoZSA+IEN0b3IubWF4RSArIDEgfHwgZSA8IEN0b3IubWluRSAtIDEpIHJldHVybiBuZXcgQ3RvcihlID4gMCA/IHMgLyAwIDogMCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHgucyA9IDE7XHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBleHRyYSBndWFyZCBkaWdpdHMgbmVlZGVkIHRvIGVuc3VyZSBmaXZlIGNvcnJlY3Qgcm91bmRpbmcgZGlnaXRzIGZyb21cclxuICAvLyBuYXR1cmFsTG9nYXJpdGhtKHgpLiBFeGFtcGxlIG9mIGZhaWx1cmUgd2l0aG91dCB0aGVzZSBleHRyYSBkaWdpdHMgKHByZWNpc2lvbjogMTApOlxyXG4gIC8vIG5ldyBEZWNpbWFsKDIuMzI0NTYpLnBvdygnMjA4Nzk4NzQzNjUzNDU2Ni40NjQxMScpXHJcbiAgLy8gc2hvdWxkIGJlIDEuMTYyMzc3ODIzZSs3NjQ5MTQ5MDUxNzM4MTUsIGJ1dCBpcyAxLjE2MjM1NTgyM2UrNzY0OTE0OTA1MTczODE1XHJcbiAgayA9IE1hdGgubWluKDEyLCAoZSArICcnKS5sZW5ndGgpO1xyXG5cclxuICAvLyByID0geF55ID0gZXhwKHkqbG4oeCkpXHJcbiAgciA9IG5hdHVyYWxFeHBvbmVudGlhbCh5LnRpbWVzKG5hdHVyYWxMb2dhcml0aG0oeCwgcHIgKyBrKSksIHByKTtcclxuXHJcbiAgLy8gciBtYXkgYmUgSW5maW5pdHksIGUuZy4gKDAuOTk5OTk5OTk5OTk5OTk5OSkucG93KC0xZSs0MClcclxuICBpZiAoci5kKSB7XHJcblxyXG4gICAgLy8gVHJ1bmNhdGUgdG8gdGhlIHJlcXVpcmVkIHByZWNpc2lvbiBwbHVzIGZpdmUgcm91bmRpbmcgZGlnaXRzLlxyXG4gICAgciA9IGZpbmFsaXNlKHIsIHByICsgNSwgMSk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OTkgb3IgWzUwXTAwMDAgaW5jcmVhc2UgdGhlIHByZWNpc2lvbiBieSAxMCBhbmQgcmVjYWxjdWxhdGVcclxuICAgIC8vIHRoZSByZXN1bHQuXHJcbiAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIHByLCBybSkpIHtcclxuICAgICAgZSA9IHByICsgMTA7XHJcblxyXG4gICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgaW5jcmVhc2VkIHByZWNpc2lvbiBwbHVzIGZpdmUgcm91bmRpbmcgZGlnaXRzLlxyXG4gICAgICByID0gZmluYWxpc2UobmF0dXJhbEV4cG9uZW50aWFsKHkudGltZXMobmF0dXJhbExvZ2FyaXRobSh4LCBlICsgaykpLCBlKSwgZSArIDUsIDEpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIDE0IG5pbmVzIGZyb20gdGhlIDJuZCByb3VuZGluZyBkaWdpdCAodGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0IG1heSBiZSA0IG9yIDkpLlxyXG4gICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UocHIgKyAxLCBwciArIDE1KSArIDEgPT0gMWUxNCkge1xyXG4gICAgICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDEsIDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByLnMgPSBzO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBwciwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIGBzZGAgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzIG5lY2Vzc2FyeSB0byByZXByZXNlbnRcclxuICogdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gbm9ybWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b1ByZWNpc2lvbiA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICB2YXIgc3RyLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgeCA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBzZCwgcm0pO1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgc2QgPD0geC5lIHx8IHguZSA8PSBDdG9yLnRvRXhwTmVnLCBzZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIG1heGltdW0gb2YgYHNkYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLCBvciB0byBgcHJlY2lzaW9uYCBhbmQgYHJvdW5kaW5nYCByZXNwZWN0aXZlbHkgaWZcclxuICogb21pdHRlZC5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICogJ3RvU0QoKSBkaWdpdHMgb3V0IG9mIHJhbmdlOiB7c2R9J1xyXG4gKiAndG9TRCgpIGRpZ2l0cyBub3QgYW4gaW50ZWdlcjoge3NkfSdcclxuICogJ3RvU0QoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xyXG4gKiAndG9TRCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xyXG4gKlxyXG4gKi9cclxuUC50b1NpZ25pZmljYW50RGlnaXRzID0gUC50b1NEID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkge1xyXG4gICAgc2QgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICB9IGVsc2Uge1xyXG4gICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhpcyBEZWNpbWFsIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gKiBgdG9FeHBQb3NgLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhbiBgdG9FeHBOZWdgLlxyXG4gKlxyXG4gKi9cclxuUC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHRydW5jYXRlZCB0byBhIHdob2xlIG51bWJlci5cclxuICpcclxuICovXHJcblAudHJ1bmNhdGVkID0gUC50cnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDEpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICogVW5saWtlIGB0b1N0cmluZ2AsIG5lZ2F0aXZlIHplcm8gd2lsbCBpbmNsdWRlIHRoZSBtaW51cyBzaWduLlxyXG4gKlxyXG4gKi9cclxuUC52YWx1ZU9mID0gUC50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuLy8gQWRkIGFsaWFzZXMgdG8gbWF0Y2ggQmlnRGVjaW1hbCBtZXRob2QgbmFtZXMuXHJcbi8vIFAuYWRkID0gUC5wbHVzO1xyXG5QLnN1YnRyYWN0ID0gUC5taW51cztcclxuUC5tdWx0aXBseSA9IFAudGltZXM7XHJcblAuZGl2aWRlID0gUC5kaXY7XHJcblAucmVtYWluZGVyID0gUC5tb2Q7XHJcblAuY29tcGFyZVRvID0gUC5jbXA7XHJcblAubmVnYXRlID0gUC5uZWc7XHJcbiAqL1xyXG5cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIERlY2ltYWwucHJvdG90eXBlIChQKSBhbmQvb3IgRGVjaW1hbCBtZXRob2RzLCBhbmQgdGhlaXIgY2FsbGVycy5cclxuXHJcblxyXG4vKlxyXG4gKiAgZGlnaXRzVG9TdHJpbmcgICAgICAgICAgIFAuY3ViZVJvb3QsIFAubG9nYXJpdGhtLCBQLnNxdWFyZVJvb3QsIFAudG9GcmFjdGlvbiwgUC50b1Bvd2VyLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbml0ZVRvU3RyaW5nLCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGNoZWNrSW50MzIgICAgICAgICAgICAgICBQLnRvRGVjaW1hbFBsYWNlcywgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsIFAudG9OZWFyZXN0LFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cywgdG9TdHJpbmdCaW5hcnksIHJhbmRvbVxyXG4gKiAgY2hlY2tSb3VuZGluZ0RpZ2l0cyAgICAgIFAubG9nYXJpdGhtLCBQLnRvUG93ZXIsIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgY29udmVydEJhc2UgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5LCBwYXJzZU90aGVyXHJcbiAqICBjb3MgICAgICAgICAgICAgICAgICAgICAgUC5jb3NcclxuICogIGRpdmlkZSAgICAgICAgICAgICAgICAgICBQLmF0YW5oLCBQLmN1YmVSb290LCBQLmRpdmlkZWRCeSwgUC5kaXZpZGVkVG9JbnRlZ2VyQnksXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIFAubW9kdWxvLCBQLnNxdWFyZVJvb3QsIFAudGFuLCBQLnRhbmgsIFAudG9GcmFjdGlvbixcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvTmVhcmVzdCwgdG9TdHJpbmdCaW5hcnksIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0YXlsb3JTZXJpZXMsIGF0YW4yLCBwYXJzZU90aGVyXHJcbiAqICBmaW5hbGlzZSAgICAgICAgICAgICAgICAgUC5hYnNvbHV0ZVZhbHVlLCBQLmF0YW4sIFAuYXRhbmgsIFAuY2VpbCwgUC5jb3MsIFAuY29zaCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLmN1YmVSb290LCBQLmRpdmlkZWRUb0ludGVnZXJCeSwgUC5mbG9vciwgUC5sb2dhcml0aG0sIFAubWludXMsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5tb2R1bG8sIFAubmVnYXRlZCwgUC5wbHVzLCBQLnJvdW5kLCBQLnNpbiwgUC5zaW5oLCBQLnNxdWFyZVJvb3QsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50YW4sIFAudGltZXMsIFAudG9EZWNpbWFsUGxhY2VzLCBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvTmVhcmVzdCwgUC50b1Bvd2VyLCBQLnRvUHJlY2lzaW9uLCBQLnRvU2lnbmlmaWNhbnREaWdpdHMsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50cnVuY2F0ZWQsIGRpdmlkZSwgZ2V0TG4xMCwgZ2V0UGksIG5hdHVyYWxFeHBvbmVudGlhbCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsTG9nYXJpdGhtLCBjZWlsLCBmbG9vciwgcm91bmQsIHRydW5jXHJcbiAqICBmaW5pdGVUb1N0cmluZyAgICAgICAgICAgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsIFAudG9QcmVjaXNpb24sIFAudG9TdHJpbmcsIFAudmFsdWVPZixcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0b1N0cmluZ0JpbmFyeVxyXG4gKiAgZ2V0QmFzZTEwRXhwb25lbnQgICAgICAgIFAubWludXMsIFAucGx1cywgUC50aW1lcywgcGFyc2VPdGhlclxyXG4gKiAgZ2V0TG4xMCAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBnZXRQaSAgICAgICAgICAgICAgICAgICAgUC5hY29zLCBQLmFzaW4sIFAuYXRhbiwgdG9MZXNzVGhhbkhhbGZQaSwgYXRhbjJcclxuICogIGdldFByZWNpc2lvbiAgICAgICAgICAgICBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uXHJcbiAqICBnZXRaZXJvU3RyaW5nICAgICAgICAgICAgZGlnaXRzVG9TdHJpbmcsIGZpbml0ZVRvU3RyaW5nXHJcbiAqICBpbnRQb3cgICAgICAgICAgICAgICAgICAgUC50b1Bvd2VyLCBwYXJzZU90aGVyXHJcbiAqICBpc09kZCAgICAgICAgICAgICAgICAgICAgdG9MZXNzVGhhbkhhbGZQaVxyXG4gKiAgbWF4T3JNaW4gICAgICAgICAgICAgICAgIG1heCwgbWluXHJcbiAqICBuYXR1cmFsRXhwb25lbnRpYWwgICAgICAgUC5uYXR1cmFsRXhwb25lbnRpYWwsIFAudG9Qb3dlclxyXG4gKiAgbmF0dXJhbExvZ2FyaXRobSAgICAgICAgIFAuYWNvc2gsIFAuYXNpbmgsIFAuYXRhbmgsIFAubG9nYXJpdGhtLCBQLm5hdHVyYWxMb2dhcml0aG0sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1Bvd2VyLCBuYXR1cmFsRXhwb25lbnRpYWxcclxuICogIG5vbkZpbml0ZVRvU3RyaW5nICAgICAgICBmaW5pdGVUb1N0cmluZywgdG9TdHJpbmdCaW5hcnlcclxuICogIHBhcnNlRGVjaW1hbCAgICAgICAgICAgICBEZWNpbWFsXHJcbiAqICBwYXJzZU90aGVyICAgICAgICAgICAgICAgRGVjaW1hbFxyXG4gKiAgc2luICAgICAgICAgICAgICAgICAgICAgIFAuc2luXHJcbiAqICB0YXlsb3JTZXJpZXMgICAgICAgICAgICAgUC5jb3NoLCBQLnNpbmgsIGNvcywgc2luXHJcbiAqICB0b0xlc3NUaGFuSGFsZlBpICAgICAgICAgUC5jb3MsIFAuc2luXHJcbiAqICB0b1N0cmluZ0JpbmFyeSAgICAgICAgICAgUC50b0JpbmFyeSwgUC50b0hleGFkZWNpbWFsLCBQLnRvT2N0YWxcclxuICogIHRydW5jYXRlICAgICAgICAgICAgICAgICBpbnRQb3dcclxuICpcclxuICogIFRocm93czogICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgUC5wcmVjaXNpb24sIFAudG9GcmFjdGlvbiwgY2hlY2tJbnQzMiwgZ2V0TG4xMCwgZ2V0UGksXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbExvZ2FyaXRobSwgY29uZmlnLCBwYXJzZU90aGVyLCByYW5kb20sIERlY2ltYWxcclxuICovXHJcblxyXG5cclxuZnVuY3Rpb24gZGlnaXRzVG9TdHJpbmcoZCkge1xyXG4gIHZhciBpLCBrLCB3cyxcclxuICAgIGluZGV4T2ZMYXN0V29yZCA9IGQubGVuZ3RoIC0gMSxcclxuICAgIHN0ciA9ICcnLFxyXG4gICAgdyA9IGRbMF07XHJcblxyXG4gIGlmIChpbmRleE9mTGFzdFdvcmQgPiAwKSB7XHJcbiAgICBzdHIgKz0gdztcclxuICAgIGZvciAoaSA9IDE7IGkgPCBpbmRleE9mTGFzdFdvcmQ7IGkrKykge1xyXG4gICAgICB3cyA9IGRbaV0gKyAnJztcclxuICAgICAgayA9IExPR19CQVNFIC0gd3MubGVuZ3RoO1xyXG4gICAgICBpZiAoaykgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICAgIHN0ciArPSB3cztcclxuICAgIH1cclxuXHJcbiAgICB3ID0gZFtpXTtcclxuICAgIHdzID0gdyArICcnO1xyXG4gICAgayA9IExPR19CQVNFIC0gd3MubGVuZ3RoO1xyXG4gICAgaWYgKGspIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gIH0gZWxzZSBpZiAodyA9PT0gMCkge1xyXG4gICAgcmV0dXJuICcwJztcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcyBvZiBsYXN0IHcuXHJcbiAgZm9yICg7IHcgJSAxMCA9PT0gMDspIHcgLz0gMTA7XHJcblxyXG4gIHJldHVybiBzdHIgKyB3O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbnQzMihpLCBtaW4sIG1heCkge1xyXG4gIGlmIChpICE9PSB+fmkgfHwgaSA8IG1pbiB8fCBpID4gbWF4KSB7XHJcbiAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBpKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDaGVjayA1IHJvdW5kaW5nIGRpZ2l0cyBpZiBgcmVwZWF0aW5nYCBpcyBudWxsLCA0IG90aGVyd2lzZS5cclxuICogYHJlcGVhdGluZyA9PSBudWxsYCBpZiBjYWxsZXIgaXMgYGxvZ2Agb3IgYHBvd2AsXHJcbiAqIGByZXBlYXRpbmcgIT0gbnVsbGAgaWYgY2FsbGVyIGlzIGBuYXR1cmFsTG9nYXJpdGhtYCBvciBgbmF0dXJhbEV4cG9uZW50aWFsYC5cclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrUm91bmRpbmdEaWdpdHMoZCwgaSwgcm0sIHJlcGVhdGluZykge1xyXG4gIHZhciBkaSwgaywgciwgcmQ7XHJcblxyXG4gIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBhcnJheSBkLlxyXG4gIGZvciAoayA9IGRbMF07IGsgPj0gMTA7IGsgLz0gMTApIC0taTtcclxuXHJcbiAgLy8gSXMgdGhlIHJvdW5kaW5nIGRpZ2l0IGluIHRoZSBmaXJzdCB3b3JkIG9mIGQ/XHJcbiAgaWYgKC0taSA8IDApIHtcclxuICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICBkaSA9IDA7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRpID0gTWF0aC5jZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcbiAgICBpICU9IExPR19CQVNFO1xyXG4gIH1cclxuXHJcbiAgLy8gaSBpcyB0aGUgaW5kZXggKDAgLSA2KSBvZiB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgLy8gRS5nLiBpZiB3aXRoaW4gdGhlIHdvcmQgMzQ4NzU2MyB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgaXMgNSxcclxuICAvLyB0aGVuIGkgPSA0LCBrID0gMTAwMCwgcmQgPSAzNDg3NTYzICUgMTAwMCA9IDU2M1xyXG4gIGsgPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIGkpO1xyXG4gIHJkID0gZFtkaV0gJSBrIHwgMDtcclxuXHJcbiAgaWYgKHJlcGVhdGluZyA9PSBudWxsKSB7XHJcbiAgICBpZiAoaSA8IDMpIHtcclxuICAgICAgaWYgKGkgPT0gMCkgcmQgPSByZCAvIDEwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMSkgcmQgPSByZCAvIDEwIHwgMDtcclxuICAgICAgciA9IHJtIDwgNCAmJiByZCA9PSA5OTk5OSB8fCBybSA+IDMgJiYgcmQgPT0gNDk5OTkgfHwgcmQgPT0gNTAwMDAgfHwgcmQgPT0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgPSAocm0gPCA0ICYmIHJkICsgMSA9PSBrIHx8IHJtID4gMyAmJiByZCArIDEgPT0gayAvIDIpICYmXHJcbiAgICAgICAgKGRbZGkgKyAxXSAvIGsgLyAxMDAgfCAwKSA9PSBtYXRocG93KDEwLCBpIC0gMikgLSAxIHx8XHJcbiAgICAgICAgICAocmQgPT0gayAvIDIgfHwgcmQgPT0gMCkgJiYgKGRbZGkgKyAxXSAvIGsgLyAxMDAgfCAwKSA9PSAwO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoaSA8IDQpIHtcclxuICAgICAgaWYgKGkgPT0gMCkgcmQgPSByZCAvIDEwMDAgfCAwO1xyXG4gICAgICBlbHNlIGlmIChpID09IDEpIHJkID0gcmQgLyAxMDAgfCAwO1xyXG4gICAgICBlbHNlIGlmIChpID09IDIpIHJkID0gcmQgLyAxMCB8IDA7XHJcbiAgICAgIHIgPSAocmVwZWF0aW5nIHx8IHJtIDwgNCkgJiYgcmQgPT0gOTk5OSB8fCAhcmVwZWF0aW5nICYmIHJtID4gMyAmJiByZCA9PSA0OTk5O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9ICgocmVwZWF0aW5nIHx8IHJtIDwgNCkgJiYgcmQgKyAxID09IGsgfHxcclxuICAgICAgKCFyZXBlYXRpbmcgJiYgcm0gPiAzKSAmJiByZCArIDEgPT0gayAvIDIpICYmXHJcbiAgICAgICAgKGRbZGkgKyAxXSAvIGsgLyAxMDAwIHwgMCkgPT0gbWF0aHBvdygxMCwgaSAtIDMpIC0gMTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLy8gQ29udmVydCBzdHJpbmcgb2YgYGJhc2VJbmAgdG8gYW4gYXJyYXkgb2YgbnVtYmVycyBvZiBgYmFzZU91dGAuXHJcbi8vIEVnLiBjb252ZXJ0QmFzZSgnMjU1JywgMTAsIDE2KSByZXR1cm5zIFsxNSwgMTVdLlxyXG4vLyBFZy4gY29udmVydEJhc2UoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuZnVuY3Rpb24gY29udmVydEJhc2Uoc3RyLCBiYXNlSW4sIGJhc2VPdXQpIHtcclxuICB2YXIgaixcclxuICAgIGFyciA9IFswXSxcclxuICAgIGFyckwsXHJcbiAgICBpID0gMCxcclxuICAgIHN0ckwgPSBzdHIubGVuZ3RoO1xyXG5cclxuICBmb3IgKDsgaSA8IHN0ckw7KSB7XHJcbiAgICBmb3IgKGFyckwgPSBhcnIubGVuZ3RoOyBhcnJMLS07KSBhcnJbYXJyTF0gKj0gYmFzZUluO1xyXG4gICAgYXJyWzBdICs9IE5VTUVSQUxTLmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuICAgIGZvciAoaiA9IDA7IGogPCBhcnIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgaWYgKGFycltqXSA+IGJhc2VPdXQgLSAxKSB7XHJcbiAgICAgICAgaWYgKGFycltqICsgMV0gPT09IHZvaWQgMCkgYXJyW2ogKyAxXSA9IDA7XHJcbiAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICBhcnJbal0gJT0gYmFzZU91dDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFyci5yZXZlcnNlKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBjb3MoeCkgPSAxIC0geF4yLzIhICsgeF40LzQhIC0gLi4uXHJcbiAqIHx4fCA8IHBpLzJcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvc2luZShDdG9yLCB4KSB7XHJcbiAgdmFyIGssIHksXHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IGNvcyg0eCkgPSA4Kihjb3NeNCh4KSAtIGNvc14yKHgpKSArIDFcclxuICAvLyBpLmUuIGNvcyh4KSA9IDgqKGNvc140KHgvNCkgLSBjb3NeMih4LzQpKSArIDFcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gIGlmIChsZW4gPCAzMikge1xyXG4gICAgayA9IE1hdGguY2VpbChsZW4gLyAzKTtcclxuICAgIHkgPSAoMSAvIHRpbnlQb3coNCwgaykpLnRvU3RyaW5nKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGsgPSAxNjtcclxuICAgIHkgPSAnMi4zMjgzMDY0MzY1Mzg2OTYyODkwNjI1ZS0xMCc7XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiArPSBrO1xyXG5cclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDEsIHgudGltZXMoeSksIG5ldyBDdG9yKDEpKTtcclxuXHJcbiAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICBmb3IgKHZhciBpID0gazsgaS0tOykge1xyXG4gICAgdmFyIGNvczJ4ID0geC50aW1lcyh4KTtcclxuICAgIHggPSBjb3MyeC50aW1lcyhjb3MyeCkubWludXMoY29zMngpLnRpbWVzKDgpLnBsdXMoMSk7XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiAtPSBrO1xyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBlcmZvcm0gZGl2aXNpb24gaW4gdGhlIHNwZWNpZmllZCBiYXNlLlxyXG4gKi9cclxudmFyIGRpdmlkZSA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIC8vIEFzc3VtZXMgbm9uLXplcm8geCBhbmQgaywgYW5kIGhlbmNlIG5vbi16ZXJvIHJlc3VsdC5cclxuICBmdW5jdGlvbiBtdWx0aXBseUludGVnZXIoeCwgaywgYmFzZSkge1xyXG4gICAgdmFyIHRlbXAsXHJcbiAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgaSA9IHgubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICB0ZW1wID0geFtpXSAqIGsgKyBjYXJyeTtcclxuICAgICAgeFtpXSA9IHRlbXAgJSBiYXNlIHwgMDtcclxuICAgICAgY2FycnkgPSB0ZW1wIC8gYmFzZSB8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhcnJ5KSB4LnVuc2hpZnQoY2FycnkpO1xyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgIHZhciBpLCByO1xyXG5cclxuICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICByID0gYUwgPiBiTCA/IDEgOiAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAoaSA9IHIgPSAwOyBpIDwgYUw7IGkrKykge1xyXG4gICAgICAgIGlmIChhW2ldICE9IGJbaV0pIHtcclxuICAgICAgICAgIHIgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3VidHJhY3QoYSwgYiwgYUwsIGJhc2UpIHtcclxuICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCBiIGZyb20gYS5cclxuICAgIGZvciAoOyBhTC0tOykge1xyXG4gICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICBpID0gYVthTF0gPCBiW2FMXSA/IDEgOiAwO1xyXG4gICAgICBhW2FMXSA9IGkgKiBiYXNlICsgYVthTF0gLSBiW2FMXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyAhYVswXSAmJiBhLmxlbmd0aCA+IDE7KSBhLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIHByLCBybSwgZHAsIGJhc2UpIHtcclxuICAgIHZhciBjbXAsIGUsIGksIGssIGxvZ0Jhc2UsIG1vcmUsIHByb2QsIHByb2RMLCBxLCBxZCwgcmVtLCByZW1MLCByZW0wLCBzZCwgdCwgeGksIHhMLCB5ZDAsXHJcbiAgICAgIHlMLCB5eixcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHNpZ24gPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICB4ZCA9IHguZCxcclxuICAgICAgeWQgPSB5LmQ7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgIGlmICgheGQgfHwgIXhkWzBdIHx8ICF5ZCB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgQ3RvcigvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBOYU4sIG9yIGJvdGggSW5maW5pdHkgb3IgMC5cclxuICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhkID8geWQgJiYgeGRbMF0gPT0geWRbMF0gOiAheWQpID8gTmFOIDpcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxMCBpZiB4IGlzIDAgb3IgeSBpcyDCsUluZmluaXR5LCBvciByZXR1cm4gwrFJbmZpbml0eSBhcyB5IGlzIDAuXHJcbiAgICAgICAgeGQgJiYgeGRbMF0gPT0gMCB8fCAheWQgPyBzaWduICogMCA6IHNpZ24gLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYmFzZSkge1xyXG4gICAgICBsb2dCYXNlID0gMTtcclxuICAgICAgZSA9IHguZSAtIHkuZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICBsb2dCYXNlID0gTE9HX0JBU0U7XHJcbiAgICAgIGUgPSBtYXRoZmxvb3IoeC5lIC8gbG9nQmFzZSkgLSBtYXRoZmxvb3IoeS5lIC8gbG9nQmFzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICB4TCA9IHhkLmxlbmd0aDtcclxuICAgIHEgPSBuZXcgQ3RvcihzaWduKTtcclxuICAgIHFkID0gcS5kID0gW107XHJcblxyXG4gICAgLy8gUmVzdWx0IGV4cG9uZW50IG1heSBiZSBvbmUgbGVzcyB0aGFuIGUuXHJcbiAgICAvLyBUaGUgZGlnaXQgYXJyYXkgb2YgYSBEZWNpbWFsIGZyb20gdG9TdHJpbmdCaW5hcnkgbWF5IGhhdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSAwOyB5ZFtpXSA9PSAoeGRbaV0gfHwgMCk7IGkrKyk7XHJcblxyXG4gICAgaWYgKHlkW2ldID4gKHhkW2ldIHx8IDApKSBlLS07XHJcblxyXG4gICAgaWYgKHByID09IG51bGwpIHtcclxuICAgICAgc2QgPSBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICB9IGVsc2UgaWYgKGRwKSB7XHJcbiAgICAgIHNkID0gcHIgKyAoeC5lIC0geS5lKSArIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZCA9IHByO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZCA8IDApIHtcclxuICAgICAgcWQucHVzaCgxKTtcclxuICAgICAgbW9yZSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gQ29udmVydCBwcmVjaXNpb24gaW4gbnVtYmVyIG9mIGJhc2UgMTAgZGlnaXRzIHRvIGJhc2UgMWU3IGRpZ2l0cy5cclxuICAgICAgc2QgPSBzZCAvIGxvZ0Jhc2UgKyAyIHwgMDtcclxuICAgICAgaSA9IDA7XHJcblxyXG4gICAgICAvLyBkaXZpc29yIDwgMWU3XHJcbiAgICAgIGlmICh5TCA9PSAxKSB7XHJcbiAgICAgICAgayA9IDA7XHJcbiAgICAgICAgeWQgPSB5ZFswXTtcclxuICAgICAgICBzZCsrO1xyXG5cclxuICAgICAgICAvLyBrIGlzIHRoZSBjYXJyeS5cclxuICAgICAgICBmb3IgKDsgKGkgPCB4TCB8fCBrKSAmJiBzZC0tOyBpKyspIHtcclxuICAgICAgICAgIHQgPSBrICogYmFzZSArICh4ZFtpXSB8fCAwKTtcclxuICAgICAgICAgIHFkW2ldID0gdCAvIHlkIHwgMDtcclxuICAgICAgICAgIGsgPSB0ICUgeWQgfCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbW9yZSA9IGsgfHwgaSA8IHhMO1xyXG5cclxuICAgICAgLy8gZGl2aXNvciA+PSAxZTdcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gTm9ybWFsaXNlIHhkIGFuZCB5ZCBzbyBoaWdoZXN0IG9yZGVyIGRpZ2l0IG9mIHlkIGlzID49IGJhc2UvMlxyXG4gICAgICAgIGsgPSBiYXNlIC8gKHlkWzBdICsgMSkgfCAwO1xyXG5cclxuICAgICAgICBpZiAoayA+IDEpIHtcclxuICAgICAgICAgIHlkID0gbXVsdGlwbHlJbnRlZ2VyKHlkLCBrLCBiYXNlKTtcclxuICAgICAgICAgIHhkID0gbXVsdGlwbHlJbnRlZ2VyKHhkLCBrLCBiYXNlKTtcclxuICAgICAgICAgIHlMID0geWQubGVuZ3RoO1xyXG4gICAgICAgICAgeEwgPSB4ZC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4aSA9IHlMO1xyXG4gICAgICAgIHJlbSA9IHhkLnNsaWNlKDAsIHlMKTtcclxuICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cclxuICAgICAgICBmb3IgKDsgcmVtTCA8IHlMOykgcmVtW3JlbUwrK10gPSAwO1xyXG5cclxuICAgICAgICB5eiA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgeXoudW5zaGlmdCgwKTtcclxuICAgICAgICB5ZDAgPSB5ZFswXTtcclxuXHJcbiAgICAgICAgaWYgKHlkWzFdID49IGJhc2UgLyAyKSArK3lkMDtcclxuXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgayA9IDA7XHJcblxyXG4gICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICBjbXAgPSBjb21wYXJlKHlkLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgcmVtYWluZGVyLlxyXG4gICAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0cmlhbCBkaWdpdCwgay5cclxuICAgICAgICAgICAgcmVtMCA9IHJlbVswXTtcclxuICAgICAgICAgICAgaWYgKHlMICE9IHJlbUwpIHJlbTAgPSByZW0wICogYmFzZSArIChyZW1bMV0gfHwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBrIHdpbGwgYmUgaG93IG1hbnkgdGltZXMgdGhlIGRpdmlzb3IgZ29lcyBpbnRvIHRoZSBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgayA9IHJlbTAgLyB5ZDAgfCAwO1xyXG5cclxuICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcclxuICAgICAgICAgICAgLy8gIDEuIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQgKGspXHJcbiAgICAgICAgICAgIC8vICAyLiBpZiBwcm9kdWN0ID4gcmVtYWluZGVyOiBwcm9kdWN0IC09IGRpdmlzb3IsIGstLVxyXG4gICAgICAgICAgICAvLyAgMy4gcmVtYWluZGVyIC09IHByb2R1Y3RcclxuICAgICAgICAgICAgLy8gIDQuIGlmIHByb2R1Y3Qgd2FzIDwgcmVtYWluZGVyIGF0IDI6XHJcbiAgICAgICAgICAgIC8vICAgIDUuIGNvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvclxyXG4gICAgICAgICAgICAvLyAgICA2LiBJZiByZW1haW5kZXIgPiBkaXZpc29yOiByZW1haW5kZXIgLT0gZGl2aXNvciwgaysrXHJcblxyXG4gICAgICAgICAgICBpZiAoayA+IDEpIHtcclxuICAgICAgICAgICAgICBpZiAoayA+PSBiYXNlKSBrID0gYmFzZSAtIDE7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5SW50ZWdlcih5ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgY21wID0gY29tcGFyZShwcm9kLCByZW0sIHByb2RMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA+IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBpZiAoY21wID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGstLTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHByb2QsIHlMIDwgcHJvZEwgPyB5eiA6IHlkLCBwcm9kTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgLy8gSWYgayBpcyAwLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbXBhcmUgeWQgYW5kIHJlbSBhZ2FpbiBiZWxvdywgc28gY2hhbmdlIGNtcCB0byAxXHJcbiAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgaXQuIElmIGsgaXMgMSB0aGVyZSBpcyBhIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LlxyXG4gICAgICAgICAgICAgIGlmIChrID09IDApIGNtcCA9IGsgPSAxO1xyXG4gICAgICAgICAgICAgIHByb2QgPSB5ZC5zbGljZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAocHJvZEwgPCByZW1MKSBwcm9kLnVuc2hpZnQoMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCB3YXMgPCBwcmV2aW91cyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcclxuICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCBuZXcgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgbmV3IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBpZiAoY21wIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgaysrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHlMIDwgcmVtTCA/IHl6IDogeWQsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICBrKys7XHJcbiAgICAgICAgICAgIHJlbSA9IFswXTtcclxuICAgICAgICAgIH0gICAgLy8gaWYgY21wID09PSAxLCBrIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgIC8vIEFkZCB0aGUgbmV4dCBkaWdpdCwgaywgdG8gdGhlIHJlc3VsdCBhcnJheS5cclxuICAgICAgICAgIHFkW2krK10gPSBrO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgaWYgKGNtcCAmJiByZW1bMF0pIHtcclxuICAgICAgICAgICAgcmVtW3JlbUwrK10gPSB4ZFt4aV0gfHwgMDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbSA9IFt4ZFt4aV1dO1xyXG4gICAgICAgICAgICByZW1MID0gMTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT09IHZvaWQgMCkgJiYgc2QtLSk7XHJcblxyXG4gICAgICAgIG1vcmUgPSByZW1bMF0gIT09IHZvaWQgMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICBpZiAoIXFkWzBdKSBxZC5zaGlmdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvZ0Jhc2UgaXMgMSB3aGVuIGRpdmlkZSBpcyBiZWluZyB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uXHJcbiAgICBpZiAobG9nQmFzZSA9PSAxKSB7XHJcbiAgICAgIHEuZSA9IGU7XHJcbiAgICAgIGluZXhhY3QgPSBtb3JlO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxZFswXS5cclxuICAgICAgZm9yIChpID0gMSwgayA9IHFkWzBdOyBrID49IDEwOyBrIC89IDEwKSBpKys7XHJcbiAgICAgIHEuZSA9IGkgKyBlICogbG9nQmFzZSAtIDE7XHJcblxyXG4gICAgICBmaW5hbGlzZShxLCBkcCA/IHByICsgcS5lICsgMSA6IHByLCBybSwgbW9yZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHE7XHJcbiAgfTtcclxufSkoKTtcclxuXHJcblxyXG4vKlxyXG4gKiBSb3VuZCBgeGAgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gKiBDaGVjayBmb3Igb3Zlci91bmRlci1mbG93LlxyXG4gKi9cclxuIGZ1bmN0aW9uIGZpbmFsaXNlKHgsIHNkLCBybSwgaXNUcnVuY2F0ZWQpIHtcclxuICB2YXIgZGlnaXRzLCBpLCBqLCBrLCByZCwgcm91bmRVcCwgdywgeGQsIHhkaSxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAvLyBEb24ndCByb3VuZCBpZiBzZCBpcyBudWxsIG9yIHVuZGVmaW5lZC5cclxuICBvdXQ6IGlmIChzZCAhPSBudWxsKSB7XHJcbiAgICB4ZCA9IHguZDtcclxuXHJcbiAgICAvLyBJbmZpbml0eS9OYU4uXHJcbiAgICBpZiAoIXhkKSByZXR1cm4geDtcclxuXHJcbiAgICAvLyByZDogdGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgIC8vIHc6IHRoZSB3b3JkIG9mIHhkIGNvbnRhaW5pbmcgcmQsIGEgYmFzZSAxZTcgbnVtYmVyLlxyXG4gICAgLy8geGRpOiB0aGUgaW5kZXggb2YgdyB3aXRoaW4geGQuXHJcbiAgICAvLyBkaWdpdHM6IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHcuXHJcbiAgICAvLyBpOiB3aGF0IHdvdWxkIGJlIHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdyBpZiBhbGwgdGhlIG51bWJlcnMgd2VyZSA3IGRpZ2l0cyBsb25nIChpLmUuIGlmXHJcbiAgICAvLyB0aGV5IGhhZCBsZWFkaW5nIHplcm9zKVxyXG4gICAgLy8gajogaWYgPiAwLCB0aGUgYWN0dWFsIGluZGV4IG9mIHJkIHdpdGhpbiB3IChpZiA8IDAsIHJkIGlzIGEgbGVhZGluZyB6ZXJvKS5cclxuXHJcbiAgICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5IHhkLlxyXG4gICAgZm9yIChkaWdpdHMgPSAxLCBrID0geGRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGRpZ2l0cysrO1xyXG4gICAgaSA9IHNkIC0gZGlnaXRzO1xyXG5cclxuICAgIC8vIElzIHRoZSByb3VuZGluZyBkaWdpdCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgIGlmIChpIDwgMCkge1xyXG4gICAgICBpICs9IExPR19CQVNFO1xyXG4gICAgICBqID0gc2Q7XHJcbiAgICAgIHcgPSB4ZFt4ZGkgPSAwXTtcclxuXHJcbiAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiB3LlxyXG4gICAgICByZCA9IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkgJSAxMCB8IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ZGkgPSBNYXRoLmNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuICAgICAgayA9IHhkLmxlbmd0aDtcclxuICAgICAgaWYgKHhkaSA+PSBrKSB7XHJcbiAgICAgICAgaWYgKGlzVHJ1bmNhdGVkKSB7XHJcblxyXG4gICAgICAgICAgLy8gTmVlZGVkIGJ5IGBuYXR1cmFsRXhwb25lbnRpYWxgLCBgbmF0dXJhbExvZ2FyaXRobWAgYW5kIGBzcXVhcmVSb290YC5cclxuICAgICAgICAgIGZvciAoOyBrKysgPD0geGRpOykgeGQucHVzaCgwKTtcclxuICAgICAgICAgIHcgPSByZCA9IDA7XHJcbiAgICAgICAgICBkaWdpdHMgPSAxO1xyXG4gICAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHcgPSBrID0geGRbeGRpXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHcuXHJcbiAgICAgICAgZm9yIChkaWdpdHMgPSAxOyBrID49IDEwOyBrIC89IDEwKSBkaWdpdHMrKztcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdy5cclxuICAgICAgICBpICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgdyBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGRpZ2l0cy5cclxuICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZGlnaXRzO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygdy5cclxuICAgICAgICByZCA9IGogPCAwID8gMCA6IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkgJSAxMCB8IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICBpc1RydW5jYXRlZCA9IGlzVHJ1bmNhdGVkIHx8IHNkIDwgMCB8fFxyXG4gICAgICB4ZFt4ZGkgKyAxXSAhPT0gdm9pZCAwIHx8IChqIDwgMCA/IHcgOiB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpKTtcclxuXHJcbiAgICAvLyBUaGUgZXhwcmVzc2lvbiBgdyAlIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKWAgcmV0dXJucyBhbGwgdGhlIGRpZ2l0cyBvZiB3IHRvIHRoZSByaWdodFxyXG4gICAgLy8gb2YgdGhlIGRpZ2l0IGF0IChsZWZ0LXRvLXJpZ2h0KSBpbmRleCBqLCBlLmcuIGlmIHcgaXMgOTA4NzE0IGFuZCBqIGlzIDIsIHRoZSBleHByZXNzaW9uXHJcbiAgICAvLyB3aWxsIGdpdmUgNzE0LlxyXG5cclxuICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgPyAocmQgfHwgaXNUcnVuY2F0ZWQpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IGlzVHJ1bmNhdGVkIHx8IHJtID09IDYgJiZcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAoKGkgPiAwID8gaiA+IDAgPyB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaikgOiAwIDogeGRbeGRpIC0gMV0pICUgMTApICYgMSB8fFxyXG4gICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgIGlmIChzZCA8IDEgfHwgIXhkWzBdKSB7XHJcbiAgICAgIHhkLmxlbmd0aCA9IDA7XHJcbiAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgc2QgLT0geC5lICsgMTtcclxuXHJcbiAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICB4ZFswXSA9IG1hdGhwb3coMTAsIChMT0dfQkFTRSAtIHNkICUgTE9HX0JBU0UpICUgTE9HX0JBU0UpO1xyXG4gICAgICAgIHguZSA9IC1zZCB8fCAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHhkWzBdID0geC5lID0gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgIHhkLmxlbmd0aCA9IHhkaTtcclxuICAgICAgayA9IDE7XHJcbiAgICAgIHhkaS0tO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeGQubGVuZ3RoID0geGRpICsgMTtcclxuICAgICAgayA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gaSk7XHJcblxyXG4gICAgICAvLyBFLmcuIDU2NzAwIGJlY29tZXMgNTYwMDAgaWYgNyBpcyB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIC8vIGogPiAwIG1lYW5zIGkgPiBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3LlxyXG4gICAgICB4ZFt4ZGldID0gaiA+IDAgPyAodyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGopICUgbWF0aHBvdygxMCwgaikgfCAwKSAqIGsgOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZFVwKSB7XHJcbiAgICAgIGZvciAoOzspIHtcclxuXHJcbiAgICAgICAgLy8gSXMgdGhlIGRpZ2l0IHRvIGJlIHJvdW5kZWQgdXAgaW4gdGhlIGZpcnN0IHdvcmQgb2YgeGQ/XHJcbiAgICAgICAgaWYgKHhkaSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGRbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXHJcbiAgICAgICAgICBmb3IgKGkgPSAxLCBqID0geGRbMF07IGogPj0gMTA7IGogLz0gMTApIGkrKztcclxuICAgICAgICAgIGogPSB4ZFswXSArPSBrO1xyXG4gICAgICAgICAgZm9yIChrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCkgaysrO1xyXG5cclxuICAgICAgICAgIC8vIGlmIGkgIT0gayB0aGUgbGVuZ3RoIGhhcyBpbmNyZWFzZWQuXHJcbiAgICAgICAgICBpZiAoaSAhPSBrKSB7XHJcbiAgICAgICAgICAgIHguZSsrO1xyXG4gICAgICAgICAgICBpZiAoeGRbMF0gPT0gQkFTRSkgeGRbMF0gPSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4ZFt4ZGldICs9IGs7XHJcbiAgICAgICAgICBpZiAoeGRbeGRpXSAhPSBCQVNFKSBicmVhaztcclxuICAgICAgICAgIHhkW3hkaS0tXSA9IDA7XHJcbiAgICAgICAgICBrID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSB4ZC5sZW5ndGg7IHhkWy0taV0gPT09IDA7KSB4ZC5wb3AoKTtcclxuICB9XHJcblxyXG4gIGlmIChleHRlcm5hbCkge1xyXG5cclxuICAgIC8vIE92ZXJmbG93P1xyXG4gICAgaWYgKHguZSA+IEN0b3IubWF4RSkge1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICB9IGVsc2UgaWYgKHguZSA8IEN0b3IubWluRSkge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgeC5lID0gMDtcclxuICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAvLyBDdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICB9IC8vIGVsc2UgQ3Rvci51bmRlcmZsb3cgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZmluaXRlVG9TdHJpbmcoeCwgaXNFeHAsIHNkKSB7XHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBub25GaW5pdGVUb1N0cmluZyh4KTtcclxuICB2YXIgayxcclxuICAgIGUgPSB4LmUsXHJcbiAgICBzdHIgPSBkaWdpdHNUb1N0cmluZyh4LmQpLFxyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgaWYgKGlzRXhwKSB7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgKyBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgfSBlbHNlIGlmIChsZW4gPiAxKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RyID0gc3RyICsgKHguZSA8IDAgPyAnZScgOiAnZSsnKSArIHguZTtcclxuICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICBzdHIgPSAnMC4nICsgZ2V0WmVyb1N0cmluZygtZSAtIDEpICsgc3RyO1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIGlmIChlID49IGxlbikge1xyXG4gICAgc3RyICs9IGdldFplcm9TdHJpbmcoZSArIDEgLSBsZW4pO1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBlIC0gMSkgPiAwKSBzdHIgPSBzdHIgKyAnLicgKyBnZXRaZXJvU3RyaW5nKGspO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoKGsgPSBlICsgMSkgPCBsZW4pIHN0ciA9IHN0ci5zbGljZSgwLCBrKSArICcuJyArIHN0ci5zbGljZShrKTtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHtcclxuICAgICAgaWYgKGUgKyAxID09PSBsZW4pIHN0ciArPSAnLic7XHJcbiAgICAgIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudCBmcm9tIHRoZSBiYXNlIDFlNyBleHBvbmVudC5cclxuZnVuY3Rpb24gZ2V0QmFzZTEwRXhwb25lbnQoZGlnaXRzLCBlKSB7XHJcbiAgdmFyIHcgPSBkaWdpdHNbMF07XHJcblxyXG4gIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gIGZvciAoIGUgKj0gTE9HX0JBU0U7IHcgPj0gMTA7IHcgLz0gMTApIGUrKztcclxuICByZXR1cm4gZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldExuMTAoQ3Rvciwgc2QsIHByKSB7XHJcbiAgaWYgKHNkID4gTE4xMF9QUkVDSVNJT04pIHtcclxuXHJcbiAgICAvLyBSZXNldCBnbG9iYWwgc3RhdGUgaW4gY2FzZSB0aGUgZXhjZXB0aW9uIGlzIGNhdWdodC5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgIGlmIChwcikgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIHRocm93IEVycm9yKHByZWNpc2lvbkxpbWl0RXhjZWVkZWQpO1xyXG4gIH1cclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoTE4xMCksIHNkLCAxLCB0cnVlKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFBpKEN0b3IsIHNkLCBybSkge1xyXG4gIGlmIChzZCA+IFBJX1BSRUNJU0lPTikgdGhyb3cgRXJyb3IocHJlY2lzaW9uTGltaXRFeGNlZWRlZCk7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKFBJKSwgc2QsIHJtLCB0cnVlKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFByZWNpc2lvbihkaWdpdHMpIHtcclxuICB2YXIgdyA9IGRpZ2l0cy5sZW5ndGggLSAxLFxyXG4gICAgbGVuID0gdyAqIExPR19CQVNFICsgMTtcclxuXHJcbiAgdyA9IGRpZ2l0c1t3XTtcclxuXHJcbiAgLy8gSWYgbm9uLXplcm8uLi5cclxuICBpZiAodykge1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3Qgd29yZC5cclxuICAgIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbGVuLS07XHJcblxyXG4gICAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkLlxyXG4gICAgZm9yICh3ID0gZGlnaXRzWzBdOyB3ID49IDEwOyB3IC89IDEwKSBsZW4rKztcclxuICB9XHJcblxyXG4gIHJldHVybiBsZW47XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRaZXJvU3RyaW5nKGspIHtcclxuICB2YXIgenMgPSAnJztcclxuICBmb3IgKDsgay0tOykgenMgKz0gJzAnO1xyXG4gIHJldHVybiB6cztcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiBEZWNpbWFsIGB4YCB0byB0aGUgcG93ZXIgYG5gLCB3aGVyZSBgbmAgaXMgYW5cclxuICogaW50ZWdlciBvZiB0eXBlIG51bWJlci5cclxuICpcclxuICogSW1wbGVtZW50cyAnZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcnLiBDYWxsZWQgYnkgYHBvd2AgYW5kIGBwYXJzZU90aGVyYC5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGludFBvdyhDdG9yLCB4LCBuLCBwcikge1xyXG4gIHZhciBpc1RydW5jYXRlZCxcclxuICAgIHIgPSBuZXcgQ3RvcigxKSxcclxuXHJcbiAgICAvLyBNYXggbiBvZiA5MDA3MTk5MjU0NzQwOTkxIHRha2VzIDUzIGxvb3AgaXRlcmF0aW9ucy5cclxuICAgIC8vIE1heGltdW0gZGlnaXRzIGFycmF5IGxlbmd0aDsgbGVhdmVzIFsyOCwgMzRdIGd1YXJkIGRpZ2l0cy5cclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSArIDQpO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBpZiAobiAlIDIpIHtcclxuICAgICAgciA9IHIudGltZXMoeCk7XHJcbiAgICAgIGlmICh0cnVuY2F0ZShyLmQsIGspKSBpc1RydW5jYXRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbiA9IG1hdGhmbG9vcihuIC8gMik7XHJcbiAgICBpZiAobiA9PT0gMCkge1xyXG5cclxuICAgICAgLy8gVG8gZW5zdXJlIGNvcnJlY3Qgcm91bmRpbmcgd2hlbiByLmQgaXMgdHJ1bmNhdGVkLCBpbmNyZW1lbnQgdGhlIGxhc3Qgd29yZCBpZiBpdCBpcyB6ZXJvLlxyXG4gICAgICBuID0gci5kLmxlbmd0aCAtIDE7XHJcbiAgICAgIGlmIChpc1RydW5jYXRlZCAmJiByLmRbbl0gPT09IDApICsrci5kW25dO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICB4ID0geC50aW1lcyh4KTtcclxuICAgIHRydW5jYXRlKHguZCwgayk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNPZGQobikge1xyXG4gIHJldHVybiBuLmRbbi5kLmxlbmd0aCAtIDFdICYgMTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIEhhbmRsZSBgbWF4YCBhbmQgYG1pbmAuIGBsdGd0YCBpcyAnbHQnIG9yICdndCcuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXhPck1pbihDdG9yLCBhcmdzLCBsdGd0KSB7XHJcbiAgdmFyIHksXHJcbiAgICB4ID0gbmV3IEN0b3IoYXJnc1swXSksXHJcbiAgICBpID0gMDtcclxuXHJcbiAgZm9yICg7ICsraSA8IGFyZ3MubGVuZ3RoOykge1xyXG4gICAgeSA9IG5ldyBDdG9yKGFyZ3NbaV0pO1xyXG4gICAgaWYgKCF5LnMpIHtcclxuICAgICAgeCA9IHk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfSBlbHNlIGlmICh4W2x0Z3RdKHkpKSB7XHJcbiAgICAgIHggPSB5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBleHBvbmVudGlhbCBvZiBgeGAgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cy5cclxuICpcclxuICogVGF5bG9yL01hY2xhdXJpbiBzZXJpZXMuXHJcbiAqXHJcbiAqIGV4cCh4KSA9IHheMC8wISArIHheMS8xISArIHheMi8yISArIHheMy8zISArIC4uLlxyXG4gKlxyXG4gKiBBcmd1bWVudCByZWR1Y3Rpb246XHJcbiAqICAgUmVwZWF0IHggPSB4IC8gMzIsIGsgKz0gNSwgdW50aWwgfHh8IDwgMC4xXHJcbiAqICAgZXhwKHgpID0gZXhwKHggLyAyXmspXigyXmspXHJcbiAqXHJcbiAqIFByZXZpb3VzbHksIHRoZSBhcmd1bWVudCB3YXMgaW5pdGlhbGx5IHJlZHVjZWQgYnlcclxuICogZXhwKHgpID0gZXhwKHIpICogMTBeayAgd2hlcmUgciA9IHggLSBrICogbG4xMCwgayA9IGZsb29yKHggLyBsbjEwKVxyXG4gKiB0byBmaXJzdCBwdXQgciBpbiB0aGUgcmFuZ2UgWzAsIGxuMTBdLCBiZWZvcmUgZGl2aWRpbmcgYnkgMzIgdW50aWwgfHh8IDwgMC4xLCBidXQgdGhpcyB3YXNcclxuICogZm91bmQgdG8gYmUgc2xvd2VyIHRoYW4ganVzdCBkaXZpZGluZyByZXBlYXRlZGx5IGJ5IDMyIGFzIGFib3ZlLlxyXG4gKlxyXG4gKiBNYXggaW50ZWdlciBhcmd1bWVudDogZXhwKCcyMDcyMzI2NTgzNjk0NjQxMycpID0gNi4zZSs5MDAwMDAwMDAwMDAwMDAwXHJcbiAqIE1pbiBpbnRlZ2VyIGFyZ3VtZW50OiBleHAoJy0yMDcyMzI2NTgzNjk0NjQxMScpID0gMS4yZS05MDAwMDAwMDAwMDAwMDAwXHJcbiAqIChNYXRoIG9iamVjdCBpbnRlZ2VyIG1pbi9tYXg6IE1hdGguZXhwKDcwOSkgPSA4LjJlKzMwNywgTWF0aC5leHAoLTc0NSkgPSA1ZS0zMjQpXHJcbiAqXHJcbiAqICBleHAoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqICBleHAoLUluZmluaXR5KSA9IDBcclxuICogIGV4cChOYU4pICAgICAgID0gTmFOXHJcbiAqICBleHAowrEwKSAgICAgICAgPSAxXHJcbiAqXHJcbiAqICBleHAoeCkgaXMgbm9uLXRlcm1pbmF0aW5nIGZvciBhbnkgZmluaXRlLCBub24temVybyB4LlxyXG4gKlxyXG4gKiAgVGhlIHJlc3VsdCB3aWxsIGFsd2F5cyBiZSBjb3JyZWN0bHkgcm91bmRlZC5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG5hdHVyYWxFeHBvbmVudGlhbCh4LCBzZCkge1xyXG4gIHZhciBkZW5vbWluYXRvciwgZ3VhcmQsIGosIHBvdywgc3VtLCB0LCB3cHIsXHJcbiAgICByZXAgPSAwLFxyXG4gICAgaSA9IDAsXHJcbiAgICBrID0gMCxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuXHJcbiAgLy8gMC9OYU4vSW5maW5pdHk/XHJcbiAgaWYgKCF4LmQgfHwgIXguZFswXSB8fCB4LmUgPiAxNykge1xyXG5cclxuICAgIHJldHVybiBuZXcgQ3Rvcih4LmRcclxuICAgICAgPyAheC5kWzBdID8gMSA6IHgucyA8IDAgPyAwIDogMSAvIDBcclxuICAgICAgOiB4LnMgPyB4LnMgPCAwID8gMCA6IHggOiAwIC8gMCk7XHJcbiAgfVxyXG5cclxuICBpZiAoc2QgPT0gbnVsbCkge1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHdwciA9IHByO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3cHIgPSBzZDtcclxuICB9XHJcblxyXG4gIHQgPSBuZXcgQ3RvcigwLjAzMTI1KTtcclxuXHJcbiAgLy8gd2hpbGUgYWJzKHgpID49IDAuMVxyXG4gIHdoaWxlICh4LmUgPiAtMikge1xyXG5cclxuICAgIC8vIHggPSB4IC8gMl41XHJcbiAgICB4ID0geC50aW1lcyh0KTtcclxuICAgIGsgKz0gNTtcclxuICB9XHJcblxyXG4gIC8vIFVzZSAyICogbG9nMTAoMl5rKSArIDUgKGVtcGlyaWNhbGx5IGRlcml2ZWQpIHRvIGVzdGltYXRlIHRoZSBpbmNyZWFzZSBpbiBwcmVjaXNpb25cclxuICAvLyBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgY29ycmVjdC5cclxuICBndWFyZCA9IE1hdGgubG9nKG1hdGhwb3coMiwgaykpIC8gTWF0aC5MTjEwICogMiArIDUgfCAwO1xyXG4gIHdwciArPSBndWFyZDtcclxuICBkZW5vbWluYXRvciA9IHBvdyA9IHN1bSA9IG5ldyBDdG9yKDEpO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBwb3cgPSBmaW5hbGlzZShwb3cudGltZXMoeCksIHdwciwgMSk7XHJcbiAgICBkZW5vbWluYXRvciA9IGRlbm9taW5hdG9yLnRpbWVzKCsraSk7XHJcbiAgICB0ID0gc3VtLnBsdXMoZGl2aWRlKHBvdywgZGVub21pbmF0b3IsIHdwciwgMSkpO1xyXG5cclxuICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHdwcikgPT09IGRpZ2l0c1RvU3RyaW5nKHN1bS5kKS5zbGljZSgwLCB3cHIpKSB7XHJcbiAgICAgIGogPSBrO1xyXG4gICAgICB3aGlsZSAoai0tKSBzdW0gPSBmaW5hbGlzZShzdW0udGltZXMoc3VtKSwgd3ByLCAxKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTkuXHJcbiAgICAgIC8vIElmIHNvLCByZXBlYXQgdGhlIHN1bW1hdGlvbiB3aXRoIGEgaGlnaGVyIHByZWNpc2lvbiwgb3RoZXJ3aXNlXHJcbiAgICAgIC8vIGUuZy4gd2l0aCBwcmVjaXNpb246IDE4LCByb3VuZGluZzogMVxyXG4gICAgICAvLyBleHAoMTguNDA0MjcyNDYyNTk1MDM0MDgzNTY3NzkzOTE5ODQzNzYxKSA9IDk4MzcyNTYwLjEyMjk5OTk5OTkgKHNob3VsZCBiZSA5ODM3MjU2MC4xMjMpXHJcbiAgICAgIC8vIGB3cHIgLSBndWFyZGAgaXMgdGhlIGluZGV4IG9mIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICBpZiAoc2QgPT0gbnVsbCkge1xyXG5cclxuICAgICAgICBpZiAocmVwIDwgMyAmJiBjaGVja1JvdW5kaW5nRGlnaXRzKHN1bS5kLCB3cHIgLSBndWFyZCwgcm0sIHJlcCkpIHtcclxuICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gd3ByICs9IDEwO1xyXG4gICAgICAgICAgZGVub21pbmF0b3IgPSBwb3cgPSB0ID0gbmV3IEN0b3IoMSk7XHJcbiAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgIHJlcCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmluYWxpc2Uoc3VtLCBDdG9yLnByZWNpc2lvbiA9IHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3VtID0gdDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYHhgIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMuXHJcbiAqXHJcbiAqICBsbigtbikgICAgICAgID0gTmFOXHJcbiAqICBsbigwKSAgICAgICAgID0gLUluZmluaXR5XHJcbiAqICBsbigtMCkgICAgICAgID0gLUluZmluaXR5XHJcbiAqICBsbigxKSAgICAgICAgID0gMFxyXG4gKiAgbG4oSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqICBsbigtSW5maW5pdHkpID0gTmFOXHJcbiAqICBsbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqICBsbihuKSAobiAhPSAxKSBpcyBub24tdGVybWluYXRpbmcuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBuYXR1cmFsTG9nYXJpdGhtKHksIHNkKSB7XHJcbiAgdmFyIGMsIGMwLCBkZW5vbWluYXRvciwgZSwgbnVtZXJhdG9yLCByZXAsIHN1bSwgdCwgd3ByLCB4MSwgeDIsXHJcbiAgICBuID0gMSxcclxuICAgIGd1YXJkID0gMTAsXHJcbiAgICB4ID0geSxcclxuICAgIHhkID0geC5kLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG5cclxuICAvLyBJcyB4IG5lZ2F0aXZlIG9yIEluZmluaXR5LCBOYU4sIDAgb3IgMT9cclxuICBpZiAoeC5zIDwgMCB8fCAheGQgfHwgIXhkWzBdIHx8ICF4LmUgJiYgeGRbMF0gPT0gMSAmJiB4ZC5sZW5ndGggPT0gMSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHhkICYmICF4ZFswXSA/IC0xIC8gMCA6IHgucyAhPSAxID8gTmFOIDogeGQgPyAwIDogeCk7XHJcbiAgfVxyXG5cclxuICBpZiAoc2QgPT0gbnVsbCkge1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHdwciA9IHByO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3cHIgPSBzZDtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByICs9IGd1YXJkO1xyXG4gIGMgPSBkaWdpdHNUb1N0cmluZyh4ZCk7XHJcbiAgYzAgPSBjLmNoYXJBdCgwKTtcclxuXHJcbiAgaWYgKE1hdGguYWJzKGUgPSB4LmUpIDwgMS41ZTE1KSB7XHJcblxyXG4gICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgLy8gVGhlIHNlcmllcyBjb252ZXJnZXMgZmFzdGVyIHRoZSBjbG9zZXIgdGhlIGFyZ3VtZW50IGlzIHRvIDEsIHNvIHVzaW5nXHJcbiAgICAvLyBsbihhXmIpID0gYiAqIGxuKGEpLCAgIGxuKGEpID0gbG4oYV5iKSAvIGJcclxuICAgIC8vIG11bHRpcGx5IHRoZSBhcmd1bWVudCBieSBpdHNlbGYgdW50aWwgdGhlIGxlYWRpbmcgZGlnaXRzIG9mIHRoZSBzaWduaWZpY2FuZCBhcmUgNywgOCwgOSxcclxuICAgIC8vIDEwLCAxMSwgMTIgb3IgMTMsIHJlY29yZGluZyB0aGUgbnVtYmVyIG9mIG11bHRpcGxpY2F0aW9ucyBzbyB0aGUgc3VtIG9mIHRoZSBzZXJpZXMgY2FuXHJcbiAgICAvLyBsYXRlciBiZSBkaXZpZGVkIGJ5IHRoaXMgbnVtYmVyLCB0aGVuIHNlcGFyYXRlIG91dCB0aGUgcG93ZXIgb2YgMTAgdXNpbmdcclxuICAgIC8vIGxuKGEqMTBeYikgPSBsbihhKSArIGIqbG4oMTApLlxyXG5cclxuICAgIC8vIG1heCBuIGlzIDIxIChnaXZlcyAwLjksIDEuMCBvciAxLjEpICg5ZTE1IC8gMjEgPSA0LjJlMTQpLlxyXG4gICAgLy93aGlsZSAoYzAgPCA5ICYmIGMwICE9IDEgfHwgYzAgPT0gMSAmJiBjLmNoYXJBdCgxKSA+IDEpIHtcclxuICAgIC8vIG1heCBuIGlzIDYgKGdpdmVzIDAuNyAtIDEuMylcclxuICAgIHdoaWxlIChjMCA8IDcgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMykge1xyXG4gICAgICB4ID0geC50aW1lcyh5KTtcclxuICAgICAgYyA9IGRpZ2l0c1RvU3RyaW5nKHguZCk7XHJcbiAgICAgIGMwID0gYy5jaGFyQXQoMCk7XHJcbiAgICAgIG4rKztcclxuICAgIH1cclxuXHJcbiAgICBlID0geC5lO1xyXG5cclxuICAgIGlmIChjMCA+IDEpIHtcclxuICAgICAgeCA9IG5ldyBDdG9yKCcwLicgKyBjKTtcclxuICAgICAgZSsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeCA9IG5ldyBDdG9yKGMwICsgJy4nICsgYy5zbGljZSgxKSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICAvLyBUaGUgYXJndW1lbnQgcmVkdWN0aW9uIG1ldGhvZCBhYm92ZSBtYXkgcmVzdWx0IGluIG92ZXJmbG93IGlmIHRoZSBhcmd1bWVudCB5IGlzIGEgbWFzc2l2ZVxyXG4gICAgLy8gbnVtYmVyIHdpdGggZXhwb25lbnQgPj0gMTUwMDAwMDAwMDAwMDAwMCAoOWUxNSAvIDYgPSAxLjVlMTUpLCBzbyBpbnN0ZWFkIHJlY2FsbCB0aGlzXHJcbiAgICAvLyBmdW5jdGlvbiB1c2luZyBsbih4KjEwXmUpID0gbG4oeCkgKyBlKmxuKDEwKS5cclxuICAgIHQgPSBnZXRMbjEwKEN0b3IsIHdwciArIDIsIHByKS50aW1lcyhlICsgJycpO1xyXG4gICAgeCA9IG5hdHVyYWxMb2dhcml0aG0obmV3IEN0b3IoYzAgKyAnLicgKyBjLnNsaWNlKDEpKSwgd3ByIC0gZ3VhcmQpLnBsdXModCk7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG5cclxuICAgIHJldHVybiBzZCA9PSBudWxsID8gZmluYWxpc2UoeCwgcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpIDogeDtcclxuICB9XHJcblxyXG4gIC8vIHgxIGlzIHggcmVkdWNlZCB0byBhIHZhbHVlIG5lYXIgMS5cclxuICB4MSA9IHg7XHJcblxyXG4gIC8vIFRheWxvciBzZXJpZXMuXHJcbiAgLy8gbG4oeSkgPSBsbigoMSArIHgpLygxIC0geCkpID0gMih4ICsgeF4zLzMgKyB4XjUvNSArIHheNy83ICsgLi4uKVxyXG4gIC8vIHdoZXJlIHggPSAoeSAtIDEpLyh5ICsgMSkgICAgKHx4fCA8IDEpXHJcbiAgc3VtID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4Lm1pbnVzKDEpLCB4LnBsdXMoMSksIHdwciwgMSk7XHJcbiAgeDIgPSBmaW5hbGlzZSh4LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gIGRlbm9taW5hdG9yID0gMztcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgbnVtZXJhdG9yID0gZmluYWxpc2UobnVtZXJhdG9yLnRpbWVzKHgyKSwgd3ByLCAxKTtcclxuICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUobnVtZXJhdG9yLCBuZXcgQ3RvcihkZW5vbWluYXRvciksIHdwciwgMSkpO1xyXG5cclxuICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHdwcikgPT09IGRpZ2l0c1RvU3RyaW5nKHN1bS5kKS5zbGljZSgwLCB3cHIpKSB7XHJcbiAgICAgIHN1bSA9IHN1bS50aW1lcygyKTtcclxuXHJcbiAgICAgIC8vIFJldmVyc2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi4gQ2hlY2sgdGhhdCBlIGlzIG5vdCAwIGJlY2F1c2UsIGJlc2lkZXMgcHJldmVudGluZyBhblxyXG4gICAgICAvLyB1bm5lY2Vzc2FyeSBjYWxjdWxhdGlvbiwgLTAgKyAwID0gKzAgYW5kIHRvIGVuc3VyZSBjb3JyZWN0IHJvdW5kaW5nIC0wIG5lZWRzIHRvIHN0YXkgLTAuXHJcbiAgICAgIGlmIChlICE9PSAwKSBzdW0gPSBzdW0ucGx1cyhnZXRMbjEwKEN0b3IsIHdwciArIDIsIHByKS50aW1lcyhlICsgJycpKTtcclxuICAgICAgc3VtID0gZGl2aWRlKHN1bSwgbmV3IEN0b3IobiksIHdwciwgMSk7XHJcblxyXG4gICAgICAvLyBJcyBybSA+IDMgYW5kIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyA0OTk5LCBvciBybSA8IDQgKG9yIHRoZSBzdW1tYXRpb24gaGFzXHJcbiAgICAgIC8vIGJlZW4gcmVwZWF0ZWQgcHJldmlvdXNseSkgYW5kIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyA5OTk5P1xyXG4gICAgICAvLyBJZiBzbywgcmVzdGFydCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTIsIHJvdW5kaW5nOiAxXHJcbiAgICAgIC8vIGxuKDEzNTUyMDAyOC42MTI2MDkxNzE0MjY1MzgxNTMzKSA9IDE4LjcyNDYyOTk5OTkgd2hlbiBpdCBzaG91bGQgYmUgMTguNzI0NjMuXHJcbiAgICAgIC8vIGB3cHIgLSBndWFyZGAgaXMgdGhlIGluZGV4IG9mIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICBpZiAoc2QgPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHN1bS5kLCB3cHIgLSBndWFyZCwgcm0sIHJlcCkpIHtcclxuICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gd3ByICs9IGd1YXJkO1xyXG4gICAgICAgICAgdCA9IG51bWVyYXRvciA9IHggPSBkaXZpZGUoeDEubWludXMoMSksIHgxLnBsdXMoMSksIHdwciwgMSk7XHJcbiAgICAgICAgICB4MiA9IGZpbmFsaXNlKHgudGltZXMoeCksIHdwciwgMSk7XHJcbiAgICAgICAgICBkZW5vbWluYXRvciA9IHJlcCA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmaW5hbGlzZShzdW0sIEN0b3IucHJlY2lzaW9uID0gcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdW0gPSB0O1xyXG4gICAgZGVub21pbmF0b3IgKz0gMjtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyDCsUluZmluaXR5LCBOYU4uXHJcbmZ1bmN0aW9uIG5vbkZpbml0ZVRvU3RyaW5nKHgpIHtcclxuICAvLyBVbnNpZ25lZC5cclxuICByZXR1cm4gU3RyaW5nKHgucyAqIHgucyAvIDApO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGFyc2UgdGhlIHZhbHVlIG9mIGEgbmV3IERlY2ltYWwgYHhgIGZyb20gc3RyaW5nIGBzdHJgLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VEZWNpbWFsKHgsIHN0cikge1xyXG4gIHZhciBlLCBpLCBsZW47XHJcblxyXG4gIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgaWYgKChpID0gc3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgIGUgKz0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAvLyBJbnRlZ2VyLlxyXG4gICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICBmb3IgKGkgPSAwOyBzdHIuY2hhckNvZGVBdChpKSA9PT0gNDg7IGkrKyk7XHJcblxyXG4gIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IHN0ci5jaGFyQ29kZUF0KGxlbiAtIDEpID09PSA0ODsgLS1sZW4pO1xyXG4gIHN0ciA9IHN0ci5zbGljZShpLCBsZW4pO1xyXG5cclxuICBpZiAoc3RyKSB7XHJcbiAgICBsZW4gLT0gaTtcclxuICAgIHguZSA9IGUgPSBlIC0gaSAtIDE7XHJcbiAgICB4LmQgPSBbXTtcclxuXHJcbiAgICAvLyBUcmFuc2Zvcm0gYmFzZVxyXG5cclxuICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXHJcbiAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheS5cclxuICAgIGkgPSAoZSArIDEpICUgTE9HX0JBU0U7XHJcbiAgICBpZiAoZSA8IDApIGkgKz0gTE9HX0JBU0U7XHJcblxyXG4gICAgaWYgKGkgPCBsZW4pIHtcclxuICAgICAgaWYgKGkpIHguZC5wdXNoKCtzdHIuc2xpY2UoMCwgaSkpO1xyXG4gICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHguZC5wdXNoKCtzdHIuc2xpY2UoaSwgaSArPSBMT0dfQkFTRSkpO1xyXG4gICAgICBzdHIgPSBzdHIuc2xpY2UoaSk7XHJcbiAgICAgIGkgPSBMT0dfQkFTRSAtIHN0ci5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpIC09IGxlbjtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKDsgaS0tOykgc3RyICs9ICcwJztcclxuICAgIHguZC5wdXNoKCtzdHIpO1xyXG5cclxuICAgIGlmIChleHRlcm5hbCkge1xyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgIGlmICh4LmUgPiB4LmNvbnN0cnVjdG9yLm1heEUpIHtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICB4LmUgPSBOYU47XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgIH0gZWxzZSBpZiAoeC5lIDwgeC5jb25zdHJ1Y3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeC5lID0gMDtcclxuICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgLy8geC5jb25zdHJ1Y3Rvci51bmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgICB9IC8vIGVsc2UgeC5jb25zdHJ1Y3Rvci51bmRlcmZsb3cgPSBmYWxzZTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIFplcm8uXHJcbiAgICB4LmUgPSAwO1xyXG4gICAgeC5kID0gWzBdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBhIHN0cmluZyBgc3RyYCwgd2hpY2ggaXMgbm90IGEgZGVjaW1hbCB2YWx1ZS5cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlT3RoZXIoeCwgc3RyKSB7XHJcbiAgdmFyIGJhc2UsIEN0b3IsIGRpdmlzb3IsIGksIGlzRmxvYXQsIGxlbiwgcCwgeGQsIHhlO1xyXG5cclxuICBpZiAoc3RyID09PSAnSW5maW5pdHknIHx8IHN0ciA9PT0gJ05hTicpIHtcclxuICAgIGlmICghK3N0cikgeC5zID0gTmFOO1xyXG4gICAgeC5lID0gTmFOO1xyXG4gICAgeC5kID0gbnVsbDtcclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzSGV4LnRlc3Qoc3RyKSkgIHtcclxuICAgIGJhc2UgPSAxNjtcclxuICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xyXG4gIH0gZWxzZSBpZiAoaXNCaW5hcnkudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDI7XHJcbiAgfSBlbHNlIGlmIChpc09jdGFsLnRlc3Qoc3RyKSkgIHtcclxuICAgIGJhc2UgPSA4O1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBzdHIpO1xyXG4gIH1cclxuXHJcbiAgLy8gSXMgdGhlcmUgYSBiaW5hcnkgZXhwb25lbnQgcGFydD9cclxuICBpID0gc3RyLnNlYXJjaCgvcC9pKTtcclxuXHJcbiAgaWYgKGkgPiAwKSB7XHJcbiAgICBwID0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDIsIGkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdHIgPSBzdHIuc2xpY2UoMik7XHJcbiAgfVxyXG5cclxuICAvLyBDb252ZXJ0IGBzdHJgIGFzIGFuIGludGVnZXIgdGhlbiBkaXZpZGUgdGhlIHJlc3VsdCBieSBgYmFzZWAgcmFpc2VkIHRvIGEgcG93ZXIgc3VjaCB0aGF0IHRoZVxyXG4gIC8vIGZyYWN0aW9uIHBhcnQgd2lsbCBiZSByZXN0b3JlZC5cclxuICBpID0gc3RyLmluZGV4T2YoJy4nKTtcclxuICBpc0Zsb2F0ID0gaSA+PSAwO1xyXG4gIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoaXNGbG9hdCkge1xyXG4gICAgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG4gICAgaSA9IGxlbiAtIGk7XHJcblxyXG4gICAgLy8gbG9nWzEwXSgxNikgPSAxLjIwNDEuLi4gLCBsb2dbMTBdKDg4KSA9IDEuOTQ0NC4uLi5cclxuICAgIGRpdmlzb3IgPSBpbnRQb3coQ3RvciwgbmV3IEN0b3IoYmFzZSksIGksIGkgKiAyKTtcclxuICB9XHJcblxyXG4gIHhkID0gY29udmVydEJhc2Uoc3RyLCBiYXNlLCBCQVNFKTtcclxuICB4ZSA9IHhkLmxlbmd0aCAtIDE7XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKGkgPSB4ZTsgeGRbaV0gPT09IDA7IC0taSkgeGQucG9wKCk7XHJcbiAgaWYgKGkgPCAwKSByZXR1cm4gbmV3IEN0b3IoeC5zICogMCk7XHJcbiAgeC5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIHhlKTtcclxuICB4LmQgPSB4ZDtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBBdCB3aGF0IHByZWNpc2lvbiB0byBwZXJmb3JtIHRoZSBkaXZpc2lvbiB0byBlbnN1cmUgZXhhY3QgY29udmVyc2lvbj9cclxuICAvLyBtYXhEZWNpbWFsSW50ZWdlclBhcnREaWdpdENvdW50ID0gY2VpbChsb2dbMTBdKGIpICogb3RoZXJCYXNlSW50ZWdlclBhcnREaWdpdENvdW50KVxyXG4gIC8vIGxvZ1sxMF0oMikgPSAwLjMwMTAzLCBsb2dbMTBdKDgpID0gMC45MDMwOSwgbG9nWzEwXSgxNikgPSAxLjIwNDEyXHJcbiAgLy8gRS5nLiBjZWlsKDEuMiAqIDMpID0gNCwgc28gdXAgdG8gNCBkZWNpbWFsIGRpZ2l0cyBhcmUgbmVlZGVkIHRvIHJlcHJlc2VudCAzIGhleCBpbnQgZGlnaXRzLlxyXG4gIC8vIG1heERlY2ltYWxGcmFjdGlvblBhcnREaWdpdENvdW50ID0ge0hleDo0fE9jdDozfEJpbjoxfSAqIG90aGVyQmFzZUZyYWN0aW9uUGFydERpZ2l0Q291bnRcclxuICAvLyBUaGVyZWZvcmUgdXNpbmcgNCAqIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHN0ciB3aWxsIGFsd2F5cyBiZSBlbm91Z2guXHJcbiAgaWYgKGlzRmxvYXQpIHggPSBkaXZpZGUoeCwgZGl2aXNvciwgbGVuICogNCk7XHJcblxyXG4gIC8vIE11bHRpcGx5IGJ5IHRoZSBiaW5hcnkgZXhwb25lbnQgcGFydCBpZiBwcmVzZW50LlxyXG4gIGlmIChwKSB4ID0geC50aW1lcyhNYXRoLmFicyhwKSA8IDU0ID8gbWF0aHBvdygyLCBwKSA6IERlY2ltYWwucG93KDIsIHApKTtcclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogc2luKHgpID0geCAtIHheMy8zISArIHheNS81ISAtIC4uLlxyXG4gKiB8eHwgPCBwaS8yXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW5lKEN0b3IsIHgpIHtcclxuICB2YXIgayxcclxuICAgIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIGlmIChsZW4gPCAzKSByZXR1cm4gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgpO1xyXG5cclxuICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IHNpbig1eCkgPSAxNipzaW5eNSh4KSAtIDIwKnNpbl4zKHgpICsgNSpzaW4oeClcclxuICAvLyBpLmUuIHNpbih4KSA9IDE2KnNpbl41KHgvNSkgLSAyMCpzaW5eMyh4LzUpICsgNSpzaW4oeC81KVxyXG4gIC8vIGFuZCAgc2luKHgpID0gc2luKHgvNSkoNSArIHNpbl4yKHgvNSkoMTZzaW5eMih4LzUpIC0gMjApKVxyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgayA9IDEuNCAqIE1hdGguc3FydChsZW4pO1xyXG4gIGsgPSBrID4gMTYgPyAxNiA6IGsgfCAwO1xyXG5cclxuICB4ID0geC50aW1lcygxIC8gdGlueVBvdyg1LCBrKSk7XHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4KTtcclxuXHJcbiAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICB2YXIgc2luMl94LFxyXG4gICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgIGQxNiA9IG5ldyBDdG9yKDE2KSxcclxuICAgIGQyMCA9IG5ldyBDdG9yKDIwKTtcclxuICBmb3IgKDsgay0tOykge1xyXG4gICAgc2luMl94ID0geC50aW1lcyh4KTtcclxuICAgIHggPSB4LnRpbWVzKGQ1LnBsdXMoc2luMl94LnRpbWVzKGQxNi50aW1lcyhzaW4yX3gpLm1pbnVzKGQyMCkpKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8vIENhbGN1bGF0ZSBUYXlsb3Igc2VyaWVzIGZvciBgY29zYCwgYGNvc2hgLCBgc2luYCBhbmQgYHNpbmhgLlxyXG5mdW5jdGlvbiB0YXlsb3JTZXJpZXMoQ3RvciwgbiwgeCwgeSwgaXNIeXBlcmJvbGljKSB7XHJcbiAgdmFyIGosIHQsIHUsIHgyLFxyXG4gICAgaSA9IDEsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICB4MiA9IHgudGltZXMoeCk7XHJcbiAgdSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICB0ID0gZGl2aWRlKHUudGltZXMoeDIpLCBuZXcgQ3RvcihuKysgKiBuKyspLCBwciwgMSk7XHJcbiAgICB1ID0gaXNIeXBlcmJvbGljID8geS5wbHVzKHQpIDogeS5taW51cyh0KTtcclxuICAgIHkgPSBkaXZpZGUodC50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgIHQgPSB1LnBsdXMoeSk7XHJcblxyXG4gICAgaWYgKHQuZFtrXSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIGZvciAoaiA9IGs7IHQuZFtqXSA9PT0gdS5kW2pdICYmIGotLTspO1xyXG4gICAgICBpZiAoaiA9PSAtMSkgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgaiA9IHU7XHJcbiAgICB1ID0geTtcclxuICAgIHkgPSB0O1xyXG4gICAgdCA9IGo7XHJcbiAgICBpKys7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgdC5kLmxlbmd0aCA9IGsgKyAxO1xyXG5cclxuICByZXR1cm4gdDtcclxufVxyXG5cclxuXHJcbi8vIEV4cG9uZW50IGUgbXVzdCBiZSBwb3NpdGl2ZSBhbmQgbm9uLXplcm8uXHJcbmZ1bmN0aW9uIHRpbnlQb3coYiwgZSkge1xyXG4gIHZhciBuID0gYjtcclxuICB3aGlsZSAoLS1lKSBuICo9IGI7XHJcbiAgcmV0dXJuIG47XHJcbn1cclxuXHJcblxyXG4vLyBSZXR1cm4gdGhlIGFic29sdXRlIHZhbHVlIG9mIGB4YCByZWR1Y2VkIHRvIGxlc3MgdGhhbiBvciBlcXVhbCB0byBoYWxmIHBpLlxyXG5mdW5jdGlvbiB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpIHtcclxuICB2YXIgdCxcclxuICAgIGlzTmVnID0geC5zIDwgMCxcclxuICAgIHBpID0gZ2V0UGkoQ3RvciwgQ3Rvci5wcmVjaXNpb24sIDEpLFxyXG4gICAgaGFsZlBpID0gcGkudGltZXMoMC41KTtcclxuXHJcbiAgeCA9IHguYWJzKCk7XHJcblxyXG4gIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICBxdWFkcmFudCA9IGlzTmVnID8gNCA6IDE7XHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG4gIHQgPSB4LmRpdlRvSW50KHBpKTtcclxuXHJcbiAgaWYgKHQuaXNaZXJvKCkpIHtcclxuICAgIHF1YWRyYW50ID0gaXNOZWcgPyAzIDogMjtcclxuICB9IGVsc2Uge1xyXG4gICAgeCA9IHgubWludXModC50aW1lcyhwaSkpO1xyXG5cclxuICAgIC8vIDAgPD0geCA8IHBpXHJcbiAgICBpZiAoeC5sdGUoaGFsZlBpKSkge1xyXG4gICAgICBxdWFkcmFudCA9IGlzT2RkKHQpID8gKGlzTmVnID8gMiA6IDMpIDogKGlzTmVnID8gNCA6IDEpO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICBxdWFkcmFudCA9IGlzT2RkKHQpID8gKGlzTmVnID8gMSA6IDQpIDogKGlzTmVnID8gMyA6IDIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHgubWludXMocGkpLmFicygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSB2YWx1ZSBvZiBEZWNpbWFsIGB4YCBhcyBhIHN0cmluZyBpbiBiYXNlIGBiYXNlT3V0YC5cclxuICpcclxuICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCBpbmNsdWRlIGEgYmluYXJ5IGV4cG9uZW50IHN1ZmZpeC5cclxuICovXHJcbmZ1bmN0aW9uIHRvU3RyaW5nQmluYXJ5KHgsIGJhc2VPdXQsIHNkLCBybSkge1xyXG4gIHZhciBiYXNlLCBlLCBpLCBrLCBsZW4sIHJvdW5kVXAsIHN0ciwgeGQsIHksXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGlzRXhwID0gc2QgIT09IHZvaWQgMDtcclxuXHJcbiAgaWYgKGlzRXhwKSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzZCA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIH1cclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHtcclxuICAgIHN0ciA9IG5vbkZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4KTtcclxuICAgIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG5cclxuICAgIC8vIFVzZSBleHBvbmVudGlhbCBub3RhdGlvbiBhY2NvcmRpbmcgdG8gYHRvRXhwUG9zYCBhbmQgYHRvRXhwTmVnYD8gTm8sIGJ1dCBpZiByZXF1aXJlZDpcclxuICAgIC8vIG1heEJpbmFyeUV4cG9uZW50ID0gZmxvb3IoKGRlY2ltYWxFeHBvbmVudCArIDEpICogbG9nWzJdKDEwKSlcclxuICAgIC8vIG1pbkJpbmFyeUV4cG9uZW50ID0gZmxvb3IoZGVjaW1hbEV4cG9uZW50ICogbG9nWzJdKDEwKSlcclxuICAgIC8vIGxvZ1syXSgxMCkgPSAzLjMyMTkyODA5NDg4NzM2MjM0Nzg3MDMxOTQyOTQ4OTM5MDE3NTg2NFxyXG5cclxuICAgIGlmIChpc0V4cCkge1xyXG4gICAgICBiYXNlID0gMjtcclxuICAgICAgaWYgKGJhc2VPdXQgPT0gMTYpIHtcclxuICAgICAgICBzZCA9IHNkICogNCAtIDM7XHJcbiAgICAgIH0gZWxzZSBpZiAoYmFzZU91dCA9PSA4KSB7XHJcbiAgICAgICAgc2QgPSBzZCAqIDMgLSAyO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiYXNlID0gYmFzZU91dDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IHRoZSBudW1iZXIgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGl0cyBiYXNlIHJhaXNlZCB0byBhIHBvd2VyIHN1Y2hcclxuICAgIC8vIHRoYXQgdGhlIGZyYWN0aW9uIHBhcnQgd2lsbCBiZSByZXN0b3JlZC5cclxuXHJcbiAgICAvLyBOb24taW50ZWdlci5cclxuICAgIGlmIChpID49IDApIHtcclxuICAgICAgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgIHkgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgeS5lID0gc3RyLmxlbmd0aCAtIGk7XHJcbiAgICAgIHkuZCA9IGNvbnZlcnRCYXNlKGZpbml0ZVRvU3RyaW5nKHkpLCAxMCwgYmFzZSk7XHJcbiAgICAgIHkuZSA9IHkuZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIDEwLCBiYXNlKTtcclxuICAgIGUgPSBsZW4gPSB4ZC5sZW5ndGg7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7IHhkWy0tbGVuXSA9PSAwOykgeGQucG9wKCk7XHJcblxyXG4gICAgaWYgKCF4ZFswXSkge1xyXG4gICAgICBzdHIgPSBpc0V4cCA/ICcwcCswJyA6ICcwJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgIGUtLTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4ID0gbmV3IEN0b3IoeCk7XHJcbiAgICAgICAgeC5kID0geGQ7XHJcbiAgICAgICAgeC5lID0gZTtcclxuICAgICAgICB4ID0gZGl2aWRlKHgsIHksIHNkLCBybSwgMCwgYmFzZSk7XHJcbiAgICAgICAgeGQgPSB4LmQ7XHJcbiAgICAgICAgZSA9IHguZTtcclxuICAgICAgICByb3VuZFVwID0gaW5leGFjdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgICAgaSA9IHhkW3NkXTtcclxuICAgICAgayA9IGJhc2UgLyAyO1xyXG4gICAgICByb3VuZFVwID0gcm91bmRVcCB8fCB4ZFtzZCArIDFdICE9PSB2b2lkIDA7XHJcblxyXG4gICAgICByb3VuZFVwID0gcm0gPCA0XHJcbiAgICAgICAgPyAoaSAhPT0gdm9pZCAwIHx8IHJvdW5kVXApICYmIChybSA9PT0gMCB8fCBybSA9PT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgOiBpID4gayB8fCBpID09PSBrICYmIChybSA9PT0gNCB8fCByb3VuZFVwIHx8IHJtID09PSA2ICYmIHhkW3NkIC0gMV0gJiAxIHx8XHJcbiAgICAgICAgICBybSA9PT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgeGQubGVuZ3RoID0gc2Q7XHJcblxyXG4gICAgICBpZiAocm91bmRVcCkge1xyXG5cclxuICAgICAgICAvLyBSb3VuZGluZyB1cCBtYXkgbWVhbiB0aGUgcHJldmlvdXMgZGlnaXQgaGFzIHRvIGJlIHJvdW5kZWQgdXAgYW5kIHNvIG9uLlxyXG4gICAgICAgIGZvciAoOyArK3hkWy0tc2RdID4gYmFzZSAtIDE7KSB7XHJcbiAgICAgICAgICB4ZFtzZF0gPSAwO1xyXG4gICAgICAgICAgaWYgKCFzZCkge1xyXG4gICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgIHhkLnVuc2hpZnQoMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAobGVuID0geGQubGVuZ3RoOyAheGRbbGVuIC0gMV07IC0tbGVuKTtcclxuXHJcbiAgICAgIC8vIEUuZy4gWzQsIDExLCAxNV0gYmVjb21lcyA0YmYuXHJcbiAgICAgIGZvciAoaSA9IDAsIHN0ciA9ICcnOyBpIDwgbGVuOyBpKyspIHN0ciArPSBOVU1FUkFMUy5jaGFyQXQoeGRbaV0pO1xyXG5cclxuICAgICAgLy8gQWRkIGJpbmFyeSBleHBvbmVudCBzdWZmaXg/XHJcbiAgICAgIGlmIChpc0V4cCkge1xyXG4gICAgICAgIGlmIChsZW4gPiAxKSB7XHJcbiAgICAgICAgICBpZiAoYmFzZU91dCA9PSAxNiB8fCBiYXNlT3V0ID09IDgpIHtcclxuICAgICAgICAgICAgaSA9IGJhc2VPdXQgPT0gMTYgPyA0IDogMztcclxuICAgICAgICAgICAgZm9yICgtLWxlbjsgbGVuICUgaTsgbGVuKyspIHN0ciArPSAnMCc7XHJcbiAgICAgICAgICAgIHhkID0gY29udmVydEJhc2Uoc3RyLCBiYXNlLCBiYXNlT3V0KTtcclxuICAgICAgICAgICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7ICF4ZFtsZW4gLSAxXTsgLS1sZW4pO1xyXG5cclxuICAgICAgICAgICAgLy8geGRbMF0gd2lsbCBhbHdheXMgYmUgYmUgMVxyXG4gICAgICAgICAgICBmb3IgKGkgPSAxLCBzdHIgPSAnMS4nOyBpIDwgbGVuOyBpKyspIHN0ciArPSBOVU1FUkFMUy5jaGFyQXQoeGRbaV0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ciA9ICBzdHIgKyAoZSA8IDAgPyAncCcgOiAncCsnKSArIGU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgICAgICBmb3IgKDsgKytlOykgc3RyID0gJzAnICsgc3RyO1xyXG4gICAgICAgIHN0ciA9ICcwLicgKyBzdHI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCsrZSA+IGxlbikgZm9yIChlIC09IGxlbjsgZS0tIDspIHN0ciArPSAnMCc7XHJcbiAgICAgICAgZWxzZSBpZiAoZSA8IGxlbikgc3RyID0gc3RyLnNsaWNlKDAsIGUpICsgJy4nICsgc3RyLnNsaWNlKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RyID0gKGJhc2VPdXQgPT0gMTYgPyAnMHgnIDogYmFzZU91dCA9PSAyID8gJzBiJyA6IGJhc2VPdXQgPT0gOCA/ICcwbycgOiAnJykgKyBzdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5zIDwgMCA/ICctJyArIHN0ciA6IHN0cjtcclxufVxyXG5cclxuXHJcbi8vIERvZXMgbm90IHN0cmlwIHRyYWlsaW5nIHplcm9zLlxyXG5mdW5jdGlvbiB0cnVuY2F0ZShhcnIsIGxlbikge1xyXG4gIGlmIChhcnIubGVuZ3RoID4gbGVuKSB7XHJcbiAgICBhcnIubGVuZ3RoID0gbGVuO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gRGVjaW1hbCBtZXRob2RzXHJcblxyXG5cclxuLypcclxuICogIGFic1xyXG4gKiAgYWNvc1xyXG4gKiAgYWNvc2hcclxuICogIGFkZFxyXG4gKiAgYXNpblxyXG4gKiAgYXNpbmhcclxuICogIGF0YW5cclxuICogIGF0YW5oXHJcbiAqICBhdGFuMlxyXG4gKiAgY2JydFxyXG4gKiAgY2VpbFxyXG4gKiAgY2xvbmVcclxuICogIGNvbmZpZ1xyXG4gKiAgY29zXHJcbiAqICBjb3NoXHJcbiAqICBkaXZcclxuICogIGV4cFxyXG4gKiAgZmxvb3JcclxuICogIGh5cG90XHJcbiAqICBsblxyXG4gKiAgbG9nXHJcbiAqICBsb2cyXHJcbiAqICBsb2cxMFxyXG4gKiAgbWF4XHJcbiAqICBtaW5cclxuICogIG1vZFxyXG4gKiAgbXVsXHJcbiAqICBwb3dcclxuICogIHJhbmRvbVxyXG4gKiAgcm91bmRcclxuICogIHNldFxyXG4gKiAgc2lnblxyXG4gKiAgc2luXHJcbiAqICBzaW5oXHJcbiAqICBzcXJ0XHJcbiAqICBzdWJcclxuICogIHRhblxyXG4gKiAgdGFuaFxyXG4gKiAgdHJ1bmNcclxuICovXHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIGB4YC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWJzKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYWJzKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjY29zaW5lIGluIHJhZGlhbnMgb2YgYHhgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhY29zKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYWNvcygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFjb3NoKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYWNvc2goKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzdW0gb2YgYHhgIGFuZCBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGQoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5wbHVzKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgaW4gcmFkaWFucyBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYXNpbih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFzaW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYXNpbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hc2luaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3RhbmdlbnQgaW4gcmFkaWFucyBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYXRhbih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYXRhbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hdGFuaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3RhbmdlbnQgaW4gcmFkaWFucyBvZiBgeS94YCBpbiB0aGUgcmFuZ2UgLXBpIHRvIHBpXHJcbiAqIChpbmNsdXNpdmUpLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLCBwaV1cclxuICpcclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgeS1jb29yZGluYXRlLlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB4LWNvb3JkaW5hdGUuXHJcbiAqXHJcbiAqIGF0YW4yKMKxMCwgLTApICAgICAgICAgICAgICAgPSDCsXBpXHJcbiAqIGF0YW4yKMKxMCwgKzApICAgICAgICAgICAgICAgPSDCsTBcclxuICogYXRhbjIowrEwLCAteCkgICAgICAgICAgICAgICA9IMKxcGkgZm9yIHggPiAwXHJcbiAqIGF0YW4yKMKxMCwgeCkgICAgICAgICAgICAgICAgPSDCsTAgZm9yIHggPiAwXHJcbiAqIGF0YW4yKC15LCDCsTApICAgICAgICAgICAgICAgPSAtcGkvMiBmb3IgeSA+IDBcclxuICogYXRhbjIoeSwgwrEwKSAgICAgICAgICAgICAgICA9IHBpLzIgZm9yIHkgPiAwXHJcbiAqIGF0YW4yKMKxeSwgLUluZmluaXR5KSAgICAgICAgPSDCsXBpIGZvciBmaW5pdGUgeSA+IDBcclxuICogYXRhbjIowrF5LCArSW5maW5pdHkpICAgICAgICA9IMKxMCBmb3IgZmluaXRlIHkgPiAwXHJcbiAqIGF0YW4yKMKxSW5maW5pdHksIHgpICAgICAgICAgPSDCsXBpLzIgZm9yIGZpbml0ZSB4XHJcbiAqIGF0YW4yKMKxSW5maW5pdHksIC1JbmZpbml0eSkgPSDCsTMqcGkvNFxyXG4gKiBhdGFuMijCsUluZmluaXR5LCArSW5maW5pdHkpID0gwrFwaS80XHJcbiAqIGF0YW4yKE5hTiwgeCkgPSBOYU5cclxuICogYXRhbjIoeSwgTmFOKSA9IE5hTlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYXRhbjIoeSwgeCkge1xyXG4gIHkgPSBuZXcgdGhpcyh5KTtcclxuICB4ID0gbmV3IHRoaXMoeCk7XHJcbiAgdmFyIHIsXHJcbiAgICBwciA9IHRoaXMucHJlY2lzaW9uLFxyXG4gICAgcm0gPSB0aGlzLnJvdW5kaW5nLFxyXG4gICAgd3ByID0gcHIgKyA0O1xyXG5cclxuICAvLyBFaXRoZXIgTmFOXHJcbiAgaWYgKCF5LnMgfHwgIXgucykge1xyXG4gICAgciA9IG5ldyB0aGlzKE5hTik7XHJcblxyXG4gIC8vIEJvdGggwrFJbmZpbml0eVxyXG4gIH0gZWxzZSBpZiAoIXkuZCAmJiAheC5kKSB7XHJcbiAgICByID0gZ2V0UGkodGhpcywgd3ByLCAxKS50aW1lcyh4LnMgPiAwID8gMC4yNSA6IDAuNzUpO1xyXG4gICAgci5zID0geS5zO1xyXG5cclxuICAvLyB4IGlzIMKxSW5maW5pdHkgb3IgeSBpcyDCsTBcclxuICB9IGVsc2UgaWYgKCF4LmQgfHwgeS5pc1plcm8oKSkge1xyXG4gICAgciA9IHgucyA8IDAgPyBnZXRQaSh0aGlzLCBwciwgcm0pIDogbmV3IHRoaXMoMCk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIHkgaXMgwrFJbmZpbml0eSBvciB4IGlzIMKxMFxyXG4gIH0gZWxzZSBpZiAoIXkuZCB8fCB4LmlzWmVybygpKSB7XHJcbiAgICByID0gZ2V0UGkodGhpcywgd3ByLCAxKS50aW1lcygwLjUpO1xyXG4gICAgci5zID0geS5zO1xyXG5cclxuICAvLyBCb3RoIG5vbi16ZXJvIGFuZCBmaW5pdGVcclxuICB9IGVsc2UgaWYgKHgucyA8IDApIHtcclxuICAgIHRoaXMucHJlY2lzaW9uID0gd3ByO1xyXG4gICAgdGhpcy5yb3VuZGluZyA9IDE7XHJcbiAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICAgIHggPSBnZXRQaSh0aGlzLCB3cHIsIDEpO1xyXG4gICAgdGhpcy5wcmVjaXNpb24gPSBwcjtcclxuICAgIHRoaXMucm91bmRpbmcgPSBybTtcclxuICAgIHIgPSB5LnMgPCAwID8gci5taW51cyh4KSA6IHIucGx1cyh4KTtcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IHRoaXMuYXRhbihkaXZpZGUoeSwgeCwgd3ByLCAxKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjdWJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNicnQoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5jYnJ0KCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmRlZCB0byBhbiBpbnRlZ2VyIHVzaW5nIGBST1VORF9DRUlMYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2VpbCh4KSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMik7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDb25maWd1cmUgZ2xvYmFsIHNldHRpbmdzIGZvciBhIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIGBvYmpgIGlzIGFuIG9iamVjdCB3aXRoIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyxcclxuICpcclxuICogICBwcmVjaXNpb24gIHtudW1iZXJ9XHJcbiAqICAgcm91bmRpbmcgICB7bnVtYmVyfVxyXG4gKiAgIHRvRXhwTmVnICAge251bWJlcn1cclxuICogICB0b0V4cFBvcyAgIHtudW1iZXJ9XHJcbiAqICAgbWF4RSAgICAgICB7bnVtYmVyfVxyXG4gKiAgIG1pbkUgICAgICAge251bWJlcn1cclxuICogICBtb2R1bG8gICAgIHtudW1iZXJ9XHJcbiAqICAgY3J5cHRvICAgICB7Ym9vbGVhbnxudW1iZXJ9XHJcbiAqICAgZGVmYXVsdHMgICB7dHJ1ZX1cclxuICpcclxuICogRS5nLiBEZWNpbWFsLmNvbmZpZyh7IHByZWNpc2lvbjogMjAsIHJvdW5kaW5nOiA0IH0pXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb25maWcob2JqKSB7XHJcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHRocm93IEVycm9yKGRlY2ltYWxFcnJvciArICdPYmplY3QgZXhwZWN0ZWQnKTtcclxuICB2YXIgaSwgcCwgdixcclxuICAgIHVzZURlZmF1bHRzID0gb2JqLmRlZmF1bHRzID09PSB0cnVlLFxyXG4gICAgcHMgPSBbXHJcbiAgICAgICdwcmVjaXNpb24nLCAxLCBNQVhfRElHSVRTLFxyXG4gICAgICAncm91bmRpbmcnLCAwLCA4LFxyXG4gICAgICAndG9FeHBOZWcnLCAtRVhQX0xJTUlULCAwLFxyXG4gICAgICAndG9FeHBQb3MnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICdtYXhFJywgMCwgRVhQX0xJTUlULFxyXG4gICAgICAnbWluRScsIC1FWFBfTElNSVQsIDAsXHJcbiAgICAgICdtb2R1bG8nLCAwLCA5XHJcbiAgICBdO1xyXG5cclxuICBmb3IgKGkgPSAwOyBpIDwgcHMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgIGlmIChwID0gcHNbaV0sIHVzZURlZmF1bHRzKSB0aGlzW3BdID0gREVGQVVMVFNbcF07XHJcbiAgICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgICAgaWYgKG1hdGhmbG9vcih2KSA9PT0gdiAmJiB2ID49IHBzW2kgKyAxXSAmJiB2IDw9IHBzW2kgKyAyXSkgdGhpc1twXSA9IHY7XHJcbiAgICAgIGVsc2UgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgcCArICc6ICcgKyB2KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChwID0gJ2NyeXB0bycsIHVzZURlZmF1bHRzKSB0aGlzW3BdID0gREVGQVVMVFNbcF07XHJcbiAgaWYgKCh2ID0gb2JqW3BdKSAhPT0gdm9pZCAwKSB7XHJcbiAgICBpZiAodiA9PT0gdHJ1ZSB8fCB2ID09PSBmYWxzZSB8fCB2ID09PSAwIHx8IHYgPT09IDEpIHtcclxuICAgICAgaWYgKHYpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8gJiZcclxuICAgICAgICAgIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIHx8IGNyeXB0by5yYW5kb21CeXRlcykpIHtcclxuICAgICAgICAgIHRoaXNbcF0gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvcihjcnlwdG9VbmF2YWlsYWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXNbcF0gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgcCArICc6ICcgKyB2KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGNvc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3MoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5jb3MoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gcHJlY2lzaW9uXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNvc2goKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgRGVjaW1hbCBjb25zdHJ1Y3RvciB3aXRoIHRoZSBzYW1lIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBhcyB0aGlzIERlY2ltYWxcclxuICogY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZShvYmopIHtcclxuICB2YXIgaSwgcCwgcHM7XHJcblxyXG4gIC8qXHJcbiAgICogVGhlIERlY2ltYWwgY29uc3RydWN0b3IgYW5kIGV4cG9ydGVkIGZ1bmN0aW9uLlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIGluc3RhbmNlLlxyXG4gICAqXHJcbiAgICogdiB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBEZWNpbWFsKHYpIHtcclxuICAgIHZhciBlLCBpLCB0LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAvLyBEZWNpbWFsIGNhbGxlZCB3aXRob3V0IG5ldy5cclxuICAgIGlmICghKHggaW5zdGFuY2VvZiBEZWNpbWFsKSkgcmV0dXJuIG5ldyBEZWNpbWFsKHYpO1xyXG5cclxuICAgIC8vIFJldGFpbiBhIHJlZmVyZW5jZSB0byB0aGlzIERlY2ltYWwgY29uc3RydWN0b3IsIGFuZCBzaGFkb3cgRGVjaW1hbC5wcm90b3R5cGUuY29uc3RydWN0b3JcclxuICAgIC8vIHdoaWNoIHBvaW50cyB0byBPYmplY3QuXHJcbiAgICB4LmNvbnN0cnVjdG9yID0gRGVjaW1hbDtcclxuXHJcbiAgICAvLyBEdXBsaWNhdGUuXHJcbiAgICBpZiAodiBpbnN0YW5jZW9mIERlY2ltYWwpIHtcclxuICAgICAgeC5zID0gdi5zO1xyXG5cclxuICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgaWYgKCF2LmQgfHwgdi5lID4gRGVjaW1hbC5tYXhFKSB7XHJcblxyXG4gICAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodi5lIDwgRGVjaW1hbC5taW5FKSB7XHJcblxyXG4gICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICAgIHguZCA9IHYuZC5zbGljZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgeC5kID0gdi5kID8gdi5kLnNsaWNlKCkgOiB2LmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0ID0gdHlwZW9mIHY7XHJcblxyXG4gICAgaWYgKHQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIGlmICh2ID09PSAwKSB7XHJcbiAgICAgICAgeC5zID0gMSAvIHYgPCAwID8gLTEgOiAxO1xyXG4gICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHYgPCAwKSB7XHJcbiAgICAgICAgdiA9IC12O1xyXG4gICAgICAgIHgucyA9IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHgucyA9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZhc3QgcGF0aCBmb3Igc21hbGwgaW50ZWdlcnMuXHJcbiAgICAgIGlmICh2ID09PSB+fnYgJiYgdiA8IDFlNykge1xyXG4gICAgICAgIGZvciAoZSA9IDAsIGkgPSB2OyBpID49IDEwOyBpIC89IDEwKSBlKys7XHJcblxyXG4gICAgICAgIGlmIChleHRlcm5hbCkge1xyXG4gICAgICAgICAgaWYgKGUgPiBEZWNpbWFsLm1heEUpIHtcclxuICAgICAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChlIDwgRGVjaW1hbC5taW5FKSB7XHJcbiAgICAgICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgIHguZCA9IFt2XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgIHguZCA9IFt2XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5LCBOYU4uXHJcbiAgICAgIH0gZWxzZSBpZiAodiAqIDAgIT09IDApIHtcclxuICAgICAgICBpZiAoIXYpIHgucyA9IE5hTjtcclxuICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBwYXJzZURlY2ltYWwoeCwgdi50b1N0cmluZygpKTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1pbnVzIHNpZ24/XHJcbiAgICBpZiAoKGkgPSB2LmNoYXJDb2RlQXQoMCkpID09PSA0NSkge1xyXG4gICAgICB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgeC5zID0gLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBQbHVzIHNpZ24/XHJcbiAgICAgIGlmIChpID09PSA0MykgdiA9IHYuc2xpY2UoMSk7XHJcbiAgICAgIHgucyA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGlzRGVjaW1hbC50ZXN0KHYpID8gcGFyc2VEZWNpbWFsKHgsIHYpIDogcGFyc2VPdGhlcih4LCB2KTtcclxuICB9XHJcblxyXG4gIERlY2ltYWwucHJvdG90eXBlID0gUDtcclxuXHJcbiAgRGVjaW1hbC5ST1VORF9VUCA9IDA7XHJcbiAgRGVjaW1hbC5ST1VORF9ET1dOID0gMTtcclxuICBEZWNpbWFsLlJPVU5EX0NFSUwgPSAyO1xyXG4gIERlY2ltYWwuUk9VTkRfRkxPT1IgPSAzO1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9VUCA9IDQ7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0RPV04gPSA1O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9FVkVOID0gNjtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfQ0VJTCA9IDc7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0ZMT09SID0gODtcclxuICBEZWNpbWFsLkVVQ0xJRCA9IDk7XHJcblxyXG4gIERlY2ltYWwuY29uZmlnID0gRGVjaW1hbC5zZXQgPSBjb25maWc7XHJcbiAgRGVjaW1hbC5jbG9uZSA9IGNsb25lO1xyXG4gIERlY2ltYWwuaXNEZWNpbWFsID0gaXNEZWNpbWFsSW5zdGFuY2U7XHJcblxyXG4gIERlY2ltYWwuYWJzID0gYWJzO1xyXG4gIERlY2ltYWwuYWNvcyA9IGFjb3M7XHJcbiAgRGVjaW1hbC5hY29zaCA9IGFjb3NoOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hZGQgPSBhZGQ7XHJcbiAgRGVjaW1hbC5hc2luID0gYXNpbjtcclxuICBEZWNpbWFsLmFzaW5oID0gYXNpbmg7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmF0YW4gPSBhdGFuO1xyXG4gIERlY2ltYWwuYXRhbmggPSBhdGFuaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYXRhbjIgPSBhdGFuMjtcclxuICBEZWNpbWFsLmNicnQgPSBjYnJ0OyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmNlaWwgPSBjZWlsO1xyXG4gIERlY2ltYWwuY29zID0gY29zO1xyXG4gIERlY2ltYWwuY29zaCA9IGNvc2g7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuZGl2ID0gZGl2O1xyXG4gIERlY2ltYWwuZXhwID0gZXhwO1xyXG4gIERlY2ltYWwuZmxvb3IgPSBmbG9vcjtcclxuICBEZWNpbWFsLmh5cG90ID0gaHlwb3Q7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmxuID0gbG47XHJcbiAgRGVjaW1hbC5sb2cgPSBsb2c7XHJcbiAgRGVjaW1hbC5sb2cxMCA9IGxvZzEwOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5sb2cyID0gbG9nMjsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5tYXggPSBtYXg7XHJcbiAgRGVjaW1hbC5taW4gPSBtaW47XHJcbiAgRGVjaW1hbC5tb2QgPSBtb2Q7XHJcbiAgRGVjaW1hbC5tdWwgPSBtdWw7XHJcbiAgRGVjaW1hbC5wb3cgPSBwb3c7XHJcbiAgRGVjaW1hbC5yYW5kb20gPSByYW5kb207XHJcbiAgRGVjaW1hbC5yb3VuZCA9IHJvdW5kO1xyXG4gIERlY2ltYWwuc2lnbiA9IHNpZ247ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuc2luID0gc2luO1xyXG4gIERlY2ltYWwuc2luaCA9IHNpbmg7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuc3FydCA9IHNxcnQ7XHJcbiAgRGVjaW1hbC5zdWIgPSBzdWI7XHJcbiAgRGVjaW1hbC50YW4gPSB0YW47XHJcbiAgRGVjaW1hbC50YW5oID0gdGFuaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC50cnVuYyA9IHRydW5jOyAgICAgICAgLy8gRVM2XHJcblxyXG4gIGlmIChvYmogPT09IHZvaWQgMCkgb2JqID0ge307XHJcbiAgaWYgKG9iaikge1xyXG4gICAgaWYgKG9iai5kZWZhdWx0cyAhPT0gdHJ1ZSkge1xyXG4gICAgICBwcyA9IFsncHJlY2lzaW9uJywgJ3JvdW5kaW5nJywgJ3RvRXhwTmVnJywgJ3RvRXhwUG9zJywgJ21heEUnLCAnbWluRScsICdtb2R1bG8nLCAnY3J5cHRvJ107XHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7KSBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShwID0gcHNbaSsrXSkpIG9ialtwXSA9IHRoaXNbcF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBEZWNpbWFsLmNvbmZpZyhvYmopO1xyXG5cclxuICByZXR1cm4gRGVjaW1hbDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBkaXZpZGVkIGJ5IGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGRpdih4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmRpdih5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBwb3dlciB0byB3aGljaCB0byByYWlzZSB0aGUgYmFzZSBvZiB0aGUgbmF0dXJhbCBsb2cuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBleHAoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5leHAoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZCB0byBhbiBpbnRlZ2VyIHVzaW5nIGBST1VORF9GTE9PUmAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGZsb29yKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAzKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgc3VtIG9mIHRoZSBzcXVhcmVzIG9mIHRoZSBhcmd1bWVudHMsXHJcbiAqIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogaHlwb3QoYSwgYiwgLi4uKSA9IHNxcnQoYV4yICsgYl4yICsgLi4uKVxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGh5cG90KCkge1xyXG4gIHZhciBpLCBuLFxyXG4gICAgdCA9IG5ldyB0aGlzKDApO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDspIHtcclxuICAgIG4gPSBuZXcgdGhpcyhhcmd1bWVudHNbaSsrXSk7XHJcbiAgICBpZiAoIW4uZCkge1xyXG4gICAgICBpZiAobi5zKSB7XHJcbiAgICAgICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBuZXcgdGhpcygxIC8gMCk7XHJcbiAgICAgIH1cclxuICAgICAgdCA9IG47XHJcbiAgICB9IGVsc2UgaWYgKHQuZCkge1xyXG4gICAgICB0ID0gdC5wbHVzKG4udGltZXMobikpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gdC5zcXJ0KCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiBvYmplY3QgaXMgYSBEZWNpbWFsIGluc3RhbmNlICh3aGVyZSBEZWNpbWFsIGlzIGFueSBEZWNpbWFsIGNvbnN0cnVjdG9yKSxcclxuICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGlzRGVjaW1hbEluc3RhbmNlKG9iaikge1xyXG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiBEZWNpbWFsIHx8IG9iaiAmJiBvYmoubmFtZSA9PT0gJ1tvYmplY3QgRGVjaW1hbF0nIHx8IGZhbHNlO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBsbih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmxuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbG9nIG9mIGB4YCB0byB0aGUgYmFzZSBgeWAsIG9yIHRvIGJhc2UgMTAgaWYgbm8gYmFzZVxyXG4gKiBpcyBzcGVjaWZpZWQsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogbG9nW3ldKHgpXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGFyZ3VtZW50IG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGJhc2Ugb2YgdGhlIGxvZ2FyaXRobS5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZyh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmxvZyh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBiYXNlIDIgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2cyKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDIpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGJhc2UgMTAgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2cxMCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmxvZygxMCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1heCgpIHtcclxuICByZXR1cm4gbWF4T3JNaW4odGhpcywgYXJndW1lbnRzLCAnbHQnKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbWluKCkge1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLCBhcmd1bWVudHMsICdndCcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIG1vZHVsbyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtb2QoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5tb2QoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbXVsdGlwbGllZCBieSBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtdWwoeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5tdWwoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWQgdG8gcHJlY2lzaW9uXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGJhc2UuXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGV4cG9uZW50LlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gcG93KHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkucG93KHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJucyBhIG5ldyBEZWNpbWFsIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLCBhbmQgd2l0aFxyXG4gKiBgc2RgLCBvciBgRGVjaW1hbC5wcmVjaXNpb25gIGlmIGBzZGAgaXMgb21pdHRlZCwgc2lnbmlmaWNhbnQgZGlnaXRzIChvciBsZXNzIGlmIHRyYWlsaW5nIHplcm9zXHJcbiAqIGFyZSBwcm9kdWNlZCkuXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gcmFuZG9tKHNkKSB7XHJcbiAgdmFyIGQsIGUsIGssIG4sXHJcbiAgICBpID0gMCxcclxuICAgIHIgPSBuZXcgdGhpcygxKSxcclxuICAgIHJkID0gW107XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSBzZCA9IHRoaXMucHJlY2lzaW9uO1xyXG4gIGVsc2UgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gIGsgPSBNYXRoLmNlaWwoc2QgLyBMT0dfQkFTRSk7XHJcblxyXG4gIGlmICghdGhpcy5jcnlwdG8pIHtcclxuICAgIGZvciAoOyBpIDwgazspIHJkW2krK10gPSBNYXRoLnJhbmRvbSgpICogMWU3IHwgMDtcclxuXHJcbiAgLy8gQnJvd3NlcnMgc3VwcG9ydGluZyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLlxyXG4gIH0gZWxzZSBpZiAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xyXG4gICAgZCA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KGspKTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGs7KSB7XHJcbiAgICAgIG4gPSBkW2ldO1xyXG5cclxuICAgICAgLy8gMCA8PSBuIDwgNDI5NDk2NzI5NlxyXG4gICAgICAvLyBQcm9iYWJpbGl0eSBuID49IDQuMjllOSwgaXMgNDk2NzI5NiAvIDQyOTQ5NjcyOTYgPSAwLjAwMTE2ICgxIGluIDg2NSkuXHJcbiAgICAgIGlmIChuID49IDQuMjllOSkge1xyXG4gICAgICAgIGRbaV0gPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIDAgPD0gbiA8PSA0Mjg5OTk5OTk5XHJcbiAgICAgICAgLy8gMCA8PSAobiAlIDFlNykgPD0gOTk5OTk5OVxyXG4gICAgICAgIHJkW2krK10gPSBuICUgMWU3O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAvLyBidWZmZXJcclxuICAgIGQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA0KTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAvLyAwIDw9IG4gPCAyMTQ3NDgzNjQ4XHJcbiAgICAgIG4gPSBkW2ldICsgKGRbaSArIDFdIDw8IDgpICsgKGRbaSArIDJdIDw8IDE2KSArICgoZFtpICsgM10gJiAweDdmKSA8PCAyNCk7XHJcblxyXG4gICAgICAvLyBQcm9iYWJpbGl0eSBuID49IDIuMTRlOSwgaXMgNzQ4MzY0OCAvIDIxNDc0ODM2NDggPSAwLjAwMzUgKDEgaW4gMjg2KS5cclxuICAgICAgaWYgKG4gPj0gMi4xNGU5KSB7XHJcbiAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDQpLmNvcHkoZCwgaSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIDAgPD0gbiA8PSAyMTM5OTk5OTk5XHJcbiAgICAgICAgLy8gMCA8PSAobiAlIDFlNykgPD0gOTk5OTk5OVxyXG4gICAgICAgIHJkLnB1c2gobiAlIDFlNyk7XHJcbiAgICAgICAgaSArPSA0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaSA9IGsgLyA0O1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBFcnJvcihjcnlwdG9VbmF2YWlsYWJsZSk7XHJcbiAgfVxyXG5cclxuICBrID0gcmRbLS1pXTtcclxuICBzZCAlPSBMT0dfQkFTRTtcclxuXHJcbiAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIHNkLlxyXG4gIGlmIChrICYmIHNkKSB7XHJcbiAgICBuID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBzZCk7XHJcbiAgICByZFtpXSA9IChrIC8gbiB8IDApICogbjtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB3b3JkcyB3aGljaCBhcmUgemVyby5cclxuICBmb3IgKDsgcmRbaV0gPT09IDA7IGktLSkgcmQucG9wKCk7XHJcblxyXG4gIC8vIFplcm8/XHJcbiAgaWYgKGkgPCAwKSB7XHJcbiAgICBlID0gMDtcclxuICAgIHJkID0gWzBdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlID0gLTE7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgd29yZHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgIGZvciAoOyByZFswXSA9PT0gMDsgZSAtPSBMT0dfQkFTRSkgcmQuc2hpZnQoKTtcclxuXHJcbiAgICAvLyBDb3VudCB0aGUgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yIChrID0gMSwgbiA9IHJkWzBdOyBuID49IDEwOyBuIC89IDEwKSBrKys7XHJcblxyXG4gICAgLy8gQWRqdXN0IHRoZSBleHBvbmVudCBmb3IgbGVhZGluZyB6ZXJvcyBvZiB0aGUgZmlyc3Qgd29yZCBvZiByZC5cclxuICAgIGlmIChrIDwgTE9HX0JBU0UpIGUgLT0gTE9HX0JBU0UgLSBrO1xyXG4gIH1cclxuXHJcbiAgci5lID0gZTtcclxuICByLmQgPSByZDtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmRlZCB0byBhbiBpbnRlZ2VyIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogVG8gZW11bGF0ZSBgTWF0aC5yb3VuZGAsIHNldCByb3VuZGluZyB0byA3IChST1VORF9IQUxGX0NFSUwpLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiByb3VuZCh4KSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgdGhpcy5yb3VuZGluZyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5cclxuICogICAxICAgIGlmIHggPiAwLFxyXG4gKiAgLTEgICAgaWYgeCA8IDAsXHJcbiAqICAgMCAgICBpZiB4IGlzIDAsXHJcbiAqICAtMCAgICBpZiB4IGlzIC0wLFxyXG4gKiAgIE5hTiAgb3RoZXJ3aXNlXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpZ24oeCkge1xyXG4gIHggPSBuZXcgdGhpcyh4KTtcclxuICByZXR1cm4geC5kID8gKHguZFswXSA/IHgucyA6IDAgKiB4LnMpIDogeC5zIHx8IE5hTjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnNpbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc2luaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzcXJ0KHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc3FydCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHN1Yih4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnN1Yih5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhbih4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnRhbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB0YW5oKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkudGFuaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHRydW5jYXRlZCB0byBhbiBpbnRlZ2VyLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB0cnVuYyh4KSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMSk7XHJcbn1cclxuXHJcblxyXG5QW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldID0gUC50b1N0cmluZztcclxuUFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RlY2ltYWwnO1xyXG5cclxuLy8gQ3JlYXRlIGFuZCBjb25maWd1cmUgaW5pdGlhbCBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG5leHBvcnQgdmFyIERlY2ltYWwgPSBjbG9uZShERUZBVUxUUyk7XHJcblxyXG4vLyBDcmVhdGUgdGhlIGludGVybmFsIGNvbnN0YW50cyBmcm9tIHRoZWlyIHN0cmluZyB2YWx1ZXMuXHJcbkxOMTAgPSBuZXcgRGVjaW1hbChMTjEwKTtcclxuUEkgPSBuZXcgRGVjaW1hbChQSSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZWNpbWFsO1xyXG4iLCJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0JpZ051bWJlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyc/b24nLCAnY29uZmlnJ107XG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlckNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgb24sXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmO1xuICB2YXIgRVVDTElEID0gOTsgLy8gVXNlIGV1Y2xpZGlhbiBkaXZpc2lvbiBmb3IgbW9kIGNhbGN1bGF0aW9uXG5cbiAgdmFyIEJpZ051bWJlciA9IERlY2ltYWwuY2xvbmUoe1xuICAgIHByZWNpc2lvbjogY29uZmlnLnByZWNpc2lvbixcbiAgICBtb2R1bG86IEVVQ0xJRFxuICB9KTtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG4gIEJpZ051bWJlci5wcm90b3R5cGUudHlwZSA9ICdCaWdOdW1iZXInO1xuICBCaWdOdW1iZXIucHJvdG90eXBlLmlzQmlnTnVtYmVyID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBCaWdOdW1iZXIgY29udGFpbmluZ1xuICAgKiB0eXBlIGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQmlnTnVtYmVyXCIsIFwidmFsdWVcIjogXCIwLjJcIn1gXG4gICAqL1xuXG4gIEJpZ051bWJlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdCaWdOdW1iZXInLFxuICAgICAgdmFsdWU6IHRoaXMudG9TdHJpbmcoKVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIEJpZ051bWJlciBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCaWdOdW1iZXJcIiwgXCJ2YWx1ZVwiOiBcIjAuMlwifWBcbiAgICogQHJldHVybiB7QmlnTnVtYmVyfVxuICAgKi9cblxuXG4gIEJpZ051bWJlci5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoanNvbi52YWx1ZSk7XG4gIH07XG5cbiAgaWYgKG9uKSB7XG4gICAgLy8gbGlzdGVuIGZvciBjaGFuZ2VkIGluIHRoZSBjb25maWd1cmF0aW9uLCBhdXRvbWF0aWNhbGx5IGFwcGx5IGNoYW5nZWQgcHJlY2lzaW9uXG4gICAgb24oJ2NvbmZpZycsIGZ1bmN0aW9uIChjdXJyLCBwcmV2KSB7XG4gICAgICBpZiAoY3Vyci5wcmVjaXNpb24gIT09IHByZXYucHJlY2lzaW9uKSB7XG4gICAgICAgIEJpZ051bWJlci5jb25maWcoe1xuICAgICAgICAgIHByZWNpc2lvbjogY3Vyci5wcmVjaXNpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gQmlnTnVtYmVyO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKipcbiAqIEBsaWNlbnNlIENvbXBsZXguanMgdjIuMC4xMyAxMi8wNS8yMDIwXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwLCBSb2JlcnQgRWlzZWxlIChyb2JlcnRAeGFyZy5vcmcpXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy5cbiAqKi9cblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBhbGxvd3MgdGhlIG1hbmlwdWxhdGlvbiBvZiBjb21wbGV4IG51bWJlcnMuXG4gKiBZb3UgY2FuIHBhc3MgYSBjb21wbGV4IG51bWJlciBpbiBkaWZmZXJlbnQgZm9ybWF0cy4gRWl0aGVyIGFzIG9iamVjdCwgZG91YmxlLCBzdHJpbmcgb3IgdHdvIGludGVnZXIgcGFyYW1ldGVycy5cbiAqXG4gKiBPYmplY3QgZm9ybVxuICogeyByZTogPHJlYWw+LCBpbTogPGltYWdpbmFyeT4gfVxuICogeyBhcmc6IDxhbmdsZT4sIGFiczogPHJhZGl1cz4gfVxuICogeyBwaGk6IDxhbmdsZT4sIHI6IDxyYWRpdXM+IH1cbiAqXG4gKiBBcnJheSAvIFZlY3RvciBmb3JtXG4gKiBbIHJlYWwsIGltYWdpbmFyeSBdXG4gKlxuICogRG91YmxlIGZvcm1cbiAqIDk5LjMgLSBTaW5nbGUgZG91YmxlIHZhbHVlXG4gKlxuICogU3RyaW5nIGZvcm1cbiAqICcyMy4xMzM3JyAtIFNpbXBsZSByZWFsIG51bWJlclxuICogJzE1KzNpJyAtIGEgc2ltcGxlIGNvbXBsZXggbnVtYmVyXG4gKiAnMy1pJyAtIGEgc2ltcGxlIGNvbXBsZXggbnVtYmVyXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiB2YXIgYyA9IG5ldyBDb21wbGV4KCc5OS4zKzhpJyk7XG4gKiBjLm11bCh7cjogMywgaTogOX0pLmRpdig0LjkpLnN1YigzLCAyKTtcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGNvc2ggPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIChNYXRoLmV4cCh4KSArIE1hdGguZXhwKC14KSkgKiAwLjU7XG4gIH07XG5cbiAgdmFyIHNpbmggPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIChNYXRoLmV4cCh4KSAtIE1hdGguZXhwKC14KSkgKiAwLjU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgY29zKHgpIC0gMSB1c2luZyBUYXlsb3Igc2VyaWVzIGlmIHggaXMgc21hbGwuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGNvcyh4KSAtIDFcbiAgICovXG5cbiAgdmFyIGNvc20xID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGguUEkvNDtcbiAgICBpZiAoeCA8IC1saW1pdCB8fCB4ID4gbGltaXQpIHtcbiAgICAgIHJldHVybiAoTWF0aC5jb3MoeCkgLSAxLjApO1xuICAgIH1cblxuICAgIHZhciB4eCA9IHggKiB4O1xuICAgIHJldHVybiB4eCAqXG4gICAgICAoLTAuNSArIHh4ICpcbiAgICAgICAgKDEvMjQgKyB4eCAqXG4gICAgICAgICAgKC0xLzcyMCArIHh4ICpcbiAgICAgICAgICAgICgxLzQwMzIwICsgeHggKlxuICAgICAgICAgICAgICAoLTEvMzYyODgwMCArIHh4ICpcbiAgICAgICAgICAgICAgICAoMS80NzkwMDE0NjAwICsgeHggKlxuICAgICAgICAgICAgICAgICAgKC0xLzg3MTc4MjkxMjAwICsgeHggKlxuICAgICAgICAgICAgICAgICAgICAoMS8yMDkyMjc4OTg4ODAwMClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgfTtcblxuICB2YXIgaHlwb3QgPSBmdW5jdGlvbih4LCB5KSB7XG5cbiAgICB2YXIgYSA9IE1hdGguYWJzKHgpO1xuICAgIHZhciBiID0gTWF0aC5hYnMoeSk7XG5cbiAgICBpZiAoYSA8IDMwMDAgJiYgYiA8IDMwMDApIHtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgfVxuXG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICBhID0gYjtcbiAgICAgIGIgPSB4IC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgYiA9IHkgLyB4O1xuICAgIH1cbiAgICByZXR1cm4gYSAqIE1hdGguc3FydCgxICsgYiAqIGIpO1xuICB9O1xuXG4gIHZhciBwYXJzZXJfZXhpdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IFN5bnRheEVycm9yKCdJbnZhbGlkIFBhcmFtJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgbG9nKHNxcnQoYV4yK2JeMikpIGluIGEgd2F5IHRvIGF2b2lkIG92ZXJmbG93c1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYVxuICAgKiBAcGFyYW0ge251bWJlcn0gYlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZnVuY3Rpb24gbG9nSHlwb3QoYSwgYikge1xuXG4gICAgdmFyIF9hID0gTWF0aC5hYnMoYSk7XG4gICAgdmFyIF9iID0gTWF0aC5hYnMoYik7XG5cbiAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKF9iKTtcbiAgICB9XG5cbiAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKF9hKTtcbiAgICB9XG5cbiAgICBpZiAoX2EgPCAzMDAwICYmIF9iIDwgMzAwMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKGEgKiBhICsgYiAqIGIpICogMC41O1xuICAgIH1cblxuICAgIC8qIEkgZ290IDQgaWRlYXMgdG8gY29tcHV0ZSB0aGlzIHByb3BlcnR5IHdpdGhvdXQgb3ZlcmZsb3c6XG4gICAgICpcbiAgICAgKiBUZXN0aW5nIDEwMDAwMDAgdGltZXMgd2l0aCByYW5kb20gc2FtcGxlcyBmb3IgYSxiIOKIiCBbMSwgMTAwMDAwMDAwMF0gYWdhaW5zdCBhIGJpZyBkZWNpbWFsIGxpYnJhcnkgdG8gZ2V0IGFuIGVycm9yIGVzdGltYXRlXG4gICAgICpcbiAgICAgKiAxLiBPbmx5IGVsaW1pbmF0ZSB0aGUgc3F1YXJlIHJvb3Q6IChPVkVSQUxMIEVSUk9SOiAzLjkxMjI0ODMwMzA5NTExMTZlLTExKVxuXG4gICAgIE1hdGgubG9nKGEgKiBhICsgYiAqIGIpIC8gMlxuXG4gICAgICpcbiAgICAgKlxuICAgICAqIDIuIFRyeSB0byB1c2UgdGhlIG5vbi1vdmVyZmxvd2luZyBweXRoYWdvcmFzOiAoT1ZFUkFMTCBFUlJPUjogOC44ODk3NjAwMzkyMTAxNTllLTEwKVxuXG4gICAgIHZhciBmbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgYSA9IE1hdGguYWJzKGEpO1xuICAgICBiID0gTWF0aC5hYnMoYik7XG4gICAgIHZhciB0ID0gTWF0aC5taW4oYSwgYik7XG4gICAgIGEgPSBNYXRoLm1heChhLCBiKTtcbiAgICAgdCA9IHQgLyBhO1xuXG4gICAgIHJldHVybiBNYXRoLmxvZyhhKSArIE1hdGgubG9nKDEgKyB0ICogdCkgLyAyO1xuICAgICB9O1xuXG4gICAgICogMy4gQWJ1c2UgdGhlIGlkZW50aXR5IGNvcyhhdGFuKHkveCkgPSB4IC8gc3FydCh4XjIreV4yKTogKE9WRVJBTEwgRVJST1I6IDMuNDc4MDE3ODczNzAzNzIwNGUtMTApXG5cbiAgICAgTWF0aC5sb2coYSAvIE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKVxuXG4gICAgICogNC4gVXNlIDMuIGFuZCBhcHBseSBsb2cgcnVsZXM6IChPVkVSQUxMIEVSUk9SOiAxLjIwMTQwODc1MDI2MjA4OTZlLTkpXG5cbiAgICAgTWF0aC5sb2coYSkgLSBNYXRoLmxvZyhNYXRoLmNvcyhNYXRoLmF0YW4yKGIsIGEpKSlcblxuICAgICAqL1xuXG4gICAgcmV0dXJuIE1hdGgubG9nKGEgLyBNYXRoLmNvcyhNYXRoLmF0YW4yKGIsIGEpKSk7XG4gIH1cblxuICB2YXIgcGFyc2UgPSBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICB2YXIgeiA9IHsncmUnOiAwLCAnaW0nOiAwfTtcblxuICAgIGlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkge1xuICAgICAgelsncmUnXSA9XG4gICAgICAgICAgICAgIHpbJ2ltJ10gPSAwO1xuICAgIH0gZWxzZSBpZiAoYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB6WydyZSddID0gYTtcbiAgICAgIHpbJ2ltJ10gPSBiO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgYSkge1xuXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG5cbiAgICAgICAgICBpZiAoJ2ltJyBpbiBhICYmICdyZScgaW4gYSkge1xuICAgICAgICAgICAgelsncmUnXSA9IGFbJ3JlJ107XG4gICAgICAgICAgICB6WydpbSddID0gYVsnaW0nXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCdhYnMnIGluIGEgJiYgJ2FyZycgaW4gYSkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYVsnYWJzJ10pICYmIE51bWJlci5pc0Zpbml0ZShhWydhcmcnXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB6WydyZSddID0gYVsnYWJzJ10gKiBNYXRoLmNvcyhhWydhcmcnXSk7XG4gICAgICAgICAgICB6WydpbSddID0gYVsnYWJzJ10gKiBNYXRoLnNpbihhWydhcmcnXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgncicgaW4gYSAmJiAncGhpJyBpbiBhKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhWydyJ10pICYmIE51bWJlci5pc0Zpbml0ZShhWydwaGknXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB6WydyZSddID0gYVsnciddICogTWF0aC5jb3MoYVsncGhpJ10pO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbJ3InXSAqIE1hdGguc2luKGFbJ3BoaSddKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGEubGVuZ3RoID09PSAyKSB7IC8vIFF1aWNrIGFycmF5IGNoZWNrXG4gICAgICAgICAgICB6WydyZSddID0gYVswXTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWzFdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuXG4gICAgICAgICAgelsnaW0nXSA9IC8qIHZvaWQgKi9cbiAgICAgICAgICAgICAgICAgIHpbJ3JlJ10gPSAwO1xuXG4gICAgICAgICAgdmFyIHRva2VucyA9IGEubWF0Y2goL1xcZCtcXC4/XFxkKmVbKy1dP1xcZCt8XFxkK1xcLj9cXGQqfFxcLlxcZCt8Li9nKTtcbiAgICAgICAgICB2YXIgcGx1cyA9IDE7XG4gICAgICAgICAgdmFyIG1pbnVzID0gMDtcblxuICAgICAgICAgIGlmICh0b2tlbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgdmFyIGMgPSB0b2tlbnNbaV07XG5cbiAgICAgICAgICAgIGlmIChjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcgfHwgYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgLyogdm9pZCAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnKycpIHtcbiAgICAgICAgICAgICAgcGx1cysrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgICAgbWludXMrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ2knIHx8IGMgPT09ICdJJykge1xuXG4gICAgICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpICsgMV0gIT09ICcgJyAmJiAhaXNOYU4odG9rZW5zW2kgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICB6WydpbSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIHRva2Vuc1tpICsgMV0pO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6WydpbSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArICcxJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGx1cyA9IG1pbnVzID0gMDtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICBpZiAocGx1cyArIG1pbnVzID09PSAwIHx8IGlzTmFOKGMpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0b2tlbnNbaSArIDFdID09PSAnaScgfHwgdG9rZW5zW2kgKyAxXSA9PT0gJ0knKSB7XG4gICAgICAgICAgICAgICAgelsnaW0nXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyBjKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgelsncmUnXSArPSBwYXJzZUZsb2F0KChtaW51cyAlIDIgPyAnLScgOiAnJykgKyBjKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwbHVzID0gbWludXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFN0aWxsIHNvbWV0aGluZyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICBpZiAocGx1cyArIG1pbnVzID4gMCkge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICB6WydpbSddID0gMDtcbiAgICAgICAgICB6WydyZSddID0gYTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICB9XG5cbiAgICBpZiAoaXNOYU4oelsncmUnXSkgfHwgaXNOYU4oelsnaW0nXSkpIHtcbiAgICAgIC8vIElmIGEgY2FsY3VsYXRpb24gaXMgTmFOLCB3ZSB0cmVhdCBpdCBhcyBOYU4gYW5kIGRvbid0IHRocm93XG4gICAgICAvL3BhcnNlcl9leGl0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHo7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICovXG4gIGZ1bmN0aW9uIENvbXBsZXgoYSwgYikge1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbXBsZXgpKSB7XG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoYSwgYik7XG4gICAgfVxuXG4gICAgdmFyIHogPSBwYXJzZShhLCBiKTtcblxuICAgIHRoaXNbJ3JlJ10gPSB6WydyZSddO1xuICAgIHRoaXNbJ2ltJ10gPSB6WydpbSddO1xuICB9XG5cbiAgQ29tcGxleC5wcm90b3R5cGUgPSB7XG5cbiAgICAncmUnOiAwLFxuICAgICdpbSc6IDAsXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaWduIG9mIGEgY29tcGxleCBudW1iZXIsIHdoaWNoIGlzIGEgbm9ybWFsaXplZCBjb21wbGV4XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2lnbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYWJzID0gdGhpc1snYWJzJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddIC8gYWJzLFxuICAgICAgICAgICAgICB0aGlzWydpbSddIC8gYWJzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWRkJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyBJbmZpbml0eSArIEluZmluaXR5ID0gTmFOXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ05BTiddO1xuICAgICAgfVxuXG4gICAgICAvLyBJbmZpbml0eSArIHogPSBJbmZpbml0eSB7IHdoZXJlIHogIT0gSW5maW5pdHkgfVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKyB6WydyZSddLFxuICAgICAgICAgICAgICB0aGlzWydpbSddICsgelsnaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc3ViJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyBJbmZpbml0eSAtIEluZmluaXR5ID0gTmFOXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ05BTiddO1xuICAgICAgfVxuXG4gICAgICAvLyBJbmZpbml0eSAtIHogPSBJbmZpbml0eSB7IHdoZXJlIHogIT0gSW5maW5pdHkgfVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gLSB6WydyZSddLFxuICAgICAgICAgICAgICB0aGlzWydpbSddIC0gelsnaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ211bCc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgLy8gSW5maW5pdHkgKiAwID0gTmFOXG4gICAgICBpZiAoKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzWmVybyddKCkpIHx8ICh0aGlzWydpc1plcm8nXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5ICogeiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSAwIH1cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSB8fCB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvcnQgY2lyY3VpdCBmb3IgcmVhbCB2YWx1ZXNcbiAgICAgIGlmICh6WydpbSddID09PSAwICYmIHRoaXNbJ2ltJ10gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10gKiB6WydyZSddLCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0aGlzWydyZSddICogelsncmUnXSAtIHRoaXNbJ2ltJ10gKiB6WydpbSddLFxuICAgICAgICAgICAgICB0aGlzWydyZSddICogelsnaW0nXSArIHRoaXNbJ2ltJ10gKiB6WydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZGl2JzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyAwIC8gMCA9IE5hTiBhbmQgSW5maW5pdHkgLyBJbmZpbml0eSA9IE5hTlxuICAgICAgaWYgKCh0aGlzWydpc1plcm8nXSgpICYmIHpbJ2lzWmVybyddKCkpIHx8ICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ05BTiddO1xuICAgICAgfVxuXG4gICAgICAvLyBJbmZpbml0eSAvIDAgPSBJbmZpbml0eVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIC8vIDAgLyBJbmZpbml0eSA9IDBcbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydaRVJPJ107XG4gICAgICB9XG5cbiAgICAgIGEgPSB0aGlzWydyZSddO1xuICAgICAgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciBjID0gelsncmUnXTtcbiAgICAgIHZhciBkID0gelsnaW0nXTtcbiAgICAgIHZhciB0LCB4O1xuXG4gICAgICBpZiAoMCA9PT0gZCkge1xuICAgICAgICAvLyBEaXZpc29yIGlzIHJlYWxcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KGEgLyBjLCBiIC8gYyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhjKSA8IE1hdGguYWJzKGQpKSB7XG5cbiAgICAgICAgeCA9IGMgLyBkO1xuICAgICAgICB0ID0gYyAqIHggKyBkO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSAqIHggKyBiKSAvIHQsXG4gICAgICAgICAgICAgICAgKGIgKiB4IC0gYSkgLyB0KTtcblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICB4ID0gZCAvIGM7XG4gICAgICAgIHQgPSBkICogeCArIGM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICsgYiAqIHgpIC8gdCxcbiAgICAgICAgICAgICAgICAoYiAtIGEgKiB4KSAvIHQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdwb3cnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIGEgPSB0aGlzWydyZSddO1xuICAgICAgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmICh6Wydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydPTkUnXTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIGV4cG9uZW50IGlzIHJlYWxcbiAgICAgIGlmICh6WydpbSddID09PSAwKSB7XG5cbiAgICAgICAgaWYgKGIgPT09IDAgJiYgYSA+IDApIHtcblxuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnBvdyhhLCB6WydyZSddKSwgMCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChhID09PSAwKSB7IC8vIElmIGJhc2UgaXMgZnVsbHkgaW1hZ2luYXJ5XG5cbiAgICAgICAgICBzd2l0Y2ggKCh6WydyZSddICUgNCArIDQpICUgNCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5wb3coYiwgelsncmUnXSksIDApO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgTWF0aC5wb3coYiwgelsncmUnXSkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoLU1hdGgucG93KGIsIHpbJ3JlJ10pLCAwKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIC1NYXRoLnBvdyhiLCB6WydyZSddKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIEkgY291bGRuJ3QgZmluZCBhIGdvb2QgZm9ybXVsYSwgc28gaGVyZSBpcyBhIGRlcml2YXRpb24gYW5kIG9wdGltaXphdGlvblxuICAgICAgICpcbiAgICAgICAqIHpfMV56XzIgPSAoYSArIGJpKV4oYyArIGRpKVxuICAgICAgICogICAgICAgICA9IGV4cCgoYyArIGRpKSAqIGxvZyhhICsgYmkpXG4gICAgICAgKiAgICAgICAgID0gcG93KGFeMiArIGJeMiwgKGMgKyBkaSkgLyAyKSAqIGV4cChpKGMgKyBkaSlhdGFuMihiLCBhKSlcbiAgICAgICAqID0+Li4uXG4gICAgICAgKiBSZSA9IChwb3coYV4yICsgYl4yLCBjIC8gMikgKiBleHAoLWQgKiBhdGFuMihiLCBhKSkpICogY29zKGQgKiBsb2coYV4yICsgYl4yKSAvIDIgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKiBJbSA9IChwb3coYV4yICsgYl4yLCBjIC8gMikgKiBleHAoLWQgKiBhdGFuMihiLCBhKSkpICogc2luKGQgKiBsb2coYV4yICsgYl4yKSAvIDIgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKlxuICAgICAgICogPT4uLi5cbiAgICAgICAqIFJlID0gZXhwKGMgKiBsb2coc3FydChhXjIgKyBiXjIpKSAtIGQgKiBhdGFuMihiLCBhKSkgKiBjb3MoZCAqIGxvZyhzcXJ0KGFeMiArIGJeMikpICsgYyAqIGF0YW4yKGIsIGEpKVxuICAgICAgICogSW0gPSBleHAoYyAqIGxvZyhzcXJ0KGFeMiArIGJeMikpIC0gZCAqIGF0YW4yKGIsIGEpKSAqIHNpbihkICogbG9nKHNxcnQoYV4yICsgYl4yKSkgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKlxuICAgICAgICogPT5cbiAgICAgICAqIFJlID0gZXhwKGMgKiBsb2dzcTIgLSBkICogYXJnKHpfMSkpICogY29zKGQgKiBsb2dzcTIgKyBjICogYXJnKHpfMSkpXG4gICAgICAgKiBJbSA9IGV4cChjICogbG9nc3EyIC0gZCAqIGFyZyh6XzEpKSAqIHNpbihkICogbG9nc3EyICsgYyAqIGFyZyh6XzEpKVxuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwICYmIHpbJ3JlJ10gPiAwICYmIHpbJ2ltJ10gPj0gMCkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnWkVSTyddO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJnID0gTWF0aC5hdGFuMihiLCBhKTtcbiAgICAgIHZhciBsb2ggPSBsb2dIeXBvdChhLCBiKTtcblxuICAgICAgYSA9IE1hdGguZXhwKHpbJ3JlJ10gKiBsb2ggLSB6WydpbSddICogYXJnKTtcbiAgICAgIGIgPSB6WydpbSddICogbG9oICsgelsncmUnXSAqIGFyZztcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYSAqIE1hdGguY29zKGIpLFxuICAgICAgICAgICAgICBhICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggc3F1YXJlIHJvb3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzcXJ0JzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciByID0gdGhpc1snYWJzJ10oKTtcblxuICAgICAgdmFyIHJlLCBpbTtcblxuICAgICAgaWYgKGEgPj0gMCkge1xuXG4gICAgICAgIGlmIChiID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguc3FydChhKSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZSA9IDAuNSAqIE1hdGguc3FydCgyLjAgKiAociArIGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlID0gTWF0aC5hYnMoYikgLyBNYXRoLnNxcnQoMiAqIChyIC0gYSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSA8PSAwKSB7XG4gICAgICAgIGltID0gMC41ICogTWF0aC5zcXJ0KDIuMCAqIChyIC0gYSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW0gPSBNYXRoLmFicyhiKSAvIE1hdGguc3FydCgyICogKHIgKyBhKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChyZSwgYiA8IDAgPyAtaW0gOiBpbSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBleHBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2V4cCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdG1wID0gTWF0aC5leHAodGhpc1sncmUnXSk7XG5cbiAgICAgIGlmICh0aGlzWydpbSddID09PSAwKSB7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBDb21wbGV4KHRtcCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRtcCAqIE1hdGguY29zKHRoaXNbJ2ltJ10pLFxuICAgICAgICAgICAgICB0bXAgKiBNYXRoLnNpbih0aGlzWydpbSddKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBleHBvbmVudCBhbmQgc3VidHJhY3RzIG9uZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGUgdGhhbiBgQ29tcGxleCh4KS5leHAoKS5zdWIoMSlgIGlmXG4gICAgICogYHhgIGlzIHNtYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2V4cG0xJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogZXhwKGEgKyBpKmIpIC0gMVxuICAgICAgID0gZXhwKGEpICogKGNvcyhiKSArIGoqc2luKGIpKSAtIDFcbiAgICAgICA9IGV4cG0xKGEpKmNvcyhiKSArIGNvc20xKGIpICsgaipleHAoYSkqc2luKGIpXG4gICAgICAgKi9cblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguZXhwbTEoYSkgKiBNYXRoLmNvcyhiKSArIGNvc20xKGIpLFxuICAgICAgICAgICAgICBNYXRoLmV4cChhKSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2xvZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChiID09PSAwICYmIGEgPiAwKSB7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgubG9nKGEpLCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBsb2dIeXBvdChhLCBiKSxcbiAgICAgICAgICAgICAgTWF0aC5hdGFuMihiLCBhKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgbWFnbml0dWRlIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICAnYWJzJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBoeXBvdCh0aGlzWydyZSddLCB0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBhbmdsZSBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgJ2FyZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzWydpbSddLCB0aGlzWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzaW5lIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Npbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzaW4oYykgPSAoZV5iIC0gZV4oLWIpKSAvICgyaSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpICogY29zaChiKSxcbiAgICAgICAgICAgICAgTWF0aC5jb3MoYSkgKiBzaW5oKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3NpbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY29zKHopID0gKGVeYiArIGVeKC1iKSkgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmNvcyhhKSAqIGNvc2goYiksXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihhKSAqIHNpbmgoYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHRhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICd0YW4nOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gdGFuKGMpID0gKGVeKGNpKSAtIGVeKC1jaSkpIC8gKGkoZV4oY2kpICsgZV4oLWNpKSkpXG5cbiAgICAgIHZhciBhID0gMiAqIHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IDIgKiB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcyhhKSArIGNvc2goYik7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgLyBkLFxuICAgICAgICAgICAgICBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY290YW5nZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY290JzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvdChjKSA9IGkoZV4oY2kpICsgZV4oLWNpKSkgLyAoZV4oY2kpIC0gZV4oLWNpKSlcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKGEpIC0gY29zaChiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYSkgLyBkLFxuICAgICAgICAgICAgICBzaW5oKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgc2VjYW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2VjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNlYyhjKSA9IDIgLyAoZV4oY2kpICsgZV4oLWNpKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSAwLjUgKiBjb3NoKDIgKiBiKSArIDAuNSAqIE1hdGguY29zKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmNvcyhhKSAqIGNvc2goYikgLyBkLFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAqIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3NlY2Fuc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NzYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjc2MoYykgPSAyaSAvIChlXihjaSkgLSBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IDAuNSAqIGNvc2goMiAqIGIpIC0gMC41ICogTWF0aC5jb3MoMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpICogY29zaChiKSAvIGQsXG4gICAgICAgICAgICAgIC1NYXRoLmNvcyhhKSAqIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIHNpbnVzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNpbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2luKGMpID0gLWkgKiBsb2coY2kgKyBzcXJ0KDEgLSBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHZhciB0MSA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBiICogYiAtIGEgKiBhICsgMSxcbiAgICAgICAgICAgICAgLTIgKiBhICogYilbJ3NxcnQnXSgpO1xuXG4gICAgICB2YXIgdDIgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdDFbJ3JlJ10gLSBiLFxuICAgICAgICAgICAgICB0MVsnaW0nXSArIGEpWydsb2cnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgodDJbJ2ltJ10sIC10MlsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3NpbnVzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvcyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY29zKGMpID0gaSAqIGxvZyhjIC0gaSAqIHNxcnQoMSAtIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIHQxID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGIgKiBiIC0gYSAqIGEgKyAxLFxuICAgICAgICAgICAgICAtMiAqIGEgKiBiKVsnc3FydCddKCk7XG5cbiAgICAgIHZhciB0MiA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0MVsncmUnXSAtIGIsXG4gICAgICAgICAgICAgIHQxWydpbSddICsgYSlbJ2xvZyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLlBJIC8gMiAtIHQyWydpbSddLCB0MlsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyB0YW5nZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXRhbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhdGFuKGMpID0gaSAvIDIgbG9nKChpICsgeCkgLyAoaSAtIHgpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwKSB7XG5cbiAgICAgICAgaWYgKGIgPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgSW5maW5pdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGIgPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIC1JbmZpbml0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArICgxLjAgLSBiKSAqICgxLjAgLSBiKTtcblxuICAgICAgdmFyIHQxID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICgxIC0gYiAqIGIgLSBhICogYSkgLyBkLFxuICAgICAgICAgICAgICAtMiAqIGEgLyBkKS5sb2coKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KC0wLjUgKiB0MVsnaW0nXSwgMC41ICogdDFbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgY290YW5nZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvdCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY290KGMpID0gaSAvIDIgbG9nKChjIC0gaSkgLyAoYyArIGkpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLmF0YW4yKDEsIGEpLCAwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXRhbigpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmF0YW4oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIHNlY2FudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2FzZWMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXNlYyhjKSA9IC1pICogbG9nKDEgLyBjICsgc3FydCgxIC0gaSAvIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgSW5maW5pdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hY29zKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYWNvcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgY29zZWNhbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY3NjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjc2MoYykgPSAtaSAqIGxvZyhpIC8gYyArIHNxcnQoMSAtIDEgLyBjXjIpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguUEkgLyAyLCBJbmZpbml0eSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFzaW4oKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hc2luKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzaW5oXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2luaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzaW5oKGMpID0gKGVeYyAtIGVeLWMpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgc2luaChhKSAqIE1hdGguY29zKGIpLFxuICAgICAgICAgICAgICBjb3NoKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY29zaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvc2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY29zaChjKSA9IChlXmMgKyBlXi1jKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGNvc2goYSkgKiBNYXRoLmNvcyhiKSxcbiAgICAgICAgICAgICAgc2luaChhKSAqIE1hdGguc2luKGIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHRhbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICd0YW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHRhbmgoYykgPSAoZV5jIC0gZV4tYykgLyAoZV5jICsgZV4tYylcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IGNvc2goYSkgKyBNYXRoLmNvcyhiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBzaW5oKGEpIC8gZCxcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3RoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNvdGgoYykgPSAoZV5jICsgZV4tYykgLyAoZV5jIC0gZV4tYylcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IGNvc2goYSkgLSBNYXRoLmNvcyhiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBzaW5oKGEpIC8gZCxcbiAgICAgICAgICAgICAgLU1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3RoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY3NjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjc2NoKGMpID0gMiAvIChlXmMgLSBlXi1jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKDIgKiBiKSAtIGNvc2goMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIC0yICogc2luaChhKSAqIE1hdGguY29zKGIpIC8gZCxcbiAgICAgICAgICAgICAgMiAqIGNvc2goYSkgKiBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggc2VjaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NlY2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2VjaChjKSA9IDIgLyAoZV5jICsgZV4tYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIGQgPSBNYXRoLmNvcygyICogYikgKyBjb3NoKDIgKiBhKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAyICogY29zaChhKSAqIE1hdGguY29zKGIpIC8gZCxcbiAgICAgICAgICAgICAgLTIgKiBzaW5oKGEpICogTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFzaW5oXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNpbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXNpbmgoYykgPSBsb2coYyArIHNxcnQoY14yICsgMSkpXG5cbiAgICAgIHZhciB0bXAgPSB0aGlzWydpbSddO1xuICAgICAgdGhpc1snaW0nXSA9IC10aGlzWydyZSddO1xuICAgICAgdGhpc1sncmUnXSA9IHRtcDtcbiAgICAgIHZhciByZXMgPSB0aGlzWydhc2luJ10oKTtcblxuICAgICAgdGhpc1sncmUnXSA9IC10aGlzWydpbSddO1xuICAgICAgdGhpc1snaW0nXSA9IHRtcDtcbiAgICAgIHRtcCA9IHJlc1sncmUnXTtcblxuICAgICAgcmVzWydyZSddID0gLXJlc1snaW0nXTtcbiAgICAgIHJlc1snaW0nXSA9IHRtcDtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY29zaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3NoKGMpID0gbG9nKGMgKyBzcXJ0KGNeMiAtIDEpKVxuXG4gICAgICB2YXIgcmVzID0gdGhpc1snYWNvcyddKCk7XG4gICAgICBpZiAocmVzWydpbSddIDw9IDApIHtcbiAgICAgICAgdmFyIHRtcCA9IHJlc1sncmUnXTtcbiAgICAgICAgcmVzWydyZSddID0gLXJlc1snaW0nXTtcbiAgICAgICAgcmVzWydpbSddID0gdG1wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRtcCA9IHJlc1snaW0nXTtcbiAgICAgICAgcmVzWydpbSddID0gLXJlc1sncmUnXTtcbiAgICAgICAgcmVzWydyZSddID0gdG1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGF0YW5oXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXRhbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXRhbmgoYykgPSBsb2coKDErYykgLyAoMS1jKSkgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIG5vSU0gPSBhID4gMSAmJiBiID09PSAwO1xuICAgICAgdmFyIG9uZU1pbnVzID0gMSAtIGE7XG4gICAgICB2YXIgb25lUGx1cyA9IDEgKyBhO1xuICAgICAgdmFyIGQgPSBvbmVNaW51cyAqIG9uZU1pbnVzICsgYiAqIGI7XG5cbiAgICAgIHZhciB4ID0gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKG9uZVBsdXMgKiBvbmVNaW51cyAtIGIgKiBiKSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgKiBvbmVNaW51cyArIG9uZVBsdXMgKiBiKSAvIGQpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IC0xKSA/IChhIC8gMCkgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IChiIC8gMCkgOiAwKTtcblxuICAgICAgdmFyIHRlbXAgPSB4WydyZSddO1xuICAgICAgeFsncmUnXSA9IGxvZ0h5cG90KHhbJ3JlJ10sIHhbJ2ltJ10pIC8gMjtcbiAgICAgIHhbJ2ltJ10gPSBNYXRoLmF0YW4yKHhbJ2ltJ10sIHRlbXApIC8gMjtcbiAgICAgIGlmIChub0lNKSB7XG4gICAgICAgIHhbJ2ltJ10gPSAteFsnaW0nXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNvdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY290aCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY290aChjKSA9IGxvZygoYysxKSAvIChjLTEpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBNYXRoLlBJIC8gMik7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmF0YW5oKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXRhbmgoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjc2NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNzY2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNzY2goYykgPSBsb2coKDErc3FydCgxK2NeMikpL2MpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDApIHtcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgIT09IDApXG4gICAgICAgICAgICAgICAgPyBNYXRoLmxvZyhhICsgTWF0aC5zcXJ0KGEgKiBhICsgMSkpXG4gICAgICAgICAgICAgICAgOiBJbmZpbml0eSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFzaW5oKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXNpbmgoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFzZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNlY2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYXNlY2goYykgPSBsb2coKDErc3FydCgxLWNeMikpL2MpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFjb3NoKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYWNvc2goKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGludmVyc2UgMS96XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnaW52ZXJzZSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyAxIC8gMCA9IEluZmluaXR5IGFuZCAxIC8gSW5maW5pdHkgPSAwXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydaRVJPJ107XG4gICAgICB9XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoYSAvIGQsIC1iIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbXBsZXggY29uanVnYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29uanVnYXRlJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddLCAtdGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5lZ2F0ZWQgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICduZWcnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KC10aGlzWydyZSddLCAtdGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlaWxzIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjZWlsJzogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLmNlaWwodGhpc1snaW0nXSAqIHBsYWNlcykgLyBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGbG9vcnMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Zsb29yJzogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlaWxzIHRoZSBhY3R1YWwgY29tcGxleCBudW1iZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdyb3VuZCc6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGgucm91bmQodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGgucm91bmQodGhpc1snaW0nXSAqIHBsYWNlcykgLyBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogbmV3IENvbXBsZXgoSW5maW5pdHkpLmVxdWFscyhJbmZpbml0eSkgPT09IGZhbHNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnZXF1YWxzJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICByZXR1cm4gTWF0aC5hYnMoelsncmUnXSAtIHRoaXNbJ3JlJ10pIDw9IENvbXBsZXhbJ0VQU0lMT04nXSAmJlxuICAgICAgICAgICAgICBNYXRoLmFicyh6WydpbSddIC0gdGhpc1snaW0nXSkgPD0gQ29tcGxleFsnRVBTSUxPTiddO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIGFjdHVhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjbG9uZSc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSwgdGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBzdHJpbmcgb2YgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIHJldCA9IFwiXCI7XG5cbiAgICAgIGlmICh0aGlzWydpc05hTiddKCkpIHtcbiAgICAgICAgcmV0dXJuICdOYU4nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuICdJbmZpbml0eSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhhKSA8IENvbXBsZXhbJ0VQU0lMT04nXSkge1xuICAgICAgICBhID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGIpIDwgQ29tcGxleFsnRVBTSUxPTiddKSB7XG4gICAgICAgIGIgPSAwO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpcyByZWFsIG51bWJlclxuICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJldCArIGE7XG4gICAgICB9XG5cbiAgICAgIGlmIChhICE9PSAwKSB7XG4gICAgICAgIHJldCs9IGE7XG4gICAgICAgIHJldCs9IFwiIFwiO1xuICAgICAgICBpZiAoYiA8IDApIHtcbiAgICAgICAgICBiID0gLWI7XG4gICAgICAgICAgcmV0Kz0gXCItXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0Kz0gXCIrXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0Kz0gXCIgXCI7XG4gICAgICB9IGVsc2UgaWYgKGIgPCAwKSB7XG4gICAgICAgIGIgPSAtYjtcbiAgICAgICAgcmV0Kz0gXCItXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICgxICE9PSBiKSB7IC8vIGIgaXMgdGhlIGFic29sdXRlIGltYWdpbmFyeSBwYXJ0XG4gICAgICAgIHJldCs9IGI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0ICsgXCJpXCI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFjdHVhbCBudW1iZXIgYXMgYSB2ZWN0b3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICAndG9WZWN0b3InOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIFt0aGlzWydyZSddLCB0aGlzWydpbSddXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYWN0dWFsIHJlYWwgdmFsdWUgb2YgdGhlIGN1cnJlbnQgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfG51bGx9XG4gICAgICovXG4gICAgJ3ZhbHVlT2YnOiBmdW5jdGlvbigpIHtcblxuICAgICAgaWYgKHRoaXNbJ2ltJ10gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJ3JlJ107XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgY29tcGxleCBudW1iZXIgaXMgbm90IG9uIHRoZSBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc05hTic6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzTmFOKHRoaXNbJ3JlJ10pIHx8IGlzTmFOKHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGEgY29tcGxleCBudW1iZXIgaXMgYXQgdGhlIHplcm8gcG9sZSBvZiB0aGVcbiAgICAgKiBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc1plcm8nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzWydpbSddID09PSAwICYmIHRoaXNbJ3JlJ10gPT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBhIGNvbXBsZXggbnVtYmVyIGlzIG5vdCBhdCB0aGUgaW5maW5pdHkgcG9sZSBvZiB0aGVcbiAgICAgKiBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc0Zpbml0ZSc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzRmluaXRlKHRoaXNbJ3JlJ10pICYmIGlzRmluaXRlKHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGEgY29tcGxleCBudW1iZXIgaXMgYXQgdGhlIGluZmluaXR5IHBvbGUgb2YgdGhlXG4gICAgICogUmllbWFubiBzcGhlcmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAnaXNJbmZpbml0ZSc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEodGhpc1snaXNOYU4nXSgpIHx8IHRoaXNbJ2lzRmluaXRlJ10oKSk7XG4gICAgfVxuICB9O1xuXG4gIENvbXBsZXhbJ1pFUk8nXSA9IG5ldyBDb21wbGV4KDAsIDApO1xuICBDb21wbGV4WydPTkUnXSA9IG5ldyBDb21wbGV4KDEsIDApO1xuICBDb21wbGV4WydJJ10gPSBuZXcgQ29tcGxleCgwLCAxKTtcbiAgQ29tcGxleFsnUEknXSA9IG5ldyBDb21wbGV4KE1hdGguUEksIDApO1xuICBDb21wbGV4WydFJ10gPSBuZXcgQ29tcGxleChNYXRoLkUsIDApO1xuICBDb21wbGV4WydJTkZJTklUWSddID0gbmV3IENvbXBsZXgoSW5maW5pdHksIEluZmluaXR5KTtcbiAgQ29tcGxleFsnTkFOJ10gPSBuZXcgQ29tcGxleChOYU4sIE5hTik7XG4gIENvbXBsZXhbJ0VQU0lMT04nXSA9IDFlLTE1O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENvbXBsZXg7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBsZXgsIFwiX19lc01vZHVsZVwiLCB7J3ZhbHVlJzogdHJ1ZX0pO1xuICAgIENvbXBsZXhbJ2RlZmF1bHQnXSA9IENvbXBsZXg7XG4gICAgQ29tcGxleFsnQ29tcGxleCddID0gQ29tcGxleDtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IENvbXBsZXg7XG4gIH0gZWxzZSB7XG4gICAgcm9vdFsnQ29tcGxleCddID0gQ29tcGxleDtcbiAgfVxuXG59KSh0aGlzKTtcbiIsImltcG9ydCBDb21wbGV4IGZyb20gJ2NvbXBsZXguanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGlzTnVtYmVyLCBpc1VuaXQgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdDb21wbGV4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29tcGxleENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuICBDb21wbGV4LnByb3RvdHlwZS50eXBlID0gJ0NvbXBsZXgnO1xuICBDb21wbGV4LnByb3RvdHlwZS5pc0NvbXBsZXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29tcGxleCBudW1iZXJcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJDb21wbGV4XCIsIFwicmVcIjogMiwgXCJpbVwiOiAzfWBcbiAgICovXG5cbiAgQ29tcGxleC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdDb21wbGV4JyxcbiAgICAgIHJlOiB0aGlzLnJlLFxuICAgICAgaW06IHRoaXMuaW1cbiAgICB9O1xuICB9O1xuICAvKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBjb21wbGV4IG51bWJlciBpbiBwb2xhciBub3RhdGlvblxuICAgKiBUaGUgYW5nbGUgcGhpIHdpbGwgYmUgc2V0IGluIHRoZSBpbnRlcnZhbCBvZiBbLXBpLCBwaV0uXG4gICAqIEByZXR1cm4ge3tyOiBudW1iZXIsIHBoaTogbnVtYmVyfX0gUmV0dXJucyBhbmQgb2JqZWN0IHdpdGggcHJvcGVydGllcyByIGFuZCBwaGkuXG4gICAqL1xuXG5cbiAgQ29tcGxleC5wcm90b3R5cGUudG9Qb2xhciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcjogdGhpcy5hYnMoKSxcbiAgICAgIHBoaTogdGhpcy5hcmcoKVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbXBsZXggbnVtYmVyLFxuICAgKiB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29tcGxleC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIGltID0gdGhpcy5pbTtcbiAgICB2YXIgcmUgPSB0aGlzLnJlO1xuICAgIHZhciBzdHJSZSA9IGZvcm1hdCh0aGlzLnJlLCBvcHRpb25zKTtcbiAgICB2YXIgc3RySW0gPSBmb3JtYXQodGhpcy5pbSwgb3B0aW9ucyk7IC8vIHJvdW5kIGVpdGhlciByZSBvciBpbSB3aGVuIHNtYWxsZXIgdGhhbiB0aGUgY29uZmlndXJlZCBwcmVjaXNpb25cblxuICAgIHZhciBwcmVjaXNpb24gPSBpc051bWJlcihvcHRpb25zKSA/IG9wdGlvbnMgOiBvcHRpb25zID8gb3B0aW9ucy5wcmVjaXNpb24gOiBudWxsO1xuXG4gICAgaWYgKHByZWNpc2lvbiAhPT0gbnVsbCkge1xuICAgICAgdmFyIGVwc2lsb24gPSBNYXRoLnBvdygxMCwgLXByZWNpc2lvbik7XG5cbiAgICAgIGlmIChNYXRoLmFicyhyZSAvIGltKSA8IGVwc2lsb24pIHtcbiAgICAgICAgcmUgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoaW0gLyByZSkgPCBlcHNpbG9uKSB7XG4gICAgICAgIGltID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW0gPT09IDApIHtcbiAgICAgIC8vIHJlYWwgdmFsdWVcbiAgICAgIHN0ciA9IHN0clJlO1xuICAgIH0gZWxzZSBpZiAocmUgPT09IDApIHtcbiAgICAgIC8vIHB1cmVseSBjb21wbGV4IHZhbHVlXG4gICAgICBpZiAoaW0gPT09IDEpIHtcbiAgICAgICAgc3RyID0gJ2knO1xuICAgICAgfSBlbHNlIGlmIChpbSA9PT0gLTEpIHtcbiAgICAgICAgc3RyID0gJy1pJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IHN0ckltICsgJ2knO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb21wbGV4IHZhbHVlXG4gICAgICBpZiAoaW0gPCAwKSB7XG4gICAgICAgIGlmIChpbSA9PT0gLTEpIHtcbiAgICAgICAgICBzdHIgPSBzdHJSZSArICcgLSBpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSBzdHJSZSArICcgLSAnICsgc3RySW0uc3Vic3RyaW5nKDEpICsgJ2knO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaW0gPT09IDEpIHtcbiAgICAgICAgICBzdHIgPSBzdHJSZSArICcgKyBpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSBzdHJSZSArICcgKyAnICsgc3RySW0gKyAnaSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY29tcGxleCBudW1iZXIgZnJvbSBwb2xhciBjb29yZGluYXRlc1xuICAgKlxuICAgKiBVc2FnZTpcbiAgICpcbiAgICogICAgIENvbXBsZXguZnJvbVBvbGFyKHI6IG51bWJlciwgcGhpOiBudW1iZXIpIDogQ29tcGxleFxuICAgKiAgICAgQ29tcGxleC5mcm9tUG9sYXIoe3I6IG51bWJlciwgcGhpOiBudW1iZXJ9KSA6IENvbXBsZXhcbiAgICpcbiAgICogQHBhcmFtIHsqfSBhcmdzLi4uXG4gICAqIEByZXR1cm4ge0NvbXBsZXh9XG4gICAqL1xuXG5cbiAgQ29tcGxleC5mcm9tUG9sYXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBsZXgoYXJnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5wdXQgaGFzIHRvIGJlIGFuIG9iamVjdCB3aXRoIHIgYW5kIHBoaSBrZXlzLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB2YXIgcGhpID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgICAgaWYgKGlzTnVtYmVyKHIpKSB7XG4gICAgICAgICAgICBpZiAoaXNVbml0KHBoaSkgJiYgcGhpLmhhc0Jhc2UoJ0FOR0xFJykpIHtcbiAgICAgICAgICAgICAgLy8gY29udmVydCB1bml0IHRvIGEgbnVtYmVyIGluIHJhZGlhbnNcbiAgICAgICAgICAgICAgcGhpID0gcGhpLnRvTnVtYmVyKCdyYWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHBoaSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHtcbiAgICAgICAgICAgICAgICByOiByLFxuICAgICAgICAgICAgICAgIHBoaTogcGhpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQaGkgaXMgbm90IGEgbnVtYmVyIG5vciBhbiBhbmdsZSB1bml0LicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSYWRpdXMgciBpcyBub3QgYSBudW1iZXIuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiBmdW5jdGlvbiBmcm9tUG9sYXInKTtcbiAgICB9XG4gIH07XG5cbiAgQ29tcGxleC5wcm90b3R5cGUudmFsdWVPZiA9IENvbXBsZXgucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogQ3JlYXRlIGEgQ29tcGxleCBudW1iZXIgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gT2JqZWN0IHN0cnVjdHVyZWQgYXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtcIm1hdGhqc1wiOiBcIkNvbXBsZXhcIiwgXCJyZVwiOiAyLCBcImltXCI6IDN9XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBBbGwgcHJvcGVydGllcyBhcmUgb3B0aW9uYWwsIGRlZmF1bHQgdmFsdWVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBmb3IgYHJlYCBhbmQgYGltYCBhcmUgMC5cbiAgICogQHJldHVybiB7Q29tcGxleH0gUmV0dXJucyBhIG5ldyBDb21wbGV4IG51bWJlclxuICAgKi9cblxuICBDb21wbGV4LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IENvbXBsZXgoanNvbik7XG4gIH07XG4gIC8qKlxuICAgKiBDb21wYXJlIHR3byBjb21wbGV4IG51bWJlcnMsIGBhYCBhbmQgYGJgOlxuICAgKlxuICAgKiAtIFJldHVybnMgMSB3aGVuIHRoZSByZWFsIHBhcnQgb2YgYGFgIGlzIGxhcmdlciB0aGFuIHRoZSByZWFsIHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAtMSB3aGVuIHRoZSByZWFsIHBhcnQgb2YgYGFgIGlzIHNtYWxsZXIgdGhhbiB0aGUgcmVhbCBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgMSB3aGVuIHRoZSByZWFsIHBhcnRzIGFyZSBlcXVhbFxuICAgKiAgIGFuZCB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYGFgIGlzIGxhcmdlciB0aGFuIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIC0xIHdoZW4gdGhlIHJlYWwgcGFydHMgYXJlIGVxdWFsXG4gICAqICAgYW5kIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYWAgaXMgc21hbGxlciB0aGFuIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIDAgd2hlbiBib3RoIHJlYWwgYW5kIGltYWdpbmFyeSBwYXJ0cyBhcmUgZXF1YWwuXG4gICAqXG4gICAqIEBwYXJhbXMge0NvbXBsZXh9IGFcbiAgICogQHBhcmFtcyB7Q29tcGxleH0gYlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb21wYXJpc29uIHJlc3VsdDogLTEsIDAsIG9yIDFcbiAgICovXG5cblxuICBDb21wbGV4LmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLnJlID4gYi5yZSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgaWYgKGEucmUgPCBiLnJlKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKGEuaW0gPiBiLmltKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoYS5pbSA8IGIuaW0pIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICByZXR1cm4gQ29tcGxleDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLyoqXG4gKiBAbGljZW5zZSBGcmFjdGlvbi5qcyB2NC4xLjEgMjMvMDUvMjAyMVxuICogaHR0cHM6Ly93d3cueGFyZy5vcmcvMjAxNC8wMy9yYXRpb25hbC1udW1iZXJzLWluLWphdmFzY3JpcHQvXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIxLCBSb2JlcnQgRWlzZWxlIChyb2JlcnRAeGFyZy5vcmcpXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy5cbiAqKi9cblxuXG4vKipcbiAqXG4gKiBUaGlzIGNsYXNzIG9mZmVycyB0aGUgcG9zc2liaWxpdHkgdG8gY2FsY3VsYXRlIGZyYWN0aW9ucy5cbiAqIFlvdSBjYW4gcGFzcyBhIGZyYWN0aW9uIGluIGRpZmZlcmVudCBmb3JtYXRzLiBFaXRoZXIgYXMgYXJyYXksIGFzIGRvdWJsZSwgYXMgc3RyaW5nIG9yIGFzIGFuIGludGVnZXIuXG4gKlxuICogQXJyYXkvT2JqZWN0IGZvcm1cbiAqIFsgMCA9PiA8bm9taW5hdG9yPiwgMSA9PiA8ZGVub21pbmF0b3I+IF1cbiAqIFsgbiA9PiA8bm9taW5hdG9yPiwgZCA9PiA8ZGVub21pbmF0b3I+IF1cbiAqXG4gKiBJbnRlZ2VyIGZvcm1cbiAqIC0gU2luZ2xlIGludGVnZXIgdmFsdWVcbiAqXG4gKiBEb3VibGUgZm9ybVxuICogLSBTaW5nbGUgZG91YmxlIHZhbHVlXG4gKlxuICogU3RyaW5nIGZvcm1cbiAqIDEyMy40NTYgLSBhIHNpbXBsZSBkb3VibGVcbiAqIDEyMy80NTYgLSBhIHN0cmluZyBmcmFjdGlvblxuICogMTIzLic0NTYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgZGVjaW1hbCBwbGFjZXNcbiAqIDEyMy4oNDU2KSAtIHN5bm9ueW1cbiAqIDEyMy40NSc2JyAtIGEgZG91YmxlIHdpdGggcmVwZWF0aW5nIGxhc3QgcGxhY2VcbiAqIDEyMy40NSg2KSAtIHN5bm9ueW1cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIHZhciBmID0gbmV3IEZyYWN0aW9uKFwiOS40JzMxJ1wiKTtcbiAqIGYubXVsKFstNCwgM10pLmRpdig0LjkpO1xuICpcbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIE1heGltdW0gc2VhcmNoIGRlcHRoIGZvciBjeWNsaWMgcmF0aW9uYWwgbnVtYmVycy4gMjAwMCBzaG91bGQgYmUgbW9yZSB0aGFuIGVub3VnaC5cbiAgLy8gRXhhbXBsZTogMS83ID0gMC4oMTQyODU3KSBoYXMgNiByZXBlYXRpbmcgZGVjaW1hbCBwbGFjZXMuXG4gIC8vIElmIE1BWF9DWUNMRV9MRU4gZ2V0cyByZWR1Y2VkLCBsb25nIGN5Y2xlcyB3aWxsIG5vdCBiZSBkZXRlY3RlZCBhbmQgdG9TdHJpbmcoKSBvbmx5IGdldHMgdGhlIGZpcnN0IDEwIGRpZ2l0c1xuICB2YXIgTUFYX0NZQ0xFX0xFTiA9IDIwMDA7XG5cbiAgLy8gUGFyc2VkIGRhdGEgdG8gYXZvaWQgY2FsbGluZyBcIm5ld1wiIGFsbCB0aGUgdGltZVxuICB2YXIgUCA9IHtcbiAgICBcInNcIjogMSxcbiAgICBcIm5cIjogMCxcbiAgICBcImRcIjogMVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG5hbWUpIHtcblxuICAgIGZ1bmN0aW9uIGVycm9yQ29uc3RydWN0b3IoKSB7XG4gICAgICB2YXIgdGVtcCA9IEVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB0ZW1wWyduYW1lJ10gPSB0aGlzWyduYW1lJ10gPSBuYW1lO1xuICAgICAgdGhpc1snc3RhY2snXSA9IHRlbXBbJ3N0YWNrJ107XG4gICAgICB0aGlzWydtZXNzYWdlJ10gPSB0ZW1wWydtZXNzYWdlJ107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVybWVkaWF0ZUluaGVyaXRvcigpIHsgfVxuICAgIEludGVybWVkaWF0ZUluaGVyaXRvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG4gICAgZXJyb3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCk7XG5cbiAgICByZXR1cm4gZXJyb3JDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIHZhciBEaXZpc2lvbkJ5WmVybyA9IEZyYWN0aW9uWydEaXZpc2lvbkJ5WmVybyddID0gY3JlYXRlRXJyb3IoJ0RpdmlzaW9uQnlaZXJvJyk7XG4gIHZhciBJbnZhbGlkUGFyYW1ldGVyID0gRnJhY3Rpb25bJ0ludmFsaWRQYXJhbWV0ZXInXSA9IGNyZWF0ZUVycm9yKCdJbnZhbGlkUGFyYW1ldGVyJyk7XG5cbiAgZnVuY3Rpb24gYXNzaWduKG4sIHMpIHtcblxuICAgIGlmIChpc05hTihuID0gcGFyc2VJbnQobiwgMTApKSkge1xuICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gKiBzO1xuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3dJbnZhbGlkUGFyYW0oKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQYXJhbWV0ZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3Rvcml6ZShudW0pIHtcblxuICAgIHZhciBmYWN0b3JzID0ge307XG5cbiAgICB2YXIgbiA9IG51bTtcbiAgICB2YXIgaSA9IDI7XG4gICAgdmFyIHMgPSA0O1xuXG4gICAgd2hpbGUgKHMgPD0gbikge1xuXG4gICAgICB3aGlsZSAobiAlIGkgPT09IDApIHtcbiAgICAgICAgbiAvPSBpO1xuICAgICAgICBmYWN0b3JzW2ldID0gKGZhY3RvcnNbaV0gfHwgMCkgKyAxO1xuICAgICAgfVxuICAgICAgcyArPSAxICsgMiAqIGkrKztcbiAgICB9XG5cbiAgICBpZiAobiAhPT0gbnVtKSB7XG4gICAgICBpZiAobiA+IDEpXG4gICAgICBmYWN0b3JzW25dID0gKGZhY3RvcnNbbl0gfHwgMCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWN0b3JzW251bV0gPSAoZmFjdG9yc1tudW1dIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGZhY3RvcnM7XG4gIH1cblxuICB2YXIgcGFyc2UgPSBmdW5jdGlvbihwMSwgcDIpIHtcblxuICAgIHZhciBuID0gMCwgZCA9IDEsIHMgPSAxO1xuICAgIHZhciB2ID0gMCwgdyA9IDAsIHggPSAwLCB5ID0gMSwgeiA9IDE7XG5cbiAgICB2YXIgQSA9IDAsIEIgPSAxO1xuICAgIHZhciBDID0gMSwgRCA9IDE7XG5cbiAgICB2YXIgTiA9IDEwMDAwMDAwO1xuICAgIHZhciBNO1xuXG4gICAgaWYgKHAxID09PSB1bmRlZmluZWQgfHwgcDEgPT09IG51bGwpIHtcbiAgICAgIC8qIHZvaWQgKi9cbiAgICB9IGVsc2UgaWYgKHAyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG4gPSBwMTtcbiAgICAgIGQgPSBwMjtcbiAgICAgIHMgPSBuICogZDtcbiAgICB9IGVsc2VcbiAgICAgIHN3aXRjaCAodHlwZW9mIHAxKSB7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcImRcIiBpbiBwMSAmJiBcIm5cIiBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbXCJuXCJdO1xuICAgICAgICAgICAgICBkID0gcDFbXCJkXCJdO1xuICAgICAgICAgICAgICBpZiAoXCJzXCIgaW4gcDEpXG4gICAgICAgICAgICAgICAgbiAqPSBwMVtcInNcIl07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgaW4gcDEpIHtcbiAgICAgICAgICAgICAgbiA9IHAxWzBdO1xuICAgICAgICAgICAgICBpZiAoMSBpbiBwMSlcbiAgICAgICAgICAgICAgICBkID0gcDFbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IG4gKiBkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHAxIDwgMCkge1xuICAgICAgICAgICAgICBzID0gcDE7XG4gICAgICAgICAgICAgIHAxID0gLXAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocDEgJSAxID09PSAwKSB7XG4gICAgICAgICAgICAgIG4gPSBwMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocDEgPiAwKSB7IC8vIGNoZWNrIGZvciAhPSAwLCBzY2FsZSB3b3VsZCBiZWNvbWUgTmFOIChsb2coMCkpLCB3aGljaCBjb252ZXJnZXMgcmVhbGx5IHNsb3dcblxuICAgICAgICAgICAgICBpZiAocDEgPj0gMSkge1xuICAgICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcigxICsgTWF0aC5sb2cocDEpIC8gTWF0aC5MTjEwKSk7XG4gICAgICAgICAgICAgICAgcDEgLz0gejtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFVzaW5nIEZhcmV5IFNlcXVlbmNlc1xuICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LmpvaG5kY29vay5jb20vYmxvZy8yMDEwLzEwLzIwL2Jlc3QtcmF0aW9uYWwtYXBwcm94aW1hdGlvbi9cblxuICAgICAgICAgICAgICB3aGlsZSAoQiA8PSBOICYmIEQgPD0gTikge1xuICAgICAgICAgICAgICAgIE0gPSAoQSArIEMpIC8gKEIgKyBEKTtcblxuICAgICAgICAgICAgICAgIGlmIChwMSA9PT0gTSkge1xuICAgICAgICAgICAgICAgICAgaWYgKEIgKyBEIDw9IE4pIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEEgKyBDO1xuICAgICAgICAgICAgICAgICAgICBkID0gQiArIEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEQgPiBCKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBDO1xuICAgICAgICAgICAgICAgICAgICBkID0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSBBO1xuICAgICAgICAgICAgICAgICAgICBkID0gQjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgaWYgKHAxID4gTSkge1xuICAgICAgICAgICAgICAgICAgICBBICs9IEM7XG4gICAgICAgICAgICAgICAgICAgIEIgKz0gRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEMgKz0gQTtcbiAgICAgICAgICAgICAgICAgICAgRCArPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoQiA+IE4pIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuICo9IHo7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHAxKSB8fCBpc05hTihwMikpIHtcbiAgICAgICAgICAgICAgZCA9IG4gPSBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBCID0gcDEubWF0Y2goL1xcZCt8Li9nKTtcblxuICAgICAgICAgICAgaWYgKEIgPT09IG51bGwpXG4gICAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG5cbiAgICAgICAgICAgIGlmIChCW0FdID09PSAnLScpIHsvLyBDaGVjayBmb3IgbWludXMgc2lnbiBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgIHMgPSAtMTtcbiAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0FdID09PSAnKycpIHsvLyBDaGVjayBmb3IgcGx1cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPT09IEEgKyAxKSB7IC8vIENoZWNrIGlmIGl0J3MganVzdCBhIHNpbXBsZSBudW1iZXIgXCIxMjM0XCJcbiAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy4nIHx8IEJbQV0gPT09ICcuJykgeyAvLyBDaGVjayBpZiBpdCdzIGEgZGVjaW1hbCBudW1iZXJcblxuICAgICAgICAgICAgICBpZiAoQltBXSAhPT0gJy4nKSB7IC8vIEhhbmRsZSAwLjUgYW5kIC41XG4gICAgICAgICAgICAgICAgdiA9IGFzc2lnbihCW0ErK10sIHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIEErKztcblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgICAgICAgaWYgKEEgKyAxID09PSBCLmxlbmd0aCB8fCBCW0EgKyAxXSA9PT0gJygnICYmIEJbQSArIDNdID09PSAnKScgfHwgQltBICsgMV0gPT09IFwiJ1wiICYmIEJbQSArIDNdID09PSBcIidcIikge1xuICAgICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgucG93KDEwLCBCW0FdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgQSsrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGluZyBwbGFjZXNcbiAgICAgICAgICAgICAgaWYgKEJbQV0gPT09ICcoJyAmJiBCW0EgKyAyXSA9PT0gJyknIHx8IEJbQV0gPT09IFwiJ1wiICYmIEJbQSArIDJdID09PSBcIidcIikge1xuICAgICAgICAgICAgICAgIHggPSBhc3NpZ24oQltBICsgMV0sIHMpO1xuICAgICAgICAgICAgICAgIHogPSBNYXRoLnBvdygxMCwgQltBICsgMV0ubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICAgICAgQSArPSAzO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQltBICsgMV0gPT09ICcvJyB8fCBCW0EgKyAxXSA9PT0gJzonKSB7IC8vIENoZWNrIGZvciBhIHNpbXBsZSBmcmFjdGlvbiBcIjEyMy80NTZcIiBvciBcIjEyMzo0NTZcIlxuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDJdLCAxKTtcbiAgICAgICAgICAgICAgQSArPSAzO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAzXSA9PT0gJy8nICYmIEJbQSArIDFdID09PSAnICcpIHsgLy8gQ2hlY2sgZm9yIGEgY29tcGxleCBmcmFjdGlvbiBcIjEyMyAxLzJcIlxuICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQV0sIHMpO1xuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSArIDJdLCBzKTtcbiAgICAgICAgICAgICAgeSA9IGFzc2lnbihCW0EgKyA0XSwgMSk7XG4gICAgICAgICAgICAgIEEgKz0gNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEIubGVuZ3RoIDw9IEEpIHsgLy8gQ2hlY2sgZm9yIG1vcmUgdG9rZW5zIG9uIHRoZSBzdGFja1xuICAgICAgICAgICAgICBkID0geSAqIHo7XG4gICAgICAgICAgICAgIHMgPSAvKiB2b2lkICovXG4gICAgICAgICAgICAgIG4gPSB4ICsgZCAqIHYgKyB6ICogdztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIEZhbGwgdGhyb3VnaCBvbiBlcnJvciAqL1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgICAgfVxuXG4gICAgaWYgKGQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBEaXZpc2lvbkJ5WmVybygpO1xuICAgIH1cblxuICAgIFBbXCJzXCJdID0gcyA8IDAgPyAtMSA6IDE7XG4gICAgUFtcIm5cIl0gPSBNYXRoLmFicyhuKTtcbiAgICBQW1wiZFwiXSA9IE1hdGguYWJzKGQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1vZHBvdyhiLCBlLCBtKSB7XG5cbiAgICB2YXIgciA9IDE7XG4gICAgZm9yICg7IGUgPiAwOyBiID0gKGIgKiBiKSAlIG0sIGUgPj49IDEpIHtcblxuICAgICAgaWYgKGUgJiAxKSB7XG4gICAgICAgIHIgPSAociAqIGIpICUgbTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGN5Y2xlTGVuKG4sIGQpIHtcblxuICAgIGZvciAoOyBkICUgMiA9PT0gMDtcbiAgICAgIGQgLz0gMikge1xuICAgIH1cblxuICAgIGZvciAoOyBkICUgNSA9PT0gMDtcbiAgICAgIGQgLz0gNSkge1xuICAgIH1cblxuICAgIGlmIChkID09PSAxKSAvLyBDYXRjaCBub24tY3ljbGljIG51bWJlcnNcbiAgICAgIHJldHVybiAwO1xuXG4gICAgLy8gSWYgd2Ugd291bGQgbGlrZSB0byBjb21wdXRlIHJlYWxseSBsYXJnZSBudW1iZXJzIHF1aWNrZXIsIHdlIGNvdWxkIG1ha2UgdXNlIG9mIEZlcm1hdCdzIGxpdHRsZSB0aGVvcmVtOlxuICAgIC8vIDEwXihkLTEpICUgZCA9PSAxXG4gICAgLy8gSG93ZXZlciwgd2UgZG9uJ3QgbmVlZCBzdWNoIGxhcmdlIG51bWJlcnMgYW5kIE1BWF9DWUNMRV9MRU4gc2hvdWxkIGJlIHRoZSBjYXBzdG9uZSxcbiAgICAvLyBhcyB3ZSB3YW50IHRvIHRyYW5zbGF0ZSB0aGUgbnVtYmVycyB0byBzdHJpbmdzLlxuXG4gICAgdmFyIHJlbSA9IDEwICUgZDtcbiAgICB2YXIgdCA9IDE7XG5cbiAgICBmb3IgKDsgcmVtICE9PSAxOyB0KyspIHtcbiAgICAgIHJlbSA9IHJlbSAqIDEwICUgZDtcblxuICAgICAgaWYgKHQgPiBNQVhfQ1lDTEVfTEVOKVxuICAgICAgICByZXR1cm4gMDsgLy8gUmV0dXJuaW5nIDAgaGVyZSBtZWFucyB0aGF0IHdlIGRvbid0IHByaW50IGl0IGFzIGEgY3ljbGljIG51bWJlci4gSXQncyBsaWtlbHkgdGhhdCB0aGUgYW5zd2VyIGlzIGBkLTFgXG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG5cblxuICBmdW5jdGlvbiBjeWNsZVN0YXJ0KG4sIGQsIGxlbikge1xuXG4gICAgdmFyIHJlbTEgPSAxO1xuICAgIHZhciByZW0yID0gbW9kcG93KDEwLCBsZW4sIGQpO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAzMDA7IHQrKykgeyAvLyBzIDwgfmxvZzEwKE51bWJlci5NQVhfVkFMVUUpXG4gICAgICAvLyBTb2x2ZSAxMF5zID09IDEwXihzK3QpIChtb2QgZClcblxuICAgICAgaWYgKHJlbTEgPT09IHJlbTIpXG4gICAgICAgIHJldHVybiB0O1xuXG4gICAgICByZW0xID0gcmVtMSAqIDEwICUgZDtcbiAgICAgIHJlbTIgPSByZW0yICogMTAgJSBkO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdjZChhLCBiKSB7XG5cbiAgICBpZiAoIWEpXG4gICAgICByZXR1cm4gYjtcbiAgICBpZiAoIWIpXG4gICAgICByZXR1cm4gYTtcblxuICAgIHdoaWxlICgxKSB7XG4gICAgICBhICU9IGI7XG4gICAgICBpZiAoIWEpXG4gICAgICAgIHJldHVybiBiO1xuICAgICAgYiAlPSBhO1xuICAgICAgaWYgKCFiKVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1vZHVsZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtudW1iZXJ8RnJhY3Rpb249fSBhXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gYlxuICAgKi9cbiAgZnVuY3Rpb24gRnJhY3Rpb24oYSwgYikge1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZyYWN0aW9uKSkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihhLCBiKTtcbiAgICB9XG5cbiAgICBwYXJzZShhLCBiKTtcblxuICAgIGlmIChGcmFjdGlvblsnUkVEVUNFJ10pIHtcbiAgICAgIGEgPSBnY2QoUFtcImRcIl0sIFBbXCJuXCJdKTsgLy8gQWJ1c2UgYVxuICAgIH0gZWxzZSB7XG4gICAgICBhID0gMTtcbiAgICB9XG5cbiAgICB0aGlzW1wic1wiXSA9IFBbXCJzXCJdO1xuICAgIHRoaXNbXCJuXCJdID0gUFtcIm5cIl0gLyBhO1xuICAgIHRoaXNbXCJkXCJdID0gUFtcImRcIl0gLyBhO1xuICB9XG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gZ2xvYmFsIHZhcmlhYmxlIHRvIGJlIGFibGUgdG8gZGlzYWJsZSBhdXRvbWF0aWMgcmVkdWN0aW9uIG9mIHRoZSBmcmFjdGlvblxuICAgKlxuICAgKi9cbiAgRnJhY3Rpb25bJ1JFRFVDRSddID0gMTtcblxuICBGcmFjdGlvbi5wcm90b3R5cGUgPSB7XG5cbiAgICBcInNcIjogMSxcbiAgICBcIm5cIjogMCxcbiAgICBcImRcIjogMSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGFic29sdXRlIHZhbHVlXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC00KS5hYnMoKSA9PiA0XG4gICAgICoqL1xuICAgIFwiYWJzXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJuXCJdLCB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhlIHNpZ24gb2YgdGhlIGN1cnJlbnQgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLm5lZygpID0+IDRcbiAgICAgKiovXG4gICAgXCJuZWdcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oLXRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbih7bjogMiwgZDogM30pLmFkZChcIjE0LjlcIikgPT4gNDY3IC8gMzBcbiAgICAgKiovXG4gICAgXCJhZGRcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSArIFBbXCJzXCJdICogdGhpc1tcImRcIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiAtNDI3IC8gMzBcbiAgICAgKiovXG4gICAgXCJzdWJcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogdGhpc1tcImRcIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5tdWwoMykgPT4gNTc3NiAvIDExMVxuICAgICAqKi9cbiAgICBcIm11bFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiBQW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcIm5cIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCItMTcuKDM0NSlcIikuaW52ZXJzZSgpLmRpdigzKVxuICAgICAqKi9cbiAgICBcImRpdlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiBQW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0sXG4gICAgICAgIHRoaXNbXCJkXCJdICogUFtcIm5cIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5jbG9uZSgpXG4gICAgICoqL1xuICAgIFwiY2xvbmVcIjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtb2R1bG8gb2YgdHdvIHJhdGlvbmFsIG51bWJlcnMgLSBhIG1vcmUgcHJlY2lzZSBmbW9kXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLm1vZChbNywgOF0pID0+ICgxMy8zKSAlICg3LzgpID0gKDUvNilcbiAgICAgKiovXG4gICAgXCJtb2RcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gJSB0aGlzW1wiZFwiXSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgaWYgKDAgPT09IFBbXCJuXCJdICYmIDAgPT09IHRoaXNbXCJkXCJdKSB7XG4gICAgICAgIEZyYWN0aW9uKDAsIDApOyAvLyBUaHJvdyBEaXZpc2lvbkJ5WmVyb1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogRmlyc3Qgc2lsbHkgYXR0ZW1wdCwga2luZGEgc2xvd1xuICAgICAgICpcbiAgICAgICByZXR1cm4gdGhhdFtcInN1YlwiXSh7XG4gICAgICAgXCJuXCI6IG51bVtcIm5cIl0gKiBNYXRoLmZsb29yKCh0aGlzLm4gLyB0aGlzLmQpIC8gKG51bS5uIC8gbnVtLmQpKSxcbiAgICAgICBcImRcIjogbnVtW1wiZFwiXSxcbiAgICAgICBcInNcIjogdGhpc1tcInNcIl1cbiAgICAgICB9KTsqL1xuXG4gICAgICAvKlxuICAgICAgICogTmV3IGF0dGVtcHQ6IGExIC8gYjEgPSBhMiAvIGIyICogcSArIHJcbiAgICAgICAqID0+IGIyICogYTEgPSBhMiAqIGIxICogcSArIGIxICogYjIgKiByXG4gICAgICAgKiA9PiAoYjIgKiBhMSAlIGEyICogYjEpIC8gKGIxICogYjIpXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oXG4gICAgICAgIHRoaXNbXCJzXCJdICogKFBbXCJkXCJdICogdGhpc1tcIm5cIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pLFxuICAgICAgICBQW1wiZFwiXSAqIHRoaXNbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbmFsIGdjZCBvZiB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbig1LDgpLmdjZCgzLDcpID0+IDEvNTZcbiAgICAgKi9cbiAgICBcImdjZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBnY2QoYSAvIGIsIGMgLyBkKSA9IGdjZChhLCBjKSAvIGxjbShiLCBkKVxuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGdjZChQW1wiblwiXSwgdGhpc1tcIm5cIl0pICogZ2NkKFBbXCJkXCJdLCB0aGlzW1wiZFwiXSksIFBbXCJkXCJdICogdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmcmFjdGlvbmFsIGxjbSBvZiB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbig1LDgpLmxjbSgzLDcpID0+IDE1XG4gICAgICovXG4gICAgXCJsY21cIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcblxuICAgICAgLy8gbGNtKGEgLyBiLCBjIC8gZCkgPSBsY20oYSwgYykgLyBnY2QoYiwgZClcblxuICAgICAgaWYgKFBbXCJuXCJdID09PSAwICYmIHRoaXNbXCJuXCJdID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFBbXCJuXCJdICogdGhpc1tcIm5cIl0sIGdjZChQW1wiblwiXSwgdGhpc1tcIm5cIl0pICogZ2NkKFBbXCJkXCJdLCB0aGlzW1wiZFwiXSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBjZWlsIG9mIGEgcmF0aW9uYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLmNlaWwoKSA9PiAoNSAvIDEpXG4gICAgICoqL1xuICAgIFwiY2VpbFwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmNlaWwocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZmxvb3Igb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuZmxvb3IoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwiZmxvb3JcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5mbG9vcihwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgYSByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKCc0LigzKScpLnJvdW5kKCkgPT4gKDQgLyAxKVxuICAgICAqKi9cbiAgICBcInJvdW5kXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucm91bmQocGxhY2VzICogdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdKSwgcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW52ZXJzZSBvZiB0aGUgZnJhY3Rpb24sIG1lYW5zIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3IgYXJlIGV4Y2hhbmdlZFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihbLTMsIDRdKS5pbnZlcnNlKCkgPT4gLTQgLyAzXG4gICAgICoqL1xuICAgIFwiaW52ZXJzZVwiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzW1wic1wiXSAqIHRoaXNbXCJkXCJdLCB0aGlzW1wiblwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uIHRvIHNvbWUgcmF0aW9uYWwgZXhwb25lbnQsIGlmIHBvc3NpYmxlXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKC0xLDIpLnBvdygtMykgPT4gLThcbiAgICAgKi9cbiAgICBcInBvd1wiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBUcml2aWFsIGNhc2Ugd2hlbiBleHAgaXMgYW4gaW50ZWdlclxuXG4gICAgICBpZiAoUFsnZCddID09PSAxKSB7XG5cbiAgICAgICAgaWYgKFBbJ3MnXSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJkXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiblwiXSwgUFsnbiddKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLnBvdyh0aGlzWydzJ10gKiB0aGlzW1wiblwiXSwgUFsnbiddKSwgTWF0aC5wb3codGhpc1tcImRcIl0sIFBbJ24nXSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE5lZ2F0aXZlIHJvb3RzIGJlY29tZSBjb21wbGV4XG4gICAgICAvLyAgICAgKC1hL2IpXihjL2QpID0geFxuICAgICAgLy8gPD0+ICgtMSleKGMvZCkgKiAoYS9iKV4oYy9kKSA9IHhcbiAgICAgIC8vIDw9PiAoY29zKHBpKSArIGkqc2luKHBpKSleKGMvZCkgKiAoYS9iKV4oYy9kKSA9IHggICAgICAgICAjIHJvdGF0ZSAxIGJ5IDE4MMKwXG4gICAgICAvLyA8PT4gKGNvcyhjKnBpL2QpICsgaSpzaW4oYypwaS9kKSkgKiAoYS9iKV4oYy9kKSA9IHggICAgICAgIyBEZU1vaXZyZSdzIGZvcm11bGEgaW4gUSAoIGh0dHBzOi8vcHJvb2Z3aWtpLm9yZy93aWtpL0RlX01vaXZyZSUyN3NfRm9ybXVsYS9SYXRpb25hbF9JbmRleCApXG4gICAgICAvLyBGcm9tIHdoaWNoIGZvbGxvd3MgdGhhdCBvbmx5IGZvciBjPTAgdGhlIHJvb3QgaXMgbm9uLWNvbXBsZXguIGMvZCBpcyBhIHJlZHVjZWQgZnJhY3Rpb24sIHNvIHRoYXQgc2luKGMvZHBpKT0wIG9jY3VycyBmb3IgZD0xLCB3aGljaCBpcyBoYW5kbGVkIGJ5IG91ciB0cml2aWFsIGNhc2UuXG4gICAgICBpZiAodGhpc1sncyddIDwgMCkgcmV0dXJuIG51bGw7XG5cbiAgICAgIC8vIE5vdyBwcmltZSBmYWN0b3IgbiBhbmQgZFxuICAgICAgdmFyIE4gPSBmYWN0b3JpemUodGhpc1snbiddKTtcbiAgICAgIHZhciBEID0gZmFjdG9yaXplKHRoaXNbJ2QnXSk7XG5cbiAgICAgIC8vIEV4cG9uZW50aWF0ZSBhbmQgdGFrZSByb290IGZvciBuIGFuZCBkIGluZGl2aWR1YWxseVxuICAgICAgdmFyIG4gPSAxO1xuICAgICAgdmFyIGQgPSAxO1xuICAgICAgZm9yICh2YXIgayBpbiBOKSB7XG4gICAgICAgIGlmIChrID09PSAnMScpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoayA9PT0gJzAnKSB7XG4gICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgTltrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoTltrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIE5ba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgbio9IE1hdGgucG93KGssIE5ba10pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrIGluIEQpIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIERba10qPSBQWyduJ107XG5cbiAgICAgICAgaWYgKERba10gJSBQWydkJ10gPT09IDApIHtcbiAgICAgICAgICBEW2tdLz0gUFsnZCddO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIGQqPSBNYXRoLnBvdyhrLCBEW2tdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFBbJ3MnXSA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihkLCBuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24obiwgZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiZXF1YWxzXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdID09PSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl07IC8vIFNhbWUgYXMgY29tcGFyZSgpID09PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSB0aGUgc2FtZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5lcXVhbHMoWzk4LCA1XSk7XG4gICAgICoqL1xuICAgIFwiY29tcGFyZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgdmFyIHQgPSAodGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdKTtcbiAgICAgIHJldHVybiAoMCA8IHQpIC0gKHQgPCAwKTtcbiAgICB9LFxuXG4gICAgXCJzaW1wbGlmeVwiOiBmdW5jdGlvbihlcHMpIHtcblxuICAgICAgLy8gRmlyc3QgbmFpdmUgaW1wbGVtZW50YXRpb24sIG5lZWRzIGltcHJvdmVtZW50XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ID0gdGhpc1snYWJzJ10oKVsndG9Db250aW51ZWQnXSgpO1xuXG4gICAgICBlcHMgPSBlcHMgfHwgMC4wMDE7XG5cbiAgICAgIGZ1bmN0aW9uIHJlYyhhKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGFbMF0pO1xuICAgICAgICByZXR1cm4gcmVjKGEuc2xpY2UoMSkpWydpbnZlcnNlJ10oKVsnYWRkJ10oYVswXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG1wID0gcmVjKGNvbnQuc2xpY2UoMCwgaSArIDEpKTtcbiAgICAgICAgaWYgKHRtcFsnc3ViJ10odGhpc1snYWJzJ10oKSlbJ2FicyddKCkudmFsdWVPZigpIDwgZXBzKSB7XG4gICAgICAgICAgcmV0dXJuIHRtcFsnbXVsJ10odGhpc1sncyddKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHR3byByYXRpb25hbCBudW1iZXJzIGFyZSBkaXZpc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZGl2aXNpYmxlKDEuNSk7XG4gICAgICovXG4gICAgXCJkaXZpc2libGVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiAhKCEoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkgfHwgKCh0aGlzW1wiblwiXSAqIFBbXCJkXCJdKSAlIChQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhY3Rpb25cbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS52YWx1ZU9mKCkgPT4gMTAwLjkxODIzOTE4MjM5MTgzXG4gICAgICoqL1xuICAgICd2YWx1ZU9mJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmctZnJhY3Rpb24gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0ZyYWN0aW9uKCkgPT4gXCI0IDEvM1wiXG4gICAgICoqL1xuICAgICd0b0ZyYWN0aW9uJzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIHN0ciArPSBcIiBcIjtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICcvJztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGF0ZXggcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxLiczJ1wiKS50b0xhdGV4KCkgPT4gXCJcXGZyYWN7NH17M31cIlxuICAgICAqKi9cbiAgICAndG9MYXRleCc6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBuICU9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gXCJcXFxcZnJhY3tcIjtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnfXsnO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgICAgc3RyICs9ICd9JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY29udGludWVkIGZyYWN0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiNy84XCIpLnRvQ29udGludWVkKCkgPT4gWzAsMSw3XVxuICAgICAqL1xuICAgICd0b0NvbnRpbnVlZCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdDtcbiAgICAgIHZhciBhID0gdGhpc1snbiddO1xuICAgICAgdmFyIGIgPSB0aGlzWydkJ107XG4gICAgICB2YXIgcmVzID0gW107XG5cbiAgICAgIGlmIChpc05hTihhKSB8fCBpc05hTihiKSkge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuXG4gICAgICBkbyB7XG4gICAgICAgIHJlcy5wdXNoKE1hdGguZmxvb3IoYSAvIGIpKTtcbiAgICAgICAgdCA9IGEgJSBiO1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IHQ7XG4gICAgICB9IHdoaWxlIChhICE9PSAxKTtcblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGZyYWN0aW9uIHdpdGggYWxsIGRpZ2l0c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEwMC4nOTE4MjMnXCIpLnRvU3RyaW5nKCkgPT4gXCIxMDAuKDkxODIzKVwiXG4gICAgICoqL1xuICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKGRlYykge1xuXG4gICAgICB2YXIgZztcbiAgICAgIHZhciBOID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgRCA9IHRoaXNbXCJkXCJdO1xuXG4gICAgICBpZiAoaXNOYU4oTikgfHwgaXNOYU4oRCkpIHtcbiAgICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghRnJhY3Rpb25bJ1JFRFVDRSddKSB7XG4gICAgICAgIGcgPSBnY2QoTiwgRCk7XG4gICAgICAgIE4gLz0gZztcbiAgICAgICAgRCAvPSBnO1xuICAgICAgfVxuXG4gICAgICBkZWMgPSBkZWMgfHwgMTU7IC8vIDE1ID0gZGVjaW1hbCBwbGFjZXMgd2hlbiBubyByZXBldGF0aW9uXG5cbiAgICAgIHZhciBjeWNMZW4gPSBjeWNsZUxlbihOLCBEKTsgLy8gQ3ljbGUgbGVuZ3RoXG4gICAgICB2YXIgY3ljT2ZmID0gY3ljbGVTdGFydChOLCBELCBjeWNMZW4pOyAvLyBDeWNsZSBzdGFydFxuXG4gICAgICB2YXIgc3RyID0gdGhpc1sncyddID09PSAtMSA/IFwiLVwiIDogXCJcIjtcblxuICAgICAgc3RyICs9IE4gLyBEIHwgMDtcblxuICAgICAgTiAlPSBEO1xuICAgICAgTiAqPSAxMDtcblxuICAgICAgaWYgKE4pXG4gICAgICAgIHN0ciArPSBcIi5cIjtcblxuICAgICAgaWYgKGN5Y0xlbikge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjeWNPZmY7IGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIihcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y0xlbjsgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGRlYzsgTiAmJiBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmVbXCJhbWRcIl0pIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEZyYWN0aW9uO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZyYWN0aW9uLCBcIl9fZXNNb2R1bGVcIiwgeyAndmFsdWUnOiB0cnVlIH0pO1xuICAgIEZyYWN0aW9uWydkZWZhdWx0J10gPSBGcmFjdGlvbjtcbiAgICBGcmFjdGlvblsnRnJhY3Rpb24nXSA9IEZyYWN0aW9uO1xuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gRnJhY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgcm9vdFsnRnJhY3Rpb24nXSA9IEZyYWN0aW9uO1xuICB9XG5cbn0pKHRoaXMpO1xuIiwiaW1wb3J0IEZyYWN0aW9uIGZyb20gJ2ZyYWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0ZyYWN0aW9uJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnJhY3Rpb25DbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cbiAgRnJhY3Rpb24ucHJvdG90eXBlLnR5cGUgPSAnRnJhY3Rpb24nO1xuICBGcmFjdGlvbi5wcm90b3R5cGUuaXNGcmFjdGlvbiA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gY29udGFpbmluZyB0eXBlIGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnJhY3Rpb25cIiwgXCJuXCI6IDMsIFwiZFwiOiA4fWBcbiAgICovXG5cbiAgRnJhY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnJhY3Rpb24nLFxuICAgICAgbjogdGhpcy5zICogdGhpcy5uLFxuICAgICAgZDogdGhpcy5kXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgRnJhY3Rpb24gZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnJhY3Rpb25cIiwgXCJuXCI6IDMsIFwiZFwiOiA4fWBcbiAgICogQHJldHVybiB7QmlnTnVtYmVyfVxuICAgKi9cblxuXG4gIEZyYWN0aW9uLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGpzb24pO1xuICB9O1xuXG4gIHJldHVybiBGcmFjdGlvbjtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQsIHNpZ24gfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmFuZ2UnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVSYW5nZUNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJhbmdlLiBBIHJhbmdlIGhhcyBhIHN0YXJ0LCBzdGVwLCBhbmQgZW5kLCBhbmQgY29udGFpbnMgZnVuY3Rpb25zXG4gICAqIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2UuXG4gICAqXG4gICAqIEEgcmFuZ2UgY2FuIGJlIGNvbnN0cnVjdGVkIGFzOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIGVuZClcbiAgICogICAgIGNvbnN0IHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApXG4gICAqXG4gICAqIFRvIGdldCB0aGUgcmVzdWx0IG9mIHRoZSByYW5nZTpcbiAgICogICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICogICAgICAgICBjb25zb2xlLmxvZyh4KVxuICAgKiAgICAgfSlcbiAgICogICAgIHJhbmdlLm1hcChmdW5jdGlvbiAoeCkge1xuICAgKiAgICAgICAgIHJldHVybiBtYXRoLnNpbih4KVxuICAgKiAgICAgfSlcbiAgICogICAgIHJhbmdlLnRvQXJyYXkoKVxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgY29uc3QgYyA9IG5ldyBSYW5nZSgyLCA2KSAgICAgICAvLyAyOjE6NVxuICAgKiAgICAgYy50b0FycmF5KCkgICAgICAgICAgICAgICAgICAgICAvLyBbMiwgMywgNCwgNV1cbiAgICogICAgIGNvbnN0IGQgPSBuZXcgUmFuZ2UoMiwgLTMsIC0xKSAgLy8gMjotMTotMlxuICAgKiAgICAgZC50b0FycmF5KCkgICAgICAgICAgICAgICAgICAgICAvLyBbMiwgMSwgMCwgLTEsIC0yXVxuICAgKlxuICAgKiBAY2xhc3MgUmFuZ2VcbiAgICogQGNvbnN0cnVjdG9yIFJhbmdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAgaW5jbHVkZWQgbG93ZXIgYm91bmRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCAgICBleGNsdWRlZCB1cHBlciBib3VuZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXBdIHN0ZXAgc2l6ZSwgZGVmYXVsdCB2YWx1ZSBpcyAxXG4gICAqL1xuICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB2YXIgaGFzU3RhcnQgPSBzdGFydCAhPT0gbnVsbCAmJiBzdGFydCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBoYXNFbmQgPSBlbmQgIT09IG51bGwgJiYgZW5kICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGhhc1N0ZXAgPSBzdGVwICE9PSBudWxsICYmIHN0ZXAgIT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChoYXNTdGFydCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IHN0YXJ0LnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHN0YXJ0IG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoZW5kKSkge1xuICAgICAgICBlbmQgPSBlbmQudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGVuZCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc1N0ZXApIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihzdGVwKSkge1xuICAgICAgICBzdGVwID0gc3RlcC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RlcCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHN0ZXAgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnQgPSBoYXNTdGFydCA/IHBhcnNlRmxvYXQoc3RhcnQpIDogMDtcbiAgICB0aGlzLmVuZCA9IGhhc0VuZCA/IHBhcnNlRmxvYXQoZW5kKSA6IDA7XG4gICAgdGhpcy5zdGVwID0gaGFzU3RlcCA/IHBhcnNlRmxvYXQoc3RlcCkgOiAxO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50eXBlID0gJ1JhbmdlJztcbiAgUmFuZ2UucHJvdG90eXBlLmlzUmFuZ2UgPSB0cnVlO1xuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgaW50byBhIHJhbmdlLFxuICAgKiBUaGUgc3RyaW5nIGNvbnRhaW5zIHRoZSBzdGFydCwgb3B0aW9uYWwgc3RlcCwgYW5kIGVuZCwgc2VwYXJhdGVkIGJ5IGEgY29sb24uXG4gICAqIElmIHRoZSBzdHJpbmcgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHJhbmdlLCBudWxsIGlzIHJldHVybmVkLlxuICAgKiBGb3IgZXhhbXBsZSBzdHI9JzA6MjoxMScuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1JhbmdlIHwgbnVsbH0gcmFuZ2VcbiAgICovXG5cbiAgUmFuZ2UucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IHN0ci5zcGxpdCgnOicpO1xuICAgIHZhciBudW1zID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYXJnKTtcbiAgICB9KTtcbiAgICB2YXIgaW52YWxpZCA9IG51bXMuc29tZShmdW5jdGlvbiAobnVtKSB7XG4gICAgICByZXR1cm4gaXNOYU4obnVtKTtcbiAgICB9KTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG51bXMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UobnVtc1swXSwgbnVtc1sxXSk7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShudW1zWzBdLCBudW1zWzJdLCBudW1zWzFdKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIHJhbmdlXG4gICAqIEByZXR1cm4ge1JhbmdlfSBjbG9uZVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQsIHRoaXMuZW5kLCB0aGlzLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIHJhbmdlLlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgb25lIG51bWJlciwgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGVuID0gMDtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0O1xuICAgIHZhciBzdGVwID0gdGhpcy5zdGVwO1xuICAgIHZhciBlbmQgPSB0aGlzLmVuZDtcbiAgICB2YXIgZGlmZiA9IGVuZCAtIHN0YXJ0O1xuXG4gICAgaWYgKHNpZ24oc3RlcCkgPT09IHNpZ24oZGlmZikpIHtcbiAgICAgIGxlbiA9IE1hdGguY2VpbChkaWZmIC8gc3RlcCk7XG4gICAgfSBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgICBsZW4gPSAwO1xuICAgIH1cblxuICAgIGlmIChpc05hTihsZW4pKSB7XG4gICAgICBsZW4gPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBbbGVuXTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm4ge251bWJlciB8IHVuZGVmaW5lZH0gbWluXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSgpWzBdO1xuXG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBpZiAodGhpcy5zdGVwID4gMCkge1xuICAgICAgICAvLyBwb3NpdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmVnYXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydCArIChzaXplIC0gMSkgKiB0aGlzLnN0ZXA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBtYXhpbXVtIHZhbHVlIGluIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybiB7bnVtYmVyIHwgdW5kZWZpbmVkfSBtYXhcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplKClbMF07XG5cbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGlmICh0aGlzLnN0ZXAgPiAwKSB7XG4gICAgICAgIC8vIHBvc2l0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgKyAoc2l6ZSAtIDEpICogdGhpcy5zdGVwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmVnYXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgUmFuZ2UgYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHggPSB0aGlzLnN0YXJ0O1xuICAgIHZhciBzdGVwID0gdGhpcy5zdGVwO1xuICAgIHZhciBlbmQgPSB0aGlzLmVuZDtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBpZiAoc3RlcCA+IDApIHtcbiAgICAgIHdoaWxlICh4IDwgZW5kKSB7XG4gICAgICAgIGNhbGxiYWNrKHgsIFtpXSwgdGhpcyk7XG4gICAgICAgIHggKz0gc3RlcDtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RlcCA8IDApIHtcbiAgICAgIHdoaWxlICh4ID4gZW5kKSB7XG4gICAgICAgIGNhbGxiYWNrKHgsIFtpXSwgdGhpcyk7XG4gICAgICAgIHggKz0gc3RlcDtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgUmFuZ2UsIGFuZCByZXR1cm4gdGhlXG4gICAqIHJlc3VsdHMgYXMgYW4gYXJyYXlcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIG9iaikge1xuICAgICAgYXJyYXlbaW5kZXhbMF1dID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgUmFuZ2VzIGRhdGFcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgYXJyYXlbaW5kZXhbMF1dID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIFJhbmdlLCBhIG9uZSBkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRPRE86IGltcGxlbWVudCBhIGNhY2hpbmcgbWVjaGFuaXNtIGZvciByYW5nZS52YWx1ZU9mKClcbiAgICByZXR1cm4gdGhpcy50b0FycmF5KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlLCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogT3V0cHV0IGlzIGZvcm1hdHRlZCBhcyAnc3RhcnQ6c3RlcDplbmQnLCBmb3IgZXhhbXBsZSAnMjo2JyBvciAnMDowLjI6MTEnXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IGZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHN0ciA9IGZvcm1hdCh0aGlzLnN0YXJ0LCBvcHRpb25zKTtcblxuICAgIGlmICh0aGlzLnN0ZXAgIT09IDEpIHtcbiAgICAgIHN0ciArPSAnOicgKyBmb3JtYXQodGhpcy5zdGVwLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZm9ybWF0KHRoaXMuZW5kLCBvcHRpb25zKTtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdCgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VcIiwgXCJzdGFydFwiOiAyLCBcImVuZFwiOiA0LCBcInN0ZXBcIjogMX1gXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmFuZ2UnLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuZW5kLFxuICAgICAgc3RlcDogdGhpcy5zdGVwXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmFuZ2UgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZVwiLCBcInN0YXJ0XCI6IDIsIFwiZW5kXCI6IDQsIFwic3RlcFwiOiAxfWBcbiAgICogQHJldHVybiB7UmFuZ2V9XG4gICAqL1xuXG5cbiAgUmFuZ2UuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmFuZ2UoanNvbi5zdGFydCwganNvbi5lbmQsIGpzb24uc3RlcCk7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgTWF0cml4XG4gICAqXG4gICAqIEEgTWF0cml4IGlzIGEgd3JhcHBlciBhcm91bmQgYW4gQXJyYXkuIEEgbWF0cml4IGNhbiBob2xkIGEgbXVsdGkgZGltZW5zaW9uYWxcbiAgICogYXJyYXkuIEEgbWF0cml4IGNhbiBiZSBjb25zdHJ1Y3RlZCBhczpcbiAgICpcbiAgICogICAgIGxldCBtYXRyaXggPSBtYXRoLm1hdHJpeChkYXRhKVxuICAgKlxuICAgKiBNYXRyaXggY29udGFpbnMgdGhlIGZ1bmN0aW9ucyB0byByZXNpemUsIGdldCBhbmQgc2V0IHZhbHVlcywgZ2V0IHRoZSBzaXplLFxuICAgKiBjbG9uZSB0aGUgbWF0cml4IGFuZCB0byBjb252ZXJ0IHRoZSBtYXRyaXggdG8gYSB2ZWN0b3IsIGFycmF5LCBvciBzY2FsYXIuXG4gICAqIEZ1cnRoZXJtb3JlLCBvbmUgY2FuIGl0ZXJhdGUgb3ZlciB0aGUgbWF0cml4IHVzaW5nIG1hcCBhbmQgZm9yRWFjaC5cbiAgICogVGhlIGludGVybmFsIEFycmF5IG9mIHRoZSBNYXRyaXggY2FuIGJlIGFjY2Vzc2VkIHVzaW5nIHRoZSBmdW5jdGlvbiB2YWx1ZU9mLlxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgbGV0IG1hdHJpeCA9IG1hdGgubWF0cml4KFtbMSwgMl0sIFszLCA0XV0pXG4gICAqICAgICBtYXRpeC5zaXplKCkgICAgICAgICAgICAgIC8vIFsyLCAyXVxuICAgKiAgICAgbWF0cml4LnJlc2l6ZShbMywgMl0sIDUpXG4gICAqICAgICBtYXRyaXgudmFsdWVPZigpICAgICAgICAgIC8vIFtbMSwgMl0sIFszLCA0XSwgWzUsIDVdXVxuICAgKiAgICAgbWF0cml4LnN1YnNldChbMSwyXSkgICAgICAgLy8gMyAoaW5kZXhlcyBhcmUgemVyby1iYXNlZClcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIE1hdHJpeCgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ01hdHJpeCc7XG4gIE1hdHJpeC5wcm90b3R5cGUuaXNNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdG9yYWdlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGRhdGF0eXBlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1hdHJpeCBXaXRoIHRoZSB0eXBlIG9mIHRoZSBjdXJyZW50IG1hdHJpeCBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge0FycmF5IHwgT2JqZWN0fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgY3JlYXRlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN1YnNldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZ2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge01hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgcmVzaXplIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHJlc2hhcGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm4ge01hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBjbG9uZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2l6ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIG1hcCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9yRWFjaCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHRvQXJyYXkgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgTWF0cml4OiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdmFsdWVPZiBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9ybWF0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdG9TdHJpbmcgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG5cbiAgcmV0dXJuIE1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNBcnJheSwgaXNCaWdOdW1iZXIsIGlzQ29sbGVjdGlvbiwgaXNJbmRleCwgaXNNYXRyaXgsIGlzTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplLCBnZXRBcnJheURhdGFUeXBlLCByZXNoYXBlLCByZXNpemUsIHVuc3F1ZWV6ZSwgdmFsaWRhdGUsIHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGNsb25lLCBkZWVwU3RyaWN0RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdEZW5zZU1hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRGVuc2UgTWF0cml4IGltcGxlbWVudGF0aW9uLiBBIHJlZ3VsYXIsIGRlbnNlIG1hdHJpeCwgc3VwcG9ydGluZyBtdWx0aS1kaW1lbnNpb25hbCBtYXRyaWNlcy4gVGhpcyBpcyB0aGUgZGVmYXVsdCBtYXRyaXggdHlwZS5cbiAgICogQGNsYXNzIERlbnNlTWF0cml4XG4gICAqL1xuICBmdW5jdGlvbiBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZW5zZU1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGF0eXBlICYmICFpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhdHlwZTogJyArIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRyaXgoZGF0YSkpIHtcbiAgICAgIC8vIGNoZWNrIGRhdGEgaXMgYSBEZW5zZU1hdHJpeFxuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ0RlbnNlTWF0cml4Jykge1xuICAgICAgICAvLyBjbG9uZSBkYXRhICYgc2l6ZVxuICAgICAgICB0aGlzLl9kYXRhID0gY2xvbmUoZGF0YS5fZGF0YSk7XG4gICAgICAgIHRoaXMuX3NpemUgPSBjbG9uZShkYXRhLl9zaXplKTtcbiAgICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLl9kYXRhdHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGJ1aWxkIGRhdGEgZnJvbSBleGlzdGluZyBtYXRyaXhcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGEudG9BcnJheSgpO1xuICAgICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplKCk7XG4gICAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5fZGF0YXR5cGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhICYmIGlzQXJyYXkoZGF0YS5kYXRhKSAmJiBpc0FycmF5KGRhdGEuc2l6ZSkpIHtcbiAgICAgIC8vIGluaXRpYWxpemUgZmllbGRzIGZyb20gSlNPTiByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemU7IC8vIHZlcmlmeSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXlcblxuICAgICAgdmFsaWRhdGUodGhpcy5fZGF0YSwgdGhpcy5fc2l6ZSk7XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgICAvLyByZXBsYWNlIG5lc3RlZCBNYXRyaWNlcyB3aXRoIEFycmF5c1xuICAgICAgdGhpcy5fZGF0YSA9IHByZXByb2Nlc3MoZGF0YSk7IC8vIGdldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXlcblxuICAgICAgdGhpcy5fc2l6ZSA9IGFycmF5U2l6ZSh0aGlzLl9kYXRhKTsgLy8gdmVyaWZ5IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheSwgVE9ETzogY29tcHV0ZSBzaXplIHdoaWxlIHByb2Nlc3NpbmcgYXJyYXlcblxuICAgICAgdmFsaWRhdGUodGhpcy5fZGF0YSwgdGhpcy5fc2l6ZSk7IC8vIGRhdGEgdHlwZSB1bmtub3duXG5cbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAvLyB1bnN1cHBvcnRlZCB0eXBlXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGRhdGEgKCcgKyB0eXBlT2YoZGF0YSkgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub3RoaW5nIHByb3ZpZGVkXG4gICAgICB0aGlzLl9kYXRhID0gW107XG4gICAgICB0aGlzLl9zaXplID0gWzBdO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9XG4gIH1cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUgPSBuZXcgTWF0cml4KCk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRGVuc2VNYXRyaXhcbiAgICovXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZURlbnNlTWF0cml4ID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ0RlbnNlTWF0cml4JztcbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmlzRGVuc2VNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgY29uc3QgbWF0cml4VHlwZSA9IG1hdHJpeC5nZXREYXRhVHlwZSgpICAvLyByZXRyaWV2ZXMgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJPZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgdHlwZSBpbmZvcm1hdGlvbjsgaWYgbXVsdGlwbGUgdHlwZXMgYXJlIGZvdW5kIGZyb20gdGhlIE1hdHJpeCwgaXQgd2lsbCByZXR1cm4gXCJtaXhlZFwiXG4gICAqL1xuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5nZXREYXRhVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXlEYXRhVHlwZSh0aGlzLl9kYXRhLCB0eXBlT2YpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2RlbnNlJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGF0eXBlO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IERlbnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfZ2V0KHRoaXMsIGluZGV4KTtcbiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIDI6XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBfc2V0KHRoaXMsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGluZGV4XG5cblxuICAgIGZvciAodmFyIHggPSAwOyB4IDwgaW5kZXgubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhbeF0sIHRoaXMuX3NpemVbeF0pO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGluZGV4Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBpbmRleEkgPSBpbmRleFtpXTtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgICBkYXRhID0gZGF0YVtpbmRleEldO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggPCB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgfVxuXG4gICAgdmFyIGksIGlpLCBpbmRleEk7IC8vIGVubGFyZ2UgbWF0cml4IHdoZW4gbmVlZGVkXG5cbiAgICB2YXIgc2l6ZSA9IGluZGV4Lm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkgKyAxO1xuICAgIH0pO1xuXG4gICAgX2ZpdCh0aGlzLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyB0cmF2ZXJzZSBvdmVyIHRoZSBkaW1lbnNpb25zXG5cblxuICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gaW5kZXgubGVuZ3RoIC0gMTsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGluZGV4SSA9IGluZGV4W2ldO1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICAgIGRhdGEgPSBkYXRhW2luZGV4SV07XG4gICAgfSAvLyBzZXQgbmV3IHZhbHVlXG5cblxuICAgIGluZGV4SSA9IGluZGV4W2luZGV4Lmxlbmd0aCAtIDFdO1xuICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgZGF0YVtpbmRleEldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJtYXRyaXggb2YgdGhpcyBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZ2V0KG1hdHJpeCwgaW5kZXgpIHtcbiAgICBpZiAoIWlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTtcblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gcmV0dXJuIGEgc2NhbGFyXG4gICAgICByZXR1cm4gbWF0cml4LmdldChpbmRleC5taW4oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcbiAgICAgIHZhciBzaXplID0gaW5kZXguc2l6ZSgpO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggIT09IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgaWYgYW55IG9mIHRoZSByYW5nZXMgaW4gdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZVxuXG5cbiAgICAgIHZhciBtaW4gPSBpbmRleC5taW4oKTtcbiAgICAgIHZhciBtYXggPSBpbmRleC5tYXgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbWF0cml4Ll9zaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChtaW5baV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgobWF4W2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgfSAvLyByZXRyaWV2ZSBzdWJtYXRyaXhcbiAgICAgIC8vIFRPRE86IG1vcmUgZWZmaWNpZW50IHdoZW4gY3JlYXRpbmcgYW4gZW1wdHkgbWF0cml4IGFuZCBzZXR0aW5nIF9kYXRhIGFuZCBfc2l6ZSBtYW51YWxseVxuXG5cbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoX2dldFN1Ym1hdHJpeChtYXRyaXguX2RhdGEsIGluZGV4LCBzaXplLmxlbmd0aCwgMCksIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZ2V0IGEgc3VibWF0cml4IG9mIGEgbXVsdGkgZGltZW5zaW9uYWwgbWF0cml4LlxuICAgKiBJbmRleCBpcyBub3QgY2hlY2tlZCBmb3IgY29ycmVjdCBudW1iZXIgb3IgbGVuZ3RoIG9mIGRpbWVuc2lvbnMuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgVG90YWwgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgICBDdXJyZW50IGRpbWVuc2lvblxuICAgKiBAcmV0dXJuIHtBcnJheX0gc3VibWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2dldFN1Ym1hdHJpeChkYXRhLCBpbmRleCwgZGltcywgZGltKSB7XG4gICAgdmFyIGxhc3QgPSBkaW0gPT09IGRpbXMgLSAxO1xuICAgIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbihkaW0pO1xuXG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChpLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBkYXRhW2ldO1xuICAgICAgfSkudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmFuZ2UubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoaSwgZGF0YS5sZW5ndGgpO1xuICAgICAgICB2YXIgY2hpbGQgPSBkYXRhW2ldO1xuICAgICAgICByZXR1cm4gX2dldFN1Ym1hdHJpeChjaGlsZCwgaW5kZXgsIGRpbXMsIGRpbSArIDEpO1xuICAgICAgfSkudmFsdWVPZigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhIHN1Ym1hdHJpeCBpbiB0aGlzIG1hdHJpeFxuICAgKiBJbmRleGVzIGFyZSB6ZXJvLWJhc2VkLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXggfCBBcnJheSB8ICp9IHN1Ym1hdHJpeFxuICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSAgICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfc2V0KG1hdHJpeCwgaW5kZXgsIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfSAvLyBnZXQgaW5kZXggc2l6ZSBhbmQgY2hlY2sgd2hldGhlciB0aGUgaW5kZXggY29udGFpbnMgYSBzaW5nbGUgdmFsdWVcblxuXG4gICAgdmFyIGlTaXplID0gaW5kZXguc2l6ZSgpO1xuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7IC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4LCBhbmQgY29udmVydCBpdCBpbnRvIGFuIEFycmF5IGlmIG5lZWRlZFxuXG4gICAgdmFyIHNTaXplO1xuXG4gICAgaWYgKGlzTWF0cml4KHN1Ym1hdHJpeCkpIHtcbiAgICAgIHNTaXplID0gc3VibWF0cml4LnNpemUoKTtcbiAgICAgIHN1Ym1hdHJpeCA9IHN1Ym1hdHJpeC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNTaXplID0gYXJyYXlTaXplKHN1Ym1hdHJpeCk7XG4gICAgfVxuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyBzZXQgYSBzY2FsYXJcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgc3VibWF0cml4IGlzIGEgc2NhbGFyXG4gICAgICBpZiAoc1NpemUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NjYWxhciBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBtYXRyaXguc2V0KGluZGV4Lm1pbigpLCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldCBhIHN1Ym1hdHJpeFxuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuICAgICAgaWYgKGlTaXplLmxlbmd0aCA8IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNTaXplLmxlbmd0aCA8IGlTaXplLmxlbmd0aCkge1xuICAgICAgICAvLyBjYWxjdWxhdGUgbnVtYmVyIG9mIG1pc3Npbmcgb3V0ZXIgZGltZW5zaW9uc1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBvdXRlciA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxICYmIHNTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgb3V0ZXIrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gLy8gdW5zcXVlZXplIGJvdGggb3V0ZXIgYW5kIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gICAgICAgIHN1Ym1hdHJpeCA9IHVuc3F1ZWV6ZShzdWJtYXRyaXgsIGlTaXplLmxlbmd0aCwgb3V0ZXIsIHNTaXplKTtcbiAgICAgIH0gLy8gY2hlY2sgd2hldGhlciB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4IG1hdGNoZXMgdGhlIGluZGV4IHNpemVcblxuXG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChpU2l6ZSwgc1NpemUpKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZSwgc1NpemUsICc+Jyk7XG4gICAgICB9IC8vIGVubGFyZ2UgbWF0cml4IHdoZW4gbmVlZGVkXG5cblxuICAgICAgdmFyIHNpemUgPSBpbmRleC5tYXgoKS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgfSk7XG5cbiAgICAgIF9maXQobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBpbnNlcnQgdGhlIHN1YiBtYXRyaXhcblxuXG4gICAgICB2YXIgZGltcyA9IGlTaXplLmxlbmd0aDtcbiAgICAgIHZhciBkaW0gPSAwO1xuXG4gICAgICBfc2V0U3VibWF0cml4KG1hdHJpeC5fZGF0YSwgaW5kZXgsIHN1Ym1hdHJpeCwgZGltcywgZGltKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc3VibWF0cml4IG9mIGEgbXVsdGkgZGltZW5zaW9uYWwgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdWJtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgICBUb3RhbCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gZGltXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3NldFN1Ym1hdHJpeChkYXRhLCBpbmRleCwgc3VibWF0cml4LCBkaW1zLCBkaW0pIHtcbiAgICB2YXIgbGFzdCA9IGRpbSA9PT0gZGltcyAtIDE7XG4gICAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKGRpbSk7XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUluZGV4LCBzdWJJbmRleCkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGRhdGFJbmRleCk7XG4gICAgICAgIGRhdGFbZGF0YUluZGV4XSA9IHN1Ym1hdHJpeFtzdWJJbmRleFswXV07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUluZGV4LCBzdWJJbmRleCkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGRhdGFJbmRleCk7XG5cbiAgICAgICAgX3NldFN1Ym1hdHJpeChkYXRhW2RhdGFJbmRleF0sIGluZGV4LCBzdWJtYXRyaXhbc3ViSW5kZXhbMF1dLCBkaW1zLCBkaW0gKyAxKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW10gfHwgTWF0cml4fSBzaXplIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNDb2xsZWN0aW9uKHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBvciBNYXRyaXggZXhwZWN0ZWQnKTtcbiAgICB9IC8vIFNwYXJzZU1hdHJpeCBpbnB1dCBpcyBhbHdheXMgMmQsIGZsYXR0ZW4gdGhpcyBpbnRvIDFkIGlmIGl0J3MgaW5kZWVkIGEgdmVjdG9yXG5cblxuICAgIHZhciBzaXplQXJyYXkgPSBzaXplLnZhbHVlT2YoKS5tYXAodmFsdWUgPT4ge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgfSk7IC8vIG1hdHJpeCB0byByZXNpemVcblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJlc2l6ZSBtYXRyaXhcblxuICAgIHJldHVybiBfcmVzaXplKG0sIHNpemVBcnJheSwgZGVmYXVsdFZhbHVlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfcmVzaXplKG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgc2l6ZVxuICAgIGlmIChzaXplLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gZmlyc3QgdmFsdWUgaW4gbWF0cml4XG4gICAgICB2YXIgdiA9IG1hdHJpeC5fZGF0YTsgLy8gZ28gZGVlcFxuXG4gICAgICB3aGlsZSAoaXNBcnJheSh2KSkge1xuICAgICAgICB2ID0gdlswXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHY7XG4gICAgfSAvLyByZXNpemUgbWF0cml4XG5cblxuICAgIG1hdHJpeC5fc2l6ZSA9IHNpemUuc2xpY2UoMCk7IC8vIGNvcHkgdGhlIGFycmF5XG5cbiAgICBtYXRyaXguX2RhdGEgPSByZXNpemUobWF0cml4Ll9kYXRhLCBtYXRyaXguX3NpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogTk9URTogVGhpcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvIGNvcHkgYnkgZGVmYXVsdCwgaW5zdGVhZCBvZiBtb2RpZnlpbmdcbiAgICogICAgICAgaW4gcGxhY2UuIEZvciBub3csIGl0IG9wZXJhdGVzIGluIHBsYWNlIHRvIHJlbWFpbiBjb25zaXN0ZW50IHdpdGhcbiAgICogICAgICAgcmVzaXplKCkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBjb3B5KSB7XG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpcztcbiAgICBtLl9kYXRhID0gcmVzaGFwZShtLl9kYXRhLCBzaXplKTtcbiAgICBtLl9zaXplID0gc2l6ZS5zbGljZSgwKTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIEVubGFyZ2UgdGhlIG1hdHJpeCB3aGVuIGl0IGlzIHNtYWxsZXIgdGhhbiBnaXZlbiBzaXplLlxuICAgKiBJZiB0aGUgbWF0cml4IGlzIGxhcmdlciBvciBlcXVhbCBzaXplZCwgbm90aGluZyBpcyBkb25lLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4ICAgICAgICAgICBUaGUgbWF0cml4IHRvIGJlIHJlc2l6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZVxuICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSAgICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2ZpdChtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciAvLyBjb3B5IHRoZSBhcnJheVxuICAgIG5ld1NpemUgPSBtYXRyaXguX3NpemUuc2xpY2UoMCk7XG5cbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlOyAvLyBhZGQgZGltZW5zaW9ucyB3aGVuIG5lZWRlZFxuXG4gICAgd2hpbGUgKG5ld1NpemUubGVuZ3RoIDwgc2l6ZS5sZW5ndGgpIHtcbiAgICAgIG5ld1NpemUucHVzaCgwKTtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH0gLy8gZW5sYXJnZSBzaXplIHdoZW4gbmVlZGVkXG5cblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKHNpemVbaV0gPiBuZXdTaXplW2ldKSB7XG4gICAgICAgIG5ld1NpemVbaV0gPSBzaXplW2ldO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgLy8gcmVzaXplIG9ubHkgd2hlbiBzaXplIGlzIGNoYW5nZWRcbiAgICAgIF9yZXNpemUobWF0cml4LCBuZXdTaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNsb25lKHRoaXMuX2RhdGEpLFxuICAgICAgc2l6ZTogY2xvbmUodGhpcy5fc2l6ZSksXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZS5zbGljZSgwKTsgLy8gcmV0dXJuIGEgY2xvbmUgb2YgX3NpemVcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG1hdHJpeCBpbnN0YW5jZVxuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICB2YXIgcmVjdXJzZSA9IGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUsIGluZGV4KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgICAgICByZXR1cm4gcmVjdXJzZShjaGlsZCwgaW5kZXguY29uY2F0KGkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBtZSk7XG4gICAgICB9XG4gICAgfTsgLy8gZGV0ZXJtaW5lIHRoZSBuZXcgZGF0YXR5cGUgd2hlbiB0aGUgb3JpZ2luYWwgbWF0cml4IGhhcyBkYXRhdHlwZSBkZWZpbmVkXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIGRvbmUgaW4gbWF0cml4IGNvbnN0cnVjdG9yIGluc3RlYWRcblxuXG4gICAgdmFyIGRhdGEgPSByZWN1cnNlKHRoaXMuX2RhdGEsIFtdKTtcbiAgICB2YXIgZGF0YXR5cGUgPSB0aGlzLl9kYXRhdHlwZSAhPT0gdW5kZWZpbmVkID8gZ2V0QXJyYXlEYXRhVHlwZShkYXRhLCB0eXBlT2YpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG1hdHJpeCBpbnN0YW5jZVxuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICB2YXIgcmVjdXJzZSA9IGZ1bmN0aW9uIHJlY3Vyc2UodmFsdWUsIGluZGV4KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgICAgICByZWN1cnNlKGNoaWxkLCBpbmRleC5jb25jYXQoaSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZWN1cnNlKHRoaXMuX2RhdGEsIFtdKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgRGVuc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2xvbmUodGhpcy5fZGF0YSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgRGVuc2VNYXRyaXg6IGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy5fZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy5fZGF0YSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRGVuc2VNYXRyaXgnLFxuICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgIHNpemU6IHRoaXMuX3NpemUsXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBrdGggTWF0cml4IGRpYWdvbmFsLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCByZXRyaWV2ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCB3aXRoIHRoZSBkaWFnb25hbCB2YWx1ZXMuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmRpYWdvbmFsID0gZnVuY3Rpb24gKGspIHtcbiAgICAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbnVtYmVyIGRpYWdvbmFsIHZhbHVlc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHggaXMgYSBtYXRyaXggZ2V0IGRpYWdvbmFsIGZyb20gbWF0cml4XG5cbiAgICB2YXIgZGF0YSA9IFtdOyAvLyBsb29wIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICBkYXRhW2ldID0gdGhpcy5fZGF0YVtpICsga1N1Yl1baSArIGtTdXBlcl07XG4gICAgfSAvLyBjcmVhdGUgRGVuc2VNYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgc2l6ZTogW25dLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkaWFnb25hbCBtYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCBzaXplLlxuICAgKiBAcGFyYW0ge251bWJlciB8IE1hdHJpeCB8IEFycmF5IH0gdmFsdWUgVGhlIHZhbHVlcyBmb3IgdGhlIGRpYWdvbmFsLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIG5vbi1kaWFnb25hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXSAgICAgICAgICAgICAgVGhlIGRhdGF0eXBlIGZvciB0aGUgZGlhZ29uYWxcbiAgICpcbiAgICogQHJldHVybnMge0RlbnNlTWF0cml4fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LmRpYWdvbmFsID0gZnVuY3Rpb24gKHNpemUsIHZhbHVlLCBrLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkLCBzaXplIHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBtYXAgc2l6ZSAmIHZhbGlkYXRlXG5cblxuICAgIHNpemUgPSBzaXplLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgYSBiaWcgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIocykpIHtcbiAgICAgICAgLy8gY29udmVydCBpdFxuICAgICAgICBzID0gcy50b051bWJlcigpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKHMpIHx8ICFpc0ludGVnZXIocykgfHwgcyA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXplIHZhbHVlcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzO1xuICAgIH0pOyAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuXG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIG51bWJlciBvZiBub24temVybyBpdGVtc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHZhbHVlIGV4dHJhY3Rpb24gZnVuY3Rpb25cblxuICAgIHZhciBfdmFsdWU7IC8vIGNoZWNrIHZhbHVlXG5cblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy8gdmFsaWRhdGUgYXJyYXlcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGFycmF5IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZVtpXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc01hdHJpeCh2YWx1ZSkpIHtcbiAgICAgIC8vIG1hdHJpeCBzaXplXG4gICAgICB2YXIgbXMgPSB2YWx1ZS5zaXplKCk7IC8vIHZhbGlkYXRlIG1hdHJpeFxuXG4gICAgICBpZiAobXMubGVuZ3RoICE9PSAxIHx8IG1zWzBdICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXRyaXggbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlLmdldChbaV0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmaW5lIGZ1bmN0aW9uXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gLy8gZGlzY292ZXIgZGVmYXVsdCB2YWx1ZSBpZiBuZWVkZWRcblxuXG4gICAgaWYgKCFkZWZhdWx0VmFsdWUpIHtcbiAgICAgIC8vIGNoZWNrIGZpcnN0IHZhbHVlIGluIGFycmF5XG4gICAgICBkZWZhdWx0VmFsdWUgPSBpc0JpZ051bWJlcihfdmFsdWUoMCkpID8gX3ZhbHVlKDApLm11bCgwKSAvLyB0cmljayB0byBjcmVhdGUgYSBCaWdOdW1iZXIgd2l0aCB2YWx1ZSB6ZXJvXG4gICAgICA6IDA7XG4gICAgfSAvLyBlbXB0eSBhcnJheVxuXG5cbiAgICB2YXIgZGF0YSA9IFtdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHJlc2l6ZSBhcnJheVxuXG4gICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgLy8gcmVzaXplIGFycmF5XG4gICAgICBkYXRhID0gcmVzaXplKGRhdGEsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGZpbGwgZGlhZ29uYWxcblxuICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBuOyBkKyspIHtcbiAgICAgICAgZGF0YVtkICsga1N1Yl1bZCArIGtTdXBlcl0gPSBfdmFsdWUoZCk7XG4gICAgICB9XG4gICAgfSAvLyBjcmVhdGUgRGVuc2VNYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG1hdHJpeCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRGVuc2VNYXRyaXhcIiwgZGF0YTogW10sIHNpemU6IFtdfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0RlbnNlTWF0cml4fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gTWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICBUaGUgbWF0cml4IHJlZmVyZW5jZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWlzTnVtYmVyKGkpIHx8ICFpc0ludGVnZXIoaSkgfHwgIWlzTnVtYmVyKGopIHx8ICFpc0ludGVnZXIoaikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm93IGluZGV4IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuXG4gICAgaWYgKHRoaXMuX3NpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBpcyBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIHZhbGlkYXRlIGluZGV4XG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzBdKTsgLy8gc3dhcCByb3dzXG5cbiAgICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MoaSwgaiwgdGhpcy5fZGF0YSk7IC8vIHJldHVybiBjdXJyZW50IGluc3RhbmNlXG5cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gRGVuc2UgTWF0cml4IGRhdGEgc3RydWN0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgICAgIE1hdHJpeCBkYXRhXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguX3N3YXBSb3dzID0gZnVuY3Rpb24gKGksIGosIGRhdGEpIHtcbiAgICAvLyBzd2FwIHZhbHVlcyBpIDwtPiBqXG4gICAgdmFyIHZpID0gZGF0YVtpXTtcbiAgICBkYXRhW2ldID0gZGF0YVtqXTtcbiAgICBkYXRhW2pdID0gdmk7XG4gIH07XG4gIC8qKlxuICAgKiBQcmVwcm9jZXNzIGRhdGEsIHdoaWNoIGNhbiBiZSBhbiBBcnJheSBvciBEZW5zZU1hdHJpeCB3aXRoIG5lc3RlZCBBcnJheXMgYW5kXG4gICAqIE1hdHJpY2VzLiBSZXBsYWNlcyBhbGwgbmVzdGVkIE1hdHJpY2VzIHdpdGggQXJyYXlzXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEByZXR1cm4ge0FycmF5fSBkYXRhXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcHJlcHJvY2VzcyhkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGF0YS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgZWxlbSA9IGRhdGFbaV07XG5cbiAgICAgIGlmIChpc0FycmF5KGVsZW0pKSB7XG4gICAgICAgIGRhdGFbaV0gPSBwcmVwcm9jZXNzKGVsZW0pO1xuICAgICAgfSBlbHNlIGlmIChlbGVtICYmIGVsZW0uaXNNYXRyaXggPT09IHRydWUpIHtcbiAgICAgICAgZGF0YVtpXSA9IHByZXByb2Nlc3MoZWxlbS52YWx1ZU9mKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcmV0dXJuIERlbnNlTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0NvbGxlY3Rpb24sIGlzTWF0cml4IH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuL2FycmF5LmpzJztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGFycmF5IGNvbnRhaW5zIGNvbGxlY3Rpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBhcnJheSBjb250YWlucyBvbmUgb3IgbXVsdGlwbGVcbiAqICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9ucyAoQXJyYXlzIG9yIE1hdHJpY2VzKS4gUmV0dXJucyBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29sbGVjdGlvbnMoYXJyYXkpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0NvbGxlY3Rpb24oYXJyYXlbaV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGxvb3Agb3ZlciBhbGwgZWxlbWVudHMgaW4gYSBnaXZlbiBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogYW5kIGludm9rZSB0aGUgY2FsbGJhY2sgb24gZWFjaCBvZiB0aGUgZWxlbWVudHMuXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIG9uZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcjogdGhlIGN1cnJlbnQgZWxlbWVudCBpbiB0aGUgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEZvckVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG4gIGlmIChpc01hdHJpeChhcnJheSkpIHtcbiAgICBhcnJheSA9IGFycmF5LnZhbHVlT2YoKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodmFsdWUpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBFeGVjdXRlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBlbGVtZW50IHdpc2UgZm9yIGVhY2ggZWxlbWVudCBpbiBhcnJheSBhbmQgYW55XG4gKiBuZXN0ZWQgYXJyYXlcbiAqIFJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgcmVzdWx0c1xuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIHR3byBwYXJhbWV0ZXJzOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTEgYW5kIHZhbHVlMiwgd2hpY2ggY29udGFpbiB0aGUgY3VycmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IG9mIGJvdGggYXJyYXlzLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICpcbiAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVlcE1hcChhcnJheSwgY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICBpZiAoYXJyYXkgJiYgdHlwZW9mIGFycmF5Lm1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRPRE86IHJlcGxhY2UgYXJyYXkubWFwIHdpdGggYSBmb3IgbG9vcCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlXG4gICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgY2FsbGJhY2ssIHNraXBaZXJvcyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFycmF5KTtcbiAgfVxufVxuLyoqXG4gKiBSZWR1Y2UgYSBnaXZlbiBtYXRyaXggb3IgYXJyYXkgdG8gYSBuZXcgbWF0cml4IG9yXG4gKiBhcnJheSB3aXRoIG9uZSBsZXNzIGRpbWVuc2lvbiwgYXBwbHlpbmcgdGhlIGdpdmVuXG4gKiBjYWxsYmFjayBpbiB0aGUgc2VsZWN0ZWQgZGltZW5zaW9uLlxuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gbWF0XG4gKiBAcGFyYW0ge251bWJlcn0gZGltXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKSB7XG4gIHZhciBzaXplID0gQXJyYXkuaXNBcnJheShtYXQpID8gYXJyYXlTaXplKG1hdCkgOiBtYXQuc2l6ZSgpO1xuXG4gIGlmIChkaW0gPCAwIHx8IGRpbSA+PSBzaXplLmxlbmd0aCkge1xuICAgIC8vIFRPRE86IHdvdWxkIGJlIG1vcmUgY2xlYXIgd2hlbiB0aHJvd2luZyBhIERpbWVuc2lvbkVycm9yIGhlcmVcbiAgICB0aHJvdyBuZXcgSW5kZXhFcnJvcihkaW0sIHNpemUubGVuZ3RoKTtcbiAgfVxuXG4gIGlmIChpc01hdHJpeChtYXQpKSB7XG4gICAgcmV0dXJuIG1hdC5jcmVhdGUoX3JlZHVjZShtYXQudmFsdWVPZigpLCBkaW0sIGNhbGxiYWNrKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9yZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKTtcbiAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSByZWR1Y2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXl9IG1hdFxuICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9yZWR1Y2UobWF0LCBkaW0sIGNhbGxiYWNrKSB7XG4gIHZhciBpLCByZXQsIHZhbCwgdHJhbjtcblxuICBpZiAoZGltIDw9IDApIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWF0WzBdKSkge1xuICAgICAgdmFsID0gbWF0WzBdO1xuXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbCA9IGNhbGxiYWNrKHZhbCwgbWF0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbiA9IF9zd2l0Y2gobWF0KTtcbiAgICAgIHJldCA9IFtdO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhbi5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXRbaV0gPSBfcmVkdWNlKHRyYW5baV0sIGRpbSAtIDEsIGNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSBfcmVkdWNlKG1hdFtpXSwgZGltIC0gMSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cbn1cbi8qKlxuICogVHJhbnNwb3NlIGEgbWF0cml4XG4gKiBAcGFyYW0ge0FycmF5fSBtYXRcbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3N3aXRjaChtYXQpIHtcbiAgdmFyIEkgPSBtYXQubGVuZ3RoO1xuICB2YXIgSiA9IG1hdFswXS5sZW5ndGg7XG4gIHZhciBpLCBqO1xuICB2YXIgcmV0ID0gW107XG5cbiAgZm9yIChqID0gMDsgaiA8IEo7IGorKykge1xuICAgIHZhciB0bXAgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBJOyBpKyspIHtcbiAgICAgIHRtcC5wdXNoKG1hdFtpXVtqXSk7XG4gICAgfVxuXG4gICAgcmV0LnB1c2godG1wKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59IC8vIFRPRE86IGRvY3VtZW50IGZ1bmN0aW9uIHNjYXR0ZXJcblxuXG5leHBvcnQgZnVuY3Rpb24gc2NhdHRlcihhLCBqLCB3LCB4LCB1LCBtYXJrLCBjaW5kZXgsIGYsIGludmVyc2UsIHVwZGF0ZSwgdmFsdWUpIHtcbiAgLy8gYSBhcnJheXNcbiAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgdmFyIGFwdHIgPSBhLl9wdHI7IC8vIHZhcnNcblxuICB2YXIgaywgazAsIGsxLCBpOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChwYXR0ZXJuIG1hdHJpeClcblxuICBpZiAoeCkge1xuICAgIC8vIHZhbHVlcyBpbiBqXG4gICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgaSA9IGFpbmRleFtrXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICBpZiAod1tpXSAhPT0gbWFyaykge1xuICAgICAgICAvLyBpIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgIHdbaV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8geChpKSA9IEEsIGNoZWNrIHdlIG5lZWQgdG8gY2FsbCBmdW5jdGlvbiB0aGlzIHRpbWVcblxuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgLy8gY29weSB2YWx1ZSB0byB3b3Jrc3BhY2UgY2FsbGluZyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgIHhbaV0gPSBpbnZlcnNlID8gZihhdmFsdWVzW2tdLCB2YWx1ZSkgOiBmKHZhbHVlLCBhdmFsdWVzW2tdKTsgLy8gZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuXG4gICAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29weSB2YWx1ZSB0byB3b3Jrc3BhY2VcbiAgICAgICAgICB4W2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gZihhdmFsdWVzW2tdLCB4W2ldKSA6IGYoeFtpXSwgYXZhbHVlc1trXSk7IC8vIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcblxuICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gdmFsdWVzIGluIGpcbiAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICBpID0gYWluZGV4W2tdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgIGlmICh3W2ldICE9PSBtYXJrKSB7XG4gICAgICAgIC8vIGkgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgd1tpXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5kaWNhdGUgZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBpc0ludGVnZXIsIGxvZzIsIGxvZzEwLCBjYnJ0LCBleHBtMSwgc2lnbiwgdG9GaXhlZCwgbG9nMXAgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xudmFyIG4xID0gJ251bWJlcic7XG52YXIgbjIgPSAnbnVtYmVyLCBudW1iZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGFic051bWJlcihhKSB7XG4gIHJldHVybiBNYXRoLmFicyhhKTtcbn1cbmFic051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBhZGROdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSArIGI7XG59XG5hZGROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3ROdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5zdWJ0cmFjdE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseU51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhICogYjtcbn1cbm11bHRpcGx5TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZU51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhIC8gYjtcbn1cbmRpdmlkZU51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiB1bmFyeU1pbnVzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIC14O1xufVxudW5hcnlNaW51c051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiB1bmFyeVBsdXNOdW1iZXIoeCkge1xuICByZXR1cm4geDtcbn1cbnVuYXJ5UGx1c051bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjYnJ0TnVtYmVyKHgpIHtcbiAgcmV0dXJuIGNicnQoeCk7XG59XG5jYnJ0TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWxOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5jZWlsKHgpO1xufVxuY2VpbE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjdWJlTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggKiB4ICogeDtcbn1cbmN1YmVOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZXhwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguZXhwKHgpO1xufVxuZXhwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG0xTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGV4cG0xKHgpO1xufVxuZXhwbTFOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZml4TnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggPiAwID8gTWF0aC5mbG9vcih4KSA6IE1hdGguY2VpbCh4KTtcbn1cbmZpeE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBmbG9vck51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKHgpO1xufVxuZmxvb3JOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSBnY2QgZm9yIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZ3JlYXRlc3QgY29tbW9uIGRlbm9taW5hdG9yIG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2NkTnVtYmVyKGEsIGIpIHtcbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBnY2QgbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfSAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fYWxnb3JpdGhtXG5cblxuICB2YXIgcjtcblxuICB3aGlsZSAoYiAhPT0gMCkge1xuICAgIHIgPSBhICUgYjtcbiAgICBhID0gYjtcbiAgICBiID0gcjtcbiAgfVxuXG4gIHJldHVybiBhIDwgMCA/IC1hIDogYTtcbn1cbmdjZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIGxjbSBmb3IgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbGVhc3QgY29tbW9uIG11bHRpcGxlIG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGNtTnVtYmVyKGEsIGIpIHtcbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBsY20gbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfVxuXG4gIGlmIChhID09PSAwIHx8IGIgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfSAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fYWxnb3JpdGhtXG4gIC8vIGV2YWx1YXRlIGxjbSBoZXJlIGlubGluZSB0byByZWR1Y2Ugb3ZlcmhlYWRcblxuXG4gIHZhciB0O1xuICB2YXIgcHJvZCA9IGEgKiBiO1xuXG4gIHdoaWxlIChiICE9PSAwKSB7XG4gICAgdCA9IGI7XG4gICAgYiA9IGEgJSB0O1xuICAgIGEgPSB0O1xuICB9XG5cbiAgcmV0dXJuIE1hdGguYWJzKHByb2QgLyBhKTtcbn1cbmxjbU51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBsb2dhcml0aG0gb2YgYSB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ051bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KTtcbn1cbmxvZ051bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSAxMC1iYXNlIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMTBOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMTAoeCk7XG59XG5sb2cxME51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSAyLWJhc2UgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cyTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzIoeCk7XG59XG5sb2cyTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgYG51bWJlcisxYFxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzFwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzFwKHgpO1xufVxubG9nMXBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbW9kdWx1cyBvZiB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcmV0dXJucyB7bnVtYmVyfSByZXNcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZE51bWJlcih4LCB5KSB7XG4gIGlmICh5ID4gMCkge1xuICAgIC8vIFdlIGRvbid0IHVzZSBKYXZhU2NyaXB0J3MgJSBvcGVyYXRvciBoZXJlIGFzIHRoaXMgZG9lc24ndCB3b3JrXG4gICAgLy8gY29ycmVjdGx5IGZvciB4IDwgMCBhbmQgeCA9PT0gMFxuICAgIC8vIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXG4gICAgcmV0dXJuIHggLSB5ICogTWF0aC5mbG9vcih4IC8geSk7XG4gIH0gZWxzZSBpZiAoeSA9PT0gMCkge1xuICAgIHJldHVybiB4O1xuICB9IGVsc2Uge1xuICAgIC8vIHkgPCAwXG4gICAgLy8gVE9ETzogaW1wbGVtZW50IG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gIH1cbn1cbm1vZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBudGggcm9vdCBvZiBhLCBzb2x2ZSB4XnJvb3QgPT0gYVxuICogaHR0cDovL3Jvc2V0dGFjb2RlLm9yZy93aWtpL050aF9yb290I0phdmFTY3JpcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gcm9vdFxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbnRoUm9vdE51bWJlcihhLCByb290KSB7XG4gIHZhciBpbnYgPSByb290IDwgMDtcblxuICBpZiAoaW52KSB7XG4gICAgcm9vdCA9IC1yb290O1xuICB9XG5cbiAgaWYgKHJvb3QgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3QgbXVzdCBiZSBub24temVybycpO1xuICB9XG5cbiAgaWYgKGEgPCAwICYmIE1hdGguYWJzKHJvb3QpICUgMiAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUm9vdCBtdXN0IGJlIG9kZCB3aGVuIGEgaXMgbmVnYXRpdmUuJyk7XG4gIH0gLy8gZWRnZSBjYXNlcyB6ZXJvIGFuZCBpbmZpbml0eVxuXG5cbiAgaWYgKGEgPT09IDApIHtcbiAgICByZXR1cm4gaW52ID8gSW5maW5pdHkgOiAwO1xuICB9XG5cbiAgaWYgKCFpc0Zpbml0ZShhKSkge1xuICAgIHJldHVybiBpbnYgPyAwIDogYTtcbiAgfVxuXG4gIHZhciB4ID0gTWF0aC5wb3coTWF0aC5hYnMoYSksIDEgLyByb290KTsgLy8gSWYgYSA8IDAsIHdlIHJlcXVpcmUgdGhhdCByb290IGlzIGFuIG9kZCBpbnRlZ2VyLFxuICAvLyBzbyAoLTEpIF4gKDEvcm9vdCkgPSAtMVxuXG4gIHggPSBhIDwgMCA/IC14IDogeDtcbiAgcmV0dXJuIGludiA/IDEgLyB4IDogeDsgLy8gVmVyeSBuaWNlIGFsZ29yaXRobSwgYnV0IGZhaWxzIHdpdGggbnRoUm9vdCgtMiwgMykuXG4gIC8vIE5ld3RvbidzIG1ldGhvZCBoYXMgc29tZSB3ZWxsLWtub3duIHByb2JsZW1zIGF0IHRpbWVzOlxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OZXd0b24lMjdzX21ldGhvZCNGYWlsdXJlX2FuYWx5c2lzXG5cbiAgLypcbiAgbGV0IHggPSAxIC8vIEluaXRpYWwgZ3Vlc3NcbiAgbGV0IHhQcmV2ID0gMVxuICBsZXQgaSA9IDBcbiAgY29uc3QgaU1heCA9IDEwMDAwXG4gIGRvIHtcbiAgICBjb25zdCBkZWx0YSA9IChhIC8gTWF0aC5wb3coeCwgcm9vdCAtIDEpIC0geCkgLyByb290XG4gICAgeFByZXYgPSB4XG4gICAgeCA9IHggKyBkZWx0YVxuICAgIGkrK1xuICB9XG4gIHdoaWxlICh4UHJldiAhPT0geCAmJiBpIDwgaU1heClcbiAgIGlmICh4UHJldiAhPT0geCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gbnRoUm9vdCBmYWlsZWQgdG8gY29udmVyZ2UnKVxuICB9XG4gICByZXR1cm4gaW52ID8gMSAvIHggOiB4XG4gICovXG59XG5udGhSb290TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25OdW1iZXIoeCkge1xuICByZXR1cm4gc2lnbih4KTtcbn1cbnNpZ25OdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gc3FydE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLnNxcnQoeCk7XG59XG5zcXJ0TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZU51bWJlcih4KSB7XG4gIHJldHVybiB4ICogeDtcbn1cbnNxdWFyZU51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHhnY2QgZm9yIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzdWx0XG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB4Z2NkTnVtYmVyKGEsIGIpIHtcbiAgLy8gc291cmNlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHRlbmRlZF9FdWNsaWRlYW5fYWxnb3JpdGhtXG4gIHZhciB0OyAvLyB1c2VkIHRvIHN3YXAgdHdvIHZhcmlhYmxlc1xuXG4gIHZhciBxOyAvLyBxdW90aWVudFxuXG4gIHZhciByOyAvLyByZW1haW5kZXJcblxuICB2YXIgeCA9IDA7XG4gIHZhciBsYXN0eCA9IDE7XG4gIHZhciB5ID0gMTtcbiAgdmFyIGxhc3R5ID0gMDtcblxuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIHhnY2QgbXVzdCBiZSBpbnRlZ2VyIG51bWJlcnMnKTtcbiAgfVxuXG4gIHdoaWxlIChiKSB7XG4gICAgcSA9IE1hdGguZmxvb3IoYSAvIGIpO1xuICAgIHIgPSBhIC0gcSAqIGI7XG4gICAgdCA9IHg7XG4gICAgeCA9IGxhc3R4IC0gcSAqIHg7XG4gICAgbGFzdHggPSB0O1xuICAgIHQgPSB5O1xuICAgIHkgPSBsYXN0eSAtIHEgKiB5O1xuICAgIGxhc3R5ID0gdDtcbiAgICBhID0gYjtcbiAgICBiID0gcjtcbiAgfVxuXG4gIHZhciByZXM7XG5cbiAgaWYgKGEgPCAwKSB7XG4gICAgcmVzID0gWy1hLCAtbGFzdHgsIC1sYXN0eV07XG4gIH0gZWxzZSB7XG4gICAgcmVzID0gW2EsIGEgPyBsYXN0eCA6IDAsIGxhc3R5XTtcbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG54Z2NkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIHheeSwgZm9yIHR3byBudW1iZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwb3dOdW1iZXIoeCwgeSkge1xuICAvLyB4XkluZmluaXR5ID09PSAwIGlmIC0xIDwgeCA8IDFcbiAgLy8gQSByZWFsIG51bWJlciAwIGlzIHJldHVybmVkIGluc3RlYWQgb2YgY29tcGxleCgwKVxuICBpZiAoeCAqIHggPCAxICYmIHkgPT09IEluZmluaXR5IHx8IHggKiB4ID4gMSAmJiB5ID09PSAtSW5maW5pdHkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnBvdyh4LCB5KTtcbn1cbnBvd051bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogcm91bmQgYSBudW1iZXIgdG8gdGhlIGdpdmVuIG51bWJlciBvZiBkZWNpbWFscywgb3IgdG8gemVybyBpZiBkZWNpbWFscyBpc1xuICogbm90IHByb3ZpZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyAgICAgICBudW1iZXIgb2YgZGVjaW1hbHMsIGJldHdlZW4gMCBhbmQgMTUgKDAgYnkgZGVmYXVsdClcbiAqIEByZXR1cm4ge251bWJlcn0gcm91bmRlZFZhbHVlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kTnVtYmVyKHZhbHVlKSB7XG4gIHZhciBkZWNpbWFscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodG9GaXhlZCh2YWx1ZSwgZGVjaW1hbHMpKTtcbn1cbnJvdW5kTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5vcm0gb2YgYSBudW1iZXIsIHRoZSBhYnNvbHV0ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1OdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5hYnMoeCk7XG59XG5ub3JtTnVtYmVyLnNpZ25hdHVyZSA9IG4xOyIsImltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2lzTnVtZXJpYyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVJc051bWVyaWMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gbnVtZXJpYyB2YWx1ZS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50LXdpc2UgaW4gY2FzZSBvZiBBcnJheSBvciBNYXRyaXggaW5wdXQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguaXNOdW1lcmljKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygyKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygnMicpICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5oYXNOdW1lcmljVmFsdWUoJzInKSAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMoMCkgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5iaWdudW1iZXIoNTAwKSkgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5mcmFjdGlvbig0KSkgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMobWF0aC5jb21wbGV4KCcyLTRpJykgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKFsyLjMsICdmb28nLCBmYWxzZV0pICAgLy8gcmV0dXJucyBbdHJ1ZSwgZmFsc2UsIHRydWVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBpc1plcm8sIGlzUG9zaXRpdmUsIGlzTmVnYXRpdmUsIGlzSW50ZWdlciwgaGFzTnVtZXJpY1ZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0geCAgICAgICBWYWx1ZSB0byBiZSB0ZXN0ZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gIFJldHVybnMgdHJ1ZSB3aGVuIGB4YCBpcyBhIGBudW1iZXJgLCBgQmlnTnVtYmVyYCxcbiAgICogICAgICAgICAgICAgICAgICAgIGBGcmFjdGlvbmAsIG9yIGBib29sZWFuYC4gUmV0dXJucyBmYWxzZSBmb3Igb3RoZXIgdHlwZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSBvZiB1bmtub3duIHR5cGVzLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyRnJhY3Rpb25Cb29sZWFuKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICAnQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIHwgTm9kZSc6IGZ1bmN0aW9uIENvbXBsZXhVbml0U3RyaW5nTnVsbFVuZGVmaW5lZE5vZGUoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLyoqXG4gKiBDb21wYXJlcyB0d28gQmlnTnVtYmVycy5cbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB4ICAgICAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QmlnTnVtYmVyfSB5ICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW2Vwc2lsb25dICBUaGUgbWF4aW11bSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZXBzaWxvbiBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsLlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgdHdvIG51bWJlcnMgYXJlIG5lYXJseSBlcXVhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVhcmx5RXF1YWwoeCwgeSwgZXBzaWxvbikge1xuICAvLyBpZiBlcHNpbG9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbFxuICBpZiAoZXBzaWxvbiA9PT0gbnVsbCB8fCBlcHNpbG9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geC5lcSh5KTtcbiAgfSAvLyB1c2UgXCI9PVwiIG9wZXJhdG9yLCBoYW5kbGVzIGluZmluaXRpZXNcblxuXG4gIGlmICh4LmVxKHkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gTmFOXG5cblxuICBpZiAoeC5pc05hTigpIHx8IHkuaXNOYU4oKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBhdCB0aGlzIHBvaW50IHggYW5kIHkgc2hvdWxkIGJlIGZpbml0ZVxuXG5cbiAgaWYgKHguaXNGaW5pdGUoKSAmJiB5LmlzRmluaXRlKCkpIHtcbiAgICAvLyBjaGVjayBudW1iZXJzIGFyZSB2ZXJ5IGNsb3NlLCBuZWVkZWQgd2hlbiBjb21wYXJpbmcgbnVtYmVycyBuZWFyIHplcm9cbiAgICB2YXIgZGlmZiA9IHgubWludXMoeSkuYWJzKCk7XG5cbiAgICBpZiAoZGlmZi5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSByZWxhdGl2ZSBlcnJvclxuICAgICAgdmFyIG1heCA9IHguY29uc3RydWN0b3IubWF4KHguYWJzKCksIHkuYWJzKCkpO1xuICAgICAgcmV0dXJuIGRpZmYubHRlKG1heC50aW1lcyhlcHNpbG9uKSk7XG4gICAgfVxuICB9IC8vIEluZmluaXRlIGFuZCBOdW1iZXIgb3IgbmVnYXRpdmUgSW5maW5pdGUgYW5kIHBvc2l0aXZlIEluZmluaXRlIGNhc2VzXG5cblxuICByZXR1cm4gZmFsc2U7XG59IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY29tcGxleEVxdWFscyB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbXBsZXguanMnO1xudmFyIG5hbWUgPSAnZXF1YWxTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJ107XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIHNjYWxhciB2YWx1ZXMgYXJlIG5lYXJseSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIGVxdWFsLCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA9PT0geTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmVxKHkpIHx8IGJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmVxdWFscyh5KTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGNvbXBsZXhFcXVhbHMoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsU2NhbGFyTnVtYmVyID0gZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4vbnVtYmVyLmpzJztcbi8qKlxuICogVGVzdCB3aGV0aGVyIHR3byBjb21wbGV4IHZhbHVlcyBhcmUgZXF1YWwgcHJvdmlkZWQgYSBnaXZlbiBlcHNpbG9uLlxuICogRG9lcyBub3QgdXNlIG9yIGNoYW5nZSB0aGUgZ2xvYmFsIENvbXBsZXguRVBTSUxPTiBzZXR0aW5nXG4gKiBAcGFyYW0ge0NvbXBsZXh9IHhcbiAqIEBwYXJhbSB7Q29tcGxleH0geVxuICogQHBhcmFtIHtudW1iZXJ9IGVwc2lsb25cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wbGV4RXF1YWxzKHgsIHksIGVwc2lsb24pIHtcbiAgcmV0dXJuIG5lYXJseUVxdWFsKHgucmUsIHkucmUsIGVwc2lsb24pICYmIG5lYXJseUVxdWFsKHguaW0sIHkuaW0sIGVwc2lsb24pO1xufSIsImltcG9ydCB7IGlzQXJyYXksIGlzQmlnTnVtYmVyLCBpc0NvbGxlY3Rpb24sIGlzSW5kZXgsIGlzTWF0cml4LCBpc051bWJlciwgaXNTdHJpbmcsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGRlZXBTdHJpY3RFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUsIGdldEFycmF5RGF0YVR5cGUsIHVuc3F1ZWV6ZSwgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnU3BhcnNlTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJywgJ01hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIE1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogU3BhcnNlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbi4gVGhpcyB0eXBlIGltcGxlbWVudHMgYSBDb21wcmVzc2VkIENvbHVtbiBTdG9yYWdlIGZvcm1hdFxuICAgKiBmb3Igc3BhcnNlIG1hdHJpY2VzLlxuICAgKiBAY2xhc3MgU3BhcnNlTWF0cml4XG4gICAqL1xuICBmdW5jdGlvbiBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BhcnNlTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YXR5cGUgJiYgIWlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGF0eXBlOiAnICsgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChpc01hdHJpeChkYXRhKSkge1xuICAgICAgLy8gY3JlYXRlIGZyb20gbWF0cml4XG4gICAgICBfY3JlYXRlRnJvbU1hdHJpeCh0aGlzLCBkYXRhLCBkYXRhdHlwZSk7XG4gICAgfSBlbHNlIGlmIChkYXRhICYmIGlzQXJyYXkoZGF0YS5pbmRleCkgJiYgaXNBcnJheShkYXRhLnB0cikgJiYgaXNBcnJheShkYXRhLnNpemUpKSB7XG4gICAgICAvLyBpbml0aWFsaXplIGZpZWxkc1xuICAgICAgdGhpcy5fdmFsdWVzID0gZGF0YS52YWx1ZXM7XG4gICAgICB0aGlzLl9pbmRleCA9IGRhdGEuaW5kZXg7XG4gICAgICB0aGlzLl9wdHIgPSBkYXRhLnB0cjtcbiAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemU7XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuZGF0YXR5cGU7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgICAvLyBjcmVhdGUgZnJvbSBhcnJheVxuICAgICAgX2NyZWF0ZUZyb21BcnJheSh0aGlzLCBkYXRhLCBkYXRhdHlwZSk7XG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAvLyB1bnN1cHBvcnRlZCB0eXBlXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGRhdGEgKCcgKyB0eXBlT2YoZGF0YSkgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub3RoaW5nIHByb3ZpZGVkXG4gICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMuX2luZGV4ID0gW107XG4gICAgICB0aGlzLl9wdHIgPSBbMF07XG4gICAgICB0aGlzLl9zaXplID0gWzAsIDBdO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRnJvbU1hdHJpeChtYXRyaXgsIHNvdXJjZSwgZGF0YXR5cGUpIHtcbiAgICAvLyBjaGVjayBtYXRyaXggdHlwZVxuICAgIGlmIChzb3VyY2UudHlwZSA9PT0gJ1NwYXJzZU1hdHJpeCcpIHtcbiAgICAgIC8vIGNsb25lIGFycmF5c1xuICAgICAgbWF0cml4Ll92YWx1ZXMgPSBzb3VyY2UuX3ZhbHVlcyA/IGNsb25lKHNvdXJjZS5fdmFsdWVzKSA6IHVuZGVmaW5lZDtcbiAgICAgIG1hdHJpeC5faW5kZXggPSBjbG9uZShzb3VyY2UuX2luZGV4KTtcbiAgICAgIG1hdHJpeC5fcHRyID0gY2xvbmUoc291cmNlLl9wdHIpO1xuICAgICAgbWF0cml4Ll9zaXplID0gY2xvbmUoc291cmNlLl9zaXplKTtcbiAgICAgIG1hdHJpeC5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBzb3VyY2UuX2RhdGF0eXBlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBidWlsZCBmcm9tIG1hdHJpeCBkYXRhXG4gICAgICBfY3JlYXRlRnJvbUFycmF5KG1hdHJpeCwgc291cmNlLnZhbHVlT2YoKSwgZGF0YXR5cGUgfHwgc291cmNlLl9kYXRhdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZyb21BcnJheShtYXRyaXgsIGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHNcbiAgICBtYXRyaXguX3ZhbHVlcyA9IFtdO1xuICAgIG1hdHJpeC5faW5kZXggPSBbXTtcbiAgICBtYXRyaXguX3B0ciA9IFtdO1xuICAgIG1hdHJpeC5fZGF0YXR5cGUgPSBkYXRhdHlwZTsgLy8gZGlzY292ZXIgcm93cyAmIGNvbHVtbnMsIGRvIG5vdCB1c2UgbWF0aC5zaXplKCkgdG8gYXZvaWQgbG9vcGluZyBhcnJheSB0d2ljZVxuXG4gICAgdmFyIHJvd3MgPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgY29sdW1ucyA9IDA7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2RhdGF0eXBlLCBkYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZGF0YXR5cGUpO1xuICAgIH0gLy8gY2hlY2sgd2UgaGF2ZSByb3dzIChlbXB0eSBhcnJheSlcblxuXG4gICAgaWYgKHJvd3MgPiAwKSB7XG4gICAgICAvLyBjb2x1bW4gaW5kZXhcbiAgICAgIHZhciBqID0gMDtcblxuICAgICAgZG8ge1xuICAgICAgICAvLyBzdG9yZSBwb2ludGVyIHRvIHZhbHVlcyBpbmRleFxuICAgICAgICBtYXRyaXguX3B0ci5wdXNoKG1hdHJpeC5faW5kZXgubGVuZ3RoKTsgLy8gbG9vcCByb3dzXG5cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICAgICAgdmFyIHJvdyA9IGRhdGFbaV07IC8vIGNoZWNrIHJvdyBpcyBhbiBhcnJheVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXkocm93KSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbHVtbnMgaWYgbmVlZGVkIChvbmx5IG9uIGZpcnN0IGNvbHVtbilcbiAgICAgICAgICAgIGlmIChqID09PSAwICYmIGNvbHVtbnMgPCByb3cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSByb3cubGVuZ3RoO1xuICAgICAgICAgICAgfSAvLyBjaGVjayByb3cgaGFzIGNvbHVtblxuXG5cbiAgICAgICAgICAgIGlmIChqIDwgcm93Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyB2YWx1ZVxuICAgICAgICAgICAgICB2YXIgdiA9IHJvd1tqXTsgLy8gY2hlY2sgdmFsdWUgIT0gMFxuXG4gICAgICAgICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2godik7IC8vIGluZGV4XG5cblxuICAgICAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBpZiBuZWVkZWQgKG9ubHkgb24gZmlyc3QgY29sdW1uKVxuICAgICAgICAgICAgaWYgKGogPT09IDAgJiYgY29sdW1ucyA8IDEpIHtcbiAgICAgICAgICAgICAgY29sdW1ucyA9IDE7XG4gICAgICAgICAgICB9IC8vIGNoZWNrIHZhbHVlICE9IDAgKHJvdyBpcyBhIHNjYWxhcilcblxuXG4gICAgICAgICAgICBpZiAoIWVxKHJvdywgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaChyb3cpOyAvLyBpbmRleFxuXG5cbiAgICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpbmNyZW1lbnQgaW5kZXhcblxuXG4gICAgICAgIGorKztcbiAgICAgIH0gd2hpbGUgKGogPCBjb2x1bW5zKTtcbiAgICB9IC8vIHN0b3JlIG51bWJlciBvZiB2YWx1ZXMgaW4gcHRyXG5cblxuICAgIG1hdHJpeC5fcHRyLnB1c2gobWF0cml4Ll9pbmRleC5sZW5ndGgpOyAvLyBzaXplXG5cblxuICAgIG1hdHJpeC5fc2l6ZSA9IFtyb3dzLCBjb2x1bW5zXTtcbiAgfVxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUgPSBuZXcgTWF0cml4KCk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3BhcnNlTWF0cml4XG4gICAqL1xuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlU3BhcnNlTWF0cml4ID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnU3BhcnNlTWF0cml4JztcbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5pc1NwYXJzZU1hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICBjb25zdCBtYXRyaXhUeXBlID0gbWF0cml4LmdldERhdGFUeXBlKCkgIC8vIHJldHJpZXZlcyB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogQG1lbWJlck9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgdHlwZSBpbmZvcm1hdGlvbjsgaWYgbXVsdGlwbGUgdHlwZXMgYXJlIGZvdW5kIGZyb20gdGhlIE1hdHJpeCwgaXQgd2lsbCByZXR1cm4gXCJtaXhlZFwiXG4gICAqL1xuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZ2V0RGF0YVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEFycmF5RGF0YVR5cGUodGhpcy5fdmFsdWVzLCB0eXBlT2YpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBzdG9yYWdlIGZvcm1hdCB1c2VkIGJ5IHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LnN0b3JhZ2UoKSAgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ3NwYXJzZSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhdHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTcGFyc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCBkZW5zaXR5LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGRlbnNpdHkgPSBtYXRyaXguZGVuc2l0eSgpICAgICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkZW5zaXR5XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgVGhlIG1hdHJpeCBkZW5zaXR5LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGVuc2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGNhbGN1bGF0ZSBkZW5zaXR5XG5cbiAgICByZXR1cm4gcm93cyAhPT0gMCAmJiBjb2x1bW5zICE9PSAwID8gdGhpcy5faW5kZXgubGVuZ3RoIC8gKHJvd3MgKiBjb2x1bW5zKSA6IDA7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN1YnNldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIGNoZWNrIGFyZ3VtZW50c1xuXG5cbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9nZXRzdWJzZXQodGhpcywgaW5kZXgpO1xuICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbCB0aHJvdWdoXG5cbiAgICAgIGNhc2UgMjpcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIF9zZXRzdWJzZXQodGhpcywgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMnKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2dldHN1YnNldChtYXRyaXgsIGlkeCkge1xuICAgIC8vIGNoZWNrIGlkeFxuICAgIGlmICghaXNJbmRleChpZHgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU2NhbGFyID0gaWR4LmlzU2NhbGFyKCk7XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHJldHVybiBhIHNjYWxhclxuICAgICAgcmV0dXJuIG1hdHJpeC5nZXQoaWR4Lm1pbigpKTtcbiAgICB9IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIHNpemUgPSBpZHguc2l6ZSgpO1xuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgaSwgaWksIGssIGtrOyAvLyB2YWxpZGF0ZSBpZiBhbnkgb2YgdGhlIHJhbmdlcyBpbiB0aGUgaW5kZXggaXMgb3V0IG9mIHJhbmdlXG5cbiAgICB2YXIgbWluID0gaWR4Lm1pbigpO1xuICAgIHZhciBtYXggPSBpZHgubWF4KCk7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IG1hdHJpeC5fc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YWxpZGF0ZUluZGV4KG1pbltpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgIHZhbGlkYXRlSW5kZXgobWF4W2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgIH0gLy8gbWF0cml4IGFycmF5c1xuXG5cbiAgICB2YXIgbXZhbHVlcyA9IG1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBtaW5kZXggPSBtYXRyaXguX2luZGV4O1xuICAgIHZhciBtcHRyID0gbWF0cml4Ll9wdHI7IC8vIHJvd3MgJiBjb2x1bW5zIGRpbWVuc2lvbnMgZm9yIHJlc3VsdCBtYXRyaXhcblxuICAgIHZhciByb3dzID0gaWR4LmRpbWVuc2lvbigwKTtcbiAgICB2YXIgY29sdW1ucyA9IGlkeC5kaW1lbnNpb24oMSk7IC8vIHdvcmtzcGFjZSAmIHBlcm11dGF0aW9uIHZlY3RvclxuXG4gICAgdmFyIHcgPSBbXTtcbiAgICB2YXIgcHYgPSBbXTsgLy8gbG9vcCByb3dzIGluIHJlc3VsdGluZyBtYXRyaXhcblxuICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAoaSwgcikge1xuICAgICAgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvclxuICAgICAgcHZbaV0gPSByWzBdOyAvLyBtYXJrIGkgaW4gd29ya3NwYWNlXG5cbiAgICAgIHdbaV0gPSB0cnVlO1xuICAgIH0pOyAvLyByZXN1bHQgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHZhbHVlcyA9IG12YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiByZXN1bHQgbWF0cml4XG5cbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIHB0ci5wdXNoKGluZGV4Lmxlbmd0aCk7IC8vIGxvb3AgdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAoayA9IG1wdHJbal0sIGtrID0gbXB0cltqICsgMV07IGsgPCBrazsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gbWluZGV4W2tdOyAvLyBjaGVjayByb3cgaXMgaW4gcmVzdWx0IG1hdHJpeFxuXG4gICAgICAgIGlmICh3W2ldID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleFxuICAgICAgICAgIGluZGV4LnB1c2gocHZbaV0pOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChtdmFsdWVzW2tdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gdXBkYXRlIHB0clxuXG4gICAgcHRyLnB1c2goaW5kZXgubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBkYXRhdHlwZTogbWF0cml4Ll9kYXRhdHlwZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldHN1YnNldChtYXRyaXgsIGluZGV4LCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgfSAvLyBnZXQgaW5kZXggc2l6ZSBhbmQgY2hlY2sgd2hldGhlciB0aGUgaW5kZXggY29udGFpbnMgYSBzaW5nbGUgdmFsdWVcblxuXG4gICAgdmFyIGlTaXplID0gaW5kZXguc2l6ZSgpO1xuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7IC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4LCBhbmQgY29udmVydCBpdCBpbnRvIGFuIEFycmF5IGlmIG5lZWRlZFxuXG4gICAgdmFyIHNTaXplO1xuXG4gICAgaWYgKGlzTWF0cml4KHN1Ym1hdHJpeCkpIHtcbiAgICAgIC8vIHN1Ym1hdHJpeCBzaXplXG4gICAgICBzU2l6ZSA9IHN1Ym1hdHJpeC5zaXplKCk7IC8vIHVzZSBhcnJheSByZXByZXNlbnRhdGlvblxuXG4gICAgICBzdWJtYXRyaXggPSBzdWJtYXRyaXgudG9BcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBnZXQgc3VibWF0cml4IHNpemUgKGFycmF5LCBzY2FsYXIpXG4gICAgICBzU2l6ZSA9IGFycmF5U2l6ZShzdWJtYXRyaXgpO1xuICAgIH0gLy8gY2hlY2sgaW5kZXggaXMgYSBzY2FsYXJcblxuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyB2ZXJpZnkgc3VibWF0cml4IGlzIGEgc2NhbGFyXG4gICAgICBpZiAoc1NpemUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NjYWxhciBleHBlY3RlZCcpO1xuICAgICAgfSAvLyBzZXQgdmFsdWVcblxuXG4gICAgICBtYXRyaXguc2V0KGluZGV4Lm1pbigpLCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnMsIGluZGV4IHNpemUgbXVzdCBiZSBvbmUgb3IgdHdvIGRpbWVuc2lvbnNcbiAgICAgIGlmIChpU2l6ZS5sZW5ndGggIT09IDEgJiYgaVNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9IC8vIGNoZWNrIHN1Ym1hdHJpeCBhbmQgaW5kZXggaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHNTaXplLmxlbmd0aCA8IGlTaXplLmxlbmd0aCkge1xuICAgICAgICAvLyBjYWxjdWxhdGUgbnVtYmVyIG9mIG1pc3Npbmcgb3V0ZXIgZGltZW5zaW9uc1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBvdXRlciA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxICYmIHNTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGlTaXplW2ldID09PSAxKSB7XG4gICAgICAgICAgb3V0ZXIrKztcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gLy8gdW5zcXVlZXplIGJvdGggb3V0ZXIgYW5kIGlubmVyIGRpbWVuc2lvbnNcblxuXG4gICAgICAgIHN1Ym1hdHJpeCA9IHVuc3F1ZWV6ZShzdWJtYXRyaXgsIGlTaXplLmxlbmd0aCwgb3V0ZXIsIHNTaXplKTtcbiAgICAgIH0gLy8gY2hlY2sgd2hldGhlciB0aGUgc2l6ZSBvZiB0aGUgc3VibWF0cml4IG1hdGNoZXMgdGhlIGluZGV4IHNpemVcblxuXG4gICAgICBpZiAoIWRlZXBTdHJpY3RFcXVhbChpU2l6ZSwgc1NpemUpKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZSwgc1NpemUsICc+Jyk7XG4gICAgICB9IC8vIG9mZnNldHNcblxuXG4gICAgICB2YXIgeDAgPSBpbmRleC5taW4oKVswXTtcbiAgICAgIHZhciB5MCA9IGluZGV4Lm1pbigpWzFdOyAvLyBzdWJtYXRyaXggcm93cyBhbmQgY29sdW1uc1xuXG4gICAgICB2YXIgbSA9IHNTaXplWzBdO1xuICAgICAgdmFyIG4gPSBzU2l6ZVsxXTsgLy8gbG9vcCBzdWJtYXRyaXhcblxuICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtOyB4KyspIHtcbiAgICAgICAgLy8gbG9vcCBjb2x1bW5zXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbjsgeSsrKSB7XG4gICAgICAgICAgLy8gdmFsdWUgYXQgaSwgalxuICAgICAgICAgIHZhciB2ID0gc3VibWF0cml4W3hdW3ldOyAvLyBpbnZva2Ugc2V0ICh6ZXJvIHZhbHVlIHdpbGwgcmVtb3ZlIGVudHJ5IGZyb20gbWF0cml4KVxuXG4gICAgICAgICAgbWF0cml4LnNldChbeCArIHgwLCB5ICsgeTBdLCB2LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGdldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIHJvdyBhbmQgY29sdW1uXG5cblxuICAgIHZhciBpID0gaW5kZXhbMF07XG4gICAgdmFyIGogPSBpbmRleFsxXTsgLy8gY2hlY2sgaSwgaiBhcmUgdmFsaWRcblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzFdKTsgLy8gZmluZCB2YWx1ZSBpbmRleFxuXG4gICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChpLCB0aGlzLl9wdHJbal0sIHRoaXMuX3B0cltqICsgMV0sIHRoaXMuX2luZGV4KTsgLy8gY2hlY2sgayBpcyBwcmlvciB0byBuZXh0IGNvbHVtbiBrIGFuZCBpdCBpcyBpbiB0aGUgY29ycmVjdCByb3dcblxuXG4gICAgaWYgKGsgPCB0aGlzLl9wdHJbaiArIDFdICYmIHRoaXMuX2luZGV4W2tdID09PSBpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWVzW2tdO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuICAvKipcbiAgICogUmVwbGFjZSBhIHNpbmdsZSBlbGVtZW50IGluIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIHNldCB0byB6ZXJvLlxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdiwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNldCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIHJvdyBhbmQgY29sdW1uXG5cblxuICAgIHZhciBpID0gaW5kZXhbMF07XG4gICAgdmFyIGogPSBpbmRleFsxXTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcodGhpcy5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW3RoaXMuX2RhdGF0eXBlLCB0aGlzLl9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgdGhpcy5fZGF0YXR5cGUpO1xuICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byByZXNpemUgbWF0cml4XG5cblxuICAgIGlmIChpID4gcm93cyAtIDEgfHwgaiA+IGNvbHVtbnMgLSAxKSB7XG4gICAgICAvLyByZXNpemUgbWF0cml4XG4gICAgICBfcmVzaXplKHRoaXMsIE1hdGgubWF4KGkgKyAxLCByb3dzKSwgTWF0aC5tYXgoaiArIDEsIGNvbHVtbnMpLCBkZWZhdWx0VmFsdWUpOyAvLyB1cGRhdGUgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgICByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICAgIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdO1xuICAgIH0gLy8gY2hlY2sgaSwgaiBhcmUgdmFsaWRcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCByb3dzKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIGNvbHVtbnMpOyAvLyBmaW5kIHZhbHVlIGluZGV4XG5cbiAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KGksIHRoaXMuX3B0cltqXSwgdGhpcy5fcHRyW2ogKyAxXSwgdGhpcy5faW5kZXgpOyAvLyBjaGVjayBrIGlzIHByaW9yIHRvIG5leHQgY29sdW1uIGsgYW5kIGl0IGlzIGluIHRoZSBjb3JyZWN0IHJvd1xuXG5cbiAgICBpZiAoayA8IHRoaXMuX3B0cltqICsgMV0gJiYgdGhpcy5faW5kZXhba10gPT09IGkpIHtcbiAgICAgIC8vIGNoZWNrIHZhbHVlICE9IDBcbiAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgIHRoaXMuX3ZhbHVlc1trXSA9IHY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZW1vdmUgdmFsdWUgZnJvbSBtYXRyaXhcbiAgICAgICAgX3JlbW92ZShrLCBqLCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnNlcnQgdmFsdWUgQCAoaSwgailcbiAgICAgIF9pbnNlcnQoaywgaSwgaiwgdiwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBmdW5jdGlvbiBfZ2V0VmFsdWVJbmRleChpLCB0b3AsIGJvdHRvbSwgaW5kZXgpIHtcbiAgICAvLyBjaGVjayByb3cgaXMgb24gdGhlIGJvdHRvbSBzaWRlXG4gICAgaWYgKGJvdHRvbSAtIHRvcCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJvdHRvbTtcbiAgICB9IC8vIGxvb3Agcm93cyBbdG9wLCBib3R0b21bXG5cblxuICAgIGZvciAodmFyIHIgPSB0b3A7IHIgPCBib3R0b207IHIrKykge1xuICAgICAgLy8gY2hlY2sgd2UgZm91bmQgdmFsdWUgaW5kZXhcbiAgICAgIGlmIChpbmRleFtyXSA9PT0gaSkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9IC8vIHdlIGRpZCBub3QgZmluZCByb3dcblxuXG4gICAgcmV0dXJuIHRvcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW1vdmUoaywgaiwgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gcmVtb3ZlIHZhbHVlIEAga1xuICAgIHZhbHVlcy5zcGxpY2UoaywgMSk7XG4gICAgaW5kZXguc3BsaWNlKGssIDEpOyAvLyB1cGRhdGUgcG9pbnRlcnNcblxuICAgIGZvciAodmFyIHggPSBqICsgMTsgeCA8IHB0ci5sZW5ndGg7IHgrKykge1xuICAgICAgcHRyW3hdLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2luc2VydChrLCBpLCBqLCB2LCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyBpbnNlcnQgdmFsdWVcbiAgICB2YWx1ZXMuc3BsaWNlKGssIDAsIHYpOyAvLyB1cGRhdGUgcm93IGZvciBrXG5cbiAgICBpbmRleC5zcGxpY2UoaywgMCwgaSk7IC8vIHVwZGF0ZSBjb2x1bW4gcG9pbnRlcnNcblxuICAgIGZvciAodmFyIHggPSBqICsgMTsgeCA8IHB0ci5sZW5ndGg7IHgrKykge1xuICAgICAgcHRyW3hdKys7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW10gfCBNYXRyaXh9IHNpemUgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50cyB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNpemVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaXplZCBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQ29sbGVjdGlvbihzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgb3IgTWF0cml4IGV4cGVjdGVkJyk7XG4gICAgfSAvLyBTcGFyc2VNYXRyaXggaW5wdXQgaXMgYWx3YXlzIDJkLCBmbGF0dGVuIHRoaXMgaW50byAxZCBpZiBpdCdzIGluZGVlZCBhIHZlY3RvclxuXG5cbiAgICB2YXIgc2l6ZUFycmF5ID0gc2l6ZS52YWx1ZU9mKCkubWFwKHZhbHVlID0+IHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgaWYgKHNpemVBcnJheS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gY2hlY2sgc2l6ZXNcblxuXG4gICAgc2l6ZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplQXJyYXkpICsgJyknKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gbWF0cml4IHRvIHJlc2l6ZVxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmVzaXplIG1hdHJpeFxuXG4gICAgcmV0dXJuIF9yZXNpemUobSwgc2l6ZUFycmF5WzBdLCBzaXplQXJyYXlbMV0sIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3Jlc2l6ZShtYXRyaXgsIHJvd3MsIGNvbHVtbnMsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIHZhbHVlIHRvIGluc2VydCBhdCB0aGUgdGltZSBvZiBncm93aW5nIG1hdHJpeFxuICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZSB8fCAwOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKG1hdHJpeC5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW21hdHJpeC5fZGF0YXR5cGUsIG1hdHJpeC5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIG1hdHJpeC5fZGF0YXR5cGUpOyAvLyBjb252ZXJ0IHZhbHVlIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHZhbHVlID0gdHlwZWQuY29udmVydCh2YWx1ZSwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfSAvLyBzaG91bGQgd2UgaW5zZXJ0IHRoZSB2YWx1ZT9cblxuXG4gICAgdmFyIGlucyA9ICFlcSh2YWx1ZSwgemVybyk7IC8vIG9sZCBjb2x1bW5zIGFuZCByb3dzXG5cbiAgICB2YXIgciA9IG1hdHJpeC5fc2l6ZVswXTtcbiAgICB2YXIgYyA9IG1hdHJpeC5fc2l6ZVsxXTtcbiAgICB2YXIgaSwgaiwgazsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbmNyZWFzZSBjb2x1bW5zXG5cbiAgICBpZiAoY29sdW1ucyA+IGMpIHtcbiAgICAgIC8vIGxvb3AgbmV3IGNvbHVtbnNcbiAgICAgIGZvciAoaiA9IGM7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbnNlcnQgbWF0cml4Ll92YWx1ZXNcblxuICAgICAgICBpZiAoaW5zKSB7XG4gICAgICAgICAgLy8gbG9vcCByb3dzXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IHI7IGkrKykge1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBtYXRyaXguX3ZhbHVlc1xuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaCh2YWx1ZSk7IC8vIHVwZGF0ZSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgbWF0cml4Ll92YWx1ZXMgaW4gbWF0cml4Ll9wdHJcblxuXG4gICAgICBtYXRyaXguX3B0cltjb2x1bW5zXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGNvbHVtbnMgPCBjKSB7XG4gICAgICAvLyB0cnVuY2F0ZSBtYXRyaXguX3B0clxuICAgICAgbWF0cml4Ll9wdHIuc3BsaWNlKGNvbHVtbnMgKyAxLCBjIC0gY29sdW1ucyk7IC8vIHRydW5jYXRlIG1hdHJpeC5fdmFsdWVzIGFuZCBtYXRyaXguX2luZGV4XG5cblxuICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKG1hdHJpeC5fcHRyW2NvbHVtbnNdLCBtYXRyaXguX3ZhbHVlcy5sZW5ndGgpO1xuXG4gICAgICBtYXRyaXguX2luZGV4LnNwbGljZShtYXRyaXguX3B0cltjb2x1bW5zXSwgbWF0cml4Ll9pbmRleC5sZW5ndGgpO1xuICAgIH0gLy8gdXBkYXRlIGNvbHVtbnNcblxuXG4gICAgYyA9IGNvbHVtbnM7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5jcmVhc2Ugcm93c1xuXG4gICAgaWYgKHJvd3MgPiByKSB7XG4gICAgICAvLyBjaGVjayB3ZSBoYXZlIHRvIGluc2VydCB2YWx1ZXNcbiAgICAgIGlmIChpbnMpIHtcbiAgICAgICAgLy8gaW5zZXJ0c1xuICAgICAgICB2YXIgbiA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjOyBqKyspIHtcbiAgICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3B0cltqXSArIG47IC8vIHdoZXJlIHRvIGluc2VydCBtYXRyaXguX3ZhbHVlc1xuXG4gICAgICAgICAgayA9IG1hdHJpeC5fcHRyW2ogKyAxXSArIG47IC8vIHBvaW50ZXJcblxuICAgICAgICAgIHZhciBwID0gMDsgLy8gbG9vcCBuZXcgcm93cywgaW5pdGlhbGl6ZSBwb2ludGVyXG5cbiAgICAgICAgICBmb3IgKGkgPSByOyBpIDwgcm93czsgaSsrLCBwKyspIHtcbiAgICAgICAgICAgIC8vIGFkZCB2YWx1ZVxuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKGsgKyBwLCAwLCB2YWx1ZSk7IC8vIHVwZGF0ZSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UoayArIHAsIDAsIGkpOyAvLyBpbmNyZW1lbnQgaW5zZXJ0c1xuXG5cbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIG1hdHJpeC5fdmFsdWVzIGluIG1hdHJpeC5fcHRyXG5cblxuICAgICAgICBtYXRyaXguX3B0cltjXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJvd3MgPCByKSB7XG4gICAgICAvLyBkZWxldGVzXG4gICAgICB2YXIgZCA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgYzsgaisrKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3B0cltqXSAtIGQ7IC8vIHdoZXJlIG1hdHJpeC5fdmFsdWVzIHN0YXJ0IGZvciBuZXh0IGNvbHVtblxuXG4gICAgICAgIHZhciBrMCA9IG1hdHJpeC5fcHRyW2pdO1xuICAgICAgICB2YXIgazEgPSBtYXRyaXguX3B0cltqICsgMV0gLSBkOyAvLyBsb29wIG1hdHJpeC5faW5kZXhcblxuICAgICAgICBmb3IgKGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gbWF0cml4Ll9pbmRleFtrXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBkZWxldGUgdmFsdWUgYW5kIG1hdHJpeC5faW5kZXhcblxuICAgICAgICAgIGlmIChpID4gcm93cyAtIDEpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB2YWx1ZVxuICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMuc3BsaWNlKGssIDEpOyAvLyByZW1vdmUgaXRlbSBmcm9tIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnNwbGljZShrLCAxKTsgLy8gaW5jcmVhc2UgZGVsZXRlc1xuXG5cbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuXG5cbiAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgIH0gLy8gdXBkYXRlIG1hdHJpeC5fc2l6ZVxuXG5cbiAgICBtYXRyaXguX3NpemVbMF0gPSByb3dzO1xuICAgIG1hdHJpeC5fc2l6ZVsxXSA9IGNvbHVtbnM7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogTk9URTogVGhpcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvIGNvcHkgYnkgZGVmYXVsdCwgaW5zdGVhZCBvZiBtb2RpZnlpbmdcbiAgICogICAgICAgaW4gcGxhY2UuIEZvciBub3csIGl0IG9wZXJhdGVzIGluIHBsYWNlIHRvIHJlbWFpbiBjb25zaXN0ZW50IHdpdGhcbiAgICogICAgICAgcmVzaXplKCkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NwYXJzZSBtYXRyaWNlcyBjYW4gb25seSBiZSByZXNoYXBlZCBpbiB0d28gZGltZW5zaW9ucycpO1xuICAgIH0gLy8gY2hlY2sgc2l6ZXNcblxuXG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0pOyAvLyBtICogbiBtdXN0IG5vdCBjaGFuZ2VcblxuICAgIGlmICh0aGlzLl9zaXplWzBdICogdGhpcy5fc2l6ZVsxXSAhPT0gc2l6ZVswXSAqIHNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVzaGFwaW5nIHNwYXJzZSBtYXRyaXggd2lsbCByZXN1bHQgaW4gdGhlIHdyb25nIG51bWJlciBvZiBlbGVtZW50cycpO1xuICAgIH0gLy8gbWF0cml4IHRvIHJlc2hhcGVcblxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmV0dXJuIHVuY2hhbmdlZCBpZiB0aGUgc2FtZSBzaGFwZVxuXG4gICAgaWYgKHRoaXMuX3NpemVbMF0gPT09IHNpemVbMF0gJiYgdGhpcy5fc2l6ZVsxXSA9PT0gc2l6ZVsxXSkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSAvLyBDb252ZXJ0IHRvIENPTyBmb3JtYXQgKGdlbmVyYXRlIGEgY29sdW1uIGluZGV4KVxuXG5cbiAgICB2YXIgY29sSW5kZXggPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5fcHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG0uX3B0cltpICsgMV0gLSBtLl9wdHJbaV07IGorKykge1xuICAgICAgICBjb2xJbmRleC5wdXNoKGkpO1xuICAgICAgfVxuICAgIH0gLy8gQ2xvbmUgdGhlIHZhbHVlcyBhcnJheVxuXG5cbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzLnNsaWNlKCk7IC8vIENsb25lIHRoZSByb3cgaW5kZXggYXJyYXlcblxuXG4gICAgdmFyIHJvd0luZGV4ID0gbS5faW5kZXguc2xpY2UoKTsgLy8gVHJhbnNmb3JtIHRoZSAocm93LCBjb2x1bW4pIGluZGljZXNcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG0uX2luZGV4Lmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIHIxID0gcm93SW5kZXhbX2ldO1xuICAgICAgdmFyIGMxID0gY29sSW5kZXhbX2ldO1xuICAgICAgdmFyIGZsYXQgPSByMSAqIG0uX3NpemVbMV0gKyBjMTtcbiAgICAgIGNvbEluZGV4W19pXSA9IGZsYXQgJSBzaXplWzFdO1xuICAgICAgcm93SW5kZXhbX2ldID0gTWF0aC5mbG9vcihmbGF0IC8gc2l6ZVsxXSk7XG4gICAgfSAvLyBOb3cgcmVzaGFwaW5nIGlzIHN1cHBvc2VkIHRvIHByZXNlcnZlIHRoZSByb3ctbWFqb3Igb3JkZXIsIEJVVCB0aGVzZSBzcGFyc2UgbWF0cmljZXMgYXJlIHN0b3JlZFxuICAgIC8vIGluIGNvbHVtbi1tYWpvciBvcmRlciwgc28gd2UgaGF2ZSB0byByZW9yZGVyIHRoZSB2YWx1ZSBhcnJheSBub3cuIE9uZSBvcHRpb24gaXMgdG8gdXNlIGEgbXVsdGlzb3J0LFxuICAgIC8vIHNvcnRpbmcgc2V2ZXJhbCBhcnJheXMgYmFzZWQgb24gc29tZSBvdGhlciBhcnJheS5cbiAgICAvLyBPUiwgd2UgY291bGQgZWFzaWx5IGp1c3Q6XG4gICAgLy8gMS4gUmVtb3ZlIGFsbCB2YWx1ZXMgZnJvbSB0aGUgbWF0cml4XG5cblxuICAgIG0uX3ZhbHVlcy5sZW5ndGggPSAwO1xuICAgIG0uX2luZGV4Lmxlbmd0aCA9IDA7XG4gICAgbS5fcHRyLmxlbmd0aCA9IHNpemVbMV0gKyAxO1xuICAgIG0uX3NpemUgPSBzaXplLnNsaWNlKCk7XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBtLl9wdHIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgbS5fcHRyW19pMl0gPSAwO1xuICAgIH0gLy8gMi4gUmUtaW5zZXJ0IGFsbCBlbGVtZW50cyBpbiB0aGUgcHJvcGVyIG9yZGVyIChzaW1wbGlmaWVkIGNvZGUgZnJvbSBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNldClcbiAgICAvLyBUaGlzIHN0ZXAgaXMgcHJvYmFibHkgdGhlIG1vc3QgdGltZS1jb25zdW1pbmdcblxuXG4gICAgZm9yICh2YXIgaCA9IDA7IGggPCB2YWx1ZXMubGVuZ3RoOyBoKyspIHtcbiAgICAgIHZhciBfaTMgPSByb3dJbmRleFtoXTtcbiAgICAgIHZhciBfaiA9IGNvbEluZGV4W2hdO1xuICAgICAgdmFyIHYgPSB2YWx1ZXNbaF07XG5cbiAgICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoX2kzLCBtLl9wdHJbX2pdLCBtLl9wdHJbX2ogKyAxXSwgbS5faW5kZXgpO1xuXG4gICAgICBfaW5zZXJ0KGssIF9pMywgX2osIHYsIG0uX3ZhbHVlcywgbS5faW5kZXgsIG0uX3B0cik7XG4gICAgfSAvLyBUaGUgdmFsdWUgaW5kaWNlcyBhcmUgaW5zZXJ0ZWQgb3V0IG9mIG9yZGVyLCBidXQgYXBwYXJlbnRseSB0aGF0J3MuLi4gc3RpbGwgT0s/XG5cblxuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtID0gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyA/IGNsb25lKHRoaXMuX3ZhbHVlcykgOiB1bmRlZmluZWQsXG4gICAgICBpbmRleDogY2xvbmUodGhpcy5faW5kZXgpLFxuICAgICAgcHRyOiBjbG9uZSh0aGlzLl9wdHIpLFxuICAgICAgc2l6ZTogY2xvbmUodGhpcy5fc2l6ZSksXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplLnNsaWNlKDApOyAvLyBjb3B5IHRoZSBBcnJheVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqXG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIG1hcCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIG1hdHJpeCBpbnN0YW5jZVxuXG5cbiAgICB2YXIgbWUgPSB0aGlzOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgIHZhciBpbnZva2UgPSBmdW5jdGlvbiBpbnZva2UodiwgaSwgaikge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICByZXR1cm4gY2FsbGJhY2sodiwgW2ksIGpdLCBtZSk7XG4gICAgfTsgLy8gaW52b2tlIF9tYXBcblxuXG4gICAgcmV0dXJuIF9tYXAodGhpcywgMCwgcm93cyAtIDEsIDAsIGNvbHVtbnMgLSAxLCBpbnZva2UsIHNraXBaZXJvcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uIHRoZSBpbnRlcnZhbFxuICAgKiBbbWluUm93Li5tYXhSb3csIG1pbkNvbHVtbi4ubWF4Q29sdW1uXS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBfbWFwKG1hdHJpeCwgbWluUm93LCBtYXhSb3csIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gcmVzdWx0IGFycmF5c1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcobWF0cml4Ll9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbbWF0cml4Ll9kYXRhdHlwZSwgbWF0cml4Ll9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfSAvLyBpbnZva2UgY2FsbGJhY2tcblxuXG4gICAgdmFyIGludm9rZSA9IGZ1bmN0aW9uIGludm9rZSh2LCB4LCB5KSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIHYgPSBjYWxsYmFjayh2LCB4LCB5KTsgLy8gY2hlY2sgdmFsdWUgIT0gMFxuXG4gICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgIHZhbHVlcy5wdXNoKHYpOyAvLyBpbmRleFxuXG4gICAgICAgIGluZGV4LnB1c2goeCk7XG4gICAgICB9XG4gICAgfTsgLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAodmFyIGogPSBtaW5Db2x1bW47IGogPD0gbWF4Q29sdW1uOyBqKyspIHtcbiAgICAgIC8vIHN0b3JlIHBvaW50ZXIgdG8gdmFsdWVzIGluZGV4XG4gICAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuXG4gICAgICB2YXIgazAgPSBtYXRyaXguX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IG1hdHJpeC5fcHRyW2ogKyAxXTtcblxuICAgICAgaWYgKHNraXBaZXJvcykge1xuICAgICAgICAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG4gICAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgICB2YXIgaSA9IG1hdHJpeC5faW5kZXhba107IC8vIGNoZWNrIGkgaXMgaW4gcmFuZ2VcblxuICAgICAgICAgIGlmIChpID49IG1pblJvdyAmJiBpIDw9IG1heFJvdykge1xuICAgICAgICAgICAgLy8gdmFsdWUgQCBrXG4gICAgICAgICAgICBpbnZva2UobWF0cml4Ll92YWx1ZXNba10sIGkgLSBtaW5Sb3csIGogLSBtaW5Db2x1bW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FjaGUgaG9sZGluZyBhbGwgZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgdmFyIF92YWx1ZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBfayA9IGswOyBfayA8IGsxOyBfaysrKSB7XG4gICAgICAgICAgdmFyIF9pNCA9IG1hdHJpeC5faW5kZXhbX2tdO1xuICAgICAgICAgIF92YWx1ZXNbX2k0XSA9IG1hdHJpeC5fdmFsdWVzW19rXTtcbiAgICAgICAgfSAvLyBsb29wIG92ZXIgYWxsIHJvd3MgKGluZGV4ZXMgY2FuIGJlIHVub3JkZXJlZCBzbyB3ZSBjYW4ndCB1c2UgdGhhdCksXG4gICAgICAgIC8vIGFuZCBlaXRoZXIgcmVhZCB0aGUgdmFsdWUgb3IgemVyb1xuXG5cbiAgICAgICAgZm9yICh2YXIgX2k1ID0gbWluUm93OyBfaTUgPD0gbWF4Um93OyBfaTUrKykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF9pNSBpbiBfdmFsdWVzID8gX3ZhbHVlc1tfaTVdIDogMDtcbiAgICAgICAgICBpbnZva2UodmFsdWUsIF9pNSAtIG1pblJvdywgaiAtIG1pbkNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHN0b3JlIG51bWJlciBvZiB2YWx1ZXMgaW4gcHRyXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFttYXhSb3cgLSBtaW5Sb3cgKyAxLCBtYXhDb2x1bW4gLSBtaW5Db2x1bW4gKyAxXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZm9yRWFjaCBvbiBhIFBhdHRlcm4gb25seSBtYXRyaXgnKTtcbiAgICB9IC8vIG1hdHJpeCBpbnN0YW5jZVxuXG5cbiAgICB2YXIgbWUgPSB0aGlzOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdO1xuXG4gICAgICBpZiAoc2tpcFplcm9zKSB7XG4gICAgICAgIC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcbiAgICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhba107IC8vIHZhbHVlIEAga1xuXG4gICAgICAgICAgY2FsbGJhY2sodGhpcy5fdmFsdWVzW2tdLCBbaSwgal0sIG1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FjaGUgaG9sZGluZyBhbGwgZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgdmFyIHZhbHVlcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIF9rMiA9IGswOyBfazIgPCBrMTsgX2syKyspIHtcbiAgICAgICAgICB2YXIgX2k2ID0gdGhpcy5faW5kZXhbX2syXTtcbiAgICAgICAgICB2YWx1ZXNbX2k2XSA9IHRoaXMuX3ZhbHVlc1tfazJdO1xuICAgICAgICB9IC8vIGxvb3Agb3ZlciBhbGwgcm93cyAoaW5kZXhlcyBjYW4gYmUgdW5vcmRlcmVkIHNvIHdlIGNhbid0IHVzZSB0aGF0KSxcbiAgICAgICAgLy8gYW5kIGVpdGhlciByZWFkIHRoZSB2YWx1ZSBvciB6ZXJvXG5cblxuICAgICAgICBmb3IgKHZhciBfaTcgPSAwOyBfaTcgPCByb3dzOyBfaTcrKykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF9pNyBpbiB2YWx1ZXMgPyB2YWx1ZXNbX2k3XSA6IDA7XG4gICAgICAgICAgY2FsbGJhY2sodmFsdWUsIFtfaTcsIGpdLCBtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIFNwYXJzZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90b0FycmF5KHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0ciwgdGhpcy5fc2l6ZSwgdHJ1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgU3BhcnNlTWF0cml4OiBhIHR3byBkaW1lbnNpb25zIGFycmF5XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RvQXJyYXkodGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyLCB0aGlzLl9zaXplLCBmYWxzZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3RvQXJyYXkodmFsdWVzLCBpbmRleCwgcHRyLCBzaXplLCBjb3B5KSB7XG4gICAgLy8gcm93cyBhbmQgY29sdW1uc1xuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIHJlc3VsdFxuXG4gICAgdmFyIGEgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGo7IC8vIGluaXRpYWxpemUgYXJyYXlcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGFbaV0gPSBbXTtcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgICBhW2ldW2pdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIGkgPSBpbmRleFtrXTsgLy8gc2V0IHZhbHVlICh1c2Ugb25lIGZvciBwYXR0ZXJuIG1hdHJpeClcblxuICAgICAgICBhW2ldW2pdID0gdmFsdWVzID8gY29weSA/IGNsb25lKHZhbHVlc1trXSkgOiB2YWx1ZXNba10gOiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyByb3dzIGFuZCBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gZGVuc2l0eVxuXG4gICAgdmFyIGRlbnNpdHkgPSB0aGlzLmRlbnNpdHkoKTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBzdHIgPSAnU3BhcnNlIE1hdHJpeCBbJyArIGZvcm1hdChyb3dzLCBvcHRpb25zKSArICcgeCAnICsgZm9ybWF0KGNvbHVtbnMsIG9wdGlvbnMpICsgJ10gZGVuc2l0eTogJyArIGZvcm1hdChkZW5zaXR5LCBvcHRpb25zKSArICdcXG4nOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdOyAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhba107IC8vIGFwcGVuZCB2YWx1ZVxuXG4gICAgICAgIHN0ciArPSAnXFxuICAgICgnICsgZm9ybWF0KGksIG9wdGlvbnMpICsgJywgJyArIGZvcm1hdChqLCBvcHRpb25zKSArICcpID09PiAnICsgKHRoaXMuX3ZhbHVlcyA/IGZvcm1hdCh0aGlzLl92YWx1ZXNba10sIG9wdGlvbnMpIDogJ1gnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy50b0FycmF5KCkpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnU3BhcnNlTWF0cml4JyxcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzLFxuICAgICAgaW5kZXg6IHRoaXMuX2luZGV4LFxuICAgICAgcHRyOiB0aGlzLl9wdHIsXG4gICAgICBzaXplOiB0aGlzLl9zaXplLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUga3RoIE1hdHJpeCBkaWFnb25hbC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIHJldHJpZXZlZC5cbiAgICpcbiAgICogQHJldHVybnMge01hdHJpeH0gICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHZlY3RvciB3aXRoIHRoZSBkaWFnb25hbCB2YWx1ZXMuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kaWFnb25hbCA9IGZ1bmN0aW9uIChrKSB7XG4gICAgLy8gdmFsaWRhdGUgayBpZiBhbnlcbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIG51bWJlciBkaWFnb25hbCB2YWx1ZXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyBkaWFnb25hbCBhcnJheXNcblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGluaXRpYWwgcHRyIHZhbHVlXG5cbiAgICBwdHJbMF0gPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSBrU3VwZXI7IGogPCBjb2x1bW5zICYmIHZhbHVlcy5sZW5ndGggPCBuOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07IC8vIGxvb3AgeCB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgeCA9IGswOyB4IDwgazE7IHgrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFt4XTsgLy8gY2hlY2sgcm93XG5cbiAgICAgICAgaWYgKGkgPT09IGogLSBrU3VwZXIgKyBrU3ViKSB7XG4gICAgICAgICAgLy8gdmFsdWUgb24gdGhpcyBjb2x1bW5cbiAgICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLl92YWx1ZXNbeF0pOyAvLyBzdG9yZSByb3dcblxuICAgICAgICAgIGluZGV4W3ZhbHVlcy5sZW5ndGggLSAxXSA9IGkgLSBrU3ViOyAvLyBleGl0IGxvb3BcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBjbG9zZSBwdHJcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbbiwgMV1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbWF0cml4IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3BhcnNlTWF0cml4XCIsIFwidmFsdWVzXCI6IFtdLCBcImluZGV4XCI6IFtdLCBcInB0clwiOiBbXSwgXCJzaXplXCI6IFtdfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1NwYXJzZU1hdHJpeH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGpzb24pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGlhZ29uYWwgbWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemUgICAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggc2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBBcnJheSB8IE1hdHJpeCB9IHZhbHVlICAgVGhlIHZhbHVlcyBmb3IgdGhlIGRpYWdvbmFsLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBub24tZGlhZ29uYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV0gICAgICAgICAgICAgICAgVGhlIE1hdHJpeCBkYXRhdHlwZSwgdmFsdWVzIG11c3QgYmUgb2YgdGhpcyBkYXRhdHlwZS5cbiAgICpcbiAgICogQHJldHVybnMge1NwYXJzZU1hdHJpeH1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguZGlhZ29uYWwgPSBmdW5jdGlvbiAoc2l6ZSwgdmFsdWUsIGssIGRlZmF1bHRWYWx1ZSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoIWlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkLCBzaXplIHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBtYXAgc2l6ZSAmIHZhbGlkYXRlXG5cblxuICAgIHNpemUgPSBzaXplLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgYSBiaWcgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIocykpIHtcbiAgICAgICAgLy8gY29udmVydCBpdFxuICAgICAgICBzID0gcy50b051bWJlcigpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKHMpIHx8ICFpc0ludGVnZXIocykgfHwgcyA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXplIHZhbHVlcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzO1xuICAgIH0pOyAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuXG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH0gLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkYXRhdHlwZSwgZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyBudW1iZXIgb2Ygbm9uLXplcm8gaXRlbXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB2YWx1ZSBleHRyYWN0aW9uIGZ1bmN0aW9uXG5cbiAgICB2YXIgX3ZhbHVlOyAvLyBjaGVjayB2YWx1ZVxuXG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIHZhbGlkYXRlIGFycmF5XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBhcnJheSBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWVbaV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNNYXRyaXgodmFsdWUpKSB7XG4gICAgICAvLyBtYXRyaXggc2l6ZVxuICAgICAgdmFyIG1zID0gdmFsdWUuc2l6ZSgpOyAvLyB2YWxpZGF0ZSBtYXRyaXhcblxuICAgICAgaWYgKG1zLmxlbmd0aCAhPT0gMSB8fCBtc1swXSAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWF0cml4IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZS5nZXQoW2ldKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmluZSBmdW5jdGlvblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKCkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWVcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IC8vIGNyZWF0ZSBhcnJheXNcblxuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gbG9vcCBpdGVtc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIG51bWJlciBvZiByb3dzIHdpdGggdmFsdWVcbiAgICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBkaWFnb25hbCBpbmRleFxuXG4gICAgICB2YXIgaSA9IGogLSBrU3VwZXI7IC8vIGNoZWNrIHdlIG5lZWQgdG8gc2V0IGRpYWdvbmFsIHZhbHVlXG5cbiAgICAgIGlmIChpID49IDAgJiYgaSA8IG4pIHtcbiAgICAgICAgLy8gZ2V0IHZhbHVlIEAgaVxuICAgICAgICB2YXIgdiA9IF92YWx1ZShpKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuXG4gICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAvLyBjb2x1bW5cbiAgICAgICAgICBpbmRleC5wdXNoKGkgKyBrU3ViKTsgLy8gYWRkIHZhbHVlXG5cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbGFzdCB2YWx1ZSBzaG91bGQgYmUgbnVtYmVyIG9mIHZhbHVlc1xuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gY3JlYXRlIFNwYXJzZU1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIGkgYW5kIGogaW4gTWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgVGhlIG1hdHJpeCByZWZlcmVuY2VcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN3YXBSb3dzID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaXNOdW1iZXIoaSkgfHwgIWlzSW50ZWdlcihpKSB8fCAhaXNOdW1iZXIoaikgfHwgIWlzSW50ZWdlcihqKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3cgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH0gLy8gY2hlY2sgZGltZW5zaW9uc1xuXG5cbiAgICBpZiAodGhpcy5fc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9uYWwgbWF0cml4IGlzIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5kZXhcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMF0pOyAvLyBzd2FwIHJvd3NcblxuICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaSwgaiwgdGhpcy5fc2l6ZVsxXSwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTsgLy8gcmV0dXJuIGN1cnJlbnQgaW5zdGFuY2VcblxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBMb29wIHJvd3Mgd2l0aCBkYXRhIGluIGNvbHVtbiBqLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICAgICAgIENvbHVtblxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgICAgICAgIE1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIHtBcnJheX0gaW5kZXggICAgICAgICBNYXRyaXggcm93IGluZGVjZXNcbiAgICogQHBhcmFtIHtBcnJheX0gcHRyICAgICAgICAgICBNYXRyaXggY29sdW1uIHBvaW50ZXJzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBmb3IgZXZlcnkgcm93IGluIGNvbHVtbiBqXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4Ll9mb3JFYWNoUm93ID0gZnVuY3Rpb24gKGosIHZhbHVlcywgaW5kZXgsIHB0ciwgY2FsbGJhY2spIHtcbiAgICAvLyBpbmRlY2VzIGZvciBjb2x1bW4galxuICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBsb29wXG5cbiAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIGNhbGxiYWNrKGluZGV4W2tdLCB2YWx1ZXNba10pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyB4IGFuZCB5IGluIFNwYXJzZSBNYXRyaXggZGF0YSBzdHJ1Y3R1cmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAgICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1ucyAgIE51bWJlciBvZiBjb2x1bW5zIGluIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgICAgIE1hdHJpeCB2YWx1ZXNcbiAgICogQHBhcmFtIHtBcnJheX0gaW5kZXggICAgICBNYXRyaXggcm93IGluZGVjZXNcbiAgICogQHBhcmFtIHtBcnJheX0gcHRyICAgICAgICBNYXRyaXggY29sdW1uIHBvaW50ZXJzXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyA9IGZ1bmN0aW9uICh4LCB5LCBjb2x1bW5zLCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyBsb29wIGNvbHVtbnNcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gZmluZCB2YWx1ZSBpbmRleCBAIHhcblxuICAgICAgdmFyIGt4ID0gX2dldFZhbHVlSW5kZXgoeCwgazAsIGsxLCBpbmRleCk7IC8vIGZpbmQgdmFsdWUgaW5kZXggQCB4XG5cblxuICAgICAgdmFyIGt5ID0gX2dldFZhbHVlSW5kZXgoeSwgazAsIGsxLCBpbmRleCk7IC8vIGNoZWNrIGJvdGggcm93cyBleGlzdCBpbiBtYXRyaXhcblxuXG4gICAgICBpZiAoa3ggPCBrMSAmJiBreSA8IGsxICYmIGluZGV4W2t4XSA9PT0geCAmJiBpbmRleFtreV0gPT09IHkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhciB2ID0gdmFsdWVzW2t4XTtcbiAgICAgICAgICB2YWx1ZXNba3hdID0gdmFsdWVzW2t5XTtcbiAgICAgICAgICB2YWx1ZXNba3ldID0gdjtcbiAgICAgICAgfSAvLyBuZXh0IGNvbHVtblxuXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIHggcm93IGV4aXN0ICYgbm8geSByb3dcblxuXG4gICAgICBpZiAoa3ggPCBrMSAmJiBpbmRleFtreF0gPT09IHggJiYgKGt5ID49IGsxIHx8IGluZGV4W2t5XSAhPT0geSkpIHtcbiAgICAgICAgLy8gdmFsdWUgQCB4IChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIHZhciB2eCA9IHZhbHVlcyA/IHZhbHVlc1treF0gOiB1bmRlZmluZWQ7IC8vIGluc2VydCB2YWx1ZSBAIHlcblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3ksIDAsIHkpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt5LCAwLCB2eCk7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHZhbHVlIEAgeCAoYWRqdXN0IGFycmF5IGluZGV4IGlmIG5lZWRlZClcblxuXG4gICAgICAgIGluZGV4LnNwbGljZShreSA8PSBreCA/IGt4ICsgMSA6IGt4LCAxKTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreSA8PSBreCA/IGt4ICsgMSA6IGt4LCAxKTtcbiAgICAgICAgfSAvLyBuZXh0IGNvbHVtblxuXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIHkgcm93IGV4aXN0ICYgbm8geCByb3dcblxuXG4gICAgICBpZiAoa3kgPCBrMSAmJiBpbmRleFtreV0gPT09IHkgJiYgKGt4ID49IGsxIHx8IGluZGV4W2t4XSAhPT0geCkpIHtcbiAgICAgICAgLy8gdmFsdWUgQCB5IChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIHZhciB2eSA9IHZhbHVlcyA/IHZhbHVlc1treV0gOiB1bmRlZmluZWQ7IC8vIGluc2VydCB2YWx1ZSBAIHhcblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3gsIDAsIHgpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt4LCAwLCB2eSk7XG4gICAgICAgIH0gLy8gcmVtb3ZlIHZhbHVlIEAgeSAoYWRqdXN0IGFycmF5IGluZGV4IGlmIG5lZWRlZClcblxuXG4gICAgICAgIGluZGV4LnNwbGljZShreCA8PSBreSA/IGt5ICsgMSA6IGt5LCAxKTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreCA8PSBreSA/IGt5ICsgMSA6IGt5LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3BhcnNlTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdudW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG51bWJlciBvciBjb252ZXJ0IGEgc3RyaW5nLCBib29sZWFuLCBvciB1bml0IHRvIGEgbnVtYmVyLlxuICAgKiBXaGVuIHZhbHVlIGlzIGEgbWF0cml4LCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gbnVtYmVyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubnVtYmVyKHZhbHVlKVxuICAgKiAgICBtYXRoLm51bWJlcih1bml0LCB2YWx1ZWxlc3NVbml0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5udW1iZXIoMikgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMlxuICAgKiAgICBtYXRoLm51bWJlcignNy4yJykgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA3LjJcbiAgICogICAgbWF0aC5udW1iZXIodHJ1ZSkgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMVxuICAgKiAgICBtYXRoLm51bWJlcihbdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWVdKSAvLyByZXR1cm5zIFsxLCAwLCAxLCAxXVxuICAgKiAgICBtYXRoLm51bWJlcihtYXRoLnVuaXQoJzUyY20nKSwgJ20nKSAgICAvLyByZXR1cm5zIDAuNTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQXJyYXkgfCBNYXRyaXggfCBVbml0IHwgbnVsbH0gW3ZhbHVlXSAgVmFsdWUgdG8gYmUgY29udmVydGVkXG4gICAqIEBwYXJhbSB7VW5pdCB8IHN0cmluZ30gW3ZhbHVlbGVzc1VuaXRdIEEgdmFsdWVsZXNzIHVuaXQsIHVzZWQgdG8gY29udmVydCBhIHVuaXQgdG8gYSBudW1iZXJcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQXJyYXkgfCBNYXRyaXh9IFRoZSBjcmVhdGVkIG51bWJlclxuICAgKi9cbiAgdmFyIG51bWJlciA9IHR5cGVkKCdudW1iZXInLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgaWYgKHggPT09ICdOYU4nKSByZXR1cm4gTmFOO1xuICAgICAgdmFyIG51bSA9IE51bWJlcih4KTtcblxuICAgICAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdTdHJpbmcgXCInICsgeCArICdcIiBpcyBubyB2YWxpZCBudW1iZXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFsnMGInLCAnMG8nLCAnMHgnXS5pbmNsdWRlcyh4LnN1YnN0cmluZygwLCAyKSkpIHtcbiAgICAgICAgaWYgKG51bSA+IDIgKiogMzIgLSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiU3RyaW5nIFxcXCJcIi5jb25jYXQoeCwgXCJcXFwiIGlzIG91dCBvZiByYW5nZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobnVtICYgMHg4MDAwMDAwMCkge1xuICAgICAgICAgIG51bSA9IC0xICogfihudW0gLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgudG9OdW1iZXIoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2Vjb25kIGFyZ3VtZW50IHdpdGggdmFsdWVsZXNzIHVuaXQgZXhwZWN0ZWQnKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgJ1VuaXQsIHN0cmluZyB8IFVuaXQnOiBmdW5jdGlvbiBVbml0U3RyaW5nVW5pdCh1bml0LCB2YWx1ZWxlc3NVbml0KSB7XG4gICAgICByZXR1cm4gdW5pdC50b051bWJlcih2YWx1ZWxlc3NVbml0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7IC8vIHJldml2ZXIgZnVuY3Rpb24gdG8gcGFyc2UgYSBKU09OIG9iamVjdCBsaWtlOlxuICAvL1xuICAvLyAgICAge1wibWF0aGpzXCI6XCJudW1iZXJcIixcInZhbHVlXCI6XCIyLjNcIn1cbiAgLy9cbiAgLy8gaW50byBhIG51bWJlciAyLjNcblxuICBudW1iZXIuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KGpzb24udmFsdWUpO1xuICB9O1xuXG4gIHJldHVybiBudW1iZXI7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdiaWdudW1iZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnQmlnTnVtYmVyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUJpZ251bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIEJpZ051bWJlclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgQmlnTnVtYmVyLCB3aGljaCBjYW4gc3RvcmUgbnVtYmVycyB3aXRoIGFyYml0cmFyeSBwcmVjaXNpb24uXG4gICAqIFdoZW4gYSBtYXRyaXggaXMgcHJvdmlkZWQsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBCaWdOdW1iZXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5iaWdudW1iZXIoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIDAuMSArIDAuMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAwLjMwMDAwMDAwMDAwMDAwMDA0XG4gICAqICAgIG1hdGguYmlnbnVtYmVyKDAuMSkgKyBtYXRoLmJpZ251bWJlcigwLjIpICAvLyByZXR1cm5zIEJpZ051bWJlciAwLjNcbiAgICpcbiAgICpcbiAgICogICAgNy4yZTUwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIEluZmluaXR5XG4gICAqICAgIG1hdGguYmlnbnVtYmVyKCc3LjJlNTAwJykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIEJpZ051bWJlciA3LjJlNTAwXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmcgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IEFycmF5IHwgTWF0cml4IHwgYm9vbGVhbiB8IG51bGx9IFt2YWx1ZV0gIFZhbHVlIGZvciB0aGUgYmlnIG51bWJlcixcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCBieSBkZWZhdWx0LlxuICAgKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBUaGUgY3JlYXRlZCBiaWdudW1iZXJcbiAgICovXG4gIHJldHVybiB0eXBlZCgnYmlnbnVtYmVyJywge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICAvLyBjb252ZXJ0IHRvIHN0cmluZyB0byBwcmV2ZW50IGVycm9ycyBpbiBjYXNlIG9mID4xNSBkaWdpdHNcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHggKyAnJyk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIC8vIHdlIGFzc3VtZSBhIEJpZ051bWJlciBpcyBpbW11dGFibGVcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgubikuZGl2KHguZCkudGltZXMoeC5zKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2ZyYWN0aW9uJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZyYWN0aW9uID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGZyYWN0aW9uIGNvbnZlcnQgYSB2YWx1ZSB0byBhIGZyYWN0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqICAgICBtYXRoLmZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKHtuOiBudW1lcmF0b3IsIGQ6IGRlbm9taW5hdG9yfSlcbiAgICogICAgIG1hdGguZnJhY3Rpb24obWF0cml4OiBBcnJheSB8IE1hdHJpeCkgICAgICAgICBUdXJuIGFsbCBtYXRyaXggZW50cmllc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludG8gZnJhY3Rpb25zXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5mcmFjdGlvbigxLCAzKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbignMi8zJylcbiAgICogICAgIG1hdGguZnJhY3Rpb24oe246IDIsIGQ6IDN9KVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihbMC4yLCAwLjI1LCAxLjI1XSlcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgbnVtYmVyLCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmcgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IEFycmF5IHwgTWF0cml4fSBbYXJnc11cbiAgICogICAgICAgICAgICBBcmd1bWVudHMgc3BlY2lmeWluZyB0aGUgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBvZlxuICAgKiAgICAgICAgICAgIHRoZSBmcmFjdGlvblxuICAgKiBAcmV0dXJuIHtGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIGEgZnJhY3Rpb25cbiAgICovXG4gIHJldHVybiB0eXBlZCgnZnJhY3Rpb24nLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKCFpc0Zpbml0ZSh4KSB8fCBpc05hTih4KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoeCArICcgY2Fubm90IGJlIHJlcHJlc2VudGVkIGFzIGEgZnJhY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIobnVtZXJhdG9yLCBkZW5vbWluYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKTtcbiAgICB9LFxuICAgIG51bGw6IGZ1bmN0aW9uIF9udWxsKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oMCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHg7IC8vIGZyYWN0aW9ucyBhcmUgaW1tdXRhYmxlXG4gICAgfSxcbiAgICBPYmplY3Q6IGZ1bmN0aW9uIE9iamVjdCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ21hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdNYXRyaXgnLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZU1hdHJpeCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIE1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIE1hdHJpeC4gVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYSBuZXcgYG1hdGguTWF0cml4YCBvYmplY3QgZnJvbVxuICAgKiBhbiBgQXJyYXlgLiBBIE1hdHJpeCBoYXMgdXRpbGl0eSBmdW5jdGlvbnMgdG8gbWFuaXB1bGF0ZSB0aGUgZGF0YSBpbiB0aGVcbiAgICogbWF0cml4LCBsaWtlIGdldHRpbmcgdGhlIHNpemUgYW5kIGdldHRpbmcgb3Igc2V0dGluZyB2YWx1ZXMgaW4gdGhlIG1hdHJpeC5cbiAgICogU3VwcG9ydGVkIHN0b3JhZ2UgZm9ybWF0cyBhcmUgJ2RlbnNlJyBhbmQgJ3NwYXJzZScuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tYXRyaXgoKSAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCB1c2luZyBkZWZhdWx0IHN0b3JhZ2UgZm9ybWF0IChkZW5zZSkuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEpICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSB1c2luZyBkZWZhdWx0IHN0b3JhZ2UgZm9ybWF0IChkZW5zZSkuXG4gICAqICAgIG1hdGgubWF0cml4KCdkZW5zZScpICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggdXNpbmcgdGhlIGdpdmVuIHN0b3JhZ2UgZm9ybWF0LlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnZGVuc2UnKSAgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEgdXNpbmcgdGhlIGdpdmVuIHN0b3JhZ2UgZm9ybWF0LlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnc3BhcnNlJykgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBzcGFyc2UgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhLlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhLCAnc3BhcnNlJywgJ251bWJlcicpIC8vIGNyZWF0ZXMgYSBzcGFyc2UgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhLCBudW1iZXIgZGF0YSB0eXBlLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbGV0IG0gPSBtYXRoLm1hdHJpeChbWzEsIDJdLCBbMywgNF1dKVxuICAgKiAgICBtLnNpemUoKSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFycmF5IFsyLCAyXVxuICAgKiAgICBtLnJlc2l6ZShbMywgMl0sIDUpXG4gICAqICAgIG0udmFsdWVPZigpICAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgW1sxLCAyXSwgWzMsIDRdLCBbNSwgNV1dXG4gICAqICAgIG0uZ2V0KFsxLCAwXSkgICAgICAgICAgICAgICAgICAgIC8vIG51bWJlciAzXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBudW1iZXIsIHN0cmluZywgdW5pdCwgc3BhcnNlXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IFtkYXRhXSAgICBBIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gVGhlIGNyZWF0ZWQgbWF0cml4XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10pO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSwgZm9ybWF0KTtcbiAgICB9LFxuICAgICdzdHJpbmcsIHN0cmluZyc6IGZ1bmN0aW9uIHN0cmluZ1N0cmluZyhmb3JtYXQsIGRhdGF0eXBlKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSwgZm9ybWF0LCBkYXRhdHlwZSk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoZGF0YSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoZGF0YSk7XG4gICAgfSxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChkYXRhKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShkYXRhLCBkYXRhLnN0b3JhZ2UoKSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZyc6IF9jcmVhdGUsXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcsIHN0cmluZyc6IF9jcmVhdGVcbiAgfSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTWF0cml4IHdpdGggZ2l2ZW4gc3RvcmFnZSBmb3JtYXRcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICogQHJldHVybnMge01hdHJpeH0gUmV0dXJucyBhIG5ldyBNYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2NyZWF0ZShkYXRhLCBmb3JtYXQsIGRhdGF0eXBlKSB7XG4gICAgLy8gZ2V0IHN0b3JhZ2UgZm9ybWF0IGNvbnN0cnVjdG9yXG4gICAgaWYgKGZvcm1hdCA9PT0gJ2RlbnNlJyB8fCBmb3JtYXQgPT09ICdkZWZhdWx0JyB8fCBmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdCA9PT0gJ3NwYXJzZScpIHtcbiAgICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIG1hdHJpeCB0eXBlICcgKyBKU09OLnN0cmluZ2lmeShmb3JtYXQpICsgJy4nKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICd1bmFyeU1pbnVzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZVVuYXJ5TWludXMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSW52ZXJzZSB0aGUgc2lnbiBvZiBhIHZhbHVlLCBhcHBseSBhIHVuYXJ5IG1pbnVzIG9wZXJhdGlvbi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS4gQm9vbGVhbiB2YWx1ZXMgYW5kXG4gICAqIHN0cmluZ3Mgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBudW1iZXIuIEZvciBjb21wbGV4IG51bWJlcnMsIGJvdGggcmVhbCBhbmRcbiAgICogY29tcGxleCB2YWx1ZSBhcmUgaW52ZXJ0ZWQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoMy41KSAgICAgIC8vIHJldHVybnMgLTMuNVxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoLTQuMikgICAgIC8vIHJldHVybnMgNC4yXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBhZGQsIHN1YnRyYWN0LCB1bmFyeVBsdXNcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IE51bWJlciB0byBiZSBpbnZlcnRlZC5cbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRoZSB2YWx1ZSB3aXRoIGludmVydGVkIHNpZ24uXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogdW5hcnlNaW51c051bWJlcixcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHgudmFsdWUpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgdW5hcnlNaW51cygwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0gLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIHN0cmluZ1xuXG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgYWJzTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ2Ficyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBYnMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIG51bWJlci4gRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXNcbiAgICogZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmFicyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5hYnMoMy41KSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjVcbiAgICogICAgbWF0aC5hYnMoLTQuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0LjJcbiAgICpcbiAgICogICAgbWF0aC5hYnMoWzMsIC01LCAtMSwgMCwgMl0pICAvLyByZXR1cm5zIEFycmF5IFszLCA1LCAxLCAwLCAyXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc2lnblxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeCB8IFVuaXR9IHhcbiAgICogICAgICAgICAgICBBIG51bWJlciBvciBtYXRyaXggZm9yIHdoaWNoIHRvIGdldCB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXggfCBVbml0fVxuICAgKiAgICAgICAgICAgIEFic29sdXRlIHZhbHVlIG9mIGB4YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IGFic051bWJlcixcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGFicygwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWRkTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ2FkZFNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBZGRTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQWRkIHR3byBzY2FsYXIgdmFsdWVzLCBgeCArIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvblxuICAgKiBgYWRkYFxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBhZGRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBhZGRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIFN1bSBvZiBgeGAgYW5kIGB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBhZGROdW1iZXIsXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5hZGQoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucGx1cyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmFkZCh5KTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKHgudmFsdWUgPT09IG51bGwgfHwgeC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB4IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgaWYgKHkudmFsdWUgPT09IG51bGwgfHwgeS52YWx1ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB5IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkgdGhyb3cgbmV3IEVycm9yKCdVbml0cyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSwgeS52YWx1ZSk7XG4gICAgICByZXMuZml4UHJlZml4ID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gUykuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTExKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGluaXRpYWxpemUgcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGFpbmRleFtrXTsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICAgICAgdmFyIHYgPSBpbnZlcnNlID8gY2YoYiwgYXZhbHVlc1trXSkgOiBjZihhdmFsdWVzW2tdLCBiKTsgLy8gY2hlY2sgdmFsdWUgaXMgemVyb1xuXG4gICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4ICYgdmFsdWVcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICBjdmFsdWVzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gcy5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9vYmplY3QuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBEZW5zZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWouLnosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGosLi4ueikgPSBmKEFpai4ueiwgYilcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpai4ueixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLEFpai4ueilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzY1OTA0MlxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTE0KGEsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBwb3B1bGF0ZSBjZGF0YSwgaXRlcmF0ZSB0aHJvdWdoIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGNkYXRhID0gYXNpemUubGVuZ3RoID4gMCA/IF9pdGVyYXRlKGNmLCAwLCBhc2l6ZSwgYXNpemVbMF0sIGFkYXRhLCBiLCBpbnZlcnNlKSA6IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBjbG9uZShhc2l6ZSksXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTsgLy8gcmVjdXJzaXZlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gX2l0ZXJhdGUoZiwgbGV2ZWwsIHMsIG4sIGF2LCBidiwgaW52ZXJzZSkge1xuICAgIC8vIGluaXRpYWxpemUgYXJyYXkgZm9yIHRoaXMgbGV2ZWxcbiAgICB2YXIgY3YgPSBbXTsgLy8gY2hlY2sgd2UgcmVhY2ggdGhlIGxhc3QgbGV2ZWxcblxuICAgIGlmIChsZXZlbCA9PT0gcy5sZW5ndGggLSAxKSB7XG4gICAgICAvLyBsb29wIGFycmF5cyBpbiBsYXN0IGxldmVsXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2sgYW5kIHN0b3JlIHZhbHVlXG4gICAgICAgIGN2W2ldID0gaW52ZXJzZSA/IGYoYnYsIGF2W2ldKSA6IGYoYXZbaV0sIGJ2KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXRlcmF0ZSBjdXJyZW50IGxldmVsXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xuICAgICAgICAvLyBpdGVyYXRlIG5leHQgbGV2ZWxcbiAgICAgICAgY3Zbal0gPSBfaXRlcmF0ZShmLCBsZXZlbCArIDEsIHMsIHNbbGV2ZWwgKyAxXSwgYXZbal0sIGJ2LCBpbnZlcnNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Y7XG4gIH1cbn0pOyIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgY2VpbE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnY2VpbCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAncm91bmQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNlaWwgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgcm91bmQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyBwbHVzIGluZmluaXR5XG4gICAqIElmIGB4YCBpcyBjb21wbGV4LCBib3RoIHJlYWwgYW5kIGltYWdpbmFyeSBwYXJ0IGFyZSByb3VuZGVkIHRvd2FyZHMgcGx1cyBpbmZpbml0eS5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoeClcbiAgICogICAgbWF0aC5jZWlsKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoMy4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5jZWlsKDMuOCkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGguY2VpbCgtNC4yKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5jZWlsKC00LjcpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoMy4yMTIsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjJcbiAgICogICAgbWF0aC5jZWlsKDMuMjg4LCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjI5XG4gICAqICAgIG1hdGguY2VpbCgtNC4yMTIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMjFcbiAgICogICAgbWF0aC5jZWlsKC00Ljc4MiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43OFxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjQsIC0yLjcxKVxuICAgKiAgICBtYXRoLmNlaWwoYykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCA0IC0gMmlcbiAgICogICAgbWF0aC5jZWlsKGMsIDEpICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4zIC0gMi43aVxuICAgKlxuICAgKiAgICBtYXRoLmNlaWwoWzMuMiwgMy44LCAtNC43XSkgIC8vIHJldHVybnMgQXJyYXkgWzQsIDQsIC00XVxuICAgKiAgICBtYXRoLmNlaWwoWzMuMjEsIDMuODIsIC00LjcxXSwgMSkgIC8vIHJldHVybnMgQXJyYXkgWzMuMywgMy45LCAtNC43XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZmxvb3IsIGZpeCwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdjZWlsJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjZWlsTnVtYmVyKHgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdCh4LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgKyBuKSkpO1xuICAgICAgICBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdChyZXN1bHQsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICByZXR1cm4gTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpIC0gbikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5jZWlsKG4pO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCksIERlY2ltYWwuUk9VTkRfQ0VJTCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5jZWlsKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0NvbXBsZXgnLCAnbWF0cml4JywgJ2NlaWwnLCAnZmxvb3InXTtcbmV4cG9ydCB2YXIgY3JlYXRlRml4ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgQ29tcGxleDogX0NvbXBsZXgsXG4gICAgbWF0cml4LFxuICAgIGNlaWwsXG4gICAgZmxvb3JcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyB6ZXJvLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZml4KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZpeCgzLjIpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5maXgoMy44KSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZml4KC00LjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5maXgoLTQuNykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKlxuICAgKiAgICBtYXRoLmZpeCgzLjEyLCAxKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjFcbiAgICogICAgbWF0aC5maXgoMy4xOCwgMSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xXG4gICAqICAgIG1hdGguZml4KC00LjEyLCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjFcbiAgICogICAgbWF0aC5maXgoLTQuMTcsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjIsIC0yLjc4KVxuICAgKiAgICBtYXRoLmZpeChjKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gMmlcbiAgICogICAgbWF0aC5maXgoYywgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4yIC0gMi43aVxuICAgKlxuICAgKiAgICBtYXRoLmZpeChbMy4yLCAzLjgsIC00LjddKSAgICAgIC8vIHJldHVybnMgQXJyYXkgWzMsIDMsIC00XVxuICAgKiAgICBtYXRoLmZpeChbMy4yLCAzLjgsIC00LjddLCAxKSAgIC8vIHJldHVybnMgQXJyYXkgWzMuMiwgMy44LCAtNC43XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZmxvb3IsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICAgIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSAgICAgUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2ZpeCcsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geCA+IDAgPyBmbG9vcih4KSA6IGNlaWwoeCk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHggPiAwID8gZmxvb3IoeCwgbikgOiBjZWlsKHgsIG4pO1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4gbmV3IF9Db21wbGV4KHgucmUgPiAwID8gTWF0aC5mbG9vcih4LnJlKSA6IE1hdGguY2VpbCh4LnJlKSwgeC5pbSA+IDAgPyBNYXRoLmZsb29yKHguaW0pIDogTWF0aC5jZWlsKHguaW0pKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiBuZXcgX0NvbXBsZXgoeC5yZSA+IDAgPyBmbG9vcih4LnJlLCBuKSA6IGNlaWwoeC5yZSwgbiksIHguaW0gPiAwID8gZmxvb3IoeC5pbSwgbikgOiBjZWlsKHguaW0sIG4pKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LmlzTmVnYXRpdmUoKSA/IGNlaWwoeCkgOiBmbG9vcih4KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlck51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5pc05lZ2F0aXZlKCkgPyBjZWlsKHgsIG4pIDogZmxvb3IoeCwgbik7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgucyA8IDAgPyB4LmNlaWwoKSA6IHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHgucyA8IDAgPyB4LmNlaWwobikgOiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmaXgoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmaXgoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZmxvb3InO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ3JvdW5kJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVGbG9vciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICByb3VuZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIG1pbnVzIGluZmluaXR5LlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoeClcbiAgICogICAgbWF0aC5mbG9vcih4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcigzLjIpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZmxvb3IoMy44KSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZsb29yKC00LjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqICAgIG1hdGguZmxvb3IoLTQuNykgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcigzLjIxMiwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yMVxuICAgKiAgICBtYXRoLmZsb29yKDMuMjg4LCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjI4XG4gICAqICAgIG1hdGguZmxvb3IoLTQuMjEyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjIyXG4gICAqICAgIG1hdGguZmxvb3IoLTQuNzgyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00Ljc5XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yNCwgLTIuNzEpXG4gICAqICAgIG1hdGguZmxvb3IoYykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gM2lcbiAgICogICAgbWF0aC5mbG9vcihjLCAxKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMiAtIDIuOGlcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcihbMy4yLCAzLjgsIC00LjddKSAgICAgICAvLyByZXR1cm5zIEFycmF5IFszLCAzLCAtNV1cbiAgICogICAgbWF0aC5mbG9vcihbMy4yMSwgMy44MiwgLTQuNzFdLCAxKSAgLy8gcmV0dXJucyBBcnJheSBbMy4yLCAzLjgsIC00LjhdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmaXgsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZmxvb3InLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoeCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHgsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5mbG9vcihOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgKyBuKSkpO1xuICAgICAgICBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdChyZXN1bHQsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICByZXR1cm4gTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpIC0gbikpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguZmxvb3Iobik7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCksIERlY2ltYWwuUk9VTkRfRkxPT1IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBmbG9vcigwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAxJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAxID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5OWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gU3BhcnNlTWF0cml4KS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgRGlqICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMShkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgdmFyIGR0ID0gdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQgPyBhZHQgOiB1bmRlZmluZWQ7IC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG5cbiAgICB2YXIgY2YgPSBkdCA/IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKSA6IGNhbGxiYWNrOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgajsgLy8gcmVzdWx0IChEZW5zZU1hdHJpeClcblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGNcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGNkYXRhW2ldID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pOyAvLyBtYXJrIGkgYXMgdXBkYXRlZFxuXG4gICAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGNoZWNrIHJvdyBpcyBpbiB3b3Jrc3BhY2VcbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBjW2ldW2pdIHdhcyBhbHJlYWR5IGNhbGN1bGF0ZWRcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IHhbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaXRlbSBkb2VzIG5vdCBleGlzdCBpbiBTXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBhZGF0YVtpXVtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gZGVuc2VNYXRyaXguY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTUFYKE5OWkEsIE5OWkIpIHRpbWVzXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihBaWosIEJpaikgIDsgQShpLGopICE9PSAwICYmIEIoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKQgIEEoaSxqKSAgICAgICA7IEEoaSxqKSAhPT0gMFxuICAgKiAgICAgICAgICDilJQgIEIoaSxqKSAgICAgICA7IEIoaSxqKSAhPT0gMFxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA0KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHhhID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIHhiID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGssIGswLCBrMTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIGNvbHVtbnMgbWFya1xuXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBsb29wIEEoOixqKVxuXG4gICAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIGNcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHdhW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4YSkge1xuICAgICAgICAgIHhhW2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBsb29wIEIoOixqKVxuXG5cbiAgICAgIGZvciAoazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyBjaGVjayByb3cgZXhpc3RzIGluIEFcblxuICAgICAgICBpZiAod2FbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyB1cGRhdGUgcmVjb3JkIGluIHhhIEAgaVxuICAgICAgICAgIGlmICh4YSkge1xuICAgICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICAgICAgICB2YXIgdiA9IGNmKHhhW2ldLCBidmFsdWVzW2tdKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuICAgICAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyB1cGRhdGUgd29ya3NwYWNlXG4gICAgICAgICAgICAgIHhhW2ldID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrIChpbmRleCB3aWxsIGJlIHJlbW92ZWQgbGF0ZXIpXG4gICAgICAgICAgICAgIHdhW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlIGNcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgICAgd2JbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgICBpZiAoeGIpIHtcbiAgICAgICAgICAgIHhiW2ldID0gYnZhbHVlc1trXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAobm9uIHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmICh4YSAmJiB4Yikge1xuICAgICAgICAvLyBpbml0aWFsaXplIGZpcnN0IGluZGV4IGluIGpcbiAgICAgICAgayA9IGNwdHJbal07IC8vIGxvb3AgaW5kZXggaW4galxuXG4gICAgICAgIHdoaWxlIChrIDwgY2luZGV4Lmxlbmd0aCkge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBjaW5kZXhba107IC8vIGNoZWNrIHdvcmtzcGFjZSBoYXMgdmFsdWUgQCBpXG5cbiAgICAgICAgICBpZiAod2FbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIHB1c2ggdmFsdWUgKEFpaiAhPSAwIHx8IChBaWogIT0gMCAmJiBCaWogIT0gMCkpXG4gICAgICAgICAgICBjdmFsdWVzW2tdID0geGFbaV07IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgICB9IGVsc2UgaWYgKHdiW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHZhbHVlIChiaWogIT0gMClcbiAgICAgICAgICAgIGN2YWx1ZXNba10gPSB4YltpXTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgaysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgaW5kZXggQCBrXG4gICAgICAgICAgICBjaW5kZXguc3BsaWNlKGssIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTAgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFMpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgYiAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEwKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgciA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbcl0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB3W3JdID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBDIG9uIGZpcnN0IGNvbHVtblxuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNyZWF0ZSByb3cgYXJyYXlcbiAgICAgICAgICBjZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHNwYXJzZSBtYXRyaXggaGFzIGEgdmFsdWUgQCBpLGpcblxuXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrLCB1cGRhdGUgQ1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIHhbaV0pIDogY2YoeFtpXSwgYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZGVuc2UgbWF0cml4IHZhbHVlIEAgaSwgalxuICAgICAgICAgIGNkYXRhW2ldW2pdID0gYjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgRGVuc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLi56LCBCaWouLnopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGosLi4ueikgPSBmKEFpai4ueiwgQmlqLi56KVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLi56LEJpai4ueikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjU4NjU4XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTMoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgYXJyYXlzXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyBjIGFycmF5c1xuXG4gICAgdmFyIGNzaXplID0gW107IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIHZhbGlkYXRlIGVhY2ggb25lIG9mIHRoZSBkaW1lbnNpb24gc2l6ZXNcblxuXG4gICAgZm9yICh2YXIgcyA9IDA7IHMgPCBhc2l6ZS5sZW5ndGg7IHMrKykge1xuICAgICAgLy8gbXVzdCBtYXRjaFxuICAgICAgaWYgKGFzaXplW3NdICE9PSBic2l6ZVtzXSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICAgIH0gLy8gdXBkYXRlIGRpbWVuc2lvbiBpbiBjXG5cblxuICAgICAgY3NpemVbc10gPSBhc2l6ZVtzXTtcbiAgICB9IC8vIGRhdGF0eXBlXG5cblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcG9wdWxhdGUgY2RhdGEsIGl0ZXJhdGUgdGhyb3VnaCBkaW1lbnNpb25zXG5cblxuICAgIHZhciBjZGF0YSA9IGNzaXplLmxlbmd0aCA+IDAgPyBfaXRlcmF0ZShjZiwgMCwgY3NpemUsIGNzaXplWzBdLCBhZGF0YSwgYmRhdGEpIDogW107IC8vIGMgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IGNzaXplLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07IC8vIHJlY3Vyc2l2ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIF9pdGVyYXRlKGYsIGxldmVsLCBzLCBuLCBhdiwgYnYpIHtcbiAgICAvLyBpbml0aWFsaXplIGFycmF5IGZvciB0aGlzIGxldmVsXG4gICAgdmFyIGN2ID0gW107IC8vIGNoZWNrIHdlIHJlYWNoIHRoZSBsYXN0IGxldmVsXG5cbiAgICBpZiAobGV2ZWwgPT09IHMubGVuZ3RoIC0gMSkge1xuICAgICAgLy8gbG9vcCBhcnJheXMgaW4gbGFzdCBsZXZlbFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrIGFuZCBzdG9yZSB2YWx1ZVxuICAgICAgICBjdltpXSA9IGYoYXZbaV0sIGJ2W2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXRlcmF0ZSBjdXJyZW50IGxldmVsXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xuICAgICAgICAvLyBpdGVyYXRlIG5leHQgbGV2ZWxcbiAgICAgICAgY3Zbal0gPSBfaXRlcmF0ZShmLCBsZXZlbCArIDEsIHMsIHNbbGV2ZWwgKyAxXSwgYXZbal0sIGJ2W2pdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Y7XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTk5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTcGFyc2VNYXRyaXgpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDIoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCAoU3BhcnNlTWF0cml4KVxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSBDKGksailcblxuICAgICAgICB2YXIgY2lqID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTsgLy8gY2hlY2sgZm9yIG5vbnplcm9cblxuICAgICAgICBpZiAoIWVxKGNpaiwgemVybykpIHtcbiAgICAgICAgICAvLyBwdXNoIGkgJiB2XG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgY3ZhbHVlcy5wdXNoKGNpaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIHNwYXJzZU1hdHJpeC5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTSpOIHRpbWVzLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBmKERpaiwgMCkgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChDKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wMyhkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IChEZW5zZU1hdHJpeClcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgZGVuc2UgbWF0cml4XG5cbiAgICBmb3IgKHZhciB6ID0gMDsgeiA8IHJvd3M7IHorKykge1xuICAgICAgLy8gaW5pdGlhbGl6ZSByb3dcbiAgICAgIGNkYXRhW3pdID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7XG4gICAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgfSAvLyBwcm9jZXNzIHdvcmtzcGFjZVxuXG5cbiAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgcm93czsgeSsrKSB7XG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgYSBjYWxjdWxhdGVkIHZhbHVlIGZvciBjdXJyZW50IHJvd1xuICAgICAgICBpZiAod1t5XSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIHVzZSBjYWxjdWxhdGVkIHZhbHVlXG4gICAgICAgICAgY2RhdGFbeV1bal0gPSB4W3ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSB2YWx1ZVxuICAgICAgICAgIGNkYXRhW3ldW2pdID0gaW52ZXJzZSA/IGNmKHplcm8sIGFkYXRhW3ldW2pdKSA6IGNmKGFkYXRhW3ldW2pdLCB6ZXJvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gZGVuc2VNYXRyaXguY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTUFYKE5OWkEsIE5OWkIpIHRpbWVzXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihBaWosIEJpaikgIDsgQShpLGopICE9PSAwIHx8IEIoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICAwICAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNShhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeGEgPSBjdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIHhiID0gY3ZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrLCBrMTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIGNvbHVtbnMgbWFya1xuXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBsb29wIHZhbHVlcyBBKDosailcblxuICAgICAgZm9yIChrID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBhaW5kZXhba107IC8vIHB1c2ggaW5kZXhcblxuICAgICAgICBjaW5kZXgucHVzaChpKTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHdhW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4YSkge1xuICAgICAgICAgIHhhW2ldID0gYXZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBsb29wIHZhbHVlcyBCKDosailcblxuXG4gICAgICBmb3IgKGsgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gY2hlY2sgcm93IGV4aXN0ZWQgaW4gQVxuXG4gICAgICAgIGlmICh3YVtpXSAhPT0gbWFyaykge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXhcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgfSAvLyB1cGRhdGUgd29ya3NwYWNlXG5cblxuICAgICAgICB3YltpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGIpIHtcbiAgICAgICAgICB4YltpXSA9IGJ2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAobm9uIHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmIChjdmFsdWVzKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgZmlyc3QgaW5kZXggaW4galxuICAgICAgICBrID0gY3B0cltqXTsgLy8gbG9vcCBpbmRleCBpbiBqXG5cbiAgICAgICAgd2hpbGUgKGsgPCBjaW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IGNpbmRleFtrXTsgLy8gbWFya3NcblxuICAgICAgICAgIHZhciB3YWkgPSB3YVtpXTtcbiAgICAgICAgICB2YXIgd2JpID0gd2JbaV07IC8vIGNoZWNrIEFpaiBvciBCaWogYXJlIG5vbnplcm9cblxuICAgICAgICAgIGlmICh3YWkgPT09IG1hcmsgfHwgd2JpID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBtYXRyaXggdmFsdWVzIEAgaSxqXG4gICAgICAgICAgICB2YXIgdmEgPSB3YWkgPT09IG1hcmsgPyB4YVtpXSA6IHplcm87XG4gICAgICAgICAgICB2YXIgdmIgPSB3YmkgPT09IG1hcmsgPyB4YltpXSA6IHplcm87IC8vIENpalxuXG4gICAgICAgICAgICB2YXIgdmMgPSBjZih2YSwgdmIpOyAvLyBjaGVjayBmb3IgemVyb1xuXG4gICAgICAgICAgICBpZiAoIWVxKHZjLCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyBwdXNoIHZhbHVlXG4gICAgICAgICAgICAgIGN2YWx1ZXMucHVzaCh2Yyk7IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIHZhbHVlIEAgaSwgZG8gbm90IGluY3JlbWVudCBwb2ludGVyXG4gICAgICAgICAgICAgIGNpbmRleC5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBmKDAsIGIpICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTIocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciByID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtyXSA9IGF2YWx1ZXNba107XG4gICAgICAgIHdbcl0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIEMgb24gZmlyc3QgY29sdW1uXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJvdyBhcnJheVxuICAgICAgICAgIGNkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgc3BhcnNlIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGksalxuXG5cbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2ssIHVwZGF0ZSBDXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgeFtpXSkgOiBjZih4W2ldLCBiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkZW5zZSBtYXRyaXggdmFsdWUgQCBpLCBqXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgMCkgOiBjZigwLCBiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDUgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IG1vZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdtb2QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZU1vZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAyID0gY3JlYXRlQWxnb3JpdGhtMDIoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNSA9IGNyZWF0ZUFsZ29yaXRobTA1KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbW9kdWx1cywgdGhlIHJlbWFpbmRlciBvZiBhbiBpbnRlZ2VyIGRpdmlzaW9uLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBUaGUgbW9kdWx1cyBpcyBkZWZpbmVkIGFzOlxuICAgKlxuICAgKiAgICAgeCAtIHkgKiBmbG9vcih4IC8geSlcbiAgICpcbiAgICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tb2QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubW9kKDgsIDMpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMlxuICAgKiAgICBtYXRoLm1vZCgxMSwgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIDFcbiAgICpcbiAgICogICAgZnVuY3Rpb24gaXNPZGQoeCkge1xuICAgKiAgICAgIHJldHVybiBtYXRoLm1vZCh4LCAyKSAhPSAwXG4gICAqICAgIH1cbiAgICpcbiAgICogICAgaXNPZGQoMikgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBpc09kZCgzKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpdmlkZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSB4IERpdmlkZW5kXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IHkgRGl2aXNvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRoZSByZW1haW5kZXIgb2YgYHhgIGRpdmlkZWQgYnkgYHlgLlxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IG1vZE51bWJlcixcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgaWYgKHkuaXNOZWcoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHkuaXNaZXJvKCkgPyB4IDogeC5tb2QoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeS5jb21wYXJlKDApIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgICAgIH0gLy8gV29ya2Fyb3VuZCBzdWdnZXN0ZWQgaW4gRnJhY3Rpb24uanMgbGlicmFyeSB0byBjYWxjdWxhdGUgY29ycmVjdCBtb2R1bG8gZm9yIG5lZ2F0aXZlIGRpdmlkZW5kXG5cblxuICAgICAgcmV0dXJuIHguY29tcGFyZSgwKSA+PSAwID8geC5tb2QoeSkgOiB4Lm1vZCh5KS5hZGQoeSkubW9kKHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseU51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdtdWx0aXBseVNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVNdWx0aXBseVNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0d28gc2NhbGFyIHZhbHVlcywgYHggKiB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25cbiAgICogYG11bHRpcGx5YFxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBGaXJzdCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBNdWx0aXBsaWNhdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdtdWx0aXBseVNjYWxhcicsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBtdWx0aXBseU51bWJlcixcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bCh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC50aW1lcyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bCh5KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQnOiBmdW5jdGlvbiBudW1iZXJGcmFjdGlvbkJpZ051bWJlckNvbXBsZXhVbml0KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB5LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSByZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZSh4KSA6IHRoaXMocmVzLnZhbHVlLCB4KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4JzogZnVuY3Rpb24gVW5pdE51bWJlckZyYWN0aW9uQmlnTnVtYmVyQ29tcGxleCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gcmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUoeSkgOiB0aGlzKHJlcy52YWx1ZSwgeSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWx0aXBseSh5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ211bHRpcGx5JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhZGRTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnZG90J107XG5leHBvcnQgdmFyIGNyZWF0ZU11bHRpcGx5ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBkb3RcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoc2l6ZTEsIHNpemUyKSB7XG4gICAgLy8gY2hlY2sgbGVmdCBvcGVyYW5kIGRpbWVuc2lvbnNcbiAgICBzd2l0Y2ggKHNpemUxLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBjaGVjayBzaXplMlxuICAgICAgICBzd2l0Y2ggKHNpemUyLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIFZlY3RvciB4IFZlY3RvclxuICAgICAgICAgICAgaWYgKHNpemUxWzBdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAvLyBWZWN0b3IgeCBNYXRyaXhcbiAgICAgICAgICAgIGlmIChzaXplMVswXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gVmVjdG9yIGxlbmd0aCAoJyArIHNpemUxWzBdICsgJykgbXVzdCBtYXRjaCBNYXRyaXggcm93cyAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBCIGhhcyAnICsgc2l6ZTIubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gY2hlY2sgc2l6ZTJcbiAgICAgICAgc3dpdGNoIChzaXplMi5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAvLyBNYXRyaXggeCBWZWN0b3JcbiAgICAgICAgICAgIGlmIChzaXplMVsxXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gTWF0cml4IGNvbHVtbnMgKCcgKyBzaXplMVsxXSArICcpIG11c3QgbWF0Y2ggVmVjdG9yIGxlbmd0aCAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAvLyBNYXRyaXggeCBNYXRyaXhcbiAgICAgICAgICAgIGlmIChzaXplMVsxXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gTWF0cml4IEEgY29sdW1ucyAoJyArIHNpemUxWzFdICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiByb3dzICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEIgaGFzICcgKyBzaXplMi5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBBIGhhcyAnICsgc2l6ZTEubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgU2NhbGFyIHZhbHVlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yVmVjdG9yKGEsIGIsIG4pIHtcbiAgICAvLyBjaGVjayBlbXB0eSB2ZWN0b3JcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgdHdvIGVtcHR5IHZlY3RvcnMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG90KGEsIGIpO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3Rvck1hdHJpeChhLCBiKSB7XG4gICAgLy8gcHJvY2VzcyBzdG9yYWdlXG4gICAgaWYgKGIuc3RvcmFnZSgpICE9PSAnZGVuc2UnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBvcnQgZm9yIFNwYXJzZU1hdHJpeCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yRGVuc2VNYXRyaXgoYSwgYik7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIE1hdHJpeCAgIChNeE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yRGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFsZW5ndGggPSBhc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHN1bSAoZG8gbm90IGluaXRpYWxpemUgaXQgd2l0aCB6ZXJvKVxuICAgICAgdmFyIHN1bSA9IG1mKGFkYXRhWzBdLCBiZGF0YVswXVtqXSk7IC8vIGxvb3AgdmVjdG9yXG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYWxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICBzdW0gPSBhZihzdW0sIG1mKGFkYXRhW2ldLCBiZGF0YVtpXVtqXSkpO1xuICAgICAgfVxuXG4gICAgICBjW2pdID0gc3VtO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Jjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKi9cblxuXG4gIHZhciBfbXVsdGlwbHlNYXRyaXhWZWN0b3IgPSB0eXBlZCgnX211bHRpcGx5TWF0cml4VmVjdG9yJywge1xuICAgICdEZW5zZU1hdHJpeCwgYW55JzogX211bHRpcGx5RGVuc2VNYXRyaXhWZWN0b3IsXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogX211bHRpcGx5U3BhcnNlTWF0cml4VmVjdG9yXG4gIH0pO1xuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgdmFyIF9tdWx0aXBseU1hdHJpeE1hdHJpeCA9IHR5cGVkKCdfbXVsdGlwbHlNYXRyaXhNYXRyaXgnLCB7XG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IF9tdWx0aXBseURlbnNlTWF0cml4RGVuc2VNYXRyaXgsXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfbXVsdGlwbHlEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeERlbnNlTWF0cml4LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeFxuICB9KTtcbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE0pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhWZWN0b3IoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBhY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGEgcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgdmFyIHJvdyA9IGFkYXRhW2ldOyAvLyBzdW0gKGRvIG5vdCBpbml0aWFsaXplIGl0IHdpdGggemVybylcblxuICAgICAgdmFyIHN1bSA9IG1mKHJvd1swXSwgYmRhdGFbMF0pOyAvLyBsb29wIG1hdHJpeCBhIGNvbHVtbnNcblxuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICBzdW0gPSBhZihzdW0sIG1mKHJvd1tqXSwgYmRhdGFbal0pKTtcbiAgICAgIH1cblxuICAgICAgY1tpXSA9IHN1bTtcbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFthcm93c10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYWNvbHVtbnMgPSBhc2l6ZVsxXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBhIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgIHZhciByb3cgPSBhZGF0YVtpXTsgLy8gaW5pdGlhbGl6ZSByb3cgYXJyYXlcblxuICAgICAgY1tpXSA9IFtdOyAvLyBsb29wIG1hdHJpeCBiIGNvbHVtbnNcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIHN1bSAoYXZvaWQgaW5pdGlhbGl6aW5nIHN1bSB0byB6ZXJvKVxuICAgICAgICB2YXIgc3VtID0gbWYocm93WzBdLCBiZGF0YVswXVtqXSk7IC8vIGxvb3AgbWF0cml4IGEgY29sdW1uc1xuXG4gICAgICAgIGZvciAodmFyIHggPSAxOyB4IDwgYWNvbHVtbnM7IHgrKykge1xuICAgICAgICAgIC8vIG11bHRpcGx5ICYgYWNjdW11bGF0ZVxuICAgICAgICAgIHN1bSA9IGFmKHN1bSwgbWYocm93W3hdLCBiZGF0YVt4XVtqXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY1tpXVtqXSA9IHN1bTtcbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4U3BhcnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBzcGFyc2VcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYiBtYXRyaXhcblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgRGVuc2UgTWF0cml4IHRpbWVzIFBhdHRlcm4gb25seSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYi5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gaW5kZWNlcyBpbiBjb2x1bW4gamJcblxuICAgICAgdmFyIGtiMCA9IGJwdHJbamJdO1xuICAgICAgdmFyIGtiMSA9IGJwdHJbamIgKyAxXTsgLy8gZG8gbm90IHByb2Nlc3MgY29sdW1uIGpiIGlmIG5vIGRhdGEgZXhpc3RzXG5cbiAgICAgIGlmIChrYjEgPiBrYjApIHtcbiAgICAgICAgLy8gbGFzdCByb3cgbWFyayBwcm9jZXNzZWRcbiAgICAgICAgdmFyIGxhc3QgPSAwOyAvLyBsb29wIGEgcm93c1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICAgICAgdmFyIG1hcmsgPSBpICsgMTsgLy8gQ1tpLCBqYl1cblxuICAgICAgICAgIHZhciBjaWogPSB2b2lkIDA7IC8vIHZhbHVlcyBpbiBiIGNvbHVtbiBqXG5cbiAgICAgICAgICBmb3IgKHZhciBrYiA9IGtiMDsga2IgPCBrYjE7IGtiKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgdmFyIGliID0gYmluZGV4W2tiXTsgLy8gY2hlY2sgdmFsdWUgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcblxuICAgICAgICAgICAgaWYgKGxhc3QgIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gZmlyc3QgdmFsdWUgaW4gY29sdW1uIGpiXG4gICAgICAgICAgICAgIGNpaiA9IG1mKGFkYXRhW2ldW2liXSwgYnZhbHVlc1trYl0pOyAvLyB1cGRhdGUgbWFya1xuXG4gICAgICAgICAgICAgIGxhc3QgPSBtYXJrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYWNjdW11bGF0ZSB2YWx1ZVxuICAgICAgICAgICAgICBjaWogPSBhZihjaWosIG1mKGFkYXRhW2ldW2liXSwgYnZhbHVlc1trYl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBoYXMgYmVlbiBwcm9jZXNzZWQgYW5kIHZhbHVlICE9IDBcblxuXG4gICAgICAgICAgaWYgKGxhc3QgPT09IG1hcmsgJiYgIWVxKGNpaiwgemVybykpIHtcbiAgICAgICAgICAgIC8vIHB1c2ggcm93ICYgdmFsdWVcbiAgICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgY3ZhbHVlcy5wdXNoKGNpaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgIChNLCAxKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeFZlY3RvcihhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBhIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBQYXR0ZXJuIG9ubHkgTWF0cml4IHRpbWVzIERlbnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gYiBkZW5zZVxuXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJyb3dzID0gYi5fc2l6ZVswXTsgLy8gcmVzdWx0XG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyB3b3Jrc3BhY2VcblxuXG4gICAgdmFyIHggPSBbXTsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyB1cGRhdGUgcHRyXG5cbiAgICBjcHRyWzBdID0gMDsgLy8gcm93cyBpbiBiXG5cbiAgICBmb3IgKHZhciBpYiA9IDA7IGliIDwgYnJvd3M7IGliKyspIHtcbiAgICAgIC8vIGJbaWJdXG4gICAgICB2YXIgdmJpID0gYmRhdGFbaWJdOyAvLyBjaGVjayBiW2liXSAhPSAwLCBhdm9pZCBsb29wc1xuXG4gICAgICBpZiAoIWVxKHZiaSwgemVybykpIHtcbiAgICAgICAgLy8gQSB2YWx1ZXMgJiBpbmRleCBpbiBpYiBjb2x1bW5cbiAgICAgICAgZm9yICh2YXIga2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgLy8gYSByb3dcbiAgICAgICAgICB2YXIgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICBpZiAoIXdbaWFdKSB7XG4gICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgd1tpYV0gPSB0cnVlOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgeFtpYV0gPSBtZih2YmksIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZih2YmksIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcblxuXG4gICAgZm9yICh2YXIgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0clsxXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgMV0sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYSBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgUGF0dGVybiBvbmx5IE1hdHJpeCB0aW1lcyBEZW5zZSBNYXRyaXgnKTtcbiAgICB9IC8vIGIgZGVuc2VcblxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBicm93cyA9IGIuX3NpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYi5fc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4ID0gW107IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBtYXJrIGluIHdvcmtzcGFjZSBmb3IgY3VycmVudCBjb2x1bW5cblxuICAgICAgdmFyIG1hcmsgPSBqYiArIDE7IC8vIHJvd3MgaW4gamJcblxuICAgICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJyb3dzOyBpYisrKSB7XG4gICAgICAgIC8vIGJbaWIsIGpiXVxuICAgICAgICB2YXIgdmJpaiA9IGJkYXRhW2liXVtqYl07IC8vIGNoZWNrIGJbaWIsIGpiXSAhPSAwLCBhdm9pZCBsb29wc1xuXG4gICAgICAgIGlmICghZXEodmJpaiwgemVybykpIHtcbiAgICAgICAgICAvLyBBIHZhbHVlcyAmIGluZGV4IGluIGliIGNvbHVtblxuICAgICAgICAgIGZvciAodmFyIGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gYSByb3dcbiAgICAgICAgICAgIHZhciBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgICB4W2lhXSA9IG1mKHZiaWosIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZih2YmlqLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcblxuXG4gICAgICBmb3IgKHZhciBwMCA9IGNwdHJbamJdLCBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSBwMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIHNwYXJzZVxuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYi5fc2l6ZVsxXTsgLy8gZmxhZyBpbmRpY2F0aW5nIGJvdGggbWF0cmljZXMgKGEgJiBiKSBjb250YWluIGRhdGFcblxuICAgIHZhciB2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXM7IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSB2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHggPSB2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyB2YXJpYWJsZXNcblxuICAgIHZhciBrYSwga2EwLCBrYTEsIGtiLCBrYjAsIGtiMSwgaWEsIGliOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIG1hcmsgaW4gd29ya3NwYWNlIGZvciBjdXJyZW50IGNvbHVtblxuXG4gICAgICB2YXIgbWFyayA9IGpiICsgMTsgLy8gQiB2YWx1ZXMgJiBpbmRleCBpbiBqXG5cbiAgICAgIGZvciAoa2IwID0gYnB0cltqYl0sIGtiMSA9IGJwdHJbamIgKyAxXSwga2IgPSBrYjA7IGtiIDwga2IxOyBrYisrKSB7XG4gICAgICAgIC8vIGIgcm93XG4gICAgICAgIGliID0gYmluZGV4W2tiXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAvLyBsb29wIHZhbHVlcyBpbiBhWzosaWJdXG4gICAgICAgICAgZm9yIChrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgICAgeFtpYV0gPSBtZihidmFsdWVzW2tiXSwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKGJ2YWx1ZXNba2JdLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsb29wIHZhbHVlcyBpbiBhWzosaWJdXG4gICAgICAgICAgZm9yIChrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgICAgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIG1hdHJpeCB2YWx1ZXMgKHBhdHRlcm4gbWF0cml4KVxuXG5cbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG4gICAgICAgIGZvciAodmFyIHAwID0gY3B0cltqYl0sIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IHAwOyBwIDwgcDE7IHArKykge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSB0d28gb3IgbW9yZSB2YWx1ZXMsIGB4ICogeWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIG1hdHJpeCBwcm9kdWN0IGlzIGNhbGN1bGF0ZWQuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5tdWx0aXBseSh4LCB5KVxuICAgKiAgICBtYXRoLm11bHRpcGx5KHgsIHksIHosIC4uLilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubXVsdGlwbHkoNCwgNS4yKSAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMjAuOFxuICAgKiAgICBtYXRoLm11bHRpcGx5KDIsIDMsIDQpICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDI0XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLm11bHRpcGx5KGEsIGIpICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCA1ICsgMTRpXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIGNvbnN0IGQgPSBbWzEsIDIsIDNdLCBbMywgLTQsIDddXVxuICAgKiAgICBtYXRoLm11bHRpcGx5KGMsIGQpICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1s3LCAtNiwgMTddLCBbMTMsIC00LCAzM11dXG4gICAqXG4gICAqICAgIGNvbnN0IGUgPSBtYXRoLnVuaXQoJzIuMSBrbScpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoMywgZSkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDYuMyBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGl2aWRlLCBwcm9kLCBjcm9zcywgZG90XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gTXVsdGlwbGljYXRpb24gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cblxuICByZXR1cm4gdHlwZWQobmFtZSwgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgbXVsdGlwbHlTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIGRpbWVuc2lvbnNcbiAgICAgIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoYXJyYXlTaXplKHgpLCBhcnJheVNpemUoeSkpOyAvLyB1c2UgZGVuc2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG5cblxuICAgICAgdmFyIG0gPSB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKTsgLy8gcmV0dXJuIGFycmF5IG9yIHNjYWxhclxuXG4gICAgICByZXR1cm4gaXNNYXRyaXgobSkgPyBtLnZhbHVlT2YoKSA6IG07XG4gICAgfSxcbiAgICAnTWF0cml4LCBNYXRyaXgnOiBmdW5jdGlvbiBNYXRyaXhNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gZGltZW5zaW9uc1xuICAgICAgdmFyIHhzaXplID0geC5zaXplKCk7XG4gICAgICB2YXIgeXNpemUgPSB5LnNpemUoKTsgLy8gY2hlY2sgZGltZW5zaW9uc1xuXG4gICAgICBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKHhzaXplLCB5c2l6ZSk7IC8vIHByb2Nlc3MgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmICh4c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gcHJvY2VzcyB5IGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHlzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIFZlY3RvciAqIFZlY3RvclxuICAgICAgICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JWZWN0b3IoeCwgeSwgeHNpemVbMF0pO1xuICAgICAgICB9IC8vIFZlY3RvciAqIE1hdHJpeFxuXG5cbiAgICAgICAgcmV0dXJuIF9tdWx0aXBseVZlY3Rvck1hdHJpeCh4LCB5KTtcbiAgICAgIH0gLy8gcHJvY2VzcyB5IGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoeXNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIE1hdHJpeCAqIFZlY3RvclxuICAgICAgICByZXR1cm4gX211bHRpcGx5TWF0cml4VmVjdG9yKHgsIHkpO1xuICAgICAgfSAvLyBNYXRyaXggKiBNYXRyaXhcblxuXG4gICAgICByZXR1cm4gX211bHRpcGx5TWF0cml4TWF0cml4KHgsIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgTWF0cml4ICogTWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgTWF0cml4ICogTWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCwgeS5zdG9yYWdlKCkpLCB5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIG11bHRpcGx5U2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBhbnknOiBtdWx0aXBseVNjYWxhcixcbiAgICAnYW55LCBhbnksIC4uLmFueSc6IGZ1bmN0aW9uIGFueUFueUFueSh4LCB5LCByZXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcyh4LCB5KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMocmVzdWx0LCByZXN0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIG11bHRpcGx5U2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA1IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDUuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTAgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnc3VidHJhY3QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ2FkZFNjYWxhcicsICd1bmFyeU1pbnVzJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVN1YnRyYWN0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGFkZFNjYWxhcixcbiAgICB1bmFyeU1pbnVzLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICAvLyBUT0RPOiBzcGxpdCBmdW5jdGlvbiBzdWJ0cmFjdCBpbiB0d286IHN1YnRyYWN0IGFuZCBzdWJ0cmFjdFNjYWxhclxuICB2YXIgYWxnb3JpdGhtMDEgPSBjcmVhdGVBbGdvcml0aG0wMSh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA1ID0gY3JlYXRlQWxnb3JpdGhtMDUoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTAgPSBjcmVhdGVBbGdvcml0aG0xMCh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogU3VidHJhY3QgdHdvIHZhbHVlcywgYHggLSB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KDUuMywgMikgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuM1xuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5zdWJ0cmFjdChhLCBiKSAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTIgKyAyaVxuICAgKlxuICAgKiAgICBtYXRoLnN1YnRyYWN0KFs1LCA3LCA0XSwgNCkgIC8vIHJldHVybnMgQXJyYXkgWzEsIDMsIDBdXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLnVuaXQoJzIuMSBrbScpXG4gICAqICAgIGNvbnN0IGQgPSBtYXRoLnVuaXQoJzUwMG0nKVxuICAgKiAgICBtYXRoLnN1YnRyYWN0KGMsIGQpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCAxLjYga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGFkZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHhcbiAgICogICAgICAgICAgICBJbml0aWFsIHZhbHVlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geVxuICAgKiAgICAgICAgICAgIFZhbHVlIHRvIHN1YnRyYWN0IGZyb20gYHhgXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH1cbiAgICogICAgICAgICAgICBTdWJ0cmFjdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCAtIHk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnN1Yih5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5taW51cyh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnN1Yih5KTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKHgudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeCBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHkudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeSBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXRzIGRvIG5vdCBtYXRjaCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUsIHkudmFsdWUpO1xuICAgICAgcmVzLmZpeFByZWZpeCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNSh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeCwgdW5hcnlNaW51cyh5KSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIG1hdHJpeCB4IGFuZCB5IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGRpbWVuc2lvbnMuXG4gKiBUaHJvd3MgYSBEaW1lbnNpb25FcnJvciB3aGVuIGRpbWVuc2lvbnMgYXJlIG5vdCBlcXVhbFxuICogQHBhcmFtIHtNYXRyaXh9IHhcbiAqIEBwYXJhbSB7TWF0cml4fSB5XG4gKi9cblxuZnVuY3Rpb24gY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSkge1xuICB2YXIgeHNpemUgPSB4LnNpemUoKTtcbiAgdmFyIHlzaXplID0geS5zaXplKCk7XG5cbiAgaWYgKHhzaXplLmxlbmd0aCAhPT0geXNpemUubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHhzaXplLmxlbmd0aCwgeXNpemUubGVuZ3RoKTtcbiAgfVxufSIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDcnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDcgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggQSBhbmQgU3BhcnNlTWF0cml4IEIgaXRlbXMgKHplcm8gYW5kIG5vbnplcm8pIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqKSA9IGYoQWlqLCBCaWopXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNyhhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIGksIGo7IC8vIHJlc3VsdCBhcnJheXNcblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGNcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIGNkYXRhW2ldID0gW107XG4gICAgfSAvLyB3b3Jrc3BhY2VzXG5cblxuICAgIHZhciB4YSA9IFtdO1xuICAgIHZhciB4YiA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyBzY2F0dGVyIHRoZSB2YWx1ZXMgb2YgQSg6LGopIGludG8gd29ya3NwYWNlXG5cbiAgICAgIF9zY2F0dGVyKGEsIGosIHdhLCB4YSwgbWFyayk7IC8vIHNjYXR0ZXIgdGhlIHZhbHVlcyBvZiBCKDosaikgaW50byB3b3Jrc3BhY2VcblxuXG4gICAgICBfc2NhdHRlcihiLCBqLCB3YiwgeGIsIG1hcmspOyAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIG1hdHJpeCB2YWx1ZXMgQCBpLGpcbiAgICAgICAgdmFyIHZhID0gd2FbaV0gPT09IG1hcmsgPyB4YVtpXSA6IHplcm87XG4gICAgICAgIHZhciB2YiA9IHdiW2ldID09PSBtYXJrID8geGJbaV0gOiB6ZXJvOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgICAgICBjZGF0YVtpXVtqXSA9IGNmKHZhLCB2Yik7XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBfc2NhdHRlcihtLCBqLCB3LCB4LCBtYXJrKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzO1xuICAgIHZhciBpbmRleCA9IG0uX2luZGV4O1xuICAgIHZhciBwdHIgPSBtLl9wdHI7IC8vIGxvb3AgdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICBmb3IgKHZhciBrID0gcHRyW2pdLCBrMSA9IHB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIHZhciBpID0gaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB4W2ldID0gdmFsdWVzW2tdO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnY29uaic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25qID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGNvbXBsZXggY29uanVnYXRlIG9mIGEgY29tcGxleCB2YWx1ZS5cbiAgICogSWYgYHggPSBhK2JpYCwgdGhlIGNvbXBsZXggY29uanVnYXRlIG9mIGB4YCBpcyBgYSAtIGJpYC5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmNvbmooeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJzIgKyAzaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDIgLSAzaVxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCcyIC0gM2knKSkgIC8vIHJldHVybnMgQ29tcGxleCAyICsgM2lcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnLTUuMmknKSkgIC8vIHJldHVybnMgQ29tcGxleCA1LjJpXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICByZSwgaW0sIGFyZywgYWJzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4XG4gICAqICAgICAgICAgICAgQSBjb21wbGV4IG51bWJlciBvciBhcnJheSB3aXRoIGNvbXBsZXggbnVtYmVyc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9XG4gICAqICAgICAgICAgICAgVGhlIGNvbXBsZXggY29uanVnYXRlIG9mIHhcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguY29uanVnYXRlKCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLy8gKGMpIDIwMTgsIE1hcml1c3ogTm93YWtcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBJU0Ncbi8vIERlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9scnUtcXVldWVcbmV4cG9ydCBmdW5jdGlvbiBscnVRdWV1ZShsaW1pdCkge1xuICB2YXIgc2l6ZSA9IDA7XG4gIHZhciBiYXNlID0gMTtcbiAgdmFyIHF1ZXVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBpbmRleCA9IDA7XG5cbiAgdmFyIGRlbCA9IGZ1bmN0aW9uIGRlbChpZCkge1xuICAgIHZhciBvbGRJbmRleCA9IG1hcFtpZF07XG4gICAgaWYgKCFvbGRJbmRleCkgcmV0dXJuO1xuICAgIGRlbGV0ZSBxdWV1ZVtvbGRJbmRleF07XG4gICAgZGVsZXRlIG1hcFtpZF07XG4gICAgLS1zaXplO1xuICAgIGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuO1xuXG4gICAgaWYgKCFzaXplKSB7XG4gICAgICBpbmRleCA9IDA7XG4gICAgICBiYXNlID0gMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aGlsZSAoIWhhc093blByb3BlcnR5LmNhbGwocXVldWUsICsrYmFzZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfTtcblxuICBsaW1pdCA9IE1hdGguYWJzKGxpbWl0KTtcbiAgcmV0dXJuIHtcbiAgICBoaXQ6IGZ1bmN0aW9uIGhpdChpZCkge1xuICAgICAgdmFyIG9sZEluZGV4ID0gbWFwW2lkXTtcbiAgICAgIHZhciBudUluZGV4ID0gKytpbmRleDtcbiAgICAgIHF1ZXVlW251SW5kZXhdID0gaWQ7XG4gICAgICBtYXBbaWRdID0gbnVJbmRleDtcblxuICAgICAgaWYgKCFvbGRJbmRleCkge1xuICAgICAgICArK3NpemU7XG4gICAgICAgIGlmIChzaXplIDw9IGxpbWl0KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZCA9IHF1ZXVlW2Jhc2VdO1xuICAgICAgICBkZWwoaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBxdWV1ZVtvbGRJbmRleF07XG4gICAgICBpZiAoYmFzZSAhPT0gb2xkSW5kZXgpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlICghaGFzT3duUHJvcGVydHkuY2FsbChxdWV1ZSwgKytiYXNlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZTogZGVsLFxuICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHNpemUgPSBpbmRleCA9IDA7XG4gICAgICBiYXNlID0gMTtcbiAgICAgIHF1ZXVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICB9O1xufVxuOyIsIi8vIGZ1bmN0aW9uIHV0aWxzXG5pbXBvcnQgeyBscnVRdWV1ZSB9IGZyb20gJy4vbHJ1UXVldWUuanMnO1xuLyoqXG4gKiBNZW1vaXplIGEgZ2l2ZW4gZnVuY3Rpb24gYnkgY2FjaGluZyB0aGUgY29tcHV0ZWQgcmVzdWx0LlxuICogVGhlIGNhY2hlIG9mIGEgbWVtb2l6ZWQgZnVuY3Rpb24gY2FuIGJlIGNsZWFyZWQgYnkgZGVsZXRpbmcgdGhlIGBjYWNoZWBcbiAqIHByb3BlcnR5IG9mIHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiB0byBiZSBtZW1vaXplZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTXVzdCBiZSBhIHB1cmUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFyZ3M6IEFycmF5KTogc3RyaW5nfSBbb3B0aW9ucy5oYXNoZXJdXG4gKiAgICBBIGN1c3RvbSBoYXNoIGJ1aWxkZXIuIElzIEpTT04uc3RyaW5naWZ5IGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0ge251bWJlciB8IHVuZGVmaW5lZH0gW29wdGlvbnMubGltaXRdXG4gKiAgICBNYXhpbXVtIG51bWJlciBvZiB2YWx1ZXMgdGhhdCBtYXkgYmUgY2FjaGVkLiBVbmRlZmluZWQgaW5kaWNhdGVzXG4gKiAgICB1bmxpbWl0ZWQgKGRlZmF1bHQpXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gICAgICAgICAgICAgICAgICAgICAgIFJldHVybnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIHtcbiAgICBoYXNoZXIsXG4gICAgbGltaXRcbiAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGxpbWl0ID0gbGltaXQgPT0gbnVsbCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IGxpbWl0O1xuICBoYXNoZXIgPSBoYXNoZXIgPT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5IDogaGFzaGVyO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb2l6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9pemUuY2FjaGUgIT09ICdvYmplY3QnKSB7XG4gICAgICBtZW1vaXplLmNhY2hlID0ge1xuICAgICAgICB2YWx1ZXM6IG5ldyBNYXAoKSxcbiAgICAgICAgbHJ1OiBscnVRdWV1ZShsaW1pdCB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICB2YXIgaGFzaCA9IGhhc2hlcihhcmdzKTtcblxuICAgIGlmIChtZW1vaXplLmNhY2hlLnZhbHVlcy5oYXMoaGFzaCkpIHtcbiAgICAgIG1lbW9pemUuY2FjaGUubHJ1LmhpdChoYXNoKTtcbiAgICAgIHJldHVybiBtZW1vaXplLmNhY2hlLnZhbHVlcy5nZXQoaGFzaCk7XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbCA9IGZuLmFwcGx5KGZuLCBhcmdzKTtcbiAgICBtZW1vaXplLmNhY2hlLnZhbHVlcy5zZXQoaGFzaCwgbmV3VmFsKTtcbiAgICBtZW1vaXplLmNhY2hlLnZhbHVlcy5kZWxldGUobWVtb2l6ZS5jYWNoZS5scnUuaGl0KGhhc2gpKTtcbiAgICByZXR1cm4gbmV3VmFsO1xuICB9O1xufVxuLyoqXG4gKiBNZW1vaXplIGEgZ2l2ZW4gZnVuY3Rpb24gYnkgY2FjaGluZyBhbGwgcmVzdWx0cyBhbmQgdGhlIGFyZ3VtZW50cyxcbiAqIGFuZCBjb21wYXJpbmcgYWdhaW5zdCB0aGUgYXJndW1lbnRzIG9mIHByZXZpb3VzIHJlc3VsdHMgYmVmb3JlXG4gKiBleGVjdXRpbmcgYWdhaW4uXG4gKiBUaGlzIGlzIGxlc3MgcGVyZm9ybWFudCB0aGFuIGBtZW1vaXplYCB3aGljaCBjYWxjdWxhdGVzIGEgaGFzaCxcbiAqIHdoaWNoIGlzIHZlcnkgZmFzdCB0byBjb21wYXJlLiBVc2UgYG1lbW9pemVDb21wYXJlYCBvbmx5IHdoZW4gaXQgaXNcbiAqIG5vdCBwb3NzaWJsZSB0byBjcmVhdGUgYSB1bmlxdWUgc2VyaWFsaXphYmxlIGhhc2ggZnJvbSB0aGUgZnVuY3Rpb25cbiAqIGFyZ3VtZW50cy5cbiAqIFRoZSBpc0VxdWFsIGZ1bmN0aW9uIG11c3QgY29tcGFyZSB0d28gc2V0cyBvZiBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm4gdHJ1ZSB3aGVuIGVxdWFsIChjYW4gYmUgYSBkZWVwIGVxdWFsaXR5IGNoZWNrIGZvciBleGFtcGxlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGE6ICosIGI6ICopIDogYm9vbGVhbn0gaXNFcXVhbFxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplQ29tcGFyZShmbiwgaXNFcXVhbCkge1xuICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uIG1lbW9pemUoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgbWVtb2l6ZS5jYWNoZS5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIGNhY2hlZCA9IG1lbW9pemUuY2FjaGVbY107XG5cbiAgICAgIGlmIChpc0VxdWFsKGFyZ3MsIGNhY2hlZC5hcmdzKSkge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgY2FjaGUgZW50cnkgdG8gdGhlIHRvcCBzbyByZWNlbnRseSB1c2VkIGVudHJpZXMgbW92ZSB1cD9cbiAgICAgICAgcmV0dXJuIGNhY2hlZC5yZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IGZuLmFwcGx5KGZuLCBhcmdzKTtcbiAgICBtZW1vaXplLmNhY2hlLnVuc2hpZnQoe1xuICAgICAgYXJncyxcbiAgICAgIHJlc1xuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgbWVtb2l6ZS5jYWNoZSA9IFtdO1xuICByZXR1cm4gbWVtb2l6ZTtcbn1cbi8qKlxuICogRmluZCB0aGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIGV4cGVjdGVkIGJ5IGEgdHlwZWQgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAgIEEgdHlwZWQgZnVuY3Rpb25cbiAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZXhwZWN0ZWQgYXJndW1lbnRzLlxuICogICAgICAgICAgICAgICAgICBSZXR1cm5zIC0xIHdoZW4gbm8gc2lnbmF0dXJlcyB3aGVyZSBmb3VuZCBvbiB0aGUgZnVuY3Rpb24uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heEFyZ3VtZW50Q291bnQoZm4pIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGZuLnNpZ25hdHVyZXMgfHwge30pLnJlZHVjZShmdW5jdGlvbiAoYXJncywgc2lnbmF0dXJlKSB7XG4gICAgdmFyIGNvdW50ID0gKHNpZ25hdHVyZS5tYXRjaCgvLC9nKSB8fCBbXSkubGVuZ3RoICsgMTtcbiAgICByZXR1cm4gTWF0aC5tYXgoYXJncywgY291bnQpO1xuICB9LCAtMSk7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnaWRlbnRpdHknO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdCaWdOdW1iZXInLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUlkZW50aXR5ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBCaWdOdW1iZXIsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSAyLWRpbWVuc2lvbmFsIGlkZW50aXR5IG1hdHJpeCB3aXRoIHNpemUgbSB4IG4gb3IgbiB4IG4uXG4gICAqIFRoZSBtYXRyaXggaGFzIG9uZXMgb24gdGhlIGRpYWdvbmFsIGFuZCB6ZXJvcyBlbHNld2hlcmUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5pZGVudGl0eShuKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG4sIGZvcm1hdClcbiAgICogICAgbWF0aC5pZGVudGl0eShtLCBuKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG0sIG4sIGZvcm1hdClcbiAgICogICAgbWF0aC5pZGVudGl0eShbbSwgbl0pXG4gICAqICAgIG1hdGguaWRlbnRpdHkoW20sIG5dLCBmb3JtYXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmlkZW50aXR5KDMpICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMCwgMF0sIFswLCAxLCAwXSwgWzAsIDAsIDFdXVxuICAgKiAgICBtYXRoLmlkZW50aXR5KDMsIDIpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMF0sIFswLCAxXSwgWzAsIDBdXVxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG1hdGguc2l6ZShBKSkgICAgICAgICAvLyByZXR1cm5zIFtbMSwgMCwgMF0sIFswLCAxLCAwXV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpYWcsIG9uZXMsIHplcm9zLCBzaXplLCByYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gey4uLm51bWJlciB8IE1hdHJpeCB8IEFycmF5fSBzaXplICAgVGhlIHNpemUgZm9yIHRoZSBtYXRyaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4IHwgQXJyYXkgfCBudW1iZXJ9IEEgbWF0cml4IHdpdGggb25lcyBvbiB0aGUgZGlhZ29uYWwuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gbWF0cml4KFtdKSA6IFtdO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gbWF0cml4KGZvcm1hdCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyKHJvd3MpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgcm93cywgY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyAnZGVuc2UnIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlclN0cmluZyhyb3dzLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgcm93cywgZm9ybWF0KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlck51bWJlckJpZ051bWJlcihyb3dzLCBjb2xzKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gJ2RlbnNlJyA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlck51bWJlckJpZ051bWJlclN0cmluZyhyb3dzLCBjb2xzLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgY29scywgZm9ybWF0KTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShzaXplKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBzdHJpbmcnOiBmdW5jdGlvbiBBcnJheVN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSwgZm9ybWF0KTtcbiAgICB9LFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHNpemUpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZS52YWx1ZU9mKCksIHNpemUuc3RvcmFnZSgpKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIHN0cmluZyc6IGZ1bmN0aW9uIE1hdHJpeFN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSwgZm9ybWF0KSB7XG4gICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZm9ybWF0ID8gbWF0cml4KGZvcm1hdCkgOiBbXTtcblxuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2lkZW50aXR5KHNpemVbMF0sIHNpemVbMF0sIGZvcm1hdCk7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eShzaXplWzBdLCBzaXplWzFdLCBmb3JtYXQpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlY3RvciBjb250YWluaW5nIHR3byB2YWx1ZXMgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpZGVudGl0eSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IHJvd3NcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IGNvbHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGZvcm1hdCkge1xuICAgIC8vIEJpZ051bWJlciBjb25zdHJ1Y3RvciB3aXRoIHRoZSByaWdodCBwcmVjaXNpb25cbiAgICB2YXIgQmlnID0gaXNCaWdOdW1iZXIocm93cykgfHwgaXNCaWdOdW1iZXIoY29scykgPyBCaWdOdW1iZXIgOiBudWxsO1xuICAgIGlmIChpc0JpZ051bWJlcihyb3dzKSkgcm93cyA9IHJvd3MudG9OdW1iZXIoKTtcbiAgICBpZiAoaXNCaWdOdW1iZXIoY29scykpIGNvbHMgPSBjb2xzLnRvTnVtYmVyKCk7XG5cbiAgICBpZiAoIWlzSW50ZWdlcihyb3dzKSB8fCByb3dzIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGlkZW50aXR5IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW50ZWdlcihjb2xzKSB8fCBjb2xzIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGlkZW50aXR5IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9XG5cbiAgICB2YXIgb25lID0gQmlnID8gbmV3IEJpZ051bWJlcigxKSA6IDE7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IEJpZyA/IG5ldyBCaWcoMCkgOiAwO1xuICAgIHZhciBzaXplID0gW3Jvd3MsIGNvbHNdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHJldHVybiBhIG1hdHJpeFxuXG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgLy8gY3JlYXRlIGRpYWdvbmFsIG1hdHJpeCAodXNlIG9wdGltaXplZCBpbXBsZW1lbnRhdGlvbiBmb3Igc3RvcmFnZSBmb3JtYXQpXG4gICAgICBpZiAoZm9ybWF0ID09PSAnc3BhcnNlJykge1xuICAgICAgICByZXR1cm4gU3BhcnNlTWF0cml4LmRpYWdvbmFsKHNpemUsIG9uZSwgMCwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RlbnNlJykge1xuICAgICAgICByZXR1cm4gRGVuc2VNYXRyaXguZGlhZ29uYWwoc2l6ZSwgb25lLCAwLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBtYXRyaXggdHlwZSBcXFwiXCIuY29uY2F0KGZvcm1hdCwgXCJcXFwiXCIpKTtcbiAgICB9IC8vIGNyZWF0ZSBhbmQgcmVzaXplIGFycmF5XG5cblxuICAgIHZhciByZXMgPSByZXNpemUoW10sIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGZpbGwgaW4gb25lcyBvbiB0aGUgZGlhZ29uYWxcblxuICAgIHZhciBtaW5pbXVtID0gcm93cyA8IGNvbHMgPyByb3dzIDogY29sczsgLy8gZmlsbCBkaWFnb25hbFxuXG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBtaW5pbXVtOyBkKyspIHtcbiAgICAgIHJlc1tkXVtkXSA9IG9uZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59KTsiLCJleHBvcnQgZnVuY3Rpb24gbm9CaWdudW1iZXIoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJiaWdudW1iZXJcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub0ZyYWN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiZnJhY3Rpb25cIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub01hdHJpeCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcIm1hdHJpeFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vSW5kZXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJpbmRleFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vU3Vic2V0KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwibWF0cml4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSBzeW50YXggZXJyb3Igd2l0aCB0aGUgbWVzc2FnZTpcbiAqICAgICAnV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiBmdW5jdGlvbiA8Zm4+ICg8Y291bnQ+IHByb3ZpZGVkLCA8bWluPi08bWF4PiBleHBlY3RlZCknXG4gKiBAcGFyYW0ge3N0cmluZ30gZm4gICAgIEZ1bmN0aW9uIG5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAgQWN0dWFsIGFyZ3VtZW50IGNvdW50XG4gKiBAcGFyYW0ge251bWJlcn0gbWluICAgIE1pbmltdW0gcmVxdWlyZWQgYXJndW1lbnQgY291bnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4XSAgTWF4aW11bSByZXF1aXJlZCBhcmd1bWVudCBjb3VudFxuICogQGV4dGVuZHMgRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFyZ3VtZW50c0Vycm9yKGZuLCBjb3VudCwgbWluLCBtYXgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFyZ3VtZW50c0Vycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY291bnQgPSBjb3VudDtcbiAgdGhpcy5taW4gPSBtaW47XG4gIHRoaXMubWF4ID0gbWF4O1xuICB0aGlzLm1lc3NhZ2UgPSAnV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgZm4gKyAnICgnICsgY291bnQgKyAnIHByb3ZpZGVkLCAnICsgbWluICsgKG1heCAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gbnVsbCA/ICctJyArIG1heCA6ICcnKSArICcgZXhwZWN0ZWQpJztcbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFcnJvcjtcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5uYW1lID0gJ0FyZ3VtZW50c0Vycm9yJztcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5pc0FyZ3VtZW50c0Vycm9yID0gdHJ1ZTsiLCJpbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBub01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AuanMnO1xudmFyIG5hbWUgPSAnc2l6ZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnP21hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTaXplID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBzaXplIG9mIGEgbWF0cml4IG9yIHNjYWxhci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5zaXplKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5zaXplKDIuMykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtdXG4gICAqICAgICBtYXRoLnNpemUoJ2hlbGxvIHdvcmxkJykgICAgICAgIC8vIHJldHVybnMgWzExXVxuICAgKlxuICAgKiAgICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgIG1hdGguc2l6ZShBKSAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbMiwgM11cbiAgICogICAgIG1hdGguc2l6ZShtYXRoLnJhbmdlKDEsNikpICAgICAgLy8gcmV0dXJucyBbNV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICByZXNpemUsIHNxdWVlemUsIHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW4gfCBudW1iZXIgfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4ICBBIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gQSB2ZWN0b3Igd2l0aCBzaXplIG9mIGB4YC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIHguY3JlYXRlKHguc2l6ZSgpKTtcbiAgICB9LFxuICAgIEFycmF5OiBhcnJheVNpemUsXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBbeC5sZW5ndGhdIDogbWF0cml4KFt4Lmxlbmd0aF0pO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIgfCBVbml0IHwgYm9vbGVhbiB8IG51bGwnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyVW5pdEJvb2xlYW5OdWxsKHgpIHtcbiAgICAgIC8vIHNjYWxhclxuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBbXSA6IG1hdHJpeCA/IG1hdHJpeChbXSkgOiBub01hdHJpeCgpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbi8qKlxuICogR2V0IGEgcHJvcGVydHkgb2YgYSBwbGFpbiBvYmplY3RcbiAqIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBvYmplY3QgaXMgbm90IGEgcGxhaW4gb2JqZWN0IG9yIHRoZVxuICogcHJvcGVydHkgaXMgbm90IGRlZmluZWQgb24gdGhlIG9iamVjdCBpdHNlbGZcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZSB3aGVuIHNhZmVcbiAqL1xuXG5mdW5jdGlvbiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSB7XG4gIC8vIG9ubHkgYWxsb3cgZ2V0dGluZyBzYWZlIHByb3BlcnRpZXMgb2YgYSBwbGFpbiBvYmplY3RcbiAgaWYgKGlzUGxhaW5PYmplY3Qob2JqZWN0KSAmJiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApKSB7XG4gICAgcmV0dXJuIG9iamVjdFtwcm9wXTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BdID09PSAnZnVuY3Rpb24nICYmIGlzU2FmZU1ldGhvZChvYmplY3QsIHByb3ApKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWNjZXNzIG1ldGhvZCBcIicgKyBwcm9wICsgJ1wiIGFzIGEgcHJvcGVydHknKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHByb3AgKyAnXCInKTtcbn1cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYSBwbGFpbiBvYmplY3QuXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSB0aGUgb2JqZWN0IGlzIG5vdCBhIHBsYWluIG9iamVjdCBvciB0aGVcbiAqIHByb3BlcnR5IHdvdWxkIG92ZXJyaWRlIGFuIGluaGVyaXRlZCBwcm9wZXJ0eSBsaWtlIC5jb25zdHJ1Y3RvciBvciAudG9TdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZVxuICovXG4vLyBUT0RPOiBtZXJnZSB0aGlzIGZ1bmN0aW9uIGludG8gYWNjZXNzLmpzP1xuXG5cbmZ1bmN0aW9uIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3AsIHZhbHVlKSB7XG4gIC8vIG9ubHkgYWxsb3cgc2V0dGluZyBzYWZlIHByb3BlcnRpZXMgb2YgYSBwbGFpbiBvYmplY3RcbiAgaWYgKGlzUGxhaW5PYmplY3Qob2JqZWN0KSAmJiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApKSB7XG4gICAgb2JqZWN0W3Byb3BdID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcHJvcCArICdcIicpO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBwcm9wZXJ0eSBpcyBzYWZlIHRvIHVzZSBmb3IgYW4gb2JqZWN0LlxuICogRm9yIGV4YW1wbGUgLnRvU3RyaW5nIGFuZCAuY29uc3RydWN0b3IgYXJlIG5vdCBzYWZlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gc2FmZVxuICovXG5cblxuZnVuY3Rpb24gaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSB7XG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFNBRkU6IHdoaXRlbGlzdGVkXG4gIC8vIGUuZyBsZW5ndGhcblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShzYWZlTmF0aXZlUHJvcGVydGllcywgcHJvcCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIE9iamVjdCBwcm90b3R5cGVcbiAgLy8gZS5nIGNvbnN0cnVjdG9yXG5cblxuICBpZiAocHJvcCBpbiBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgT2JqZWN0LnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gRnVuY3Rpb24gcHJvdG90eXBlXG4gIC8vIGUuZyBjYWxsLCBhcHBseVxuXG5cbiAgaWYgKHByb3AgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgRnVuY3Rpb24ucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBhIG1ldGhvZCBpcyBzYWZlLlxuICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhhdCdzIG5vdCB0aGUgY2FzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqL1xuLy8gVE9ETzogbWVyZ2UgdGhpcyBmdW5jdGlvbiBpbnRvIGFzc2lnbi5qcz9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVNhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpIHtcbiAgaWYgKCFpc1NhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gbWV0aG9kIFwiJyArIG1ldGhvZCArICdcIicpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBtZXRob2QgaXMgc2FmZS5cbiAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoYXQncyBub3QgdGhlIGNhc2UgKGZvciBleGFtcGxlIGZvciBgY29uc3RydWN0b3JgKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHNhZmUsIGZhbHNlIG90aGVyd2lzZVxuICovXG5cblxuZnVuY3Rpb24gaXNTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSB7XG4gIGlmIChvYmplY3QgPT09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIG9iamVjdFttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogZ2hvc3RlZFxuICAvLyBlLmcgb3ZlcnJpZGRlbiB0b1N0cmluZ1xuICAvLyBOb3RlIHRoYXQgSUUxMCBkb2Vzbid0IHN1cHBvcnQgX19wcm90b19fIGFuZCB3ZSBjYW4ndCBkbyB0aGlzIGNoZWNrIHRoZXJlLlxuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KG9iamVjdCwgbWV0aG9kKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgbWV0aG9kIGluIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFNBRkU6IHdoaXRlbGlzdGVkXG4gIC8vIGUuZyB0b1N0cmluZ1xuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KHNhZmVOYXRpdmVNZXRob2RzLCBtZXRob2QpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBPYmplY3QgcHJvdG90eXBlXG4gIC8vIGUuZyBjb25zdHJ1Y3RvclxuXG5cbiAgaWYgKG1ldGhvZCBpbiBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgT2JqZWN0LnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gRnVuY3Rpb24gcHJvdG90eXBlXG4gIC8vIGUuZyBjYWxsLCBhcHBseVxuXG5cbiAgaWYgKG1ldGhvZCBpbiBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBGdW5jdGlvbi5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuXG52YXIgc2FmZU5hdGl2ZVByb3BlcnRpZXMgPSB7XG4gIGxlbmd0aDogdHJ1ZSxcbiAgbmFtZTogdHJ1ZVxufTtcbnZhciBzYWZlTmF0aXZlTWV0aG9kcyA9IHtcbiAgdG9TdHJpbmc6IHRydWUsXG4gIHZhbHVlT2Y6IHRydWUsXG4gIHRvTG9jYWxlU3RyaW5nOiB0cnVlXG59O1xuZXhwb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IGlzU2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyB2YWxpZGF0ZVNhZmVNZXRob2QgfTtcbmV4cG9ydCB7IGlzU2FmZU1ldGhvZCB9O1xuZXhwb3J0IHsgaXNQbGFpbk9iamVjdCB9OyIsImltcG9ydCB7IGlzSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnc3Vic2V0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTdWJzZXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYSBzdWJzZXQgb2YgYSBtYXRyaXggb3Igc3RyaW5nLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqICAgICBtYXRoLnN1YnNldCh2YWx1ZSwgaW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBhIHN1YnNldFxuICAgKiAgICAgbWF0aC5zdWJzZXQodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCBbLCBkZWZhdWx0VmFsdWVdKSAgLy8gcmVwbGFjZSBhIHN1YnNldFxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIC8vIGdldCBhIHN1YnNldFxuICAgKiAgICAgY29uc3QgZCA9IFtbMSwgMl0sIFszLCA0XV1cbiAgICogICAgIG1hdGguc3Vic2V0KGQsIG1hdGguaW5kZXgoMSwgMCkpICAgICAgICAvLyByZXR1cm5zIDNcbiAgICogICAgIG1hdGguc3Vic2V0KGQsIG1hdGguaW5kZXgoWzAsIDFdLCAxKSkgICAvLyByZXR1cm5zIFtbMl0sIFs0XV1cbiAgICpcbiAgICogICAgIC8vIHJlcGxhY2UgYSBzdWJzZXRcbiAgICogICAgIGNvbnN0IGUgPSBbXVxuICAgKiAgICAgY29uc3QgZiA9IG1hdGguc3Vic2V0KGUsIG1hdGguaW5kZXgoMCwgWzAsIDJdKSwgWzUsIDZdKSAgLy8gZiA9IFtbNSwgNl1dXG4gICAqICAgICBjb25zdCBnID0gbWF0aC5zdWJzZXQoZiwgbWF0aC5pbmRleCgxLCAxKSwgNywgMCkgICAgICAgICAvLyBnID0gW1s1LCA2XSwgWzAsIDddXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHNpemUsIHJlc2l6ZSwgc3F1ZWV6ZSwgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gbWF0cml4ICBBbiBhcnJheSwgbWF0cml4LCBvciBzdHJpbmdcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvblxuICAgKiBAcGFyYW0geyp9IFtyZXBsYWNlbWVudF0gICAgICAgICAgICAgICAgIEFuIGFycmF5LCBtYXRyaXgsIG9yIHNjYWxhci5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBwcm92aWRlZCwgdGhlIHN1YnNldCBpcyByZXBsYWNlZCB3aXRoIHJlcGxhY2VtZW50LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgdGhlIHN1YnNldCBpcyByZXR1cm5lZFxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9dW5kZWZpbmVkXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5tYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IEVpdGhlciB0aGUgcmV0cmlldmVkIHN1YnNldCBvciB0aGUgdXBkYXRlZCBtYXRyaXguXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIC8vIGdldCBzdWJzZXRcbiAgICAnQXJyYXksIEluZGV4JzogZnVuY3Rpb24gQXJyYXlJbmRleCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHZhciBtID0gbWF0cml4KHZhbHVlKTtcbiAgICAgIHZhciBzdWJzZXQgPSBtLnN1YnNldChpbmRleCk7IC8vIHJldHVybnMgYSBNYXRyaXhcblxuICAgICAgcmV0dXJuIGluZGV4LmlzU2NhbGFyKCkgPyBzdWJzZXQgOiBzdWJzZXQudmFsdWVPZigpOyAvLyByZXR1cm4gYW4gQXJyYXkgKGxpa2UgdGhlIGlucHV0KVxuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgnOiBmdW5jdGlvbiBNYXRyaXhJbmRleCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zdWJzZXQoaW5kZXgpO1xuICAgIH0sXG4gICAgJ09iamVjdCwgSW5kZXgnOiBfZ2V0T2JqZWN0UHJvcGVydHksXG4gICAgJ3N0cmluZywgSW5kZXgnOiBfZ2V0U3Vic3RyaW5nLFxuICAgIC8vIHNldCBzdWJzZXRcbiAgICAnQXJyYXksIEluZGV4LCBhbnknOiBmdW5jdGlvbiBBcnJheUluZGV4QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoY2xvbmUodmFsdWUpKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCB1bmRlZmluZWQpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgSW5kZXgsIGFueSwgYW55JzogZnVuY3Rpb24gQXJyYXlJbmRleEFueUFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoY2xvbmUodmFsdWUpKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4LCBhbnknOiBmdW5jdGlvbiBNYXRyaXhJbmRleEFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gdmFsdWUuY2xvbmUoKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4LCBhbnksIGFueSc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4QW55QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNsb25lKCkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9LFxuICAgICdzdHJpbmcsIEluZGV4LCBzdHJpbmcnOiBfc2V0U3Vic3RyaW5nLFxuICAgICdzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyc6IF9zZXRTdWJzdHJpbmcsXG4gICAgJ09iamVjdCwgSW5kZXgsIGFueSc6IF9zZXRPYmplY3RQcm9wZXJ0eVxuICB9KTtcbn0pO1xuLyoqXG4gKiBSZXRyaWV2ZSBhIHN1YnNldCBvZiBhIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgIHN0cmluZyBmcm9tIHdoaWNoIHRvIGdldCBhIHN1YnN0cmluZ1xuICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge3N0cmluZ30gc3Vic3RyaW5nXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9nZXRTdWJzdHJpbmcoc3RyLCBpbmRleCkge1xuICBpZiAoIWlzSW5kZXgoaW5kZXgpKSB7XG4gICAgLy8gVE9ETzogYmV0dGVyIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLmxlbmd0aCwgMSk7XG4gIH0gLy8gdmFsaWRhdGUgd2hldGhlciB0aGUgcmFuZ2UgaXMgb3V0IG9mIHJhbmdlXG5cblxuICB2YXIgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5taW4oKVswXSwgc3RyTGVuKTtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5tYXgoKVswXSwgc3RyTGVuKTtcbiAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKDApO1xuICB2YXIgc3Vic3RyID0gJyc7XG4gIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICBzdWJzdHIgKz0gc3RyLmNoYXJBdCh2KTtcbiAgfSk7XG4gIHJldHVybiBzdWJzdHI7XG59XG4vKipcbiAqIFJlcGxhY2UgYSBzdWJzdHJpbmcgaW4gYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICBzdHJpbmcgdG8gYmUgcmVwbGFjZWRcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudCAgICBSZXBsYWNlbWVudCBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZGVmYXVsdFZhbHVlXSBEZWZhdWx0IHZhbHVlIHRvIGJlIHVzZXMgd2hlbiByZXNpemluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzdHJpbmcuIGlzICcgJyBieSBkZWZhdWx0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXN1bHRcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc2V0U3Vic3RyaW5nKHN0ciwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKCFpbmRleCB8fCBpbmRleC5pc0luZGV4ICE9PSB0cnVlKSB7XG4gICAgLy8gVE9ETzogYmV0dGVyIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLmxlbmd0aCwgMSk7XG4gIH1cblxuICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3N0cmluZycgfHwgZGVmYXVsdFZhbHVlLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2luZ2xlIGNoYXJhY3RlciBleHBlY3RlZCBhcyBkZWZhdWx0VmFsdWUnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGVmYXVsdFZhbHVlID0gJyAnO1xuICB9XG5cbiAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKDApO1xuICB2YXIgbGVuID0gcmFuZ2Uuc2l6ZSgpWzBdO1xuXG4gIGlmIChsZW4gIT09IHJlcGxhY2VtZW50Lmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihyYW5nZS5zaXplKClbMF0sIHJlcGxhY2VtZW50Lmxlbmd0aCk7XG4gIH0gLy8gdmFsaWRhdGUgd2hldGhlciB0aGUgcmFuZ2UgaXMgb3V0IG9mIHJhbmdlXG5cblxuICB2YXIgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5taW4oKVswXSk7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWF4KClbMF0pOyAvLyBjb3B5IHRoZSBzdHJpbmcgaW50byBhbiBhcnJheSB3aXRoIGNoYXJhY3RlcnNcblxuICB2YXIgY2hhcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ckxlbjsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBzdHIuY2hhckF0KGkpO1xuICB9XG5cbiAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuICAgIGNoYXJzW3ZdID0gcmVwbGFjZW1lbnQuY2hhckF0KGlbMF0pO1xuICB9KTsgLy8gaW5pdGlhbGl6ZSB1bmRlZmluZWQgY2hhcmFjdGVycyB3aXRoIGEgc3BhY2VcblxuICBpZiAoY2hhcnMubGVuZ3RoID4gc3RyTGVuKSB7XG4gICAgZm9yICh2YXIgX2kgPSBzdHJMZW4gLSAxLCBfbGVuID0gY2hhcnMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGlmICghY2hhcnNbX2ldKSB7XG4gICAgICAgIGNoYXJzW19pXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hhcnMuam9pbignJyk7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgcHJvcGVydHkgZnJvbSBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfZ2V0T2JqZWN0UHJvcGVydHkob2JqZWN0LCBpbmRleCkge1xuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCksIDEpO1xuICB9XG5cbiAgdmFyIGtleSA9IGluZGV4LmRpbWVuc2lvbigwKTtcblxuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgYXMgaW5kZXggdG8gcmV0cmlldmUgYW4gb2JqZWN0IHByb3BlcnR5Jyk7XG4gIH1cblxuICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwga2V5KTtcbn1cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICogQHBhcmFtIHsqfSByZXBsYWNlbWVudFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdXBkYXRlZCBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc2V0T2JqZWN0UHJvcGVydHkob2JqZWN0LCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLCAxKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBpbmRleC5kaW1lbnNpb24oMCk7XG5cbiAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGFzIGluZGV4IHRvIHJldHJpZXZlIGFuIG9iamVjdCBwcm9wZXJ0eScpO1xuICB9IC8vIGNsb25lIHRoZSBvYmplY3QsIGFuZCBhcHBseSB0aGUgcHJvcGVydHkgdG8gdGhlIGNsb25lXG5cblxuICB2YXIgdXBkYXRlZCA9IGNsb25lKG9iamVjdCk7XG4gIHNldFNhZmVQcm9wZXJ0eSh1cGRhdGVkLCBrZXksIHJlcGxhY2VtZW50KTtcbiAgcmV0dXJuIHVwZGF0ZWQ7XG59IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnemVyb3MnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdCaWdOdW1iZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlWmVyb3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIEJpZ051bWJlclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbWF0cml4IGZpbGxlZCB3aXRoIHplcm9zLiBUaGUgY3JlYXRlZCBtYXRyaXggY2FuIGhhdmUgb25lIG9yXG4gICAqIG11bHRpcGxlIGRpbWVuc2lvbnMuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC56ZXJvcyhtKVxuICAgKiAgICBtYXRoLnplcm9zKG0sIGZvcm1hdClcbiAgICogICAgbWF0aC56ZXJvcyhtLCBuKVxuICAgKiAgICBtYXRoLnplcm9zKG0sIG4sIGZvcm1hdClcbiAgICogICAgbWF0aC56ZXJvcyhbbSwgbl0pXG4gICAqICAgIG1hdGguemVyb3MoW20sIG5dLCBmb3JtYXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnplcm9zKDMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbMCwgMCwgMF1cbiAgICogICAgbWF0aC56ZXJvcygzLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1swLCAwXSwgWzAsIDBdLCBbMCwgMF1dXG4gICAqICAgIG1hdGguemVyb3MoMywgJ2RlbnNlJykgICAgICAgICAvLyByZXR1cm5zIFswLCAwLCAwXVxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICBtYXRoLnplcm9zKG1hdGguc2l6ZShBKSkgICAgICAgLy8gcmV0dXJucyBbWzAsIDAsIDBdLCBbMCwgMCwgMF1dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBvbmVzLCBpZGVudGl0eSwgc2l6ZSwgcmFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHsuLi5udW1iZXIgfCBBcnJheX0gc2l6ZSAgICBUaGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gICAgICAgICAgIEEgbWF0cml4IGZpbGxlZCB3aXRoIHplcm9zXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScgPyBfemVyb3MoW10pIDogX3plcm9zKFtdLCAnZGVmYXVsdCcpO1xuICAgIH0sXG4gICAgLy8gbWF0aC56ZXJvcyhtLCBuLCBwLCAuLi4sIGZvcm1hdClcbiAgICAvLyBUT0RPOiBtb3JlIGFjY3VyYXRlIHNpZ25hdHVyZSAnLi4ubnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnIGFzIHNvb24gYXMgdHlwZWQtZnVuY3Rpb24gc3VwcG9ydHMgdGhpc1xuICAgICcuLi5udW1iZXIgfCBCaWdOdW1iZXIgfCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJTdHJpbmcoc2l6ZSkge1xuICAgICAgdmFyIGxhc3QgPSBzaXplW3NpemUubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGFzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHNpemUucG9wKCk7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSwgZm9ybWF0KTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5Jykge1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLCAnZGVmYXVsdCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgQXJyYXk6IF96ZXJvcyxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChzaXplKSB7XG4gICAgICB2YXIgZm9ybWF0ID0gc2l6ZS5zdG9yYWdlKCk7XG4gICAgICByZXR1cm4gX3plcm9zKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcnOiBmdW5jdGlvbiBBcnJheU1hdHJpeFN0cmluZyhzaXplLCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfemVyb3Moc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSBvciBNYXRyaXggd2l0aCB6ZXJvc1xuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0PSdkZWZhdWx0J11cbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF96ZXJvcyhzaXplLCBmb3JtYXQpIHtcbiAgICB2YXIgaGFzQmlnTnVtYmVycyA9IF9ub3JtYWxpemUoc2l6ZSk7XG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gaGFzQmlnTnVtYmVycyA/IG5ldyBCaWdOdW1iZXIoMCkgOiAwO1xuXG4gICAgX3ZhbGlkYXRlKHNpemUpO1xuXG4gICAgaWYgKGZvcm1hdCkge1xuICAgICAgLy8gcmV0dXJuIGEgbWF0cml4XG4gICAgICB2YXIgbSA9IG1hdHJpeChmb3JtYXQpO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBtLnJlc2l6ZShzaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0dXJuIGFuIEFycmF5XG4gICAgICB2YXIgYXJyID0gW107XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc2l6ZShhcnIsIHNpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICB9IC8vIHJlcGxhY2UgQmlnTnVtYmVycyB3aXRoIG51bWJlcnMsIHJldHVybnMgdHJ1ZSBpZiBzaXplIGNvbnRhaW5lZCBCaWdOdW1iZXJzXG5cblxuICBmdW5jdGlvbiBfbm9ybWFsaXplKHNpemUpIHtcbiAgICB2YXIgaGFzQmlnTnVtYmVycyA9IGZhbHNlO1xuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnIpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgaGFzQmlnTnVtYmVycyA9IHRydWU7XG4gICAgICAgIGFycltpbmRleF0gPSB2YWx1ZS50b051bWJlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBoYXNCaWdOdW1iZXJzO1xuICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlKHNpemUpIHtcbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIHplcm9zIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7IC8vIFRPRE86IHplcm9zIGNvbnRhaW5zIGFsbW9zdCB0aGUgc2FtZSBjb2RlIGFzIG9uZXMuIFJldXNlIHRoaXM/IiwiaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdFN0cmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdmb3JtYXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRm9ybWF0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBhIHZhbHVlIG9mIGFueSB0eXBlIGludG8gYSBzdHJpbmcuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUpXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBvcHRpb25zKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgY2FsbGJhY2spXG4gICAqXG4gICAqIFdoZXJlOlxuICAgKlxuICAgKiAgLSBgdmFsdWU6ICpgXG4gICAqICAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAgICogIC0gYG9wdGlvbnM6IE9iamVjdGBcbiAgICogICAgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgLSBgbm90YXRpb246IHN0cmluZ2BcbiAgICogICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICAgKiAgICAgIC0gJ2ZpeGVkJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSByZWd1bGFyIG51bWJlciBub3RhdGlvbi5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gICAqICAgICAgLSAnZXhwb25lbnRpYWwnXG4gICAqICAgICAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEuMjM0ZSsyJyBhbmQgJzEuNGUrNydcbiAgICogICAgICAtICdlbmdpbmVlcmluZydcbiAgICogICAgICAgIEFsd2F5cyB1c2UgZW5naW5lZXJpbmcgbm90YXRpb246IGFsd2F5cyBoYXZlIGV4cG9uZW50aWFsIG5vdGF0aW9uLFxuICAgKiAgICAgICAgYW5kIHNlbGVjdCB0aGUgZXhwb25lbnQgdG8gYmUgYSBtdWx0aXBsZSBvZiAzLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40ZSswJyBhbmQgJzE0LjBlKzYnXG4gICAqICAgICAgLSAnYXV0bycgKGRlZmF1bHQpXG4gICAqICAgICAgICBSZWd1bGFyIG51bWJlciBub3RhdGlvbiBmb3IgbnVtYmVycyBoYXZpbmcgYW4gYWJzb2x1dGUgdmFsdWUgYmV0d2VlblxuICAgKiAgICAgICAgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMsIGFuZCB1c2VzIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAgICogICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZCBpcyBleGNsdWRlZC5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNCcgYW5kICcxLjRlNycuXG4gICAqICAgIC0gYHByZWNpc2lvbjogbnVtYmVyYFxuICAgKiAgICAgIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYgdG8gcm91bmQgdGhlIGRpZ2l0cyBvZiB0aGUgbnVtYmVyLiBJbiBjYXNlXG4gICAqICAgICAgb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsIGBwcmVjaXNpb25gXG4gICAqICAgICAgZGVmaW5lcyB0aGUgdG90YWwgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAgICogICAgICBJbiBjYXNlIG9mIG5vdGF0aW9uICdmaXhlZCcsIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIG51bWJlciBvZlxuICAgKiAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC5cbiAgICogICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdC5cbiAgICogICAgLSBgbG93ZXJFeHA6IG51bWJlcmBcbiAgICogICAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgbG93ZXIgYm91bmRhcnkgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoXG4gICAqICAgICAgYW4gZXhwb25lbnQgd2hlbiBgbm90YXRpb249J2F1dG9gLiBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gICAqICAgIC0gYHVwcGVyRXhwOiBudW1iZXJgXG4gICAqICAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIHVwcGVyIGJvdW5kYXJ5IGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aFxuICAgKiAgICAgIGFuIGV4cG9uZW50IHdoZW4gYG5vdGF0aW9uPSdhdXRvYC4gRGVmYXVsdCB2YWx1ZSBpcyBgNWAuXG4gICAqICAgIC0gYGZyYWN0aW9uOiBzdHJpbmdgLiBBdmFpbGFibGUgdmFsdWVzOiAncmF0aW8nIChkZWZhdWx0KSBvciAnZGVjaW1hbCcuXG4gICAqICAgICAgRm9yIGV4YW1wbGUgYGZvcm1hdChmcmFjdGlvbigxLCAzKSlgIHdpbGwgb3V0cHV0ICcxLzMnIHdoZW4gJ3JhdGlvJyBpc1xuICAgKiAgICAgIGNvbmZpZ3VyZWQsIGFuZCB3aWxsIG91dHB1dCBgMC4oMylgIHdoZW4gJ2RlY2ltYWwnIGlzIGNvbmZpZ3VyZWQuXG4gICAqIC0gYGNhbGxiYWNrOiBmdW5jdGlvbmBcbiAgICogICBBIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9uLCBpbnZva2VkIGZvciBhbGwgbnVtZXJpYyBlbGVtZW50cyBpbiBgdmFsdWVgLFxuICAgKiAgIGZvciBleGFtcGxlIGFsbCBlbGVtZW50cyBvZiBhIG1hdHJpeCwgb3IgdGhlIHJlYWwgYW5kIGltYWdpbmFyeVxuICAgKiAgIHBhcnRzIG9mIGEgY29tcGxleCBudW1iZXIuIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gICAqICAgYnVpbHQtaW4gbnVtZXJpYyBub3RhdGlvbiB3aXRoIGFueSB0eXBlIG9mIGZvcm1hdHRpbmcuIEZ1bmN0aW9uIGBjYWxsYmFja2BcbiAgICogICBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuXG4gICAqXG4gICAqIFdoZW4gYHZhbHVlYCBpcyBhbiBPYmplY3Q6XG4gICAqXG4gICAqIC0gV2hlbiB0aGUgb2JqZWN0IGNvbnRhaW5zIGEgcHJvcGVydHkgYGZvcm1hdGAgYmVpbmcgYSBmdW5jdGlvbiwgdGhpcyBmdW5jdGlvblxuICAgKiAgIGlzIGludm9rZWQgYXMgYHZhbHVlLmZvcm1hdChvcHRpb25zKWAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAqIC0gV2hlbiB0aGUgb2JqZWN0IGhhcyBpdHMgb3duIGB0b1N0cmluZ2AgbWV0aG9kLCB0aGlzIG1ldGhvZCBpcyBpbnZva2VkXG4gICAqICAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAqIC0gSW4gb3RoZXIgY2FzZXMgdGhlIGZ1bmN0aW9uIHdpbGwgbG9vcCBvdmVyIGFsbCBvYmplY3QgcHJvcGVydGllcyBhbmRcbiAgICogICByZXR1cm4gSlNPTiBvYmplY3Qgbm90YXRpb24gbGlrZSAne1wiYVwiOiAyLCBcImJcIjogM30nLlxuICAgKlxuICAgKiBXaGVuIHZhbHVlIGlzIGEgZnVuY3Rpb246XG4gICAqXG4gICAqIC0gV2hlbiB0aGUgZnVuY3Rpb24gaGFzIGEgcHJvcGVydHkgYHN5bnRheGAsIGl0IHJldHVybnMgdGhpc1xuICAgKiAgIHN5bnRheCBkZXNjcmlwdGlvbi5cbiAgICogLSBJbiBvdGhlciBjYXNlcywgYSBzdHJpbmcgYCdmdW5jdGlvbidgIGlzIHJldHVybmVkLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5mb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICc2LjQnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMS4yNGU2J1xuICAgKiAgICBtYXRoLmZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzAuMzMzMzMzMzMzMzMzMzMzMydcbiAgICogICAgbWF0aC5mb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcwLjMzMydcbiAgICogICAgbWF0aC5mb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcyMTAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoMTJlOCwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxMjAwMDAwMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyLjMsICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogNH0pICAgIC8vIHJldHVybnMgJzIuMzAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoNTIuOCwge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgICAvLyByZXR1cm5zICc1LjI4ZSsxJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMjQwMCx7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgICAgIC8vIHJldHVybnMgJzEyLjQwMGUrMydcbiAgICogICAgbWF0aC5mb3JtYXQoMjAwMCwge2xvd2VyRXhwOiAtMiwgdXBwZXJFeHA6IDJ9KSAgICAgICAgICAvLyByZXR1cm5zICcyZSszJ1xuICAgKlxuICAgKiAgICBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeSh2YWx1ZSkge1xuICAgKiAgICAgIC8vIHJldHVybiBjdXJyZW5jeSBub3RhdGlvbiB3aXRoIHR3byBkaWdpdHM6XG4gICAqICAgICAgcmV0dXJuICckJyArIHZhbHVlLnRvRml4ZWQoMilcbiAgICpcbiAgICogICAgICAvLyB5b3UgY291bGQgYWxzbyB1c2UgbWF0aC5mb3JtYXQgaW5zaWRlIHRoZSBjYWxsYmFjazpcbiAgICogICAgICAvLyByZXR1cm4gJyQnICsgbWF0aC5mb3JtYXQodmFsdWUsIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiAyfSlcbiAgICogICAgfVxuICAgKiAgICBtYXRoLmZvcm1hdChbMi4xLCAzLCAwLjAxNl0sIGZvcm1hdEN1cnJlbmN5fSAgICAgICAgICAgIC8vIHJldHVybnMgJ1skMi4xMCwgJDMuMDAsICQwLjAyXSdcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHByaW50XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUgdG8gYmUgc3RyaW5naWZpZWRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBGdW5jdGlvbiB8IG51bWJlcn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHZhbHVlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIGFueTogZm9ybWF0U3RyaW5nLFxuICAgICdhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyJzogZm9ybWF0U3RyaW5nXG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbm9CaWdudW1iZXIsIG5vRnJhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlscy9ub29wLmpzJztcbnZhciBuYW1lID0gJ251bWVyaWMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbnVtYmVyJywgJz9iaWdudW1iZXInLCAnP2ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZU51bWVyaWMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBudW1iZXI6IF9udW1iZXIsXG4gICAgYmlnbnVtYmVyLFxuICAgIGZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuICB2YXIgdmFsaWRJbnB1dFR5cGVzID0ge1xuICAgIHN0cmluZzogdHJ1ZSxcbiAgICBudW1iZXI6IHRydWUsXG4gICAgQmlnTnVtYmVyOiB0cnVlLFxuICAgIEZyYWN0aW9uOiB0cnVlXG4gIH07IC8vIExvYWQgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb25zIGZvciBlYWNoIG91dHB1dCB0eXBlXG5cbiAgdmFyIHZhbGlkT3V0cHV0VHlwZXMgPSB7XG4gICAgbnVtYmVyOiB4ID0+IF9udW1iZXIoeCksXG4gICAgQmlnTnVtYmVyOiBiaWdudW1iZXIgPyB4ID0+IGJpZ251bWJlcih4KSA6IG5vQmlnbnVtYmVyLFxuICAgIEZyYWN0aW9uOiBmcmFjdGlvbiA/IHggPT4gZnJhY3Rpb24oeCkgOiBub0ZyYWN0aW9uXG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgbnVtZXJpYyBpbnB1dCB0byBhIHNwZWNpZmljIG51bWVyaWMgdHlwZTogbnVtYmVyLCBCaWdOdW1iZXIsIG9yIEZyYWN0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubnVtZXJpYyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5udW1lcmljKCc0JykgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdudW1iZXInKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnQmlnTnVtYmVyJykgICAgICAgICAgICAgIC8vIHJldHVybnMgQmlnTnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ0ZyYWN0aW9uJykgICAgICAgICAgICAgICAvLyByZXR1cm5zIEZyYWN0aW9uIDRcbiAgICogICAgbWF0aC5udW1lcmljKDQsICdGcmFjdGlvbicpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIEZyYWN0aW9uIDRcbiAgICogICAgbWF0aC5udW1lcmljKG1hdGguZnJhY3Rpb24oMiwgNSksICdudW1iZXInKSAvLyByZXR1cm5zIG51bWJlciAwLjRcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG51bWJlciwgZnJhY3Rpb24sIGJpZ251bWJlciwgc3RyaW5nLCBmb3JtYXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB9IHZhbHVlXG4gICAqICAgICAgICAgICAgICBBIG51bWVyaWMgdmFsdWUgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWVyaWMgdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG91dHB1dFR5cGVcbiAgICogICAgICAgICAgICAgIERlc2lyZWQgbnVtZXJpYyBvdXRwdXQgdHlwZS5cbiAgICogICAgICAgICAgICAgIEF2YWlsYWJsZSB2YWx1ZXM6ICdudW1iZXInLCAnQmlnTnVtYmVyJywgb3IgJ0ZyYWN0aW9uJ1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbn1cbiAgICogICAgICAgICAgICAgIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIG51bWVyaWMgaW4gdGhlIHJlcXVlc3RlZCB0eXBlXG4gICAqL1xuXG4gIHJldHVybiBmdW5jdGlvbiBudW1lcmljKHZhbHVlLCBvdXRwdXRUeXBlKSB7XG4gICAgdmFyIGlucHV0VHlwZSA9IHR5cGVPZih2YWx1ZSk7XG5cbiAgICBpZiAoIShpbnB1dFR5cGUgaW4gdmFsaWRJbnB1dFR5cGVzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgJyArIHZhbHVlICsgJyBvZiB0eXBlIFwiJyArIGlucHV0VHlwZSArICdcIjsgdmFsaWQgaW5wdXQgdHlwZXMgYXJlICcgKyBPYmplY3Qua2V5cyh2YWxpZElucHV0VHlwZXMpLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGlmICghKG91dHB1dFR5cGUgaW4gdmFsaWRPdXRwdXRUeXBlcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0ICcgKyB2YWx1ZSArICcgdG8gdHlwZSBcIicgKyBvdXRwdXRUeXBlICsgJ1wiOyB2YWxpZCBvdXRwdXQgdHlwZXMgYXJlICcgKyBPYmplY3Qua2V5cyh2YWxpZE91dHB1dFR5cGVzKS5qb2luKCcsICcpKTtcbiAgICB9XG5cbiAgICBpZiAob3V0cHV0VHlwZSA9PT0gaW5wdXRUeXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWxpZE91dHB1dFR5cGVzW291dHB1dFR5cGVdKHZhbHVlKTtcbiAgICB9XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG52YXIgbmFtZSA9ICdkaXZpZGVTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbnVtZXJpYyddO1xuZXhwb3J0IHZhciBjcmVhdGVEaXZpZGVTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBudW1lcmljXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBEaXZpZGUgdHdvIHNjYWxhciB2YWx1ZXMsIGB4IC8geWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uc1xuICAgKiBgZGl2aWRlYCBhbmQgYGludmAuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIE51bWVyYXRvclxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgRGVub21pbmF0b3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIFF1b3RpZW50LCBgeCAvIHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCAvIHk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBVbml0TnVtYmVyRnJhY3Rpb25CaWdOdW1iZXIoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTsgLy8gVE9ETzogbW92ZSB0aGUgZGl2aWRlIGZ1bmN0aW9uIHRvIFVuaXQuanMsIGl0IHVzZXMgaW50ZXJuYWxzIG9mIFVuaXRcblxuICAgICAgdmFyIG9uZSA9IG51bWVyaWMoMSwgdHlwZU9mKHkpKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUob25lKSA6IHJlcy52YWx1ZSwgeSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyLCBVbml0JzogZnVuY3Rpb24gbnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJVbml0KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB5LmNsb25lKCk7XG4gICAgICByZXMgPSByZXMucG93KC0xKTsgLy8gVE9ETzogbW92ZSB0aGUgZGl2aWRlIGZ1bmN0aW9uIHRvIFVuaXQuanMsIGl0IHVzZXMgaW50ZXJuYWxzIG9mIFVuaXRcblxuICAgICAgdmFyIG9uZSA9IG51bWVyaWMoMSwgdHlwZU9mKHgpKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMoeCwgeS52YWx1ZSA9PT0gbnVsbCA/IHkuX25vcm1hbGl6ZShvbmUpIDogeS52YWx1ZSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXZpZGUoeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgYXMgc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IHBvd051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdwb3cnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ2lkZW50aXR5JywgJ211bHRpcGx5JywgJ21hdHJpeCcsICdmcmFjdGlvbicsICdudW1iZXInLCAnQ29tcGxleCddO1xuZXhwb3J0IHZhciBjcmVhdGVQb3cgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgaWRlbnRpdHksXG4gICAgbXVsdGlwbHksXG4gICAgbWF0cml4LFxuICAgIG51bWJlcixcbiAgICBmcmFjdGlvbixcbiAgICBDb21wbGV4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIGB4IF4geWAuXG4gICAqIE1hdHJpeCBleHBvbmVudGlhdGlvbiBpcyBzdXBwb3J0ZWQgZm9yIHNxdWFyZSBtYXRyaWNlcyBgeGAsIGFuZCBwb3NpdGl2ZVxuICAgKiBpbnRlZ2VyIGV4cG9uZW50cyBgeWAuXG4gICAqXG4gICAqIEZvciBjdWJpYyByb290cyBvZiBuZWdhdGl2ZSBudW1iZXJzLCB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgcHJpbmNpcGFsXG4gICAqIHJvb3QgYnkgZGVmYXVsdC4gSW4gb3JkZXIgdG8gbGV0IHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHJlYWwgcm9vdCxcbiAgICogbWF0aC5qcyBjYW4gYmUgY29uZmlndXJlZCB3aXRoIGBtYXRoLmNvbmZpZyh7cHJlZGljdGFibGU6IHRydWV9KWAuXG4gICAqIFRvIHJldHJpZXZlIGFsbCBjdWJpYyByb290cyBvZiBhIHZhbHVlLCB1c2UgYG1hdGguY2JydCh4LCB0cnVlKWAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5wb3coeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgucG93KDIsIDMpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgOFxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIG1hdGgucG93KGEsIDIpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtNSArIDEyaVxuICAgKlxuICAgKiAgICBjb25zdCBiID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBtYXRoLnBvdyhiLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1s5LCA4XSwgWzE2LCAxN11dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseSwgc3FydCwgY2JydCwgbnRoUm9vdFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4ICBUaGUgYmFzZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4fSB5ICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZXhwb25lbnRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBUaGUgdmFsdWUgb2YgYHhgIHRvIHRoZSBwb3dlciBgeWBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogX3BvdyxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICBpZiAoeS5pc0ludGVnZXIoKSB8fCB4ID49IDAgfHwgY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LnRvTnVtYmVyKCksIDApLnBvdyh5LnRvTnVtYmVyKCksIDApO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHkuZCAhPT0gMSkge1xuICAgICAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBwb3cgZG9lcyBub3Qgc3VwcG9ydCBub24taW50ZWdlciBleHBvbmVudHMgZm9yIGZyYWN0aW9ucy4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3Bvdyh4LnZhbHVlT2YoKSwgeS52YWx1ZU9mKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQXJyYXksIG51bWJlcic6IF9wb3dBcnJheSxcbiAgICAnQXJyYXksIEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5QmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBfcG93QXJyYXkoeCwgeS50b051bWJlcigpKTtcbiAgICB9LFxuICAgICdNYXRyaXgsIG51bWJlcic6IF9wb3dNYXRyaXgsXG4gICAgJ01hdHJpeCwgQmlnTnVtYmVyJzogZnVuY3Rpb24gTWF0cml4QmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBfcG93TWF0cml4KHgsIHkudG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICAnVW5pdCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gVW5pdE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgeF55LCBmb3IgdHdvIG51bWJlcnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEByZXR1cm4ge251bWJlciB8IENvbXBsZXh9IHJlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfcG93KHgsIHkpIHtcbiAgICAvLyBBbHRlcm5hdGl2ZWx5IGNvdWxkIGRlZmluZSBhICdyZWFsbW9kZScgY29uZmlnIG9wdGlvbiBvciBzb21ldGhpbmcsIGJ1dFxuICAgIC8vICdwcmVkaWN0YWJsZScgd2lsbCB3b3JrIGZvciBub3dcbiAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlICYmICFpc0ludGVnZXIoeSkgJiYgeCA8IDApIHtcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB5IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIGZyYWN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgeUZyYWMgPSBmcmFjdGlvbih5KTtcbiAgICAgICAgdmFyIHlOdW0gPSBudW1iZXIoeUZyYWMpO1xuXG4gICAgICAgIGlmICh5ID09PSB5TnVtIHx8IE1hdGguYWJzKCh5IC0geU51bSkgLyB5KSA8IDFlLTE0KSB7XG4gICAgICAgICAgaWYgKHlGcmFjLmQgJSAyID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKHlGcmFjLm4gJSAyID09PSAwID8gMSA6IC0xKSAqIE1hdGgucG93KC14LCB5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7Ly8gZnJhY3Rpb24oKSB0aHJvd3MgYW4gZXJyb3IgaWYgeSBpcyBJbmZpbml0eSwgZXRjLlxuICAgICAgfSAvLyBVbmFibGUgdG8gZXhwcmVzcyB5IGFzIGEgZnJhY3Rpb24sIHNvIGNvbnRpbnVlIG9uXG5cbiAgICB9IC8vICoqZm9yIHByZWRpY3RhYmxlIG1vZGUqKiB4XkluZmluaXR5ID09PSBOYU4gaWYgeCA8IC0xXG4gICAgLy8gTi5CLiB0aGlzIGJlaGF2b3VyIGlzIGRpZmZlcmVudCBmcm9tIGBNYXRoLnBvd2Agd2hpY2ggZ2l2ZXNcbiAgICAvLyAoLTIpXkluZmluaXR5ID09PSBJbmZpbml0eVxuXG5cbiAgICBpZiAoY29uZmlnLnByZWRpY3RhYmxlICYmICh4IDwgLTEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCA+IC0xICYmIHggPCAwICYmIHkgPT09IC1JbmZpbml0eSkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgaWYgKGlzSW50ZWdlcih5KSB8fCB4ID49IDAgfHwgY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICByZXR1cm4gcG93TnVtYmVyKHgsIHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiB0aGUgZm9sbG93aW5nIGluZmluaXR5IGNoZWNrcyBhcmUgZHVwbGljYXRlZCBmcm9tIHBvd051bWJlci4gRGVkdXBsaWNhdGUgdGhpcyBzb21laG93XG4gICAgICAvLyB4XkluZmluaXR5ID09PSAwIGlmIC0xIDwgeCA8IDFcbiAgICAgIC8vIEEgcmVhbCBudW1iZXIgMCBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGNvbXBsZXgoMClcbiAgICAgIGlmICh4ICogeCA8IDEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCAqIHggPiAxICYmIHkgPT09IC1JbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgsIDApLnBvdyh5LCAwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSAyZCBhcnJheVxuICAgKiBAcGFyYW0ge0FycmF5fSB4ICAgICBtdXN0IGJlIGEgMiBkaW1lbnNpb25hbCwgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICBhIHBvc2l0aXZlLCBpbnRlZ2VyIHZhbHVlXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfcG93QXJyYXkoeCwgeSkge1xuICAgIGlmICghaXNJbnRlZ2VyKHkpIHx8IHkgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGb3IgQV5iLCBiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyICh2YWx1ZSBpcyAnICsgeSArICcpJyk7XG4gICAgfSAvLyB2ZXJpZnkgdGhhdCBBIGlzIGEgMiBkaW1lbnNpb25hbCBzcXVhcmUgbWF0cml4XG5cblxuICAgIHZhciBzID0gc2l6ZSh4KTtcblxuICAgIGlmIChzLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3IgQV5iLCBBIG11c3QgYmUgMiBkaW1lbnNpb25hbCAoQSBoYXMgJyArIHMubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgIH1cblxuICAgIGlmIChzWzBdICE9PSBzWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvciBBXmIsIEEgbXVzdCBiZSBzcXVhcmUgKHNpemUgaXMgJyArIHNbMF0gKyAneCcgKyBzWzFdICsgJyknKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzID0gaWRlbnRpdHkoc1swXSkudmFsdWVPZigpO1xuICAgIHZhciBweCA9IHg7XG5cbiAgICB3aGlsZSAoeSA+PSAxKSB7XG4gICAgICBpZiAoKHkgJiAxKSA9PT0gMSkge1xuICAgICAgICByZXMgPSBtdWx0aXBseShweCwgcmVzKTtcbiAgICAgIH1cblxuICAgICAgeSA+Pj0gMTtcbiAgICAgIHB4ID0gbXVsdGlwbHkocHgsIHB4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgMmQgbWF0cml4XG4gICAqIEBwYXJhbSB7TWF0cml4fSB4ICAgICBtdXN0IGJlIGEgMiBkaW1lbnNpb25hbCwgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAgICBhIHBvc2l0aXZlLCBpbnRlZ2VyIHZhbHVlXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3Bvd01hdHJpeCh4LCB5KSB7XG4gICAgcmV0dXJuIG1hdHJpeChfcG93QXJyYXkoeC52YWx1ZU9mKCksIHkpKTtcbiAgfVxufSk7IiwiZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyByb3VuZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgTk9fSU5UID0gJ051bWJlciBvZiBkZWNpbWFscyBpbiBmdW5jdGlvbiByb3VuZCBtdXN0IGJlIGFuIGludGVnZXInO1xudmFyIG5hbWUgPSAncm91bmQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ3plcm9zJywgJ0JpZ051bWJlcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVSb3VuZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICB6ZXJvcyxcbiAgICBCaWdOdW1iZXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgdGhlIG5lYXJlc3QgaW50ZWdlci5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKHgpXG4gICAqICAgIG1hdGgucm91bmQoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoMy4yMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLnJvdW5kKDMuODIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5yb3VuZCgtNC4yKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLnJvdW5kKC00LjcpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqICAgIG1hdGgucm91bmQoMy4yMiwgMSkgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yXG4gICAqICAgIG1hdGgucm91bmQoMy44OCwgMSkgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy45XG4gICAqICAgIG1hdGgucm91bmQoLTQuMjEsIDEpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMlxuICAgKiAgICBtYXRoLnJvdW5kKC00LjcxLCAxKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjdcbiAgICogICAgbWF0aC5yb3VuZChtYXRoLnBpLCAzKSAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjE0MlxuICAgKiAgICBtYXRoLnJvdW5kKDEyMy40NTY3OCwgMikgICAgIC8vIHJldHVybnMgbnVtYmVyIDEyMy40NlxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMiwgLTIuNylcbiAgICogICAgbWF0aC5yb3VuZChjKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDNpXG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoWzMuMiwgMy44LCAtNC43XSkgLy8gcmV0dXJucyBBcnJheSBbMywgNCwgLTVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmaXgsIGZsb29yXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyksIHt9LCB7XG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5yb3VuZCgpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG4gJSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgucm91bmQobik7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleEJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgX24gPSBuLnRvTnVtYmVyKCk7XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKF9uKTtcbiAgICB9LFxuICAgICdudW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KS50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcygwKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5yb3VuZCgpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobiAlIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC5yb3VuZChuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2Ugcm91bmQoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgc2NhbGFyIGlzIHplcm9cbiAgICAgIGlmIChlcXVhbFNjYWxhcih4LCAwKSkge1xuICAgICAgICAvLyBkbyBub3QgZXhlY3V0ZSBhbGdvcml0aG0sIHJlc3VsdCB3aWxsIGJlIGEgemVybyBtYXRyaXhcbiAgICAgICAgcmV0dXJuIHplcm9zKHkuc2l6ZSgpLCB5LnN0b3JhZ2UoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBzY2FsYXIgaXMgemVyb1xuICAgICAgaWYgKGVxdWFsU2NhbGFyKHgsIDApKSB7XG4gICAgICAgIC8vIGRvIG5vdCBleGVjdXRlIGFsZ29yaXRobSwgcmVzdWx0IHdpbGwgYmUgYSB6ZXJvIG1hdHJpeFxuICAgICAgICByZXR1cm4gemVyb3MoeS5zaXplKCksIHkuc3RvcmFnZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheU51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pKTtcbn0pO1xudmFyIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyA9IHtcbiAgbnVtYmVyOiByb3VuZE51bWJlcixcbiAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICBpZiAoIWlzSW50ZWdlcihuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgIH1cblxuICAgIGlmIChuIDwgMCB8fCBuID4gMTUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTnVtYmVyIG9mIGRlY2ltYWxzIGluIGZ1bmN0aW9uIHJvdW5kIG11c3QgYmUgaW4gdGUgcmFuZ2Ugb2YgMC0xNScpO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZE51bWJlcih4LCBuKTtcbiAgfVxufTtcbmV4cG9ydCB2YXIgY3JlYXRlUm91bmROdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwgcm91bmROdW1iZXJTaWduYXR1cmVzKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdlcXVhbCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWwgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gdGVzdHMgd2hldGhlciB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXNcbiAgICogc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZSBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0b1xuICAgKiBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogSW4gY2FzZSBvZiBjb21wbGV4IG51bWJlcnMsIHgucmUgbXVzdCBlcXVhbCB5LnJlLCBhbmQgeC5pbSBtdXN0IGVxdWFsIHkuaW0uXG4gICAqXG4gICAqIFZhbHVlcyBgbnVsbGAgYW5kIGB1bmRlZmluZWRgIGFyZSBjb21wYXJlZCBzdHJpY3RseSwgdGh1cyBgbnVsbGAgaXMgb25seVxuICAgKiBlcXVhbCB0byBgbnVsbGAgYW5kIG5vdGhpbmcgZWxzZSwgYW5kIGB1bmRlZmluZWRgIGlzIG9ubHkgZXF1YWwgdG9cbiAgICogYHVuZGVmaW5lZGAgYW5kIG5vdGhpbmcgZWxzZS4gU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoMiArIDIsIDMpICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmVxdWFsKDIgKyAyLCA0KSAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1MCBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzUgbScpXG4gICAqICAgIG1hdGguZXF1YWwoYSwgYikgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbMiwgNSwgMV1cbiAgICogICAgY29uc3QgZCA9IFsyLCA3LCAxXVxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKGMsIGQpICAgICAgICAgICAgIC8vIHJldHVybnMgW3RydWUsIGZhbHNlLCB0cnVlXVxuICAgKiAgICBtYXRoLmRlZXBFcXVhbChjLCBkKSAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbChcIjEwMDBcIiwgXCIxZTNcIikgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguZXF1YWwoMCwgbnVsbCkgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgdW5lcXVhbCwgc21hbGxlciwgc21hbGxlckVxLCBsYXJnZXIsIGxhcmdlckVxLCBjb21wYXJlLCBkZWVwRXF1YWwsIGVxdWFsVGV4dFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGNvbXBhcmVkIHZhbHVlcyBhcmUgZXF1YWwsIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdhbnksIGFueSc6IGZ1bmN0aW9uIGFueUFueSh4LCB5KSB7XG4gICAgICAvLyBzdHJpY3QgZXF1YWxpdHkgZm9yIG51bGwgYW5kIHVuZGVmaW5lZD9cbiAgICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB5ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geSA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcXVhbFNjYWxhcih4LCB5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgZXF1YWxTY2FsYXIpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCBlcXVhbFNjYWxhcik7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgZXF1YWxTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsTnVtYmVyID0gZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYW55LCBhbnknOiBmdW5jdGlvbiBhbnlBbnkoeCwgeSkge1xuICAgICAgLy8gc3RyaWN0IGVxdWFsaXR5IGZvciBudWxsIGFuZCB1bmRlZmluZWQ/XG4gICAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geSA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXF1YWxTY2FsYXIoeCwgeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG52YXIgbmFtZSA9ICdzbWFsbGVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU21hbGxlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHZhbHVlIHggaXMgc21hbGxlciB0aGFuIHkuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiB4IGlzIHNtYWxsZXIgdGhhbiB5IGFuZCB0aGUgcmVsYXRpdmVcbiAgICogZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXMgc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZVxuICAgKiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0byBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguc21hbGxlcih4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5zbWFsbGVyKDIsIDMpICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguc21hbGxlcig1LCAyICogMikgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIgaW5jaCcpXG4gICAqICAgIG1hdGguc21hbGxlcihhLCBiKSAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZXF1YWwsIHVuZXF1YWwsIHNtYWxsZXJFcSwgc21hbGxlciwgc21hbGxlckVxLCBjb21wYXJlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB4IGlzIHNtYWxsZXIgdGhhbiB5LCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5sdCh5KSAmJiAhYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguY29tcGFyZSh5KSA9PT0gLTE7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG9yZGVyaW5nIHJlbGF0aW9uIGlzIGRlZmluZWQgZm9yIGNvbXBsZXggbnVtYmVycycpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlU21hbGxlck51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDcgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG52YXIgbmFtZSA9ICdsYXJnZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVMYXJnZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB2YWx1ZSB4IGlzIGxhcmdlciB0aGFuIHkuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiB4IGlzIGxhcmdlciB0aGFuIHkgYW5kIHRoZSByZWxhdGl2ZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpcyBsYXJnZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGVcbiAgICogZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmxhcmdlcih4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5sYXJnZXIoMiwgMykgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmxhcmdlcig1LCAyICsgMikgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIgaW5jaCcpXG4gICAqICAgIG1hdGgubGFyZ2VyKGEsIGIpICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGVxdWFsLCB1bmVxdWFsLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGxhcmdlckVxLCBjb21wYXJlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB4IGlzIGxhcmdlciB0aGFuIHksIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lmd0KHkpICYmICFiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5jb21wYXJlKHkpID09PSAxO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG9yZGVyaW5nIHJlbGF0aW9uIGlzIGRlZmluZWQgZm9yIGNvbXBsZXggbnVtYmVycycpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBhcmUgdW5pdHMgd2l0aCBkaWZmZXJlbnQgYmFzZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcyh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDcoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlTGFyZ2VyTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRmlib25hY2NpSGVhcCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzbWFsbGVyJywgJ2xhcmdlciddO1xuZXhwb3J0IHZhciBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzbWFsbGVyLFxuICAgIGxhcmdlclxuICB9ID0gX3JlZjtcbiAgdmFyIG9uZU92ZXJMb2dQaGkgPSAxLjAgLyBNYXRoLmxvZygoMS4wICsgTWF0aC5zcXJ0KDUuMCkpIC8gMi4wKTtcbiAgLyoqXG4gICAqIEZpYm9uYWNjaSBIZWFwIGltcGxlbWVudGF0aW9uLCB1c2VkIGludGVyYWxseSBmb3IgTWF0cml4IG1hdGguXG4gICAqIEBjbGFzcyBGaWJvbmFjY2lIZWFwXG4gICAqIEBjb25zdHJ1Y3RvciBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEZpYm9uYWNjaUhlYXAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZpYm9uYWNjaUhlYXApKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gaW5pdGlhbGl6ZSBmaWVsZHNcblxuXG4gICAgdGhpcy5fbWluaW11bSA9IG51bGw7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUudHlwZSA9ICdGaWJvbmFjY2lIZWFwJztcbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaXNGaWJvbmFjY2lIZWFwID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEluc2VydHMgYSBuZXcgZGF0YSBlbGVtZW50IGludG8gdGhlIGhlYXAuIE5vIGhlYXAgY29uc29saWRhdGlvbiBpc1xuICAgKiBwZXJmb3JtZWQgYXQgdGhpcyB0aW1lLCB0aGUgbmV3IG5vZGUgaXMgc2ltcGx5IGluc2VydGVkIGludG8gdGhlIHJvb3RcbiAgICogbGlzdCBvZiB0aGlzIGhlYXAuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgLy8gY3JlYXRlIG5vZGVcbiAgICB2YXIgbm9kZSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZGVncmVlOiAwXG4gICAgfTsgLy8gY2hlY2sgd2UgaGF2ZSBhIG5vZGUgaW4gdGhlIG1pbmltdW1cblxuICAgIGlmICh0aGlzLl9taW5pbXVtKSB7XG4gICAgICAvLyBtaW5pbXVtIG5vZGVcbiAgICAgIHZhciBtaW5pbXVtID0gdGhpcy5fbWluaW11bTsgLy8gdXBkYXRlIGxlZnQgJiByaWdodCBvZiBub2RlXG5cbiAgICAgIG5vZGUubGVmdCA9IG1pbmltdW07XG4gICAgICBub2RlLnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgIG1pbmltdW0ucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTsgLy8gdXBkYXRlIG1pbmltdW0gbm9kZSBpbiBoZWFwIGlmIG5lZWRlZFxuXG4gICAgICBpZiAoc21hbGxlcihrZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgICAvLyBub2RlIGhhcyBhIHNtYWxsZXIga2V5LCB1c2UgaXQgYXMgbWluaW11bVxuICAgICAgICB0aGlzLl9taW5pbXVtID0gbm9kZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0IGxlZnQgJiByaWdodFxuICAgICAgbm9kZS5sZWZ0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQgPSBub2RlOyAvLyB0aGlzIGlzIHRoZSBmaXJzdCBub2RlXG5cbiAgICAgIHRoaXMuX21pbmltdW0gPSBub2RlO1xuICAgIH0gLy8gaW5jcmVtZW50IG51bWJlciBvZiBub2RlcyBpbiBoZWFwXG5cblxuICAgIHRoaXMuX3NpemUrKzsgLy8gcmV0dXJuIG5vZGVcblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG5vZGVzIGluIGhlYXAuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhpcyBoZWFwLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX21pbmltdW0gPSBudWxsO1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBoZWFwIGlzIGVtcHR5LCBvdGhlcndpc2UgZmFsc2UuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZSA9PT0gMDtcbiAgfTtcbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBub2RlIHdpdGggbWluaW11bSBrZXkgZnJvbSBoZWFwLiBBbW9ydGl6ZWQgcnVubmluZ1xuICAgKiB0aW1lOiBPKGxvZyBuKS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5leHRyYWN0TWluaW11bSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBub2RlIHRvIHJlbW92ZVxuICAgIHZhciBub2RlID0gdGhpcy5fbWluaW11bTsgLy8gY2hlY2sgd2UgaGF2ZSBhIG1pbmltdW1cblxuICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IC8vIGN1cnJlbnQgbWluaW11bVxuXG5cbiAgICB2YXIgbWluaW11bSA9IHRoaXMuX21pbmltdW07IC8vIGdldCBudW1iZXIgb2YgY2hpbGRyZW5cblxuICAgIHZhciBudW1iZXJPZkNoaWxkcmVuID0gbm9kZS5kZWdyZWU7IC8vIHBvaW50ZXIgdG8gdGhlIGZpcnN0IGNoaWxkXG5cbiAgICB2YXIgeCA9IG5vZGUuY2hpbGQ7IC8vIGZvciBlYWNoIGNoaWxkIG9mIG5vZGUgZG8uLi5cblxuICAgIHdoaWxlIChudW1iZXJPZkNoaWxkcmVuID4gMCkge1xuICAgICAgLy8gc3RvcmUgbm9kZSBpbiByaWdodCBzaWRlXG4gICAgICB2YXIgdGVtcFJpZ2h0ID0geC5yaWdodDsgLy8gcmVtb3ZlIHggZnJvbSBjaGlsZCBsaXN0XG5cbiAgICAgIHgubGVmdC5yaWdodCA9IHgucmlnaHQ7XG4gICAgICB4LnJpZ2h0LmxlZnQgPSB4LmxlZnQ7IC8vIGFkZCB4IHRvIHJvb3QgbGlzdCBvZiBoZWFwXG5cbiAgICAgIHgubGVmdCA9IG1pbmltdW07XG4gICAgICB4LnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgIG1pbmltdW0ucmlnaHQgPSB4O1xuICAgICAgeC5yaWdodC5sZWZ0ID0geDsgLy8gc2V0IFBhcmVudFt4XSB0byBudWxsXG5cbiAgICAgIHgucGFyZW50ID0gbnVsbDtcbiAgICAgIHggPSB0ZW1wUmlnaHQ7XG4gICAgICBudW1iZXJPZkNoaWxkcmVuLS07XG4gICAgfSAvLyByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdCBvZiBoZWFwXG5cblxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0OyAvLyB1cGRhdGUgbWluaW11bVxuXG4gICAgaWYgKG5vZGUgPT09IG5vZGUucmlnaHQpIHtcbiAgICAgIC8vIGVtcHR5XG4gICAgICBtaW5pbXVtID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIG1pbmltdW1cbiAgICAgIG1pbmltdW0gPSBub2RlLnJpZ2h0OyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcG9pbnRlciB0byB0aGUgcm9vdCB3aXRoIG1pbmltdW0ga2V5XG5cbiAgICAgIG1pbmltdW0gPSBfZmluZE1pbmltdW1Ob2RlKG1pbmltdW0sIHRoaXMuX3NpemUpO1xuICAgIH0gLy8gZGVjcmVtZW50IHNpemUgb2YgaGVhcFxuXG5cbiAgICB0aGlzLl9zaXplLS07IC8vIHVwZGF0ZSBtaW5pbXVtXG5cbiAgICB0aGlzLl9taW5pbXVtID0gbWluaW11bTsgLy8gcmV0dXJuIG5vZGVcblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmVtb3ZlcyBhIG5vZGUgZnJvbSB0aGUgaGVhcCBnaXZlbiB0aGUgcmVmZXJlbmNlIHRvIHRoZSBub2RlLiBUaGUgdHJlZXNcbiAgICogaW4gdGhlIGhlYXAgd2lsbCBiZSBjb25zb2xpZGF0ZWQsIGlmIG5lY2Vzc2FyeS4gVGhpcyBvcGVyYXRpb24gbWF5IGZhaWxcbiAgICogdG8gcmVtb3ZlIHRoZSBjb3JyZWN0IGVsZW1lbnQgaWYgdGhlcmUgYXJlIG5vZGVzIHdpdGgga2V5IHZhbHVlIC1JbmZpbml0eS5cbiAgICogUnVubmluZyB0aW1lOiBPKGxvZyBuKSBhbW9ydGl6ZWQuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAvLyBkZWNyZWFzZSBrZXkgdmFsdWVcbiAgICB0aGlzLl9taW5pbXVtID0gX2RlY3JlYXNlS2V5KHRoaXMuX21pbmltdW0sIG5vZGUsIC0xKTsgLy8gcmVtb3ZlIHRoZSBzbWFsbGVzdFxuXG4gICAgdGhpcy5leHRyYWN0TWluaW11bSgpO1xuICB9O1xuICAvKipcbiAgICogRGVjcmVhc2VzIHRoZSBrZXkgdmFsdWUgZm9yIGEgaGVhcCBub2RlLCBnaXZlbiB0aGUgbmV3IHZhbHVlIHRvIHRha2Ugb24uXG4gICAqIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGhlYXAgbWF5IGJlIGNoYW5nZWQgYW5kIHdpbGwgbm90IGJlIGNvbnNvbGlkYXRlZC5cbiAgICogUnVubmluZyB0aW1lOiBPKDEpIGFtb3J0aXplZC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZGVjcmVhc2VLZXkobWluaW11bSwgbm9kZSwga2V5KSB7XG4gICAgLy8gc2V0IG5vZGUga2V5XG4gICAgbm9kZS5rZXkgPSBrZXk7IC8vIGdldCBwYXJlbnQgbm9kZVxuXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuXG4gICAgaWYgKHBhcmVudCAmJiBzbWFsbGVyKG5vZGUua2V5LCBwYXJlbnQua2V5KSkge1xuICAgICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSBwYXJlbnRcbiAgICAgIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KTsgLy8gcmVtb3ZlIGFsbCBub2RlcyBmcm9tIHBhcmVudCB0byB0aGUgcm9vdCBwYXJlbnRcblxuXG4gICAgICBfY2FzY2FkaW5nQ3V0KG1pbmltdW0sIHBhcmVudCk7XG4gICAgfSAvLyB1cGRhdGUgbWluaW11bSBub2RlIGlmIG5lZWRlZFxuXG5cbiAgICBpZiAoc21hbGxlcihub2RlLmtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICBtaW5pbXVtID0gbm9kZTtcbiAgICB9IC8vIHJldHVybiBtaW5pbXVtXG5cblxuICAgIHJldHVybiBtaW5pbXVtO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcmV2ZXJzZSBvZiB0aGUgbGluayBvcGVyYXRpb246IHJlbW92ZXMgbm9kZSBmcm9tIHRoZSBjaGlsZCBsaXN0IG9mIHBhcmVudC5cbiAgICogVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IG1pbiBpcyBub24tbnVsbC4gUnVubmluZyB0aW1lOiBPKDEpLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KSB7XG4gICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSBwYXJlbnQgY2hpbGRyZW4gYW5kIGRlY3JlbWVudCBEZWdyZWVbcGFyZW50XVxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0O1xuICAgIHBhcmVudC5kZWdyZWUtLTsgLy8gcmVzZXQgeS5jaGlsZCBpZiBuZWNlc3NhcnlcblxuICAgIGlmIChwYXJlbnQuY2hpbGQgPT09IG5vZGUpIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG5vZGUucmlnaHQ7XG4gICAgfSAvLyByZW1vdmUgY2hpbGQgaWYgZGVncmVlIGlzIDBcblxuXG4gICAgaWYgKHBhcmVudC5kZWdyZWUgPT09IDApIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG51bGw7XG4gICAgfSAvLyBhZGQgbm9kZSB0byByb290IGxpc3Qgb2YgaGVhcFxuXG5cbiAgICBub2RlLmxlZnQgPSBtaW5pbXVtO1xuICAgIG5vZGUucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgIG1pbmltdW0ucmlnaHQgPSBub2RlO1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7IC8vIHNldCBwYXJlbnRbbm9kZV0gdG8gbnVsbFxuXG4gICAgbm9kZS5wYXJlbnQgPSBudWxsOyAvLyBzZXQgbWFya1tub2RlXSB0byBmYWxzZVxuXG4gICAgbm9kZS5tYXJrID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgY2FzY2FkaW5nIGN1dCBvcGVyYXRpb24uIFRoaXMgY3V0cyBub2RlIGZyb20gaXRzIHBhcmVudCBhbmQgdGhlblxuICAgKiBkb2VzIHRoZSBzYW1lIGZvciBpdHMgcGFyZW50LCBhbmQgc28gb24gdXAgdGhlIHRyZWUuXG4gICAqIFJ1bm5pbmcgdGltZTogTyhsb2cgbik7IE8oMSkgZXhjbHVkaW5nIHRoZSByZWN1cnNpb24uXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2Nhc2NhZGluZ0N1dChtaW5pbXVtLCBub2RlKSB7XG4gICAgLy8gc3RvcmUgcGFyZW50IG5vZGVcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7IC8vIGlmIHRoZXJlJ3MgYSBwYXJlbnQuLi5cblxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBpZiBub2RlIGlzIHVubWFya2VkLCBzZXQgaXQgbWFya2VkXG5cblxuICAgIGlmICghbm9kZS5tYXJrKSB7XG4gICAgICBub2RlLm1hcmsgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdCdzIG1hcmtlZCwgY3V0IGl0IGZyb20gcGFyZW50XG4gICAgICBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCk7IC8vIGN1dCBpdHMgcGFyZW50IGFzIHdlbGxcblxuXG4gICAgICBfY2FzY2FkaW5nQ3V0KHBhcmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBNYWtlIHRoZSBmaXJzdCBub2RlIGEgY2hpbGQgb2YgdGhlIHNlY29uZCBvbmUuIFJ1bm5pbmcgdGltZTogTygxKSBhY3R1YWwuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgdmFyIF9saW5rTm9kZXMgPSBmdW5jdGlvbiBfbGlua05vZGVzKG5vZGUsIHBhcmVudCkge1xuICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0IG9mIGhlYXBcbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDsgLy8gbWFrZSBub2RlIGEgQ2hpbGQgb2YgcGFyZW50XG5cbiAgICBub2RlLnBhcmVudCA9IHBhcmVudDtcblxuICAgIGlmICghcGFyZW50LmNoaWxkKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLmxlZnQgPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmxlZnQgPSBwYXJlbnQuY2hpbGQ7XG4gICAgICBub2RlLnJpZ2h0ID0gcGFyZW50LmNoaWxkLnJpZ2h0O1xuICAgICAgcGFyZW50LmNoaWxkLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7XG4gICAgfSAvLyBpbmNyZWFzZSBkZWdyZWVbcGFyZW50XVxuXG5cbiAgICBwYXJlbnQuZGVncmVlKys7IC8vIHNldCBtYXJrW25vZGVdIGZhbHNlXG5cbiAgICBub2RlLm1hcmsgPSBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBfZmluZE1pbmltdW1Ob2RlKG1pbmltdW0sIHNpemUpIHtcbiAgICAvLyB0byBmaW5kIHRyZWVzIG9mIHRoZSBzYW1lIGRlZ3JlZSBlZmZpY2llbnRseSB3ZSB1c2UgYW4gYXJyYXkgb2YgbGVuZ3RoIE8obG9nIG4pIGluIHdoaWNoIHdlIGtlZXAgYSBwb2ludGVyIHRvIG9uZSByb290IG9mIGVhY2ggZGVncmVlXG4gICAgdmFyIGFycmF5U2l6ZSA9IE1hdGguZmxvb3IoTWF0aC5sb2coc2l6ZSkgKiBvbmVPdmVyTG9nUGhpKSArIDE7IC8vIGNyZWF0ZSBsaXN0IHdpdGggaW5pdGlhbCBjYXBhY2l0eVxuXG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KGFycmF5U2l6ZSk7IC8vIGZpbmQgdGhlIG51bWJlciBvZiByb290IG5vZGVzLlxuXG4gICAgdmFyIG51bVJvb3RzID0gMDtcbiAgICB2YXIgeCA9IG1pbmltdW07XG5cbiAgICBpZiAoeCkge1xuICAgICAgbnVtUm9vdHMrKztcbiAgICAgIHggPSB4LnJpZ2h0O1xuXG4gICAgICB3aGlsZSAoeCAhPT0gbWluaW11bSkge1xuICAgICAgICBudW1Sb290cysrO1xuICAgICAgICB4ID0geC5yaWdodDtcbiAgICAgIH1cbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIHk7IC8vIEZvciBlYWNoIG5vZGUgaW4gcm9vdCBsaXN0IGRvLi4uXG5cbiAgICB3aGlsZSAobnVtUm9vdHMgPiAwKSB7XG4gICAgICAvLyBhY2Nlc3MgdGhpcyBub2RlJ3MgZGVncmVlLi5cbiAgICAgIHZhciBkID0geC5kZWdyZWU7IC8vIGdldCBuZXh0IG5vZGVcblxuICAgICAgdmFyIG5leHQgPSB4LnJpZ2h0OyAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIG5vZGUgYWxyZWFkeSBpbiBhcnJheSB3aXRoIHRoZSBzYW1lIGRlZ3JlZVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAvLyBnZXQgbm9kZSB3aXRoIHRoZSBzYW1lIGRlZ3JlZSBpcyBhbnlcbiAgICAgICAgeSA9IGFycmF5W2RdO1xuXG4gICAgICAgIGlmICgheSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIG1ha2Ugb25lIG5vZGUgd2l0aCB0aGUgc2FtZSBkZWdyZWUgYSBjaGlsZCBvZiB0aGUgb3RoZXIsIGRvIHRoaXMgYmFzZWQgb24gdGhlIGtleSB2YWx1ZS5cblxuXG4gICAgICAgIGlmIChsYXJnZXIoeC5rZXksIHkua2V5KSkge1xuICAgICAgICAgIHZhciB0ZW1wID0geTtcbiAgICAgICAgICB5ID0geDtcbiAgICAgICAgICB4ID0gdGVtcDtcbiAgICAgICAgfSAvLyBtYWtlIHkgYSBjaGlsZCBvZiB4XG5cblxuICAgICAgICBfbGlua05vZGVzKHksIHgpOyAvLyB3ZSBoYXZlIGhhbmRsZWQgdGhpcyBkZWdyZWUsIGdvIHRvIG5leHQgb25lLlxuXG5cbiAgICAgICAgYXJyYXlbZF0gPSBudWxsO1xuICAgICAgICBkKys7XG4gICAgICB9IC8vIHNhdmUgdGhpcyBub2RlIGZvciBsYXRlciB3aGVuIHdlIG1pZ2h0IGVuY291bnRlciBhbm90aGVyIG9mIHRoZSBzYW1lIGRlZ3JlZS5cblxuXG4gICAgICBhcnJheVtkXSA9IHg7IC8vIG1vdmUgZm9yd2FyZCB0aHJvdWdoIGxpc3QuXG5cbiAgICAgIHggPSBuZXh0O1xuICAgICAgbnVtUm9vdHMtLTtcbiAgICB9IC8vIFNldCBtaW4gdG8gbnVsbCAoZWZmZWN0aXZlbHkgbG9zaW5nIHRoZSByb290IGxpc3QpIGFuZCByZWNvbnN0cnVjdCB0aGUgcm9vdCBsaXN0IGZyb20gdGhlIGFycmF5IGVudHJpZXMgaW4gYXJyYXlbXS5cblxuXG4gICAgbWluaW11bSA9IG51bGw7IC8vIGxvb3Agbm9kZXMgaW4gYXJyYXlcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlTaXplOyBpKyspIHtcbiAgICAgIC8vIGdldCBjdXJyZW50IG5vZGVcbiAgICAgIHkgPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCF5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgbGlua2VkIGxpc3RcblxuXG4gICAgICBpZiAobWluaW11bSkge1xuICAgICAgICAvLyBGaXJzdCByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdC5cbiAgICAgICAgeS5sZWZ0LnJpZ2h0ID0geS5yaWdodDtcbiAgICAgICAgeS5yaWdodC5sZWZ0ID0geS5sZWZ0OyAvLyBub3cgYWRkIHRvIHJvb3QgbGlzdCwgYWdhaW4uXG5cbiAgICAgICAgeS5sZWZ0ID0gbWluaW11bTtcbiAgICAgICAgeS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICAgIG1pbmltdW0ucmlnaHQgPSB5O1xuICAgICAgICB5LnJpZ2h0LmxlZnQgPSB5OyAvLyBjaGVjayBpZiB0aGlzIGlzIGEgbmV3IG1pbi5cblxuICAgICAgICBpZiAoc21hbGxlcih5LmtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICAgICAgbWluaW11bSA9IHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbmltdW0gPSB5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtaW5pbXVtO1xuICB9XG5cbiAgcmV0dXJuIEZpYm9uYWNjaUhlYXA7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1NwYSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydhZGRTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnRmlib25hY2NpSGVhcCddO1xuZXhwb3J0IHZhciBjcmVhdGVTcGFDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIGFkZFNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBGaWJvbmFjY2lIZWFwXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBbiBvcmRlcmVkIFNwYXJzZSBBY2N1bXVsYXRvciBpcyBhIHJlcHJlc2VudGF0aW9uIGZvciBhIHNwYXJzZSB2ZWN0b3IgdGhhdCBpbmNsdWRlcyBhIGRlbnNlIGFycmF5XG4gICAqIG9mIHRoZSB2ZWN0b3IgZWxlbWVudHMgYW5kIGFuIG9yZGVyZWQgbGlzdCBvZiBub24temVybyBlbGVtZW50cy5cbiAgICovXG4gIGZ1bmN0aW9uIFNwYSgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BhKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIGFsbG9jYXRlIHZlY3RvciwgVE9ETyB1c2UgdHlwZWQgYXJyYXlzXG5cblxuICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgIHRoaXMuX2hlYXAgPSBuZXcgRmlib25hY2NpSGVhcCgpO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFNwYS5wcm90b3R5cGUudHlwZSA9ICdTcGEnO1xuICBTcGEucHJvdG90eXBlLmlzU3BhID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgZm9yIGluZGV4IGkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgICAgICAgICAgICAgICAgICBUaGUgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4fSAgIFRoZSB2YWx1ZSBhdCBpbmRleCBpXG4gICAqL1xuXG4gIFNwYS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGksIHYpIHtcbiAgICAvLyBjaGVjayB3ZSBoYXZlIGEgdmFsdWUgQCBpXG4gICAgaWYgKCF0aGlzLl92YWx1ZXNbaV0pIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIHYpOyAvLyBzZXQgdGhlIHZhbHVlIEAgaVxuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWUgQCBpXG4gICAgICB0aGlzLl92YWx1ZXNbaV0udmFsdWUgPSB2O1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLl92YWx1ZXNbaV07XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5hY2N1bXVsYXRlID0gZnVuY3Rpb24gKGksIHYpIHtcbiAgICAvLyBub2RlIEAgaVxuICAgIHZhciBub2RlID0gdGhpcy5fdmFsdWVzW2ldO1xuXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIHYpOyAvLyBpbml0aWFsaXplIHZhbHVlXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFjY3VtdWxhdGUgdmFsdWVcbiAgICAgIG5vZGUudmFsdWUgPSBhZGRTY2FsYXIobm9kZS52YWx1ZSwgdik7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmcm9tLCB0bywgY2FsbGJhY2spIHtcbiAgICAvLyByZWZlcmVuY2VzXG4gICAgdmFyIGhlYXAgPSB0aGlzLl9oZWFwO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7IC8vIG5vZGVzXG5cbiAgICB2YXIgbm9kZXMgPSBbXTsgLy8gbm9kZSB3aXRoIG1pbmltdW0ga2V5LCBzYXZlIGl0XG5cbiAgICB2YXIgbm9kZSA9IGhlYXAuZXh0cmFjdE1pbmltdW0oKTtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgIH0gLy8gZXh0cmFjdCBub2RlcyBmcm9tIGhlYXAgKG9yZGVyZWQpXG5cblxuICAgIHdoaWxlIChub2RlICYmIG5vZGUua2V5IDw9IHRvKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBpbiByYW5nZVxuICAgICAgaWYgKG5vZGUua2V5ID49IGZyb20pIHtcbiAgICAgICAgLy8gY2hlY2sgdmFsdWUgaXMgbm90IHplcm9cbiAgICAgICAgaWYgKCFlcXVhbFNjYWxhcihub2RlLnZhbHVlLCAwKSkge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgICAgIGNhbGxiYWNrKG5vZGUua2V5LCBub2RlLnZhbHVlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBleHRyYWN0IG5leHQgbm9kZSwgc2F2ZSBpdFxuXG5cbiAgICAgIG5vZGUgPSBoZWFwLmV4dHJhY3RNaW5pbXVtKCk7XG5cbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfSAvLyByZWluc2VydCBhbGwgbm9kZXMgaW4gaGVhcFxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IG5vZGVcbiAgICAgIHZhciBuID0gbm9kZXNbaV07IC8vIGluc2VydCBub2RlIGluIGhlYXBcblxuICAgICAgbm9kZSA9IGhlYXAuaW5zZXJ0KG4ua2V5LCBuLnZhbHVlKTsgLy8gdXBkYXRlIHZhbHVlc1xuXG4gICAgICB2YWx1ZXNbbm9kZS5rZXldID0gbm9kZTtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBub2RlIEAgaSBhbmQgalxuICAgIHZhciBub2RlaSA9IHRoaXMuX3ZhbHVlc1tpXTtcbiAgICB2YXIgbm9kZWogPSB0aGlzLl92YWx1ZXNbal07IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5zZXJ0IGluZGVjZXNcblxuICAgIGlmICghbm9kZWkgJiYgbm9kZWopIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlaSA9IHRoaXMuX2hlYXAuaW5zZXJ0KGksIG5vZGVqLnZhbHVlKTsgLy8gcmVtb3ZlIGZyb20gaGVhcFxuXG4gICAgICB0aGlzLl9oZWFwLnJlbW92ZShub2Rlaik7IC8vIHNldCB2YWx1ZXNcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlaTtcbiAgICAgIHRoaXMuX3ZhbHVlc1tqXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKG5vZGVpICYmICFub2Rlaikge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGVqID0gdGhpcy5faGVhcC5pbnNlcnQoaiwgbm9kZWkudmFsdWUpOyAvLyByZW1vdmUgZnJvbSBoZWFwXG5cbiAgICAgIHRoaXMuX2hlYXAucmVtb3ZlKG5vZGVpKTsgLy8gc2V0IHZhbHVlc1xuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tqXSA9IG5vZGVqO1xuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAobm9kZWkgJiYgbm9kZWopIHtcbiAgICAgIC8vIHN3YXAgdmFsdWVzXG4gICAgICB2YXIgdiA9IG5vZGVpLnZhbHVlO1xuICAgICAgbm9kZWkudmFsdWUgPSBub2Rlai52YWx1ZTtcbiAgICAgIG5vZGVqLnZhbHVlID0gdjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNwYTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gJy4uL2Z1bmN0aW9uLmpzJztcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgZVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyRSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gbmV3IEJpZ051bWJlcigxKS5leHAoKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBnb2xkZW4gcmF0aW8sIHBoaSA9ICgxK3NxcnQoNSkpLzJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBwaGlcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclBoaSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gbmV3IEJpZ051bWJlcigxKS5wbHVzKG5ldyBCaWdOdW1iZXIoNSkuc3FydCgpKS5kaXYoMik7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgcGkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgcGlcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclBpID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBCaWdOdW1iZXIuYWNvcygtMSk7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgdGF1LCB0YXUgPSAyICogcGlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyB0YXVcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlclRhdSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gY3JlYXRlQmlnTnVtYmVyUGkoQmlnTnVtYmVyKS50aW1lcygyKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ3JlYXRlIGEgaGFzaCBmb3IgYSBCaWdOdW1iZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjcmVhdGVkIGhhcyBpc1xuICogdGhlIGNvbmZpZ3VyZWQgcHJlY2lzaW9uXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzICAgICAgICAgU3VwcG9zZWQgdG8gY29udGFpbiBhIHNpbmdsZSBlbnRyeSB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm4ge251bWJlcn0gcHJlY2lzaW9uXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGhhc2hlcihhcmdzKSB7XG4gIHJldHVybiBhcmdzWzBdLnByZWNpc2lvbjtcbn0iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgaXNDb21wbGV4LCBpc1VuaXQsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuLi8uLi91dGlscy9mdW5jdGlvbi5qcyc7XG5pbXBvcnQgeyBlbmRzV2l0aCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmlnTnVtYmVyUGkgYXMgY3JlYXRlUGkgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvY29uc3RhbnRzLmpzJztcbnZhciBuYW1lID0gJ1VuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnP29uJywgJ2NvbmZpZycsICdhZGRTY2FsYXInLCAnc3VidHJhY3QnLCAnbXVsdGlwbHlTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ3BvdycsICdhYnMnLCAnZml4JywgJ3JvdW5kJywgJ2VxdWFsJywgJ2lzTnVtZXJpYycsICdmb3JtYXQnLCAnbnVtYmVyJywgJ0NvbXBsZXgnLCAnQmlnTnVtYmVyJywgJ0ZyYWN0aW9uJ107XG5leHBvcnQgdmFyIGNyZWF0ZVVuaXRDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG9uLFxuICAgIGNvbmZpZyxcbiAgICBhZGRTY2FsYXIsXG4gICAgc3VidHJhY3QsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIHBvdyxcbiAgICBhYnMsXG4gICAgZml4LFxuICAgIHJvdW5kLFxuICAgIGVxdWFsLFxuICAgIGlzTnVtZXJpYyxcbiAgICBmb3JtYXQsXG4gICAgbnVtYmVyLFxuICAgIENvbXBsZXgsXG4gICAgQmlnTnVtYmVyOiBfQmlnTnVtYmVyLFxuICAgIEZyYWN0aW9uOiBfRnJhY3Rpb25cbiAgfSA9IF9yZWY7XG4gIHZhciB0b051bWJlciA9IG51bWJlcjtcbiAgLyoqXG4gICAqIEEgdW5pdCBjYW4gYmUgY29uc3RydWN0ZWQgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuICAgKlxuICAgKiAgICAgY29uc3QgYSA9IG5ldyBVbml0KHZhbHVlLCBuYW1lKVxuICAgKiAgICAgY29uc3QgYiA9IG5ldyBVbml0KG51bGwsIG5hbWUpXG4gICAqICAgICBjb25zdCBjID0gVW5pdC5wYXJzZShzdHIpXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBjb25zdCBhID0gbmV3IFVuaXQoNSwgJ2NtJykgICAgICAgICAgICAgICAvLyA1MCBtbVxuICAgKiAgICAgY29uc3QgYiA9IFVuaXQucGFyc2UoJzIzIGtnJykgICAgICAgICAgICAgLy8gMjMga2dcbiAgICogICAgIGNvbnN0IGMgPSBtYXRoLmluKGEsIG5ldyBVbml0KG51bGwsICdtJykgIC8vIDAuMDUgbVxuICAgKiAgICAgY29uc3QgZCA9IG5ldyBVbml0KDkuODEsIFwibS9zXjJcIikgICAgICAgICAvLyA5LjgxIG0vc14yXG4gICAqXG4gICAqIEBjbGFzcyBVbml0XG4gICAqIEBjb25zdHJ1Y3RvciBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgYm9vbGVhbn0gW3ZhbHVlXSAgQSB2YWx1ZSBsaWtlIDUuMlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdICAgQSB1bml0IG5hbWUgbGlrZSBcImNtXCIgb3IgXCJpbmNoXCIsIG9yIGEgZGVyaXZlZCB1bml0IG9mIHRoZSBmb3JtOiBcInUxW15leDFdIFt1MlteZXgyXSAuLi5dIFsvIHUzW15leDNdIFt1NFteZXg0XV1dXCIsIHN1Y2ggYXMgXCJrZyBtXjIvc14yXCIsIHdoZXJlIGVhY2ggdW5pdCBhcHBlYXJpbmcgYWZ0ZXIgdGhlIGZvcndhcmQgc2xhc2ggaXMgdGFrZW4gdG8gYmUgaW4gdGhlIGRlbm9taW5hdG9yLiBcImtnIG1eMiBzXi0yXCIgaXMgYSBzeW5vbnltIGFuZCBpcyBhbHNvIGFjY2VwdGFibGUuIEFueSBvZiB0aGUgdW5pdHMgY2FuIGluY2x1ZGUgYSBwcmVmaXguXG4gICAqL1xuXG4gIGZ1bmN0aW9uIFVuaXQodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVW5pdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCEodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBpc051bWVyaWModmFsdWUpIHx8IGlzQ29tcGxleCh2YWx1ZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBwYXJhbWV0ZXIgaW4gVW5pdCBjb25zdHJ1Y3RvciBtdXN0IGJlIG51bWJlciwgQmlnTnVtYmVyLCBGcmFjdGlvbiwgQ29tcGxleCwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IG5hbWUgPT09ICcnKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2Vjb25kIHBhcmFtZXRlciBpbiBVbml0IGNvbnN0cnVjdG9yIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgdSA9IFVuaXQucGFyc2UobmFtZSk7XG4gICAgICB0aGlzLnVuaXRzID0gdS51bml0cztcbiAgICAgIHRoaXMuZGltZW5zaW9ucyA9IHUuZGltZW5zaW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bml0cyA9IFt7XG4gICAgICAgIHVuaXQ6IFVOSVRfTk9ORSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FLFxuICAgICAgICAvLyBsaW5rIHRvIGEgbGlzdCB3aXRoIHN1cHBvcnRlZCBwcmVmaXhlc1xuICAgICAgICBwb3dlcjogMFxuICAgICAgfV07XG4gICAgICB0aGlzLmRpbWVuc2lvbnMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zW2ldID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSh2YWx1ZSkgOiBudWxsO1xuICAgIHRoaXMuZml4UHJlZml4ID0gZmFsc2U7IC8vIGlmIHRydWUsIGZ1bmN0aW9uIGZvcm1hdCB3aWxsIG5vdCBzZWFyY2ggZm9yIHRoZVxuICAgIC8vIGJlc3QgcHJlZml4IGJ1dCBsZWF2ZSBpdCBhcyBpbml0aWFsbHkgcHJvdmlkZWQuXG4gICAgLy8gZml4UHJlZml4IGlzIHNldCB0cnVlIGJ5IHRoZSBtZXRob2QgVW5pdC50b1xuICAgIC8vIFRoZSBqdXN0aWZpY2F0aW9uIGJlaGluZCB0aGlzIGlzIHRoYXQgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIGV4cGxpY2l0bHkgY2FsbGVkLFxuICAgIC8vIHRoZSBjYWxsZXIgd2lzaGVzIHRoZSB1bml0cyB0byBiZSByZXR1cm5lZCBleGFjdGx5IGFzIGhlIHN1cHBsaWVkLlxuXG4gICAgdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnR5cGUgPSAnVW5pdCc7XG4gIFVuaXQucHJvdG90eXBlLmlzVW5pdCA9IHRydWU7IC8vIHByaXZhdGUgdmFyaWFibGVzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZSBVbml0IHBhcnNlclxuXG4gIHZhciB0ZXh0LCBpbmRleCwgYztcblxuICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICB3aGlsZSAoYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnKSB7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNEaWdpdERvdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPT09ICcuJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JztcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaW5kZXgrKztcbiAgICBjID0gdGV4dC5jaGFyQXQoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0KG9sZEluZGV4KSB7XG4gICAgaW5kZXggPSBvbGRJbmRleDtcbiAgICBjID0gdGV4dC5jaGFyQXQoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VOdW1iZXIoKSB7XG4gICAgdmFyIG51bWJlciA9ICcnO1xuICAgIHZhciBvbGRJbmRleCA9IGluZGV4O1xuXG4gICAgaWYgKGMgPT09ICcrJykge1xuICAgICAgbmV4dCgpO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRGlnaXREb3QoYykpIHtcbiAgICAgIC8vIGEgKyBvciAtIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBkaWdpdFxuICAgICAgcmV2ZXJ0KG9sZEluZGV4KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gLy8gZ2V0IG51bWJlciwgY2FuIGhhdmUgYSBzaW5nbGUgZG90XG5cblxuICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuXG4gICAgICBpZiAoIWlzRGlnaXQoYykpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBubyBsZWdhbCBudW1iZXIsIGl0IGlzIGp1c3QgYSBkb3RcbiAgICAgICAgcmV2ZXJ0KG9sZEluZGV4KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjID09PSAnLicpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfSAvLyBjaGVjayBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24gbGlrZSBcIjIuM2UtNFwiIG9yIFwiMS4yM2U1MFwiXG5cblxuICAgIGlmIChjID09PSAnRScgfHwgYyA9PT0gJ2UnKSB7XG4gICAgICAvLyBUaGUgZ3JhbW1hciBicmFuY2hlcyBoZXJlLiBUaGlzIGNvdWxkIGVpdGhlciBiZSBwYXJ0IG9mIGFuIGV4cG9uZW50IG9yIHRoZSBzdGFydCBvZiBhIHVuaXQgdGhhdCBiZWdpbnMgd2l0aCB0aGUgbGV0dGVyIGUsIHN1Y2ggYXMgXCI0ZXhhYnl0ZXNcIlxuICAgICAgdmFyIHRlbnRhdGl2ZU51bWJlciA9ICcnO1xuICAgICAgdmFyIHRlbnRhdGl2ZUluZGV4ID0gaW5kZXg7XG4gICAgICB0ZW50YXRpdmVOdW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcblxuICAgICAgaWYgKGMgPT09ICcrJyB8fCBjID09PSAnLScpIHtcbiAgICAgICAgdGVudGF0aXZlTnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0gLy8gU2NpZW50aWZpYyBub3RhdGlvbiBNVVNUIGJlIGZvbGxvd2VkIGJ5IGFuIGV4cG9uZW50IChvdGhlcndpc2Ugd2UgYXNzdW1lIGl0IGlzIG5vdCBzY2llbnRpZmljIG5vdGF0aW9uKVxuXG5cbiAgICAgIGlmICghaXNEaWdpdChjKSkge1xuICAgICAgICAvLyBUaGUgZSBvciBFIG11c3QgYmVsb25nIHRvIHNvbWV0aGluZyBlbHNlLCBzbyByZXR1cm4gdGhlIG51bWJlciB3aXRob3V0IHRoZSBlIG9yIEUuXG4gICAgICAgIHJldmVydCh0ZW50YXRpdmVJbmRleCk7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9IC8vIFdlIGNhbiBub3cgc2FmZWx5IHNheSB0aGF0IHRoaXMgaXMgc2NpZW50aWZpYyBub3RhdGlvbi5cblxuXG4gICAgICBudW1iZXIgPSBudW1iZXIgKyB0ZW50YXRpdmVOdW1iZXI7XG5cbiAgICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlVW5pdCgpIHtcbiAgICB2YXIgdW5pdE5hbWUgPSAnJzsgLy8gQWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb25seTsgbWF0Y2hlcyBbYS16QS1aMC05XVxuXG4gICAgd2hpbGUgKGlzRGlnaXQoYykgfHwgVW5pdC5pc1ZhbGlkQWxwaGEoYykpIHtcbiAgICAgIHVuaXROYW1lICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfSAvLyBNdXN0IGJlZ2luIHdpdGggW2EtekEtWl1cblxuXG4gICAgdmFyIGZpcnN0QyA9IHVuaXROYW1lLmNoYXJBdCgwKTtcblxuICAgIGlmIChVbml0LmlzVmFsaWRBbHBoYShmaXJzdEMpKSB7XG4gICAgICByZXR1cm4gdW5pdE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyKHRvRmluZCkge1xuICAgIGlmIChjID09PSB0b0ZpbmQpIHtcbiAgICAgIG5leHQoKTtcbiAgICAgIHJldHVybiB0b0ZpbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgaW50byBhIHVuaXQuIFRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBpcyBwYXJzZWQgYXMgbnVtYmVyLFxuICAgKiBCaWdOdW1iZXIsIG9yIEZyYWN0aW9uIGRlcGVuZGluZyBvbiB0aGUgbWF0aC5qcyBjb25maWcgc2V0dGluZyBgbnVtYmVyYC5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgcHJvdmlkZWQgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCB1bml0IG9yXG4gICAqIGNhbm5vdCBiZSBwYXJzZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgIEEgc3RyaW5nIGxpa2UgXCI1LjIgaW5jaFwiLCBcIjRlMiBjbS9zXjJcIlxuICAgKiBAcmV0dXJuIHtVbml0fSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wYXJzZSA9IGZ1bmN0aW9uIChzdHIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0ZXh0ID0gc3RyO1xuICAgIGluZGV4ID0gLTE7XG4gICAgYyA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhcmd1bWVudCBpbiBVbml0LnBhcnNlLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KCk7XG4gICAgdW5pdC51bml0cyA9IFtdO1xuICAgIHZhciBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICB2YXIgZXhwZWN0aW5nVW5pdCA9IGZhbHNlOyAvLyBBIHVuaXQgc2hvdWxkIGZvbGxvdyB0aGlzIHBhdHRlcm46XG4gICAgLy8gW251bWJlcl0gLi4uWyBbKi9dIHVuaXRbXm51bWJlcl0gXVxuICAgIC8vIHVuaXRbXm51bWJlcl0gLi4uIFsgWyovXSB1bml0W15udW1iZXJdIF1cbiAgICAvLyBSdWxlczpcbiAgICAvLyBudW1iZXIgaXMgYW55IGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAgICAvLyB1bml0IGlzIGFueSBhbHBoYW51bWVyaWMgc3RyaW5nIGJlZ2lubmluZyB3aXRoIGFuIGFscGhhLiBVbml0cyB3aXRoIG5hbWVzIGxpa2UgZTMgc2hvdWxkIGJlIGF2b2lkZWQgYmVjYXVzZSB0aGV5IGxvb2sgbGlrZSB0aGUgZXhwb25lbnQgb2YgYSBmbG9hdGluZyBwb2ludCBudW1iZXIhXG4gICAgLy8gVGhlIHN0cmluZyBtYXkgb3B0aW9uYWxseSBiZWdpbiB3aXRoIGEgbnVtYmVyLlxuICAgIC8vIEVhY2ggdW5pdCBtYXkgb3B0aW9uYWxseSBiZSBmb2xsb3dlZCBieSBebnVtYmVyLlxuICAgIC8vIFdoaXRlc3BhY2Ugb3IgYSBmb3J3YXJkIHNsYXNoIGlzIHJlY29tbWVuZGVkIGJldHdlZW4gY29uc2VjdXRpdmUgdW5pdHMsIGFsdGhvdWdoIHRoZSBmb2xsb3dpbmcgdGVjaG5pY2FsbHkgaXMgcGFyc2VhYmxlOlxuICAgIC8vICAgMm1eMmtnL3NeMlxuICAgIC8vIGl0IGlzIG5vdCBnb29kIGZvcm0uIElmIGEgdW5pdCBzdGFydHMgd2l0aCBlLCB0aGVuIGl0IGNvdWxkIGJlIGNvbmZ1c2VkIGFzIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyOlxuICAgIC8vICAgNGVyZ1xuXG4gICAgbmV4dCgpO1xuICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIE9wdGlvbmFsIG51bWJlciBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuXG4gICAgdmFyIHZhbHVlU3RyID0gcGFyc2VOdW1iZXIoKTtcbiAgICB2YXIgdmFsdWUgPSBudWxsO1xuXG4gICAgaWYgKHZhbHVlU3RyKSB7XG4gICAgICBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0JpZ051bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgX0JpZ051bWJlcih2YWx1ZVN0cik7XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdGcmFjdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBub3QgYWxsIG51bWJlcnMgY2FuIGJlIHR1cm5lZCBpbiBGcmFjdGlvbnMsIGZvciBleGFtcGxlIHZlcnkgc21hbGwgbnVtYmVycyBub3RcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBfRnJhY3Rpb24odmFsdWVTdHIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBudW1iZXJcbiAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlU3RyKTtcbiAgICAgIH1cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gV2hpdGVzcGFjZSBpcyBub3QgcmVxdWlyZWQgaGVyZVxuICAgICAgLy8gaGFuZGxlIG11bHRpcGxpY2F0aW9uIG9yIGRpdmlzaW9uIHJpZ2h0IGFmdGVyIHRoZSB2YWx1ZSwgbGlrZSAnMS9zJ1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJyonKSkge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlQ2hhcmFjdGVyKCcvJykpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IC0xO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IC8vIFN0YWNrIHRvIGtlZXAgdHJhY2sgb2YgcG93ZXJNdWx0aXBsaWVycyBhcHBsaWVkIHRvIGVhY2ggcGFyZW50aGVzZXMgZ3JvdXBcblxuXG4gICAgdmFyIHBvd2VyTXVsdGlwbGllclN0YWNrID0gW107IC8vIFJ1bm5pbmcgcHJvZHVjdCBvZiBhbGwgZWxlbWVudHMgaW4gcG93ZXJNdWx0aXBsaWVyU3RhY2tcblxuICAgIHZhciBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgPSAxO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIENoZWNrIGZvciBhbmQgY29uc3VtZSBvcGVuaW5nIHBhcmVudGhlc2VzLCBwdXNoaW5nIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgdG8gdGhlIHN0YWNrXG4gICAgICAvLyBBICcoJyB3aWxsIGFsd2F5cyBhcHBlYXIgZGlyZWN0bHkgYmVmb3JlIGEgdW5pdC5cblxuICAgICAgd2hpbGUgKGMgPT09ICcoJykge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFjay5wdXNoKHBvd2VyTXVsdGlwbGllckN1cnJlbnQpO1xuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgKj0gcG93ZXJNdWx0aXBsaWVyQ3VycmVudDtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIH0gLy8gSXMgdGhlcmUgc29tZXRoaW5nIGhlcmU/XG5cblxuICAgICAgdmFyIHVTdHIgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChjKSB7XG4gICAgICAgIHZhciBvbGRDID0gYztcbiAgICAgICAgdVN0ciA9IHBhcnNlVW5pdCgpO1xuXG4gICAgICAgIGlmICh1U3RyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIFwiJyArIG9sZEMgKyAnXCIgaW4gXCInICsgdGV4dCArICdcIiBhdCBpbmRleCAnICsgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuZCBvZiBpbnB1dC5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IC8vIFZlcmlmeSB0aGUgdW5pdCBleGlzdHMgYW5kIGdldCB0aGUgcHJlZml4IChpZiBhbnkpXG5cblxuICAgICAgdmFyIHJlcyA9IF9maW5kVW5pdCh1U3RyKTtcblxuICAgICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICAvLyBVbml0IG5vdCBmb3VuZC5cbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbml0IFwiJyArIHVTdHIgKyAnXCIgbm90IGZvdW5kLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG93ZXIgPSBwb3dlck11bHRpcGxpZXJDdXJyZW50ICogcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0OyAvLyBJcyB0aGVyZSBhIFwiXiBudW1iZXJcIj9cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCdeJykpIHtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgICAgdmFyIHAgPSBwYXJzZU51bWJlcigpO1xuXG4gICAgICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gdmFsaWQgbnVtYmVyIGZvdW5kIGZvciB0aGUgcG93ZXIhXG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdJbiBcIicgKyBzdHIgKyAnXCIsIFwiXlwiIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBmbG9hdGluZy1wb2ludCBudW1iZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvd2VyICo9IHA7XG4gICAgICB9IC8vIEFkZCB0aGUgdW5pdCB0byB0aGUgbGlzdFxuXG5cbiAgICAgIHVuaXQudW5pdHMucHVzaCh7XG4gICAgICAgIHVuaXQ6IHJlcy51bml0LFxuICAgICAgICBwcmVmaXg6IHJlcy5wcmVmaXgsXG4gICAgICAgIHBvd2VyOiBwb3dlclxuICAgICAgfSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXQuZGltZW5zaW9uc1tpXSArPSAocmVzLnVuaXQuZGltZW5zaW9uc1tpXSB8fCAwKSAqIHBvd2VyO1xuICAgICAgfSAvLyBDaGVjayBmb3IgYW5kIGNvbnN1bWUgY2xvc2luZyBwYXJlbnRoZXNlcywgcG9wcGluZyBmcm9tIHRoZSBzdGFjay5cbiAgICAgIC8vIEEgJyknIHdpbGwgYWx3YXlzIGZvbGxvdyBhIHVuaXQuXG5cblxuICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgICAgd2hpbGUgKGMgPT09ICcpJykge1xuICAgICAgICBpZiAocG93ZXJNdWx0aXBsaWVyU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbm1hdGNoZWQgXCIpXCIgaW4gXCInICsgdGV4dCArICdcIiBhdCBpbmRleCAnICsgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QgLz0gcG93ZXJNdWx0aXBsaWVyU3RhY2sucG9wKCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIH0gLy8gXCIqXCIgYW5kIFwiL1wiIHNob3VsZCBtZWFuIHdlIGFyZSBleHBlY3Rpbmcgc29tZXRoaW5nIHRvIGNvbWUgbmV4dC5cbiAgICAgIC8vIElzIHRoZXJlIGEgZm9yd2FyZCBzbGFzaD8gSWYgc28sIG5lZ2F0ZSBwb3dlck11bHRpcGxpZXJDdXJyZW50LiBUaGUgbmV4dCB1bml0IG9yIHBhcmVuIGdyb3VwIGlzIGluIHRoZSBkZW5vbWluYXRvci5cblxuXG4gICAgICBleHBlY3RpbmdVbml0ID0gZmFsc2U7XG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignKicpKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VDaGFyYWN0ZXIoJy8nKSkge1xuICAgICAgICAvLyBkaXZpc2lvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gLTE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICB9IC8vIFJlcGxhY2UgdGhlIHVuaXQgaW50byB0aGUgYXV0byB1bml0IHN5c3RlbVxuXG5cbiAgICAgIGlmIChyZXMudW5pdC5iYXNlKSB7XG4gICAgICAgIHZhciBiYXNlRGltID0gcmVzLnVuaXQuYmFzZS5rZXk7XG4gICAgICAgIFVOSVRfU1lTVEVNUy5hdXRvW2Jhc2VEaW1dID0ge1xuICAgICAgICAgIHVuaXQ6IHJlcy51bml0LFxuICAgICAgICAgIHByZWZpeDogcmVzLnByZWZpeFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gLy8gSGFzIHRoZSBzdHJpbmcgYmVlbiBlbnRpcmVseSBjb25zdW1lZD9cblxuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgIGlmIChjKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvdWxkIG5vdCBwYXJzZTogXCInICsgc3RyICsgJ1wiJyk7XG4gICAgfSAvLyBJcyB0aGVyZSBhIHRyYWlsaW5nIHNsYXNoP1xuXG5cbiAgICBpZiAoZXhwZWN0aW5nVW5pdCkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdUcmFpbGluZyBjaGFyYWN0ZXJzOiBcIicgKyBzdHIgKyAnXCInKTtcbiAgICB9IC8vIElzIHRoZSBwYXJlbnRoZXNlcyBzdGFjayBlbXB0eT9cblxuXG4gICAgaWYgKHBvd2VyTXVsdGlwbGllclN0YWNrLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbm1hdGNoZWQgXCIoXCIgaW4gXCInICsgdGV4dCArICdcIicpO1xuICAgIH0gLy8gQXJlIHRoZXJlIGFueSB1bml0cyBhdCBhbGw/XG5cblxuICAgIGlmICh1bml0LnVuaXRzLmxlbmd0aCA9PT0gMCAmJiAhb3B0aW9ucy5hbGxvd05vVW5pdHMpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignXCInICsgc3RyICsgJ1wiIGNvbnRhaW5zIG5vIHVuaXRzJyk7XG4gICAgfVxuXG4gICAgdW5pdC52YWx1ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB1bml0Ll9ub3JtYWxpemUodmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIGNyZWF0ZSBhIGNvcHkgb2YgdGhpcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge1VuaXR9IFJldHVybnMgYSBjbG9uZWQgdmVyc2lvbiBvZiB0aGUgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoKTtcbiAgICB1bml0LmZpeFByZWZpeCA9IHRoaXMuZml4UHJlZml4O1xuICAgIHVuaXQuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb247XG4gICAgdW5pdC52YWx1ZSA9IGNsb25lKHRoaXMudmFsdWUpO1xuICAgIHVuaXQuZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucy5zbGljZSgwKTtcbiAgICB1bml0LnVuaXRzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVuaXQudW5pdHNbaV0gPSB7fTtcblxuICAgICAgZm9yICh2YXIgcCBpbiB0aGlzLnVuaXRzW2ldKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnVuaXRzW2ldLCBwKSkge1xuICAgICAgICAgIHVuaXQudW5pdHNbaV1bcF0gPSB0aGlzLnVuaXRzW2ldW3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGUgdW5pdCBpcyBkZXJpdmVkIChzdWNoIGFzIG0vcywgb3IgY21eMiwgYnV0IG5vdCBOKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB1bml0IGlzIGRlcml2ZWRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5faXNEZXJpdmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnVuaXRzLmxlbmd0aCA+IDEgfHwgTWF0aC5hYnModGhpcy51bml0c1swXS5wb3dlciAtIDEuMCkgPiAxZS0xNTtcbiAgfTtcbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhIHZhbHVlLCBiYXNlZCBvbiBpdHMgY3VycmVudGx5IHNldCB1bml0KHMpXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFufSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW59IG5vcm1hbGl6ZWQgdmFsdWVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fbm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIHVuaXRWYWx1ZSwgdW5pdE9mZnNldCwgdW5pdFBvd2VyLCB1bml0UHJlZml4VmFsdWU7XG4gICAgdmFyIGNvbnZlcnQ7XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNEZXJpdmVkKCkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBkZXJpdmVkIHVuaXQsIHNvIGRvIG5vdCBhcHBseSBvZmZzZXRzLlxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHdpdGggSiBrZ14tMSBkZWdDXi0xIHlvdSB3b3VsZCBOT1Qgd2FudCB0byBhcHBseSB0aGUgb2Zmc2V0LlxuICAgICAgdmFyIHJlcyA9IHZhbHVlO1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0udW5pdC52YWx1ZSk7XG4gICAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wcmVmaXgudmFsdWUpO1xuICAgICAgICB1bml0UG93ZXIgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucG93ZXIpO1xuICAgICAgICByZXMgPSBtdWx0aXBseVNjYWxhcihyZXMsIHBvdyhtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRQb3dlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2luZ2xlIHVuaXQgb2YgcG93ZXIgMSwgbGlrZSBrZyBvciBkZWdDXG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgICAgdW5pdE9mZnNldCA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0Lm9mZnNldCk7XG4gICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICAgIHJldHVybiBtdWx0aXBseVNjYWxhcihhZGRTY2FsYXIodmFsdWUsIHVuaXRPZmZzZXQpLCBtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSkpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlbm9ybWFsaXplIGEgdmFsdWUsIGJhc2VkIG9uIGl0cyBjdXJyZW50bHkgc2V0IHVuaXQocylcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlZml4VmFsdWVdICAgIE9wdGlvbmFsIHByZWZpeCB2YWx1ZSB0byBiZSB1c2VkIChpZ25vcmVkIGlmIHRoaXMgaXMgYSBkZXJpdmVkIHVuaXQpXG4gICAqIEByZXR1cm4ge251bWJlcn0gZGVub3JtYWxpemVkIHZhbHVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2Rlbm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlLCBwcmVmaXhWYWx1ZSkge1xuICAgIHZhciB1bml0VmFsdWUsIHVuaXRPZmZzZXQsIHVuaXRQb3dlciwgdW5pdFByZWZpeFZhbHVlO1xuICAgIHZhciBjb252ZXJ0O1xuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzRGVyaXZlZCgpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgZGVyaXZlZCB1bml0LCBzbyBkbyBub3QgYXBwbHkgb2Zmc2V0cy5cbiAgICAgIC8vIEZvciBleGFtcGxlLCB3aXRoIEoga2deLTEgZGVnQ14tMSB5b3Ugd291bGQgTk9UIHdhbnQgdG8gYXBwbHkgdGhlIG9mZnNldC5cbiAgICAgIC8vIEFsc28sIHByZWZpeFZhbHVlIGlzIGlnbm9yZWQtLWJ1dCB3ZSB3aWxsIHN0aWxsIHVzZSB0aGUgcHJlZml4IHZhbHVlIHN0b3JlZCBpbiBlYWNoIHVuaXQsIHNpbmNlIGtnIGlzIHVzdWFsbHkgcHJlZmVyYWJsZSB0byBnIHVubGVzcyB0aGUgdXNlciBkZWNpZGVzIG90aGVyd2lzZS5cbiAgICAgIHZhciByZXMgPSB2YWx1ZTtcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnVuaXQudmFsdWUpO1xuICAgICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucHJlZml4LnZhbHVlKTtcbiAgICAgICAgdW5pdFBvd2VyID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnBvd2VyKTtcbiAgICAgICAgcmVzID0gZGl2aWRlU2NhbGFyKHJlcywgcG93KG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdFBvd2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgdW5pdCBvZiBwb3dlciAxLCBsaWtlIGtnIG9yIGRlZ0NcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICAgIHVuaXRPZmZzZXQgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC5vZmZzZXQpO1xuXG4gICAgICBpZiAocHJlZml4VmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcmVmaXhWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gc3VidHJhY3QoZGl2aWRlU2NhbGFyKGRpdmlkZVNjYWxhcih2YWx1ZSwgdW5pdFZhbHVlKSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdE9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3VidHJhY3QoZGl2aWRlU2NhbGFyKGRpdmlkZVNjYWxhcih2YWx1ZSwgdW5pdFZhbHVlKSwgcHJlZml4VmFsdWUpLCB1bml0T2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBGaW5kIGEgdW5pdCBmcm9tIGEgc3RyaW5nXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICAgIEEgc3RyaW5nIGxpa2UgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybnMge09iamVjdCB8IG51bGx9IHJlc3VsdCAgV2hlbiBmb3VuZCwgYW4gb2JqZWN0IHdpdGggZmllbGRzIHVuaXQgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCBpcyByZXR1cm5lZC4gRWxzZSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICB2YXIgX2ZpbmRVbml0ID0gbWVtb2l6ZShzdHIgPT4ge1xuICAgIC8vIEZpcnN0LCBtYXRjaCB1bml0cyBuYW1lcyBleGFjdGx5LiBGb3IgZXhhbXBsZSwgYSB1c2VyIGNvdWxkIGRlZmluZSAnbW0nIGFzIDEwXi00IG0sIHdoaWNoIGlzIHNpbGx5LCBidXQgdGhlbiB3ZSB3b3VsZCB3YW50ICdtbScgdG8gbWF0Y2ggdGhlIHVzZXItZGVmaW5lZCB1bml0LlxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgc3RyKSkge1xuICAgICAgdmFyIHVuaXQgPSBVTklUU1tzdHJdO1xuICAgICAgdmFyIHByZWZpeCA9IHVuaXQucHJlZml4ZXNbJyddO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5pdCxcbiAgICAgICAgcHJlZml4XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIF9uYW1lIGluIFVOSVRTKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIF9uYW1lKSkge1xuICAgICAgICBpZiAoZW5kc1dpdGgoc3RyLCBfbmFtZSkpIHtcbiAgICAgICAgICB2YXIgX3VuaXQgPSBVTklUU1tfbmFtZV07XG4gICAgICAgICAgdmFyIHByZWZpeExlbiA9IHN0ci5sZW5ndGggLSBfbmFtZS5sZW5ndGg7XG4gICAgICAgICAgdmFyIHByZWZpeE5hbWUgPSBzdHIuc3Vic3RyaW5nKDAsIHByZWZpeExlbik7XG5cbiAgICAgICAgICB2YXIgX3ByZWZpeCA9IGhhc093blByb3BlcnR5KF91bml0LnByZWZpeGVzLCBwcmVmaXhOYW1lKSA/IF91bml0LnByZWZpeGVzW3ByZWZpeE5hbWVdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKF9wcmVmaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gc3RvcmUgdW5pdCwgcHJlZml4LCBhbmQgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVuaXQ6IF91bml0LFxuICAgICAgICAgICAgICBwcmVmaXg6IF9wcmVmaXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIHtcbiAgICBoYXNoZXI6IGFyZ3MgPT4gYXJnc1swXSxcbiAgICBsaW1pdDogMTAwXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBpcyBhIHVuaXQuXG4gICAqIFRoZSB1bml0IGNhbiBoYXZlIGEgcHJlZml4IGJ1dCBjYW5ub3QgaGF2ZSBhIHZhbHVlLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgIEEgc3RyaW5nIHRvIGJlIHRlc3RlZCB3aGV0aGVyIGl0IGlzIGEgdmFsdWUgbGVzcyB1bml0LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB1bml0IGNhbiBoYXZlIHByZWZpeCwgbGlrZSBcImNtXCJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5pc1ZhbHVlbGVzc1VuaXQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBfZmluZFVuaXQobmFtZSkgIT09IG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVjayBpZiB0aGlzIHVuaXQgaGFzIGdpdmVuIGJhc2UgdW5pdFxuICAgKiBJZiB0aGlzIHVuaXQgaXMgYSBkZXJpdmVkIHVuaXQsIHRoaXMgd2lsbCBBTFdBWVMgcmV0dXJuIGZhbHNlLCBzaW5jZSBieSBkZWZpbml0aW9uIGJhc2UgdW5pdHMgYXJlIG5vdCBkZXJpdmVkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge0JBU0VfVU5JVFMgfCBzdHJpbmcgfCB1bmRlZmluZWR9IGJhc2VcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5oYXNCYXNlID0gZnVuY3Rpb24gKGJhc2UpIHtcbiAgICBpZiAodHlwZW9mIGJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBiYXNlID0gQkFTRV9VTklUU1tiYXNlXTtcbiAgICB9XG5cbiAgICBpZiAoIWJhc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIEFsbCBkaW1lbnNpb25zIG11c3QgYmUgdGhlIHNhbWVcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChNYXRoLmFicygodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKGJhc2UuZGltZW5zaW9uc1tpXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHVuaXQgaGFzIGEgYmFzZSBvciBiYXNlcyBlcXVhbCB0byBhbm90aGVyIGJhc2Ugb3IgYmFzZXNcbiAgICogRm9yIGRlcml2ZWQgdW5pdHMsIHRoZSBleHBvbmVudCBvbiBlYWNoIGJhc2UgYWxzbyBtdXN0IG1hdGNoXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBlcXVhbCBiYXNlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZXF1YWxCYXNlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgLy8gQWxsIGRpbWVuc2lvbnMgbXVzdCBiZSB0aGUgc2FtZVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoTWF0aC5hYnMoKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgdW5pdCBlcXVhbHMgYW5vdGhlciB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBib3RoIHVuaXRzIGFyZSBlcXVhbFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmVxdWFsQmFzZShvdGhlcikgJiYgZXF1YWwodGhpcy52YWx1ZSwgb3RoZXIudmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogTXVsdGlwbHkgdGhpcyB1bml0IHdpdGggYW5vdGhlciBvbmVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtVbml0fSBwcm9kdWN0IG9mIHRoaXMgdW5pdCBhbmQgdGhlIG90aGVyIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgKyAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKTtcbiAgICB9IC8vIEFwcGVuZCBvdGhlcidzIHVuaXRzIGxpc3Qgb250byByZXNcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG90aGVyLnVuaXRzLmxlbmd0aDsgX2krKykge1xuICAgICAgLy8gTWFrZSBhIHNoYWxsb3cgY29weSBvZiBldmVyeSB1bml0XG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBfb2JqZWN0U3ByZWFkKHt9LCBvdGhlci51bml0c1tfaV0pO1xuXG4gICAgICByZXMudW5pdHMucHVzaChpbnZlcnRlZCk7XG4gICAgfSAvLyBJZiBhdCBsZWFzdCBvbmUgb3BlcmFuZCBoYXMgYSB2YWx1ZSwgdGhlbiB0aGUgcmVzdWx0IHNob3VsZCBhbHNvIGhhdmUgYSB2YWx1ZVxuXG5cbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCB8fCBvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHZhbFRoaXMgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcbiAgICAgIHZhciB2YWxPdGhlciA9IG90aGVyLnZhbHVlID09PSBudWxsID8gb3RoZXIuX25vcm1hbGl6ZSgxKSA6IG90aGVyLnZhbHVlO1xuICAgICAgcmVzLnZhbHVlID0gbXVsdGlwbHlTY2FsYXIodmFsVGhpcywgdmFsT3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIERpdmlkZSB0aGlzIHVuaXQgYnkgYW5vdGhlciBvbmVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtVbml0fSByZXN1bHQgb2YgZGl2aWRpbmcgdGhpcyB1bml0IGJ5IHRoZSBvdGhlciB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApO1xuICAgIH0gLy8gSW52ZXJ0IGFuZCBhcHBlbmQgb3RoZXIncyB1bml0cyBsaXN0IG9udG8gcmVzXG5cblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG90aGVyLnVuaXRzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgZXZlcnkgdW5pdFxuICAgICAgdmFyIGludmVydGVkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvdGhlci51bml0c1tfaTJdKSwge30sIHtcbiAgICAgICAgcG93ZXI6IC1vdGhlci51bml0c1tfaTJdLnBvd2VyXG4gICAgICB9KTtcblxuICAgICAgcmVzLnVuaXRzLnB1c2goaW52ZXJ0ZWQpO1xuICAgIH0gLy8gSWYgYXQgbGVhc3Qgb25lIG9wZXJhbmQgaGFzIGEgdmFsdWUsIHRoZSByZXN1bHQgc2hvdWxkIGhhdmUgYSB2YWx1ZVxuXG5cbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCB8fCBvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHZhbFRoaXMgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcbiAgICAgIHZhciB2YWxPdGhlciA9IG90aGVyLnZhbHVlID09PSBudWxsID8gb3RoZXIuX25vcm1hbGl6ZSgxKSA6IG90aGVyLnZhbHVlO1xuICAgICAgcmVzLnZhbHVlID0gZGl2aWRlU2NhbGFyKHZhbFRoaXMsIHZhbE90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyfSBwXG4gICAqIEByZXR1cm5zIHtVbml0fSAgICAgIFRoZSByZXN1bHQ6IHRoaXNecFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnBvdyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAqIHA7XG4gICAgfSAvLyBBZGp1c3QgdGhlIHBvd2VyIG9mIGVhY2ggdW5pdCBpbiB0aGUgbGlzdFxuXG5cbiAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCByZXMudW5pdHMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgcmVzLnVuaXRzW19pM10ucG93ZXIgKj0gcDtcbiAgICB9XG5cbiAgICBpZiAocmVzLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXMudmFsdWUgPSBwb3cocmVzLnZhbHVlLCBwKTsgLy8gb25seSBhbGxvdyBudW1lcmljIG91dHB1dCwgd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYSBDb21wbGV4IG51bWJlclxuICAgICAgLy8gaWYgKCFpc051bWVyaWMocmVzLnZhbHVlKSkge1xuICAgICAgLy8gIHJlcy52YWx1ZSA9IE5hTlxuICAgICAgLy8gfVxuICAgICAgLy8gVXBkYXRlOiBDb21wbGV4IHN1cHBvcnRlZCBub3dcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhpcyB1bml0IGlmIGl0IGlzIGRpbWVuc2lvbmxlc3MsIGhhcyBhIHZhbHVlLCBhbmQgY29uZmlnLnByZWRpY3RhYmxlID09IGZhbHNlOyBvciB0aGUgb3JpZ2luYWwgdW5pdCBvdGhlcndpc2VcbiAgICogQHBhcmFtIHtVbml0fSB1bml0XG4gICAqIEByZXR1cm5zIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IFVuaXR9ICBUaGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGUgdW5pdCBpZiBjb25kaXRpb25zIGFyZSBtZXQsIG9yIHRoZSBvcmlnaW5hbCB1bml0IG90aGVyd2lzZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldE51bWVyaWNJZlVuaXRsZXNzKHVuaXQpIHtcbiAgICBpZiAodW5pdC5lcXVhbEJhc2UoQkFTRV9VTklUUy5OT05FKSAmJiB1bml0LnZhbHVlICE9PSBudWxsICYmICFjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgIHJldHVybiB1bml0LnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5pdDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXJ9IHhcbiAgICogQHJldHVybnMge1VuaXR9ICAgICAgVGhlIHJlc3VsdDogfHh8LCBhYnNvbHV0ZSB2YWx1ZSBvZiB4XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgZ2l2ZXMgY29ycmVjdCwgYnV0IHVuZXhwZWN0ZWQsIHJlc3VsdHMgZm9yIHVuaXRzIHdpdGggYW4gb2Zmc2V0LlxuICAgIC8vIEZvciBleGFtcGxlLCBhYnMoLTI4My4xNSBkZWdDKSA9IC0yNjMuMTUgZGVnQyAhISFcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHJldC52YWx1ZSA9IHJldC52YWx1ZSAhPT0gbnVsbCA/IGFicyhyZXQudmFsdWUpIDogbnVsbDtcblxuICAgIGZvciAodmFyIGkgaW4gcmV0LnVuaXRzKSB7XG4gICAgICBpZiAocmV0LnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBJyB8fCByZXQudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkFSJykge1xuICAgICAgICByZXQudW5pdHNbaV0udW5pdCA9IFVOSVRTLlc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIHVuaXQgdG8gYSBzcGVjaWZpYyB1bml0IG5hbWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgIEEgdW5pdCB3aXRob3V0IHZhbHVlLiBDYW4gaGF2ZSBwcmVmaXgsIGxpa2UgXCJjbVwiXG4gICAqIEByZXR1cm5zIHtVbml0fSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIHVuaXQgd2l0aCBhIGZpeGVkIHByZWZpeCBhbmQgdW5pdC5cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50byA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgdmFyIG90aGVyO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZWxlc3NVbml0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gb3RoZXIgPSBuZXcgVW5pdChudWxsLCB2YWx1ZWxlc3NVbml0KVxuICAgICAgb3RoZXIgPSBVbml0LnBhcnNlKHZhbHVlbGVzc1VuaXQpO1xuXG4gICAgICBpZiAoIXRoaXMuZXF1YWxCYXNlKG90aGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbml0cyBkbyBub3QgbWF0Y2ggKCdcIi5jb25jYXQob3RoZXIudG9TdHJpbmcoKSwgXCInICE9ICdcIikuY29uY2F0KHRoaXMudG9TdHJpbmcoKSwgXCInKVwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHRvIGEgdW5pdCB3aXRoIGEgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgb3RoZXIudmFsdWUgPSBjbG9uZSh2YWx1ZSk7XG4gICAgICBvdGhlci5maXhQcmVmaXggPSB0cnVlO1xuICAgICAgb3RoZXIuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9IGVsc2UgaWYgKGlzVW5pdCh2YWx1ZWxlc3NVbml0KSkge1xuICAgICAgaWYgKCF0aGlzLmVxdWFsQmFzZSh2YWx1ZWxlc3NVbml0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbml0cyBkbyBub3QgbWF0Y2ggKCdcIi5jb25jYXQodmFsdWVsZXNzVW5pdC50b1N0cmluZygpLCBcIicgIT0gJ1wiKS5jb25jYXQodGhpcy50b1N0cmluZygpLCBcIicpXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlbGVzc1VuaXQudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCB0byBhIHVuaXQgd2l0aCBhIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIG90aGVyID0gdmFsdWVsZXNzVW5pdC5jbG9uZSgpO1xuICAgICAgb3RoZXIudmFsdWUgPSBjbG9uZSh2YWx1ZSk7XG4gICAgICBvdGhlci5maXhQcmVmaXggPSB0cnVlO1xuICAgICAgb3RoZXIuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHJpbmcgb3IgVW5pdCBleHBlY3RlZCBhcyBwYXJhbWV0ZXInKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSB1bml0IHdoZW4gcmVwcmVzZW50ZWQgd2l0aCBnaXZlbiB2YWx1ZWxlc3MgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICAgRm9yIGV4YW1wbGUgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSB1bml0IHZhbHVlIGFzIG51bWJlci5cbiAgICovXG4gIC8vIFRPRE86IGRlcHJlY2F0ZSBVbml0LnRvTnVtYmVyPyBJdCdzIGFsd2F5cyBiZXR0ZXIgdG8gdXNlIHRvTnVtZXJpY1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHJldHVybiB0b051bWJlcih0aGlzLnRvTnVtZXJpYyh2YWx1ZWxlc3NVbml0KSk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSB1bml0IGluIHRoZSBvcmlnaW5hbCBudW1lcmljIHR5cGVcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgIEZvciBleGFtcGxlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9ufSBSZXR1cm5zIHRoZSB1bml0IHZhbHVlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9OdW1lcmljID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICB2YXIgb3RoZXI7XG5cbiAgICBpZiAodmFsdWVsZXNzVW5pdCkge1xuICAgICAgLy8gQWxsb3cgZ2V0dGluZyB0aGUgbnVtZXJpYyB2YWx1ZSB3aXRob3V0IGNvbnZlcnRpbmcgdG8gYSBkaWZmZXJlbnQgdW5pdFxuICAgICAgb3RoZXIgPSB0aGlzLnRvKHZhbHVlbGVzc1VuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlciA9IHRoaXMuY2xvbmUoKTtcbiAgICB9XG5cbiAgICBpZiAob3RoZXIuX2lzRGVyaXZlZCgpIHx8IG90aGVyLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG90aGVyLl9kZW5vcm1hbGl6ZShvdGhlci52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvdGhlci5fZGVub3JtYWxpemUob3RoZXIudmFsdWUsIG90aGVyLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0LlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiVW5pdFwiLCBcInZhbHVlXCI6IDIsIFwidW5pdFwiOiBcImNtXCIsIFwiZml4UHJlZml4XCI6IGZhbHNlfWBcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1VuaXQnLFxuICAgICAgdmFsdWU6IHRoaXMuX2Rlbm9ybWFsaXplKHRoaXMudmFsdWUpLFxuICAgICAgdW5pdDogdGhpcy5mb3JtYXRVbml0cygpLFxuICAgICAgZml4UHJlZml4OiB0aGlzLmZpeFByZWZpeFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFVuaXQgZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiVW5pdFwiLCBcInZhbHVlXCI6IDIsIFwidW5pdFwiOiBcImNtXCIsIFwiZml4UHJlZml4XCI6IGZhbHNlfWBcbiAgICogQHJldHVybiB7VW5pdH1cbiAgICovXG5cblxuICBVbml0LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KGpzb24udmFsdWUsIGpzb24udW5pdCk7XG4gICAgdW5pdC5maXhQcmVmaXggPSBqc29uLmZpeFByZWZpeCB8fCBmYWxzZTtcbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnZhbHVlT2YgPSBVbml0LnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIFNpbXBsaWZ5IHRoaXMgVW5pdCdzIHVuaXQgbGlzdCBhbmQgcmV0dXJuIGEgbmV3IFVuaXQgd2l0aCB0aGUgc2ltcGxpZmllZCBsaXN0LlxuICAgKiBUaGUgcmV0dXJuZWQgVW5pdCB3aWxsIGNvbnRhaW4gYSBsaXN0IG9mIHRoZSBcImJlc3RcIiB1bml0cyBmb3IgZm9ybWF0dGluZy5cbiAgICovXG5cbiAgVW5pdC5wcm90b3R5cGUuc2ltcGxpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcHJvcG9zZWRVbml0TGlzdCA9IFtdOyAvLyBTZWFyY2ggZm9yIGEgbWF0Y2hpbmcgYmFzZVxuXG4gICAgdmFyIG1hdGNoaW5nQmFzZTtcblxuICAgIGZvciAodmFyIGtleSBpbiBjdXJyZW50VW5pdFN5c3RlbSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBrZXkpKSB7XG4gICAgICAgIGlmIChyZXQuaGFzQmFzZShCQVNFX1VOSVRTW2tleV0pKSB7XG4gICAgICAgICAgbWF0Y2hpbmdCYXNlID0ga2V5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoaW5nQmFzZSA9PT0gJ05PTkUnKSB7XG4gICAgICByZXQudW5pdHMgPSBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1hdGNoaW5nVW5pdDtcblxuICAgICAgaWYgKG1hdGNoaW5nQmFzZSkge1xuICAgICAgICAvLyBEb2VzIHRoZSB1bml0IHN5c3RlbSBoYXZlIGEgbWF0Y2hpbmcgdW5pdD9cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBtYXRjaGluZ0Jhc2UpKSB7XG4gICAgICAgICAgbWF0Y2hpbmdVbml0ID0gY3VycmVudFVuaXRTeXN0ZW1bbWF0Y2hpbmdCYXNlXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2hpbmdVbml0KSB7XG4gICAgICAgIHJldC51bml0cyA9IFt7XG4gICAgICAgICAgdW5pdDogbWF0Y2hpbmdVbml0LnVuaXQsXG4gICAgICAgICAgcHJlZml4OiBtYXRjaGluZ1VuaXQucHJlZml4LFxuICAgICAgICAgIHBvd2VyOiAxLjBcbiAgICAgICAgfV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNdWx0aXBsZSB1bml0cyBvciB1bml0cyB3aXRoIHBvd2VycyBhcmUgZm9ybWF0dGVkIGxpa2UgdGhpczpcbiAgICAgICAgLy8gNSAoa2cgbV4yKSAvIChzXjMgbW9sKVxuICAgICAgICAvLyBCdWlsZCBhbiByZXByZXNlbnRhdGlvbiBmcm9tIHRoZSBiYXNlIHVuaXRzIG9mIHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtXG4gICAgICAgIHZhciBtaXNzaW5nQmFzZURpbSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGJhc2VEaW0gPSBCQVNFX0RJTUVOU0lPTlNbaV07XG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMocmV0LmRpbWVuc2lvbnNbaV0gfHwgMCkgPiAxZS0xMikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGN1cnJlbnRVbml0U3lzdGVtLCBiYXNlRGltKSkge1xuICAgICAgICAgICAgICBwcm9wb3NlZFVuaXRMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgIHVuaXQ6IGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VEaW1dLnVuaXQsXG4gICAgICAgICAgICAgICAgcHJlZml4OiBjdXJyZW50VW5pdFN5c3RlbVtiYXNlRGltXS5wcmVmaXgsXG4gICAgICAgICAgICAgICAgcG93ZXI6IHJldC5kaW1lbnNpb25zW2ldIHx8IDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtaXNzaW5nQmFzZURpbSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElzIHRoZSBwcm9wb3NlZCB1bml0IGxpc3QgXCJzaW1wbGVyXCIgdGhhbiB0aGUgZXhpc3Rpbmcgb25lP1xuXG5cbiAgICAgICAgaWYgKHByb3Bvc2VkVW5pdExpc3QubGVuZ3RoIDwgcmV0LnVuaXRzLmxlbmd0aCAmJiAhbWlzc2luZ0Jhc2VEaW0pIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIHRoaXMgdW5pdCBsaXN0IHdpdGggdGhlIHByb3Bvc2VkIGxpc3RcbiAgICAgICAgICByZXQudW5pdHMgPSBwcm9wb3NlZFVuaXRMaXN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgVW5pdCBpbiB0aGUgU0kgc3lzdGVtIHdpdGggdGhlIHNhbWUgdmFsdWUgYXMgdGhpcyBvbmVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b1NJID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHByb3Bvc2VkVW5pdExpc3QgPSBbXTsgLy8gTXVsdGlwbGUgdW5pdHMgb3IgdW5pdHMgd2l0aCBwb3dlcnMgYXJlIGZvcm1hdHRlZCBsaWtlIHRoaXM6XG4gICAgLy8gNSAoa2cgbV4yKSAvIChzXjMgbW9sKVxuICAgIC8vIEJ1aWxkIGFuIHJlcHJlc2VudGF0aW9uIGZyb20gdGhlIGJhc2UgdW5pdHMgb2YgdGhlIFNJIHVuaXQgc3lzdGVtXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGJhc2VEaW0gPSBCQVNFX0RJTUVOU0lPTlNbaV07XG5cbiAgICAgIGlmIChNYXRoLmFicyhyZXQuZGltZW5zaW9uc1tpXSB8fCAwKSA+IDFlLTEyKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMuc2ksIGJhc2VEaW0pKSB7XG4gICAgICAgICAgcHJvcG9zZWRVbml0TGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHVuaXQ6IFVOSVRfU1lTVEVNUy5zaVtiYXNlRGltXS51bml0LFxuICAgICAgICAgICAgcHJlZml4OiBVTklUX1NZU1RFTVMuc2lbYmFzZURpbV0ucHJlZml4LFxuICAgICAgICAgICAgcG93ZXI6IHJldC5kaW1lbnNpb25zW2ldIHx8IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBleHByZXNzIGN1c3RvbSB1bml0ICcgKyBiYXNlRGltICsgJyBpbiBTSSB1bml0cycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBSZXBsYWNlIHRoaXMgdW5pdCBsaXN0IHdpdGggdGhlIHByb3Bvc2VkIGxpc3RcblxuXG4gICAgcmV0LnVuaXRzID0gcHJvcG9zZWRVbml0TGlzdDtcbiAgICByZXQuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICByZXQuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0cyBvZiB0aGlzIFVuaXQsIHdpdGhvdXQgdGhlIHZhbHVlLiBUaGUgdW5pdCBsaXN0IGlzIGZvcm1hdHRlZCBhcy1pcyB3aXRob3V0IGZpcnN0IGJlaW5nIHNpbXBsaWZpZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5mb3JtYXRVbml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RyTnVtID0gJyc7XG4gICAgdmFyIHN0ckRlbiA9ICcnO1xuICAgIHZhciBuTnVtID0gMDtcbiAgICB2YXIgbkRlbiA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnVuaXRzW2ldLnBvd2VyID4gMCkge1xuICAgICAgICBuTnVtKys7XG4gICAgICAgIHN0ck51bSArPSAnICcgKyB0aGlzLnVuaXRzW2ldLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tpXS51bml0Lm5hbWU7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbaV0ucG93ZXIgLSAxLjApID4gMWUtMTUpIHtcbiAgICAgICAgICBzdHJOdW0gKz0gJ14nICsgdGhpcy51bml0c1tpXS5wb3dlcjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnVuaXRzW2ldLnBvd2VyIDwgMCkge1xuICAgICAgICBuRGVuKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5EZW4gPiAwKSB7XG4gICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCB0aGlzLnVuaXRzLmxlbmd0aDsgX2k0KyspIHtcbiAgICAgICAgaWYgKHRoaXMudW5pdHNbX2k0XS5wb3dlciA8IDApIHtcbiAgICAgICAgICBpZiAobk51bSA+IDApIHtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnICcgKyB0aGlzLnVuaXRzW19pNF0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW19pNF0udW5pdC5uYW1lO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1tfaTRdLnBvd2VyICsgMS4wKSA+IDFlLTE1KSB7XG4gICAgICAgICAgICAgIHN0ckRlbiArPSAnXicgKyAtdGhpcy51bml0c1tfaTRdLnBvd2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJyAnICsgdGhpcy51bml0c1tfaTRdLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tfaTRdLnVuaXQubmFtZTtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnXicgKyB0aGlzLnVuaXRzW19pNF0ucG93ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBSZW1vdmUgbGVhZGluZyBcIiBcIlxuXG5cbiAgICBzdHJOdW0gPSBzdHJOdW0uc3Vic3RyKDEpO1xuICAgIHN0ckRlbiA9IHN0ckRlbi5zdWJzdHIoMSk7IC8vIEFkZCBwYXJhbnMgZm9yIGJldHRlciBjb3B5L3Bhc3RlIGJhY2sgaW50byBldmFsdWF0ZSwgZm9yIGV4YW1wbGUsIG9yIGZvciBiZXR0ZXIgcHJldHR5IHByaW50IGZvcm1hdHRpbmdcblxuICAgIGlmIChuTnVtID4gMSAmJiBuRGVuID4gMCkge1xuICAgICAgc3RyTnVtID0gJygnICsgc3RyTnVtICsgJyknO1xuICAgIH1cblxuICAgIGlmIChuRGVuID4gMSAmJiBuTnVtID4gMCkge1xuICAgICAgc3RyRGVuID0gJygnICsgc3RyRGVuICsgJyknO1xuICAgIH1cblxuICAgIHZhciBzdHIgPSBzdHJOdW07XG5cbiAgICBpZiAobk51bSA+IDAgJiYgbkRlbiA+IDApIHtcbiAgICAgIHN0ciArPSAnIC8gJztcbiAgICB9XG5cbiAgICBzdHIgKz0gc3RyRGVuO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIFVuaXQsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gU2ltcGxmeSB0aGUgdW5pdCBsaXN0LCB1bmxlc3MgaXQgaXMgdmFsdWVsZXNzIG9yIHdhcyBjcmVhdGVkIGRpcmVjdGx5IGluIHRoZVxuICAgIC8vIGNvbnN0cnVjdG9yIG9yIGFzIHRoZSByZXN1bHQgb2YgdG8gb3IgdG9TSVxuICAgIHZhciBzaW1wID0gdGhpcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gfHwgdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuY2xvbmUoKSA6IHRoaXMuc2ltcGxpZnkoKTsgLy8gQXBwbHkgc29tZSBjdXN0b20gbG9naWMgZm9yIGhhbmRsaW5nIFZBIGFuZCBWQVIuIFRoZSBnb2FsIGlzIHRvIGV4cHJlc3MgdGhlIHZhbHVlIG9mIHRoZSB1bml0IGFzIGEgcmVhbCB2YWx1ZSwgaWYgcG9zc2libGUuIE90aGVyd2lzZSwgdXNlIGEgcmVhbC12YWx1ZWQgdW5pdCBpbnN0ZWFkIG9mIGEgY29tcGxleC12YWx1ZWQgb25lLlxuXG4gICAgdmFyIGlzSW1hZ2luYXJ5ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIHNpbXAudmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHNpbXAudmFsdWUgIT09IG51bGwgJiYgaXNDb21wbGV4KHNpbXAudmFsdWUpKSB7XG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYmV0dGVyLCBmb3IgZXhhbXBsZSwgdXNlIHJlbGF0aXZlIG1hZ25pdHVkZSBvZiByZSBhbmQgaW0gcmF0aGVyIHRoYW4gYWJzb2x1dGVcbiAgICAgIGlzSW1hZ2luYXJ5ID0gTWF0aC5hYnMoc2ltcC52YWx1ZS5yZSkgPCAxZS0xNDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHNpbXAudW5pdHMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzaW1wLnVuaXRzLCBpKSkge1xuICAgICAgICBpZiAoc2ltcC51bml0c1tpXS51bml0KSB7XG4gICAgICAgICAgaWYgKHNpbXAudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkEnICYmIGlzSW1hZ2luYXJ5KSB7XG4gICAgICAgICAgICBzaW1wLnVuaXRzW2ldLnVuaXQgPSBVTklUUy5WQVI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBUicgJiYgIWlzSW1hZ2luYXJ5KSB7XG4gICAgICAgICAgICBzaW1wLnVuaXRzW2ldLnVuaXQgPSBVTklUUy5WQTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIE5vdyBhcHBseSB0aGUgYmVzdCBwcmVmaXhcbiAgICAvLyBVbml0cyBtdXN0IGhhdmUgb25seSBvbmUgdW5pdCBhbmQgbm90IGhhdmUgdGhlIGZpeFByZWZpeCBmbGFnIHNldFxuXG5cbiAgICBpZiAoc2ltcC51bml0cy5sZW5ndGggPT09IDEgJiYgIXNpbXAuZml4UHJlZml4KSB7XG4gICAgICAvLyBVbml0cyBtdXN0IGhhdmUgaW50ZWdlciBwb3dlcnMsIG90aGVyd2lzZSB0aGUgcHJlZml4IHdpbGwgY2hhbmdlIHRoZVxuICAgICAgLy8gb3V0cHV0dGVkIHZhbHVlIGJ5IG5vdC1hbi1pbnRlZ2VyLXBvd2VyLW9mLXRlblxuICAgICAgaWYgKE1hdGguYWJzKHNpbXAudW5pdHNbMF0ucG93ZXIgLSBNYXRoLnJvdW5kKHNpbXAudW5pdHNbMF0ucG93ZXIpKSA8IDFlLTE0KSB7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBiZXN0IHByZWZpeFxuICAgICAgICBzaW1wLnVuaXRzWzBdLnByZWZpeCA9IHNpbXAuX2Jlc3RQcmVmaXgoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBzaW1wLl9kZW5vcm1hbGl6ZShzaW1wLnZhbHVlKTtcblxuICAgIHZhciBzdHIgPSBzaW1wLnZhbHVlICE9PSBudWxsID8gZm9ybWF0KHZhbHVlLCBvcHRpb25zIHx8IHt9KSA6ICcnO1xuICAgIHZhciB1bml0U3RyID0gc2ltcC5mb3JtYXRVbml0cygpO1xuXG4gICAgaWYgKHNpbXAudmFsdWUgJiYgaXNDb21wbGV4KHNpbXAudmFsdWUpKSB7XG4gICAgICBzdHIgPSAnKCcgKyBzdHIgKyAnKSc7IC8vIFN1cnJvdW5kIGNvbXBsZXggdmFsdWVzIHdpdGggKCApIHRvIGVuYWJsZSBiZXR0ZXIgcGFyc2luZ1xuICAgIH1cblxuICAgIGlmICh1bml0U3RyLmxlbmd0aCA+IDAgJiYgc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgIHN0ciArPSAnICc7XG4gICAgfVxuXG4gICAgc3RyICs9IHVuaXRTdHI7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYmVzdCBwcmVmaXggdXNpbmcgY3VycmVudCB2YWx1ZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybnMge09iamVjdH0gcHJlZml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2Jlc3RQcmVmaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudW5pdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGNvbXB1dGUgdGhlIGJlc3QgcHJlZml4IGZvciBzaW5nbGUgdW5pdHMgd2l0aCBpbnRlZ2VyIHBvd2VycywgbGlrZSBrZywgc14yLCBOXi0xLCBhbmQgc28gZm9ydGghJyk7XG4gICAgfVxuXG4gICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbMF0ucG93ZXIgLSBNYXRoLnJvdW5kKHRoaXMudW5pdHNbMF0ucG93ZXIpKSA+PSAxZS0xNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBjb21wdXRlIHRoZSBiZXN0IHByZWZpeCBmb3Igc2luZ2xlIHVuaXRzIHdpdGggaW50ZWdlciBwb3dlcnMsIGxpa2Uga2csIHNeMiwgTl4tMSwgYW5kIHNvIGZvcnRoIScpO1xuICAgIH0gLy8gZmluZCB0aGUgYmVzdCBwcmVmaXggdmFsdWUgKHJlc3VsdGluZyBpbiB0aGUgdmFsdWUgb2Ygd2hpY2hcbiAgICAvLyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIGxvZzEwIGlzIGNsb3Nlc3QgdG8gemVybyxcbiAgICAvLyB0aG91Z2ggd2l0aCBhIGxpdHRsZSBvZmZzZXQgb2YgMS4yIGZvciBuaWNlciB2YWx1ZXM6IHlvdSBnZXQgYVxuICAgIC8vIHNlcXVlbmNlIDFtbSAxMDBtbSA1MDBtbSAwLjZtIDFtIDEwbSAxMDBtIDUwMG0gMC42a20gMWttIC4uLlxuICAgIC8vIE5vdGU6IHRoZSB1bml0cyB2YWx1ZSBjYW4gYmUgYW55IG51bWVyaWMgdHlwZSwgYnV0IHRvIGZpbmQgdGhlIGJlc3RcbiAgICAvLyBwcmVmaXggaXQncyBlbm91Z2ggdG8gd29yayB3aXRoIGxpbWl0ZWQgcHJlY2lzaW9uIG9mIGEgcmVndWxhciBudW1iZXJcbiAgICAvLyBVcGRhdGU6IHVzaW5nIG1hdGhqcyBhYnMgc2luY2Ugd2UgYWxzbyBhbGxvdyBjb21wbGV4IG51bWJlcnNcblxuXG4gICAgdmFyIGFic1ZhbHVlID0gdGhpcy52YWx1ZSAhPT0gbnVsbCA/IGFicyh0aGlzLnZhbHVlKSA6IDA7XG4gICAgdmFyIGFic1VuaXRWYWx1ZSA9IGFicyh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgIHZhciBiZXN0UHJlZml4ID0gdGhpcy51bml0c1swXS5wcmVmaXg7XG5cbiAgICBpZiAoYWJzVmFsdWUgPT09IDApIHtcbiAgICAgIHJldHVybiBiZXN0UHJlZml4O1xuICAgIH1cblxuICAgIHZhciBwb3dlciA9IHRoaXMudW5pdHNbMF0ucG93ZXI7XG4gICAgdmFyIGJlc3REaWZmID0gTWF0aC5sb2coYWJzVmFsdWUgLyBNYXRoLnBvdyhiZXN0UHJlZml4LnZhbHVlICogYWJzVW5pdFZhbHVlLCBwb3dlcikpIC8gTWF0aC5MTjEwIC0gMS4yO1xuICAgIGlmIChiZXN0RGlmZiA+IC0yLjIwMDAwMSAmJiBiZXN0RGlmZiA8IDEuODAwMDAxKSByZXR1cm4gYmVzdFByZWZpeDsgLy8gQWxsb3cgdGhlIG9yaWdpbmFsIHByZWZpeFxuXG4gICAgYmVzdERpZmYgPSBNYXRoLmFicyhiZXN0RGlmZik7XG4gICAgdmFyIHByZWZpeGVzID0gdGhpcy51bml0c1swXS51bml0LnByZWZpeGVzO1xuXG4gICAgZm9yICh2YXIgcCBpbiBwcmVmaXhlcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHByZWZpeGVzLCBwKSkge1xuICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbcF07XG5cbiAgICAgICAgaWYgKHByZWZpeC5zY2llbnRpZmljKSB7XG4gICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhNYXRoLmxvZyhhYnNWYWx1ZSAvIE1hdGgucG93KHByZWZpeC52YWx1ZSAqIGFic1VuaXRWYWx1ZSwgcG93ZXIpKSAvIE1hdGguTE4xMCAtIDEuMik7XG5cbiAgICAgICAgICBpZiAoZGlmZiA8IGJlc3REaWZmIHx8IGRpZmYgPT09IGJlc3REaWZmICYmIHByZWZpeC5uYW1lLmxlbmd0aCA8IGJlc3RQcmVmaXgubmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGNob29zZSB0aGUgcHJlZml4IHdpdGggdGhlIHNtYWxsZXN0IGRpZmYsIG9yIGlmIGVxdWFsLCBjaG9vc2UgdGhlIG9uZVxuICAgICAgICAgICAgLy8gd2l0aCB0aGUgc2hvcnRlc3QgbmFtZSAoY2FuIGhhcHBlbiB3aXRoIFNIT1JUTE9ORyBmb3IgZXhhbXBsZSlcbiAgICAgICAgICAgIGJlc3RQcmVmaXggPSBwcmVmaXg7XG4gICAgICAgICAgICBiZXN0RGlmZiA9IGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RQcmVmaXg7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHVuaXRzIHdob3NlIHN1bSBpcyBlcXVhbCB0byB0aGlzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRzXSBBbiBhcnJheSBvZiBzdHJpbmdzIG9yIHZhbHVlbGVzcyB1bml0cy5cbiAgICpcbiAgICogICBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGNvbnN0IHUgPSBuZXcgVW5pdCgxLCAnbScpXG4gICAqICAgdS5zcGxpdFVuaXQoWydmZWV0JywgJ2luY2gnXSlcbiAgICogICAgIFsgMyBmZWV0LCAzLjM3MDA3ODc0MDE1NzUgaW5jaCBdXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiB1bml0cy5cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5zcGxpdFVuaXQgPSBmdW5jdGlvbiAocGFydHMpIHtcbiAgICB2YXIgeCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBDb252ZXJ0IHggdG8gdGhlIHJlcXVlc3RlZCB1bml0XG4gICAgICB4ID0geC50byhwYXJ0c1tpXSk7XG4gICAgICBpZiAoaSA9PT0gcGFydHMubGVuZ3RoIC0gMSkgYnJlYWs7IC8vIEdldCB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGlzIHVuaXRcblxuICAgICAgdmFyIHhOdW1lcmljID0geC50b051bWVyaWMoKTsgLy8gQ2hlY2sgdG8gc2VlIGlmIHhOdW1lcmljIGlzIG5lYXJseSBlcXVhbCB0byBhbiBpbnRlZ2VyLFxuICAgICAgLy8gc2luY2UgZml4IGNhbiBpbmNvcnJlY3RseSByb3VuZCBkb3duIGlmIHRoZXJlIGlzIHJvdW5kLW9mZiBlcnJvclxuXG4gICAgICB2YXIgeFJvdW5kZWQgPSByb3VuZCh4TnVtZXJpYyk7XG4gICAgICB2YXIgeEZpeGVkID0gdm9pZCAwO1xuICAgICAgdmFyIGlzTmVhcmx5RXF1YWwgPSBlcXVhbCh4Um91bmRlZCwgeE51bWVyaWMpO1xuXG4gICAgICBpZiAoaXNOZWFybHlFcXVhbCkge1xuICAgICAgICB4Rml4ZWQgPSB4Um91bmRlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHhGaXhlZCA9IGZpeCh4LnRvTnVtZXJpYygpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHkgPSBuZXcgVW5pdCh4Rml4ZWQsIHBhcnRzW2ldLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0LnB1c2goeSk7XG4gICAgICB4ID0gc3VidHJhY3QoeCwgeSk7XG4gICAgfSAvLyBUaGlzIGxpdHRsZSBiaXQgZml4ZXMgYSBidWcgd2hlcmUgdGhlIHJlbWFpbmRlciBzaG91bGQgYmUgMCBidXQgaXMgYSBsaXR0bGUgYml0IG9mZi5cbiAgICAvLyBCdXQgaW5zdGVhZCBvZiBjb21wYXJpbmcgeCwgdGhlIHJlbWFpbmRlciwgd2l0aCB6ZXJvLS13ZSB3aWxsIGNvbXBhcmUgdGhlIHN1bSBvZlxuICAgIC8vIGFsbCB0aGUgcGFydHMgc28gZmFyIHdpdGggdGhlIG9yaWdpbmFsIHZhbHVlLiBJZiB0aGV5IGFyZSBuZWFybHkgZXF1YWwsXG4gICAgLy8gd2Ugc2V0IHRoZSByZW1haW5kZXIgdG8gMC5cblxuXG4gICAgdmFyIHRlc3RTdW0gPSAwO1xuXG4gICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgcmV0Lmxlbmd0aDsgX2k1KyspIHtcbiAgICAgIHRlc3RTdW0gPSBhZGRTY2FsYXIodGVzdFN1bSwgcmV0W19pNV0udmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChlcXVhbCh0ZXN0U3VtLCB0aGlzLnZhbHVlKSkge1xuICAgICAgeC52YWx1ZSA9IDA7XG4gICAgfVxuXG4gICAgcmV0LnB1c2goeCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICB2YXIgUFJFRklYRVMgPSB7XG4gICAgTk9ORToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBTSE9SVDoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBMT05HOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkZWNhOiB7XG4gICAgICAgIG5hbWU6ICdkZWNhJyxcbiAgICAgICAgdmFsdWU6IDFlMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoZWN0bzoge1xuICAgICAgICBuYW1lOiAnaGVjdG8nLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGtpbG86IHtcbiAgICAgICAgbmFtZTogJ2tpbG8nLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWVnYToge1xuICAgICAgICBuYW1lOiAnbWVnYScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWdhOiB7XG4gICAgICAgIG5hbWU6ICdnaWdhJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlcmE6IHtcbiAgICAgICAgbmFtZTogJ3RlcmEnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBldGE6IHtcbiAgICAgICAgbmFtZTogJ3BldGEnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4YToge1xuICAgICAgICBuYW1lOiAnZXhhJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXR0YToge1xuICAgICAgICBuYW1lOiAnemV0dGEnLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvdHRhOiB7XG4gICAgICAgIG5hbWU6ICd5b3R0YScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGVjaToge1xuICAgICAgICBuYW1lOiAnZGVjaScsXG4gICAgICAgIHZhbHVlOiAxZS0xLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGNlbnRpOiB7XG4gICAgICAgIG5hbWU6ICdjZW50aScsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG1pbGxpOiB7XG4gICAgICAgIG5hbWU6ICdtaWxsaScsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWljcm86IHtcbiAgICAgICAgbmFtZTogJ21pY3JvJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYW5vOiB7XG4gICAgICAgIG5hbWU6ICduYW5vJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwaWNvOiB7XG4gICAgICAgIG5hbWU6ICdwaWNvJyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZmVtdG86IHtcbiAgICAgICAgbmFtZTogJ2ZlbXRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYXR0bzoge1xuICAgICAgICBuYW1lOiAnYXR0bycsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHplcHRvOiB7XG4gICAgICAgIG5hbWU6ICd6ZXB0bycsXG4gICAgICAgIHZhbHVlOiAxZS0yMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvY3RvOiB7XG4gICAgICAgIG5hbWU6ICd5b2N0bycsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgU1FVQVJFRDoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlNCxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUzMCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUzNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWU0MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWU0OCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTQsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS0zMCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTQyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS00OCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQ1VCSUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlMjcsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlNDUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlNTQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlNjMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlNzIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTI3LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0zNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtNDUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTU0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS02MyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtNzIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9TSE9SVF9TSToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfU0hPUlRfSUVDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBLaToge1xuICAgICAgICBuYW1lOiAnS2knLFxuICAgICAgICB2YWx1ZTogMTAyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE1pOiB7XG4gICAgICAgIG5hbWU6ICdNaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAyKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEdpOiB7XG4gICAgICAgIG5hbWU6ICdHaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAzKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFRpOiB7XG4gICAgICAgIG5hbWU6ICdUaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA0KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFBpOiB7XG4gICAgICAgIG5hbWU6ICdQaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA1KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEVpOiB7XG4gICAgICAgIG5hbWU6ICdFaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA2KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFppOiB7XG4gICAgICAgIG5hbWU6ICdaaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA3KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFlpOiB7XG4gICAgICAgIG5hbWU6ICdZaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA4KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX0xPTkdfU0k6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGtpbG86IHtcbiAgICAgICAgbmFtZTogJ2tpbG8nLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWVnYToge1xuICAgICAgICBuYW1lOiAnbWVnYScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWdhOiB7XG4gICAgICAgIG5hbWU6ICdnaWdhJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlcmE6IHtcbiAgICAgICAgbmFtZTogJ3RlcmEnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBldGE6IHtcbiAgICAgICAgbmFtZTogJ3BldGEnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4YToge1xuICAgICAgICBuYW1lOiAnZXhhJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXR0YToge1xuICAgICAgICBuYW1lOiAnemV0dGEnLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvdHRhOiB7XG4gICAgICAgIG5hbWU6ICd5b3R0YScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfTE9OR19JRUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGtpYmk6IHtcbiAgICAgICAgbmFtZTogJ2tpYmknLFxuICAgICAgICB2YWx1ZTogMTAyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lYmk6IHtcbiAgICAgICAgbmFtZTogJ21lYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBnaWJpOiB7XG4gICAgICAgIG5hbWU6ICdnaWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDMpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGViaToge1xuICAgICAgICBuYW1lOiAndGViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA0KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBlYmk6IHtcbiAgICAgICAgbmFtZTogJ3BlYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNSksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGk6IHtcbiAgICAgICAgbmFtZTogJ2V4aScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA2KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHplYmk6IHtcbiAgICAgICAgbmFtZTogJ3plYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b2JpOiB7XG4gICAgICAgIG5hbWU6ICd5b2JpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDgpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCVFU6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE1NOiB7XG4gICAgICAgIG5hbWU6ICdNTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFBSRUZJWEVTLlNIT1JUTE9ORyA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5TSE9SVCwgUFJFRklYRVMuTE9ORyk7XG4gIFBSRUZJWEVTLkJJTkFSWV9TSE9SVCA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5CSU5BUllfU0hPUlRfU0ksIFBSRUZJWEVTLkJJTkFSWV9TSE9SVF9JRUMpO1xuICBQUkVGSVhFUy5CSU5BUllfTE9ORyA9IF9leHRlbmRzKHt9LCBQUkVGSVhFUy5CSU5BUllfTE9OR19TSSwgUFJFRklYRVMuQklOQVJZX0xPTkdfSUVDKTtcbiAgLyogSW50ZXJuYWxseSwgZWFjaCB1bml0IGlzIHJlcHJlc2VudGVkIGJ5IGEgdmFsdWUgYW5kIGEgZGltZW5zaW9uIGFycmF5LiBUaGUgZWxlbWVudHMgb2YgdGhlIGRpbWVuc2lvbnMgYXJyYXkgaGF2ZSB0aGUgZm9sbG93aW5nIG1lYW5pbmc6XG4gICAqIEluZGV4ICBEaW1lbnNpb25cbiAgICogLS0tLS0gIC0tLS0tLS0tLVxuICAgKiAgIDAgICAgTGVuZ3RoXG4gICAqICAgMSAgICBNYXNzXG4gICAqICAgMiAgICBUaW1lXG4gICAqICAgMyAgICBDdXJyZW50XG4gICAqICAgNCAgICBUZW1wZXJhdHVyZVxuICAgKiAgIDUgICAgTHVtaW5vdXMgaW50ZW5zaXR5XG4gICAqICAgNiAgICBBbW91bnQgb2Ygc3Vic3RhbmNlXG4gICAqICAgNyAgICBBbmdsZVxuICAgKiAgIDggICAgQml0IChkaWdpdGFsKVxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIHVuaXQgXCIyOTguMTUgS1wiIGlzIGEgcHVyZSB0ZW1wZXJhdHVyZSBhbmQgd291bGQgaGF2ZSBhIHZhbHVlIG9mIDI5OC4xNSBhbmQgYSBkaW1lbnNpb24gYXJyYXkgb2YgWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdLiBUaGUgdW5pdCBcIjEgY2FsIC8gKGdtIMKwQylcIiBjYW4gYmUgd3JpdHRlbiBpbiB0ZXJtcyBvZiB0aGUgOSBmdW5kYW1lbnRhbCBkaW1lbnNpb25zIGFzIFtsZW5ndGheMl0gLyAoW3RpbWVeMl0gKiBbdGVtcGVyYXR1cmVdKSwgYW5kIHdvdWxkIGEgdmFsdWUgb2YgKGFmdGVyIGNvbnZlcnNpb24gdG8gU0kpIDQxODQuMCBhbmQgYSBkaW1lbnNpb25zIGFycmF5IG9mIFsyLCAwLCAtMiwgMCwgLTEsIDAsIDAsIDAsIDBdLlxuICAgKlxuICAgKi9cblxuICB2YXIgQkFTRV9ESU1FTlNJT05TID0gWydNQVNTJywgJ0xFTkdUSCcsICdUSU1FJywgJ0NVUlJFTlQnLCAnVEVNUEVSQVRVUkUnLCAnTFVNSU5PVVNfSU5URU5TSVRZJywgJ0FNT1VOVF9PRl9TVUJTVEFOQ0UnLCAnQU5HTEUnLCAnQklUJ107XG4gIHZhciBCQVNFX1VOSVRTID0ge1xuICAgIE5PTkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFTUzoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBMRU5HVEg6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVElNRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBDVVJSRU5UOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFRFTVBFUkFUVVJFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIExVTUlOT1VTX0lOVEVOU0lUWToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBBTU9VTlRfT0ZfU1VCU1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMF1cbiAgICB9LFxuICAgIEZPUkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMSwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBTVVJGQUNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMiwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFZPTFVNRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDMsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTkVSR1k6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFBPV0VSOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBQUkVTU1VSRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIC0xLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NIQVJHRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDEsIDEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DQVBBQ0lUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWy0xLCAtMiwgNCwgMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX1BPVEVOVElBTDoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX1JFU0lTVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgLTIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19JTkRVQ1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIC0yLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ09ORFVDVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFstMSwgLTIsIDMsIDIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQUdORVRJQ19GTFVYOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFHTkVUSUNfRkxVWF9ERU5TSVRZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMCwgLTIsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRlJFUVVFTkNZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgLTEsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBBTkdMRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgfSxcbiAgICBCSVQ6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxXVxuICAgIH1cbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gQkFTRV9VTklUUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBrZXkpKSB7XG4gICAgICBCQVNFX1VOSVRTW2tleV0ua2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIHZhciBCQVNFX1VOSVRfTk9ORSA9IHt9O1xuICB2YXIgVU5JVF9OT05FID0ge1xuICAgIG5hbWU6ICcnLFxuICAgIGJhc2U6IEJBU0VfVU5JVF9OT05FLFxuICAgIHZhbHVlOiAxLFxuICAgIG9mZnNldDogMCxcbiAgICBkaW1lbnNpb25zOiBCQVNFX0RJTUVOU0lPTlMubWFwKHggPT4gMClcbiAgfTtcbiAgdmFyIFVOSVRTID0ge1xuICAgIC8vIGxlbmd0aFxuICAgIG1ldGVyOiB7XG4gICAgICBuYW1lOiAnbWV0ZXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBpbmNoOiB7XG4gICAgICBuYW1lOiAnaW5jaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZm9vdDoge1xuICAgICAgbmFtZTogJ2Zvb3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjMwNDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHlhcmQ6IHtcbiAgICAgIG5hbWU6ICd5YXJkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC45MTQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWxlOiB7XG4gICAgICBuYW1lOiAnbWlsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDE2MDkuMzQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICBuYW1lOiAnbGluaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjAxMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByb2Q6IHtcbiAgICAgIG5hbWU6ICdyb2QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1LjAyOTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNoYWluOiB7XG4gICAgICBuYW1lOiAnY2hhaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyMC4xMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhbmdzdHJvbToge1xuICAgICAgbmFtZTogJ2FuZ3N0cm9tJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG06IHtcbiAgICAgIG5hbWU6ICdtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGluOiB7XG4gICAgICBuYW1lOiAnaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGZ0OiB7XG4gICAgICBuYW1lOiAnZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjMwNDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHlkOiB7XG4gICAgICBuYW1lOiAneWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjkxNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pOiB7XG4gICAgICBuYW1lOiAnbWknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxNjA5LjM0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGk6IHtcbiAgICAgIG5hbWU6ICdsaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjAxMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByZDoge1xuICAgICAgbmFtZTogJ3JkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNS4wMjkyMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNoOiB7XG4gICAgICBuYW1lOiAnY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyMC4xMTY4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWw6IHtcbiAgICAgIG5hbWU6ICdtaWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEvMTAwMCBpbmNoXG4gICAgLy8gU3VyZmFjZVxuICAgIG0yOiB7XG4gICAgICBuYW1lOiAnbTInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNRVUFSRUQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3Fpbjoge1xuICAgICAgbmFtZTogJ3NxaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA2NDUxNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNjQ1LjE2IG1tMlxuICAgIHNxZnQ6IHtcbiAgICAgIG5hbWU6ICdzcWZ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDkyOTAzMDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDkyOTAzMDQgbTJcbiAgICBzcXlkOiB7XG4gICAgICBuYW1lOiAnc3F5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjgzNjEyNzM2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjgzNjEyNzM2IG0yXG4gICAgc3FtaToge1xuICAgICAgbmFtZTogJ3NxbWknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjU4OTk4OC4xMTAzMzYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIuNTg5OTg4MTEwMzM2IGttMlxuICAgIHNxcmQ6IHtcbiAgICAgIG5hbWU6ICdzcXJkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI1LjI5Mjk1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyNS4yOTI5NSBtMlxuICAgIHNxY2g6IHtcbiAgICAgIG5hbWU6ICdzcWNoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQwNC42ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0MDQuNjg3MyBtMlxuICAgIHNxbWlsOiB7XG4gICAgICBuYW1lOiAnc3FtaWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNi40NTE2ZS0xMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNi40NTE2ICogMTBeLTEwIG0yXG4gICAgYWNyZToge1xuICAgICAgbmFtZTogJ2FjcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDA0Ni44NixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDA0Ni44NiBtMlxuICAgIGhlY3RhcmU6IHtcbiAgICAgIG5hbWU6ICdoZWN0YXJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEwMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMDAwMCBtMlxuICAgIC8vIFZvbHVtZVxuICAgIG0zOiB7XG4gICAgICBuYW1lOiAnbTMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQ1VCSUMsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgTDoge1xuICAgICAgbmFtZTogJ0wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGxpdHJlXG4gICAgbDoge1xuICAgICAgbmFtZTogJ2wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGxpdHJlXG4gICAgbGl0cmU6IHtcbiAgICAgIG5hbWU6ICdsaXRyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjdWluOiB7XG4gICAgICBuYW1lOiAnY3VpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNjM4NzA2NGUtNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMS42Mzg3MDY0ZS01IG0zXG4gICAgY3VmdDoge1xuICAgICAgbmFtZTogJ2N1ZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyODMxNjg0NjU5MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjguMzE2IDg0NiA1OTIgTFxuICAgIGN1eWQ6IHtcbiAgICAgIG5hbWU6ICdjdXlkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC43NjQ1NTQ4NTc5ODQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDc2NC41NTQgODU3IDk4NCBMXG4gICAgdGVhc3Bvb246IHtcbiAgICAgIG5hbWU6ICd0ZWFzcG9vbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA1IG1MXG4gICAgdGFibGVzcG9vbjoge1xuICAgICAgbmFtZTogJ3RhYmxlc3Bvb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAxNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTUgbUxcbiAgICAvLyB7bmFtZTogJ2N1cCcsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMDAwMjQwLCBvZmZzZXQ6IDB9LCAvLyAyNDAgbUwgIC8vIG5vdCBwb3NzaWJsZSwgd2UgaGF2ZSBhbHJlYWR5IGFub3RoZXIgY3VwXG4gICAgZHJvcDoge1xuICAgICAgbmFtZTogJ2Ryb3AnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1ZS04LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA1IG1MID0gNWUtOCBtM1xuICAgIGd0dDoge1xuICAgICAgbmFtZTogJ2d0dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDVlLTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDUgbUwgPSA1ZS04IG0zXG4gICAgLy8gTGlxdWlkIHZvbHVtZVxuICAgIG1pbmltOiB7XG4gICAgICBuYW1lOiAnbWluaW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMDA2MTYxMTUyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA2MTYxMTUyIG1MXG4gICAgZmx1aWRkcmFtOiB7XG4gICAgICBuYW1lOiAnZmx1aWRkcmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDM2OTY2OTExLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjY5NjY5MSBtTFxuICAgIGZsdWlkb3VuY2U6IHtcbiAgICAgIG5hbWU6ICdmbHVpZG91bmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjk1NzM1MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjkuNTczNTMgbUxcbiAgICBnaWxsOiB7XG4gICAgICBuYW1lOiAnZ2lsbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMTE4Mjk0MSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE4LjI5NDEgbUxcbiAgICBjYzoge1xuICAgICAgbmFtZTogJ2NjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMWUtNiBMXG4gICAgY3VwOiB7XG4gICAgICBuYW1lOiAnY3VwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAyMzY1ODgyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzYuNTg4MiBtTFxuICAgIHBpbnQ6IHtcbiAgICAgIG5hbWU6ICdwaW50JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA0NzMxNzY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0NzMuMTc2NSBtTFxuICAgIHF1YXJ0OiB7XG4gICAgICBuYW1lOiAncXVhcnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDk0NjM1MjksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDk0Ni4zNTI5IG1MXG4gICAgZ2FsbG9uOiB7XG4gICAgICBuYW1lOiAnZ2FsbG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDM3ODU0MTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNzg1NDEyIExcbiAgICBiZWVyYmFycmVsOiB7XG4gICAgICBuYW1lOiAnYmVlcmJhcnJlbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTE3MzQ3OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE3LjM0NzggTFxuICAgIG9pbGJhcnJlbDoge1xuICAgICAgbmFtZTogJ29pbGJhcnJlbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTU4OTg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTU4Ljk4NzMgTFxuICAgIGhvZ3NoZWFkOiB7XG4gICAgICBuYW1lOiAnaG9nc2hlYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIzODQ4MTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzOC40ODEwIExcbiAgICAvLyB7bmFtZTogJ21pbicsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMDAwMDAwMDYxNjExNTIsIG9mZnNldDogMH0sIC8vIDAuMDYxNjExNTIgbUwgLy8gbWluIGlzIGFscmVhZHkgaW4gdXNlIGFzIG1pbnV0ZVxuICAgIGZsZHI6IHtcbiAgICAgIG5hbWU6ICdmbGRyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDM2OTY2OTExLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjY5NjY5MSBtTFxuICAgIGZsb3o6IHtcbiAgICAgIG5hbWU6ICdmbG96JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjk1NzM1MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjkuNTczNTMgbUxcbiAgICBnaToge1xuICAgICAgbmFtZTogJ2dpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAxMTgyOTQxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTguMjk0MSBtTFxuICAgIGNwOiB7XG4gICAgICBuYW1lOiAnY3AnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDIzNjU4ODIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzNi41ODgyIG1MXG4gICAgcHQ6IHtcbiAgICAgIG5hbWU6ICdwdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNDczMTc2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDczLjE3NjUgbUxcbiAgICBxdDoge1xuICAgICAgbmFtZTogJ3F0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA5NDYzNTI5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA5NDYuMzUyOSBtTFxuICAgIGdhbDoge1xuICAgICAgbmFtZTogJ2dhbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAzNzg1NDEyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjc4NTQxMiBMXG4gICAgYmJsOiB7XG4gICAgICBuYW1lOiAnYmJsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xMTczNDc4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTcuMzQ3OCBMXG4gICAgb2JsOiB7XG4gICAgICBuYW1lOiAnb2JsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xNTg5ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNTguOTg3MyBMXG4gICAgLy8ge25hbWU6ICdob2dzaGVhZCcsIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDAuMjM4NDgxMCwgb2Zmc2V0OiAwfSwgLy8gMjM4LjQ4MTAgTCAvLyBUT0RPOiBoaD9cbiAgICAvLyBNYXNzXG4gICAgZzoge1xuICAgICAgbmFtZTogJ2cnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFtOiB7XG4gICAgICBuYW1lOiAnZ3JhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9uOiB7XG4gICAgICBuYW1lOiAndG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiA5MDcuMTg0NzQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHQ6IHtcbiAgICAgIG5hbWU6ICd0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b25uZToge1xuICAgICAgbmFtZTogJ3Rvbm5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYWluOiB7XG4gICAgICBuYW1lOiAnZ3JhaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjQuNzk4OTFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRyYW06IHtcbiAgICAgIG5hbWU6ICdkcmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNzcxODQ1MTk1MzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgb3VuY2U6IHtcbiAgICAgIG5hbWU6ICdvdW5jZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyOC4zNDk1MjMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBvdW5kbWFzczoge1xuICAgICAgbmFtZTogJ3BvdW5kbWFzcycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NTMuNTkyMzdlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGh1bmRyZWR3ZWlnaHQ6IHtcbiAgICAgIG5hbWU6ICdodW5kcmVkd2VpZ2h0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1LjM1OTIzNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3RpY2s6IHtcbiAgICAgIG5hbWU6ICdzdGljaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMTVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHN0b25lOiB7XG4gICAgICBuYW1lOiAnc3RvbmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNi4zNTAyOTMxOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3I6IHtcbiAgICAgIG5hbWU6ICdncicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2NC43OTg5MWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHI6IHtcbiAgICAgIG5hbWU6ICdkcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjc3MTg0NTE5NTMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG96OiB7XG4gICAgICBuYW1lOiAnb3onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjguMzQ5NTIzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsYm06IHtcbiAgICAgIG5hbWU6ICdsYm0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUzLjU5MjM3ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjd3Q6IHtcbiAgICAgIG5hbWU6ICdjd3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUuMzU5MjM3LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUaW1lXG4gICAgczoge1xuICAgICAgbmFtZTogJ3MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbjoge1xuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2MCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaDoge1xuICAgICAgbmFtZTogJ2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc2Vjb25kOiB7XG4gICAgICBuYW1lOiAnc2Vjb25kJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNlYzoge1xuICAgICAgbmFtZTogJ3NlYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaW51dGU6IHtcbiAgICAgIG5hbWU6ICdtaW51dGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGhvdXI6IHtcbiAgICAgIG5hbWU6ICdob3VyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRheToge1xuICAgICAgbmFtZTogJ2RheScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA4NjQwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgd2Vlazoge1xuICAgICAgbmFtZTogJ3dlZWsnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNyAqIDg2NDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtb250aDoge1xuICAgICAgbmFtZTogJ21vbnRoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI2Mjk4MDAsXG4gICAgICAvLyAxLzEydGggb2YgSnVsaWFuIHllYXJcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWVhcjoge1xuICAgICAgbmFtZTogJ3llYXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAsXG4gICAgICAvLyBKdWxpYW4geWVhclxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWNhZGU6IHtcbiAgICAgIG5hbWU6ICdkZWNhZGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwLFxuICAgICAgLy8gSnVsaWFuIGRlY2FkZVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjZW50dXJ5OiB7XG4gICAgICBuYW1lOiAnY2VudHVyeScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAwLFxuICAgICAgLy8gSnVsaWFuIGNlbnR1cnlcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsbGVubml1bToge1xuICAgICAgbmFtZTogJ21pbGxlbm5pdW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwMDAsXG4gICAgICAvLyBKdWxpYW4gbWlsbGVubml1bVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBGcmVxdWVuY3lcbiAgICBoZXJ0ejoge1xuICAgICAgbmFtZTogJ0hlcnR6JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRlJFUVVFTkNZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHJlY2lwcm9jYWw6IHRydWVcbiAgICB9LFxuICAgIEh6OiB7XG4gICAgICBuYW1lOiAnSHonLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GUkVRVUVOQ1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHJlY2lwcm9jYWw6IHRydWVcbiAgICB9LFxuICAgIC8vIEFuZ2xlXG4gICAgcmFkOiB7XG4gICAgICBuYW1lOiAncmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcmFkaWFuOiB7XG4gICAgICBuYW1lOiAncmFkaWFuJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBkZWcgPSByYWQgLyAoMipwaSkgKiAzNjAgPSByYWQgLyAwLjAxNzQ1MzI5MjUxOTk0MzI5NTc2OTIzNjkwNzY4NDg4OFxuICAgIGRlZzoge1xuICAgICAgbmFtZTogJ2RlZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlZ3JlZToge1xuICAgICAgbmFtZTogJ2RlZ3JlZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gZ3JhZCA9IHJhZCAvICgyKnBpKSAqIDQwMCAgPSByYWQgLyAwLjAxNTcwNzk2MzI2Nzk0ODk2NjE5MjMxMzIxNjkxNjM5OVxuICAgIGdyYWQ6IHtcbiAgICAgIG5hbWU6ICdncmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhZGlhbjoge1xuICAgICAgbmFtZTogJ2dyYWRpYW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGN5Y2xlID0gcmFkIC8gKDIqcGkpID0gcmFkIC8gNi4yODMxODUzMDcxNzk1ODY0NzY5MjUyODY3NjY1NzkzXG4gICAgY3ljbGU6IHtcbiAgICAgIG5hbWU6ICdjeWNsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYXJjc2VjID0gcmFkIC8gKDM2MDAgKiAoMzYwIC8gMiAqIHBpKSkgPSByYWQgLyAwLjAwMDAwNDg0ODEzNjgxMTA5NTM1OTkzNTg5OTE0MTAyMzU3OTVcbiAgICBhcmNzZWM6IHtcbiAgICAgIG5hbWU6ICdhcmNzZWMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFyY21pbiA9IHJhZCAvICg2MCAqICgzNjAgLyAyICogcGkpKSA9IHJhZCAvIDAuMDAwMjkwODg4MjA4NjY1NzIxNTk2MTUzOTQ4NDYxNDE0NzdcbiAgICBhcmNtaW46IHtcbiAgICAgIG5hbWU6ICdhcmNtaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGN1cnJlbnRcbiAgICBBOiB7XG4gICAgICBuYW1lOiAnQScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkNVUlJFTlQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYW1wZXJlOiB7XG4gICAgICBuYW1lOiAnYW1wZXJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQ1VSUkVOVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRlbXBlcmF0dXJlXG4gICAgLy8gSyhDKSA9IMKwQyArIDI3My4xNVxuICAgIC8vIEsoRikgPSAowrBGICsgNDU5LjY3KSAvIDEuOFxuICAgIC8vIEsoUikgPSDCsFIgLyAxLjhcbiAgICBLOiB7XG4gICAgICBuYW1lOiAnSycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVnQzoge1xuICAgICAgbmFtZTogJ2RlZ0MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDI3My4xNVxuICAgIH0sXG4gICAgZGVnRjoge1xuICAgICAgbmFtZTogJ2RlZ0YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDQ1OS42N1xuICAgIH0sXG4gICAgZGVnUjoge1xuICAgICAgbmFtZTogJ2RlZ1InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtlbHZpbjoge1xuICAgICAgbmFtZTogJ2tlbHZpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2Vsc2l1czoge1xuICAgICAgbmFtZTogJ2NlbHNpdXMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDI3My4xNVxuICAgIH0sXG4gICAgZmFocmVuaGVpdDoge1xuICAgICAgbmFtZTogJ2ZhaHJlbmhlaXQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDQ1OS42N1xuICAgIH0sXG4gICAgcmFua2luZToge1xuICAgICAgbmFtZTogJ3JhbmtpbmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEgLyAxLjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFtb3VudCBvZiBzdWJzdGFuY2VcbiAgICBtb2w6IHtcbiAgICAgIG5hbWU6ICdtb2wnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTU9VTlRfT0ZfU1VCU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1vbGU6IHtcbiAgICAgIG5hbWU6ICdtb2xlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU1PVU5UX09GX1NVQlNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGx1bWlub3VzIGludGVuc2l0eVxuICAgIGNkOiB7XG4gICAgICBuYW1lOiAnY2QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MVU1JTk9VU19JTlRFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2FuZGVsYToge1xuICAgICAgbmFtZTogJ2NhbmRlbGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MVU1JTk9VU19JTlRFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUT0RPOiB1bml0cyBTVEVSQURJQU5cbiAgICAvLyB7bmFtZTogJ3NyJywgYmFzZTogQkFTRV9VTklUUy5TVEVSQURJQU4sIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMSwgb2Zmc2V0OiAwfSxcbiAgICAvLyB7bmFtZTogJ3N0ZXJhZGlhbicsIGJhc2U6IEJBU0VfVU5JVFMuU1RFUkFESUFOLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDEsIG9mZnNldDogMH0sXG4gICAgLy8gRm9yY2VcbiAgICBOOiB7XG4gICAgICBuYW1lOiAnTicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG5ld3Rvbjoge1xuICAgICAgbmFtZTogJ25ld3RvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHluOiB7XG4gICAgICBuYW1lOiAnZHluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHluZToge1xuICAgICAgbmFtZTogJ2R5bmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAwMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxiZjoge1xuICAgICAgbmFtZTogJ2xiZicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNC40NDgyMjE2MTUyNjA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwb3VuZGZvcmNlOiB7XG4gICAgICBuYW1lOiAncG91bmRmb3JjZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNC40NDgyMjE2MTUyNjA1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBraXA6IHtcbiAgICAgIG5hbWU6ICdraXAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDQ0NDguMjIxNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2lsb2dyYW1mb3JjZToge1xuICAgICAgbmFtZTogJ2tpbG9ncmFtZm9yY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDkuODA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVuZXJneVxuICAgIEo6IHtcbiAgICAgIG5hbWU6ICdKJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGpvdWxlOiB7XG4gICAgICBuYW1lOiAnam91bGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZXJnOiB7XG4gICAgICBuYW1lOiAnZXJnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMWUtNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgV2g6IHtcbiAgICAgIG5hbWU6ICdXaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBCVFU6IHtcbiAgICAgIG5hbWU6ICdCVFUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQlRVLFxuICAgICAgdmFsdWU6IDEwNTUuMDU1ODUyNjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVWOiB7XG4gICAgICBuYW1lOiAnZVYnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMS42MDIxNzY1NjVlLTE5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlbGVjdHJvbnZvbHQ6IHtcbiAgICAgIG5hbWU6ICdlbGVjdHJvbnZvbHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLjYwMjE3NjU2NWUtMTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFBvd2VyXG4gICAgVzoge1xuICAgICAgbmFtZTogJ1cnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB3YXR0OiB7XG4gICAgICBuYW1lOiAnd2F0dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaHA6IHtcbiAgICAgIG5hbWU6ICdocCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNzQ1LjY5OTg3MTUzODYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljYWwgcG93ZXIgdW5pdHNcbiAgICBWQVI6IHtcbiAgICAgIG5hbWU6ICdWQVInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBDb21wbGV4LkksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFZBOiB7XG4gICAgICBuYW1lOiAnVkEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBQcmVzc3VyZVxuICAgIFBhOiB7XG4gICAgICBuYW1lOiAnUGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwc2k6IHtcbiAgICAgIG5hbWU6ICdwc2knLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY4OTQuNzU3MjkyNzY0NTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGF0bToge1xuICAgICAgbmFtZTogJ2F0bScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTAxMzI1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBiYXI6IHtcbiAgICAgIG5hbWU6ICdiYXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVExPTkcsXG4gICAgICB2YWx1ZTogMTAwMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b3JyOiB7XG4gICAgICBuYW1lOiAndG9ycicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTMzLjMyMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW1IZzoge1xuICAgICAgbmFtZTogJ21tSGcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEzMy4zMjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1tSDJPOiB7XG4gICAgICBuYW1lOiAnbW1IMk8nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDkuODA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNtSDJPOiB7XG4gICAgICBuYW1lOiAnY21IMk8nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDk4LjA2NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNoYXJnZVxuICAgIGNvdWxvbWI6IHtcbiAgICAgIG5hbWU6ICdjb3Vsb21iJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0hBUkdFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQzoge1xuICAgICAgbmFtZTogJ0MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DSEFSR0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY2FwYWNpdGFuY2VcbiAgICBmYXJhZDoge1xuICAgICAgbmFtZTogJ2ZhcmFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBGOiB7XG4gICAgICBuYW1lOiAnRicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NBUEFDSVRBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIHBvdGVudGlhbFxuICAgIHZvbHQ6IHtcbiAgICAgIG5hbWU6ICd2b2x0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUE9URU5USUFMLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVjoge1xuICAgICAgbmFtZTogJ1YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19QT1RFTlRJQUwsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgcmVzaXN0YW5jZVxuICAgIG9obToge1xuICAgICAgbmFtZTogJ29obScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1JFU0lTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlRMT05HLFxuICAgICAgLy8gQm90aCBNb2htIGFuZCBtZWdhb2htIGFyZSBhY2NlcHRhYmxlXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIFVuaWNvZGUgYnJlYWtzIGluIGJyb3dzZXJzIGlmIGNoYXJzZXQgaXMgbm90IHNwZWNpZmllZFxuICAgIM6pOiB7XG4gICAgICBuYW1lOiAnzqknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19SRVNJU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgICovXG4gICAgLy8gRWxlY3RyaWMgaW5kdWN0YW5jZVxuICAgIGhlbnJ5OiB7XG4gICAgICBuYW1lOiAnaGVucnknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19JTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgSDoge1xuICAgICAgbmFtZTogJ0gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19JTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNvbmR1Y3RhbmNlXG4gICAgc2llbWVuczoge1xuICAgICAgbmFtZTogJ3NpZW1lbnMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DT05EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFM6IHtcbiAgICAgIG5hbWU6ICdTJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ09ORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gTWFnbmV0aWMgZmx1eFxuICAgIHdlYmVyOiB7XG4gICAgICBuYW1lOiAnd2ViZXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgV2I6IHtcbiAgICAgIG5hbWU6ICdXYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gTWFnbmV0aWMgZmx1eCBkZW5zaXR5XG4gICAgdGVzbGE6IHtcbiAgICAgIG5hbWU6ICd0ZXNsYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVhfREVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFQ6IHtcbiAgICAgIG5hbWU6ICdUJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWF9ERU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEJpbmFyeVxuICAgIGI6IHtcbiAgICAgIG5hbWU6ICdiJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBiaXRzOiB7XG4gICAgICBuYW1lOiAnYml0cycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBCOiB7XG4gICAgICBuYW1lOiAnQicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfU0hPUlQsXG4gICAgICB2YWx1ZTogOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYnl0ZXM6IHtcbiAgICAgIG5hbWU6ICdieXRlcycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfTE9ORyxcbiAgICAgIHZhbHVlOiA4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfVxuICB9OyAvLyBhbGlhc2VzIChmb3JtZXJseSBwbHVyYWxzKVxuXG4gIHZhciBBTElBU0VTID0ge1xuICAgIG1ldGVyczogJ21ldGVyJyxcbiAgICBpbmNoZXM6ICdpbmNoJyxcbiAgICBmZWV0OiAnZm9vdCcsXG4gICAgeWFyZHM6ICd5YXJkJyxcbiAgICBtaWxlczogJ21pbGUnLFxuICAgIGxpbmtzOiAnbGluaycsXG4gICAgcm9kczogJ3JvZCcsXG4gICAgY2hhaW5zOiAnY2hhaW4nLFxuICAgIGFuZ3N0cm9tczogJ2FuZ3N0cm9tJyxcbiAgICBsdDogJ2wnLFxuICAgIGxpdHJlczogJ2xpdHJlJyxcbiAgICBsaXRlcjogJ2xpdHJlJyxcbiAgICBsaXRlcnM6ICdsaXRyZScsXG4gICAgdGVhc3Bvb25zOiAndGVhc3Bvb24nLFxuICAgIHRhYmxlc3Bvb25zOiAndGFibGVzcG9vbicsXG4gICAgbWluaW1zOiAnbWluaW0nLFxuICAgIGZsdWlkZHJhbXM6ICdmbHVpZGRyYW0nLFxuICAgIGZsdWlkb3VuY2VzOiAnZmx1aWRvdW5jZScsXG4gICAgZ2lsbHM6ICdnaWxsJyxcbiAgICBjdXBzOiAnY3VwJyxcbiAgICBwaW50czogJ3BpbnQnLFxuICAgIHF1YXJ0czogJ3F1YXJ0JyxcbiAgICBnYWxsb25zOiAnZ2FsbG9uJyxcbiAgICBiZWVyYmFycmVsczogJ2JlZXJiYXJyZWwnLFxuICAgIG9pbGJhcnJlbHM6ICdvaWxiYXJyZWwnLFxuICAgIGhvZ3NoZWFkczogJ2hvZ3NoZWFkJyxcbiAgICBndHRzOiAnZ3R0JyxcbiAgICBncmFtczogJ2dyYW0nLFxuICAgIHRvbnM6ICd0b24nLFxuICAgIHRvbm5lczogJ3Rvbm5lJyxcbiAgICBncmFpbnM6ICdncmFpbicsXG4gICAgZHJhbXM6ICdkcmFtJyxcbiAgICBvdW5jZXM6ICdvdW5jZScsXG4gICAgcG91bmRtYXNzZXM6ICdwb3VuZG1hc3MnLFxuICAgIGh1bmRyZWR3ZWlnaHRzOiAnaHVuZHJlZHdlaWdodCcsXG4gICAgc3RpY2tzOiAnc3RpY2snLFxuICAgIGxiOiAnbGJtJyxcbiAgICBsYnM6ICdsYm0nLFxuICAgIGtpcHM6ICdraXAnLFxuICAgIGtnZjogJ2tpbG9ncmFtZm9yY2UnLFxuICAgIGFjcmVzOiAnYWNyZScsXG4gICAgaGVjdGFyZXM6ICdoZWN0YXJlJyxcbiAgICBzcWZlZXQ6ICdzcWZ0JyxcbiAgICBzcXlhcmQ6ICdzcXlkJyxcbiAgICBzcW1pbGU6ICdzcW1pJyxcbiAgICBzcW1pbGVzOiAnc3FtaScsXG4gICAgbW1oZzogJ21tSGcnLFxuICAgIG1taDJvOiAnbW1IMk8nLFxuICAgIGNtaDJvOiAnY21IMk8nLFxuICAgIHNlY29uZHM6ICdzZWNvbmQnLFxuICAgIHNlY3M6ICdzZWNvbmQnLFxuICAgIG1pbnV0ZXM6ICdtaW51dGUnLFxuICAgIG1pbnM6ICdtaW51dGUnLFxuICAgIGhvdXJzOiAnaG91cicsXG4gICAgaHI6ICdob3VyJyxcbiAgICBocnM6ICdob3VyJyxcbiAgICBkYXlzOiAnZGF5JyxcbiAgICB3ZWVrczogJ3dlZWsnLFxuICAgIG1vbnRoczogJ21vbnRoJyxcbiAgICB5ZWFyczogJ3llYXInLFxuICAgIGRlY2FkZXM6ICdkZWNhZGUnLFxuICAgIGNlbnR1cmllczogJ2NlbnR1cnknLFxuICAgIG1pbGxlbm5pYTogJ21pbGxlbm5pdW0nLFxuICAgIGhlcnR6OiAnaGVydHonLFxuICAgIHJhZGlhbnM6ICdyYWRpYW4nLFxuICAgIGRlZ3JlZXM6ICdkZWdyZWUnLFxuICAgIGdyYWRpYW5zOiAnZ3JhZGlhbicsXG4gICAgY3ljbGVzOiAnY3ljbGUnLFxuICAgIGFyY3NlY29uZDogJ2FyY3NlYycsXG4gICAgYXJjc2Vjb25kczogJ2FyY3NlYycsXG4gICAgYXJjbWludXRlOiAnYXJjbWluJyxcbiAgICBhcmNtaW51dGVzOiAnYXJjbWluJyxcbiAgICBCVFVzOiAnQlRVJyxcbiAgICB3YXR0czogJ3dhdHQnLFxuICAgIGpvdWxlczogJ2pvdWxlJyxcbiAgICBhbXBlcmVzOiAnYW1wZXJlJyxcbiAgICBjb3Vsb21iczogJ2NvdWxvbWInLFxuICAgIHZvbHRzOiAndm9sdCcsXG4gICAgb2htczogJ29obScsXG4gICAgZmFyYWRzOiAnZmFyYWQnLFxuICAgIHdlYmVyczogJ3dlYmVyJyxcbiAgICB0ZXNsYXM6ICd0ZXNsYScsXG4gICAgZWxlY3Ryb252b2x0czogJ2VsZWN0cm9udm9sdCcsXG4gICAgbW9sZXM6ICdtb2xlJyxcbiAgICBiaXQ6ICdiaXRzJyxcbiAgICBieXRlOiAnYnl0ZXMnXG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHZhbHVlcyBmb3IgdGhlIGFuZ2xlIHVuaXRzLlxuICAgKiBWYWx1ZSBpcyBjYWxjdWxhdGVkIGFzIG51bWJlciBvciBCaWdOdW1iZXIgZGVwZW5kaW5nIG9uIHRoZSBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7e251bWJlcjogJ251bWJlcicgfCAnQmlnTnVtYmVyJ319IGNvbmZpZ1xuICAgKi9cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0JpZ051bWJlcicpIHtcbiAgICAgIHZhciBwaSA9IGNyZWF0ZVBpKF9CaWdOdW1iZXIpO1xuICAgICAgVU5JVFMucmFkLnZhbHVlID0gbmV3IF9CaWdOdW1iZXIoMSk7XG4gICAgICBVTklUUy5kZWcudmFsdWUgPSBwaS5kaXYoMTgwKTsgLy8gMiAqIHBpIC8gMzYwXG5cbiAgICAgIFVOSVRTLmdyYWQudmFsdWUgPSBwaS5kaXYoMjAwKTsgLy8gMiAqIHBpIC8gNDAwXG5cbiAgICAgIFVOSVRTLmN5Y2xlLnZhbHVlID0gcGkudGltZXMoMik7IC8vIDIgKiBwaVxuXG4gICAgICBVTklUUy5hcmNzZWMudmFsdWUgPSBwaS5kaXYoNjQ4MDAwKTsgLy8gMiAqIHBpIC8gMzYwIC8gMzYwMFxuXG4gICAgICBVTklUUy5hcmNtaW4udmFsdWUgPSBwaS5kaXYoMTA4MDApOyAvLyAyICogcGkgLyAzNjAgLyA2MFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBudW1iZXJcbiAgICAgIFVOSVRTLnJhZC52YWx1ZSA9IDE7XG4gICAgICBVTklUUy5kZWcudmFsdWUgPSBNYXRoLlBJIC8gMTgwOyAvLyAyICogcGkgLyAzNjBcblxuICAgICAgVU5JVFMuZ3JhZC52YWx1ZSA9IE1hdGguUEkgLyAyMDA7IC8vIDIgKiBwaSAvIDQwMFxuXG4gICAgICBVTklUUy5jeWNsZS52YWx1ZSA9IE1hdGguUEkgKiAyOyAvLyAyICogcGlcblxuICAgICAgVU5JVFMuYXJjc2VjLnZhbHVlID0gTWF0aC5QSSAvIDY0ODAwMDsgLy8gMiAqIHBpIC8gMzYwIC8gMzYwMFxuXG4gICAgICBVTklUUy5hcmNtaW4udmFsdWUgPSBNYXRoLlBJIC8gMTA4MDA7IC8vIDIgKiBwaSAvIDM2MCAvIDYwXG4gICAgfSAvLyBjb3B5IHRvIHRoZSBmdWxsIG5hbWVzIG9mIHRoZSBhbmdsZXNcblxuXG4gICAgVU5JVFMucmFkaWFuLnZhbHVlID0gVU5JVFMucmFkLnZhbHVlO1xuICAgIFVOSVRTLmRlZ3JlZS52YWx1ZSA9IFVOSVRTLmRlZy52YWx1ZTtcbiAgICBVTklUUy5ncmFkaWFuLnZhbHVlID0gVU5JVFMuZ3JhZC52YWx1ZTtcbiAgfSAvLyBhcHBseSB0aGUgYW5nbGUgdmFsdWVzIG5vd1xuXG5cbiAgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY29uZmlnKTtcblxuICBpZiAob24pIHtcbiAgICAvLyByZWNhbGN1bGF0ZSB0aGUgdmFsdWVzIG9uIGNoYW5nZSBvZiBjb25maWd1cmF0aW9uXG4gICAgb24oJ2NvbmZpZycsIGZ1bmN0aW9uIChjdXJyLCBwcmV2KSB7XG4gICAgICBpZiAoY3Vyci5udW1iZXIgIT09IHByZXYubnVtYmVyKSB7XG4gICAgICAgIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGN1cnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBIHVuaXQgc3lzdGVtIGlzIGEgc2V0IG9mIGRpbWVuc2lvbmFsbHkgaW5kZXBlbmRlbnQgYmFzZSB1bml0cyBwbHVzIGEgc2V0IG9mIGRlcml2ZWQgdW5pdHMsIGZvcm1lZCBieSBtdWx0aXBsaWNhdGlvbiBhbmQgZGl2aXNpb24gb2YgdGhlIGJhc2UgdW5pdHMsIHRoYXQgYXJlIGJ5IGNvbnZlbnRpb24gdXNlZCB3aXRoIHRoZSB1bml0IHN5c3RlbS5cbiAgICogQSB1c2VyIHBlcmhhcHMgY291bGQgaXNzdWUgYSBjb21tYW5kIHRvIHNlbGVjdCBhIHByZWZlcnJlZCB1bml0IHN5c3RlbSwgb3IgdXNlIHRoZSBkZWZhdWx0IChzZWUgYmVsb3cpLlxuICAgKiBBdXRvIHVuaXQgc3lzdGVtOiBUaGUgZGVmYXVsdCB1bml0IHN5c3RlbSBpcyB1cGRhdGVkIG9uIHRoZSBmbHkgYW55dGltZSBhIHVuaXQgaXMgcGFyc2VkLiBUaGUgY29ycmVzcG9uZGluZyB1bml0IGluIHRoZSBkZWZhdWx0IHVuaXQgc3lzdGVtIGlzIHVwZGF0ZWQsIHNvIHRoYXQgYW5zd2VycyBhcmUgZ2l2ZW4gaW4gdGhlIHNhbWUgdW5pdHMgdGhlIHVzZXIgc3VwcGxpZXMuXG4gICAqL1xuXG5cbiAgdmFyIFVOSVRfU1lTVEVNUyA9IHtcbiAgICBzaToge1xuICAgICAgLy8gQmFzZSB1bml0c1xuICAgICAgTk9ORToge1xuICAgICAgICB1bml0OiBVTklUX05PTkUsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgIH0sXG4gICAgICBMRU5HVEg6IHtcbiAgICAgICAgdW5pdDogVU5JVFMubSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQVNTOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmcsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlQua1xuICAgICAgfSxcbiAgICAgIFRJTUU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMucyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBDVVJSRU5UOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkEsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgVEVNUEVSQVRVUkU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBMVU1JTk9VU19JTlRFTlNJVFk6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuY2QsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQU1PVU5UX09GX1NVQlNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5tb2wsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQU5HTEU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMucmFkLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEJJVDoge1xuICAgICAgICB1bml0OiBVTklUUy5iaXRzLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIC8vIERlcml2ZWQgdW5pdHNcbiAgICAgIEZPUkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLk4sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRU5FUkdZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkosXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgUE9XRVI6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBQUkVTU1VSRToge1xuICAgICAgICB1bml0OiBVTklUUy5QYSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DSEFSR0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuQyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DQVBBQ0lUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5GLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX1BPVEVOVElBTDoge1xuICAgICAgICB1bml0OiBVTklUUy5WLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX1JFU0lTVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMub2htLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0lORFVDVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19DT05EVUNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5TLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BR05FVElDX0ZMVVg6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuV2IsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFHTkVUSUNfRkxVWF9ERU5TSVRZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRlJFUVVFTkNZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkh6LFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfVxuICAgIH1cbiAgfTsgLy8gQ2xvbmUgdG8gY3JlYXRlIHRoZSBvdGhlciB1bml0IHN5c3RlbXNcblxuICBVTklUX1NZU1RFTVMuY2dzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTtcbiAgVU5JVF9TWVNURU1TLmNncy5MRU5HVEggPSB7XG4gICAgdW5pdDogVU5JVFMubSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JULmNcbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5NQVNTID0ge1xuICAgIHVuaXQ6IFVOSVRTLmcsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5GT1JDRSA9IHtcbiAgICB1bml0OiBVTklUUy5keW4sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLmNncy5FTkVSR1kgPSB7XG4gICAgdW5pdDogVU5JVFMuZXJnLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTsgLy8gdGhlcmUgYXJlIHdob2xseSA0IHVuaXF1ZSBjZ3Mgc3lzdGVtcyBmb3IgZWxlY3RyaWNpdHkgYW5kIG1hZ25ldGlzbSxcbiAgLy8gc28gbGV0J3Mgbm90IHdvcnJ5IGFib3V0IGl0IHVubGVzcyBzb21lYm9keSBjb21wbGFpbnNcblxuICBVTklUX1NZU1RFTVMudXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpO1xuICBVTklUX1NZU1RFTVMudXMuTEVOR1RIID0ge1xuICAgIHVuaXQ6IFVOSVRTLmZ0LFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLk1BU1MgPSB7XG4gICAgdW5pdDogVU5JVFMubGJtLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlRFTVBFUkFUVVJFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmRlZ0YsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuRk9SQ0UgPSB7XG4gICAgdW5pdDogVU5JVFMubGJmLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLkVORVJHWSA9IHtcbiAgICB1bml0OiBVTklUUy5CVFUsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5CVFVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5QT1dFUiA9IHtcbiAgICB1bml0OiBVTklUUy5ocCxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5QUkVTU1VSRSA9IHtcbiAgICB1bml0OiBVTklUUy5wc2ksXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9OyAvLyBBZGQgYWRkaXRpb25hbCB1bml0IHN5c3RlbXMgaGVyZS5cbiAgLy8gQ2hvb3NlIGEgdW5pdCBzeXN0ZW0gdG8gc2VlZCB0aGUgYXV0byB1bml0IHN5c3RlbS5cblxuICBVTklUX1NZU1RFTVMuYXV0byA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7IC8vIFNldCB0aGUgY3VycmVudCB1bml0IHN5c3RlbVxuXG4gIHZhciBjdXJyZW50VW5pdFN5c3RlbSA9IFVOSVRfU1lTVEVNUy5hdXRvO1xuICAvKipcbiAgICogU2V0IGEgdW5pdCBzeXN0ZW0gZm9yIGZvcm1hdHRpbmcgZGVyaXZlZCB1bml0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSBUaGUgbmFtZSBvZiB0aGUgdW5pdCBzeXN0ZW0uXG4gICAqL1xuXG4gIFVuaXQuc2V0VW5pdFN5c3RlbSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUywgbmFtZSkpIHtcbiAgICAgIGN1cnJlbnRVbml0U3lzdGVtID0gVU5JVF9TWVNURU1TW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuaXQgc3lzdGVtICcgKyBuYW1lICsgJyBkb2VzIG5vdCBleGlzdC4gQ2hvaWNlcyBhcmU6ICcgKyBPYmplY3Qua2V5cyhVTklUX1NZU1RFTVMpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCB1bml0IHN5c3RlbS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3VycmVudCB1bml0IHN5c3RlbS5cbiAgICovXG5cblxuICBVbml0LmdldFVuaXRTeXN0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2tleSBpbiBVTklUX1NZU1RFTVMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMsIF9rZXkpKSB7XG4gICAgICAgIGlmIChVTklUX1NZU1RFTVNbX2tleV0gPT09IGN1cnJlbnRVbml0U3lzdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIF9rZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0ZXJzIHRvIGNvbnZlcnQgZnJvbSBudW1iZXIgdG8gYW4gb3RoZXIgbnVtZXJpYyB0eXBlIGxpa2UgQmlnTnVtYmVyXG4gICAqIG9yIEZyYWN0aW9uXG4gICAqL1xuXG5cbiAgVW5pdC50eXBlQ29udmVydGVycyA9IHtcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4gbmV3IF9CaWdOdW1iZXIoeCArICcnKTsgLy8gc3RyaW5naWZ5IHRvIHByZXZlbnQgY29uc3RydWN0b3IgZXJyb3JcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4gbmV3IF9GcmFjdGlvbih4KTtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgcmlnaHQgY29udmVydG9yIGZ1bmN0aW9uIGNvcnJlc3BvbmRpbmcgd2l0aCB0aGUgdHlwZVxuICAgKiBvZiBwcm92aWRlZCBleGFtcGxlVmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlICAgQSBzdHJpbmcgJ251bWJlcicsICdCaWdOdW1iZXInLCBvciAnRnJhY3Rpb24nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBhbiB1bmtub3duIHR5cGUsXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgKi9cblxuICBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICghVW5pdC50eXBlQ29udmVydGVyc1t0eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBcIicgKyB0eXBlICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFVuaXQudHlwZUNvbnZlcnRlcnNbdHlwZV07XG4gIH07IC8vIEFkZCBkaW1lbnNpb25zIHRvIGVhY2ggYnVpbHQtaW4gdW5pdFxuXG5cbiAgZm9yICh2YXIgX2tleTIgaW4gVU5JVFMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIF9rZXkyKSkge1xuICAgICAgdmFyIHVuaXQgPSBVTklUU1tfa2V5Ml07XG4gICAgICB1bml0LmRpbWVuc2lvbnMgPSB1bml0LmJhc2UuZGltZW5zaW9ucztcbiAgICB9XG4gIH0gLy8gQ3JlYXRlIGFsaWFzZXNcblxuXG4gIGZvciAodmFyIF9uYW1lMiBpbiBBTElBU0VTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KEFMSUFTRVMsIF9uYW1lMikpIHtcbiAgICAgIHZhciBfdW5pdDIgPSBVTklUU1tBTElBU0VTW19uYW1lMl1dO1xuICAgICAgdmFyIGFsaWFzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkzIGluIF91bml0Mikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoX3VuaXQyLCBfa2V5MykpIHtcbiAgICAgICAgICBhbGlhc1tfa2V5M10gPSBfdW5pdDJbX2tleTNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFsaWFzLm5hbWUgPSBfbmFtZTI7XG4gICAgICBVTklUU1tfbmFtZTJdID0gYWxpYXM7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBsYXRpbiBsZXR0ZXIgKHVwcGVyIG9yIGxvd2VyIGNhc2UpLlxuICAgKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiwgZm9yIGV4YW1wbGUgdG8gYWxsb3cgc3VwcG9ydCBvZiBvdGhlciBhbHBoYWJldHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjIFRlc3RlZCBjaGFyYWN0ZXJcbiAgICovXG5cblxuICBVbml0LmlzVmFsaWRBbHBoYSA9IGZ1bmN0aW9uIGlzVmFsaWRBbHBoYShjKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWl0kLy50ZXN0KGMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFzc2VydFVuaXROYW1lSXNWYWxpZChuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjID0gbmFtZS5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChpID09PSAwICYmICFVbml0LmlzVmFsaWRBbHBoYShjKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdW5pdCBuYW1lIChtdXN0IGJlZ2luIHdpdGggYWxwaGEgY2hhcmFjdGVyKTogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaSA+IDAgJiYgIShVbml0LmlzVmFsaWRBbHBoYShjKSB8fCBpc0RpZ2l0KGMpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdW5pdCBuYW1lIChvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFyZSBhbGxvd2VkKTogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogV3JhcHBlciBhcm91bmQgY3JlYXRlVW5pdFNpbmdsZS5cbiAgICogRXhhbXBsZTpcbiAgICogIGNyZWF0ZVVuaXQoe1xuICAgKiAgICBmb286IHsgfSxcbiAgICogICAgYmFyOiB7XG4gICAqICAgICAgZGVmaW5pdGlvbjogJ2tnL2ZvbycsXG4gICAqICAgICAgYWxpYXNlczogWydiYScsICdiYXJyJywgJ2JhcnMnXSxcbiAgICogICAgICBvZmZzZXQ6IDIwMFxuICAgKiAgICB9LFxuICAgKiAgICBiYXo6ICc0IGJhcidcbiAgICogIH0sXG4gICAqICB7XG4gICAqICAgIG92ZXJyaWRlOiB0cnVlXG4gICAqICB9KVxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqICAgICAgT2JqZWN0IG1hcC4gRWFjaCBrZXkgYmVjb21lcyBhIHVuaXQgd2hpY2ggaXMgZGVmaW5lZCBieSBpdHMgdmFsdWUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqL1xuXG5cbiAgVW5pdC5jcmVhdGVVbml0ID0gZnVuY3Rpb24gKG9iaiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNyZWF0ZVVuaXQgZXhwZWN0cyBmaXJzdCBwYXJhbWV0ZXIgdG8gYmUgb2YgdHlwZSAnT2JqZWN0J1wiKTtcbiAgICB9IC8vIFJlbW92ZSBhbGwgdW5pdHMgYW5kIGFsaWFzZXMgd2UgYXJlIG92ZXJyaWRpbmdcblxuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vdmVycmlkZSkge1xuICAgICAgZm9yICh2YXIgX2tleTQgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIF9rZXk0KSkge1xuICAgICAgICAgIFVuaXQuZGVsZXRlVW5pdChfa2V5NCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqW19rZXk0XS5hbGlhc2VzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpbX2tleTRdLmFsaWFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIFVuaXQuZGVsZXRlVW5pdChvYmpbX2tleTRdLmFsaWFzZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVE9ETzogdHJhdmVyc2UgbXVsdGlwbGUgdGltZXMgdW50aWwgYWxsIHVuaXRzIGhhdmUgYmVlbiBhZGRlZFxuXG5cbiAgICB2YXIgbGFzdFVuaXQ7XG5cbiAgICBmb3IgKHZhciBfa2V5NSBpbiBvYmopIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIF9rZXk1KSkge1xuICAgICAgICBsYXN0VW5pdCA9IFVuaXQuY3JlYXRlVW5pdFNpbmdsZShfa2V5NSwgb2JqW19rZXk1XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3RVbml0O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgdXNlci1kZWZpbmVkIHVuaXQgYW5kIHJlZ2lzdGVyIGl0IHdpdGggdGhlIFVuaXQgdHlwZS5cbiAgICogRXhhbXBsZTpcbiAgICogIGNyZWF0ZVVuaXRTaW5nbGUoJ2tub3QnLCAnMC41MTQ0NDQ0NDQgbS9zJylcbiAgICogIGNyZWF0ZVVuaXRTaW5nbGUoJ2FjcmUnLCBuZXcgVW5pdCg0MzU2MCwgJ2Z0XjInKSlcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICBUaGUgbmFtZSBvZiB0aGUgbmV3IHVuaXQuIE11c3QgYmUgdW5pcXVlLiBFeGFtcGxlOiAna25vdCdcbiAgICogQHBhcmFtIHtzdHJpbmcsIFVuaXQsIE9iamVjdH0gZGVmaW5pdGlvbiAgICAgIERlZmluaXRpb24gb2YgdGhlIHVuaXQgaW4gdGVybXNcbiAgICogb2YgZXhpc3RpbmcgdW5pdHMuIEZvciBleGFtcGxlLCAnMC41MTQ0NDQ0NDQgbSAvIHMnLiBDYW4gYmUgYSBVbml0LCBhIHN0cmluZyxcbiAgICogb3IgYW4gT2JqZWN0LiBJZiBhbiBPYmplY3QsIG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogICAtIGRlZmluaXRpb24ge3N0cmluZ3xVbml0fSBUaGUgZGVmaW5pdGlvbiBvZiB0aGlzIHVuaXQuXG4gICAqICAgLSBwcmVmaXhlcyB7c3RyaW5nfSBcIm5vbmVcIiwgXCJzaG9ydFwiLCBcImxvbmdcIiwgXCJiaW5hcnlfc2hvcnRcIiwgb3IgXCJiaW5hcnlfbG9uZ1wiLlxuICAgKiAgICAgVGhlIGRlZmF1bHQgaXMgXCJub25lXCIuXG4gICAqICAgLSBhbGlhc2VzIHtBcnJheX0gQXJyYXkgb2Ygc3RyaW5ncy4gRXhhbXBsZTogWydrbm90cycsICdrdCcsICdrdHMnXVxuICAgKiAgIC0gb2Zmc2V0IHtOdW1lcmljfSBBbiBvZmZzZXQgdG8gYXBwbHkgd2hlbiBjb252ZXJ0aW5nIGZyb20gdGhlIHVuaXQuIEZvclxuICAgKiAgICAgZXhhbXBsZSwgdGhlIG9mZnNldCBmb3IgY2Vsc2l1cyBpcyAyNzMuMTUgYW5kIHRoZSBvZmZzZXQgZm9yIGZhcmhlbmhlaXRcbiAgICogICAgIGlzIDQ1OS42Ny4gRGVmYXVsdCBpcyAwLlxuICAgKiAgIC0gYmFzZU5hbWUge3N0cmluZ30gSWYgdGhlIHVuaXQncyBkaW1lbnNpb24gZG9lcyBub3QgbWF0Y2ggdGhhdCBvZiBhbnkgb3RoZXJcbiAgICogICAgIGJhc2UgdW5pdCwgdGhlIG5hbWUgb2YgdGhlIG5ld2x5IGNyZWF0ZSBiYXNlIHVuaXQuIE90aGVyd2lzZSwgdGhpcyBwcm9wZXJ0eVxuICAgKiAgICAgaGFzIG5vIGVmZmVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAob3B0aW9uYWwpIEFuIG9iamVjdCBjb250YWluaW5nIGFueSBvZiB0aGUgZm9sbG93aW5nXG4gICAqIHByb3BlcnRpZXM6XG4gICAqICAgLSBvdmVycmlkZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIHVuaXQgc2hvdWxkIGJlIGFsbG93ZWQgdG8gb3ZlcnJpZGUgZXhpc3RpbmdcbiAgICogICAgIHVuaXRzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtVbml0fVxuICAgKi9cblxuXG4gIFVuaXQuY3JlYXRlVW5pdFNpbmdsZSA9IGZ1bmN0aW9uIChuYW1lLCBvYmosIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICBvYmogPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY3JlYXRlVW5pdFNpbmdsZSBleHBlY3RzIGZpcnN0IHBhcmFtZXRlciB0byBiZSBvZiB0eXBlICdzdHJpbmcnXCIpO1xuICAgIH0gLy8gQ2hlY2sgY29sbGlzaW9ucyB3aXRoIGV4aXN0aW5nIHVuaXRzXG5cblxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgbmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCI6IGEgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH0gLy8gVE9ETzogVmFsaWRhdGUgbmFtZSBmb3IgY29sbGlzaW9ucyB3aXRoIG90aGVyIGJ1aWx0LWluIGZ1bmN0aW9ucyAobGlrZSBhYnMgb3IgY29zLCBmb3IgZXhhbXBsZSksIGFuZCBmb3IgYWNjZXB0YWJsZSB2YXJpYWJsZSBuYW1lcy4gRm9yIGV4YW1wbGUsICc0MicgaXMgcHJvYmFibHkgbm90IGEgdmFsaWQgdW5pdC4gTm9yIGlzICclJywgc2luY2UgaXQgaXMgYWxzbyBhbiBvcGVyYXRvci5cblxuXG4gICAgYXNzZXJ0VW5pdE5hbWVJc1ZhbGlkKG5hbWUpO1xuICAgIHZhciBkZWZVbml0ID0gbnVsbDsgLy8gVGhlIFVuaXQgZnJvbSB3aGljaCB0aGUgbmV3IHVuaXQgd2lsbCBiZSBjcmVhdGVkLlxuXG4gICAgdmFyIGFsaWFzZXMgPSBbXTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICB2YXIgZGVmaW5pdGlvbjtcbiAgICB2YXIgcHJlZml4ZXM7XG4gICAgdmFyIGJhc2VOYW1lO1xuXG4gICAgaWYgKG9iaiAmJiBvYmoudHlwZSA9PT0gJ1VuaXQnKSB7XG4gICAgICBkZWZVbml0ID0gb2JqLmNsb25lKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKG9iaiAhPT0gJycpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IG9iajtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBkZWZpbml0aW9uID0gb2JqLmRlZmluaXRpb247XG4gICAgICBwcmVmaXhlcyA9IG9iai5wcmVmaXhlcztcbiAgICAgIG9mZnNldCA9IG9iai5vZmZzZXQ7XG4gICAgICBiYXNlTmFtZSA9IG9iai5iYXNlTmFtZTtcblxuICAgICAgaWYgKG9iai5hbGlhc2VzKSB7XG4gICAgICAgIGFsaWFzZXMgPSBvYmouYWxpYXNlcy52YWx1ZU9mKCk7IC8vIGFsaWFzZXMgY291bGQgYmUgYSBNYXRyaXgsIHNvIGNvbnZlcnQgdG8gQXJyYXlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCIgZnJvbSBcIicgKyBvYmoudG9TdHJpbmcoKSArICdcIjogZXhwZWN0aW5nIFwic3RyaW5nXCIgb3IgXCJVbml0XCIgb3IgXCJPYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmIChhbGlhc2VzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsaWFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBhbGlhc2VzW2ldKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBhbGlhcyBcIicgKyBhbGlhc2VzW2ldICsgJ1wiOiBhIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkZWZpbml0aW9uICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnc3RyaW5nJyAmJiAhZGVmVW5pdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGVmVW5pdCA9IFVuaXQucGFyc2UoZGVmaW5pdGlvbiwge1xuICAgICAgICAgIGFsbG93Tm9Vbml0czogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGV4Lm1lc3NhZ2UgPSAnQ291bGQgbm90IGNyZWF0ZSB1bml0IFwiJyArIG5hbWUgKyAnXCIgZnJvbSBcIicgKyBkZWZpbml0aW9uICsgJ1wiOiAnICsgZXgubWVzc2FnZTtcbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkZWZpbml0aW9uICYmIGRlZmluaXRpb24udHlwZSA9PT0gJ1VuaXQnKSB7XG4gICAgICBkZWZVbml0ID0gZGVmaW5pdGlvbi5jbG9uZSgpO1xuICAgIH1cblxuICAgIGFsaWFzZXMgPSBhbGlhc2VzIHx8IFtdO1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgaWYgKHByZWZpeGVzICYmIHByZWZpeGVzLnRvVXBwZXJDYXNlKSB7XG4gICAgICBwcmVmaXhlcyA9IFBSRUZJWEVTW3ByZWZpeGVzLnRvVXBwZXJDYXNlKCldIHx8IFBSRUZJWEVTLk5PTkU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpeGVzID0gUFJFRklYRVMuTk9ORTtcbiAgICB9IC8vIElmIGRlZlVuaXQgaXMgbnVsbCwgaXQgaXMgYmVjYXVzZSB0aGUgdXNlciBkaWQgbm90XG4gICAgLy8gc3BlY2lmeSBhIGRlZmludGlvbi4gU28gY3JlYXRlIGEgbmV3IGJhc2UgZGltZW5zaW9uLlxuXG5cbiAgICB2YXIgbmV3VW5pdCA9IHt9O1xuXG4gICAgaWYgKCFkZWZVbml0KSB7XG4gICAgICAvLyBBZGQgYSBuZXcgYmFzZSBkaW1lbnNpb25cbiAgICAgIGJhc2VOYW1lID0gYmFzZU5hbWUgfHwgbmFtZSArICdfU1RVRkYnOyAvLyBmb28gLS0+IGZvb19TVFVGRiwgb3IgdGhlIGVzc2VuY2Ugb2YgZm9vXG5cbiAgICAgIGlmIChCQVNFX0RJTUVOU0lPTlMuaW5kZXhPZihiYXNlTmFtZSkgPj0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgbmV3IGJhc2UgdW5pdCBcIicgKyBuYW1lICsgJ1wiOiBhIGJhc2UgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cyAoYW5kIGNhbm5vdCBiZSBvdmVycmlkZGVuKScpO1xuICAgICAgfVxuXG4gICAgICBCQVNFX0RJTUVOU0lPTlMucHVzaChiYXNlTmFtZSk7IC8vIFB1c2ggMCBvbnRvIGV4aXN0aW5nIGJhc2UgdW5pdHNcblxuICAgICAgZm9yICh2YXIgYiBpbiBCQVNFX1VOSVRTKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBiKSkge1xuICAgICAgICAgIEJBU0VfVU5JVFNbYl0uZGltZW5zaW9uc1tCQVNFX0RJTUVOU0lPTlMubGVuZ3RoIC0gMV0gPSAwO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCB0aGUgbmV3IGJhc2UgdW5pdFxuXG5cbiAgICAgIHZhciBuZXdCYXNlVW5pdCA9IHtcbiAgICAgICAgZGltZW5zaW9uczogW11cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IF9pNisrKSB7XG4gICAgICAgIG5ld0Jhc2VVbml0LmRpbWVuc2lvbnNbX2k2XSA9IDA7XG4gICAgICB9XG5cbiAgICAgIG5ld0Jhc2VVbml0LmRpbWVuc2lvbnNbQkFTRV9ESU1FTlNJT05TLmxlbmd0aCAtIDFdID0gMTtcbiAgICAgIG5ld0Jhc2VVbml0LmtleSA9IGJhc2VOYW1lO1xuICAgICAgQkFTRV9VTklUU1tiYXNlTmFtZV0gPSBuZXdCYXNlVW5pdDtcbiAgICAgIG5ld1VuaXQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBkaW1lbnNpb25zOiBCQVNFX1VOSVRTW2Jhc2VOYW1lXS5kaW1lbnNpb25zLnNsaWNlKDApLFxuICAgICAgICBwcmVmaXhlczogcHJlZml4ZXMsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBiYXNlOiBCQVNFX1VOSVRTW2Jhc2VOYW1lXVxuICAgICAgfTtcbiAgICAgIGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VOYW1lXSA9IHtcbiAgICAgICAgdW5pdDogbmV3VW5pdCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VW5pdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IGRlZlVuaXQudmFsdWUsXG4gICAgICAgIGRpbWVuc2lvbnM6IGRlZlVuaXQuZGltZW5zaW9ucy5zbGljZSgwKSxcbiAgICAgICAgcHJlZml4ZXM6IHByZWZpeGVzLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgfTsgLy8gQ3JlYXRlIGEgbmV3IGJhc2UgaWYgbm8gbWF0Y2hpbmcgYmFzZSBleGlzdHNcblxuICAgICAgdmFyIGFueU1hdGNoID0gZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIF9pNyBpbiBCQVNFX1VOSVRTKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShCQVNFX1VOSVRTLCBfaTcpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoKG5ld1VuaXQuZGltZW5zaW9uc1tqXSB8fCAwKSAtIChCQVNFX1VOSVRTW19pN10uZGltZW5zaW9uc1tqXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICAgICAgICBtYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGFueU1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld1VuaXQuYmFzZSA9IEJBU0VfVU5JVFNbX2k3XTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWFueU1hdGNoKSB7XG4gICAgICAgIGJhc2VOYW1lID0gYmFzZU5hbWUgfHwgbmFtZSArICdfU1RVRkYnOyAvLyBmb28gLS0+IGZvb19TVFVGRiwgb3IgdGhlIGVzc2VuY2Ugb2YgZm9vXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IGJhc2UgdW5pdFxuXG4gICAgICAgIHZhciBfbmV3QmFzZVVuaXQgPSB7XG4gICAgICAgICAgZGltZW5zaW9uczogZGVmVW5pdC5kaW1lbnNpb25zLnNsaWNlKDApXG4gICAgICAgIH07XG4gICAgICAgIF9uZXdCYXNlVW5pdC5rZXkgPSBiYXNlTmFtZTtcbiAgICAgICAgQkFTRV9VTklUU1tiYXNlTmFtZV0gPSBfbmV3QmFzZVVuaXQ7XG4gICAgICAgIGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VOYW1lXSA9IHtcbiAgICAgICAgICB1bml0OiBuZXdVbml0LFxuICAgICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgICAgfTtcbiAgICAgICAgbmV3VW5pdC5iYXNlID0gQkFTRV9VTklUU1tiYXNlTmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgVW5pdC5VTklUU1tuYW1lXSA9IG5ld1VuaXQ7XG5cbiAgICBmb3IgKHZhciBfaTggPSAwOyBfaTggPCBhbGlhc2VzLmxlbmd0aDsgX2k4KyspIHtcbiAgICAgIHZhciBhbGlhc05hbWUgPSBhbGlhc2VzW19pOF07XG4gICAgICB2YXIgX2FsaWFzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXk2IGluIG5ld1VuaXQpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG5ld1VuaXQsIF9rZXk2KSkge1xuICAgICAgICAgIF9hbGlhc1tfa2V5Nl0gPSBuZXdVbml0W19rZXk2XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfYWxpYXMubmFtZSA9IGFsaWFzTmFtZTtcbiAgICAgIFVuaXQuVU5JVFNbYWxpYXNOYW1lXSA9IF9hbGlhcztcbiAgICB9IC8vIGRlbGV0ZSB0aGUgbWVtb2l6YXRpb24gY2FjaGUsIHNpbmNlIGFkZGluZyBhIG5ldyB1bml0IHRvIHRoZSBhcnJheVxuICAgIC8vIGludmFsaWRhdGVzIGFsbCBvbGQgcmVzdWx0c1xuXG5cbiAgICBkZWxldGUgX2ZpbmRVbml0LmNhY2hlO1xuICAgIHJldHVybiBuZXcgVW5pdChudWxsLCBuYW1lKTtcbiAgfTtcblxuICBVbml0LmRlbGV0ZVVuaXQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGRlbGV0ZSBVbml0LlVOSVRTW25hbWVdO1xuICB9OyAvLyBleHBvc2UgYXJyYXlzIHdpdGggcHJlZml4ZXMsIGRpbWVuc2lvbnMsIHVuaXRzLCBzeXN0ZW1zXG5cblxuICBVbml0LlBSRUZJWEVTID0gUFJFRklYRVM7XG4gIFVuaXQuQkFTRV9ESU1FTlNJT05TID0gQkFTRV9ESU1FTlNJT05TO1xuICBVbml0LkJBU0VfVU5JVFMgPSBCQVNFX1VOSVRTO1xuICBVbml0LlVOSVRfU1lTVEVNUyA9IFVOSVRfU1lTVEVNUztcbiAgVW5pdC5VTklUUyA9IFVOSVRTO1xuICByZXR1cm4gVW5pdDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAndW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdVbml0J107IC8vIFRoaXMgZnVuY3Rpb24gaXMgbmFtZWQgY3JlYXRlVW5pdEZ1bmN0aW9uIHRvIHByZXZlbnQgYSBuYW1pbmcgY29uZmxpY3Qgd2l0aCBjcmVhdGVVbml0XG5cbmV4cG9ydCB2YXIgY3JlYXRlVW5pdEZ1bmN0aW9uID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgVW5pdFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdW5pdC4gRGVwZW5kaW5nIG9uIHRoZSBwYXNzZWQgYXJndW1lbnRzLCB0aGUgZnVuY3Rpb25cbiAgICogd2lsbCBjcmVhdGUgYW5kIHJldHVybiBhIG5ldyBtYXRoLlVuaXQgb2JqZWN0LlxuICAgKiBXaGVuIGEgbWF0cml4IGlzIHByb3ZpZGVkLCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdW5pdHMuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGgudW5pdCh1bml0IDogc3RyaW5nKVxuICAgKiAgICAgbWF0aC51bml0KHZhbHVlIDogbnVtYmVyLCB1bml0IDogc3RyaW5nKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCg1LCAnY20nKSAgICAvLyByZXR1cm5zIFVuaXQgNTAgbW1cbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMjMga2cnKSAgICAvLyByZXR1cm5zIFVuaXQgMjMga2dcbiAgICogICAgYS50bygnbScpICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgMC4wNSBtXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIG51bWJlciwgc3RyaW5nLCBjcmVhdGVVbml0XG4gICAqXG4gICAqIEBwYXJhbSB7KiB8IEFycmF5IHwgTWF0cml4fSBhcmdzICAgQSBudW1iZXIgYW5kIHVuaXQuXG4gICAqIEByZXR1cm4ge1VuaXQgfCBBcnJheSB8IE1hdHJpeH0gICAgVGhlIGNyZWF0ZWQgdW5pdFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHJldHVybiB4LmNsb25lKCk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICBpZiAoVW5pdC5pc1ZhbHVlbGVzc1VuaXQoeCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbml0KG51bGwsIHgpOyAvLyBhIHB1cmUgdW5pdFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gVW5pdC5wYXJzZSh4LCB7XG4gICAgICAgIGFsbG93Tm9Vbml0czogdHJ1ZVxuICAgICAgfSk7IC8vIGEgdW5pdCB3aXRoIHZhbHVlLCBsaWtlICc1Y20nXG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4LCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJGcmFjdGlvbkNvbXBsZXhTdHJpbmcodmFsdWUsIHVuaXQpIHtcbiAgICAgIHJldHVybiBuZXcgVW5pdCh2YWx1ZSwgdW5pdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnY3JlYXRlVW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdVbml0J107XG5leHBvcnQgdmFyIGNyZWF0ZUNyZWF0ZVVuaXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBVbml0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1c2VyLWRlZmluZWQgdW5pdCBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgVW5pdCB0eXBlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoe1xuICAgKiAgICAgICBiYXNlVW5pdDE6IHtcbiAgICogICAgICAgICBhbGlhc2VzOiBbc3RyaW5nLCAuLi5dXG4gICAqICAgICAgICAgcHJlZml4ZXM6IG9iamVjdFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICB1bml0Mjoge1xuICAgKiAgICAgICAgIGRlZmluaXRpb246IHN0cmluZyxcbiAgICogICAgICAgICBhbGlhc2VzOiBbc3RyaW5nLCAuLi5dXG4gICAqICAgICAgICAgcHJlZml4ZXM6IG9iamVjdCxcbiAgICogICAgICAgICBvZmZzZXQ6IG51bWJlclxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICB1bml0Mzogc3RyaW5nICAgIC8vIFNob3J0Y3V0XG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8gQW5vdGhlciBzaG9ydGN1dDpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdChzdHJpbmcsIHVuaXQgOiBzdHJpbmcsIFtvYmplY3RdKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgnZm9vJylcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgna25vdCcsIHtkZWZpbml0aW9uOiAnMC41MTQ0NDQ0NDQgbS9zJywgYWxpYXNlczogWydrbm90cycsICdrdCcsICdrdHMnXX0pXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ21waCcsICcxIG1pbGUvaG91cicpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgVGhlIG5hbWUgb2YgdGhlIG5ldyB1bml0LiBNdXN0IGJlIHVuaXF1ZS4gRXhhbXBsZTogJ2tub3QnXG4gICAqIEBwYXJhbSB7c3RyaW5nLCBVbml0fSBkZWZpbml0aW9uICAgICAgRGVmaW5pdGlvbiBvZiB0aGUgdW5pdCBpbiB0ZXJtcyBvZiBleGlzdGluZyB1bml0cy4gRm9yIGV4YW1wbGUsICcwLjUxNDQ0NDQ0NCBtIC8gcycuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICAgKG9wdGlvbmFsKSBBbiBvYmplY3QgY29udGFpbmluZyBhbnkgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgICAgLSBgcHJlZml4ZXMge3N0cmluZ31gIFwibm9uZVwiLCBcInNob3J0XCIsIFwibG9uZ1wiLCBcImJpbmFyeV9zaG9ydFwiLCBvciBcImJpbmFyeV9sb25nXCIuIFRoZSBkZWZhdWx0IGlzIFwibm9uZVwiLlxuICAgKiAgICAgLSBgYWxpYXNlcyB7QXJyYXl9YCBBcnJheSBvZiBzdHJpbmdzLiBFeGFtcGxlOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddXG4gICAqICAgICAtIGBvZmZzZXQge051bWVyaWN9YCBBbiBvZmZzZXQgdG8gYXBwbHkgd2hlbiBjb252ZXJ0aW5nIGZyb20gdGhlIHVuaXQuIEZvciBleGFtcGxlLCB0aGUgb2Zmc2V0IGZvciBjZWxzaXVzIGlzIDI3My4xNS4gRGVmYXVsdCBpcyAwLlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHVuaXRcbiAgICpcbiAgICogQHJldHVybiB7VW5pdH0gVGhlIG5ldyB1bml0XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIC8vIEdlbmVyYWwgZnVuY3Rpb24gc2lnbmF0dXJlLiBGaXJzdCBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgdGhlIGRlZmluaXRpb24gb2YgYSBuZXcgdW5pdC4gVGhlIG9iamVjdCBrZXlzIGFyZSB0aGUgdW5pdCBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGRlZmluaXRpb25zLiBUaGUgdmFsdWVzIGNhbiBiZSBvYmplY3RzLCBzdHJpbmdzLCBvciBVbml0cy4gSWYgYSBwcm9wZXJ0eSBpcyBhbiBlbXB0eSBvYmplY3Qgb3IgYW4gZW1wdHkgc3RyaW5nLCBhIG5ldyBiYXNlIHVuaXQgaXMgY3JlYXRlZC4gVGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIG9wdGlvbnMuXG4gICAgJ09iamVjdCwgT2JqZWN0JzogZnVuY3Rpb24gT2JqZWN0T2JqZWN0KG9iaiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgLy8gU2FtZSBhcyBhYm92ZSBidXQgd2l0aG91dCB0aGUgb3B0aW9ucy5cbiAgICBPYmplY3Q6IGZ1bmN0aW9uIE9iamVjdChvYmopIHtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfSxcbiAgICAvLyBTaG9ydGN1dCBtZXRob2QgZm9yIGNyZWF0aW5nIG9uZSB1bml0LlxuICAgICdzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ1VuaXRTdHJpbmdPYmplY3RPYmplY3QobmFtZSwgZGVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSBkZWY7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICAvLyBTYW1lIGFzIGFib3ZlIGJ1dCB3aXRob3V0IHRoZSBvcHRpb25zLlxuICAgICdzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdVbml0U3RyaW5nT2JqZWN0KG5hbWUsIGRlZikge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0gZGVmO1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9LFxuICAgIC8vIFdpdGhvdXQgYSBkZWZpbml0aW9uLCBjcmVhdGVzIGEgYmFzZSB1bml0LlxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKG5hbWUpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IHt9O1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAxIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdhZGQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FkZFNjYWxhcicsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWRkID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFkZFNjYWxhcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMSA9IGNyZWF0ZUFsZ29yaXRobTAxKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA0ID0gY3JlYXRlQWxnb3JpdGhtMDQoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTAgPSBjcmVhdGVBbGdvcml0aG0xMCh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogQWRkIHR3byBvciBtb3JlIHZhbHVlcywgYHggKyB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmFkZCh4LCB5KVxuICAgKiAgICBtYXRoLmFkZCh4LCB5LCB6LCAuLi4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmFkZCgyLCAzKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDVcbiAgICogICAgbWF0aC5hZGQoMiwgMywgNCkgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA5XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCgtNCwgMSlcbiAgICogICAgbWF0aC5hZGQoYSwgYikgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTIgKyA0aVxuICAgKlxuICAgKiAgICBtYXRoLmFkZChbMSwgMiwgM10sIDQpICAgICAgIC8vIHJldHVybnMgQXJyYXkgWzUsIDYsIDddXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBkID0gbWF0aC51bml0KCcyLjEgbW0nKVxuICAgKiAgICBtYXRoLmFkZChjLCBkKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA1Mi4xIG1tXG4gICAqXG4gICAqICAgIG1hdGguYWRkKFwiMi4zXCIsIFwiNFwiKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDYuM1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc3VidHJhY3QsIHN1bVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gYWRkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gYWRkXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gU3VtIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBhZGRTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNCh4LCB5LCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGFkZFNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgYWRkU2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBhbnknOiBhZGRTY2FsYXIsXG4gICAgJ2FueSwgYW55LCAuLi5hbnknOiBmdW5jdGlvbiBhbnlBbnlBbnkoeCwgeSwgcmVzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMoeCwgeSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSB0aGlzKHJlc3VsdCwgcmVzdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCBhZGRTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG52YXIgbmFtZSA9ICdkb3QnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ2NvbmonLCAnc2l6ZSddO1xuZXhwb3J0IHZhciBjcmVhdGVEb3QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgY29uaixcbiAgICBzaXplXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzLiBUaGUgZG90IHByb2R1Y3Qgb2ZcbiAgICogYEEgPSBbYTEsIGEyLCAuLi4sIGFuXWAgYW5kIGBCID0gW2IxLCBiMiwgLi4uLCBibl1gIGlzIGRlZmluZWQgYXM6XG4gICAqXG4gICAqICAgIGRvdChBLCBCKSA9IGNvbmooYTEpICogYjEgKyBjb25qKGEyKSAqIGIyICsgLi4uICsgY29uaihhbikgKiBiblxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZG90KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRvdChbMiwgNCwgMV0sIFsyLCAyLCAzXSkgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMTVcbiAgICogICAgbWF0aC5tdWx0aXBseShbMiwgNCwgMV0sIFsyLCAyLCAzXSkgIC8vIHJldHVybnMgbnVtYmVyIDE1XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseSwgY3Jvc3NcbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXkgfCBNYXRyaXh9IHggICAgIEZpcnN0IHZlY3RvclxuICAgKiBAcGFyYW0gIHtBcnJheSB8IE1hdHJpeH0geSAgICAgU2Vjb25kIHZlY3RvclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgZG90IHByb2R1Y3Qgb2YgYHhgIGFuZCBgeWBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ0FycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgnOiBfZGVuc2VEb3QsXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX3NwYXJzZURvdFxuICB9KTtcblxuICBmdW5jdGlvbiBfdmFsaWRhdGVEaW0oeCwgeSkge1xuICAgIHZhciB4U2l6ZSA9IF9zaXplKHgpO1xuXG4gICAgdmFyIHlTaXplID0gX3NpemUoeSk7XG5cbiAgICB2YXIgeExlbiwgeUxlbjtcblxuICAgIGlmICh4U2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHhMZW4gPSB4U2l6ZVswXTtcbiAgICB9IGVsc2UgaWYgKHhTaXplLmxlbmd0aCA9PT0gMiAmJiB4U2l6ZVsxXSA9PT0gMSkge1xuICAgICAgeExlbiA9IHhTaXplWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRXhwZWN0ZWQgYSBjb2x1bW4gdmVjdG9yLCBpbnN0ZWFkIGdvdCBhIG1hdHJpeCBvZiBzaXplICgnICsgeFNpemUuam9pbignLCAnKSArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHlTaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgeUxlbiA9IHlTaXplWzBdO1xuICAgIH0gZWxzZSBpZiAoeVNpemUubGVuZ3RoID09PSAyICYmIHlTaXplWzFdID09PSAxKSB7XG4gICAgICB5TGVuID0geVNpemVbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFeHBlY3RlZCBhIGNvbHVtbiB2ZWN0b3IsIGluc3RlYWQgZ290IGEgbWF0cml4IG9mIHNpemUgKCcgKyB5U2l6ZS5qb2luKCcsICcpICsgJyknKTtcbiAgICB9XG5cbiAgICBpZiAoeExlbiAhPT0geUxlbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1ZlY3RvcnMgbXVzdCBoYXZlIGVxdWFsIGxlbmd0aCAoJyArIHhMZW4gKyAnICE9ICcgKyB5TGVuICsgJyknKTtcbiAgICBpZiAoeExlbiA9PT0gMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgdGhlIGRvdCBwcm9kdWN0IG9mIGVtcHR5IHZlY3RvcnMnKTtcbiAgICByZXR1cm4geExlbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZW5zZURvdChhLCBiKSB7XG4gICAgdmFyIE4gPSBfdmFsaWRhdGVEaW0oYSwgYik7XG5cbiAgICB2YXIgYWRhdGEgPSBpc01hdHJpeChhKSA/IGEuX2RhdGEgOiBhO1xuICAgIHZhciBhZHQgPSBpc01hdHJpeChhKSA/IGEuX2RhdGF0eXBlIDogdW5kZWZpbmVkO1xuICAgIHZhciBiZGF0YSA9IGlzTWF0cml4KGIpID8gYi5fZGF0YSA6IGI7XG4gICAgdmFyIGJkdCA9IGlzTWF0cml4KGIpID8gYi5fZGF0YXR5cGUgOiB1bmRlZmluZWQ7IC8vIGFyZSB0aGVzZSAyLWRpbWVuc2lvbmFsIGNvbHVtbiB2ZWN0b3JzPyAoYXMgb3Bwb3NlZCB0byAxLWRpbWVuc2lvbmFsIHZlY3RvcnMpXG5cbiAgICB2YXIgYUlzQ29sdW1uID0gX3NpemUoYSkubGVuZ3RoID09PSAyO1xuICAgIHZhciBiSXNDb2x1bW4gPSBfc2l6ZShiKS5sZW5ndGggPT09IDI7XG4gICAgdmFyIGFkZCA9IGFkZFNjYWxhcjtcbiAgICB2YXIgbXVsID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZGQgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbXVsID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gYm90aCB2ZWN0b3JzIDEtZGltZW5zaW9uYWxcblxuXG4gICAgaWYgKCFhSXNDb2x1bW4gJiYgIWJJc0NvbHVtbikge1xuICAgICAgdmFyIGMgPSBtdWwoY29uaihhZGF0YVswXSksIGJkYXRhWzBdKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBOOyBpKyspIHtcbiAgICAgICAgYyA9IGFkZChjLCBtdWwoY29uaihhZGF0YVtpXSksIGJkYXRhW2ldKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjO1xuICAgIH0gLy8gYSBpcyAxLWRpbSwgYiBpcyBjb2x1bW5cblxuXG4gICAgaWYgKCFhSXNDb2x1bW4gJiYgYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MgPSBtdWwoY29uaihhZGF0YVswXSksIGJkYXRhWzBdWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IE47IF9pKyspIHtcbiAgICAgICAgX2MgPSBhZGQoX2MsIG11bChjb25qKGFkYXRhW19pXSksIGJkYXRhW19pXVswXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2M7XG4gICAgfSAvLyBhIGlzIGNvbHVtbiwgYiBpcyAxLWRpbVxuXG5cbiAgICBpZiAoYUlzQ29sdW1uICYmICFiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYzIgPSBtdWwoY29uaihhZGF0YVswXVswXSksIGJkYXRhWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kyID0gMTsgX2kyIDwgTjsgX2kyKyspIHtcbiAgICAgICAgX2MyID0gYWRkKF9jMiwgbXVsKGNvbmooYWRhdGFbX2kyXVswXSksIGJkYXRhW19pMl0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jMjtcbiAgICB9IC8vIGJvdGggdmVjdG9ycyBhcmUgY29sdW1uXG5cblxuICAgIGlmIChhSXNDb2x1bW4gJiYgYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MzID0gbXVsKGNvbmooYWRhdGFbMF1bMF0pLCBiZGF0YVswXVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pMyA9IDE7IF9pMyA8IE47IF9pMysrKSB7XG4gICAgICAgIF9jMyA9IGFkZChfYzMsIG11bChjb25qKGFkYXRhW19pM11bMF0pLCBiZGF0YVtfaTNdWzBdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYzM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3NwYXJzZURvdCh4LCB5KSB7XG4gICAgX3ZhbGlkYXRlRGltKHgsIHkpO1xuXG4gICAgdmFyIHhpbmRleCA9IHguX2luZGV4O1xuICAgIHZhciB4dmFsdWVzID0geC5fdmFsdWVzO1xuICAgIHZhciB5aW5kZXggPSB5Ll9pbmRleDtcbiAgICB2YXIgeXZhbHVlcyA9IHkuX3ZhbHVlczsgLy8gVE9ETyBvcHRpbWl6ZSBhZGQgJiBtdWwgdXNpbmcgZGF0YXR5cGVcblxuICAgIHZhciBjID0gMDtcbiAgICB2YXIgYWRkID0gYWRkU2NhbGFyO1xuICAgIHZhciBtdWwgPSBtdWx0aXBseVNjYWxhcjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGogPSAwO1xuXG4gICAgd2hpbGUgKGkgPCB4aW5kZXgubGVuZ3RoICYmIGogPCB5aW5kZXgubGVuZ3RoKSB7XG4gICAgICB2YXIgSSA9IHhpbmRleFtpXTtcbiAgICAgIHZhciBKID0geWluZGV4W2pdO1xuXG4gICAgICBpZiAoSSA8IEopIHtcbiAgICAgICAgaSsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEkgPiBKKSB7XG4gICAgICAgIGorKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChJID09PSBKKSB7XG4gICAgICAgIGMgPSBhZGQoYywgbXVsKHh2YWx1ZXNbaV0sIHl2YWx1ZXNbal0pKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBqKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGM7XG4gIH0gLy8gVE9ETyByZW1vdmUgdGhpcyBvbmNlICMxNzcxIGlzIGZpeGVkXG5cblxuICBmdW5jdGlvbiBfc2l6ZSh4KSB7XG4gICAgcmV0dXJuIGlzTWF0cml4KHgpID8geC5zaXplKCkgOiBzaXplKHgpO1xuICB9XG59KTsiLCIvLyBSZXNlcnZlZCBrZXl3b3JkcyBub3QgYWxsb3dlZCB0byB1c2UgaW4gdGhlIHBhcnNlclxuZXhwb3J0IHZhciBrZXl3b3JkcyA9IHtcbiAgZW5kOiB0cnVlXG59OyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGtleXdvcmRzIH0gZnJvbSAnLi4va2V5d29yZHMuanMnO1xuaW1wb3J0IHsgZGVlcFN0cmljdEVxdWFsLCBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGhXaXRoVHJhbnNmb3JtJ107XG5leHBvcnQgdmFyIGNyZWF0ZU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoV2l0aFRyYW5zZm9ybVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogTm9kZVxuICAgKi9cbiAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFdmFsdWF0ZSB0aGUgbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Njb3BlXSAgU2NvcGUgdG8gcmVhZC93cml0ZSB2YXJpYWJsZXNcbiAgICogQHJldHVybiB7Kn0gICAgICAgICAgICAgIFJldHVybnMgdGhlIHJlc3VsdFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgfTtcblxuICBOb2RlLnByb3RvdHlwZS50eXBlID0gJ05vZGUnO1xuICBOb2RlLnByb3RvdHlwZS5pc05vZGUgPSB0cnVlO1xuICBOb2RlLnByb3RvdHlwZS5jb21tZW50ID0gJyc7XG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSBub2RlIGludG8gYW4gb3B0aW1pemVkLCBldmF1YXRhYmxlIEphdmFTY3JpcHQgZnVuY3Rpb25cbiAgICogQHJldHVybiB7e2V2YWx1YXRlOiBmdW5jdGlvbihbT2JqZWN0XSl9fSBvYmplY3RcbiAgICogICAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhIGZ1bmN0aW9uICdldmFsdWF0ZScsXG4gICAqICAgICAgICAgICAgICAgIHdoaWNoIGNhbiBiZSBpbnZva2VkIGFzIGV4cHIuZXZhbHVhdGUoW3Njb3BlOiBPYmplY3RdKSxcbiAgICogICAgICAgICAgICAgICAgd2hlcmUgc2NvcGUgaXMgYW4gb3B0aW9uYWwgb2JqZWN0IHdpdGhcbiAgICogICAgICAgICAgICAgICAgdmFyaWFibGVzLlxuICAgKi9cblxuICBOb2RlLnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHByID0gdGhpcy5fY29tcGlsZShtYXRoV2l0aFRyYW5zZm9ybSwge30pO1xuXG4gICAgdmFyIGFyZ3MgPSB7fTtcbiAgICB2YXIgY29udGV4dCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBldmFsdWF0ZShzY29wZSkge1xuICAgICAgdmFyIHMgPSBzY29wZSB8fCB7fTtcblxuICAgICAgX3ZhbGlkYXRlU2NvcGUocyk7XG5cbiAgICAgIHJldHVybiBleHByKHMsIGFyZ3MsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBldmFsdWF0ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBfY29tcGlsZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgdHlwZSAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJ1biBmb3JFYWNoIG9uIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJ1biBtYXAgb24gYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGUgd2hldGhlciBhbiBvYmplY3QgaXMgYSBOb2RlLCBmb3IgdXNlIHdpdGggbWFwXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcmV0dXJucyB7Tm9kZX0gUmV0dXJucyB0aGUgaW5wdXQgaWYgaXQncyBhIG5vZGUsIGVsc2UgdGhyb3dzIGFuIEVycm9yXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5faWZOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoIWlzTm9kZShub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2FsbGJhY2sgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBOb2RlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSB0cmF2ZXJzZSBhbGwgbm9kZXMgaW4gYSBub2RlIHRyZWUuIEV4ZWN1dGVzIGdpdmVuIGNhbGxiYWNrIGZvclxuICAgKiB0aGlzIG5vZGUgYW5kIGVhY2ggb2YgaXRzIGNoaWxkIG5vZGVzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgQSBjYWxsYmFjayBjYWxsZWQgZm9yIGV2ZXJ5IG5vZGUgaW4gdGhlIG5vZGUgdHJlZS5cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50cmF2ZXJzZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2sgZm9yIGl0c2VsZlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGNhbGxiYWNrKHRoaXMsIG51bGwsIG51bGwpOyAvLyByZWN1cnNpdmVseSB0cmF2ZXJzZSBvdmVyIGFsbCBjaGlsZHMgb2YgYSBub2RlXG5cbiAgICBmdW5jdGlvbiBfdHJhdmVyc2Uobm9kZSwgY2FsbGJhY2spIHtcbiAgICAgIG5vZGUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIHBhdGgsIHBhcmVudCkge1xuICAgICAgICBjYWxsYmFjayhjaGlsZCwgcGF0aCwgcGFyZW50KTtcblxuICAgICAgICBfdHJhdmVyc2UoY2hpbGQsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90cmF2ZXJzZSh0aGlzLCBjYWxsYmFjayk7XG4gIH07XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSB0cmFuc2Zvcm0gYSBub2RlIHRyZWUgdmlhIGEgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgdG8gcmVwbGFjZSBhbGwgbm9kZXMgb2YgdHlwZSBTeW1ib2xOb2RlIGhhdmluZyBuYW1lICd4JyB3aXRoIGFcbiAgICogQ29uc3RhbnROb2RlIHdpdGggdmFsdWUgMjpcbiAgICpcbiAgICogICAgIGNvbnN0IHJlcyA9IE5vZGUudHJhbnNmb3JtKGZ1bmN0aW9uIChub2RlLCBwYXRoLCBwYXJlbnQpIHtcbiAgICogICAgICAgaWYgKG5vZGUgJiYgbm9kZS5pc1N5bWJvbE5vZGUpICYmIChub2RlLm5hbWUgPT09ICd4JykpIHtcbiAgICogICAgICAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZSgyKVxuICAgKiAgICAgICB9XG4gICAqICAgICAgIGVsc2Uge1xuICAgKiAgICAgICAgIHJldHVybiBub2RlXG4gICAqICAgICAgIH1cbiAgICogICAgIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgQSBtYXBwaW5nIGZ1bmN0aW9uIGFjY2VwdGluZyBhIG5vZGUsIGFuZCByZXR1cm5pbmdcbiAgICogICAgICAgICAgYSByZXBsYWNlbWVudCBmb3IgdGhlIG5vZGUgb3IgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqICAgICAgICAgIFNpZ25hdHVyZTogY2FsbGJhY2sobm9kZTogTm9kZSwgaW5kZXg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGVcbiAgICogQHJldHVybiB7Tm9kZX0gUmV0dXJucyB0aGUgb3JpZ2luYWwgbm9kZSBvciBpdHMgcmVwbGFjZW1lbnRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmdW5jdGlvbiBfdHJhbnNmb3JtKGNoaWxkLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgIHZhciByZXBsYWNlbWVudCA9IGNhbGxiYWNrKGNoaWxkLCBwYXRoLCBwYXJlbnQpO1xuXG4gICAgICBpZiAocmVwbGFjZW1lbnQgIT09IGNoaWxkKSB7XG4gICAgICAgIC8vIHN0b3AgaXRlcmF0aW5nIHdoZW4gdGhlIG5vZGUgaXMgcmVwbGFjZWRcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGQubWFwKF90cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIHJldHVybiBfdHJhbnNmb3JtKHRoaXMsIG51bGwsIG51bGwpO1xuICB9O1xuICAvKipcbiAgICogRmluZCBhbnkgbm9kZSBpbiB0aGUgbm9kZSB0cmVlIG1hdGNoaW5nIGdpdmVuIGZpbHRlciBmdW5jdGlvbi4gRm9yIGV4YW1wbGUsIHRvXG4gICAqIGZpbmQgYWxsIG5vZGVzIG9mIHR5cGUgU3ltYm9sTm9kZSBoYXZpbmcgbmFtZSAneCc6XG4gICAqXG4gICAqICAgICBjb25zdCByZXN1bHRzID0gTm9kZS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICogICAgICAgcmV0dXJuIChub2RlICYmIG5vZGUuaXNTeW1ib2xOb2RlKSAmJiAobm9kZS5uYW1lID09PSAneCcpXG4gICAqICAgICB9KVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqICAgICAgICAgICAgQSB0ZXN0IGZ1bmN0aW9uIHJldHVybmluZyB0cnVlIHdoZW4gYSBub2RlIG1hdGNoZXMsIGFuZCBmYWxzZVxuICAgKiAgICAgICAgICAgIG90aGVyd2lzZS4gRnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgKiAgICAgICAgICAgIGNhbGxiYWNrKG5vZGU6IE5vZGUsIGluZGV4OiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBib29sZWFuXG4gICAqIEByZXR1cm4ge05vZGVbXX0gbm9kZXMgICAgICAgQW4gYXJyYXkgd2l0aCBub2RlcyBtYXRjaGluZyBnaXZlbiBmaWx0ZXIgY3JpdGVyaWFcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICB0aGlzLnRyYXZlcnNlKGZ1bmN0aW9uIChub2RlLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgIGlmIChjYWxsYmFjayhub2RlLCBwYXRoLCBwYXJlbnQpKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgc2hhbGxvdyBjbG9uZSBvZiB0aGlzIG5vZGVcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2xvbmUgYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGVlcCBjbG9uZSBvZiB0aGlzIG5vZGVcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5jbG9uZURlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5jbG9uZURlZXAoKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIERlZXAgY29tcGFyZSB0aGlzIG5vZGUgd2l0aCBhbm90aGVyIG5vZGUuXG4gICAqIEBwYXJhbSB7Tm9kZX0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYm90aCBub2RlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgKGFzIGRvIHRoZWlyIGNoaWxkcylcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgPyBkZWVwU3RyaWN0RXF1YWwodGhpcywgb3RoZXIpIDogZmFsc2U7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIm9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEJvdGggLnRvSlNPTigpIGFuZCB0aGUgc3RhdGljIC5mcm9tSlNPTihqc29uKSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgYWxsXG4gICAqIGltcGxlbWVudGF0aW9ucyBvZiBOb2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNlcmlhbGl6ZSBvYmplY3Q6IHRvSlNPTiBub3QgaW1wbGVtZW50ZWQgYnkgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCIgb3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgc3RyaW5nIG91dHB1dC5cbiAgICogVGhpcyBoYXMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgZXZlcnkgTm9kZVxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignX3RvU3RyaW5nIG5vdCBpbXBsZW1lbnRlZCBmb3IgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwib3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tVGV4O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tVGV4ID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVGV4O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90b1RleChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHRoZSBMYVRlWCBvdXRwdXQuXG4gICAqIFRoaXMgaGFzIHRvIGJlIGltcGxlbWVudGVkIGJ5IGV2ZXJ5IE5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ190b1RleCBub3QgaW1wbGVtZW50ZWQgZm9yICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnRlbnQgb2YgdGhlIGN1cnJlbnQgTm9kZS5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiovXG5cblxuICBOb2RlLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIHN5bWJvbCBuYW1lcyBvZiBhIHNjb3BlLlxuICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGUgc2NvcGUgY29udGFpbnMgYW4gaWxsZWdhbCBzeW1ib2wuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZVNjb3BlKHNjb3BlKSB7XG4gICAgZm9yICh2YXIgc3ltYm9sIGluIHNjb3BlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoc2NvcGUsIHN5bWJvbCkpIHtcbiAgICAgICAgaWYgKHN5bWJvbCBpbiBrZXl3b3Jkcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2NvcGUgY29udGFpbnMgYW4gaWxsZWdhbCBzeW1ib2wsIFwiJyArIHN5bWJvbCArICdcIiBpcyBhIHJlc2VydmVkIGtleXdvcmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IEluZGV4RXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9JbmRleEVycm9yLmpzJztcbi8qKlxuICogVHJhbnNmb3JtIHplcm8tYmFzZWQgaW5kaWNlcyB0byBvbmUtYmFzZWQgaW5kaWNlcyBpbiBlcnJvcnNcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHJldHVybnMge0Vycm9yIHwgSW5kZXhFcnJvcn0gUmV0dXJucyB0aGUgdHJhbnNmb3JtZWQgZXJyb3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JUcmFuc2Zvcm0oZXJyKSB7XG4gIGlmIChlcnIgJiYgZXJyLmlzSW5kZXhFcnJvcikge1xuICAgIHJldHVybiBuZXcgSW5kZXhFcnJvcihlcnIuaW5kZXggKyAxLCBlcnIubWluICsgMSwgZXJyLm1heCAhPT0gdW5kZWZpbmVkID8gZXJyLm1heCArIDEgOiB1bmRlZmluZWQpO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn0iLCJpbXBvcnQgeyBlcnJvclRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NGYWN0b3J5KF9yZWYpIHtcbiAgdmFyIHtcbiAgICBzdWJzZXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHBhcnQgb2YgYW4gb2JqZWN0OlxuICAgKlxuICAgKiAtIFJldHJpZXZlIGEgcHJvcGVydHkgZnJvbSBhbiBvYmplY3RcbiAgICogLSBSZXRyaWV2ZSBhIHBhcnQgb2YgYSBzdHJpbmdcbiAgICogLSBSZXRyaWV2ZSBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gb2JqZWN0XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEByZXR1cm4ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBSZXR1cm5zIHRoZSBzdWJzZXRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhY2Nlc3Mob2JqZWN0LCBpbmRleCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LnN1YnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBNYXRyaXhcbiAgICAgICAgcmV0dXJuIG9iamVjdC5zdWJzZXQoaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIGdldFN0cmluZ1N1YnNldCBpbnRvIGEgc2VwYXJhdGUgdXRpbCBmaWxlLCB1c2UgdGhhdFxuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoIWluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBhIG51bWVyaWMgaW5kZXggYXMgb2JqZWN0IHByb3BlcnR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwgaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgaW5kZXg6IHVuc3VwcG9ydGVkIHR5cGUgb2Ygb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnJvclRyYW5zZm9ybShlcnIpO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNBcnJheU5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNPYmplY3ROb2RlLCBpc1BhcmVudGhlc2lzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhY2Nlc3NGYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hY2Nlc3MuanMnO1xudmFyIG5hbWUgPSAnQWNjZXNzb3JOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3N1YnNldCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFjY2Vzc29yTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuICB2YXIgYWNjZXNzID0gYWNjZXNzRmFjdG9yeSh7XG4gICAgc3Vic2V0XG4gIH0pO1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFjY2Vzc29yTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQWNjZXNzIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBnZXQgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gb2JqZWN0ICAgICAgICAgICAgICAgICBUaGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgcHJvcGVydHkgb3Igc3Vic2V0LlxuICAgKiBAcGFyYW0ge0luZGV4Tm9kZX0gaW5kZXggICAgICAgICAgICAgSW5kZXhOb2RlIGNvbnRhaW5pbmcgcmFuZ2VzXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEFjY2Vzc29yTm9kZShvYmplY3QsIGluZGV4KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFjY2Vzc29yTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUob2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwib2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW5kZXhOb2RlKGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXhOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJpbmRleFwiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3QgfHwgbnVsbDtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50eXBlID0gJ0FjY2Vzc29yTm9kZSc7XG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuaXNBY2Nlc3Nvck5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEluZGV4ID0gdGhpcy5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICBpZiAodGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIHZhciBwcm9wID0gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBY2Nlc3Nvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgcHJvcCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFjY2Vzc29yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgb2JqZWN0KTsgLy8gd2UgcGFzcyBvYmplY3QgaGVyZSBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICByZXR1cm4gYWNjZXNzKG9iamVjdCwgaW5kZXgpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBY2Nlc3Nvck5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0FjY2Vzc29yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0FjY2Vzc29yTm9kZX1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKHRoaXMub2JqZWN0LCB0aGlzLmluZGV4KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJygnICsgb2JqZWN0ICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIG9iamVjdCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJ1xcXFxsZWZ0KFxcJyArIG9iamVjdCArIFxcJ1xcXFxyaWdodCknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvVGV4KG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBY2Nlc3Nvck5vZGUnLFxuICAgICAgb2JqZWN0OiB0aGlzLm9iamVjdCxcbiAgICAgIGluZGV4OiB0aGlzLmluZGV4XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFjY2Vzc29yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQWNjZXNzb3JOb2RlXCIsIG9iamVjdDogLi4uLCBpbmRleDogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0FjY2Vzc29yTm9kZX1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQWNjZXNzb3JOb2RlKGpzb24ub2JqZWN0LCBqc29uLmluZGV4KTtcbiAgfTtcbiAgLyoqXG4gICAqIEFyZSBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUpIHtcbiAgICAvLyBUT0RPOiBtYXliZSBtYWtlIGEgbWV0aG9kIG9uIHRoZSBub2RlcyB3aGljaCB0ZWxscyB3aGV0aGVyIHRoZXkgbmVlZCBwYXJlbnRoZXNpcz9cbiAgICByZXR1cm4gIShpc0FjY2Vzc29yTm9kZShub2RlKSB8fCBpc0FycmF5Tm9kZShub2RlKSB8fCBpc0NvbnN0YW50Tm9kZShub2RlKSB8fCBpc0Z1bmN0aW9uTm9kZShub2RlKSB8fCBpc09iamVjdE5vZGUobm9kZSkgfHwgaXNQYXJlbnRoZXNpc05vZGUobm9kZSkgfHwgaXNTeW1ib2xOb2RlKG5vZGUpKTtcbiAgfVxuXG4gIHJldHVybiBBY2Nlc3Nvck5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQXJyYXlOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQXJyYXlOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFycmF5Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYW4gMS1kaW1lbnNpb25hbCBhcnJheSB3aXRoIGl0ZW1zXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBbaXRlbXNdICAgMSBkaW1lbnNpb25hbCBhcnJheSB3aXRoIGl0ZW1zXG4gICAqL1xuICBmdW5jdGlvbiBBcnJheU5vZGUoaXRlbXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJyYXlOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1zID0gaXRlbXMgfHwgW107IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5pdGVtcykgfHwgIXRoaXMuaXRlbXMuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBcnJheU5vZGUucHJvdG90eXBlLnR5cGUgPSAnQXJyYXlOb2RlJztcbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5pc0FycmF5Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEl0ZW1zID0gbWFwKHRoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG4gICAgdmFyIGFzTWF0cml4ID0gbWF0aC5jb25maWcubWF0cml4ICE9PSAnQXJyYXknO1xuXG4gICAgaWYgKGFzTWF0cml4KSB7XG4gICAgICB2YXIgbWF0cml4ID0gbWF0aC5tYXRyaXg7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFycmF5Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbWF0cml4KG1hcChldmFsSXRlbXMsIGZ1bmN0aW9uIChldmFsSXRlbSkge1xuICAgICAgICAgIHJldHVybiBldmFsSXRlbShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXJyYXlOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXAoZXZhbEl0ZW1zLCBmdW5jdGlvbiAoZXZhbEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEl0ZW0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgY2FsbGJhY2sobm9kZSwgJ2l0ZW1zWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQXJyYXlOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBcnJheU5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaXRlbXNbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pdGVtc1tpXSwgJ2l0ZW1zWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUoaXRlbXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBcnJheU5vZGV9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZSh0aGlzLml0ZW1zLnNsaWNlKDApKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJ1snICsgaXRlbXMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQXJyYXlOb2RlJyxcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFycmF5Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQXJyYXlOb2RlXCIsIGl0ZW1zOiBbLi4uXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBcnJheU5vZGV9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShqc29uLml0ZW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+Wzwvc3Bhbj4nICsgaXRlbXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+XTwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzID0gJ1xcXFxiZWdpbntibWF0cml4fSc7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5pdGVtcykge1xuICAgICAgICBzICs9IG5vZGUuaXRlbXMubWFwKGZ1bmN0aW9uIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGROb2RlLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICB9KS5qb2luKCcmJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzICs9IG5vZGUudG9UZXgob3B0aW9ucyk7XG4gICAgICB9IC8vIG5ldyBsaW5lXG5cblxuICAgICAgcyArPSAnXFxcXFxcXFwnO1xuICAgIH0pO1xuICAgIHMgKz0gJ1xcXFxlbmR7Ym1hdHJpeH0nO1xuICAgIHJldHVybiBzO1xuICB9O1xuXG4gIHJldHVybiBBcnJheU5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiLy8gbGlzdCBvZiBpZGVudGlmaWVycyBvZiBub2RlcyBpbiBvcmRlciBvZiB0aGVpciBwcmVjZWRlbmNlXG4vLyBhbHNvIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IGxlZnQvcmlnaHQgYXNzb2NpYXRpdml0eVxuLy8gYW5kIHdoaWNoIG90aGVyIG9wZXJhdG9yIHRoZSBvcGVyYXRvciBpcyBhc3NvY2lhdGl2ZSB3aXRoXG4vLyBFeGFtcGxlOlxuLy8gYWRkaXRpb24gaXMgYXNzb2NpYXRpdmUgd2l0aCBhZGRpdGlvbiBhbmQgc3VidHJhY3Rpb24sIGJlY2F1c2U6XG4vLyAoYStiKStjPWErKGIrYylcbi8vIChhK2IpLWM9YSsoYi1jKVxuLy9cbi8vIHBvc3RmaXggb3BlcmF0b3JzIGFyZSBsZWZ0IGFzc29jaWF0aXZlLCBwcmVmaXggb3BlcmF0b3JzXG4vLyBhcmUgcmlnaHQgYXNzb2NpYXRpdmVcbi8vXG4vLyBJdCdzIGFsc28gcG9zc2libGUgdG8gc2V0IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbi8vIGxhdGV4UGFyZW5zOiBpZiBzZXQgdG8gZmFsc2UsIHRoaXMgbm9kZSBkb2Vzbid0IG5lZWQgdG8gYmUgZW5jbG9zZWRcbi8vICAgICAgICAgICAgICBpbiBwYXJlbnRoZXNlcyB3aGVuIHVzaW5nIExhVGVYXG4vLyBsYXRleExlZnRQYXJlbnM6IGlmIHNldCB0byBmYWxzZSwgdGhpcyAhT3BlcmF0b3JOb2RlJ3MhXG4vLyAgICAgICAgICAgICAgICAgIGxlZnQgYXJndW1lbnQgZG9lc24ndCBuZWVkIHRvIGJlIGVuY2xvc2VkXG4vLyAgICAgICAgICAgICAgICAgIGluIHBhcmVudGhlc2VzXG4vLyBsYXRleFJpZ2h0UGFyZW5zOiB0aGUgc2FtZSBmb3IgdGhlIHJpZ2h0IGFyZ3VtZW50XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL29iamVjdC5qcyc7XG5leHBvcnQgdmFyIHByb3BlcnRpZXMgPSBbe1xuICAvLyBhc3NpZ25tZW50XG4gIEFzc2lnbm1lbnROb2RlOiB7fSxcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZToge31cbn0sIHtcbiAgLy8gY29uZGl0aW9uYWwgZXhwcmVzc2lvblxuICBDb25kaXRpb25hbE5vZGU6IHtcbiAgICBsYXRleExlZnRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UGFyZW5zOiBmYWxzZSAvLyBjb25kaXRpb25hbHMgZG9uJ3QgbmVlZCBwYXJlbnRoZXNlcyBpbiBMYVRlWCBiZWNhdXNlXG4gICAgLy8gdGhleSBhcmUgMiBkaW1lbnNpb25hbFxuXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCBvclxuICAnT3BlcmF0b3JOb2RlOm9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCB4b3JcbiAgJ09wZXJhdG9yTm9kZTp4b3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIGFuZFxuICAnT3BlcmF0b3JOb2RlOmFuZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2Ugb3JcbiAgJ09wZXJhdG9yTm9kZTpiaXRPcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2UgeG9yXG4gICdPcGVyYXRvck5vZGU6Yml0WG9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSBhbmRcbiAgJ09wZXJhdG9yTm9kZTpiaXRBbmQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyByZWxhdGlvbmFsIG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOmVxdWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6dW5lcXVhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnNtYWxsZXInOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpsYXJnZXInOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzbWFsbGVyRXEnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpsYXJnZXJFcSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICBSZWxhdGlvbmFsTm9kZToge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0c2hpZnQgb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6bGVmdFNoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6cmlnaHRBcml0aFNoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6cmlnaHRMb2dTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHVuaXQgY29udmVyc2lvblxuICAnT3BlcmF0b3JOb2RlOnRvJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gcmFuZ2VcbiAgUmFuZ2VOb2RlOiB7fVxufSwge1xuICAvLyBhZGRpdGlvbiwgc3VidHJhY3Rpb25cbiAgJ09wZXJhdG9yTm9kZTphZGQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6YWRkJywgJ09wZXJhdG9yTm9kZTpzdWJ0cmFjdCddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c3VidHJhY3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBtdWx0aXBseSwgZGl2aWRlLCBtb2R1bHVzXG4gICdPcGVyYXRvck5vZGU6bXVsdGlwbHknOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6bXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRpdmlkZScsICdPcGVyYXRvcjpkb3RNdWx0aXBseScsICdPcGVyYXRvcjpkb3REaXZpZGUnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXSxcbiAgICBsYXRleExlZnRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlLFxuICAgIGxhdGV4UGFyZW5zOiBmYWxzZSAvLyBmcmFjdGlvbnMgZG9uJ3QgcmVxdWlyZSBwYXJlbnRoZXNlcyBiZWNhdXNlXG4gICAgLy8gdGhleSdyZSAyIGRpbWVuc2lvbmFsLCBzbyBwYXJlbnMgYXJlbid0IG5lZWRlZFxuICAgIC8vIGluIExhVGVYXG5cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3RNdWx0aXBseSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTptdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZGl2aWRlJywgJ09wZXJhdG9yTm9kZTpkb3RNdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZG9EaXZpZGUnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdERpdmlkZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOm1vZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHVuYXJ5IHByZWZpeCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTp1bmFyeVBsdXMnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOnVuYXJ5TWludXMnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOmJpdE5vdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bm90Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfVxufSwge1xuICAvLyBleHBvbmVudGlhdGlvblxuICAnT3BlcmF0b3JOb2RlOnBvdyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW10sXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UgLy8gdGhlIGV4cG9uZW50IGRvZXNuJ3QgbmVlZCBwYXJlbnRoZXNlcyBpblxuICAgIC8vIExhVGVYIGJlY2F1c2UgaXQncyAyIGRpbWVuc2lvbmFsXG4gICAgLy8gKGl0J3Mgb24gdG9wKVxuXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90UG93Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGZhY3RvcmlhbFxuICAnT3BlcmF0b3JOb2RlOmZhY3RvcmlhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCdcbiAgfVxufSwge1xuICAvLyBtYXRyaXggdHJhbnNwb3NlXG4gICdPcGVyYXRvck5vZGU6dHJhbnNwb3NlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0J1xuICB9XG59XTtcbi8qKlxuICogR2V0IHRoZSBwcmVjZWRlbmNlIG9mIGEgTm9kZS5cbiAqIEhpZ2hlciBudW1iZXIgZm9yIGhpZ2hlciBwcmVjZWRlbmNlLCBzdGFydGluZyB3aXRoIDAuXG4gKiBSZXR1cm5zIG51bGwgaWYgdGhlIHByZWNlZGVuY2UgaXMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gX25vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7bnVtYmVyIHwgbnVsbH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlY2VkZW5jZShfbm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgdmFyIG5vZGUgPSBfbm9kZTtcblxuICBpZiAocGFyZW50aGVzaXMgIT09ICdrZWVwJykge1xuICAgIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgIG5vZGUgPSBfbm9kZS5nZXRDb250ZW50KCk7XG4gIH1cblxuICB2YXIgaWRlbnRpZmllciA9IG5vZGUuZ2V0SWRlbnRpZmllcigpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpZGVudGlmaWVyIGluIHByb3BlcnRpZXNbaV0pIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBHZXQgdGhlIGFzc29jaWF0aXZpdHkgb2YgYW4gb3BlcmF0b3IgKGxlZnQgb3IgcmlnaHQpLlxuICogUmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nICdsZWZ0JyBvciAncmlnaHQnIG9yIG51bGwgaWZcbiAqIHRoZSBhc3NvY2lhdGl2aXR5IGlzIG5vdCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gX25vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gKiBAdGhyb3dzIHtFcnJvcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXNzb2NpYXRpdml0eShfbm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgdmFyIG5vZGUgPSBfbm9kZTtcblxuICBpZiAocGFyZW50aGVzaXMgIT09ICdrZWVwJykge1xuICAgIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgIG5vZGUgPSBfbm9kZS5nZXRDb250ZW50KCk7XG4gIH1cblxuICB2YXIgaWRlbnRpZmllciA9IG5vZGUuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaW5kZXggPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcblxuICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAvLyBub2RlIGlzbid0IGluIHRoZSBsaXN0XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2luZGV4XVtpZGVudGlmaWVyXTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkocHJvcGVydHksICdhc3NvY2lhdGl2aXR5JykpIHtcbiAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdml0eSA9PT0gJ2xlZnQnKSB7XG4gICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9IC8vIGFzc29jaWF0aXZpdHkgaXMgaW52YWxpZFxuXG5cbiAgICB0aHJvdyBFcnJvcignXFwnJyArIGlkZW50aWZpZXIgKyAnXFwnIGhhcyB0aGUgaW52YWxpZCBhc3NvY2lhdGl2aXR5IFxcJycgKyBwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ICsgJ1xcJy4nKTtcbiAgfSAvLyBhc3NvY2lhdGl2aXR5IGlzIHVuZGVmaW5lZFxuXG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIG9wZXJhdG9yIGlzIGFzc29jaWF0aXZlIHdpdGggYW5vdGhlciBvcGVyYXRvci5cbiAqIFJldHVybnMgZWl0aGVyIHRydWUgb3IgZmFsc2Ugb3IgbnVsbCBpZiBub3QgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVBXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVCXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge2Jvb2xlYW4gfCBudWxsfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Fzc29jaWF0aXZlV2l0aChub2RlQSwgbm9kZUIsIHBhcmVudGhlc2lzKSB7XG4gIC8vIFBhcmVudGhlc2lzTm9kZXMgYXJlIG9ubHkgaWdub3JlZCB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICB2YXIgYSA9IHBhcmVudGhlc2lzICE9PSAna2VlcCcgPyBub2RlQS5nZXRDb250ZW50KCkgOiBub2RlQTtcbiAgdmFyIGIgPSBwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnID8gbm9kZUEuZ2V0Q29udGVudCgpIDogbm9kZUI7XG4gIHZhciBpZGVudGlmaWVyQSA9IGEuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaWRlbnRpZmllckIgPSBiLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGluZGV4ID0gZ2V0UHJlY2VkZW5jZShhLCBwYXJlbnRoZXNpcyk7XG5cbiAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgLy8gbm9kZSBpc24ndCBpbiB0aGUgbGlzdFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpbmRleF1baWRlbnRpZmllckFdO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSwgJ2Fzc29jaWF0aXZlV2l0aCcpICYmIHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGhbaV0gPT09IGlkZW50aWZpZXJCKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBhc3NvY2lhdGl2ZVdpdGggaXMgbm90IGRlZmluZWRcblxuXG4gIHJldHVybiBudWxsO1xufSIsImltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWNjZXNzRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYWNjZXNzLmpzJztcbmltcG9ydCB7IGFzc2lnbkZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2Fzc2lnbi5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ0Fzc2lnbm1lbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3N1YnNldCcsICc/bWF0cml4JywgLy8gRklYTUU6IHNob3VsZCBub3QgYmUgbmVlZGVkIGF0IGFsbCwgc2hvdWxkIGJlIGhhbmRsZWQgYnkgc3Vic2V0XG4nTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBc3NpZ25tZW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXgsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcbiAgdmFyIGFjY2VzcyA9IGFjY2Vzc0ZhY3Rvcnkoe1xuICAgIHN1YnNldFxuICB9KTtcbiAgdmFyIGFzc2lnbiA9IGFzc2lnbkZhY3Rvcnkoe1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXhcbiAgfSk7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQXNzaWdubWVudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqXG4gICAqIERlZmluZSBhIHN5bWJvbCwgbGlrZSBgYT0zLjJgLCB1cGRhdGUgYSBwcm9wZXJ0eSBsaWtlIGBhLmI9My4yYCwgb3JcbiAgICogcmVwbGFjZSBhIHN1YnNldCBvZiBhIG1hdHJpeCBsaWtlIGBBWzIsMl09NDJgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBuZXcgQXNzaWdubWVudE5vZGUoc3ltYm9sLCB2YWx1ZSlcbiAgICogICAgIG5ldyBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSlcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgQ29uc3RhbnROb2RlKDIpKSAgICAgICAgICAgICAgICAgICAgICAgLy8gYT0yXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgSW5kZXhOb2RlKCdiJyksIG5ldyBDb25zdGFudE5vZGUoMikpICAgLy8gYS5iPTJcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBJbmRleE5vZGUoMSwgMiksIG5ldyBDb25zdGFudE5vZGUoMykpICAvLyBhWzEsMl09M1xuICAgKlxuICAgKiBAcGFyYW0ge1N5bWJvbE5vZGUgfCBBY2Nlc3Nvck5vZGV9IG9iamVjdCAgT2JqZWN0IG9uIHdoaWNoIHRvIGFzc2lnbiBhIHZhbHVlXG4gICAqIEBwYXJhbSB7SW5kZXhOb2RlfSBbaW5kZXg9bnVsbF0gICAgICAgICAgICBJbmRleCwgcHJvcGVydHkgbmFtZSBvciBtYXRyaXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LiBPcHRpb25hbC4gSWYgbm90IHByb3ZpZGVkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgYG9iamVjdGAgaXMgYSBTeW1ib2xOb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHByb3BlcnR5IGlzIGFzc2lnbmVkIHRvIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsIHNjb3BlLlxuICAgKiBAcGFyYW0ge05vZGV9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHZhbHVlIHRvIGJlIGFzc2lnbmVkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFzc2lnbm1lbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLmluZGV4ID0gdmFsdWUgPyBpbmRleCA6IG51bGw7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8IGluZGV4OyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFpc1N5bWJvbE5vZGUob2JqZWN0KSAmJiAhaXNBY2Nlc3Nvck5vZGUob2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sTm9kZSBvciBBY2Nlc3Nvck5vZGUgZXhwZWN0ZWQgYXMgXCJvYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmIChpc1N5bWJvbE5vZGUob2JqZWN0KSAmJiBvYmplY3QubmFtZSA9PT0gJ2VuZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiB0byBzeW1ib2wgXCJlbmRcIicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGV4ICYmICFpc0luZGV4Tm9kZSh0aGlzLmluZGV4KSkge1xuICAgICAgLy8gaW5kZXggaXMgb3B0aW9uYWxcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4Tm9kZSBleHBlY3RlZCBhcyBcImluZGV4XCInKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBhcyBcInZhbHVlXCInKTtcbiAgICB9IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0Lm5hbWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0Fzc2lnbm1lbnROb2RlJztcbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmlzQXNzaWdubWVudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsSW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykgOiBudWxsO1xuXG4gICAgdmFyIGV2YWxWYWx1ZSA9IHRoaXMudmFsdWUuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIG5hbWUgPSB0aGlzLm9iamVjdC5uYW1lO1xuXG4gICAgaWYgKCF0aGlzLmluZGV4KSB7XG4gICAgICAvLyBhcHBseSBhIHZhcmlhYmxlIHRvIHRoZSBzY29wZSwgZm9yIGV4YW1wbGUgYGE9MmBcbiAgICAgIGlmICghaXNTeW1ib2xOb2RlKHRoaXMub2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2xOb2RlIGV4cGVjdGVkIGFzIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAvLyBhcHBseSBhbiBvYmplY3QgcHJvcGVydHkgZm9yIGV4YW1wbGUgYGEuYj0yYFxuICAgICAgdmFyIHByb3AgPSB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3AsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc1N5bWJvbE5vZGUodGhpcy5vYmplY3QpKSB7XG4gICAgICAvLyB1cGRhdGUgYSBtYXRyaXggc3Vic2V0LCBmb3IgZXhhbXBsZSBgYVsyXT0zYFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogIHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpc0FjY2Vzc29yTm9kZShub2RlLm9iamVjdCkgPT09IHRydWVcbiAgICAgIC8vIHVwZGF0ZSBhIG1hdHJpeCBzdWJzZXQsIGZvciBleGFtcGxlIGBhLmJbMl09M2BcbiAgICAgIC8vIHdlIHdpbGwgbm90IHVzZSB0aGUgY29tcGlsZSBmdW5jdGlvbiBvZiB0aGUgQWNjZXNzb3JOb2RlLCBidXQgY29tcGlsZSBpdFxuICAgICAgLy8gb3Vyc2VsdmVzIGhlcmUgYXMgd2UgbmVlZCB0aGUgcGFyZW50IG9iamVjdCBvZiB0aGUgQWNjZXNzb3JOb2RlOlxuICAgICAgLy8gd2VlIG5lZWQgdG8gYXBwbHkgdGhlIHVwZGF0ZWQgb2JqZWN0IHRvIHBhcmVudCBvYmplY3RcbiAgICAgIHZhciBldmFsUGFyZW50T2JqZWN0ID0gdGhpcy5vYmplY3Qub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgaWYgKHRoaXMub2JqZWN0LmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICB2YXIgcGFyZW50UHJvcCA9IHRoaXMub2JqZWN0LmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gZXZhbFBhcmVudE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gZ2V0U2FmZVByb3BlcnR5KHBhcmVudCwgcGFyZW50UHJvcCk7XG4gICAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgc2V0U2FmZVByb3BlcnR5KHBhcmVudCwgcGFyZW50UHJvcCwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBzb21lIHBhcmFtZXRlcnMgdXNlIHRoZSAnZW5kJyBwYXJhbWV0ZXIsIHdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBzaXplXG4gICAgICAgIHZhciBldmFsUGFyZW50SW5kZXggPSB0aGlzLm9iamVjdC5pbmRleC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBldmFsUGFyZW50T2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICB2YXIgcGFyZW50SW5kZXggPSBldmFsUGFyZW50SW5kZXgoc2NvcGUsIGFyZ3MsIHBhcmVudCk7IC8vIEltcG9ydGFudDogd2UgcGFzcyBwYXJlbnQgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBhY2Nlc3MocGFyZW50LCBwYXJlbnRJbmRleCk7XG4gICAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBjaGlsZE9iamVjdCk7IC8vIEltcG9ydGFudDogIHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIGFzc2lnbihwYXJlbnQsIHBhcmVudEluZGV4LCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKHRoaXMudmFsdWUsICd2YWx1ZScsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFzc2lnbm1lbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBc3NpZ25tZW50Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpKTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcykpIDogbnVsbDtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnZhbHVlLCAndmFsdWUnLCB0aGlzKSk7XG5cbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUodGhpcy5vYmplY3QsIHRoaXMuaW5kZXgsIHRoaXMudmFsdWUpO1xuICB9O1xuICAvKlxuICAgKiBJcyBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwYXJhbSB7bm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmVudGhlc2lzPSdrZWVwJ11cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICBpZiAoIXBhcmVudGhlc2lzKSB7XG4gICAgICBwYXJlbnRoZXNpcyA9ICdrZWVwJztcbiAgICB9XG5cbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBleHByUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS52YWx1ZSwgcGFyZW50aGVzaXMpO1xuICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgZXhwclByZWNlZGVuY2UgIT09IG51bGwgJiYgZXhwclByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZTtcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvU3RyaW5nKG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSAnKCcgKyB2YWx1ZSArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnID0gJyArIHZhbHVlO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Fzc2lnbm1lbnROb2RlJyxcbiAgICAgIG9iamVjdDogdGhpcy5vYmplY3QsXG4gICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBc3NpZ25tZW50Tm9kZVwiLCBvYmplY3Q6IC4uLiwgaW5kZXg6IC4uLiwgdmFsdWU6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShqc29uLm9iamVjdCwganNvbi5pbmRleCwganNvbi52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b0hUTUwob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB2YWx1ZSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXZhcmlhYmxlLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj49PC9zcGFuPicgKyB2YWx1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvVGV4KG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvVGV4KG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzKSkge1xuICAgICAgdmFsdWUgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdCh2YWx1ZSwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICc6PScgKyB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gQXNzaWdubWVudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZXJyb3JUcmFuc2Zvcm0gfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vdXRpbHMvZXJyb3JUcmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduRmFjdG9yeShfcmVmKSB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUmVwbGFjZSBwYXJ0IG9mIGFuIG9iamVjdDpcbiAgICpcbiAgICogLSBBc3NpZ24gYSBwcm9wZXJ0eSB0byBhbiBvYmplY3RcbiAgICogLSBSZXBsYWNlIGEgcGFydCBvZiBhIHN0cmluZ1xuICAgKiAtIFJlcGxhY2UgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG9iamVjdFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBvYmplY3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBpbiBjYXNlIG9mIGEgc3RyaW5nXG4gICAqL1xuICAvLyBUT0RPOiBjaGFuZ2UgYXNzaWduIHRvIHJldHVybiB0aGUgdmFsdWUgaW5zdGVhZCBvZiB0aGUgb2JqZWN0XG4gIHJldHVybiBmdW5jdGlvbiBhc3NpZ24ob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAvLyB3ZSB1c2UgbWF0cml4LnN1YnNldCBoZXJlIGluc3RlYWQgb2YgdGhlIGZ1bmN0aW9uIHN1YnNldCBiZWNhdXNlIHdlIG11c3Qgbm90IGNsb25lIHRoZSBjb250ZW50c1xuICAgICAgICByZXR1cm4gbWF0cml4KG9iamVjdCkuc3Vic2V0KGluZGV4LCB2YWx1ZSkudmFsdWVPZigpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5zdWJzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gTWF0cml4XG4gICAgICAgIHJldHVybiBvYmplY3Quc3Vic2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgc2V0U3RyaW5nU3Vic2V0IGludG8gYSBzZXBhcmF0ZSB1dGlsIGZpbGUsIHVzZSB0aGF0XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoIWluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGEgbnVtZXJpYyBpbmRleCBhcyBvYmplY3QgcHJvcGVydHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFNhZmVQcm9wZXJ0eShvYmplY3QsIGluZGV4LmdldE9iamVjdFByb3BlcnR5KCksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBpbmRleDogdW5zdXBwb3J0ZWQgdHlwZSBvZiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVycm9yVHJhbnNmb3JtKGVycik7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZvckVhY2gsIG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0Jsb2NrTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydSZXN1bHRTZXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVCbG9ja05vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBSZXN1bHRTZXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEJsb2NrTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYSBzZXQgd2l0aCBibG9ja3NcbiAgICogQHBhcmFtIHtBcnJheS48e25vZGU6IE5vZGV9IHwge25vZGU6IE5vZGUsIHZpc2libGU6IGJvb2xlYW59Pn0gYmxvY2tzXG4gICAqICAgICAgICAgICAgQW4gYXJyYXkgd2l0aCBibG9ja3MsIHdoZXJlIGEgYmxvY2sgaXMgY29uc3RydWN0ZWQgYXMgYW4gT2JqZWN0XG4gICAqICAgICAgICAgICAgd2l0aCBwcm9wZXJ0aWVzIGJsb2NrLCB3aGljaCBpcyBhIE5vZGUsIGFuZCB2aXNpYmxlLCB3aGljaCBpc1xuICAgKiAgICAgICAgICAgIGEgYm9vbGVhbi4gVGhlIHByb3BlcnR5IHZpc2libGUgaXMgb3B0aW9uYWwgYW5kIGlzIHRydWUgYnkgZGVmYXVsdFxuICAgKi9cbiAgZnVuY3Rpb24gQmxvY2tOb2RlKGJsb2Nrcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBCbG9ja05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXQsIGNvcHkgYmxvY2tzXG5cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShibG9ja3MpKSB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgdGhpcy5ibG9ja3MgPSBibG9ja3MubWFwKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgdmFyIG5vZGUgPSBibG9jayAmJiBibG9jay5ub2RlO1xuICAgICAgdmFyIHZpc2libGUgPSBibG9jayAmJiBibG9jay52aXNpYmxlICE9PSB1bmRlZmluZWQgPyBibG9jay52aXNpYmxlIDogdHJ1ZTtcbiAgICAgIGlmICghaXNOb2RlKG5vZGUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9wZXJ0eSBcIm5vZGVcIiBtdXN0IGJlIGEgTm9kZScpO1xuICAgICAgaWYgKHR5cGVvZiB2aXNpYmxlICE9PSAnYm9vbGVhbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3BlcnR5IFwidmlzaWJsZVwiIG11c3QgYmUgYSBib29sZWFuJyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudHlwZSA9ICdCbG9ja05vZGUnO1xuICBCbG9ja05vZGUucHJvdG90eXBlLmlzQmxvY2tOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsQmxvY2tzID0gbWFwKHRoaXMuYmxvY2tzLCBmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV2YWx1YXRlOiBibG9jay5ub2RlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEJsb2NrTm9kZXMoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICBmb3JFYWNoKGV2YWxCbG9ja3MsIGZ1bmN0aW9uIGV2YWxCbG9ja05vZGUoYmxvY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJsb2NrLmV2YWx1YXRlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAoYmxvY2sudmlzaWJsZSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0U2V0KHJlc3VsdHMpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIGJsb2NrcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYmxvY2tzW2ldLm5vZGUsICdibG9ja3NbJyArIGkgKyAnXS5ub2RlJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJsb2NrTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QmxvY2tOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGJsb2NrcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGJsb2NrID0gdGhpcy5ibG9ja3NbaV07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKGJsb2NrLm5vZGUsICdibG9ja3NbJyArIGkgKyAnXS5ub2RlJywgdGhpcykpO1xuXG4gICAgICBibG9ja3NbaV0gPSB7XG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QmxvY2tOb2RlfVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGU6IGJsb2NrLm5vZGUsXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b1N0cmluZyhvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnOycpO1xuICAgIH0pLmpvaW4oJ1xcbicpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdCbG9ja05vZGUnLFxuICAgICAgYmxvY2tzOiB0aGlzLmJsb2Nrc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBCbG9ja05vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJsb2NrTm9kZVwiLCBibG9ja3M6IFt7bm9kZTogLi4uLCB2aXNpYmxlOiBmYWxzZX0sIC4uLl19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QmxvY2tOb2RlfVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoanNvbi5ibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b0hUTUwob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj47PC9zcGFuPicpO1xuICAgIH0pLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj48YnIgLz48L3NwYW4+Jyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvVGV4KG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc7Jyk7XG4gICAgfSkuam9pbignXFxcXDtcXFxcO1xcbicpO1xuICB9O1xuXG4gIHJldHVybiBCbG9ja05vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzQ29tcGxleCwgaXNOb2RlLCBpc1VuaXQsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnQ29uZGl0aW9uYWxOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uZGl0aW9uYWxOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBsYXp5IGV2YWx1YXRpbmcgY29uZGl0aW9uYWwgb3BlcmF0b3I6ICdjb25kaXRpb24gPyB0cnVlRXhwciA6IGZhbHNlRXhwcidcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjb25kaXRpb24gICBDb25kaXRpb24sIG11c3QgcmVzdWx0IGluIGEgYm9vbGVhblxuICAgKiBAcGFyYW0ge05vZGV9IHRydWVFeHByICAgIEV4cHJlc3Npb24gZXZhbHVhdGVkIHdoZW4gY29uZGl0aW9uIGlzIHRydWVcbiAgICogQHBhcmFtIHtOb2RlfSBmYWxzZUV4cHIgICBFeHByZXNzaW9uIGV2YWx1YXRlZCB3aGVuIGNvbmRpdGlvbiBpcyB0cnVlXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvciBDb25kaXRpb25hbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBDb25kaXRpb25hbE5vZGUoY29uZGl0aW9uLCB0cnVlRXhwciwgZmFsc2VFeHByKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbmRpdGlvbmFsTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUoY29uZGl0aW9uKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGNvbmRpdGlvbiBtdXN0IGJlIGEgTm9kZScpO1xuICAgIGlmICghaXNOb2RlKHRydWVFeHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHRydWVFeHByIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgaWYgKCFpc05vZGUoZmFsc2VFeHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGZhbHNlRXhwciBtdXN0IGJlIGEgTm9kZScpO1xuICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgIHRoaXMudHJ1ZUV4cHIgPSB0cnVlRXhwcjtcbiAgICB0aGlzLmZhbHNlRXhwciA9IGZhbHNlRXhwcjtcbiAgfVxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQ29uZGl0aW9uYWxOb2RlJztcbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5pc0NvbmRpdGlvbmFsTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbENvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsVHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsRmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxDb25kaXRpb25hbE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0ZXN0Q29uZGl0aW9uKGV2YWxDb25kaXRpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpKSA/IGV2YWxUcnVlRXhwcihzY29wZSwgYXJncywgY29udGV4dCkgOiBldmFsRmFsc2VFeHByKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuY29uZGl0aW9uLCAnY29uZGl0aW9uJywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy50cnVlRXhwciwgJ3RydWVFeHByJywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5mYWxzZUV4cHIsICdmYWxzZUV4cHInLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBDb25kaXRpb25hbE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0NvbmRpdGlvbmFsTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmNvbmRpdGlvbiwgJ2NvbmRpdGlvbicsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMudHJ1ZUV4cHIsICd0cnVlRXhwcicsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZmFsc2VFeHByLCAnZmFsc2VFeHByJywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7Q29uZGl0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUodGhpcy5jb25kaXRpb24sIHRoaXMudHJ1ZUV4cHIsIHRoaXMuZmFsc2VFeHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpOyAvLyBFbmNsb3NlIEFyZ3VtZW50cyBpbiBwYXJlbnRoZXNlcyBpZiB0aGV5IGFyZSBhbiBPcGVyYXRvck5vZGVcbiAgICAvLyBvciBoYXZlIGxvd2VyIG9yIGVxdWFsIHByZWNlZGVuY2VcbiAgICAvLyBOT1RFOiBlbmNsb3NpbmcgYWxsIE9wZXJhdG9yTm9kZXMgaW4gcGFyZW50aGVzZXMgaXMgYSBkZWNpc2lvblxuICAgIC8vIHB1cmVseSBiYXNlZCBvbiBhZXN0aGV0aWNzIGFuZCByZWFkYWJpbGl0eVxuXG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBjb25kaXRpb25QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmNvbmRpdGlvbiwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmNvbmRpdGlvbi50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBjb25kaXRpb25QcmVjZWRlbmNlICE9PSBudWxsICYmIGNvbmRpdGlvblByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgY29uZGl0aW9uID0gJygnICsgY29uZGl0aW9uICsgJyknO1xuICAgIH1cblxuICAgIHZhciB0cnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIHRydWVQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLnRydWVFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMudHJ1ZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgdHJ1ZVByZWNlZGVuY2UgIT09IG51bGwgJiYgdHJ1ZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgdHJ1ZUV4cHIgPSAnKCcgKyB0cnVlRXhwciArICcpJztcbiAgICB9XG5cbiAgICB2YXIgZmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGZhbHNlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5mYWxzZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5mYWxzZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgZmFsc2VQcmVjZWRlbmNlICE9PSBudWxsICYmIGZhbHNlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBmYWxzZUV4cHIgPSAnKCcgKyBmYWxzZUV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbiArICcgPyAnICsgdHJ1ZUV4cHIgKyAnIDogJyArIGZhbHNlRXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29uZGl0aW9uYWxOb2RlJyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgICB0cnVlRXhwcjogdGhpcy50cnVlRXhwcixcbiAgICAgIGZhbHNlRXhwcjogdGhpcy5mYWxzZUV4cHJcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQ29uZGl0aW9uYWxOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJDb25kaXRpb25hbE5vZGVcIiwgXCJjb25kaXRpb25cIjogLi4uLCBcInRydWVFeHByXCI6IC4uLiwgXCJmYWxzZUV4cHJcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0NvbmRpdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKGpzb24uY29uZGl0aW9uLCBqc29uLnRydWVFeHByLCBqc29uLmZhbHNlRXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIEVuY2xvc2UgQXJndW1lbnRzIGluIHBhcmVudGhlc2VzIGlmIHRoZXkgYXJlIGFuIE9wZXJhdG9yTm9kZVxuICAgIC8vIG9yIGhhdmUgbG93ZXIgb3IgZXF1YWwgcHJlY2VkZW5jZVxuICAgIC8vIE5PVEU6IGVuY2xvc2luZyBhbGwgT3BlcmF0b3JOb2RlcyBpbiBwYXJlbnRoZXNlcyBpcyBhIGRlY2lzaW9uXG4gICAgLy8gcHVyZWx5IGJhc2VkIG9uIGFlc3RoZXRpY3MgYW5kIHJlYWRhYmlsaXR5XG5cbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24udG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBjb25kaXRpb25QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmNvbmRpdGlvbiwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmNvbmRpdGlvbi50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBjb25kaXRpb25QcmVjZWRlbmNlICE9PSBudWxsICYmIGNvbmRpdGlvblByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgY29uZGl0aW9uID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgY29uZGl0aW9uICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHZhciB0cnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciB0cnVlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy50cnVlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLnRydWVFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IHRydWVQcmVjZWRlbmNlICE9PSBudWxsICYmIHRydWVQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIHRydWVFeHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdHJ1ZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgdmFyIGZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgZmFsc2VQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmZhbHNlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmZhbHNlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBmYWxzZVByZWNlZGVuY2UgIT09IG51bGwgJiYgZmFsc2VQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGZhbHNlRXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGZhbHNlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZGl0aW9uICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWNvbmRpdGlvbmFsLW9wZXJhdG9yXCI+Pzwvc3Bhbj4nICsgdHJ1ZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtY29uZGl0aW9uYWwtb3BlcmF0b3JcIj46PC9zcGFuPicgKyBmYWxzZUV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuICdcXFxcYmVnaW57Y2FzZXN9IHsnICsgdGhpcy50cnVlRXhwci50b1RleChvcHRpb25zKSArICd9LCAmXFxcXHF1YWR7XFxcXHRleHR7aWYgfVxcXFw7JyArIHRoaXMuY29uZGl0aW9uLnRvVGV4KG9wdGlvbnMpICsgJ31cXFxcXFxcXHsnICsgdGhpcy5mYWxzZUV4cHIudG9UZXgob3B0aW9ucykgKyAnfSwgJlxcXFxxdWFke1xcXFx0ZXh0e290aGVyd2lzZX19XFxcXGVuZHtjYXNlc30nO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgY29uZGl0aW9uIGlzIG1ldFxuICAgKiBAcGFyYW0geyp9IGNvbmRpdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBjb25kaXRpb24gaXMgdHJ1ZSBvciBub24temVybywgZWxzZSBmYWxzZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHRlc3RDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09ICdudW1iZXInIHx8IHR5cGVvZiBjb25kaXRpb24gPT09ICdib29sZWFuJyB8fCB0eXBlb2YgY29uZGl0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuICEhY29uZGl0aW9uO1xuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhY29uZGl0aW9uLmlzWmVybygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21wbGV4KGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICEhKGNvbmRpdGlvbi5yZSB8fCBjb25kaXRpb24uaW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNVbml0KGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICEhY29uZGl0aW9uLnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24gPT09IG51bGwgfHwgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIG9mIGNvbmRpdGlvbiBcIicgKyB0eXBlT2YoY29uZGl0aW9uKSArICdcIicpO1xuICB9XG5cbiAgcmV0dXJuIENvbmRpdGlvbmFsTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gTWFwIHRoZSBjaGFyYWN0ZXJzIHRvIGVzY2FwZSB0byB0aGVpciBlc2NhcGVkIHZhbHVlcy4gVGhlIGxpc3QgaXMgZGVyaXZlZFxuLy8gZnJvbSBodHRwOi8vd3d3LmNlc3BlZGVzLm9yZy9ibG9nLzg1L2hvdy10by1lc2NhcGUtbGF0ZXgtc3BlY2lhbC1jaGFyYWN0ZXJzXG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBkZWZhdWx0RXNjYXBlcyA9IHtcbiAgXCJ7XCI6IFwiXFxcXHtcIixcbiAgXCJ9XCI6IFwiXFxcXH1cIixcbiAgXCJcXFxcXCI6IFwiXFxcXHRleHRiYWNrc2xhc2h7fVwiLFxuICBcIiNcIjogXCJcXFxcI1wiLFxuICAkOiBcIlxcXFwkXCIsXG4gIFwiJVwiOiBcIlxcXFwlXCIsXG4gIFwiJlwiOiBcIlxcXFwmXCIsXG4gIFwiXlwiOiBcIlxcXFx0ZXh0YXNjaWljaXJjdW17fVwiLFxuICBfOiBcIlxcXFxfXCIsXG4gIFwiflwiOiBcIlxcXFx0ZXh0YXNjaWl0aWxkZXt9XCJcbn07XG52YXIgZm9ybWF0RXNjYXBlcyA9IHtcbiAgXCJcXHUyMDEzXCI6IFwiXFxcXC0tXCIsXG4gIFwiXFx1MjAxNFwiOiBcIlxcXFwtLS1cIixcbiAgXCIgXCI6IFwiflwiLFxuICBcIlxcdFwiOiBcIlxcXFxxcXVhZHt9XCIsXG4gIFwiXFxyXFxuXCI6IFwiXFxcXG5ld2xpbmV7fVwiLFxuICBcIlxcblwiOiBcIlxcXFxuZXdsaW5le31cIlxufTtcblxudmFyIGRlZmF1bHRFc2NhcGVNYXBGbiA9IGZ1bmN0aW9uIGRlZmF1bHRFc2NhcGVNYXBGbihkZWZhdWx0RXNjYXBlcywgZm9ybWF0RXNjYXBlcykge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRFc2NhcGVzLCBmb3JtYXRFc2NhcGVzKTtcbn07XG5cbi8qKlxuICogRXNjYXBlIGEgc3RyaW5nIHRvIGJlIHVzZWQgaW4gTGFUZVggZG9jdW1lbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgc3RyaW5nIHRvIGJlIGVzY2FwZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5wcmVzZXJ2ZUZvcm1hdHRpbmcgd2hldGhlciBmb3JtYXR0aW5nIGVzY2FwZXMgc2hvdWxkXG4gKiAgYmUgcGVyZm9ybWVkIChkZWZhdWx0OiBmYWxzZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXJhbXMuZXNjYXBlTWFwRm4gdGhlIGZ1bmN0aW9uIHRvIG1vZGlmeSB0aGUgZXNjYXBlIG1hcHMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIHN0cmluZywgcmVhZHkgdG8gYmUgdXNlZCBpbiBMYVRlWC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgIF9yZWYkcHJlc2VydmVGb3JtYXR0aSA9IF9yZWYucHJlc2VydmVGb3JtYXR0aW5nLFxuICAgICAgcHJlc2VydmVGb3JtYXR0aW5nID0gX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkcHJlc2VydmVGb3JtYXR0aSxcbiAgICAgIF9yZWYkZXNjYXBlTWFwRm4gPSBfcmVmLmVzY2FwZU1hcEZuLFxuICAgICAgZXNjYXBlTWFwRm4gPSBfcmVmJGVzY2FwZU1hcEZuID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RXNjYXBlTWFwRm4gOiBfcmVmJGVzY2FwZU1hcEZuO1xuXG4gIHZhciBydW5uaW5nU3RyID0gU3RyaW5nKHN0cik7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gIHZhciBlc2NhcGVzID0gZXNjYXBlTWFwRm4oX2V4dGVuZHMoe30sIGRlZmF1bHRFc2NhcGVzKSwgcHJlc2VydmVGb3JtYXR0aW5nID8gX2V4dGVuZHMoe30sIGZvcm1hdEVzY2FwZXMpIDoge30pO1xuICB2YXIgZXNjYXBlS2V5cyA9IE9iamVjdC5rZXlzKGVzY2FwZXMpOyAvLyBhcyBpdCBpcyByZXVzZWQgbGF0ZXIgb25cblxuICAvLyBBbGdvcml0aG06IEdvIHRocm91Z2ggdGhlIHN0cmluZyBjaGFyYWN0ZXIgYnkgY2hhcmFjdGVyLCBpZiBpdCBtYXRjaGVzXG4gIC8vIHdpdGggb25lIG9mIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhlbiB3ZSdsbCByZXBsYWNlIGl0IHdpdGggdGhlIGVzY2FwZWRcbiAgLy8gdmVyc2lvbi5cblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICB2YXIgc3BlY2lhbENoYXJGb3VuZCA9IGZhbHNlO1xuICAgIGVzY2FwZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgaWYgKHNwZWNpYWxDaGFyRm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJ1bm5pbmdTdHIubGVuZ3RoID49IGtleS5sZW5ndGggJiYgcnVubmluZ1N0ci5zbGljZSgwLCBrZXkubGVuZ3RoKSA9PT0ga2V5KSB7XG4gICAgICAgIHJlc3VsdCArPSBlc2NhcGVzW2VzY2FwZUtleXNbaW5kZXhdXTtcbiAgICAgICAgcnVubmluZ1N0ciA9IHJ1bm5pbmdTdHIuc2xpY2Uoa2V5Lmxlbmd0aCwgcnVubmluZ1N0ci5sZW5ndGgpO1xuICAgICAgICBzcGVjaWFsQ2hhckZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXNwZWNpYWxDaGFyRm91bmQpIHtcbiAgICAgIHJlc3VsdCArPSBydW5uaW5nU3RyLnNsaWNlKDAsIDEpO1xuICAgICAgcnVubmluZ1N0ciA9IHJ1bm5pbmdTdHIuc2xpY2UoMSwgcnVubmluZ1N0ci5sZW5ndGgpO1xuICAgIH1cbiAgfTtcblxuICB3aGlsZSAocnVubmluZ1N0cikge1xuICAgIF9sb29wKCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiLyogZXNsaW50IG5vLXRlbXBsYXRlLWN1cmx5LWluLXN0cmluZzogXCJvZmZcIiAqL1xuaW1wb3J0IGVzY2FwZUxhdGV4TGliIGZyb20gJ2VzY2FwZS1sYXRleCc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4vb2JqZWN0LmpzJztcbmV4cG9ydCB2YXIgbGF0ZXhTeW1ib2xzID0ge1xuICAvLyBHUkVFSyBMRVRURVJTXG4gIEFscGhhOiAnQScsXG4gIGFscGhhOiAnXFxcXGFscGhhJyxcbiAgQmV0YTogJ0InLFxuICBiZXRhOiAnXFxcXGJldGEnLFxuICBHYW1tYTogJ1xcXFxHYW1tYScsXG4gIGdhbW1hOiAnXFxcXGdhbW1hJyxcbiAgRGVsdGE6ICdcXFxcRGVsdGEnLFxuICBkZWx0YTogJ1xcXFxkZWx0YScsXG4gIEVwc2lsb246ICdFJyxcbiAgZXBzaWxvbjogJ1xcXFxlcHNpbG9uJyxcbiAgdmFyZXBzaWxvbjogJ1xcXFx2YXJlcHNpbG9uJyxcbiAgWmV0YTogJ1onLFxuICB6ZXRhOiAnXFxcXHpldGEnLFxuICBFdGE6ICdIJyxcbiAgZXRhOiAnXFxcXGV0YScsXG4gIFRoZXRhOiAnXFxcXFRoZXRhJyxcbiAgdGhldGE6ICdcXFxcdGhldGEnLFxuICB2YXJ0aGV0YTogJ1xcXFx2YXJ0aGV0YScsXG4gIElvdGE6ICdJJyxcbiAgaW90YTogJ1xcXFxpb3RhJyxcbiAgS2FwcGE6ICdLJyxcbiAga2FwcGE6ICdcXFxca2FwcGEnLFxuICB2YXJrYXBwYTogJ1xcXFx2YXJrYXBwYScsXG4gIExhbWJkYTogJ1xcXFxMYW1iZGEnLFxuICBsYW1iZGE6ICdcXFxcbGFtYmRhJyxcbiAgTXU6ICdNJyxcbiAgbXU6ICdcXFxcbXUnLFxuICBOdTogJ04nLFxuICBudTogJ1xcXFxudScsXG4gIFhpOiAnXFxcXFhpJyxcbiAgeGk6ICdcXFxceGknLFxuICBPbWljcm9uOiAnTycsXG4gIG9taWNyb246ICdvJyxcbiAgUGk6ICdcXFxcUGknLFxuICBwaTogJ1xcXFxwaScsXG4gIHZhcnBpOiAnXFxcXHZhcnBpJyxcbiAgUmhvOiAnUCcsXG4gIHJobzogJ1xcXFxyaG8nLFxuICB2YXJyaG86ICdcXFxcdmFycmhvJyxcbiAgU2lnbWE6ICdcXFxcU2lnbWEnLFxuICBzaWdtYTogJ1xcXFxzaWdtYScsXG4gIHZhcnNpZ21hOiAnXFxcXHZhcnNpZ21hJyxcbiAgVGF1OiAnVCcsXG4gIHRhdTogJ1xcXFx0YXUnLFxuICBVcHNpbG9uOiAnXFxcXFVwc2lsb24nLFxuICB1cHNpbG9uOiAnXFxcXHVwc2lsb24nLFxuICBQaGk6ICdcXFxcUGhpJyxcbiAgcGhpOiAnXFxcXHBoaScsXG4gIHZhcnBoaTogJ1xcXFx2YXJwaGknLFxuICBDaGk6ICdYJyxcbiAgY2hpOiAnXFxcXGNoaScsXG4gIFBzaTogJ1xcXFxQc2knLFxuICBwc2k6ICdcXFxccHNpJyxcbiAgT21lZ2E6ICdcXFxcT21lZ2EnLFxuICBvbWVnYTogJ1xcXFxvbWVnYScsXG4gIC8vIGxvZ2ljXG4gIHRydWU6ICdcXFxcbWF0aHJte1RydWV9JyxcbiAgZmFsc2U6ICdcXFxcbWF0aHJte0ZhbHNlfScsXG4gIC8vIG90aGVyXG4gIGk6ICdpJyxcbiAgLy8gVE9ETyB1c2UgXFxpID8/XG4gIGluZjogJ1xcXFxpbmZ0eScsXG4gIEluZjogJ1xcXFxpbmZ0eScsXG4gIGluZmluaXR5OiAnXFxcXGluZnR5JyxcbiAgSW5maW5pdHk6ICdcXFxcaW5mdHknLFxuICBvbzogJ1xcXFxpbmZ0eScsXG4gIGxpbTogJ1xcXFxsaW0nLFxuICB1bmRlZmluZWQ6ICdcXFxcbWF0aGJmez99J1xufTtcbmV4cG9ydCB2YXIgbGF0ZXhPcGVyYXRvcnMgPSB7XG4gIHRyYW5zcG9zZTogJ15cXFxcdG9wJyxcbiAgY3RyYW5zcG9zZTogJ15IJyxcbiAgZmFjdG9yaWFsOiAnIScsXG4gIHBvdzogJ14nLFxuICBkb3RQb3c6ICcuXlxcXFx3ZWRnZScsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICB1bmFyeVBsdXM6ICcrJyxcbiAgdW5hcnlNaW51czogJy0nLFxuICBiaXROb3Q6ICdcXFxcficsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBub3Q6ICdcXFxcbmVnJyxcbiAgbXVsdGlwbHk6ICdcXFxcY2RvdCcsXG4gIGRpdmlkZTogJ1xcXFxmcmFjJyxcbiAgLy8gVE9ETyBob3cgdG8gaGFuZGxlIHRoYXQgcHJvcGVybHk/XG4gIGRvdE11bHRpcGx5OiAnLlxcXFxjZG90JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIGRvdERpdmlkZTogJy46JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIG1vZDogJ1xcXFxtb2QnLFxuICBhZGQ6ICcrJyxcbiAgc3VidHJhY3Q6ICctJyxcbiAgdG86ICdcXFxccmlnaHRhcnJvdycsXG4gIGxlZnRTaGlmdDogJzw8JyxcbiAgcmlnaHRBcml0aFNoaWZ0OiAnPj4nLFxuICByaWdodExvZ1NoaWZ0OiAnPj4+JyxcbiAgZXF1YWw6ICc9JyxcbiAgdW5lcXVhbDogJ1xcXFxuZXEnLFxuICBzbWFsbGVyOiAnPCcsXG4gIGxhcmdlcjogJz4nLFxuICBzbWFsbGVyRXE6ICdcXFxcbGVxJyxcbiAgbGFyZ2VyRXE6ICdcXFxcZ2VxJyxcbiAgYml0QW5kOiAnXFxcXCYnLFxuICBiaXRYb3I6ICdcXFxcdW5kZXJsaW5le3x9JyxcbiAgYml0T3I6ICd8JyxcbiAgYW5kOiAnXFxcXHdlZGdlJyxcbiAgeG9yOiAnXFxcXHZlZWJhcicsXG4gIG9yOiAnXFxcXHZlZSdcbn07XG5leHBvcnQgdmFyIGxhdGV4RnVuY3Rpb25zID0ge1xuICAvLyBhcml0aG1ldGljXG4gIGFiczoge1xuICAgIDE6ICdcXFxcbGVmdHwke2FyZ3NbMF19XFxcXHJpZ2h0fCdcbiAgfSxcbiAgYWRkOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmFkZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBjYnJ0OiB7XG4gICAgMTogJ1xcXFxzcXJ0WzNdeyR7YXJnc1swXX19J1xuICB9LFxuICBjZWlsOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxjZWlsJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyY2VpbCdcbiAgfSxcbiAgY3ViZToge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4zJ1xuICB9LFxuICBkaXZpZGU6IHtcbiAgICAyOiAnXFxcXGZyYWN7JHthcmdzWzBdfX17JHthcmdzWzFdfX0nXG4gIH0sXG4gIGRvdERpdmlkZToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3REaXZpZGUsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZG90TXVsdGlwbHk6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90TXVsdGlwbHksIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZG90UG93OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdFBvdywgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBleHA6IHtcbiAgICAxOiAnXFxcXGV4cFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBleHBtMTogXCJcXFxcbGVmdChlXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7JHthcmdzWzBdfX0tMVxcXFxyaWdodClcIiksXG4gIGZpeDoge1xuICAgIDE6ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGZsb29yOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxmbG9vciR7YXJnc1swXX1cXFxccmlnaHRcXFxccmZsb29yJ1xuICB9LFxuICBnY2Q6ICdcXFxcZ2NkXFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBoeXBvdDogJ1xcXFxoeXBvdFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgbG9nOiB7XG4gICAgMTogJ1xcXFxsblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxvZ197JHthcmdzWzFdfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMTA6IHtcbiAgICAxOiAnXFxcXGxvZ197MTB9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzFwOiB7XG4gICAgMTogJ1xcXFxsblxcXFxsZWZ0KCR7YXJnc1swXX0rMVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbG9nX3ske2FyZ3NbMV19fVxcXFxsZWZ0KCR7YXJnc1swXX0rMVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzI6ICdcXFxcbG9nX3syfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgbW9kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm1vZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBtdWx0aXBseToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5tdWx0aXBseSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBub3JtOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXHwke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHwnLFxuICAgIDI6IHVuZGVmaW5lZCAvLyB1c2UgZGVmYXVsdCB0ZW1wbGF0ZVxuXG4gIH0sXG4gIG50aFJvb3Q6IHtcbiAgICAyOiAnXFxcXHNxcnRbJHthcmdzWzFdfV17JHthcmdzWzBdfX0nXG4gIH0sXG4gIG50aFJvb3RzOiB7XG4gICAgMjogJ1xcXFx7eSA6ICR5XnthcmdzWzFdfSA9IHske2FyZ3NbMF19fVxcXFx9J1xuICB9LFxuICBwb3c6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7JHthcmdzWzFdfX1cIilcbiAgfSxcbiAgcm91bmQ6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGZsb29yJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyY2VpbCcsXG4gICAgMjogdW5kZWZpbmVkIC8vIHVzZSBkZWZhdWx0IHRlbXBsYXRlXG5cbiAgfSxcbiAgc2lnbjoge1xuICAgIDE6ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNxcnQ6IHtcbiAgICAxOiAnXFxcXHNxcnR7JHthcmdzWzBdfX0nXG4gIH0sXG4gIHNxdWFyZToge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4yJ1xuICB9LFxuICBzdWJ0cmFjdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zdWJ0cmFjdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmFyeU1pbnVzOiB7XG4gICAgMTogXCJcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5hcnlNaW51cywgXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmFyeVBsdXM6IHtcbiAgICAxOiBcIlwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmFyeVBsdXMsIFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gYml0d2lzZVxuICBiaXRBbmQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0QW5kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGJpdE5vdDoge1xuICAgIDE6IGxhdGV4T3BlcmF0b3JzLmJpdE5vdCArICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYml0T3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0T3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgYml0WG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdFhvciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsZWZ0U2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGVmdFNoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHJpZ2h0QXJpdGhTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5yaWdodEFyaXRoU2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgcmlnaHRMb2dTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5yaWdodExvZ1NoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIGNvbWJpbmF0b3JpY3NcbiAgYmVsbE51bWJlcnM6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtCfV97JHthcmdzWzBdfX0nXG4gIH0sXG4gIGNhdGFsYW46IHtcbiAgICAxOiAnXFxcXG1hdGhybXtDfV97JHthcmdzWzBdfX0nXG4gIH0sXG4gIHN0aXJsaW5nUzI6IHtcbiAgICAyOiAnXFxcXG1hdGhybXtTfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJ1xuICB9LFxuICAvLyBjb21wbGV4XG4gIGFyZzoge1xuICAgIDE6ICdcXFxcYXJnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvbmo6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleKidcbiAgfSxcbiAgaW06IHtcbiAgICAxOiAnXFxcXEltXFxcXGxlZnRcXFxcbGJyYWNlJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyYnJhY2UnXG4gIH0sXG4gIHJlOiB7XG4gICAgMTogJ1xcXFxSZVxcXFxsZWZ0XFxcXGxicmFjZSR7YXJnc1swXX1cXFxccmlnaHRcXFxccmJyYWNlJ1xuICB9LFxuICAvLyBsb2dpY2FsXG4gIGFuZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5hbmQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbm90OiB7XG4gICAgMTogbGF0ZXhPcGVyYXRvcnMubm90ICsgJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5vciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB4b3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMueG9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIG1hdHJpeFxuICBjcm9zczoge1xuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVxcXFx0aW1lc1xcXFxsZWZ0KCR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjdHJhbnNwb3NlOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5jdHJhbnNwb3NlKVxuICB9LFxuICBkZXQ6IHtcbiAgICAxOiAnXFxcXGRldFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBkb3Q6IHtcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxjZG90JHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIGV4cG06IHtcbiAgICAxOiAnXFxcXGV4cFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBpbnY6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleey0xfSdcbiAgfSxcbiAgc3FydG06IHtcbiAgICAxOiBcInske2FyZ3NbMF19fVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwie1xcXFxmcmFjezF9ezJ9fVwiKVxuICB9LFxuICB0cmFjZToge1xuICAgIDE6ICdcXFxcbWF0aHJte3RyfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0cmFuc3Bvc2U6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnRyYW5zcG9zZSlcbiAgfSxcbiAgLy8gcHJvYmFiaWxpdHlcbiAgY29tYmluYXRpb25zOiB7XG4gICAgMjogJ1xcXFxiaW5vbXske2FyZ3NbMF19fXske2FyZ3NbMV19fSdcbiAgfSxcbiAgY29tYmluYXRpb25zV2l0aFJlcDoge1xuICAgIDI6ICdcXFxcbGVmdChcXFxcIVxcXFwhe1xcXFxiaW5vbXske2FyZ3NbMF19fXske2FyZ3NbMV19fX1cXFxcIVxcXFwhXFxcXHJpZ2h0KSdcbiAgfSxcbiAgZmFjdG9yaWFsOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5mYWN0b3JpYWwpXG4gIH0sXG4gIGdhbW1hOiB7XG4gICAgMTogJ1xcXFxHYW1tYVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyByZWxhdGlvbmFsXG4gIGVxdWFsOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmVxdWFsLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxhcmdlcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sYXJnZXIsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGFyZ2VyRXE6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGFyZ2VyRXEsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgc21hbGxlcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zbWFsbGVyLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHNtYWxsZXJFcToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5zbWFsbGVyRXEsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5lcXVhbDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmVxdWFsLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIHNwZWNpYWxcbiAgZXJmOiB7XG4gICAgMTogJ2VyZlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyBzdGF0aXN0aWNzXG4gIG1heDogJ1xcXFxtYXhcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIG1pbjogJ1xcXFxtaW5cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIHZhcmlhbmNlOiAnXFxcXG1hdGhybXtWYXJ9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICAvLyB0cmlnb25vbWV0cnlcbiAgYWNvczoge1xuICAgIDE6ICdcXFxcY29zXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvc2g6IHtcbiAgICAxOiAnXFxcXGNvc2heey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY290OiB7XG4gICAgMTogJ1xcXFxjb3Reey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY290aDoge1xuICAgIDE6ICdcXFxcY290aF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjc2M6IHtcbiAgICAxOiAnXFxcXGNzY157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjc2NoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Y3NjaH1eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2VjOiB7XG4gICAgMTogJ1xcXFxzZWNeey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2VjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte3NlY2h9XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNpbjoge1xuICAgIDE6ICdcXFxcc2luXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNpbmg6IHtcbiAgICAxOiAnXFxcXHNpbmheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuOiB7XG4gICAgMTogJ1xcXFx0YW5eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuMjoge1xuICAgIDI6ICdcXFxcbWF0aHJte2F0YW4yfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJ1xuICB9LFxuICBhdGFuaDoge1xuICAgIDE6ICdcXFxcdGFuaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvczoge1xuICAgIDE6ICdcXFxcY29zXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvc2g6IHtcbiAgICAxOiAnXFxcXGNvc2hcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY290OiB7XG4gICAgMTogJ1xcXFxjb3RcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY290aDoge1xuICAgIDE6ICdcXFxcY290aFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjc2M6IHtcbiAgICAxOiAnXFxcXGNzY1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjc2NoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Y3NjaH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2VjOiB7XG4gICAgMTogJ1xcXFxzZWNcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2VjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte3NlY2h9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNpbjoge1xuICAgIDE6ICdcXFxcc2luXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNpbmg6IHtcbiAgICAxOiAnXFxcXHNpbmhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdGFuOiB7XG4gICAgMTogJ1xcXFx0YW5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdGFuaDoge1xuICAgIDE6ICdcXFxcdGFuaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICAvLyB1bml0XG4gIHRvOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnRvLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIHV0aWxzXG4gIG51bWVyaWM6IGZ1bmN0aW9uIG51bWVyaWMobm9kZSwgb3B0aW9ucykge1xuICAgIC8vIE5vdCBzdXJlIGlmIHRoaXMgaXMgc3RyaWN0bHkgcmlnaHQgYnV0IHNob3VsZCB3b3JrIGNvcnJlY3RseSBmb3IgdGhlIHZhc3QgbWFqb3JpdHkgb2YgdXNlIGNhc2VzLlxuICAgIHJldHVybiBub2RlLmFyZ3NbMF0udG9UZXgoKTtcbiAgfSxcbiAgLy8gdHlwZVxuICBudW1iZXI6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3RyaW5nOiB7XG4gICAgMDogJ1xcXFxtYXRodHR7XCJcIn0nLFxuICAgIDE6ICdcXFxcbWF0aHJte3N0cmluZ31cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYmlnbnVtYmVyOiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29tcGxleDoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6IFwiXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkrXCIuY29uY2F0KGxhdGV4U3ltYm9scy5pLCBcIlxcXFxjZG90XFxcXGxlZnQoJHthcmdzWzFdfVxcXFxyaWdodClcXFxccmlnaHQpXCIpXG4gIH0sXG4gIG1hdHJpeDoge1xuICAgIDA6ICdcXFxcYmVnaW57Ym1hdHJpeH1cXFxcZW5ke2JtYXRyaXh9JyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3BhcnNlOiB7XG4gICAgMDogJ1xcXFxiZWdpbntic3BhcnNlfVxcXFxlbmR7YnNwYXJzZX0nLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdW5pdDoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH1cbn07XG5leHBvcnQgdmFyIGRlZmF1bHRUZW1wbGF0ZSA9ICdcXFxcbWF0aHJteyR7bmFtZX19XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknO1xudmFyIGxhdGV4VW5pdHMgPSB7XG4gIGRlZzogJ15cXFxcY2lyYydcbn07XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlTGF0ZXgoc3RyaW5nKSB7XG4gIHJldHVybiBlc2NhcGVMYXRleExpYihzdHJpbmcsIHtcbiAgICBwcmVzZXJ2ZUZvcm1hdHRpbmc6IHRydWVcbiAgfSk7XG59IC8vIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4vLyBAcGFyYW0ge2Jvb2xlYW59IGlzVW5pdFxuXG5leHBvcnQgZnVuY3Rpb24gdG9TeW1ib2wobmFtZSwgaXNVbml0KSB7XG4gIGlzVW5pdCA9IHR5cGVvZiBpc1VuaXQgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiBpc1VuaXQ7XG5cbiAgaWYgKGlzVW5pdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShsYXRleFVuaXRzLCBuYW1lKSkge1xuICAgICAgcmV0dXJuIGxhdGV4VW5pdHNbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyBlc2NhcGVMYXRleChuYW1lKSArICd9JztcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShsYXRleFN5bWJvbHMsIG5hbWUpKSB7XG4gICAgcmV0dXJuIGxhdGV4U3ltYm9sc1tuYW1lXTtcbiAgfVxuXG4gIHJldHVybiBlc2NhcGVMYXRleChuYW1lKTtcbn0iLCJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlTGF0ZXggfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdDb25zdGFudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25zdGFudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIENvbnN0YW50Tm9kZSBob2xkcyBhIGNvbnN0YW50IHZhbHVlIGxpa2UgYSBudW1iZXIgb3Igc3RyaW5nLlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICpcbiAgICogICAgIG5ldyBDb25zdGFudE5vZGUoMi4zKVxuICAgKiAgICAgbmV3IENvbnN0YW50Tm9kZSgnaGVsbG8nKVxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlICAgIFZhbHVlIGNhbiBiZSBhbnkgdHlwZSAobnVtYmVyLCBCaWdOdW1iZXIsIHN0cmluZywgLi4uKVxuICAgKiBAY29uc3RydWN0b3IgQ29uc3RhbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29uc3RhbnROb2RlKHZhbHVlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbnN0YW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdDb25zdGFudE5vZGUnO1xuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmlzQ29uc3RhbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxDb25zdGFudE5vZGUoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsvLyBub3RoaW5nIHRvIGRvLCB3ZSBkb24ndCBoYXZlIGNoaWxkc1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IENvbnN0YW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0NvbnN0YW50Tm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtDb25zdGFudE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZSh0aGlzLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLnZhbHVlLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgc3dpdGNoICh0eXBlT2YodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdCaWdOdW1iZXInOlxuICAgICAgY2FzZSAnRnJhY3Rpb24nOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1udW1iZXJcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN0cmluZ1wiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWJvb2xlYW5cIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1udWxsLXN5bWJvbFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtdW5kZWZpbmVkXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2xcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdDb25zdGFudE5vZGUnLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBDb25zdGFudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlN5bWJvbE5vZGVcIiwgdmFsdWU6IDIuM31gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtDb25zdGFudE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZShqc29uLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcblxuICAgIHN3aXRjaCAodHlwZU9mKHRoaXMudmFsdWUpKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gJ1xcXFxtYXRodHR7JyArIGVzY2FwZUxhdGV4KHZhbHVlKSArICd9JztcblxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ0JpZ051bWJlcic6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoIWlzRmluaXRlKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS52YWx1ZU9mKCkgPCAwID8gJy1cXFxcaW5mdHknIDogJ1xcXFxpbmZ0eSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGluZGV4ID0gdmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdlJyk7XG5cbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIGluZGV4KSArICdcXFxcY2RvdDEwXnsnICsgdmFsdWUuc3Vic3RyaW5nKGluZGV4ICsgMSkgKyAnfSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgICAgY2FzZSAnRnJhY3Rpb24nOlxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b0xhdGV4KCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIENvbnN0YW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gJy4uL2tleXdvcmRzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoLCBqb2luIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgdG9TeW1ib2wgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogRnVuY3Rpb24gYXNzaWdubWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgRnVuY3Rpb24gbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdIHwgQXJyYXkuPHtuYW1lOiBzdHJpbmcsIHR5cGU6IHN0cmluZ30+fSBwYXJhbXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5IHdpdGggZnVuY3Rpb24gcGFyYW1ldGVyIG5hbWVzLCBvciBhblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgd2l0aCBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIG5hbWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB0eXBlIG9mIHRoZSBwYXJhbWV0ZXJcbiAgICogQHBhcmFtIHtOb2RlfSBleHByICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiBleHByZXNzaW9uXG4gICAqL1xuICBmdW5jdGlvbiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKG5hbWUsIHBhcmFtcywgZXhwcikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwibmFtZVwiJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgc3RyaW5ncyBvciBvYmplY3RzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJwYXJhbXNcIicpO1xuICAgIGlmICghaXNOb2RlKGV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJleHByXCInKTtcbiAgICBpZiAobmFtZSBpbiBrZXl3b3JkcykgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGZ1bmN0aW9uIG5hbWUsIFwiJyArIG5hbWUgKyAnXCIgaXMgYSByZXNlcnZlZCBrZXl3b3JkJyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0gJiYgcGFyYW0ubmFtZSB8fCBwYXJhbTtcbiAgICB9KTtcbiAgICB0aGlzLnR5cGVzID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbSAmJiBwYXJhbS50eXBlIHx8ICdhbnknO1xuICAgIH0pO1xuICAgIHRoaXMuZXhwciA9IGV4cHI7XG4gIH1cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSc7XG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGNoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcbiAgICBmb3JFYWNoKHRoaXMucGFyYW1zLCBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIGNoaWxkQXJnTmFtZXNbcGFyYW1dID0gdHJ1ZTtcbiAgICB9KTsgLy8gY29tcGlsZSB0aGUgZnVuY3Rpb24gZXhwcmVzc2lvbiB3aXRoIHRoZSBjaGlsZCBhcmdzXG5cbiAgICB2YXIgZXZhbEV4cHIgPSB0aGlzLmV4cHIuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbXM7XG4gICAgdmFyIHNpZ25hdHVyZSA9IGpvaW4odGhpcy50eXBlcywgJywnKTtcbiAgICB2YXIgc3ludGF4ID0gbmFtZSArICcoJyArIGpvaW4odGhpcy5wYXJhbXMsICcsICcpICsgJyknO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIHNpZ25hdHVyZXMgPSB7fTtcblxuICAgICAgc2lnbmF0dXJlc1tzaWduYXR1cmVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJnc1twYXJhbXNbaV1dID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV2YWxFeHByKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGZuID0gdHlwZWQobmFtZSwgc2lnbmF0dXJlcyk7XG4gICAgICBmbi5zeW50YXggPSBzeW50YXg7XG4gICAgICBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGZuKTtcbiAgICAgIHJldHVybiBmbjtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmV4cHIsICdleHByJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZXhwciA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmV4cHIsICdleHByJywgdGhpcykpO1xuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMubmFtZSwgdGhpcy5wYXJhbXMuc2xpY2UoMCksIGV4cHIpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLm5hbWUsIHRoaXMucGFyYW1zLnNsaWNlKDApLCB0aGlzLmV4cHIpO1xuICB9O1xuICAvKipcbiAgICogSXMgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudGhlc2lzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgZXhwclByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuZXhwciwgcGFyZW50aGVzaXMpO1xuICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgZXhwclByZWNlZGVuY2UgIT09IG51bGwgJiYgZXhwclByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZTtcbiAgfVxuICAvKipcbiAgICogZ2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gJygnICsgZXhwciArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5uYW1lICsgJygnICsgdGhpcy5wYXJhbXMuam9pbignLCAnKSArICcpID0gJyArIGV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0eXBlcyA9IHRoaXMudHlwZXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IHBhcmFtLFxuICAgICAgICAgIHR5cGU6IHR5cGVzW2luZGV4XVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBleHByOiB0aGlzLmV4cHJcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVwiLCBuYW1lOiAuLi4sIHBhcmFtczogLi4uLCBleHByOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUoanNvbi5uYW1lLCBqc29uLnBhcmFtcywganNvbi5leHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhcmFtcy5wdXNoKCc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcGFyYW1ldGVyXCI+JyArIGVzY2FwZSh0aGlzLnBhcmFtc1tpXSkgKyAnPC9zcGFuPicpO1xuICAgIH1cblxuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5uYW1lKSArICc8L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHBhcmFtcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXZhcmlhYmxlLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj49PC9zcGFuPicgKyBleHByO1xuICB9O1xuICAvKipcbiAgICogZ2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChleHByLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyB0aGlzLm5hbWUgKyAnfVxcXFxsZWZ0KCcgKyB0aGlzLnBhcmFtcy5tYXAodG9TeW1ib2wpLmpvaW4oJywnKSArICdcXFxccmlnaHQpOj0nICsgZXhwcjtcbiAgfTtcblxuICByZXR1cm4gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciwgaXNDb25zdGFudE5vZGUsIGlzTm9kZSwgaXNSYW5nZU5vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbnZhciBuYW1lID0gJ0luZGV4Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydSYW5nZScsICdOb2RlJywgJ3NpemUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSW5kZXhOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgUmFuZ2UsXG4gICAgTm9kZSxcbiAgICBzaXplXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgSW5kZXhOb2RlXG4gICAqIEBleHRlbmRzIE5vZGVcbiAgICpcbiAgICogRGVzY3JpYmVzIGEgc3Vic2V0IG9mIGEgbWF0cml4IG9yIGFuIG9iamVjdCBwcm9wZXJ0eS5cbiAgICogQ2Fubm90IGJlIHVzZWQgb24gaXRzIG93biwgbmVlZHMgdG8gYmUgdXNlZCB3aXRoaW4gYW4gQWNjZXNzb3JOb2RlIG9yXG4gICAqIEFzc2lnbm1lbnROb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGVbXX0gZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb3ROb3RhdGlvbj1mYWxzZV0gIE9wdGlvbmFsIHByb3BlcnR5IGRlc2NyaWJpbmcgd2hldGhlclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgaW5kZXggd2FzIHdyaXR0ZW4gdXNpbmcgZG90XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90YXRpb24gbGlrZSBgYS5iYCwgb3IgdXNpbmcgYnJhY2tldFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uIGxpa2UgYGFbXCJiXCJdYCAoZGVmYXVsdCkuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlZCB0byBzdHJpbmdpZnkgYW4gSW5kZXhOb2RlLlxuICAgKi9cbiAgZnVuY3Rpb24gSW5kZXhOb2RlKGRpbWVuc2lvbnMsIGRvdE5vdGF0aW9uKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZGV4Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICB0aGlzLmRvdE5vdGF0aW9uID0gZG90Tm90YXRpb24gfHwgZmFsc2U7IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGltZW5zaW9ucykgfHwgIWRpbWVuc2lvbnMuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZGltZW5zaW9uc1wiJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZG90Tm90YXRpb24gJiYgIXRoaXMuaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvdE5vdGF0aW9uIG9ubHkgYXBwbGljYWJsZSBmb3Igb2JqZWN0IHByb3BlcnRpZXMnKTtcbiAgICB9XG4gIH1cblxuICBJbmRleE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50eXBlID0gJ0luZGV4Tm9kZSc7XG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuaXNJbmRleE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIGJpZ251bWJlciAoY3VycmVudGx5IGJpZ251bWJlcnMgYXJlIHNpbGVudGx5XG4gICAgLy8gICAgICAgcmVkdWNlZCB0byBudW1iZXJzIHdoZW4gY2hhbmdpbmcgdGhlIHZhbHVlIHRvIHplcm8tYmFzZWQpXG4gICAgLy8gVE9ETzogT3B0aW1pemF0aW9uOiB3aGVuIHRoZSByYW5nZSB2YWx1ZXMgYXJlIENvbnN0YW50Tm9kZXMsXG4gICAgLy8gICAgICAgd2UgY2FuIGJlZm9yZWhhbmQgcmVzb2x2ZSB0aGUgemVyby1iYXNlZCB2YWx1ZVxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgYSBzaW1wbGUgb2JqZWN0IHByb3BlcnR5XG4gICAgdmFyIGV2YWxEaW1lbnNpb25zID0gbWFwKHRoaXMuZGltZW5zaW9ucywgZnVuY3Rpb24gKHJhbmdlLCBpKSB7XG4gICAgICBpZiAoaXNSYW5nZU5vZGUocmFuZ2UpKSB7XG4gICAgICAgIGlmIChyYW5nZS5uZWVkc0VuZCgpKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIGEgcmFuZ2UgY29udGFpbmluZyBlbmQgKGxpa2UgJzQ6ZW5kJylcbiAgICAgICAgICB2YXIgY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuICAgICAgICAgIGNoaWxkQXJnTmFtZXMuZW5kID0gdHJ1ZTtcblxuICAgICAgICAgIHZhciBldmFsU3RhcnQgPSByYW5nZS5zdGFydC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBldmFsRW5kID0gcmFuZ2UuZW5kLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIGV2YWxTdGVwID0gcmFuZ2Uuc3RlcCA/IHJhbmdlLnN0ZXAuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcykgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpemUoY29udGV4dCkudmFsdWVPZigpO1xuICAgICAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG4gICAgICAgICAgICBjaGlsZEFyZ3MuZW5kID0gc1tpXTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSYW5nZShldmFsU3RhcnQoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCksIGV2YWxTdGVwKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNyZWF0ZSByYW5nZVxuICAgICAgICAgIHZhciBfZXZhbFN0YXJ0ID0gcmFuZ2Uuc3RhcnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIF9ldmFsRW5kID0gcmFuZ2UuZW5kLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBfZXZhbFN0ZXAgPSByYW5nZS5zdGVwID8gcmFuZ2Uuc3RlcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSYW5nZShfZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgX2V2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBfZXZhbFN0ZXAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU3ltYm9sTm9kZShyYW5nZSkgJiYgcmFuZ2UubmFtZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgLy8gU3ltYm9sTm9kZSAnZW5kJ1xuICAgICAgICB2YXIgX2NoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcblxuICAgICAgICBfY2hpbGRBcmdOYW1lcy5lbmQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBldmFsUmFuZ2UgPSByYW5nZS5fY29tcGlsZShtYXRoLCBfY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcyA9IHNpemUoY29udGV4dCkudmFsdWVPZigpO1xuICAgICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuICAgICAgICAgIGNoaWxkQXJncy5lbmQgPSBzW2ldO1xuICAgICAgICAgIHJldHVybiBldmFsUmFuZ2Uoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb25zdGFudE5vZGVcbiAgICAgICAgdmFyIF9ldmFsUmFuZ2UgPSByYW5nZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gX2V2YWxSYW5nZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGluZGV4ID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsICdpbmRleCcpO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsSW5kZXhOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZGltZW5zaW9ucyA9IG1hcChldmFsRGltZW5zaW9ucywgZnVuY3Rpb24gKGV2YWxEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5kZXgoLi4uZGltZW5zaW9ucyk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5kaW1lbnNpb25zW2ldLCAnZGltZW5zaW9uc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEluZGV4Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7SW5kZXhOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGRpbWVuc2lvbnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkaW1lbnNpb25zW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZGltZW5zaW9uc1tpXSwgJ2RpbWVuc2lvbnNbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZShkaW1lbnNpb25zLCB0aGlzLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7SW5kZXhOb2RlfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUodGhpcy5kaW1lbnNpb25zLnNsaWNlKDApLCB0aGlzLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGlzIEluZGV4Tm9kZSBjb250YWlucyBhIHNpbmdsZSBwcm9wZXJ0eSBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5pc09iamVjdFByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoID09PSAxICYmIGlzQ29uc3RhbnROb2RlKHRoaXMuZGltZW5zaW9uc1swXSkgJiYgdHlwZW9mIHRoaXMuZGltZW5zaW9uc1swXS52YWx1ZSA9PT0gJ3N0cmluZyc7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGlmIEluZGV4Tm9kZSBjb250YWlucyBhIHByb3BlcnR5LlxuICAgKiBJZiBub3QsIHJldHVybnMgbnVsbC5cbiAgICogQHJldHVybiB7c3RyaW5nIHwgbnVsbH1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmdldE9iamVjdFByb3BlcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuZGltZW5zaW9uc1swXS52YWx1ZSA6IG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIGZvcm1hdCB0aGUgcGFyYW1ldGVycyBsaWtlIFwiWzEsIDA6NV1cIlxuICAgIHJldHVybiB0aGlzLmRvdE5vdGF0aW9uID8gJy4nICsgdGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJ1snICsgdGhpcy5kaW1lbnNpb25zLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0luZGV4Tm9kZScsXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLmRpbWVuc2lvbnMsXG4gICAgICBkb3ROb3RhdGlvbjogdGhpcy5kb3ROb3RhdGlvblxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBJbmRleE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkluZGV4Tm9kZVwiLCBkaW1lbnNpb25zOiBbLi4uXSwgZG90Tm90YXRpb246IGZhbHNlfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0luZGV4Tm9kZX1cbiAgICovXG5cblxuICBJbmRleE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKGpzb24uZGltZW5zaW9ucywganNvbi5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBmb3JtYXQgdGhlIHBhcmFtZXRlcnMgbGlrZSBcIlsxLCAwOjVdXCJcbiAgICB2YXIgZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRpbWVuc2lvbnNbaV0gPSB0aGlzLmRpbWVuc2lvbnNbaV0udG9IVE1MKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZG90Tm90YXRpb24pIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYWNjZXNzb3Itb3BlcmF0b3JcIj4uPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXByb3BlcnR5XCI+JyArIGVzY2FwZSh0aGlzLmdldE9iamVjdFByb3BlcnR5KCkpICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPls8L3NwYW4+JyArIGRpbWVuc2lvbnMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+XTwvc3Bhbj4nO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucy5tYXAoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICByZXR1cm4gcmFuZ2UudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZG90Tm90YXRpb24gPyAnLicgKyB0aGlzLmdldE9iamVjdFByb3BlcnR5KCkgKyAnJyA6ICdfeycgKyBkaW1lbnNpb25zLmpvaW4oJywnKSArICd9JztcbiAgfTsgLy8gaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIFJhbmdlIGZyb20gc3RhcnQsIHN0ZXAgYW5kIGVuZFxuXG5cbiAgZnVuY3Rpb24gY3JlYXRlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2UoaXNCaWdOdW1iZXIoc3RhcnQpID8gc3RhcnQudG9OdW1iZXIoKSA6IHN0YXJ0LCBpc0JpZ051bWJlcihlbmQpID8gZW5kLnRvTnVtYmVyKCkgOiBlbmQsIGlzQmlnTnVtYmVyKHN0ZXApID8gc3RlcC50b051bWJlcigpIDogc3RlcCk7XG4gIH1cblxuICByZXR1cm4gSW5kZXhOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZSwgc3RyaW5naWZ5IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGlzU2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdPYmplY3ROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlT2JqZWN0Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBPYmplY3ROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhbiBvYmplY3Qgd2l0aCBrZXlzL3ZhbHVlc1xuICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBOb2RlPn0gW3Byb3BlcnRpZXNdICAgb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzXG4gICAqL1xuICBmdW5jdGlvbiBPYmplY3ROb2RlKHByb3BlcnRpZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT2JqZWN0Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoISh0eXBlb2YgcHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHx8ICFPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBpc05vZGUocHJvcGVydGllc1trZXldKTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBPYmplY3ROb2RlLnByb3RvdHlwZS50eXBlID0gJ09iamVjdE5vZGUnO1xuICBPYmplY3ROb2RlLnByb3RvdHlwZS5pc09iamVjdE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsRW50cmllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICAvLyB3ZSBzdHJpbmdpZnkvcGFyc2UgdGhlIGtleSBoZXJlIHRvIHJlc29sdmUgdW5pY29kZSBjaGFyYWN0ZXJzLFxuICAgICAgICAvLyBzbyB5b3UgY2Fubm90IGNyZWF0ZSBhIGtleSBsaWtlIHtcImNvXFxcXHUwMDZFc3RydWN0b3JcIjogbnVsbH1cbiAgICAgICAgdmFyIHN0cmluZ2lmaWVkS2V5ID0gc3RyaW5naWZ5KGtleSk7XG4gICAgICAgIHZhciBwYXJzZWRLZXkgPSBKU09OLnBhcnNlKHN0cmluZ2lmaWVkS2V5KTtcblxuICAgICAgICBpZiAoIWlzU2FmZVByb3BlcnR5KHRoaXMucHJvcGVydGllcywgcGFyc2VkS2V5KSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHBhcnNlZEtleSArICdcIicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZhbEVudHJpZXNbcGFyc2VkS2V5XSA9IHRoaXMucHJvcGVydGllc1trZXldLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9iamVjdE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleSBpbiBldmFsRW50cmllcykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoZXZhbEVudHJpZXMsIF9rZXkpKSB7XG4gICAgICAgICAgb2JqW19rZXldID0gZXZhbEVudHJpZXNbX2tleV0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBjYWxsYmFjayh0aGlzLnByb3BlcnRpZXNba2V5XSwgJ3Byb3BlcnRpZXNbJyArIHN0cmluZ2lmeShrZXkpICsgJ10nLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT2JqZWN0Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T2JqZWN0Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5wcm9wZXJ0aWVzW2tleV0sICdwcm9wZXJ0aWVzWycgKyBzdHJpbmdpZnkoa2V5KSArICddJywgdGhpcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7T2JqZWN0Tm9kZX1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB0aGlzLnByb3BlcnRpZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKHN0cmluZ2lmeShrZXkpICsgJzogJyArIHRoaXMucHJvcGVydGllc1trZXldLnRvU3RyaW5nKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ3snICsgZW50cmllcy5qb2luKCcsICcpICsgJ30nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnT2JqZWN0Tm9kZScsXG4gICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gT3BlcmF0b3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJPYmplY3ROb2RlXCIsIFwicHJvcGVydGllc1wiOiB7Li4ufX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtPYmplY3ROb2RlfVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShqc29uLnByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wcm9wZXJ0eVwiPicgKyBlc2NhcGUoa2V5KSArICc8L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtcHJvcGVydHktYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIHRoaXMucHJvcGVydGllc1trZXldLnRvSFRNTChvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1jdXJseS1wYXJlbnRoZXNpc1wiPns8L3NwYW4+JyArIGVudHJpZXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtY3VybHktcGFyZW50aGVzaXNcIj59PC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaCgnXFxcXG1hdGhiZnsnICsga2V5ICsgJzp9ICYgJyArIHRoaXMucHJvcGVydGllc1trZXldLnRvVGV4KG9wdGlvbnMpICsgJ1xcXFxcXFxcJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXFxcXGxlZnRcXFxce1xcXFxiZWdpbnthcnJheX17bGx9XCIuY29uY2F0KGVudHJpZXMuam9pbignXFxuJyksIFwiXFxcXGVuZHthcnJheX1cXFxccmlnaHRcXFxcfVwiKTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBpc1NhZmVNZXRob2QgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGdldEFzc29jaWF0aXZpdHksIGdldFByZWNlZGVuY2UsIGlzQXNzb2NpYXRpdmVXaXRoLCBwcm9wZXJ0aWVzIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IGxhdGV4T3BlcmF0b3JzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnT3BlcmF0b3JOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlT3BlcmF0b3JOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE9wZXJhdG9yTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQW4gb3BlcmF0b3Igd2l0aCB0d28gYXJndW1lbnRzLCBsaWtlIDIrM1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3AgICAgICAgICAgIE9wZXJhdG9yIG5hbWUsIGZvciBleGFtcGxlICcrJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZm4gICAgICAgICAgIEZ1bmN0aW9uIG5hbWUsIGZvciBleGFtcGxlICdhZGQnXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBhcmdzICAgICAgICAgT3BlcmF0b3IgYXJndW1lbnRzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltcGxpY2l0XSAgSXMgdGhpcyBhbiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbj9cbiAgICovXG4gIGZ1bmN0aW9uIE9wZXJhdG9yTm9kZShvcCwgZm4sIGFyZ3MsIGltcGxpY2l0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9wZXJhdG9yTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG9wICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJvcFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZm5cIicpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSB8fCAhYXJncy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJhcmdzXCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmltcGxpY2l0ID0gaW1wbGljaXQgPT09IHRydWU7XG4gICAgdGhpcy5vcCA9IG9wO1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzIHx8IFtdO1xuICB9XG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudHlwZSA9ICdPcGVyYXRvck5vZGUnO1xuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzT3BlcmF0b3JOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIC8vIHZhbGlkYXRlIGZuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmZuICE9PSAnc3RyaW5nJyB8fCAhaXNTYWZlTWV0aG9kKG1hdGgsIHRoaXMuZm4pKSB7XG4gICAgICBpZiAoIW1hdGhbdGhpcy5mbl0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiAnICsgdGhpcy5mbiArICcgbWlzc2luZyBpbiBwcm92aWRlZCBuYW1lc3BhY2UgXCJtYXRoXCInKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIGZ1bmN0aW9uIFwiJyArIHRoaXMuZm4gKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZm4gPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgdGhpcy5mbik7XG4gICAgdmFyIGV2YWxBcmdzID0gbWFwKHRoaXMuYXJncywgZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG5cbiAgICBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgZXZhbEFyZzAgPSBldmFsQXJnc1swXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbihldmFsQXJnMChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIF9ldmFsQXJnID0gZXZhbEFyZ3NbMF07XG4gICAgICB2YXIgZXZhbEFyZzEgPSBldmFsQXJnc1sxXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbihfZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxBcmcxKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPcGVyYXRvck5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUodGhpcy5vcCwgdGhpcy5mbiwgYXJncywgdGhpcy5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge09wZXJhdG9yTm9kZX1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKHRoaXMub3AsIHRoaXMuZm4sIHRoaXMuYXJncy5zbGljZSgwKSwgdGhpcy5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXMgYW4gdW5hcnkgT3BlcmF0b3JOb2RlOlxuICAgKiBoYXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGxpa2UgYC1hYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYW4gdW5hcnkgb3BlcmF0b3Igbm9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNVbmFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcmdzLmxlbmd0aCA9PT0gMTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhpcyBpcyBhIGJpbmFyeSBPcGVyYXRvck5vZGU6XG4gICAqIGhhcyBleGFjdGx5IHR3byBhcmd1bWVudHMsIGxpa2UgYGEgKyBiYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gYSBiaW5hcnkgb3BlcmF0b3Igbm9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNCaW5hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJncy5sZW5ndGggPT09IDI7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgd2hpY2ggcGFyZW50aGVzZXMgYXJlIG5lY2Vzc2FyeS4gR2V0cyBhbiBPcGVyYXRvck5vZGVcbiAgICogKHdoaWNoIGlzIHRoZSByb290IG9mIHRoZSB0cmVlKSBhbmQgYW4gQXJyYXkgb2YgTm9kZXNcbiAgICogKHRoaXMuYXJncykgYW5kIHJldHVybnMgYW4gYXJyYXkgd2hlcmUgJ3RydWUnIG1lYW5zIHRoYXQgYW4gYXJndW1lbnRcbiAgICogaGFzIHRvIGJlIGVuY2xvc2VkIGluIHBhcmVudGhlc2VzIHdoZXJlYXMgJ2ZhbHNlJyBtZWFucyB0aGUgb3Bwb3NpdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7T3BlcmF0b3JOb2RlfSByb290XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gYXJnc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxhdGV4XG4gICAqIEByZXR1cm4ge2Jvb2xlYW5bXX1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyhyb290LCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGxhdGV4KSB7XG4gICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgcm9vdCBPcGVyYXRvck5vZGVcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uocm9vdCwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBhc3NvY2lhdGl2aXR5ID0gZ2V0QXNzb2NpYXRpdml0eShyb290LCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGFyZ3MubGVuZ3RoID4gMiAmJiByb290LmdldElkZW50aWZpZXIoKSAhPT0gJ09wZXJhdG9yTm9kZTphZGQnICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpICE9PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jykge1xuICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgc3dpdGNoIChhcmcuZ2V0Q29udGVudCgpLnR5cGUpIHtcbiAgICAgICAgICAvLyBOb2RlcyB0aGF0IGRvbid0IG5lZWQgZXh0cmEgcGFyZW50aGVzZXNcbiAgICAgICAgICBjYXNlICdBcnJheU5vZGUnOlxuICAgICAgICAgIGNhc2UgJ0NvbnN0YW50Tm9kZSc6XG4gICAgICAgICAgY2FzZSAnU3ltYm9sTm9kZSc6XG4gICAgICAgICAgY2FzZSAnUGFyZW50aGVzaXNOb2RlJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdDtcblxuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgICB7XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgb3BlcmFuZFxuICAgICAgICAgIHZhciBvcGVyYW5kUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1swXSwgcGFyZW50aGVzaXMpOyAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgTGFUZVgsIHdoZXJlIHNvbWUgb2YgdGhlIHBhcmVudGhlc2VzIGFyZW4ndCBuZWVkZWRcblxuICAgICAgICAgIGlmIChsYXRleCAmJiBvcGVyYW5kUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG9wZXJhbmRJZGVudGlmaWVyO1xuICAgICAgICAgICAgdmFyIHJvb3RJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICAgICAgICBvcGVyYW5kSWRlbnRpZmllciA9IGFyZ3NbMF0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByb290SWRlbnRpZmllciA9IHJvb3QuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzIE5vZGVzIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgICAgICAgICAgIG9wZXJhbmRJZGVudGlmaWVyID0gYXJnc1swXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByb290SWRlbnRpZmllciA9IHJvb3QuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bcm9vdElkZW50aWZpZXJdLmxhdGV4TGVmdFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW29wZXJhbmRQcmVjZWRlbmNlXVtvcGVyYW5kSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcGVyYW5kUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIG9wZXJhbmQgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3BlcmFuZFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIG9wZXJhbmRzIHByZWNlZGVuY2UgaXMgbG93ZXIsIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICByZXN1bHQgPSBbdHJ1ZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IC8vIG90aGVyd2lzZSwgbm8gcGFyZW5zIG5lZWRlZFxuXG5cbiAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIGJpbmFyeSBvcGVyYXRvcnNcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsaHNQYXJlbnM7IC8vIGxlZnQgaGFuZCBzaWRlIG5lZWRzIHBhcmVudGhlc2lzP1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgbGhzUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1swXSwgcGFyZW50aGVzaXMpOyAvLyBpcyB0aGUgcm9vdCBub2RlIGFzc29jaWF0aXZlIHdpdGggdGhlIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgYXNzb2NXaXRoTGhzID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnc1swXSwgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgaWYgKGxoc1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBsZWZ0IGhhbmQgc2lkZSBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgLy8gRnVuY3Rpb25Ob2RlIGZvciBleGFtcGxlXG4gICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxoc1ByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gJ3JpZ2h0JyAmJiAhYXNzb2NXaXRoTGhzKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVxdWFsIHByZWNlZGVuY2UsIGlmIHRoZSByb290IG5vZGUgaXMgbGVmdCBhc3NvY2lhdGl2ZVxuICAgICAgICAgICAgLy8gcGFyZW5zIGFyZSAqKm5ldmVyKiogbmVjZXNzYXJ5IGZvciB0aGUgbGVmdCBoYW5kIHNpZGUuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyByaWdodCBhc3NvY2lhdGl2ZSBob3dldmVyLCBwYXJlbnMgYXJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gaWYgdGhlIHJvb3Qgbm9kZSBpc24ndCBhc3NvY2lhdGl2ZSB3aXRoIHRoZSBsZWZ0IGhhbmQgc2lkZVxuICAgICAgICAgICAgbGhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxoc1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICBsaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmhzUGFyZW5zOyAvLyByaWdodCBoYW5kIHNpZGUgbmVlZHMgcGFyZW50aGVzaXM/XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgICAgICB2YXIgcmhzUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnc1sxXSwgcGFyZW50aGVzaXMpOyAvLyBpcyB0aGUgcm9vdCBub2RlIGFzc29jaWF0aXZlIHdpdGggdGhlIHJpZ2h0IGhhbmQgc2lkZT9cblxuICAgICAgICAgIHZhciBhc3NvY1dpdGhSaHMgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmdzWzFdLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICBpZiAocmhzUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHJpZ2h0IGhhbmQgc2lkZSBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgLy8gRnVuY3Rpb25Ob2RlIGZvciBleGFtcGxlXG4gICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJoc1ByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gJ2xlZnQnICYmICFhc3NvY1dpdGhSaHMpIHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXF1YWwgcHJlY2VkZW5jZSwgaWYgdGhlIHJvb3Qgbm9kZSBpcyByaWdodCBhc3NvY2lhdGl2ZVxuICAgICAgICAgICAgLy8gcGFyZW5zIGFyZSAqKm5ldmVyKiogbmVjZXNzYXJ5IGZvciB0aGUgcmlnaHQgaGFuZCBzaWRlLlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgbGVmdCBhc3NvY2lhdGl2ZSBob3dldmVyLCBwYXJlbnMgYXJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gaWYgdGhlIHJvb3Qgbm9kZSBpc24ndCBhc3NvY2lhdGl2ZSB3aXRoIHRoZSByaWdodCBoYW5kIHNpZGVcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChyaHNQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgcmhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgTGFUZVgsIHdoZXJlIHNvbWUgb2YgdGhlIHBhcmVudGhlc2VzIGFyZW4ndCBuZWVkZWRcblxuXG4gICAgICAgICAgaWYgKGxhdGV4KSB7XG4gICAgICAgICAgICB2YXIgX3Jvb3RJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICB2YXIgbGhzSWRlbnRpZmllcjtcbiAgICAgICAgICAgIHZhciByaHNJZGVudGlmaWVyO1xuXG4gICAgICAgICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICAgICAgICBfcm9vdElkZW50aWZpZXIgPSByb290LmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgbGhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1swXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMV0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzTm9kZXMgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgICAgICAgX3Jvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICBsaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzBdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMV0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxoc1ByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bX3Jvb3RJZGVudGlmaWVyXS5sYXRleExlZnRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tsaHNQcmVjZWRlbmNlXVtsaHNJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmhzUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtfcm9vdElkZW50aWZpZXJdLmxhdGV4UmlnaHRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1tyaHNQcmVjZWRlbmNlXVtyaHNJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdCA9IFtsaHNQYXJlbnMsIHJoc1BhcmVuc107XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChyb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jykge1xuICAgICAgICAgIHJlc3VsdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIHZhciBhcmdQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmcsIHBhcmVudGhlc2lzKTtcbiAgICAgICAgICAgIHZhciBhc3NvY1dpdGhBcmcgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmcsIHBhcmVudGhlc2lzKTtcbiAgICAgICAgICAgIHZhciBhcmdBc3NvY2lhdGl2aXR5ID0gZ2V0QXNzb2NpYXRpdml0eShhcmcsIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgICAgaWYgKGFyZ1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIGFyZ3VtZW50IGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlY2VkZW5jZSA9PT0gYXJnUHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSBhcmdBc3NvY2lhdGl2aXR5ICYmICFhc3NvY1dpdGhBcmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9IC8vIGhhbmRsZXMgYW4gZWRnZSBjYXNlIG9mICdhdXRvJyBwYXJlbnRoZXNlcyB3aXRoIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIG9mIENvbnN0YW50Tm9kZVxuICAgIC8vIEluIHRoYXQgY2FzZSBwcmludCBwYXJlbnRoZXNlcyBmb3IgUGFyZW50aGVzaXNOb2RlcyBldmVuIHRob3VnaCB0aGV5IG5vcm1hbGx5IHdvdWxkbid0IGJlXG4gICAgLy8gcHJpbnRlZC5cblxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID49IDIgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIHJvb3QuaW1wbGljaXQgJiYgcGFyZW50aGVzaXMgPT09ICdhdXRvJyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICByZXN1bHQgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICB2YXIgaXNQYXJlbnRoZXNpc05vZGUgPSBhcmcuZ2V0SWRlbnRpZmllcigpID09PSAnUGFyZW50aGVzaXNOb2RlJztcblxuICAgICAgICBpZiAocmVzdWx0W2luZGV4XSB8fCBpc1BhcmVudGhlc2lzTm9kZSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBmYWxzZSk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9ICcoJyArIG9wZXJhbmQgKyAnKSc7XG4gICAgICB9IC8vIGZvciBleGFtcGxlIGZvciBcIm5vdFwiLCB3ZSB3YW50IGEgc3BhY2UgYmV0d2VlbiBvcGVyYW5kIGFuZCBhcmd1bWVudFxuXG5cbiAgICAgIHZhciBvcElzTmFtZWQgPSAvW2EtekEtWl0rLy50ZXN0KHRoaXMub3ApO1xuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiB0aGlzLm9wICsgKG9wSXNOYW1lZCA/ICcgJyA6ICcnKSArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2UgaWYgKGFzc29jID09PSAnbGVmdCcpIHtcbiAgICAgICAgLy8gcG9zdGZpeFxuICAgICAgICByZXR1cm4gb3BlcmFuZCArIChvcElzTmFtZWQgPyAnICcgOiAnJykgKyB0aGlzLm9wO1xuICAgICAgfSAvLyBmYWxsIGJhY2sgdG8gcG9zdGZpeFxuXG5cbiAgICAgIHJldHVybiBvcGVyYW5kICsgdGhpcy5vcDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB2YXIgbGhzID0gYXJnc1swXS50b1N0cmluZyhvcHRpb25zKTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV0udG9TdHJpbmcob3B0aW9ucyk7IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIC8vIGxlZnQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICBsaHMgPSAnKCcgKyBsaHMgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgLy8gcmlnaHQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICByaHMgPSAnKCcgKyByaHMgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBsaHMgKyAnICcgKyByaHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHMgKyAnICcgKyB0aGlzLm9wICsgJyAnICsgcmhzO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgIHZhciBzdHJpbmdpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgYXJnID0gJygnICsgYXJnICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCcgJyArIHRoaXMub3AgKyAnICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmYWxsYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgcmV0dXJuIHRoaXMuZm4gKyAnKCcgKyB0aGlzLmFyZ3Muam9pbignLCAnKSArICcpJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ09wZXJhdG9yTm9kZScsXG4gICAgICBvcDogdGhpcy5vcCxcbiAgICAgIGZuOiB0aGlzLmZuLFxuICAgICAgYXJnczogdGhpcy5hcmdzLFxuICAgICAgaW1wbGljaXQ6IHRoaXMuaW1wbGljaXRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gT3BlcmF0b3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJPcGVyYXRvck5vZGVcIiwgXCJvcFwiOiBcIitcIiwgXCJmblwiOiBcImFkZFwiLCBcImFyZ3NcIjogWy4uLl0sIFwiaW1wbGljaXRcIjogZmFsc2V9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUoanNvbi5vcCwganNvbi5mbiwganNvbi5hcmdzLCBqc29uLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgZmFsc2UpO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgb3BlcmFuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXVuYXJ5LW9wZXJhdG9yIG1hdGgtbGVmdGhhbmQtdW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBvc3RmaXggd2hlbiBhc3NvYyA9PT0gJ2xlZnQnIG9yIHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gb3BlcmFuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC11bmFyeS1vcGVyYXRvciBtYXRoLXJpZ2h0aGFuZC11bmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPic7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gYmluYXJ5IG9wZXJhdG9lc1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF0udG9IVE1MKG9wdGlvbnMpOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXS50b0hUTUwob3B0aW9ucyk7IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIC8vIGxlZnQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICBsaHMgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgLy8gcmlnaHQgaGFuZCBzaWRlIGluIHBhcmVudGhlc2lzP1xuICAgICAgICByaHMgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyByaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtaW1wbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+PC9zcGFuPicgKyByaHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHMgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JyArIHJocztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0cmluZ2lmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgYXJnID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgYXJnICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWltcGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPjwvc3Bhbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmYWxsYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5mbikgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgdHJ1ZSk7XG4gICAgdmFyIG9wID0gbGF0ZXhPcGVyYXRvcnNbdGhpcy5mbl07XG4gICAgb3AgPSB0eXBlb2Ygb3AgPT09ICd1bmRlZmluZWQnID8gdGhpcy5vcCA6IG9wOyAvLyBmYWxsIGJhY2sgdG8gdXNpbmcgdGhpcy5vcFxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChvcGVyYW5kLCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG9wICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSBpZiAoYXNzb2MgPT09ICdsZWZ0Jykge1xuICAgICAgICAvLyBwb3N0Zml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgb3A7XG4gICAgICB9IC8vIGZhbGwgYmFjayB0byBwb3N0Zml4XG5cblxuICAgICAgcmV0dXJuIG9wZXJhbmQgKyBvcDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBiaW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgbGhzID0gYXJnc1swXTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIGxoc1RleCA9IGxocy50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBsaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChsaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV07IC8vIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzVGV4ID0gcmhzLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIHJoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHJoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfSAvLyBoYW5kbGUgc29tZSBleGNlcHRpb25zIChkdWUgdG8gdGhlIHdheSBMYVRlWCB3b3JrcylcblxuXG4gICAgICB2YXIgbGhzSWRlbnRpZmllcjtcblxuICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgbGhzSWRlbnRpZmllciA9IGxocy5nZXRJZGVudGlmaWVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXNOb2RlcyBpZiBpbiAna2VlcCcgbW9kZVxuICAgICAgICBsaHNJZGVudGlmaWVyID0gbGhzLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodGhpcy5nZXRJZGVudGlmaWVyKCkpIHtcbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6XG4gICAgICAgICAgLy8gb3AgY29udGFpbnMgJ1xcXFxmcmFjJyBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgcmV0dXJuIG9wICsgJ3snICsgbGhzVGV4ICsgJ30nICsgJ3snICsgcmhzVGV4ICsgJ30nO1xuXG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpwb3cnOlxuICAgICAgICAgIGxoc1RleCA9ICd7JyArIGxoc1RleCArICd9JztcbiAgICAgICAgICByaHNUZXggPSAneycgKyByaHNUZXggKyAnfSc7XG5cbiAgICAgICAgICBzd2l0Y2ggKGxoc0lkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGNhc2UgJ0NvbmRpdGlvbmFsTm9kZSc6IC8vXG5cbiAgICAgICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOlxuICAgICAgICAgICAgICBsaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChsaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6bXVsdGlwbHknOlxuICAgICAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgICAgIHJldHVybiBsaHNUZXggKyAnficgKyByaHNUZXg7XG4gICAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaHNUZXggKyBvcCArIHJoc1RleDtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICB2YXIgdGV4aWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgYXJnID0gXCJcXFxcbGVmdChcIi5jb25jYXQoYXJnLCBcIlxcXFxyaWdodClcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgdGhpcy5pbXBsaWNpdCkge1xuICAgICAgICByZXR1cm4gdGV4aWZpZWRBcmdzLmpvaW4oJ34nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleGlmaWVkQXJncy5qb2luKG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmFsbCBiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICAvLyBhcyB0aGlzIGlzIGEgZmFsbGJhY2ssIGl0IGRvZXNuJ3QgdXNlXG4gICAgICAvLyBmYW5jeSBmdW5jdGlvbiBuYW1lc1xuICAgICAgcmV0dXJuICdcXFxcbWF0aHJteycgKyB0aGlzLmZuICsgJ31cXFxcbGVmdCgnICsgYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgfSkuam9pbignLCcpICsgJ1xcXFxyaWdodCknO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgKyAnOicgKyB0aGlzLmZuO1xuICB9O1xuXG4gIHJldHVybiBPcGVyYXRvck5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUGFyZW50aGVzaXNOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUGFyZW50aGVzaXNOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFBhcmVudGhlc2lzTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQSBwYXJlbnRoZXNpcyBub2RlIGRlc2NyaWJlcyBtYW51YWwgcGFyZW50aGVzaXMgZnJvbSB0aGUgdXNlciBpbnB1dFxuICAgKiBAcGFyYW0ge05vZGV9IGNvbnRlbnRcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBQYXJlbnRoZXNpc05vZGUoY29udGVudCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXJlbnRoZXNpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKCFpc05vZGUoY29udGVudCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImNvbnRlbnRcIicpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50eXBlID0gJ1BhcmVudGhlc2lzTm9kZSc7XG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuaXNQYXJlbnRoZXNpc05vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnRlbnQgb2YgdGhlIGN1cnJlbnQgTm9kZS5cbiAgICogQHJldHVybiB7Tm9kZX0gY29udGVudFxuICAgKiBAb3ZlcnJpZGVcbiAgICoqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZ2V0Q29udGVudCgpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuY29udGVudCwgJ2NvbnRlbnQnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBQYXJlbnRoZXNpc05vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtQYXJlbnRoZXNpc05vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGNvbnRlbnQgPSBjYWxsYmFjayh0aGlzLmNvbnRlbnQsICdjb250ZW50JywgdGhpcyk7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUoY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1BhcmVudGhlc2lzTm9kZX1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKHRoaXMuY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuICcoJyArIHRoaXMuY29udGVudC50b1N0cmluZyhvcHRpb25zKSArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdQYXJlbnRoZXNpc05vZGUnLFxuICAgICAgY29udGVudDogdGhpcy5jb250ZW50XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIFBhcmVudGhlc2lzTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUGFyZW50aGVzaXNOb2RlXCIsIFwiY29udGVudFwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UGFyZW50aGVzaXNOb2RlfVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUoanNvbi5jb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHRoaXMuY29udGVudC50b0hUTUwob3B0aW9ucykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b0hUTUwob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gXCJcXFxcbGVmdChcIi5jb25jYXQodGhpcy5jb250ZW50LnRvVGV4KG9wdGlvbnMpLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b1RleChvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gUGFyZW50aGVzaXNOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdSYW5nZU5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVSYW5nZU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgUmFuZ2VOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBjcmVhdGUgYSByYW5nZVxuICAgKiBAcGFyYW0ge05vZGV9IHN0YXJ0ICBpbmNsdWRlZCBsb3dlci1ib3VuZFxuICAgKiBAcGFyYW0ge05vZGV9IGVuZCAgICBpbmNsdWRlZCB1cHBlci1ib3VuZFxuICAgKiBAcGFyYW0ge05vZGV9IFtzdGVwXSBvcHRpb25hbCBzdGVwXG4gICAqL1xuICBmdW5jdGlvbiBSYW5nZU5vZGUoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZU5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRzXG5cblxuICAgIGlmICghaXNOb2RlKHN0YXJ0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmICghaXNOb2RlKGVuZCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoc3RlcCAmJiAhaXNOb2RlKHN0ZXApKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cycpO1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydDsgLy8gaW5jbHVkZWQgbG93ZXItYm91bmRcblxuICAgIHRoaXMuZW5kID0gZW5kOyAvLyBpbmNsdWRlZCB1cHBlci1ib3VuZFxuXG4gICAgdGhpcy5zdGVwID0gc3RlcCB8fCBudWxsOyAvLyBvcHRpb25hbCBzdGVwXG4gIH1cblxuICBSYW5nZU5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50eXBlID0gJ1JhbmdlTm9kZSc7XG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuaXNSYW5nZU5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgUmFuZ2VOb2RlIG5lZWRzIHRoZSBgZW5kYCBzeW1ib2wgdG8gYmUgZGVmaW5lZC5cbiAgICogVGhpcyBlbmQgaXMgdGhlIHNpemUgb2YgdGhlIE1hdHJpeCBpbiBjdXJyZW50IGRpbWVuc2lvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5uZWVkc0VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBmaW5kIGFsbCBgZW5kYCBzeW1ib2xzIGluIHRoaXMgUmFuZ2VOb2RlXG4gICAgdmFyIGVuZFN5bWJvbHMgPSB0aGlzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIGlzU3ltYm9sTm9kZShub2RlKSAmJiBub2RlLm5hbWUgPT09ICdlbmQnO1xuICAgIH0pO1xuICAgIHJldHVybiBlbmRTeW1ib2xzLmxlbmd0aCA+IDA7XG4gIH07XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciByYW5nZSA9IG1hdGgucmFuZ2U7XG5cbiAgICB2YXIgZXZhbFN0YXJ0ID0gdGhpcy5zdGFydC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEVuZCA9IHRoaXMuZW5kLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBldmFsU3RlcCA9IHRoaXMuc3RlcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmFuZ2VOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByYW5nZShldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbFN0ZXAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmFuZ2VOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByYW5nZShldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLnN0YXJ0LCAnc3RhcnQnLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmVuZCwgJ2VuZCcsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgY2FsbGJhY2sodGhpcy5zdGVwLCAnc3RlcCcsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSYW5nZU5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1JhbmdlTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnN0YXJ0LCAnc3RhcnQnLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmVuZCwgJ2VuZCcsIHRoaXMpKSwgdGhpcy5zdGVwICYmIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnN0ZXAsICdzdGVwJywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UmFuZ2VOb2RlfVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMuc3RlcCAmJiB0aGlzLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBuZWNlc3NhcnkgcGFyZW50aGVzZXNcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhcmVudGhlc2VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJlbnMgPSB7fTtcbiAgICB2YXIgc3RhcnRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnN0YXJ0LCBwYXJlbnRoZXNpcyk7XG4gICAgcGFyZW5zLnN0YXJ0ID0gc3RhcnRQcmVjZWRlbmNlICE9PSBudWxsICYmIHN0YXJ0UHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcblxuICAgIGlmIChub2RlLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5zdGVwLCBwYXJlbnRoZXNpcyk7XG4gICAgICBwYXJlbnMuc3RlcCA9IHN0ZXBQcmVjZWRlbmNlICE9PSBudWxsICYmIHN0ZXBQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuICAgIH1cblxuICAgIHZhciBlbmRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLmVuZCwgcGFyZW50aGVzaXMpO1xuICAgIHBhcmVucy5lbmQgPSBlbmRQcmVjZWRlbmNlICE9PSBudWxsICYmIGVuZFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG4gICAgcmV0dXJuIHBhcmVucztcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIGZvcm1hdCBzdHJpbmcgYXMgc3RhcnQ6c3RlcDpzdG9wXG5cbiAgICB2YXIgc3RyO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9ICcoJyArIHN0YXJ0ICsgJyknO1xuICAgIH1cblxuICAgIHN0ciA9IHN0YXJ0O1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gJygnICsgc3RlcCArICcpJztcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc6JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9ICcoJyArIGVuZCArICcpJztcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JhbmdlTm9kZScsXG4gICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgIGVuZDogdGhpcy5lbmQsXG4gICAgICBzdGVwOiB0aGlzLnN0ZXBcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gUmFuZ2VOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZU5vZGVcIiwgXCJzdGFydFwiOiAuLi4sIFwiZW5kXCI6IC4uLiwgXCJzdGVwXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtSYW5nZU5vZGV9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZShqc29uLnN0YXJ0LCBqc29uLmVuZCwganNvbi5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gZm9ybWF0IHN0cmluZyBhcyBzdGFydDpzdGVwOnN0b3BcblxuICAgIHZhciBzdHI7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0YXJ0ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHN0ciA9IHN0YXJ0O1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0ZXAgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtcmFuZ2Utb3BlcmF0b3JcIj46PC9zcGFuPicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHN0ciArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtcmFuZ2Utb3BlcmF0b3JcIj46PC9zcGFuPicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW1zIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBzdHIgPSB0aGlzLnN0YXJ0LnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RyID0gXCJcXFxcbGVmdChcIi5jb25jYXQoc3RyLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXAudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gXCJcXFxcbGVmdChcIi5jb25jYXQoc3RlcCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzonICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gXCJcXFxcbGVmdChcIi5jb25jYXQoZW5kLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZU5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBsYXRleE9wZXJhdG9ycyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1JlbGF0aW9uYWxOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmVsYXRpb25hbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIG5vZGUgcmVwcmVzZW50aW5nIGEgY2hhaW5lZCBjb25kaXRpb25hbCBleHByZXNzaW9uLCBzdWNoIGFzICd4ID4geSA+IHonXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nW119IGNvbmRpdGlvbmFscyAgIEFuIGFycmF5IG9mIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyB1c2VkIHRvIGNvbXBhcmUgdGhlIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtOb2RlW119IHBhcmFtcyAgIFRoZSBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSBjb21wYXJlZFxuICAgKlxuICAgKiBAY29uc3RydWN0b3IgUmVsYXRpb25hbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBSZWxhdGlvbmFsTm9kZShjb25kaXRpb25hbHMsIHBhcmFtcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWxhdGlvbmFsTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbmRpdGlvbmFscykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBjb25kaXRpb25hbHMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgcGFyYW1zIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICBpZiAoY29uZGl0aW9uYWxzLmxlbmd0aCAhPT0gcGFyYW1zLmxlbmd0aCAtIDEpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBwYXJhbXMgbXVzdCBjb250YWluIGV4YWN0bHkgb25lIG1vcmUgZWxlbWVudCB0aGFuIHBhcmFtZXRlciBjb25kaXRpb25hbHMnKTtcbiAgICB0aGlzLmNvbmRpdGlvbmFscyA9IGNvbmRpdGlvbmFscztcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgfVxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50eXBlID0gJ1JlbGF0aW9uYWxOb2RlJztcbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmlzUmVsYXRpb25hbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNvbXBpbGVkID0gdGhpcy5wYXJhbXMubWFwKHAgPT4gcC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcykpO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsUmVsYXRpb25hbE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBldmFsTGhzO1xuICAgICAgdmFyIGV2YWxSaHMgPSBjb21waWxlZFswXShzY29wZSwgYXJncywgY29udGV4dCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZXZhbExocyA9IGV2YWxSaHM7XG4gICAgICAgIGV2YWxSaHMgPSBjb21waWxlZFtpICsgMV0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgY29uZEZuID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIHNlbGYuY29uZGl0aW9uYWxzW2ldKTtcblxuICAgICAgICBpZiAoIWNvbmRGbihldmFsTGhzLCBldmFsUmhzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wYXJhbXMuZm9yRWFjaCgobiwgaSkgPT4gY2FsbGJhY2sobiwgJ3BhcmFtc1snICsgaSArICddJywgdGhpcyksIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFJlbGF0aW9uYWxOb2RlIGhhdmluZyBpdHMgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1JlbGF0aW9uYWxOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uYWxzLnNsaWNlKCksIHRoaXMucGFyYW1zLm1hcCgobiwgaSkgPT4gdGhpcy5faWZOb2RlKGNhbGxiYWNrKG4sICdwYXJhbXNbJyArIGkgKyAnXScsIHRoaXMpKSwgdGhpcykpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtSZWxhdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbmFscywgdGhpcy5wYXJhbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJygnICsgcC50b1N0cmluZyhvcHRpb25zKSArICcpJyA6IHAudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIG9wZXJhdG9yTWFwID0ge1xuICAgICAgZXF1YWw6ICc9PScsXG4gICAgICB1bmVxdWFsOiAnIT0nLFxuICAgICAgc21hbGxlcjogJzwnLFxuICAgICAgbGFyZ2VyOiAnPicsXG4gICAgICBzbWFsbGVyRXE6ICc8PScsXG4gICAgICBsYXJnZXJFcTogJz49J1xuICAgIH07XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSAnICcgKyBvcGVyYXRvck1hcFt0aGlzLmNvbmRpdGlvbmFsc1tpXV0gKyAnICcgKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmVsYXRpb25hbE5vZGUnLFxuICAgICAgY29uZGl0aW9uYWxzOiB0aGlzLmNvbmRpdGlvbmFscyxcbiAgICAgIHBhcmFtczogdGhpcy5wYXJhbXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSZWxhdGlvbmFsTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVsYXRpb25hbE5vZGVcIiwgXCJjb25kaXRpb25cIjogLi4uLCBcInRydWVFeHByXCI6IC4uLiwgXCJmYWxzZUV4cHJcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1JlbGF0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKGpzb24uY29uZGl0aW9uYWxzLCBqc29uLnBhcmFtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBwLnRvSFRNTChvcHRpb25zKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JyA6IHAudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBvcGVyYXRvck1hcCA9IHtcbiAgICAgIGVxdWFsOiAnPT0nLFxuICAgICAgdW5lcXVhbDogJyE9JyxcbiAgICAgIHNtYWxsZXI6ICc8JyxcbiAgICAgIGxhcmdlcjogJz4nLFxuICAgICAgc21hbGxlckVxOiAnPD0nLFxuICAgICAgbGFyZ2VyRXE6ICc+PSdcbiAgICB9O1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUob3BlcmF0b3JNYXBbdGhpcy5jb25kaXRpb25hbHNbaV1dKSArICc8L3NwYW4+JyArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnXFxcXGxlZnQoJyArIHAudG9UZXgob3B0aW9ucykgKyAnXFxyaWdodCknIDogcC50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9IGxhdGV4T3BlcmF0b3JzW3RoaXMuY29uZGl0aW9uYWxzW2ldXSArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICByZXR1cm4gUmVsYXRpb25hbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgdmFsaWRhdGVTYWZlTWV0aG9kIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0VGVtcGxhdGUsIGxhdGV4RnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xudmFyIG5hbWUgPSAnRnVuY3Rpb25Ob2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGgnLCAnTm9kZScsICdTeW1ib2xOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZ1bmN0aW9uTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGgsXG4gICAgTm9kZSxcbiAgICBTeW1ib2xOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgRnVuY3Rpb25Ob2RlXG4gICAqIEBleHRlbmRzIHsuL05vZGV9XG4gICAqIGludm9rZSBhIGxpc3Qgd2l0aCBhcmd1bWVudHMgb24gYSBub2RlXG4gICAqIEBwYXJhbSB7Li9Ob2RlIHwgc3RyaW5nfSBmbiBOb2RlIHJlc29sdmluZyB3aXRoIGEgZnVuY3Rpb24gb24gd2hpY2ggdG8gaW52b2tlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgYXJndW1lbnRzLCB0eXBpY2FsbHkgYSBTeW1ib05vZGUgb3IgQWNjZXNzb3JOb2RlXG4gICAqIEBwYXJhbSB7Li9Ob2RlW119IGFyZ3NcbiAgICovXG4gIGZ1bmN0aW9uIEZ1bmN0aW9uTm9kZShmbiwgYXJncykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbk5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICBmbiA9IG5ldyBTeW1ib2xOb2RlKGZuKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICghaXNOb2RlKGZuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBhcyBwYXJhbWV0ZXIgXCJmblwiJyk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJncykgfHwgIWFyZ3MuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiYXJnc1wiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuYXJncyA9IGFyZ3MgfHwgW107IC8vIHJlYWRvbmx5IHByb3BlcnR5IG5hbWVcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbi5uYW1lIHx8ICcnO1xuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudHlwZSA9ICdGdW5jdGlvbk5vZGUnO1xuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmlzRnVuY3Rpb25Ob2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGdW5jdGlvbk5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyB2YWxpZCBGdW5jdGlvbk5vZGUnKTtcbiAgICB9IC8vIGNvbXBpbGUgYXJndW1lbnRzXG5cblxuICAgIHZhciBldmFsQXJncyA9IG1hcCh0aGlzLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzU3ltYm9sTm9kZSh0aGlzLmZuKSkge1xuICAgICAgLy8gd2UgY2FuIHN0YXRpY2FsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGZ1bmN0aW9uIGhhcyBhbiByYXdBcmdzIHByb3BlcnR5XG4gICAgICB2YXIgX25hbWUgPSB0aGlzLmZuLm5hbWU7XG4gICAgICB2YXIgZm4gPSBfbmFtZSBpbiBtYXRoID8gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIF9uYW1lKSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBpc1JhdyA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbi5yYXdBcmdzID09PSB0cnVlO1xuXG4gICAgICBpZiAoaXNSYXcpIHtcbiAgICAgICAgLy8gcGFzcyB1bmV2YWx1YXRlZCBwYXJhbWV0ZXJzIChub2RlcykgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICAgIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICB2YXIgcmF3QXJncyA9IHRoaXMuYXJncztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikocmF3QXJncywgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgIGlmIChldmFsQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB2YXIgZXZhbEFyZzAgPSBldmFsQXJnc1swXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKGV2YWxBcmcwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChldmFsQXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB2YXIgX2V2YWxBcmcgPSBldmFsQXJnc1swXTtcbiAgICAgICAgICB2YXIgZXZhbEFyZzEgPSBldmFsQXJnc1sxXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKF9ldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEFyZzEoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikuYXBwbHkobnVsbCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBY2Nlc3Nvck5vZGUodGhpcy5mbikgJiYgaXNJbmRleE5vZGUodGhpcy5mbi5pbmRleCkgJiYgdGhpcy5mbi5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIC8vIGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHJpZ2h0IGNvbnRleHQ6IHRoZSBvYmplY3Qgb2YgdGhlIEFjY2Vzc29yTm9kZVxuICAgICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLmZuLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHZhciBwcm9wID0gdGhpcy5mbi5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgdmFyIF9yYXdBcmdzID0gdGhpcy5hcmdzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YWxpZGF0ZVNhZmVNZXRob2Qob2JqZWN0LCBwcm9wKTtcbiAgICAgICAgdmFyIGlzUmF3ID0gb2JqZWN0W3Byb3BdICYmIG9iamVjdFtwcm9wXS5yYXdBcmdzO1xuICAgICAgICByZXR1cm4gaXNSYXcgPyBvYmplY3RbcHJvcF0oX3Jhd0FyZ3MsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICA6IG9iamVjdFtwcm9wXS5hcHBseShvYmplY3QsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub2RlLmZuLmlzQWNjZXNzb3JOb2RlICYmICFub2RlLmZuLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKVxuICAgICAgLy8gd2UgaGF2ZSB0byBkeW5hbWljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGUgZnVuY3Rpb24gaGFzIGEgcmF3QXJncyBwcm9wZXJ0eVxuICAgICAgdmFyIGV2YWxGbiA9IHRoaXMuZm4uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICB2YXIgX3Jhd0FyZ3MyID0gdGhpcy5hcmdzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGZuID0gZXZhbEZuKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGlzUmF3ID0gZm4gJiYgZm4ucmF3QXJncztcbiAgICAgICAgcmV0dXJuIGlzUmF3ID8gZm4oX3Jhd0FyZ3MyLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKSAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgOiBmbi5hcHBseShmbiwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuZm4sICdmbicsIHRoaXMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGdW5jdGlvbk5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Z1bmN0aW9uTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBmbiA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmZuLCAnZm4nLCB0aGlzKSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKGZuLCBhcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7RnVuY3Rpb25Ob2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUodGhpcy5mbiwgdGhpcy5hcmdzLnNsaWNlKDApKTtcbiAgfTsgLy8gYmFja3VwIE5vZGUncyB0b1N0cmluZyBmdW5jdGlvblxuICAvLyBAcHJpdmF0ZVxuXG5cbiAgdmFyIG5vZGVUb1N0cmluZyA9IEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICogVGhpcyBvdmVycmlkZXMgcGFydHMgb2YgTm9kZSdzIHRvU3RyaW5nIGZ1bmN0aW9uLlxuICAgKiBJZiBjYWxsYmFjayBpcyBhbiBvYmplY3QgY29udGFpbmluZyBjYWxsYmFja3MsIGl0XG4gICAqIGNhbGxzIHRoZSBjb3JyZWN0IGNhbGxiYWNrIGZvciB0aGUgY3VycmVudCBub2RlLFxuICAgKiBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBjYWxsaW5nIE5vZGUncyB0b1N0cmluZ1xuICAgKiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG4gICAgdmFyIG5hbWUgPSB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuaGFuZGxlciA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHkob3B0aW9ucy5oYW5kbGVyLCBuYW1lKSkge1xuICAgICAgLy8gY2FsbGJhY2sgaXMgYSBtYXAgb2YgY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXJbbmFtZV0odGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH0gLy8gZmFsbCBiYWNrIHRvIE5vZGUncyB0b1N0cmluZ1xuXG5cbiAgICByZXR1cm4gbm9kZVRvU3RyaW5nLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBmbiA9IGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLmZuKSA/ICcoJyArIHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucykgKyAnKScgOiB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBmb3JtYXQgdGhlIGFyZ3VtZW50cyBsaWtlIFwiYWRkKDIsIDQuMilcIlxuXG4gICAgcmV0dXJuIGZuICsgJygnICsgYXJncy5qb2luKCcsICcpICsgJyknO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGdW5jdGlvbk5vZGUnLFxuICAgICAgZm46IHRoaXMuZm4sXG4gICAgICBhcmdzOiB0aGlzLmFyZ3NcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZ1bmN0aW9uTm9kZVwiLCBmbjogLi4uLCBhcmdzOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Ob2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUoanNvbi5mbiwganNvbi5hcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTsgLy8gZm9ybWF0IHRoZSBhcmd1bWVudHMgbGlrZSBcImFkZCgyLCA0LjIpXCJcblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLmZuKSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBhcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICB9O1xuICAvKlxuICAgKiBFeHBhbmQgYSBMYVRlWCB0ZW1wbGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwcml2YXRlXG4gICAqKi9cblxuXG4gIGZ1bmN0aW9uIGV4cGFuZFRlbXBsYXRlKHRlbXBsYXRlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIGxhdGV4ID0gJyc7IC8vIE1hdGNoIGV2ZXJ5dGhpbmcgb2YgdGhlIGZvcm0gJHtpZGVudGlmaWVyfSBvciAke2lkZW50aWZpZXJbMl19IG9yICQkXG4gICAgLy8gd2hpbGUgc3VibWF0Y2hpbmcgaWRlbnRpZmllciBhbmQgMiAoaW4gdGhlIHNlY29uZCBjYXNlKVxuXG4gICAgdmFyIHJlZ2V4ID0gL1xcJCg/OlxceyhbYS16X11bYS16XzAtOV0qKSg/OlxcWyhbMC05XSspXFxdKT9cXH18XFwkKS9naTtcbiAgICB2YXIgaW5wdXRQb3MgPSAwOyAvLyBwb3NpdGlvbiBpbiB0aGUgaW5wdXQgc3RyaW5nXG5cbiAgICB2YXIgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAvLyBnbyB0aHJvdWdoIGFsbCBtYXRjaGVzXG4gICAgICAvLyBhZGQgZXZlcnl0aGluZyBpbiBmcm9udCBvZiB0aGUgbWF0Y2ggdG8gdGhlIExhVGVYIHN0cmluZ1xuICAgICAgbGF0ZXggKz0gdGVtcGxhdGUuc3Vic3RyaW5nKGlucHV0UG9zLCBtYXRjaC5pbmRleCk7XG4gICAgICBpbnB1dFBvcyA9IG1hdGNoLmluZGV4O1xuXG4gICAgICBpZiAobWF0Y2hbMF0gPT09ICckJCcpIHtcbiAgICAgICAgLy8gZXNjYXBlZCBkb2xsYXIgc2lnblxuICAgICAgICBsYXRleCArPSAnJCc7XG4gICAgICAgIGlucHV0UG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0ZW1wbGF0ZSBwYXJhbWV0ZXJcbiAgICAgICAgaW5wdXRQb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB2YXIgcHJvcGVydHkgPSBub2RlW21hdGNoWzFdXTtcblxuICAgICAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUZW1wbGF0ZTogUHJvcGVydHkgJyArIG1hdGNoWzFdICsgJyBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaFsyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gbm8gc3F1YXJlIGJyYWNrZXRzXG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgaWYgKGlzTm9kZShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eS50b1RleChvcHRpb25zKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2UgYXJyYXkgb2YgTm9kZXMgaW50byBjb21tYSBzZXBhcmF0ZWQgbGlzdFxuICAgICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5Lm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzTm9kZShhcmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnWycgKyBpbmRleCArICddIGlzIG5vdCBhIE5vZGUuJyk7XG4gICAgICAgICAgICAgICAgfSkuam9pbignLCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnIGhhcyB0byBiZSBhIE5vZGUsIFN0cmluZyBvciBhcnJheSBvZiBOb2RlcycpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnIGhhcyB0byBiZSBhIE5vZGUsIFN0cmluZyBvciBhcnJheSBvZiBOb2RlcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3aXRoIHNxdWFyZSBicmFja2V0c1xuICAgICAgICAgIGlmIChpc05vZGUocHJvcGVydHlbbWF0Y2hbMl1dICYmIHByb3BlcnR5W21hdGNoWzJdXSkpIHtcbiAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5W21hdGNoWzJdXS50b1RleChvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICdbJyArIG1hdGNoWzJdICsgJ10gaXMgbm90IGEgTm9kZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXRleCArPSB0ZW1wbGF0ZS5zbGljZShpbnB1dFBvcyk7IC8vIGFwcGVuZCByZXN0IG9mIHRoZSB0ZW1wbGF0ZVxuXG4gICAgcmV0dXJuIGxhdGV4O1xuICB9IC8vIGJhY2t1cCBOb2RlJ3MgdG9UZXggZnVuY3Rpb25cbiAgLy8gQHByaXZhdGVcblxuXG4gIHZhciBub2RlVG9UZXggPSBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvVGV4O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICogVGhpcyBvdmVycmlkZXMgcGFydHMgb2YgTm9kZSdzIHRvVGV4IGZ1bmN0aW9uLlxuICAgKiBJZiBjYWxsYmFjayBpcyBhbiBvYmplY3QgY29udGFpbmluZyBjYWxsYmFja3MsIGl0XG4gICAqIGNhbGxzIHRoZSBjb3JyZWN0IGNhbGxiYWNrIGZvciB0aGUgY3VycmVudCBub2RlLFxuICAgKiBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBjYWxsaW5nIE5vZGUncyB0b1RleFxuICAgKiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tVGV4O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuaGFuZGxlciA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHkob3B0aW9ucy5oYW5kbGVyLCB0aGlzLm5hbWUpKSB7XG4gICAgICAvLyBjYWxsYmFjayBpcyBhIG1hcCBvZiBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgIGN1c3RvbVRleCA9IG9wdGlvbnMuaGFuZGxlclt0aGlzLm5hbWVdKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRleDtcbiAgICB9IC8vIGZhbGwgYmFjayB0byBOb2RlJ3MgdG9UZXhcblxuXG4gICAgcmV0dXJuIG5vZGVUb1RleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAvLyBnZXQgTGFUZVggb2YgdGhlIGFyZ3VtZW50c1xuICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgbGF0ZXhDb252ZXJ0ZXI7XG5cbiAgICBpZiAobGF0ZXhGdW5jdGlvbnNbdGhpcy5uYW1lXSkge1xuICAgICAgbGF0ZXhDb252ZXJ0ZXIgPSBsYXRleEZ1bmN0aW9uc1t0aGlzLm5hbWVdO1xuICAgIH0gLy8gdG9UZXggcHJvcGVydHkgb24gdGhlIGZ1bmN0aW9uIGl0c2VsZlxuXG5cbiAgICBpZiAobWF0aFt0aGlzLm5hbWVdICYmICh0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdvYmplY3QnIHx8IHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdzdHJpbmcnKSkge1xuICAgICAgLy8gLnRvVGV4IGlzIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgIGxhdGV4Q29udmVydGVyID0gbWF0aFt0aGlzLm5hbWVdLnRvVGV4O1xuICAgIH1cblxuICAgIHZhciBjdXN0b21Ub1RleDtcblxuICAgIHN3aXRjaCAodHlwZW9mIGxhdGV4Q29udmVydGVyKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIC8vIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgY3VzdG9tVG9UZXggPSBsYXRleENvbnZlcnRlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIGEgdGVtcGxhdGUgc3RyaW5nXG4gICAgICAgIGN1c3RvbVRvVGV4ID0gZXhwYW5kVGVtcGxhdGUobGF0ZXhDb252ZXJ0ZXIsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgLy8gYW4gb2JqZWN0IHdpdGggZGlmZmVyZW50IFwiY29udmVydGVyc1wiIGZvciBkaWZmZXJlbnQgbnVtYmVycyBvZiBhcmd1bWVudHNcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgbGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdKSB7XG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgY3VzdG9tVG9UZXggPSBsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0odGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBjdXN0b21Ub1RleCA9IGV4cGFuZFRlbXBsYXRlKGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21Ub1RleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21Ub1RleDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwYW5kVGVtcGxhdGUoZGVmYXVsdFRlbXBsYXRlLCB0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgKyAnOicgKyB0aGlzLm5hbWU7XG4gIH07XG5cbiAgcmV0dXJuIEZ1bmN0aW9uTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRnVuY3Rpb25Ob2RlLCBpc09wZXJhdG9yTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9vYmplY3QuanMnO1xudmFyIG5hbWUgPSAncGFyc2UnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbnVtZXJpYycsICdjb25maWcnLCAnQWNjZXNzb3JOb2RlJywgJ0FycmF5Tm9kZScsICdBc3NpZ25tZW50Tm9kZScsICdCbG9ja05vZGUnLCAnQ29uZGl0aW9uYWxOb2RlJywgJ0NvbnN0YW50Tm9kZScsICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJywgJ0Z1bmN0aW9uTm9kZScsICdJbmRleE5vZGUnLCAnT2JqZWN0Tm9kZScsICdPcGVyYXRvck5vZGUnLCAnUGFyZW50aGVzaXNOb2RlJywgJ1JhbmdlTm9kZScsICdSZWxhdGlvbmFsTm9kZScsICdTeW1ib2xOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVBhcnNlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbnVtZXJpYyxcbiAgICBjb25maWcsXG4gICAgQWNjZXNzb3JOb2RlLFxuICAgIEFycmF5Tm9kZSxcbiAgICBBc3NpZ25tZW50Tm9kZSxcbiAgICBCbG9ja05vZGUsXG4gICAgQ29uZGl0aW9uYWxOb2RlLFxuICAgIENvbnN0YW50Tm9kZSxcbiAgICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLFxuICAgIEZ1bmN0aW9uTm9kZSxcbiAgICBJbmRleE5vZGUsXG4gICAgT2JqZWN0Tm9kZSxcbiAgICBPcGVyYXRvck5vZGUsXG4gICAgUGFyZW50aGVzaXNOb2RlLFxuICAgIFJhbmdlTm9kZSxcbiAgICBSZWxhdGlvbmFsTm9kZSxcbiAgICBTeW1ib2xOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBQYXJzZSBhbiBleHByZXNzaW9uLiBSZXR1cm5zIGEgbm9kZSB0cmVlLCB3aGljaCBjYW4gYmUgZXZhbHVhdGVkIGJ5XG4gICAqIGludm9raW5nIG5vZGUuZXZhbHVhdGUoKS5cbiAgICpcbiAgICogTm90ZSB0aGUgZXZhbHVhdGluZyBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgbWF5IGludm9sdmUgc2VjdXJpdHkgcmlza3MsXG4gICAqIHNlZSBbaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbF0oaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGgucGFyc2UoZXhwcilcbiAgICogICAgIG1hdGgucGFyc2UoZXhwciwgb3B0aW9ucylcbiAgICogICAgIG1hdGgucGFyc2UoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0pXG4gICAqICAgICBtYXRoLnBhcnNlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dLCBvcHRpb25zKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICAgY29uc3Qgbm9kZTEgPSBtYXRoLnBhcnNlKCdzcXJ0KDNeMiArIDReMiknKVxuICAgKiAgICAgbm9kZTEuY29tcGlsZSgpLmV2YWx1YXRlKCkgLy8gNVxuICAgKlxuICAgKiAgICAgbGV0IHNjb3BlID0ge2E6MywgYjo0fVxuICAgKiAgICAgY29uc3Qgbm9kZTIgPSBtYXRoLnBhcnNlKCdhICogYicpIC8vIDEyXG4gICAqICAgICBjb25zdCBjb2RlMiA9IG5vZGUyLmNvbXBpbGUoKVxuICAgKiAgICAgY29kZTIuZXZhbHVhdGUoc2NvcGUpIC8vIDEyXG4gICAqICAgICBzY29wZS5hID0gNVxuICAgKiAgICAgY29kZTIuZXZhbHVhdGUoc2NvcGUpIC8vIDIwXG4gICAqXG4gICAqICAgICBjb25zdCBub2RlcyA9IG1hdGgucGFyc2UoWydhID0gMycsICdiID0gNCcsICdhICogYiddKVxuICAgKiAgICAgbm9kZXNbMl0uY29tcGlsZSgpLmV2YWx1YXRlKCkgLy8gMTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBldmFsdWF0ZSwgY29tcGlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgTWF0cml4fSBleHByICAgICAgICAgIEV4cHJlc3Npb24gdG8gYmUgcGFyc2VkXG4gICAqIEBwYXJhbSB7e25vZGVzOiBPYmplY3Q8c3RyaW5nLCBOb2RlPn19IFtvcHRpb25zXSAgQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBgbm9kZXNgIGEgc2V0IG9mIGN1c3RvbSBub2Rlc1xuICAgKiBAcmV0dXJuIHtOb2RlIHwgTm9kZVtdfSBub2RlXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cbiAgdmFyIHBhcnNlID0gdHlwZWQobmFtZSwge1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIHt9KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KGV4cHJlc3Npb25zKSB7XG4gICAgICByZXR1cm4gcGFyc2VNdWx0aXBsZShleHByZXNzaW9ucywge30pO1xuICAgIH0sXG4gICAgJ3N0cmluZywgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nT2JqZWN0KGV4cHJlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIHZhciBleHRyYU5vZGVzID0gb3B0aW9ucy5ub2RlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5ub2RlcyA6IHt9O1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwgZXh0cmFOb2Rlcyk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIE9iamVjdCc6IHBhcnNlTXVsdGlwbGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcGFyc2VNdWx0aXBsZShleHByZXNzaW9ucykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgZXh0cmFOb2RlcyA9IG9wdGlvbnMubm9kZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubm9kZXMgOiB7fTsgLy8gcGFyc2UgYW4gYXJyYXkgb3IgbWF0cml4IHdpdGggZXhwcmVzc2lvbnNcblxuICAgIHJldHVybiBkZWVwTWFwKGV4cHJlc3Npb25zLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChlbGVtLCBleHRyYU5vZGVzKTtcbiAgICB9KTtcbiAgfSAvLyB0b2tlbiB0eXBlcyBlbnVtZXJhdGlvblxuXG5cbiAgdmFyIFRPS0VOVFlQRSA9IHtcbiAgICBOVUxMOiAwLFxuICAgIERFTElNSVRFUjogMSxcbiAgICBOVU1CRVI6IDIsXG4gICAgU1lNQk9MOiAzLFxuICAgIFVOS05PV046IDRcbiAgfTsgLy8gbWFwIHdpdGggYWxsIGRlbGltaXRlcnNcblxuICB2YXIgREVMSU1JVEVSUyA9IHtcbiAgICAnLCc6IHRydWUsXG4gICAgJygnOiB0cnVlLFxuICAgICcpJzogdHJ1ZSxcbiAgICAnWyc6IHRydWUsXG4gICAgJ10nOiB0cnVlLFxuICAgICd7JzogdHJ1ZSxcbiAgICAnfSc6IHRydWUsXG4gICAgJ1wiJzogdHJ1ZSxcbiAgICAnXFwnJzogdHJ1ZSxcbiAgICAnOyc6IHRydWUsXG4gICAgJysnOiB0cnVlLFxuICAgICctJzogdHJ1ZSxcbiAgICAnKic6IHRydWUsXG4gICAgJy4qJzogdHJ1ZSxcbiAgICAnLyc6IHRydWUsXG4gICAgJy4vJzogdHJ1ZSxcbiAgICAnJSc6IHRydWUsXG4gICAgJ14nOiB0cnVlLFxuICAgICcuXic6IHRydWUsXG4gICAgJ34nOiB0cnVlLFxuICAgICchJzogdHJ1ZSxcbiAgICAnJic6IHRydWUsXG4gICAgJ3wnOiB0cnVlLFxuICAgICdefCc6IHRydWUsXG4gICAgJz0nOiB0cnVlLFxuICAgICc6JzogdHJ1ZSxcbiAgICAnPyc6IHRydWUsXG4gICAgJz09JzogdHJ1ZSxcbiAgICAnIT0nOiB0cnVlLFxuICAgICc8JzogdHJ1ZSxcbiAgICAnPic6IHRydWUsXG4gICAgJzw9JzogdHJ1ZSxcbiAgICAnPj0nOiB0cnVlLFxuICAgICc8PCc6IHRydWUsXG4gICAgJz4+JzogdHJ1ZSxcbiAgICAnPj4+JzogdHJ1ZVxuICB9OyAvLyBtYXAgd2l0aCBhbGwgbmFtZWQgZGVsaW1pdGVyc1xuXG4gIHZhciBOQU1FRF9ERUxJTUlURVJTID0ge1xuICAgIG1vZDogdHJ1ZSxcbiAgICB0bzogdHJ1ZSxcbiAgICBpbjogdHJ1ZSxcbiAgICBhbmQ6IHRydWUsXG4gICAgeG9yOiB0cnVlLFxuICAgIG9yOiB0cnVlLFxuICAgIG5vdDogdHJ1ZVxuICB9O1xuICB2YXIgQ09OU1RBTlRTID0ge1xuICAgIHRydWU6IHRydWUsXG4gICAgZmFsc2U6IGZhbHNlLFxuICAgIG51bGw6IG51bGwsXG4gICAgdW5kZWZpbmVkOiB1bmRlZmluZWRcbiAgfTtcbiAgdmFyIE5VTUVSSUNfQ09OU1RBTlRTID0gWydOYU4nLCAnSW5maW5pdHknXTtcblxuICBmdW5jdGlvbiBpbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4dHJhTm9kZXM6IHt9LFxuICAgICAgLy8gY3VycmVudCBleHRyYSBub2RlcywgbXVzdCBiZSBjYXJlZnVsIG5vdCB0byBtdXRhdGVcbiAgICAgIGV4cHJlc3Npb246ICcnLFxuICAgICAgLy8gY3VycmVudCBleHByZXNzaW9uXG4gICAgICBjb21tZW50OiAnJyxcbiAgICAgIC8vIGxhc3QgcGFyc2VkIGNvbW1lbnRcbiAgICAgIGluZGV4OiAwLFxuICAgICAgLy8gY3VycmVudCBpbmRleCBpbiBleHByXG4gICAgICB0b2tlbjogJycsXG4gICAgICAvLyBjdXJyZW50IHRva2VuXG4gICAgICB0b2tlblR5cGU6IFRPS0VOVFlQRS5OVUxMLFxuICAgICAgLy8gdHlwZSBvZiB0aGUgdG9rZW5cbiAgICAgIG5lc3RpbmdMZXZlbDogMCxcbiAgICAgIC8vIGxldmVsIG9mIG5lc3RpbmcgaW5zaWRlIHBhcmFtZXRlcnMsIHVzZWQgdG8gaWdub3JlIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgICAgY29uZGl0aW9uYWxMZXZlbDogbnVsbCAvLyB3aGVuIGEgY29uZGl0aW9uYWwgaXMgYmVpbmcgcGFyc2VkLCB0aGUgbGV2ZWwgb2YgdGhlIGNvbmRpdGlvbmFsIGlzIHN0b3JlZCBoZXJlXG5cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBWaWV3IHVwdG8gYGxlbmd0aGAgY2hhcmFjdGVycyBvZiB0aGUgZXhwcmVzc2lvbiBzdGFydGluZyBhdCB0aGUgY3VycmVudCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0xXSBOdW1iZXIgb2YgY2hhcmFjdGVycyB0byB2aWV3XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3VycmVudFN0cmluZyhzdGF0ZSwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uc3Vic3RyKHN0YXRlLmluZGV4LCBsZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBWaWV3IHRoZSBjdXJyZW50IGNoYXJhY3Rlci4gUmV0dXJucyAnJyBpZiBlbmQgb2YgZXhwcmVzc2lvbiBpcyByZWFjaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdHJpbmcoc3RhdGUsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIG5leHQgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIFRoZSBjaGFyYWN0ZXIgaXMgc3RvcmVkIGludG8gdGhlIGNoYXIgYy4gSWYgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvbiBpc1xuICAgKiByZWFjaGVkLCB0aGUgZnVuY3Rpb24gcHV0cyBhbiBlbXB0eSBzdHJpbmcgaW4gYy5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZXh0KHN0YXRlKSB7XG4gICAgc3RhdGUuaW5kZXgrKztcbiAgfVxuICAvKipcbiAgICogUHJldmlldyB0aGUgcHJldmlvdXMgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gY05leHRcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwcmV2Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uY2hhckF0KHN0YXRlLmluZGV4IC0gMSk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXZpZXcgdGhlIG5leHQgY2hhcmFjdGVyIGZyb20gdGhlIGV4cHJlc3Npb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gY05leHRcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZXh0Q2hhcmFjdGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmV4cHJlc3Npb24uY2hhckF0KHN0YXRlLmluZGV4ICsgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBuZXh0IHRva2VuIGluIHRoZSBjdXJyZW50IHN0cmluZyBleHByLlxuICAgKiBUaGUgdG9rZW4gYW5kIHRva2VuIHR5cGUgYXJlIGF2YWlsYWJsZSBhcyB0b2tlbiBhbmQgdG9rZW5UeXBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHtcbiAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuTlVMTDtcbiAgICBzdGF0ZS50b2tlbiA9ICcnO1xuICAgIHN0YXRlLmNvbW1lbnQgPSAnJzsgLy8gc2tpcCBvdmVyIHdoaXRlc3BhY2VzXG4gICAgLy8gc3BhY2UsIHRhYiwgYW5kIG5ld2xpbmUgd2hlbiBpbnNpZGUgcGFyYW1ldGVyc1xuXG4gICAgd2hpbGUgKHBhcnNlLmlzV2hpdGVzcGFjZShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgc3RhdGUubmVzdGluZ0xldmVsKSkge1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfSAvLyBza2lwIGNvbW1lbnRcblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnIycpIHtcbiAgICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1xcbicgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnKSB7XG4gICAgICAgIHN0YXRlLmNvbW1lbnQgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuICAgIH0gLy8gY2hlY2sgZm9yIGVuZCBvZiBleHByZXNzaW9uXG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJycpIHtcbiAgICAgIC8vIHRva2VuIGlzIHN0aWxsIGVtcHR5XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIG5ldyBsaW5lIGNoYXJhY3RlclxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXG4nICYmICFzdGF0ZS5uZXN0aW5nTGV2ZWwpIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGMxID0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgdmFyIGMyID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMik7XG4gICAgdmFyIGMzID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMyk7XG5cbiAgICBpZiAoYzMubGVuZ3RoID09PSAzICYmIERFTElNSVRFUlNbYzNdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMztcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBkZWxpbWl0ZXJzIGNvbnNpc3Rpbmcgb2YgMiBjaGFyYWN0ZXJzXG5cblxuICAgIGlmIChjMi5sZW5ndGggPT09IDIgJiYgREVMSU1JVEVSU1tjMl0pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMyO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBkZWxpbWl0ZXJzIGNvbnNpc3Rpbmcgb2YgMSBjaGFyYWN0ZXJcblxuXG4gICAgaWYgKERFTElNSVRFUlNbYzFdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGEgbnVtYmVyXG5cblxuICAgIGlmIChwYXJzZS5pc0RpZ2l0RG90KGMxKSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLk5VTUJFUjsgLy8gY2hlY2sgZm9yIGJpbmFyeSwgb2N0YWwsIG9yIGhleFxuXG4gICAgICB2YXIgX2MgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAyKTtcblxuICAgICAgaWYgKF9jID09PSAnMGInIHx8IF9jID09PSAnMG8nIHx8IF9jID09PSAnMHgnKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgIHdoaWxlIChwYXJzZS5pc0hleERpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBnZXQgbnVtYmVyLCBjYW4gaGF2ZSBhIHNpbmdsZSBkb3RcblxuXG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcuJykge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKCFwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIC8vIHRoaXMgaXMgbm8gbnVtYmVyLCBpdCBpcyBqdXN0IGEgZG90IChjYW4gYmUgZG90IG5vdGF0aW9uKVxuICAgICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlLmlzRGVjaW1hbE1hcmsoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9IC8vIGNoZWNrIGZvciBleHBvbmVudGlhbCBub3RhdGlvbiBsaWtlIFwiMi4zZS00XCIsIFwiMS4yM2U1MFwiIG9yIFwiMmUrNFwiXG5cblxuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnRScgfHwgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdlJykge1xuICAgICAgICBpZiAocGFyc2UuaXNEaWdpdChuZXh0Q2hhcmFjdGVyKHN0YXRlKSkgfHwgbmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICctJyB8fCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJysnKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcrJyB8fCBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy0nKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIH0gLy8gU2NpZW50aWZpYyBub3RhdGlvbiBNVVNUIGJlIGZvbGxvd2VkIGJ5IGFuIGV4cG9uZW50XG5cblxuICAgICAgICAgIGlmICghcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdoaWxlIChwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyc2UuaXNEZWNpbWFsTWFyayhjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICcuJykge1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciB2YXJpYWJsZXMsIGZ1bmN0aW9ucywgbmFtZWQgb3BlcmF0b3JzXG5cblxuICAgIGlmIChwYXJzZS5pc0FscGhhKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBwcmV2Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICB3aGlsZSAocGFyc2UuaXNBbHBoYShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgcHJldkNoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSB8fCBwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShOQU1FRF9ERUxJTUlURVJTLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5TWU1CT0w7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHNvbWV0aGluZyB1bmtub3duIGlzIGZvdW5kLCB3cm9uZyBjaGFyYWN0ZXJzIC0+IGEgc3ludGF4IGVycm9yXG5cblxuICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5VTktOT1dOO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJykge1xuICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1N5bnRheCBlcnJvciBpbiBwYXJ0IFwiJyArIHN0YXRlLnRva2VuICsgJ1wiJyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBuZXh0IHRva2VuIGFuZCBza2lwIG5ld2xpbmUgdG9rZW5zXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSkge1xuICAgIGRvIHtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICB9IHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ1xcbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cblxuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBhcmFtZXRlcnMuXG4gICAqIE5ldyBsaW5lIGNoYXJhY3RlcnMgd2lsbCBiZSBpZ25vcmVkIHVudGlsIGNsb3NlUGFyYW1zKHN0YXRlKSBpcyBjYWxsZWRcbiAgICovXG5cblxuICBmdW5jdGlvbiBvcGVuUGFyYW1zKHN0YXRlKSB7XG4gICAgc3RhdGUubmVzdGluZ0xldmVsKys7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHBhcmFtZXRlcnMuXG4gICAqIE5ldyBsaW5lIGNoYXJhY3RlcnMgd2lsbCBubyBsb25nZXIgYmUgaWdub3JlZFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNsb3NlUGFyYW1zKHN0YXRlKSB7XG4gICAgc3RhdGUubmVzdGluZ0xldmVsLS07XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGNoYXJhY3RlciBgY2AgaXMgYSB2YWxpZCBhbHBoYSBjaGFyYWN0ZXI6XG4gICAqXG4gICAqIC0gQSBsYXRpbiBsZXR0ZXIgKHVwcGVyIG9yIGxvd2VyIGNhc2UpIEFzY2lpOiBhLXosIEEtWlxuICAgKiAtIEFuIHVuZGVyc2NvcmUgICAgICAgICAgICAgICAgICAgICAgICBBc2NpaTogX1xuICAgKiAtIEEgZG9sbGFyIHNpZ24gICAgICAgICAgICAgICAgICAgICAgICBBc2NpaTogJFxuICAgKiAtIEEgbGF0aW4gbGV0dGVyIHdpdGggYWNjZW50cyAgICAgICAgICBVbmljb2RlOiBcXHUwMEMwIC0gXFx1MDJBRlxuICAgKiAtIEEgZ3JlZWsgbGV0dGVyICAgICAgICAgICAgICAgICAgICAgICBVbmljb2RlOiBcXHUwMzcwIC0gXFx1MDNGRlxuICAgKiAtIEEgbWF0aGVtYXRpY2FsIGFscGhhbnVtZXJpYyBzeW1ib2wgICBVbmljb2RlOiBcXHV7MUQ0MDB9IC0gXFx1ezFEN0ZGfSBleGNsdWRpbmcgaW52YWxpZCBjb2RlIHBvaW50c1xuICAgKlxuICAgKiBUaGUgcHJldmlvdXMgYW5kIG5leHQgY2hhcmFjdGVycyBhcmUgbmVlZGVkIHRvIGRldGVybWluZSB3aGV0aGVyXG4gICAqIHRoaXMgY2hhcmFjdGVyIGlzIHBhcnQgb2YgYSB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgICAgIEN1cnJlbnQgY2hhcmFjdGVyIGluIHRoZSBleHByZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjUHJldiAgUHJldmlvdXMgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjTmV4dCAgTmV4dCBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0FscGhhID0gZnVuY3Rpb24gaXNBbHBoYShjLCBjUHJldiwgY05leHQpIHtcbiAgICByZXR1cm4gcGFyc2UuaXNWYWxpZExhdGluT3JHcmVlayhjKSB8fCBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbChjLCBjTmV4dCkgfHwgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2woY1ByZXYsIGMpO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIGEgY2hhcmFjdGVyIGlzIGEgdmFsaWQgbGF0aW4sIGdyZWVrLCBvciBsZXR0ZXItbGlrZSBjaGFyYWN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1ZhbGlkTGF0aW5PckdyZWVrID0gZnVuY3Rpb24gaXNWYWxpZExhdGluT3JHcmVlayhjKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWl8kXFx1MDBDMC1cXHUwMkFGXFx1MDM3MC1cXHUwM0ZGXFx1MjEwMC1cXHUyMTRGXSQvLnRlc3QoYyk7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIGdpdmVuIDE2IGJpdCBjaGFyYWN0ZXJzIGZvcm0gYSBzdXJyb2dhdGUgcGFpciBvZiBhXG4gICAqIHVuaWNvZGUgbWF0aCBzeW1ib2wuXG4gICAqXG4gICAqIGh0dHBzOi8vdW5pY29kZS10YWJsZS5jb20vZW4vXG4gICAqIGh0dHBzOi8vd3d3Lndpa2l3YW5kLmNvbS9lbi9NYXRoZW1hdGljYWxfb3BlcmF0b3JzX2FuZF9zeW1ib2xzX2luX1VuaWNvZGVcbiAgICpcbiAgICogTm90ZTogSW4gRVM2IHdpbGwgYmUgdW5pY29kZSBhd2FyZTpcbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjgwNzEyL2phdmFzY3JpcHQtdW5pY29kZS1yZWdleGVzXG4gICAqIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9lczYtdW5pY29kZS1yZWdleFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGlnaFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG93XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2wgPSBmdW5jdGlvbiBpc1ZhbGlkTWF0aFN5bWJvbChoaWdoLCBsb3cpIHtcbiAgICByZXR1cm4gL15bXFx1RDgzNV0kLy50ZXN0KGhpZ2gpICYmIC9eW1xcdURDMDAtXFx1REZGRl0kLy50ZXN0KGxvdykgJiYgL15bXlxcdURDNTVcXHVEQzlEXFx1RENBMFxcdURDQTFcXHVEQ0EzXFx1RENBNFxcdURDQTdcXHVEQ0E4XFx1RENBRFxcdURDQkFcXHVEQ0JDXFx1RENDNFxcdUREMDZcXHVERDBCXFx1REQwQ1xcdUREMTVcXHVERDFEXFx1REQzQVxcdUREM0ZcXHVERDQ1XFx1REQ0Ny1cXHVERDQ5XFx1REQ1MVxcdURFQTZcXHVERUE3XFx1REZDQ1xcdURGQ0RdJC8udGVzdChsb3cpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBnaXZlbiBjaGFyYWN0ZXIgYyBpcyBhIHdoaXRlIHNwYWNlIGNoYXJhY3Rlcjogc3BhY2UsIHRhYiwgb3IgZW50ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5lc3RpbmdMZXZlbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzV2hpdGVzcGFjZSA9IGZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjLCBuZXN0aW5nTGV2ZWwpIHtcbiAgICAvLyBUT0RPOiBhbHNvIHRha2UgJ1xccicgY2FycmlhZ2UgcmV0dXJuIGFzIG5ld2xpbmU/IE9yIGRvZXMgdGhhdCBnaXZlIHByb2JsZW1zIG9uIG1hYz9cbiAgICByZXR1cm4gYyA9PT0gJyAnIHx8IGMgPT09ICdcXHQnIHx8IGMgPT09ICdcXG4nICYmIG5lc3RpbmdMZXZlbCA+IDA7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdGhlIGNoYXJhY3RlciBjIGlzIGEgZGVjaW1hbCBtYXJrIChkb3QpLlxuICAgKiBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gaXQncyBub3QgdGhlIHN0YXJ0IG9mIGEgZGVsaW1pdGVyICcuKicsICcuLycsIG9yICcuXidcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNOZXh0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEZWNpbWFsTWFyayA9IGZ1bmN0aW9uIGlzRGVjaW1hbE1hcmsoYywgY05leHQpIHtcbiAgICByZXR1cm4gYyA9PT0gJy4nICYmIGNOZXh0ICE9PSAnLycgJiYgY05leHQgIT09ICcqJyAmJiBjTmV4dCAhPT0gJ14nO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBkaWdpdCBvciBkb3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RpZ2l0RG90ID0gZnVuY3Rpb24gaXNEaWdpdERvdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPT09ICcuJztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgZGlnaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RpZ2l0ID0gZnVuY3Rpb24gaXNEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBoZXggZGlnaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICBhIHN0cmluZyB3aXRoIG9uZSBjaGFyYWN0ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0hleERpZ2l0ID0gZnVuY3Rpb24gaXNIZXhEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknIHx8IGMgPj0gJ2EnICYmIGMgPD0gJ2YnIHx8IGMgPj0gJ0EnICYmIGMgPD0gJ0YnO1xuICB9O1xuICAvKipcbiAgICogU3RhcnQgb2YgdGhlIHBhcnNlIGxldmVscyBiZWxvdywgaW4gb3JkZXIgb2YgcHJlY2VkZW5jZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTdGFydChleHByZXNzaW9uLCBleHRyYU5vZGVzKSB7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlKCk7XG5cbiAgICBfZXh0ZW5kcyhzdGF0ZSwge1xuICAgICAgZXhwcmVzc2lvbixcbiAgICAgIGV4dHJhTm9kZXNcbiAgICB9KTtcblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQmxvY2soc3RhdGUpOyAvLyBjaGVjayBmb3IgZ2FyYmFnZSBhdCB0aGUgZW5kIG9mIHRoZSBleHByZXNzaW9uXG4gICAgLy8gYW4gZXhwcmVzc2lvbiBlbmRzIHdpdGggYSBlbXB0eSBjaGFyYWN0ZXIgJycgYW5kIHRva2VuVHlwZSBERUxJTUlURVJcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJycpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIpIHtcbiAgICAgICAgLy8gdXNlciBlbnRlcmVkIGEgbm90IGV4aXN0aW5nIG9wZXJhdG9yIGxpa2UgXCIvL1wiXG4gICAgICAgIC8vIFRPRE86IGdpdmUgaGludHMgZm9yIGFsaWFzZXMsIGZvciBleGFtcGxlIHdpdGggXCI8PlwiIGdpdmUgYXMgaGludCBcIiBkaWQgeW91IG1lYW4gIT09ID9cIlxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgb3BlcmF0b3IgJyArIHN0YXRlLnRva2VuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBwYXJ0IFwiJyArIHN0YXRlLnRva2VuICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgYmxvY2sgd2l0aCBleHByZXNzaW9ucy4gRXhwcmVzc2lvbnMgY2FuIGJlIHNlcGFyYXRlZCBieSBhIG5ld2xpbmVcbiAgICogY2hhcmFjdGVyICdcXG4nLCBvciBieSBhIHNlbWljb2xvbiAnOycuIEluIGNhc2Ugb2YgYSBzZW1pY29sb24sIG5vIG91dHB1dFxuICAgKiBvZiB0aGUgcHJlY2VkaW5nIGxpbmUgaXMgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJsb2NrKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7XG4gICAgdmFyIGJsb2NrcyA9IFtdO1xuICAgIHZhciB2aXNpYmxlO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnJyAmJiBzdGF0ZS50b2tlbiAhPT0gJ1xcbicgJiYgc3RhdGUudG9rZW4gIT09ICc7Jykge1xuICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgIH0gLy8gVE9ETzogc2ltcGxpZnkgdGhpcyBsb29wXG5cblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ1xcbicgfHwgc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBpZiAoYmxvY2tzLmxlbmd0aCA9PT0gMCAmJiBub2RlKSB7XG4gICAgICAgIHZpc2libGUgPSBzdGF0ZS50b2tlbiAhPT0gJzsnO1xuICAgICAgICBibG9ja3MucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1xcbicgJiYgc3RhdGUudG9rZW4gIT09ICc7JyAmJiBzdGF0ZS50b2tlbiAhPT0gJycpIHtcbiAgICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgICAgIHZpc2libGUgPSBzdGF0ZS50b2tlbiAhPT0gJzsnO1xuICAgICAgICBibG9ja3MucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChibG9ja3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIG5ldyBCbG9ja05vZGUoYmxvY2tzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHVuZGVmaW5lZCk7XG4gICAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXNzaWdubWVudCBvZiBhIGZ1bmN0aW9uIG9yIHZhcmlhYmxlLFxuICAgKiAtIGNhbiBiZSBhIHZhcmlhYmxlIGxpa2UgJ2E9Mi4zJ1xuICAgKiAtIG9yIGEgdXBkYXRpbmcgYW4gZXhpc3RpbmcgdmFyaWFibGUgbGlrZSAnbWF0cml4KDIsMzo1KT1bNiw3LDhdJ1xuICAgKiAtIGRlZmluaW5nIGEgZnVuY3Rpb24gbGlrZSAnZih4KSA9IHheMidcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQXNzaWdubWVudChzdGF0ZSkge1xuICAgIHZhciBuYW1lLCBhcmdzLCB2YWx1ZSwgdmFsaWQ7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUNvbmRpdGlvbmFsKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJz0nKSB7XG4gICAgICBpZiAoaXNTeW1ib2xOb2RlKG5vZGUpKSB7XG4gICAgICAgIC8vIHBhcnNlIGEgdmFyaWFibGUgYXNzaWdubWVudCBsaWtlICdhID0gMi8zJ1xuICAgICAgICBuYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKG5hbWUpLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQWNjZXNzb3JOb2RlKG5vZGUpKSB7XG4gICAgICAgIC8vIHBhcnNlIGEgbWF0cml4IHN1YnNldCBhc3NpZ25tZW50IGxpa2UgJ0FbMSwyXSA9IDQnXG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUobm9kZS5vYmplY3QsIG5vZGUuaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbk5vZGUobm9kZSkgJiYgaXNTeW1ib2xOb2RlKG5vZGUuZm4pKSB7XG4gICAgICAgIC8vIHBhcnNlIGZ1bmN0aW9uIGFzc2lnbm1lbnQgbGlrZSAnZih4KSA9IHheMidcbiAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIG5hbWUgPSBub2RlLm5hbWU7XG4gICAgICAgIG5vZGUuYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGlzU3ltYm9sTm9kZShhcmcpKSB7XG4gICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZy5uYW1lO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShuYW1lLCBhcmdzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdJbnZhbGlkIGxlZnQgaGFuZCBzaWRlIG9mIGFzc2lnbm1lbnQgb3BlcmF0b3IgPScpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBjb25kaXRpb25hbCBvcGVyYXRpb25cbiAgICpcbiAgICogICAgIGNvbmRpdGlvbiA/IHRydWVQYXJ0IDogZmFsc2VQYXJ0XG4gICAqXG4gICAqIE5vdGU6IGNvbmRpdGlvbmFsIG9wZXJhdG9yIGlzIHJpZ2h0LWFzc29jaWF0aXZlXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUNvbmRpdGlvbmFsKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxPcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc/Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAvLyBzZXQgYSBjb25kaXRpb25hbCBsZXZlbCwgdGhlIHJhbmdlIG9wZXJhdG9yIHdpbGwgYmUgaWdub3JlZCBhcyBsb25nXG4gICAgICAvLyBhcyBjb25kaXRpb25hbExldmVsID09PSBzdGF0ZS5uZXN0aW5nTGV2ZWwuXG4gICAgICB2YXIgcHJldiA9IHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWw7XG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gc3RhdGUubmVzdGluZ0xldmVsO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICB2YXIgY29uZGl0aW9uID0gbm9kZTtcbiAgICAgIHZhciB0cnVlRXhwciA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICc6JykgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdGYWxzZSBwYXJ0IG9mIGNvbmRpdGlvbmFsIGV4cHJlc3Npb24gZXhwZWN0ZWQnKTtcbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBudWxsO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICB2YXIgZmFsc2VFeHByID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTsgLy8gTm90ZTogY2hlY2sgZm9yIGNvbmRpdGlvbmFsIG9wZXJhdG9yIGFnYWluLCByaWdodCBhc3NvY2lhdGl2aXR5XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uZGl0aW9uYWxOb2RlKGNvbmRpdGlvbiwgdHJ1ZUV4cHIsIGZhbHNlRXhwcik7IC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNvbmRpdGlvbmFsIGxldmVsXG5cbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBwcmV2O1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIG9yLCAneCBvciB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsT3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbFhvcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdvcicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnb3InLCAnb3InLCBbbm9kZSwgcGFyc2VMb2dpY2FsWG9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIGV4Y2x1c2l2ZSBvciwgJ3ggeG9yIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbEFuZChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICd4b3InKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ3hvcicsICd4b3InLCBbbm9kZSwgcGFyc2VMb2dpY2FsQW5kKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBsb2dpY2FsIGFuZCwgJ3ggYW5kIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZU9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ2FuZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnYW5kJywgJ2FuZCcsIFtub2RlLCBwYXJzZUJpdHdpc2VPcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBvciwgJ3ggfCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlT3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZVhvcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICd8Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCd8JywgJ2JpdE9yJywgW25vZGUsIHBhcnNlQml0d2lzZVhvcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBleGNsdXNpdmUgb3IgKHhvciksICd4IF58IHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQml0d2lzZUFuZChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdefCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnXnwnLCAnYml0WG9yJywgW25vZGUsIHBhcnNlQml0d2lzZUFuZChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYml0d2lzZSBhbmQsICd4ICYgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZUFuZChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VSZWxhdGlvbmFsKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJyYnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyYnLCAnYml0QW5kJywgW25vZGUsIHBhcnNlUmVsYXRpb25hbChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBjaGFpbmVkIGNvbmRpdGlvbmFsLCBsaWtlICdhID4gYiA+PSBjJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSZWxhdGlvbmFsKHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtwYXJzZVNoaWZ0KHN0YXRlKV07XG4gICAgdmFyIGNvbmRpdGlvbmFscyA9IFtdO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnPT0nOiAnZXF1YWwnLFxuICAgICAgJyE9JzogJ3VuZXF1YWwnLFxuICAgICAgJzwnOiAnc21hbGxlcicsXG4gICAgICAnPic6ICdsYXJnZXInLFxuICAgICAgJzw9JzogJ3NtYWxsZXJFcScsXG4gICAgICAnPj0nOiAnbGFyZ2VyRXEnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICB2YXIgY29uZCA9IHtcbiAgICAgICAgbmFtZTogc3RhdGUudG9rZW4sXG4gICAgICAgIGZuOiBvcGVyYXRvcnNbc3RhdGUudG9rZW5dXG4gICAgICB9O1xuICAgICAgY29uZGl0aW9uYWxzLnB1c2goY29uZCk7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcy5wdXNoKHBhcnNlU2hpZnQoc3RhdGUpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKGNvbmRpdGlvbmFsc1swXS5uYW1lLCBjb25kaXRpb25hbHNbMF0uZm4sIHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUoY29uZGl0aW9uYWxzLm1hcChjID0+IGMuZm4pLCBwYXJhbXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQml0d2lzZSBsZWZ0IHNoaWZ0LCBiaXR3aXNlIHJpZ2h0IGFyaXRobWV0aWMgc2hpZnQsIGJpdHdpc2UgcmlnaHQgbG9naWNhbCBzaGlmdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaGlmdChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUNvbnZlcnNpb24oc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnPDwnOiAnbGVmdFNoaWZ0JyxcbiAgICAgICc+Pic6ICdyaWdodEFyaXRoU2hpZnQnLFxuICAgICAgJz4+Pic6ICdyaWdodExvZ1NoaWZ0J1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VDb252ZXJzaW9uKHN0YXRlKV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogY29udmVyc2lvbiBvcGVyYXRvcnMgJ3RvJyBhbmQgJ2luJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDb252ZXJzaW9uKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlUmFuZ2Uoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICB0bzogJ3RvJyxcbiAgICAgIGluOiAndG8nIC8vIGFsaWFzIG9mICd0bydcblxuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG5cbiAgICAgIGlmIChuYW1lID09PSAnaW4nICYmIHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgICAvLyBlbmQgb2YgZXhwcmVzc2lvbiAtPiB0aGlzIGlzIHRoZSB1bml0ICdpbicgKCdpbmNoJylcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyonLCAnbXVsdGlwbHknLCBbbm9kZSwgbmV3IFN5bWJvbE5vZGUoJ2luJyldLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG9wZXJhdG9yICdhIHRvIGInIG9yICdhIGluIGInXG4gICAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZVJhbmdlKHN0YXRlKV07XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSByYW5nZSwgXCJzdGFydDplbmRcIiwgXCJzdGFydDpzdGVwOmVuZFwiLCBcIjpcIiwgXCJzdGFydDpcIiwgXCI6ZW5kXCIsIGV0Y1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSYW5nZShzdGF0ZSkge1xuICAgIHZhciBub2RlO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzonKSB7XG4gICAgICAvLyBpbXBsaWNpdCBzdGFydD0xIChvbmUtYmFzZWQpXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXhwbGljaXQgc3RhcnRcbiAgICAgIG5vZGUgPSBwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc6JyAmJiBzdGF0ZS5jb25kaXRpb25hbExldmVsICE9PSBzdGF0ZS5uZXN0aW5nTGV2ZWwpIHtcbiAgICAgIC8vIHdlIGlnbm9yZSB0aGUgcmFuZ2Ugb3BlcmF0b3Igd2hlbiBhIGNvbmRpdGlvbmFsIG9wZXJhdG9yIGlzIGJlaW5nIHByb2Nlc3NlZCBvbiB0aGUgc2FtZSBsZXZlbFxuICAgICAgcGFyYW1zLnB1c2gobm9kZSk7IC8vIHBhcnNlIHN0ZXAgYW5kIGVuZFxuXG4gICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc6JyAmJiBwYXJhbXMubGVuZ3RoIDwgMykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKScgfHwgc3RhdGUudG9rZW4gPT09ICddJyB8fCBzdGF0ZS50b2tlbiA9PT0gJywnIHx8IHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgICAgIC8vIGltcGxpY2l0IGVuZFxuICAgICAgICAgIHBhcmFtcy5wdXNoKG5ldyBTeW1ib2xOb2RlKCdlbmQnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXhwbGljaXQgZW5kXG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIC8vIHBhcmFtcyA9IFtzdGFydCwgc3RlcCwgZW5kXVxuICAgICAgICBub2RlID0gbmV3IFJhbmdlTm9kZShwYXJhbXNbMF0sIHBhcmFtc1syXSwgcGFyYW1zWzFdKTsgLy8gc3RhcnQsIGVuZCwgc3RlcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbGVuZ3RoID09PSAyXG4gICAgICAgIC8vIHBhcmFtcyA9IFtzdGFydCwgZW5kXVxuICAgICAgICBub2RlID0gbmV3IFJhbmdlTm9kZShwYXJhbXNbMF0sIHBhcmFtc1sxXSk7IC8vIHN0YXJ0LCBlbmRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogYWRkIG9yIHN1YnRyYWN0XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnKyc6ICdhZGQnLFxuICAgICAgJy0nOiAnc3VidHJhY3QnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbXVsdGlwbHksIGRpdmlkZSwgbW9kdWx1c1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSkge1xuICAgIHZhciBub2RlLCBsYXN0LCBuYW1lLCBmbjtcbiAgICBub2RlID0gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKTtcbiAgICBsYXN0ID0gbm9kZTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJyonOiAnbXVsdGlwbHknLFxuICAgICAgJy4qJzogJ2RvdE11bHRpcGx5JyxcbiAgICAgICcvJzogJ2RpdmlkZScsXG4gICAgICAnLi8nOiAnZG90RGl2aWRlJyxcbiAgICAgICclJzogJ21vZCcsXG4gICAgICBtb2Q6ICdtb2QnXG4gICAgfTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgICAgLy8gZXhwbGljaXQgb3BlcmF0b3JzXG4gICAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICBsYXN0ID0gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIFtub2RlLCBsYXN0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSkge1xuICAgIHZhciBub2RlLCBsYXN0O1xuICAgIG5vZGUgPSBwYXJzZVJ1bGUyKHN0YXRlKTtcbiAgICBsYXN0ID0gbm9kZTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuID09PSAnaW4nICYmIGlzQ29uc3RhbnROb2RlKG5vZGUpIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUiAmJiAhaXNDb25zdGFudE5vZGUobGFzdCkgJiYgKCFpc09wZXJhdG9yTm9kZShsYXN0KSB8fCBsYXN0Lm9wID09PSAnIScpIHx8IHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgLy8gcGFyc2UgaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgLy8gc3ltYm9sOiAgICAgIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJzJhJywgJygyKzMpYScsICdhIGInXG4gICAgICAgIC8vIG51bWJlcjogICAgICBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcoMiszKTInXG4gICAgICAgIC8vIHBhcmVudGhlc2lzOiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcyKDMrNCknLCAnKDMrNCkoMSsyKSdcbiAgICAgICAgbGFzdCA9IHBhcnNlUnVsZTIoc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnKicsICdtdWx0aXBseScsIFtub2RlLCBsYXN0XSwgdHJ1ZVxuICAgICAgICAvKiBpbXBsaWNpdCAqL1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIEluZmFtb3VzIFwicnVsZSAyXCIgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL2lzc3Vlcy83OTIjaXNzdWVjb21tZW50LTM2MTA2NTM3MFxuICAgKiBFeHBsaWNpdCBkaXZpc2lvbiBnZXRzIGhpZ2hlciBwcmVjZWRlbmNlIHRoYW4gaW1wbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICogd2hlbiB0aGUgZGl2aXNpb24gbWF0Y2hlcyB0aGlzIHBhdHRlcm46IFtudW1iZXJdIC8gW251bWJlcl0gW3N5bWJvbF1cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUnVsZTIoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlVW5hcnkoc3RhdGUpO1xuICAgIHZhciBsYXN0ID0gbm9kZTtcbiAgICB2YXIgdG9rZW5TdGF0ZXMgPSBbXTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBNYXRjaCB0aGUgXCJudW1iZXIgL1wiIHBhcnQgb2YgdGhlIHBhdHRlcm4gXCJudW1iZXIgLyBudW1iZXIgc3ltYm9sXCJcbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJy8nICYmIGlzQ29uc3RhbnROb2RlKGxhc3QpKSB7XG4gICAgICAgIC8vIExvb2sgYWhlYWQgdG8gc2VlIGlmIHRoZSBuZXh0IHRva2VuIGlzIGEgbnVtYmVyXG4gICAgICAgIHRva2VuU3RhdGVzLnB1c2goX2V4dGVuZHMoe30sIHN0YXRlKSk7XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpOyAvLyBNYXRjaCB0aGUgXCJudW1iZXIgLyBudW1iZXJcIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuXG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUikge1xuICAgICAgICAgIC8vIExvb2sgYWhlYWQgYWdhaW5cbiAgICAgICAgICB0b2tlblN0YXRlcy5wdXNoKF9leHRlbmRzKHt9LCBzdGF0ZSkpO1xuICAgICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpOyAvLyBNYXRjaCB0aGUgXCJzeW1ib2xcIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuLCBvciBhIGxlZnQgcGFyZW50aGVzaXNcblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICAgICAgLy8gV2UndmUgbWF0Y2hlZCB0aGUgcGF0dGVybiBcIm51bWJlciAvIG51bWJlciBzeW1ib2xcIi5cbiAgICAgICAgICAgIC8vIFJld2luZCBvbmNlIGFuZCBidWlsZCB0aGUgXCJudW1iZXIgLyBudW1iZXJcIiBub2RlOyB0aGUgc3ltYm9sIHdpbGwgYmUgY29uc3VtZWQgbGF0ZXJcbiAgICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICAgIHRva2VuU3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgbGFzdCA9IHBhcnNlVW5hcnkoc3RhdGUpO1xuICAgICAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJy8nLCAnZGl2aWRlJywgW25vZGUsIGxhc3RdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm90IGEgbWF0Y2gsIHNvIHJld2luZFxuICAgICAgICAgICAgdG9rZW5TdGF0ZXMucG9wKCk7XG5cbiAgICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBOb3QgYSBtYXRjaCwgc28gcmV3aW5kXG4gICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogVW5hcnkgcGx1cyBhbmQgbWludXMsIGFuZCBsb2dpY2FsIGFuZCBiaXR3aXNlIG5vdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VVbmFyeShzdGF0ZSkge1xuICAgIHZhciBuYW1lLCBwYXJhbXMsIGZuO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnLSc6ICd1bmFyeU1pbnVzJyxcbiAgICAgICcrJzogJ3VuYXJ5UGx1cycsXG4gICAgICAnfic6ICdiaXROb3QnLFxuICAgICAgbm90OiAnbm90J1xuICAgIH07XG5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIGZuID0gb3BlcmF0b3JzW3N0YXRlLnRva2VuXTtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW3BhcnNlVW5hcnkoc3RhdGUpXTtcbiAgICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVBvdyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBvd2VyXG4gICAqIE5vdGU6IHBvd2VyIG9wZXJhdG9yIGlzIHJpZ2h0IGFzc29jaWF0aXZlXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVBvdyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUxlZnRIYW5kT3BlcmF0b3JzKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ14nIHx8IHN0YXRlLnRva2VuID09PSAnLl4nKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG5hbWUgPT09ICdeJyA/ICdwb3cnIDogJ2RvdFBvdyc7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZVVuYXJ5KHN0YXRlKV07IC8vIEdvIGJhY2sgdG8gdW5hcnksIHdlIGNhbiBoYXZlICcyXi0zJ1xuXG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogTGVmdCBoYW5kIG9wZXJhdG9yczogZmFjdG9yaWFsIHghLCBjdHJhbnNwb3NlIHgnXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxlZnRIYW5kT3BlcmF0b3JzKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlQ3VzdG9tTm9kZXMoc3RhdGUpO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnISc6ICdmYWN0b3JpYWwnLFxuICAgICAgJ1xcJyc6ICdjdHJhbnNwb3NlJ1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGVdO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGN1c3RvbSBub2RlIGhhbmRsZXIuIEEgbm9kZSBoYW5kbGVyIGNhbiBiZSB1c2VkIHRvIHByb2Nlc3NcbiAgICogbm9kZXMgaW4gYSBjdXN0b20gd2F5LCBmb3IgZXhhbXBsZSBmb3IgaGFuZGxpbmcgYSBwbG90LlxuICAgKlxuICAgKiBBIGhhbmRsZXIgbXVzdCBiZSBwYXNzZWQgYXMgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBwYXJzZSBmdW5jdGlvbi5cbiAgICogLSBtdXN0IGV4dGVuZCBtYXRoLk5vZGVcbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiBfY29tcGlsZShkZWZzOiBPYmplY3QpIDogc3RyaW5nXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gZmluZChmaWx0ZXI6IE9iamVjdCkgOiBOb2RlW11cbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiB0b1N0cmluZygpIDogc3RyaW5nXG4gICAqIC0gdGhlIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgYWxsIHBhcmFtZXRlcnNcbiAgICpcbiAgICogRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICAgICBub2RlcyA9IHtcbiAgICogICAgICAgJ3Bsb3QnOiBQbG90SGFuZGxlclxuICAgKiAgICAgfVxuICAgKlxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGhhbmRsZXIgaXMgY2FsbGVkIGFzOlxuICAgKlxuICAgKiAgICAgbm9kZSA9IG5ldyBQbG90SGFuZGxlcihwYXJhbXMpXG4gICAqXG4gICAqIFRoZSBoYW5kbGVyIHdpbGwgYmUgaW52b2tlZCB3aGVuIGV2YWx1YXRpbmcgYW4gZXhwcmVzc2lvbiBsaWtlOlxuICAgKlxuICAgKiAgICAgbm9kZSA9IG1hdGgucGFyc2UoJ3Bsb3Qoc2luKHgpLCB4KScsIG5vZGVzKVxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDdXN0b21Ob2RlcyhzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgJiYgaGFzT3duUHJvcGVydHkoc3RhdGUuZXh0cmFOb2Rlcywgc3RhdGUudG9rZW4pKSB7XG4gICAgICB2YXIgQ3VzdG9tTm9kZSA9IHN0YXRlLmV4dHJhTm9kZXNbc3RhdGUudG9rZW5dO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBwYXJhbWV0ZXJzXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIHBhcmFtcyA9IFtdO1xuICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIH0gLy8gY3JlYXRlIGEgbmV3IGN1c3RvbSBub2RlXG4gICAgICAvLyBub2luc3BlY3Rpb24gSlNWYWxpZGF0ZVR5cGVzXG5cblxuICAgICAgcmV0dXJuIG5ldyBDdXN0b21Ob2RlKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlU3ltYm9sKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2Ugc3ltYm9sczogZnVuY3Rpb25zLCB2YXJpYWJsZXMsIGNvbnN0YW50cywgdW5pdHNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU3ltYm9sKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWU7XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUiAmJiBzdGF0ZS50b2tlbiBpbiBOQU1FRF9ERUxJTUlURVJTKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShDT05TVEFOVFMsIG5hbWUpKSB7XG4gICAgICAgIC8vIHRydWUsIGZhbHNlLCBudWxsLCAuLi5cbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoQ09OU1RBTlRTW25hbWVdKTtcbiAgICAgIH0gZWxzZSBpZiAoTlVNRVJJQ19DT05TVEFOVFMuaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gTmFOLCBJbmZpbml0eVxuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShudW1lcmljKG5hbWUsICdudW1iZXInKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbmV3IFN5bWJvbE5vZGUobmFtZSk7XG4gICAgICB9IC8vIHBhcnNlIGZ1bmN0aW9uIHBhcmFtZXRlcnMgYW5kIG1hdHJpeCBpbmRleFxuXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmcoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhY2Nlc3NvcnM6XG4gICAqIC0gZnVuY3Rpb24gaW52b2NhdGlvbiBpbiByb3VuZCBicmFja2V0cyAoLi4uKSwgZm9yIGV4YW1wbGUgc3FydCgyKVxuICAgKiAtIGluZGV4IGVuY2xvc2VkIGluIHNxdWFyZSBicmFja2V0cyBbLi4uXSwgZm9yIGV4YW1wbGUgQVsyLDNdXG4gICAqIC0gZG90IG5vdGF0aW9uIGZvciBwcm9wZXJ0aWVzLCBsaWtlIGZvby5iYXJcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAgICBOb2RlIG9uIHdoaWNoIHRvIGFwcGx5IHRoZSBwYXJhbWV0ZXJzLiBJZiB0aGVyZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYXJlIG5vIHBhcmFtZXRlcnMgaW4gdGhlIGV4cHJlc3Npb24sIHRoZSBub2RlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBpdHNlbGYgaXMgcmV0dXJuZWRcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3R5cGVzXSAgRmlsdGVyIHRoZSB0eXBlcyBvZiBub3RhdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGJlIFsnKCcsICdbJywgJy4nXVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUsIHR5cGVzKSB7XG4gICAgdmFyIHBhcmFtcztcblxuICAgIHdoaWxlICgoc3RhdGUudG9rZW4gPT09ICcoJyB8fCBzdGF0ZS50b2tlbiA9PT0gJ1snIHx8IHN0YXRlLnRva2VuID09PSAnLicpICYmICghdHlwZXMgfHwgdHlwZXMuaW5kZXhPZihzdGF0ZS50b2tlbikgIT09IC0xKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBwYXJhbXMgPSBbXTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgaWYgKGlzU3ltYm9sTm9kZShub2RlKSB8fCBpc0FjY2Vzc29yTm9kZShub2RlKSkge1xuICAgICAgICAgIC8vIGZ1bmN0aW9uIGludm9jYXRpb24gbGlrZSBmbigyLCAzKSBvciBvYmouZm4oMiwgMylcbiAgICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgbm9kZSA9IG5ldyBGdW5jdGlvbk5vZGUobm9kZSwgcGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICgyKzMpKDQrNSkgb3Igc3FydCgyKSgxKzIpXG4gICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaXQgaGVyZSBidXQgbGV0IGl0IGJlIGhhbmRsZWQgYnkgcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uXG4gICAgICAgICAgLy8gd2l0aCBjb3JyZWN0IHByZWNlZGVuY2VcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1snKSB7XG4gICAgICAgIC8vIGluZGV4IG5vdGF0aW9uIGxpa2UgdmFyaWFibGVbMiwgM11cbiAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgXSBleHBlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgQWNjZXNzb3JOb2RlKG5vZGUsIG5ldyBJbmRleE5vZGUocGFyYW1zKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkb3Qgbm90YXRpb24gbGlrZSB2YXJpYWJsZS5wcm9wXG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlICE9PSBUT0tFTlRZUEUuU1lNQk9MKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQcm9wZXJ0eSBuYW1lIGV4cGVjdGVkIGFmdGVyIGRvdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zLnB1c2gobmV3IENvbnN0YW50Tm9kZShzdGF0ZS50b2tlbikpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIHZhciBkb3ROb3RhdGlvbiA9IHRydWU7XG4gICAgICAgIG5vZGUgPSBuZXcgQWNjZXNzb3JOb2RlKG5vZGUsIG5ldyBJbmRleE5vZGUocGFyYW1zLCBkb3ROb3RhdGlvbikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGRvdWJsZSBxdW90ZXMgc3RyaW5nLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmcoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgc3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXCInKSB7XG4gICAgICBzdHIgPSBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTsgLy8gY3JlYXRlIGNvbnN0YW50XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHN0cik7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIHN1cnJvdW5kZWQgYnkgZG91YmxlIHF1b3RlcyBcIi4uLlwiXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1wiJykge1xuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxcXCcpIHtcbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlciwgaW1tZWRpYXRlbHkgcHJvY2VzcyB0aGUgbmV4dFxuICAgICAgICAvLyBjaGFyYWN0ZXIgdG8gcHJldmVudCBzdG9wcGluZyBhdCBhIG5leHQgJ1xcXCInXG4gICAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1wiJykge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2Ygc3RyaW5nIFwiIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKCdcIicgKyBzdHIgKyAnXCInKTsgLy8gdW5lc2NhcGUgZXNjYXBlZCBjaGFyYWN0ZXJzXG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc2luZ2xlIHF1b3RlcyBzdHJpbmcuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBzdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcXCcnKSB7XG4gICAgICBzdHIgPSBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTsgLy8gY3JlYXRlIGNvbnN0YW50XG5cbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKHN0cik7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU1hdHJpeChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIHN1cnJvdW5kZWQgYnkgc2luZ2xlIHF1b3RlcyAnLi4uJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSkge1xuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcXCcnKSB7XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXFxcJykge1xuICAgICAgICAvLyBlc2NhcGUgY2hhcmFjdGVyLCBpbW1lZGlhdGVseSBwcm9jZXNzIHRoZSBuZXh0XG4gICAgICAgIC8vIGNoYXJhY3RlciB0byBwcmV2ZW50IHN0b3BwaW5nIGF0IGEgbmV4dCAnXFwnJ1xuICAgICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcXCcnKSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBzdHJpbmcgXFwnIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKCdcIicgKyBzdHIgKyAnXCInKTsgLy8gdW5lc2NhcGUgZXNjYXBlZCBjaGFyYWN0ZXJzXG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHRoZSBtYXRyaXhcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTWF0cml4KHN0YXRlKSB7XG4gICAgdmFyIGFycmF5LCBwYXJhbXMsIHJvd3MsIGNvbHM7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdbJykge1xuICAgICAgLy8gbWF0cml4IFsuLi5dXG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5vbi1lbXB0eSBtYXRyaXhcbiAgICAgICAgdmFyIHJvdyA9IHBhcnNlUm93KHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgICAgIC8vIDIgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICByb3dzID0gMTtcbiAgICAgICAgICBwYXJhbXMgPSBbcm93XTsgLy8gdGhlIHJvd3Mgb2YgdGhlIG1hdHJpeCBhcmUgc2VwYXJhdGVkIGJ5IGRvdC1jb21tYSdzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICc7Jykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXNbcm93c10gPSBwYXJzZVJvdyhzdGF0ZSk7XG4gICAgICAgICAgICByb3dzKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIG1hdHJpeCBdIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gY2hlY2sgaWYgdGhlIG51bWJlciBvZiBjb2x1bW5zIG1hdGNoZXMgaW4gYWxsIHJvd3NcblxuICAgICAgICAgIGNvbHMgPSBwYXJhbXNbMF0uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXNbcl0uaXRlbXMubGVuZ3RoICE9PSBjb2xzKSB7XG4gICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKHN0YXRlLCAnQ29sdW1uIGRpbWVuc2lvbnMgbWlzbWF0Y2ggJyArICcoJyArIHBhcmFtc1tyXS5pdGVtcy5sZW5ndGggKyAnICE9PSAnICsgY29scyArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXJyYXkgPSBuZXcgQXJyYXlOb2RlKHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gMSBkaW1lbnNpb25hbCB2ZWN0b3JcbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2YgbWF0cml4IF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIGFycmF5ID0gcm93O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzIGlzIGFuIGVtcHR5IG1hdHJpeCBcIlsgXVwiXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICBhcnJheSA9IG5ldyBBcnJheU5vZGUoW10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIGFycmF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHNpbmdsZSBjb21tYS1zZXBhcmF0ZWQgcm93IGZyb20gYSBtYXRyaXgsIGxpa2UgJ2EsIGIsIGMnXG4gICAqIEByZXR1cm4ge0FycmF5Tm9kZX0gbm9kZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUm93KHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtwYXJzZUFzc2lnbm1lbnQoc3RhdGUpXTtcbiAgICB2YXIgbGVuID0gMTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2UgZXhwcmVzc2lvblxuXG4gICAgICBwYXJhbXNbbGVuXSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICBsZW4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShwYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhbiBvYmplY3QsIGVuY2xvc2VkIGluIGFuZ2xlIGJyYWNrZXRzey4uLn0sIGZvciBleGFtcGxlIHt2YWx1ZTogMn1cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlT2JqZWN0KHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAneycpIHtcbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgdmFyIGtleTtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICAgIGRvIHtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ30nKSB7XG4gICAgICAgICAgLy8gcGFyc2Uga2V5XG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnXCInKSB7XG4gICAgICAgICAgICBrZXkgPSBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuID09PSAnXFwnJykge1xuICAgICAgICAgICAga2V5ID0gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSICYmIHN0YXRlLnRva2VuIGluIE5BTUVEX0RFTElNSVRFUlMpIHtcbiAgICAgICAgICAgIGtleSA9IHN0YXRlLnRva2VuO1xuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1N5bWJvbCBvciBzdHJpbmcgZXhwZWN0ZWQgYXMgb2JqZWN0IGtleScpO1xuICAgICAgICAgIH0gLy8gcGFyc2Uga2V5L3ZhbHVlIHNlcGFyYXRvclxuXG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICc6Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdDb2xvbiA6IGV4cGVjdGVkIGFmdGVyIG9iamVjdCBrZXknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIGtleVxuXG4gICAgICAgICAgcHJvcGVydGllc1trZXldID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ30nKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnQ29tbWEgLCBvciBicmFja2V0IH0gZXhwZWN0ZWQgYWZ0ZXIgb2JqZWN0IHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHZhciBub2RlID0gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7IC8vIHBhcnNlIGluZGV4IHBhcmFtZXRlcnNcblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU51bWJlcihzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGEgbnVtYmVyXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU51bWJlcihzdGF0ZSkge1xuICAgIHZhciBudW1iZXJTdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgbnVtYmVyXG4gICAgICBudW1iZXJTdHIgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKG51bWVyaWMobnVtYmVyU3RyLCBjb25maWcubnVtYmVyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlUGFyZW50aGVzZXMoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJlbnRoZXNlc1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VQYXJlbnRoZXNlcyhzdGF0ZSkge1xuICAgIHZhciBub2RlOyAvLyBjaGVjayBpZiBpdCBpcyBhIHBhcmVudGhlc2l6ZWQgZXhwcmVzc2lvblxuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgIC8vIHBhcmVudGhlc2VzICguLi4pXG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpOyAvLyBzdGFydCBhZ2FpblxuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBQYXJlbnRoZXNpc05vZGUobm9kZSk7XG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRW5kKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogRXZhbHVhdGVkIHdoZW4gdGhlIGV4cHJlc3Npb24gaXMgbm90IHlldCBlbmRlZCBidXQgZXhwZWN0ZWQgdG8gZW5kXG4gICAqIEByZXR1cm4ge05vZGV9IHJlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRW5kKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnJykge1xuICAgICAgLy8gc3ludGF4IGVycm9yIG9yIHVuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb25cbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1ZhbHVlIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgY3VycmVudCByb3cgdmFsdWUgKG9uZSBiYXNlZClcbiAgICogUmV0dXJucyB0aGUgbGluZSBvZiB0aGUgY3VycmVudGx5IGhhbmRsZWQgZXhwcmVzc2lvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICAvKiBUT0RPOiBpbXBsZW1lbnQga2VlcGluZyB0cmFjayBvbiB0aGUgcm93IG51bWJlclxuICBmdW5jdGlvbiByb3cgKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgKi9cblxuICAvKipcbiAgICogU2hvcnRjdXQgZm9yIGdldHRpbmcgdGhlIGN1cnJlbnQgY29sIHZhbHVlIChvbmUgYmFzZWQpXG4gICAqIFJldHVybnMgdGhlIGNvbHVtbiAocG9zaXRpb24pIHdoZXJlIHRoZSBsYXN0IHN0YXRlLnRva2VuIHN0YXJ0c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNvbChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5pbmRleCAtIHN0YXRlLnRva2VuLmxlbmd0aCArIDE7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlcnJvclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICogQHJldHVybiB7U3ludGF4RXJyb3J9IGluc3RhbnRpYXRlZCBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCBtZXNzYWdlKSB7XG4gICAgdmFyIGMgPSBjb2woc3RhdGUpO1xuICAgIHZhciBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihtZXNzYWdlICsgJyAoY2hhciAnICsgYyArICcpJyk7XG4gICAgZXJyb3IuY2hhciA9IGM7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZXJyb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge0Vycm9yfSBpbnN0YW50aWF0ZWQgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICAgIHZhciBjID0gY29sKHN0YXRlKTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSArICcgKGNoYXIgJyArIGMgKyAnKScpO1xuICAgIGVycm9yLmNoYXIgPSBjO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBwYXJzZTtcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVCaWdOdW1iZXJDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEJpZ051bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlQmlnTnVtYmVyQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUNvbXBsZXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbXBsZXhEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUNvbXBsZXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZW5zZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGVuc2VNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlRnJhY3Rpb25DbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZyYWN0aW9uRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVGcmFjdGlvbkNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVHlwZWQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB0eXBlZERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVR5cGVkXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVxdWFsU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFcXVhbFNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTnVtYmVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTnVtYmVyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGcmFjdGlvbiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZyYWN0aW9uRGVwZW5kZW5jaWVzID0ge1xuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZyYWN0aW9uXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXRyaXggfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU1hdHJpeFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVbmFyeU1pbnVzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgdW5hcnlNaW51c0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVVuYXJ5TWludXNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWJzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYWJzRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWJzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFkZFNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGFkZFNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFkZFNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgemVyb3NEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1plcm9zLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSb3VuZCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHJvdW5kRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgemVyb3NEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJvdW5kXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVaZXJvcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHplcm9zRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVplcm9zXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU11bHRpcGx5U2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNdWx0aXBseVNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU2l6ZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHNpemVEZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNpemVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkb3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RvdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU11bHRpcGx5IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbXVsdGlwbHlEZXBlbmRlbmNpZXMgPSB7XG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZG90RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU11bHRpcGx5XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY29uakRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uai5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzaXplRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTaXplLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURvdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRvdERlcGVuZGVuY2llcyA9IHtcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBjb25qRGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgc2l6ZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURvdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25qIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgY29uakRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbmpcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJ0cmFjdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHN1YnRyYWN0RGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3VidHJhY3Rcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMYXJnZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBsYXJnZXJEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVMYXJnZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJZGVudGl0eSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGlkZW50aXR5RGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUlkZW50aXR5XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBiaWdudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ251bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTnVtZXJpYyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG51bWVyaWNEZXBlbmRlbmNpZXMgPSB7XG4gIGJpZ251bWJlckRlcGVuZGVuY2llcyxcbiAgZnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlTnVtZXJpY1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCaWdudW1iZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBiaWdudW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUJpZ251bWJlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEaXZpZGVTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIG51bWVyaWNEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEaXZpZGVTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHN1YnNldERlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3Vic2V0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWwuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmb3JtYXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Zvcm1hdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaXNOdW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHBvd0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUG93LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVW5pdENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgVW5pdERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxEZXBlbmRlbmNpZXMsXG4gIGZpeERlcGVuZGVuY2llcyxcbiAgZm9ybWF0RGVwZW5kZW5jaWVzLFxuICBpc051bWVyaWNEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIHBvd0RlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVVbml0Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVxdWFsIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXF1YWxEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXF1YWxcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY2VpbERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ2VpbC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZmxvb3JEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Zsb29yLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGaXggfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmaXhEZXBlbmRlbmNpZXMgPSB7XG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIGNlaWxEZXBlbmRlbmNpZXMsXG4gIGZsb29yRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGaXhcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDZWlsIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgY2VpbERlcGVuZGVuY2llcyA9IHtcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDZWlsXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRmxvb3IgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmbG9vckRlcGVuZGVuY2llcyA9IHtcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgcm91bmREZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGbG9vclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGb3JtYXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmb3JtYXREZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGb3JtYXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSXNOdW1lcmljIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaXNOdW1lcmljRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlSXNOdW1lcmljXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaWRlbnRpdHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQb3cgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBwb3dEZXBlbmRlbmNpZXMgPSB7XG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIGZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBpZGVudGl0eURlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlUG93XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgVW5pdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5pdENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3ltYm9sTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgVW5pdERlcGVuZGVuY2llcyxcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3ltYm9sTm9kZVxufTsiLCJpbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyB0b1N5bWJvbCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbnZhciBuYW1lID0gJ1N5bWJvbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aCcsICc/VW5pdCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVN5bWJvbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoLFxuICAgIFVuaXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBzb21lIG5hbWUgaXMgYSB2YWx1ZWxlc3MgdW5pdCBsaWtlIFwiaW5jaFwiLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWx1ZWxlc3NVbml0KG5hbWUpIHtcbiAgICByZXR1cm4gVW5pdCA/IFVuaXQuaXNWYWx1ZWxlc3NVbml0KG5hbWUpIDogZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBTeW1ib2xOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBIHN5bWJvbCBub2RlIGNhbiBob2xkIGFuZCByZXNvbHZlIGEgc3ltYm9sXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIFN5bWJvbE5vZGUobmFtZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTeW1ib2xOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwibmFtZVwiJyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgfVxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudHlwZSA9ICdTeW1ib2xOb2RlJztcbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuaXNTeW1ib2xOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcblxuICAgIGlmIChhcmdOYW1lc1tuYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gdGhpcyBpcyBhIEZ1bmN0aW9uQXNzaWdubWVudCBhcmd1bWVudFxuICAgICAgLy8gKGxpa2UgYW4geCB3aGVuIGluc2lkZSB0aGUgZXhwcmVzc2lvbiBvZiBhIGZ1bmN0aW9uIGFzc2lnbm1lbnQgYGYoeCkgPSAuLi5gKVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gYXJnc1tuYW1lXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChuYW1lIGluIG1hdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUpIDogZ2V0U2FmZVByb3BlcnR5KG1hdGgsIG5hbWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlzVW5pdCA9IGlzVmFsdWVsZXNzVW5pdChuYW1lKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUpIDogaXNVbml0ID8gbmV3IFVuaXQobnVsbCwgbmFtZSkgOiB1bmRlZihuYW1lKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsvLyBub3RoaW5nIHRvIGRvLCB3ZSBkb24ndCBoYXZlIGNoaWxkc1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFN5bWJvbE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtTeW1ib2xOb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9O1xuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yICdVbmRlZmluZWQgc3ltYm9sIHtuYW1lfSdcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG5cblxuICBmdW5jdGlvbiB1bmRlZihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgc3ltYm9sICcgKyBuYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtTeW1ib2xOb2RlfVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgU3ltYm9sTm9kZSh0aGlzLm5hbWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBuYW1lID0gZXNjYXBlKHRoaXMubmFtZSk7XG5cbiAgICBpZiAobmFtZSA9PT0gJ3RydWUnIHx8IG5hbWUgPT09ICdmYWxzZScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWJvb2xlYW5cIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdpJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtaW1hZ2luYXJ5LXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ0luZmluaXR5Jykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtaW5maW5pdHktc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnTmFOJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtbmFuLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1udWxsLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXVuZGVmaW5lZC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1N5bWJvbE5vZGUnLFxuICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgU3ltYm9sTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3ltYm9sTm9kZVwiLCBuYW1lOiBcInhcIn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtTeW1ib2xOb2RlfVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgU3ltYm9sTm9kZShqc29uLm5hbWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGlzVW5pdCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBtYXRoW3RoaXMubmFtZV0gPT09ICd1bmRlZmluZWQnICYmIGlzVmFsdWVsZXNzVW5pdCh0aGlzLm5hbWUpKSB7XG4gICAgICBpc1VuaXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzeW1ib2wgPSB0b1N5bWJvbCh0aGlzLm5hbWUsIGlzVW5pdCk7XG5cbiAgICBpZiAoc3ltYm9sWzBdID09PSAnXFxcXCcpIHtcbiAgICAgIC8vIG5vIHNwYWNlIG5lZWRlZCBpZiB0aGUgc3ltYm9sIHN0YXJ0cyB3aXRoICdcXCdcbiAgICAgIHJldHVybiBzeW1ib2w7XG4gICAgfSAvLyB0aGUgc3BhY2UgcHJldmVudHMgc3ltYm9scyBmcm9tIGJyZWFraW5nIHN0dWZmIGxpa2UgJ1xcY2RvdCcgaWYgaXQncyB3cml0dGVuIHJpZ2h0IGJlZm9yZSB0aGUgc3ltYm9sXG5cblxuICAgIHJldHVybiAnICcgKyBzeW1ib2w7XG4gIH07XG5cbiAgcmV0dXJuIFN5bWJvbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHBhcnNlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQYXJzZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFdmFsdWF0ZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGV2YWx1YXRlRGVwZW5kZW5jaWVzID0ge1xuICBwYXJzZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUV2YWx1YXRlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FjY2Vzc29yTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQXJyYXlOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBcnJheU5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQmxvY2tOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCbG9ja05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uZGl0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbnN0YW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGdW5jdGlvbk5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEluZGV4Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSW5kZXhOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBPYmplY3ROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNPYmplY3ROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc09wZXJhdG9yTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQYXJlbnRoZXNpc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJhbmdlTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmFuZ2VOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmVsYXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyc2UgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBwYXJzZURlcGVuZGVuY2llcyA9IHtcbiAgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzLFxuICBBcnJheU5vZGVEZXBlbmRlbmNpZXMsXG4gIEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzLFxuICBCbG9ja05vZGVEZXBlbmRlbmNpZXMsXG4gIENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyxcbiAgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzLFxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzLFxuICBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMsXG4gIEluZGV4Tm9kZURlcGVuZGVuY2llcyxcbiAgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyxcbiAgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzLFxuICBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMsXG4gIFJhbmdlTm9kZURlcGVuZGVuY2llcyxcbiAgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMsXG4gIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMsXG4gIG51bWVyaWNEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQYXJzZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3Vic2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJzZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFjY2Vzc29yTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgc3Vic2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBY2Nlc3Nvck5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFycmF5Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFycmF5Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQXJyYXlOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3Vic2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJzZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFzc2lnbm1lbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgc3Vic2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBc3NpZ25tZW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmVzdWx0U2V0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSZXN1bHRTZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUJsb2NrTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEJsb2NrTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgUmVzdWx0U2V0RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVCbG9ja05vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZVJlc3VsdFNldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJlc3VsdFNldERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlUmVzdWx0U2V0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25kaXRpb25hbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbmRpdGlvbmFsTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uc3RhbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25zdGFudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTeW1ib2xOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGdW5jdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZ1bmN0aW9uTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmFuZ2VEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JhbmdlQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNpemVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUluZGV4Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEluZGV4Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgUmFuZ2VEZXBlbmRlbmNpZXMsXG4gIHNpemVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUluZGV4Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlUmFuZ2VDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJhbmdlRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVSYW5nZUNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPYmplY3ROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlT2JqZWN0Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVPcGVyYXRvck5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBhcmVudGhlc2lzTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUGFyZW50aGVzaXNOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSYW5nZU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSYW5nZU5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJhbmdlTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVsYXRpb25hbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUmVsYXRpb25hbE5vZGVcbn07IiwiaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZXZhbHVhdGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAncGFyc2UnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXZhbHVhdGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBwYXJzZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRXZhbHVhdGUgYW4gZXhwcmVzc2lvbi5cbiAgICpcbiAgICogTm90ZSB0aGUgZXZhbHVhdGluZyBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgbWF5IGludm9sdmUgc2VjdXJpdHkgcmlza3MsXG4gICAqIHNlZSBbaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbF0oaHR0cHM6Ly9tYXRoanMub3JnL2RvY3MvZXhwcmVzc2lvbnMvc2VjdXJpdHkuaHRtbCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguZXZhbHVhdGUoZXhwcilcbiAgICogICAgIG1hdGguZXZhbHVhdGUoZXhwciwgc2NvcGUpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSwgc2NvcGUpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCcoMiszKS80JykgICAgICAgICAgICAgICAgLy8gMS4yNVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnc3FydCgzXjIgKyA0XjIpJykgICAgICAgIC8vIDVcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ3NxcnQoLTQpJykgICAgICAgICAgICAgICAvLyAyaVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbJ2E9MycsICdiPTQnLCAnYSpiJ10pICAgIC8vIFszLCA0LCAxMl1cbiAgICpcbiAgICogICAgIGxldCBzY29wZSA9IHthOjMsIGI6NH1cbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ2EgKiBiJywgc2NvcGUpICAgICAgICAgICAvLyAxMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcGFyc2UsIGNvbXBpbGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IE1hdHJpeH0gZXhwciAgIFRoZSBleHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Njb3BlXSAgICAgICAgICAgICAgICAgICAgU2NvcGUgdG8gcmVhZC93cml0ZSB2YXJpYWJsZXNcbiAgICogQHJldHVybiB7Kn0gVGhlIHJlc3VsdCBvZiB0aGUgZXhwcmVzc2lvblxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZXhwcikge1xuICAgICAgdmFyIHNjb3BlID0ge307XG4gICAgICByZXR1cm4gcGFyc2UoZXhwcikuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICB9LFxuICAgICdzdHJpbmcsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ09iamVjdChleHByLCBzY29wZSkge1xuICAgICAgcmV0dXJuIHBhcnNlKGV4cHIpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeChleHByKSB7XG4gICAgICB2YXIgc2NvcGUgPSB7fTtcbiAgICAgIHJldHVybiBkZWVwTWFwKGV4cHIsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW50cnkpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgT2JqZWN0JzogZnVuY3Rpb24gQXJyYXlNYXRyaXhPYmplY3QoZXhwciwgc2NvcGUpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKGV4cHIsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW50cnkpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGludkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSW52LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURpdmlkZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRpdmlkZURlcGVuZGVuY2llcyA9IHtcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgaW52RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGl2aWRlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGV0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaWRlbnRpdHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUludiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGludkRlcGVuZGVuY2llcyA9IHtcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRldERlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBpZGVudGl0eURlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUludlxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbHVwRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMdXAuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkZXREZXBlbmRlbmNpZXMgPSB7XG4gIGx1cERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYUNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhYnNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGxhcmdlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTHVwIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbHVwRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhRGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBsYXJnZXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlTHVwXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGaWJvbmFjY2lIZWFwQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNwYUNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgU3BhRGVwZW5kZW5jaWVzID0ge1xuICBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTcGFDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbGFyZ2VyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMYXJnZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNtYWxsZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NtYWxsZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMgPSB7XG4gIGxhcmdlckRlcGVuZGVuY2llcyxcbiAgc21hbGxlckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU21hbGxlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHNtYWxsZXJEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTbWFsbGVyXG59OyIsImltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2x1cCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWJzJywgJ2FkZFNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnc3VidHJhY3QnLCAnbGFyZ2VyJywgJ2VxdWFsU2NhbGFyJywgJ3VuYXJ5TWludXMnLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4JywgJ1NwYSddO1xuZXhwb3J0IHZhciBjcmVhdGVMdXAgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWJzLFxuICAgIGFkZFNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgc3VidHJhY3QsXG4gICAgbGFyZ2VyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIHVuYXJ5TWludXMsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4LFxuICAgIFNwYVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBNYXRyaXggTFUgZGVjb21wb3NpdGlvbiB3aXRoIHBhcnRpYWwgcGl2b3RpbmcuIE1hdHJpeCBgQWAgaXMgZGVjb21wb3NlZCBpbiB0d28gbWF0cmljZXMgKGBMYCwgYFVgKSBhbmQgYVxuICAgKiByb3cgcGVybXV0YXRpb24gdmVjdG9yIGBwYCB3aGVyZSBgQVtwLDpdID0gTCAqIFVgXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5sdXAoQSlcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgY29uc3QgbSA9IFtbMiwgMV0sIFsxLCA0XV1cbiAgICogICAgY29uc3QgciA9IG1hdGgubHVwKG0pXG4gICAqICAgIC8vIHIgPSB7XG4gICAqICAgIC8vICAgTDogW1sxLCAwXSwgWzAuNSwgMV1dLFxuICAgKiAgICAvLyAgIFU6IFtbMiwgMV0sIFswLCAzLjVdXSxcbiAgICogICAgLy8gICBQOiBbMCwgMV1cbiAgICogICAgLy8gfVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgc2x1LCBsc29sdmUsIGx1c29sdmUsIHVzb2x2ZVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeCB8IEFycmF5fSBBICAgIEEgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBvciBhcnJheSBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBMVVAgZGVjb21wb3NpdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7e0w6IEFycmF5IHwgTWF0cml4LCBVOiBBcnJheSB8IE1hdHJpeCwgUDogQXJyYXkuPG51bWJlcj59fSBUaGUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXgsIHRoZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeCBhbmQgdGhlIHBlcm11dGF0aW9uIG1hdHJpeC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgRGVuc2VNYXRyaXg6IGZ1bmN0aW9uIERlbnNlTWF0cml4KG0pIHtcbiAgICAgIHJldHVybiBfZGVuc2VMVVAobSk7XG4gICAgfSxcbiAgICBTcGFyc2VNYXRyaXg6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeChtKSB7XG4gICAgICByZXR1cm4gX3NwYXJzZUxVUChtKTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShhKSB7XG4gICAgICAvLyBjcmVhdGUgZGVuc2UgbWF0cml4IGZyb20gYXJyYXlcbiAgICAgIHZhciBtID0gbWF0cml4KGEpOyAvLyBsdXAsIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cblxuICAgICAgdmFyIHIgPSBfZGVuc2VMVVAobSk7IC8vIHJlc3VsdFxuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIEw6IHIuTC52YWx1ZU9mKCksXG4gICAgICAgIFU6IHIuVS52YWx1ZU9mKCksXG4gICAgICAgIHA6IHIucFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9kZW5zZUxVUChtKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IG0uX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBtLl9zaXplWzFdOyAvLyBtaW5pbXVtIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cywgY29sdW1ucyk7IC8vIG1hdHJpeCBhcnJheSwgY2xvbmUgb3JpZ2luYWwgZGF0YVxuXG4gICAgdmFyIGRhdGEgPSBjbG9uZShtLl9kYXRhKTsgLy8gbCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgbGRhdGEgPSBbXTtcbiAgICB2YXIgbHNpemUgPSBbcm93cywgbl07IC8vIHUgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHVkYXRhID0gW107XG4gICAgdmFyIHVzaXplID0gW24sIGNvbHVtbnNdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgazsgLy8gcGVybXV0YXRpb24gdmVjdG9yXG5cbiAgICB2YXIgcCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgcFtpXSA9IGk7XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gc2tpcCBmaXJzdCBjb2x1bW4gaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAvLyBsb29wIHJvd3NcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIG1pbiBpLGpcbiAgICAgICAgICB2YXIgbWluID0gTWF0aC5taW4oaSwgaik7IC8vIHZbaSwgal1cblxuICAgICAgICAgIHZhciBzID0gMDsgLy8gbG9vcCB1cCB0byBtaW5cblxuICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBtaW47IGsrKykge1xuICAgICAgICAgICAgLy8gcyA9IGxbaSwga10gLSBkYXRhW2ssIGpdXG4gICAgICAgICAgICBzID0gYWRkU2NhbGFyKHMsIG11bHRpcGx5U2NhbGFyKGRhdGFbaV1ba10sIGRhdGFba11bal0pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2ldW2pdID0gc3VidHJhY3QoZGF0YVtpXVtqXSwgcyk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gcm93IHdpdGggbGFyZ2VyIHZhbHVlIGluIGN2ZWN0b3IsIHJvdyA+PSBqXG5cblxuICAgICAgdmFyIHBpID0gajtcbiAgICAgIHZhciBwYWJzdiA9IDA7XG4gICAgICB2YXIgdmpqID0gMDsgLy8gbG9vcCByb3dzXG5cbiAgICAgIGZvciAoaSA9IGo7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gZGF0YSBAIGksIGpcbiAgICAgICAgdmFyIHYgPSBkYXRhW2ldW2pdOyAvLyBhYnNvbHV0ZSB2YWx1ZVxuXG4gICAgICAgIHZhciBhYnN2ID0gYWJzKHYpOyAvLyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gcGl2b3RlIHZhbHVlXG5cbiAgICAgICAgaWYgKGxhcmdlcihhYnN2LCBwYWJzdikpIHtcbiAgICAgICAgICAvLyBzdG9yZSByb3dcbiAgICAgICAgICBwaSA9IGk7IC8vIHVwZGF0ZSBtYXggdmFsdWVcblxuICAgICAgICAgIHBhYnN2ID0gYWJzdjsgLy8gdmFsdWUgQCBbaiwgal1cblxuICAgICAgICAgIHZqaiA9IHY7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gc3dhcCByb3dzIChqIDwtPiBwaSlcblxuXG4gICAgICBpZiAoaiAhPT0gcGkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gcFxuICAgICAgICBwW2pdID0gW3BbcGldLCBwW3BpXSA9IHBbal1dWzBdOyAvLyBzd2FwIGogPC0+IHBpIGluIGRhdGFcblxuICAgICAgICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIGRhdGEpO1xuICAgICAgfSAvLyBjaGVjayBjb2x1bW4gaXMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgLy8gbG9vcCByb3dzIChsb3dlciB0cmlhbmd1bGFyIG1hdHJpeClcbiAgICAgICAgZm9yIChpID0gaiArIDE7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyB2YWx1ZSBAIGksIGpcbiAgICAgICAgICB2YXIgdmlqID0gZGF0YVtpXVtqXTtcblxuICAgICAgICAgIGlmICghZXF1YWxTY2FsYXIodmlqLCAwKSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGRhdGFcbiAgICAgICAgICAgIGRhdGFbaV1bal0gPSBkaXZpZGVTY2FsYXIoZGF0YVtpXVtqXSwgdmpqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBsb29wIHJvd3NcbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByb3cgaW4gYXJyYXlzXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV0gPSBbXTtcbiAgICAgICAgICB9IC8vIExcblxuXG4gICAgICAgICAgbGRhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayB3ZSBhcmUgaW4gdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaSA8IGopIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgICAgLy8gTFxuICAgICAgICAgICAgbGRhdGFbaV1bal0gPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGRpYWdvbmFsIHZhbHVlXG5cblxuICAgICAgICBpZiAoaSA9PT0gaikge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgICAvLyBMXG4gICAgICAgICAgICBsZGF0YVtpXVtqXSA9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgLy8gVVxuICAgICAgICAgIHVkYXRhW2ldW2pdID0gMDtcbiAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAvLyBMXG4gICAgICAgICAgbGRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsIG1hdHJpeFxuXG5cbiAgICB2YXIgbCA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBsZGF0YSxcbiAgICAgIHNpemU6IGxzaXplXG4gICAgfSk7IC8vIHUgbWF0cml4XG5cbiAgICB2YXIgdSA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiB1ZGF0YSxcbiAgICAgIHNpemU6IHVzaXplXG4gICAgfSk7IC8vIHAgdmVjdG9yXG5cbiAgICB2YXIgcHYgPSBbXTtcblxuICAgIGZvciAoaSA9IDAsIG4gPSBwLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcHZbcFtpXV0gPSBpO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpY2VzXG5cblxuICAgIHJldHVybiB7XG4gICAgICBMOiBsLFxuICAgICAgVTogdSxcbiAgICAgIHA6IHB2LFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ0w6ICcgKyB0aGlzLkwudG9TdHJpbmcoKSArICdcXG5VOiAnICsgdGhpcy5VLnRvU3RyaW5nKCkgKyAnXFxuUDogJyArIHRoaXMucDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX3NwYXJzZUxVUChtKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IG0uX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBtLl9zaXplWzFdOyAvLyBtaW5pbXVtIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cywgY29sdW1ucyk7IC8vIG1hdHJpeCBhcnJheXMgKHdpbGwgbm90IGJlIG1vZGlmaWVkLCB0aGFua3MgdG8gcGVybXV0YXRpb24gdmVjdG9yKVxuXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcztcbiAgICB2YXIgaW5kZXggPSBtLl9pbmRleDtcbiAgICB2YXIgcHRyID0gbS5fcHRyOyAvLyBsIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBsdmFsdWVzID0gW107XG4gICAgdmFyIGxpbmRleCA9IFtdO1xuICAgIHZhciBscHRyID0gW107XG4gICAgdmFyIGxzaXplID0gW3Jvd3MsIG5dOyAvLyB1IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB1dmFsdWVzID0gW107XG4gICAgdmFyIHVpbmRleCA9IFtdO1xuICAgIHZhciB1cHRyID0gW107XG4gICAgdmFyIHVzaXplID0gW24sIGNvbHVtbnNdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgazsgLy8gcGVybXV0YXRpb24gdmVjdG9ycywgKGN1cnJlbnQgaW5kZXggLT4gb3JpZ2luYWwgaW5kZXgpIGFuZCAob3JpZ2luYWwgaW5kZXggLT4gY3VycmVudCBpbmRleClcblxuICAgIHZhciBwdkNvID0gW107XG4gICAgdmFyIHB2T2MgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIHB2Q29baV0gPSBpO1xuICAgICAgcHZPY1tpXSA9IGk7XG4gICAgfSAvLyBzd2FwIGluZGljZXMgaW4gcGVybXV0YXRpb24gdmVjdG9ycyAoY29uZGl0aW9uIHggPCB5KSFcblxuXG4gICAgdmFyIHN3YXBJbmRlY2VzID0gZnVuY3Rpb24gc3dhcEluZGVjZXMoeCwgeSkge1xuICAgICAgLy8gZmluZCBwdiBpbmRlY2VzIGdldHRpbmcgZGF0YSBmcm9tIHggYW5kIHlcbiAgICAgIHZhciBreCA9IHB2T2NbeF07XG4gICAgICB2YXIga3kgPSBwdk9jW3ldOyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIGN1cnJlbnQgLT4gb3JpZ2luYWxcblxuICAgICAgcHZDb1treF0gPSB5O1xuICAgICAgcHZDb1treV0gPSB4OyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIG9yaWdpbmFsIC0+IGN1cnJlbnRcblxuICAgICAgcHZPY1t4XSA9IGt5O1xuICAgICAgcHZPY1t5XSA9IGt4O1xuICAgIH07IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgIC8vIHNwYXJzZSBhY2N1bXVsYXRvclxuICAgICAgdmFyIHNwYSA9IG5ldyBTcGEoKTsgLy8gY2hlY2sgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXggaGFzIGEgdmFsdWUgQCBjb2x1bW4galxuXG4gICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgICBscHRyLnB1c2gobHZhbHVlcy5sZW5ndGgpOyAvLyBmaXJzdCB2YWx1ZSBpbiBqIGNvbHVtbiBmb3IgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuICAgICAgICBsdmFsdWVzLnB1c2goMSk7XG4gICAgICAgIGxpbmRleC5wdXNoKGopO1xuICAgICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgICAgdXB0ci5wdXNoKHV2YWx1ZXMubGVuZ3RoKTsgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBjb3B5IGNvbHVtbiBqIGludG8gc3BhcnNlIGFjY3VtdWxhdG9yXG5cbiAgICAgIGZvciAoayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGluZGV4W2tdOyAvLyBjb3B5IGNvbHVtbiB2YWx1ZXMgaW50byBzcGFyc2UgYWNjdW11bGF0b3IgKHVzZSBwZXJtdXRhdGlvbiB2ZWN0b3IpXG5cbiAgICAgICAgc3BhLnNldChwdkNvW2ldLCB2YWx1ZXNba10pO1xuICAgICAgfSAvLyBza2lwIGZpcnN0IGNvbHVtbiBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAvLyBsb29wIHJvd3MgaW4gY29sdW1uIGogKGFib3ZlIGRpYWdvbmFsKVxuICAgICAgICBzcGEuZm9yRWFjaCgwLCBqIC0gMSwgZnVuY3Rpb24gKGssIHZraikge1xuICAgICAgICAgIC8vIGxvb3Agcm93cyBpbiBjb2x1bW4gayAoTClcbiAgICAgICAgICBTcGFyc2VNYXRyaXguX2ZvckVhY2hSb3coaywgbHZhbHVlcywgbGluZGV4LCBscHRyLCBmdW5jdGlvbiAoaSwgdmlrKSB7XG4gICAgICAgICAgICAvLyBjaGVjayByb3cgaXMgYmVsb3cga1xuICAgICAgICAgICAgaWYgKGkgPiBrKSB7XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBzcGEgdmFsdWVcbiAgICAgICAgICAgICAgc3BhLmFjY3VtdWxhdGUoaSwgdW5hcnlNaW51cyhtdWx0aXBseVNjYWxhcih2aWssIHZraikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIHJvdyB3aXRoIGxhcmdlciB2YWx1ZSBpbiBzcGEsIHJvdyA+PSBqXG5cblxuICAgICAgdmFyIHBpID0gajtcbiAgICAgIHZhciB2amogPSBzcGEuZ2V0KGopO1xuICAgICAgdmFyIHBhYnN2ID0gYWJzKHZqaik7IC8vIGxvb3AgdmFsdWVzIGluIHNwYSAob3JkZXIgYnkgcm93LCBiZWxvdyBkaWFnb25hbClcblxuICAgICAgc3BhLmZvckVhY2goaiArIDEsIHJvd3MgLSAxLCBmdW5jdGlvbiAoeCwgdikge1xuICAgICAgICAvLyBhYnNvbHV0ZSB2YWx1ZVxuICAgICAgICB2YXIgYWJzdiA9IGFicyh2KTsgLy8gdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHBpdm90ZSB2YWx1ZVxuXG4gICAgICAgIGlmIChsYXJnZXIoYWJzdiwgcGFic3YpKSB7XG4gICAgICAgICAgLy8gc3RvcmUgcm93XG4gICAgICAgICAgcGkgPSB4OyAvLyB1cGRhdGUgbWF4IHZhbHVlXG5cbiAgICAgICAgICBwYWJzdiA9IGFic3Y7IC8vIHZhbHVlIEAgW2osIGpdXG5cbiAgICAgICAgICB2amogPSB2O1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gc3dhcCByb3dzIChqIDwtPiBwaSlcblxuICAgICAgaWYgKGogIT09IHBpKSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIExcbiAgICAgICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgbHNpemVbMV0sIGx2YWx1ZXMsIGxpbmRleCwgbHB0cik7IC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIFVcblxuXG4gICAgICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIHVzaXplWzFdLCB1dmFsdWVzLCB1aW5kZXgsIHVwdHIpOyAvLyBzd2FwIHZhbHVlcyBpbiBzcGFcblxuXG4gICAgICAgIHNwYS5zd2FwKGosIHBpKTsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciAoc3dhcCB2YWx1ZXMgQCBqLCBwaSlcblxuICAgICAgICBzd2FwSW5kZWNlcyhqLCBwaSk7XG4gICAgICB9IC8vIGxvb3AgdmFsdWVzIGluIHNwYSAob3JkZXIgYnkgcm93KVxuXG5cbiAgICAgIHNwYS5mb3JFYWNoKDAsIHJvd3MgLSAxLCBmdW5jdGlvbiAoeCwgdikge1xuICAgICAgICAvLyBjaGVjayB3ZSBhcmUgYWJvdmUgZGlhZ29uYWxcbiAgICAgICAgaWYgKHggPD0gaikge1xuICAgICAgICAgIC8vIHVwZGF0ZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIHV2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgICB1aW5kZXgucHVzaCh4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgICB2ID0gZGl2aWRlU2NhbGFyKHYsIHZqaik7IC8vIGNoZWNrIHZhbHVlIGlzIG5vbiB6ZXJvXG5cbiAgICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKHYsIDApKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICAgIGx2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgICAgIGxpbmRleC5wdXNoKHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIF9sb29wKCk7XG4gICAgfSAvLyB1cGRhdGUgcHRyc1xuXG5cbiAgICB1cHRyLnB1c2godXZhbHVlcy5sZW5ndGgpO1xuICAgIGxwdHIucHVzaChsdmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaWNlc1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIEw6IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgICB2YWx1ZXM6IGx2YWx1ZXMsXG4gICAgICAgIGluZGV4OiBsaW5kZXgsXG4gICAgICAgIHB0cjogbHB0cixcbiAgICAgICAgc2l6ZTogbHNpemVcbiAgICAgIH0pLFxuICAgICAgVTogbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICAgIHZhbHVlczogdXZhbHVlcyxcbiAgICAgICAgaW5kZXg6IHVpbmRleCxcbiAgICAgICAgcHRyOiB1cHRyLFxuICAgICAgICBzaXplOiB1c2l6ZVxuICAgICAgfSksXG4gICAgICBwOiBwdkNvLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ0w6ICcgKyB0aGlzLkwudG9TdHJpbmcoKSArICdcXG5VOiAnICsgdGhpcy5VLnRvU3RyaW5nKCkgKyAnXFxuUDogJyArIHRoaXMucDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTsiLCJpbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdkZXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ3N1YnRyYWN0JywgJ211bHRpcGx5JywgJ3VuYXJ5TWludXMnLCAnbHVwJ107XG5leHBvcnQgdmFyIGNyZWF0ZURldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBzdWJ0cmFjdCxcbiAgICBtdWx0aXBseSxcbiAgICB1bmFyeU1pbnVzLFxuICAgIGx1cFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdHJpeC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRldCh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kZXQoW1sxLCAyXSwgWzMsIDRdXSkgLy8gcmV0dXJucyAtMlxuICAgKlxuICAgKiAgICBjb25zdCBBID0gW1xuICAgKiAgICAgIFstMiwgMiwgM10sXG4gICAqICAgICAgWy0xLCAxLCAzXSxcbiAgICogICAgICBbMiwgMCwgLTFdXG4gICAqICAgIF1cbiAgICogICAgbWF0aC5kZXQoQSkgLy8gcmV0dXJucyA2XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBpbnZcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0geCAgQSBtYXRyaXhcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZGV0ZXJtaW5hbnQgb2YgYHhgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIGFueTogZnVuY3Rpb24gYW55KHgpIHtcbiAgICAgIHJldHVybiBjbG9uZSh4KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIGRldCh4KSB7XG4gICAgICB2YXIgc2l6ZTtcblxuICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgIHNpemUgPSB4LnNpemUoKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgICB4ID0gbWF0cml4KHgpO1xuICAgICAgICBzaXplID0geC5zaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhIHNjYWxhclxuICAgICAgICBzaXplID0gW107XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIC8vIHNjYWxhclxuICAgICAgICAgIHJldHVybiBjbG9uZSh4KTtcblxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gdmVjdG9yXG4gICAgICAgICAgaWYgKHNpemVbMF0gPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZSh4LnZhbHVlT2YoKVswXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICAgICAgICAgIHZhciBjb2xzID0gc2l6ZVsxXTtcblxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9kZXQoeC5jbG9uZSgpLnZhbHVlT2YoKSwgcm93cywgY29scyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHR3byBkaW1lbnNpb25hbCAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5W119IG1hdHJpeCAgQSBzcXVhcmUsIHR3byBkaW1lbnNpb25hbCBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgICAgIE51bWJlciBvZiByb3dzIG9mIHRoZSBtYXRyaXggKHplcm8tYmFzZWQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzICAgICBOdW1iZXIgb2YgY29sdW1ucyBvZiB0aGUgbWF0cml4ICh6ZXJvLWJhc2VkKVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBkZXRcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2RldChtYXRyaXgsIHJvd3MsIGNvbHMpIHtcbiAgICBpZiAocm93cyA9PT0gMSkge1xuICAgICAgLy8gdGhpcyBpcyBhIDEgeCAxIG1hdHJpeFxuICAgICAgcmV0dXJuIGNsb25lKG1hdHJpeFswXVswXSk7XG4gICAgfSBlbHNlIGlmIChyb3dzID09PSAyKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMiB4IDIgbWF0cml4XG4gICAgICAvLyB0aGUgZGV0ZXJtaW5hbnQgb2YgW2ExMSxhMTI7YTIxLGEyMl0gaXMgZGV0ID0gYTExKmEyMi1hMjEqYTEyXG4gICAgICByZXR1cm4gc3VidHJhY3QobXVsdGlwbHkobWF0cml4WzBdWzBdLCBtYXRyaXhbMV1bMV0pLCBtdWx0aXBseShtYXRyaXhbMV1bMF0sIG1hdHJpeFswXVsxXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb21wdXRlIHRoZSBMVSBkZWNvbXBvc2l0aW9uXG4gICAgICB2YXIgZGVjb21wID0gbHVwKG1hdHJpeCk7IC8vIFRoZSBkZXRlcm1pbmFudCBpcyB0aGUgcHJvZHVjdCBvZiB0aGUgZGlhZ29uYWwgZW50cmllcyBvZiBVIChhbmQgdGhvc2Ugb2YgTCwgYnV0IHRoZXkgYXJlIGFsbCAxKVxuXG4gICAgICB2YXIgZGV0ID0gZGVjb21wLlVbMF1bMF07XG5cbiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCByb3dzOyBfaSsrKSB7XG4gICAgICAgIGRldCA9IG11bHRpcGx5KGRldCwgZGVjb21wLlVbX2ldW19pXSk7XG4gICAgICB9IC8vIFRoZSBkZXRlcm1pbmFudCB3aWxsIGJlIG11bHRpcGxpZWQgYnkgMSBvciAtMSBkZXBlbmRpbmcgb24gdGhlIHBhcml0eSBvZiB0aGUgcGVybXV0YXRpb24gbWF0cml4LlxuICAgICAgLy8gVGhpcyBjYW4gYmUgZGV0ZXJtaW5lZCBieSBjb3VudGluZyB0aGUgY3ljbGVzLiBUaGlzIGlzIHJvdWdobHkgYSBsaW5lYXIgdGltZSBhbGdvcml0aG0uXG5cblxuICAgICAgdmFyIGV2ZW5DeWNsZXMgPSAwO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIHZpc2l0ZWQgPSBbXTtcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgd2hpbGUgKHZpc2l0ZWRbaV0pIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA+PSByb3dzKSBicmVhaztcbiAgICAgICAgdmFyIGogPSBpO1xuICAgICAgICB2YXIgY3ljbGVMZW4gPSAwO1xuXG4gICAgICAgIHdoaWxlICghdmlzaXRlZFtkZWNvbXAucFtqXV0pIHtcbiAgICAgICAgICB2aXNpdGVkW2RlY29tcC5wW2pdXSA9IHRydWU7XG4gICAgICAgICAgaiA9IGRlY29tcC5wW2pdO1xuICAgICAgICAgIGN5Y2xlTGVuKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3ljbGVMZW4gJSAyID09PSAwKSB7XG4gICAgICAgICAgZXZlbkN5Y2xlcysrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVuQ3ljbGVzICUgMiA9PT0gMCA/IGRldCA6IHVuYXJ5TWludXMoZGV0KTtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbnZhciBuYW1lID0gJ2ludic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZGl2aWRlU2NhbGFyJywgJ2FkZFNjYWxhcicsICdtdWx0aXBseScsICd1bmFyeU1pbnVzJywgJ2RldCcsICdpZGVudGl0eScsICdhYnMnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSW52ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHksXG4gICAgdW5hcnlNaW51cyxcbiAgICBkZXQsXG4gICAgaWRlbnRpdHksXG4gICAgYWJzXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGludmVyc2Ugb2YgYSBzcXVhcmUgbWF0cml4LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmludih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguaW52KFtbMSwgMl0sIFszLCA0XV0pICAvLyByZXR1cm5zIFtbLTIsIDFdLCBbMS41LCAtMC41XV1cbiAgICogICAgIG1hdGguaW52KDQpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDAuMjVcbiAgICogICAgIDEgLyA0ICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDAuMjVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBkZXQsIHRyYW5zcG9zZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgICAgTWF0cml4IHRvIGJlIGludmVyc2VkXG4gICAqIEByZXR1cm4ge251bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gVGhlIGludmVyc2Ugb2YgYHhgLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICB2YXIgc2l6ZSA9IGlzTWF0cml4KHgpID8geC5zaXplKCkgOiBhcnJheVNpemUoeCk7XG5cbiAgICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIHZlY3RvclxuICAgICAgICAgIGlmIChzaXplWzBdID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeChbZGl2aWRlU2NhbGFyKDEsIHgudmFsdWVPZigpWzBdKV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtkaXZpZGVTY2FsYXIoMSwgeFswXSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgLy8gdHdvIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBzaXplWzFdO1xuXG4gICAgICAgICAgICBpZiAocm93cyA9PT0gY29scykge1xuICAgICAgICAgICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0cml4KF9pbnYoeC52YWx1ZU9mKCksIHJvd3MsIGNvbHMpLCB4LnN0b3JhZ2UoKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGFuIEFycmF5XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pbnYoeCwgcm93cywgY29scyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgdHdvIGRpbWVuc2lvbmFsICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYW55OiBmdW5jdGlvbiBhbnkoeCkge1xuICAgICAgLy8gc2NhbGFyXG4gICAgICByZXR1cm4gZGl2aWRlU2NhbGFyKDEsIHgpOyAvLyBGSVhNRTogY3JlYXRlIGEgQmlnTnVtYmVyIG9uZSB3aGVuIGNvbmZpZ3VyZWQgZm9yIGJpZ251bWJlcnNcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBpbnZlcnNlIG9mIGEgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5W119IG1hdCAgICAgQSBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzICAgICBOdW1iZXIgb2Ygcm93c1xuICAgKiBAcGFyYW0ge251bWJlcn0gY29scyAgICAgTnVtYmVyIG9mIGNvbHVtbnMsIG11c3QgZXF1YWwgcm93c1xuICAgKiBAcmV0dXJuIHtBcnJheVtdfSBpbnYgICAgSW52ZXJzZSBtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX2ludihtYXQsIHJvd3MsIGNvbHMpIHtcbiAgICB2YXIgciwgcywgZiwgdmFsdWUsIHRlbXA7XG5cbiAgICBpZiAocm93cyA9PT0gMSkge1xuICAgICAgLy8gdGhpcyBpcyBhIDEgeCAxIG1hdHJpeFxuICAgICAgdmFsdWUgPSBtYXRbMF1bMF07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbW2RpdmlkZVNjYWxhcigxLCB2YWx1ZSldXTtcbiAgICB9IGVsc2UgaWYgKHJvd3MgPT09IDIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAyIHggMiBtYXRyaXhcbiAgICAgIHZhciBkID0gZGV0KG1hdCk7XG5cbiAgICAgIGlmIChkID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtbZGl2aWRlU2NhbGFyKG1hdFsxXVsxXSwgZCksIGRpdmlkZVNjYWxhcih1bmFyeU1pbnVzKG1hdFswXVsxXSksIGQpXSwgW2RpdmlkZVNjYWxhcih1bmFyeU1pbnVzKG1hdFsxXVswXSksIGQpLCBkaXZpZGVTY2FsYXIobWF0WzBdWzBdLCBkKV1dO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGlzIGlzIGEgbWF0cml4IG9mIDMgeCAzIG9yIGxhcmdlclxuICAgICAgLy8gY2FsY3VsYXRlIGludmVyc2UgdXNpbmcgZ2F1c3Mtam9yZGFuIGVsaW1pbmF0aW9uXG4gICAgICAvLyAgICAgIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dhdXNzaWFuX2VsaW1pbmF0aW9uXG4gICAgICAvLyAgICAgIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vTWF0cml4SW52ZXJzZS5odG1sXG4gICAgICAvLyAgICAgIGh0dHA6Ly9tYXRoLnV3dy5lZHUvfm1jZmFybGF0L2ludmVyc2UuaHRtXG4gICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgbWF0cml4IChvbmx5IHRoZSBhcnJheXMsIG5vdCBvZiB0aGUgZWxlbWVudHMpXG4gICAgICB2YXIgQSA9IG1hdC5jb25jYXQoKTtcblxuICAgICAgZm9yIChyID0gMDsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICBBW3JdID0gQVtyXS5jb25jYXQoKTtcbiAgICAgIH0gLy8gY3JlYXRlIGFuIGlkZW50aXR5IG1hdHJpeCB3aGljaCBpbiB0aGUgZW5kIHdpbGwgY29udGFpbiB0aGVcbiAgICAgIC8vIG1hdHJpeCBpbnZlcnNlXG5cblxuICAgICAgdmFyIEIgPSBpZGVudGl0eShyb3dzKS52YWx1ZU9mKCk7IC8vIGxvb3Agb3ZlciBhbGwgY29sdW1ucywgYW5kIHBlcmZvcm0gcm93IHJlZHVjdGlvbnNcblxuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb2xzOyBjKyspIHtcbiAgICAgICAgLy8gUGl2b3Rpbmc6IFN3YXAgcm93IGMgd2l0aCByb3cgciwgd2hlcmUgcm93IHIgY29udGFpbnMgdGhlIGxhcmdlc3QgZWxlbWVudCBBW3JdW2NdXG4gICAgICAgIHZhciBBQmlnID0gYWJzKEFbY11bY10pO1xuICAgICAgICB2YXIgckJpZyA9IGM7XG4gICAgICAgIHIgPSBjICsgMTtcblxuICAgICAgICB3aGlsZSAociA8IHJvd3MpIHtcbiAgICAgICAgICBpZiAoYWJzKEFbcl1bY10pID4gQUJpZykge1xuICAgICAgICAgICAgQUJpZyA9IGFicyhBW3JdW2NdKTtcbiAgICAgICAgICAgIHJCaWcgPSByO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBQmlnID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgICB9XG5cbiAgICAgICAgciA9IHJCaWc7XG5cbiAgICAgICAgaWYgKHIgIT09IGMpIHtcbiAgICAgICAgICB0ZW1wID0gQVtjXTtcbiAgICAgICAgICBBW2NdID0gQVtyXTtcbiAgICAgICAgICBBW3JdID0gdGVtcDtcbiAgICAgICAgICB0ZW1wID0gQltjXTtcbiAgICAgICAgICBCW2NdID0gQltyXTtcbiAgICAgICAgICBCW3JdID0gdGVtcDtcbiAgICAgICAgfSAvLyBlbGltaW5hdGUgbm9uLXplcm8gdmFsdWVzIG9uIHRoZSBvdGhlciByb3dzIGF0IGNvbHVtbiBjXG5cblxuICAgICAgICB2YXIgQWMgPSBBW2NdO1xuICAgICAgICB2YXIgQmMgPSBCW2NdO1xuXG4gICAgICAgIGZvciAociA9IDA7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgICB2YXIgQXIgPSBBW3JdO1xuICAgICAgICAgIHZhciBCciA9IEJbcl07XG5cbiAgICAgICAgICBpZiAociAhPT0gYykge1xuICAgICAgICAgICAgLy8gZWxpbWluYXRlIHZhbHVlIGF0IGNvbHVtbiBjIGFuZCByb3cgclxuICAgICAgICAgICAgaWYgKEFyW2NdICE9PSAwKSB7XG4gICAgICAgICAgICAgIGYgPSBkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhBcltjXSksIEFjW2NdKTsgLy8gYWRkIChmICogcm93IGMpIHRvIHJvdyByIHRvIGVsaW1pbmF0ZSB0aGUgdmFsdWVcbiAgICAgICAgICAgICAgLy8gYXQgY29sdW1uIGNcblxuICAgICAgICAgICAgICBmb3IgKHMgPSBjOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgICAgQXJbc10gPSBhZGRTY2FsYXIoQXJbc10sIG11bHRpcGx5KGYsIEFjW3NdKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKHMgPSAwOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgICAgQnJbc10gPSBhZGRTY2FsYXIoQnJbc10sIG11bHRpcGx5KGYsIEJjW3NdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIHZhbHVlIGF0IEFjYyB0byAxLFxuICAgICAgICAgICAgLy8gZGl2aWRlIGVhY2ggdmFsdWUgb24gcm93IHIgd2l0aCB0aGUgdmFsdWUgYXQgQWNjXG4gICAgICAgICAgICBmID0gQWNbY107XG5cbiAgICAgICAgICAgIGZvciAocyA9IGM7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgQXJbc10gPSBkaXZpZGVTY2FsYXIoQXJbc10sIGYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHMgPSAwOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgIEJyW3NdID0gZGl2aWRlU2NhbGFyKEJyW3NdLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEI7XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2RpdmlkZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnbXVsdGlwbHknLCAnZXF1YWxTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ2ludiddO1xuZXhwb3J0IHZhciBjcmVhdGVEaXZpZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgbXVsdGlwbHksXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIGludlxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBEaXZpZGUgdHdvIHZhbHVlcywgYHggLyB5YC5cbiAgICogVG8gZGl2aWRlIG1hdHJpY2VzLCBgeGAgaXMgbXVsdGlwbGllZCB3aXRoIHRoZSBpbnZlcnNlIG9mIGB5YDogYHggKiBpbnYoeSlgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZGl2aWRlKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRpdmlkZSgyLCAzKSAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDAuNjY2NjY2NjY2NjY2NjY2NlxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDUsIDE0KVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGguZGl2aWRlKGEsIGIpICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDIgKyAzaVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gW1s3LCAtNl0sIFsxMywgLTRdXVxuICAgKiAgICBjb25zdCBkID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBtYXRoLmRpdmlkZShjLCBkKSAgICAgICAgICAgIC8vIHJldHVybnMgQXJyYXkgW1stOSwgNF0sIFstMTEsIDZdXVxuICAgKlxuICAgKiAgICBjb25zdCBlID0gbWF0aC51bml0KCcxOCBrbScpXG4gICAqICAgIG1hdGguZGl2aWRlKGUsIDQuNSkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDQga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCAgIE51bWVyYXRvclxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geSAgICAgICAgICBEZW5vbWluYXRvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgIFF1b3RpZW50LCBgeCAvIHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZGl2aWRlJywgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgZGl2aWRlU2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXhBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgbWF0cml4IHJpZ2h0IGRpdmlzaW9uIHVzaW5nIHBzZXVkbyBpbnZlcnNlXG4gICAgICAvLyBodHRwczovL3d3dy5tYXRod29ya3MubmwvaGVscC9tYXRsYWIvcmVmL21yZGl2aWRlLmh0bWxcbiAgICAgIC8vIGh0dHBzOi8vd3d3LmdudS5vcmcvc29mdHdhcmUvb2N0YXZlL2RvYy9pbnRlcnByZXRlci9Bcml0aG1ldGljLU9wcy5odG1sXG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjI2MzkzMi9ob3ctZG9lcy1nbnUtb2N0YXZlLW1hdHJpeC1kaXZpc2lvbi13b3JrLWdldHRpbmctdW5leHBlY3RlZC1iZWhhdmlvdXJcbiAgICAgIHJldHVybiBtdWx0aXBseSh4LCBpbnYoeSkpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIGFueUFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBtdWx0aXBseSh4LCBpbnYoeSkpO1xuICAgIH1cbiAgfSwgZGl2aWRlU2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xubW9kdWxlLmV4cG9ydHMuVGlueUVtaXR0ZXIgPSBFO1xuIiwiXG5cbmltcG9ydCB7VmVjdG9yMywgTWF0aFV0aWxzfSBmcm9tICcuL21hdGgtdXRpbHMnXG5cbmNvbnN0IHNjcmF0Y2hWZWN0b3IzID0gbmV3IFZlY3RvcjNcblxuZXhwb3J0IGNsYXNzIFNwaGVyaWNhbENvb3JkaW5hdGUge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBob3Jpem9udGFsUmFkaWFuczpudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgdmVydGljYWxSYWRpYW5zOm51bWJlciA9IDAsXG4gICAgICAgIHB1YmxpYyBkaXN0YW5jZTpudW1iZXIgPSAwXG4gICAgKXt9XG5cbiAgICBnZXQgaG9yaXpvbnRhbERlZ3JlZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvcml6b250YWxSYWRpYW5zICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICB9XG5cbiAgICBzZXQgaG9yaXpvbnRhbERlZ3JlZXMoaDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IGggKiBNYXRoVXRpbHMuREVHMlJBRFxuICAgIH1cblxuICAgIGdldCB2ZXJ0aWNhbERlZ3JlZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsUmFkaWFucyAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgfVxuXG4gICAgc2V0IHZlcnRpY2FsRGVncmVlcyhoOm51bWJlcikge1xuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IGggKiBNYXRoVXRpbHMuREVHMlJBRFxuICAgIH1cblxuICAgIHNldFdpdGhSYWRpYW5zKGhvcml6b250YWw6bnVtYmVyLCB2ZXJ0aWNhbDpudW1iZXIsIGRpc3RhbmNlOm51bWJlcikge1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpYW5zID0gaG9yaXpvbnRhbFxuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IHZlcnRpY2FsXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHNldFdpdGhEZWdyZWVzKGhvcml6b250YWw6bnVtYmVyLCB2ZXJ0aWNhbDpudW1iZXIsIGRpc3RhbmNlOm51bWJlcikge1xuICAgICAgICB0aGlzLmhvcml6b250YWxEZWdyZWVzID0gaG9yaXpvbnRhbFxuICAgICAgICB0aGlzLnZlcnRpY2FsRGVncmVlcyA9IHZlcnRpY2FsXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGZyb21DYXJ0ZXNpYW5EaXJlY3Rpb24oY2FydGVzaWFuOiBWZWN0b3IzKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHNjcmF0Y2hWZWN0b3IzLmNvcHkoY2FydGVzaWFuKS5ub3JtYWxpemUoKVxuICAgICAgICB0aGlzLnZlcnRpY2FsUmFkaWFucyA9IE1hdGguYXNpbihkaXJlY3Rpb24ueSkgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpYW5zID0gTWF0aC5hdGFuMihkaXJlY3Rpb24ueCwgLWRpcmVjdGlvbi56KSAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSAwXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZnJvbUNhcnRlc2lhblBvc2l0aW9uKGNhcnRlc2lhbjogVmVjdG9yMykge1xuICAgICAgICB0aGlzLmZyb21DYXJ0ZXNpYW5EaXJlY3Rpb24oY2FydGVzaWFuKVxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gY2FydGVzaWFuLmxlbmd0aCgpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdG9DYXJ0ZXNpYW5EaXJlY3Rpb24ob3V0OiBWZWN0b3IzKSB7IFxuICAgICAgICBjb25zdCB2aXN1YWxFbGV2YXRpb25SYWRpYW5zID0gdGhpcy52ZXJ0aWNhbFJhZGlhbnNcbiAgICAgICAgY29uc3QgdmlzdWFsQXppbXV0aFJhZGlhbnMgPSAtIE1hdGguUEkgLSB0aGlzLmhvcml6b250YWxSYWRpYW5zXG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLnNpbih2aXN1YWxFbGV2YXRpb25SYWRpYW5zKVxuICAgICAgICBjb25zdCB4ID0gTWF0aC5jb3ModmlzdWFsRWxldmF0aW9uUmFkaWFucykgKiBNYXRoLnNpbih2aXN1YWxBemltdXRoUmFkaWFucylcbiAgICAgICAgY29uc3QgeiA9IC0gTWF0aC5jb3ModmlzdWFsRWxldmF0aW9uUmFkaWFucykgKiBNYXRoLmNvcyh2aXN1YWxBemltdXRoUmFkaWFucylcbiAgICAgICAgcmV0dXJuIG91dC5zZXQoeCwgeSwgeikubm9ybWFsaXplKClcbiAgICB9XG5cbiAgICB0b0NhcnRlc2lhblBvc2l0aW9uKG91dDogVmVjdG9yMykge1xuICAgICAgICByZXR1cm4gdGhpcy50b0NhcnRlc2lhbkRpcmVjdGlvbihvdXQpLm11bHRpcGx5U2NhbGFyKHRoaXMuZGlzdGFuY2UpXG4gICAgfVxuXG59IiwiZnVuY3Rpb24gaWQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuaWQgPyBgIyR7ZWxlbWVudC5pZH1gIDogJydcbn1cblxuZnVuY3Rpb24gY2xhc3NlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgY2xhc3NTZWxlY3RvciA9ICcnXG4gIGNvbnN0IGNsYXNzTGlzdCA9IGVsZW1lbnQuY2xhc3NMaXN0XG4gIGZvciAoY29uc3QgYyBvZiBjbGFzc0xpc3QpIHtcbiAgICBjbGFzc1NlbGVjdG9yICs9ICcuJyArIGNcbiAgfVxuICByZXR1cm4gY2xhc3NTZWxlY3RvclxufVxuXG5mdW5jdGlvbiBudGhDaGlsZChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgY2hpbGROdW1iZXIgPSAwXG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBlbGVtZW50LnBhcmVudE5vZGUhLmNoaWxkTm9kZXNcbiAgZm9yIChjb25zdCBub2RlIG9mIGNoaWxkTm9kZXMpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpICsrY2hpbGROdW1iZXJcbiAgICBpZiAobm9kZSA9PT0gZWxlbWVudCkgcmV0dXJuIGA6bnRoLWNoaWxkKCcke2NoaWxkTnVtYmVyfScpYFxuICB9XG59XG5cbmZ1bmN0aW9uIGF0dHJpYnV0ZXMoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSAnJ1xuICBmb3IgKGNvbnN0IGF0dHIgb2YgZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgYXR0cmlidXRlcyArPSBgWyR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cIl1gXG4gIH1cbiAgcmV0dXJuIGF0dHJpYnV0ZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGgoZWw6IEhUTUxFbGVtZW50LCByb290Tm9kZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgOiBzdHJpbmcge1xuICBjb25zdCBzZWxlY3RvciA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSArIGlkKGVsKSArIGNsYXNzZXMoZWwpICsgYXR0cmlidXRlcyhlbCkgKyBudGhDaGlsZChlbClcbiAgY29uc3QgaGFzUGFyZW50ID0gZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlICE9PSByb290Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSBhcyBhbnkpLnRhZ05hbWVcbiAgcmV0dXJuIGhhc1BhcmVudCA/IHBhdGgoZWwucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCwgcm9vdE5vZGUpICsgJyA+ICcgKyBzZWxlY3RvciA6IHNlbGVjdG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKGVsOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCBjc3NQYXRoID0gcGF0aChlbClcbiAgY29uc3QgdHlwZSA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlXG4gIGNvbnN0IGNoZWNrZWQgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICBjb25zdCB2YWx1ZSA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxuICBjb25zdCB0ZXh0Q29udGVudCA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS50ZXh0Q29udGVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VDaGlsZEVsZW1lbnRzKFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBlYWNoOiAoZWxlbWVudDogRWxlbWVudCwgbGV2ZWw6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgYmluZD86IGFueSxcbiAgbGV2ZWwgPSAwXG4pIHtcbiAgbGV2ZWwrK1xuICBlbGVtZW50ID0gKGVsZW1lbnQuc2hhZG93Um9vdCB8fCBlbGVtZW50KSBhcyBFbGVtZW50XG4gIGZvciAobGV0IGNoaWxkOiBFbGVtZW50IHwgbnVsbCA9IGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGlmICgoY2hpbGQgYXMgSFRNTEVsZW1lbnQpLmFzc2lnbmVkU2xvdCkgY29udGludWVcbiAgICBjb25zdCBhc3NpZ25lZEVsZW1lbnRzID0gKGNoaWxkIGFzIEhUTUxTbG90RWxlbWVudCkuYXNzaWduZWRFbGVtZW50cz8uKHtmbGF0dGVuOnRydWV9KVxuICAgIGlmIChhc3NpZ25lZEVsZW1lbnRzKSBmb3IgKGNvbnN0IGFzc2lnbmVkIG9mIGFzc2lnbmVkRWxlbWVudHMpIHtcbiAgICAgIGlmIChlYWNoLmNhbGwoYmluZCwgYXNzaWduZWQsIGxldmVsKSkge1xuICAgICAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoY2hpbGQsIGVhY2gsIGJpbmQsIGxldmVsKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWFjaC5jYWxsKGJpbmQsIGNoaWxkLCBsZXZlbCkpIHtcbiAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhjaGlsZCwgZWFjaCwgYmluZCwgbGV2ZWwpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDU1NSdWxlKHNoZWV0OmFueSwgc2VsZWN0b3I6c3RyaW5nLCBydWxlczpzdHJpbmcsIGluZGV4Om51bWJlcikgOiB2b2lkIHtcbiAgaWYgKCdpbnNlcnRSdWxlJyBpbiBzaGVldCkge1xuICAgIHNoZWV0Lmluc2VydFJ1bGUoc2VsZWN0b3IgKyAneycgKyBydWxlcyArICd9JywgaW5kZXgpXG4gIH0gZWxzZSBpZiAoJ2FkZFJ1bGUnIGluIHNoZWV0KSB7XG4gICAgc2hlZXQuYWRkUnVsZShzZWxlY3RvciwgcnVsZXMsIGluZGV4KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCb3VuZHMge1xuICBsZWZ0ID0gMFxuICB0b3AgPSAwXG4gIHdpZHRoID0gMFxuICBoZWlnaHQgPSAwXG4gIGNvcHkocmVjdDogQm91bmRzKSB7XG4gICAgdGhpcy50b3AgPSByZWN0LnRvcFxuICAgIHRoaXMubGVmdCA9IHJlY3QubGVmdFxuICAgIHRoaXMud2lkdGggPSByZWN0LndpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSByZWN0LmhlaWdodFxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkZ2VzIHtcbiAgbGVmdCA9IDBcbiAgdG9wID0gMFxuICByaWdodCA9IDBcbiAgYm90dG9tID0gMFxuICBjb3B5KHJlY3Q6IEVkZ2VzKSB7XG4gICAgdGhpcy50b3AgPSByZWN0LnRvcFxuICAgIHRoaXMubGVmdCA9IHJlY3QubGVmdFxuICAgIHRoaXMucmlnaHQgPSByZWN0LnJpZ2h0XG4gICAgdGhpcy5ib3R0b20gPSByZWN0LmJvdHRvbVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdW5kcyhcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYm91bmRzOiBCb3VuZHMgPSBuZXcgQm91bmRzKCksXG4gIHJlZmVyZW5jZUVsZW1lbnQ/OiBFbGVtZW50XG4pIHtcbiAgY29uc3QgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IVxuICBjb25zdCBkb2NFbCA9IGRvYy5kb2N1bWVudEVsZW1lbnRcbiAgY29uc3QgYm9keSA9IGRvYy5ib2R5XG5cbiAgaWYgKGVsZW1lbnQgPT09IGRvY0VsKSB7XG4gICAgcmV0dXJuIGdldERvY3VtZW50Qm91bmRzKGRvYywgYm91bmRzKVxuICB9XG5cbiAgaWYgKHJlZmVyZW5jZUVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICBib3VuZHMubGVmdCA9IDBcbiAgICBib3VuZHMudG9wID0gMFxuICAgIGJvdW5kcy53aWR0aCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRXaWR0aFxuICAgIGJvdW5kcy5oZWlnaHQgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0SGVpZ2h0XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkZWZhdWx0VmlldyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCEuZGVmYXVsdFZpZXchXG4gIGxldCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZWxlbWVudCBhcyBIVE1MRWxlbWVudFxuXG4gIGxldCBjb21wdXRlZFN0eWxlXG4gIGxldCBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnQgYXMgSFRNTEVsZW1lbnRcbiAgbGV0IHByZXZDb21wdXRlZFN0eWxlID0gZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClcbiAgbGV0IHRvcCA9IGVsLm9mZnNldFRvcFxuICBsZXQgbGVmdCA9IGVsLm9mZnNldExlZnRcblxuICBpZiAoXG4gICAgb2Zmc2V0UGFyZW50ICYmXG4gICAgcmVmZXJlbmNlRWxlbWVudCAmJlxuICAgIG9mZnNldFBhcmVudC5jb250YWlucyhyZWZlcmVuY2VFbGVtZW50KSAmJlxuICAgIG9mZnNldFBhcmVudCAhPT0gcmVmZXJlbmNlRWxlbWVudFxuICApIHtcbiAgICBnZXRCb3VuZHMocmVmZXJlbmNlRWxlbWVudCwgYm91bmRzLCBvZmZzZXRQYXJlbnQpXG4gICAgbGVmdCAtPSBib3VuZHMubGVmdFxuICAgIHRvcCAtPSBib3VuZHMudG9wXG4gIH1cblxuICB3aGlsZSAoXG4gICAgKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiZcbiAgICBlbCAhPT0gYm9keSAmJlxuICAgIGVsICE9PSBkb2NFbCAmJlxuICAgIGVsICE9PSByZWZlcmVuY2VFbGVtZW50XG4gICkge1xuICAgIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjb21wdXRlZFN0eWxlID0gZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClcbiAgICB0b3AgLT0gZWwuc2Nyb2xsVG9wXG4gICAgbGVmdCAtPSBlbC5zY3JvbGxMZWZ0XG5cbiAgICBpZiAoZWwgPT09IG9mZnNldFBhcmVudCkge1xuICAgICAgdG9wICs9IGVsLm9mZnNldFRvcFxuICAgICAgbGVmdCArPSBlbC5vZmZzZXRMZWZ0XG4gICAgICB0b3AgKz0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmJvcmRlclRvcFdpZHRoKSB8fCAwXG4gICAgICBsZWZ0ICs9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpIHx8IDBcbiAgICAgIG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudCBhcyBIVE1MRWxlbWVudFxuICAgIH1cblxuICAgIHByZXZDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZVxuICB9XG5cbiAgLy8gaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAncmVsYXRpdmUnIHx8IHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAvLyAgIGdldERvY3VtZW50Qm91bmRzKGRvYywgYm91bmRzKVxuICAvLyAgIHRvcCArPSBib3VuZHMudG9wXG4gIC8vICAgbGVmdCArPSBib3VuZHMubGVmdFxuICAvLyB9XG5cbiAgaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgdG9wICs9IE1hdGgubWF4KGRvY0VsLnNjcm9sbFRvcCwgYm9keS5zY3JvbGxUb3ApXG4gICAgbGVmdCArPSBNYXRoLm1heChkb2NFbC5zY3JvbGxMZWZ0LCBib2R5LnNjcm9sbExlZnQpXG4gIH1cblxuICAvLyBsZXQgZWwgPSBlbGVtZW50XG4gIC8vIGxldCBsZWZ0ID0gZWwub2Zmc2V0TGVmdFxuICAvLyBsZXQgdG9wID0gZWwub2Zmc2V0VG9wXG4gIC8vIGxldCBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnRcbiAgLy8gd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9PSBOb2RlLkRPQ1VNRU5UX05PREUpIHtcbiAgLy8gICBsZWZ0IC09IGVsLnNjcm9sbExlZnRcbiAgLy8gICB0b3AgLT0gZWwuc2Nyb2xsVG9wXG4gIC8vICAgaWYgKGVsID09PSBvZmZzZXRQYXJlbnQpIHtcbiAgLy8gICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpXG4gIC8vICAgICBsZWZ0ICs9IGVsLm9mZnNldExlZnQgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCEpIHx8IDBcbiAgLy8gICAgIHRvcCArPSBlbC5vZmZzZXRUb3AgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoISkgfHwgMFxuICAvLyAgICAgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50XG4gIC8vICAgfVxuICAvLyAgIGVsID0gZWwub2Zmc2V0UGFyZW50IGFzIGFueVxuICAvLyB9XG5cbiAgYm91bmRzLmxlZnQgPSBsZWZ0XG4gIGJvdW5kcy50b3AgPSB0b3BcbiAgYm91bmRzLndpZHRoID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldFdpZHRoXG4gIGJvdW5kcy5oZWlnaHQgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0SGVpZ2h0XG4gIHJldHVybiBib3VuZHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpbihlbGVtZW50OiBFbGVtZW50LCBtYXJnaW46IEVkZ2VzKSB7XG4gIGlmICgoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0UGFyZW50ID09PSBudWxsKSB7XG4gICAgbWFyZ2luLmxlZnQgPSBtYXJnaW4ucmlnaHQgPSBtYXJnaW4udG9wID0gbWFyZ2luLmJvdHRvbSA9IDBcbiAgICByZXR1cm4gXG4gIH1cbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBtYXJnaW4ubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luTGVmdCkgfHwgMFxuICBtYXJnaW4ucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblJpZ2h0KSB8fCAwXG4gIG1hcmdpbi50b3AgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgfHwgMFxuICBtYXJnaW4uYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvcmRlcihlbGVtZW50OiBFbGVtZW50LCBib3JkZXI6IEVkZ2VzKSB7XG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgYm9yZGVyLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMFxuICBib3JkZXIucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpIHx8IDBcbiAgYm9yZGVyLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDBcbiAgYm9yZGVyLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZGRpbmcoZWxlbWVudDogRWxlbWVudCwgcGFkZGluZzogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBwYWRkaW5nLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0KSB8fCAwXG4gIHBhZGRpbmcucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgfHwgMFxuICBwYWRkaW5nLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1RvcCkgfHwgMFxuICBwYWRkaW5nLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkgfHwgMFxufVxuXG4vKlxuICogT24gc29tZSBtb2JpbGUgYnJvd3NlcnMsIHRoZSB2YWx1ZSByZXBvcnRlZCBieSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAqIGlzIG5vdCB0aGUgdHJ1ZSB2aWV3cG9ydCBoZWlnaHQuIFRoaXMgbWV0aG9kIHJldHVybnNcbiAqIHRoZSBhY3R1YWwgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydEJvdW5kcyhib3VuZHM6IEJvdW5kcykge1xuICBpZiAoIXZpZXdwb3J0VGVzdGVyLnBhcmVudE5vZGUpIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmQodmlld3BvcnRUZXN0ZXIpXG4gIGJvdW5kcy5sZWZ0ID0gcGFnZVhPZmZzZXRcbiAgYm91bmRzLnRvcCA9IHBhZ2VZT2Zmc2V0XG4gIGJvdW5kcy53aWR0aCA9IHZpZXdwb3J0VGVzdGVyLm9mZnNldFdpZHRoXG4gIGJvdW5kcy5oZWlnaHQgPSB2aWV3cG9ydFRlc3Rlci5vZmZzZXRIZWlnaHRcbiAgcmV0dXJuIGJvdW5kc1xufVxuY29uc3Qgdmlld3BvcnRUZXN0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxudmlld3BvcnRUZXN0ZXIuaWQgPSAnVklFV1BPUlQnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLndpZHRoID0gJzEwMHZ3J1xudmlld3BvcnRUZXN0ZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudEJvdW5kcyhkb2N1bWVudDogRG9jdW1lbnQsIGJvdW5kczogQm91bmRzKSB7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keVxuICBjb25zdCBkb2N1bWVudEVsZW1lbnRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnRFbGVtZW50KVxuICBjb25zdCBib2R5U3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpXG4gIGJvdW5kcy50b3AgPVxuICAgIGJvZHkub2Zmc2V0VG9wICsgcGFyc2VGbG9hdChkb2N1bWVudEVsZW1lbnRTdHlsZS5tYXJnaW5Ub3AgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpblRvcCBhcyAnJykgfHxcbiAgICAwXG4gIGJvdW5kcy5sZWZ0ID1cbiAgICBib2R5Lm9mZnNldExlZnQgKyBwYXJzZUZsb2F0KGRvY3VtZW50RWxlbWVudFN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMFxuICBib3VuZHMud2lkdGggPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLFxuICAgIE1hdGgubWF4KGJvZHkub2Zmc2V0V2lkdGgsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCksXG4gICAgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICApXG4gIGJvdW5kcy5oZWlnaHQgPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCksXG4gICAgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLFxuICAgIE1hdGgubWF4KGJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICApXG4gIHJldHVybiBib3VuZHNcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gRE9NKGh0bWw6c3RyaW5nKSB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB3cmFwcGVyLmlubmVySFRNTCA9IGh0bWxcbiAgY29uc3QgZWwgPSB3cmFwcGVyLmZpcnN0RWxlbWVudENoaWxkIVxuICB3cmFwcGVyLnJlbW92ZUNoaWxkKGVsKVxuICByZXR1cm4gZWxcbn0iLCIoZnVuY3Rpb24obCl7ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBrKGEsYyl7YT12b2lkIDA9PT1hP1widXRmLThcIjphO2M9dm9pZCAwPT09Yz97ZmF0YWw6ITF9OmM7aWYoLTE9PT1yLmluZGV4T2YoYS50b0xvd2VyQ2FzZSgpKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogVGhlIGVuY29kaW5nIGxhYmVsIHByb3ZpZGVkICgnXCIrYStcIicpIGlzIGludmFsaWQuXCIpO2lmKGMuZmF0YWwpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdUZXh0RGVjb2Rlcic6IHRoZSAnZmF0YWwnIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7fWZ1bmN0aW9uIHQoYSl7cmV0dXJuIEJ1ZmZlci5mcm9tKGEuYnVmZmVyLGEuYnl0ZU9mZnNldCxhLmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmLThcIil9ZnVuY3Rpb24gdShhKXt2YXIgYz1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFthXSx7dHlwZTpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSkpO1xudHJ5e3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtmLm9wZW4oXCJHRVRcIixjLCExKTtmLnNlbmQoKTtyZXR1cm4gZi5yZXNwb25zZVRleHR9Y2F0Y2goZSl7cmV0dXJuIHEoYSl9ZmluYWxseXtVUkwucmV2b2tlT2JqZWN0VVJMKGMpfX1mdW5jdGlvbiBxKGEpe2Zvcih2YXIgYz0wLGY9TWF0aC5taW4oNjU1MzYsYS5sZW5ndGgrMSksZT1uZXcgVWludDE2QXJyYXkoZiksaD1bXSxkPTA7Oyl7dmFyIGI9YzxhLmxlbmd0aDtpZighYnx8ZD49Zi0xKXtoLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUuc3ViYXJyYXkoMCxkKSkpO2lmKCFiKXJldHVybiBoLmpvaW4oXCJcIik7YT1hLnN1YmFycmF5KGMpO2Q9Yz0wfWI9YVtjKytdO2lmKDA9PT0oYiYxMjgpKWVbZCsrXT1iO2Vsc2UgaWYoMTkyPT09KGImMjI0KSl7dmFyIGc9YVtjKytdJjYzO2VbZCsrXT0oYiYzMSk8PDZ8Z31lbHNlIGlmKDIyND09PShiJjI0MCkpe2c9YVtjKytdJjYzO3ZhciBuPWFbYysrXSY2MztlW2QrK109XG4oYiYzMSk8PDEyfGc8PDZ8bn1lbHNlIGlmKDI0MD09PShiJjI0OCkpe2c9YVtjKytdJjYzO249YVtjKytdJjYzO3ZhciB2PWFbYysrXSY2MztiPShiJjcpPDwxOHxnPDwxMnxuPDw2fHY7NjU1MzU8YiYmKGItPTY1NTM2LGVbZCsrXT1iPj4+MTAmMTAyM3w1NTI5NixiPTU2MzIwfGImMTAyMyk7ZVtkKytdPWJ9fX1pZihsLlRleHRFbmNvZGVyJiZsLlRleHREZWNvZGVyKXJldHVybiExO3ZhciByPVtcInV0Zi04XCIsXCJ1dGY4XCIsXCJ1bmljb2RlLTEtMS11dGYtOFwiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobS5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTttLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtjPXZvaWQgMD09PWM/e3N0cmVhbTohMX06YztpZihjLnN0cmVhbSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBlbmNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO2M9MDtmb3IodmFyIGY9YS5sZW5ndGgsZT0wLGg9TWF0aC5tYXgoMzIsXG5mKyhmPj4+MSkrNyksZD1uZXcgVWludDhBcnJheShoPj4+Mzw8Myk7YzxmOyl7dmFyIGI9YS5jaGFyQ29kZUF0KGMrKyk7aWYoNTUyOTY8PWImJjU2MzE5Pj1iKXtpZihjPGYpe3ZhciBnPWEuY2hhckNvZGVBdChjKTs1NjMyMD09PShnJjY0NTEyKSYmKCsrYyxiPSgoYiYxMDIzKTw8MTApKyhnJjEwMjMpKzY1NTM2KX1pZig1NTI5Njw9YiYmNTYzMTk+PWIpY29udGludWV9ZSs0PmQubGVuZ3RoJiYoaCs9OCxoKj0xK2MvYS5sZW5ndGgqMixoPWg+Pj4zPDwzLGc9bmV3IFVpbnQ4QXJyYXkoaCksZy5zZXQoZCksZD1nKTtpZigwPT09KGImNDI5NDk2NzE2OCkpZFtlKytdPWI7ZWxzZXtpZigwPT09KGImNDI5NDk2NTI0OCkpZFtlKytdPWI+Pj42JjMxfDE5MjtlbHNlIGlmKDA9PT0oYiY0Mjk0OTAxNzYwKSlkW2UrK109Yj4+PjEyJjE1fDIyNCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgaWYoMD09PShiJjQyOTI4NzAxNDQpKWRbZSsrXT1iPj4+MTgmN3wyNDAsZFtlKytdPWI+Pj4xMiZcbjYzfDEyOCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgY29udGludWU7ZFtlKytdPWImNjN8MTI4fX1yZXR1cm4gZC5zbGljZT9kLnNsaWNlKDAsZSk6ZC5zdWJhcnJheSgwLGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJmYXRhbFwiLHt2YWx1ZTohMX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImlnbm9yZUJPTVwiLHt2YWx1ZTohMX0pO3ZhciBwPXE7XCJmdW5jdGlvblwiPT09dHlwZW9mIEJ1ZmZlciYmQnVmZmVyLmZyb20/cD10OlwiZnVuY3Rpb25cIj09PXR5cGVvZiBCbG9iJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmKHA9dSk7ay5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYyl7Yz12b2lkIDA9PT1jP3tzdHJlYW06ITF9OmM7aWYoYy5zdHJlYW0pdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZGVjb2RlOiB0aGUgJ3N0cmVhbScgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTtcbmE9YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/YTphLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGEuYnVmZmVyKTpuZXcgVWludDhBcnJheShhKTtyZXR1cm4gcChhKX07bC5UZXh0RW5jb2Rlcj1tO2wuVGV4dERlY29kZXI9a30pKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpcyk7XG4iLCIvKipcbiAqIEEgZG91Ymx5IGxpbmtlZCBsaXN0LWJhc2VkIExlYXN0IFJlY2VudGx5IFVzZWQgKExSVSkgY2FjaGUuIFdpbGwga2VlcCBtb3N0XG4gKiByZWNlbnRseSB1c2VkIGl0ZW1zIHdoaWxlIGRpc2NhcmRpbmcgbGVhc3QgcmVjZW50bHkgdXNlZCBpdGVtcyB3aGVuIGl0cyBsaW1pdFxuICogaXMgcmVhY2hlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQuIENvcHlyaWdodCAoYykgMjAxMCBSYXNtdXMgQW5kZXJzc29uIDxodHRwOi8vaHVuY2guc2UvPlxuICogU2VlIFJFQURNRS5tZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBJbGx1c3RyYXRpb24gb2YgdGhlIGRlc2lnbjpcbiAqXG4gKiAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeVxuICogICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fXG4gKiAgICAgIHwgaGVhZCB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgdGFpbCB8XG4gKiAgICAgIHwgIEEgICB8ICAgICAgICAgIHwgIEIgICB8ICAgICAgICAgIHwgIEMgICB8ICAgICAgICAgIHwgIEQgICB8XG4gKiAgICAgIHxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198XG4gKlxuICogIHJlbW92ZWQgIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICBhZGRlZFxuICovXG4oZnVuY3Rpb24oZyxmKXtcbiAgY29uc3QgZSA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnID8gZXhwb3J0cyA6IHR5cGVvZiBnID09ICdvYmplY3QnID8gZyA6IHt9O1xuICBmKGUpO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgZGVmaW5lKCdscnUnLCBlKTsgfVxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXG5jb25zdCBORVdFUiA9IFN5bWJvbCgnbmV3ZXInKTtcbmNvbnN0IE9MREVSID0gU3ltYm9sKCdvbGRlcicpO1xuXG5mdW5jdGlvbiBMUlVNYXAobGltaXQsIGVudHJpZXMpIHtcbiAgaWYgKHR5cGVvZiBsaW1pdCAhPT0gJ251bWJlcicpIHtcbiAgICAvLyBjYWxsZWQgYXMgKGVudHJpZXMpXG4gICAgZW50cmllcyA9IGxpbWl0O1xuICAgIGxpbWl0ID0gMDtcbiAgfVxuXG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fa2V5bWFwID0gbmV3IE1hcCgpO1xuXG4gIGlmIChlbnRyaWVzKSB7XG4gICAgdGhpcy5hc3NpZ24oZW50cmllcyk7XG4gICAgaWYgKGxpbWl0IDwgMSkge1xuICAgICAgdGhpcy5saW1pdCA9IHRoaXMuc2l6ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5MUlVNYXAgPSBMUlVNYXA7XG5cbmZ1bmN0aW9uIEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgdGhpcy5rZXkgPSBrZXk7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpc1tORVdFUl0gPSB1bmRlZmluZWQ7XG4gIHRoaXNbT0xERVJdID0gdW5kZWZpbmVkO1xufVxuXG5cbkxSVU1hcC5wcm90b3R5cGUuX21hcmtFbnRyeUFzVXNlZCA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3QpIHtcbiAgICAvLyBBbHJlYWR5IHRoZSBtb3N0IHJlY2VubHR5IHVzZWQgZW50cnksIHNvIG5vIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIEhFQUQtLS0tLS0tLS0tLS0tLVRBSUxcbiAgLy8gICA8Lm9sZGVyICAgLm5ld2VyPlxuICAvLyAgPC0tLSBhZGQgZGlyZWN0aW9uIC0tXG4gIC8vICAgQSAgQiAgQyAgPEQ+ICBFXG4gIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgICB9XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTsgLy8gQyA8LS0gRS5cbiAgfVxuICBpZiAoZW50cnlbT0xERVJdKSB7XG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IGVudHJ5W05FV0VSXTsgLy8gQy4gLS0+IEVcbiAgfVxuICBlbnRyeVtORVdFUl0gPSB1bmRlZmluZWQ7IC8vIEQgLS14XG4gIGVudHJ5W09MREVSXSA9IHRoaXMubmV3ZXN0OyAvLyBELiAtLT4gRVxuICBpZiAodGhpcy5uZXdlc3QpIHtcbiAgICB0aGlzLm5ld2VzdFtORVdFUl0gPSBlbnRyeTsgLy8gRS4gPC0tIERcbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbihlbnRyaWVzKSB7XG4gIGxldCBlbnRyeSwgbGltaXQgPSB0aGlzLmxpbWl0IHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIHRoaXMuX2tleW1hcC5jbGVhcigpO1xuICBsZXQgaXQgPSBlbnRyaWVzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgZm9yIChsZXQgaXR2ID0gaXQubmV4dCgpOyAhaXR2LmRvbmU7IGl0diA9IGl0Lm5leHQoKSkge1xuICAgIGxldCBlID0gbmV3IEVudHJ5KGl0di52YWx1ZVswXSwgaXR2LnZhbHVlWzFdKTtcbiAgICB0aGlzLl9rZXltYXAuc2V0KGUua2V5LCBlKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5W05FV0VSXSA9IGU7XG4gICAgICBlW09MREVSXSA9IGVudHJ5O1xuICAgIH1cbiAgICBlbnRyeSA9IGU7XG4gICAgaWYgKGxpbWl0LS0gPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdmVyZmxvdycpO1xuICAgIH1cbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICB0aGlzLnNpemUgPSB0aGlzLl9rZXltYXAuc2l6ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIC8vIEZpcnN0LCBmaW5kIG91ciBjYWNoZSBlbnRyeVxuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG4gIGlmICghZW50cnkpIHJldHVybjsgLy8gTm90IGNhY2hlZC4gU29ycnkuXG4gIC8vIEFzIDxrZXk+IHdhcyBmb3VuZCBpbiB0aGUgY2FjaGUsIHJlZ2lzdGVyIGl0IGFzIGJlaW5nIHJlcXVlc3RlZCByZWNlbnRseVxuICB0aGlzLl9tYXJrRW50cnlBc1VzZWQoZW50cnkpO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuXG4gIGlmIChlbnRyeSkge1xuICAgIC8vIHVwZGF0ZSBleGlzdGluZ1xuICAgIGVudHJ5LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fbWFya0VudHJ5QXNVc2VkKGVudHJ5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIG5ldyBlbnRyeVxuICB0aGlzLl9rZXltYXAuc2V0KGtleSwgKGVudHJ5ID0gbmV3IEVudHJ5KGtleSwgdmFsdWUpKSk7XG5cbiAgaWYgKHRoaXMubmV3ZXN0KSB7XG4gICAgLy8gbGluayBwcmV2aW91cyB0YWlsIHRvIHRoZSBuZXcgdGFpbCAoZW50cnkpXG4gICAgdGhpcy5uZXdlc3RbTkVXRVJdID0gZW50cnk7XG4gICAgZW50cnlbT0xERVJdID0gdGhpcy5uZXdlc3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2UncmUgZmlyc3QgaW4gLS0geWF5XG4gICAgdGhpcy5vbGRlc3QgPSBlbnRyeTtcbiAgfVxuXG4gIC8vIGFkZCBuZXcgZW50cnkgdG8gdGhlIGVuZCBvZiB0aGUgbGlua2VkIGxpc3QgLS0gaXQncyBub3cgdGhlIGZyZXNoZXN0IGVudHJ5LlxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICArK3RoaXMuc2l6ZTtcbiAgaWYgKHRoaXMuc2l6ZSA+IHRoaXMubGltaXQpIHtcbiAgICAvLyB3ZSBoaXQgdGhlIGxpbWl0IC0tIHJlbW92ZSB0aGUgaGVhZFxuICAgIHRoaXMuc2hpZnQoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAvLyB0b2RvOiBoYW5kbGUgc3BlY2lhbCBjYXNlIHdoZW4gbGltaXQgPT0gMVxuICB2YXIgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgaWYgKGVudHJ5KSB7XG4gICAgaWYgKHRoaXMub2xkZXN0W05FV0VSXSkge1xuICAgICAgLy8gYWR2YW5jZSB0aGUgbGlzdFxuICAgICAgdGhpcy5vbGRlc3QgPSB0aGlzLm9sZGVzdFtORVdFUl07XG4gICAgICB0aGlzLm9sZGVzdFtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBjYWNoZSBpcyBleGhhdXN0ZWRcbiAgICAgIHRoaXMub2xkZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBsYXN0IHN0cm9uZyByZWZlcmVuY2UgdG8gPGVudHJ5PiBhbmQgcmVtb3ZlIGxpbmtzIGZyb20gdGhlIHB1cmdlZFxuICAgIC8vIGVudHJ5IGJlaW5nIHJldHVybmVkOlxuICAgIGVudHJ5W05FV0VSXSA9IGVudHJ5W09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gICAgLS10aGlzLnNpemU7XG4gICAgcmV0dXJuIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRm9sbG93aW5nIGNvZGUgaXMgb3B0aW9uYWwgYW5kIGNhbiBiZSByZW1vdmVkIHdpdGhvdXQgYnJlYWtpbmcgdGhlIGNvcmVcbi8vIGZ1bmN0aW9uYWxpdHkuXG5cbkxSVU1hcC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGtleSkge1xuICBsZXQgZSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgcmV0dXJuIGUgPyBlLnZhbHVlIDogdW5kZWZpbmVkO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX2tleW1hcC5oYXMoa2V5KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24oa2V5KSB7XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gIGlmIChlbnRyeVtORVdFUl0gJiYgZW50cnlbT0xERVJdKSB7XG4gICAgLy8gcmVsaW5rIHRoZSBvbGRlciBlbnRyeSB3aXRoIHRoZSBuZXdlciBlbnRyeVxuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSBlbnRyeVtORVdFUl07XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtPTERFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm5ld2VzdCA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIHsvLyBpZihlbnRyeVtPTERFUl0gPT09IHVuZGVmaW5lZCAmJiBlbnRyeS5uZXdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRoaXMuc2l6ZS0tO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIC8vIE5vdCBjbGVhcmluZyBsaW5rcyBzaG91bGQgYmUgc2FmZSwgYXMgd2UgZG9uJ3QgZXhwb3NlIGxpdmUgbGlua3MgdG8gdXNlclxuICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9rZXltYXAuY2xlYXIoKTtcbn07XG5cblxuZnVuY3Rpb24gRW50cnlJdGVyYXRvcihvbGRlc3RFbnRyeSkgeyB0aGlzLmVudHJ5ID0gb2xkZXN0RW50cnk7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IFtlbnQua2V5LCBlbnQudmFsdWVdIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIEtleUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuS2V5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbktleUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnQua2V5IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBWYWx1ZUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogZW50LnZhbHVlIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbkxSVU1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEtleUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVmFsdWVJdGVyYXRvcih0aGlzLm9sZGVzdCk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBFbnRyeUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGZ1biwgdGhpc09iaikge1xuICBpZiAodHlwZW9mIHRoaXNPYmogIT09ICdvYmplY3QnKSB7XG4gICAgdGhpc09iaiA9IHRoaXM7XG4gIH1cbiAgbGV0IGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIGZ1bi5jYWxsKHRoaXNPYmosIGVudHJ5LnZhbHVlLCBlbnRyeS5rZXksIHRoaXMpO1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG59O1xuXG4vKiogUmV0dXJucyBhIEpTT04gKGFycmF5KSByZXByZXNlbnRhdGlvbiAqL1xuTFJVTWFwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSBuZXcgQXJyYXkodGhpcy5zaXplKSwgaSA9IDAsIGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHNbaSsrXSA9IHsga2V5OiBlbnRyeS5rZXksIHZhbHVlOiBlbnRyeS52YWx1ZSB9O1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG4gIHJldHVybiBzO1xufTtcblxuLyoqIFJldHVybnMgYSBTdHJpbmcgcmVwcmVzZW50YXRpb24gKi9cbkxSVU1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSAnJywgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgcyArPSBTdHJpbmcoZW50cnkua2V5KSsnOicrZW50cnkudmFsdWU7XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBzICs9ICcgPCAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn07XG5cbn0pO1xuIiwiLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2NidXJnbWVyL3htbHNlcmlhbGl6ZXIgXG5cbmltcG9ydCB7IFdlYlJlbmRlcmVyIH0gZnJvbSBcIi4vV2ViUmVuZGVyZXJcIjtcblxuZnVuY3Rpb24gcmVtb3ZlSW52YWxpZENoYXJhY3RlcnMoY29udGVudDpzdHJpbmcpIHtcbiAgICAvLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIveG1sLyNOVC1DaGFyIGZvciB2YWxpZCBYTUwgMS4wIGNoYXJhY3RlcnNcbiAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZdL2csICcnKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXR0cmlidXRlVmFsdWUgKHZhbHVlOnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAucmVwbGFjZSgvJy9nLCAnJmFwb3M7Jylcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVGV4dENvbnRlbnQgKGNvbnRlbnQ6c3RyaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnRcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGUgKG5hbWU6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpIHtcbiAgICByZXR1cm4gJyAnICsgbmFtZSArICc9XCInICsgc2VyaWFsaXplQXR0cmlidXRlVmFsdWUodmFsdWUpICsgJ1wiJ1xufVxuXG5mdW5jdGlvbiBnZXRUYWdOYW1lKG5vZGU6RWxlbWVudCkge1xuICAgIHZhciB0YWdOYW1lID0gbm9kZS50YWdOYW1lXG4gICAgLy8gQWlkIGluIHNlcmlhbGl6aW5nIG9mIG9yaWdpbmFsIEhUTUwgZG9jdW1lbnRzXG4gICAgaWYgKG5vZGUubmFtZXNwYWNlVVJJID09PSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcpIHtcbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgIH1cbiAgICByZXR1cm4gdGFnTmFtZVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOYW1lc3BhY2Uobm9kZTpFbGVtZW50LCBpc1Jvb3ROb2RlOmJvb2xlYW4pIHtcbiAgICBjb25zdCBub2RlSGFzWG1sbnNBdHRyID0gbm9kZS5oYXNBdHRyaWJ1dGUoJ3htbG5zJylcbiAgICAvLyBTZXJpYWxpemUgdGhlIG5hbWVzcGFjZSBhcyBhbiB4bWxucyBhdHRyaWJ1dGUgd2hlbmV2ZXIgdGhlIGVsZW1lbnRcbiAgICAvLyBkb2Vzbid0IGFscmVhZHkgaGF2ZSBvbmUgYW5kIHRoZSBpbmhlcml0ZWQgbmFtZXNwYWNlIGRvZXMgbm90IG1hdGNoXG4gICAgLy8gdGhlIGVsZW1lbnQncyBuYW1lc3BhY2UuXG4gICAgaWYgKCFub2RlSGFzWG1sbnNBdHRyICYmXG4gICAgICAgIChpc1Jvb3ROb2RlIHx8XG4gICAgICAgICAgICBub2RlLm5hbWVzcGFjZVVSSSAhPT0gbm9kZS5wYXJlbnRFbGVtZW50IS5uYW1lc3BhY2VVUkkpKSB7XG4gICAgICAgIHJldHVybiAnIHhtbG5zPVwiJyArIG5vZGUubmFtZXNwYWNlVVJJICsgJ1wiJ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2VyaWFsaXplQ2hpbGRyZW4obm9kZTpFbGVtZW50LCBvcHRpb25zOk9wdGlvbnMpIHtcbiAgICBsZXQgb3V0cHV0ID0gW11cbiAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZS5jaGlsZE5vZGVzKSBvdXRwdXQucHVzaChub2RlVHJlZVRvWEhUTUwobiwgb3B0aW9ucykpXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG91dHB1dCkudGhlbihvdXRwdXQgPT4gb3V0cHV0LmpvaW4oJycpKVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXJpYWxpemVUYWcobm9kZTpFbGVtZW50LCBvcHRpb25zOk9wdGlvbnMpIHtcbiAgICBjb25zdCB0YWdOYW1lID0gZ2V0VGFnTmFtZShub2RlKVxuICAgIGxldCBvdXRwdXQgPSAnPCcgKyB0YWdOYW1lXG4gICAgb3V0cHV0ICs9IHNlcmlhbGl6ZU5hbWVzcGFjZShub2RlLCBvcHRpb25zLmRlcHRoID09PSAwKVxuXG4gICAgY29uc3QgY2hpbGRyZW5IVE1MID0gc2VyaWFsaXplQ2hpbGRyZW4obm9kZSwgb3B0aW9ucylcblxuICAgIGNvbnN0IGlzSW1nID0gdGFnTmFtZSA9PT0gJ2ltZydcbiAgICBcbiAgICBmb3IgKGNvbnN0IGF0dHIgb2Ygbm9kZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChpc0ltZyAmJiBhdHRyLm5hbWUgPT09ICdzcmMnKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplQXR0cmlidXRlKGF0dHIubmFtZSwgYXdhaXQgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChhdHRyLnZhbHVlKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdGlvbnMuZGVwdGgrK1xuICAgICAgICBvdXRwdXQgKz0gJz4nXG4gICAgICAgIG91dHB1dCArPSBhd2FpdCBjaGlsZHJlbkhUTUxcbiAgICAgICAgb3V0cHV0ICs9ICc8LycgKyB0YWdOYW1lICsgJz4nXG4gICAgICAgIG9wdGlvbnMuZGVwdGgtLVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dCArPSAnLz4nXG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVGV4dChub2RlOlRleHQpIHtcbiAgICB2YXIgdGV4dCA9IG5vZGUubm9kZVZhbHVlIHx8ICcnXG4gICAgcmV0dXJuIHNlcmlhbGl6ZVRleHRDb250ZW50KHRleHQpXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvbW1lbnQobm9kZTpDb21tZW50KSB7XG4gICAgcmV0dXJuICc8IS0tJyArXG4gICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAucmVwbGFjZSgvLS9nLCAnJiM0NTsnKSArXG4gICAgICAgICctLT4nXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNEQVRBKG5vZGU6Tm9kZSkge1xuICAgIHJldHVybiAnPCFbQ0RBVEFbJyArIG5vZGUubm9kZVZhbHVlICsgJ11dPidcbn1cblxuYXN5bmMgZnVuY3Rpb24gbm9kZVRyZWVUb1hIVE1MKG5vZGU6Tm9kZSwgb3B0aW9uczpPcHRpb25zKSA6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgcmVwbGFjZWQgPSBvcHRpb25zLnJlcGxhY2VyPy4obm9kZSlcbiAgICBpZiAodHlwZW9mIHJlcGxhY2VkID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcmVwbGFjZWRcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8XG4gICAgICAgIG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQtZnJhZ21lbnQnKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVDaGlsZHJlbihub2RlIGFzIEVsZW1lbnQsIG9wdGlvbnMpXG4gICAgfSBlbHNlIGlmICgobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVUYWcobm9kZSBhcyBFbGVtZW50LCBvcHRpb25zKVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplVGV4dChub2RlIGFzIFRleHQpXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnI2NvbW1lbnQnKSB7XG4gICAgICAgIC8vIHJldHVybiBzZXJpYWxpemVDb21tZW50KG5vZGUgYXMgQ29tbWVudClcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjY2RhdGEtc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUNEQVRBKG5vZGUpXG4gICAgfVxuICAgIHJldHVybiAnJ1xufVxuXG5pbnRlcmZhY2UgT3B0aW9ucyB7XG4gICAgZGVwdGg6bnVtYmVyLFxuICAgIHJlcGxhY2VyPzoobm9kZTpOb2RlKT0+c3RyaW5nfHZvaWRcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlcmlhbGl6ZVRvU3RyaW5nKG5vZGU6RWxlbWVudCwgcmVwbGFjZXI6T3B0aW9uc1sncmVwbGFjZXInXSkge1xuICAgIHJldHVybiByZW1vdmVJbnZhbGlkQ2hhcmFjdGVycyhhd2FpdCBub2RlVHJlZVRvWEhUTUwobm9kZSwge2RlcHRoOiAwLCByZXBsYWNlcn0pKVxufSIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIC8vIEhhY2sgdG8gbWFrZSBhbGwgZXhwb3J0cyBvZiB0aGlzIG1vZHVsZSBzaGEyNTYgZnVuY3Rpb24gb2JqZWN0IHByb3BlcnRpZXMuXG4gICAgdmFyIGV4cG9ydHMgPSB7fTtcbiAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIHZhciBzaGEyNTYgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbiAgICBmb3IgKHZhciBrIGluIGV4cG9ydHMpIHtcbiAgICAgICAgc2hhMjU2W2tdID0gZXhwb3J0c1trXTtcbiAgICB9XG4gICAgICAgIFxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gc2hhMjU2O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIHNoYTI1NjsgfSk7IFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3Quc2hhMjU2ID0gc2hhMjU2O1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8vIFNIQS0yNTYgKCsgSE1BQyBhbmQgUEJLREYyKSBmb3IgSmF2YVNjcmlwdC5cbi8vXG4vLyBXcml0dGVuIGluIDIwMTQtMjAxNiBieSBEbWl0cnkgQ2hlc3RueWtoLlxuLy8gUHVibGljIGRvbWFpbiwgbm8gd2FycmFudHkuXG4vL1xuLy8gRnVuY3Rpb25zIChhY2NlcHQgYW5kIHJldHVybiBVaW50OEFycmF5cyk6XG4vL1xuLy8gICBzaGEyNTYobWVzc2FnZSkgLT4gaGFzaFxuLy8gICBzaGEyNTYuaG1hYyhrZXksIG1lc3NhZ2UpIC0+IG1hY1xuLy8gICBzaGEyNTYucGJrZGYyKHBhc3N3b3JkLCBzYWx0LCByb3VuZHMsIGRrTGVuKSAtPiBka1xuLy9cbi8vICBDbGFzc2VzOlxuLy9cbi8vICAgbmV3IHNoYTI1Ni5IYXNoKClcbi8vICAgbmV3IHNoYTI1Ni5ITUFDKGtleSlcbi8vXG5leHBvcnRzLmRpZ2VzdExlbmd0aCA9IDMyO1xuZXhwb3J0cy5ibG9ja1NpemUgPSA2NDtcbi8vIFNIQS0yNTYgY29uc3RhbnRzXG52YXIgSyA9IG5ldyBVaW50MzJBcnJheShbXG4gICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YixcbiAgICAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LCAweGQ4MDdhYTk4LCAweDEyODM1YjAxLFxuICAgIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsXG4gICAgMHhjMTliZjE3NCwgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYyxcbiAgICAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLCAweDk4M2U1MTUyLFxuICAgIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsXG4gICAgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NywgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYyxcbiAgICAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsIDB4ZDE5MmU4MTksXG4gICAgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCwgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCxcbiAgICAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLFxuICAgIDB4NjgyZTZmZjMsIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsXG4gICAgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuXSk7XG5mdW5jdGlvbiBoYXNoQmxvY2tzKHcsIHYsIHAsIHBvcywgbGVuKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIHUsIGksIGosIHQxLCB0MjtcbiAgICB3aGlsZSAobGVuID49IDY0KSB7XG4gICAgICAgIGEgPSB2WzBdO1xuICAgICAgICBiID0gdlsxXTtcbiAgICAgICAgYyA9IHZbMl07XG4gICAgICAgIGQgPSB2WzNdO1xuICAgICAgICBlID0gdls0XTtcbiAgICAgICAgZiA9IHZbNV07XG4gICAgICAgIGcgPSB2WzZdO1xuICAgICAgICBoID0gdls3XTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGogPSBwb3MgKyBpICogNDtcbiAgICAgICAgICAgIHdbaV0gPSAoKChwW2pdICYgMHhmZikgPDwgMjQpIHwgKChwW2ogKyAxXSAmIDB4ZmYpIDw8IDE2KSB8XG4gICAgICAgICAgICAgICAgKChwW2ogKyAyXSAmIDB4ZmYpIDw8IDgpIHwgKHBbaiArIDNdICYgMHhmZikpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDE2OyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgdSA9IHdbaSAtIDJdO1xuICAgICAgICAgICAgdDEgPSAodSA+Pj4gMTcgfCB1IDw8ICgzMiAtIDE3KSkgXiAodSA+Pj4gMTkgfCB1IDw8ICgzMiAtIDE5KSkgXiAodSA+Pj4gMTApO1xuICAgICAgICAgICAgdSA9IHdbaSAtIDE1XTtcbiAgICAgICAgICAgIHQyID0gKHUgPj4+IDcgfCB1IDw8ICgzMiAtIDcpKSBeICh1ID4+PiAxOCB8IHUgPDwgKDMyIC0gMTgpKSBeICh1ID4+PiAzKTtcbiAgICAgICAgICAgIHdbaV0gPSAodDEgKyB3W2kgLSA3XSB8IDApICsgKHQyICsgd1tpIC0gMTZdIHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgIHQxID0gKCgoKChlID4+PiA2IHwgZSA8PCAoMzIgLSA2KSkgXiAoZSA+Pj4gMTEgfCBlIDw8ICgzMiAtIDExKSkgXlxuICAgICAgICAgICAgICAgIChlID4+PiAyNSB8IGUgPDwgKDMyIC0gMjUpKSkgKyAoKGUgJiBmKSBeICh+ZSAmIGcpKSkgfCAwKSArXG4gICAgICAgICAgICAgICAgKChoICsgKChLW2ldICsgd1tpXSkgfCAwKSkgfCAwKSkgfCAwO1xuICAgICAgICAgICAgdDIgPSAoKChhID4+PiAyIHwgYSA8PCAoMzIgLSAyKSkgXiAoYSA+Pj4gMTMgfCBhIDw8ICgzMiAtIDEzKSkgXlxuICAgICAgICAgICAgICAgIChhID4+PiAyMiB8IGEgPDwgKDMyIC0gMjIpKSkgKyAoKGEgJiBiKSBeIChhICYgYykgXiAoYiAmIGMpKSkgfCAwO1xuICAgICAgICAgICAgaCA9IGc7XG4gICAgICAgICAgICBnID0gZjtcbiAgICAgICAgICAgIGYgPSBlO1xuICAgICAgICAgICAgZSA9IChkICsgdDEpIHwgMDtcbiAgICAgICAgICAgIGQgPSBjO1xuICAgICAgICAgICAgYyA9IGI7XG4gICAgICAgICAgICBiID0gYTtcbiAgICAgICAgICAgIGEgPSAodDEgKyB0MikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHZbMF0gKz0gYTtcbiAgICAgICAgdlsxXSArPSBiO1xuICAgICAgICB2WzJdICs9IGM7XG4gICAgICAgIHZbM10gKz0gZDtcbiAgICAgICAgdls0XSArPSBlO1xuICAgICAgICB2WzVdICs9IGY7XG4gICAgICAgIHZbNl0gKz0gZztcbiAgICAgICAgdls3XSArPSBoO1xuICAgICAgICBwb3MgKz0gNjQ7XG4gICAgICAgIGxlbiAtPSA2NDtcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbi8vIEhhc2ggaW1wbGVtZW50cyBTSEEyNTYgaGFzaCBhbGdvcml0aG0uXG52YXIgSGFzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIYXNoKCkge1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IGV4cG9ydHMuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGV4cG9ydHMuYmxvY2tTaXplO1xuICAgICAgICAvLyBOb3RlOiBJbnQzMkFycmF5IGlzIHVzZWQgaW5zdGVhZCBvZiBVaW50MzJBcnJheSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBJbnQzMkFycmF5KDgpOyAvLyBoYXNoIHN0YXRlXG4gICAgICAgIHRoaXMudGVtcCA9IG5ldyBJbnQzMkFycmF5KDY0KTsgLy8gdGVtcG9yYXJ5IHN0YXRlXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTI4KTsgLy8gYnVmZmVyIGZvciBkYXRhIHRvIGhhc2hcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwOyAvLyBudW1iZXIgb2YgYnl0ZXMgaW4gYnVmZmVyXG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwOyAvLyBudW1iZXIgb2YgdG90YWwgYnl0ZXMgaGFzaGVkXG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhhc2ggd2FzIGZpbmFsaXplZFxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8vIFJlc2V0cyBoYXNoIHN0YXRlIG1ha2luZyBpdCBwb3NzaWJsZVxuICAgIC8vIHRvIHJlLXVzZSB0aGlzIGluc3RhbmNlIHRvIGhhc2ggb3RoZXIgZGF0YS5cbiAgICBIYXNoLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZVswXSA9IDB4NmEwOWU2Njc7XG4gICAgICAgIHRoaXMuc3RhdGVbMV0gPSAweGJiNjdhZTg1O1xuICAgICAgICB0aGlzLnN0YXRlWzJdID0gMHgzYzZlZjM3MjtcbiAgICAgICAgdGhpcy5zdGF0ZVszXSA9IDB4YTU0ZmY1M2E7XG4gICAgICAgIHRoaXMuc3RhdGVbNF0gPSAweDUxMGU1MjdmO1xuICAgICAgICB0aGlzLnN0YXRlWzVdID0gMHg5YjA1Njg4YztcbiAgICAgICAgdGhpcy5zdGF0ZVs2XSA9IDB4MWY4M2Q5YWI7XG4gICAgICAgIHRoaXMuc3RhdGVbN10gPSAweDViZTBjZDE5O1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gQ2xlYW5zIGludGVybmFsIGJ1ZmZlcnMgYW5kIHJlLWluaXRpYWxpemVzIGhhc2ggc3RhdGUuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50ZW1wW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIGhhc2ggc3RhdGUgd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICAvL1xuICAgIC8vIE9wdGlvbmFsbHksIGxlbmd0aCBvZiB0aGUgZGF0YSBjYW4gYmUgc3BlY2lmaWVkIHRvIGhhc2hcbiAgICAvLyBmZXdlciBieXRlcyB0aGFuIGRhdGEubGVuZ3RoLlxuICAgIC8vXG4gICAgLy8gVGhyb3dzIGVycm9yIHdoZW4gdHJ5aW5nIHRvIHVwZGF0ZSBhbHJlYWR5IGZpbmFsaXplZCBoYXNoOlxuICAgIC8vIGluc3RhbmNlIG11c3QgYmUgcmVzZXQgdG8gdXNlIGl0IGFnYWluLlxuICAgIEhhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhTGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID09PSB2b2lkIDApIHsgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoOyB9XG4gICAgICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTSEEyNTY6IGNhbid0IHVwZGF0ZSBiZWNhdXNlIGhhc2ggd2FzIGZpbmlzaGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YVBvcyA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gZGF0YUxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuYnVmZmVyTGVuZ3RoIDwgNjQgJiYgZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXSA9IGRhdGFbZGF0YVBvcysrXTtcbiAgICAgICAgICAgICAgICBkYXRhTGVuZ3RoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPT09IDY0KSB7XG4gICAgICAgICAgICAgICAgaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIHRoaXMuYnVmZmVyLCAwLCA2NCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID49IDY0KSB7XG4gICAgICAgICAgICBkYXRhUG9zID0gaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIGRhdGEsIGRhdGFQb3MsIGRhdGFMZW5ndGgpO1xuICAgICAgICAgICAgZGF0YUxlbmd0aCAlPSA2NDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtkYXRhUG9zKytdO1xuICAgICAgICAgICAgZGF0YUxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gRmluYWxpemVzIGhhc2ggc3RhdGUgYW5kIHB1dHMgaGFzaCBpbnRvIG91dC5cbiAgICAvL1xuICAgIC8vIElmIGhhc2ggd2FzIGFscmVhZHkgZmluYWxpemVkLCBwdXRzIHRoZSBzYW1lIHZhbHVlLlxuICAgIEhhc2gucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZXNIYXNoZWQgPSB0aGlzLmJ5dGVzSGFzaGVkO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSB0aGlzLmJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5IaSA9IChieXRlc0hhc2hlZCAvIDB4MjAwMDAwMDApIHwgMDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5MbyA9IGJ5dGVzSGFzaGVkIDw8IDM7XG4gICAgICAgICAgICB2YXIgcGFkTGVuZ3RoID0gKGJ5dGVzSGFzaGVkICUgNjQgPCA1NikgPyA2NCA6IDEyODtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2xlZnRdID0gMHg4MDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsZWZ0ICsgMTsgaSA8IHBhZExlbmd0aCAtIDg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDhdID0gKGJpdExlbkhpID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gN10gPSAoYml0TGVuSGkgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA2XSA9IChiaXRMZW5IaSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNV0gPSAoYml0TGVuSGkgPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDRdID0gKGJpdExlbkxvID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gM10gPSAoYml0TGVuTG8gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAyXSA9IChiaXRMZW5MbyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gMV0gPSAoYml0TGVuTG8gPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIGhhc2hCbG9ja3ModGhpcy50ZW1wLCB0aGlzLnN0YXRlLCB0aGlzLmJ1ZmZlciwgMCwgcGFkTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAwXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMV0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDJdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDNdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDApICYgMHhmZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFJldHVybnMgdGhlIGZpbmFsIGhhc2ggZGlnZXN0LlxuICAgIEhhc2gucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGlnZXN0TGVuZ3RoKTtcbiAgICAgICAgdGhpcy5maW5pc2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uIGZvciB1c2UgaW4gSE1BQyBmb3Igb3B0aW1pemF0aW9uLlxuICAgIEhhc2gucHJvdG90eXBlLl9zYXZlU3RhdGUgPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gdGhpcy5zdGF0ZVtpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIHVzZSBpbiBITUFDIGZvciBvcHRpbWl6YXRpb24uXG4gICAgSGFzaC5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZSA9IGZ1bmN0aW9uIChmcm9tLCBieXRlc0hhc2hlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSBieXRlc0hhc2hlZDtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gSGFzaDtcbn0oKSk7XG5leHBvcnRzLkhhc2ggPSBIYXNoO1xuLy8gSE1BQyBpbXBsZW1lbnRzIEhNQUMtU0hBMjU2IG1lc3NhZ2UgYXV0aGVudGljYXRpb24gYWxnb3JpdGhtLlxudmFyIEhNQUMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSE1BQyhrZXkpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBIYXNoKCk7XG4gICAgICAgIHRoaXMub3V0ZXIgPSBuZXcgSGFzaCgpO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IHRoaXMuaW5uZXIuYmxvY2tTaXplO1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IHRoaXMuaW5uZXIuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB2YXIgcGFkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja1NpemUpO1xuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICAobmV3IEhhc2goKSkudXBkYXRlKGtleSkuZmluaXNoKHBhZCkuY2xlYW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFkW2ldID0ga2V5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gXj0gMHgzNjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShwYWQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldIF49IDB4MzYgXiAweDVjO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKHBhZCk7XG4gICAgICAgIHRoaXMuaXN0YXRlID0gbmV3IFVpbnQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLm9zdGF0ZSA9IG5ldyBVaW50MzJBcnJheSg4KTtcbiAgICAgICAgdGhpcy5pbm5lci5fc2F2ZVN0YXRlKHRoaXMuaXN0YXRlKTtcbiAgICAgICAgdGhpcy5vdXRlci5fc2F2ZVN0YXRlKHRoaXMub3N0YXRlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJucyBITUFDIHN0YXRlIHRvIHRoZSBzdGF0ZSBpbml0aWFsaXplZCB3aXRoIGtleVxuICAgIC8vIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcnVuIEhNQUMgb3ZlciB0aGUgb3RoZXIgZGF0YSB3aXRoIHRoZSBzYW1lXG4gICAgLy8ga2V5IHdpdGhvdXQgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAgSE1BQy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuX3Jlc3RvcmVTdGF0ZSh0aGlzLmlzdGF0ZSwgdGhpcy5pbm5lci5ibG9ja1NpemUpO1xuICAgICAgICB0aGlzLm91dGVyLl9yZXN0b3JlU3RhdGUodGhpcy5vc3RhdGUsIHRoaXMub3V0ZXIuYmxvY2tTaXplKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBDbGVhbnMgSE1BQyBzdGF0ZS5cbiAgICBITUFDLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmlzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5vc3RhdGVbaV0gPSB0aGlzLmlzdGF0ZVtpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lci5jbGVhbigpO1xuICAgICAgICB0aGlzLm91dGVyLmNsZWFuKCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIHN0YXRlIHdpdGggcHJvdmlkZWQgZGF0YS5cbiAgICBITUFDLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBGaW5hbGl6ZXMgSE1BQyBhbmQgcHV0cyB0aGUgcmVzdWx0IGluIG91dC5cbiAgICBITUFDLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dGVyLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5maW5pc2gob3V0KTtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKG91dCwgdGhpcy5kaWdlc3RMZW5ndGgpLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGNvZGUuXG4gICAgSE1BQy5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgICB0aGlzLmZpbmlzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEhNQUM7XG59KCkpO1xuZXhwb3J0cy5ITUFDID0gSE1BQztcbi8vIFJldHVybnMgU0hBMjU2IGhhc2ggb2YgZGF0YS5cbmZ1bmN0aW9uIGhhc2goZGF0YSkge1xuICAgIHZhciBoID0gKG5ldyBIYXNoKCkpLnVwZGF0ZShkYXRhKTtcbiAgICB2YXIgZGlnZXN0ID0gaC5kaWdlc3QoKTtcbiAgICBoLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRpZ2VzdDtcbn1cbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG4vLyBGdW5jdGlvbiBoYXNoIGlzIGJvdGggYXZhaWxhYmxlIGFzIG1vZHVsZS5oYXNoIGFuZCBhcyBkZWZhdWx0IGV4cG9ydC5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaGFzaDtcbi8vIFJldHVybnMgSE1BQy1TSEEyNTYgb2YgZGF0YSB1bmRlciB0aGUga2V5LlxuZnVuY3Rpb24gaG1hYyhrZXksIGRhdGEpIHtcbiAgICB2YXIgaCA9IChuZXcgSE1BQyhrZXkpKS51cGRhdGUoZGF0YSk7XG4gICAgdmFyIGRpZ2VzdCA9IGguZGlnZXN0KCk7XG4gICAgaC5jbGVhbigpO1xuICAgIHJldHVybiBkaWdlc3Q7XG59XG5leHBvcnRzLmhtYWMgPSBobWFjO1xuLy8gRmlsbHMgaGtkZiBidWZmZXIgbGlrZSB0aGlzOlxuLy8gVCgxKSA9IEhNQUMtSGFzaChQUkssIFQoMCkgfCBpbmZvIHwgMHgwMSlcbmZ1bmN0aW9uIGZpbGxCdWZmZXIoYnVmZmVyLCBobWFjLCBpbmZvLCBjb3VudGVyKSB7XG4gICAgLy8gQ291bnRlciBpcyBhIGJ5dGUgdmFsdWU6IGNoZWNrIGlmIGl0IG92ZXJmbG93ZWQuXG4gICAgdmFyIG51bSA9IGNvdW50ZXJbMF07XG4gICAgaWYgKG51bSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoa2RmOiBjYW5ub3QgZXhwYW5kIG1vcmVcIik7XG4gICAgfVxuICAgIC8vIFByZXBhcmUgSE1BQyBpbnN0YW5jZSBmb3IgbmV3IGRhdGEgd2l0aCBvbGQga2V5LlxuICAgIGhtYWMucmVzZXQoKTtcbiAgICAvLyBIYXNoIGluIHByZXZpb3VzIG91dHB1dCBpZiBpdCB3YXMgZ2VuZXJhdGVkXG4gICAgLy8gKGkuZS4gY291bnRlciBpcyBncmVhdGVyIHRoYW4gMSkuXG4gICAgaWYgKG51bSA+IDEpIHtcbiAgICAgICAgaG1hYy51cGRhdGUoYnVmZmVyKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiBpbmZvIGlmIGl0IGV4aXN0cy5cbiAgICBpZiAoaW5mbykge1xuICAgICAgICBobWFjLnVwZGF0ZShpbmZvKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiB0aGUgY291bnRlci5cbiAgICBobWFjLnVwZGF0ZShjb3VudGVyKTtcbiAgICAvLyBPdXRwdXQgcmVzdWx0IHRvIGJ1ZmZlciBhbmQgY2xlYW4gSE1BQyBpbnN0YW5jZS5cbiAgICBobWFjLmZpbmlzaChidWZmZXIpO1xuICAgIC8vIEluY3JlbWVudCBjb3VudGVyIGluc2lkZSB0eXBlZCBhcnJheSwgdGhpcyB3b3JrcyBwcm9wZXJseS5cbiAgICBjb3VudGVyWzBdKys7XG59XG52YXIgaGtkZlNhbHQgPSBuZXcgVWludDhBcnJheShleHBvcnRzLmRpZ2VzdExlbmd0aCk7IC8vIEZpbGxlZCB3aXRoIHplcm9lcy5cbmZ1bmN0aW9uIGhrZGYoa2V5LCBzYWx0LCBpbmZvLCBsZW5ndGgpIHtcbiAgICBpZiAoc2FsdCA9PT0gdm9pZCAwKSB7IHNhbHQgPSBoa2RmU2FsdDsgfVxuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSAzMjsgfVxuICAgIHZhciBjb3VudGVyID0gbmV3IFVpbnQ4QXJyYXkoWzFdKTtcbiAgICAvLyBIS0RGLUV4dHJhY3QgdXNlcyBzYWx0IGFzIEhNQUMga2V5LCBhbmQga2V5IGFzIGRhdGEuXG4gICAgdmFyIG9rbSA9IGhtYWMoc2FsdCwga2V5KTtcbiAgICAvLyBJbml0aWFsaXplIEhNQUMgZm9yIGV4cGFuZGluZyB3aXRoIGV4dHJhY3RlZCBrZXkuXG4gICAgLy8gRW5zdXJlIG5vIGNvbGxpc2lvbnMgd2l0aCBgaG1hY2AgZnVuY3Rpb24uXG4gICAgdmFyIGhtYWNfID0gbmV3IEhNQUMob2ttKTtcbiAgICAvLyBBbGxvY2F0ZSBidWZmZXIuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGhtYWNfLmRpZ2VzdExlbmd0aCk7XG4gICAgdmFyIGJ1ZnBvcyA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYnVmcG9zID09PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBmaWxsQnVmZmVyKGJ1ZmZlciwgaG1hY18sIGluZm8sIGNvdW50ZXIpO1xuICAgICAgICAgICAgYnVmcG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBvdXRbaV0gPSBidWZmZXJbYnVmcG9zKytdO1xuICAgIH1cbiAgICBobWFjXy5jbGVhbigpO1xuICAgIGJ1ZmZlci5maWxsKDApO1xuICAgIGNvdW50ZXIuZmlsbCgwKTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5oa2RmID0gaGtkZjtcbi8vIERlcml2ZXMgYSBrZXkgZnJvbSBwYXNzd29yZCBhbmQgc2FsdCB1c2luZyBQQktERjItSE1BQy1TSEEyNTZcbi8vIHdpdGggdGhlIGdpdmVuIG51bWJlciBvZiBpdGVyYXRpb25zLlxuLy9cbi8vIFRoZSBudW1iZXIgb2YgYnl0ZXMgcmV0dXJuZWQgaXMgZXF1YWwgdG8gZGtMZW4uXG4vL1xuLy8gKEZvciBiZXR0ZXIgc2VjdXJpdHksIGF2b2lkIGRrTGVuIGdyZWF0ZXIgdGhhbiBoYXNoIGxlbmd0aCAtIDMyIGJ5dGVzKS5cbmZ1bmN0aW9uIHBia2RmMihwYXNzd29yZCwgc2FsdCwgaXRlcmF0aW9ucywgZGtMZW4pIHtcbiAgICB2YXIgcHJmID0gbmV3IEhNQUMocGFzc3dvcmQpO1xuICAgIHZhciBsZW4gPSBwcmYuZGlnZXN0TGVuZ3RoO1xuICAgIHZhciBjdHIgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICB2YXIgdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgdmFyIHUgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIHZhciBkayA9IG5ldyBVaW50OEFycmF5KGRrTGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSAqIGxlbiA8IGRrTGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBpICsgMTtcbiAgICAgICAgY3RyWzBdID0gKGMgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIGN0clsxXSA9IChjID4+PiAxNikgJiAweGZmO1xuICAgICAgICBjdHJbMl0gPSAoYyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBjdHJbM10gPSAoYyA+Pj4gMCkgJiAweGZmO1xuICAgICAgICBwcmYucmVzZXQoKTtcbiAgICAgICAgcHJmLnVwZGF0ZShzYWx0KTtcbiAgICAgICAgcHJmLnVwZGF0ZShjdHIpO1xuICAgICAgICBwcmYuZmluaXNoKHUpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICB0W2pdID0gdVtqXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA8PSBpdGVyYXRpb25zOyBqKyspIHtcbiAgICAgICAgICAgIHByZi5yZXNldCgpO1xuICAgICAgICAgICAgcHJmLnVwZGF0ZSh1KS5maW5pc2godSk7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgICAgICAgICAgdFtrXSBePSB1W2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuICYmIGkgKiBsZW4gKyBqIDwgZGtMZW47IGorKykge1xuICAgICAgICAgICAgZGtbaSAqIGxlbiArIGpdID0gdFtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRbaV0gPSB1W2ldID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgY3RyW2ldID0gMDtcbiAgICB9XG4gICAgcHJmLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRrO1xufVxuZXhwb3J0cy5wYmtkZjIgPSBwYmtkZjI7XG59KTtcbiIsImltcG9ydCB7V2ViUmVuZGVyZXJ9IGZyb20gJy4vV2ViUmVuZGVyZXInXG5pbXBvcnQgXCJmYXN0LXRleHQtZW5jb2RpbmdcIlxuaW1wb3J0IHtcbiAgYWRkQ1NTUnVsZSxcbiAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzLFxuICBnZXRCb3VuZHMsXG4gIGdldFBhZGRpbmcsXG4gIGdldE1hcmdpbixcbiAgZ2V0Qm9yZGVyLFxuICBCb3VuZHMsXG4gIEVkZ2VzXG59IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTFJVTWFwIH0gZnJvbSAnbHJ1X21hcCdcbmltcG9ydCAqIGFzIHNoYTI1NiBmcm9tICdmYXN0LXNoYTI1NidcblxuaW1wb3J0IHtzZXJpYWxpemVUb1N0cmluZywgc2VyaWFsaXplQXR0cmlidXRlfSBmcm9tICcuL3htbC1zZXJpYWxpemVyJ1xuXG5leHBvcnQgdHlwZSBFdmVudENhbGxiYWNrID0gKFxuICBldmVudDpcbiAgICB8ICdsYXllcnBhaW50ZWQnXG4gICAgfCAnbGF5ZXJjcmVhdGVkJ1xuICAgIHwgJ2xheWVybW92ZWQnLFxuICBkYXRhOiB7IHRhcmdldDogRWxlbWVudCB9XG4pID0+IHZvaWRcblxuY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuXG50eXBlIFNWR0hhc2ggPSBzdHJpbmdcbnR5cGUgQ2FudmFzSGFzaCA9IHN0cmluZ1xuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIge1xuICBzdGF0aWMgREVGQVVMVF9DQUNIRV9TSVpFID0gNFxuICBwcml2YXRlIHN0YXRpYyBzdmdSZXRyeUNvdW50OiBNYXA8U1ZHSGFzaCwgbnVtYmVyPiA9IG5ldyBNYXBcbiAgcHJpdmF0ZSBzdGF0aWMgc3ZnQ2FudmFzSGFzaDogTFJVTWFwPFNWR0hhc2gsIENhbnZhc0hhc2g+ID0gbmV3IExSVU1hcCgxMDAwKVxuICBwcml2YXRlIHN0YXRpYyBjYWNoZWRDYW52YXNlczogTFJVTWFwPENhbnZhc0hhc2gsIEhUTUxDYW52YXNFbGVtZW50PiA9IG5ldyBMUlVNYXAoV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFKVxuXG4gIGlkOnN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIFdlYlJlbmRlcmVyLmxheWVycy5zZXQoZWxlbWVudCwgdGhpcylcbiAgICB0aGlzLmlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKSB8fCAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKClcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIHRoaXMuaWQpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFLCcnKVxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LCBmYWxzZSlcbiAgICB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVyY3JlYXRlZCcsIHsgdGFyZ2V0OiBlbGVtZW50IH0pXG4gICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXQgPSBXZWJSZW5kZXJlci5sYXllcnMuc2l6ZSAqIFdlYkxheWVyLkRFRkFVTFRfQ0FDSEVfU0laRVxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMud2lkdGggPSAyMFxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMuaGVpZ2h0ID0gMjBcbiAgfVxuXG4gIG5lZWRzUmVmcmVzaCA9IHRydWVcbiAgbmVlZHNSZW1vdmFsID0gZmFsc2VcblxuICBwc2V1ZG9TdGF0ZXMgPSB7XG4gICAgaG92ZXI6IGZhbHNlLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZm9jdXM6IGZhbHNlLFxuICAgIHRhcmdldDogZmFsc2VcbiAgfVxuXG4gIHN2Z0ltYWdlOiBIVE1MSW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKClcbiAgXG4gIHByaXZhdGUgYm91bmRzID0gbmV3IEJvdW5kcygpXG4gIHByaXZhdGUgcGFkZGluZyA9IG5ldyBFZGdlcygpXG4gIHByaXZhdGUgbWFyZ2luID0gbmV3IEVkZ2VzKClcbiAgcHJpdmF0ZSBib3JkZXIgPSBuZXcgRWRnZXMoKVxuICBcbiAgcGFyZW50TGF5ZXI/OiBXZWJMYXllclxuICBjaGlsZExheWVycyA9IFtdIGFzIFdlYkxheWVyW11cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuXG4gIHJhc3Rlcml6YXRpb25Db3VudDogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKVxuICBjYWNoZWRCb3VuZHM6IE1hcDxzdHJpbmcsIEJvdW5kcz4gPSBuZXcgTWFwKClcbiAgY2FjaGVkTWFyZ2luOiBNYXA8c3RyaW5nLCBFZGdlcz4gPSBuZXcgTWFwKClcblxuICBwcml2YXRlIF9keW5hbWljQXR0cmlidXRlcyA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2ggPSAnJ1xuICBwcml2YXRlIF9zdmdEb2N1bWVudCA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2hSYXN0ZXJpemluZyA9ICcnXG4gIHByaXZhdGUgX3N2Z1NyYyA9ICcnXG4gIHByaXZhdGUgX2hhc2hpbmdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG4gIF9jdXJyZW50U1ZHSGFzaD86IHN0cmluZ1xuICBfY3VycmVudENhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50XG4gIF9jdXJyZW50Qm91bmRzITogQm91bmRzXG4gIF9jdXJyZW50TWFyZ2luITogRWRnZXNcblxuICB0cnlTZXRGcm9tU1ZHSGFzaChzdmdIYXNoOlNWR0hhc2gpIHtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmNhY2hlZEJvdW5kcy5nZXQoc3ZnSGFzaClcbiAgICBjb25zdCBtYXJnaW4gPSB0aGlzLmNhY2hlZE1hcmdpbi5nZXQoc3ZnSGFzaClcbiAgICBpZiAoc3ZnSGFzaCA9PSB0aGlzLl9jdXJyZW50U1ZHSGFzaCkge1xuICAgICAgaWYgKGJvdW5kcyAmJiBtYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IGJvdW5kc1xuICAgICAgICB0aGlzLl9jdXJyZW50TWFyZ2luID0gbWFyZ2luXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZSBcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldmlvdXNDYW52YXNIYXNoID0gV2ViTGF5ZXIuc3ZnQ2FudmFzSGFzaC5nZXQodGhpcy5fY3VycmVudFNWR0hhc2ghKVxuICAgICAgY29uc3QgY2FudmFzSGFzaCA9IFdlYkxheWVyLnN2Z0NhbnZhc0hhc2guZ2V0KHN2Z0hhc2gpIVxuICAgICAgY29uc3QgY2FudmFzID0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuZ2V0KGNhbnZhc0hhc2gpXG4gICAgICBpZiAoY2FudmFzICYmIGJvdW5kcyAmJiBtYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNWR0hhc2ggPSBzdmdIYXNoXG4gICAgICAgIHRoaXMuX2N1cnJlbnRDYW52YXMgPSBjYW52YXNcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IGJvdW5kc1xuICAgICAgICB0aGlzLl9jdXJyZW50TWFyZ2luID0gbWFyZ2luXG4gICAgICAgIGlmIChwcmV2aW91c0NhbnZhc0hhc2ggIT09IGNhbnZhc0hhc2ggJiYgdGhpcy5ldmVudENhbGxiYWNrKSB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVycGFpbnRlZCcsIHsgdGFyZ2V0OiB0aGlzLmVsZW1lbnQgfSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgY3VycmVudENhbnZhcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudENhbnZhc1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRCb3VuZHNcbiAgfVxuXG4gIGdldCBjdXJyZW50TWFyZ2luKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50TWFyZ2luXG4gIH1cblxuICBnZXQgZGVwdGgoKSB7XG4gICAgbGV0IGRlcHRoID0gMFxuICAgIGxldCBsYXllciA9IHRoaXMgYXMgV2ViTGF5ZXJcbiAgICB3aGlsZSAobGF5ZXIucGFyZW50TGF5ZXIpIHtcbiAgICAgIGxheWVyID0gbGF5ZXIucGFyZW50TGF5ZXJcbiAgICAgIGRlcHRoKytcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoXG4gIH1cblxuICBnZXQgcm9vdExheWVyKCkge1xuICAgIGxldCByb290TGF5ZXIgPSB0aGlzIGFzIFdlYkxheWVyXG4gICAgd2hpbGUgKHJvb3RMYXllci5wYXJlbnRMYXllcikgcm9vdExheWVyID0gcm9vdExheWVyLnBhcmVudExheWVyXG4gICAgcmV0dXJuIHJvb3RMYXllclxuICB9XG5cbiAgdHJhdmVyc2VQYXJlbnRMYXllcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZFxuICApIHtcbiAgICBjb25zdCBwYXJlbnRMYXllciA9IHRoaXMucGFyZW50TGF5ZXJcbiAgICBpZiAocGFyZW50TGF5ZXIpIHtcbiAgICAgIHBhcmVudExheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKGVhY2gpXG4gICAgICBlYWNoKHBhcmVudExheWVyKVxuICAgIH1cbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzKGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWQpIHtcbiAgICBlYWNoKHRoaXMpXG4gICAgdGhpcy50cmF2ZXJzZUNoaWxkTGF5ZXJzKGVhY2gpXG4gIH1cblxuICB0cmF2ZXJzZUNoaWxkTGF5ZXJzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIpID0+IHZvaWRcbiAgKSB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkTGF5ZXJzKSB7XG4gICAgICBjaGlsZC50cmF2ZXJzZUxheWVycyhlYWNoKVxuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgaWYgKCF0aGlzLl9jdXJyZW50U1ZHSGFzaCkge1xuICAgICAgZ2V0Qm91bmRzKHRoaXMuZWxlbWVudCwgdGhpcy5ib3VuZHMsIHRoaXMucGFyZW50TGF5ZXIgJiYgdGhpcy5wYXJlbnRMYXllci5lbGVtZW50KVxuICAgICAgZ2V0TWFyZ2luKHRoaXMuZWxlbWVudCwgdGhpcy5tYXJnaW4pXG4gICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gdGhpcy5ib3VuZHNcbiAgICAgIHRoaXMuX2N1cnJlbnRNYXJnaW4gPSB0aGlzLm1hcmdpblxuICAgIH1cbiAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IGZhbHNlXG4gICAgdGhpcy5fdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMoKVxuICAgIFdlYlJlbmRlcmVyLmFkZFRvU2VyaWFsaXplUXVldWUodGhpcylcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRcbiAgICBjb25zdCBjaGlsZExheWVycyA9IHRoaXMuY2hpbGRMYXllcnNcbiAgICBjb25zdCBvbGRDaGlsZExheWVycyA9IGNoaWxkTGF5ZXJzLnNsaWNlKClcblxuICAgIGNvbnN0IHByZXZpb3VzUGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudExheWVyXG4gICAgdGhpcy5wYXJlbnRMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcih0aGlzLmVsZW1lbnQsIGZhbHNlKVxuICAgIGlmIChwcmV2aW91c1BhcmVudExheWVyICE9PSB0aGlzLnBhcmVudExheWVyKSB7XG4gICAgICB0aGlzLnBhcmVudExheWVyICYmIHRoaXMucGFyZW50TGF5ZXIuY2hpbGRMYXllcnMucHVzaCh0aGlzKVxuICAgICAgdGhpcy5ldmVudENhbGxiYWNrKCdsYXllcm1vdmVkJywgeyB0YXJnZXQ6IGVsZW1lbnQgfSlcbiAgICB9XG5cbiAgICBjaGlsZExheWVycy5sZW5ndGggPSAwXG4gICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGVsZW1lbnQsIHRoaXMuX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllciwgdGhpcylcblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2xkQ2hpbGRMYXllcnMpIHtcbiAgICAgIGNvbnN0IHBhcmVudExheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKGNoaWxkLmVsZW1lbnQsIGZhbHNlKVxuICAgICAgaWYgKCFwYXJlbnRMYXllcikge1xuICAgICAgICBjaGlsZC5uZWVkc1JlbW92YWwgPSB0cnVlXG4gICAgICAgIGNoaWxkTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfdHJ5Q29udmVydEVsZW1lbnRUb1dlYkxheWVyKG46IE5vZGUpIHtcbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IGVsID0gbiBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWwpXG4gICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSwgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKCkpXG4gICAgfVxuICAgIGNvbnN0IGlzTGF5ZXIgPSBlbC5oYXNBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFKVxuICAgIGlmIChpc0xheWVyIHx8IGVsLm5vZGVOYW1lID09PSAnVklERU8nIHx8IHN0eWxlcy50cmFuc2Zvcm0gIT09ICdub25lJykge1xuICAgICAgbGV0IGNoaWxkID0gV2ViUmVuZGVyZXIubGF5ZXJzLmdldChlbClcbiAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgY2hpbGQgPSBuZXcgV2ViTGF5ZXIoZWwsIHRoaXMuZXZlbnRDYWxsYmFjaylcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hpbGRMYXllcnMucHVzaChjaGlsZClcbiAgICAgIHJldHVybiBmYWxzZSAvLyBzdG9wIHRyYXZlcnNpbmcgdGhpcyBzdWJ0cmVlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZXJpYWxpemF0aW9uUmVwbGFjZXIgPSAobm9kZTpOb2RlKSA9PiB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCA9PT0gbm9kZSkgcmV0dXJuXG4gICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgRWxlbWVudFxuICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIubGF5ZXJzLmdldChlbGVtZW50KVxuICAgIGlmIChsYXllcikgeyAgICAgIFxuICAgICAgY29uc3QgYm91bmRzID0gbGF5ZXIuYm91bmRzXG4gICAgICBsZXQgYXR0cmlidXRlcyA9ICcnXG4gICAgICBjb25zdCBleHRyYVN0eWxlID0gYG1heC13aWR0aDoke2JvdW5kcy53aWR0aCsxfXB4O21heC1oZWlnaHQ6JHtib3VuZHMuaGVpZ2h0KzF9cHg7bWluLXdpZHRoOiR7Ym91bmRzLndpZHRofXB4O21pbi1oZWlnaHQ6JHtib3VuZHMuaGVpZ2h0fXB4O3Zpc2liaWxpdHk6aGlkZGVuYFxuICAgICAgbGV0IGFkZGVkU3R5bGUgPSBmYWxzZVxuICAgICAgZm9yIChjb25zdCBhdHRyIG9mIGxheWVyLmVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYXR0ci5uYW1lID09PSAnc3JjJykgY29udGludWVcbiAgICAgICAgaWYgKGF0dHIubmFtZSA9PSAnc3R5bGUnKSB7XG4gICAgICAgICAgYXR0cmlidXRlcyArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlICsgJzsnICsgZXh0cmFTdHlsZSlcbiAgICAgICAgICBhZGRlZFN0eWxlID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJpYnV0ZXMgKz0gc2VyaWFsaXplQXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFhZGRlZFN0eWxlKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgKz0gc2VyaWFsaXplQXR0cmlidXRlKCdzdHlsZScsIGV4dHJhU3R5bGUpXG4gICAgICB9XG4gICAgICBjb25zdCB0YWcgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgcmV0dXJuIGA8JHt0YWd9ICR7YXR0cmlidXRlc30+PC8ke3RhZ30+YFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNlcmlhbGl6ZSgpIHsgICAgICBcbiAgICBjb25zdCBsYXllckVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcbiAgICBpZiAobGF5ZXJFbGVtZW50Lm5vZGVOYW1lID09PSAnVklERU8nKSByZXR1cm5cbiAgICBcbiAgICBnZXRCb3VuZHMobGF5ZXJFbGVtZW50LCB0aGlzLmJvdW5kcywgdGhpcy5wYXJlbnRMYXllcj8uZWxlbWVudClcbiAgICBnZXRNYXJnaW4obGF5ZXJFbGVtZW50LCB0aGlzLm1hcmdpbilcbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmJvdW5kc1xuICAgIC8vIGFkZCBtYXJnaW5zXG4gICAgd2lkdGggKz0gTWF0aC5tYXgodGhpcy5tYXJnaW4ubGVmdCwgMCkgKyBNYXRoLm1heCh0aGlzLm1hcmdpbi5yaWdodCwgMClcbiAgICBoZWlnaHQgKz0gTWF0aC5tYXgodGhpcy5tYXJnaW4udG9wLCAwKSArIE1hdGgubWF4KHRoaXMubWFyZ2luLmJvdHRvbSwgMClcblxuICAgIGlmICh3aWR0aCAqIGhlaWdodCA+IDApIHtcbiAgICAgIGdldFBhZGRpbmcobGF5ZXJFbGVtZW50LCB0aGlzLnBhZGRpbmcpXG4gICAgICBnZXRCb3JkZXIobGF5ZXJFbGVtZW50LCB0aGlzLmJvcmRlcilcblxuICAgICAgLy8gY3JlYXRlIHN2ZyBtYXJrdXBcbiAgICAgIGNvbnN0IGVsZW1lbnRBdHRyaWJ1dGUgPSBXZWJSZW5kZXJlci5hdHRyaWJ1dGVIVE1MKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSwnJyt0aGlzLmlkKVxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobGF5ZXJFbGVtZW50KVxuICAgICAgY29uc3QgbmVlZHNJbmxpbmVCbG9jayA9IGNvbXB1dGVkU3R5bGUuZGlzcGxheSA9PT0gJ2lubGluZSdcbiAgICAgIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhsYXllckVsZW1lbnQpXG4gICAgICBjb25zdCBwYXJlbnRzSFRNTCA9IHRoaXMuX2dldFBhcmVudHNIVE1MKGxheWVyRWxlbWVudClcbiAgICAgIHBhcmVudHNIVE1MWzBdID0gcGFyZW50c0hUTUxbMF0ucmVwbGFjZShcbiAgICAgICAgJ2h0bWwnLFxuICAgICAgICAnaHRtbCAnICsgV2ViUmVuZGVyZXIuUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSArICc9XCJcIiAnXG4gICAgICApXG5cbiAgICAgIGxldCBbc3ZnQ1NTLCBsYXllckhUTUxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBXZWJSZW5kZXJlci5nZXRSZW5kZXJpbmdDU1MobGF5ZXJFbGVtZW50KSxcbiAgICAgICAgc2VyaWFsaXplVG9TdHJpbmcobGF5ZXJFbGVtZW50LCB0aGlzLnNlcmlhbGl6YXRpb25SZXBsYWNlcilcbiAgICAgIF0pXG4gICAgICBsYXllckhUTUwgPSBsYXllckhUTUwucmVwbGFjZShlbGVtZW50QXR0cmlidXRlLFxuICAgICAgICAgICAgYCR7ZWxlbWVudEF0dHJpYnV0ZX0gJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfT1cIlwiIGAgK1xuICAgICAgICAgICAgYCR7bmVlZHNJbmxpbmVCbG9jayA/IGAke1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9IGAgK1xuICAgICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0UHN1ZWRvQXR0cmlidXRlcyh0aGlzLnBzZXVkb1N0YXRlcykpXG4gICAgICBjb25zdCBkb2NTdHJpbmcgPVxuICAgICAgICAnPHN2ZyB3aWR0aD1cIicgK1xuICAgICAgICB3aWR0aCArXG4gICAgICAgICdcIiBoZWlnaHQ9XCInICtcbiAgICAgICAgaGVpZ2h0ICtcbiAgICAgICAgJ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZGVmcz48c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+PCFbQ0RBVEFbXFxuJyArXG4gICAgICAgIHN2Z0NTUy5qb2luKCdcXG4nKSArXG4gICAgICAgICddXT48L3N0eWxlPjwvZGVmcz48Zm9yZWlnbk9iamVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCInICtcbiAgICAgICAgKHdpZHRoKzEpICtcbiAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xuICAgICAgICAoaGVpZ2h0KzEpICtcbiAgICAgICAgJ1wiPicgK1xuICAgICAgICBwYXJlbnRzSFRNTFswXSArXG4gICAgICAgIGxheWVySFRNTCArXG4gICAgICAgIHBhcmVudHNIVE1MWzFdICtcbiAgICAgICAgJzwvZm9yZWlnbk9iamVjdD48L3N2Zz4nXG4gICAgICBjb25zdCBzdmdEb2MgPSB0aGlzLl9zdmdEb2N1bWVudCA9IGRvY1N0cmluZ1xuICAgICAgY29uc3Qgc3ZnSGFzaCA9IHRoaXMuX3N2Z0hhc2ggPSBXZWJSZW5kZXJlci5hcnJheUJ1ZmZlclRvQmFzZTY0KHNoYTI1Ni5oYXNoKGVuY29kZXIuZW5jb2RlKHN2Z0RvYykpKSArXG4gICAgICAgICc/dz0nICsgd2lkdGggK1xuICAgICAgICAnO2g9JyArIGhlaWdodFxuXG4gICAgICB0aGlzLmNhY2hlZEJvdW5kcy5zZXQoc3ZnSGFzaCwgbmV3IEJvdW5kcygpLmNvcHkodGhpcy5ib3VuZHMpKVxuICAgICAgdGhpcy5jYWNoZWRNYXJnaW4uc2V0KHN2Z0hhc2gsIG5ldyBFZGdlcygpLmNvcHkodGhpcy5tYXJnaW4pKVxuICAgICAgXG4gICAgICAvLyB0cnkgc2V0dGluZyBmcm9tIGNhY2hlXG4gICAgICBpZiAodGhpcy50cnlTZXRGcm9tU1ZHSGFzaChzdmdIYXNoKSkgcmV0dXJuXG5cbiAgICAgIC8vIHJhc3Rlcml6ZSB0aGUgc3ZnIGRvY3VtZW50IGlmIG5vIGV4aXN0aW5nIGNhbnZhcyBtYXRjaGVzXG4gICAgICBXZWJSZW5kZXJlci5hZGRUb1Jhc3Rlcml6ZVF1ZXVlKHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMuY29weSh0aGlzLmJvdW5kcylcbiAgICAgIHRoaXMuX2N1cnJlbnRNYXJnaW4uY29weSh0aGlzLm1hcmdpbilcbiAgICB9XG4gIH1cblxuICBhc3luYyByYXN0ZXJpemUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gICAgICAgIFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcylcbiAgICAgICAgdGhpcy5zdmdJbWFnZS5vbmxvYWQgPSBudWxsXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgICAgdGhpcy5zdmdJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQocmVuZGVyLCAxMCkgLy8gZGVsYXkgdG8gbWFrZSBzdXJlIGludGVybmFsIFNWRyBpbWFnZXMvcmVzb3VyY2VzIGFyZSBmdWxseSBsb2FkZWQgXG4gICAgICB9XG4gICAgICB0aGlzLnN2Z0ltYWdlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgICAgdGhpcy5fc3ZnSGFzaFJhc3Rlcml6aW5nID0gdGhpcy5fc3ZnSGFzaFxuICAgICAgdGhpcy5zdmdJbWFnZS5zcmMgPSAodGhpcy5fc3ZnU3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCcgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5fc3ZnRG9jdW1lbnQpKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICBpZiAoIXRoaXMuc3ZnSW1hZ2UuY29tcGxldGUgfHwgdGhpcy5zdmdJbWFnZS5jdXJyZW50U3JjICE9PSB0aGlzLnN2Z0ltYWdlLnNyYykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpLDEwMClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHN2Z0hhc2ggPSB0aGlzLl9zdmdIYXNoUmFzdGVyaXppbmdcblxuICAgIGlmICghdGhpcy5jYWNoZWRCb3VuZHMuaGFzKHN2Z0hhc2gpIHx8ICF0aGlzLmNhY2hlZE1hcmdpbi5oYXMoc3ZnSGFzaCkpIHtcbiAgICAgIHRoaXMubmVlZHNSZWZyZXNoID0gdHJ1ZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jYWNoZWRCb3VuZHMuZ2V0KHN2Z0hhc2gpIVxuICAgIGxldCB7IGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSB9ID0gdGhpcy5jYWNoZWRNYXJnaW4uZ2V0KHN2Z0hhc2gpIVxuXG4gICAgY29uc3QgZnVsbFdpZHRoID0gd2lkdGggKyBsZWZ0ICsgcmlnaHRcbiAgICBjb25zdCBmdWxsSGVpZ2h0ID0gaGVpZ2h0ICsgdG9wICsgYm90dG9tXG5cbiAgICBjb25zdCBoYXNoaW5nQ2FudmFzID0gdGhpcy5faGFzaGluZ0NhbnZhc1xuICAgIGxldCBodyA9IGhhc2hpbmdDYW52YXMud2lkdGhcbiAgICBsZXQgaGggPSBoYXNoaW5nQ2FudmFzLmhlaWdodFxuICAgIGNvbnN0IGhjdHggPSBoYXNoaW5nQ2FudmFzLmdldENvbnRleHQoJzJkJykhXG4gICAgaGN0eC5jbGVhclJlY3QoMCwgMCwgaHcsIGhoKVxuICAgIGhjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBoY3R4LmRyYXdJbWFnZSh0aGlzLnN2Z0ltYWdlLCAwLCAwLCBmdWxsV2lkdGgsIGZ1bGxIZWlnaHQsIDAsIDAsIGh3LCBoaClcbiAgICBjb25zdCBoYXNoRGF0YSA9IGhjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGh3LCBoaCkuZGF0YVxuICAgIGNvbnN0IGNhbnZhc0hhc2ggPVxuICAgICAgV2ViUmVuZGVyZXIuYXJyYXlCdWZmZXJUb0Jhc2U2NChzaGEyNTYuaGFzaChuZXcgVWludDhBcnJheShoYXNoRGF0YSkpKVxuICAgIFxuICAgIGNvbnN0IHByZXZpb3VzQ2FudmFzSGFzaCA9IFdlYkxheWVyLnN2Z0NhbnZhc0hhc2guZ2V0KHN2Z0hhc2gpXG4gICAgV2ViTGF5ZXIuc3ZnQ2FudmFzSGFzaC5zZXQoc3ZnSGFzaCwgY2FudmFzSGFzaClcbiAgICBpZiAocHJldmlvdXNDYW52YXNIYXNoICE9PSBjYW52YXNIYXNoKSB7XG4gICAgICBXZWJMYXllci5zdmdSZXRyeUNvdW50LnNldChzdmdIYXNoLCAwKVxuICAgIH1cblxuICAgIGNvbnN0IHJldHJ5Q291bnQgPSBXZWJMYXllci5zdmdSZXRyeUNvdW50LmdldChzdmdIYXNoKXx8MFxuICAgIFdlYkxheWVyLnN2Z1JldHJ5Q291bnQuc2V0KHN2Z0hhc2gsIHJldHJ5Q291bnQrMSlcblxuICAgIGlmIChyZXRyeUNvdW50ID4gMyAmJiBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5oYXMoY2FudmFzSGFzaCkpIHtcbiAgICAgIGlmICh0aGlzLl9zdmdIYXNoID09PSB0aGlzLl9zdmdIYXNoUmFzdGVyaXppbmcpXG4gICAgICAgIHRoaXMudHJ5U2V0RnJvbVNWR0hhc2godGhpcy5fc3ZnSGFzaClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCkgPT4gV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKSwgKDUwMCArIE1hdGgucmFuZG9tKCkgKiAxMDAwKSAqIDJecmV0cnlDb3VudClcblxuICAgIGlmIChwcmV2aW91c0NhbnZhc0hhc2ggPT09IGNhbnZhc0hhc2gpIHJldHVyblxuXG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9XG4gICAgICB0aGlzLnBpeGVsUmF0aW8gfHxcbiAgICAgIHBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5QSVhFTF9SQVRJT19BVFRSSUJVVEUpISkgfHxcbiAgICAgIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXG4gICAgY29uc3QgbmV3Q2FudmFzID1cbiAgICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLnNpemUgPT09IFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmxpbWl0XG4gICAgICAgID8gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2hpZnQoKSFbMV1cbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgIGxldCB3ID0gKG5ld0NhbnZhcy53aWR0aCA9IGZ1bGxXaWR0aCAqIHBpeGVsUmF0aW8pXG4gICAgbGV0IGggPSAobmV3Q2FudmFzLmhlaWdodCA9IGZ1bGxIZWlnaHQgKiBwaXhlbFJhdGlvKVxuICAgIGNvbnN0IGN0eCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIVxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaClcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMuc3ZnSW1hZ2UsIDAsIDAsIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgMCwgMCwgdywgaClcbiAgICBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zZXQoY2FudmFzSGFzaCwgbmV3Q2FudmFzKVxuICAgIGNvbnNvbGUubG9nKCdsYXllciBwYWludGVkICcgKyAneCcrcmV0cnlDb3VudCwgdGhpcy5lbGVtZW50KVxuXG4gICAgaWYgKHRoaXMuX3N2Z0hhc2ggPT09IHRoaXMuX3N2Z0hhc2hSYXN0ZXJpemluZylcbiAgICAgIHRoaXMudHJ5U2V0RnJvbVNWR0hhc2goc3ZnSGFzaClcbiAgfVxuXG4gIC8vIEdldCBhbGwgcGFyZW50cyBvZiB0aGUgZW1iZWRlZCBodG1sIGFzIHRoZXNlIGNhbiBlZmZlY3QgdGhlIHJlc3VsdGluZyBzdHlsZXNcbiAgcHJpdmF0ZSBfZ2V0UGFyZW50c0hUTUwoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGNvbnN0IG9wZW5zID0gW11cbiAgICBjb25zdCBjbG9zZXMgPSBbXVxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICBpZiAoIXBhcmVudCkgcGFyZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgZG8ge1xuICAgICAgbGV0IHRhZyA9IHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIGxldCBhdHRyaWJ1dGVzID0gJyAnXG4gICAgICBmb3IgKGNvbnN0IGEgb2YgcGFyZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGEubmFtZSA9PT0gJ3N0eWxlJykgY29udGludWVcblxuICAgICAgICBhdHRyaWJ1dGVzICs9IGAke2EubmFtZX09XCIke2EudmFsdWV9XCIgYFxuICAgICAgfVxuICAgICAgY29uc3Qgb3BlbiA9XG4gICAgICAgICc8JyArXG4gICAgICAgIHRhZyArXG4gICAgICAgICh0YWcgPT09ICdodG1sJ1xuICAgICAgICAgID8gYCB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiBzdHlsZT1cIi0teC13aWR0aDoke1xuICAgICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aH1weDstLXgtaGVpZ2h0OiR7dGhpcy5ib3VuZHMuaGVpZ2h0fXB4Oy0teC1pbmxpbmUtdG9wOiR7XG4gICAgICAgICAgICAgIHRoaXMuYm9yZGVyLnRvcCArIHRoaXMubWFyZ2luLnRvcCArIHRoaXMucGFkZGluZy50b3B9cHhcIiBgXG4gICAgICAgICAgOiAnJykgK1xuICAgICAgICBhdHRyaWJ1dGVzICtcbiAgICAgICAgYCR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEV9PVwiXCIgYCArXG4gICAgICAgIC8vIFdlYlJlbmRlcmVyLmdldFBzdWVkb0F0dHJpYnV0ZXMocGFyZW50KSArXG4gICAgICAgICcgPidcbiAgICAgIG9wZW5zLnVuc2hpZnQob3BlbilcbiAgICAgIGNvbnN0IGNsb3NlID0gJzwvJyArIHRhZyArICc+J1xuICAgICAgY2xvc2VzLnB1c2goY2xvc2UpXG4gICAgICBpZiAodGFnID09ICdodG1sJykgYnJlYWtcbiAgICB9IHdoaWxlICgocGFyZW50ID0gcGFyZW50ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyBwYXJlbnQucGFyZW50RWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBudWxsKSlcbiAgICByZXR1cm4gW29wZW5zLmpvaW4oJycpLCBjbG9zZXMuam9pbignJyldXG4gIH1cbn0iLCJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiIsInZhciBSZXNpemVPYnNlcnZlckJveE9wdGlvbnM7XG4oZnVuY3Rpb24gKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucykge1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkJPUkRFUl9CT1hcIl0gPSBcImJvcmRlci1ib3hcIjtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJDT05URU5UX0JPWFwiXSA9IFwiY29udGVudC1ib3hcIjtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1hcIl0gPSBcImRldmljZS1waXhlbC1jb250ZW50LWJveFwiO1xufSkoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIHx8IChSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgPSB7fSkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH07XG4iLCJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIiwiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iLCJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIiwiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyU2l6ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJTaXplKGlubGluZVNpemUsIGJsb2NrU2l6ZSkge1xuICAgICAgICB0aGlzLmlubGluZVNpemUgPSBpbmxpbmVTaXplO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGJsb2NrU2l6ZTtcbiAgICAgICAgZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJTaXplO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9O1xuIiwiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iLCJ2YXIgaXNTVkcgPSBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmICdnZXRCQm94JyBpbiB0YXJnZXQ7IH07XG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKGlzU1ZHKHRhcmdldCkpIHtcbiAgICAgICAgdmFyIF9hID0gdGFyZ2V0LmdldEJCb3goKSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gIXdpZHRoICYmICFoZWlnaHQ7XG4gICAgfVxuICAgIHZhciBfYiA9IHRhcmdldCwgb2Zmc2V0V2lkdGggPSBfYi5vZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0ID0gX2Iub2Zmc2V0SGVpZ2h0O1xuICAgIHJldHVybiAhKG9mZnNldFdpZHRoIHx8IG9mZnNldEhlaWdodCB8fCB0YXJnZXQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xufTtcbnZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHNjb3BlID0gKF9iID0gKF9hID0gb2JqKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3duZXJEb2N1bWVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlZmF1bHRWaWV3O1xuICAgIHJldHVybiAhIShzY29wZSAmJiBvYmogaW5zdGFuY2VvZiBzY29wZS5FbGVtZW50KTtcbn07XG52YXIgaXNSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgc3dpdGNoICh0YXJnZXQudGFnTmFtZSkge1xuICAgICAgICBjYXNlICdJTlBVVCc6XG4gICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUgIT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnVklERU8nOlxuICAgICAgICBjYXNlICdBVURJTyc6XG4gICAgICAgIGNhc2UgJ0VNQkVEJzpcbiAgICAgICAgY2FzZSAnT0JKRUNUJzpcbiAgICAgICAgY2FzZSAnQ0FOVkFTJzpcbiAgICAgICAgY2FzZSAnSUZSQU1FJzpcbiAgICAgICAgY2FzZSAnSU1HJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IHsgaXNTVkcsIGlzSGlkZGVuLCBpc0VsZW1lbnQsIGlzUmVwbGFjZWRFbGVtZW50IH07XG4iLCJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbmltcG9ydCB7IERPTVJlY3RSZWFkT25seSB9IGZyb20gJy4uL0RPTVJlY3RSZWFkT25seSc7XG5pbXBvcnQgeyBpc1NWRywgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4uL3V0aWxzL2ZyZWV6ZSc7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuLi91dGlscy9nbG9iYWwnO1xudmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbnZhciBzY3JvbGxSZWdleHAgPSAvYXV0b3xzY3JvbGwvO1xudmFyIHZlcnRpY2FsUmVnZXhwID0gL150Ynx2ZXJ0aWNhbC87XG52YXIgSUUgPSAoL21zaWV8dHJpZGVudC9pKS50ZXN0KGdsb2JhbC5uYXZpZ2F0b3IgJiYgZ2xvYmFsLm5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIHBhcnNlRGltZW5zaW9uID0gZnVuY3Rpb24gKHBpeGVsKSB7IHJldHVybiBwYXJzZUZsb2F0KHBpeGVsIHx8ICcwJyk7IH07XG52YXIgc2l6ZSA9IGZ1bmN0aW9uIChpbmxpbmVTaXplLCBibG9ja1NpemUsIHN3aXRjaFNpemVzKSB7XG4gICAgaWYgKGlubGluZVNpemUgPT09IHZvaWQgMCkgeyBpbmxpbmVTaXplID0gMDsgfVxuICAgIGlmIChibG9ja1NpemUgPT09IHZvaWQgMCkgeyBibG9ja1NpemUgPSAwOyB9XG4gICAgaWYgKHN3aXRjaFNpemVzID09PSB2b2lkIDApIHsgc3dpdGNoU2l6ZXMgPSBmYWxzZTsgfVxuICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJTaXplKChzd2l0Y2hTaXplcyA/IGJsb2NrU2l6ZSA6IGlubGluZVNpemUpIHx8IDAsIChzd2l0Y2hTaXplcyA/IGlubGluZVNpemUgOiBibG9ja1NpemUpIHx8IDApO1xufTtcbnZhciB6ZXJvQm94ZXMgPSBmcmVlemUoe1xuICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoKSxcbiAgICBib3JkZXJCb3hTaXplOiBzaXplKCksXG4gICAgY29udGVudEJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seSgwLCAwLCAwLCAwKVxufSk7XG52YXIgY2FsY3VsYXRlQm94U2l6ZXMgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICBpZiAoZm9yY2VSZWNhbGN1bGF0aW9uID09PSB2b2lkIDApIHsgZm9yY2VSZWNhbGN1bGF0aW9uID0gZmFsc2U7IH1cbiAgICBpZiAoY2FjaGUuaGFzKHRhcmdldCkgJiYgIWZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KHRhcmdldCk7XG4gICAgfVxuICAgIGlmIChpc0hpZGRlbih0YXJnZXQpKSB7XG4gICAgICAgIGNhY2hlLnNldCh0YXJnZXQsIHplcm9Cb3hlcyk7XG4gICAgICAgIHJldHVybiB6ZXJvQm94ZXM7XG4gICAgfVxuICAgIHZhciBjcyA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KTtcbiAgICB2YXIgc3ZnID0gaXNTVkcodGFyZ2V0KSAmJiB0YXJnZXQub3duZXJTVkdFbGVtZW50ICYmIHRhcmdldC5nZXRCQm94KCk7XG4gICAgdmFyIHJlbW92ZVBhZGRpbmcgPSAhSUUgJiYgY3MuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCc7XG4gICAgdmFyIHN3aXRjaFNpemVzID0gdmVydGljYWxSZWdleHAudGVzdChjcy53cml0aW5nTW9kZSB8fCAnJyk7XG4gICAgdmFyIGNhblNjcm9sbFZlcnRpY2FsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WSB8fCAnJyk7XG4gICAgdmFyIGNhblNjcm9sbEhvcml6b250YWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dYIHx8ICcnKTtcbiAgICB2YXIgcGFkZGluZ1RvcCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nVG9wKTtcbiAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdSaWdodCk7XG4gICAgdmFyIHBhZGRpbmdCb3R0b20gPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0JvdHRvbSk7XG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdMZWZ0KTtcbiAgICB2YXIgYm9yZGVyVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlclRvcFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgdmFyIGJvcmRlckJvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgdmFyIGJvcmRlckxlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICB2YXIgaG9yaXpvbnRhbFBhZGRpbmcgPSBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodDtcbiAgICB2YXIgdmVydGljYWxQYWRkaW5nID0gcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b207XG4gICAgdmFyIGhvcml6b250YWxCb3JkZXJBcmVhID0gYm9yZGVyTGVmdCArIGJvcmRlclJpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbEJvcmRlckFyZWEgPSBib3JkZXJUb3AgKyBib3JkZXJCb3R0b207XG4gICAgdmFyIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgPSAhY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID8gMCA6IHRhcmdldC5vZmZzZXRIZWlnaHQgLSB2ZXJ0aWNhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxWZXJ0aWNhbGx5ID8gMCA6IHRhcmdldC5vZmZzZXRXaWR0aCAtIGhvcml6b250YWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudFdpZHRoO1xuICAgIHZhciB3aWR0aFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyBob3Jpem9udGFsUGFkZGluZyArIGhvcml6b250YWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgaGVpZ2h0UmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IHZlcnRpY2FsUGFkZGluZyArIHZlcnRpY2FsQm9yZGVyQXJlYSA6IDA7XG4gICAgdmFyIGNvbnRlbnRXaWR0aCA9IHN2ZyA/IHN2Zy53aWR0aCA6IHBhcnNlRGltZW5zaW9uKGNzLndpZHRoKSAtIHdpZHRoUmVkdWN0aW9uIC0gdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3M7XG4gICAgdmFyIGNvbnRlbnRIZWlnaHQgPSBzdmcgPyBzdmcuaGVpZ2h0IDogcGFyc2VEaW1lbnNpb24oY3MuaGVpZ2h0KSAtIGhlaWdodFJlZHVjdGlvbiAtIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3M7XG4gICAgdmFyIGJvcmRlckJveFdpZHRoID0gY29udGVudFdpZHRoICsgaG9yaXpvbnRhbFBhZGRpbmcgKyB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyArIGhvcml6b250YWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3JkZXJCb3hIZWlnaHQgPSBjb250ZW50SGVpZ2h0ICsgdmVydGljYWxQYWRkaW5nICsgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyArIHZlcnRpY2FsQm9yZGVyQXJlYTtcbiAgICB2YXIgYm94ZXMgPSBmcmVlemUoe1xuICAgICAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplKE1hdGgucm91bmQoY29udGVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyksIE1hdGgucm91bmQoY29udGVudEhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8pLCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGJvcmRlckJveFNpemU6IHNpemUoYm9yZGVyQm94V2lkdGgsIGJvcmRlckJveEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50Qm94U2l6ZTogc2l6ZShjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIHN3aXRjaFNpemVzKSxcbiAgICAgICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkocGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClcbiAgICB9KTtcbiAgICBjYWNoZS5zZXQodGFyZ2V0LCBib3hlcyk7XG4gICAgcmV0dXJuIGJveGVzO1xufTtcbnZhciBjYWxjdWxhdGVCb3hTaXplID0gZnVuY3Rpb24gKHRhcmdldCwgb2JzZXJ2ZWRCb3gsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIHZhciBfYSA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSwgYm9yZGVyQm94U2l6ZSA9IF9hLmJvcmRlckJveFNpemUsIGNvbnRlbnRCb3hTaXplID0gX2EuY29udGVudEJveFNpemUsIGRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBfYS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgIHN3aXRjaCAob2JzZXJ2ZWRCb3gpIHtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YOlxuICAgICAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkJPUkRFUl9CT1g6XG4gICAgICAgICAgICByZXR1cm4gYm9yZGVyQm94U2l6ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50Qm94U2l6ZTtcbiAgICB9XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSwgY2FsY3VsYXRlQm94U2l6ZXMgfTtcbiIsImltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemVzIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRW50cnkodGFyZ2V0KSB7XG4gICAgICAgIHZhciBib3hlcyA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0ID0gYm94ZXMuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuYm9yZGVyQm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuYm9yZGVyQm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmNvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5jb250ZW50Qm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmRldmljZVBpeGVsQ29udGVudEJveFNpemVdKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRW50cnk7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9O1xuIiwiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH0gZnJvbSAnLi9jYWxjdWxhdGVEZXB0aEZvck5vZGUnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vY2FsY3VsYXRlQm94U2l6ZSc7XG52YXIgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaGFsbG93ZXN0RGVwdGggPSBJbmZpbml0eTtcbiAgICB2YXIgY2FsbGJhY2tzID0gW107XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIGlmIChyby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBuZXcgUmVzaXplT2JzZXJ2ZXJFbnRyeShvdC50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIHRhcmdldERlcHRoID0gY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCk7XG4gICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgb3QubGFzdFJlcG9ydGVkU2l6ZSA9IGNhbGN1bGF0ZUJveFNpemUob3QudGFyZ2V0LCBvdC5vYnNlcnZlZEJveCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RGVwdGggPCBzaGFsbG93ZXN0RGVwdGgpIHtcbiAgICAgICAgICAgICAgICBzaGFsbG93ZXN0RGVwdGggPSB0YXJnZXREZXB0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uIHJlc2l6ZU9ic2VydmVyQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICByby5jYWxsYmFjay5jYWxsKHJvLm9ic2VydmVyLCBlbnRyaWVzLCByby5vYnNlcnZlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBjYWxsYmFja3NfMSA9IGNhbGxiYWNrczsgX2kgPCBjYWxsYmFja3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzXzFbX2ldO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhbGxvd2VzdERlcHRoO1xufTtcbmV4cG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIiwiaW1wb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yJztcbmltcG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfSBmcm9tICcuLi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgnO1xudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB3aGlsZSAoaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVwdGggPSBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMoKTtcbiAgICAgICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgfVxuICAgIGlmIChoYXNTa2lwcGVkT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVsaXZlclJlc2l6ZUxvb3BFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGggPiAwO1xufTtcbmV4cG9ydCB7IHByb2Nlc3MgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzQWN0aXZlT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcHJvY2VzcyB9IGZyb20gJy4vcHJvY2Vzcyc7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuL2dsb2JhbCc7XG5pbXBvcnQgeyBxdWV1ZVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi9xdWV1ZVJlc2l6ZU9ic2VydmVyJztcbnZhciB3YXRjaGluZyA9IDA7XG52YXIgaXNXYXRjaGluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhd2F0Y2hpbmc7IH07XG52YXIgQ0FUQ0hfUEVSSU9EID0gMjUwO1xudmFyIG9ic2VydmVyQ29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGFyYWN0ZXJEYXRhOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcbnZhciBldmVudHMgPSBbXG4gICAgJ3Jlc2l6ZScsXG4gICAgJ2xvYWQnLFxuICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnYW5pbWF0aW9uZW5kJyxcbiAgICAnYW5pbWF0aW9uc3RhcnQnLFxuICAgICdhbmltYXRpb25pdGVyYXRpb24nLFxuICAgICdrZXl1cCcsXG4gICAgJ2tleWRvd24nLFxuICAgICdtb3VzZXVwJyxcbiAgICAnbW91c2Vkb3duJyxcbiAgICAnbW91c2VvdmVyJyxcbiAgICAnbW91c2VvdXQnLFxuICAgICdibHVyJyxcbiAgICAnZm9jdXMnXG5dO1xudmFyIHRpbWUgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IDA7IH1cbiAgICByZXR1cm4gRGF0ZS5ub3coKSArIHRpbWVvdXQ7XG59O1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2NoZWR1bGUoKTsgfTtcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSBDQVRDSF9QRVJJT0Q7IH1cbiAgICAgICAgaWYgKHNjaGVkdWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHZhciB1bnRpbCA9IHRpbWUodGltZW91dCk7XG4gICAgICAgIHF1ZXVlUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNIYXZlUmVzaXplZCA9IHByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSB1bnRpbCAtIHRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzV2F0Y2hpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c0hhdmVSZXNpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bigxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9ic2VydmVyICYmIF90aGlzLm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgb2JzZXJ2ZXJDb25maWcpOyB9O1xuICAgICAgICBkb2N1bWVudC5ib2R5ID8gY2IoKSA6IGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2IpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5saXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmUoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyICYmIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbnZhciBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKCk7XG52YXIgdXBkYXRlQ291bnQgPSBmdW5jdGlvbiAobikge1xuICAgICF3YXRjaGluZyAmJiBuID4gMCAmJiBzY2hlZHVsZXIuc3RhcnQoKTtcbiAgICB3YXRjaGluZyArPSBuO1xuICAgICF3YXRjaGluZyAmJiBzY2hlZHVsZXIuc3RvcCgpO1xufTtcbmV4cG9ydCB7IHNjaGVkdWxlciwgdXBkYXRlQ291bnQgfTtcbiIsImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZSc7XG5pbXBvcnQgeyBpc1NWRywgaXNSZXBsYWNlZEVsZW1lbnQgfSBmcm9tICcuL3V0aWxzL2VsZW1lbnQnO1xudmFyIHNraXBOb3RpZnlPbkVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgcmV0dXJuICFpc1NWRyh0YXJnZXQpXG4gICAgICAgICYmICFpc1JlcGxhY2VkRWxlbWVudCh0YXJnZXQpXG4gICAgICAgICYmIGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5kaXNwbGF5ID09PSAnaW5saW5lJztcbn07XG52YXIgUmVzaXplT2JzZXJ2YXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCwgb2JzZXJ2ZWRCb3gpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub2JzZXJ2ZWRCb3ggPSBvYnNlcnZlZEJveCB8fCBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQ09OVEVOVF9CT1g7XG4gICAgICAgIHRoaXMubGFzdFJlcG9ydGVkU2l6ZSA9IHtcbiAgICAgICAgICAgIGlubGluZVNpemU6IDAsXG4gICAgICAgICAgICBibG9ja1NpemU6IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2l6ZSA9IGNhbGN1bGF0ZUJveFNpemUodGhpcy50YXJnZXQsIHRoaXMub2JzZXJ2ZWRCb3gsIHRydWUpO1xuICAgICAgICBpZiAoc2tpcE5vdGlmeU9uRWxlbWVudCh0aGlzLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlcG9ydGVkU2l6ZSA9IHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdFJlcG9ydGVkU2l6ZS5pbmxpbmVTaXplICE9PSBzaXplLmlubGluZVNpemVcbiAgICAgICAgICAgIHx8IHRoaXMubGFzdFJlcG9ydGVkU2l6ZS5ibG9ja1NpemUgIT09IHNpemUuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2YXRpb247XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2YXRpb24gfTtcbiIsInZhciBSZXNpemVPYnNlcnZlckRldGFpbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLnNraXBwZWRUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25UYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJEZXRhaWw7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfTtcbiIsImltcG9ydCB7IHNjaGVkdWxlciwgdXBkYXRlQ291bnQgfSBmcm9tICcuL3V0aWxzL3NjaGVkdWxlcic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2YXRpb24nO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyRGV0YWlsJztcbmltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBvYnNlcnZlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgZ2V0T2JzZXJ2YXRpb25JbmRleCA9IGZ1bmN0aW9uIChvYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChvYnNlcnZhdGlvblRhcmdldHNbaV0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG52YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKSB7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZGV0YWlsID0gbmV3IFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjayk7XG4gICAgICAgIG9ic2VydmVyTWFwLnNldChyZXNpemVPYnNlcnZlciwgZGV0YWlsKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBmaXJzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmIChnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkgPCAwKSB7XG4gICAgICAgICAgICBmaXJzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5wdXNoKGRldGFpbCk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnB1c2gobmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCwgb3B0aW9ucyAmJiBvcHRpb25zLmJveCkpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoMSk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgaW5kZXggPSBnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCk7XG4gICAgICAgIHZhciBsYXN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGxhc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMuc3BsaWNlKHJlc2l6ZU9ic2VydmVycy5pbmRleE9mKGRldGFpbCksIDEpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoLTEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKG90KSB7IHJldHVybiBfdGhpcy51bm9ic2VydmUocmVzaXplT2JzZXJ2ZXIsIG90LnRhcmdldCk7IH0pO1xuICAgICAgICBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgZGV0YWlsLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH07XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcic7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tICcuL3V0aWxzL2VsZW1lbnQnO1xudmFyIFJlc2l6ZU9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlcihjYWxsYmFjaykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiBUaGUgY2FsbGJhY2sgcHJvdmlkZWQgYXMgcGFyYW1ldGVyIDEgaXMgbm90IGEgZnVuY3Rpb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0KHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiBwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSAnRWxlbWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIub2JzZXJ2ZSh0aGlzLCB0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAndW5vYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAndW5vYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiBwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSAnRWxlbWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlKHRoaXMsIHRhcmdldCk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmRpc2Nvbm5lY3QodGhpcyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdmdW5jdGlvbiBSZXNpemVPYnNlcnZlciAoKSB7IFtwb2x5ZmlsbCBjb2RlXSB9JztcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlciB9O1xuIiwiaW1wb3J0IHtFdmVudENhbGxiYWNrLCBXZWJMYXllcn0gZnJvbSAnLi9XZWJMYXllcidcbmltcG9ydCB7IGFkZENTU1J1bGUgfSBmcm9tICcuL2RvbS11dGlscydcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9NYXRyaXg0J1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUG9seWZpbGwgfSBmcm9tICdAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlcidcbmNvbnN0IFJlc2l6ZU9ic2VydmVyOnR5cGVvZiBQb2x5ZmlsbCA9IChzZWxmIGFzIGFueSkuUmVzaXplT2JzZXJ2ZXIgfHwgUG9seWZpbGxcblxuZXhwb3J0IGludGVyZmFjZSBXZWJMYXllck9wdGlvbnMge1xuICAvKipcbiAgICogSW5qZWN0IGFuZCBhcHBseSBvbmx5IHRoZXNlIHN0eWxlc2hlZXRzLlxuICAgKiBUaGlzIG9ubHkgaGFzIGFuIGVmZmVjdCB3aGVuIHBhc3NpbmcgYSBkZXRhY2hlZCBET00gZWxlbWVudFxuICAgKiBhcyB0aGUgcm9vdCBvZiB0aGUgTGF5ZXIgdHJlZS4gVGhpcyBkb20gZWxlbWVudCB3aWxsIGJlXG4gICAqIGhvc3RlZCBpbnNpZGUgYW4gaWZyYW1lLCBhbG9uZyB3aXRoIHRoZSBwcm92aWRlZCBzdHlsZXNoZWV0cyxcbiAgICogZm9yIHN0eWxlIGlzb2xhdGlvbi5cbiAgICovXG4gIHN0eWxlU2hlZXRVUkxzPzogc3RyaW5nW11cbn1cblxudHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrSGFuZGxlID0gYW55XG50eXBlIFJlcXVlc3RJZGxlQ2FsbGJhY2tPcHRpb25zID0ge1xuICB0aW1lb3V0OiBudW1iZXJcbn1cbmV4cG9ydCB0eXBlIFJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSA9IHtcbiAgcmVhZG9ubHkgZGlkVGltZW91dDogYm9vbGVhblxuICB0aW1lUmVtYWluaW5nOiAoKSA9PiBudW1iZXJcbn1cblxuZGVjbGFyZSBmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrIChcbiAgY2FsbGJhY2s6IChkZWFkbGluZTogUmVxdWVzdElkbGVDYWxsYmFja0RlYWRsaW5lKSA9PiB2b2lkLFxuICBvcHRzPzogUmVxdWVzdElkbGVDYWxsYmFja09wdGlvbnNcbikgOiBSZXF1ZXN0SWRsZUNhbGxiYWNrSGFuZGxlXG5cbmRlY2xhcmUgZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrKGhhbmRsZTogUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZSkgOiB2b2lkXG5cblxuZnVuY3Rpb24gZW5zdXJlRWxlbWVudElzSW5Eb2N1bWVudChlbGVtZW50OiBFbGVtZW50LCBvcHRpb25zOldlYkxheWVyT3B0aW9ucyk6IEVsZW1lbnQge1xuICBpZiAoZG9jdW1lbnQuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUsICcnKVxuICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gIGNvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gIGNvbnRhaW5lci5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJ1xuICBjb25zdCBjb250YWluZXJTaGFkb3cgPSBjb250YWluZXIuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KVxuICBjb250YWluZXJTaGFkb3cuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuY29uc3Qgc2NyYXRjaE1hdDEgPSBuZXcgTWF0cml4NCgpXG5jb25zdCBzY3JhdGNoTWF0MiA9IG5ldyBNYXRyaXg0KClcbmNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKClcbmNvbnN0IG1pY3JvdGFzayA9IFByb21pc2UucmVzb2x2ZSgpXG5cbmV4cG9ydCBjbGFzcyBXZWJSZW5kZXJlciB7XG4gIHN0YXRpYyBBVFRSSUJVVEVfUFJFRklYID0gJ3hyJ1xuICBzdGF0aWMgZ2V0IEVMRU1FTlRfVUlEX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdWlkJyB9XG4gIHN0YXRpYyBnZXQgSE9WRVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1ob3Zlcid9XG4gIHN0YXRpYyBnZXQgQUNUSVZFX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctYWN0aXZlJ31cbiAgc3RhdGljIGdldCBGT0NVU19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWZvY3VzJ31cbiAgc3RhdGljIGdldCBUQVJHRVRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy10YXJnZXQnfVxuICBzdGF0aWMgZ2V0IExBWUVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctbGF5ZXInfVxuICBzdGF0aWMgZ2V0IFBJWEVMX1JBVElPX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcGl4ZWwtcmF0aW8nIH1cblxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZycgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctcGFyZW50JyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1jb250YWluZXInIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLWlubGluZScgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19ET0NVTUVOVF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1kb2N1bWVudCcgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9uZXh0VUlEID0gMFxuICBzdGF0aWMgZ2VuZXJhdGVFbGVtZW50VUlEKCkgeyByZXR1cm4gJycgKyAodGhpcy5fbmV4dFVJRCArKykgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKVxuXG4gIHN0YXRpYyByb290TGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBsYXllcnM6IE1hcDxFbGVtZW50LCBXZWJMYXllcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgbXV0YXRpb25PYnNlcnZlcnM6IE1hcDxFbGVtZW50LCBNdXRhdGlvbk9ic2VydmVyPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHN0YXRpYyByZXNpemVPYnNlcnZlcnM6IE1hcDxFbGVtZW50LCBQb2x5ZmlsbD4gPSBuZXcgTWFwKClcbiAgc3RhdGljIHNlcmlhbGl6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmFzdGVyaXplUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG4gIHN0YXRpYyByZW5kZXJRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cblxuICAvLyBzdGF0aWMgcmVhZG9ubHkgdmlydHVhbEhvdmVyRWxlbWVudHMgPSBuZXcgU2V0PEVsZW1lbnQ+KClcbiAgc3RhdGljIHJlYWRvbmx5IGZvY3VzRWxlbWVudDpIVE1MRWxlbWVudHxudWxsID0gbnVsbCAvLyBpLmUuLCBlbGVtZW50IGlzIHJlYWR5IHRvIHJlY2VpdmUgaW5wdXRcbiAgc3RhdGljIHJlYWRvbmx5IGFjdGl2ZUVsZW1lbnQ6RWxlbWVudHxudWxsID0gbnVsbCAvLyBpLmUuLCBidXR0b24gZWxlbWVudCBpcyBiZWluZyBcInByZXNzZWQgZG93blwiXG4gIHN0YXRpYyByZWFkb25seSB0YXJnZXRFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgdGhlIGVsZW1lbnQgd2hvc2UgSUQgbWF0Y2hlcyB0aGUgdXJsICNoYXNoXG5cbiAgLy8gc3RhdGljIGNvbnRhaW5zSG92ZXIoZWxlbWVudDogRWxlbWVudCkge1xuICAvLyAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnZpcnR1YWxIb3ZlckVsZW1lbnRzKSB7XG4gIC8vICAgICBpZiAoZWxlbWVudC5jb250YWlucyh0KSkgcmV0dXJuIHRydWVcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIGZhbHNlXG4gIC8vIH1cblxuICBzdGF0aWMgZ2V0UHN1ZWRvQXR0cmlidXRlcyhzdGF0ZXM6IHR5cGVvZiBXZWJMYXllci5wcm90b3R5cGUucHNldWRvU3RhdGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGAke3N0YXRlcy5ob3ZlciA/IGAke3RoaXMuSE9WRVJfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gICAgICBgJHtzdGF0ZXMuZm9jdXMgPyBgJHt0aGlzLkZPQ1VTX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmFjdGl2ZSA/IGAke3RoaXMuQUNUSVZFX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLnRhcmdldCA/IGAke3RoaXMuVEFSR0VUX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWBcbiAgICApXG4gIH1cblxuICBzdGF0aWMgcm9vdE5vZGVPYnNlcnZlcnMgPSBuZXcgTWFwPERvY3VtZW50fFNoYWRvd1Jvb3QsIE11dGF0aW9uT2JzZXJ2ZXI+KClcbiAgc3RhdGljIGNvbnRhaW5lclN0eWxlRWxlbWVudCA6IEhUTUxTdHlsZUVsZW1lbnRcbiAgc3RhdGljIHJlbmRlcmluZ1N0eWxlRWxlbWVudCA6IEhUTUxTdHlsZUVsZW1lbnRcblxuICBzdGF0aWMgaW5pdFJvb3ROb2RlT2JzZXJ2YXRpb24oZWxlbWVudDpFbGVtZW50KSB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnRcbiAgICBjb25zdCByb290Tm9kZSA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3Qgc3R5bGVSb290ID0gJ2hlYWQnIGluIHJvb3ROb2RlID8gcm9vdE5vZGUuaGVhZCA6IHJvb3ROb2RlXG4gICAgaWYgKHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuZ2V0KHJvb3ROb2RlKSkgcmV0dXJuXG5cbiAgICBjb25zdCBjb250YWluZXJTdHlsZSA9IHRoaXMuY29udGFpbmVyU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoY29udGFpbmVyU3R5bGUpXG4gICAgY29udGFpbmVyU3R5bGUuaW5uZXJIVE1MID0gYFxuICAgICAgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEV9XSB7XG4gICAgICAgIGFsbDogaW5pdGlhbDtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0b3A6IDBweDtcbiAgICAgIH1cbiAgICBgXG4gICAgXG4gICAgXG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnJlbmRlcmluZ1N0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICBzdHlsZVJvb3QuYXBwZW5kKHN0eWxlKSAvLyBvdGhlcndpc2Ugc3R5bGVzaGVldCBpcyBub3QgY3JlYXRlZFxuICAgIGNvbnN0IHNoZWV0ID0gc3R5bGUuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldFxuICAgIGxldCBpID0gMFxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSwgWyR7XG4gICAgICAgIFdlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICd2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDsnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV1gLFxuICAgICAgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAwICFpbXBvcnRhbnQ7IGxlZnQ6IDAgIWltcG9ydGFudDsgZmxvYXQ6IG5vbmU7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgbWluLXdpZHRoOnZhcigtLXgtd2lkdGgpOyBtaW4taGVpZ2h0OnZhcigtLXgtaGVpZ2h0KTsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfV1gLFxuICAgICAgJ3RvcDogdmFyKC0teC1pbmxpbmUtdG9wKSAhaW1wb3J0YW50OyB3aWR0aDphdXRvICFpbXBvcnRhbnQnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dYCxcbiAgICAgICd0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyB0b3A6IDAgIWltcG9ydGFudDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IGJvcmRlcjowICFpbXBvcnRhbnQ7IGJvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50OyB3aWR0aDogMTAwJSAhaW1wb3J0YW50OyBoZWlnaHQ6MTAwJSAhaW1wb3J0YW50OyBwYWRkaW5nOjAgIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwKSBub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEV9XTo6YmVmb3JlLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjphZnRlcmAsXG4gICAgICAnY29udGVudDpub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgXG4gICAgaWYgKHJvb3ROb2RlID09PSBkb2N1bWVudCkge1xuICAgICAgbGV0IHByZXZpb3VzSGFzaCA9ICcnXG4gICAgICBjb25zdCBvbkhhc2hDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcmV2aW91c0hhc2ggIT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUoKVxuICAgICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSByb290Tm9kZS5xdWVyeVNlbGVjdG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoKVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0hhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgICAgfVxuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSwgZmFsc2UpXG4gICAgICBvbkhhc2hDaGFuZ2UoKVxuICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZXZ0LnRhcmdldFxuICAgICAgfSwgZmFsc2UpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gbnVsbFxuICAgICAgfSwgZmFsc2UpXG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlLGxdIG9mIHRoaXMubGF5ZXJzKSBsLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCA9IChub2RlOk5vZGUpID0+IHtcbiAgICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKVxuICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2Yobm9kZU5hbWUpICE9PSAtMSlcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycylcbiAgICB9XG5cbiAgICBjb25zdCBTVFlMRV9OT0RFUyA9IFtcIlNUWUxFXCIsIFwiTElOS1wiXTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2YobS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgICAgIHRoaXMuZW1iZWRkZWRDU1MuZ2V0KGRvY3VtZW50KT8uZGVsZXRlKG0udGFyZ2V0IGFzIEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG0uYWRkZWROb2Rlcykgc2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuc2V0KHJvb3ROb2RlLCBvYnNlcnZlcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1NlcmlhbGl6ZVF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnNlcmlhbGl6ZVF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5zZXJpYWxpemVRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvUmFzdGVyaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMucmFzdGVyaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnJhc3Rlcml6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SZW5kZXJRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmVuZGVyUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBUQVNLX0FTWU5DX01BWF9DT1VOVCA9IDIgLy8gc2luY2UgcmFzdGVyaXphdGlvbiBpcyBhc3luYywgbGltaXQgc2ltdWx0YW5lb3VzIHJhc3Rlcml6YXRpb25zXG4gIHN0YXRpYyBUQVNLX1NZTkNfTUFYX1RJTUUgPSAyMDBcbiAgc3RhdGljIHJhc3Rlcml6ZVRhc2tDb3VudCA9IDBcbiAgcHJpdmF0ZSBzdGF0aWMgX3J1blRhc2tzKCkge1xuICAgIFdlYlJlbmRlcmVyLnRhc2tzUGVuZGluZyA9IGZhbHNlXG4gICAgY29uc3Qgc2VyaWFsaXplUXVldWUgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZVxuICAgIGNvbnN0IHJhc3Rlcml6ZVF1ZXVlID0gV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWVcbiAgICBjb25zdCByZW5kZXJRdWV1ZSA9IFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlXG4gICAgY29uc3QgbWF4U3luY1RpbWUgPSBXZWJSZW5kZXJlci5UQVNLX1NZTkNfTUFYX1RJTUUgLyAyXG4gICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHJlbmRlclF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICByZW5kZXJRdWV1ZS5zaGlmdCgpIS5yZW5kZXIoKVxuICAgIH1cbiAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIHdoaWxlIChzZXJpYWxpemVRdWV1ZS5sZW5ndGggJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUgPCBtYXhTeW5jVGltZSkge1xuICAgICAgc2VyaWFsaXplUXVldWUuc2hpZnQoKSEuc2VyaWFsaXplKClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmFzdGVyaXplUXVldWUubGVuZ3RoICYmXG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPCBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVFxuICAgICkge1xuICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50KytcbiAgICAgIHJhc3Rlcml6ZVF1ZXVlXG4gICAgICAgIC5zaGlmdCgpIVxuICAgICAgICAucmFzdGVyaXplKClcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudC0tXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRhc2tzUGVuZGluZyA9IGZhbHNlXG4gIFxuICBzdGF0aWMgc2NoZWR1bGVUYXNrc0lmTmVlZGVkKCkge1xuICAgIGlmICh0aGlzLnRhc2tzUGVuZGluZyB8fFxuICAgICAgICAoV2ViUmVuZGVyZXIuc2VyaWFsaXplUXVldWUubGVuZ3RoID09PSAwICYmXG4gICAgICAgIFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiBcbiAgICAgICAgKFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBcbiAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50ID09PSBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVCkpKSByZXR1cm5cbiAgICB0aGlzLnRhc2tzUGVuZGluZyA9IHRydWVcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZUlkbGUoV2ViUmVuZGVyZXIuX3J1blRhc2tzKVxuICB9XG5cbiAgc3RhdGljIHNjaGVkdWxlSWRsZShjYjooZGVhZGxpbmU/OlJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSk9PmFueSkge1xuICAgIC8vIGlmIChcInJlcXVlc3RJZGxlQ2FsbGJhY2tcIiBpbiBzZWxmKSB7XG4gICAgLy8gICByZXF1ZXN0SWRsZUNhbGxiYWNrKGNiKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGNiLDEpXG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIHNldExheWVyTmVlZHNSZWZyZXNoKGxheWVyOiBXZWJMYXllcikge1xuICAgIGxheWVyLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMYXllclRyZWUoZWxlbWVudDogRWxlbWVudCwgaG9zdGluZ09wdGlvbnM6V2ViTGF5ZXJPcHRpb25zLCBldmVudENhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgaWYgKFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSByb290IFdlYkxheWVyIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbHJlYWR5IGV4aXN0cycpXG5cbiAgICBlbnN1cmVFbGVtZW50SXNJbkRvY3VtZW50KGVsZW1lbnQsIGhvc3RpbmdPcHRpb25zKVxuICAgIFdlYlJlbmRlcmVyLmluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQpXG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMpXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5zZXQoZWxlbWVudCwgb2JzZXJ2ZXIpXG4gICAgdGhpcy5zdGFydE11dGF0aW9uT2JzZXJ2ZXIoZWxlbWVudClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0Q2xvc2VzdExheWVyKHJlY29yZC50YXJnZXQpIVxuICAgICAgICBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcnMuc2V0KGVsZW1lbnQsIHJlc2l6ZU9ic2VydmVyKVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIoZWxlbWVudCwgZXZlbnRDYWxsYmFjaylcbiAgICB0aGlzLnJvb3RMYXllcnMuc2V0KGVsZW1lbnQsIGxheWVyKVxuICAgIHJldHVybiBsYXllclxuICB9XG5cbiAgc3RhdGljIGRpc3Bvc2VMYXllcihsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yb290TGF5ZXJzLmhhcyhsYXllci5lbGVtZW50KSkge1xuICAgICAgdGhpcy5yb290TGF5ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChsYXllci5lbGVtZW50KSFcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdGhpcy5yZXNpemVPYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQ6IEVsZW1lbnQsIGluY2x1c2l2ZT10cnVlKTogV2ViTGF5ZXIgfCB1bmRlZmluZWQge1xuICAgIGxldCB0YXJnZXRFbGVtZW50ID0gaW5jbHVzaXZlID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGNsb3Nlc3RMYXllckVsZW1lbnQgPSB0YXJnZXRFbGVtZW50Py5jbG9zZXN0KGBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XWApIGFzIEhUTUxFbGVtZW50XG4gICAgaWYgKCFjbG9zZXN0TGF5ZXJFbGVtZW50KSB7XG4gICAgICBjb25zdCBob3N0ID0gKGVsZW1lbnQ/LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdCkuaG9zdFxuICAgICAgaWYgKGhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xvc2VzdExheWVyKGhvc3QsIGluY2x1c2l2ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmdldChjbG9zZXN0TGF5ZXJFbGVtZW50ISlcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUNTU1RyYW5zZm9ybShjb21wdXRlZFN0eWxlOkNTU1N0eWxlRGVjbGFyYXRpb24sIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgcGl4ZWxTaXplOm51bWJlciwgb3V0ID0gbmV3IE1hdHJpeDQoKSkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNvbXB1dGVkU3R5bGUudHJhbnNmb3JtXG4gICAgY29uc3QgdHJhbnNmb3JtT3JpZ2luID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm1PcmlnaW5cblxuICAgIGlmICh0cmFuc2Zvcm0uaW5kZXhPZignbWF0cml4KCcpID09IDApIHtcbiAgICAgIG91dC5pZGVudGl0eSgpXG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoNywgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZWxlbWVudHNbMF0gPSBtYXRbMF1cbiAgICAgIG91dC5lbGVtZW50c1sxXSA9IG1hdFsxXVxuICAgICAgb3V0LmVsZW1lbnRzWzRdID0gbWF0WzJdXG4gICAgICBvdXQuZWxlbWVudHNbNV0gPSBtYXRbM11cbiAgICAgIG91dC5lbGVtZW50c1sxMl0gPSBtYXRbNF1cbiAgICAgIG91dC5lbGVtZW50c1sxM10gPSBtYXRbNV1cbiAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCdtYXRyaXgzZCgnKSA9PSAwKSB7XG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoOSwgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZnJvbUFycmF5KG1hdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAob3V0LmVsZW1lbnRzWzBdID09PSAwKSBvdXQuZWxlbWVudHNbMF0gPSAxZS0xNVxuICAgIGlmIChvdXQuZWxlbWVudHNbNV0gPT09IDApIG91dC5lbGVtZW50c1s1XSA9IDFlLTE1XG4gICAgaWYgKG91dC5lbGVtZW50c1sxMF0gPT09IDApIG91dC5lbGVtZW50c1sxMF0gPSAxZS0xNVxuICAgIG91dC5lbGVtZW50c1sxMl0gKj0gcGl4ZWxTaXplXG4gICAgb3V0LmVsZW1lbnRzWzEzXSAqPSBwaXhlbFNpemUgKiAtMVxuXG4gICAgdmFyIG9yaWdpbiA9IHRyYW5zZm9ybU9yaWdpbi5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KVxuXG4gICAgdmFyIG94ID0gKG9yaWdpblswXSAtIHdpZHRoLzIpICogcGl4ZWxTaXplXG4gICAgdmFyIG95ID0gKG9yaWdpblsxXSAtIGhlaWdodC8yKSAqIHBpeGVsU2l6ZSAqIC0xXG4gICAgdmFyIG96ID0gb3JpZ2luWzJdIHx8IDBcblxuICAgIHZhciBUMSA9IHNjcmF0Y2hNYXQxLmlkZW50aXR5KCkubWFrZVRyYW5zbGF0aW9uKC1veCwgLW95LCAtb3opXG4gICAgdmFyIFQyID0gc2NyYXRjaE1hdDIuaWRlbnRpdHkoKS5tYWtlVHJhbnNsYXRpb24ob3gsIG95LCBveilcblxuICAgIGZvciAoY29uc3QgZSBvZiBvdXQuZWxlbWVudHMpIHtcbiAgICAgIGlmIChpc05hTihlKSkgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0LnByZW11bHRpcGx5KFQyKS5tdWx0aXBseShUMSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlbWJlZEV4dGVybmFsUmVzb3VyY2VzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKVxuICAgIC8vIFRPRE86IGp1c3Qgc2F2ZSB0aGUgc2VyaWFsaXplZCByZXNvdXJjZXMgd2l0aG91dCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIGVsZW1lbnRzXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChsaW5rKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTClcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTUcnICYmIGltZ0VsZW1lbnQuc3JjLnN1YnN0cigwLCA0KSAhPSAnZGF0YScpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGltZ0VsZW1lbnQuc3JjKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAhPSBjc3MpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNzcylcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKVxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBXZWJSZW5kZXJlci5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBzdHlsZS5pbm5lckhUTUwpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICBpZiAoc3R5bGUuaW5uZXJIVE1MICE9IGNzcykgc3R5bGUuaW5uZXJIVE1MID0gY3NzXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBwYXVzZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJzID0gV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMudmFsdWVzKClcbiAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMobS50YWtlUmVjb3JkcygpKVxuICAgICAgbS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVzdW1lTXV0YXRpb25PYnNlcnZlcnMoKSB7XG4gICAgZm9yIChjb25zdCBbZV0gb2YgV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIHRoaXMuc3RhcnRNdXRhdGlvbk9ic2VydmVyKGUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RhcnRNdXRhdGlvbk9ic2VydmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChlbGVtZW50KSFcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9oYW5kbGVNdXRhdGlvbnMgPSAocmVjb3JkczogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUocmVjb3JkLmF0dHJpYnV0ZU5hbWUhKSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcmVjb3JkLnRhcmdldCBhcyBDaGFyYWN0ZXJEYXRhXG4gICAgICAgIGlmICh0YXJnZXQuZGF0YSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgcmVjb3JkLnRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICA/IChyZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIDogcmVjb3JkLnRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICBpZiAoIXRhcmdldCkgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRhcmdldClcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcmVjb3JkLm9sZFZhbHVlID8gcmVjb3JkLm9sZFZhbHVlIDogJydcbiAgICAgICAgY29uc3QgY3VycmVudENsYXNzZXMgPSAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xhc3NOYW1lXG4gICAgICAgIGlmIChvbGRDbGFzc2VzID09PSBjdXJyZW50Q2xhc3NlcykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIGxheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKSAvLyBtYXkgYmUgbmVlZGVkIHRvIHN1cHBvcnQgOmZvY3VzLXdpdGhpbigpIGFuZCBmdXR1cmUgOmhhcygpIHNlbGVjdG9yIHN1cHBvcnRcbiAgICAgIGxheWVyLnBhcmVudExheWVyXG4gICAgICAgID8gbGF5ZXIucGFyZW50TGF5ZXIudHJhdmVyc2VDaGlsZExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgOiBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHJpZ2dlclJlZnJlc2ggPSBhc3luYyAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlLnRhcmdldCBhcyBhbnkpIVxuICAgIC8vIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhlLnRhcmdldCBhcyBhbnkpXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKGRvYzpEb2N1bWVudHxTaGFkb3dSb290KSB7XG4gICAgY29uc3Qgc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gc2hlZXRzW2ldIGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgY29uc3QgcnVsZXMgPSBzaGVldC5jc3NSdWxlc1xuICAgICAgICBpZiAoIXJ1bGVzKSBjb250aW51ZVxuICAgICAgICBjb25zdCBuZXdSdWxlcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6aG92ZXInKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuSE9WRVJfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmFjdGl2ZScpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6YWN0aXZlJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkFDVElWRV9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzpmb2N1cycpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2gocnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIGBbJHtXZWJSZW5kZXJlci5GT0NVU19BVFRSSUJVVEV9XWApKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6dGFyZ2V0JykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChcbiAgICAgICAgICAgICAgcnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuVEFSR0VUX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IG5ld1J1bGVzLmluZGV4T2YocnVsZXNbal0uY3NzVGV4dClcbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3UnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG5ld1J1bGVzW2pdKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ5dGVzOlVpbnQ4QXJyYXkpIHtcbiAgICB2YXIgYmluYXJ5ID0gJydcbiAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KVxuICB9XG5cbiAgc3RhdGljIGF0dHJpYnV0ZUNTUyhuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGBbJHtuYW1lfV09JHt2YWx1ZX1gIDogYFske25hbWV9XWBcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVIVE1MKG5hbWU6c3RyaW5nLCB2YWx1ZT86c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYCR7bmFtZX09XCIke3ZhbHVlfVwiYCA6IGAke25hbWV9PVwiXCJgXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmw6c3RyaW5nLCBjc3M6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgZm91bmRcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAvLyBBZGQgY2xhc3NlcyBmb3IgcHN1ZWRvLWNsYXNzZXNcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkhPVkVSX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuQUNUSVZFX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmZvY3VzJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5GT0NVU19BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLlRBUkdFVF9BVFRSSUJVVEUpKVxuXG4gICAgLy8gUmVwbGFjZSBhbGwgdXJscyBpbiB0aGUgY3NzXG4gICAgY29uc3QgcmVnRXggPSBSZWdFeHAoL3VybFxcKCg/IVsnXCJdPyg/OmRhdGEpOilbJ1wiXT8oW14nXCJcXCldKilbJ1wiXT9cXCkvZ2kpXG4gICAgd2hpbGUgKChmb3VuZCA9IHJlZ0V4LmV4ZWMoY3NzKSkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlVVJMID0gZm91bmRbMV1cbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMuZ2V0RGF0YVVSTChuZXcgVVJMKHJlc291cmNlVVJMLCB1cmwpLmhyZWYpLnRoZW4oZGF0YVVSTCA9PiB7XG4gICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UocmVzb3VyY2VVUkwsIGRhdGFVUkwpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgcmV0dXJuIGNzc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVSTCh1cmw6c3RyaW5nLCBhY2NlcHQ/OnN0cmluZyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWZcbiAgICByZXR1cm4gbmV3IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+KHJlc29sdmUgPT4ge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG4gICAgICBpZiAoYWNjZXB0KSB4aHIuc2V0UmVxdWVzdEhlYWRlcignYWNjZXB0JywgYWNjZXB0KVxuXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJ1xuXG4gICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHhocilcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoeGhyKVxuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZCgpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGVtYmVkZGVkQ1NTID0gbmV3IE1hcDxTaGFkb3dSb290fERvY3VtZW50LCBNYXA8RWxlbWVudCwgUHJvbWlzZTxzdHJpbmc+Pj4oKVxuXG4gIHN0YXRpYyBhc3luYyBnZXRSZW5kZXJpbmdDU1MoZWw6RWxlbWVudCkge1xuICAgIGNvbnN0IHJvb3ROb2RlID0gZWwuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3QgZW1iZWRkZWQgPSB0aGlzLmVtYmVkZGVkQ1NTLmdldChyb290Tm9kZSkgfHwgbmV3IE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+KClcbiAgICB0aGlzLmVtYmVkZGVkQ1NTLnNldChyb290Tm9kZSwgZW1iZWRkZWQpXG5cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZSwgbGlua1t0eXBlPSd0ZXh0L2NzcyddLCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpXG4gICAgKSBhcyAoSFRNTFN0eWxlRWxlbWVudHxIVE1MTGlua0VsZW1lbnQpW11cbiAgICBzdHlsZUVsZW1lbnRzLnB1c2godGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQpXG4gICAgXG4gICAgLy8gaWYgd2UgYXJlIGluc2lkZSBzaGFkb3cgZG9tLCB3ZSBoYXZlIHRvIGNsb25lIHRoZSBmb250cyBpbnRvIHRoZSBsaWdodCBkb20gdG8gbG9hZCBmb250cyBpbiBDaHJvbWUvRmlyZWZveFxuICAgIGNvbnN0IGluU2hhZG93ID0gZWwuZ2V0Um9vdE5vZGUoKSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3RcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTaGVldFJ1bGVzKHJ1bGVzOkNTU1J1bGVMaXN0KSB7XG4gICAgICBsZXQgYWxsUnVsZXMgPSAnJ1xuICAgICAgbGV0IGZvbnRSdWxlcyA9ICcnXG4gICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5GT05UX0ZBQ0VfUlVMRSkge1xuICAgICAgICAgIGZvbnRSdWxlcyArPSAnXFxuXFxuJyArIHJ1bGUuY3NzVGV4dFxuICAgICAgICB9XG4gICAgICAgIGFsbFJ1bGVzICs9ICdcXG5cXG4nICsgcnVsZS5jc3NUZXh0XG4gICAgICB9XG4gICAgICByZXR1cm4ge2FsbFJ1bGVzLCBmb250UnVsZXN9XG4gICAgfVxuXG4gICAgbGV0IGZvdW5kTmV3U3R5bGVzID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3R5bGVFbGVtZW50cykge1xuICAgICAgaWYgKCFlbWJlZGRlZC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgZm91bmROZXdTdHlsZXMgPSB0cnVlXG4gICAgICAgIGVtYmVkZGVkLnNldChlbGVtZW50LCBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zaGVldCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvYWRpbmcpXG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2Nlc3NTaGVldFJ1bGVzKGVsZW1lbnQuc2hlZXQucnVsZXMpXG4gICAgICAgICAgICAgIGlmIChpblNoYWRvdyAmJiByZXN1bHQuZm9udFJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFN0eWxlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICAgICAgICAgICAgICBmb250U3R5bGVzLmlubmVySFRNTCA9IHJlc3VsdC5mb250UnVsZXNcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGZvbnRTdHlsZXMpXG4gICAgICAgICAgICAgICAgZW1iZWRkZWQuc2V0KGZvbnRTdHlsZXMsIFByb21pc2UucmVzb2x2ZSgnJykpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LmFsbFJ1bGVzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sMTApXG4gICAgICAgIH0pLnRoZW4oKGNzc1RleHQpID0+IHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzVGV4dCkpKVxuICAgICAgICAvLyAgIGVtYmVkZGVkLnNldChcbiAgICAgICAgLy8gICAgIGVsZW1lbnQsXG4gICAgICAgIC8vICAgICB0aGlzLmdldFVSTChlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpISwgJ3RleHQvY3NzJykudGhlbih4aHIgPT4ge1xuICAgICAgICAvLyAgICAgICBpZiAoIXhoci5yZXNwb25zZSkgcmV0dXJuICcnXG4gICAgICAgIC8vICAgICAgIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgICAgICAvLyAgICAgICB2YXIgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKHhoci5yZXNwb25zZSlcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzKVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICApXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIChmb3VuZE5ld1N0eWxlcykgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGVtYmVkZGVkLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYW5kIHJldHVybnMgYSBkYXRhdXJsIGZvciB0aGUgZ2l2ZW4gdXJsXG4gIHN0YXRpYyBkYXRhVVJMTWFwID0gbmV3IE1hcDxzdHJpbmcsIFByb21pc2U8c3RyaW5nPj4oKVxuICBzdGF0aWMgYXN5bmMgZ2V0RGF0YVVSTCh1cmw6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAodGhpcy5kYXRhVVJMTWFwLmhhcyh1cmwpKSByZXR1cm4gdGhpcy5kYXRhVVJMTWFwLmdldCh1cmwpIVxuICAgIGNvbnN0IGRhdGFVUkxQcm9taXNlID0gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyByZXNvbHZlRGF0YVVSTCA9PiB7XG4gICAgICBjb25zdCB4aHIgPSBhd2FpdCB0aGlzLmdldFVSTCh1cmwpXG4gICAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpXG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk/LnNwbGl0KCc7JylbMF1cbiAgICAgIGxldCBkYXRhVVJMID0gJydcbiAgICAgIGlmIChjb250ZW50VHlwZSA9PSAndGV4dC9jc3MnKSB7XG4gICAgICAgIGxldCBjc3MgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyKVxuICAgICAgICBjc3MgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRW1iZWRkZWRDU1ModXJsLCBjc3MpXG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IHdpbmRvdy5idG9hKGNzcylcbiAgICAgICAgaWYgKGJhc2U2NC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGF0YVVSTCA9ICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyBiYXNlNjRcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVVSTCA9ICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyB0aGlzLmFycmF5QnVmZmVyVG9CYXNlNjQoYXJyKVxuICAgICAgfVxuICAgICAgcmVzb2x2ZURhdGFVUkwoZGF0YVVSTClcbiAgICB9KVxuICAgIHRoaXMuZGF0YVVSTE1hcC5zZXQodXJsLCBkYXRhVVJMUHJvbWlzZSlcbiAgICByZXR1cm4gZGF0YVVSTFByb21pc2VcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVJbnB1dEF0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lm1hdGNoZXMoJ2lucHV0JykpIHRoaXMuX3VwZGF0ZUlucHV0QXR0cmlidXRlKGVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudClcbiAgICBmb3IgKGNvbnN0IGUgb2YgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKSkgdGhpcy5fdXBkYXRlSW5wdXRBdHRyaWJ1dGUoZSlcbiAgfVxuXG4gIHN0YXRpYyBfdXBkYXRlSW5wdXRBdHRyaWJ1dGUoaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuICAgICAgaWYgKCFpbnB1dEVsZW1lbnQuY2hlY2tlZCkgaW5wdXRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnB1dEVsZW1lbnQuY2hlY2tlZCkgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICcnKVxuICAgIH1cbiAgICBpZiAoaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSAhPT0gaW5wdXRFbGVtZW50LnZhbHVlKSB7XG4gICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGlucHV0RWxlbWVudC52YWx1ZSlcbiAgICB9XG4gIH1cblxuICAvLyBzdGF0aWMgZ2V0UHN1ZWRvQXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50KSB7XG4gIC8vICAgLy8gY29uc3QgbGF5ZXIgPSB0aGlzLmxheWVycy5nZXQoZWxlbWVudClcbiAgLy8gICByZXR1cm4gKFxuICAvLyAgICAgYCR7dGhpcy5jb250YWluc0hvdmVyKGVsZW1lbnQpID8gYCR7dGhpcy5IT1ZFUl9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy5mb2N1c0VsZW1lbnQpID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy5hY3RpdmVFbGVtZW50KSA/IGAke3RoaXMuQUNUSVZFX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAvLyAgICAgYCR7ZWxlbWVudC5jb250YWlucyh0aGlzLnRhcmdldEVsZW1lbnQpID8gYCR7dGhpcy5UQVJHRVRfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YFxuICAvLyAgIClcbiAgLy8gfVxuXG4gIHN0YXRpYyBpc0JsYW5rSW1hZ2UoaW1hZ2VEYXRhOlVpbnQ4Q2xhbXBlZEFycmF5KSB7XG4gICAgICBjb25zdCBwaXhlbEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheShpbWFnZURhdGEuYnVmZmVyKVxuICAgICAgcmV0dXJuICFwaXhlbEJ1ZmZlci5zb21lKGNvbG9yID0+IGNvbG9yICE9PSAwKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgX1RIUkVFIGZyb20gJ3RocmVlJ1xuXG5pZiAoc2VsZi5USFJFRSkge1xuICB2YXIgVEhSRUUgPSBzZWxmLlRIUkVFXG59IGVsc2Uge1xuICB2YXIgVEhSRUUgPSBfVEhSRUVcbn1cblxuaW1wb3J0IHsgV2ViTGF5ZXJ9IGZyb20gJy4uL1dlYkxheWVyJ1xuaW1wb3J0IHsgV2ViUmVuZGVyZXIsIFdlYkxheWVyT3B0aW9ucyB9IGZyb20gJy4uL1dlYlJlbmRlcmVyJ1xuXG5pbXBvcnQge0JvdW5kcywgRWRnZXMsIGdldEJvdW5kcywgZ2V0Vmlld3BvcnRCb3VuZHMsIHRyYXZlcnNlQ2hpbGRFbGVtZW50cywgRE9NIH0gZnJvbSAnLi4vZG9tLXV0aWxzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYkxheWVyM0RPcHRpb25zIGV4dGVuZHMgV2ViTGF5ZXJPcHRpb25zIHtcbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuICBsYXllclNlcGFyYXRpb24/OiBudW1iZXJcbiAgYXV0b1JlZnJlc2g/OiBib29sZWFuXG4gIG9uTGF5ZXJDcmVhdGU/KGxheWVyOiBXZWJMYXllcjNEQ29udGVudCk6IHZvaWRcbiAgb25MYXllclBhaW50PyhsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpOiB2b2lkXG4gIHRleHR1cmVFbmNvZGluZz86IG51bWJlcixcbiAgcmVuZGVyT3JkZXJPZmZzZXQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IHtUSFJFRX1cblxudHlwZSBJbnRlcnNlY3Rpb24gPSBUSFJFRS5JbnRlcnNlY3Rpb24gJiB7Z3JvdXBPcmRlcjpudW1iZXJ9XG5cbmV4cG9ydCB0eXBlIFdlYkxheWVySGl0ID0gUmV0dXJuVHlwZTx0eXBlb2YgV2ViTGF5ZXIzRC5wcm90b3R5cGUuaGl0VGVzdD4gJiB7fVxuXG5jb25zdCBzY3JhdGNoTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDRcbmNvbnN0IHNjcmF0Y2hWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5jb25zdCBzY3JhdGNoVmVjdG9yMiA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IHNjcmF0Y2hCb3VuZHMgPSBuZXcgQm91bmRzKClcbmNvbnN0IHNjcmF0Y2hCb3VuZHMyID0gbmV3IEJvdW5kcygpXG5cbmNvbnN0IE9OX0JFRk9SRV9VUERBVEUgPSBTeW1ib2woJ09OX0JFRk9SRV9VUERBVEUnKVxuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzRENvbnRlbnQgZXh0ZW5kcyBUSFJFRS5PYmplY3QzRCB7XG5cbiAgcHVibGljIGlzUm9vdCA9IGZhbHNlXG5cbiAgcHJpdmF0ZSBfY2FtZXJhPzpUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm5hbWUgPSBlbGVtZW50LmlkXG4gICAgdGhpcy5fd2ViTGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoZWxlbWVudCkhXG4gICAgOyhlbGVtZW50IGFzIGFueSkubGF5ZXIgPSB0aGlzXG5cbiAgICB0aGlzLmFkZCh0aGlzLmNvbnRlbnRNZXNoKVxuICAgIHRoaXMuYWRkKHRoaXMuX2JvdW5kc01lc2gpXG4gICAgdGhpcy5jdXJzb3IudmlzaWJsZSA9IGZhbHNlXG4gICAgXG4gICAgdGhpcy5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuXG4gICAgdGhpcy5jb250ZW50TWVzaC5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuICAgIHRoaXMuY29udGVudE1lc2gudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5jb250ZW50TWVzaFsnY3VzdG9tRGVwdGhNYXRlcmlhbCddID0gdGhpcy5kZXB0aE1hdGVyaWFsXG4gICAgdGhpcy5jb250ZW50TWVzaC5vbkJlZm9yZVJlbmRlciA9IChyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSkgPT4ge1xuICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhIGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhXG4gICAgfVxuXG4gICAgdGhpcy5fYm91bmRzTWVzaC5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuXG4gICAgV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuc2V0KHRoaXMuZWxlbWVudCwgdGhpcylcbiAgICBXZWJMYXllcjNELmxheWVyc0J5TWVzaC5zZXQodGhpcy5jb250ZW50TWVzaCwgdGhpcylcbiAgfVxuXG4gIHByb3RlY3RlZCBfd2ViTGF5ZXIgOiBXZWJMYXllclxuXG4gIHByaXZhdGUgX2xvY2FsWiA9IDBcbiAgcHJpdmF0ZSBfdmlld1ogPSAwXG4gIHByaXZhdGUgX3JlbmRlclogPSAwXG5cbiAgdGV4dHVyZXMgPSBuZXcgTWFwPEhUTUxDYW52YXNFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCwgVEhSRUUuVGV4dHVyZT4oKVxuXG4gIGdldCBjdXJyZW50VGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5fd2ViTGF5ZXIuZWxlbWVudC50YWdOYW1lID09PSAnVklERU8nKSB7XG4gICAgICBjb25zdCB2aWRlbyA9IHRoaXMuX3dlYkxheWVyLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgbGV0IHQgPSB0aGlzLnRleHR1cmVzLmdldCh2aWRlbylcbiAgICAgIGlmICghdCkge1xuICAgICAgICB0ID0gbmV3IFRIUkVFLlZpZGVvVGV4dHVyZSh2aWRlbylcbiAgICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC53cmFwVCA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgICAgdC5taW5GaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICAgIHRoaXMudGV4dHVyZXMuc2V0KHZpZGVvLCB0KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl93ZWJMYXllci5jdXJyZW50Q2FudmFzXG4gICAgbGV0IHQgPSB0aGlzLnRleHR1cmVzLmdldChjYW52YXMhKVxuICAgIGlmIChjYW52YXMgJiYgIXQpIHtcbiAgICAgIHQgPSBuZXcgVEhSRUUuVGV4dHVyZShjYW52YXMpXG4gICAgICB0Lm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgdC53cmFwUyA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgIHQud3JhcFQgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICB0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmcpIHQuZW5jb2RpbmcgPSB0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nXG4gICAgICB0aGlzLnRleHR1cmVzLnNldChjYW52YXMsIHQpXG4gICAgfVxuICAgIHJldHVybiB0XG4gIH1cblxuICB0ZXh0dXJlTmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gIGNvbnRlbnRNZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgV2ViTGF5ZXIzRC5HRU9NRVRSWSxcbiAgICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcbiAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICBhbHBoYVRlc3Q6IDAuMDAxLFxuICAgICAgb3BhY2l0eTogMVxuICAgIH0pXG4gIClcblxuICAvKipcbiAgICogVGhpcyBub24tdmlzaWJsZSBtZXNoIGVuc3VyZXMgdGhhdCBhbiBhZGFwdGVkIGxheWVyIHJldGFpbnNcbiAgICogaXRzIGlubmVyQm91bmRzLCBldmVuIGlmIHRoZSBjb250ZW50IG1lc2ggaXNcbiAgICogaW5kZXBlbmRlbnRseSBhZGFwdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfYm91bmRzTWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgIFdlYkxheWVyM0QuR0VPTUVUUlksXG4gICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSlcbiAgKVxuXG4gIGN1cnNvciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpXG5cbiAgLyoqXG4gICAqIEFsbG93cyBjb3JyZWN0IHNoYWRvdyBtYXBzXG4gICAqL1xuICBkZXB0aE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hEZXB0aE1hdGVyaWFsKHtcbiAgICBkZXB0aFBhY2tpbmc6IFRIUkVFLlJHQkFEZXB0aFBhY2tpbmcsXG4gICAgYWxwaGFUZXN0OiAwLjAwMVxuICB9KVxuXG4gIGRvbUxheW91dCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpXG4gIGRvbVNpemUgPSBuZXcgVEhSRUUuVmVjdG9yMygxLDEsMSlcblxuICAvKipcbiAgICogR2V0IHRoZSBob3ZlciBzdGF0ZVxuICAgKi9cbiAgZ2V0IHBzZXVkb1N0YXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIucHNldWRvU3RhdGVzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllciBkZXB0aCAoZGlzdGFuY2UgZnJvbSB0aGlzIGxheWVyJ3MgZWxlbWVudCBhbmQgdGhlIHBhcmVudCBsYXllcidzIGVsZW1lbnQpXG4gICAqL1xuICBnZXQgZGVwdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLmRlcHRoXG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGdldCBpbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRXZWJMYXllciA/IHRoaXMucGFyZW50V2ViTGF5ZXIuY2hpbGRXZWJMYXllcnMuaW5kZXhPZih0aGlzKSA6IDBcbiAgfVxuXG4gIGdldCBuZWVkc1JlZnJlc2goKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLm5lZWRzUmVmcmVzaFxuICB9XG5cbiAgc2V0TmVlZHNSZWZyZXNoKCkge1xuICAgIHRoaXMuX3dlYkxheWVyLnRyYXZlcnNlTGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKVxuICB9XG5cbiAgLyoqIElmIHRydWUsIHRoaXMgbGF5ZXIgbmVlZHMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY2VuZSAqL1xuICBnZXQgbmVlZHNSZW1vdmFsKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5uZWVkc1JlbW92YWxcbiAgfVxuXG4gIGJvdW5kcyA9IG5ldyBCb3VuZHNcbiAgbWFyZ2luID0gbmV3IEVkZ2VzXG5cbiAgZ2V0IHBhcmVudFdlYkxheWVyKCk6IFdlYkxheWVyM0RDb250ZW50IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fd2ViTGF5ZXIucGFyZW50TGF5ZXIgJiZcbiAgICAgIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldCh0aGlzLl93ZWJMYXllci5wYXJlbnRMYXllci5lbGVtZW50KVxuICAgIClcbiAgfVxuXG4gIGNoaWxkV2ViTGF5ZXJzOiBXZWJMYXllcjNEQ29udGVudFtdID0gW11cblxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoZSBET00gbGF5b3V0IHNob3VsZCBiZSBhcHBsaWVkLlxuICAgKlxuICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBhbHdheXMgYmUgYXBwbGllZC5cbiAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIG5ldmVyIGJlIGFwcGxpZWQuXG4gICAqIFdoZW4gc2V0IHRvIGAnYXV0bydgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgb25seSBiZSBhcHBsaWVkXG4gICAqIHdoZW4gdGhlIGBwYXJlbnRMYXllcmAgaXMgdGhlIHNhbWUgYXMgdGhlIGBwYXJlbnRgIG9iamVjdC5cbiAgICpcbiAgICogSXQgaXMgdGhlIHJlc3BvbnNpYmlsdGl5IG9mIHRoZSB1cGRhdGUgY2FsbGJhY2tcbiAgICogdG8gZm9sbG93IHRoZXNlIHJ1bGVzLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBgYXV0b2BcbiAgICovXG4gIHNob3VsZEFwcGx5RE9NTGF5b3V0OiB0cnVlIHwgZmFsc2UgfCAnYXV0bycgPSAnYXV0bydcblxuICAvKipcbiAgICogUmVmcmVzaCBmcm9tIERPTVxuICAgKi9cbiAgcHVibGljIHJlZnJlc2gocmVjdXJzZT1mYWxzZSkge1xuICAgIHRoaXMuX3dlYkxheWVyLnJlZnJlc2goKVxuICAgIHRoaXMuY2hpbGRXZWJMYXllcnMubGVuZ3RoID0gMFxuICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLl93ZWJMYXllci5jaGlsZExheWVycykge1xuICAgICAgY29uc3QgY2hpbGQgPSBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudFxuICAgICAgICAuZ2V0KFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihjLmVsZW1lbnQpPy5lbGVtZW50ISlcbiAgICAgIGlmICghY2hpbGQpIGNvbnRpbnVlXG4gICAgICB0aGlzLmNoaWxkV2ViTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICBpZiAocmVjdXJzZSkgY2hpbGQucmVmcmVzaChyZWN1cnNlKVxuICAgIH1cbiAgICB0aGlzLl9yZWZyZXNoVmlkZW9Cb3VuZHMoKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVMYXlvdXQoKSB7XG5cbiAgICB0aGlzLl91cGRhdGVET01MYXlvdXQoKVxuXG4gICAgaWYgKHRoaXMuX2NhbWVyYSkge1xuXG4gICAgICB0aGlzLl9sb2NhbFogPSBNYXRoLmFicyhcbiAgICAgICAgc2NyYXRjaFZlY3Rvci5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXgpLnogKyBcbiAgICAgICAgc2NyYXRjaFZlY3Rvci5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5jb250ZW50TWVzaC5tYXRyaXgpLnopXG4gICAgICB0aGlzLl92aWV3WiA9IE1hdGguYWJzKHRoaXMuY29udGVudE1lc2guZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKS5hcHBseU1hdHJpeDQodGhpcy5fY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSkueilcbiAgICAgIFxuICAgICAgbGV0IHBhcmVudFJlbmRlclogPSB0aGlzLnBhcmVudFdlYkxheWVyID8gdGhpcy5wYXJlbnRXZWJMYXllci5fcmVuZGVyWiA6IHRoaXMuX3ZpZXdaXG4gICAgICBcbiAgICAgIGlmICh0aGlzLl9sb2NhbFogPCAxZS0zKSB7IC8vIGNvcGxhbmFyPyB1c2UgcGFyZW50IHJlbmRlclpcbiAgICAgICAgdGhpcy5fcmVuZGVyWiA9IHBhcmVudFJlbmRlclpcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclogPSB0aGlzLl92aWV3WlxuICAgICAgfVxuICBcbiAgICAgIHRoaXMuY29udGVudE1lc2gucmVuZGVyT3JkZXIgPSAodGhpcy5vcHRpb25zLnJlbmRlck9yZGVyT2Zmc2V0IHx8IDApICsgXG4gICAgICAgICgxIC0gTWF0aC5sb2codGhpcy5fcmVuZGVyWiArIDEpIC8gTWF0aC5sb2codGhpcy5fY2FtZXJhLmZhciArIDEpKStcbiAgICAgICAgKHRoaXMuZGVwdGggKyB0aGlzLmluZGV4ICogMC4wMDEpKjAuMDAwMDAwMVxuICBcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgY29uc3QgbWVzaCA9IHRoaXMuY29udGVudE1lc2hcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jdXJyZW50VGV4dHVyZVxuICAgIGNvbnN0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFxuICAgIGlmICh0ZXh0dXJlICYmICh0ZXh0dXJlLmltYWdlICYmIG1hdGVyaWFsLm1hcCAhPT0gdGV4dHVyZSB8fCB0aGlzLnRleHR1cmVOZWVkc1VwZGF0ZSkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRTY2FsZSA9IHRoaXMuY29udGVudE1lc2guc2NhbGVcbiAgICAgIGNvbnN0IGFzcGVjdCA9IE1hdGguYWJzKGNvbnRlbnRTY2FsZS54ICogdGhpcy5zY2FsZS54IC8gY29udGVudFNjYWxlLnkgKiB0aGlzLnNjYWxlLnkpXG4gICAgICBjb25zdCB0YXJnZXRBc3BlY3QgPSB0aGlzLmRvbVNpemUueCAvIHRoaXMuZG9tU2l6ZS55XG4gICAgICBpZiAoTWF0aC5hYnModGFyZ2V0QXNwZWN0LWFzcGVjdCkgPCAxZTMpIHtcbiAgICAgICAgbWF0ZXJpYWwubWFwID0gdGV4dHVyZVxuICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWxbJ21hcCddID0gdGV4dHVyZVxuICAgICAgICB0aGlzLnRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZVxuXG4gICAgLy8gaGFuZGxlIGxheWVyIHZpc2liaWx0aXkgb3IgcmVtb3ZhbFxuICAgIGNvbnN0IG1hdCA9IG1lc2gubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWxcbiAgICBjb25zdCBpc0hpZGRlbiA9IG1hdC5vcGFjaXR5IDwgMC4wMDVcbiAgICBpZiAoaXNIaWRkZW4pIG1lc2gudmlzaWJsZSA9IGZhbHNlXG4gICAgZWxzZSBpZiAobWVzaC5tYXRlcmlhbC5tYXApIG1lc2gudmlzaWJsZSA9IHRydWVcbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwgJiYgaXNIaWRkZW4pIHtcbiAgICAgIGlmICh0aGlzLnBhcmVudCkgdGhpcy5wYXJlbnQucmVtb3ZlKHRoaXMpXG4gICAgICB0aGlzLmRpc3Bvc2UoKVxuICAgIH1cbiAgfVxuXG4gIGdldCByb290V2ViTGF5ZXIoKSB7XG4gICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldCh0aGlzLl93ZWJMYXllci5yb290TGF5ZXIuZWxlbWVudCkhXG4gIH1cblxuICAvKiogSU5URVJOQUwgKi9cbiAgcHJpdmF0ZSBbT05fQkVGT1JFX1VQREFURV0oKSB7fVxuXG4gIHByb3RlY3RlZCBfZG9VcGRhdGUoKSB7XG4gICAgdGhpc1tPTl9CRUZPUkVfVVBEQVRFXSgpXG4gICAgLy8gY29udGVudCBtdXN0IHVwZGF0ZSBiZWZvcmUgbGF5b3V0XG4gICAgdGhpcy51cGRhdGVDb250ZW50KClcbiAgICB0aGlzLnVwZGF0ZUxheW91dCgpXG5cbiAgICB0aGlzLnBvc2l0aW9uLmNvcHkodGhpcy5kb21MYXlvdXQucG9zaXRpb24pXG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkodGhpcy5kb21MYXlvdXQucXVhdGVybmlvbilcbiAgICB0aGlzLnNjYWxlLmNvcHkodGhpcy5kb21MYXlvdXQuc2NhbGUpXG4gICAgdGhpcy5jb250ZW50TWVzaC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5jb250ZW50TWVzaC5zY2FsZS5jb3B5KHRoaXMuZG9tU2l6ZSlcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnF1YXRlcm5pb24uc2V0KDAsMCwwLDEpXG4gICAgdGhpcy5fYm91bmRzTWVzaC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5fYm91bmRzTWVzaC5zY2FsZS5jb3B5KHRoaXMuZG9tU2l6ZSlcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnF1YXRlcm5pb24uc2V0KDAsMCwwLDEpXG5cbiAgICBpZiAodGhpcy5uZWVkc1JlZnJlc2ggJiYgdGhpcy5vcHRpb25zLmF1dG9SZWZyZXNoICE9PSBmYWxzZSkgXG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIFdlYlJlbmRlcmVyLnNjaGVkdWxlVGFza3NJZk5lZWRlZCgpXG4gIH1cblxuICB1cGRhdGUocmVjdXJzZT1mYWxzZSkge1xuICAgIGlmIChyZWN1cnNlKSB0aGlzLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIodGhpcy5fZG9VcGRhdGUpXG4gICAgZWxzZSB0aGlzLl9kb1VwZGF0ZSgpXG4gIH1cblxuICBxdWVyeVNlbGVjdG9yKHNlbGVjdG9yOiBzdHJpbmcpOiBXZWJMYXllcjNEQ29udGVudCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNoYWRvd1Jvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQoZWxlbWVudClcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgdHJhdmVyc2VMYXllckFuY2VzdG9ycyhcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHBhcmVudExheWVyID0gdGhpcy5wYXJlbnRXZWJMYXllclxuICAgIGlmIChwYXJlbnRMYXllcikge1xuICAgICAgcGFyZW50TGF5ZXIudHJhdmVyc2VMYXllckFuY2VzdG9ycyhlYWNoKVxuICAgICAgZWFjaC5jYWxsKHRoaXMsIHBhcmVudExheWVyKVxuICAgIH1cbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcjNEQ29udGVudCkgPT4gYm9vbGVhbnx2b2lkXG4gICkge1xuICAgIGlmIChlYWNoLmNhbGwodGhpcywgdGhpcykgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRXZWJMYXllcnMpIHtcbiAgICAgIGlmIChjaGlsZC50cmF2ZXJzZUxheWVyc1ByZU9yZGVyKGVhY2gpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB0cmF2ZXJzZUxheWVyc1Bvc3RPcmRlcihcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSA9PiBib29sZWFufHZvaWRcbiAgKSA6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykge1xuICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlTGF5ZXJzUG9zdE9yZGVyKGVhY2gpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiBlYWNoLmNhbGwodGhpcywgdGhpcykgfHwgdHJ1ZVxuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy50ZXh0dXJlcy52YWx1ZXMoKSkge1xuICAgICAgdC5kaXNwb3NlKClcbiAgICB9XG4gICAgdGhpcy5jb250ZW50TWVzaC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICB0aGlzLl9ib3VuZHNNZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgIFdlYlJlbmRlcmVyLmRpc3Bvc2VMYXllcih0aGlzLl93ZWJMYXllcilcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRXZWJMYXllcnMpIGNoaWxkLmRpc3Bvc2UoKVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaFZpZGVvQm91bmRzKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQubm9kZU5hbWUgPT09ICdWSURFTycpIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy5lbGVtZW50IGFzIEhUTUxWaWRlb0VsZW1lbnRcbiAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmN1cnJlbnRUZXh0dXJlIVxuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KVxuICAgICAgY29uc3QgeyBvYmplY3RGaXQgfSA9IGNvbXB1dGVkU3R5bGVcbiAgICAgIGNvbnN0IHsgd2lkdGg6IHZpZXdXaWR0aCwgaGVpZ2h0OiB2aWV3SGVpZ2h0IH0gPSB0aGlzLmJvdW5kcy5jb3B5KHRoaXMuX3dlYkxheWVyLmN1cnJlbnRCb3VuZHMpXG4gICAgICBjb25zdCB7IHZpZGVvV2lkdGgsIHZpZGVvSGVpZ2h0IH0gPSB2aWRlb1xuICAgICAgY29uc3QgdmlkZW9SYXRpbyA9IHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodFxuICAgICAgY29uc3Qgdmlld1JhdGlvID0gdmlld1dpZHRoIC8gdmlld0hlaWdodFxuICAgICAgdGV4dHVyZS5jZW50ZXIuc2V0KDAuNSwgMC41KVxuICAgICAgc3dpdGNoIChvYmplY3RGaXQpIHtcbiAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KHZpZXdXaWR0aCAvIHZpZGVvV2lkdGgsIHZpZXdIZWlnaHQgLyB2aWRlb0hlaWdodCkuY2xhbXBTY2FsYXIoMCwgMSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjb250YWluJzpcbiAgICAgICAgY2FzZSAnc2NhbGUtZG93bic6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KDEsIDEpXG4gICAgICAgICAgaWYgKHZpZXdSYXRpbyA+IHZpZGVvUmF0aW8pIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3VuZHMuaGVpZ2h0ICogdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5sZWZ0ICs9ICh0aGlzLmJvdW5kcy53aWR0aCAtIHdpZHRoKSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRoID0gd2lkdGhcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3VuZHMud2lkdGggLyB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLnRvcCArPSAodGhpcy5ib3VuZHMuaGVpZ2h0IC0gaGVpZ2h0KSAvIDJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjb3Zlcic6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KHZpZXdXaWR0aCAvIHZpZGVvV2lkdGgsIHZpZXdIZWlnaHQgLyB2aWRlb0hlaWdodClcbiAgICAgICAgICBpZiAodmlld1JhdGlvIDwgdmlkZW9SYXRpbykge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJvdW5kcy5oZWlnaHQgKiB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmxlZnQgKz0gKHRoaXMuYm91bmRzLndpZHRoIC0gd2lkdGgpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGggPSB3aWR0aFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJvdW5kcy53aWR0aCAvIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMudG9wICs9ICh0aGlzLmJvdW5kcy5oZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNhc2UgJ2ZpbGwnOlxuICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCgxLCAxKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlRE9NTGF5b3V0KCkge1xuXG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7Y3VycmVudEJvdW5kcywgY3VycmVudE1hcmdpbn0gPSB0aGlzLl93ZWJMYXllclxuXG4gICAgdGhpcy5kb21MYXlvdXQucG9zaXRpb24uc2V0KDAsMCwwKVxuICAgIHRoaXMuZG9tTGF5b3V0LnNjYWxlLnNldCgxLCAxLCAxKVxuICAgIHRoaXMuZG9tTGF5b3V0LnF1YXRlcm5pb24uc2V0KDAsIDAsIDAsIDEpXG5cbiAgICBjb25zdCBpc1ZpZGVvID0gdGhpcy5lbGVtZW50Lm5vZGVOYW1lID09PSAnVklERU8nXG4gICAgY29uc3QgYm91bmRzID0gaXNWaWRlbyA/IHRoaXMuYm91bmRzIDogdGhpcy5ib3VuZHMuY29weShjdXJyZW50Qm91bmRzKVxuICAgIGNvbnN0IG1hcmdpbiA9IGlzVmlkZW8gPyB0aGlzLm1hcmdpbiA6IHRoaXMubWFyZ2luLmNvcHkoY3VycmVudE1hcmdpbilcblxuICAgIGNvbnN0IGZ1bGxXaWR0aCA9IGJvdW5kcy53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0XG4gICAgY29uc3QgZnVsbEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbVxuICAgIGNvbnN0IHdpZHRoID0gYm91bmRzLndpZHRoXG4gICAgY29uc3QgaGVpZ2h0ID0gYm91bmRzLmhlaWdodFxuICAgIGNvbnN0IHBpeGVsU2l6ZSA9IDEgLyBXZWJMYXllcjNELkRFRkFVTFRfUElYRUxTX1BFUl9VTklUXG5cbiAgICB0aGlzLmRvbVNpemUuc2V0KFxuICAgICAgTWF0aC5tYXgocGl4ZWxTaXplICogKHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpLCAxMGUtNiksXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiAoaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pLCAxMGUtNiksXG4gICAgICAxXG4gICAgKVxuXG4gICAgaWYgKCFXZWJMYXllcjNELnNob3VsZEFwcGx5RE9NTGF5b3V0KHRoaXMpKSByZXR1cm5cblxuICAgIGNvbnN0IHBhcmVudExheWVyID0gdGhpcy5wYXJlbnRXZWJMYXllclxuICAgIGlmICghcGFyZW50TGF5ZXIpIHJldHVyblxuXG4gICAgY29uc3QgcGFyZW50Qm91bmRzID0gcGFyZW50TGF5ZXIuYm91bmRzIC8vfHwgZ2V0Vmlld3BvcnRCb3VuZHMoc2NyYXRjaEJvdW5kcylcbiAgICBjb25zdCBwYXJlbnRNYXJnaW4gPSBwYXJlbnRMYXllci5tYXJnaW5cbiAgICBjb25zdCBwYXJlbnRGdWxsV2lkdGggPSBwYXJlbnRCb3VuZHMud2lkdGggKyBwYXJlbnRNYXJnaW4ubGVmdCArIHBhcmVudE1hcmdpbi5yaWdodFxuICAgIGNvbnN0IHBhcmVudEZ1bGxIZWlnaHQgPSBwYXJlbnRCb3VuZHMuaGVpZ2h0ICsgcGFyZW50TWFyZ2luLmJvdHRvbSArIHBhcmVudE1hcmdpbi5ib3R0b21cbiAgICBjb25zdCBwYXJlbnRMZWZ0RWRnZSA9IC0gcGFyZW50RnVsbFdpZHRoIC8gMiArIHBhcmVudE1hcmdpbi5sZWZ0XG4gICAgY29uc3QgcGFyZW50VG9wRWRnZSA9IHBhcmVudEZ1bGxIZWlnaHQgLyAyIC0gcGFyZW50TWFyZ2luLnRvcFxuICAgIFxuICAgIHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uLnNldChcbiAgICAgIHBpeGVsU2l6ZSAqIChwYXJlbnRMZWZ0RWRnZSArIGZ1bGxXaWR0aC8yICsgYm91bmRzLmxlZnQgLSBtYXJnaW4ubGVmdCksXG4gICAgICBwaXhlbFNpemUgKiAocGFyZW50VG9wRWRnZSAtIGZ1bGxIZWlnaHQvMiAtIGJvdW5kcy50b3AgKyBtYXJnaW4udG9wKSxcbiAgICAgIDBcbiAgICApXG5cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpXG4gICAgY29uc3QgdHJhbnNmb3JtID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm1cbiAgICBpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICBjb25zdCBjc3NUcmFuc2Zvcm0gPSBXZWJSZW5kZXJlci5wYXJzZUNTU1RyYW5zZm9ybShjb21wdXRlZFN0eWxlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQsIHBpeGVsU2l6ZSwgc2NyYXRjaE1hdHJpeClcbiAgICAgIGlmIChjc3NUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5kb21MYXlvdXQudXBkYXRlTWF0cml4KClcbiAgICAgICAgdGhpcy5kb21MYXlvdXQubWF0cml4Lm11bHRpcGx5KGNzc1RyYW5zZm9ybSlcbiAgICAgICAgdGhpcy5kb21MYXlvdXQubWF0cml4LmRlY29tcG9zZSh0aGlzLmRvbUxheW91dC5wb3NpdGlvbiwgdGhpcy5kb21MYXlvdXQucXVhdGVybmlvbiwgdGhpcy5kb21MYXlvdXQuc2NhbGUpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgRE9NIHRyZWUgaW50byAzRCBsYXllcnMuXG4gKlxuICogV2hlbiBhbiBpbnN0YW5jZSBpcyBjcmVhdGVkLCBhIGB4ci1sYXllcmAgaXMgc2V0IG9uIHRoZVxuICogdGhlIHBhc3NlZCBET00gZWxlbWVudCB0byBtYXRjaCB0aGlzIGluc3RhbmNlJ3MgT2JqZWN0M0QgaWQuXG4gKiBJZiB0aGUgcGFzc2VkIERPTSBlbGVtZW50IGhhcyBhbiBgaWRgIGF0dHJpYnV0ZSwgdGhpcyBpbnN0YW5jZSdzIE9iamVjdDNEIG5hbWVcbiAqIHdpbGwgYmUgc2V0IHRvIG1hdGNoIHRoZSBlbGVtZW50IGlkLlxuICpcbiAqIENoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2VzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aCBhbiBgeHItbGF5ZXJgIGF0dHJpYnV0ZSxcbiAqIHdoaWNoIHdpbGwgYmUgc2V0IHdoZW4gdGhlIGNoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2UgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5LlxuICogVGhlIGF0dHJpYnV0ZSBjYW4gYmUgc3BlY2lmaWVkIGFkZGVkIGluIEhUTUwgb3IgZHluYW1pY2FsbHk6XG4gKiAgLSBgPGRpdiB4ci1sYXllcj48L2Rpdj5gXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGUgcGl4ZWwgcmF0aW8gY2FuIGJlIGFkanVzdGVkIG9uIGVhY2ggbGF5ZXIsIGluZGl2aWR1YWxseTpcbiAqICAtIGA8ZGl2IHhyLWxheWVyIHhyLXBpeGVsLXJhdGlvPVwiMC41XCI+PC9kaXY+YFxuICpcbiAqIERlZmF1bHQgZGltZW5zaW9uczogMXB4ID0gMC4wMDEgd29ybGQgZGltZW5zaW9ucyA9IDFtbSAoYXNzdW1pbmcgbWV0ZXJzKVxuICogICAgIGUuZy4sIDUwMHB4IHdpZHRoIG1lYW5zIDAuNW1ldGVyc1xuICovXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzRCBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICBzdGF0aWMgbGF5ZXJzQnlFbGVtZW50ID0gbmV3IFdlYWtNYXA8RWxlbWVudCwgV2ViTGF5ZXIzRENvbnRlbnQ+KClcbiAgc3RhdGljIGxheWVyc0J5TWVzaCA9IG5ldyBXZWFrTWFwPFRIUkVFLk1lc2gsIFdlYkxheWVyM0RDb250ZW50PigpXG5cbiAgc3RhdGljIERFRkFVTFRfTEFZRVJfU0VQQVJBVElPTiA9IDAuMDAxXG4gIHN0YXRpYyBERUZBVUxUX1BJWEVMU19QRVJfVU5JVCA9IDEwMDBcbiAgc3RhdGljIEdFT01FVFJZID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSwgMiwgMilcblxuICAvLyBzdGF0aWMgY29tcHV0ZU5hdHVyYWxEaXN0YW5jZShcbiAgLy8gICBwcm9qZWN0aW9uOiBUSFJFRS5NYXRyaXg0IHwgVEhSRUUuQ2FtZXJhLFxuICAvLyAgIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyXG4gIC8vICkge1xuICAvLyAgIGxldCBwcm9qZWN0aW9uTWF0cml4ID0gcHJvamVjdGlvbiBhcyAgVEhSRUUuTWF0cml4NFxuICAvLyAgIGlmICgocHJvamVjdGlvbiBhcyBUSFJFRS5DYW1lcmEpLmlzQ2FtZXJhKSB7XG4gIC8vICAgICBwcm9qZWN0aW9uTWF0cml4ID0gKHByb2plY3Rpb24gYXMgVEhSRUUuQ2FtZXJhKS5wcm9qZWN0aW9uTWF0cml4XG4gIC8vICAgfVxuICAvLyAgIGNvbnN0IHBpeGVsUmF0aW8gPSByZW5kZXJlci5nZXRQaXhlbFJhdGlvKClcbiAgLy8gICBjb25zdCB3aWR0aFBpeGVscyA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyBwaXhlbFJhdGlvXG4gIC8vICAgY29uc3Qgd2lkdGggPSBXZWJMYXllcjNELkRFRkFVTFRfUElYRUxTX1BFUl9VTklUICogd2lkdGhQaXhlbHNcbiAgLy8gICBjb25zdCBob3Jpem9udGFsRk9WID0gZ2V0Rm92cyhwcm9qZWN0aW9uTWF0cml4KS5ob3Jpem9udGFsXG4gIC8vICAgY29uc3QgbmF0dXJhbERpc3RhbmNlID0gd2lkdGggLyAyIC8gTWF0aC50YW4oaG9yaXpvbnRhbEZPViAvIDIpXG4gIC8vICAgcmV0dXJuIG5hdHVyYWxEaXN0YW5jZVxuICAvLyB9XG4gIFxuICBzdGF0aWMgc2hvdWxkQXBwbHlET01MYXlvdXQobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSB7XG4gICAgY29uc3Qgc2hvdWxkID0gbGF5ZXIuc2hvdWxkQXBwbHlET01MYXlvdXRcbiAgICBpZiAoKHNob3VsZCBhcyBhbnkpID09PSAnYWx3YXlzJyB8fCBzaG91bGQgPT09IHRydWUpIHJldHVybiB0cnVlXG4gICAgaWYgKChzaG91bGQgYXMgYW55KSA9PT0gJ25ldmVyJyB8fCBzaG91bGQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoc2hvdWxkID09PSAnYXV0bycgJiYgbGF5ZXIucGFyZW50V2ViTGF5ZXIgJiYgbGF5ZXIucGFyZW50ID09PSBsYXllci5wYXJlbnRXZWJMYXllcikgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBcbiAgcHVibGljIHJvb3RMYXllciE6V2ViTGF5ZXIzRENvbnRlbnRcblxuICBwcml2YXRlIF9pbnRlcmFjdGlvblJheXMgPSBbXSBhcyBBcnJheTxUSFJFRS5SYXkgfCBUSFJFRS5PYmplY3QzRD5cbiAgcHJpdmF0ZSBfcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXG4gIHByaXZhdGUgX2hpdEludGVyc2VjdGlvbnMgPSBbXSBhcyBJbnRlcnNlY3Rpb25bXVxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRPckhUTUw6IEVsZW1lbnR8c3RyaW5nLCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKClcblxuICAgIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2YgZWxlbWVudE9ySFRNTCA9PT0gJ3N0cmluZycgPyBET00oZWxlbWVudE9ySFRNTCkgOiBlbGVtZW50T3JIVE1MXG5cbiAgICBXZWJSZW5kZXJlci5jcmVhdGVMYXllclRyZWUoZWxlbWVudCwgb3B0aW9ucywgKGV2ZW50LCB7IHRhcmdldCB9KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdsYXllcmNyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IFdlYkxheWVyM0RDb250ZW50KHRhcmdldCwgdGhpcy5vcHRpb25zKVxuICAgICAgICBpZiAodGFyZ2V0ID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgbGF5ZXJbT05fQkVGT1JFX1VQREFURV0gPSAoKSA9PiB0aGlzLl91cGRhdGVJbnRlcmFjdGlvbnMoKVxuICAgICAgICAgIGxheWVyLmlzUm9vdCA9IHRydWVcbiAgICAgICAgICB0aGlzLnJvb3RMYXllciA9IGxheWVyXG4gICAgICAgICAgdGhpcy5hZGQobGF5ZXIpXG4gICAgICAgIH0gZWxzZSBsYXllci5wYXJlbnRXZWJMYXllcj8uYWRkKGxheWVyKVxuICAgICAgICB0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZT8uKGxheWVyKVxuICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2xheWVycGFpbnRlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBXZWJSZW5kZXJlci5sYXllcnMuZ2V0KHRhcmdldCkhXG4gICAgICAgIGNvbnN0IGxheWVyM0QgPSBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQobGF5ZXIuZWxlbWVudCkhXG4gICAgICAgIGxheWVyM0QudGV4dHVyZU5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLm9wdGlvbnMub25MYXllclBhaW50Py4obGF5ZXIzRClcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdsYXllcm1vdmVkJykge1xuICAgICAgICBjb25zdCBsYXllciA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldCh0YXJnZXQpIVxuICAgICAgICBsYXllci5wYXJlbnRXZWJMYXllcj8uYWRkKGxheWVyKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLnJlZnJlc2goKVxuICAgIHRoaXMudXBkYXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgUmF5cyB0byBiZSB1c2VkIGZvciBpbnRlcmFjdGlvbi5cbiAgICogQ2FuIG9ubHkgYmUgc2V0IG9uIGEgcm9vdCBXZWJMYXllcjNEIGluc3RhbmNlLlxuICAgKi9cbiAgZ2V0IGludGVyYWN0aW9uUmF5cygpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3Rpb25SYXlzXG4gIH1cbiAgc2V0IGludGVyYWN0aW9uUmF5cyhyYXlzOiBBcnJheTxUSFJFRS5SYXkgfCBUSFJFRS5PYmplY3QzRD4pIHtcbiAgICB0aGlzLl9pbnRlcmFjdGlvblJheXMgPSByYXlzXG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgcXVlcnkgc2VsZWN0b3Igb24gdGhlIHJvb3QgbGF5ZXJcbiAgICogQHBhcmFtIHNlbGVjdG9yIFxuICAgKi9cbiAgcXVlcnlTZWxlY3RvcihzZWxlY3RvcjpzdHJpbmcpIDogV2ViTGF5ZXIzRENvbnRlbnR8dW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yb290TGF5ZXIucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIGFsbCBsYXllcnMsIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIHRoaXMucm9vdExheWVyLnJlZnJlc2godHJ1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxsIGxheWVycywgcmVjdXJzaXZlbHlcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLnJvb3RMYXllci51cGRhdGUodHJ1ZSlcbiAgfVxuXG4gIC8qKiBHZXQgdGhlIGNvbnRlbnQgbWVzaCBvZiB0aGUgcm9vdCBsYXllciAqL1xuICBnZXQgY29udGVudE1lc2goKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdExheWVyLmNvbnRlbnRNZXNoXG4gIH1cblxuICBwcml2YXRlIF9wcmV2aW91c0hvdmVyTGF5ZXJzID0gbmV3IFNldDxXZWJMYXllcjNEQ29udGVudD4oKVxuICBwcml2YXRlIF9jb250ZW50TWVzaGVzID0gW10gYXMgVEhSRUUuTWVzaFtdXG5cbiAgcHJpdmF0ZSBfcHJlcGFyZUhpdFRlc3QgPSAobGF5ZXI6V2ViTGF5ZXIzRENvbnRlbnQpID0+IHtcbiAgICBpZiAobGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyKSB0aGlzLl9wcmV2aW91c0hvdmVyTGF5ZXJzLmFkZChsYXllcilcbiAgICBsYXllci5jdXJzb3IudmlzaWJsZSA9IGZhbHNlXG4gICAgbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyID0gZmFsc2VcbiAgICB0aGlzLl9jb250ZW50TWVzaGVzLnB1c2gobGF5ZXIuY29udGVudE1lc2gpXG4gIH1cblxuICAvLyBwcml2YXRlIF9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKGk6SW50ZXJzZWN0aW9uKSB7XG4gIC8vICAgbGV0IG8gPSBpLm9iamVjdCBhcyBUSFJFRS5Hcm91cCZUSFJFRS5PYmplY3QzRFxuICAvLyAgIHdoaWxlIChvLnBhcmVudCAmJiAhby5pc0dyb3VwKSB7XG4gIC8vICAgICBvID0gby5wYXJlbnQgYXMgVEhSRUUuR3JvdXAmVEhSRUUuT2JqZWN0M0RcbiAgLy8gICB9XG4gIC8vICAgaS5ncm91cE9yZGVyID0gby5yZW5kZXJPcmRlclxuICAvLyB9XG5cbiAgcHJpdmF0ZSBfaW50ZXJzZWN0aW9uU29ydChhOkludGVyc2VjdGlvbixiOkludGVyc2VjdGlvbikge1xuICAgIGNvbnN0IGFMYXllciA9IGEub2JqZWN0LnBhcmVudCBhcyBXZWJMYXllcjNEQ29udGVudFxuICAgIGNvbnN0IGJMYXllciA9IGIub2JqZWN0LnBhcmVudCBhcyBXZWJMYXllcjNEQ29udGVudFxuICAgIGlmIChhTGF5ZXIuZGVwdGggIT09IGJMYXllci5kZXB0aCkge1xuICAgICAgcmV0dXJuIGJMYXllci5kZXB0aCAtIGFMYXllci5kZXB0aFxuICAgIH1cbiAgICByZXR1cm4gYkxheWVyLmluZGV4IC0gYUxheWVyLmluZGV4XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVJbnRlcmFjdGlvbnMoKSB7XG4gICAgLy8gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCB0cnVlKVxuICAgIFxuICAgIGNvbnN0IHByZXZIb3ZlciA9IHRoaXMuX3ByZXZpb3VzSG92ZXJMYXllcnNcbiAgICBwcmV2SG92ZXIuY2xlYXIoKVxuICAgIHRoaXMuX2NvbnRlbnRNZXNoZXMubGVuZ3RoID0gMFxuICAgIHRoaXMucm9vdExheWVyLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIodGhpcy5fcHJlcGFyZUhpdFRlc3QpXG5cbiAgICBmb3IgKGNvbnN0IHJheSBvZiB0aGlzLl9pbnRlcmFjdGlvblJheXMpIHtcbiAgICAgIGlmIChyYXkgaW5zdGFuY2VvZiBUSFJFRS5SYXkpIHRoaXMuX3JheWNhc3Rlci5yYXkuY29weShyYXkpXG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuX3JheWNhc3Rlci5yYXkuc2V0KFxuICAgICAgICAgIHJheS5nZXRXb3JsZFBvc2l0aW9uKHNjcmF0Y2hWZWN0b3IpLFxuICAgICAgICAgIHJheS5nZXRXb3JsZERpcmVjdGlvbihzY3JhdGNoVmVjdG9yMikubmVnYXRlKClcbiAgICAgICAgKVxuICAgICAgdGhpcy5faGl0SW50ZXJzZWN0aW9ucy5sZW5ndGggPSAwXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb25zID0gdGhpcy5fcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5fY29udGVudE1lc2hlcywgZmFsc2UsIHRoaXMuX2hpdEludGVyc2VjdGlvbnMpIGFzIEludGVyc2VjdGlvbltdXG4gICAgICAvLyBpbnRlcnNlY3Rpb25zLmZvckVhY2godGhpcy5faW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcilcbiAgICAgIGludGVyc2VjdGlvbnMuc29ydCh0aGlzLl9pbnRlcnNlY3Rpb25Tb3J0KVxuICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uc1swXVxuICAgICAgaWYgKGludGVyc2VjdGlvbikge1xuICAgICAgICBjb25zdCBsYXllciA9IGludGVyc2VjdGlvbi5vYmplY3QucGFyZW50IGFzIFdlYkxheWVyM0RDb250ZW50XG4gICAgICAgIGxheWVyLmN1cnNvci5wb3NpdGlvbi5jb3B5KGludGVyc2VjdGlvbi5wb2ludClcbiAgICAgICAgbGF5ZXIuY3Vyc29yLnZpc2libGUgPSB0cnVlXG4gICAgICAgIGxheWVyLnBzZXVkb1N0YXRlcy5ob3ZlciA9IHRydWVcbiAgICAgICAgaWYgKCFwcmV2SG92ZXIuaGFzKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnNldE5lZWRzUmVmcmVzaCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGxheWVyIG9mIHByZXZIb3Zlcikge1xuICAgICAgaWYgKCFsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIpIHtcbiAgICAgICAgbGF5ZXIuc2V0TmVlZHNSZWZyZXNoKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBoaXQgdGVzdCB3aXRoIHJheSwgb3Igd2l0aCAtWiBkaXJlY3Rpb24gb2YgYW4gT2JqZWN0M0RcbiAgICogQHBhcmFtIHJheSBcbiAgICovXG4gIGhpdFRlc3QocmF5OiBUSFJFRS5SYXl8VEhSRUUuT2JqZWN0M0QpIHtcbiAgICBjb25zdCByYXljYXN0ZXIgPSB0aGlzLl9yYXljYXN0ZXJcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25zID0gdGhpcy5faGl0SW50ZXJzZWN0aW9uc1xuICAgIGNvbnN0IG1lc2hNYXAgPSBXZWJMYXllcjNELmxheWVyc0J5TWVzaFxuICAgIGlmIChyYXkgaW5zdGFuY2VvZiBUSFJFRS5SYXkpIFxuICAgICAgdGhpcy5fcmF5Y2FzdGVyLnJheS5jb3B5KHJheSlcbiAgICBlbHNlIHRoaXMuX3JheWNhc3Rlci5yYXkuc2V0KFxuICAgICAgcmF5LmdldFdvcmxkUG9zaXRpb24oc2NyYXRjaFZlY3RvciksXG4gICAgICByYXkuZ2V0V29ybGREaXJlY3Rpb24oc2NyYXRjaFZlY3RvcjIpLm5lZ2F0ZSgpXG4gICAgKVxuICAgIGludGVyc2VjdGlvbnMubGVuZ3RoID0gMFxuICAgIHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpcywgdHJ1ZSwgaW50ZXJzZWN0aW9ucylcbiAgICAvLyBpbnRlcnNlY3Rpb25zLmZvckVhY2godGhpcy5faW50ZXJzZWN0aW9uR2V0R3JvdXBPcmRlcilcbiAgICBpbnRlcnNlY3Rpb25zLnNvcnQodGhpcy5faW50ZXJzZWN0aW9uU29ydClcbiAgICBmb3IgKGNvbnN0IGludGVyc2VjdGlvbiBvZiBpbnRlcnNlY3Rpb25zKSB7XG4gICAgICBjb25zdCBsYXllciA9IG1lc2hNYXAhLmdldChpbnRlcnNlY3Rpb24ub2JqZWN0IGFzIGFueSlcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBjb25zdCBsYXllckJvdW5kaW5nUmVjdCA9IGdldEJvdW5kcyhsYXllci5lbGVtZW50LCBzY3JhdGNoQm91bmRzKSFcbiAgICAgIGlmICghbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGggfHwgIWxheWVyQm91bmRpbmdSZWN0LmhlaWdodCkgY29udGludWVcbiAgICAgIGxldCB0YXJnZXQgPSBsYXllci5lbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgICBjb25zdCBjbGllbnRYID0gaW50ZXJzZWN0aW9uLnV2IS54ICogbGF5ZXJCb3VuZGluZ1JlY3Qud2lkdGhcbiAgICAgIGNvbnN0IGNsaWVudFkgPSAoMSAtIGludGVyc2VjdGlvbi51diEueSkgKiBsYXllckJvdW5kaW5nUmVjdC5oZWlnaHRcbiAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhsYXllci5lbGVtZW50LCBlbCA9PiB7XG4gICAgICAgIGlmICghdGFyZ2V0LmNvbnRhaW5zKGVsKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGNvbnN0IGVsZW1lbnRCb3VuZGluZ1JlY3QgPSBnZXRCb3VuZHMoZWwsIHNjcmF0Y2hCb3VuZHMyKSFcbiAgICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IGVsZW1lbnRCb3VuZGluZ1JlY3QubGVmdCAtIGxheWVyQm91bmRpbmdSZWN0LmxlZnRcbiAgICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZWxlbWVudEJvdW5kaW5nUmVjdC50b3AgLSBsYXllckJvdW5kaW5nUmVjdC50b3BcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50Qm91bmRpbmdSZWN0XG4gICAgICAgIGNvbnN0IG9mZnNldFJpZ2h0ID0gb2Zmc2V0TGVmdCArIHdpZHRoXG4gICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCArIGhlaWdodFxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2xpZW50WCA+IG9mZnNldExlZnQgJiZcbiAgICAgICAgICBjbGllbnRYIDwgb2Zmc2V0UmlnaHQgJiZcbiAgICAgICAgICBjbGllbnRZID4gb2Zmc2V0VG9wICYmXG4gICAgICAgICAgY2xpZW50WSA8IG9mZnNldEJvdHRvbVxuICAgICAgICApIHtcbiAgICAgICAgICB0YXJnZXQgPSBlbCBhcyBIVE1MRWxlbWVudFxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlIC8vIHN0b3AgdHJhdmVyc2FsIGRvd24gdGhpcyBwYXRoXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHsgbGF5ZXIsIGludGVyc2VjdGlvbiwgdGFyZ2V0IH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbn1cblxuLy8gY2xhc3MgQ2FtZXJhRk9WcyB7XG4vLyAgIHRvcCA9IDBcbi8vICAgbGVmdCA9IDBcbi8vICAgYm90dG9tID0gMFxuLy8gICByaWdodCA9IDBcbi8vICAgaG9yaXpvbnRhbCA9IDBcbi8vICAgdmVydGljYWwgPSAwXG4vLyB9XG5cbi8vIGNvbnN0IF9mb3ZzID0gbmV3IENhbWVyYUZPVnMoKVxuLy8gY29uc3QgX2dldEZvdnNNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpXG4vLyBjb25zdCBfZ2V0Rm92c1ZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbi8vIGNvbnN0IEZPUldBUkQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSlcbi8vIGZ1bmN0aW9uIGdldEZvdnMocHJvamVjdGlvbk1hdHJpeDogVEhSRUUuTWF0cml4NCkge1xuLy8gICBjb25zdCBvdXQgPSBfZm92c1xuLy8gICBjb25zdCBpbnZQcm9qZWN0aW9uID0gX2dldEZvdnNNYXRyaXguZ2V0SW52ZXJzZShwcm9qZWN0aW9uTWF0cml4KSBhcyBUSFJFRS5NYXRyaXg0XG4vLyAgIGNvbnN0IHZlYyA9IF9nZXRGb3ZzVmVjdG9yXG4vLyAgIG91dC5sZWZ0ID0gdmVjXG4vLyAgICAgLnNldCgtMSwgMCwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5yaWdodCA9IHZlY1xuLy8gICAgIC5zZXQoMSwgMCwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC50b3AgPSB2ZWNcbi8vICAgICAuc2V0KDAsIDEsIC0xKVxuLy8gICAgIC5hcHBseU1hdHJpeDQoaW52UHJvamVjdGlvbilcbi8vICAgICAuYW5nbGVUbyhGT1JXQVJEKVxuLy8gICBvdXQuYm90dG9tID0gdmVjXG4vLyAgICAgLnNldCgwLCAtMSwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5ob3Jpem9udGFsID0gb3V0LnJpZ2h0ICsgb3V0LmxlZnRcbi8vICAgb3V0LnZlcnRpY2FsID0gb3V0LnRvcCArIG91dC5ib3R0b21cbi8vICAgcmV0dXJuIG91dFxuLy8gfVxuIiwiaW1wb3J0IHtcbiAgICBFdGhlcmVhbExheW91dFN5c3RlbSwgXG4gICAgU3BhdGlhbE1ldHJpY3MsXG4gICAgTm9kZTNELCBcbiAgICBOb2RlU3RhdGUsIFxuICAgIEJveDMsXG4gICAgTWF0cml4NFxufSBmcm9tIFwiQGV0aGVyZWFsanMvY29yZS9tb2RcIlxuXG5leHBvcnQge1dlYkxheWVyM0QsIFdlYkxheWVyM0RDb250ZW50LCBXZWJSZW5kZXJlciwgVEhSRUUsIERPTSBhcyB0b0RPTX0gZnJvbSAnQGV0aGVyZWFsanMvd2ViLWxheWVyL21vZCdcbmV4cG9ydCB0eXBlIHtXZWJMYXllcjNET3B0aW9uc30gZnJvbSAnQGV0aGVyZWFsanMvd2ViLWxheWVyL21vZCdcblxuZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9jb3JlL09iamVjdDNEJyB7XG4gICAgaW50ZXJmYWNlIE9iamVjdDNEIGV4dGVuZHMgTm9kZTNEIHt9XG59XG5cbmNvbnN0IHNjcmF0Y2hNYXRyaXggPSBuZXcgTWF0cml4NFxuY29uc3Qgc2NyYXRjaE1hdHJpeDIgPSBuZXcgTWF0cml4NFxuXG5leHBvcnQgY29uc3QgVGhyZWVCaW5kaW5ncyA9IHtcbiAgICBnZXRDaGlsZHJlbihtZXRyaWNzOlNwYXRpYWxNZXRyaWNzLCBjaGlsZHJlbjpOb2RlM0RbXSkge1xuICAgICAgICBjb25zdCBub2RlT2JqID0gbWV0cmljcy5ub2RlIGFzIFRIUkVFLk9iamVjdDNEXG4gICAgICAgIGlmICghbm9kZU9iai5pc09iamVjdDNEKSByZXR1cm5cbiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVPYmouY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gbm9kZU9iai5jaGlsZHJlbltpXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRTdGF0ZShtZXRyaWNzOlNwYXRpYWxNZXRyaWNzLCBzdGF0ZTpOb2RlU3RhdGUpIHtcbiAgICAgICAgaWYgKG1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSBtZXRyaWNzLm5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYU5vZGUgPSBtZXRyaWNzLm5vZGUgYXMgVEhSRUUuQ2FtZXJhXG4gICAgICAgICAgICBjYW1lcmFOb2RlLnVwZGF0ZU1hdHJpeFdvcmxkKClcbiAgICAgICAgICAgIG1ldHJpY3Muc3lzdGVtLnZpZXdGcnVzdHVtLnNldEZyb21QZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXgoY2FtZXJhTm9kZS5wcm9qZWN0aW9uTWF0cml4KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm9kZSA9IG1ldHJpY3Mubm9kZSBhcyBUSFJFRS5NZXNoXG4gICAgICAgIGlmICghbm9kZS5pc09iamVjdDNEKSByZXR1cm5cblxuICAgICAgICBjb25zdCB0YXJnZXRSZWxhdGl2ZU1hdHJpeCA9IHNjcmF0Y2hNYXRyaXguY29tcG9zZShub2RlLnBvc2l0aW9uLCBub2RlLnF1YXRlcm5pb24sIG5vZGUuc2NhbGUpXG4gICAgICAgIGNvbnN0IHJlZldvcmxkTWF0cml4ID0gbWV0cmljcy5yZWZlcmVuY2VNZXRyaWNzPy50YXJnZXQud29ybGRNYXRyaXhcbiAgICAgICAgXG4gICAgICAgIHN0YXRlLnBhcmVudCA9IG5vZGUucGFyZW50XG4gICAgICAgIHN0YXRlLndvcmxkTWF0cml4ID0gcmVmV29ybGRNYXRyaXggPyBzY3JhdGNoTWF0cml4Mi5tdWx0aXBseU1hdHJpY2VzKHJlZldvcmxkTWF0cml4LCB0YXJnZXRSZWxhdGl2ZU1hdHJpeCkgOiB0YXJnZXRSZWxhdGl2ZU1hdHJpeFxuICAgICAgICBzdGF0ZS5vcGFjaXR5ID0gZ2V0VGhyZWVPcGFjaXR5KG1ldHJpY3MpIHx8IDFcbiAgICB9LFxuICAgIGdldEludHJpbnNpY0JvdW5kcyhtZXRyaWNzOlNwYXRpYWxNZXRyaWNzLCBib3VuZHM6Qm94Mykge1xuICAgICAgICBjb25zdCBub2RlID0gbWV0cmljcy5ub2RlIGFzIFRIUkVFLk1lc2hcbiAgICAgICAgaWYgKCFub2RlLmlzT2JqZWN0M0QpIHJldHVyblxuICAgICAgICBpZiAobm9kZS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgaWYgKCFub2RlLmdlb21ldHJ5LmJvdW5kaW5nQm94KSBub2RlLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpXG4gICAgICAgICAgICByZXR1cm4gYm91bmRzLmNvcHkobm9kZS5nZW9tZXRyeS5ib3VuZGluZ0JveCBhcyBhbnkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0sXG4gICAgYXBwbHkobWV0cmljczpTcGF0aWFsTWV0cmljcywgY3VycmVudFN0YXRlOk5vZGVTdGF0ZSkge1xuICAgICAgICBjb25zdCBub2RlID0gbWV0cmljcy5ub2RlIGFzIFRIUkVFLk1lc2hcbiAgICAgICAgaWYgKCFub2RlLmlzT2JqZWN0M0QpIHJldHVyblxuXG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUucGFyZW50ICE9PSBub2RlLnBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgbmV3UGFyZW50ID0gY3VycmVudFN0YXRlLnBhcmVudCBhcyBUSFJFRS5PYmplY3QzRFxuICAgICAgICAgICAgaWYgKG5ld1BhcmVudCkgbmV3UGFyZW50LmFkZChub2RlKVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIC8vIG5vZGUucXVhdGVybmlvbi5jb3B5KGN1cnJlbnRTdGF0ZS5sb2NhbE9yaWVudGF0aW9uKVxuICAgICAgICAvLyBub2RlLnBvc2l0aW9uLmNvcHkoY3VycmVudFN0YXRlLmxvY2FsUG9zaXRpb24pXG4gICAgICAgIC8vIG5vZGUuc2NhbGUuY29weShjdXJyZW50U3RhdGUubG9jYWxTY2FsZSlcbiAgICAgICAgbm9kZS5tYXRyaXguY29weShjdXJyZW50U3RhdGUubG9jYWxNYXRyaXgpXG4gICAgICAgIG5vZGUubWF0cml4V29ybGQuY29weShjdXJyZW50U3RhdGUud29ybGRNYXRyaXgpXG4gICAgICAgIGFwcGx5VGhyZWVPcGFjaXR5KG1ldHJpY3MsIGN1cnJlbnRTdGF0ZS5vcGFjaXR5KVxuXG4gICAgICAgIC8vIGlmIChpc05hTihjdXJyZW50U3RhdGUubG9jYWxQb3NpdGlvbi54KSkgdGhyb3cgbmV3IEVycm9yXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRUaHJlZU9wYWNpdHkobWV0cmljczpTcGF0aWFsTWV0cmljcykgOiBudW1iZXJ8dW5kZWZpbmVkIHsgICAgXG4gICAgY29uc3Qgbm9kZSA9IG1ldHJpY3Mubm9kZSBhcyBUSFJFRS5NZXNoXG4gICAgaWYgKG5vZGUubWF0ZXJpYWwpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxMaXN0ID0gbm9kZS5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFtdXG4gICAgICAgIGlmIChtYXRlcmlhbExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG0gb2YgbWF0ZXJpYWxMaXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG0ub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gbS5vcGFjaXR5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoJ29wYWNpdHknIGluIG5vZGUubWF0ZXJpYWwpIHJldHVybiBub2RlLm1hdGVyaWFsLm9wYWNpdHlcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG1ldHJpY3MuYm91bmRpbmdDaGlsZE1ldHJpY3MpIHtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGdldFRocmVlT3BhY2l0eShjaGlsZClcbiAgICAgICAgaWYgKG9wYWNpdHkgIT09IHVuZGVmaW5lZCkgcmV0dXJuIG9wYWNpdHlcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBhcHBseVRocmVlT3BhY2l0eShtZXRyaWNzOlNwYXRpYWxNZXRyaWNzLCBvcGFjaXR5Om51bWJlcikge1xuICAgIGNvbnN0IG5vZGUgPSBtZXRyaWNzLm5vZGUgYXMgVEhSRUUuTWVzaFxuICAgIGlmIChub2RlLm1hdGVyaWFsKSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsTGlzdCA9IG5vZGUubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWxbXVxuICAgICAgICBpZiAobWF0ZXJpYWxMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtIG9mIG1hdGVyaWFsTGlzdCkge1xuICAgICAgICAgICAgICAgIGlmICgnb3BhY2l0eScgaW4gbSkgbS5vcGFjaXR5ID0gb3BhY2l0eVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgKG5vZGUubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwpLm9wYWNpdHkgPSBvcGFjaXR5XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgbWV0cmljcy5ib3VuZGluZ0NoaWxkTWV0cmljcykge1xuICAgICAgICBhcHBseVRocmVlT3BhY2l0eShjaGlsZCwgb3BhY2l0eSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0QmluZGluZ3MgPSB7XG4gICAgZ2V0Q2hpbGRyZW4obWV0cmljczpTcGF0aWFsTWV0cmljcywgY2hpbGRyZW46Tm9kZTNEW10pIHtcbiAgICAgICAgaWYgKChtZXRyaWNzLm5vZGUgYXMgVEhSRUUuT2JqZWN0M0QpLmlzT2JqZWN0M0QpIHtcbiAgICAgICAgICAgIFRocmVlQmluZGluZ3MuZ2V0Q2hpbGRyZW4obWV0cmljcywgY2hpbGRyZW4pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFN0YXRlKG1ldHJpY3M6U3BhdGlhbE1ldHJpY3MsIHN0YXRlOk5vZGVTdGF0ZSkge1xuICAgICAgICBpZiAoKG1ldHJpY3Mubm9kZSBhcyBUSFJFRS5PYmplY3QzRCkuaXNPYmplY3QzRCkge1xuICAgICAgICAgICAgVGhyZWVCaW5kaW5ncy5nZXRTdGF0ZShtZXRyaWNzLCBzdGF0ZSlcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0SW50cmluc2ljQm91bmRzKG1ldHJpY3M6U3BhdGlhbE1ldHJpY3MsIGJvdW5kczpCb3gzKSB7XG4gICAgICAgIGlmICgobWV0cmljcy5ub2RlIGFzIFRIUkVFLk9iamVjdDNEKS5pc09iamVjdDNEKSB7XG4gICAgICAgICAgICBUaHJlZUJpbmRpbmdzLmdldEludHJpbnNpY0JvdW5kcyhtZXRyaWNzLCBib3VuZHMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0sXG4gICAgYXBwbHkobWV0cmljczpTcGF0aWFsTWV0cmljcywgc3RhdGU6Tm9kZVN0YXRlKSB7XG4gICAgICAgIGlmICgobWV0cmljcy5ub2RlIGFzIFRIUkVFLk9iamVjdDNEKS5pc09iamVjdDNEKSB7XG4gICAgICAgICAgICAgVGhyZWVCaW5kaW5ncy5hcHBseShtZXRyaWNzLCBzdGF0ZSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxheW91dFN5c3RlbTxUIGV4dGVuZHMgTm9kZTNEPih2aWV3Tm9kZTpULCBiaW5kaW5ncz1EZWZhdWx0QmluZGluZ3MpIHtcbiAgICByZXR1cm4gbmV3IEV0aGVyZWFsTGF5b3V0U3lzdGVtKHZpZXdOb2RlLCBiaW5kaW5ncylcbn1cblxuZXhwb3J0ICogZnJvbSAnQGV0aGVyZWFsanMvY29yZS9tb2QnXG5leHBvcnQgdHlwZSB7Tm9kZTNEfSBmcm9tICdAZXRoZXJlYWxqcy9jb3JlL21vZCdcblxuXG4vLyBpbXBvcnQge1dlYkxheWVyM0QsV2ViTGF5ZXIzRE9wdGlvbnN9IGZyb20gJ0BldGhlcmVhbGpzL3dlYi1sYXllci9tb2QnXG5cbi8vIGV4cG9ydCBjbGFzcyBBZGFwdGl2ZVdlYkxheWVyIGV4dGVuZHMgV2ViTGF5ZXIzRCB7XG4vLyAgICAgY29uc3RydWN0b3IoZWxlbWVudE9ySFRNTDpFbGVtZW50fHN0cmluZywgb3B0aW9uczpXZWJMYXllcjNET3B0aW9ucykge1xuLy8gICAgICAgICBzdXBlcihlbGVtZW50T3JIVE1MLCBvcHRpb25zKVxuLy8gICAgICAgICBjb25zdCBvTEMgPSBvcHRpb25zLm9uTGF5ZXJDcmVhdGVcbi8vICAgICAgICAgb3B0aW9ucy5vbkxheWVyQ3JlYXRlID0gKGxheWVyKSA9PiB7XG5cbi8vICAgICAgICAgICAgIG9MQz8uKGxheWVyKVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfSJdLCJuYW1lcyI6WyJoYXNPd25Qcm9wZXJ0eSIsInVpZCIsImNvbXB1dGVkIiwicCIsIltvYmplY3QgT2JqZWN0XSIsIngiLCJ5IiwidGhpcyIsInZhbHVlIiwic2NhbGFyIiwiaW5kZXgiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidiIsInciLCJ3YXJuIiwiYWRkVmVjdG9ycyIsInMiLCJhMiIsImIyIiwic3ViVmVjdG9ycyIsIm11bHRpcGx5U2NhbGFyIiwibSIsImUiLCJlbGVtZW50cyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsIm1pblZhbCIsIm1heFZhbCIsImxlbmd0aCIsImRpdmlkZVNjYWxhciIsImZsb29yIiwiY2VpbCIsInJvdW5kIiwic3FydCIsImFicyIsImF0YW4yIiwiUEkiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImR4IiwiZHkiLCJub3JtYWxpemUiLCJhbHBoYSIsInYxIiwidjIiLCJhcnJheSIsIm9mZnNldCIsImF0dHJpYnV0ZSIsImdldFgiLCJnZXRZIiwiY2VudGVyIiwiYW5nbGUiLCJjMiIsImNvcyIsInNpbiIsInJhbmRvbSIsIlZlY3RvcjIiLCJwcm90b3R5cGUiLCJpc1ZlY3RvcjIiLCJfbHV0IiwiaSIsInRvU3RyaW5nIiwiX3NlZWQiLCJERUcyUkFEIiwiUkFEMkRFRyIsIm4iLCJ0IiwiZDAiLCJkMSIsImQyIiwiZDMiLCJ0b1VwcGVyQ2FzZSIsImExIiwiYjEiLCJsYW1iZGEiLCJkdCIsImxlcnAiLCJleHAiLCJldWNsaWRlYW5Nb2R1bG8iLCJsb3ciLCJoaWdoIiwicmFuZ2UiLCJkZWdyZWVzIiwicmFkaWFucyIsInBvdyIsImxvZyIsIkxOMiIsInEiLCJvcmRlciIsImNvczIiLCJzaW4yIiwiYzIyIiwiczIiLCJjMTMiLCJzMTMiLCJjMV8zIiwiczFfMyIsImMzXzEiLCJzM18xIiwic2V0IiwieiIsIl94IiwiX3kiLCJfeiIsIl93IiwicWEiLCJxYiIsInFtIiwic2xlcnBRdWF0ZXJuaW9ucyIsImRzdCIsImRzdE9mZnNldCIsInNyYzAiLCJzcmNPZmZzZXQwIiwic3JjMSIsInNyY09mZnNldDEiLCJ4MCIsInkwIiwiejAiLCJ3MCIsIngxIiwieTEiLCJ6MSIsIncxIiwiZGlyIiwic3FyU2luIiwiTnVtYmVyIiwiRVBTSUxPTiIsImxlbiIsInREaXIiLCJmIiwiX29uQ2hhbmdlQ2FsbGJhY2siLCJxdWF0ZXJuaW9uIiwiZXVsZXIiLCJ1cGRhdGUiLCJpc0V1bGVyIiwiX29yZGVyIiwiYzEiLCJjMyIsInMxIiwiczMiLCJheGlzIiwiaGFsZkFuZ2xlIiwidGUiLCJtMTEiLCJtMTIiLCJtMTMiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMzEiLCJtMzIiLCJtMzMiLCJ0cmFjZSIsInZGcm9tIiwidlRvIiwiciIsImRvdCIsImFjb3MiLCJNYXRoVXRpbHMuY2xhbXAiLCJzdGVwIiwiYW5nbGVUbyIsInNsZXJwIiwiY29uanVnYXRlIiwibCIsIm11bHRpcGx5UXVhdGVybmlvbnMiLCJxYXgiLCJxYXkiLCJxYXoiLCJxYXciLCJxYngiLCJxYnkiLCJxYnoiLCJxYnciLCJjb3B5IiwiY29zSGFsZlRoZXRhIiwic3FyU2luSGFsZlRoZXRhIiwic2luSGFsZlRoZXRhIiwiaGFsZlRoZXRhIiwicmF0aW9BIiwicmF0aW9CIiwiZ2V0WiIsImdldFciLCJjYWxsYmFjayIsIlF1YXRlcm5pb24iLCJpc1F1YXRlcm5pb24iLCJtdWx0aXBseVZlY3RvcnMiLCJlcnJvciIsImFwcGx5UXVhdGVybmlvbiIsIl9xdWF0ZXJuaW9uIiwic2V0RnJvbUV1bGVyIiwic2V0RnJvbUF4aXNBbmdsZSIsImFwcGx5TWF0cml4MyIsInF4IiwicXkiLCJxeiIsInF3IiwiaXgiLCJpeSIsIml6IiwiaXciLCJjYW1lcmEiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZEludmVyc2UiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGlvbk1hdHJpeEludmVyc2UiLCJtYXRyaXhXb3JsZCIsImNyb3NzVmVjdG9ycyIsImF4IiwiYXkiLCJheiIsImJ4IiwiYnkiLCJieiIsImRlbm9taW5hdG9yIiwibGVuZ3RoU3EiLCJwbGFuZU5vcm1hbCIsInByb2plY3RPblZlY3RvciIsInN1YiIsIl92ZWN0b3IiLCJub3JtYWwiLCJ0aGV0YSIsImR6Iiwic2V0RnJvbVNwaGVyaWNhbENvb3JkcyIsInJhZGl1cyIsInBoaSIsInNpblBoaVJhZGl1cyIsInNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsInN4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsInN5Iiwic3oiLCJmcm9tQXJyYXkiLCJWZWN0b3IzIiwiaXNWZWN0b3IzIiwiYXJndW1lbnRzIiwibjExIiwibjEyIiwibjEzIiwibjE0IiwibjIxIiwibjIyIiwibjIzIiwibjI0IiwibjMxIiwibjMyIiwibjMzIiwibjM0IiwibjQxIiwibjQyIiwibjQzIiwibjQ0IiwiTWF0cml4NCIsIm1lIiwieEF4aXMiLCJ5QXhpcyIsInpBeGlzIiwic2NhbGVYIiwiX3YxIiwic2NhbGVZIiwic2NhbGVaIiwiZCIsImFlIiwiYWYiLCJiZSIsImJmIiwiY2UiLCJjZiIsImRlIiwiZGYiLCJhYyIsImFkIiwiYmMiLCJiZCIsImNvbXBvc2UiLCJfemVybyIsIl9vbmUiLCJleWUiLCJ0YXJnZXQiLCJ1cCIsIm11bHRpcGx5TWF0cmljZXMiLCJhMTEiLCJhMTIiLCJhMTMiLCJhMTQiLCJhMjEiLCJhMjIiLCJhMjMiLCJhMjQiLCJhMzEiLCJhMzIiLCJhMzMiLCJhMzQiLCJhNDEiLCJhNDIiLCJhNDMiLCJhNDQiLCJiMTEiLCJiMTIiLCJiMTMiLCJiMTQiLCJiMjEiLCJiMjIiLCJiMjMiLCJiMjQiLCJiMzEiLCJiMzIiLCJiMzMiLCJiMzQiLCJiNDEiLCJiNDIiLCJiNDMiLCJiNDQiLCJ0bXAiLCJ0MTEiLCJ0MTIiLCJ0MTMiLCJ0MTQiLCJkZXQiLCJkZXRJbnYiLCJzY2FsZVhTcSIsInNjYWxlWVNxIiwic2NhbGVaU3EiLCJ0eCIsInR5IiwieHkiLCJ4eiIsInl4IiwieXoiLCJ6eCIsInp5IiwicG9zaXRpb24iLCJzY2FsZSIsIngyIiwieTIiLCJ6MiIsInh4IiwieXkiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsImRldGVybWluYW50IiwiaW52U1giLCJpbnZTWSIsImludlNaIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwiX20xIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwibmVhciIsImZhciIsImgiLCJtYXRyaXgiLCJpc01hdHJpeDQiLCJfY29sb3JLZXl3b3JkcyIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmVlbiIsImRhcmtncmV5IiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZWVuIiwiZ3JlZW55ZWxsb3ciLCJncmV5IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JlZW4iLCJsaWdodGdyZXkiLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGFuIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiX2hzbEEiLCJfaHNsQiIsImciLCJzZXRSR0IiLCJpc0NvbG9yIiwic2V0SGV4Iiwic2V0U3R5bGUiLCJiIiwiaGV4IiwiTWF0aFV0aWxzLmV1Y2xpZGVhbk1vZHVsbyIsImh1ZTJyZ2IiLCJzdHlsZSIsInN0cmluZyIsInBhcnNlRmxvYXQiLCJleGVjIiwiY29sb3IiLCJuYW1lMiIsImNvbXBvbmVudHMiLCJwYXJzZUludCIsInNldEhTTCIsInNpemUyIiwiY2hhckF0Iiwic2V0Q29sb3JOYW1lIiwidG9Mb3dlckNhc2UiLCJnYW1tYUZhY3RvciIsInNhZmVJbnZlcnNlIiwiY29weUdhbW1hVG9MaW5lYXIiLCJjb3B5TGluZWFyVG9HYW1tYSIsIlNSR0JUb0xpbmVhciIsIkxpbmVhclRvU1JHQiIsImNvcHlTUkdCVG9MaW5lYXIiLCJjb3B5TGluZWFyVG9TUkdCIiwiZ2V0SGV4Iiwic2xpY2UiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiZGVsdGEiLCJnZXRIU0wiLCJjb2xvcjEiLCJjb2xvcjIiLCJNYXRoVXRpbHMubGVycCIsIm5vcm1hbGl6ZWQiLCJDb2xvciIsIk5BTUVTIiwiSW5maW5pdHkiLCJwb2ludHMiLCJtYWtlRW1wdHkiLCJpbCIsImV4cGFuZEJ5UG9pbnQiLCJoYWxmU2l6ZSIsImFkZCIsImJveCIsImlzRW1wdHkiLCJwb2ludCIsInZlY3RvciIsImFkZFNjYWxhciIsImNsYW1wIiwiZXF1YWxzIiwiQm94MiIsImlzQm94MiIsIm1pblgiLCJtaW5ZIiwibWluWiIsIm1heFgiLCJtYXhZIiwibWF4WiIsImNvdW50Iiwib2JqZWN0IiwiZXhwYW5kQnlPYmplY3QiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsImdlb21ldHJ5IiwiYm91bmRpbmdCb3giLCJjb21wdXRlQm91bmRpbmdCb3giLCJ1bmlvbiIsIl9ib3giLCJjaGlsZHJlbiIsInNwaGVyZSIsImNsYW1wUG9pbnQiLCJwbGFuZSIsImNvbnN0YW50IiwidHJpYW5nbGUiLCJnZXRDZW50ZXIiLCJfY2VudGVyIiwiYSIsImMiLCJfdjAiLCJfdjIiLCJheGVzIiwiX2YwIiwiX2YxIiwiX2YyIiwic2F0Rm9yQXhlcyIsIl9leHRlbnRzIiwiX3RyaWFuZ2xlTm9ybWFsIiwiZ2V0U2l6ZSIsInNldEZyb21Qb2ludHMiLCJfcG9pbnRzIiwiQm94MyIsImlzQm94MyIsIl90ZXN0QXhpcyIsInYwIiwiZXh0ZW50cyIsImoiLCJwMCIsInAxIiwicDIiLCJzZXRGcm9tTWF0cml4M0NvbHVtbiIsIm1hdHJpeDQiLCJzZXRGcm9tTWF0cml4NCIsImludmVydCIsInRyYW5zcG9zZSIsInJvdGF0aW9uIiwiY3giLCJjeSIsIk1hdHJpeDMiLCJpc01hdHJpeDMiLCJPYmplY3QiLCJmcmVlemUiLCJSSUdIVCIsIlVQIiwiTkVBUiIsIkxFRlQiLCJET1dOIiwiRkFSIiwiXzJQSSIsIlZfMDAxMiIsInR3aXN0Iiwic3dpbmciLCJzd2luZ0F4aXMiLCJvdXQiLCJ0d2lzdFNjYWxlIiwic3dpbmdTY2FsZSIsInR3aXN0TWFnbml0dWRlIiwic3dpbmdEaXJlY3Rpb24iLCJzd2luZ01hZ25pdHVkZSIsImFwcGx5QXhpc0FuZ2xlIiwidmVjIiwicm90IiwiZGlyZWN0aW9uIiwicm90QXhpcyIsImRvdFByb2QiLCJwcm9qZWN0aW9uIiwicmV2ZXJzZWQiLCJlYXNpbmcyIiwibWlycm9yZWQiLCJjcmVhdGVSZXZlcnNlZEVhc2luZyIsImNyZWF0ZU1pcnJvcmVkRWFzaW5nIiwiY3JlYXRlRXhwb0luIiwicG93ZXIiLCJjcmVhdGVCYWNrSW4iLCJjcmVhdGVBbnRpY2lwYXRlRWFzaW5nIiwiYmFja0Vhc2luZyIsImVhc2VJbiIsImVhc2VPdXQiLCJlYXNlSW5PdXQiLCJjaXJjSW4iLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJib3VuY2VPdXQiLCJGTE9BVF8zMl9TVVBQT1JURUQiLCJGbG9hdDMyQXJyYXkiLCJnZXRTbG9wZSIsImNhbGNCZXppZXIiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJBcnJheSIsImdldFRGb3JYIiwiYVgiLCJkaXN0MiIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwiS19TUExJTkVfVEFCTEVfU0laRSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYmluYXJ5U3ViZGl2aWRlIiwiaXNCaWdOdW1iZXIiLCJnZXRQcm90b3R5cGVPZiIsImlzQ29tcGxleCIsImlzRnJhY3Rpb24iLCJpc1VuaXQiLCJpc0FycmF5IiwiaXNNYXRyaXgiLCJpc0RlbnNlTWF0cml4IiwiaXNTcGFyc2VNYXRyaXgiLCJpc1JhbmdlIiwiaXNJbmRleCIsImlzUmVzdWx0U2V0IiwiaXNIZWxwIiwiRGF0ZSIsIlJlZ0V4cCIsImlzQWNjZXNzb3JOb2RlIiwiaXNOb2RlIiwiaXNBcnJheU5vZGUiLCJpc0Fzc2lnbm1lbnROb2RlIiwiaXNCbG9ja05vZGUiLCJpc0NvbmRpdGlvbmFsTm9kZSIsImlzQ29uc3RhbnROb2RlIiwiaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiaXNGdW5jdGlvbk5vZGUiLCJpc0luZGV4Tm9kZSIsImlzT2JqZWN0Tm9kZSIsImlzT3BlcmF0b3JOb2RlIiwiaXNQYXJlbnRoZXNpc05vZGUiLCJpc1JhbmdlTm9kZSIsImlzU3ltYm9sTm9kZSIsImlzQ2hhaW4iLCJ0eXBlIiwiY2xvbmUiLCJtYXAiLCJ2YWx1ZU9mIiwiVHlwZUVycm9yIiwibWFwT2JqZWN0IiwiY2xvbmUyIiwia2V5IiwicHJvcCIsImRlZXBTdHJpY3RFcXVhbCIsInByb3BlcnR5IiwiY2FsbCIsIl90eXBlcyIsIm5hbWUiLCJ0ZXN0IiwiYW55VHlwZSIsIm9rIiwiX2lnbm9yZSIsIl9jb252ZXJzaW9ucyIsInR5cGVkIiwidHlwZXMiLCJjb252ZXJzaW9ucyIsImlnbm9yZSIsInR5cGVOYW1lIiwiZW50cnkiLCJmaW5kSW5BcnJheSIsImVudHJ5MiIsImhpbnQiLCJpbmRleE9mIiwiZm4iLCJzaWduYXR1cmUiLCJzaWduYXR1cmVzIiwiYXJyIiwic3BsaXQiLCJ0cmltIiwic3RyIiwiam9pbiIsIm1hdGNoIiwiZnJvbSIsImZpbmRUeXBlTmFtZSIsImNvbnZlcnNpb24iLCJ0byIsImNvbnZlcnQiLCJwYXJhbXMiLCJwYXJhbSIsInR5cGVOYW1lcyIsImdldFR5cGVOYW1lIiwicmVzdFBhcmFtIiwiZmlsdGVyIiwibm90RW1wdHkiLCJub3RJZ25vcmUiLCJtYXRjaGluZ0NvbnZlcnNpb25zIiwiZmlsdGVyQ29udmVyc2lvbnMiLCJleGFjdFR5cGVzIiwiZmluZFR5cGVCeU5hbWUiLCJ0eXBlSW5kZXgiLCJmaW5kVHlwZUluZGV4IiwiY29udmVyc2lvbkluZGV4IiwiY29udmVydGlibGVUeXBlcyIsImNvbmNhdCIsInBhcnNlZFBhcmFtIiwicGFyc2VQYXJhbSIsIlN5bnRheEVycm9yIiwic29tZSIsImlzSW52YWxpZFBhcmFtIiwibGFzdCIsInRlc3QwIiwidGVzdDEiLCJ0ZXN0cyIsImhhc1Jlc3RQYXJhbSIsInZhckluZGV4IiwiaW5pdGlhbCIsImNvbXBpbGVUZXN0IiwibGFzdFRlc3QiLCJ0ZXN0UmVzdFBhcmFtIiwiYXJncyIsImV4Y2x1ZGVDb252ZXJzaW9ucyIsImdldFBhcmFtQXRJbmRleCIsImlzRXhhY3RUeXBlIiwidW5pcSIsImZsYXRNYXAiLCJnZXRFeHBlY3RlZFR5cGVOYW1lcyIsImVyciIsImV4cGVjdGVkIiwiX25hbWUiLCJtYXRjaGluZ1NpZ25hdHVyZXMiLCJuZXh0TWF0Y2hpbmdEZWZzIiwibWVyZ2VFeHBlY3RlZFBhcmFtcyIsImFjdHVhbFR5cGUiLCJkYXRhIiwiY2F0ZWdvcnkiLCJhY3R1YWwiLCJsZW5ndGhzIiwiYXBwbHkiLCJtYXhMZW5ndGgiLCJleHBlY3RlZExlbmd0aCIsInBhcmFtMSIsInBhcmFtMiIsImhhc0NvbnZlcnNpb25zIiwiZ2V0TG93ZXN0VHlwZUluZGV4IiwiZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4Iiwic2lnbmF0dXJlMSIsInNpZ25hdHVyZTIiLCJjb21wYXJlUGFyYW1zIiwibWF0Y2hlcyIsImZvckVhY2giLCJrZXlzIiwiZm5Db252ZXJ0IiwiY29tcGlsZWRDb252ZXJzaW9ucyIsImNvbXBpbGVBcmdDb252ZXJzaW9uIiwibGFzdDIiLCJmblByZXByb2Nlc3MiLCJjb252ZXJzaW9uMCIsImNvbnZlcnNpb24xIiwicHVzaCIsImFyZyIsInNpZ25hdHVyZXNNYXAiLCJzdHJpbmdpZnlQYXJhbXMiLCJpZ25vcmVDb252ZXJzaW9uVHlwZXMiLCJwYXJhbXMyIiwidHlwZUdyb3VwcyIsImZpbHRlcmVkVHlwZXMiLCJ0eXBlR3JvdXAiLCJfc3BsaXRQYXJhbXMiLCJpaSIsImhhc092ZXJsYXAiLCJsZW4xIiwibGVuMiIsInJlc3RQYXJhbTEiLCJyZXN0UGFyYW0yIiwicGFyc2VkU2lnbmF0dXJlcyIsInBhcnNlU2lnbmF0dXJlIiwibm90TnVsbCIsInBhcnNlZFNpZ25hdHVyZSIsImNvbmZsaWN0aW5nU2lnbmF0dXJlIiwiaGFzQ29uZmxpY3RpbmdQYXJhbXMiLCJzcGxpdFBhcmFtcyIsInNvcnQiLCJjb21wYXJlU2lnbmF0dXJlcyIsIm9rMCIsIm9rMSIsIm9rMiIsIm9rMyIsIm9rNCIsIm9rNSIsImFsbE9rIiwiY29tcGlsZVRlc3RzIiwidGVzdDAwIiwibm90T2siLCJ0ZXN0MTAiLCJ0ZXN0MjAiLCJ0ZXN0MzAiLCJ0ZXN0NDAiLCJ0ZXN0NTAiLCJ0ZXN0MDEiLCJ0ZXN0MTEiLCJ0ZXN0MjEiLCJ0ZXN0MzEiLCJ0ZXN0NDEiLCJ0ZXN0NTEiLCJmbnMiLCJjb21waWxlQXJnc1ByZXByb2Nlc3NpbmciLCJmbjAiLCJ1bmRlZiIsImZuMSIsImZuMiIsImZuMyIsImZuNCIsImZuNSIsImxlbjAiLCJsZW4zIiwibGVuNCIsImxlbjUiLCJpU3RhcnQiLCJpRW5kIiwiZ2VuZXJpYyIsImNyZWF0ZUVycm9yIiwiYXJnMCIsImFyZzEiLCJmbjYiLCJkZWZpbmVQcm9wZXJ0eSIsImNyZWF0ZVNpZ25hdHVyZXNNYXAiLCJzdGFydCIsImVuZCIsIml0ZW0iLCJhcnJheTEiLCJhcnJheTIiLCJjb250YWluczIiLCJlbnRyaWVzIiwiX3NpZ25hdHVyZSIsIl9mbiIsImNyZWF0ZVR5cGVkRnVuY3Rpb24iLCJzdHJpbmcsIE9iamVjdCIsImdldE5hbWUiLCIuLi5GdW5jdGlvbiIsImV4dHJhY3RTaWduYXR1cmVzIiwic3RyaW5nLCAuLi5GdW5jdGlvbiIsImNyZWF0ZSIsImNyZWF0ZTIiLCJmaW5kIiwiYWRkVHlwZSIsImJlZm9yZU9iamVjdFRlc3QiLCJzcGxpY2UiLCJhZGRDb252ZXJzaW9uIiwiZmFjdG9yeTIiLCJpc0Zpbml0ZSIsInNpZ24iLCJvcHRpb25zIiwiaXNOYU4iLCJwcmVjaXNpb24iLCJub3RhdGlvbiIsImlzTnVtYmVyIiwidG9GaXhlZCIsInRvRXhwb25lbnRpYWwiLCJTdHJpbmciLCJyb3VuZGVkIiwicm91bmREaWdpdHMiLCJzcGxpdE51bWJlciIsImV4cG9uZW50IiwiY29lZmZpY2llbnRzIiwibmV3RXhwIiwibWlzc2luZ1plcm9zIiwiZXhwRGlmZiIsImRlY2ltYWxJZHgiLCJkZWNpbWFscyIsImRlY2ltYWxWYWwiLCJ0b0VuZ2luZWVyaW5nIiwibG93ZXJFeHAiLCJ1cHBlckV4cCIsInplcm9zIiwidG9QcmVjaXNpb24iLCJyZXBsYWNlIiwiZGlnaXRzMiIsInNpZ24yIiwiemVyb3MyIiwic3BsaXRWYWx1ZSIsInBwIiwiZmlyc3QiLCJzaGlmdCIsInVuc2hpZnQiLCJwb3AiLCJEQkxfRVBTSUxPTiIsImVwc2lsb24iLCJkaWZmIiwiZ3QiLCJ2YWx1ZVdpdGhvdXRFeHAiLCJtdWwiLCJ2YWx1ZVN0ciIsImlzWmVybyIsInRvU2lnbmlmaWNhbnREaWdpdHMiLCJleHAyIiwidGV4dCIsInNlYXJjaCIsInN1YnN0cmluZyIsImZvcm1hdE51bWJlciIsImZvcm1hdEJpZ051bWJlciIsImxvb2tzTGlrZUZyYWN0aW9uIiwiZnJhY3Rpb24iLCJmb3JtYXRBcnJheSIsImlzU3RyaW5nIiwic3ludGF4IiwiZm9ybWF0IiwiZXNjYXBlZCIsInJlbGF0aW9uIiwiRGltZW5zaW9uRXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJJbmRleEVycm9yIiwiZGltIiwiZGltTmV4dCIsImNoaWxkIiwiaXNJbnRlZ2VyIiwiZGVmYXVsdFZhbHVlIiwiZWxlbSIsIm9sZExlbiIsIm5ld0xlbiIsIm1pbkxlbiIsInNpemVzIiwibmV3QXJyYXkiLCJmbGF0QXJyYXkiLCJmbGF0IiwiZmxhdHRlbiIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwicHJvZHVjdCIsImFycmF5U2l6ZSIsInRvdGFsU2l6ZSIsInNpemVJbmRleCIsInRtcEFycmF5MiIsInRtcEFycmF5IiwiX3Jlc2hhcGUiLCJkaW1zIiwib3V0ZXIiLCJfdW5zcXVlZXplIiwibmV4dCIsInNlcGFyYXRvciIsInR5cGVPZjIiLCJpc0FycmF5MiIsIml0ZW1UeXBlIiwiZ2V0QXJyYXlEYXRhVHlwZSIsImRlcGVuZGVuY2llczIiLCJtZXRhIiwic2NvcGUiLCJkZXBzIiwicHJvcGVydGllczIiLCJwaWNrU2hhbGxvdyIsInN0cmlwT3B0aW9uYWxOb3RhdGlvbiIsImRlcGVuZGVuY3kiLCJpc09wdGlvbmFsRGVwZW5kZW5jeSIsImV2ZXJ5IiwibWlzc2luZ0RlcGVuZGVuY2llcyIsImlzRmFjdG9yeSIsImRlcGVuZGVuY2llcyIsImFzc2VydEFuZENyZWF0ZSIsIlJhbmdlRXJyb3IiLCJpc0RpbWVuc2lvbkVycm9yIiwiaXNJbmRleEVycm9yIiwiX2NyZWF0ZVR5cGVkMiIsInR5cGVkRnVuY3Rpb24iLCJjcmVhdGVUeXBlZCIsIl9yZWYiLCJCaWdOdW1iZXIiLCJDb21wbGV4IiwiRGVuc2VNYXRyaXgiLCJGcmFjdGlvbiIsImlzQm9vbGVhbiIsImlzRnVuY3Rpb24iLCJpc0RhdGUiLCJpc1JlZ0V4cCIsImlzTnVsbCIsImlzVW5kZWZpbmVkIiwiaXNPYmplY3QiLCJDb21wbGV4MiIsInRvTnVtYmVyIiwiRnJhY3Rpb24yIiwiaW5leGFjdCIsInF1YWRyYW50IiwiY3JlYXRlUmVzdWx0U2V0IiwiUmVzdWx0U2V0IiwidG9KU09OIiwibWF0aGpzIiwiZnJvbUpTT04iLCJqc29uIiwiaXNDbGFzcyIsIkVYUF9MSU1JVCIsIk5VTUVSQUxTIiwiTE4xMCIsIkRFRkFVTFRTIiwicm91bmRpbmciLCJtb2R1bG8iLCJ0b0V4cE5lZyIsInRvRXhwUG9zIiwibWluRSIsIm1heEUiLCJjcnlwdG8iLCJleHRlcm5hbCIsImludmFsaWRBcmd1bWVudCIsImRlY2ltYWxFcnJvciIsIm1hdGhmbG9vciIsIm1hdGhwb3ciLCJpc0JpbmFyeSIsImlzSGV4IiwiaXNPY3RhbCIsImlzRGVjaW1hbCIsIkJBU0UiLCJMTjEwX1BSRUNJU0lPTiIsIlBJX1BSRUNJU0lPTiIsIlAiLCJrIiwid3MiLCJpbmRleE9mTGFzdFdvcmQiLCJnZXRaZXJvU3RyaW5nIiwicm0iLCJyZXBlYXRpbmciLCJkaSIsInJkIiwiYmFzZUluIiwiYmFzZU91dCIsImFyckwiLCJzdHJMIiwicmV2ZXJzZSIsImFic29sdXRlVmFsdWUiLCJmaW5hbGlzZSIsImNvbXBhcmVkVG8iLCJjbXAiLCJ4ZEwiLCJ5ZEwiLCJ4ZCIsInlkIiwieHMiLCJ5cyIsIk5hTiIsImNvc2luZSIsInByIiwiQ3RvciIsInNkIiwidGlueVBvdyIsInRheWxvclNlcmllcyIsInRpbWVzIiwiY29zMngiLCJtaW51cyIsInBsdXMiLCJ0b0xlc3NUaGFuSGFsZlBpIiwibmVnIiwiY3ViZVJvb3QiLCJjYnJ0IiwicmVwIiwidDMiLCJ0M3BsdXN4IiwiZGlnaXRzVG9TdHJpbmciLCJkaXZpZGUiLCJlcSIsImRlY2ltYWxQbGFjZXMiLCJkcCIsImRpdmlkZWRCeSIsImRpdiIsImRpdmlkZWRUb0ludGVnZXJCeSIsImRpdlRvSW50IiwiZ3JlYXRlclRoYW4iLCJncmVhdGVyVGhhbk9yRXF1YWxUbyIsImd0ZSIsImh5cGVyYm9saWNDb3NpbmUiLCJjb3NoIiwib25lIiwiY29zaDJfeCIsImQ4IiwiaHlwZXJib2xpY1NpbmUiLCJzaW5oIiwic2luaDJfeCIsImQ1IiwiZDE2IiwiZDIwIiwiaHlwZXJib2xpY1RhbmdlbnQiLCJ0YW5oIiwiaW52ZXJzZUNvc2luZSIsImhhbGZQaSIsImlzTmVnIiwiZ2V0UGkiLCJhc2luIiwiaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUiLCJhY29zaCIsImx0ZSIsImxuIiwiaW52ZXJzZUh5cGVyYm9saWNTaW5lIiwiYXNpbmgiLCJpbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQiLCJhdGFuaCIsIndwciIsInhzZCIsImludmVyc2VTaW5lIiwiYXRhbiIsImludmVyc2VUYW5nZW50IiwicHgiLCJpc0ludCIsImlzTmVnYXRpdmUiLCJpc1Bvc2l0aXZlIiwiaXNQb3MiLCJsZXNzVGhhbiIsImx0IiwibGVzc1RoYW5PckVxdWFsVG8iLCJsb2dhcml0aG0iLCJiYXNlIiwiaXNCYXNlMTAiLCJpbmYiLCJudW0iLCJuYXR1cmFsTG9nYXJpdGhtIiwiZ2V0TG4xMCIsImNoZWNrUm91bmRpbmdEaWdpdHMiLCJ4ZSIsInhMVHkiLCJnZXRCYXNlMTBFeHBvbmVudCIsIm1vZCIsIm5hdHVyYWxFeHBvbmVudGlhbCIsIm5lZ2F0ZWQiLCJjYXJyeSIsImdldFByZWNpc2lvbiIsInNpbmUiLCJzaW4yX3giLCJzcXVhcmVSb290IiwidGFuZ2VudCIsInJMIiwidG9CaW5hcnkiLCJ0b1N0cmluZ0JpbmFyeSIsInRvRGVjaW1hbFBsYWNlcyIsInRvRFAiLCJmaW5pdGVUb1N0cmluZyIsInRvRnJhY3Rpb24iLCJtYXhEIiwibjAiLCJ0b0hleGFkZWNpbWFsIiwidG9IZXgiLCJ0b05lYXJlc3QiLCJ0b09jdGFsIiwidG9Qb3dlciIsInluIiwiaW50UG93IiwidG9TRCIsInRydW5jYXRlZCIsInRydW5jIiwidGVtcCIsImFMIiwiYkwiLCJsb2dCYXNlIiwibW9yZSIsInByb2QiLCJwcm9kTCIsInFkIiwicmVtIiwicmVtTCIsInJlbTAiLCJ4aSIsInhMIiwieWQwIiwieUwiLCJtdWx0aXBseUludGVnZXIiLCJjb21wYXJlIiwiaXNUcnVuY2F0ZWQiLCJyb3VuZFVwIiwieGRpIiwiaXNFeHAiLCJub25GaW5pdGVUb1N0cmluZyIsInpzIiwidHJ1bmNhdGUiLCJsdGd0IiwiZ3VhcmQiLCJwb3cyIiwic3VtIiwiYzAiLCJudW1lcmF0b3IiLCJjaGFyQ29kZUF0IiwiaXNIeXBlcmJvbGljIiwidSIsInBpIiwiaXNPZGQiLCJjb252ZXJ0QmFzZSIsIm9iaiIsInVzZURlZmF1bHRzIiwiZGVmYXVsdHMiLCJwcyIsImdldFJhbmRvbVZhbHVlcyIsInJhbmRvbUJ5dGVzIiwiRGVjaW1hbCIsIm1heE9yTWluIiwiVWludDMyQXJyYXkiLCJTeW1ib2wiLCJmb3IiLCJ0b1N0cmluZ1RhZyIsImkyIiwiRGVjaW1hbDIiLCJwYXJzZURlY2ltYWwiLCJkaXZpc29yIiwiaXNGbG9hdCIsInBhcnNlT3RoZXIiLCJST1VORF9VUCIsIlJPVU5EX0RPV04iLCJST1VORF9DRUlMIiwiUk9VTkRfRkxPT1IiLCJST1VORF9IQUxGX1VQIiwiUk9VTkRfSEFMRl9ET1dOIiwiUk9VTkRfSEFMRl9FVkVOIiwiUk9VTkRfSEFMRl9DRUlMIiwiUk9VTkRfSEFMRl9GTE9PUiIsIkVVQ0xJRCIsImNvbmZpZyIsImlzRGVjaW1hbEluc3RhbmNlIiwiaHlwb3QiLCJsb2cxMCIsImxvZzIiLCJjcmVhdGVCaWdOdW1iZXJDbGFzcyIsIm9uIiwiY29uZmlnMiIsInJvb3QiLCJjb3NoMiIsInNpbmgyIiwicGFyc2VyX2V4aXQiLCJfYTIiLCJfYjIiLCJyZSIsImltIiwidG9rZW5zIiwicGFyc2UiLCJhYnMyIiwibG9oIiwibG9nSHlwb3QiLCJleHBtMSIsImxpbWl0IiwiY29zbTEiLCJjb3QiLCJzZWMiLCJjc2MiLCJ0MSIsInQyIiwiYWNvdCIsImFzZWMiLCJhY3NjIiwiY290aCIsImNzY2giLCJzZWNoIiwicmVzIiwibm9JTSIsIm9uZU1pbnVzIiwib25lUGx1cyIsImFjb3RoIiwiYWNzY2giLCJhc2VjaCIsImludmVyc2UiLCJwbGFjZXMiLCJyZXQiLCJ0b1ZlY3RvciIsImlzSW5maW5pdGUiLCJFIiwiY3JlYXRlQ29tcGxleENsYXNzIiwidG9Qb2xhciIsInN0clJlIiwic3RySW0iLCJmcm9tUG9sYXIiLCJoYXNCYXNlIiwiUDIiLCJJbnRlcm1lZGlhdGVJbmhlcml0b3IiLCJlcnJvckNvbnN0cnVjdG9yIiwiRGl2aXNpb25CeVplcm8iLCJJbnZhbGlkUGFyYW1ldGVyIiwiZmFjdG9ycyIsIk0iLCJBIiwiQiIsIkMiLCJEIiwiTiIsImFzc2lnbiIsImdjZCIsImxjbSIsImZhY3Rvcml6ZSIsInNpbXBsaWZ5IiwiZXBzIiwiY29udCIsInJlYyIsImRpdmlzaWJsZSIsImV4Y2x1ZGVXaG9sZSIsIndob2xlIiwidG9MYXRleCIsInRvQ29udGludWVkIiwiZGVjIiwiY3ljTGVuIiwiY3ljbGVMZW4iLCJjeWNPZmYiLCJyZW0xIiwicmVtMiIsIm1vZHBvdyIsImN5Y2xlU3RhcnQiLCJjcmVhdGVGcmFjdGlvbkNsYXNzIiwiY3JlYXRlUmFuZ2VDbGFzcyIsIlJhbmdlIiwiaGFzU3RhcnQiLCJoYXNFbmQiLCJoYXNTdGVwIiwibnVtcyIsInNpemUiLCJ0b0FycmF5IiwiY3JlYXRlTWF0cml4Q2xhc3MiLCJNYXRyaXgiLCJzdG9yYWdlIiwiZGF0YXR5cGUiLCJzdWJzZXQiLCJyZXBsYWNlbWVudCIsImdldCIsInJlc2l6ZSIsInJlc2hhcGUiLCJza2lwWmVyb3MiLCJjcmVhdGVEZW5zZU1hdHJpeENsYXNzIiwiX2RhdGEiLCJfc2l6ZSIsIl9kYXRhdHlwZSIsInByZXByb2Nlc3MiLCJ0eXBlT2YiLCJpc1NjYWxhciIsIl9nZXRTdWJtYXRyaXgiLCJkaW1lbnNpb24iLCJzdWJtYXRyaXgiLCJzU2l6ZSIsImlTaXplIiwidW5zcXVlZXplIiwiZGF0YUluZGV4Iiwic3ViSW5kZXgiLCJuZXdTaXplIiwiY2hhbmdlZCIsImNyZWF0ZURlbnNlTWF0cml4IiwiZ2V0RGF0YVR5cGUiLCJfZ2V0IiwiX3NldCIsImluZGV4SSIsImlzQ29sbGVjdGlvbiIsInNpemVBcnJheSIsIl9yZXNpemUyIiwicmVjdXJzZTIiLCJyZWN1cnNlIiwiZGlhZ29uYWwiLCJrU3VwZXIiLCJrU3ViIiwicm93cyIsImNvbHVtbnMiLCJfdmFsdWUiLCJtcyIsInN3YXBSb3dzIiwiX3N3YXBSb3dzIiwidmkiLCJkZWVwTWFwIiwibjEiLCJuMiIsImFic051bWJlciIsImFkZE51bWJlciIsIm11bHRpcGx5TnVtYmVyIiwidW5hcnlNaW51c051bWJlciIsImNlaWxOdW1iZXIiLCJtb2ROdW1iZXIiLCJwb3dOdW1iZXIiLCJyb3VuZE51bWJlciIsImNyZWF0ZUlzTnVtZXJpYyIsIm51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiIsIkNvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCB8IE5vZGUiLCJBcnJheSB8IE1hdHJpeCIsImNyZWF0ZUVxdWFsU2NhbGFyIiwiYm9vbGVhbiwgYm9vbGVhbiIsIm51bWJlciwgbnVtYmVyIiwibmVhcmx5RXF1YWwiLCJCaWdOdW1iZXIsIEJpZ051bWJlciIsImJpZ05lYXJseUVxdWFsIiwiRnJhY3Rpb24sIEZyYWN0aW9uIiwiQ29tcGxleCwgQ29tcGxleCIsImNvbXBsZXhFcXVhbHMiLCJVbml0LCBVbml0IiwiZXF1YWxCYXNlIiwiZmFjdG9yeSIsIl9yZWYyIiwiY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3MiLCJlcXVhbFNjYWxhciIsIlNwYXJzZU1hdHJpeCIsInNvdXJjZSIsIl92YWx1ZXMiLCJfaW5kZXgiLCJfcHRyIiwicHRyIiwidmFsdWVzIiwiemVybyIsInJvdyIsImlkeCIsImtrIiwibXZhbHVlcyIsIm1pbmRleCIsIm1wdHIiLCJwdiIsInZhbHVlczIiLCJpbnMiLCJrMCIsImsxIiwiY3JlYXRlU3BhcnNlTWF0cml4IiwiZGVuc2l0eSIsIl9nZXRzdWJzZXQiLCJfc2V0c3Vic2V0IiwiX2dldFZhbHVlSW5kZXgiLCJjb2xJbmRleCIsInJvd0luZGV4IiwiX2kiLCJyMSIsIl9pMiIsIl9pMyIsIl9qIiwibWluUm93IiwibWF4Um93IiwibWluQ29sdW1uIiwibWF4Q29sdW1uIiwiaW52b2tlIiwiX2siLCJfaTUiLCJfbWFwIiwiX2syIiwiX2k3IiwiX3RvQXJyYXkiLCJfZm9yRWFjaFJvdyIsImt4Iiwia3kiLCJ2eCIsInZ5IiwiY3JlYXRlTnVtYmVyIiwibnVtYmVyIiwiaW5jbHVkZXMiLCJVbml0IiwibnVsbCIsIlVuaXQsIHN0cmluZyB8IFVuaXQiLCJ1bml0IiwidmFsdWVsZXNzVW5pdCIsImNyZWF0ZUJpZ251bWJlciIsImNyZWF0ZUZyYWN0aW9uIiwiY3JlYXRlTWF0cml4IiwiX2NyZWF0ZSIsImZvcm1hdDIiLCJzdHJpbmcsIHN0cmluZyIsIkFycmF5IHwgTWF0cml4LCBzdHJpbmciLCJBcnJheSB8IE1hdHJpeCwgc3RyaW5nLCBzdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlVW5hcnlNaW51cyIsImNyZWF0ZUFicyIsImNyZWF0ZUFkZFNjYWxhciIsImZpeFByZWZpeCIsImNyZWF0ZUFsZ29yaXRobTExIiwiYXZhbHVlcyIsImFpbmRleCIsImFwdHIiLCJhc2l6ZSIsImFkdCIsImN2YWx1ZXMiLCJjaW5kZXgiLCJjcHRyIiwiY3JlYXRlQWxnb3JpdGhtMTQiLCJhZGF0YSIsImNkYXRhIiwiX2l0ZXJhdGUiLCJsZXZlbCIsImF2IiwiYnYiLCJjdiIsImNyZWF0ZUNlaWwiLCJhbGdvcml0aG0xMSIsImFsZ29yaXRobTE0Iiwicm91bmQyIiwicmVzdWx0IiwiQ29tcGxleCwgbnVtYmVyIiwiRnJhY3Rpb24sIG51bWJlciIsIkFycmF5IHwgTWF0cml4LCBudW1iZXIiLCJTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlciIsIkRlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSIsImNyZWF0ZUZpeCIsIl9Db21wbGV4IiwiZmxvb3IyIiwiY2VpbDIiLCJudW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkNvbXBsZXgsIG51bWJlciB8IEJpZ051bWJlciIsIkJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiRnJhY3Rpb24sIG51bWJlciB8IEJpZ051bWJlciIsIkFycmF5IHwgTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJjcmVhdGVGbG9vciIsImNyZWF0ZUFsZ29yaXRobTAxIiwiZGVuc2VNYXRyaXgiLCJzcGFyc2VNYXRyaXgiLCJidmFsdWVzIiwiYmluZGV4IiwiYnB0ciIsImJzaXplIiwiYmR0IiwibWFyayIsImNyZWF0ZUFsZ29yaXRobTA0IiwieGEiLCJ4YiIsIndhIiwid2IiLCJjcmVhdGVBbGdvcml0aG0xMCIsImNyZWF0ZUFsZ29yaXRobTEzIiwiYmRhdGEiLCJjc2l6ZSIsImNyZWF0ZUFsZ29yaXRobTAyIiwiY2lqIiwiY3JlYXRlQWxnb3JpdGhtMDMiLCJjcmVhdGVBbGdvcml0aG0wNSIsIndhaSIsIndiaSIsInZjIiwiY3JlYXRlQWxnb3JpdGhtMTIiLCJhbGdvcml0aG0wMiIsImFsZ29yaXRobTAzIiwiYWxnb3JpdGhtMDUiLCJhbGdvcml0aG0xMiIsImFsZ29yaXRobTEzIiwiU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4IiwiRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBBcnJheSIsIkFycmF5LCBNYXRyaXgiLCJNYXRyaXgsIEFycmF5IiwiU3BhcnNlTWF0cml4LCBhbnkiLCJEZW5zZU1hdHJpeCwgYW55IiwiYW55LCBTcGFyc2VNYXRyaXgiLCJhbnksIERlbnNlTWF0cml4IiwiQXJyYXksIGFueSIsImFueSwgQXJyYXkiLCJjcmVhdGVNdWx0aXBseVNjYWxhciIsIm51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQ29tcGxleCwgVW5pdCIsIl9ub3JtYWxpemUiLCJVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgiLCJtdWx0aXBseSIsImNyZWF0ZU11bHRpcGx5Iiwic2l6ZTEiLCJhbGVuZ3RoIiwiYmNvbHVtbnMiLCJtZiIsIl9tdWx0aXBseVZlY3RvckRlbnNlTWF0cml4IiwiX211bHRpcGx5TWF0cml4VmVjdG9yIiwiYXJvd3MiLCJhY29sdW1ucyIsImJyb3dzIiwiaWIiLCJ2YmkiLCJrYTAiLCJrYTEiLCJrYSIsImlhIiwiaWMiLCJfbXVsdGlwbHlNYXRyaXhNYXRyaXgiLCJqYiIsImtiMCIsImtiMSIsImtiIiwidmJpaiIsImV4dGVuZCIsIk1hdHJpeCwgTWF0cml4IiwieHNpemUiLCJ5c2l6ZSIsIl9tdWx0aXBseVZlY3RvclZlY3RvciIsIl9tdWx0aXBseVZlY3Rvck1hdHJpeCIsImFueSwgYW55IiwiYW55LCBhbnksIC4uLmFueSIsInJlc3QiLCJjcmVhdGVTdWJ0cmFjdCIsInVuYXJ5TWludXMiLCJhbGdvcml0aG0wMSIsImFsZ29yaXRobTEwIiwiY3JlYXRlQWxnb3JpdGhtMDciLCJ2YSIsInZiIiwiY3JlYXRlQ29uaiIsInF1ZXVlIiwibWFwMiIsImRlbCIsImlkIiwib2xkSW5kZXgiLCJoaXQiLCJudUluZGV4IiwiZGVsZXRlIiwiY2xlYXIiLCJoYXNoZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImhhc2hlcjIiLCJtZW1vaXplMiIsImNhY2hlIiwiTWFwIiwibHJ1IiwibHJ1UXVldWUiLCJoYXNoIiwiaGFzIiwibmV3VmFsIiwiY3JlYXRlSWRlbnRpdHkiLCJudW1iZXIgfCBCaWdOdW1iZXIiLCJfaWRlbnRpdHkiLCJudW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZyIsIm51bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY29scyIsIm51bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJfaWRlbnRpdHlWZWN0b3IiLCJBcnJheSwgc3RyaW5nIiwiTWF0cml4LCBzdHJpbmciLCJCaWciLCJtaW5pbXVtIiwiQXJndW1lbnRzRXJyb3IiLCJpc0FyZ3VtZW50c0Vycm9yIiwiY3JlYXRlU2l6ZSIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIgfCBVbml0IHwgYm9vbGVhbiB8IG51bGwiLCJub01hdHJpeCIsImlzUGxhaW5PYmplY3QiLCJpc1NhZmVQcm9wZXJ0eSIsImlzU2FmZU1ldGhvZCIsInNhZmVOYXRpdmVQcm9wZXJ0aWVzIiwiRnVuY3Rpb24iLCJtZXRob2QiLCJzYWZlTmF0aXZlTWV0aG9kcyIsInRvTG9jYWxlU3RyaW5nIiwiY3JlYXRlU3Vic2V0IiwiQXJyYXksIEluZGV4IiwiTWF0cml4LCBJbmRleCIsIk9iamVjdCwgSW5kZXgiLCJfZ2V0T2JqZWN0UHJvcGVydHkiLCJzdHJpbmcsIEluZGV4IiwiX2dldFN1YnN0cmluZyIsIkFycmF5LCBJbmRleCwgYW55IiwiQXJyYXksIEluZGV4LCBhbnksIGFueSIsIk1hdHJpeCwgSW5kZXgsIGFueSIsIk1hdHJpeCwgSW5kZXgsIGFueSwgYW55Iiwic3RyaW5nLCBJbmRleCwgc3RyaW5nIiwiX3NldFN1YnN0cmluZyIsInN0cmluZywgSW5kZXgsIHN0cmluZywgc3RyaW5nIiwiT2JqZWN0LCBJbmRleCwgYW55IiwiX3NldE9iamVjdFByb3BlcnR5Iiwic3RyTGVuIiwic3Vic3RyIiwiY2hhcnMiLCJfbGVuIiwiZ2V0U2FmZVByb3BlcnR5IiwidXBkYXRlZCIsImNyZWF0ZVplcm9zIiwiX3plcm9zIiwiLi4ubnVtYmVyIHwgQmlnTnVtYmVyIHwgc3RyaW5nIiwiaGFzQmlnTnVtYmVycyIsImNyZWF0ZUZvcm1hdCIsImFueSIsImZvcm1hdFN0cmluZyIsImFueSwgT2JqZWN0IHwgZnVuY3Rpb24gfCBudW1iZXIiLCJjcmVhdGVOdW1lcmljIiwiX251bWJlciIsImJpZ251bWJlciIsInZhbGlkSW5wdXRUeXBlcyIsInZhbGlkT3V0cHV0VHlwZXMiLCJub0JpZ251bWJlciIsImZyYWN0aW9uMiIsIm5vRnJhY3Rpb24iLCJvdXRwdXRUeXBlIiwiaW5wdXRUeXBlIiwiY3JlYXRlRGl2aWRlU2NhbGFyIiwibnVtZXJpYyIsIlVuaXQsIG51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIiwibnVtZXJpYzIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciwgVW5pdCIsImNyZWF0ZVBvdyIsImlkZW50aXR5IiwiX3BvdyIsInByZWRpY3RhYmxlIiwiQXJyYXksIG51bWJlciIsIl9wb3dBcnJheSIsIkFycmF5LCBCaWdOdW1iZXIiLCJNYXRyaXgsIG51bWJlciIsIl9wb3dNYXRyaXgiLCJNYXRyaXgsIEJpZ051bWJlciIsIlVuaXQsIG51bWJlciB8IEJpZ051bWJlciIsInlGcmFjIiwieU51bSIsImV4IiwiZW51bWVyYWJsZU9ubHkiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJOT19JTlQiLCJjcmVhdGVSb3VuZCIsIl9vYmplY3RTcHJlYWQiLCJyb3VuZE51bWJlclNpZ25hdHVyZXMiLCJDb21wbGV4LCBCaWdOdW1iZXIiLCJfbiIsIm51bWJlciwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgU3BhcnNlTWF0cml4IiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgRGVuc2VNYXRyaXgiLCJBcnJheSwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRXF1YWwiLCJhbGdvcml0aG0wNyIsImNyZWF0ZVNtYWxsZXIiLCJjcmVhdGVMYXJnZXIiLCJjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3MiLCJzbWFsbGVyIiwibGFyZ2VyIiwib25lT3ZlckxvZ1BoaSIsIkZpYm9uYWNjaUhlYXAiLCJfbWluaW11bSIsIm5vZGUiLCJwYXJlbnQiLCJkZWdyZWUiLCJpc0ZpYm9uYWNjaUhlYXAiLCJpbnNlcnQiLCJleHRyYWN0TWluaW11bSIsIm51bWJlck9mQ2hpbGRyZW4iLCJ0ZW1wUmlnaHQiLCJhcnJheVNpemUyIiwibnVtUm9vdHMiLCJfZmluZE1pbmltdW1Ob2RlIiwicmVtb3ZlIiwiX2RlY3JlYXNlS2V5IiwiX2xpbmtOb2RlcyIsImNyZWF0ZVNwYUNsYXNzIiwiU3BhIiwiX2hlYXAiLCJpc1NwYSIsImFjY3VtdWxhdGUiLCJoZWFwIiwibm9kZXMiLCJzd2FwIiwibm9kZWkiLCJub2RlaiIsIm1lbW9pemUiLCJjcmVhdGVCaWdOdW1iZXJQaSIsImNyZWF0ZVVuaXRDbGFzcyIsInN1YnRyYWN0IiwiZml4IiwiZXF1YWwiLCJpc051bWVyaWMiLCJfQmlnTnVtYmVyIiwiX0ZyYWN0aW9uIiwidW5pdHMiLCJkaW1lbnNpb25zIiwiVU5JVF9OT05FIiwicHJlZml4IiwiUFJFRklYRVMiLCJOT05FIiwiQkFTRV9ESU1FTlNJT05TIiwic2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uIiwibnVtYmVyMiIsImlzRGlnaXQiLCJ0ZW50YXRpdmVOdW1iZXIiLCJ0ZW50YXRpdmVJbmRleCIsInVuaXROYW1lIiwiaXNWYWxpZEFscGhhIiwiZmlyc3RDIiwidG9GaW5kIiwidW5pdDIiLCJwb3dlck11bHRpcGxpZXJDdXJyZW50IiwiZXhwZWN0aW5nVW5pdCIsInBhcnNlTnVtYmVyIiwicGFyc2VDaGFyYWN0ZXIiLCJwb3dlck11bHRpcGxpZXJTdGFjayIsInBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCIsInVTdHIiLCJvbGRDIiwicGFyc2VVbml0IiwiX2ZpbmRVbml0IiwiYmFzZURpbSIsImF1dG8iLCJhbGxvd05vVW5pdHMiLCJfaXNEZXJpdmVkIiwidW5pdFZhbHVlIiwidW5pdE9mZnNldCIsInVuaXRQb3dlciIsInVuaXRQcmVmaXhWYWx1ZSIsIl9nZXROdW1iZXJDb252ZXJ0ZXIiLCJfZGVub3JtYWxpemUiLCJwcmVmaXhWYWx1ZSIsIlVOSVRTIiwicHJlZml4ZXMiLCJlbmRzV2l0aCIsIl91bml0IiwicHJlZml4TGVuIiwicHJlZml4TmFtZSIsIl9wcmVmaXgiLCJCQVNFX1VOSVRTIiwiaXNWYWx1ZWxlc3NVbml0Iiwib3RoZXIiLCJpbnZlcnRlZCIsInZhbFRoaXMiLCJ2YWxPdGhlciIsImdldE51bWVyaWNJZlVuaXRsZXNzIiwiVyIsInRvTnVtZXJpYyIsImZvcm1hdFVuaXRzIiwibWF0Y2hpbmdCYXNlIiwibWF0Y2hpbmdVbml0IiwicHJvcG9zZWRVbml0TGlzdCIsImtleTIiLCJjdXJyZW50VW5pdFN5c3RlbSIsIm1pc3NpbmdCYXNlRGltIiwidG9TSSIsIlVOSVRfU1lTVEVNUyIsInNpIiwic3RyTnVtIiwic3RyRGVuIiwibk51bSIsIm5EZW4iLCJfaTQiLCJzaW1wIiwiaXNJbWFnaW5hcnkiLCJWQVIiLCJWQSIsIl9iZXN0UHJlZml4IiwidW5pdFN0ciIsImFic1ZhbHVlIiwiYWJzVW5pdFZhbHVlIiwiYmVzdFByZWZpeCIsImJlc3REaWZmIiwic2NpZW50aWZpYyIsInNwbGl0VW5pdCIsInBhcnRzIiwieE51bWVyaWMiLCJ4Um91bmRlZCIsInRlc3RTdW0iLCJTSE9SVCIsImRhIiwiRyIsIlQiLCJaIiwiWSIsIkxPTkciLCJkZWNhIiwiaGVjdG8iLCJraWxvIiwibWVnYSIsImdpZ2EiLCJ0ZXJhIiwicGV0YSIsImV4YSIsInpldHRhIiwieW90dGEiLCJkZWNpIiwiY2VudGkiLCJtaWxsaSIsIm1pY3JvIiwibmFubyIsInBpY28iLCJmZW10byIsImF0dG8iLCJ6ZXB0byIsInlvY3RvIiwiU1FVQVJFRCIsIkNVQklDIiwiQklOQVJZX1NIT1JUX1NJIiwiQklOQVJZX1NIT1JUX0lFQyIsIktpIiwiTWkiLCJHaSIsIlRpIiwiUGkiLCJFaSIsIlppIiwiWWkiLCJCSU5BUllfTE9OR19TSSIsIkJJTkFSWV9MT05HX0lFQyIsImtpYmkiLCJtZWJpIiwiZ2liaSIsInRlYmkiLCJwZWJpIiwiZXhpIiwiemViaSIsInlvYmkiLCJCVFUiLCJNTSIsIlNIT1JUTE9ORyIsIl9leHRlbmRzIiwiQklOQVJZX1NIT1JUIiwiQklOQVJZX0xPTkciLCJNQVNTIiwiTEVOR1RIIiwiVElNRSIsIkNVUlJFTlQiLCJURU1QRVJBVFVSRSIsIkxVTUlOT1VTX0lOVEVOU0lUWSIsIkFNT1VOVF9PRl9TVUJTVEFOQ0UiLCJGT1JDRSIsIlNVUkZBQ0UiLCJWT0xVTUUiLCJFTkVSR1kiLCJQT1dFUiIsIlBSRVNTVVJFIiwiRUxFQ1RSSUNfQ0hBUkdFIiwiRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UiLCJFTEVDVFJJQ19QT1RFTlRJQUwiLCJFTEVDVFJJQ19SRVNJU1RBTkNFIiwiRUxFQ1RSSUNfSU5EVUNUQU5DRSIsIkVMRUNUUklDX0NPTkRVQ1RBTkNFIiwiTUFHTkVUSUNfRkxVWCIsIk1BR05FVElDX0ZMVVhfREVOU0lUWSIsIkZSRVFVRU5DWSIsIkFOR0xFIiwiQklUIiwibWV0ZXIiLCJpbmNoIiwiZm9vdCIsInlhcmQiLCJtaWxlIiwibGluayIsInJvZCIsImNoYWluIiwiYW5nc3Ryb20iLCJpbiIsImZ0IiwibWkiLCJsaSIsImNoIiwibWlsIiwibTIiLCJzcWluIiwic3FmdCIsInNxeWQiLCJzcW1pIiwic3FyZCIsInNxY2giLCJzcW1pbCIsImFjcmUiLCJoZWN0YXJlIiwibTMiLCJMIiwibGl0cmUiLCJjdWluIiwiY3VmdCIsImN1eWQiLCJ0ZWFzcG9vbiIsInRhYmxlc3Bvb24iLCJkcm9wIiwiZ3R0IiwibWluaW0iLCJmbHVpZGRyYW0iLCJmbHVpZG91bmNlIiwiZ2lsbCIsImNjIiwiY3VwIiwicGludCIsInF1YXJ0IiwiZ2FsbG9uIiwiYmVlcmJhcnJlbCIsIm9pbGJhcnJlbCIsImhvZ3NoZWFkIiwiZmxkciIsImZsb3oiLCJnaSIsImNwIiwicHQiLCJxdCIsImdhbCIsImJibCIsIm9ibCIsImdyYW0iLCJ0b24iLCJ0b25uZSIsImdyYWluIiwiZHJhbSIsIm91bmNlIiwicG91bmRtYXNzIiwiaHVuZHJlZHdlaWdodCIsInN0aWNrIiwic3RvbmUiLCJnciIsImRyIiwib3oiLCJsYm0iLCJjd3QiLCJzZWNvbmQiLCJtaW51dGUiLCJob3VyIiwiZGF5Iiwid2VlayIsIm1vbnRoIiwieWVhciIsImRlY2FkZSIsImNlbnR1cnkiLCJtaWxsZW5uaXVtIiwiaGVydHoiLCJyZWNpcHJvY2FsIiwiSHoiLCJyYWQiLCJyYWRpYW4iLCJkZWciLCJncmFkIiwiZ3JhZGlhbiIsImN5Y2xlIiwiYXJjc2VjIiwiYXJjbWluIiwiYW1wZXJlIiwiSyIsImRlZ0MiLCJkZWdGIiwiZGVnUiIsImtlbHZpbiIsImNlbHNpdXMiLCJmYWhyZW5oZWl0IiwicmFua2luZSIsIm1vbCIsIm1vbGUiLCJjZCIsImNhbmRlbGEiLCJuZXd0b24iLCJkeW4iLCJkeW5lIiwibGJmIiwicG91bmRmb3JjZSIsImtpcCIsImtpbG9ncmFtZm9yY2UiLCJKIiwiam91bGUiLCJlcmciLCJXaCIsImVWIiwiZWxlY3Ryb252b2x0Iiwid2F0dCIsImhwIiwiSSIsIlBhIiwicHNpIiwiYXRtIiwiYmFyIiwidG9yciIsIm1tSGciLCJtbUgyTyIsImNtSDJPIiwiY291bG9tYiIsImZhcmFkIiwiRiIsInZvbHQiLCJWIiwib2htIiwiaGVucnkiLCJIIiwic2llbWVucyIsIlMiLCJ3ZWJlciIsIldiIiwidGVzbGEiLCJiaXRzIiwiYnl0ZXMiLCJBTElBU0VTIiwibWV0ZXJzIiwiaW5jaGVzIiwiZmVldCIsInlhcmRzIiwibWlsZXMiLCJsaW5rcyIsInJvZHMiLCJjaGFpbnMiLCJhbmdzdHJvbXMiLCJsaXRyZXMiLCJsaXRlciIsImxpdGVycyIsInRlYXNwb29ucyIsInRhYmxlc3Bvb25zIiwibWluaW1zIiwiZmx1aWRkcmFtcyIsImZsdWlkb3VuY2VzIiwiZ2lsbHMiLCJjdXBzIiwicGludHMiLCJxdWFydHMiLCJnYWxsb25zIiwiYmVlcmJhcnJlbHMiLCJvaWxiYXJyZWxzIiwiaG9nc2hlYWRzIiwiZ3R0cyIsImdyYW1zIiwidG9ucyIsInRvbm5lcyIsImdyYWlucyIsImRyYW1zIiwib3VuY2VzIiwicG91bmRtYXNzZXMiLCJodW5kcmVkd2VpZ2h0cyIsInN0aWNrcyIsImxiIiwibGJzIiwia2lwcyIsImtnZiIsImFjcmVzIiwiaGVjdGFyZXMiLCJzcWZlZXQiLCJzcXlhcmQiLCJzcW1pbGUiLCJzcW1pbGVzIiwibW1oZyIsIm1taDJvIiwiY21oMm8iLCJzZWNvbmRzIiwic2VjcyIsIm1pbnV0ZXMiLCJtaW5zIiwiaG91cnMiLCJociIsImhycyIsImRheXMiLCJ3ZWVrcyIsIm1vbnRocyIsInllYXJzIiwiZGVjYWRlcyIsImNlbnR1cmllcyIsIm1pbGxlbm5pYSIsImdyYWRpYW5zIiwiY3ljbGVzIiwiYXJjc2Vjb25kIiwiYXJjc2Vjb25kcyIsImFyY21pbnV0ZSIsImFyY21pbnV0ZXMiLCJCVFVzIiwid2F0dHMiLCJqb3VsZXMiLCJhbXBlcmVzIiwiY291bG9tYnMiLCJ2b2x0cyIsIm9obXMiLCJmYXJhZHMiLCJ3ZWJlcnMiLCJ0ZXNsYXMiLCJlbGVjdHJvbnZvbHRzIiwibW9sZXMiLCJiaXQiLCJieXRlIiwiY29uZmlnMyIsImNyZWF0ZVBpIiwiY2dzIiwidXMiLCJfa2V5MiIsInNldFVuaXRTeXN0ZW0iLCJnZXRVbml0U3lzdGVtIiwiX2tleSIsInR5cGVDb252ZXJ0ZXJzIiwiX25hbWUyIiwiX3VuaXQyIiwiYWxpYXMiLCJfa2V5MyIsImNyZWF0ZVVuaXQiLCJvdmVycmlkZSIsIl9rZXk0IiwiZGVsZXRlVW5pdCIsImFsaWFzZXMiLCJsYXN0VW5pdCIsIl9rZXk1IiwiY3JlYXRlVW5pdFNpbmdsZSIsImRlZmluaXRpb24iLCJiYXNlTmFtZSIsImRlZlVuaXQiLCJuZXdVbml0IiwiYW55TWF0Y2giLCJfbmV3QmFzZVVuaXQiLCJuZXdCYXNlVW5pdCIsIl9pNiIsIl9pOCIsImFsaWFzTmFtZSIsIl9hbGlhcyIsIl9rZXk2IiwibnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4LCBzdHJpbmciLCJPYmplY3QsIE9iamVjdCIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCwgT2JqZWN0IiwiZGVmIiwic3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0IiwiYWxnb3JpdGhtMDQiLCJjcmVhdGVEb3QiLCJjb25qIiwiQXJyYXkgfCBEZW5zZU1hdHJpeCwgQXJyYXkgfCBEZW5zZU1hdHJpeCIsIl92YWxpZGF0ZURpbSIsImFJc0NvbHVtbiIsImJJc0NvbHVtbiIsImFkZDIiLCJtdWwyIiwiX2MyIiwiX2MyMiIsIl9jMyIsInhpbmRleCIsInh2YWx1ZXMiLCJ5aW5kZXgiLCJ5dmFsdWVzIiwieExlbiIsInlMZW4iLCJ4U2l6ZSIsInlTaXplIiwia2V5d29yZHMiLCJjcmVhdGVOb2RlIiwibWF0aFdpdGhUcmFuc2Zvcm0iLCJOb2RlMiIsImV2YWx1YXRlIiwiY29tcGlsZSIsImNvbW1lbnQiLCJleHByIiwiX2NvbXBpbGUiLCJzeW1ib2wiLCJtYXRoIiwiYXJnTmFtZXMiLCJfaWZOb2RlIiwidHJhdmVyc2UiLCJjYWxsYmFjazIiLCJwYXRoIiwidHJhbnNmb3JtIiwiX3RyYW5zZm9ybSIsImNsb25lRGVlcCIsImN1c3RvbVN0cmluZyIsImhhbmRsZXIiLCJfdG9TdHJpbmciLCJ0b0hUTUwiLCJ0b1RleCIsImN1c3RvbVRleCIsIl90b1RleCIsImdldElkZW50aWZpZXIiLCJnZXRDb250ZW50IiwiaXNPYmplY3RQcm9wZXJ0eSIsImdldE9iamVjdFByb3BlcnR5IiwiZXJyb3JUcmFuc2Zvcm0iLCJjcmVhdGVBY2Nlc3Nvck5vZGUiLCJOb2RlIiwiYWNjZXNzIiwiYWNjZXNzRmFjdG9yeSIsIkFjY2Vzc29yTm9kZSIsImJpbmQiLCJldmFsT2JqZWN0IiwiZXZhbEluZGV4IiwiY29udGV4dCIsIm5lZWRQYXJlbnRoZXNpcyIsImNyZWF0ZUFycmF5Tm9kZSIsIml0ZW1zIiwiQXJyYXlOb2RlIiwiZXZhbEl0ZW1zIiwiZXZhbEl0ZW0iLCJjaGlsZE5vZGUiLCJwcm9wZXJ0aWVzIiwiQXNzaWdubWVudE5vZGUiLCJGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiQ29uZGl0aW9uYWxOb2RlIiwibGF0ZXhMZWZ0UGFyZW5zIiwibGF0ZXhSaWdodFBhcmVucyIsImxhdGV4UGFyZW5zIiwiT3BlcmF0b3JOb2RlOm9yIiwiYXNzb2NpYXRpdml0eSIsImFzc29jaWF0aXZlV2l0aCIsIk9wZXJhdG9yTm9kZTp4b3IiLCJPcGVyYXRvck5vZGU6YW5kIiwiT3BlcmF0b3JOb2RlOmJpdE9yIiwiT3BlcmF0b3JOb2RlOmJpdFhvciIsIk9wZXJhdG9yTm9kZTpiaXRBbmQiLCJPcGVyYXRvck5vZGU6ZXF1YWwiLCJPcGVyYXRvck5vZGU6dW5lcXVhbCIsIk9wZXJhdG9yTm9kZTpzbWFsbGVyIiwiT3BlcmF0b3JOb2RlOmxhcmdlciIsIk9wZXJhdG9yTm9kZTpzbWFsbGVyRXEiLCJPcGVyYXRvck5vZGU6bGFyZ2VyRXEiLCJSZWxhdGlvbmFsTm9kZSIsIk9wZXJhdG9yTm9kZTpsZWZ0U2hpZnQiLCJPcGVyYXRvck5vZGU6cmlnaHRBcml0aFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0TG9nU2hpZnQiLCJPcGVyYXRvck5vZGU6dG8iLCJSYW5nZU5vZGUiLCJPcGVyYXRvck5vZGU6YWRkIiwiT3BlcmF0b3JOb2RlOnN1YnRyYWN0IiwiT3BlcmF0b3JOb2RlOm11bHRpcGx5IiwiT3BlcmF0b3JOb2RlOmRpdmlkZSIsIk9wZXJhdG9yTm9kZTpkb3RNdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkb3REaXZpZGUiLCJPcGVyYXRvck5vZGU6bW9kIiwiT3BlcmF0b3JOb2RlOnVuYXJ5UGx1cyIsIk9wZXJhdG9yTm9kZTp1bmFyeU1pbnVzIiwiT3BlcmF0b3JOb2RlOmJpdE5vdCIsIk9wZXJhdG9yTm9kZTpub3QiLCJPcGVyYXRvck5vZGU6cG93IiwiT3BlcmF0b3JOb2RlOmRvdFBvdyIsIk9wZXJhdG9yTm9kZTpmYWN0b3JpYWwiLCJPcGVyYXRvck5vZGU6dHJhbnNwb3NlIiwiX25vZGUiLCJwYXJlbnRoZXNpcyIsImlkZW50aWZpZXIiLCJnZXRQcmVjZWRlbmNlIiwibm9kZUEiLCJub2RlQiIsImlkZW50aWZpZXJBIiwiaWRlbnRpZmllckIiLCJjcmVhdGVBc3NpZ25tZW50Tm9kZSIsImFzc2lnbkZhY3RvcnkiLCJwcmVjZWRlbmNlIiwiZXhwclByZWNlZGVuY2UiLCJldmFsVmFsdWUiLCJzZXRTYWZlUHJvcGVydHkiLCJjaGlsZE9iamVjdCIsImV2YWxQYXJlbnRPYmplY3QiLCJwYXJlbnRQcm9wIiwiZXZhbFBhcmVudEluZGV4IiwicGFyZW50SW5kZXgiLCJjcmVhdGVCbG9ja05vZGUiLCJibG9ja3MiLCJCbG9ja05vZGUiLCJibG9jayIsInZpc2libGUiLCJldmFsQmxvY2tzIiwicmVzdWx0cyIsImNyZWF0ZUNvbmRpdGlvbmFsTm9kZSIsImNvbmRpdGlvbiIsInRydWVFeHByIiwiZmFsc2VFeHByIiwiZXZhbENvbmRpdGlvbiIsImV2YWxUcnVlRXhwciIsImV2YWxGYWxzZUV4cHIiLCJ0ZXN0Q29uZGl0aW9uIiwiY29uZGl0aW9uUHJlY2VkZW5jZSIsInRydWVQcmVjZWRlbmNlIiwiZmFsc2VQcmVjZWRlbmNlIiwiZGVmYXVsdEVzY2FwZXMiLCJ7IiwifSIsIlxcIiwiIyIsIiQiLCIlIiwiJiIsIl4iLCJfIiwifiIsImZvcm1hdEVzY2FwZXMiLCLigJMiLCLigJQiLCIgIiwiXHQiLCJcclxuIiwiXG4iLCJkZWZhdWx0RXNjYXBlTWFwRm4iLCJkZWZhdWx0RXNjYXBlczIiLCJmb3JtYXRFc2NhcGVzMiIsImxhdGV4U3ltYm9scyIsIkFscGhhIiwiQmV0YSIsImJldGEiLCJHYW1tYSIsImdhbW1hIiwiRGVsdGEiLCJFcHNpbG9uIiwidmFyZXBzaWxvbiIsIlpldGEiLCJ6ZXRhIiwiRXRhIiwiZXRhIiwiVGhldGEiLCJ2YXJ0aGV0YSIsIklvdGEiLCJpb3RhIiwiS2FwcGEiLCJrYXBwYSIsInZhcmthcHBhIiwiTGFtYmRhIiwiTXUiLCJtdSIsIk51IiwibnUiLCJYaSIsIk9taWNyb24iLCJvbWljcm9uIiwidmFycGkiLCJSaG8iLCJyaG8iLCJ2YXJyaG8iLCJTaWdtYSIsInNpZ21hIiwidmFyc2lnbWEiLCJUYXUiLCJ0YXUiLCJVcHNpbG9uIiwidXBzaWxvbiIsIlBoaSIsInZhcnBoaSIsIkNoaSIsImNoaSIsIlBzaSIsIk9tZWdhIiwib21lZ2EiLCJ0cnVlIiwiZmFsc2UiLCJJbmYiLCJpbmZpbml0eSIsIm9vIiwibGltIiwidW5kZWZpbmVkIiwibGF0ZXhPcGVyYXRvcnMiLCJjdHJhbnNwb3NlIiwiZmFjdG9yaWFsIiwiZG90UG93IiwidW5hcnlQbHVzIiwiYml0Tm90Iiwibm90IiwiZG90TXVsdGlwbHkiLCJkb3REaXZpZGUiLCJsZWZ0U2hpZnQiLCJyaWdodEFyaXRoU2hpZnQiLCJyaWdodExvZ1NoaWZ0IiwidW5lcXVhbCIsInNtYWxsZXJFcSIsImxhcmdlckVxIiwiYml0QW5kIiwiYml0WG9yIiwiYml0T3IiLCJhbmQiLCJ4b3IiLCJvciIsImxhdGV4RnVuY3Rpb25zIiwiMSIsIjIiLCJjdWJlIiwibG9nMXAiLCJub3JtIiwibnRoUm9vdCIsIm50aFJvb3RzIiwic3F1YXJlIiwiYmVsbE51bWJlcnMiLCJjYXRhbGFuIiwic3RpcmxpbmdTMiIsImNyb3NzIiwiZXhwbSIsImludiIsInNxcnRtIiwiY29tYmluYXRpb25zIiwiY29tYmluYXRpb25zV2l0aFJlcCIsImVyZiIsInZhcmlhbmNlIiwiMCIsImNvbXBsZXgiLCJzcGFyc2UiLCJsYXRleFVuaXRzIiwiX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpIiwicHJlc2VydmVGb3JtYXR0aW5nIiwiX3JlZiRlc2NhcGVNYXBGbiIsImVzY2FwZU1hcEZuIiwicnVubmluZ1N0ciIsImVzY2FwZXMiLCJlc2NhcGVLZXlzIiwiX2xvb3AiLCJzcGVjaWFsQ2hhckZvdW5kIiwiZXNjYXBlTGF0ZXhMaWIiLCJpc1VuaXQyIiwiZXNjYXBlTGF0ZXgiLCJjcmVhdGVDb25zdGFudE5vZGUiLCJDb25zdGFudE5vZGUiLCJjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiY2hpbGRBcmdOYW1lcyIsImV2YWxFeHByIiwiY2hpbGRBcmdzIiwiZXNjYXBlIiwidG9TeW1ib2wiLCJjcmVhdGVJbmRleE5vZGUiLCJkb3ROb3RhdGlvbiIsIkluZGV4Tm9kZSIsImV2YWxEaW1lbnNpb25zIiwibmVlZHNFbmQiLCJldmFsU3RhcnQiLCJldmFsRW5kIiwiZXZhbFN0ZXAiLCJjcmVhdGVSYW5nZSIsIl9ldmFsU3RhcnQiLCJfZXZhbEVuZCIsIl9ldmFsU3RlcCIsIl9jaGlsZEFyZ05hbWVzIiwiZXZhbFJhbmdlIiwiX2V2YWxSYW5nZSIsImV2YWxEaW1lbnNpb24iLCJjcmVhdGVPYmplY3ROb2RlIiwiT2JqZWN0Tm9kZSIsImV2YWxFbnRyaWVzIiwic3RyaW5naWZpZWRLZXkiLCJwYXJzZWRLZXkiLCJjcmVhdGVPcGVyYXRvck5vZGUiLCJvcCIsImltcGxpY2l0IiwiT3BlcmF0b3JOb2RlIiwibGF0ZXgiLCJnZXRBc3NvY2lhdGl2aXR5Iiwib3BlcmFuZFByZWNlZGVuY2UiLCJvcGVyYW5kSWRlbnRpZmllciIsInJvb3RJZGVudGlmaWVyIiwibGhzUGFyZW5zIiwicmhzUGFyZW5zIiwibGhzUHJlY2VkZW5jZSIsImFzc29jV2l0aExocyIsImlzQXNzb2NpYXRpdmVXaXRoIiwiX3Jvb3RJZGVudGlmaWVyIiwibGhzSWRlbnRpZmllciIsInJoc0lkZW50aWZpZXIiLCJyaHNQcmVjZWRlbmNlIiwiYXNzb2NXaXRoUmhzIiwiYXJnUHJlY2VkZW5jZSIsImFzc29jV2l0aEFyZyIsImFyZ0Fzc29jaWF0aXZpdHkiLCJpc1BhcmVudGhlc2lzTm9kZTIiLCJldmFsQXJncyIsImV2YWxBcmcwIiwiX2V2YWxBcmciLCJldmFsQXJnMSIsImV2YWxBcmciLCJpc1VuYXJ5IiwicGFyZW5zIiwiY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMiLCJhc3NvYyIsIm9wZXJhbmQiLCJvcElzTmFtZWQiLCJsaHMiLCJyaHMiLCJzdHJpbmdpZmllZEFyZ3MiLCJsaHNUZXgiLCJyaHNUZXgiLCJ0ZXhpZmllZEFyZ3MiLCJjcmVhdGVQYXJlbnRoZXNpc05vZGUiLCJjb250ZW50IiwiUGFyZW50aGVzaXNOb2RlIiwiY3JlYXRlUmFuZ2VOb2RlIiwic3RhcnRQcmVjZWRlbmNlIiwic3RlcFByZWNlZGVuY2UiLCJlbmRQcmVjZWRlbmNlIiwiY3JlYXRlUmVsYXRpb25hbE5vZGUiLCJjb25kaXRpb25hbHMiLCJpc1JlbGF0aW9uYWxOb2RlIiwic2VsZjIiLCJjb21waWxlZCIsImV2YWxMaHMiLCJldmFsUmhzIiwiY29uZEZuIiwicGFyYW1TdHJpbmdzIiwicGFyYW1QcmVjZWRlbmNlIiwib3BlcmF0b3JNYXAiLCJCaWdOdW1iZXJEZXBlbmRlbmNpZXMiLCJDb21wbGV4RGVwZW5kZW5jaWVzIiwiTWF0cml4RGVwZW5kZW5jaWVzIiwiRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJGcmFjdGlvbkRlcGVuZGVuY2llcyIsInR5cGVkRGVwZW5kZW5jaWVzIiwiZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMiLCJTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJudW1iZXJEZXBlbmRlbmNpZXMiLCJmcmFjdGlvbkRlcGVuZGVuY2llcyIsIm1hdHJpeERlcGVuZGVuY2llcyIsInVuYXJ5TWludXNEZXBlbmRlbmNpZXMiLCJhYnNEZXBlbmRlbmNpZXMiLCJhZGRTY2FsYXJEZXBlbmRlbmNpZXMiLCJyb3VuZERlcGVuZGVuY2llcyIsInplcm9zRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMiLCJzaXplRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlEZXBlbmRlbmNpZXMiLCJkb3REZXBlbmRlbmNpZXMiLCJjb25qRGVwZW5kZW5jaWVzIiwic3VidHJhY3REZXBlbmRlbmNpZXMiLCJsYXJnZXJEZXBlbmRlbmNpZXMiLCJpZGVudGl0eURlcGVuZGVuY2llcyIsIm51bWVyaWNEZXBlbmRlbmNpZXMiLCJiaWdudW1iZXJEZXBlbmRlbmNpZXMiLCJkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMiLCJzdWJzZXREZXBlbmRlbmNpZXMiLCJVbml0RGVwZW5kZW5jaWVzIiwiZXF1YWxEZXBlbmRlbmNpZXMiLCJmaXhEZXBlbmRlbmNpZXMiLCJjZWlsRGVwZW5kZW5jaWVzIiwiZmxvb3JEZXBlbmRlbmNpZXMiLCJmb3JtYXREZXBlbmRlbmNpZXMiLCJpc051bWVyaWNEZXBlbmRlbmNpZXMiLCJwb3dEZXBlbmRlbmNpZXMiLCJOb2RlRGVwZW5kZW5jaWVzIiwiU3ltYm9sTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZVN5bWJvbE5vZGUiLCJTeW1ib2xOb2RlIiwibWF0aDIiLCJwYXJzZURlcGVuZGVuY2llcyIsIkFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyIsIkFycmF5Tm9kZURlcGVuZGVuY2llcyIsIkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIiwiQmxvY2tOb2RlRGVwZW5kZW5jaWVzIiwiUmVzdWx0U2V0RGVwZW5kZW5jaWVzIiwiQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyIsIkZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZUZ1bmN0aW9uTm9kZSIsIkZ1bmN0aW9uTm9kZSIsInJhd0FyZ3MiLCJfcmF3QXJncyIsImV2YWxGbiIsIl9yYXdBcmdzMiIsIm5vZGVUb1N0cmluZyIsInRlbXBsYXRlIiwicmVnZXgiLCJpbnB1dFBvcyIsIlJlZmVyZW5jZUVycm9yIiwibm9kZVRvVGV4IiwibGF0ZXhDb252ZXJ0ZXIiLCJjdXN0b21Ub1RleCIsImV4cGFuZFRlbXBsYXRlIiwiSW5kZXhOb2RlRGVwZW5kZW5jaWVzIiwiUmFuZ2VEZXBlbmRlbmNpZXMiLCJPYmplY3ROb2RlRGVwZW5kZW5jaWVzIiwiT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzIiwiUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzIiwiUmFuZ2VOb2RlRGVwZW5kZW5jaWVzIiwiUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMiLCJjcmVhdGVQYXJzZSIsImV4cHJlc3Npb24iLCJwYXJzZVN0YXJ0IiwiZXhwcmVzc2lvbnMiLCJwYXJzZU11bHRpcGxlIiwiQXJyYXkgfCBNYXRyaXgsIE9iamVjdCIsImV4dHJhTm9kZXMiLCJUT0tFTlRZUEUiLCJERUxJTUlURVJTIiwiLCIsIigiLCIpIiwiWyIsIl0iLCJcIiIsIiciLCI7IiwiKyIsIi0iLCIqIiwiLioiLCIvIiwiLi8iLCIuXiIsIiEiLCJ8IiwiXnwiLCI9IiwiOiIsIj8iLCI9PSIsIiE9IiwiPCIsIj4iLCI8PSIsIj49IiwiPDwiLCI+PiIsIj4+PiIsIk5BTUVEX0RFTElNSVRFUlMiLCJDT05TVEFOVFMiLCJOVU1FUklDX0NPTlNUQU5UUyIsInN0YXRlIiwiY3VycmVudFN0cmluZyIsInRva2VuVHlwZSIsInRva2VuIiwiaXNXaGl0ZXNwYWNlIiwiY3VycmVudENoYXJhY3RlciIsIm5lc3RpbmdMZXZlbCIsImlzRGlnaXREb3QiLCJpc0hleERpZ2l0IiwiaXNEZWNpbWFsTWFyayIsIm5leHRDaGFyYWN0ZXIiLCJjcmVhdGVTeW50YXhFcnJvciIsImlzQWxwaGEiLCJwcmV2Q2hhcmFjdGVyIiwiY29uZGl0aW9uYWxMZXZlbCIsInBhcnNlQXNzaWdubWVudCIsInBhcnNlQmxvY2siLCJ2YWxpZCIsInBhcnNlTG9naWNhbFhvciIsInBhcnNlTG9naWNhbE9yIiwicGFyc2VDb25kaXRpb25hbCIsInBhcnNlTG9naWNhbEFuZCIsInBhcnNlQml0d2lzZU9yIiwicGFyc2VCaXR3aXNlWG9yIiwicGFyc2VCaXR3aXNlQW5kIiwicGFyc2VSZWxhdGlvbmFsIiwicGFyc2VTaGlmdCIsIm9wZXJhdG9ycyIsImNvbmQiLCJwYXJzZUNvbnZlcnNpb24iLCJwYXJzZVJhbmdlIiwicGFyc2VBZGRTdWJ0cmFjdCIsInBhcnNlTXVsdGlwbHlEaXZpZGUiLCJwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24iLCJwYXJzZVJ1bGUyIiwicGFyc2VVbmFyeSIsInRva2VuU3RhdGVzIiwiQ3VzdG9tTm9kZSIsInBhcnNlQWNjZXNzb3JzIiwicGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbiIsInBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVJvdyIsIm51bWJlclN0ciIsInBhcnNlRW5kIiwicGFyc2VQYXJlbnRoZXNlcyIsInBhcnNlT2JqZWN0IiwicGFyc2VNYXRyaXgiLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nIiwicGFyc2VTeW1ib2wiLCJwYXJzZUN1c3RvbU5vZGVzIiwicGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyIsInBhcnNlUG93IiwiY29sIiwiY2hhciIsImNQcmV2IiwiY05leHQiLCJpc1ZhbGlkTGF0aW5PckdyZWVrIiwiaXNWYWxpZE1hdGhTeW1ib2wiLCJjcmVhdGVFdmFsdWF0ZSIsImludkRlcGVuZGVuY2llcyIsImRldERlcGVuZGVuY2llcyIsImx1cERlcGVuZGVuY2llcyIsIlNwYURlcGVuZGVuY2llcyIsIkZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMiLCJzbWFsbGVyRGVwZW5kZW5jaWVzIiwiY3JlYXRlTHVwIiwiX2RlbnNlTFVQIiwibHZhbHVlcyIsImxpbmRleCIsImxwdHIiLCJsc2l6ZSIsInV2YWx1ZXMiLCJ1aW5kZXgiLCJ1cHRyIiwidXNpemUiLCJwdkNvIiwicHZPYyIsInN3YXBJbmRlY2VzIiwic3BhIiwiazIiLCJ2a2oiLCJ2aWsiLCJ2amoiLCJwYWJzdiIsImFic3YiLCJVIiwiX3NwYXJzZUxVUCIsImxkYXRhIiwidWRhdGEiLCJ2aWoiLCJjcmVhdGVEZXQiLCJsdXAiLCJtYXRyaXgyIiwiZGVjb21wIiwiZXZlbkN5Y2xlcyIsInZpc2l0ZWQiLCJfZGV0IiwiY3JlYXRlSW52IiwiX2ludiIsIm1hdCIsIkFCaWciLCJyQmlnIiwiQWMiLCJCYyIsIkFyIiwiQnIiLCJjcmVhdGVEaXZpZGUiLCJBcnJheSB8IE1hdHJpeCwgQXJyYXkgfCBNYXRyaXgiLCJhbnksIEFycmF5IHwgTWF0cml4IiwiY3R4Iiwib25jZSIsIm9mZiIsImxpc3RlbmVyIiwiZW1pdCIsImV2dEFyciIsImV2dHMiLCJsaXZlRXZlbnRzIiwidGlueUVtaXR0ZXJNb2R1bGUiLCJlbGVtZW50IiwiZWFjaCIsInNoYWRvd1Jvb3QiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm5leHRFbGVtZW50U2libGluZyIsImFzc2lnbmVkU2xvdCIsImFzc2lnbmVkRWxlbWVudHMiLCJhc3NpZ25lZCIsInNoZWV0Iiwic2VsZWN0b3IiLCJydWxlcyIsImluc2VydFJ1bGUiLCJhZGRSdWxlIiwiZmF0YWwiLCJVaW50MTZBcnJheSIsImZyb21DaGFyQ29kZSIsInN1YmFycmF5IiwiVGV4dEVuY29kZXIiLCJUZXh0RGVjb2RlciIsImVuY29kZSIsInN0cmVhbSIsIlVpbnQ4QXJyYXkiLCJCdWZmZXIiLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIkJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwicmVzcG9uc2VUZXh0IiwicmV2b2tlT2JqZWN0VVJMIiwiZGVjb2RlIiwiQXJyYXlCdWZmZXIiLCJ3aW5kb3ciLCJnbG9iYWwiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJib3VuZHMiLCJCb3VuZHMiLCJyZWZlcmVuY2VFbGVtZW50IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRvY0VsIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsImRvY3VtZW50MiIsImRvY3VtZW50RWxlbWVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJvZHlTdHlsZSIsIm9mZnNldFRvcCIsIm1hcmdpblRvcCIsIm9mZnNldExlZnQiLCJtYXJnaW5MZWZ0Iiwic2Nyb2xsV2lkdGgiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZ2V0RG9jdW1lbnRCb3VuZHMiLCJkZWZhdWx0VmlldyIsImNvbXB1dGVkU3R5bGUiLCJlbCIsIm9mZnNldFBhcmVudCIsInByZXZDb21wdXRlZFN0eWxlIiwiY29udGFpbnMiLCJwYXJlbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJ2aWV3cG9ydFRlc3RlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImh0bWwiLCJ3cmFwcGVyIiwiaW5uZXJIVE1MIiwicmVtb3ZlQ2hpbGQiLCJ2aXNpYmlsaXR5IiwicG9pbnRlckV2ZW50cyIsImV4cG9ydHMyIiwiTkVXRVIiLCJPTERFUiIsIm9sZGVzdCIsIm5ld2VzdCIsIl9rZXltYXAiLCJvbGRlc3RFbnRyeSIsIkxSVU1hcCIsIl9tYXJrRW50cnlBc1VzZWQiLCJNQVhfVkFMVUUiLCJpdCIsIml0ZXJhdG9yIiwiaXR2IiwiZG9uZSIsIkVudHJ5IiwiZW50IiwiS2V5SXRlcmF0b3IiLCJWYWx1ZUl0ZXJhdG9yIiwiRW50cnlJdGVyYXRvciIsImZ1biIsInRoaXNPYmoiLCJzZXJpYWxpemVBdHRyaWJ1dGVWYWx1ZSIsImFzeW5jIiwib3V0cHV0IiwiY2hpbGROb2RlcyIsIm5vZGVUcmVlVG9YSFRNTCIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwib3V0cHV0MiIsInJlcGxhY2VkIiwicmVwbGFjZXIiLCJub2RlTmFtZSIsInNlcmlhbGl6ZUNoaWxkcmVuIiwidGFnTmFtZSIsIm5hbWVzcGFjZVVSSSIsImdldFRhZ05hbWUiLCJpc1Jvb3ROb2RlIiwiaGFzQXR0cmlidXRlIiwic2VyaWFsaXplTmFtZXNwYWNlIiwiZGVwdGgiLCJjaGlsZHJlbkhUTUwiLCJpc0ltZyIsImF0dHIiLCJhdHRyaWJ1dGVzIiwic2VyaWFsaXplQXR0cmlidXRlIiwiV2ViUmVuZGVyZXIiLCJnZXREYXRhVVJMIiwic2VyaWFsaXplVGFnIiwibm9kZVZhbHVlIiwic2VyaWFsaXplVGV4dCIsInNlcmlhbGl6ZUNEQVRBIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJkaWdlc3RMZW5ndGgiLCJibG9ja1NpemUiLCJwb3MiLCJIYXNoIiwiSW50MzJBcnJheSIsImJ1ZmZlckxlbmd0aCIsImJ5dGVzSGFzaGVkIiwiZmluaXNoZWQiLCJyZXNldCIsImNsZWFuIiwiZGF0YUxlbmd0aCIsImRhdGFQb3MiLCJoYXNoQmxvY2tzIiwiZmluaXNoIiwiYml0TGVuSGkiLCJiaXRMZW5MbyIsInBhZExlbmd0aCIsImRpZ2VzdCIsIl9zYXZlU3RhdGUiLCJfcmVzdG9yZVN0YXRlIiwiSGFzaDIiLCJITUFDIiwiaW5uZXIiLCJwYWQiLCJpc3RhdGUiLCJvc3RhdGUiLCJITUFDMiIsImhtYWMyIiwiaW5mbyIsImNvdW50ZXIiLCJobWFjIiwiaGtkZlNhbHQiLCJzYWx0Iiwib2ttIiwiaG1hY18iLCJidWZwb3MiLCJmaWxsIiwicGFzc3dvcmQiLCJpdGVyYXRpb25zIiwiZGtMZW4iLCJwcmYiLCJjdHIiLCJkayIsImhrZGYiLCJwYmtkZjIiLCJzaGEyNTYyIiwiZW5jb2RlciIsImV2ZW50Q2FsbGJhY2siLCJob3ZlciIsImFjdGl2ZSIsImZvY3VzIiwiSW1hZ2UiLCJFZGdlcyIsImVsZW1lbnQyIiwibGF5ZXIiLCJsYXllcnMiLCJleHRyYVN0eWxlIiwiYWRkZWRTdHlsZSIsInRhZyIsImdldEF0dHJpYnV0ZSIsIkVMRU1FTlRfVUlEX0FUVFJJQlVURSIsImdlbmVyYXRlRWxlbWVudFVJRCIsInNldEF0dHJpYnV0ZSIsIkxBWUVSX0FUVFJJQlVURSIsInBhcmVudExheWVyIiwiZ2V0Q2xvc2VzdExheWVyIiwiY2FjaGVkQ2FudmFzZXMiLCJfV2ViTGF5ZXIiLCJERUZBVUxUX0NBQ0hFX1NJWkUiLCJfaGFzaGluZ0NhbnZhcyIsInN2Z0hhc2giLCJjYWNoZWRCb3VuZHMiLCJjYWNoZWRNYXJnaW4iLCJfY3VycmVudFNWR0hhc2giLCJfY3VycmVudEJvdW5kcyIsIl9jdXJyZW50TWFyZ2luIiwicHJldmlvdXNDYW52YXNIYXNoIiwic3ZnQ2FudmFzSGFzaCIsImNhbnZhc0hhc2giLCJjYW52YXMiLCJfY3VycmVudENhbnZhcyIsInJvb3RMYXllciIsInRyYXZlcnNlUGFyZW50TGF5ZXJzIiwidHJhdmVyc2VDaGlsZExheWVycyIsImNoaWxkTGF5ZXJzIiwidHJhdmVyc2VMYXllcnMiLCJuZWVkc1JlZnJlc2giLCJfdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMiLCJhZGRUb1NlcmlhbGl6ZVF1ZXVlIiwib2xkQ2hpbGRMYXllcnMiLCJwcmV2aW91c1BhcmVudExheWVyIiwiX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllciIsIm5lZWRzUmVtb3ZhbCIsInN0eWxlcyIsImxheWVyRWxlbWVudCIsInBhZGRpbmciLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwiYm9yZGVyIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiZWxlbWVudEF0dHJpYnV0ZSIsImF0dHJpYnV0ZUhUTUwiLCJuZWVkc0lubGluZUJsb2NrIiwiZGlzcGxheSIsInVwZGF0ZUlucHV0QXR0cmlidXRlcyIsInBhcmVudHNIVE1MIiwiX2dldFBhcmVudHNIVE1MIiwiUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSIsInN2Z0NTUyIsImxheWVySFRNTCIsImdldFJlbmRlcmluZ0NTUyIsInNlcmlhbGl6ZVRvU3RyaW5nIiwic2VyaWFsaXphdGlvblJlcGxhY2VyIiwiUkVOREVSSU5HX0FUVFJJQlVURSIsIlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFIiwiZ2V0UHN1ZWRvQXR0cmlidXRlcyIsInBzZXVkb1N0YXRlcyIsImRvY1N0cmluZyIsInN2Z0RvYyIsIl9zdmdEb2N1bWVudCIsIl9zdmdIYXNoIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsInNoYTI1Ni5oYXNoIiwidHJ5U2V0RnJvbVNWR0hhc2giLCJhZGRUb1Jhc3Rlcml6ZVF1ZXVlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlbmRlciIsImFkZFRvUmVuZGVyUXVldWUiLCJzdmdJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJfc3ZnSGFzaFJhc3Rlcml6aW5nIiwic3JjIiwiX3N2Z1NyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbXBsZXRlIiwiY3VycmVudFNyYyIsImZ1bGxXaWR0aCIsImZ1bGxIZWlnaHQiLCJoYXNoaW5nQ2FudmFzIiwiaHciLCJoaCIsImhjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZHJhd0ltYWdlIiwiaGFzaERhdGEiLCJnZXRJbWFnZURhdGEiLCJzdmdSZXRyeUNvdW50IiwicmV0cnlDb3VudCIsInBpeGVsUmF0aW8iLCJQSVhFTF9SQVRJT19BVFRSSUJVVEUiLCJkZXZpY2VQaXhlbFJhdGlvIiwibmV3Q2FudmFzIiwib3BlbnMiLCJjbG9zZXMiLCJSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSIsImNsb3NlIiwiV2ViTGF5ZXIiLCJSZXNpemVPYnNlcnZlckJveE9wdGlvbnMiLCJSZXNpemVPYnNlcnZlckJveE9wdGlvbnMyIiwicmVzaXplT2JzZXJ2ZXJzIiwibXNnIiwidHJpZ2dlciIsIlJlc2l6ZU9ic2VydmVyU2l6ZSIsImlubGluZVNpemUiLCJET01SZWN0UmVhZE9ubHkiLCJmcm9tUmVjdCIsInJlY3RhbmdsZSIsIkRPTVJlY3RSZWFkT25seTIiLCJpc1NWRyIsIlNWR0VsZW1lbnQiLCJpc0hpZGRlbiIsImdldEJCb3giLCJnZXRDbGllbnRSZWN0cyIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJXZWFrTWFwIiwic2Nyb2xsUmVnZXhwIiwidmVydGljYWxSZWdleHAiLCJJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBhcnNlRGltZW5zaW9uIiwicGl4ZWwiLCJzd2l0Y2hTaXplcyIsInplcm9Cb3hlcyIsImRldmljZVBpeGVsQ29udGVudEJveFNpemUiLCJib3JkZXJCb3hTaXplIiwiY29udGVudEJveFNpemUiLCJjb250ZW50UmVjdCIsImNhbGN1bGF0ZUJveFNpemVzIiwiZm9yY2VSZWNhbGN1bGF0aW9uIiwiY3MiLCJzdmciLCJvd25lclNWR0VsZW1lbnQiLCJyZW1vdmVQYWRkaW5nIiwiYm94U2l6aW5nIiwid3JpdGluZ01vZGUiLCJjYW5TY3JvbGxWZXJ0aWNhbGx5Iiwib3ZlcmZsb3dZIiwiY2FuU2Nyb2xsSG9yaXpvbnRhbGx5Iiwib3ZlcmZsb3dYIiwiYm9yZGVyVG9wIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJCb3R0b20iLCJob3Jpem9udGFsUGFkZGluZyIsInZlcnRpY2FsUGFkZGluZyIsImhvcml6b250YWxCb3JkZXJBcmVhIiwidmVydGljYWxCb3JkZXJBcmVhIiwiaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyIsInZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzIiwid2lkdGhSZWR1Y3Rpb24iLCJoZWlnaHRSZWR1Y3Rpb24iLCJjb250ZW50V2lkdGgiLCJjb250ZW50SGVpZ2h0IiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJib3hlcyIsImNhbGN1bGF0ZUJveFNpemUiLCJvYnNlcnZlZEJveCIsIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWCIsIkJPUkRFUl9CT1giLCJSZXNpemVPYnNlcnZlckVudHJ5IiwiY2FsY3VsYXRlRGVwdGhGb3JOb2RlIiwicGFyZW50Tm9kZSIsImJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyIsInNoYWxsb3dlc3REZXB0aCIsImNhbGxiYWNrczIiLCJybyIsImFjdGl2ZVRhcmdldHMiLCJvdCIsInRhcmdldERlcHRoIiwibGFzdFJlcG9ydGVkU2l6ZSIsIm9ic2VydmVyIiwiY2FsbGJhY2tzXzEiLCJnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIiwic2tpcHBlZFRhcmdldHMiLCJvYnNlcnZhdGlvblRhcmdldHMiLCJpc0FjdGl2ZSIsInByb2Nlc3MiLCJldmVudCIsIkVycm9yRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJjYWxsYmFja3MiLCJxdWV1ZU1pY3JvVGFzayIsInRvZ2dsZV8xIiwiZWxfMSIsImNyZWF0ZVRleHROb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsImNiMiIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwidGV4dENvbnRlbnQiLCJ3YXRjaGluZyIsIm9ic2VydmVyQ29uZmlnIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImV2ZW50cyIsInRpbWUiLCJ0aW1lb3V0Iiwibm93Iiwic2NoZWR1bGVkIiwic2NoZWR1bGVyIiwiX3RoaXMiLCJzdG9wcGVkIiwic2NoZWR1bGUiLCJydW4iLCJ1bnRpbCIsImVsZW1lbnRzSGF2ZVJlc2l6ZWQiLCJzdG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3QiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU2NoZWR1bGVyMiIsInVwZGF0ZUNvdW50IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJDT05URU5UX0JPWCIsImlzUmVwbGFjZWRFbGVtZW50IiwiUmVzaXplT2JzZXJ2YXRpb24yIiwiUmVzaXplT2JzZXJ2ZXJEZXRhaWwiLCJyZXNpemVPYnNlcnZlciIsIm9ic2VydmVyTWFwIiwiZ2V0T2JzZXJ2YXRpb25JbmRleCIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciIsImNvbm5lY3QiLCJkZXRhaWwiLCJmaXJzdE9ic2VydmF0aW9uIiwidW5vYnNlcnZlIiwibGFzdE9ic2VydmF0aW9uIiwiUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyMiIsIlJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIyIiwic2VsZiIsIlBvbHlmaWxsIiwic2NyYXRjaE1hdDEiLCJzY3JhdGNoTWF0MiIsInRleHREZWNvZGVyIiwiQVRUUklCVVRFX1BSRUZJWCIsIl9uZXh0VUlEIiwic3RhdGVzIiwiSE9WRVJfQVRUUklCVVRFIiwiRk9DVVNfQVRUUklCVVRFIiwiQUNUSVZFX0FUVFJJQlVURSIsIlRBUkdFVF9BVFRSSUJVVEUiLCJyb290Tm9kZSIsImdldFJvb3ROb2RlIiwic3R5bGVSb290IiwiaGVhZCIsInJvb3ROb2RlT2JzZXJ2ZXJzIiwiY29udGFpbmVyU3R5bGUiLCJjb250YWluZXJTdHlsZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIl9XZWJSZW5kZXJlciIsIlJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFIiwicmVuZGVyaW5nU3R5bGVFbGVtZW50IiwiYXBwZW5kIiwicHJldmlvdXNIYXNoIiwib25IYXNoQ2hhbmdlIiwibG9jYXRpb24iLCJ0YXJnZXRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImV2dCIsImZvY3VzRWxlbWVudCIsInNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzIiwic2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQiLCJTVFlMRV9OT0RFUyIsIm11dGF0aW9ucyIsImVtYmVkZGVkQ1NTIiwiYWRkZWROb2RlcyIsImF0dHJpYnV0ZU9sZFZhbHVlIiwiY2hhcmFjdGVyRGF0YU9sZFZhbHVlIiwic2VyaWFsaXplUXVldWUiLCJyYXN0ZXJpemVRdWV1ZSIsInJlbmRlclF1ZXVlIiwidGFza3NQZW5kaW5nIiwibWF4U3luY1RpbWUiLCJUQVNLX1NZTkNfTUFYX1RJTUUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsInNlcmlhbGl6ZSIsInJhc3Rlcml6ZVRhc2tDb3VudCIsIlRBU0tfQVNZTkNfTUFYX0NPVU5UIiwicmFzdGVyaXplIiwiZmluYWxseSIsInNjaGVkdWxlSWRsZSIsIl9ydW5UYXNrcyIsImhvc3RpbmdPcHRpb25zIiwiY29udGFpbmVyIiwidG91Y2hBY3Rpb24iLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiaW5pdFJvb3ROb2RlT2JzZXJ2YXRpb24iLCJfaGFuZGxlTXV0YXRpb25zIiwibXV0YXRpb25PYnNlcnZlcnMiLCJzdGFydE11dGF0aW9uT2JzZXJ2ZXIiLCJyZWNvcmQiLCJyZWNvcmRzIiwibGF5ZXIyIiwic2V0TGF5ZXJOZWVkc1JlZnJlc2giLCJfdHJpZ2dlclJlZnJlc2giLCJjYXB0dXJlIiwicm9vdExheWVycyIsImluY2x1c2l2ZSIsImNsb3Nlc3RMYXllckVsZW1lbnQiLCJjbG9zZXN0IiwiaG9zdCIsInBpeGVsU2l6ZSIsInRyYW5zZm9ybU9yaWdpbiIsIm9yaWdpbiIsIm94Iiwib3kiLCJUMSIsIm1ha2VUcmFuc2xhdGlvbiIsIlQyIiwicHJlbXVsdGlwbHkiLCJwcm9taXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRBdHRyaWJ1dGVOUyIsInJlbW92ZUF0dHJpYnV0ZU5TIiwiZGF0YVVSTCIsImltZ0VsZW1lbnQiLCJnZW5lcmF0ZUVtYmVkZGVkQ1NTIiwiaHJlZiIsImNzcyIsInRha2VSZWNvcmRzIiwic2hlZXRzIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsIm5ld1J1bGVzIiwiY3NzVGV4dCIsImJpbmFyeSIsImJ0b2EiLCJ1cmwiLCJmb3VuZCIsImF0dHJpYnV0ZUNTUyIsInJlZ0V4IiwicmVzb3VyY2VVUkwiLCJhY2NlcHQiLCJ4aHIiLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVzcG9uc2VUeXBlIiwiZW1iZWRkZWQiLCJzdHlsZUVsZW1lbnRzIiwiaW5TaGFkb3ciLCJTaGFkb3dSb290IiwiYWxsUnVsZXMiLCJmb250UnVsZXMiLCJydWxlIiwiQ1NTUnVsZSIsIkZPTlRfRkFDRV9SVUxFIiwibG9hZGluZyIsInNldEludGVydmFsIiwicHJvY2Vzc1NoZWV0UnVsZXMiLCJmb250U3R5bGVzIiwiX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzIiwiZGF0YVVSTE1hcCIsImRhdGFVUkxQcm9taXNlIiwicmVzb2x2ZURhdGFVUkwiLCJnZXRVUkwiLCJyZXNwb25zZSIsImNvbnRlbnRUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJiYXNlNjQiLCJfdXBkYXRlSW5wdXRBdHRyaWJ1dGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlucHV0RWxlbWVudCIsImNoZWNrZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJpbWFnZURhdGEiLCJzZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsImFjdGl2ZUVsZW1lbnQiLCJhdHRyaWJ1dGVOYW1lIiwib2xkVmFsdWUiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsImNsYXNzTmFtZSIsIlRIUkVFIiwiX1RIUkVFIiwic2NyYXRjaE1hdHJpeCIsInNjcmF0Y2hWZWN0b3IiLCJzY3JhdGNoVmVjdG9yMiIsInNjcmF0Y2hCb3VuZHMiLCJzY3JhdGNoQm91bmRzMiIsIk9OX0JFRk9SRV9VUERBVEUiLCJPYmplY3QzRCIsIk1lc2giLCJXZWJMYXllcjNEIiwiR0VPTUVUUlkiLCJNZXNoQmFzaWNNYXRlcmlhbCIsInNpZGUiLCJEb3VibGVTaWRlIiwiZGVwdGhXcml0ZSIsInRyYW5zcGFyZW50IiwiYWxwaGFUZXN0Iiwib3BhY2l0eSIsIk1lc2hEZXB0aE1hdGVyaWFsIiwiZGVwdGhQYWNraW5nIiwiUkdCQURlcHRoUGFja2luZyIsIl93ZWJMYXllciIsImNvbnRlbnRNZXNoIiwiX2JvdW5kc01lc2giLCJjdXJzb3IiLCJtYXRyaXhBdXRvVXBkYXRlIiwiZGVwdGhNYXRlcmlhbCIsIm9uQmVmb3JlUmVuZGVyIiwicmVuZGVyZXIiLCJzY2VuZSIsIl9jYW1lcmEiLCJsYXllcnNCeUVsZW1lbnQiLCJsYXllcnNCeU1lc2giLCJ2aWRlbyIsInRleHR1cmVzIiwiVmlkZW9UZXh0dXJlIiwid3JhcFMiLCJDbGFtcFRvRWRnZVdyYXBwaW5nIiwid3JhcFQiLCJtaW5GaWx0ZXIiLCJMaW5lYXJGaWx0ZXIiLCJ0ZXh0dXJlRW5jb2RpbmciLCJlbmNvZGluZyIsImN1cnJlbnRDYW52YXMiLCJUZXh0dXJlIiwibmVlZHNVcGRhdGUiLCJwYXJlbnRXZWJMYXllciIsImNoaWxkV2ViTGF5ZXJzIiwicmVmcmVzaCIsIl9yZWZyZXNoVmlkZW9Cb3VuZHMiLCJfdXBkYXRlRE9NTGF5b3V0IiwiX2xvY2FsWiIsInNldEZyb21NYXRyaXhQb3NpdGlvbiIsIl92aWV3WiIsImdldFdvcmxkUG9zaXRpb24iLCJwYXJlbnRSZW5kZXJaIiwiX3JlbmRlcloiLCJyZW5kZXJPcmRlciIsInJlbmRlck9yZGVyT2Zmc2V0IiwibWVzaCIsInRleHR1cmUiLCJjdXJyZW50VGV4dHVyZSIsIm1hdGVyaWFsIiwiaW1hZ2UiLCJ0ZXh0dXJlTmVlZHNVcGRhdGUiLCJjb250ZW50U2NhbGUiLCJhc3BlY3QiLCJ0YXJnZXRBc3BlY3QiLCJkb21TaXplIiwiaXNIaWRkZW4yIiwiZGlzcG9zZSIsInVwZGF0ZUNvbnRlbnQiLCJ1cGRhdGVMYXlvdXQiLCJkb21MYXlvdXQiLCJhdXRvUmVmcmVzaCIsInNjaGVkdWxlVGFza3NJZk5lZWRlZCIsInRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIiLCJfZG9VcGRhdGUiLCJ0cmF2ZXJzZUxheWVyQW5jZXN0b3JzIiwidHJhdmVyc2VMYXllcnNQb3N0T3JkZXIiLCJkaXNwb3NlTGF5ZXIiLCJvYmplY3RGaXQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0IiwiY3VycmVudEJvdW5kcyIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsInZpZGVvUmF0aW8iLCJ2aWV3UmF0aW8iLCJyZXBlYXQiLCJjbGFtcFNjYWxhciIsImN1cnJlbnRNYXJnaW4iLCJpc1ZpZGVvIiwiREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQiLCJzaG91bGRBcHBseURPTUxheW91dCIsInBhcmVudEJvdW5kcyIsInBhcmVudE1hcmdpbiIsInBhcmVudEZ1bGxXaWR0aCIsInBhcmVudEZ1bGxIZWlnaHQiLCJwYXJlbnRMZWZ0RWRnZSIsInBhcmVudFRvcEVkZ2UiLCJjc3NUcmFuc2Zvcm0iLCJwYXJzZUNTU1RyYW5zZm9ybSIsInVwZGF0ZU1hdHJpeCIsImRlY29tcG9zZSIsImVsZW1lbnRPckhUTUwiLCJSYXljYXN0ZXIiLCJTZXQiLCJfcHJldmlvdXNIb3ZlckxheWVycyIsIl9jb250ZW50TWVzaGVzIiwiRE9NIiwiY3JlYXRlTGF5ZXJUcmVlIiwiV2ViTGF5ZXIzRENvbnRlbnQiLCJfdXBkYXRlSW50ZXJhY3Rpb25zIiwiaXNSb290Iiwib25MYXllckNyZWF0ZSIsImxheWVyM0QiLCJfV2ViTGF5ZXIzRCIsIm9uTGF5ZXJQYWludCIsInNob3VsZCIsIl9pbnRlcmFjdGlvblJheXMiLCJyYXlzIiwiYUxheWVyIiwiYkxheWVyIiwicHJldkhvdmVyIiwiX3ByZXBhcmVIaXRUZXN0IiwicmF5IiwiUmF5IiwiX3JheWNhc3RlciIsImdldFdvcmxkRGlyZWN0aW9uIiwibmVnYXRlIiwiX2hpdEludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0T2JqZWN0cyIsIl9pbnRlcnNlY3Rpb25Tb3J0IiwiaW50ZXJzZWN0aW9uIiwic2V0TmVlZHNSZWZyZXNoIiwicmF5Y2FzdGVyIiwibWVzaE1hcCIsImludGVyc2VjdE9iamVjdCIsImxheWVyQm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRzIiwiY2xpZW50WCIsInV2IiwiY2xpZW50WSIsImVsZW1lbnRCb3VuZGluZ1JlY3QiLCJERUZBVUxUX0xBWUVSX1NFUEFSQVRJT04iLCJQbGFuZUdlb21ldHJ5Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRTtBQUN4QyxJQUFJLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEMsSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDMUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQzVCLEtBQUs7QUFDTCxJQUFJLE9BQU8sZ0JBQWdCLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFdB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QixRQUFRLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLEdBQUcsQ0FBQyxDQUFDO0FBQzlELEtBQUs7QUFDTCxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLE1BQU0sQ0FBQyxDQUFDO0FBQzdELElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4QyxJQUFJLE1BQU0sSUFBSSxHQUFHLFNBQVMsR0FBRyxTQUFTLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDOUUsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ2xDLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLEtBQUs7QUFDTCxTQUFTLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDMUMsUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDeEMsS0FBSztBQUNMLFNBQVMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO0FBQ25DO0FBQ0E7QUFDQSxRQUFRLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEIsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsVUFBVSxHQUFHLEtBQUssRUFBRTtBQUN4QyxJQUFJLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLFdBQVcsQ0FBQztBQUM3QyxJQUFJLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QixJQUFJLElBQUksR0FBRyxLQUFL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
