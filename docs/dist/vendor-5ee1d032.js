/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject(value) ? reactive(value) : value;
const toReadonly = (value) => isObject(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
    else if (target !== rawTarget) {
        // #3602 readonly(reactive(Map))
        // ensure that the nested reactive `Map` can do tracking for itself
        target.get(key);
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job && job.active !== false) {
                if (("production" !== 'production') && checkRecursiveUpdates(seen, job)) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length ||
            pendingPreFlushCbs.length ||
            pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            const instance = fn.ownerInstance;
            const componentName = instance && getComponentName(instance.type);
            warn(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
            return true;
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment: Comment$1,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}
const globalCompatConfig = {
    MODE: 2
};
function getCompatConfigForKey(key, instance) {
    const instanceConfig = instance && instance.type.compatConfig;
    if (instanceConfig && key in instanceConfig) {
        return instanceConfig[key];
    }
    return globalCompatConfig[key];
}
function isCompatEnabled(key, instance, enableForBuiltIn = false) {
    // skip compat for built-in components
    if (!enableForBuiltIn && instance && instance.type.__isBuiltIn) {
        return false;
    }
    const rawMode = getCompatConfigForKey('MODE', instance) || 2;
    const val = getCompatConfigForKey(key, instance);
    const mode = isFunction(rawMode)
        ? rawMode(instance && instance.type)
        : rawMode;
    if (mode === 2) {
        return val !== false;
    }
    else {
        return val === true || val === 'suppress-warning';
    }
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            (instance.emitted = {})[handlerName] = true;
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.emitsCache;
    const cached = cache.get(comp);
    if (cached !== undefined) {
        return cached;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, null);
        return null;
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    cache.set(comp, normalized);
    return normalized;
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only
) {
    if (!ctx)
        return fn;
    // already normalized
    if (fn._n) {
        return fn;
    }
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we disable block tracking and
        // force bail out when invoking a compiled slot (indicated by the ._d flag).
        // This isn't necessary if rendering a compiled `<slot>`, so we flip the
        // ._d flag off when invoking the wrapped fn inside `renderSlot`.
        if (renderFnWithContext._d) {
            setBlockTracking(-1);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (renderFnWithContext._d) {
            setBlockTracking(1);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentUpdated(ctx);
        }
        return res;
    };
    // mark normalized to avoid duplicated wrapping
    renderFnWithContext._n = true;
    // mark this as compiled by default
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    // disable block tracking by default
    renderFnWithContext._d = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (fallthroughAttrs && inheritAttrs !== false) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment$1) ;
            }
        }
        if (false &&
            isCompatEnabled("INSTANCE_ATTRS_CLASS_STYLE" /* INSTANCE_ATTRS_CLASS_STYLE */, instance) &&
            vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */ &&
            (root.shapeFlag & 1 /* ELEMENT */ ||
                root.shapeFlag & 6 /* COMPONENT */)) ;
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment$1);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment$1 || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment$1 // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue()
                : defaultValue;
        }
        else ;
    }
}
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    let isMultiSource = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        isMultiSource = true;
        forceTrigger = source.some(isReactive);
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep ||
                forceTrigger ||
                (isMultiSource
                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))
                    : hasChanged(newValue, oldValue)) ||
                (false  )) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job; // the scheduler function gets called directly
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, value, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? source.includes('.')
            ? createPathGetter(publicThis, source)
            : () => publicThis[source]
        : source.bind(publicThis, publicThis);
    let cb;
    if (isFunction(value)) {
        cb = value;
    }
    else {
        cb = value.handler;
        options = value;
    }
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function traverse(value, seen = new Set()) {
    if (!isObject(value) ||
        seen.has(value) ||
        value["__v_skip" /* SKIP */]) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else if (isPlainObject(value)) {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)
(!isInSSRComponentSetup || lifecycle === "sp" /* SERVER_PREFETCH */) &&
    injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onServerPrefetch = createHook("sp" /* SERVER_PREFETCH */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
function onErrorCaptured(hook, target = currentInstance) {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
}
let shouldCacheAccess = true;
function applyOptions(instance) {
    const options = resolveMergedOptions(instance);
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    // do not cache property access on public proxy during state initialization
    shouldCacheAccess = false;
    // call beforeCreate first before accessing other options since
    // the hook may mutate resolved options (#2791)
    if (options.beforeCreate) {
        callHook(options.beforeCreate, instance, "bc" /* BEFORE_CREATE */);
    }
    const { 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // lifecycle
    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, 
    // public API
    expose, inheritAttrs, 
    // assets
    components, directives, filters } = options;
    const checkDuplicateProperties = null;
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        resolveInjections(injectOptions, ctx, checkDuplicateProperties);
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (dataOptions) {
        const data = dataOptions.call(publicThis, publicThis);
        if (!isObject(data)) ;
        else {
            instance.data = reactive(data);
        }
    }
    // state initialization complete at this point - start caching access
    shouldCacheAccess = true;
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        for (const key in watchOptions) {
            createWatcher(watchOptions[key], ctx, publicThis, key);
        }
    }
    if (provideOptions) {
        const provides = isFunction(provideOptions)
            ? provideOptions.call(publicThis)
            : provideOptions;
        Reflect.ownKeys(provides).forEach(key => {
            provide(key, provides[key]);
        });
    }
    if (created) {
        callHook(created, instance, "c" /* CREATED */);
    }
    function registerLifecycleHook(register, hook) {
        if (isArray(hook)) {
            hook.forEach(_hook => register(_hook.bind(publicThis)));
        }
        else if (hook) {
            register(hook.bind(publicThis));
        }
    }
    registerLifecycleHook(onBeforeMount, beforeMount);
    registerLifecycleHook(onMounted, mounted);
    registerLifecycleHook(onBeforeUpdate, beforeUpdate);
    registerLifecycleHook(onUpdated, updated);
    registerLifecycleHook(onActivated, activated);
    registerLifecycleHook(onDeactivated, deactivated);
    registerLifecycleHook(onErrorCaptured, errorCaptured);
    registerLifecycleHook(onRenderTracked, renderTracked);
    registerLifecycleHook(onRenderTriggered, renderTriggered);
    registerLifecycleHook(onBeforeUnmount, beforeUnmount);
    registerLifecycleHook(onUnmounted, unmounted);
    registerLifecycleHook(onServerPrefetch, serverPrefetch);
    if (isArray(expose)) {
        if (expose.length) {
            const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
            expose.forEach(key => {
                exposed[key] = toRef(publicThis, key);
            });
        }
        else if (!instance.exposed) {
            instance.exposed = EMPTY_OBJ;
        }
    }
    // options that are handled when creating the instance but also need to be
    // applied from mixins
    if (render && instance.render === NOOP) {
        instance.render = render;
    }
    if (inheritAttrs != null) {
        instance.inheritAttrs = inheritAttrs;
    }
    // asset options.
    if (components)
        instance.components = components;
    if (directives)
        instance.directives = directives;
}
function resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {
    if (isArray(injectOptions)) {
        injectOptions = normalizeInject(injectOptions);
    }
    for (const key in injectOptions) {
        const opt = injectOptions[key];
        if (isObject(opt)) {
            if ('default' in opt) {
                ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
            }
            else {
                ctx[key] = inject(opt.from || key);
            }
        }
        else {
            ctx[key] = inject(opt);
        }
    }
}
function callHook(hook, instance, type) {
    callWithAsyncErrorHandling(isArray(hook)
        ? hook.map(h => h.bind(instance.proxy))
        : hook.bind(instance.proxy), instance, type);
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
/**
 * Resolve merged options and cache it on the component.
 * This is done only once per-component since the merging does not involve
 * instances.
 */
function resolveMergedOptions(instance) {
    const base = instance.type;
    const { mixins, extends: extendsOptions } = base;
    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;
    const cached = cache.get(base);
    let resolved;
    if (cached) {
        resolved = cached;
    }
    else if (!globalMixins.length && !mixins && !extendsOptions) {
        {
            resolved = base;
        }
    }
    else {
        resolved = {};
        if (globalMixins.length) {
            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));
        }
        mergeOptions(resolved, base, optionMergeStrategies);
    }
    cache.set(base, resolved);
    return resolved;
}
function mergeOptions(to, from, strats, asMixin = false) {
    const { mixins, extends: extendsOptions } = from;
    if (extendsOptions) {
        mergeOptions(to, extendsOptions, strats, true);
    }
    if (mixins) {
        mixins.forEach((m) => mergeOptions(to, m, strats, true));
    }
    for (const key in from) {
        if (asMixin && key === 'expose') ;
        else {
            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);
            to[key] = strat ? strat(to[key], from[key]) : from[key];
        }
    }
    return to;
}
const internalOptionMergeStrats = {
    data: mergeDataFn,
    props: mergeObjectOptions,
    emits: mergeObjectOptions,
    // objects
    methods: mergeObjectOptions,
    computed: mergeObjectOptions,
    // lifecycle
    beforeCreate: mergeHook,
    created: mergeHook,
    beforeMount: mergeHook,
    mounted: mergeHook,
    beforeUpdate: mergeHook,
    updated: mergeHook,
    beforeDestroy: mergeHook,
    destroyed: mergeHook,
    activated: mergeHook,
    deactivated: mergeHook,
    errorCaptured: mergeHook,
    serverPrefetch: mergeHook,
    // assets
    components: mergeObjectOptions,
    directives: mergeObjectOptions,
    // watch has special merge behavior in v2, but isn't actually needed in v3.
    // since we are only exposing these for compat and nobody should be relying
    // on the watch-specific behavior, just expose the object merge strat.
    watch: mergeObjectOptions,
    // provide / inject
    provide: mergeDataFn,
    inject: mergeInject
};
function mergeDataFn(to, from) {
    if (!from) {
        return to;
    }
    if (!to) {
        return from;
    }
    return function mergedDataFn() {
        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);
    };
}
function mergeInject(to, from) {
    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));
}
function normalizeInject(raw) {
    if (isArray(raw)) {
        const res = {};
        for (let i = 0; i < raw.length; i++) {
            res[raw[i]] = raw[i];
        }
        return res;
    }
    return raw;
}
function mergeHook(to, from) {
    return to ? [...new Set([].concat(to, from))] : from;
}
function mergeObjectOptions(to, from) {
    return to ? extend(extend(Object.create(null), to), from) : from;
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    // ensure all declared prop keys are present
    for (const key in instance.propsOptions[0]) {
        if (!(key in props)) {
            props[key] = undefined;
        }
    }
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    let hasAttrsChanged = false;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                let key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        if (value !== attrs[key]) {
                            attrs[key] = value;
                            hasAttrsChanged = true;
                        }
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);
                    }
                }
                else {
                    if (value !== attrs[key]) {
                        attrs[key] = value;
                        hasAttrsChanged = true;
                    }
                }
            }
        }
    }
    else {
        // full props update.
        if (setFullProps(instance, rawProps, props, attrs)) {
            hasAttrsChanged = true;
        }
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                    hasAttrsChanged = true;
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    if (hasAttrsChanged) {
        trigger(instance, "set" /* SET */, '$attrs');
    }
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    let hasAttrsChanged = false;
    let rawCastValues;
    if (rawProps) {
        for (let key in rawProps) {
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            const value = rawProps[key];
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                if (!needCastKeys || !needCastKeys.includes(camelKey)) {
                    props[camelKey] = value;
                }
                else {
                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;
                }
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                if (value !== attrs[key]) {
                    attrs[key] = value;
                    hasAttrsChanged = true;
                }
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        const castValues = rawCastValues || EMPTY_OBJ;
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));
        }
    }
    return hasAttrsChanged;
}
function resolvePropValue(options, props, key, value, instance, isAbsent) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue.call(null, props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (isAbsent && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    const cache = appContext.propsCache;
    const cached = cache.get(comp);
    if (cached) {
        return cached;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        cache.set(comp, EMPTY_ARR);
        return EMPTY_ARR;
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    const res = [normalized, needCastKeys];
    cache.set(comp, res);
    return res;
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => {
    const normalized = withCtx((props) => {
        return normalizeSlotValue(rawSlot(props));
    }, ctx);
    normalized._c = false;
    return normalized;
};
const normalizeObjectSlots = (rawSlots, slots, instance) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // users can get the shallow readonly version of the slots object through `this.$slots`,
            // we should avoid the proxy object polluting the slots of the internal instance
            instance.slots = toRaw(children);
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        let hook = binding.dir[name];
        if (hook) {
            // disable tracking inside all lifecycle hooks
            // since they can potentially be called inside effects.
            pauseTracking();
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
            resetTracking();
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            errorHandler: undefined,
            warnHandler: undefined,
            compilerOptions: {}
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null),
        optionsCache: new WeakMap(),
        propsCache: new WeakMap(),
        emitsCache: new WeakMap()
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));
        return;
    }
    if (isAsyncWrapper(vnode) && !isUnmount) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    const refValue = vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */
        ? vnode.component.exposed || vnode.component.proxy
        : vnode.el;
    const value = isUnmount ? null : refValue;
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // dynamic ref changed. unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            {
                refs[ref] = value;
            }
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment$1:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // oldVNode may be an errored async setup() component inside Suspense
            // which will not have a mounted element
            oldVNode.el &&
                // - In the case of a Fragment, we need to provide the actual parent
                // of the Fragment itself so it can move its children.
                (oldVNode.type === Fragment ||
                    // - In the case of different nodes, there is going to be a replacement
                    // which also requires the correct parent container
                    !isSameVNodeType(oldVNode, newVNode) ||
                    // - In the case of a component, it could contain anything.
                    oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                    oldVNode.shapeFlag & 64 /* TELEPORT */)
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (dynamicChildren) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        // resolve props and slots for setup context
        {
            setupComponent(instance);
        }
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment$1));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    const hydrateSubTree = () => {
                        instance.subTree = renderComponentRoot(instance);
                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);
                    };
                    if (isAsyncWrapper(initialVNode)) {
                        initialVNode.type.__asyncLoader().then(
                        // note: we are moving the render call into an async callback,
                        // which means it won't track dependencies - but it's ok because
                        // a server-rendered async wrapper is already in resolved state
                        // and it will never need to change.
                        () => !instance.isUnmounted && hydrateSubTree());
                    }
                    else {
                        hydrateSubTree();
                    }
                }
                else {
                    const subTree = (instance.subTree = renderComponentRoot(instance));
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                if (initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, vnode, true);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment$1 = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
// Whether we should be tracking dynamic child nodes inside a block.
// Only tracks when this value is > 0
// We are not using a simple boolean because this value may need to be
// incremented/decremented by nested usage of v-once (see below)
let isBlockTreeEnabled = 1;
/**
 * Block tracking sometimes needs to be disabled, for example during the
 * creation of a tree that needs to be cached by v-once. The compiler generates
 * code like this:
 *
 * ``` js
 * _cache[1] || (
 *   setBlockTracking(-1),
 *   _cache[1] = createVNode(...),
 *   setBlockTracking(1),
 *   _cache[1]
 * )
 * ```
 *
 * @private
 */
function setBlockTracking(value) {
    isBlockTreeEnabled += value;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren =
        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (isBlockTreeEnabled > 0 && currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment$1;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        __v_skip: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        type.normalize(vnode);
    }
    if (isBlockTreeEnabled > 0 &&
        // avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    const cloned = {
        __v_isVNode: true,
        __v_skip: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
    return cloned;
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment$1);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, 
        // #3666, avoid reference pollution when reusing vnode
        child.slice());
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return cloneIfMounted(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && (slot._d = false);
                normalizeChildren(vnode, slot());
                slot._c && (slot._d = true);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.slots._ === 1 /* STABLE */) {
                    children._ = 1 /* STABLE */;
                }
                else {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, incoming)
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // let @vue/reactivity know it should never observe Vue public instances.
        if (key === "__v_skip" /* SKIP */) {
            return true;
        }
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            {
                return globalProperties[key];
            }
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // inheritAttrs
        inheritAttrs: type.inheritAttrs,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null,
        sp: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR, skipOptions) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__ && !(false )) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.1.1";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
let tempContainer;
let tempSVGContainer;
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: innerHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG) {
        const temp = isSVG
            ? tempSVGContainer ||
                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))
            : tempContainer || (tempContainer = doc.createElement('div'));
        temp.innerHTML = content;
        const first = temp.firstChild;
        let node = first;
        let last = node;
        while (node) {
            last = node;
            nodeOps.insert(node, parent, anchor);
            node = temp.firstChild;
        }
        return [first, last];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG, instance) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        if (value == null) {
            el.removeAttribute(key);
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            // __UNSAFE__
            // Reason: potential execution of JS expressions in in-DOM template.
            // The user must make sure the in-DOM template is trusted. If it's
            // rendered by the server, the template should not contain any user data.
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}e.prototype.isVector2=!0;const r=[];for(let Lh=0;Lh<256;Lh++)r[Lh]=(Lh<16?"0":"")+Lh.toString(16);let n=1234567;const i=Math.PI/180,s=180/Math.PI;function a(t,e,r){return Math.max(e,Math.min(r,t))}function o(t,e){return (t%e+e)%e}function u(t,e,r){return (1-r)*t+r*e}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:i,RAD2DEG:s,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:a,euclideanModulo:o,mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},inverseLerp:function(t,e,r){return t!==e?(r-t)/(e-t):0},lerp:u,damp:function(t,e,r,n){return u(t,e,1-Math.exp(-r*n))},pingpong:function(t,e=1){return e-Math.abs(o(t,2*e)-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i},radToDeg:function(t){return t*s},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}});class c{constructor(t=0,e=0,r=0,n=1){this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(t,e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(0===a)return t[e+0]=o,t[e+1]=u,t[e+2]=h,void(t[e+3]=c);if(1===a)return t[e+0]=l,t[e+1]=p,t[e+2]=f,void(t[e+3]=d);if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(a(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}slerpQuaternions(t,e,r){this.copy(t).slerp(e,r);}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}c.prototype.isQuaternion=!0;class l{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(f.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return p.copy(this).projectOnVector(t),this.sub(p)}reflect(t){return this.sub(p.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(a(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}l.prototype.isVector3=!0;const p=new l,f=new c;class m{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new m).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/y.setFromMatrixColumn(t,0).length(),i=1/y.setFromMatrixColumn(t,1).length(),s=1/y.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(v,t,x)}lookAt(t,e,r){const n=this.elements;return _.subVectors(t,e),0===_.lengthSq()&&(_.z=1),_.normalize(),w.crossVectors(r,_),0===w.lengthSq()&&(1===Math.abs(r.z)?_.x+=1e-4:_.z+=1e-4,_.normalize(),w.crossVectors(r,_)),w.normalize(),b.crossVectors(_,w),n[0]=w.x,n[4]=b.x,n[8]=_.x,n[1]=w.y,n[5]=b.y,n[9]=_.y,n[2]=w.z,n[6]=b.z,n[10]=_.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],N=n[12],E=n[1],S=n[5],T=n[9],O=n[13],z=n[2],C=n[6],A=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*E+o*z+u*D,i[4]=s*_+a*S+o*C+u*k,i[8]=s*M+a*T+o*A+u*I,i[12]=s*N+a*O+o*R+u*L,i[1]=h*b+c*E+l*z+p*D,i[5]=h*_+c*S+l*C+p*k,i[9]=h*M+c*T+l*A+p*I,i[13]=h*N+c*O+l*R+p*L,i[2]=f*b+d*E+m*z+y*D,i[6]=f*_+d*S+m*C+y*k,i[10]=f*M+d*T+m*A+y*I,i[14]=f*N+d*O+m*R+y*L,i[3]=g*b+v*E+x*z+w*D,i[7]=g*_+v*S+x*C+w*k,i[11]=g*M+v*T+x*A+w*I,i[15]=g*N+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15],g=c*m*u-d*l*u+d*o*p-a*m*p-c*o*y+a*l*y,v=f*l*u-h*m*u-f*o*p+s*m*p+h*o*y-s*l*y,x=h*d*u-f*c*u+f*a*p-s*d*p-h*a*y+s*c*y,w=f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m,b=e*g+r*v+n*x+i*w;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/b;return t[0]=g*_,t[1]=(d*l*i-c*m*i-d*n*p+r*m*p+c*n*y-r*l*y)*_,t[2]=(a*m*i-d*o*i+d*n*u-r*m*u-a*n*y+r*o*y)*_,t[3]=(c*o*i-a*l*i-c*n*u+r*l*u+a*n*p-r*o*p)*_,t[4]=v*_,t[5]=(h*m*i-f*l*i+f*n*p-e*m*p-h*n*y+e*l*y)*_,t[6]=(f*o*i-s*m*i-f*n*u+e*m*u+s*n*y-e*o*y)*_,t[7]=(s*l*i-h*o*i+h*n*u-e*l*u-s*n*p+e*o*p)*_,t[8]=x*_,t[9]=(f*c*i-h*d*i-f*r*p+e*d*p+h*r*y-e*c*y)*_,t[10]=(s*d*i-f*a*i+f*r*u-e*d*u-s*r*y+e*a*y)*_,t[11]=(h*a*i-s*c*i-h*r*u+e*c*u+s*r*p-e*a*p)*_,t[12]=w*_,t[13]=(h*d*n-f*c*n+f*r*l-e*d*l-h*r*m+e*c*m)*_,t[14]=(f*a*n-s*d*n-f*r*o+e*d*o+s*r*m-e*a*m)*_,t[15]=(s*c*n-h*a*n+h*r*o-e*c*o-s*r*l+e*a*l)*_,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,n,i,s){return this.set(1,r,i,0,t,1,s,0,e,n,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=y.set(n[0],n[1],n[2]).length();const s=y.set(n[4],n[5],n[6]).length(),a=y.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],g.copy(this);const o=1/i,u=1/s,h=1/a;return g.elements[0]*=o,g.elements[1]*=o,g.elements[2]*=o,g.elements[4]*=u,g.elements[5]*=u,g.elements[6]*=u,g.elements[8]*=h,g.elements[9]*=h,g.elements[10]*=h,e.setFromRotationMatrix(g),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}m.prototype.isMatrix4=!0;const y=new l,g=new m,v=new l(0,0,0),x=new l(1,1,1),w=new l,b=new l,_=new l;new m;new c;const D=new e;class k{constructor(t=new e(1/0,1/0),r=new e(-1/0,-1/0)){this.min=t,this.max=r;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return void 0===r&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new e),r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return void 0===r&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new e),r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return D.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}k.prototype.isBox2=!0;class I{constructor(t=new l(1/0,1/0,1/0),e=new l(-1/0,-1/0,-1/0)){this.min=t,this.max=e;}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.length;o<u;o+=3){const u=t[o],h=t[o+1],c=t[o+2];u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.count;o<u;o++){const u=t.getX(o),h=t.getY(o),c=t.getZ(o);u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=B.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new l),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),F.copy(e.boundingBox),F.applyMatrix4(t.matrixWorld),this.union(F));const r=t.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new l),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,B),B.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return !1;this.getCenter($),G.subVectors(this.max,$),P.subVectors(t.a,$),U.subVectors(t.b,$),j.subVectors(t.c,$),q.subVectors(U,P),H.subVectors(j,U),V.subVectors(P,j);let e=[0,-q.z,q.y,0,-H.z,H.y,0,-V.z,V.y,q.z,0,-q.x,H.z,0,-H.x,V.z,0,-V.x,-q.y,q.x,0,-H.y,H.x,0,-V.y,V.x,0];return !!Z(e,P,U,j,G)&&(e=[1,0,0,0,1,0,0,0,1],!!Z(e,P,U,j,G)&&(W.crossVectors(q,H),e=[W.x,W.y,W.z],Z(e,P,U,j,G)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new l),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return B.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(B).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(L[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),L[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),L[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),L[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),L[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),L[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),L[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),L[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(L)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}I.prototype.isBox3=!0;const L=[new l,new l,new l,new l,new l,new l,new l,new l],B=new l,F=new I,P=new l,U=new l,j=new l,q=new l,H=new l,V=new l,$=new l,G=new l,W=new l,Y=new l;function Z(t,e,r,n,i){for(let s=0,a=t.length-3;s<=a;s+=3){Y.fromArray(t,s);const a=i.x*Math.abs(Y.x)+i.y*Math.abs(Y.y)+i.z*Math.abs(Y.z),o=e.dot(Y),u=r.dot(Y),h=n.dot(Y);if(Math.max(-Math.max(o,u,h),Math.min(o,u,h))>a)return !1}return !0}new l;new l;new l;new l;new l;new l;new l;new l;new l;class ot{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}invert(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=h*s-a*u,l=a*o-h*i,p=u*i-s*o,f=e*c+r*l+n*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return t[0]=c*d,t[1]=(n*u-h*r)*d,t[2]=(a*r-n*s)*d,t[3]=l*d,t[4]=(h*e-n*o)*d,t[5]=(n*i-a*e)*d,t[6]=p*d,t[7]=(r*o-u*e)*d,t[8]=(s*e-r*i)*d,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);return this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1),this}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return (new this.constructor).fromArray(this.elements)}}ot.prototype.isMatrix3=!0;new l;new l;new ot;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new l(0,0,0));Object.freeze(new l(1,0,0));Object.freeze(new l(0,1,0));Object.freeze(new l(0,0,1));Object.freeze(new l(1,1,1));Object.freeze(new c);({RIGHT:Object.freeze(new l(1,0,0)),UP:Object.freeze(new l(0,1,0)),NEAR:Object.freeze(new l(0,0,1)),LEFT:Object.freeze(new l(-1,0,0)),DOWN:Object.freeze(new l(0,-1,0)),FAR:Object.freeze(new l(0,0,-1))});new l;(()=>{const t=2*Math.PI,e=new l(0,0,1),r=new c,n=new c,i=new l,s=new c;return function(a=1,o=1){var u=(Math.random()-.5)*t*a,h=Math.random()*t,c=Math.random()*Math.PI*o;return i.set(1,0,0).applyAxisAngle(e,h),r.setFromAxisAngle(e,u),n.setFromAxisAngle(i,c),s.multiplyQuaternions(n,r)}})();(()=>{const t=new l;return function(e,r,n){const i=t.set(e.x,e.y,e.z),s=r.dot(i),a=t.copy(r).multiplyScalar(s),o=n.set(a.x,a.y,a.z,e.w).normalize();return s<0&&(o.x=-o.x,o.y=-o.y,o.z=-o.z,o.w=-o.w),o}})();new k,new k,new e,new e;new l,new l,new l,new l,new l,new l,new l;var ee=function(t){return function(e){return 1-t(1-e)}},re=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},ne=ee,ie=re,se=function(t){return function(e){return Math.pow(e,t)}},ae=function(t){return function(e){return e*e*((t+1)*e-t)}},oe=function(t){var e=ae(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ue=se(2),he=ee(ue),ce=re(ue),le=function(t){return 1-Math.sin(Math.acos(t))},pe=ee(le),fe=re(pe),de=ae(1.525),me=ee(de),ye=re(de),ge=oe(1.525),ve=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},xe="undefined"!=typeof Float32Array,we=function(t,e){return 1-3*e+3*t},be=function(t,e){return 3*e-6*t},_e=function(t){return 3*t},Me=function(t,e,r){return 3*we(e,r)*t*t+2*be(e,r)*t+_e(e)},Ne=function(t,e,r){return ((we(e,r)*t+be(e,r))*t+_e(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:ee,mirrored:re,createReversedEasing:ne,createMirroredEasing:ie,createExpoIn:se,createBackIn:ae,createAnticipateEasing:oe,linear:function(t){return t},easeIn:ue,easeOut:he,easeInOut:ce,circIn:le,circOut:pe,circInOut:fe,backIn:de,backOut:me,backInOut:ye,anticipate:ge,bounceOut:ve,bounceIn:function(t){return 1-ve(1-t)},bounceInOut:function(t){return t<.5?.5*(1-ve(1-2*t)):.5*ve(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=xe?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=Me(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=Me(n,t,r)))return n;n-=(Ne(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=Ne(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=Ne(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:Ne(s(i),e,n)}}});function Re(t){return "number"==typeof t}function De(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function ke(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ie(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Le(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Be(t){return "string"==typeof t}var Fe=Array.isArray;function Pe(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ue(t){return Array.isArray(t)||Pe(t)}function je(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function qe(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function He(t){return t&&!0===t.constructor.prototype.isRange||!1}function Ve(t){return t&&!0===t.constructor.prototype.isIndex||!1}function $e(t){return "boolean"==typeof t}function Ge(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function We(t){return t&&!0===t.constructor.prototype.isHelp||!1}function Ye(t){return "function"==typeof t}function Ze(t){return t instanceof Date}function Xe(t){return t instanceof RegExp}function Qe(t){return !(!t||"object"!=typeof t||t.constructor!==Object||ke(t)||Ie(t))}function Je(t){return null===t}function Ke(t){return void 0===t}function tr(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function er(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function rr(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function nr(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function ir(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function sr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function ar(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function lr(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function pr(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function fr(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function dr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function mr(t){return t&&!0===t.constructor.prototype.isChain||!1}function yr(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":De(t)?"BigNumber":ke(t)?"Complex":Ie(t)?"Fraction":Pe(t)?"Matrix":Le(t)?"Unit":Ve(t)?"Index":He(t)?"Range":Ge(t)?"ResultSet":hr(t)?t.type:mr(t)?"Chain":We(t)?"Help":"Object":"function"===e?"Function":e}function gr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return gr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(De(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return vr(t,gr)}function vr(t,e){var r={};for(var n in t)Er(t,n)&&(r[n]=e(t[n]));return r}function xr(t,e){for(var r in e)Er(e,r)&&(t[r]=e[r]);return t}function br(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!br(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!br(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!br(t[r],e[r]))return !1;return !0}return t===e}function Er(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kr=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=A(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(N):n.types:[]).map(M)}function M(t){return t.name}function N(t){return null===t.conversion||void 0===t.conversion}function E(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=E(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=E(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)N(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function C(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function A(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(N):a.types;if(a.restParam){var u=o.filter(N);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(C);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,N=l?x(s[4].params[0]):e,E=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,A=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,Q=c?s[3].params.length:-1,J=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===Q&&M(e)&&A(r)?H.apply(t,arguments):arguments.length===J&&N(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&E(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function J(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(Q(e),t)},"...Function":function(t){return B(Q(t),J(t))},"string, ...Function":function(t,e){return B(t,J(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function Ir(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Lr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Br(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Re(e)?r=e:Re(e.precision)&&(r=e.precision)),n){case"fixed":return Pr(t,r);case"exponential":return Ur(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=jr(Fr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Re(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Re(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Fr(t),a=e?jr(s,e):s;if(a.exponent<n||a.exponent>=i)return Ur(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(qr(e-o.length))),o=o.concat(qr(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=qr(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Fr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function Pr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Fr(t),n="number"==typeof e?jr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(qr(a-i.length))),s<0&&(i=qr(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Ur(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Fr(t),n=e?jr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(qr(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function jr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function qr(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Hr=Number.EPSILON||2220446049250313e-31;function Vr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Hr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function $r(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return Gr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():Gr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Gr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Wr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Yr(t,e){return "number"==typeof t?Br(t,e):De(t)?$r(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?Qr(t,e):Be(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+Yr(t[r],e))).join(", ")+"}":String(t)}function Zr(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function Xr(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qr(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=Qr(t[i],e);return r+="]"}return Yr(t,e)}function Jr(t,e,r){if(!(this instanceof Jr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function Kr(t,e,r){if(!(this instanceof Kr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function tn(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function en(t,e,r){var n,i=t.length;if(i!==e[r])throw new Jr(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new Jr(e.length-1,e.length,"<");en(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Jr(e.length+1,e.length,">")}function rn(t,e){if(0===e.length){if(Array.isArray(t))throw new Jr(t.length,0)}else en(t,e,0);}function nn(t,e){if(!Re(t)||!Ir(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Kr(t,e)}function sn(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Re(t)||!Ir(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(e)+")")})),an(t,e,0,void 0!==r?r:0),t}function an(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),an(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,an(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function on(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Jr(0,i(tn(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new Jr(i(e),i(tn(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof Jr)throw new Jr(i(e),i(tn(t)),"!=");throw o}return r}function un(t,e,r,n){var i=n||tn(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=hn(t,e,0);i.length<e;)i.push(1);return t}function hn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=hn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function cn(t,e){return Array.prototype.map.call(t,e)}function ln(t,e){Array.prototype.forEach.call(t,e);}function pn(t,e){return Array.prototype.join.call(t,e)}function fn(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?fn(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function mn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(gn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function gn(t){return t&&"?"===t[0]?t.slice(1):t}Jr.prototype=new RangeError,Jr.prototype.constructor=RangeError,Jr.prototype.name="DimensionError",Jr.prototype.isDimensionError=!0,Kr.prototype=new RangeError,Kr.prototype.constructor=RangeError,Kr.prototype.name="IndexError",Kr.prototype.isIndexError=!0;var vn=function(){return vn=kr.create,kr},xn=mn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=vn();return s.types=[{name:"number",test:Re},{name:"Complex",test:ke},{name:"BigNumber",test:De},{name:"Fraction",test:Ie},{name:"Unit",test:Le},{name:"string",test:Be},{name:"Chain",test:mr},{name:"Array",test:Fe},{name:"Matrix",test:Pe},{name:"DenseMatrix",test:je},{name:"SparseMatrix",test:qe},{name:"Range",test:He},{name:"Index",test:Ve},{name:"boolean",test:$e},{name:"ResultSet",test:Ge},{name:"Help",test:We},{name:"function",test:Ye},{name:"Date",test:Ze},{name:"RegExp",test:Xe},{name:"null",test:Je},{name:"undefined",test:Ke},{name:"AccessorNode",test:tr},{name:"ArrayNode",test:er},{name:"AssignmentNode",test:rr},{name:"BlockNode",test:nr},{name:"ConditionalNode",test:ir},{name:"ConstantNode",test:sr},{name:"FunctionNode",test:or},{name:"FunctionAssignmentNode",test:ar},{name:"IndexNode",test:ur},{name:"Node",test:hr},{name:"ObjectNode",test:cr},{name:"OperatorNode",test:lr},{name:"ParenthesisNode",test:pr},{name:"RangeNode",test:fr},{name:"SymbolNode",test:dr},{name:"Object",test:Qe}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||wn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||bn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||bn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||bn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||_n(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||wn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||_n(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||bn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||wn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||_n(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function wn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function bn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function _n(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Mn,Nn,En=mn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),Sn=9e15,Tn="0123456789abcdef",On="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Sn,maxE:Sn,crypto:!1},An=!0,Rn="[DecimalError] Invalid argument: ",Dn=Math.floor,kn=Math.pow,In=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ln=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Bn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn=1e7,Un=On.length-1,jn=zn.length-1,qn={name:"[object Decimal]"};function Hn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=ti(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=ti(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Vn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rn+t)}function $n(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=kn(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==kn(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==kn(10,e-3)-1,a}function Gn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Tn.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}qn.absoluteValue=qn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Yn(t)},qn.ceil=function(){return Yn(new this.constructor(this),this.e+1,2)},qn.comparedTo=qn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},qn.cosine=qn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/hi(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=ui(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,ci(n,r)),n.precision=t,n.rounding=e,Yn(2==Nn||3==Nn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},qn.cubeRoot=qn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(An=!1,(s=c.s*kn(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Hn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=kn(r,1/3),t=Dn((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=Wn(h.plus(c).times(o),h.plus(u),a+2,1),Hn(o.d).slice(0,a)===(r=Hn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Yn(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(Yn(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return An=!0,Yn(n,t,l.rounding,e)},qn.decimalPlaces=qn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-Dn(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},qn.dividedBy=qn.div=function(t){return Wn(this,new this.constructor(t))},qn.dividedToIntegerBy=qn.divToInt=function(t){var e=this.constructor;return Yn(Wn(this,new e(t),0,1,1),e.precision,e.rounding)},qn.equals=qn.eq=function(t){return 0===this.cmp(t)},qn.floor=function(){return Yn(new this.constructor(this),this.e+1,3)},qn.greaterThan=qn.gt=function(t){return this.cmp(t)>0},qn.greaterThanOrEqualTo=qn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},qn.hyperbolicCosine=qn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/hi(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=ui(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return Yn(s,a.precision=r,a.rounding=n,!0)},qn.hyperbolicSine=qn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=ui(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=ui(s,2,i=i.times(1/hi(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,Yn(i,e,r,!0)},qn.hyperbolicTangent=qn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Wn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},qn.inverseCosine=qn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?Jn(r,i,s):new r(0):new r(NaN):e.isZero()?Jn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Jn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},qn.inverseHyperbolicCosine=qn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,An=!1,r=r.times(r).minus(1).sqrt().plus(r),An=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},qn.inverseHyperbolicSine=qn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,An=!1,r=r.times(r).plus(1).sqrt().plus(r),An=!0,n.precision=t,n.rounding=e,r.ln())},qn.inverseHyperbolicTangent=qn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Yn(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Wn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},qn.inverseSine=qn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=Jn(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},qn.inverseTangent=qn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=jn)return (a=Jn(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=jn)return (a=Jn(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(An=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),An=!0,Yn(a,c.precision=l,c.rounding=p,!0)},qn.isFinite=function(){return !!this.d},qn.isInteger=qn.isInt=function(){return !!this.d&&Dn(this.e/7)>this.d.length-2},qn.isNaN=function(){return !this.s},qn.isNegative=qn.isNeg=function(){return this.s<0},qn.isPositive=qn.isPos=function(){return this.s>0},qn.isZero=function(){return !!this.d&&0===this.d[0]},qn.lessThan=qn.lt=function(t){return this.cmp(t)<0},qn.lessThanOrEqualTo=qn.lte=function(t){return this.cmp(t)<1},qn.logarithm=qn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(An=!1,a=si(h,o=l+5),n=e?Qn(c,o+10):si(t,o),$n((u=Wn(a,n,o,1)).d,i=l,p))do{if(a=si(h,o+=10),n=e?Qn(c,o+10):si(t,o),u=Wn(a,n,o,1),!s){+Hn(u.d).slice(i+1,i+15)+1==1e14&&(u=Yn(u,l+1,0));break}}while($n(u.d,i+=10,p));return An=!0,Yn(u,l,p)},qn.minus=qn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return An?Yn(t,o,u):t}if(r=Dn(t.e/7),c=Dn(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=Pn-1;--h[i],h[n]+=Pn;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=Xn(h,r),An?Yn(t,o,u):t):new d(3===u?-0:0)},qn.modulo=qn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Yn(new n(r),n.precision,n.rounding):(An=!1,9==n.modulo?(e=Wn(r,t.abs(),0,3,1)).s*=t.s:e=Wn(r,t,0,n.modulo,1),e=e.times(t),An=!0,r.minus(e))},qn.naturalExponential=qn.exp=function(){return ii(this)},qn.naturalLogarithm=qn.ln=function(){return si(this)},qn.negated=qn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Yn(t)},qn.plus=qn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),An?Yn(t,o,u):t;if(s=Dn(l.e/7),n=Dn(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/Pn|0,h[i]%=Pn;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=Xn(h,n),An?Yn(t,o,u):t},qn.precision=qn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Rn+t);return r.d?(e=Kn(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},qn.round=function(){var t=this,e=t.constructor;return Yn(new e(t),t.e+1,e.rounding)},qn.sine=qn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return ui(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/hi(5,r)),e=ui(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,ci(n,r)),n.precision=t,n.rounding=e,Yn(Nn>2?r.neg():r,t,e,!0)):new n(NaN)},qn.squareRoot=qn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(An=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Hn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=Dn((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(Wn(a,s,r+2,1)).times(.5),Hn(s.d).slice(0,r)===(e=Hn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Yn(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(Yn(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return An=!0,Yn(n,u,c.rounding,t)},qn.tangent=qn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=Wn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Yn(2==Nn||4==Nn?r.neg():r,t,e,!0)):new n(NaN)},qn.times=qn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=Dn(c.e/7)+Dn(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%Pn|0,e=o/Pn|0;s[i]=(s[i]+e)%Pn|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=Xn(s,r),An?Yn(t,l.precision,l.rounding):t},qn.toBinary=function(t,e){return li(this,2,t,e)},qn.toDecimalPlaces=qn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Vn(t,0,1e9),void 0===e?e=n.rounding:Vn(e,0,8),Yn(r,t+r.e+1,e))},qn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Zn(n,!0):(Vn(t,0,1e9),void 0===e?e=i.rounding:Vn(e,0,8),r=Zn(n=Yn(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},qn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=Zn(i):(Vn(t,0,1e9),void 0===e?e=s.rounding:Vn(e,0,8),r=Zn(n=Yn(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},qn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=Kn(d)-f.e-1)%7,e.d[0]=kn(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Rn+o);t=o.gt(e)?s>0?e:h:o;}for(An=!1,o=new m(Hn(d)),c=m.precision,m.precision=s=7*d.length*2;l=Wn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=Wn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=Wn(h,n,s,1).minus(f).abs().cmp(Wn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,An=!0,p},qn.toHexadecimal=qn.toHex=function(t,e){return li(this,16,t,e)},qn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Vn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(An=!1,r=Wn(r,t,0,e,1).times(t),An=!0,Yn(r)):(t.s=r.s,r=t),r},qn.toNumber=function(){return +this},qn.toOctal=function(t,e){return li(this,8,t,e)},qn.toPower=qn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(kn(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return Yn(o,n,s);if((e=Dn(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=ei(u,o,r,n),t.s<0?new u(1).div(i):Yn(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=kn(+o,h))&&isFinite(r)?new u(r+"").e:Dn(h*(Math.log("0."+Hn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(An=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=ii(t.times(si(o,n+r)),n)).d&&$n((i=Yn(i,n+5,1)).d,n,s)&&(e=n+10,+Hn((i=Yn(ii(t.times(si(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Yn(i,n+1,0))),i.s=a,An=!0,u.rounding=s,Yn(i,n,s))},qn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Zn(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Vn(t,1,1e9),void 0===e?e=i.rounding:Vn(e,0,8),r=Zn(n=Yn(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},qn.toSignificantDigits=qn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Vn(t,1,1e9),void 0===e?e=r.rounding:Vn(e,0,8)),Yn(new r(this),t,e)},qn.toString=function(){var t=this,e=t.constructor,r=Zn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},qn.truncated=qn.trunc=function(){return Yn(new this.constructor(this),this.e+1,1)},qn.valueOf=qn.toJSON=function(){var t=this,e=t.constructor,r=Zn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var Wn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,N,E,S,T,O,z=n.constructor,C=n.s==i.s?1:-1,A=n.d,R=i.d;if(!(A&&A[0]&&R&&R[0]))return new z(n.s&&i.s&&(A?!R||A[0]!=R[0]:R)?A&&0==A[0]||!R?0*C:C/0:NaN);for(u?(f=1,c=n.e-i.e):(u=Pn,f=7,c=Dn(n.e/f)-Dn(i.e/f)),T=R.length,E=A.length,v=(g=new z(C)).d=[],l=0;R[l]==(A[l]||0);l++);if(R[l]>(A[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<E||p)&&_--;l++)M=p*u+(A[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<E;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),A=t(A,p,u),T=R.length,E=A.length),N=T,w=(x=A.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=A[N]||0:(x=[A[N]],w=1);}while((N++<E||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,Mn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,Yn(g,o?s+g.e+1:s,a,d);}return g}}();function Yn(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/kn(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/kn(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%kn(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/kn(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=kn(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=kn(10,7-s),l[p]=a>0?(c/kn(10,i-a)%kn(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==Pn&&(l[0]=1));break}if(l[p]+=o,l[p]!=Pn)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return An&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function Zn(t,e,r){if(!t.isFinite())return ai(t);var n,i=t.e,s=Hn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ti(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+ti(-i-1)+s,r&&(n=r-a)>0&&(s+=ti(n))):i>=a?(s+=ti(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ti(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ti(n))),s}function Xn(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function Qn(t,e,r){if(e>Un)throw An=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return Yn(new t(On),e,1,!0)}function Jn(t,e,r){if(e>jn)throw Error("[DecimalError] Precision limit exceeded");return Yn(new t(zn),e,r,!0)}function Kn(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function ti(t){for(var e="";t--;)e+="0";return e}function ei(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(An=!1;;){if(r%2&&pi((s=s.times(e)).d,a)&&(i=!0),0===(r=Dn(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}pi((e=e.times(e)).d,a);}return An=!0,s}function ri(t){return 1&t.d[t.d.length-1]}function ni(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function ii(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(An=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(kn(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=Yn(s.times(t),u,1),r=r.times(++c),Hn((o=a.plus(Wn(s,r,u,1))).d).slice(0,u)===Hn(a.d).slice(0,u)){for(i=l;i--;)a=Yn(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&$n(a.d,u-n,f,h)))return Yn(a,p.precision=d,f,An=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function si(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(An=!1,c=v):c=e,y.precision=c+=10,n=(r=Hn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=Qn(y,c+2,v).times(s+""),d=si(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?Yn(d,v,g,An=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Hn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=Wn(d.minus(1),d.plus(1),c,1),p=Yn(d.times(d),c,1),i=3;;){if(a=Yn(a.times(p),c,1),Hn((h=u.plus(Wn(a,new y(i),c,1))).d).slice(0,c)===Hn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(Qn(y,c+2,v).times(s+""))),u=Wn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!$n(u.d,c-10,g,o))return Yn(u,y.precision=v,g,An=!0);y.precision=c+=10,h=a=d=Wn(l.minus(1),l.plus(1),c,1),p=Yn(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function ai(t){return String(t.s*t.s/0)}function oi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),An&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function ui(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(An=!1,u=r.times(r),o=new t(n);;){if(a=Wn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=Wn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return An=!0,a.d.length=c+1,a}function hi(t,e){for(var r=t;--e;)r*=t;return r}function ci(t,e){var r,n=e.s<0,i=Jn(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Nn=n?4:1,e;if((r=e.divToInt(i)).isZero())Nn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return Nn=ri(r)?n?2:3:n?4:1,e;Nn=ri(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function li(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Vn(r,1,1e9),void 0===n?n=f.rounding:Vn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=Zn(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=Gn(Zn(p),10,i),p.e=p.d.length),s=u=(l=Gn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=Wn(t,p,r,n,0,i)).d,s=t.e,h=Mn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=Tn.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=Gn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=Tn.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=ai(t);return t.s<0?"-"+c:c}function pi(t,e){if(t.length>e)return t.length=e,!0}function fi(t){return new this(t).abs()}function di(t){return new this(t).acos()}function mi(t){return new this(t).acosh()}function yi(t,e){return new this(t).plus(e)}function gi(t){return new this(t).asin()}function vi(t){return new this(t).asinh()}function xi(t){return new this(t).atan()}function wi(t){return new this(t).atanh()}function bi(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?Jn(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=Jn(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Wn(t,e,s,1)),e=Jn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Wn(t,e,s,1)):(r=Jn(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function _i(t){return new this(t).cbrt()}function Mi(t){return Yn(t=new this(t),t.e+1,2)}function Ni(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Sn,0,"toExpPos",0,Sn,"maxE",0,Sn,"minE",-Sn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Cn[r]),void 0!==(n=t[r])){if(!(Dn(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Rn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Cn[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Rn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function Ei(t){return new this(t).cos()}function Si(t){return new this(t).cosh()}function Ti(t,e){return new this(t).div(e)}function Oi(t){return new this(t).exp()}function zi(t){return Yn(t=new this(t),t.e+1,3)}function Ci(){var t,e,r=new this(0);for(An=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return An=!0,new this(1/0);r=e;}return An=!0,r.sqrt()}function Ai(t){return t instanceof Qi||t&&"[object Decimal]"===t.name||!1}function Ri(t){return new this(t).ln()}function Di(t,e){return new this(t).log(e)}function ki(t){return new this(t).log(2)}function Ii(t){return new this(t).log(10)}function Li(){return ni(this,arguments,"lt")}function Bi(){return ni(this,arguments,"gt")}function Fi(t,e){return new this(t).mod(e)}function Pi(t,e){return new this(t).mul(e)}function Ui(t,e){return new this(t).pow(e)}function ji(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Vn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=kn(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function qi(t){return Yn(t=new this(t),t.e+1,this.rounding)}function Hi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Vi(t){return new this(t).sin()}function $i(t){return new this(t).sinh()}function Gi(t){return new this(t).sqrt()}function Wi(t,e){return new this(t).sub(e)}function Yi(t){return new this(t).tan()}function Zi(t){return new this(t).tanh()}function Xi(t){return Yn(t=new this(t),t.e+1,1)}qn[Symbol.for("nodejs.util.inspect.custom")]=qn.toString,qn[Symbol.toStringTag]="Decimal";var Qi=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(An?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(An?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):oi(i,t.toString())}if("string"!==n)throw Error(Rn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Fn.test(t)?oi(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ln.test(e))r=16,e=e.toLowerCase();else if(In.test(e))r=2;else {if(!Bn.test(e))throw Error(Rn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=ei(n,new n(r),s,2*s)),s=c=(h=Gn(e,r,Pn)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=Xn(h,c),t.d=h,An=!1,a&&(t=Wn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?kn(2,u):Qi.pow(2,u))),An=!0,t)}(i,t)}if(s.prototype=qn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ni,s.clone=t,s.isDecimal=Ai,s.abs=fi,s.acos=di,s.acosh=mi,s.add=yi,s.asin=gi,s.asinh=vi,s.atan=xi,s.atanh=wi,s.atan2=bi,s.cbrt=_i,s.ceil=Mi,s.cos=Ei,s.cosh=Si,s.div=Ti,s.exp=Oi,s.floor=zi,s.hypot=Ci,s.ln=Ri,s.log=Di,s.log10=Ii,s.log2=ki,s.max=Li,s.min=Bi,s.mod=Fi,s.mul=Pi,s.pow=Ui,s.random=ji,s.round=qi,s.sign=Hi,s.sin=Vi,s.sinh=$i,s.sqrt=Gi,s.sub=Wi,s.tan=Yi,s.tanh=Zi,s.trunc=Xi,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Cn);On=new Qi(On),zn=new Qi(zn);var Ji,Ki=mn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=Qi.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),ts={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
Ji=ts,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return isNaN(r.re)||isNaN(r.im),r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Ji.exports=s;}();var es=Rr(ts.exports),rs=mn("Complex",[],(()=>(es.prototype.type="Complex",es.prototype.isComplex=!0,es.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},es.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},es.prototype.format=function(t){var e=this.im,r=this.re,n=Br(this.re,t),i=Br(this.im,t),s=Re(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},es.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return es(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Re(r)){if(Le(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Re(n))return new es({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},es.prototype.valueOf=es.prototype.toString,es.fromJSON=function(t){return new es(t)},es.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},es)),{isClass:!0}),ns={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=1,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(ns);var is=Rr(ns.exports),ss=mn("Fraction",[],(()=>(is.prototype.type="Fraction",is.prototype.isFraction=!0,is.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},is.fromJSON=function(t){return new is(t)},is)),{isClass:!0}),as=mn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(De(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(De(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(De(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return Lr(r)===Lr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Br(this.start,t);return 1!==this.step&&(e+=":"+Br(this.step,t)),e+=":"+Br(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),os=mn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),us=mn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Be(e))throw new Error("Invalid datatype: "+e);if(Pe(t))"DenseMatrix"===t.type?(this._data=gr(t._data),this._size=gr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Fe(t.data)&&Fe(t.size))this._data=t.data,this._size=t.size,rn(this._data,this._size),this._datatype=e||t.datatype;else if(Fe(t))this._data=h(t),this._size=tn(this._data),rn(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+yr(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Ve(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new Jr(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)nn(s[o],t._size[o]),nn(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return nn(e,t.length),t[e]})).valueOf():a.map((function(s){return nn(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if(Pe(r)?(i=r.size(),r=r.valueOf()):i=tn(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new Jr(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=un(r,s.length,c,i);}if(!br(s,i))throw new Jr(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){nn(e),t[e]=r[n[0]];})):o.forEach((function(s,o){nn(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;Fe(n);)n=n[0];return n}return t._size=e.slice(0),t._data=sn(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];Fe(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return fn(this._data,yr)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);for(var e=0;e<t.length;e++)nn(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];nn(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!Fe(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Jr(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)nn(s=t[n],a.length),a=a[s];return nn(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ue(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=on(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:gr(this._data),size:gr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return Fe(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?fn(n,yr):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){Fe(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return gr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return Yr(this._data,t)},r.prototype.toString=function(){return Yr(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!Fe(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(De(n)&&(n=n.toNumber()),!Re(n)||!Ir(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(Fe(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if(Pe(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=De(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=sn(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Re(t)&&Ir(t)&&Re(e)&&Ir(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return nn(t,this._size[0]),nn(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function hs(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return hs(t,e)})):e(t)}var cs="number",ls="number, number";function ps(t){return Math.abs(t)}function fs(t,e){return t+e}function ds(t,e){return t*e}function ms(t){return -t}function ys(t){return Math.ceil(t)}function gs(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function vs(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function xs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(Pr(t,e))}ps.signature=cs,fs.signature=ls,ds.signature=ls,ms.signature=cs,ys.signature=cs,gs.signature=ls,vs.signature=ls,xs.signature=ls;var ws=mn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return hs(t,this)}})}));function bs(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var _s="equalScalar",Ms=mn(_s,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(_s,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Vr(t.re,e.re,r)&&Vr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));mn(_s,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(_s,{"number, number":function(t,e){return Vr(t,e,r.epsilon)}})}));var Ns=mn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Be(e))throw new Error("Invalid datatype: "+e);if(Pe(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?gr(e._values):void 0,t._index=gr(e._index),t._ptr=gr(e._ptr),t._size=gr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&Fe(t.index)&&Fe(t.ptr)&&Fe(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Fe(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+yr(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(Be(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(Fe(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Ve(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new Jr(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)nn(u[r],t._size[r]),nn(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if(Pe(r)?(i=r.size(),r=r.toArray()):i=tn(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new Jr(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=un(r,s.length,u,i);}if(!br(s,i))throw new Jr(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;Be(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?gr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return fn(this._values,yr)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];nn(e,this._size[0]),nn(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!Fe(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Jr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;Be(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),nn(s,o),nn(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ue(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Re(t)||!Ir(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!Fe(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Re(e)||!Ir(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yr(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?gr(this._values):void 0,index:gr(this._index),ptr:gr(this._ptr),size:gr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;Be(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+Yr(e,t)+" x "+Yr(r,t)+"] density: "+Yr(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+Yr(this._index[u],t)+", "+Yr(s,t)+") ==> "+(this._values?Yr(this._values[u],t):"X");}return i},i.prototype.toString=function(){return Yr(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!Fe(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(De(t)&&(t=t.toNumber()),!Re(t)||!Ir(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(De(s)&&(s=s.toNumber()),!Re(s)||!Ir(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;Be(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(Fe(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if(Pe(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Re(t)&&Ir(t)&&Re(e)&&Ir(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return nn(t,this._size[0]),nn(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),Es=mn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return hs(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),Ss=mn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return hs(t,this)}})})),Ts=mn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return hs(t,this)}})})),Os=mn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),zs=mn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:ms,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return hs(t,this)}})})),Cs=mn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:ps,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return hs(t,this)},Unit:function(t){return t.abs()}})})),As=mn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":fs,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Rs=mn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var N=o[M],E=s?y(n,a[M]):y(a[M],n);d(E,m)||(v.push(N),g.push(E));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Ds=mn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:gr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),ks=mn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Rs({typed:e,equalScalar:s}),o=Ds({typed:e});return e("ceil",{number:function(t){return Vr(t,n(t),r.epsilon)?n(t):ys(t)},"number, number":function(t,e){if(Vr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return bs(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return bs(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Qi.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number":function(t,e){return hs(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Is=mn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Ds({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return hs(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),Ls=mn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Rs({typed:e,equalScalar:s}),o=Ds({typed:e});return e("floor",{number:function(t){return Vr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Vr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return bs(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return bs(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Qi.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return hs(t,this)},"Array | Matrix, number":function(t,e){return hs(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Bs=mn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Jr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],N=c[d+1],E=M;E<N;E++)w[f=h[E]]=i?v(u[E],s[f][d]):v(s[f][d],u[E]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Fs=mn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Jr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,C=s&&c?[]:void 0,A=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(N=o[_],E=o[_+1],M=N;M<E;M++)b=a[M],T.push(b),A[b]=D,z&&(z[b]=s[M]);for(N=p[_],E=p[_+1],M=N;M<E;M++)if(A[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?A[b]=null:z[b]=k;}}else T.push(b),R[b]=D,C&&(C[b]=c[M]);if(z&&C)for(M=O[_];M<T.length;)A[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=C[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),Ps=mn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Us=mn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new Jr(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),js=mn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new Jr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var N=l[M],E=l[M+1],S=N;S<E;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),qs=mn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Jr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,N=c[_],E=c[_+1],S=N;S<E;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Hs=mn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Jr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,N,E=s&&c?[]:void 0,S=[],T=[],O=E?[]:void 0,z=E?[]:void 0,C=[],A=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],N=o[_+1];M<N;M++)b=a[M],S.push(b),C[b]=R,O&&(O[b]=s[M]);for(M=p[_],N=p[_+1];M<N;M++)C[b=l[M]]!==R&&S.push(b),A[b]=R,z&&(z[b]=c[M]);if(E)for(M=T[_];M<S.length;){var D=C[b=S[M]],k=A[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(E.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:E,index:S,ptr:T,size:[y,g],datatype:m})}})),Vs=mn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var N=0;N<p;N++)0===v&&(m[N]=[]),g[N]===x?m[N][v]=s?d(n,y[N]):d(y[N],n):m[N][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));mn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=js({typed:e,equalScalar:n}),a=qs({typed:e}),o=Hs({typed:e,equalScalar:n}),u=Rs({typed:e,equalScalar:n}),h=Vs({typed:e,DenseMatrix:i}),c=Us({typed:e}),l=Ds({typed:e});return e("mod",{"number, number":gs,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var Gs=mn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ds,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Ws=mn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Rs({typed:e,equalScalar:s}),u=Ds({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var N=0;N<d;N++){var E=l[N];if(!w(E,b))for(var S=u[N],T=u[N+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(E,a[O])):(M[z]=!0,y.push(z),_[z]=x(E,a[O]));}}for(var C=y.length,A=0;A<C;A++){var R=y[A];m[A]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],N=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),E=0;E<y;E++){M[E]=_.length;var S=l[E],T=l[E+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var C=z+1,A=void 0,R=S;R<T;R++){var D=c[R];O!==C?(A=v(a[z][D],h[R]),O=C):A=g(A,v(a[z][D],h[R]));}O!==C||x(A,w)||(_.push(z),b.push(A));}}return M[y]=_.length,N},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),N=[],E=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var C=u[O],A=u[O+1],R=C;R<A;R++){var D=o[R];E[D]!==T?(E[D]=T,b.push(D),N[D]=g(z,a[R])):N[D]=y(N[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=N[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,N,E,S,T=y?[]:void 0,O=[],z=[],C=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),A=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],N=p[D+1],_=M;_<N;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k?(R[E]=k,O.push(E),A[E]=v(c[_],a[x])):A[E]=g(A[E],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)E=o[x],R[E]!==k&&(R[E]=k,O.push(E));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=A[F];}}return z[m]=O.length,C}});return e("multiply",xr({"Array, Array":function(t,e){h(tn(t),tn(e));var n=this(r(t),r(e));return Pe(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),Ys=mn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Bs({typed:e}),u=qs({typed:e}),h=Hs({typed:e,equalScalar:n}),c=Ps({typed:e,DenseMatrix:a}),l=Us({typed:e}),p=Ds({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return Zs(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Zs(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Zs(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Zs(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function Zs(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new Jr(r.length,n.length)}var Xs=mn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new Jr(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,N=b[l]===_?x[l]:m;g[l][p]=y(M,N);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),Qs=mn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return hs(t,this)}})}));function Js(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function Ks(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:Js(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var ta=mn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=De(t)||De(e)?i:null;if(De(t)&&(t=t.toNumber()),De(e)&&(e=e.toNumber()),!Ir(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!Ir(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=sn([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function ea(){throw new Error('No "bignumber" implementation available')}function ra(){throw new Error('No "fraction" implementation available')}function na(t,e,r,n){if(!(this instanceof na))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}na.prototype=new Error,na.prototype.constructor=Error,na.prototype.name="ArgumentsError",na.prototype.isArgumentsError=!0;var ia=mn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:tn,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function sa(t,e){if(ha(t)&&oa(t,e))return t[e];if("function"==typeof t[e]&&ua(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function aa(t,e,r){if(ha(t)&&oa(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function oa(t,e){return !(!t||"object"!=typeof t)&&(!!Er(ca,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function ua(t,e){return null!=t&&"function"==typeof t[e]&&(!(Er(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!Er(la,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ha(t){return "object"==typeof t&&t&&t.constructor===Object}var ca={length:!0,name:!0},la={toString:!0,valueOf:!0,toLocaleString:!0},pa=mn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ma,"string, Index":fa,"Array, Index, any":function(t,e,n){return r(gr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(gr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":da,"string, Index, string, string":da,"Object, Index, any":ya})}));function fa(t,e){if(!Ve(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new Jr(e.size().length,1);var r=t.length;nn(e.min()[0],r),nn(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function da(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new Jr(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new Jr(i.size()[0],r.length);var s=t.length;nn(e.min()[0]),nn(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ma(t,e){if(1!==e.size().length)throw new Jr(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return sa(t,r)}function ya(t,e,r){if(1!==e.size().length)throw new Jr(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=gr(t);return aa(i,n,r),i}var ga=mn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){De(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!Ir(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?sn(a,t,r):a}})),va=mn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:Yr,"any, Object | function | number":Yr})})),xa=mn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):ea,Fraction:n?t=>n(t):ra};return function(t,e){var r=yr(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),wa=mn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,yr(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,yr(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),ba=mn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!Ir(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:Ir(e)||t>=0||r.predictable?vs(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!Ir(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=tn(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function _a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_a(Object(r),!0).forEach((function(e){Na(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Na(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ea="Number of decimals in function round must be an integer",Sa=mn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Rs({typed:e,equalScalar:n}),u=Vs({typed:e,DenseMatrix:a}),h=Ds({typed:e});return e("round",Ma(Ma({},Ta),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(Ea);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(Ea);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(Ea);return t.round(e)},"Array | Matrix":function(t){return hs(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),Ta={number:xs,"number, number":function(t,e){if(!Ir(e))throw new TypeError(Ea);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return xs(t,e)}},Oa=mn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));mn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var za=mn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Ca=mn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=qs({typed:e}),a=Xs({typed:e,DenseMatrix:i}),o=Vs({typed:e,DenseMatrix:i}),u=Us({typed:e}),h=Ds({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Vr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!bs(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Aa=mn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Ra=mn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});Ks((function(t){return new t(1).exp()}),{hasher:ka}),Ks((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:ka});var Da=Ks((function(t){return t.acos(-1)}),{hasher:ka});function ka(t){return t[0].precision}function Ia(){return (Ia=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function La(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ba(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?La(Object(r),!0).forEach((function(e){Fa(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Fa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ks((function(t){return Da(t).times(2)}),{hasher:ka});var Pa=mn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!ke(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)E();}function N(t){return t>="0"&&t<="9"}function E(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?E():"-"===n&&(e+=n,E()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,E(),!N(n))return S(i),null}else {for(;N(n);)e+=n,E();"."===n&&(e+=n,E());}for(;N(n);)e+=n,E();if("E"===n||"e"===n){var s="",a=r;if(s+=n,E(),"+"!==n&&"-"!==n||(s+=n,E()),!N(n))return S(a),e;for(e+=s;N(n);)e+=n,E();}return e}function O(){for(var t="";N(n)||_.isValidAlpha(n);)t+=n,E();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(E(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;E(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(N){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,E(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=C(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),E(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=gr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])Er(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(yr(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(yr(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(yr(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(yr(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var C=Ks((t=>{if(Er(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(Er(B,r)&&Wr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=Er(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function A(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==C(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ba({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ba(Ba({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,A(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,A(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=gr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(Le(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=gr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(Er(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&Er(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(Er(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!Er(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&ke(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)Er(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&ke(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(Er(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Ia({},R.SHORT,R.LONG),R.BINARY_SHORT=Ia({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Ia({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)Er(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Da(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!Er(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(Er(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(Er(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(Er(F,V)){var $=B[F[V]],G={};for(var W in $)Er($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(Er(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)Er(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Er(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!N(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(Er(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(Er(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)Er(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var E in l)Er(l,E)&&(M[E]=l[E]);M.name=b,_.UNITS[b]=M;}return delete C.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});mn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return hs(t,this)}})}));mn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));mn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Bs({typed:e}),u=Fs({typed:e,equalScalar:i}),h=Ps({typed:e,DenseMatrix:s}),c=Us({typed:e}),l=Ds({typed:e});return e("add",xr({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Ha=mn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=Pe(t)?t._data:t,c=Pe(t)?t._datatype:void 0,l=Pe(s)?s._data:s,p=Pe(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var N=y(i(h[0][0]),l[0][0]),E=1;E<u;E++)N=m(N,y(i(h[E][0]),l[E][0]));return N}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return Pe(t)?t.size():s(t)}})),Va={end:!0},$a=mn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(Er(t,e)&&e in Va)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!hr(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&br(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function Ga(t){return t&&t.isIndexError?new Kr(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function Wa(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return sa(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Ga(n)}}}var Ya=mn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=Wa({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError('Node expected for parameter "object"');if(!ur(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(tr(t)||er(t)||sr(t)||or(t)||cr(t)||pr(t)||dr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return sa(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),Za=mn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(hr))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=cn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(cn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return cn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var Xa=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Qa(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<Xa.length;i++)if(n in Xa[i])return i;return null}function Ja(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=Qa(r,e);if(null===i)return null;var s=Xa[i][n];if(Er(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function Ka(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=Qa(n,r);if(null===o)return null;var u=Xa[o][s];if(Er(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var to=mn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=Wa({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return aa(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Ga(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!dr(t)&&!tr(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(dr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!ur(this.index))throw new TypeError('IndexNode expected as "index"');if(!hr(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=Qa(t,e),n=Qa(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return aa(i,u,s)}}if(dr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return aa(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=sa(i,c),u=n(t,e,o),l=a(t,e,r);return aa(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!dr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return aa(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),eo=mn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!hr(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=cn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return ln(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),ro=mn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError("Parameter condition must be a Node");if(!hr(e))throw new TypeError("Parameter trueExpr must be a Node");if(!hr(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(De(t))return !t.isZero();if(ke(t))return !(!t.re&&!t.im);if(Le(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+yr(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.condition.toString(t),i=Qa(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=Qa(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=Qa(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.condition.toHTML(t),i=Qa(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=Qa(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=Qa(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),no=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},io={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},so={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ao=function(t,e){return no({},t,e)},oo={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},uo={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ho={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(uo.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(uo.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(uo.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(uo.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(uo.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(uo.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(uo.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(uo.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(uo.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(uo.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(uo.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(uo.bitAnd,"${args[1]}\\right)")},bitNot:{1:uo.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(uo.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(uo.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(uo.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(uo.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(uo.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(uo.and,"${args[1]}\\right)")},not:{1:uo.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(uo.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(uo.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(uo.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(uo.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(uo.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(uo.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(uo.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(uo.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(uo.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(uo.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(uo.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(uo.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(uo.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(oo.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},co={deg:"^\\circ"};function lo(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?ao:i,a=String(t),o="",u=s(no({},io),n?no({},so):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function po(t,e){return (e=void 0!==e&&e)?Er(co,t)?co[t]:"\\mathrm{"+lo(t)+"}":Er(oo,t)?oo[t]:lo(t)}var fo=mn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return Yr(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(yr(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(yr(this.value)){case"string":return "\\mathtt{"+lo(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),mo=mn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!hr(r))throw new TypeError('Node expected for parameter "expr"');if(t in Va)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=Qa(t,e),n=Qa(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);ln(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=pn(this.types,","),u=s+"("+pn(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,aa(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+Xr(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Xr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(po).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),yo=mn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(hr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(De(t)?t.toNumber():t,De(r)?r.toNumber():r,De(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=cn(this.dimensions,(function(r,i){if(fr(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(dr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=sa(t,"index");return function(t,e,n){var s=cn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&sr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Xr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),go=mn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return hr(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(Er(this.properties,n)){var i=Zr(n),s=JSON.parse(i);if(!oa(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)Er(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)Er(this.properties,e)&&t(this.properties[e],"properties["+Zr(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)Er(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+Zr(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)Er(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push(Zr(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push('<span class="math-symbol math-property">'+Xr(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)Er(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),vo=mn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=Qa(t,e),o=Ja(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=Qa(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===Xa[a][c].latexLeftParens){s=[!1];break}if(!1===Xa[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=Qa(n[0],e),d=Ka(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=Qa(n[1],e),x=Ka(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===Xa[a][m].latexLeftParens&&(l=!1),!1===Xa[f][y].latexParens&&(l=!1)),null!==v&&(!1===Xa[a][m].latexRightParens&&(p=!1),!1===Xa[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=Qa(r,e),i=Ka(t,r,e),s=Ja(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!ua(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=sa(t,this.fn),n=cn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,cn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Ja(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Ja(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Xr(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Xr(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(this.op)+"</span>"):'<span class="math-function">'+Xr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=uo[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=Ja(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),xo=mn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),wo=mn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!hr(t))throw new TypeError("Node expected");if(!hr(e))throw new TypeError("Node expected");if(n&&!hr(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=Qa(t,e),n={},i=Qa(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=Qa(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=Qa(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return dr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),bo=mn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!sa(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xr(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Qa(this,e),n=this.params.map((function(n,i){var s=Qa(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=uo[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function _o(){return (_o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function Mo(){return (Mo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var No={createBigNumberClass:Ki},Eo={createComplexClass:rs},So={createMatrixClass:os},To={MatrixDependencies:So,createDenseMatrixClass:us},Oo={createFractionClass:ss},zo={BigNumberDependencies:No,ComplexDependencies:Eo,DenseMatrixDependencies:To,FractionDependencies:Oo,createTyped:xn},Co={typedDependencies:zo,createEqualScalar:Ms},Ao={MatrixDependencies:So,equalScalarDependencies:Co,typedDependencies:zo,createSparseMatrixClass:Ns},Ro={typedDependencies:zo,createNumber:Es},Do={FractionDependencies:Oo,typedDependencies:zo,createFraction:Ts},ko={DenseMatrixDependencies:To,MatrixDependencies:So,SparseMatrixDependencies:Ao,typedDependencies:zo,createMatrix:Os},Io={typedDependencies:zo,createUnaryMinus:zs},Lo={typedDependencies:zo,createAbs:Cs},Bo={typedDependencies:zo,createAddScalar:As},Fo={BigNumberDependencies:No,DenseMatrixDependencies:To,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,zerosDependencies:{BigNumberDependencies:No,matrixDependencies:ko,typedDependencies:zo,createZeros:ga},createRound:Sa},Uo={typedDependencies:zo,createMultiplyScalar:Gs},jo={matrixDependencies:ko,typedDependencies:zo,createSize:ia},qo={addScalarDependencies:Bo,dotDependencies:{addScalarDependencies:Bo,conjDependencies:{typedDependencies:zo,createConj:Qs},multiplyScalarDependencies:Uo,sizeDependencies:jo,typedDependencies:zo,createDot:Ha},equalScalarDependencies:Co,matrixDependencies:ko,multiplyScalarDependencies:Uo,typedDependencies:zo,createMultiply:Ws},Ho={DenseMatrixDependencies:To,addScalarDependencies:Bo,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,unaryMinusDependencies:Io,createSubtract:Ys},Vo={DenseMatrixDependencies:To,matrixDependencies:ko,typedDependencies:zo,createLarger:Ca},$o={BigNumberDependencies:No,DenseMatrixDependencies:To,SparseMatrixDependencies:Ao,matrixDependencies:ko,typedDependencies:zo,createIdentity:ta},Wo={bignumberDependencies:{BigNumberDependencies:No,typedDependencies:zo,createBignumber:Ss},fractionDependencies:Do,numberDependencies:Ro,createNumeric:xa},Yo={numericDependencies:Wo,typedDependencies:zo,createDivideScalar:wa},Zo={matrixDependencies:ko,typedDependencies:zo,createSubset:pa},Xo={BigNumberDependencies:No,ComplexDependencies:Eo,FractionDependencies:Oo,absDependencies:Lo,addScalarDependencies:Bo,divideScalarDependencies:Yo,equalDependencies:{DenseMatrixDependencies:To,equalScalarDependencies:Co,matrixDependencies:ko,typedDependencies:zo,createEqual:Oa},fixDependencies:{ComplexDependencies:Eo,ceilDependencies:{equalScalarDependencies:Co,matrixDependencies:ko,roundDependencies:Fo,typedDependencies:zo,createCeil:ks},floorDependencies:{equalScalarDependencies:Co,matrixDependencies:ko,roundDependencies:Fo,typedDependencies:zo,createFloor:Ls},matrixDependencies:ko,typedDependencies:zo,createFix:Is},formatDependencies:{typedDependencies:zo,createFormat:va},isNumericDependencies:{typedDependencies:zo,createIsNumeric:ws},multiplyScalarDependencies:Uo,numberDependencies:Ro,powDependencies:{ComplexDependencies:Eo,fractionDependencies:Do,identityDependencies:$o,matrixDependencies:ko,multiplyDependencies:qo,numberDependencies:Ro,typedDependencies:zo,createPow:ba},roundDependencies:Fo,subtractDependencies:Ho,createUnitClass:Pa},Ko={createNode:$a},tu={UnitDependencies:Xo,NodeDependencies:Ko,createSymbolNode:mn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return sa(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?sa(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=Xr(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=po(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:Ko,subsetDependencies:Zo,createAccessorNode:Ya},ArrayNodeDependencies:{NodeDependencies:Ko,createArrayNode:Za},AssignmentNodeDependencies:{matrixDependencies:ko,NodeDependencies:Ko,subsetDependencies:Zo,createAssignmentNode:to},BlockNodeDependencies:{NodeDependencies:Ko,ResultSetDependencies:{createResultSet:En},createBlockNode:eo},ConditionalNodeDependencies:{NodeDependencies:Ko,createConditionalNode:ro},ConstantNodeDependencies:{NodeDependencies:Ko,createConstantNode:fo},FunctionAssignmentNodeDependencies:{NodeDependencies:Ko,typedDependencies:zo,createFunctionAssignmentNode:mo},FunctionNodeDependencies:{NodeDependencies:Ko,SymbolNodeDependencies:tu,createFunctionNode:mn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!hr(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(hr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=cn(this.args,(function(r){return r._compile(t,e)}));if(dr(this.fn)){var n=this.fn.name,s=n in t?sa(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?sa(e,n):s)(a,t,_o({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?sa(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?sa(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?sa(t,n):s).apply(null,cn(r,(function(r){return r(t,e,i)})))}}if(tr(this.fn)&&ur(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!ua(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,_o({},e,n)):s[l].apply(s,cn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,_o({},e,n)):s.apply(s,cn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(hr(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(hr(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!hr(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&Er(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (ar(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+Xr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&Er(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(ho[this.name]&&(r=ho[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:Ko,RangeDependencies:{createRangeClass:as},sizeDependencies:jo,createIndexNode:yo},ObjectNodeDependencies:{NodeDependencies:Ko,createObjectNode:go},OperatorNodeDependencies:{NodeDependencies:Ko,createOperatorNode:vo},ParenthesisNodeDependencies:{NodeDependencies:Ko,createParenthesisNode:xo},RangeNodeDependencies:{NodeDependencies:Ko,createRangeNode:wo},RelationalNodeDependencies:{NodeDependencies:Ko,createRelationalNode:bo},SymbolNodeDependencies:tu,numericDependencies:Wo,typedDependencies:zo,createParse:mn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return hs(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,N=3,E=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function C(t,e){return t.expression.substr(t.index,e)}function A(t){return C(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(A(t),t.nestingLevel);)R(t);if("#"===A(t))for(;"\n"!==A(t)&&""!==A(t);)t.comment+=A(t),R(t);if(""!==A(t)){if("\n"===A(t)&&!t.nestingLevel)return t.tokenType=_,t.token=A(t),void R(t);var e=A(t),r=C(t,2),n=C(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=C(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=A(t),R(t),t.token+=A(t),R(t);x.isHexDigit(A(t));)t.token+=A(t),R(t);return}if("."===A(t))t.token+=A(t),R(t),x.isDigit(A(t))||(t.tokenType=_);else {for(;x.isDigit(A(t));)t.token+=A(t),R(t);x.isDecimalMark(A(t),k(t))&&(t.token+=A(t),R(t));}for(;x.isDigit(A(t));)t.token+=A(t),R(t);if("E"===A(t)||"e"===A(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=A(t),R(t),"+"!==A(t)&&"-"!==A(t)||(t.token+=A(t),R(t)),!x.isDigit(A(t)))throw at(t,'Digit expected, got "'+A(t)+'"');for(;x.isDigit(A(t));)t.token+=A(t),R(t);if(x.isDecimalMark(A(t),k(t)))throw at(t,'Digit expected, got "'+A(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+A(t)+'"')}else {if(!x.isAlpha(A(t),D(t),k(t))){for(t.tokenType=E;""!==A(t);)t.token+=A(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(A(t),D(t),k(t))||x.isDigit(A(t));)t.token+=A(t),R(t);Er(T,t.token)?t.tokenType=_:t.tokenType=N;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};Mo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(dr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(tr(s))return L(t),n=U(t),new a(s.object,s.index,n);if(or(s)&&dr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){dr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Er(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Er(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};Er(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=Q(t);for(var s={"+":"add","-":"subtract"};Er(s,t.token);)n=s[r=t.token],L(t),i=[e,Q(t)],e=new d(r,n,i);return e}function Q(t){var e,r,n,i;r=e=J(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Er(s,t.token);)i=s[n=t.token],L(t),r=J(t),e=new d(n,i,[e,r]);return e}function J(t){var e,r;for(r=e=K(t);t.tokenType===N||"in"===t.token&&sr(e)||!(t.tokenType!==M||sr(r)||lr(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&sr(r);){if(n.push(Mo({},t)),L(t),t.tokenType!==M){Mo(t,n.pop());break}if(n.push(Mo({},t)),L(t),t.tokenType!==N&&"("!==t.token){n.pop(),Mo(t,n.pop());break}Mo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Er(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===N&&Er(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===N||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,Er(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===N||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;Er(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!dr(e)&&!tr(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==N)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==A(t)&&'"'!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==A(t)&&"'"!==A(t);)"\\"===A(t)&&(e+=A(t),R(t)),e+=A(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:zo,createEvaluate:mn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return hs(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return hs(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:Yo,equalScalarDependencies:Co,invDependencies:{absDependencies:Lo,addScalarDependencies:Bo,detDependencies:{lupDependencies:{DenseMatrixDependencies:To,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Vo,smallerDependencies:{DenseMatrixDependencies:To,matrixDependencies:ko,typedDependencies:zo,createSmaller:za},createFibonacciHeapClass:Aa},addScalarDependencies:Bo,equalScalarDependencies:Co,createSpaClass:Ra},SparseMatrixDependencies:Ao,absDependencies:Lo,addScalarDependencies:Bo,divideScalarDependencies:Yo,equalScalarDependencies:Co,largerDependencies:Vo,matrixDependencies:ko,multiplyScalarDependencies:Uo,subtractDependencies:Ho,typedDependencies:zo,unaryMinusDependencies:Io,createLup:mn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],N=[],E=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),N.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),C=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,C)&&(T=t,C=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,E[1],_,M,N),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return N.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:N,size:E}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=gr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,N=0,E=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,N)&&(M=e,N=T,E=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],E));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),C=new l({data:v,size:x}),A=[];for(e=0,d=w.length;e<d;e++)A[w[e]]=e;return {L:z,U:C,p:A,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:ko,multiplyDependencies:qo,subtractDependencies:Ho,typedDependencies:zo,unaryMinusDependencies:Io,createDet:mn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return gr(t)},"Array | Matrix":function(t){var e;switch((e=Pe(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return gr(t);case 1:if(1===e[0])return gr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return gr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yr(e)+")")}}})}))},divideScalarDependencies:Yo,identityDependencies:$o,matrixDependencies:ko,multiplyDependencies:qo,typedDependencies:zo,unaryMinusDependencies:Io,createInv:mn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=Pe(t)?t.size():tn(t);switch(e.length){case 1:if(1===e[0])return Pe(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+Yr(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return Pe(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+Yr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yr(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],N=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)N[l]=i(N[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)N[l]=n(N[l],p);}}}return g}}))},matrixDependencies:ko,multiplyDependencies:qo,typedDependencies:zo,createDivide:mn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Rs({typed:e,equalScalar:i}),u=Ds({typed:e});return e("divide",xr({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var nu={exports:{}};function iu(){}iu.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},nu.exports=iu,nu.exports.TinyEmitter=iu;new l;function pu(t,e,r,n=0){var i;n++;for(let s=(t=t.shadowRoot||t).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const t=null==(i=s.assignedElements)?void 0:i.call(s,{flatten:!0});if(t)for(const i of t)e.call(r,i,n)&&pu(s,e,r,n);e.call(r,s,n)&&pu(s,e,r,n);}}function fu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Ar);class du{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class mu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function yu(t,e=new du,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(yu(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}const gu=document.createElement("div");function vu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}gu.id="VIEWPORT",gu.style.position="fixed",gu.style.width="100vw",gu.style.height="100vh",gu.style.visibility="hidden",gu.style.pointerEvents="none";var xu={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(xu);var wu={exports:{}};function bu(t,e){return " "+t+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}function _u(t){var e=t.tagName;return "http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e}function Mu(t,e){let r="";for(const n of t.childNodes)r+=Nu(n,e);return r}function Nu(t,e){var r;const n=null==(r=e.replacer)?void 0:r.call(e,t);if("string"==typeof n)return n;if("#document"===t.nodeName||"#document-fragment"===t.nodeName)return Mu(t,e);if(t.tagName)return function(t,e){let r="<"+_u(t);r+=function(t,e){return t.hasAttribute("xmlns")||!e&&t.namespaceURI===t.parentElement.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(t,0===e.depth);for(const n of t.attributes)r+=bu(n.name,n.value);return t.childNodes.length>0?(e.depth++,r+=">",r+=Mu(t,e),r+="</"+_u(t)+">",e.depth--):r+="/>",r}(t,e);if("#text"===t.nodeName)return function(t){return (t.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t);if("#comment"===t.nodeName);else if("#cdata-section"===t.nodeName)return function(t){return "<![CDATA["+t.nodeValue+"]]>"}(t);return ""}!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(wu);const Eu=new TextEncoder,Su=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new du,this.padding=new mu,this.margin=new mu,this.border=new mu,this.childLayers=[],this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgHash="",this._svgDocument="",this._svgHashRasterizing="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=t=>{if(this.element===t)return;const e=t,r=wh.layers.get(e);if(r){const t=r.bounds;let n="";const i=`min-width:${t.width}px;min-height:${t.height}px;visibility:hidden`;let s=!1;for(const e of r.element.attributes)"src"!==e.name&&("style"==e.name?(n+=bu(e.name,e.value+";"+i),s=!0):n+=bu(e.name,e.value));s||(n+=bu("style",i));const a=e.tagName.toLowerCase();return `<${a} ${n}></${a}>`}},wh.layers.set(t,this),this.id=t.getAttribute(wh.ELEMENT_UID_ATTRIBUTE)||wh.generateElementUID(),t.setAttribute(wh.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(wh.LAYER_ATTRIBUTE,""),this.parentLayer=wh.getClosestLayer(this.element,!1),this.eventCallback("layercreated",{target:t}),Su.cachedCanvases.limit=wh.layers.size*Su.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}set canvas(t){this._canvas!==t&&(this._canvas=t,this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}));}get canvas(){return this._canvas}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){yu(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),this.needsRefresh=!1,this._updateParentAndChildLayers(),wh.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=wh.getClosestLayer(this.element,!1),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,pu(t,this._tryConvertElementToWebLayer,this);for(const i of r){wh.getClosestLayer(i.element,!1)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(wh.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(wh.ELEMENT_UID_ATTRIBUTE,wh.generateElementUID());if(e.hasAttribute(wh.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=wh.layers.get(e);return t||(t=new Su(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){if("VIDEO"===this.element.nodeName)return;let{width:t,height:e}=this.bounds;if(t*e>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(this.element,this.padding),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}(this.element,this.margin),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(this.element,this.border),t+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),e+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const i=wh.attributeHTML(wh.ELEMENT_UID_ATTRIBUTE,""+this.id),s=this.element,a="inline"===getComputedStyle(s).display;wh.updateInputAttributes(s);const o=(r=s,n=this.serializationReplacer,Nu(r,{depth:0,replacer:n}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")).replace(i,`${i} ${wh.RENDERING_ATTRIBUTE}="" ${a?`${wh.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+wh.getPsuedoAttributes(this.pseudoStates)),u=this._getParentsHTML(s);u[0]=u[0].replace("html","html "+wh.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const[h]=await Promise.all([wh.getRenderingCSS(this.element),wh.embedExternalResources(this.element)]),c='<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+h.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+t+'" height="'+e+'">'+u[0]+o+u[1]+"</foreignObject></svg>",l=this._svgDocument=c,p=this._svgHash=wh.arrayBufferToBase64(wu.exports.hash(Eu.encode(l))),f=Su.canvasHashes.get(p);if(f&&Su.cachedCanvases.has(f))return void(this.canvas=Su.cachedCanvases.get(f));this.cachedBounds.set(p,(new du).copy(this.bounds)),this.cachedMargin.set(p,(new mu).copy(this.margin)),wh.addToRasterizeQueue(this);}var r,n;}async rasterize(){return new Promise((t=>{this.svgImage.onload=()=>{wh.addToRenderQueue(this),t();},this._svgHashRasterizing=this._svgHash,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument),this.svgImage.complete&&this.svgImage.currentSrc===this.svgImage.src&&(wh.addToRenderQueue(this),this.svgImage.onload=null,t());}))}render(){const t=this._svgHashRasterizing;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);if(!this.svgImage.complete)return void wh.addToRenderQueue(this);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i}=this.cachedMargin.get(t);const s=this._hashingCanvas;let a=s.width,o=s.height;const u=s.getContext("2d");u.clearRect(0,0,a,o),u.imageSmoothingEnabled=!1,u.drawImage(this.svgImage,n,i,e,r,0,0,a,o);const h=u.getImageData(0,0,a,o).data,c=wh.arrayBufferToBase64(wu.exports.hash(new Uint8Array(h)))+"?w="+e+";h="+r;Su.canvasHashes.set(t,c);const l=Su.blankRetryCounts.get(t)||0;if(wh.isBlankImage(h)&&l<10)return Su.blankRetryCounts.set(t,l+1),void setTimeout((()=>wh.addToRenderQueue(this)),500);if(Su.cachedCanvases.has(c))return void(this.canvas=Su.cachedCanvases.get(c));const p=this.pixelRatio||parseFloat(this.element.getAttribute(wh.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,f=Su.cachedCanvases.size===Su.cachedCanvases.limit?Su.cachedCanvases.shift()[1]:document.createElement("canvas");let d=f.width=e*p,m=f.height=r*p;const y=f.getContext("2d");y.imageSmoothingEnabled=!1,y.clearRect(0,0,d,m),y.drawImage(this.svgImage,n,i,e,r,0,0,d,m),Su.cachedCanvases.set(c,f),this.canvas=f;}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${wh.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n!==document.documentElement?n.parentElement||document.documentElement:null);return [e.join(""),r.join("")]}};let Tu=Su;Tu.DEFAULT_CACHE_SIZE=4,Tu.blankRetryCounts=new Map,Tu.canvasHashes=new xu.LRUMap(1e3),Tu.cachedCanvases=new xu.LRUMap(Su.DEFAULT_CACHE_SIZE);var Ou,zu,Cu=[],Au="ResizeObserver loop completed with undelivered notifications.";(zu=Ou||(Ou={})).BORDER_BOX="border-box",zu.CONTENT_BOX="content-box",zu.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Ru,Du=function(t){return Object.freeze(t)},ku=function(t,e){this.inlineSize=t,this.blockSize=e,Du(this);},Iu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Du(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Lu=function(t){return t instanceof SVGElement&&"getBBox"in t},Bu=function(t){if(Lu(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},Fu=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},Pu="undefined"!=typeof window?window:{},Uu=new WeakMap,ju=/auto|scroll/,qu=/^tb|vertical/,Hu=/msie|trident/i.test(Pu.navigator&&Pu.navigator.userAgent),Vu=function(t){return parseFloat(t||"0")},$u=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new ku((r?e:t)||0,(r?t:e)||0)},Gu=Du({devicePixelContentBoxSize:$u(),borderBoxSize:$u(),contentBoxSize:$u(),contentRect:new Iu(0,0,0,0)}),Wu=function(t,e){if(void 0===e&&(e=!1),Uu.has(t)&&!e)return Uu.get(t);if(Bu(t))return Uu.set(t,Gu),Gu;var r=getComputedStyle(t),n=Lu(t)&&t.ownerSVGElement&&t.getBBox(),i=!Hu&&"border-box"===r.boxSizing,s=qu.test(r.writingMode||""),a=!n&&ju.test(r.overflowY||""),o=!n&&ju.test(r.overflowX||""),u=n?0:Vu(r.paddingTop),h=n?0:Vu(r.paddingRight),c=n?0:Vu(r.paddingBottom),l=n?0:Vu(r.paddingLeft),p=n?0:Vu(r.borderTopWidth),f=n?0:Vu(r.borderRightWidth),d=n?0:Vu(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:Vu(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:Vu(r.width)-b-w,N=n?n.height:Vu(r.height)-_-x,E=M+m+w+g,S=N+y+x+v,T=Du({devicePixelContentBoxSize:$u(Math.round(M*devicePixelRatio),Math.round(N*devicePixelRatio),s),borderBoxSize:$u(E,S,s),contentBoxSize:$u(M,N,s),contentRect:new Iu(l,u,M,N)});return Uu.set(t,T),T},Yu=function(t,e,r){var n=Wu(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case Ou.DEVICE_PIXEL_CONTENT_BOX:return a;case Ou.BORDER_BOX:return i;default:return s}},Zu=function(t){var e=Wu(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Du([e.borderBoxSize]),this.contentBoxSize=Du([e.contentBoxSize]),this.devicePixelContentBoxSize=Du([e.devicePixelContentBoxSize]);},Xu=function(t){if(Bu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},Qu=function(){var t=1/0,e=[];Cu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new Zu(e.target),i=Xu(e.target);n.push(r),e.lastReportedSize=Yu(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},Ju=function(t){Cu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(Xu(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},Ku=function(){var t,e=0;for(Ju(e);Cu.some((function(t){return t.activeTargets.length>0}));)e=Qu(),Ju(e);return Cu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:Au}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=Au),window.dispatchEvent(t)),e>0},th=[],eh=function(t){if(!Ru){var e=0,r=document.createTextNode("");new MutationObserver((function(){return th.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),Ru=function(){r.textContent=""+(e?e--:e++);};}th.push(t),Ru();},rh=0,nh={attributes:!0,characterData:!0,childList:!0,subtree:!0},ih=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],sh=function(t){return void 0===t&&(t=0),Date.now()+t},ah=!1,oh=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!ah){ah=!0;var r,n=sh(t);r=function(){var r=!1;try{r=Ku();}finally{if(ah=!1,t=n-sh(),!rh)return;r?e.run(1e3):t>0?e.run(t):e.start();}},eh((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,nh)};document.body?e():Pu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ih.forEach((function(e){return Pu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ih.forEach((function(e){return Pu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),uh=function(t){!rh&&t>0&&oh.start(),!(rh+=t)&&oh.stop();},hh=function(){function t(t,e){this.target=t,this.observedBox=e||Ou.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=Yu(this.target,this.observedBox,!0);return t=this.target,Lu(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),ch=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},lh=new WeakMap,ph=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},fh=function(){function t(){}return t.connect=function(t,e){var r=new ch(t,e);lh.set(t,r);},t.observe=function(t,e,r){var n=lh.get(t),i=0===n.observationTargets.length;ph(n.observationTargets,e)<0&&(i&&Cu.push(n),n.observationTargets.push(new hh(e,r&&r.box)),uh(1),oh.schedule());},t.unobserve=function(t,e){var r=lh.get(t),n=ph(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&Cu.splice(Cu.indexOf(r),1),r.observationTargets.splice(n,1),uh(-1));},t.disconnect=function(t){var e=this,r=lh.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),dh=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");fh.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Fu(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");fh.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Fu(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");fh.unobserve(this,t);},t.prototype.disconnect=function(){fh.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const mh=self.ResizeObserver||dh;const yh=new m,gh=new m,vh=new TextDecoder;Promise.resolve();const xh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;if(!this.renderingStyleElement){const t=this.renderingStyleElement=e.createElement("style");n.append(t);const r=t.sheet;let i=0;fu(r,`[${xh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",i++),fu(r,`[${xh.RENDERING_ATTRIBUTE}], [${xh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",i++),fu(r,`[${xh.RENDERING_ATTRIBUTE}] [${xh.LAYER_ATTRIBUTE}], [${xh.RENDERING_ATTRIBUTE}] [${xh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",i++),fu(r,`[${xh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",i++),fu(r,`[${xh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",i++),fu(r,`[${xh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:fixed !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",i++),fu(r,`[${xh.RENDERING_PARENT_ATTRIBUTE}]::before, [${xh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",i++);}if(r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{i();}));}const i=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},s=t=>{var e=t.nodeName.toUpperCase();-1!==a.indexOf(e)&&t.addEventListener("load",i);},a=["STYLE","LINK"],o=new MutationObserver((t=>{var r;for(const n of t){-1!==a.indexOf(n.target.nodeName.toUpperCase())&&(i(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)s(t);}}));o.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,o);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){xh.tasksPending=!1;const t=xh.serializeQueue,e=xh.rasterizeQueue,r=xh.renderQueue,n=xh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&xh.rasterizeTaskCount<xh.TASK_ASYNC_MAX_COUNT&&(xh.rasterizeTaskCount++,e.shift().rasterize().then((()=>{xh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===xh.serializeQueue.length&&0===xh.renderQueue.length&&(0===xh.rasterizeQueue.length||xh.rasterizeTaskCount===xh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,xh.scheduleIdle(xh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e,r){if(xh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t,e){if(document.contains(t))return t;const r=document.createElement("div");r.setAttribute(wh.RENDERING_CONTAINER_ATTRIBUTE,""),r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.top="0px",r.style.visibility="hidden",r.style.pointerEvents="none",r.style.touchAction="none",r.style.contain="strict",r.attachShadow({mode:"open"}).appendChild(t),document.documentElement.appendChild(r);}(t),xh.initRootNodeObservation(t);const n=new MutationObserver(xh._handleMutations);this.mutationObservers.set(t,n),this.startMutationObserver(t);const i=new mh((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(xh.setLayerNeedsRefresh),t.traverseParentLayers(xh.setLayerNeedsRefresh);}}));i.observe(t),this.resizeObservers.set(t,i),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const s=new Tu(t,r);return this.rootLayers.set(t,s),s}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t,e=!0){let r=e?t:t.parentElement;const n=null==r?void 0:r.closest(`[${xh.LAYER_ATTRIBUTE}]`);if(!n){const r=(null==t?void 0:t.getRootNode()).host;if(r)return this.getClosestLayer(r,e)}return this.layers.get(n)}static parseCSSTransform(t,e,r,n,i=new m){const s=t.transform,a=t.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var o=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=o[0],i.elements[1]=o[1],i.elements[4]=o[2],i.elements[5]=o[3],i.elements[12]=o[4],i.elements[13]=o[5];}else {if(0!=s.indexOf("matrix3d("))return null;o=s.substring(9,s.length-1).split(", ").map(parseFloat);i.fromArray(o);}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=n,i.elements[13]*=-1*n;var u=a.split(" ").map(parseFloat),h=(u[0]-e/2)*n,c=(u[1]-r/2)*n*-1,l=u[2]||0,p=yh.identity().makeTranslation(-h,-c,-l),f=gh.identity().makeTranslation(h,c,l);for(const d of i.elements)if(isNaN(d))return null;return i.premultiply(f).multiply(p)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(xh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(xh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(xh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(xh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=xh.mutationObservers.values();for(const e of t)xh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of xh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){xh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${xh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${xh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${xh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${xh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t,e){return t=new URL(t,window.location.href).href,new Promise((r=>{var n=new XMLHttpRequest;n.open("GET",t,!0),e&&n.setRequestHeader("accept",e),n.responseType="arraybuffer",n.onload=()=>{r(n);},n.onerror=()=>{r(n);},n.send();}))}static async getRenderingCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));n.push(this.renderingStyleElement);const i=t.getRootNode()instanceof ShadowRoot;function s(t){let e="",r="";for(const n of t)n.type===CSSRule.FONT_FACE_RULE&&(r+="\n\n"+n.cssText),e+="\n\n"+n.cssText;return {allRules:e,fontRules:r}}for(const a of n)r.has(a)||r.set(a,new Promise((t=>{const n=setInterval((()=>{if(a.sheet){clearInterval(n);const o=s(a.sheet.rules);if(i&&o.fontRules){const t=document.createElement("style");t.innerHTML=o.fontRules,document.head.appendChild(t),r.set(t,Promise.resolve(""));}this._addDynamicPseudoClassRules(e),t(o.allRules);}}),10);})).then((t=>this.generateEmbeddedCSS(window.location.href,t))));return Promise.all(r.values())}static async getDataURL(t){var e;const r=await this.getURL(t),n=new Uint8Array(r.response),i=null==(e=r.getResponseHeader("Content-Type"))?void 0:e.split(";")[0];if("text/css"==i){let e=vh.decode(n);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);return r.length>0?"data:"+i+";base64,"+r:""}{const t="data:"+i+";base64,"+this.arrayBufferToBase64(n);if(null==i?void 0:i.startsWith("image")){let e=function(){requestAnimationFrame(r);},r=function(){i();};const n=document.createElement("img");let i;const s=new Promise((t=>{i=t,n.onload=()=>{requestAnimationFrame(e);};}));n.src=t,await s;}return t}}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let wh=xh;if(wh.ATTRIBUTE_PREFIX="xr",wh._nextUID=0,wh.serializer=new XMLSerializer,wh.rootLayers=new Map,wh.layers=new Map,wh.mutationObservers=new Map,wh.resizeObservers=new Map,wh.serializeQueue=[],wh.rasterizeQueue=[],wh.renderQueue=[],wh.focusElement=null,wh.activeElement=null,wh.targetElement=null,wh.rootNodeObservers=new Map,wh.TASK_ASYNC_MAX_COUNT=2,wh.TASK_SYNC_MAX_TIME=200,wh.rasterizeTaskCount=0,wh.tasksPending=!1,wh._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=xh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(xh.setLayerNeedsRefresh):r.traverseLayers(xh.setLayerNeedsRefresh);}}},wh._triggerRefresh=async t=>{const e=xh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(xh.setLayerNeedsRefresh):e.traverseLayers(xh.setLayerNeedsRefresh));},wh.embeddedCSS=new Map,self.THREE)var bh=self.THREE;else bh=t;const _h=new bh.Matrix4,Mh=new bh.Vector3,Nh=new bh.Vector3,Eh=new du,Sh=new du,Th=Symbol("ON_BEFORE_UPDATE");class Oh extends bh.Object3D{constructor(t,e={}){super(),this.element=t,this.options=e,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new bh.Mesh(Ch.GEOMETRY,new bh.MeshBasicMaterial({side:bh.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new bh.Mesh(Ch.GEOMETRY,new bh.MeshBasicMaterial({visible:!1})),this.cursor=new bh.Object3D,this.depthMaterial=new bh.MeshDepthMaterial({depthPacking:bh.RGBADepthPacking,alphaTest:.001}),this.domLayout=new bh.Object3D,this.domSize=new bh.Vector3(1,1,1),this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=t.id,this._webLayer=wh.getClosestLayer(t),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(t,e,r)=>{this._camera=r;},this._boundsMesh.matrixAutoUpdate=!0,Ch.layersByElement.set(this.element,this),Ch.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new bh.VideoTexture(t),e.wrapS=bh.ClampToEdgeWrapping,e.wrapT=bh.ClampToEdgeWrapping,e.minFilter=bh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.canvas;let e=this.textures.get(t);return e||(e=new bh.Texture(t),e.needsUpdate=!0,e.wrapS=bh.ClampToEdgeWrapping,e.wrapT=bh.ClampToEdgeWrapping,e.minFilter=bh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(wh.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get bounds(){return this._webLayer.bounds}get parentWebLayer(){return this._webLayer.parentLayer&&Ch.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){var e;this._webLayer.refresh(),this.childWebLayers.length=0;for(const r of this._webLayer.childLayers){const n=Ch.layersByElement.get(null==(e=wh.getClosestLayer(r.element))?void 0:e.element);n&&(this.childWebLayers.push(n),t&&n.refresh(t));}this._refreshVideoBounds(),this._refreshDOMLayout();}updateLayout(){if(this._camera){this._localZ=Math.abs(Mh.setFromMatrixPosition(this.matrix).z+Mh.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Mh).applyMatrix4(this._camera.matrixWorldInverse).z);let t=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=t:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index);}}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;if(e.image&&r.map!==e){const t=this.contentMesh.scale,n=Math.abs(t.x*this.scale.x/t.y*this.scale.y),i=this.domSize.x/this.domSize.y;Math.abs(i-n)<1e3&&(r.map=e,this.depthMaterial.map=e,this.textureNeedsUpdate&&(this.textureNeedsUpdate=!1,r.needsUpdate=!0,e.needsUpdate=!0,this.depthMaterial.needsUpdate=!0));}r.transparent=!0;const n=t.material.opacity<.005;n?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&n&&(this.parent&&this.parent.remove(this),this.dispose());}get rootWebLayer(){return Ch.layersByElement.get(this._webLayer.rootLayer.element)}[Th](){}_doUpdate(){this[Th](),this.updateContent(),this.updateLayout(),this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),wh.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){var e;const r=this.element.querySelector(t)||(null==(e=this.element.shadowRoot)?void 0:e.querySelector(t));if(r)return Ch.layersByElement.get(r)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),wh.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds,{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_refreshDOMLayout(){if(this.needsRemoval)return;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const t=this.bounds,e=t.width,r=t.height,n=1/Ch.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(n*e,1e-5),Math.max(n*r,1e-5),1),!Ch.shouldApplyDOMLayout(this))return;const i=this.parentWebLayer instanceof Oh?this.parentWebLayer.bounds:function(t){return gu.parentNode||document.documentElement.append(gu),t.left=pageXOffset,t.top=pageYOffset,t.width=gu.offsetWidth,t.height=gu.offsetHeight,t}(Eh),s=-i.width/2+e/2,a=i.height/2-r/2;this.domLayout.position.set(n*(s+t.left),n*(a-t.top),0);const o=getComputedStyle(this.element),u=o.transform;if(u&&"none"!==u){const t=wh.parseCSSTransform(o,e,r,n,_h);t&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(t),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale));}}}const zh=class extends bh.Object3D{constructor(t,e={}){super(),this.options=e,this._interactionRays=[],this._raycaster=new bh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);};const r="string"==typeof t?vu(t):t;wh.createLayerTree(r,e,((t,{target:e})=>{var n,i;if("layercreated"===t){const t=new Oh(e,this.options);e===r?(t[Th]=()=>this._updateInteractions(),t.isRoot=!0,this.rootLayer=t,this.add(t)):null==(n=t.parentWebLayer)||n.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t);}else if("layerpainted"===t){const t=wh.layers.get(e);zh.layersByElement.get(t.element).textureNeedsUpdate=!0;}else if("layermoved"===t){const t=zh.layersByElement.get(e);null==(i=t.parentWebLayer)||i.add(t);}})),this.refresh(),this.update();}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}querySelector(t){return this.rootLayer.querySelector(t)}refresh(){this.rootLayer.refresh(!0);}update(){this.rootLayer.update(!0);}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(t,e){const r=t.object.parent,n=e.object.parent;return r.depth!==n.depth?n.depth-r.depth:n.index-r.index}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof bh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(Mh),e.getWorldDirection(Nh).negate()),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=zh.layersByMesh;t instanceof bh.Ray?this._raycaster.ray.copy(t):this._raycaster.ray.set(t.getWorldPosition(Mh),t.getWorldDirection(Nh).negate()),r.length=0,e.intersectObject(this,!0,r),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=yu(t.element,Eh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return pu(t.element,(t=>{if(!r.contains(t))return !1;const n=yu(t,Sh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let Ch=zh;Ch.layersByElement=new WeakMap,Ch.layersByMesh=new WeakMap,Ch.DEFAULT_LAYER_SEPARATION=.001,Ch.DEFAULT_PIXELS_PER_UNIT=1e3,Ch.GEOMETRY=new bh.PlaneGeometry(1,1,2,2);

export { Ch as C, Fragment as F, popScopeId as a, createVNode as b, createBlock as c, createApp as d, readonly as e, createTextVNode as f, inject as i, openBlock as o, pushScopeId as p, reactive as r, toDisplayString as t, unref as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTVlZTFkMDMyLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtZG9tL2Rpc3QvcnVudGltZS1kb20uZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvVmVjdG9yMi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRoVXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9WZWN0b3IzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvRXVsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvQm94Mi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9Cb3gzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1JheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9MaW5lMy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9NYXRyaXgzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1BsYW5lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvbWF0aC11dGlscy50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb3JlL1NwYXRpYWxNZXRyaWNzLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvcmUvU3BhdGlhbExheW91dC50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9wbW90aW9uL2Vhc2luZy9kaXN0L2Vhc2luZy5lcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9pcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9vYmplY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdHlwZWQtZnVuY3Rpb24vdHlwZWQtZnVuY3Rpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9mb3JtYXR0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvc3RyaW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Vycm9yL0luZGV4RXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYXJyYXkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvZmFjdG9yeS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9jb3JlL2Z1bmN0aW9uL3R5cGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvcmVzdWx0c2V0L1Jlc3VsdFNldC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kZWNpbWFsLmpzL2RlY2ltYWwubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvYmlnbnVtYmVyL0JpZ051bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb21wbGV4LmpzL2NvbXBsZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9jb21wbGV4L0NvbXBsZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhY3Rpb24uanMvZnJhY3Rpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9mcmFjdGlvbi9GcmFjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9SYW5nZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9NYXRyaXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvRGVuc2VNYXRyaXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY29sbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9wbGFpbi9udW1iZXIvYXJpdGhtZXRpYy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi91dGlscy9pc051bWVyaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvZXF1YWxTY2FsYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY29tcGxleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9TcGFyc2VNYXRyaXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9udW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9iaWdudW1iZXIvZnVuY3Rpb24vYmlnbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvZnJhY3Rpb24vZnVuY3Rpb24vZnJhY3Rpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvZnVuY3Rpb24vbWF0cml4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvdW5hcnlNaW51cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2Ficy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2FkZFNjYWxhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2NlaWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9maXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9mbG9vci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL21vZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL211bHRpcGx5U2NhbGFyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbXVsdGlwbHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9zdWJ0cmFjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9jb21wbGV4L2NvbmouanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbHJ1UXVldWUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvZnVuY3Rpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2lkZW50aXR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL25vb3AuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvQXJndW1lbnRzRXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvY3VzdG9tcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvc3Vic2V0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC96ZXJvcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9zdHJpbmcvZm9ybWF0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3V0aWxzL251bWVyaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9kaXZpZGVTY2FsYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9wb3cuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9yb3VuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL2VxdWFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvc21hbGxlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9yZWxhdGlvbmFsL2xhcmdlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9GaWJvbmFjY2lIZWFwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1NwYS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9Vbml0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9mdW5jdGlvbi91bml0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvdW5pdC9mdW5jdGlvbi9jcmVhdGVVbml0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWRkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9kb3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9rZXl3b3Jkcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvdXRpbHMvYWNjZXNzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9BY2Nlc3Nvck5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0FycmF5Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL29wZXJhdG9ycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQXNzaWdubWVudE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL3V0aWxzL2Fzc2lnbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQmxvY2tOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Db25kaXRpb25hbE5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZXNjYXBlLWxhdGV4L2Rpc3QvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbGF0ZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0NvbnN0YW50Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvSW5kZXhOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9PYmplY3ROb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9PcGVyYXRvck5vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1BhcmVudGhlc2lzTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUmFuZ2VOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9SZWxhdGlvbmFsTm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvRnVuY3Rpb25Ob2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vcGFyc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Ficy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzWmVyb3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RvdC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbmouZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0lkZW50aXR5LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0JpZ251bWJlci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1VuaXRDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0VxdWFsLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRml4LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ2VpbC5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Zsb29yLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRm9ybWF0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSXNOdW1lcmljLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUG93LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9TeW1ib2xOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFdmFsdWF0ZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1BhcnNlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWNjZXNzb3JOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQXJyYXlOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNCbG9ja05vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSZXN1bHRTZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb25kaXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb25zdGFudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnVuY3Rpb25Ob2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSW5kZXhOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUmFuZ2VDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc09iamVjdE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNPcGVyYXRvck5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQYXJlbnRoZXNpc05vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSYW5nZU5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSZWxhdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9mdW5jdGlvbi9ldmFsdWF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGl2aWRlLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSW52LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGV0LmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTHVwLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3BhQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGaWJvbmFjY2lIZWFwQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTbWFsbGVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hbGdlYnJhL2RlY29tcG9zaXRpb24vbHVwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9kZXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2ludi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2RpdmlkZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvY29yZS9TcGhlcmljYWxDb29yZGluYXRlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1sYXllci9kb20tdXRpbHMudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZmFzdC10ZXh0LWVuY29kaW5nL3RleHQubWluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xydV9tYXAvbHJ1LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1sYXllci94bWwtc2VyaWFsaXplci50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXNoYTI1Ni9zaGEyNTYuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL1dlYkxheWVyLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9mcmVlemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlclNpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZWxlbWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZ2xvYmFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckRldGFpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy93ZWItbGF5ZXIvV2ViUmVuZGVyZXIudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ViLWxheWVyL3RocmVlL3RocmVlLXdlYi1sYXllci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XHJcbiAqIGlzIGluIHRoYXQgbWFwLlxyXG4gKiBJTVBPUlRBTlQ6IGFsbCBjYWxscyBvZiB0aGlzIGZ1bmN0aW9uIG11c3QgYmUgcHJlZml4ZWQgd2l0aFxyXG4gKiBcXC9cXCojXFxfXFxfUFVSRVxcX1xcX1xcKlxcL1xyXG4gKiBTbyB0aGF0IHJvbGx1cCBjYW4gdHJlZS1zaGFrZSB0aGVtIGlmIG5lY2Vzc2FyeS5cclxuICovXHJcbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XHJcbiAgICBjb25zdCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgY29uc3QgbGlzdCA9IHN0ci5zcGxpdCgnLCcpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gdmFsID0+ICEhbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXSA6IHZhbCA9PiAhIW1hcFt2YWxdO1xyXG59XG5cbi8qKlxyXG4gKiBkZXYgb25seSBmbGFnIC0+IG5hbWUgbWFwcGluZ1xyXG4gKi9cclxuY29uc3QgUGF0Y2hGbGFnTmFtZXMgPSB7XHJcbiAgICBbMSAvKiBURVhUICovXTogYFRFWFRgLFxyXG4gICAgWzIgLyogQ0xBU1MgKi9dOiBgQ0xBU1NgLFxyXG4gICAgWzQgLyogU1RZTEUgKi9dOiBgU1RZTEVgLFxyXG4gICAgWzggLyogUFJPUFMgKi9dOiBgUFJPUFNgLFxyXG4gICAgWzE2IC8qIEZVTExfUFJPUFMgKi9dOiBgRlVMTF9QUk9QU2AsXHJcbiAgICBbMzIgLyogSFlEUkFURV9FVkVOVFMgKi9dOiBgSFlEUkFURV9FVkVOVFNgLFxyXG4gICAgWzY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqL106IGBTVEFCTEVfRlJBR01FTlRgLFxyXG4gICAgWzEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqL106IGBLRVlFRF9GUkFHTUVOVGAsXHJcbiAgICBbMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi9dOiBgVU5LRVlFRF9GUkFHTUVOVGAsXHJcbiAgICBbNTEyIC8qIE5FRURfUEFUQ0ggKi9dOiBgTkVFRF9QQVRDSGAsXHJcbiAgICBbMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovXTogYERZTkFNSUNfU0xPVFNgLFxyXG4gICAgWzIwNDggLyogREVWX1JPT1RfRlJBR01FTlQgKi9dOiBgREVWX1JPT1RfRlJBR01FTlRgLFxyXG4gICAgWy0xIC8qIEhPSVNURUQgKi9dOiBgSE9JU1RFRGAsXHJcbiAgICBbLTIgLyogQkFJTCAqL106IGBCQUlMYFxyXG59O1xuXG4vKipcclxuICogRGV2IG9ubHlcclxuICovXHJcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XHJcbiAgICBbMSAvKiBTVEFCTEUgKi9dOiAnU1RBQkxFJyxcclxuICAgIFsyIC8qIERZTkFNSUMgKi9dOiAnRFlOQU1JQycsXHJcbiAgICBbMyAvKiBGT1JXQVJERUQgKi9dOiAnRk9SV0FSREVEJ1xyXG59O1xuXG5jb25zdCBHTE9CQUxTX1dISVRFX0xJU1RFRCA9ICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLCcgK1xyXG4gICAgJ2RlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LE1hdGgsTnVtYmVyLERhdGUsQXJyYXksJyArXHJcbiAgICAnT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCxCaWdJbnQnO1xyXG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoR0xPQkFMU19XSElURV9MSVNURUQpO1xuXG5jb25zdCByYW5nZSA9IDI7XHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXFxyP1xcbi8pO1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XHJcbiAgICAgICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAke2xpbmV9JHsnICcucmVwZWF0KE1hdGgubWF4KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoLCAwKSl9fCAgJHtsaW5lc1tqXX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJyAnLnJlcGVhdChwYWQpICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qb2luKCdcXG4nKTtcclxufVxuXG4vKipcclxuICogT24gdGhlIGNsaWVudCB3ZSBvbmx5IG5lZWQgdG8gb2ZmZXIgc3BlY2lhbCBjYXNlcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXRcclxuICogaGF2ZSBkaWZmZXJlbnQgbmFtZXMgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIGRvbSBwcm9wZXJ0aWVzOlxyXG4gKiAtIGl0ZW1zY29wZSAtPiBOL0FcclxuICogLSBhbGxvd2Z1bGxzY3JlZW4gLT4gYWxsb3dGdWxsc2NyZWVuXHJcbiAqIC0gZm9ybW5vdmFsaWRhdGUgLT4gZm9ybU5vVmFsaWRhdGVcclxuICogLSBpc21hcCAtPiBpc01hcFxyXG4gKiAtIG5vbW9kdWxlIC0+IG5vTW9kdWxlXHJcbiAqIC0gbm92YWxpZGF0ZSAtPiBub1ZhbGlkYXRlXHJcbiAqIC0gcmVhZG9ubHkgLT4gcmVhZE9ubHlcclxuICovXHJcbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcclxuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XHJcbi8qKlxyXG4gKiBUaGUgZnVsbCBsaXN0IGlzIG5lZWRlZCBkdXJpbmcgU1NSIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgaW5pdGlhbCBtYXJrdXAuXHJcbiAqL1xyXG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMgK1xyXG4gICAgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4sYCArXHJcbiAgICBgbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxgICtcclxuICAgIGBjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYCk7XHJcbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcclxuY29uc3QgYXR0clZhbGlkYXRpb25DYWNoZSA9IHt9O1xyXG5mdW5jdGlvbiBpc1NTUlNhZmVBdHRyTmFtZShuYW1lKSB7XHJcbiAgICBpZiAoYXR0clZhbGlkYXRpb25DYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaXNVbnNhZmUgPSB1bnNhZmVBdHRyQ2hhclJFLnRlc3QobmFtZSk7XHJcbiAgICBpZiAoaXNVbnNhZmUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGB1bnNhZmUgYXR0cmlidXRlIG5hbWU6ICR7bmFtZX1gKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXSA9ICFpc1Vuc2FmZSk7XHJcbn1cclxuY29uc3QgcHJvcHNUb0F0dHJNYXAgPSB7XHJcbiAgICBhY2NlcHRDaGFyc2V0OiAnYWNjZXB0LWNoYXJzZXQnLFxyXG4gICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxyXG4gICAgaHRtbEZvcjogJ2ZvcicsXHJcbiAgICBodHRwRXF1aXY6ICdodHRwLWVxdWl2J1xyXG59O1xyXG4vKipcclxuICogQ1NTIHByb3BlcnRpZXMgdGhhdCBhY2NlcHQgcGxhaW4gbnVtYmVyc1xyXG4gKi9cclxuY29uc3QgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50LGJvcmRlci1pbWFnZS1vdXRzZXQsYm9yZGVyLWltYWdlLXNsaWNlLGAgK1xyXG4gICAgYGJvcmRlci1pbWFnZS13aWR0aCxib3gtZmxleCxib3gtZmxleC1ncm91cCxib3gtb3JkaW5hbC1ncm91cCxjb2x1bW4tY291bnQsYCArXHJcbiAgICBgY29sdW1ucyxmbGV4LGZsZXgtZ3JvdyxmbGV4LXBvc2l0aXZlLGZsZXgtc2hyaW5rLGZsZXgtbmVnYXRpdmUsZmxleC1vcmRlcixgICtcclxuICAgIGBncmlkLXJvdyxncmlkLXJvdy1lbmQsZ3JpZC1yb3ctc3BhbixncmlkLXJvdy1zdGFydCxncmlkLWNvbHVtbixgICtcclxuICAgIGBncmlkLWNvbHVtbi1lbmQsZ3JpZC1jb2x1bW4tc3BhbixncmlkLWNvbHVtbi1zdGFydCxmb250LXdlaWdodCxsaW5lLWNsYW1wLGAgK1xyXG4gICAgYGxpbmUtaGVpZ2h0LG9wYWNpdHksb3JkZXIsb3JwaGFucyx0YWItc2l6ZSx3aWRvd3Msei1pbmRleCx6b29tLGAgK1xyXG4gICAgLy8gU1ZHXHJcbiAgICBgZmlsbC1vcGFjaXR5LGZsb29kLW9wYWNpdHksc3RvcC1vcGFjaXR5LHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsYCArXHJcbiAgICBgc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoYCk7XHJcbi8qKlxyXG4gKiBLbm93biBhdHRyaWJ1dGVzLCB0aGlzIGlzIHVzZWQgZm9yIHN0cmluZ2lmaWNhdGlvbiBvZiBydW50aW1lIHN0YXRpYyBub2Rlc1xyXG4gKiBzbyB0aGF0IHdlIGRvbid0IHN0cmluZ2lmeSBiaW5kaW5ncyB0aGF0IGNhbm5vdCBiZSBzZXQgZnJvbSBIVE1MLlxyXG4gKiBEb24ndCBhbHNvIGZvcmdldCB0byBhbGxvdyBgZGF0YS0qYCBhbmQgYGFyaWEtKmAhXHJcbiAqIEdlbmVyYXRlZCBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQXR0cmlidXRlc1xyXG4gKi9cclxuY29uc3QgaXNLbm93bkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYGFjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsbG93LGFsdCxhc3luYyxgICtcclxuICAgIGBhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsYXV0b2ZvY3VzLGF1dG9wbGF5LGJhY2tncm91bmQsYmdjb2xvcixgICtcclxuICAgIGBib3JkZXIsYnVmZmVyZWQsY2FwdHVyZSxjaGFsbGVuZ2UsY2hhcnNldCxjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxgICtcclxuICAgIGBjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsYCArXHJcbiAgICBgY29vcmRzLGNyb3Nzb3JpZ2luLGNzcCxkYXRhLGRhdGV0aW1lLGRlY29kaW5nLGRlZmF1bHQsZGVmZXIsZGlyLGRpcm5hbWUsYCArXHJcbiAgICBgZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsZW50ZXJrZXloaW50LGZvcixmb3JtLGAgK1xyXG4gICAgYGZvcm1hY3Rpb24sZm9ybWVuY3R5cGUsZm9ybW1ldGhvZCxmb3Jtbm92YWxpZGF0ZSxmb3JtdGFyZ2V0LGhlYWRlcnMsYCArXHJcbiAgICBgaGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdixpY29uLGlkLGltcG9ydGFuY2UsaW50ZWdyaXR5LGAgK1xyXG4gICAgYGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvYWRpbmcsbGlzdCxsb29wLGxvdyxgICtcclxuICAgIGBtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1pbmxlbmd0aCxtZWRpYSxtaW4sbXVsdGlwbGUsbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLGAgK1xyXG4gICAgYG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLHByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxgICtcclxuICAgIGByZWZlcnJlcnBvbGljeSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsc2NvcGUsc2NvcGVkLGAgK1xyXG4gICAgYHNlbGVjdGVkLHNoYXBlLHNpemUsc2l6ZXMsc2xvdCxzcGFuLHNwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxgICtcclxuICAgIGBzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCxgICtcclxuICAgIGB2YWx1ZSx3aWR0aCx3cmFwYCk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBjb25zdCByZXMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVN0eWxlKGlzU3RyaW5nKGl0ZW0pID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKSA6IGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc1trZXldID0gbm9ybWFsaXplZFtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcclxuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KC4rKS87XHJcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xyXG4gICAgY29uc3QgcmV0ID0ge307XHJcbiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXJSRSkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xyXG4gICAgICAgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xyXG4gICAgbGV0IHJldCA9ICcnO1xyXG4gICAgaWYgKCFzdHlsZXMpIHtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoYC0tYCkgPyBrZXkgOiBoeXBoZW5hdGUoa2V5KTtcclxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8XHJcbiAgICAgICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcChub3JtYWxpemVkS2V5KSkpIHtcclxuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgdmFsaWQgdmFsdWVzXHJcbiAgICAgICAgICAgIHJldCArPSBgJHtub3JtYWxpemVkS2V5fToke3ZhbHVlfTtgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcclxuICAgIGxldCByZXMgPSAnJztcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICByZXMgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyAnICc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMgKz0gbmFtZSArICcgJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXMudHJpbSgpO1xyXG59XG5cbi8vIFRoZXNlIHRhZyBjb25maWdzIGFyZSBzaGFyZWQgYmV0d2VlbiBjb21waWxlci1kb20gYW5kIHJ1bnRpbWUtZG9tLCBzbyB0aGV5XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudFxyXG5jb25zdCBIVE1MX1RBR1MgPSAnaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlciwnICtcclxuICAgICdoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLCcgK1xyXG4gICAgJ2ZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLCcgK1xyXG4gICAgJ2RhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCwnICtcclxuICAgICd0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLCcgK1xyXG4gICAgJ2NhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCwnICtcclxuICAgICd0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsJyArXHJcbiAgICAnb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSwnICtcclxuICAgICdzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290JztcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0VsZW1lbnRcclxuY29uc3QgU1ZHX1RBR1MgPSAnc3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLCcgK1xyXG4gICAgJ2RlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsJyArXHJcbiAgICAnZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCwnICtcclxuICAgICdmZURpc3RhbmNlTGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUiwnICtcclxuICAgICdmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LCcgK1xyXG4gICAgJ2ZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsJyArXHJcbiAgICAnZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLCcgK1xyXG4gICAgJ21lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybiwnICtcclxuICAgICdwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLCcgK1xyXG4gICAgJ3RleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlldyc7XHJcbmNvbnN0IFZPSURfVEFHUyA9ICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGhyLGltZyxpbnB1dCxsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdicic7XHJcbmNvbnN0IGlzSFRNTFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xyXG5jb25zdCBpc1NWR1RhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChTVkdfVEFHUyk7XHJcbmNvbnN0IGlzVm9pZFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7XHJcbiAgICBjb25zdCBzdHIgPSAnJyArIHN0cmluZztcclxuICAgIGNvbnN0IG1hdGNoID0gZXNjYXBlUkUuZXhlYyhzdHIpO1xyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcbiAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgbGV0IGVzY2FwZWQ7XHJcbiAgICBsZXQgaW5kZXg7XHJcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcclxuICAgIGZvciAoaW5kZXggPSBtYXRjaC5pbmRleDsgaW5kZXggPCBzdHIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgc3dpdGNoIChzdHIuY2hhckNvZGVBdChpbmRleCkpIHtcclxuICAgICAgICAgICAgY2FzZSAzNDogLy8gXCJcclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJnF1b3Q7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM4OiAvLyAmXHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZhbXA7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM5OiAvLyAnXHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyYjMzk7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDYwOiAvLyA8XHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZsdDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjI6IC8vID5cclxuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAnJmd0Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdEluZGV4ICE9PSBpbmRleCkge1xyXG4gICAgICAgICAgICBodG1sICs9IHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3RJbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICBodG1sICs9IGVzY2FwZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc3Vic3RyaW5nKGxhc3RJbmRleCwgaW5kZXgpIDogaHRtbDtcclxufVxyXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUyL3N5bnRheC5odG1sI2NvbW1lbnRzXHJcbmNvbnN0IGNvbW1lbnRTdHJpcFJFID0gL14tPz58PCEtLXwtLT58LS0hPnw8IS0kL2c7XHJcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xyXG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKGNvbW1lbnRTdHJpcFJFLCAnJyk7XHJcbn1cblxuZnVuY3Rpb24gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIHtcclxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgbGV0IGVxdWFsID0gdHJ1ZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlcXVhbDtcclxufVxyXG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XHJcbiAgICBsZXQgYlZhbGlkVHlwZSA9IGlzRGF0ZShiKTtcclxuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcclxuICAgIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xyXG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcclxuICAgIGJWYWxpZFR5cGUgPSBpc09iamVjdChiKTtcclxuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHRoaXMgaWYgd2lsbCBwcm9iYWJseSBuZXZlciBiZSBjYWxsZWQgKi9cclxuICAgICAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYSkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGJLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhiKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGFLZXlzQ291bnQgIT09IGJLZXlzQ291bnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJIYXNLZXkgPSBiLmhhc093blByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIGlmICgoYUhhc0tleSAmJiAhYkhhc0tleSkgfHxcclxuICAgICAgICAgICAgICAgICghYUhhc0tleSAmJiBiSGFzS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XHJcbn1cclxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XHJcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChpdGVtID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XHJcbn1cblxuLyoqXHJcbiAqIEZvciBjb252ZXJ0aW5nIHt7IGludGVycG9sYXRpb24gfX0gdmFsdWVzIHRvIGRpc3BsYXllZCBzdHJpbmdzLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xyXG4gICAgcmV0dXJuIHZhbCA9PSBudWxsXHJcbiAgICAgICAgPyAnJ1xyXG4gICAgICAgIDogaXNPYmplY3QodmFsKVxyXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpXHJcbiAgICAgICAgICAgIDogU3RyaW5nKHZhbCk7XHJcbn07XHJcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xyXG4gICAgaWYgKGlzTWFwKHZhbCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZSgoZW50cmllcywgW2tleSwgdmFsXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50cmllc1tgJHtrZXl9ID0+YF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cmllcztcclxuICAgICAgICAgICAgfSwge30pXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG59O1xuXG4vKipcclxuICogTGlzdCBvZiBAYmFiZWwvcGFyc2VyIHBsdWdpbnMgdGhhdCBhcmUgdXNlZCBmb3IgdGVtcGxhdGUgZXhwcmVzc2lvblxyXG4gKiB0cmFuc2Zvcm1zIGFuZCBTRkMgc2NyaXB0IHRyYW5zZm9ybXMuIEJ5IGRlZmF1bHQgd2UgZW5hYmxlIHByb3Bvc2FscyBzbGF0ZWRcclxuICogZm9yIEVTMjAyMC4gVGhpcyB3aWxsIG5lZWQgdG8gYmUgdXBkYXRlZCBhcyB0aGUgc3BlYyBtb3ZlcyBmb3J3YXJkLlxyXG4gKiBGdWxsIGxpc3QgYXQgaHR0cHM6Ly9iYWJlbGpzLmlvL2RvY3MvZW4vbmV4dC9iYWJlbC1wYXJzZXIjcGx1Z2luc1xyXG4gKi9cclxuY29uc3QgYmFiZWxQYXJzZXJEZWZhdWx0UGx1Z2lucyA9IFtcclxuICAgICdiaWdJbnQnLFxyXG4gICAgJ29wdGlvbmFsQ2hhaW5pbmcnLFxyXG4gICAgJ251bGxpc2hDb2FsZXNjaW5nT3BlcmF0b3InXHJcbl07XHJcbmNvbnN0IEVNUFRZX09CSiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBPYmplY3QuZnJlZXplKHt9KVxyXG4gICAgOiB7fTtcclxuY29uc3QgRU1QVFlfQVJSID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcclxuY29uc3QgTk9PUCA9ICgpID0+IHsgfTtcclxuLyoqXHJcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xyXG5jb25zdCBvblJFID0gL15vblteYS16XS87XHJcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBvblJFLnRlc3Qoa2V5KTtcclxuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoJ29uVXBkYXRlOicpO1xyXG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xyXG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xyXG4gICAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcclxuICAgIGlmIChpID4gLTEpIHtcclxuICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XHJcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBNYXBdJztcclxuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgU2V0XSc7XHJcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHZhbCBpbnN0YW5jZW9mIERhdGU7XHJcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xyXG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xyXG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzeW1ib2wnO1xyXG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JztcclxuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xyXG59O1xyXG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgLy8gZXh0cmFjdCBcIlJhd1R5cGVcIiBmcm9tIHN0cmluZ3MgbGlrZSBcIltvYmplY3QgUmF3VHlwZV1cIlxyXG4gICAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xyXG59O1xyXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xyXG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmXHJcbiAgICBrZXkgIT09ICdOYU4nICYmXHJcbiAgICBrZXlbMF0gIT09ICctJyAmJlxyXG4gICAgJycgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xyXG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChcclxuLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxyXG4nLGtleSxyZWYsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLCcgK1xyXG4gICAgJ29uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsJyArXHJcbiAgICAnb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZCcpO1xyXG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKChzdHIpID0+IHtcclxuICAgICAgICBjb25zdCBoaXQgPSBjYWNoZVtzdHJdO1xyXG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XHJcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IChjID8gYy50b1VwcGVyQ2FzZSgpIDogJycpKTtcclxufSk7XHJcbmNvbnN0IGh5cGhlbmF0ZVJFID0gL1xcQihbQS1aXSkvZztcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKSk7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB0b0hhbmRsZXJLZXkgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IChzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGApKTtcclxuLy8gY29tcGFyZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQsIGFjY291bnRpbmcgZm9yIE5hTi5cclxuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+IHZhbHVlICE9PSBvbGRWYWx1ZSAmJiAodmFsdWUgPT09IHZhbHVlIHx8IG9sZFZhbHVlID09PSBvbGRWYWx1ZSk7XHJcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgYXJnKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZuc1tpXShhcmcpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgdmFsdWVcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCB0b051bWJlciA9ICh2YWwpID0+IHtcclxuICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KHZhbCk7XHJcbiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xyXG59O1xyXG5sZXQgX2dsb2JhbFRoaXM7XHJcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKF9nbG9iYWxUaGlzIHx8XHJcbiAgICAgICAgKF9nbG9iYWxUaGlzID1cclxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSkpO1xyXG59O1xuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBiYWJlbFBhcnNlckRlZmF1bHRQbHVnaW5zLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgZGVmLCBlc2NhcGVIdG1sLCBlc2NhcGVIdG1sQ29tbWVudCwgZXh0ZW5kLCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2V0R2xvYmFsVGhpcywgaGFzQ2hhbmdlZCwgaGFzT3duLCBoeXBoZW5hdGUsIGludm9rZUFycmF5Rm5zLCBpc0FycmF5LCBpc0Jvb2xlYW5BdHRyLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCwgaXNIVE1MVGFnLCBpc0ludGVnZXJLZXksIGlzS25vd25BdHRyLCBpc01hcCwgaXNNb2RlbExpc3RlbmVyLCBpc05vVW5pdE51bWVyaWNTdHlsZVByb3AsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlLCBvYmplY3RUb1N0cmluZywgcGFyc2VTdHJpbmdTdHlsZSwgcHJvcHNUb0F0dHJNYXAsIHJlbW92ZSwgc2xvdEZsYWdzVGV4dCwgc3RyaW5naWZ5U3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgdG9SYXdUeXBlLCB0b1R5cGVTdHJpbmcgfTtcbiIsImltcG9ydCB7IEVNUFRZX09CSiwgaXNBcnJheSwgaXNNYXAsIGlzSW50ZWdlcktleSwgaXNTeW1ib2wsIGV4dGVuZCwgaGFzT3duLCBpc09iamVjdCwgaGFzQ2hhbmdlZCwgbWFrZU1hcCwgY2FwaXRhbGl6ZSwgdG9SYXdUeXBlLCBkZWYsIGlzRnVuY3Rpb24sIE5PT1AgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHRhcmdldE1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IGVmZmVjdFN0YWNrID0gW107XHJcbmxldCBhY3RpdmVFZmZlY3Q7XHJcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdpdGVyYXRlJyA6ICcnKTtcclxuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnTWFwIGtleSBpdGVyYXRlJyA6ICcnKTtcclxuZnVuY3Rpb24gaXNFZmZlY3QoZm4pIHtcclxuICAgIHJldHVybiBmbiAmJiBmbi5faXNFZmZlY3QgPT09IHRydWU7XHJcbn1cclxuZnVuY3Rpb24gZWZmZWN0KGZuLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XHJcbiAgICBpZiAoaXNFZmZlY3QoZm4pKSB7XHJcbiAgICAgICAgZm4gPSBmbi5yYXc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlZmZlY3QgPSBjcmVhdGVSZWFjdGl2ZUVmZmVjdChmbiwgb3B0aW9ucyk7XHJcbiAgICBpZiAoIW9wdGlvbnMubGF6eSkge1xyXG4gICAgICAgIGVmZmVjdCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVmZmVjdDtcclxufVxyXG5mdW5jdGlvbiBzdG9wKGVmZmVjdCkge1xyXG4gICAgaWYgKGVmZmVjdC5hY3RpdmUpIHtcclxuICAgICAgICBjbGVhbnVwKGVmZmVjdCk7XHJcbiAgICAgICAgaWYgKGVmZmVjdC5vcHRpb25zLm9uU3RvcCkge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5vblN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWZmZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmxldCB1aWQgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZUVmZmVjdChmbiwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgZWZmZWN0ID0gZnVuY3Rpb24gcmVhY3RpdmVFZmZlY3QoKSB7XHJcbiAgICAgICAgaWYgKCFlZmZlY3QuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWVmZmVjdFN0YWNrLmluY2x1ZGVzKGVmZmVjdCkpIHtcclxuICAgICAgICAgICAgY2xlYW51cChlZmZlY3QpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnB1c2goZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IGVmZmVjdDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0U3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3RTdGFja1tlZmZlY3RTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlZmZlY3QuaWQgPSB1aWQrKztcclxuICAgIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSAhIW9wdGlvbnMuYWxsb3dSZWN1cnNlO1xyXG4gICAgZWZmZWN0Ll9pc0VmZmVjdCA9IHRydWU7XHJcbiAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgIGVmZmVjdC5yYXcgPSBmbjtcclxuICAgIGVmZmVjdC5kZXBzID0gW107XHJcbiAgICBlZmZlY3Qub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFudXAoZWZmZWN0KSB7XHJcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcclxuICAgIGlmIChkZXBzLmxlbmd0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkZXBzW2ldLmRlbGV0ZShlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXBzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbn1cclxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcclxuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XHJcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xyXG4gICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XHJcbiAgICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcclxuICAgIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxhc3Q7XHJcbn1cclxuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcclxuICAgIGlmICghc2hvdWxkVHJhY2sgfHwgYWN0aXZlRWZmZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmICghZGVwc01hcCkge1xyXG4gICAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCAoZGVwc01hcCA9IG5ldyBNYXAoKSkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XHJcbiAgICBpZiAoIWRlcCkge1xyXG4gICAgICAgIGRlcHNNYXAuc2V0KGtleSwgKGRlcCA9IG5ldyBTZXQoKSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkZXAuaGFzKGFjdGl2ZUVmZmVjdCkpIHtcclxuICAgICAgICBkZXAuYWRkKGFjdGl2ZUVmZmVjdCk7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjaykge1xyXG4gICAgICAgICAgICBhY3RpdmVFZmZlY3Qub3B0aW9ucy5vblRyYWNrKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdDogYWN0aXZlRWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIGtleVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcclxuICAgIGNvbnN0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICAvLyBuZXZlciBiZWVuIHRyYWNrZWRcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBlZmZlY3RzID0gbmV3IFNldCgpO1xyXG4gICAgY29uc3QgYWRkID0gKGVmZmVjdHNUb0FkZCkgPT4ge1xyXG4gICAgICAgIGlmIChlZmZlY3RzVG9BZGQpIHtcclxuICAgICAgICAgICAgZWZmZWN0c1RvQWRkLmZvckVhY2goZWZmZWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QgIT09IGFjdGl2ZUVmZmVjdCB8fCBlZmZlY3QuYWxsb3dSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5hZGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlID09PSBcImNsZWFyXCIgLyogQ0xFQVIgKi8pIHtcclxuICAgICAgICAvLyBjb2xsZWN0aW9uIGJlaW5nIGNsZWFyZWRcclxuICAgICAgICAvLyB0cmlnZ2VyIGFsbCBlZmZlY3RzIGZvciB0YXJnZXRcclxuICAgICAgICBkZXBzTWFwLmZvckVhY2goYWRkKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ2xlbmd0aCcgJiYgaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbGVuZ3RoJyB8fCBrZXkgPj0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGFkZChkZXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzY2hlZHVsZSBydW5zIGZvciBTRVQgfCBBREQgfCBERUxFVEVcclxuICAgICAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbHNvIHJ1biBmb3IgaXRlcmF0aW9uIGtleSBvbiBBREQgfCBERUxFVEUgfCBNYXAuU0VUXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIiAvKiBBREQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyS2V5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgaW5kZXggYWRkZWQgdG8gYXJyYXkgLT4gbGVuZ3RoIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoJ2xlbmd0aCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCIgLyogREVMRVRFICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2V0XCIgLyogU0VUICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHJ1biA9IChlZmZlY3QpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVmZmVjdC5vcHRpb25zLm9uVHJpZ2dlcikge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIoe1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRUYXJnZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy5zY2hlZHVsZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKGVmZmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0cy5mb3JFYWNoKHJ1bik7XHJcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcclxuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbClcclxuICAgIC5tYXAoa2V5ID0+IFN5bWJvbFtrZXldKVxyXG4gICAgLmZpbHRlcihpc1N5bWJvbCkpO1xyXG5jb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcigpO1xyXG5jb25zdCBzaGFsbG93R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoZmFsc2UsIHRydWUpO1xyXG5jb25zdCByZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUpO1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlLCB0cnVlKTtcclxuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0ge307XHJcblsnaW5jbHVkZXMnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZiddLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IEFycmF5LnByb3RvdHlwZVtrZXldO1xyXG4gICAgYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgdHJhY2soYXJyLCBcImdldFwiIC8qIEdFVCAqLywgaSArICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2UgcnVuIHRoZSBtZXRob2QgdXNpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgZmlyc3QgKHdoaWNoIG1heSBiZSByZWFjdGl2ZSlcclxuICAgICAgICBjb25zdCByZXMgPSBtZXRob2QuYXBwbHkoYXJyLCBhcmdzKTtcclxuICAgICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoYXQgZGlkbid0IHdvcmssIHJ1biBpdCBhZ2FpbiB1c2luZyByYXcgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGFyciwgYXJncy5tYXAodG9SYXcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcblsncHVzaCcsICdwb3AnLCAnc2hpZnQnLCAndW5zaGlmdCcsICdzcGxpY2UnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUdldHRlcihpc1JlYWRvbmx5ID0gZmFsc2UsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8gJiZcclxuICAgICAgICAgICAgcmVjZWl2ZXIgPT09XHJcbiAgICAgICAgICAgICAgICAoaXNSZWFkb25seVxyXG4gICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seU1hcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWRvbmx5TWFwXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzaGFsbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWN0aXZlTWFwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5ICYmIHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JlZihyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlZiB1bndyYXBwaW5nIC0gZG9lcyBub3QgYXBwbHkgZm9yIEFycmF5ICsgaW50ZWdlciBrZXkuXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFVud3JhcCA9ICF0YXJnZXRJc0FycmF5IHx8ICFpc0ludGVnZXJLZXkoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVud3JhcCA/IHJlcy52YWx1ZSA6IHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCByZXR1cm5lZCB2YWx1ZSBpbnRvIGEgcHJveHkgYXMgd2VsbC4gd2UgZG8gdGhlIGlzT2JqZWN0IGNoZWNrXHJcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gYXZvaWQgaW52YWxpZCB2YWx1ZSB3YXJuaW5nLiBBbHNvIG5lZWQgdG8gbGF6eSBhY2Nlc3MgcmVhZG9ubHlcclxuICAgICAgICAgICAgLy8gYW5kIHJlYWN0aXZlIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeS5cclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHkgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn1cclxuY29uc3Qgc2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd1NldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKHRydWUpO1xyXG5mdW5jdGlvbiBjcmVhdGVTZXR0ZXIoc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoIXNoYWxsb3cpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KVxyXG4gICAgICAgICAgICA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aFxyXG4gICAgICAgICAgICA6IGhhc093bih0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgLy8gZG9uJ3QgdHJpZ2dlciBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHVwIGluIHRoZSBwcm90b3R5cGUgY2hhaW4gb2Ygb3JpZ2luYWxcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSB0b1JhdyhyZWNlaXZlcikpIHtcclxuICAgICAgICAgICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIEFERCAqLywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBTRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xyXG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcclxuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcclxuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcclxuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcclxuICAgICAgICB0cmFjayh0YXJnZXQsIFwiaGFzXCIgLyogSEFTICovLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBvd25LZXlzKHRhcmdldCkge1xyXG4gICAgdHJhY2sodGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0FycmF5KHRhcmdldCkgPyAnbGVuZ3RoJyA6IElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxufVxyXG5jb25zdCBtdXRhYmxlSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQsXHJcbiAgICBzZXQsXHJcbiAgICBkZWxldGVQcm9wZXJ0eSxcclxuICAgIGhhcyxcclxuICAgIG93bktleXNcclxufTtcclxuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IHtcclxuICAgIGdldDogcmVhZG9ubHlHZXQsXHJcbiAgICBzZXQodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSBleHRlbmQoe30sIG11dGFibGVIYW5kbGVycywge1xyXG4gICAgZ2V0OiBzaGFsbG93R2V0LFxyXG4gICAgc2V0OiBzaGFsbG93U2V0XHJcbn0pO1xyXG4vLyBQcm9wcyBoYW5kbGVycyBhcmUgc3BlY2lhbCBpbiB0aGUgc2Vuc2UgdGhhdCBpdCBzaG91bGQgbm90IHVud3JhcCB0b3AtbGV2ZWxcclxuLy8gcmVmcyAoaW4gb3JkZXIgdG8gYWxsb3cgcmVmcyB0byBiZSBleHBsaWNpdGx5IHBhc3NlZCBkb3duKSwgYnV0IHNob3VsZFxyXG4vLyByZXRhaW4gdGhlIHJlYWN0aXZpdHkgb2YgdGhlIG5vcm1hbCByZWFkb25seSBvYmplY3QuXHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUhhbmRsZXJzID0gZXh0ZW5kKHt9LCByZWFkb25seUhhbmRsZXJzLCB7XHJcbiAgICBnZXQ6IHNoYWxsb3dSZWFkb25seUdldFxyXG59KTtcblxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XHJcbmNvbnN0IHRvUmVhZG9ubHkgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWRvbmx5KHZhbHVlKSA6IHZhbHVlO1xyXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xyXG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xyXG5mdW5jdGlvbiBnZXQkMSh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgLy8gIzE3NzI6IHJlYWRvbmx5KHJlYWN0aXZlKE1hcCkpIHNob3VsZCByZXR1cm4gcmVhZG9ubHkgKyByZWFjdGl2ZSB2ZXJzaW9uXHJcbiAgICAvLyBvZiB0aGUgdmFsdWVcclxuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcclxuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XHJcbiAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywgcmF3S2V5KTtcclxuICAgIGNvbnN0IHsgaGFzIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xyXG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KGtleSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gcmF3VGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gIzM2MDIgcmVhZG9ubHkocmVhY3RpdmUoTWFwKSlcclxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgbmVzdGVkIHJlYWN0aXZlIGBNYXBgIGNhbiBkbyB0cmFja2luZyBmb3IgaXRzZWxmXHJcbiAgICAgICAgdGFyZ2V0LmdldChrZXkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhcyQxKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBIQVMgKi8sIGtleSk7XHJcbiAgICB9XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIgLyogSEFTICovLCByYXdLZXkpO1xyXG4gICAgcmV0dXJuIGtleSA9PT0gcmF3S2V5XHJcbiAgICAgICAgPyB0YXJnZXQuaGFzKGtleSlcclxuICAgICAgICA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XHJcbn1cclxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xyXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XHJcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCAnc2l6ZScsIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gYWRkKHZhbHVlKSB7XHJcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xyXG4gICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIHRhcmdldC5hZGQodmFsdWUpO1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIEFERCAqLywgdmFsdWUsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59XHJcbmZ1bmN0aW9uIHNldCQxKGtleSwgdmFsdWUpIHtcclxuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xyXG4gICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcclxuICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogQUREICovLCBrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuZnVuY3Rpb24gZGVsZXRlRW50cnkoa2V5KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XHJcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xyXG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQgPyBnZXQuY2FsbCh0YXJnZXQsIGtleSkgOiB1bmRlZmluZWQ7XHJcbiAgICAvLyBmb3J3YXJkIHRoZSBvcGVyYXRpb24gYmVmb3JlIHF1ZXVlaW5nIHJlYWN0aW9uc1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xyXG4gICAgaWYgKGhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIERFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XHJcbiAgICBjb25zdCBvbGRUYXJnZXQgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICA/IGlzTWFwKHRhcmdldClcclxuICAgICAgICAgICAgPyBuZXcgTWFwKHRhcmdldClcclxuICAgICAgICAgICAgOiBuZXcgU2V0KHRhcmdldClcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXHJcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcclxuICAgIGlmIChoYWRJdGVtcykge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImNsZWFyXCIgLyogQ0xFQVIgKi8sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbGRUYXJnZXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XHJcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGltcG9ydGFudDogbWFrZSBzdXJlIHRoZSBjYWxsYmFjayBpc1xyXG4gICAgICAgICAgICAvLyAxLiBpbnZva2VkIHdpdGggdGhlIHJlYWN0aXZlIG1hcCBhcyBgdGhpc2AgYW5kIDNyZCBhcmdcclxuICAgICAgICAgICAgLy8gMi4gdGhlIHZhbHVlIHJlY2VpdmVkIHNob3VsZCBiZSBhIGNvcnJlc3BvbmRpbmcgcmVhY3RpdmUvcmVhZG9ubHkuXHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUkFXICovXTtcclxuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09ICdlbnRyaWVzJyB8fCAobWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXApO1xyXG4gICAgICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gJ2tleXMnICYmIHRhcmdldElzTWFwO1xyXG4gICAgICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcclxuICAgICAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmXHJcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZKTtcclxuICAgICAgICAvLyByZXR1cm4gYSB3cmFwcGVkIGl0ZXJhdG9yIHdoaWNoIHJldHVybnMgb2JzZXJ2ZWQgdmVyc2lvbnMgb2YgdGhlXHJcbiAgICAgICAgLy8gdmFsdWVzIGVtaXR0ZWQgZnJvbSB0aGUgcmVhbCBpdGVyYXRvclxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXHJcbiAgICAgICAgICAgIG5leHQoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlLCBkb25lIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxyXG4gICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtjYXBpdGFsaXplKHR5cGUpfSBvcGVyYXRpb24gJHtrZXl9ZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdG9SYXcodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiAvKiBERUxFVEUgKi8gPyBmYWxzZSA6IHRoaXM7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IG11dGFibGVJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXkpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xyXG4gICAgfSxcclxuICAgIGhhczogaGFzJDEsXHJcbiAgICBhZGQsXHJcbiAgICBzZXQ6IHNldCQxLFxyXG4gICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcclxuICAgIGNsZWFyLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIGZhbHNlLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcclxuICAgIH0sXHJcbiAgICBoYXM6IGhhcyQxLFxyXG4gICAgYWRkLFxyXG4gICAgc2V0OiBzZXQkMSxcclxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXHJcbiAgICBjbGVhcixcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIHRydWUpXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcclxuICAgIH0sXHJcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogQUREICovKSxcclxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBTRVQgKi8pLFxyXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIERFTEVURSAqLyksXHJcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIENMRUFSICovKSxcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcywgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgaGFzKGtleSkge1xyXG4gICAgICAgIHJldHVybiBoYXMkMS5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIEFERCAqLyksXHJcbiAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIgLyogU0VUICovKSxcclxuICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiAvKiBERUxFVEUgKi8pLFxyXG4gICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBDTEVBUiAqLyksXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIHRydWUpXHJcbn07XHJcbmNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFsna2V5cycsICd2YWx1ZXMnLCAnZW50cmllcycsIFN5bWJvbC5pdGVyYXRvcl07XHJcbml0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XHJcbiAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIGZhbHNlKTtcclxuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCB0cnVlKTtcclxuICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgdHJ1ZSk7XHJcbn0pO1xyXG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seSwgc2hhbGxvdykge1xyXG4gICAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHNoYWxsb3dcclxuICAgICAgICA/IGlzUmVhZG9ubHlcclxuICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogc2hhbGxvd0luc3RydW1lbnRhdGlvbnNcclxuICAgICAgICA6IGlzUmVhZG9ubHlcclxuICAgICAgICAgICAgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucztcclxuICAgIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUkFXICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0XHJcbiAgICAgICAgICAgID8gaW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IHRhcmdldCwga2V5LCByZWNlaXZlcik7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgdHJ1ZSlcclxufTtcclxuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6IGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcclxufTtcclxuZnVuY3Rpb24gY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSkge1xyXG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcclxuICAgIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdG9SYXdUeXBlKHRhcmdldCk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgYCArXHJcbiAgICAgICAgICAgIGB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgYCArXHJcbiAgICAgICAgICAgIGB3aGljaCBjYW4gbGVhZCB0byBpbmNvbnNpc3RlbmNpZXMuIGAgK1xyXG4gICAgICAgICAgICBgQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgYCArXHJcbiAgICAgICAgICAgIGBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmApO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgcmVhZG9ubHlNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcclxuICAgIHN3aXRjaCAocmF3VHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ09iamVjdCc6XHJcbiAgICAgICAgY2FzZSAnQXJyYXknOlxyXG4gICAgICAgICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XHJcbiAgICAgICAgY2FzZSAnTWFwJzpcclxuICAgICAgICBjYXNlICdTZXQnOlxyXG4gICAgICAgIGNhc2UgJ1dlYWtNYXAnOlxyXG4gICAgICAgIGNhc2UgJ1dlYWtTZXQnOlxyXG4gICAgICAgICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiAwIC8qIElOVkFMSUQgKi87XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIiAvKiBTS0lQICovXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSlcclxuICAgICAgICA/IDAgLyogSU5WQUxJRCAqL1xyXG4gICAgICAgIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcclxufVxyXG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcclxuICAgIC8vIGlmIHRyeWluZyB0byBvYnNlcnZlIGEgcmVhZG9ubHkgcHJveHksIHJldHVybiB0aGUgcmVhZG9ubHkgdmVyc2lvbi5cclxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0W1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10pIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIG11dGFibGVIYW5kbGVycywgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycywgcmVhY3RpdmVNYXApO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gYSBzaGFsbG93bHktcmVhY3RpdmUgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290XHJcbiAqIGxldmVsIHByb3BlcnRpZXMgYXJlIHJlYWN0aXZlLiBJdCBhbHNvIGRvZXMgbm90IGF1dG8tdW53cmFwIHJlZnMgKGV2ZW4gYXQgdGhlXHJcbiAqIHJvb3QgbGV2ZWwpLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhY3RpdmVNYXApO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgcmVhZG9ubHkgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LiBOb3RlIHRoZSByZXR1cm5lZCBjb3B5IGlzIG5vdFxyXG4gKiBtYWRlIHJlYWN0aXZlLCBidXQgYHJlYWRvbmx5YCBjYW4gYmUgY2FsbGVkIG9uIGFuIGFscmVhZHkgcmVhY3RpdmUgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCByZWFkb25seUhhbmRsZXJzLCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycywgcmVhZG9ubHlNYXApO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcmVhY3RpdmUtY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290IGxldmVsXHJcbiAqIHByb3BlcnRpZXMgYXJlIHJlYWRvbmx5LCBhbmQgZG9lcyBOT1QgdW53cmFwIHJlZnMgbm9yIHJlY3Vyc2l2ZWx5IGNvbnZlcnRcclxuICogcmV0dXJuZWQgcHJvcGVydGllcy5cclxuICogVGhpcyBpcyB1c2VkIGZvciBjcmVhdGluZyB0aGUgcHJvcHMgcHJveHkgb2JqZWN0IGZvciBzdGF0ZWZ1bCBjb21wb25lbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMsIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5TWFwKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHksIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xyXG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiAke1N0cmluZyh0YXJnZXQpfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLy8gdGFyZ2V0IGlzIGFscmVhZHkgYSBQcm94eSwgcmV0dXJuIGl0LlxyXG4gICAgLy8gZXhjZXB0aW9uOiBjYWxsaW5nIHJlYWRvbmx5KCkgb24gYSByZWFjdGl2ZSBvYmplY3RcclxuICAgIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUkFXICovXSAmJlxyXG4gICAgICAgICEoaXNSZWFkb25seSAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovXSkpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLy8gdGFyZ2V0IGFscmVhZHkgaGFzIGNvcnJlc3BvbmRpbmcgUHJveHlcclxuICAgIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmIChleGlzdGluZ1Byb3h5KSB7XHJcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XHJcbiAgICB9XHJcbiAgICAvLyBvbmx5IGEgd2hpdGVsaXN0IG9mIHZhbHVlIHR5cGVzIGNhbiBiZSBvYnNlcnZlZC5cclxuICAgIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XHJcbiAgICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgdGFyZ2V0VHlwZSA9PT0gMiAvKiBDT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzKTtcclxuICAgIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcclxuICAgIHJldHVybiBwcm94eTtcclxufVxyXG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dKTtcclxuICAgIH1cclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi9dKTtcclxufVxyXG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSk7XHJcbn1cclxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWUpIHx8IGlzUmVhZG9ubHkodmFsdWUpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XHJcbiAgICByZXR1cm4gKChvYnNlcnZlZCAmJiB0b1JhdyhvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dKSkgfHwgb2JzZXJ2ZWQpO1xyXG59XHJcbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcclxuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi8sIHRydWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbmNvbnN0IGNvbnZlcnQgPSAodmFsKSA9PiBpc09iamVjdCh2YWwpID8gcmVhY3RpdmUodmFsKSA6IHZhbDtcclxuZnVuY3Rpb24gaXNSZWYocikge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4ociAmJiByLl9fdl9pc1JlZiA9PT0gdHJ1ZSk7XHJcbn1cclxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcclxufVxyXG5jbGFzcyBSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9yYXdWYWx1ZSwgX3NoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gX3Jhd1ZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3NoYWxsb3cgPSBfc2hhbGxvdztcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfc2hhbGxvdyA/IF9yYXdWYWx1ZSA6IGNvbnZlcnQoX3Jhd1ZhbHVlKTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICB0cmFjayh0b1Jhdyh0aGlzKSwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh0b1JhdyhuZXdWYWwpLCB0aGlzLl9yYXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc2hhbGxvdyA/IG5ld1ZhbCA6IGNvbnZlcnQobmV3VmFsKTtcclxuICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcclxufVxyXG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZikge1xyXG4gICAgdHJpZ2dlcih0b1JhdyhyZWYpLCBcInNldFwiIC8qIFNFVCAqLywgJ3ZhbHVlJywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcclxuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xyXG59XHJcbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcclxuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXHJcbiAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKVxyXG4gICAgICAgID8gb2JqZWN0V2l0aFJlZnNcclxuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcclxufVxyXG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcclxuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFjayh0aGlzLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyksICgpID0+IHRyaWdnZXIodGhpcywgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpKTtcclxuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XHJcbiAgICAgICAgdGhpcy5fc2V0ID0gc2V0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoKTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9zZXQobmV3VmFsKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUHJveHkob2JqZWN0KSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXkpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xyXG4gICAgICAgIHRoaXMuX2tleSA9IF9rZXk7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcclxuICAgICAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSkge1xyXG4gICAgcmV0dXJuIGlzUmVmKG9iamVjdFtrZXldKVxyXG4gICAgICAgID8gb2JqZWN0W2tleV1cclxuICAgICAgICA6IG5ldyBPYmplY3RSZWZJbXBsKG9iamVjdCwga2V5KTtcclxufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xyXG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZWZmZWN0ID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgICAgICBsYXp5OiB0cnVlLFxyXG4gICAgICAgICAgICBzY2hlZHVsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcih0b1Jhdyh0aGlzKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dID0gaXNSZWFkb25seTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICAvLyB0aGUgY29tcHV0ZWQgcmVmIG1heSBnZXQgd3JhcHBlZCBieSBvdGhlciBwcm94aWVzIGUuZy4gcmVhZG9ubHkoKSAjMzM3NlxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcclxuICAgICAgICBpZiAoc2VsZi5fZGlydHkpIHtcclxuICAgICAgICAgICAgc2VsZi5fdmFsdWUgPSB0aGlzLmVmZmVjdCgpO1xyXG4gICAgICAgICAgICBzZWxmLl9kaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFjayhzZWxmLCBcImdldFwiIC8qIEdFVCAqLywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGVyKG5ld1ZhbHVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIGxldCBnZXR0ZXI7XHJcbiAgICBsZXQgc2V0dGVyO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcclxuICAgICAgICBzZXR0ZXIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLmdldDtcclxuICAgICAgICBzZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuc2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSB8fCAhZ2V0dGVyT3JPcHRpb25zLnNldCk7XHJcbn1cblxuZXhwb3J0IHsgSVRFUkFURV9LRVksIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZW5hYmxlVHJhY2tpbmcsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCByZXNldFRyYWNraW5nLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyYWNrLCB0cmlnZ2VyLCB0cmlnZ2VyUmVmLCB1bnJlZiB9O1xuIiwiaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCBpc1JlYWN0aXZlLCBlZmZlY3QsIHN0b3AsIHJlZiwgcmVhY3RpdmUsIHByb3h5UmVmcywgdG9SZWYsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNQcm94eSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBjdXN0b21SZWYsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBtYXJrUmF3LCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIGV4dGVuZCwgaGFzT3duLCBFTVBUWV9PQkosIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgcmVtb3ZlLCBOT09QLCBoYXNDaGFuZ2VkLCBpc09iamVjdCwgaXNTZXQsIGlzTWFwLCBpc1BsYWluT2JqZWN0LCBpbnZva2VBcnJheUZucywgZGVmLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIE5PLCBnZXRHbG9iYWxUaGlzLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplU3R5bGUsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcclxuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XHJcbiAgICBzdGFjay5wdXNoKHZub2RlKTtcclxufVxyXG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcclxuICAgIHN0YWNrLnBvcCgpO1xyXG59XHJcbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XHJcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxyXG4gICAgLy8gZHVyaW5nIHBhdGNoLCBsZWFkaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cclxuICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcclxuICAgIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XHJcbiAgICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XHJcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwV2FybkhhbmRsZXIsIGluc3RhbmNlLCAxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovLCBbXHJcbiAgICAgICAgICAgIG1zZyArIGFyZ3Muam9pbignJyksXHJcbiAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmApXHJcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIHRyYWNlXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xyXG4gICAgICAgICAgICAhZmFsc2UpIHtcclxuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcclxuICAgIH1cclxuICAgIHJlc2V0VHJhY2tpbmcoKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcclxuICAgIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcclxuICAgIGlmICghY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgdGhlIHN0YWNrIGJlY2F1c2UgaXQgd2lsbCBiZSBpbmNvbXBsZXRlIGR1cmluZyB1cGRhdGVzXHJcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcclxuICAgIC8vIGluc3RhbmNlIHBhcmVudCBwb2ludGVycy5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xyXG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XHJcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XHJcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxyXG4gICAgICAgICAgICAgICAgcmVjdXJzZUNvdW50OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XHJcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XHJcbiAgICBjb25zdCBsb2dzID0gW107XHJcbiAgICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xyXG4gICAgICAgIGxvZ3MucHVzaCguLi4oaSA9PT0gMCA/IFtdIDogW2BcXG5gXSksIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGxvZ3M7XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xyXG4gICAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcclxuICAgIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xyXG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcclxuICAgIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcclxuICAgIHJldHVybiB2bm9kZS5wcm9wc1xyXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXHJcbiAgICAgICAgOiBbb3BlbiArIGNsb3NlXTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xyXG4gICAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMykge1xyXG4gICAgICAgIHJlcy5wdXNoKGAgLi4uYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fFxyXG4gICAgICAgIHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XHJcbiAgICB9XHJcbn1cblxuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IHtcclxuICAgIFtcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqL106ICdiZWZvcmVDcmVhdGUgaG9vaycsXHJcbiAgICBbXCJjXCIgLyogQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxyXG4gICAgW1wiYm1cIiAvKiBCRUZPUkVfTU9VTlQgKi9dOiAnYmVmb3JlTW91bnQgaG9vaycsXHJcbiAgICBbXCJtXCIgLyogTU9VTlRFRCAqL106ICdtb3VudGVkIGhvb2snLFxyXG4gICAgW1wiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcclxuICAgIFtcInVcIiAvKiBVUERBVEVEICovXTogJ3VwZGF0ZWQnLFxyXG4gICAgW1wiYnVtXCIgLyogQkVGT1JFX1VOTU9VTlQgKi9dOiAnYmVmb3JlVW5tb3VudCBob29rJyxcclxuICAgIFtcInVtXCIgLyogVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcclxuICAgIFtcImFcIiAvKiBBQ1RJVkFURUQgKi9dOiAnYWN0aXZhdGVkIGhvb2snLFxyXG4gICAgW1wiZGFcIiAvKiBERUFDVElWQVRFRCAqL106ICdkZWFjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcclxuICAgIFtcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovXTogJ3JlbmRlclRyYWNrZWQgaG9vaycsXHJcbiAgICBbXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovXTogJ3JlbmRlclRyaWdnZXJlZCBob29rJyxcclxuICAgIFswIC8qIFNFVFVQX0ZVTkNUSU9OICovXTogJ3NldHVwIGZ1bmN0aW9uJyxcclxuICAgIFsxIC8qIFJFTkRFUl9GVU5DVElPTiAqL106ICdyZW5kZXIgZnVuY3Rpb24nLFxyXG4gICAgWzIgLyogV0FUQ0hfR0VUVEVSICovXTogJ3dhdGNoZXIgZ2V0dGVyJyxcclxuICAgIFszIC8qIFdBVENIX0NBTExCQUNLICovXTogJ3dhdGNoZXIgY2FsbGJhY2snLFxyXG4gICAgWzQgLyogV0FUQ0hfQ0xFQU5VUCAqL106ICd3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb24nLFxyXG4gICAgWzUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi9dOiAnbmF0aXZlIGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzYgLyogQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi9dOiAnY29tcG9uZW50IGV2ZW50IGhhbmRsZXInLFxyXG4gICAgWzcgLyogVk5PREVfSE9PSyAqL106ICd2bm9kZSBob29rJyxcclxuICAgIFs4IC8qIERJUkVDVElWRV9IT09LICovXTogJ2RpcmVjdGl2ZSBob29rJyxcclxuICAgIFs5IC8qIFRSQU5TSVRJT05fSE9PSyAqL106ICd0cmFuc2l0aW9uIGhvb2snLFxyXG4gICAgWzEwIC8qIEFQUF9FUlJPUl9IQU5ETEVSICovXTogJ2FwcCBlcnJvckhhbmRsZXInLFxyXG4gICAgWzExIC8qIEFQUF9XQVJOX0hBTkRMRVIgKi9dOiAnYXBwIHdhcm5IYW5kbGVyJyxcclxuICAgIFsxMiAvKiBGVU5DVElPTl9SRUYgKi9dOiAncmVmIGZ1bmN0aW9uJyxcclxuICAgIFsxMyAvKiBBU1lOQ19DT01QT05FTlRfTE9BREVSICovXTogJ2FzeW5jIGNvbXBvbmVudCBsb2FkZXInLFxyXG4gICAgWzE0IC8qIFNDSEVEVUxFUiAqL106ICdzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuICcgK1xyXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvdnVlLW5leHQnXHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGxldCByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xyXG4gICAgICAgIC8vIHRoZSBleHBvc2VkIGluc3RhbmNlIGlzIHRoZSByZW5kZXIgcHJveHkgdG8ga2VlcCBpdCBjb25zaXN0ZW50IHdpdGggMi54XHJcbiAgICAgICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XHJcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXHJcbiAgICAgICAgY29uc3QgZXJyb3JJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXSA6IHR5cGU7XHJcbiAgICAgICAgd2hpbGUgKGN1cikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XHJcbiAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHAtbGV2ZWwgaGFuZGxpbmdcclxuICAgICAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XHJcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwRXJyb3JIYW5kbGVyLCBudWxsLCAxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcclxufVxyXG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3YXJuKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcclxuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXHJcbiAgICAgICAgaWYgKHRocm93SW5EZXYpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG5sZXQgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuY29uc3QgcXVldWUgPSBbXTtcclxubGV0IGZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUHJlRmx1c2hDYnMgPSBbXTtcclxubGV0IGFjdGl2ZVByZUZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHByZUZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xyXG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG5jb25zdCByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xyXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xyXG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcclxufVxyXG4vLyAjMjc2OFxyXG4vLyBVc2UgYmluYXJ5LXNlYXJjaCB0byBmaW5kIGEgc3VpdGFibGUgcG9zaXRpb24gaW4gdGhlIHF1ZXVlLFxyXG4vLyBzbyB0aGF0IHRoZSBxdWV1ZSBtYWludGFpbnMgdGhlIGluY3JlYXNpbmcgb3JkZXIgb2Ygam9iJ3MgaWQsXHJcbi8vIHdoaWNoIGNhbiBwcmV2ZW50IHRoZSBqb2IgZnJvbSBiZWluZyBza2lwcGVkIGFuZCBhbHNvIGNhbiBhdm9pZCByZXBlYXRlZCBwYXRjaGluZy5cclxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGpvYikge1xyXG4gICAgLy8gdGhlIHN0YXJ0IGluZGV4IHNob3VsZCBiZSBgZmx1c2hJbmRleCArIDFgXHJcbiAgICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcclxuICAgIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XHJcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICBjb25zdCBtaWRkbGUgPSAoc3RhcnQgKyBlbmQpID4+PiAxO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQocXVldWVbbWlkZGxlXSk7XHJcbiAgICAgICAgbWlkZGxlSm9iSWQgPCBqb2JJZCA/IChzdGFydCA9IG1pZGRsZSArIDEpIDogKGVuZCA9IG1pZGRsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhcnQ7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XHJcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcclxuICAgIC8vIGJ5IGRlZmF1bHQgdGhlIHNlYXJjaCBpbmRleCBpbmNsdWRlcyB0aGUgY3VycmVudCBqb2IgdGhhdCBpcyBiZWluZyBydW5cclxuICAgIC8vIHNvIGl0IGNhbm5vdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiBhZ2Fpbi5cclxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXHJcbiAgICAvLyBhbGxvdyBpdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiAtIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG9cclxuICAgIC8vIGVuc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wLlxyXG4gICAgaWYgKCghcXVldWUubGVuZ3RoIHx8XHJcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkgJiZcclxuICAgICAgICBqb2IgIT09IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYikge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IGZpbmRJbnNlcnRpb25JbmRleChqb2IpO1xyXG4gICAgICAgIGlmIChwb3MgPiAtMSkge1xyXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zLCAwLCBqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVldWUucHVzaChqb2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZUZsdXNoKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcclxuICAgIGlmICghaXNGbHVzaGluZyAmJiAhaXNGbHVzaFBlbmRpbmcpIHtcclxuICAgICAgICBpc0ZsdXNoUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcclxuICAgIGNvbnN0IGkgPSBxdWV1ZS5pbmRleE9mKGpvYik7XHJcbiAgICBpZiAoaSA+IGZsdXNoSW5kZXgpIHtcclxuICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVDYihjYiwgYWN0aXZlUXVldWUsIHBlbmRpbmdRdWV1ZSwgaW5kZXgpIHtcclxuICAgIGlmICghaXNBcnJheShjYikpIHtcclxuICAgICAgICBpZiAoIWFjdGl2ZVF1ZXVlIHx8XHJcbiAgICAgICAgICAgICFhY3RpdmVRdWV1ZS5pbmNsdWRlcyhjYiwgY2IuYWxsb3dSZWN1cnNlID8gaW5kZXggKyAxIDogaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdRdWV1ZS5wdXNoKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpZiBjYiBpcyBhbiBhcnJheSwgaXQgaXMgYSBjb21wb25lbnQgbGlmZWN5Y2xlIGhvb2sgd2hpY2ggY2FuIG9ubHkgYmVcclxuICAgICAgICAvLyB0cmlnZ2VyZWQgYnkgYSBqb2IsIHdoaWNoIGlzIGFscmVhZHkgZGVkdXBlZCBpbiB0aGUgbWFpbiBxdWV1ZSwgc29cclxuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcclxuICAgICAgICBwZW5kaW5nUXVldWUucHVzaCguLi5jYik7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUZsdXNoKCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQcmVGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQcmVGbHVzaENicywgcGVuZGluZ1ByZUZsdXNoQ2JzLCBwcmVGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XHJcbiAgICBxdWV1ZUNiKGNiLCBhY3RpdmVQb3N0Rmx1c2hDYnMsIHBlbmRpbmdQb3N0Rmx1c2hDYnMsIHBvc3RGbHVzaEluZGV4KTtcclxufVxyXG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYiA9IG51bGwpIHtcclxuICAgIGlmIChwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gcGFyZW50Sm9iO1xyXG4gICAgICAgIGFjdGl2ZVByZUZsdXNoQ2JzID0gWy4uLm5ldyBTZXQocGVuZGluZ1ByZUZsdXNoQ2JzKV07XHJcbiAgICAgICAgcGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJlRmx1c2hJbmRleCA9IDA7IHByZUZsdXNoSW5kZXggPCBhY3RpdmVQcmVGbHVzaENicy5sZW5ndGg7IHByZUZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUHJlRmx1c2hDYnNbcHJlRmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcHJlRmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbHVzaCB1bnRpbCBpdCBkcmFpbnNcclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xyXG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxyXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcclxuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcclxuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4pO1xyXG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcclxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcclxuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxyXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXHJcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxyXG4gICAgcXVldWUuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcclxuICAgICAgICAgICAgaWYgKGpvYiAmJiBqb2IuYWN0aXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogU0NIRURVTEVSICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xyXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XHJcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXHJcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fFxyXG4gICAgICAgICAgICBwZW5kaW5nUHJlRmx1c2hDYnMubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XHJcbiAgICBpZiAoIXNlZW4uaGFzKGZuKSkge1xyXG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xyXG4gICAgICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGZuLm93bmVySW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xyXG4gICAgICAgICAgICB3YXJuKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gYCArXHJcbiAgICAgICAgICAgICAgICBgVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gYCArXHJcbiAgICAgICAgICAgICAgICBgZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGAgK1xyXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcclxuICAgICAgICAgICAgICAgIGB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IG5ldyBTZXQoKTtcclxuLy8gRXhwb3NlIHRoZSBITVIgcnVudGltZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxyXG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXHJcbi8vIGl0IGVhc2llciB0byBiZSB1c2VkIGluIHRvb2xpbmdzIGxpa2UgdnVlLWxvYWRlclxyXG4vLyBOb3RlOiBmb3IgYSBjb21wb25lbnQgdG8gYmUgZWxpZ2libGUgZm9yIEhNUiBpdCBhbHNvIG5lZWRzIHRoZSBfX2htcklkIG9wdGlvblxyXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgY29uc3QgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIGdsb2JhbE9iamVjdC5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxyXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcclxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcclxuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcclxuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIH1cclxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBjb21wb25lbnQpIHtcclxuICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgd2FybihgSE1SIEFQSSB1c2FnZSBpcyBvdXQgb2YgZGF0ZS5cXG5gICtcclxuICAgICAgICAgICAgYFBsZWFzZSB1cGdyYWRlIHZ1ZS1sb2FkZXIvdml0ZS9yb2xsdXAtcGx1Z2luLXZ1ZSBvciBvdGhlciByZWxldmFudCBgICtcclxuICAgICAgICAgICAgYGRlcGVuZGVuY3kgdGhhdCBoYW5kbGVzIFZ1ZSBTRkMgY29tcGlsYXRpb24uYCk7XHJcbiAgICAgICAgY29tcG9uZW50ID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBtYXAuc2V0KGlkLCB7XHJcbiAgICAgICAgY29tcG9uZW50OiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50LFxyXG4gICAgICAgIGluc3RhbmNlczogbmV3IFNldCgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKG5ld1JlbmRlcilcclxuICAgICAgICByZWNvcmQuY29tcG9uZW50LnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZC5pbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChuZXdSZW5kZXIpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xyXG4gICAgICAgIC8vIHRoaXMgZmxhZyBmb3JjZXMgY2hpbGQgY29tcG9uZW50cyB3aXRoIHNsb3QgY29udGVudCB0byB1cGRhdGVcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gQXJyYXkuZnJvbSBjcmVhdGVzIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmdcclxuICAgIC8vIHVwZGF0ZXNcclxuICAgIGNvbnN0IHsgY29tcG9uZW50LCBpbnN0YW5jZXMgfSA9IHJlY29yZDtcclxuICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgLy8gMS4gVXBkYXRlIGV4aXN0aW5nIGNvbXAgZGVmaW5pdGlvbiB0byBtYXRjaCBuZXcgb25lXHJcbiAgICAgICAgbmV3Q29tcCA9IGlzQ2xhc3NDb21wb25lbnQobmV3Q29tcCkgPyBuZXdDb21wLl9fdmNjT3B0cyA6IG5ld0NvbXA7XHJcbiAgICAgICAgZXh0ZW5kKGNvbXBvbmVudCwgbmV3Q29tcCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdfX2ZpbGUnICYmICEoa2V5IGluIG5ld0NvbXApKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgY29tcG9uZW50W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gTWFyayBjb21wb25lbnQgZGlydHkuIFRoaXMgZm9yY2VzIHRoZSByZW5kZXJlciB0byByZXBsYWNlIHRoZSBjb21wb25lbnRcclxuICAgICAgICAvLyBvbiBwYXRjaC5cclxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKGNvbXBvbmVudCk7XHJcbiAgICAgICAgLy8gMy4gTWFrZSBzdXJlIHRvIHVubWFyayB0aGUgY29tcG9uZW50IGFmdGVyIHRoZSByZWxvYWQuXHJcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XHJcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIEFycmF5LmZyb20oaW5zdGFuY2VzKS5mb3JFYWNoKGluc3RhbmNlID0+IHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIDQuIEZvcmNlIHRoZSBwYXJlbnQgaW5zdGFuY2UgdG8gcmUtcmVuZGVyLiBUaGlzIHdpbGwgY2F1c2UgYWxsIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gY29tcG9uZW50cyB0byBiZSB1bm1vdW50ZWQgYW5kIHJlLW1vdW50ZWQuIFF1ZXVlIHRoZSB1cGRhdGUgc28gdGhhdCB3ZVxyXG4gICAgICAgICAgICAvLyBkb24ndCBlbmQgdXAgZm9yY2luZyB0aGUgc2FtZSBwYXJlbnQgdG8gcmUtcmVuZGVyIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBtb3VudGVkIHZpYSBjcmVhdGVBcHAoKSBoYXMgYSByZWxvYWQgbWV0aG9kXHJcbiAgICAgICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgaW5zaWRlIHRyZWUgY3JlYXRlZCB2aWEgcmF3IHJlbmRlcigpLiBGb3JjZSByZWxvYWQuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XHJcbiAgICByZXR1cm4gKGlkLCBhcmcpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gYCArXHJcbiAgICAgICAgICAgICAgICBgRnVsbCByZWxvYWQgcmVxdWlyZWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5sZXQgZGV2dG9vbHM7XHJcbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayhob29rKSB7XHJcbiAgICBkZXZ0b29scyA9IGhvb2s7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xyXG4gICAgLy8gVE9ETyBxdWV1ZSBpZiBkZXZ0b29scyBpcyB1bmRlZmluZWRcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImFwcDppbml0XCIgLyogQVBQX0lOSVQgKi8sIGFwcCwgdmVyc2lvbiwge1xyXG4gICAgICAgIEZyYWdtZW50LFxyXG4gICAgICAgIFRleHQsXHJcbiAgICAgICAgQ29tbWVudDogQ29tbWVudCQxLFxyXG4gICAgICAgIFN0YXRpY1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xyXG4gICAgaWYgKCFkZXZ0b29scylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkZXZ0b29scy5lbWl0KFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcclxufVxyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xyXG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcclxuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcclxuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcclxuICAgICAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcclxuICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZGV2dG9vbHMuZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LCBldmVudCwgcGFyYW1zKTtcclxufVxuXG5jb25zdCBkZXByZWNhdGlvbkRhdGEgPSB7XHJcbiAgICBbXCJHTE9CQUxfTU9VTlRcIiAvKiBHTE9CQUxfTU9VTlQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBnbG9iYWwgYXBwIGJvb3RzdHJhcHBpbmcgQVBJIGhhcyBjaGFuZ2VkOiB2bS4kbW91bnQoKSBhbmQgdGhlIFwiZWxcIiBgICtcclxuICAgICAgICAgICAgYG9wdGlvbiBoYXZlIGJlZW4gcmVtb3ZlZC4gVXNlIGNyZWF0ZUFwcChSb290Q29tcG9uZW50KS5tb3VudCgpIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNtb3VudGluZy1hcHAtaW5zdGFuY2VgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIEdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZSBkZXRlY3RlZCBkaXJlY3RpdmVzIG9uIHRoZSBtb3VudCBjb250YWluZXIuIGAgK1xyXG4gICAgICAgICAgICBgSW4gVnVlIDMsIHRoZSBjb250YWluZXIgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgdGVtcGxhdGUgYCArXHJcbiAgICAgICAgICAgIGBhbmQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkL3JlcGxhY2VkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9tb3VudC1jaGFuZ2VzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0VYVEVORFwiIC8qIEdMT0JBTF9FWFRFTkQgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5leHRlbmQoKSBoYXMgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBkZWZpbmVDb21wb25lbnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9nbG9iYWwtYXBpLmh0bWwjZGVmaW5lY29tcG9uZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBHTE9CQUxfUFJPVE9UWVBFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUucHJvdG90eXBlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjdnVlLXByb3RvdHlwZS1yZXBsYWNlZC1ieS1jb25maWctZ2xvYmFscHJvcGVydGllc2BcclxuICAgIH0sXHJcbiAgICBbXCJHTE9CQUxfU0VUXCIgLyogR0xPQkFMX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVnVlLnNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiR0xPQkFMX0RFTEVURVwiIC8qIEdMT0JBTF9ERUxFVEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5kZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogR0xPQkFMX09CU0VSVkFCTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5vYnNlcnZhYmxlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXHJcbiAgICAgICAgICAgIGBVc2UgXFxgaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tIFwidnVlXCJcXGAgZnJvbSBDb21wb3NpdGlvbiBBUEkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9hcGkvYmFzaWMtcmVhY3Rpdml0eS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBHTE9CQUxfUFJJVkFURV9VVElMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUudXRpbCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgcmVmYWN0b3IgdG8gYXZvaWQgaXRzIHVzYWdlIGAgK1xyXG4gICAgICAgICAgICBgc2luY2UgaXQgd2FzIGFuIGludGVybmFsIEFQSSBldmVuIGluIFZ1ZSAyLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfU0lMRU5UXCIgLyogQ09ORklHX1NJTEVOVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnNpbGVudCBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2UgaXQgaXMgbm90IGdvb2QgcHJhY3RpY2UgdG8gYCArXHJcbiAgICAgICAgICAgIGBpbnRlbnRpb25hbGx5IHN1cHByZXNzIHdhcm5pbmdzLiBZb3UgY2FuIHVzZSB5b3VyIGJyb3dzZXIgY29uc29sZSdzIGAgK1xyXG4gICAgICAgICAgICBgZmlsdGVyIGZlYXR1cmVzIHRvIGZvY3VzIG9uIHJlbGV2YW50IG1lc3NhZ2VzLmBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfREVWVE9PTFNcIiAvKiBDT05GSUdfREVWVE9PTFMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5kZXZ0b29scyBoYXMgYmVlbiByZW1vdmVkLiBUbyBlbmFibGUgZGV2dG9vbHMgZm9yIGAgK1xyXG4gICAgICAgICAgICBgcHJvZHVjdGlvbiwgY29uZmlndXJlIHRoZSBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gY29tcGlsZS10aW1lIGZsYWcuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1uZXh0L3RyZWUvbWFzdGVyL3BhY2thZ2VzL3Z1ZSNidW5kbGVyLWJ1aWxkLWZlYXR1cmUtZmxhZ3NgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX0tFWV9DT0RFU1wiIC8qIENPTkZJR19LRVlfQ09ERVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5rZXlDb2RlcyBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCB5b3UgY2FuIGRpcmVjdGx5IHVzZSB0aGUga2ViYWItY2FzZSBrZXkgbmFtZXMgYXMgdi1vbiBtb2RpZmllcnMuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogQ09ORklHX1BST0RVQ1RJT05fVElQICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcucHJvZHVjdGlvblRpcCBoYXMgYmVlbiByZW1vdmVkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLXByb2R1Y3Rpb250aXAtcmVtb3ZlZGBcclxuICAgIH0sXHJcbiAgICBbXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIENPTkZJR19JR05PUkVEX0VMRU1FTlRTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25maWcuaWdub3JlZEVsZW1lbnRzIGhhcyBiZWVuIHJlbW92ZWQuYDtcclxuICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgUGFzcyB0aGUgXCJpc0N1c3RvbUVsZW1lbnRcIiBvcHRpb24gdG8gQHZ1ZS9jb21waWxlci1kb20gaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGAgVXNlIGNvbmZpZy5pc0N1c3RvbUVsZW1lbnQgaW5zdGVhZC5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtc2c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2dsb2JhbC1hcGkuaHRtbCNjb25maWctaWdub3JlZGVsZW1lbnRzLWlzLW5vdy1jb25maWctaXNjdXN0b21lbGVtZW50YFxyXG4gICAgfSxcclxuICAgIFtcIkNPTkZJR19XSElURVNQQUNFXCIgLyogQ09ORklHX1dISVRFU1BBQ0UgKi9dOiB7XHJcbiAgICAgICAgLy8gdGhpcyB3YXJuaW5nIGlzIG9ubHkgcmVsZXZhbnQgaW4gdGhlIGZ1bGwgYnVpbGQgd2hlbiB1c2luZyBydW50aW1lXHJcbiAgICAgICAgLy8gY29tcGlsYXRpb24sIHNvIGl0J3MgcHV0IGluIHRoZSBydW50aW1lIGNvbXBhdENvbmZpZyBsaXN0LlxyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMyBjb21waWxlcidzIHdoaXRlc3BhY2Ugb3B0aW9uIHdpbGwgZGVmYXVsdCB0byBcImNvbmRlbnNlXCIgaW5zdGVhZCBvZiBgICtcclxuICAgICAgICAgICAgYFwicHJlc2VydmVcIi4gVG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLCBwcm92aWRlIGFuIGV4cGxpY2l0IHZhbHVlIGZvciBgICtcclxuICAgICAgICAgICAgYFxcYGNvbmZpZy5jb21waWxlck9wdGlvbnMud2hpdGVzcGFjZVxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUUyAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyBubyBsb25nZXIgZXhwb3NlcyBpbnRlcm5hbCBzdHJhdGVnaWVzLiBgICtcclxuICAgICAgICAgICAgYFVzZSBjdXN0b20gbWVyZ2UgZnVuY3Rpb25zIGluc3RlYWQuYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX1NFVFwiIC8qIElOU1RBTkNFX1NFVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJHNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfREVMRVRFXCIgLyogSU5TVEFOQ0VfREVMRVRFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogSU5TVEFOQ0VfREVTVFJPWSAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlc3Ryb3koKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXBwLnVubW91bnQoKSBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2FwaS9hcHBsaWNhdGlvbi1hcGkuaHRtbCN1bm1vdW50YFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBJTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kb24vJG9uY2UvJG9mZigpIGhhdmUgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBhbiBleHRlcm5hbCBldmVudCBlbWl0dGVyIGxpYnJhcnkgaW5zdGVhZC5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vZXZlbnRzLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogZXZlbnQgPT4gYFwiJHtldmVudH1cIiBsaWZlY3ljbGUgZXZlbnRzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLiBGcm9tIHRlbXBsYXRlcywgYCArXHJcbiAgICAgICAgICAgIGB1c2UgdGhlIFwidm5vZGVcIiBwcmVmaXggaW5zdGVhZCBvZiBcImhvb2s6XCIuIEZvciBleGFtcGxlLCBAJHtldmVudH0gYCArXHJcbiAgICAgICAgICAgIGBzaG91bGQgYmUgY2hhbmdlZCB0byBAdm5vZGUtJHtldmVudC5zbGljZSg1KX0uIGAgK1xyXG4gICAgICAgICAgICBgRnJvbSBKYXZhU2NyaXB0LCB1c2UgQ29tcG9zaXRpb24gQVBJIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgYGhvb2tzLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92bm9kZS1saWZlY3ljbGUtZXZlbnRzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBJTlNUQU5DRV9DSElMRFJFTiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgdm0uJGNoaWxkcmVuIGhhcyBiZWVuIHJlbW92ZWQuIENvbnNpZGVyIHJlZmFjdG9yaW5nIHlvdXIgbG9naWMgYCArXHJcbiAgICAgICAgICAgIGB0byBhdm9pZCByZWx5aW5nIG9uIGRpcmVjdCBhY2Nlc3MgdG8gY2hpbGQgY29tcG9uZW50cy5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vY2hpbGRyZW4uaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBJTlNUQU5DRV9MSVNURU5FUlMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYHZtLiRsaXN0ZW5lcnMgaGFzIGJlZW4gcmVtb3ZlZC4gSW4gVnVlIDMsIHBhcmVudCB2LW9uIGxpc3RlbmVycyBhcmUgYCArXHJcbiAgICAgICAgICAgIGBpbmNsdWRlZCBpbiB2bS4kYXR0cnMgYW5kIGl0IGlzIG5vIGxvbmdlciBuZWNlc3NhcnkgdG8gc2VwYXJhdGVseSB1c2UgYCArXHJcbiAgICAgICAgICAgIGB2LW9uPVwiJGxpc3RlbmVyc1wiIGlmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIi4gYCArXHJcbiAgICAgICAgICAgIGAoTm90ZTogdGhlIFZ1ZSAzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyBpZiB0aGlzIGNvbXBhdCBjb25maWcgaXMgZGlzYWJsZWQpYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2xpc3RlbmVycy1yZW1vdmVkLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiSU5TVEFOQ0VfU0NPUEVEX1NMT1RTXCIgLyogSU5TVEFOQ0VfU0NPUEVEX1NMT1RTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kc2NvcGVkU2xvdHMgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZtLiRzbG90cyBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9zbG90cy11bmlmaWNhdGlvbi5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogY29tcG9uZW50TmFtZSA9PiBgQ29tcG9uZW50IDwke2NvbXBvbmVudE5hbWUgfHxcclxuICAgICAgICAgICAgJ0Fub255bW91cyd9PiBoYXMgXFxgaW5oZXJpdEF0dHJzOiBmYWxzZVxcYCBidXQgaXMgYCArXHJcbiAgICAgICAgICAgIGByZWx5aW5nIG9uIGNsYXNzL3N0eWxlIGZhbGx0aHJvdWdoIGZyb20gcGFyZW50LiBJbiBWdWUgMywgY2xhc3Mvc3R5bGUgYCArXHJcbiAgICAgICAgICAgIGBhcmUgbm93IGluY2x1ZGVkIGluICRhdHRycyBhbmQgd2lsbCBubyBsb25nZXIgZmFsbHRocm91Z2ggd2hlbiBgICtcclxuICAgICAgICAgICAgYGluaGVyaXRBdHRycyBpcyBmYWxzZS4gSWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiIG9uIGAgK1xyXG4gICAgICAgICAgICBgY29tcG9uZW50IHJvb3QgaXQgc2hvdWxkIHJlbmRlciB0aGUgc2FtZSBlbmQgcmVzdWx0LiBgICtcclxuICAgICAgICAgICAgYElmIHlvdSBhcmUgYmluZGluZyAkYXR0cnMgdG8gYSBub24tcm9vdCBlbGVtZW50IGFuZCBleHBlY3RpbmcgYCArXHJcbiAgICAgICAgICAgIGBjbGFzcy9zdHlsZSB0byBmYWxsdGhyb3VnaCBvbiByb290LCB5b3Ugd2lsbCBuZWVkIHRvIG5vdyBtYW51YWxseSBiaW5kIGAgK1xyXG4gICAgICAgICAgICBgdGhlbSBvbiByb290IHZpYSA6Y2xhc3M9XCIkYXR0cnMuY2xhc3NcIi5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cnMtaW5jbHVkZXMtY2xhc3Mtc3R5bGUuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJPUFRJT05TX0RBVEFfRk5cIiAvKiBPUFRJT05TX0RBVEFfRk4gKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogYFRoZSBcImRhdGFcIiBvcHRpb24gY2FuIG5vIGxvbmdlciBiZSBhIHBsYWluIG9iamVjdC4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGEgZnVuY3Rpb24uYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogT1BUSU9OU19EQVRBX01FUkdFICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBEZXRlY3RlZCBjb25mbGljdGluZyBrZXkgXCIke2tleX1cIiB3aGVuIG1lcmdpbmcgZGF0YSBvcHRpb24gdmFsdWVzLiBgICtcclxuICAgICAgICAgICAgYEluIFZ1ZSAzLCBkYXRhIGtleXMgYXJlIG1lcmdlZCBzaGFsbG93bHkgYW5kIHdpbGwgb3ZlcnJpZGUgb25lIGFub3RoZXIuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2RhdGEtb3B0aW9uLmh0bWwjbWl4aW4tbWVyZ2UtYmVoYXZpb3ItY2hhbmdlYFxyXG4gICAgfSxcclxuICAgIFtcIk9QVElPTlNfQkVGT1JFX0RFU1RST1lcIiAvKiBPUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcXGBiZWZvcmVEZXN0cm95XFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgYmVmb3JlVW5tb3VudFxcYC5gXHJcbiAgICB9LFxyXG4gICAgW1wiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBPUFRJT05TX0RFU1RST1lFRCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmBcclxuICAgIH0sXHJcbiAgICBbXCJXQVRDSF9BUlJBWVwiIC8qIFdBVENIX0FSUkFZICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBcIndhdGNoXCIgb3B0aW9uIG9yIHZtLiR3YXRjaCBvbiBhbiBhcnJheSB2YWx1ZSB3aWxsIG5vIGxvbmdlciBgICtcclxuICAgICAgICAgICAgYHRyaWdnZXIgb24gYXJyYXkgbXV0YXRpb24gdW5sZXNzIHRoZSBcImRlZXBcIiBvcHRpb24gaXMgc3BlY2lmaWVkLiBgICtcclxuICAgICAgICAgICAgYElmIGN1cnJlbnQgdXNhZ2UgaXMgaW50ZW5kZWQsIHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiV0FUQ0hfQVJSQVlcIiAvKiBXQVRDSF9BUlJBWSAqL306IGZhbHNlIH0pXFxuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL3dhdGNoLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUFJPUFNfREVGQVVMVF9USElTXCIgLyogUFJPUFNfREVGQVVMVF9USElTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBwcm9wcyBkZWZhdWx0IHZhbHVlIGZ1bmN0aW9uIG5vIGxvbmdlciBoYXMgYWNjZXNzIHRvIFwidGhpc1wiLiBUaGUgY29tcGF0IGAgK1xyXG4gICAgICAgICAgICBgYnVpbGQgb25seSBvZmZlcnMgYWNjZXNzIHRvIHRoaXMuJG9wdGlvbnMuYCArXHJcbiAgICAgICAgICAgIGAoZm91bmQgaW4gcHJvcCBcIiR7a2V5fVwiKWAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9wcm9wcy1kZWZhdWx0LXRoaXMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDVVNUT01fRElSXCIgLyogQ1VTVE9NX0RJUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiAobGVnYWN5SG9vaywgbmV3SG9vaykgPT4gYEN1c3RvbSBkaXJlY3RpdmUgaG9vayBcIiR7bGVnYWN5SG9va31cIiBoYXMgYmVlbiByZW1vdmVkLiBgICtcclxuICAgICAgICAgICAgYFVzZSBcIiR7bmV3SG9va31cIiBpbnN0ZWFkLmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9jdXN0b20tZGlyZWN0aXZlcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfRk9SX1JFRlwiIC8qIFZfRk9SX1JFRiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgUmVmIHVzYWdlIG9uIHYtZm9yIG5vIGxvbmdlciBjcmVhdGVzIGFycmF5IHJlZiB2YWx1ZXMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgQ29uc2lkZXIgdXNpbmcgZnVuY3Rpb24gcmVmcyBvciByZWZhY3RvciB0byBhdm9pZCByZWYgdXNhZ2UgYWx0b2dldGhlci5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXJyYXktcmVmcy5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIFZfT05fS0VZQ09ERV9NT0RJRklFUiAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgVXNpbmcga2V5Q29kZSBhcyB2LW9uIG1vZGlmaWVyIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIGtlYmFiLWNhc2Uga2V5IG5hbWUgbW9kaWZpZXJzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIEFUVFJfRkFMU0VfVkFMVUUgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogKG5hbWUpID0+IGBBdHRyaWJ1dGUgXCIke25hbWV9XCIgd2l0aCB2LWJpbmQgdmFsdWUgXFxgZmFsc2VcXGAgd2lsbCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGAke25hbWV9PVwiZmFsc2VcIiBpbnN0ZWFkIG9mIHJlbW92aW5nIGl0IGluIFZ1ZSAzLiBUbyByZW1vdmUgdGhlIGF0dHJpYnV0ZSwgYCArXHJcbiAgICAgICAgICAgIGB1c2UgXFxgbnVsbFxcYCBvciBcXGB1bmRlZmluZWRcXGAgaW5zdGVhZC4gSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcclxuICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBBVFRSX0ZBTFNFX1ZBTFVFICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChuYW1lLCB2YWx1ZSwgY29lcmNlZCkgPT4gYEVudW1lcmF0ZWQgYXR0cmlidXRlIFwiJHtuYW1lfVwiIHdpdGggdi1iaW5kIHZhbHVlIFxcYCR7dmFsdWV9XFxgIHdpbGwgYCArXHJcbiAgICAgICAgICAgIGAke3ZhbHVlID09PSBudWxsID8gYGJlIHJlbW92ZWRgIDogYHJlbmRlciB0aGUgdmFsdWUgYXMtaXNgfSBpbnN0ZWFkIG9mIGNvZXJjaW5nIHRoZSB2YWx1ZSB0byBcIiR7Y29lcmNlZH1cIiBpbiBWdWUgMy4gYCArXHJcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGV4cGxpY2l0IFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlcy4gYCArXHJcbiAgICAgICAgICAgIGBJZiB0aGUgdXNhZ2UgaXMgaW50ZW5kZWQsIGAgK1xyXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovfTogZmFsc2UgfSlcXG5gLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiVFJBTlNJVElPTl9DTEFTU0VTXCIgLyogVFJBTlNJVElPTl9DTEFTU0VTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBgIC8vIHRoaXMgZmVhdHVyZSBjYW5ub3QgYmUgcnVudGltZS1kZXRlY3RlZFxyXG4gICAgfSxcclxuICAgIFtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIFRSQU5TSVRJT05fR1JPVVBfUk9PVCAqL106IHtcclxuICAgICAgICBtZXNzYWdlOiBgPFRyYW5zaXRpb25Hcm91cD4gbm8gbG9uZ2VyIHJlbmRlcnMgYSByb290IDxzcGFuPiBlbGVtZW50IGJ5IGAgK1xyXG4gICAgICAgICAgICBgZGVmYXVsdCBpZiBubyBcInRhZ1wiIHByb3AgaXMgc3BlY2lmaWVkLiBJZiB5b3UgZG8gbm90IHJlbHkgb24gdGhlIHNwYW4gYCArXHJcbiAgICAgICAgICAgIGBmb3Igc3R5bGluZywgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXHJcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBUUkFOU0lUSU9OX0dST1VQX1JPT1QgKi99OiBmYWxzZSB9KVxcbmAsXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi90cmFuc2l0aW9uLWdyb3VwLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiQ09NUE9ORU5UX0FTWU5DXCIgLyogQ09NUE9ORU5UX0FTWU5DICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBBc3luYyBjb21wb25lbnQke25hbWUgPyBgIDwke25hbWV9PmAgOiBgc2B9IHNob3VsZCBiZSBleHBsaWNpdGx5IGNyZWF0ZWQgdmlhIFxcYGRlZmluZUFzeW5jQ29tcG9uZW50KClcXGAgYCArXHJcbiAgICAgICAgICAgICAgICBgaW4gVnVlIDMuIFBsYWluIGZ1bmN0aW9ucyB3aWxsIGJlIHRyZWF0ZWQgYXMgZnVuY3Rpb25hbCBjb21wb25lbnRzIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgYG5vbi1jb21wYXQgYnVpbGQuIElmIHlvdSBoYXZlIGFscmVhZHkgbWlncmF0ZWQgYWxsIGFzeW5jIGNvbXBvbmVudCBgICtcclxuICAgICAgICAgICAgICAgIGB1c2FnZSBhbmQgaW50ZW5kIHRvIHVzZSBwbGFpbiBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgYCArXHJcbiAgICAgICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXHJcbiAgICAgICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xyXG4gICAgICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIENPTVBPTkVOVF9BU1lOQyAqL306IGZhbHNlIH0pXFxuYCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2FzeW5jLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIENPTVBPTkVOVF9GVU5DVElPTkFMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gKGBGdW5jdGlvbmFsIGNvbXBvbmVudCR7bmFtZSA/IGAgPCR7bmFtZX0+YCA6IGBzYH0gc2hvdWxkIGJlIGRlZmluZWQgYXMgYSBwbGFpbiBmdW5jdGlvbiBpbiBWdWUgMy4gVGhlIFwiZnVuY3Rpb25hbFwiIGAgK1xyXG4gICAgICAgICAgICAgICAgYG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBOT1RFOiBCZWZvcmUgbWlncmF0aW5nIHRvIHVzZSBwbGFpbiBgICtcclxuICAgICAgICAgICAgICAgIGBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgZmlyc3QgbWFrZSBzdXJlIHRoYXQgYWxsIGFzeW5jIGAgK1xyXG4gICAgICAgICAgICAgICAgYGNvbXBvbmVudHMgdXNhZ2UgaGF2ZSBiZWVuIG1pZ3JhdGVkIGFuZCBpdHMgY29tcGF0IGJlaGF2aW9yIGhhcyBgICtcclxuICAgICAgICAgICAgICAgIGBiZWVuIGRpc2FibGVkLmApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi9mdW5jdGlvbmFsLWNvbXBvbmVudHMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ01zZyA9IGBvcHQtaW4gdG8gYCArXHJcbiAgICAgICAgICAgICAgICBgVnVlIDMgYmVoYXZpb3Igb24gYSBwZXItY29tcG9uZW50IGJhc2lzIHdpdGggXFxgY29tcGF0Q29uZmlnOiB7ICR7XCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIENPTVBPTkVOVF9WX01PREVMICovfTogZmFsc2UgfVxcYC5gO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5wcm9wcyAmJiBpc0FycmF5KGNvbXAucHJvcHMpXHJcbiAgICAgICAgICAgICAgICA/IGNvbXAucHJvcHMuaW5jbHVkZXMoJ21vZGVsVmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgOiBoYXNPd24oY29tcC5wcm9wcywgJ21vZGVsVmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChgQ29tcG9uZW50IGRlbGNhcmVzIFwibW9kZWxWYWx1ZVwiIHByb3AsIHdoaWNoIGlzIFZ1ZSAzIHVzYWdlLCBidXQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGlzIHJ1bm5pbmcgdW5kZXIgVnVlIDIgY29tcGF0IHYtbW9kZWwgYmVoYXZpb3IuIFlvdSBjYW4gJHtjb25maWdNc2d9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChgdi1tb2RlbCB1c2FnZSBvbiBjb21wb25lbnQgaGFzIGNoYW5nZWQgaW4gVnVlIDMuIENvbXBvbmVudCB0aGF0IGV4cGVjdHMgYCArXHJcbiAgICAgICAgICAgICAgICBgdG8gd29yayB3aXRoIHYtbW9kZWwgc2hvdWxkIG5vdyB1c2UgdGhlIFwibW9kZWxWYWx1ZVwiIHByb3AgYW5kIGVtaXQgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYFwidXBkYXRlOm1vZGVsVmFsdWVcIiBldmVudC4gWW91IGNhbiB1cGRhdGUgdGhlIHVzYWdlIGFuZCB0aGVuICR7Y29uZmlnTXNnfWApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi92LW1vZGVsLmh0bWxgXHJcbiAgICB9LFxyXG4gICAgW1wiUkVOREVSX0ZVTkNUSU9OXCIgLyogUkVOREVSX0ZVTkNUSU9OICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMydzIHJlbmRlciBmdW5jdGlvbiBBUEkgaGFzIGNoYW5nZWQuIGAgK1xyXG4gICAgICAgICAgICBgWW91IGNhbiBvcHQtaW4gdG8gdGhlIG5ldyBBUEkgd2l0aDpgICtcclxuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIFJFTkRFUl9GVU5DVElPTiAqL306IGZhbHNlIH0pXFxuYCArXHJcbiAgICAgICAgICAgIGBcXG4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgcGVyLWNvbXBvbmVudCB2aWEgdGhlIFwiY29tcGF0Q29uZmlnXCIgb3B0aW9uLilgLFxyXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vcmVuZGVyLWZ1bmN0aW9uLWFwaS5odG1sYFxyXG4gICAgfSxcclxuICAgIFtcIkZJTFRFUlNcIiAvKiBGSUxURVJTICovXToge1xyXG4gICAgICAgIG1lc3NhZ2U6IGBmaWx0ZXJzIGhhdmUgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcclxuICAgICAgICAgICAgYFRoZSBcInxcIiBzeW1ib2wgd2lsbCBiZSB0cmVhdGVkIGFzIG5hdGl2ZSBKYXZhU2NyaXB0IGJpdHdpc2UgT1Igb3BlcmF0b3IuIGAgK1xyXG4gICAgICAgICAgICBgVXNlIG1ldGhvZCBjYWxscyBvciBjb21wdXRlZCBwcm9wZXJ0aWVzIGluc3RlYWQuYCxcclxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uL2ZpbHRlcnMuaHRtbGBcclxuICAgIH0sXHJcbiAgICBbXCJQUklWQVRFX0FQSVNcIiAvKiBQUklWQVRFX0FQSVMgKi9dOiB7XHJcbiAgICAgICAgbWVzc2FnZTogbmFtZSA9PiBgXCIke25hbWV9XCIgaXMgYSBWdWUgMiBwcml2YXRlIEFQSSB0aGF0IG5vIGxvbmdlciBleGlzdHMgaW4gVnVlIDMuIGAgK1xyXG4gICAgICAgICAgICBgSWYgeW91IGFyZSBzZWVpbmcgdGhpcyB3YXJuaW5nIG9ubHkgZHVlIHRvIGEgZGVwZW5kZW5jeSwgeW91IGNhbiBgICtcclxuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB2aWEgeyBQUklWQVRFX0FQSVM6ICdzdXByZXNzLXdhcm5pbmcnIH0uYFxyXG4gICAgfVxyXG59O1xyXG5jb25zdCBpbnN0YW5jZVdhcm5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmNvbnN0IHdhcm5Db3VudCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAvLyBjaGVjayB1c2VyIGNvbmZpZ1xyXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xyXG4gICAgaWYgKGNvbmZpZyA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHVwS2V5ID0ga2V5ICsgYXJncy5qb2luKCcnKTtcclxuICAgIGxldCBjb21wSWQgPSBpbnN0YW5jZSAmJiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKTtcclxuICAgIGlmIChjb21wSWQgPT09ICdBbm9ueW1vdXMnICYmIGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29tcElkID0gaW5zdGFuY2UudWlkO1xyXG4gICAgfVxyXG4gICAgLy8gc2tpcCBpZiB0aGUgc2FtZSB3YXJuaW5nIGlzIGVtaXR0ZWQgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0eXBlXHJcbiAgICBjb25zdCBjb21wb25lbnREdXBLZXkgPSBkdXBLZXkgKyBjb21wSWQ7XHJcbiAgICBpZiAoY29tcG9uZW50RHVwS2V5IGluIGluc3RhbmNlV2FybmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaW5zdGFuY2VXYXJuZWRbY29tcG9uZW50RHVwS2V5XSA9IHRydWU7XHJcbiAgICAvLyBzYW1lIHdhcm5pbmcsIGJ1dCBkaWZmZXJlbnQgY29tcG9uZW50LiBza2lwIHRoZSBsb25nIG1lc3NhZ2UgYW5kIGp1c3RcclxuICAgIC8vIGxvZyB0aGUga2V5IGFuZCBjb3VudC5cclxuICAgIGlmIChkdXBLZXkgaW4gd2FybkNvdW50KSB7XHJcbiAgICAgICAgd2FybihgKGRlcHJlY2F0aW9uICR7a2V5fSkgKCR7Kyt3YXJuQ291bnRbZHVwS2V5XSArIDF9KWApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHdhcm5Db3VudFtkdXBLZXldID0gMDtcclxuICAgIGNvbnN0IHsgbWVzc2FnZSwgbGluayB9ID0gZGVwcmVjYXRpb25EYXRhW2tleV07XHJcbiAgICB3YXJuKGAoZGVwcmVjYXRpb24gJHtrZXl9KSAke3R5cGVvZiBtZXNzYWdlID09PSAnZnVuY3Rpb24nID8gbWVzc2FnZSguLi5hcmdzKSA6IG1lc3NhZ2V9JHtsaW5rID8gYFxcbiAgRGV0YWlsczogJHtsaW5rfWAgOiBgYH1gKTtcclxuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIHRydWUpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgXiBUaGUgYWJvdmUgZGVwcmVjYXRpb24ncyBjb21wYXQgYmVoYXZpb3IgaXMgZGlzYWJsZWQgYW5kIHdpbGwgbGlrZWx5IGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byBydW50aW1lIGVycm9ycy5gKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBnbG9iYWxDb21wYXRDb25maWcgPSB7XHJcbiAgICBNT0RFOiAyXHJcbn07XHJcbmZ1bmN0aW9uIGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZUNvbmZpZyA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuY29tcGF0Q29uZmlnO1xyXG4gICAgaWYgKGluc3RhbmNlQ29uZmlnICYmIGtleSBpbiBpbnN0YW5jZUNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZUNvbmZpZ1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdsb2JhbENvbXBhdENvbmZpZ1trZXldO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCBlbmFibGVGb3JCdWlsdEluID0gZmFsc2UpIHtcclxuICAgIC8vIHNraXAgY29tcGF0IGZvciBidWlsdC1pbiBjb21wb25lbnRzXHJcbiAgICBpZiAoIWVuYWJsZUZvckJ1aWx0SW4gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX2lzQnVpbHRJbikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJhd01vZGUgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoJ01PREUnLCBpbnN0YW5jZSkgfHwgMjtcclxuICAgIGNvbnN0IHZhbCA9IGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKTtcclxuICAgIGNvbnN0IG1vZGUgPSBpc0Z1bmN0aW9uKHJhd01vZGUpXHJcbiAgICAgICAgPyByYXdNb2RlKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUpXHJcbiAgICAgICAgOiByYXdNb2RlO1xyXG4gICAgaWYgKG1vZGUgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gdmFsICE9PSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSAnc3VwcHJlc3Mtd2FybmluZyc7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcclxuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1pdHNPcHRpb25zLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZW1pdHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiZcclxuICAgICAgICAgICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoZXZlbnQpIGluIHByb3BzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgYXJncyA9IHJhd0FyZ3M7XHJcbiAgICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKCd1cGRhdGU6Jyk7XHJcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcclxuICAgIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xyXG4gICAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xyXG4gICAgICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBpZiAodHJpbSkge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiBhLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcclxuICAgICAgICAgICAgd2FybihgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IGAgK1xyXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgYE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBgICtcclxuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgaGFuZGxlck5hbWU7XHJcbiAgICBsZXQgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCkpXSB8fFxyXG4gICAgICAgIC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcclxuICAgICAgICBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSldO1xyXG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFsc28gdHJpZ2dlciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRcclxuICAgIC8vIGZvciBwcm9wcyBwYXNzZWQgdmlhIGtlYmFiLWNhc2VcclxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcclxuICAgICAgICBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpKV07XHJcbiAgICB9XHJcbiAgICBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xyXG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XHJcbiAgICAgICAgICAgIChpbnN0YW5jZS5lbWl0dGVkID0ge30pW2hhbmRsZXJOYW1lXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcob25jZUhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xyXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcclxuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcclxuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xyXG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcclxuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcclxuICAgICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgcmF3LmZvckVhY2goa2V5ID0+IChub3JtYWxpemVkW2tleV0gPSBudWxsKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcclxuICAgIH1cclxuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cclxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXHJcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cclxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcclxuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcclxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XHJcbn1cblxuLyoqXHJcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXHJcbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcclxuICovXHJcbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG4vKipcclxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcclxuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxyXG4gKiAvLyAuLi5yZW5kZXJcclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcclxuICAgIHJldHVybiBwcmV2O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcclxufVxyXG4vKipcclxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXHJcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xyXG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XHJcbi8qKlxyXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXHJcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QgLy8gZmFsc2Ugb25seVxyXG4pIHtcclxuICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIC8vIGFscmVhZHkgbm9ybWFsaXplZFxyXG4gICAgaWYgKGZuLl9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XHJcbiAgICAgICAgLy8gY2FuIG1lc3MgdXAgYmxvY2sgdHJhY2tpbmcsIHNvIGJ5IGRlZmF1bHQgd2UgZGlzYWJsZSBibG9jayB0cmFja2luZyBhbmRcclxuICAgICAgICAvLyBmb3JjZSBiYWlsIG91dCB3aGVuIGludm9raW5nIGEgY29tcGlsZWQgc2xvdCAoaW5kaWNhdGVkIGJ5IHRoZSAuX2QgZmxhZykuXHJcbiAgICAgICAgLy8gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAsIHNvIHdlIGZsaXAgdGhlXHJcbiAgICAgICAgLy8gLl9kIGZsYWcgb2ZmIHdoZW4gaW52b2tpbmcgdGhlIHdyYXBwZWQgZm4gaW5zaWRlIGByZW5kZXJTbG90YC5cclxuICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xyXG4gICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gZm4oLi4uYXJncyk7XHJcbiAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcclxuICAgICAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgLy8gbWFyayBub3JtYWxpemVkIHRvIGF2b2lkIGR1cGxpY2F0ZWQgd3JhcHBpbmdcclxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xyXG4gICAgLy8gbWFyayB0aGlzIGFzIGNvbXBpbGVkIGJ5IGRlZmF1bHRcclxuICAgIC8vIHRoaXMgaXMgdXNlZCBpbiB2bm9kZS50cyAtPiBub3JtYWxpemVDaGlsZHJlbigpIHRvIHNldCB0aGUgc2xvdFxyXG4gICAgLy8gcmVuZGVyaW5nIGZsYWcuXHJcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcclxuICAgIC8vIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdFxyXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcclxufVxuXG4vKipcclxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxyXG4gKiBJZiAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlciB0aGVuIHRoZSB3YXJuaW5nIGZvciBmYWlsZWQgYXR0cnNcclxuICogZmFsbHRocm91Z2ggY2FuIGJlIHN1cHByZXNzZWQuXHJcbiAqL1xyXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcclxuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4LCBpbmhlcml0QXR0cnMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIC8vIHdpdGhQcm94eSBpcyBhIHByb3h5IHdpdGggYSBkaWZmZXJlbnQgYGhhc2AgdHJhcCBvbmx5IGZvclxyXG4gICAgICAgICAgICAvLyBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrLlxyXG4gICAgICAgICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xyXG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIuY2FsbChwcm94eVRvVXNlLCBwcm94eVRvVXNlLCByZW5kZXJDYWNoZSwgcHJvcHMsIHNldHVwU3RhdGUsIGRhdGEsIGN0eCkpO1xyXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudDtcclxuICAgICAgICAgICAgLy8gaW4gZGV2LCBtYXJrIGF0dHJzIGFjY2Vzc2VkIGlmIG9wdGlvbmFsIHByb3BzIChhdHRycyA9PT0gcHJvcHMpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYXR0cnMgPT09IHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5sZW5ndGggPiAxXHJcbiAgICAgICAgICAgICAgICA/IHJlbmRlcihwcm9wcywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBhdHRycygpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogeyBhdHRycywgc2xvdHMsIGVtaXQgfSlcclxuICAgICAgICAgICAgICAgIDogcmVuZGVyKHByb3BzLCBudWxsIC8qIHdlIGtub3cgaXQgZG9lc24ndCBuZWVkIGl0ICovKSk7XHJcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHNcclxuICAgICAgICAgICAgICAgID8gYXR0cnNcclxuICAgICAgICAgICAgICAgIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXR0ciBtZXJnaW5nXHJcbiAgICAgICAgLy8gaW4gZGV2IG1vZGUsIGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQsIGFuZCBpdCdzIHBvc3NpYmxlIGZvciBhIHRlbXBsYXRlXHJcbiAgICAgICAgLy8gdG8gaGF2ZSBjb21tZW50cyBhbG9uZyBzaWRlIHRoZSByb290IGVsZW1lbnQgd2hpY2ggbWFrZXMgaXQgYSBmcmFnbWVudFxyXG4gICAgICAgIGxldCByb290ID0gcmVzdWx0O1xyXG4gICAgICAgIGxldCBzZXRSb290ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDggLyogREVWX1JPT1RfRlJBR01FTlQgKi8pIHtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xyXG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgICAgICBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCQxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlICYmXHJcbiAgICAgICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlKSAmJlxyXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgICAgICAocm9vdC5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICAgICAgICAgIHJvb3Quc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8pKSA7XHJcbiAgICAgICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXHJcbiAgICAgICAgaWYgKHZub2RlLmRpcnMpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcclxuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XHJcbiAgICAgICAgICAgIHNldFJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKiBJbiBkZXYgbW9kZSwgdGVtcGxhdGUgcm9vdCBsZXZlbCBjb21tZW50cyBhcmUgcmVuZGVyZWQsIHdoaWNoIHR1cm5zIHRoZVxyXG4gKiB0ZW1wbGF0ZSBpbnRvIGEgZnJhZ21lbnQgcm9vdCwgYnV0IHdlIG5lZWQgdG8gbG9jYXRlIHRoZSBzaW5nbGUgZWxlbWVudFxyXG4gKiByb290IGZvciBhdHRycyBhbmQgc2NvcGUgaWQgcHJvY2Vzc2luZy5cclxuICovXHJcbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4pO1xyXG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcclxuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XHJcbiAgICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XHJcbiAgICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XHJcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XHJcbn07XHJcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4pIHtcclxuICAgIGxldCBzaW5nbGVSb290O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIC8vIGlnbm9yZSB1c2VyIGNvbW1lbnRcclxuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzaW5nbGVSb290O1xyXG59XHJcbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xyXG4gICAgbGV0IHJlcztcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gfHxcclxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50JDEgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxyXG4gICAgKTtcclxufTtcclxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XHJcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xyXG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xyXG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcclxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cclxuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXHJcbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCB0aGF0IHJlZmVyZW5jZXMgdmFsdWVzIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLFxyXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXHJcbiAgICAgICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gdGhpcyBwYXRoIGlzIG9ubHkgdGFrZW4gYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxyXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XHJcbiAgICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XHJcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxyXG4pIHtcclxuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XHJcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcclxuLy8gU3VzcGVuc2UgZXhwb3NlcyBhIGNvbXBvbmVudC1saWtlIEFQSSwgYW5kIGlzIHRyZWF0ZWQgbGlrZSBhIGNvbXBvbmVudFxyXG4vLyBpbiB0aGUgY29tcGlsZXIsIGJ1dCBpbnRlcm5hbGx5IGl0J3MgYSBzcGVjaWFsIGJ1aWx0LWluIHR5cGUgdGhhdCBob29rc1xyXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cclxuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xyXG4gICAgbmFtZTogJ1N1c3BlbnNlJyxcclxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcclxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXHJcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcclxuICAgIC8vIGludGVybmFscy5cclxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBcclxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcclxuICAgIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXHJcbiAgICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXHJcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cclxufTtcclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgU3VzcGVuc2UgPSAoU3VzcGVuc2VJbXBsXHJcbiAgICApO1xyXG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xyXG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xyXG4gICAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpKTtcclxuICAgIC8vIHN0YXJ0IG1vdW50aW5nIHRoZSBjb250ZW50IHN1YnRyZWUgaW4gYW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgIHBhdGNoKG51bGwsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgIC8vIG5vdyBjaGVjayBpZiB3ZSBoYXZlIGVuY291bnRlcmVkIGFueSBhc3luYyBkZXBzXHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcclxuICAgICAgICAvLyBoYXMgYXN5bmNcclxuICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxyXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLnNzRmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFN1c3BlbnNlIGhhcyBubyBhc3luYyBkZXBzLiBKdXN0IHJlc29sdmUuXHJcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IChuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlKTtcclxuICAgIHN1c3BlbnNlLnZub2RlID0gbjI7XHJcbiAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xyXG4gICAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xyXG4gICAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xyXG4gICAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xyXG4gICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyBzYW1lIHJvb3QgdHlwZSBidXQgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICBwYXRjaChwZW5kaW5nQnJhbmNoLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9nZ2xlZCBiZWZvcmUgcGVuZGluZyB0cmVlIGlzIHJlc29sdmVkXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRvZ2dsZWQgYmVmb3JlIGh5ZHJhdGlvbiBpcyBmaW5pc2hlZCwgdGhlIGN1cnJlbnQgRE9NIHRyZWUgaXNcclxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciB2YWxpZC4gc2V0IGl0IGFzIHRoZSBhY3RpdmUgYnJhbmNoIHNvIGl0IHdpbGwgYmUgdW5tb3VudGVkXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IHBlbmRpbmcgSUQuIHRoaXMgaXMgdXNlZCB0byBpbnZhbGlkYXRlIGFzeW5jIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAvLyByZXNldCBzdXNwZW5zZSBzdGF0ZVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBlZmZlY3RzIGZyb20gcGVuZGluZyBicmFuY2hcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAvLyBkaXNjYXJkIHByZXZpb3VzIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiBmYWxsYmFjayBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0b2dnbGVkIFwiYmFja1wiIHRvIGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgcmVzb2x2ZVxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIGEgM3JkIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgZGlkIG5vdCBjaGFuZ2UsIGp1c3Qgbm9ybWFsIHBhdGNoXHJcbiAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBub2RlIHRvZ2dsZWRcclxuICAgICAgICAgICAgLy8gaW52b2tlIEBwZW5kaW5nIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUGVuZGluZyA9IG4yLnByb3BzICYmIG4yLnByb3BzLm9uUGVuZGluZztcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25QZW5kaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgb25QZW5kaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbW91bnQgcGVuZGluZyBicmFuY2ggaW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBgY29uc29sZS5pbmZvYCBjYW5ub3QgYmUgbnVsbCBlcnJvclxyXG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiB1bm1vdW50LCBuOiBuZXh0LCBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IHRpbWVvdXQgPSB0b051bWJlcih2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50aW1lb3V0KTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgaXNTVkcsXHJcbiAgICAgICAgY29udGFpbmVyLFxyXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcclxuICAgICAgICBhbmNob3IsXHJcbiAgICAgICAgZGVwczogMCxcclxuICAgICAgICBwZW5kaW5nSWQ6IDAsXHJcbiAgICAgICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IC0xLFxyXG4gICAgICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcclxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxyXG4gICAgICAgIGlzSW5GYWxsYmFjazogdHJ1ZSxcclxuICAgICAgICBpc0h5ZHJhdGluZyxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgZWZmZWN0czogW10sXHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBwZW5kaW5nSWQsIGVmZmVjdHMsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBpbml0aWFsIGFuY2hvciBvbiBtb3VudFxyXG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgdHJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgcGFydCBvZiBhIHBhcmVudCBzdXNwZW5zZS4gZ2V0IHRoZSBsYXRlc3QgYW5jaG9yIGZvciBpbnNlcnRpb25cclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyZWQgZWZmZWN0c1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgbWVyZ2UgYnVmZmVyZWQgcG9zdCBqb2JzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGF0IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXHJcbiAgICAgICAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEByZXNvbHZlIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUmVzb2x2ZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uUmVzb2x2ZTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZXNvbHZlKSkge1xyXG4gICAgICAgICAgICAgICAgb25SZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaXNTVkcgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRmFsbGJhY2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vbkZhbGxiYWNrO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgb25GYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcclxuICAgICAgICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIGZhbGxiYWNrVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxyXG4gICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XHJcbiAgICAgICAgICAgIHRydWUgLy8gc2hvdWxkUmVtb3ZlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgbW91bnRGYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJlxyXG4gICAgICAgICAgICAgICAgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKTtcclxuICAgICAgICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcclxuICAgICAgICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmRlcHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XHJcbiAgICAgICAgICAgIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAuYXN5bmNEZXAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmNTZXR1cFJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSB3aGVuIHRoZSBzZXR1cCgpIHByb21pc2UgcmVzb2x2ZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiB1bm1vdW50ZWQgYmVmb3JlIHJlc29sdmUuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJldHJ5IGZyb20gdGhpcyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWQgaWYgYW4gdXBkYXRlIGhhcHBlbmVkIGJlZm9yZSB0aGVcclxuICAgICAgICAgICAgICAgICAgICAvLyBhc3luYyBkZXAgaXMgcmVzb2x2ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBoeWRyYXRlZEVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoaW5zdGFuY2UsIHZub2RlLCBcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksIFxyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cclxuICAgICAgICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSwgc3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUuZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGRlY3JlYXNlIGRlcHMgY291bnQgaWYgc3VzcGVuc2UgaXMgbm90IGFscmVhZHkgcmVzb2x2ZWRcclxuICAgICAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzdXNwZW5zZTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgbm9kZS5wYXJlbnROb2RlLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgbnVsbCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pKTtcclxuICAgIC8vIHRoZXJlIGFyZSB0d28gcG9zc2libGUgc2NlbmFyaW9zIGZvciBzZXJ2ZXItcmVuZGVyZWQgc3VzcGVuc2U6XHJcbiAgICAvLyAtIHN1Y2Nlc3M6IHNzciBjb250ZW50IHNob3VsZCBiZSBmdWxseSByZXNvbHZlZFxyXG4gICAgLy8gLSBmYWlsdXJlOiBzc3IgY29udGVudCBzaG91bGQgYmUgdGhlIGZhbGxiYWNrIGJyYW5jaC5cclxuICAgIC8vIGhvd2V2ZXIsIG9uIHRoZSBjbGllbnQgd2UgZG9uJ3QgcmVhbGx5IGtub3cgaWYgaXQgaGFzIGZhaWxlZCBvciBub3RcclxuICAgIC8vIGF0dGVtcHQgdG8gaHlkcmF0ZSB0aGUgRE9NIGFzc3VtaW5nIGl0IGhhcyBzdWNjZWVkZWQsIGJ1dCB3ZSBzdGlsbFxyXG4gICAgLy8gbmVlZCB0byBjb25zdHJ1Y3QgYSBzdXNwZW5zZSBib3VuZGFyeSBmaXJzdFxyXG4gICAgY29uc3QgcmVzdWx0ID0gaHlkcmF0ZU5vZGUobm9kZSwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpIHtcclxuICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XHJcbiAgICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgdm5vZGUuc3NDb250ZW50ID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGlzU2xvdENoaWxkcmVuID8gY2hpbGRyZW4uZGVmYXVsdCA6IGNoaWxkcmVuKTtcclxuICAgIHZub2RlLnNzRmFsbGJhY2sgPSBpc1Nsb3RDaGlsZHJlblxyXG4gICAgICAgID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKVxyXG4gICAgICAgIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcclxuICAgIGxldCBibG9jaztcclxuICAgIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgY29uc3QgaXNDb21waWxlZFNsb3QgPSBzLl9jO1xyXG4gICAgICAgIGlmIChpc0NvbXBpbGVkU2xvdCkge1xyXG4gICAgICAgICAgICAvLyBkaXNhYmxlVHJhY2tpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgIC8vIGFsbG93IGJsb2NrIHRyYWNraW5nIGZvciBjb21waWxlZCBzbG90c1xyXG4gICAgICAgICAgICAvLyAoc2VlIC4vY29tcG9uZW50UmVuZGVyQ29udGV4dC50cylcclxuICAgICAgICAgICAgcy5fZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBvcGVuQmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcyA9IHMoKTtcclxuICAgICAgICBpZiAoaXNDb21waWxlZFNsb3QpIHtcclxuICAgICAgICAgICAgcy5fZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJsb2NrID0gY3VycmVudEJsb2NrO1xyXG4gICAgICAgICAgICBjbG9zZUJsb2NrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocykpIHtcclxuICAgICAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc2luZ2xlQ2hpbGQpIHtcclxuICAgICAgICAgICAgd2FybihgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzID0gc2luZ2xlQ2hpbGQ7XHJcbiAgICB9XHJcbiAgICBzID0gbm9ybWFsaXplVk5vZGUocyk7XHJcbiAgICBpZiAoYmxvY2spIHtcclxuICAgICAgICBzLmR5bmFtaWNDaGlsZHJlbiA9IGJsb2NrLmZpbHRlcihjID0+IGMgIT09IHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHM7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XHJcbiAgICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGJyYW5jaCkge1xyXG4gICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xyXG4gICAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcclxuICAgIGNvbnN0IGVsID0gKHZub2RlLmVsID0gYnJhbmNoLmVsKTtcclxuICAgIC8vIGluIGNhc2Ugc3VzcGVuc2UgaXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNvbXBvbmVudCxcclxuICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0aGUgSE9DIGVsXHJcbiAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xyXG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XHJcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XHJcbiAgICAgICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcclxuICAgICAgICAvLyBvd24gcHJvdmlkZXMgb2JqZWN0IHVzaW5nIHBhcmVudCBwcm92aWRlcyBvYmplY3QgYXMgcHJvdG90eXBlLlxyXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XHJcbiAgICAgICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cclxuICAgICAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xyXG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cclxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcclxuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIC8vICMyNDAwXHJcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcclxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW50YW5jZSBpcyBhdCByb290XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbFxyXG4gICAgICAgICAgICA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlc1xyXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcclxuICAgICAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZSgpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xyXG4gICAgfVxyXG59XG5cbi8vIFNpbXBsZSBlZmZlY3QuXHJcbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcclxufVxyXG4vLyBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycyB0byB0cmlnZ2VyIG9uIHVuZGVmaW5lZCBpbml0aWFsIHZhbHVlc1xyXG5jb25zdCBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcclxuICAgICAgICB3YXJuKGBcXGB3YXRjaChmbiwgb3B0aW9ucz8pXFxgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gYCArXHJcbiAgICAgICAgICAgIGBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBgICtcclxuICAgICAgICAgICAgYHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25UcmFjaywgb25UcmlnZ2VyIH0gPSBFTVBUWV9PQkosIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjYikge1xyXG4gICAgICAgIGlmIChpbW1lZGlhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWVwICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2Fybihgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB3YXJuSW52YWxpZFNvdXJjZSA9IChzKSA9PiB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsIHMsIGBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBgICtcclxuICAgICAgICAgICAgYGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gKTtcclxuICAgIH07XHJcbiAgICBsZXQgZ2V0dGVyO1xyXG4gICAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xyXG4gICAgbGV0IGlzTXVsdGlTb3VyY2UgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9ICEhc291cmNlLl9zaGFsbG93O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlO1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoaXNSZWFjdGl2ZSk7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcChzID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMiAvKiBXQVRDSF9HRVRURVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gZ2V0dGVyIHdpdGggY2JcclxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDIgLyogV0FUQ0hfR0VUVEVSICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIGNiIC0+IHNpbXBsZSBlZmZlY3RcclxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMyAvKiBXQVRDSF9DQUxMQkFDSyAqLywgW29uSW52YWxpZGF0ZV0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdldHRlciA9IE5PT1A7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY2IgJiYgZGVlcCkge1xyXG4gICAgICAgIGNvbnN0IGJhc2VHZXR0ZXIgPSBnZXR0ZXI7XHJcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpKTtcclxuICAgIH1cclxuICAgIGxldCBjbGVhbnVwO1xyXG4gICAgbGV0IG9uSW52YWxpZGF0ZSA9IChmbikgPT4ge1xyXG4gICAgICAgIGNsZWFudXAgPSBydW5uZXIub3B0aW9ucy5vblN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIDQgLyogV0FUQ0hfQ0xFQU5VUCAqLyk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBsZXQgb2xkVmFsdWUgPSBpc011bHRpU291cmNlID8gW10gOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XHJcbiAgICBjb25zdCBqb2IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFydW5uZXIuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIC8vIHdhdGNoKHNvdXJjZSwgY2IpXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZWVwIHx8XHJcbiAgICAgICAgICAgICAgICBmb3JjZVRyaWdnZXIgfHxcclxuICAgICAgICAgICAgICAgIChpc011bHRpU291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICA6IGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkgfHxcclxuICAgICAgICAgICAgICAgIChmYWxzZSAgKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2xlYW51cCBiZWZvcmUgcnVubmluZyBjYiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB1bmRlZmluZWQgOiBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBvbkludmFsaWRhdGVcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2hFZmZlY3RcclxuICAgICAgICAgICAgcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGltcG9ydGFudDogbWFyayB0aGUgam9iIGFzIGEgd2F0Y2hlciBjYWxsYmFjayBzbyB0aGF0IHNjaGVkdWxlciBrbm93c1xyXG4gICAgLy8gaXQgaXMgYWxsb3dlZCB0byBzZWxmLXRyaWdnZXIgKCMxNzI3KVxyXG4gICAgam9iLmFsbG93UmVjdXJzZSA9ICEhY2I7XHJcbiAgICBsZXQgc2NoZWR1bGVyO1xyXG4gICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcclxuICAgICAgICBzY2hlZHVsZXIgPSBqb2I7IC8vIHRoZSBzY2hlZHVsZXIgZnVuY3Rpb24gZ2V0cyBjYWxsZWQgZGlyZWN0bHlcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcclxuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkZWZhdWx0OiAncHJlJ1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCBpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlUHJlRmx1c2hDYihqb2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gd2l0aCAncHJlJyBvcHRpb24sIHRoZSBmaXJzdCBjYWxsIG11c3QgaGFwcGVuIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIHNvIGl0IGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5LlxyXG4gICAgICAgICAgICAgICAgam9iKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcnVubmVyID0gZWZmZWN0KGdldHRlciwge1xyXG4gICAgICAgIGxhenk6IHRydWUsXHJcbiAgICAgICAgb25UcmFjayxcclxuICAgICAgICBvblRyaWdnZXIsXHJcbiAgICAgICAgc2NoZWR1bGVyXHJcbiAgICB9KTtcclxuICAgIHJlY29yZEluc3RhbmNlQm91bmRFZmZlY3QocnVubmVyLCBpbnN0YW5jZSk7XHJcbiAgICAvLyBpbml0aWFsIHJ1blxyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChydW5uZXIsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJ1bm5lcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBzdG9wKHJ1bm5lcik7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZShpbnN0YW5jZS5lZmZlY3RzLCBydW5uZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLy8gdGhpcy4kd2F0Y2hcclxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcclxuICAgIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSlcclxuICAgICAgICA/IHNvdXJjZS5pbmNsdWRlcygnLicpXHJcbiAgICAgICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpXHJcbiAgICAgICAgICAgIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdXHJcbiAgICAgICAgOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcclxuICAgIGxldCBjYjtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGNiID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XHJcbiAgICAgICAgb3B0aW9ucyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zLCB0aGlzKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xyXG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGxldCBjdXIgPSBjdHg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcclxuICAgICAgICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIHNlZW4gPSBuZXcgU2V0KCkpIHtcclxuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8XHJcbiAgICAgICAgc2Vlbi5oYXModmFsdWUpIHx8XHJcbiAgICAgICAgdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2Vlbi5hZGQodmFsdWUpO1xyXG4gICAgaWYgKGlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBzZWVuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpIHx8IGlzTWFwKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgICAgICAgdHJhdmVyc2Uodiwgc2Vlbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXHJcbiAgICAgICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcclxuICAgICAgICBsZWF2aW5nVk5vZGVzOiBuZXcgTWFwKClcclxuICAgIH07XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XHJcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcclxuICAgIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIG1vZGU6IFN0cmluZyxcclxuICAgICAgICBhcHBlYXI6IEJvb2xlYW4sXHJcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxyXG4gICAgICAgIC8vIGVudGVyXHJcbiAgICAgICAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBsZWF2ZVxyXG4gICAgICAgIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgLy8gYXBwZWFyXHJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcclxuICAgIH0sXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xyXG4gICAgICAgIGxldCBwcmV2VHJhbnNpdGlvbktleTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHNcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGlsZHJlbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB0cmFjayByZWFjdGl2aXR5IGZvciB0aGVzZSBwcm9wcyBzbyB1c2UgdGhlIHJhd1xyXG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcclxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RlICYmICFbJ2luLW91dCcsICdvdXQtaW4nLCAnZGVmYXVsdCddLmluY2x1ZGVzKG1vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBjaGlsZHJlbiBoYXMgYSBndWFyYW50ZWVkIGxlbmd0aCBvZiAxLlxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgPHRyYW5zaXRpb24+PGtlZXAtYWxpdmUvPjwvdHJhbnNpdGlvbj4sIHdlIG5lZWQgdG9cclxuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZSBvZiB0aGUga2VwdC1hbGl2ZSBjaGlsZHJlbi5cclxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xyXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbktleUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChnZXRUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRUcmFuc2l0aW9uS2V5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgbW9kZVxyXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxyXG4gICAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50JDEgJiZcclxuICAgICAgICAgICAgICAgICghaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpIHx8IHRyYW5zaXRpb25LZXlDaGFuZ2VkKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBvbGQgdHJlZSdzIGhvb2tzIGluIGNhc2Ugb2YgZHluYW1pYyB0cmFuc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGluZyBiZXR3ZWVuIGRpZmZlcmVudCB2aWV3c1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcclxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50JDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nSG9va3MuZGVsYXlMZWF2ZSA9IChlbCwgZWFybHlSZW1vdmUsIGRlbGF5ZWRMZWF2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCBvbGRJbm5lckNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWFybHkgcmVtb3ZhbCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhcmx5UmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJIb29rcy5kZWxheWVkTGVhdmUgPSBkZWxheWVkTGVhdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXHJcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXHJcbmNvbnN0IEJhc2VUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb25JbXBsO1xyXG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xyXG4gICAgY29uc3QgeyBsZWF2aW5nVk5vZGVzIH0gPSBzdGF0ZTtcclxuICAgIGxldCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBsZWF2aW5nVk5vZGVzLmdldCh2bm9kZS50eXBlKTtcclxuICAgIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XHJcbiAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICBsZWF2aW5nVk5vZGVzLnNldCh2bm9kZS50eXBlLCBsZWF2aW5nVk5vZGVzQ2FjaGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlYXZpbmdWTm9kZXNDYWNoZTtcclxufVxyXG4vLyBUaGUgdHJhbnNpdGlvbiBob29rcyBhcmUgYXR0YWNoZWQgdG8gdGhlIHZub2RlIGFzIHZub2RlLnRyYW5zaXRpb25cclxuLy8gYW5kIHdpbGwgYmUgY2FsbGVkIGF0IGFwcHJvcHJpYXRlIHRpbWluZyBpbiB0aGUgcmVuZGVyZXIuXHJcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgYXBwZWFyLCBtb2RlLCBwZXJzaXN0ZWQgPSBmYWxzZSwgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25BZnRlckVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkJlZm9yZUxlYXZlLCBvbkxlYXZlLCBvbkFmdGVyTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyLCBvbkFwcGVhciwgb25BZnRlckFwcGVhciwgb25BcHBlYXJDYW5jZWxsZWQgfSA9IHByb3BzO1xyXG4gICAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XHJcbiAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XHJcbiAgICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XHJcbiAgICAgICAgaG9vayAmJlxyXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOSAvKiBUUkFOU0lUSU9OX0hPT0sgKi8sIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGhvb2tzID0ge1xyXG4gICAgICAgIG1vZGUsXHJcbiAgICAgICAgcGVyc2lzdGVkLFxyXG4gICAgICAgIGJlZm9yZUVudGVyKGVsKSB7XHJcbiAgICAgICAgICAgIGxldCBob29rID0gb25CZWZvcmVFbnRlcjtcclxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBlYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rID0gb25CZWZvcmVBcHBlYXIgfHwgb25CZWZvcmVFbnRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBmb3Igc2FtZSBlbGVtZW50ICh2LXNob3cpXHJcbiAgICAgICAgICAgIGlmIChlbC5fbGVhdmVDYikge1xyXG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvciB0b2dnbGVkIGVsZW1lbnQgd2l0aCBzYW1lIGtleSAodi1pZilcclxuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChsZWF2aW5nVk5vZGUgJiZcclxuICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJlxyXG4gICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2RlLmVsLl9sZWF2ZUNiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBlYXJseSByZW1vdmFsIChub3QgY2FuY2VsbGVkKVxyXG4gICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2RlLmVsLl9sZWF2ZUNiKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnRlcihlbCkge1xyXG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XHJcbiAgICAgICAgICAgIGxldCBhZnRlckhvb2sgPSBvbkFmdGVyRW50ZXI7XHJcbiAgICAgICAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcclxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBlYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZWwuX2VudGVyQ2IgPSAoY2FuY2VsbGVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhhZnRlckhvb2ssIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzLmRlbGF5ZWRMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLmRlbGF5ZWRMZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoaG9vaykge1xyXG4gICAgICAgICAgICAgICAgaG9vayhlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9vay5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVhdmUoZWwsIHJlbW92ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcclxuICAgICAgICAgICAgaWYgKGVsLl9lbnRlckNiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xyXG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZWwuX2xlYXZlQ2IgPSAoY2FuY2VsbGVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uQWZ0ZXJMZWF2ZSwgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGlmIChsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XSA9PT0gdm5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XSA9IHZub2RlO1xyXG4gICAgICAgICAgICBpZiAob25MZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgb25MZWF2ZShlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAob25MZWF2ZS5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xvbmUodm5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gaG9va3M7XHJcbn1cclxuLy8gdGhlIHBsYWNlaG9sZGVyIHJlYWxseSBvbmx5IGhhbmRsZXMgb25lIHNwZWNpYWwgY2FzZTogS2VlcEFsaXZlXHJcbi8vIGluIHRoZSBjYXNlIG9mIGEgS2VlcEFsaXZlIGluIGEgbGVhdmUgcGhhc2Ugd2UgbmVlZCB0byByZXR1cm4gYSBLZWVwQWxpdmVcclxuLy8gcGxhY2Vob2xkZXIgd2l0aCBlbXB0eSBjb250ZW50IHRvIGF2b2lkIHRoZSBLZWVwQWxpdmUgaW5zdGFuY2UgZnJvbSBiZWluZ1xyXG4vLyB1bm1vdW50ZWQuXHJcbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcclxuICAgIGlmIChpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcclxuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xyXG4gICAgICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gdm5vZGU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0S2VlcEFsaXZlQ2hpbGQodm5vZGUpIHtcclxuICAgIHJldHVybiBpc0tlZXBBbGl2ZSh2bm9kZSlcclxuICAgICAgICA/IHZub2RlLmNoaWxkcmVuXHJcbiAgICAgICAgICAgID8gdm5vZGUuY2hpbGRyZW5bMF1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWRcclxuICAgICAgICA6IHZub2RlO1xyXG59XHJcbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgaG9va3MpIHtcclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJiB2bm9kZS5jb21wb25lbnQpIHtcclxuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgIHZub2RlLnNzQ29udGVudC50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NDb250ZW50KTtcclxuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0ZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UpIHtcclxuICAgIGxldCByZXQgPSBbXTtcclxuICAgIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gaGFuZGxlIGZyYWdtZW50IGNoaWxkcmVuIGNhc2UsIGUuZy4gdi1mb3JcclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLylcclxuICAgICAgICAgICAgICAgIGtleWVkRnJhZ21lbnRDb3VudCsrO1xyXG4gICAgICAgICAgICByZXQgPSByZXQuY29uY2F0KGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZC5jaGlsZHJlbiwga2VlcENvbW1lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tbWVudCBwbGFjZWhvbGRlcnMgc2hvdWxkIGJlIHNraXBwZWQsIGUuZy4gdi1pZlxyXG4gICAgICAgIGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQkMSkge1xyXG4gICAgICAgICAgICByZXQucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzExMjYgaWYgYSB0cmFuc2l0aW9uIGNoaWxkcmVuIGxpc3QgY29udGFpbnMgbXVsdGlwbGUgc3ViIGZyYWdtZW50cywgdGhlc2VcclxuICAgIC8vIGZyYWdtZW50cyB3aWxsIGJlIG1lcmdlZCBpbnRvIGEgZmxhdCBjaGlsZHJlbiBhcnJheS4gU2luY2UgZWFjaCB2LWZvclxyXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtb3BcclxuICAgIC8vIHRoZXNlIGNoaWxkcmVuIHRvIGZvcmNlIGZ1bGwgZGlmZnMgdG8gZW5zdXJlIGNvcnJlY3QgYmVoYXZpb3IuXHJcbiAgICBpZiAoa2V5ZWRGcmFnbWVudENvdW50ID4gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMiAvKiBCQUlMICovO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLy8gaW1wbGVtZW50YXRpb24sIGNsb3NlIHRvIG5vLW9wXHJcbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IHsgc2V0dXA6IG9wdGlvbnMsIG5hbWU6IG9wdGlvbnMubmFtZSB9IDogb3B0aW9ucztcclxufVxuXG5jb25zdCBpc0FzeW5jV3JhcHBlciA9IChpKSA9PiAhIWkudHlwZS5fX2FzeW5jTG9hZGVyO1xyXG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGxvYWRlciwgbG9hZGluZ0NvbXBvbmVudCwgZXJyb3JDb21wb25lbnQsIGRlbGF5ID0gMjAwLCB0aW1lb3V0LCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcclxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSwgb25FcnJvcjogdXNlck9uRXJyb3IgfSA9IHNvdXJjZTtcclxuICAgIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICBsZXQgcmVzb2x2ZWRDb21wO1xyXG4gICAgbGV0IHJldHJpZXMgPSAwO1xyXG4gICAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0cmllcysrO1xyXG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gbG9hZCgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHRoaXNSZXF1ZXN0O1xyXG4gICAgICAgIHJldHVybiAocGVuZGluZ1JlcXVlc3QgfHxcclxuICAgICAgICAgICAgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPSBsb2FkZXIoKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlck9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJvcCBtb2R1bGUgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcclxuICAgICAgICAgICAgICAgICAgICAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XHJcbiAgICAgICAgbmFtZTogJ0FzeW5jQ29tcG9uZW50V3JhcHBlcicsXHJcbiAgICAgICAgX19hc3luY0xvYWRlcjogbG9hZCxcclxuICAgICAgICBnZXQgX19hc3luY1Jlc29sdmVkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0dXAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xyXG4gICAgICAgICAgICAvLyBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEzIC8qIEFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi8sICFlcnJvckNvbXBvbmVudCAvKiBkbyBub3QgdGhyb3cgaW4gZGV2IGlmIHVzZXIgcHJvdmlkZWQgZXJyb3IgY29tcG9uZW50ICovKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gc3VzcGVuc2UtY29udHJvbGxlZCBvciBTU1IuXHJcbiAgICAgICAgICAgIGlmICgoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpIHx8XHJcbiAgICAgICAgICAgICAgICAoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCAmJiBpc0tlZXBBbGl2ZShpbnN0YW5jZS5wYXJlbnQudm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGlzIGtlZXAtYWxpdmUsIGZvcmNlIHVwZGF0ZSBzbyB0aGUgbG9hZGVkIGNvbXBvbmVudCdzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmFtZSBpcyB0YWtlbiBpbnRvIGFjY291bnRcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCB7IHZub2RlOiB7IHJlZiwgcHJvcHMsIGNoaWxkcmVuIH0gfSkge1xyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgLy8gZW5zdXJlIGlubmVyIGNvbXBvbmVudCBpbmhlcml0cyB0aGUgYXN5bmMgd3JhcHBlcidzIHJlZiBvd25lclxyXG4gICAgdm5vZGUucmVmID0gcmVmO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XHJcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XHJcbiAgICBuYW1lOiBgS2VlcEFsaXZlYCxcclxuICAgIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XHJcbiAgICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxyXG4gICAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxyXG4gICAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXHJcbiAgICAgICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXHJcbiAgICAgICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXHJcbiAgICB9LFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgLy8gS2VlcEFsaXZlIGNvbW11bmljYXRlcyB3aXRoIHRoZSBpbnN0YW50aWF0ZWQgcmVuZGVyZXIgdmlhIHRoZVxyXG4gICAgICAgIC8vIGN0eCB3aGVyZSB0aGUgcmVuZGVyZXIgcGFzc2VzIGluIGl0cyBpbnRlcm5hbHMsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBLZWVwQWxpdmUgaW5zdGFuY2UgZXhwb3NlcyBhY3RpdmF0ZS9kZWFjdGl2YXRlIGltcGxlbWVudGF0aW9ucy5cclxuICAgICAgICAvLyBUaGUgd2hvbGUgcG9pbnQgb2YgdGhpcyBpcyB0byBhdm9pZCBpbXBvcnRpbmcgS2VlcEFsaXZlIGRpcmVjdGx5IGluIHRoZVxyXG4gICAgICAgIC8vIHJlbmRlcmVyIHRvIGZhY2lsaXRhdGUgdHJlZS1zaGFraW5nLlxyXG4gICAgICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XHJcbiAgICAgICAgLy8gaWYgdGhlIGludGVybmFsIHJlbmRlcmVyIGlzIG5vdCByZWdpc3RlcmVkLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGlzIHNlcnZlci1zaWRlIHJlbmRlcmluZyxcclxuICAgICAgICAvLyBmb3IgS2VlcEFsaXZlLCB3ZSBqdXN0IG5lZWQgdG8gcmVuZGVyIGl0cyBjaGlsZHJlblxyXG4gICAgICAgIGlmICghc2hhcmVkQ29udGV4dC5yZW5kZXJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gc2xvdHMuZGVmYXVsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBsZXQgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX192X2NhY2hlID0gY2FjaGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XHJcbiAgICAgICAgY29uc3QgeyByZW5kZXJlcjogeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IF91bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9IH0gPSBzaGFyZWRDb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSBwcm9wcyBoYXZlIGNoYW5nZWRcclxuICAgICAgICAgICAgcGF0Y2goaW5zdGFuY2Uudm5vZGUsIHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgdm5vZGUuc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5hKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29tcG9uZW50cyB0cmVlXHJcbiAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxIC8qIExFQVZFICovLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5kYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnRzIHRyZWVcclxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiB1bm1vdW50KHZub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBzaGFwZUZsYWcgc28gaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZFxyXG4gICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XHJcbiAgICAgICAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xyXG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lICYmICghZmlsdGVyIHx8ICFmaWx0ZXIobmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnQgfHwgY2FjaGVkLnR5cGUgIT09IGN1cnJlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIGluc3RhbmNlIHNob3VsZCBubyBsb25nZXIgYmUga2VwdC1hbGl2ZS5cclxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVubW91bnQgaXQgbm93IGJ1dCBpdCBtaWdodCBiZSBsYXRlciwgc28gcmVzZXQgaXRzIGZsYWcgbm93LlxyXG4gICAgICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHBydW5lIGNhY2hlIG9uIGluY2x1ZGUvZXhjbHVkZSBwcm9wIGNoYW5nZVxyXG4gICAgICAgIHdhdGNoKCgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSwgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xyXG4gICAgICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcclxuICAgICAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKG5hbWUgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXHJcbiAgICAgICAgeyBmbHVzaDogJ3Bvc3QnLCBkZWVwOiB0cnVlIH0pO1xyXG4gICAgICAgIC8vIGNhY2hlIHN1YiB0cmVlIGFmdGVyIHJlbmRlclxyXG4gICAgICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gZml4ICMxNjIxLCB0aGUgcGVuZGluZ0NhY2hlS2V5IGNvdWxkIGJlIDBcclxuICAgICAgICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XHJcbiAgICAgICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XHJcbiAgICAgICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcclxuICAgICAgICAgICAgY2FjaGUuZm9yRWFjaChjYWNoZWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdWJUcmVlLCBzdXNwZW5zZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGluc3RhbmNlIHdpbGwgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2Yga2VlcC1hbGl2ZSdzIHVubW91bnRcclxuICAgICAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGludm9rZSBpdHMgZGVhY3RpdmF0ZWQgaG9vayBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHxcclxuICAgICAgICAgICAgICAgICghKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcclxuICAgICAgICAgICAgLy8gZm9yIGFzeW5jIGNvbXBvbmVudHMsIG5hbWUgY2hlY2sgc2hvdWxkIGJlIGJhc2VkIGluIGl0cyBsb2FkZWRcclxuICAgICAgICAgICAgLy8gaW5uZXIgY29tcG9uZW50IGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpc0FzeW5jV3JhcHBlcih2bm9kZSlcclxuICAgICAgICAgICAgICAgID8gdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgfHwge31cclxuICAgICAgICAgICAgICAgIDogY29tcCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcclxuICAgICAgICAgICAgaWYgKChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkpIHx8XHJcbiAgICAgICAgICAgICAgICAoZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgICAgICAgICAvLyBjbG9uZSB2bm9kZSBpZiBpdCdzIHJldXNlZCBiZWNhdXNlIHdlIGFyZSBnb2luZyB0byBtdXRhdGUgaXRcclxuICAgICAgICAgICAgaWYgKHZub2RlLmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhd1ZOb2RlLnNzQ29udGVudCA9IHZub2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICMxNTEzIGl0J3MgcG9zc2libGUgZm9yIHRoZSByZXR1cm5lZCB2bm9kZSB0byBiZSBjbG9uZWQgZHVlIHRvIGF0dHJcclxuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2ggb3Igc2NvcGVJZCwgc28gdGhlIHZub2RlIGhlcmUgbWF5IG5vdCBiZSB0aGUgZmluYWwgdm5vZGVcclxuICAgICAgICAgICAgLy8gdGhhdCBpcyBtb3VudGVkLiBJbnN0ZWFkIG9mIGNhY2hpbmcgaXQgZGlyZWN0bHksIHdlIHN0b3JlIHRoZSBwZW5kaW5nXHJcbiAgICAgICAgICAgIC8vIGtleSBhbmQgY2FjaGUgYGluc3RhbmNlLnN1YlRyZWVgICh0aGUgbm9ybWFsaXplZCB2bm9kZSkgaW5cclxuICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQvYmVmb3JlVXBkYXRlIGhvb2tzLlxyXG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBrZXk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29weSBvdmVyIG1vdW50ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0cmFuc2l0aW9uIGhvb2tzIG9uIHN1YlRyZWVcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgbW91bnRlZCBhcyBmcmVzaFxyXG4gICAgICAgICAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLztcclxuICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBrZXkgdGhlIGZyZXNoZXN0XHJcbiAgICAgICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcclxuICAgICAgICAgICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIHVubW91bnRlZFxyXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcclxuICAgICAgICAgICAgY3VycmVudCA9IHZub2RlO1xyXG4gICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXHJcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXHJcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XHJcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xyXG4gICAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwYXR0ZXJuLnRlc3QpIHtcclxuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcclxuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiAvKiBBQ1RJVkFURUQgKi8sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcclxuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIgLyogREVBQ1RJVkFURUQgKi8sIHRhcmdldCk7XHJcbn1cclxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgLy8gY2FjaGUgdGhlIGRlYWN0aXZhdGUgYnJhbmNoIGNoZWNrIHdyYXBwZXIgZm9yIGluamVjdGVkIGhvb2tzIHNvIHRoZSBzYW1lXHJcbiAgICAvLyBob29rIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZGNcIiBzdGFuZHMgZm9yIFwid2l0aFxyXG4gICAgLy8gZGVhY3RpdmF0aW9uIGNoZWNrXCIuXHJcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHxcclxuICAgICAgICAoaG9vay5fX3dkYyA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gb25seSBmaXJlIHRoZSBob29rIGlmIHRoZSB0YXJnZXQgaW5zdGFuY2UgaXMgTk9UIGluIGEgZGVhY3RpdmF0ZWQgYnJhbmNoLlxyXG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcclxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9vaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcclxuICAgIC8vIEluIGFkZGl0aW9uIHRvIHJlZ2lzdGVyaW5nIGl0IG9uIHRoZSB0YXJnZXQgaW5zdGFuY2UsIHdlIHdhbGsgdXAgdGhlIHBhcmVudFxyXG4gICAgLy8gY2hhaW4gYW5kIHJlZ2lzdGVyIGl0IG9uIGFsbCBhbmNlc3RvciBpbnN0YW5jZXMgdGhhdCBhcmUga2VlcC1hbGl2ZSByb290cy5cclxuICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBuZWVkIHRvIHdhbGsgdGhlIGVudGlyZSBjb21wb25lbnQgdHJlZSB3aGVuIGludm9raW5nIHRoZXNlXHJcbiAgICAvLyBob29rcywgYW5kIG1vcmUgaW1wb3J0YW50bHksIGF2b2lkcyB0aGUgbmVlZCB0byB0cmFjayBjaGlsZCBjb21wb25lbnRzIGluXHJcbiAgICAvLyBhcnJheXMuXHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcclxuICAgIC8vIGluamVjdEhvb2sgd3JhcHMgdGhlIG9yaWdpbmFsIGZvciBlcnJvciBoYW5kbGluZywgc28gbWFrZSBzdXJlIHRvIHJlbW92ZVxyXG4gICAgLy8gdGhlIHdyYXBwZWQgdmVyc2lvbi5cclxuICAgIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayh0eXBlLCBob29rLCBrZWVwQWxpdmVSb290LCB0cnVlIC8qIHByZXBlbmQgKi8pO1xyXG4gICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XHJcbiAgICBsZXQgc2hhcGVGbGFnID0gdm5vZGUuc2hhcGVGbGFnO1xyXG4gICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcclxuICAgICAgICBzaGFwZUZsYWcgLT0gMjU2IC8qIENPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcclxuICAgIH1cclxuICAgIGlmIChzaGFwZUZsYWcgJiA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcclxuICAgICAgICBzaGFwZUZsYWcgLT0gNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xyXG4gICAgfVxyXG4gICAgdm5vZGUuc2hhcGVGbGFnID0gc2hhcGVGbGFnO1xyXG59XHJcbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcclxuICAgIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8gPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcclxufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcclxuICAgICAgICAvLyBjYWNoZSB0aGUgZXJyb3IgaGFuZGxpbmcgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWUgaG9va1xyXG4gICAgICAgIC8vIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZWhcIiBzdGFuZHMgZm9yIFwid2l0aCBlcnJvclxyXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXHJcbiAgICAgICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8XHJcbiAgICAgICAgICAgIChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIGhvb2sgZG9lcyBub3Qgc3luY2hyb25vdXNseSB0cmlnZ2VyIG90aGVyIGhvb2tzLCB3aGljaFxyXG4gICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgYmUgZmFsc2Ugd2hlbiB0aGUgdXNlciBkb2VzIHNvbWV0aGluZyByZWFsbHkgZnVua3kuXHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBpZiAocHJlcGVuZCkge1xyXG4gICAgICAgICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd3JhcHBlZEhvb2s7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3NbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgJycpKTtcclxuICAgICAgICB3YXJuKGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYCArXHJcbiAgICAgICAgICAgIGBhc3NvY2lhdGVkIHdpdGguIGAgK1xyXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xyXG4gICAgICAgICAgICAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmBcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcclxuLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1IgKGV4Y2VwdCBmb3Igc2VydmVyUHJlZmV0Y2gpXHJcbighaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiIC8qIFNFUlZFUl9QUkVGRVRDSCAqLykgJiZcclxuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCBob29rLCB0YXJnZXQpO1xyXG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIgLyogQkVGT1JFX01PVU5UICovKTtcclxuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIiAvKiBNT1VOVEVEICovKTtcclxuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFwiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovKTtcclxuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIiAvKiBVUERBVEVEICovKTtcclxuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiIC8qIEJFRk9SRV9VTk1PVU5UICovKTtcclxuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIiAvKiBVTk1PVU5URUQgKi8pO1xyXG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcInNwXCIgLyogU0VSVkVSX1BSRUZFVENIICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqLyk7XHJcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqLyk7XHJcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xyXG4gICAgY29uc3QgcHVibGljVGhpcyA9IGluc3RhbmNlLnByb3h5O1xyXG4gICAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xyXG4gICAgLy8gZG8gbm90IGNhY2hlIHByb3BlcnR5IGFjY2VzcyBvbiBwdWJsaWMgcHJveHkgZHVyaW5nIHN0YXRlIGluaXRpYWxpemF0aW9uXHJcbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgLy8gY2FsbCBiZWZvcmVDcmVhdGUgZmlyc3QgYmVmb3JlIGFjY2Vzc2luZyBvdGhlciBvcHRpb25zIHNpbmNlXHJcbiAgICAvLyB0aGUgaG9vayBtYXkgbXV0YXRlIHJlc29sdmVkIG9wdGlvbnMgKCMyNzkxKVxyXG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XHJcbiAgICAgICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIgLyogQkVGT1JFX0NSRUFURSAqLyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IFxyXG4gICAgLy8gc3RhdGVcclxuICAgIGRhdGE6IGRhdGFPcHRpb25zLCBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLCBtZXRob2RzLCB3YXRjaDogd2F0Y2hPcHRpb25zLCBwcm92aWRlOiBwcm92aWRlT3B0aW9ucywgaW5qZWN0OiBpbmplY3RPcHRpb25zLCBcclxuICAgIC8vIGxpZmVjeWNsZVxyXG4gICAgY3JlYXRlZCwgYmVmb3JlTW91bnQsIG1vdW50ZWQsIGJlZm9yZVVwZGF0ZSwgdXBkYXRlZCwgYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCwgYmVmb3JlRGVzdHJveSwgYmVmb3JlVW5tb3VudCwgZGVzdHJveWVkLCB1bm1vdW50ZWQsIHJlbmRlciwgcmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJpZ2dlcmVkLCBlcnJvckNhcHR1cmVkLCBzZXJ2ZXJQcmVmZXRjaCwgXHJcbiAgICAvLyBwdWJsaWMgQVBJXHJcbiAgICBleHBvc2UsIGluaGVyaXRBdHRycywgXHJcbiAgICAvLyBhc3NldHNcclxuICAgIGNvbXBvbmVudHMsIGRpcmVjdGl2ZXMsIGZpbHRlcnMgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gb3B0aW9ucyBpbml0aWFsaXphdGlvbiBvcmRlciAodG8gYmUgY29uc2lzdGVudCB3aXRoIFZ1ZSAyKTpcclxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXHJcbiAgICAvLyAtIGluamVjdFxyXG4gICAgLy8gLSBtZXRob2RzXHJcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxyXG4gICAgLy8gLSBjb21wdXRlZFxyXG4gICAgLy8gLSB3YXRjaCAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xyXG4gICAgICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcclxuICAgIH1cclxuICAgIGlmIChtZXRob2RzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWV0aG9kcykge1xyXG4gICAgICAgICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSW4gZGV2IG1vZGUsIHdlIHVzZSB0aGUgYGNyZWF0ZVJlbmRlckNvbnRleHRgIGZ1bmN0aW9uIHRvIGRlZmluZSBtZXRob2RzIHRvIHRoZSBwcm94eSB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhvc2UgYXJlIHJlYWQtb25seSBidXQgcmVjb25maWd1cmFibGUsIHNvIGl0IG5lZWRzIHRvIGJlIHJlZGVmaW5lZCBoZXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgTWV0aG9kIFwiJHtrZXl9XCIgaGFzIHR5cGUgXCIke3R5cGVvZiBtZXRob2RIYW5kbGVyfVwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YU9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFPcHRpb25zKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcclxuICAgICAgICAgICAgICAgIGBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGRhdGFPcHRpb25zLmNhbGwocHVibGljVGhpcywgcHVibGljVGhpcyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcclxuICAgICAgICAgICAgd2FybihgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGAgK1xyXG4gICAgICAgICAgICAgICAgYGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYCArXHJcbiAgICAgICAgICAgICAgICBgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGV4cG9zZSBkYXRhIG9uIGN0eCBkdXJpbmcgZGV2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVswXSAhPT0gJyQnICYmIGtleVswXSAhPT0gJ18nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gZGF0YVtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHN0YXRlIGluaXRpYWxpemF0aW9uIGNvbXBsZXRlIGF0IHRoaXMgcG9pbnQgLSBzdGFydCBjYWNoaW5nIGFjY2Vzc1xyXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xyXG4gICAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihvcHQpXHJcbiAgICAgICAgICAgICAgICA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24ob3B0LmdldClcclxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBnZXQgPT09IE5PT1ApIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYENvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaGFzIG5vIGdldHRlci5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldClcclxuICAgICAgICAgICAgICAgID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XHJcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCh7XHJcbiAgICAgICAgICAgICAgICBnZXQsXHJcbiAgICAgICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNldDogdiA9PiAoYy52YWx1ZSA9IHYpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xyXG4gICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKVxyXG4gICAgICAgICAgICA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcylcclxuICAgICAgICAgICAgOiBwcm92aWRlT3B0aW9ucztcclxuICAgICAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGNyZWF0ZWQpIHtcclxuICAgICAgICBjYWxsSG9vayhjcmVhdGVkLCBpbnN0YW5jZSwgXCJjXCIgLyogQ1JFQVRFRCAqLyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcclxuICAgICAgICBpZiAoaXNBcnJheShob29rKSkge1xyXG4gICAgICAgICAgICBob29rLmZvckVhY2goX2hvb2sgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChob29rKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVXBkYXRlLCBiZWZvcmVVcGRhdGUpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25EZWFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XHJcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyaWdnZXJlZCwgcmVuZGVyVHJpZ2dlcmVkKTtcclxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xyXG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uU2VydmVyUHJlZmV0Y2gsIHNlcnZlclByZWZldGNoKTtcclxuICAgIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcclxuICAgICAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBleHBvc2VkID0gaW5zdGFuY2UuZXhwb3NlZCB8fCAoaW5zdGFuY2UuZXhwb3NlZCA9IHByb3h5UmVmcyh7fSkpO1xyXG4gICAgICAgICAgICBleHBvc2UuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXhwb3NlZFtrZXldID0gdG9SZWYocHVibGljVGhpcywga2V5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIHdoZW4gY3JlYXRpbmcgdGhlIGluc3RhbmNlIGJ1dCBhbHNvIG5lZWQgdG8gYmVcclxuICAgIC8vIGFwcGxpZWQgZnJvbSBtaXhpbnNcclxuICAgIGlmIChyZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xyXG4gICAgfVxyXG4gICAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xyXG4gICAgfVxyXG4gICAgLy8gYXNzZXQgb3B0aW9ucy5cclxuICAgIGlmIChjb21wb25lbnRzKVxyXG4gICAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xyXG4gICAgaWYgKGRpcmVjdGl2ZXMpXHJcbiAgICAgICAgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSBOT09QKSB7XHJcbiAgICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xyXG4gICAgICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0ID0gaW5qZWN0T3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChpc09iamVjdChvcHQpKSB7XHJcbiAgICAgICAgICAgIGlmICgnZGVmYXVsdCcgaW4gb3B0KSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChvcHQuZnJvbSB8fCBrZXksIG9wdC5kZWZhdWx0LCB0cnVlIC8qIHRyZWF0IGRlZmF1bHQgZnVuY3Rpb24gYXMgZmFjdG9yeSAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdChvcHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIElOSkVDVCAqLywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGlzQXJyYXkoaG9vaylcclxuICAgICAgICA/IGhvb2subWFwKGggPT4gaC5iaW5kKGluc3RhbmNlLnByb3h5KSlcclxuICAgICAgICA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcclxuICAgIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcygnLicpXHJcbiAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSlcclxuICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcclxuICAgIGlmIChpc1N0cmluZyhyYXcpKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XHJcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgICAgICByYXcuZm9yRWFjaChyID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGN0eFtyYXcuaGFuZGxlcl07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVzb2x2ZSBtZXJnZWQgb3B0aW9ucyBhbmQgY2FjaGUgaXQgb24gdGhlIGNvbXBvbmVudC5cclxuICogVGhpcyBpcyBkb25lIG9ubHkgb25jZSBwZXItY29tcG9uZW50IHNpbmNlIHRoZSBtZXJnaW5nIGRvZXMgbm90IGludm9sdmVcclxuICogaW5zdGFuY2VzLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBiYXNlO1xyXG4gICAgY29uc3QgeyBtaXhpbnM6IGdsb2JhbE1peGlucywgb3B0aW9uc0NhY2hlOiBjYWNoZSwgY29uZmlnOiB7IG9wdGlvbk1lcmdlU3RyYXRlZ2llcyB9IH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0O1xyXG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xyXG4gICAgbGV0IHJlc29sdmVkO1xyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgIHJlc29sdmVkID0gY2FjaGVkO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpIHtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc29sdmVkID0gYmFzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXNvbHZlZCA9IHt9O1xyXG4gICAgICAgIGlmIChnbG9iYWxNaXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKG0gPT4gbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBtLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMsIHRydWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBiYXNlLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMpO1xyXG4gICAgfVxyXG4gICAgY2FjaGUuc2V0KGJhc2UsIHJlc29sdmVkKTtcclxuICAgIHJldHVybiByZXNvbHZlZDtcclxufVxyXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIHN0cmF0cywgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XHJcbiAgICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcclxuICAgICAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1peGlucykge1xyXG4gICAgICAgIG1peGlucy5mb3JFYWNoKChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSkpO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIGlmIChhc01peGluICYmIGtleSA9PT0gJ2V4cG9zZScpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RyYXQgPSBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV0gfHwgKHN0cmF0cyAmJiBzdHJhdHNba2V5XSk7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvO1xyXG59XHJcbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XHJcbiAgICBkYXRhOiBtZXJnZURhdGFGbixcclxuICAgIHByb3BzOiBtZXJnZU9iamVjdE9wdGlvbnMsXHJcbiAgICBlbWl0czogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gb2JqZWN0c1xyXG4gICAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcclxuICAgIC8vIGxpZmVjeWNsZVxyXG4gICAgYmVmb3JlQ3JlYXRlOiBtZXJnZUhvb2ssXHJcbiAgICBjcmVhdGVkOiBtZXJnZUhvb2ssXHJcbiAgICBiZWZvcmVNb3VudDogbWVyZ2VIb29rLFxyXG4gICAgbW91bnRlZDogbWVyZ2VIb29rLFxyXG4gICAgYmVmb3JlVXBkYXRlOiBtZXJnZUhvb2ssXHJcbiAgICB1cGRhdGVkOiBtZXJnZUhvb2ssXHJcbiAgICBiZWZvcmVEZXN0cm95OiBtZXJnZUhvb2ssXHJcbiAgICBkZXN0cm95ZWQ6IG1lcmdlSG9vayxcclxuICAgIGFjdGl2YXRlZDogbWVyZ2VIb29rLFxyXG4gICAgZGVhY3RpdmF0ZWQ6IG1lcmdlSG9vayxcclxuICAgIGVycm9yQ2FwdHVyZWQ6IG1lcmdlSG9vayxcclxuICAgIHNlcnZlclByZWZldGNoOiBtZXJnZUhvb2ssXHJcbiAgICAvLyBhc3NldHNcclxuICAgIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcclxuICAgIGRpcmVjdGl2ZXM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcclxuICAgIC8vIHdhdGNoIGhhcyBzcGVjaWFsIG1lcmdlIGJlaGF2aW9yIGluIHYyLCBidXQgaXNuJ3QgYWN0dWFsbHkgbmVlZGVkIGluIHYzLlxyXG4gICAgLy8gc2luY2Ugd2UgYXJlIG9ubHkgZXhwb3NpbmcgdGhlc2UgZm9yIGNvbXBhdCBhbmQgbm9ib2R5IHNob3VsZCBiZSByZWx5aW5nXHJcbiAgICAvLyBvbiB0aGUgd2F0Y2gtc3BlY2lmaWMgYmVoYXZpb3IsIGp1c3QgZXhwb3NlIHRoZSBvYmplY3QgbWVyZ2Ugc3RyYXQuXHJcbiAgICB3YXRjaDogbWVyZ2VPYmplY3RPcHRpb25zLFxyXG4gICAgLy8gcHJvdmlkZSAvIGluamVjdFxyXG4gICAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXHJcbiAgICBpbmplY3Q6IG1lcmdlSW5qZWN0XHJcbn07XHJcbmZ1bmN0aW9uIG1lcmdlRGF0YUZuKHRvLCBmcm9tKSB7XHJcbiAgICBpZiAoIWZyb20pIHtcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgICBpZiAoIXRvKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuKCkge1xyXG4gICAgICAgIHJldHVybiAoZXh0ZW5kKShpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0bywgaXNGdW5jdGlvbihmcm9tKSA/IGZyb20uY2FsbCh0aGlzLCB0aGlzKSA6IGZyb20pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xyXG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0T3B0aW9ucyhub3JtYWxpemVJbmplY3QodG8pLCBub3JtYWxpemVJbmplY3QoZnJvbSkpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcclxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcclxuICAgICAgICBjb25zdCByZXMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXNbcmF3W2ldXSA9IHJhd1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIHJldHVybiByYXc7XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VIb29rKHRvLCBmcm9tKSB7XHJcbiAgICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT2JqZWN0T3B0aW9ucyh0bywgZnJvbSkge1xyXG4gICAgcmV0dXJuIHRvID8gZXh0ZW5kKGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB0byksIGZyb20pIDogZnJvbTtcclxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cclxuaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgcHJvcHMgPSB7fTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxuICAgIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgIC8vIGVuc3VyZSBhbGwgZGVjbGFyZWQgcHJvcCBrZXlzIGFyZSBwcmVzZW50XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gdmFsaWRhdGlvblxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bCkge1xyXG4gICAgICAgIC8vIHN0YXRlZnVsXHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIG9wdGlvbmFsIHByb3BzLCBwcm9wcyA9PT0gYXR0cnNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gZGVjbGFyZWQgcHJvcHNcclxuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGF0dHJzLCB2bm9kZTogeyBwYXRjaEZsYWcgfSB9ID0gaW5zdGFuY2U7XHJcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBpZiAoXHJcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxyXG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcclxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XHJcbiAgICAhKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgIChpbnN0YW5jZS50eXBlLl9faG1ySWQgfHxcclxuICAgICAgICAgICAgKGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQudHlwZS5fX2htcklkKSkpICYmXHJcbiAgICAgICAgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJlxyXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykpIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gdGhlIHByb3BzLlxyXG4gICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGZhbHNlIC8qIGlzQWJzZW50ICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGZ1bGwgcHJvcHMgdXBkYXRlLlxyXG4gICAgICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XHJcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXHJcbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxyXG4gICAgICAgIGxldCBrZWJhYktleTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcclxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSwgdHJ1ZSAvKiBpc0Fic2VudCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcclxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB0cmlnZ2VyIHVwZGF0ZXMgZm9yICRhdHRycyBpbiBjYXNlIGl0J3MgdXNlZCBpbiBjb21wb25lbnQgc2xvdHNcclxuICAgIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcclxuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFNFVCAqLywgJyRhdHRycycpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XHJcbiAgICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcclxuICAgIGxldCByYXdDYXN0VmFsdWVzO1xyXG4gICAgaWYgKHJhd1Byb3BzKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cclxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgLy8gcHJvcCBvcHRpb24gbmFtZXMgYXJlIGNhbWVsaXplZCBkdXJpbmcgbm9ybWFsaXphdGlvbiwgc28gdG8gc3VwcG9ydFxyXG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxyXG4gICAgICAgICAgICBsZXQgY2FtZWxLZXk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAoY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobmVlZENhc3RLZXlzKSB7XHJcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCBjYXN0VmFsdWVzW2tleV0sIGluc3RhbmNlLCAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XHJcbiAgICBpZiAob3B0ICE9IG51bGwpIHtcclxuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwobnVsbCwgcHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xyXG4gICAgICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xyXG4gICAgICAgICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmXHJcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQucHJvcHNDYWNoZTtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcclxuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzKVxyXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xyXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmF3KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QocmF3KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSAobm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBvcHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcclxuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xyXG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8vIHVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayB0eXBlIGNvbnN0cnVjdG9yc1xyXG4vLyBzbyB0aGF0IGl0IHdvcmtzIGFjcm9zcyB2bXMgLyBpZnJhbWVzLlxyXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gY3RvciAmJiBjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XHJcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkVHlwZXMuZmluZEluZGV4KHQgPT4gaXNTYW1lVHlwZSh0LCB0eXBlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVHlwZXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcclxuICAgICAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChvcHQgPT0gbnVsbClcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgdmFsaWRhdGVQcm9wKGtleSwgcmVzb2x2ZWRWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IgfSA9IHByb3A7XHJcbiAgICAvLyByZXF1aXJlZCFcclxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xyXG4gICAgICAgIHdhcm4oJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHR5cGUgY2hlY2tcclxuICAgIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XHJcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XHJcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICB3YXJuKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY3VzdG9tIHZhbGlkYXRvclxyXG4gICAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ1N0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50Jyk7XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgbGV0IHZhbGlkO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcclxuICAgIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XHJcbiAgICAgICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0c1xyXG4gICAgICAgIGlmICghdmFsaWQgJiYgdCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZCxcclxuICAgICAgICBleHBlY3RlZFR5cGVcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcclxuICAgIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuYCArXHJcbiAgICAgICAgYCBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJywgJyl9YDtcclxuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XHJcbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxyXG4gICAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmXHJcbiAgICAgICAgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiZcclxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xyXG4gICAgfVxyXG4gICAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgcmVjZWl2ZWQgdmFsdWVcclxuICAgIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1lc3NhZ2U7XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xyXG4gICAgICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XHJcbiAgICBjb25zdCBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcclxuICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZWxlbSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzLnNvbWUoZWxlbSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJyk7XHJcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xyXG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpXHJcbiAgICA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSlcclxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XHJcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KChwcm9wcykgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXHJcbiAgICAgICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXHJcbiAgICAgICAgICAgICAgICBgSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdChwcm9wcykpO1xyXG4gICAgfSwgY3R4KTtcclxuICAgIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59O1xyXG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XHJcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcclxuICAgICAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgIShmYWxzZSApKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJlxyXG4gICAgICAgICEoZmFsc2UgKSkge1xyXG4gICAgICAgIHdhcm4oYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBgICtcclxuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XHJcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcclxufTtcclxuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gdXNlcnMgY2FuIGdldCB0aGUgc2hhbGxvdyByZWFkb25seSB2ZXJzaW9uIG9mIHRoZSBzbG90cyBvYmplY3QgdGhyb3VnaCBgdGhpcy4kc2xvdHNgLFxyXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgYXZvaWQgdGhlIHByb3h5IG9iamVjdCBwb2xsdXRpbmcgdGhlIHNsb3RzIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHRvUmF3KGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgLy8gbWFrZSBjb21waWxlciBtYXJrZXIgbm9uLWVudW1lcmFibGVcclxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xyXG59O1xyXG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xyXG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcclxuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBBTkQgc3RhYmxlLlxyXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXHJcbiAgICAgICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgYnV0IGR5bmFtaWMgKHYtaWYvdi1mb3Igb24gc2xvdHMpIC0gdXBkYXRlIHNsb3RzLCBidXQgc2tpcFxyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gIzI4OTNcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIHRoZSBvcHRpbWl6ZWQgc2xvdHMgYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxyXG4gICAgICAgICAgICAgICAgLy8gaS5lLiBsZXQgdGhlIGByZW5kZXJTbG90YCBjcmVhdGUgdGhlIGJhaWxlZCBGcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHMuXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcclxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XHJcbiAgICB9XHJcbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcclxuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG4vKipcclxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcclxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXHJcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXHJcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXHJcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcclxuICBbZm9vLCB0aGlzLnhdLFxyXG4gIFtiYXIsIHRoaXMueV1cclxuXSlcclxuKi9cclxuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCcpO1xyXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcclxuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluc3RhbmNlID0gaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XHJcbiAgICAgICAgICAgIGRpciA9IHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBiaW5kaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgZGlyLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgbW9kaWZpZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xyXG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xyXG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XHJcbiAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZSB0cmFja2luZyBpbnNpZGUgYWxsIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXHJcbiAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRElSRUNUSVZFX0hPT0sgKi8sIFtcclxuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZyxcclxuICAgICAgICAgICAgICAgIHZub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcDogbnVsbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxyXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxyXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWl4aW5zOiBbXSxcclxuICAgICAgICBjb21wb25lbnRzOiB7fSxcclxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcclxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcclxuICAgICAgICBvcHRpb25zQ2FjaGU6IG5ldyBXZWFrTWFwKCksXHJcbiAgICAgICAgcHJvcHNDYWNoZTogbmV3IFdlYWtNYXAoKSxcclxuICAgICAgICBlbWl0c0NhY2hlOiBuZXcgV2Vha01hcCgpXHJcbiAgICB9O1xyXG59XHJcbmxldCB1aWQgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcclxuICAgICAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xyXG4gICAgICAgICAgICByb290UHJvcHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGFwcCA9IChjb250ZXh0LmFwcCA9IHtcclxuICAgICAgICAgICAgX3VpZDogdWlkKyssXHJcbiAgICAgICAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXHJcbiAgICAgICAgICAgIF9wcm9wczogcm9vdFByb3BzLFxyXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxyXG4gICAgICAgICAgICBfY29udGV4dDogY29udGV4dCxcclxuICAgICAgICAgICAgdmVyc2lvbixcclxuICAgICAgICAgICAgZ2V0IGNvbmZpZygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IGNvbmZpZyh2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXNlKHBsdWdpbiwgLi4ub3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGx1Z2luICYmIGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBmdW5jdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1peGluKG1peGluKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUEknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcHAgY29udGV4dCBvbiB0aGUgcm9vdCBWTm9kZS5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IG9uIHRoZSByb290IGluc3RhbmNlIG9uIGluaXRpYWwgbW91bnQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSE1SIHJvb3QgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZVZOb2RlKHZub2RlKSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZub2RlLmNvbXBvbmVudC5wcm94eTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBhbGxvdyBzeW1ib2xzIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9O1xyXG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcclxuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xyXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcclxuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cclxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXHJcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcclxuICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XHJcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICAgICAgY29uc3QgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBDbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkobm9kZS5kYXRhKX1gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBTZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkodm5vZGUuY2hpbGRyZW4pfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8gfHwgaXNGcmFnbWVudFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFuY2hvciwgYWRvcHQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRvcHQgaXQgZnJvbSB0aGUgc2VydmVyLXJlbmRlcmVkIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBFTEVNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBzZXR0aW5nIHVwIHRoZSByZW5kZXIgZWZmZWN0LCBpZiB0aGUgaW5pdGlhbCB2bm9kZSBhbHJlYWR5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIC5lbCBzZXQsIHRoZSBjb21wb25lbnQgd2lsbCBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gaXRzIHN1Yi10cmVlLlxyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICMzNzg3XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29tcG9uZW50IGlzIGFzeW5jLCBpdCBtYXkgZ2V0IG1vdmVkIC8gdW5tb3VudGVkIGJlZm9yZSBpdHNcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaXMgbG9hZGVkLCBzbyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIHRoYXQgbWF0Y2hlcyBpdHMgYWRvcHRlZCBET00uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHROb2RlLnByZXZpb3VzU2libGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLmxhc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoJycpIDogY3JlYXRlVk5vZGUoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAhPT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXHJcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xyXG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8gJiZcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTU1JlZCBET00gY29udGFpbnMgbW9yZSBub2RlcyB0aGFuIGl0IHNob3VsZC4gUmVtb3ZlIHRoZW0uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gQ2xpZW50OiAke2VsLnRleHRDb250ZW50fVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXHJcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXHJcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxyXG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogVEVYVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBgKHRleHQpYFxyXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcclxuICAgICAgICAgICAgICAgICAgICA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYGApO1xyXG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXhjZXNzaXZlIGZyYWdtZW50IG5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShuZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIHJlbW92ZShub2RlKTtcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBuZXh0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XHJcbn1cblxubGV0IHN1cHBvcnRlZDtcclxubGV0IHBlcmY7XHJcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcclxuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcclxuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcclxuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgc3VwcG9ydGVkID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xyXG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcclxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cclxuICpcclxuICogaXN0YW5idWwtaWdub3JlLW5leHRcclxuICovXHJcbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICBsZXQgbmVlZFdhcm4gPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGAgK1xyXG4gICAgICAgICAgICBgY29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBleHBsaWNpdGx5IHJlcGxhY2UgZmVhdHVyZSBmbGFnIGdsb2JhbHMgYCArXHJcbiAgICAgICAgICAgIGB3aXRoIGJvb2xlYW4gbGl0ZXJhbHMgdG8gZ2V0IHByb3BlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGZpbmFsIGJ1bmRsZS4gYCArXHJcbiAgICAgICAgICAgIGBTZWUgaHR0cDovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MgZm9yIG1vcmUgZGV0YWlscy5gKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBwcm9kRWZmZWN0T3B0aW9ucyA9IHtcclxuICAgIHNjaGVkdWxlcjogcXVldWVKb2IsXHJcbiAgICAvLyAjMTgwMSwgIzIwNDMgY29tcG9uZW50IHJlbmRlciBlZmZlY3RzIHNob3VsZCBhbGxvdyByZWN1cnNpdmUgdXBkYXRlc1xyXG4gICAgYWxsb3dSZWN1cnNlOiB0cnVlXHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZURldkVmZmVjdE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc2NoZWR1bGVyOiBxdWV1ZUpvYixcclxuICAgICAgICBhbGxvd1JlY3Vyc2U6IHRydWUsXHJcbiAgICAgICAgb25UcmFjazogaW5zdGFuY2UucnRjID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwLFxyXG4gICAgICAgIG9uVHJpZ2dlcjogaW5zdGFuY2UucnRnID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlXHJcbiAgICA7XHJcbmNvbnN0IHNldFJlZiA9IChyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xyXG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xyXG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHRlbXBsYXRlIHJlZiBpcyBmb3J3YXJkZWQgdG8gaW5uZXIgY29tcG9uZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgID8gdm5vZGUuY29tcG9uZW50LmV4cG9zZWQgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5XHJcbiAgICAgICAgOiB2bm9kZS5lbDtcclxuICAgIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xyXG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xyXG4gICAgICAgIHdhcm4oYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXHJcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XHJcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xyXG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XHJcbiAgICAvLyBkeW5hbWljIHJlZiBjaGFuZ2VkLiB1bnNldCBvbGQgcmVmXHJcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xyXG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcclxuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xyXG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhyZWYpKSB7XHJcbiAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vICMxNzg5OiBmb3Igbm9uLW51bGwgdmFsdWVzLCBzZXQgdGhlbSBhZnRlciByZW5kZXJcclxuICAgICAgICAvLyBudWxsIHZhbHVlcyBtZWFucyB0aGlzIGlzIHVubW91bnQgYW5kIGl0IHNob3VsZCBub3Qgb3ZlcndyaXRlIGFub3RoZXJcclxuICAgICAgICAvLyByZWYgd2l0aCB0aGUgc2FtZSBrZXlcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiAvKiBGVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCB2YWx1ZSwgYCgke3R5cGVvZiB2YWx1ZX0pYCk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgY3JlYXRlUmVuZGVyZXIgZnVuY3Rpb24gYWNjZXB0cyB0d28gZ2VuZXJpYyBhcmd1bWVudHM6XHJcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxyXG4gKiBob3N0IGVudmlyb25tZW50LiBGb3IgZXhhbXBsZSwgZm9yIHJ1bnRpbWUtZG9tLCBIb3N0Tm9kZSB3b3VsZCBiZSB0aGUgRE9NXHJcbiAqIGBOb2RlYCBpbnRlcmZhY2UgYW5kIEhvc3RFbGVtZW50IHdvdWxkIGJlIHRoZSBET00gYEVsZW1lbnRgIGludGVyZmFjZS5cclxuICpcclxuICogQ3VzdG9tIHJlbmRlcmVycyBjYW4gcGFzcyBpbiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgdHlwZXMgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGAganNcclxuICogY29uc3QgeyByZW5kZXIsIGNyZWF0ZUFwcCB9ID0gY3JlYXRlUmVuZGVyZXI8Tm9kZSwgRWxlbWVudD4oe1xyXG4gKiAgIHBhdGNoUHJvcCxcclxuICogICAuLi5ub2RlT3BzXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcclxufVxyXG4vLyBTZXBhcmF0ZSBBUEkgZm9yIGNyZWF0aW5nIGh5ZHJhdGlvbi1lbmFibGVkIHJlbmRlcmVyLlxyXG4vLyBIeWRyYXRpb24gbG9naWMgaXMgb25seSB1c2VkIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBtYWtpbmcgaXRcclxuLy8gdHJlZS1zaGFrYWJsZS5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXHJcbiAgICB7XHJcbiAgICAgICAgaW5pdEZlYXR1cmVGbGFncygpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XHJcbiAgICAgICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgICAgIHNldERldnRvb2xzSG9vayh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wOiBob3N0Rm9yY2VQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBjbG9uZU5vZGU6IGhvc3RDbG9uZU5vZGUsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xyXG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXHJcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxyXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcclxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XHJcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICBuMSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIEJBSUwgKi8pIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQkMTpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcclxuICAgICAgICAgICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NGcmFnbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV2IC8gSE1SIG9ubHlcclxuICAgICAqL1xyXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxyXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcclxuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xyXG4gICAgICAgICAgICBlbCA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBsZXQgZWw7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgdm5vZGUuZWwgJiZcclxuICAgICAgICAgICAgaG9zdENsb25lTm9kZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZub2RlIGhhcyBub24tbnVsbCBlbCwgaXQgbWVhbnMgaXQncyBiZWluZyByZXVzZWQuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhdGljIHZub2RlcyBjYW4gYmUgcmV1c2VkLCBzbyBpdHMgbW91bnRlZCBET00gbm9kZXMgc2hvdWxkIGJlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0bHkgdGhlIHNhbWUsIGFuZCB3ZSBjYW4gc2ltcGx5IGRvIGEgY2xvbmUgaGVyZS5cclxuICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGluIHByb2R1Y3Rpb24gc2luY2UgY2xvbmVkIHRyZWVzIGNhbm5vdCBiZSBITVIgdXBkYXRlZC5cclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDbG9uZU5vZGUodm5vZGUuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xyXG4gICAgICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29wZUlkXHJcbiAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxyXG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXHJcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcclxuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxyXG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxyXG4gICAgICAgICAgICBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzY29wZUlkKSB7XHJcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBERVZfUk9PVF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XHJcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XHJcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxyXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXHJcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi87XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxyXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcclxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogQ0xBU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFNUWUxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogVEVYVCAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcclxuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXHJcbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcclxuICAgICAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXHJcbiAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcclxuICAgICAgICAgICAgb2xkVk5vZGUuZWwgJiZcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKVxyXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcclxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gKG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSAobjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcclxuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBzbG90IGZyYWdtZW50IHdpdGggOnNsb3R0ZWQgc2NvcGUgaWRzXHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xyXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxyXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIC8vIGEgZnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBhcnJheSBjaGlsZHJlblxyXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSBlaXRoZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgb3IgaW1wbGljaXRseSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxyXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcclxuICAgICAgICAgICAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggY2hpbGRyZW4gb3JkZXIsIGJ1dCBpdCBtYXkgY29udGFpbiBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcclxuICAgICAgICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXHJcbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXHJcbiAgICAgICAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlIC8qIHNoYWxsb3cgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2V5ZWQgLyB1bmtleWVkLCBvciBtYW51YWwgZnJhZ21lbnRzLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXHJcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGNoaWxkIGlzIGd1YXJhbnRlZWQgdG8gYmUgYSBibG9jayBzbyB0aGUgZnJhZ21lbnQgd2lsbCBuZXZlclxyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBkeW5hbWljQ2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKGluaXRpYWxWTm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcclxuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5qZWN0IHJlbmRlcmVyIGludGVybmFscyBmb3Iga2VlcEFsaXZlXHJcbiAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXNvbHZlIHByb3BzIGFuZCBzbG90cyBmb3Igc2V0dXAgY29udGV4dFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR1cCgpIGlzIGFzeW5jLiBUaGlzIGNvbXBvbmVudCByZWxpZXMgb24gYXN5bmMgbG9naWMgdG8gYmUgcmVzb2x2ZWRcclxuICAgICAgICAvLyBiZWZvcmUgcHJvY2VlZGluZ1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpO1xyXG4gICAgICAgICAgICAvLyBHaXZlIGl0IGEgcGxhY2Vob2xkZXIgaWYgdGhpcyBpcyBub3QgaHlkcmF0aW9uXHJcbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHNlbGYtZGVmaW5lZCBmYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQkMSkpO1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXHJcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XHJcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0IHJ1bm5lci5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0KGZ1bmN0aW9uIGNvbXBvbmVudEVmZmVjdCgpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChibSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGVsLCBpbnN0YW5jZS5zdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90ZTogd2UgYXJlIG1vdmluZyB0aGUgcmVuZGVyIGNhbGwgaW50byBhbiBhc3luYyBjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggbWVhbnMgaXQgd29uJ3QgdHJhY2sgZGVwZW5kZW5jaWVzIC0gYnV0IGl0J3Mgb2sgYmVjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNlcnZlci1yZW5kZXJlZCBhc3luYyB3cmFwcGVyIGlzIGFscmVhZHkgaW4gcmVzb2x2ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGl0IHdpbGwgbmV2ZXIgbmVlZCB0byBjaGFuZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBoeWRyYXRlU3ViVHJlZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXHJcbiAgICAgICAgICAgICAgICAvLyAjMTc0MiBhY3RpdmF0ZWQgaG9vayBtdXN0IGJlIGFjY2Vzc2VkIGFmdGVyIGZpcnN0IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGhvb2sgbWF5IGJlIGluamVjdGVkIGJ5IGEgY2hpbGQga2VlcC1hbGl2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAjMjQ1ODogZGVmZXJlbmNlIG1vdW50LW9ubHkgb2JqZWN0IHBhcmFtZXRlcnMgdG8gcHJldmVudCBtZW1sZWFrc1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxyXG4gICAgICAgICAgICAgICAgLy8gT1IgcGFyZW50IGNhbGxpbmcgcHJvY2Vzc0NvbXBvbmVudCAobmV4dDogVk5vZGUpXHJcbiAgICAgICAgICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZVVwZGF0ZSBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAoYnUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlVXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gocHJldlRyZWUsIG5leHRUcmVlLCBcclxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxyXG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgZWwuIEhPQyBpcyBpbmRpY2F0ZWQgYnkgcGFyZW50IGluc3RhbmNlJ3Mgc3ViVHJlZSBwb2ludGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoaWxkIGNvbXBvbmVudCdzIHZub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmICh1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRGV2RWZmZWN0T3B0aW9ucyhpbnN0YW5jZSkgOiBwcm9kRWZmZWN0T3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZS5vd25lckluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XHJcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XHJcbiAgICAgICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIC8vIHByb3BzIHVwZGF0ZSBtYXkgaGF2ZSB0cmlnZ2VyZWQgcHJlLWZsdXNoIHdhdGNoZXJzLlxyXG4gICAgICAgIC8vIGZsdXNoIHRoZW0gYmVmb3JlIHRoZSByZW5kZXIgdXBkYXRlLlxyXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnModW5kZWZpbmVkLCBpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xyXG4gICAgICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSBlaXRoZXIgZnVsbHkta2V5ZWQgb3IgbWl4ZWQgKHNvbWUga2V5ZWQgc29tZSBub3QpXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXHJcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgY2hpbGRyZW4sIGp1c3QgdW5tb3VudCBvbGRcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgdGV4dCBPUiBudWxsXHJcbiAgICAgICAgICAgICAgICAvLyBuZXcgY2hpbGRyZW4gaXMgYXJyYXkgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXcgaWYgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkXHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgZmFsc2UsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxyXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcclxuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxyXG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcclxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYikgZCBlXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gc3luYyBmcm9tIGVuZFxyXG4gICAgICAgIC8vIGEgKGIgYylcclxuICAgICAgICAvLyBkIGUgKGIgYylcclxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltlMl0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUxLS07XHJcbiAgICAgICAgICAgIGUyLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBjIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxyXG4gICAgICAgIGlmIChpID4gZTEpIHtcclxuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDQuIGNvbW1vbiBzZXF1ZW5jZSArIHVubW91bnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSAyLCBlMiA9IDFcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gKGIgYylcclxuICAgICAgICAvLyBpID0gMCwgZTEgPSAwLCBlMiA9IC0xXHJcbiAgICAgICAgZWxzZSBpZiAoaSA+IGUyKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA1LiB1bmtub3duIHNlcXVlbmNlXHJcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xyXG4gICAgICAgIC8vIFtpIC4uLiBlMiArIDFdOiBhIGIgW2UgZCBjIGhdIGYgZ1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDQsIGUyID0gNVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzMSA9IGk7IC8vIHByZXYgc3RhcnRpbmcgaW5kZXhcclxuICAgICAgICAgICAgY29uc3QgczIgPSBpOyAvLyBuZXh0IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxyXG4gICAgICAgICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCwgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxyXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBub2RlcyAmIHJlbW92ZSBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudFxyXG4gICAgICAgICAgICBsZXQgajtcclxuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xyXG4gICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxyXG4gICAgICAgICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XHJcbiAgICAgICAgICAgIC8vIHdvcmtzIGFzIE1hcDxuZXdJbmRleCwgb2xkSW5kZXg+XHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcclxuICAgICAgICAgICAgLy8gYW5kIG9sZEluZGV4ID0gMCBpcyBhIHNwZWNpYWwgdmFsdWUgaW5kaWNhdGluZyB0aGUgbmV3IG5vZGUgaGFzXHJcbiAgICAgICAgICAgIC8vIG5vIGNvcnJlc3BvbmRpbmcgb2xkIG5vZGUuXHJcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBuZXcgY2hpbGRyZW4gaGF2ZSBiZWVuIHBhdGNoZWQgc28gdGhpcyBjYW4gb25seSBiZSBhIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleS1sZXNzIG5vZGUsIHRyeSB0byBsb2NhdGUgYSBrZXktbGVzcyBub2RlIG9mIHRoZSBzYW1lIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXHJcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcclxuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaWY6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBjdXJyZW50IG5vZGUgaXMgbm90IGFtb25nIHRoZSBzdGFibGUgc2VxdWVuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXHJcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBSRU9SREVSICovICYmXHJcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogRU5URVIgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgLy8gdW5zZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiBkaXJzO1xyXG4gICAgICAgIGxldCB2bm9kZUhvb2s7XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXHJcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcclxuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcclxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xyXG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cclxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcclxuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XHJcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBidW0sIGVmZmVjdHMsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xyXG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xyXG4gICAgICAgIGlmIChidW0pIHtcclxuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVmZmVjdHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wKGVmZmVjdHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xyXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cclxuICAgICAgICBpZiAodXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHN0b3AodXBkYXRlKTtcclxuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcclxuICAgICAgICBpZiAodW0pIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXHJcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxyXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cclxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxyXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcclxuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGludGVybmFscyA9IHtcclxuICAgICAgICBwOiBwYXRjaCxcclxuICAgICAgICB1bTogdW5tb3VudCxcclxuICAgICAgICBtOiBtb3ZlLFxyXG4gICAgICAgIHI6IHJlbW92ZSxcclxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXHJcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXHJcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXHJcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXHJcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxyXG4gICAgICAgIG86IG9wdGlvbnNcclxuICAgIH07XHJcbiAgICBsZXQgaHlkcmF0ZTtcclxuICAgIGxldCBoeWRyYXRlTm9kZTtcclxuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcixcclxuICAgICAgICBoeWRyYXRlLFxyXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xyXG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogVk5PREVfSE9PSyAqLywgW1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHByZXZWTm9kZVxyXG4gICAgXSk7XHJcbn1cclxuLyoqXHJcbiAqICMxMTU2XHJcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xyXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxyXG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cclxuICpcclxuICogIzIwODBcclxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxyXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgbW92ZWQgc28gdGhhdCBuZWVkIGluaGVyaXQgZWwgZm9ybSBwcmV2aW91cyBub2Rlc1xyXG4gKiB0byBlbnN1cmUgY29ycmVjdCBtb3ZlZCBwb3NpdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xyXG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XHJcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxyXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcclxuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xyXG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIEhZRFJBVEVfRVZFTlRTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxyXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCQxICYmICFjMi5lbCkge1xyXG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcclxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XHJcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbMF07XHJcbiAgICBsZXQgaSwgaiwgdSwgdiwgYztcclxuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xyXG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHUgPSAwO1xyXG4gICAgICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xyXG4gICAgICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICB3aGlsZSAodS0tID4gMCkge1xyXG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XHJcbiAgICAgICAgdiA9IHBbdl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XHJcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSAnJyk7XHJcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XHJcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcclxuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcclxuICAgIH1cclxufTtcclxuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xyXG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxyXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xyXG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcclxuICAgICAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIC8vICMzMzAyXHJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcclxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIC8vICMyNjUyIHdlIGNvdWxkIGJlIHRlbGVwb3J0aW5nIGZyb20gYSBub24tU1ZHIHRyZWUgaW50byBhbiBTVkcgdHJlZVxyXG4gICAgICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUZWxlcG9ydCAqYWx3YXlzKiBoYXMgQXJyYXkgY2hpbGRyZW4uIFRoaXMgaXMgZW5mb3JjZWQgaW4gYm90aCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVyIGFuZCB2bm9kZSBjaGlsZHJlbiBub3JtYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xyXG4gICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaW4gYmxvY2sgdHJlZSBtb2RlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGFsbCByb290LWxldmVsIG5vZGVzXHJcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXHJcbiAgICAgICAgICAgICAgICAvLyBiZSBtb3ZlZCBpbiBmdXR1cmUgcGF0Y2hlcy5cclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY3VycmVudENvbnRhaW5lciwgY3VycmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIGNvbnRhaW5lciwgbWFpbkFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIG5leHRUYXJnZXQsIG51bGwsIGludGVybmFscywgMCAvKiBUQVJHRVRfQ0hBTkdFICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkIC0+IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gdGVsZXBvcnQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcclxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcclxufTtcclxuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBSRU9SREVSICovKSB7XHJcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXHJcbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVEFSR0VUX0NIQU5HRSAqLykge1xyXG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xyXG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogUkVPUkRFUiAqLztcclxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXHJcbiAgICBpZiAoaXNSZW9yZGVyKSB7XHJcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxyXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcclxuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxyXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xyXG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xyXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XHJcbn1cclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XHJcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xyXG59XHJcbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcclxuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcclxufVxyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcclxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcyA9IFxyXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxyXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxyXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxyXG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGltcGxpY2l0IHNlbGYtcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xyXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcclxuICAgIHJldHVybiAocmVnaXN0cnkgJiZcclxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xyXG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IENvbW1lbnQkMSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBTdGF0aWMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1N0YXRpYycgOiB1bmRlZmluZWQpO1xyXG4vLyBTaW5jZSB2LWlmIGFuZCB2LWZvciBhcmUgdGhlIHR3byBwb3NzaWJsZSB3YXlzIG5vZGUgc3RydWN0dXJlIGNhbiBkeW5hbWljYWxseVxyXG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxyXG4vLyBjYW4gZGl2aWRlIGEgdGVtcGxhdGUgaW50byBuZXN0ZWQgYmxvY2tzLCBhbmQgd2l0aGluIGVhY2ggYmxvY2sgdGhlIG5vZGVcclxuLy8gc3RydWN0dXJlIHdvdWxkIGJlIHN0YWJsZS4gVGhpcyBhbGxvd3MgdXMgdG8gc2tpcCBtb3N0IGNoaWxkcmVuIGRpZmZpbmdcclxuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXHJcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcclxubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XHJcbi8qKlxyXG4gKiBPcGVuIGEgYmxvY2suXHJcbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AuIEl0IGNhbm5vdCBiZSBwYXJ0IG9mIGBjcmVhdGVCbG9ja2BcclxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXHJcbiAqIGlzIGNhbGxlZC4gVGhlIGdlbmVyYXRlZCBjb2RlIHR5cGljYWxseSBsb29rcyBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICogICByZXR1cm4gKG9wZW5CbG9jaygpLGNyZWF0ZUJsb2NrKCdkaXYnLCBudWxsLCBbLi4uXSkpXHJcbiAqIH1cclxuICogYGBgXHJcbiAqIGRpc2FibGVUcmFja2luZyBpcyB0cnVlIHdoZW4gY3JlYXRpbmcgYSB2LWZvciBmcmFnbWVudCBibG9jaywgc2luY2UgYSB2LWZvclxyXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XHJcbiAgICBibG9ja1N0YWNrLnB1c2goKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSkpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XHJcbiAgICBibG9ja1N0YWNrLnBvcCgpO1xyXG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbn1cclxuLy8gV2hldGhlciB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZHluYW1pYyBjaGlsZCBub2RlcyBpbnNpZGUgYSBibG9jay5cclxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxyXG4vLyBXZSBhcmUgbm90IHVzaW5nIGEgc2ltcGxlIGJvb2xlYW4gYmVjYXVzZSB0aGlzIHZhbHVlIG1heSBuZWVkIHRvIGJlXHJcbi8vIGluY3JlbWVudGVkL2RlY3JlbWVudGVkIGJ5IG5lc3RlZCB1c2FnZSBvZiB2LW9uY2UgKHNlZSBiZWxvdylcclxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XHJcbi8qKlxyXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcclxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xyXG4gKiBjb2RlIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIF9jYWNoZVsxXSB8fCAoXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXHJcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcclxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxyXG4gKiAgIF9jYWNoZVsxXVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xyXG4gICAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cclxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcclxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKTtcclxuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcclxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9XHJcbiAgICAgICAgaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xyXG4gICAgLy8gY2xvc2UgYmxvY2tcclxuICAgIGNsb3NlQmxvY2soKTtcclxuICAgIC8vIGEgYmxvY2sgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIHBhdGNoZWQsIHNvIHRyYWNrIGl0IGFzIGEgY2hpbGQgb2YgaXRzXHJcbiAgICAvLyBwYXJlbnQgYmxvY2tcclxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcclxuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XHJcbn1cclxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xyXG4vKipcclxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxyXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xyXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXHJcbiAqIHR5cGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xyXG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcclxufVxyXG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXHJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXHJcbiAgICAgICAgOiBhcmdzKSk7XHJcbn07XHJcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcclxuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmIH0pID0+IHtcclxuICAgIHJldHVybiAocmVmICE9IG51bGxcclxuICAgICAgICA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZilcclxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmIH1cclxuICAgICAgICAgICAgOiByZWZcclxuICAgICAgICA6IG51bGwpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybVxyXG4gICAgOiBfY3JlYXRlVk5vZGUpO1xyXG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcclxuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdHlwZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZSA9IENvbW1lbnQkMTtcclxuICAgIH1cclxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlVk5vZGUgcmVjZWl2aW5nIGFuIGV4aXN0aW5nIHZub2RlLiBUaGlzIGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxyXG4gICAgICAgIC8vIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIi8+XHJcbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XHJcbiAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh0eXBlLCBwcm9wcywgdHJ1ZSAvKiBtZXJnZVJlZjogdHJ1ZSAqLyk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gY2xhc3MgY29tcG9uZW50IG5vcm1hbGl6YXRpb24uXHJcbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcclxuICAgIH1cclxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIC8vIGZvciByZWFjdGl2ZSBvciBwcm94eSBvYmplY3RzLCB3ZSBuZWVkIHRvIGNsb25lIGl0IHRvIGVuYWJsZSBtdXRhdGlvbi5cclxuICAgICAgICBpZiAoaXNQcm94eShwcm9wcykgfHwgSW50ZXJuYWxPYmplY3RLZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XHJcbiAgICAgICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChzdHlsZSkpIHtcclxuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcclxuICAgICAgICAgICAgLy8gbXV0YXRlZFxyXG4gICAgICAgICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGVuY29kZSB0aGUgdm5vZGUgdHlwZSBpbmZvcm1hdGlvbiBpbnRvIGEgYml0bWFwXHJcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxyXG4gICAgICAgID8gMSAvKiBFTEVNRU5UICovXHJcbiAgICAgICAgOiBpc1N1c3BlbnNlKHR5cGUpXHJcbiAgICAgICAgICAgID8gMTI4IC8qIFNVU1BFTlNFICovXHJcbiAgICAgICAgICAgIDogaXNUZWxlcG9ydCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi9cclxuICAgICAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24odHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAyIC8qIEZVTkNUSU9OQUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8gJiYgaXNQcm94eSh0eXBlKSkge1xyXG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcclxuICAgICAgICB3YXJuKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xyXG4gICAgICAgICAgICBgbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCwgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IGAgK1xyXG4gICAgICAgICAgICBgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGAgK1xyXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZub2RlID0ge1xyXG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxyXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcHJvcHMsXHJcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxyXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcclxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IG51bGwsXHJcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxyXG4gICAgICAgIHN1c3BlbnNlOiBudWxsLFxyXG4gICAgICAgIHNzQ29udGVudDogbnVsbCxcclxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxyXG4gICAgICAgIGRpcnM6IG51bGwsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogbnVsbCxcclxuICAgICAgICBlbDogbnVsbCxcclxuICAgICAgICBhbmNob3I6IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcclxuICAgICAgICBzdGF0aWNDb3VudDogMCxcclxuICAgICAgICBzaGFwZUZsYWcsXHJcbiAgICAgICAgcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbFxyXG4gICAgfTtcclxuICAgIC8vIHZhbGlkYXRlIGtleVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xyXG4gICAgICAgIHdhcm4oYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XHJcbiAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cclxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJlxyXG4gICAgICAgIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxyXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxyXG4gICAgICAgIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xyXG4gICAgICAgIGN1cnJlbnRCbG9jayAmJlxyXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXHJcbiAgICAgICAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXHJcbiAgICAgICAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXHJcbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxyXG4gICAgICAgIChwYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSAmJlxyXG4gICAgICAgIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxyXG4gICAgICAgIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXHJcbiAgICAgICAgcGF0Y2hGbGFnICE9PSAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XHJcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgTk9UIHVzaW5nIHNwcmVhZCBvciBleHRlbmQgdG8gYXZvaWQgdGhlIHJ1bnRpbWVcclxuICAgIC8vIGtleSBlbnVtZXJhdGlvbiBjb3N0LlxyXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcclxuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XHJcbiAgICBjb25zdCBjbG9uZWQgPSB7XHJcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXHJcbiAgICAgICAgX192X3NraXA6IHRydWUsXHJcbiAgICAgICAgdHlwZTogdm5vZGUudHlwZSxcclxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXHJcbiAgICAgICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxyXG4gICAgICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZlxyXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpc0FycmF5KHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcclxuICAgICAgICAgICAgOiByZWYsXHJcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcclxuICAgICAgICBjaGlsZHJlbjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhdGNoRmxhZyA9PT0gLTEgLyogSE9JU1RFRCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKVxyXG4gICAgICAgICAgICA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSlcclxuICAgICAgICAgICAgOiBjaGlsZHJlbixcclxuICAgICAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcclxuICAgICAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcclxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXHJcbiAgICAgICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXHJcbiAgICAgICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcclxuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxyXG4gICAgICAgIC8vIG5vdGU6IHBlcnNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cclxuICAgICAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXHJcbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XHJcbiAgICAgICAgICAgID8gcGF0Y2hGbGFnID09PSAtMSAvLyBob2lzdGVkIG5vZGVcclxuICAgICAgICAgICAgICAgID8gMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICAgICAgOiBwYXRjaEZsYWcgfCAxNiAvKiBGVUxMX1BST1BTICovXHJcbiAgICAgICAgICAgIDogcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxyXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxyXG4gICAgICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXHJcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcclxuICAgICAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxyXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxyXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxyXG4gICAgICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcclxuICAgICAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxyXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxyXG4gICAgICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcclxuICAgICAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXHJcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxyXG4gICAgICAgIGVsOiB2bm9kZS5lbCxcclxuICAgICAgICBhbmNob3I6IHZub2RlLmFuY2hvclxyXG4gICAgfTtcclxuICAgIHJldHVybiBjbG9uZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldiBvbmx5LCBmb3IgSE1SIG9mIGhvaXN0ZWQgdm5vZGVzIHJldXNlZCBpbiB2LWZvclxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XHJcbiAgICAvLyBBIHN0YXRpYyB2bm9kZSBjYW4gY29udGFpbiBtdWx0aXBsZSBzdHJpbmdpZmllZCBlbGVtZW50cywgYW5kIHRoZSBudW1iZXJcclxuICAgIC8vIG9mIGVsZW1lbnRzIGlzIG5lY2Vzc2FyeSBmb3IgaHlkcmF0aW9uLlxyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xyXG4gICAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSAnJywgXHJcbi8vIHdoZW4gdXNlZCBhcyB0aGUgdi1lbHNlIGJyYW5jaCwgdGhlIGNvbW1lbnQgbm9kZSBtdXN0IGJlIGNyZWF0ZWQgYXMgYVxyXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxyXG5hc0Jsb2NrID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBhc0Jsb2NrXHJcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQkMSwgbnVsbCwgdGV4dCkpXHJcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50JDEsIG51bGwsIHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XHJcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQkMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xyXG4gICAgICAgIC8vIGZyYWdtZW50XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKEZyYWdtZW50LCBudWxsLCBcclxuICAgICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcclxuICAgICAgICBjaGlsZC5zbGljZSgpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXHJcbiAgICAgICAgLy8gYWx3YXlzIHByb2R1Y2UgYWxsLXZub2RlIGNoaWxkcmVuIGFycmF5c1xyXG4gICAgICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xyXG4gICAgfVxyXG59XHJcbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXHJcbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XHJcbiAgICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xyXG4gICAgbGV0IHR5cGUgPSAwO1xyXG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHR5cGUgPSAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovIHx8IHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzbG90IHRvIHBsYWluIGNoaWxkcmVuIGZvciBwbGFpbiBlbGVtZW50IGFuZCBUZWxlcG9ydFxyXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcclxuICAgICAgICAgICAgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIF9jIG1hcmtlciBpcyBhZGRlZCBieSB3aXRoQ3R4KCkgaW5kaWNhdGluZyB0aGlzIGlzIGEgY29tcGlsZWQgc2xvdFxyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTTE9UU19DSElMRFJFTiAqLztcclxuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xyXG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIEZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMSAvKiBTVEFCTEUgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBEWU5BTUlDICovO1xyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XHJcbiAgICAgICAgdHlwZSA9IDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xyXG4gICAgICAgIC8vIGZvcmNlIHRlbGVwb3J0IGNoaWxkcmVuIHRvIGFycmF5IHNvIGl0IGNhbiBiZSBtb3ZlZCBhcm91bmRcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFRFWFRfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xyXG4gICAgY29uc3QgcmV0ID0gZXh0ZW5kKHt9LCBhcmdzWzBdKTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPT0gaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNvbWluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0pIHtcclxuICAgIGxldCByZXQ7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCByZW5kZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XHJcbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmZuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzbG90cztcclxufVxuXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxyXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxyXG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcclxuZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xyXG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB3YXJuKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcclxuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcclxuICAgICAgICBzbG90ID0gKCkgPT4gW107XHJcbiAgICB9XHJcbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcclxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXHJcbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxyXG4gICAgLy8gZW5hYmxlIGl0LlxyXG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xyXG4gICAgICAgIHNsb3QuX2QgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9wZW5CbG9jaygpO1xyXG4gICAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XHJcbiAgICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7IGtleTogcHJvcHMua2V5IHx8IGBfJHtuYW1lfWAgfSwgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLCB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgLyogU1RBQkxFICovXHJcbiAgICAgICAgPyA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9cclxuICAgICAgICA6IC0yIC8qIEJBSUwgKi8pO1xyXG4gICAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xyXG4gICAgICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgJy1zJ107XHJcbiAgICB9XHJcbiAgICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XHJcbiAgICAgICAgc2xvdC5fZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVuZGVyZWQ7XHJcbn1cclxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcclxuICAgIHJldHVybiB2bm9kZXMuc29tZShjaGlsZCA9PiB7XHJcbiAgICAgICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQkMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxyXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICAgICAgPyB2bm9kZXNcclxuICAgICAgICA6IG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIEZvciBwcmVmaXhpbmcga2V5cyBpbiB2LW9uPVwib2JqXCIgd2l0aCBcIm9uXCJcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqKSB7XHJcbiAgICBjb25zdCByZXQgPSB7fTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICB3YXJuKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJldFt0b0hhbmRsZXJLZXkoa2V5KV0gPSBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cblxuLyoqXHJcbiAqICMyNDM3IEluIFZ1ZSAzLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYSBwdWJsaWMgaW5zdGFuY2UgcHJveHkgYnV0XHJcbiAqIHRoZXkgZXhpc3QgaW4gdGhlIGludGVybmFsIHBhcmVudCBjaGFpbi4gRm9yIGNvZGUgdGhhdCByZWxpZXMgb24gdHJhdmVyc2luZ1xyXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXHJcbiAqL1xyXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XHJcbiAgICBpZiAoIWkpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcclxuICAgICAgICByZXR1cm4gaS5leHBvc2VkID8gaS5leHBvc2VkIDogaS5wcm94eTtcclxuICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XHJcbn07XHJcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xyXG4gICAgJDogaSA9PiBpLFxyXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXHJcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXHJcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxyXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcclxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXHJcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxyXG4gICAgJHBhcmVudDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXHJcbiAgICAkcm9vdDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxyXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxyXG4gICAgJG9wdGlvbnM6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSksXHJcbiAgICAkZm9yY2VVcGRhdGU6IGkgPT4gKCkgPT4gcXVldWVKb2IoaS51cGRhdGUpLFxyXG4gICAgJG5leHRUaWNrOiBpID0+IG5leHRUaWNrLmJpbmQoaS5wcm94eSksXHJcbiAgICAkd2F0Y2g6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QKVxyXG59KTtcclxuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgLy8gbGV0IEB2dWUvcmVhY3Rpdml0eSBrbm93IGl0IHNob3VsZCBuZXZlciBvYnNlcnZlIFZ1ZSBwdWJsaWMgaW5zdGFuY2VzLlxyXG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIiAvKiBTS0lQICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmb3IgaW50ZXJuYWwgZm9ybWF0dGVycyB0byBrbm93IHRoYXQgdGhpcyBpcyBhIFZ1ZSBpbnN0YW5jZVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5ID09PSAnX19pc1Z1ZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRhdGEgLyBwcm9wcyAvIGN0eFxyXG4gICAgICAgIC8vIFRoaXMgZ2V0dGVyIGdldHMgY2FsbGVkIGZvciBldmVyeSBwcm9wZXJ0eSBhY2Nlc3Mgb24gdGhlIHJlbmRlciBjb250ZXh0XHJcbiAgICAgICAgLy8gZHVyaW5nIHJlbmRlciBhbmQgaXMgYSBtYWpvciBob3RzcG90LiBUaGUgbW9zdCBleHBlbnNpdmUgcGFydCBvZiB0aGlzXHJcbiAgICAgICAgLy8gaXMgdGhlIG11bHRpcGxlIGhhc093bigpIGNhbGxzLiBJdCdzIG11Y2ggZmFzdGVyIHRvIGRvIGEgc2ltcGxlIHByb3BlcnR5XHJcbiAgICAgICAgLy8gYWNjZXNzIG9uIGEgcGxhaW4gb2JqZWN0LCBzbyB3ZSB1c2UgYW4gYWNjZXNzQ2FjaGUgb2JqZWN0ICh3aXRoIG51bGxcclxuICAgICAgICAvLyBwcm90b3R5cGUpIHRvIG1lbW9pemUgd2hhdCBhY2Nlc3MgdHlwZSBhIGtleSBjb3JyZXNwb25kcyB0by5cclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIGlmIChrZXlbMF0gIT09ICckJykge1xyXG4gICAgICAgICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIFNFVFVQICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBEQVRBICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBDT05URVhUICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIFBST1BTICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0OiBqdXN0IGZhbGx0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMCAvKiBTRVRVUCAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBEQVRBICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiZcclxuICAgICAgICAgICAgICAgIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIFBST1BTICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX19WVUVfT1BUSU9OU19BUElfXyB8fCBzaG91bGRDYWNoZUFjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogT1RIRVIgKi87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xyXG4gICAgICAgIGxldCBjc3NNb2R1bGUsIGdsb2JhbFByb3BlcnRpZXM7XHJcbiAgICAgICAgLy8gcHVibGljICR4eHggcHJvcGVydGllc1xyXG4gICAgICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJyRhdHRycycpIHtcclxuICAgICAgICAgICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxyXG4gICAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiZcclxuICAgICAgICAgICAgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3NzTW9kdWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIC8vIHVzZXIgbWF5IHNldCBjdXN0b20gcHJvcGVydGllcyB0byBgdGhpc2AgdGhhdCBzdGFydCB3aXRoIGAkYFxyXG4gICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBDT05URVhUICovO1xyXG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgKChnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyksXHJcbiAgICAgICAgICAgIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKSkge1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgKCFpc1N0cmluZyhrZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXHJcbiAgICAgICAgICAgICAgICBrZXkuaW5kZXhPZignX192JykgIT09IDApKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiZcclxuICAgICAgICAgICAgICAgIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykgJiZcclxuICAgICAgICAgICAgICAgIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBgICtcclxuICAgICAgICAgICAgICAgICAgICBgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpbnN0YW5jZSA9PT0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHdhcyBhY2Nlc3NlZCBkdXJpbmcgcmVuZGVyIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBidXQgaXMgbm90IGRlZmluZWQgb24gaW5zdGFuY2UuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHNldHVwU3RhdGVba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcclxuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGhhc093bihpbnN0YW5jZS5wcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5WzBdID09PSAnJCcgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmAsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBoYXMoeyBfOiB7IGRhdGEsIHNldHVwU3RhdGUsIGFjY2Vzc0NhY2hlLCBjdHgsIGFwcENvbnRleHQsIHByb3BzT3B0aW9ucyB9IH0sIGtleSkge1xyXG4gICAgICAgIGxldCBub3JtYWxpemVkUHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIChhY2Nlc3NDYWNoZVtrZXldICE9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkgfHxcclxuICAgICAgICAgICAgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkgfHxcclxuICAgICAgICAgICAgKChub3JtYWxpemVkUHJvcHMgPSBwcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihjdHgsIGtleSkgfHxcclxuICAgICAgICAgICAgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHxcclxuICAgICAgICAgICAgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSkpO1xyXG4gICAgfVxyXG59O1xyXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSkge1xyXG4gICAgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLm93bktleXMgPSAodGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgd2FybihgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIGAgK1xyXG4gICAgICAgICAgICBgVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYCk7XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xyXG4gICAgfTtcclxufVxyXG5jb25zdCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSBleHRlbmQoe30sIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycywge1xyXG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoIGZvciB1bnNjb3BhYmxlcyB3aGVuIHVzaW5nIGB3aXRoYCBibG9ja1xyXG4gICAgICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuZ2V0KHRhcmdldCwga2V5LCB0YXJnZXQpO1xyXG4gICAgfSxcclxuICAgIGhhcyhfLCBrZXkpIHtcclxuICAgICAgICBjb25zdCBoYXMgPSBrZXlbMF0gIT09ICdfJyAmJiAhaXNHbG9iYWxseVdoaXRlbGlzdGVkKGtleSk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzO1xyXG4gICAgfVxyXG59KTtcclxuLy8gSW4gZGV2IG1vZGUsIHRoZSBwcm94eSB0YXJnZXQgZXhwb3NlcyB0aGUgc2FtZSBwcm9wZXJ0aWVzIGFzIHNlZW4gb24gYHRoaXNgXHJcbi8vIGZvciBlYXNpZXIgY29uc29sZSBpbnNwZWN0aW9uLiBJbiBwcm9kIG1vZGUgaXQgd2lsbCBiZSBhbiBlbXB0eSBvYmplY3Qgc29cclxuLy8gdGhlc2UgcHJvcGVydGllcyBkZWZpbml0aW9ucyBjYW4gYmUgc2tpcHBlZC5cclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0ge307XHJcbiAgICAvLyBleHBvc2UgaW50ZXJuYWwgaW5zdGFuY2UgZm9yIHByb3h5IGhhbmRsZXJzXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgX2AsIHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZVxyXG4gICAgfSk7XHJcbiAgICAvLyBleHBvc2UgcHVibGljIHByb3BlcnRpZXNcclxuICAgIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxyXG4gICAgICAgICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXHJcbiAgICAgICAgICAgIC8vIGJ1dCBuZWVkZWQgdG8gcHJldmVudCBzZXQgZXJyb3JzXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XHJcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcclxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XHJcbiAgICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyB8fCBrZXlbMF0gPT09ICdfJykge1xyXG4gICAgICAgICAgICB3YXJuKGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiBgICtcclxuICAgICAgICAgICAgICAgIGB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXHJcbiAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xyXG5sZXQgdWlkJDEgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xyXG4gICAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XHJcbiAgICAvLyBpbmhlcml0IHBhcmVudCBhcHAgY29udGV4dCAtIG9yIC0gaWYgcm9vdCwgYWRvcHQgZnJvbSByb290IHZub2RlXHJcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgdWlkOiB1aWQkMSsrLFxyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIGFwcENvbnRleHQsXHJcbiAgICAgICAgcm9vdDogbnVsbCxcclxuICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXHJcbiAgICAgICAgdXBkYXRlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlcjogbnVsbCxcclxuICAgICAgICBwcm94eTogbnVsbCxcclxuICAgICAgICBleHBvc2VkOiBudWxsLFxyXG4gICAgICAgIHdpdGhQcm94eTogbnVsbCxcclxuICAgICAgICBlZmZlY3RzOiBudWxsLFxyXG4gICAgICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxyXG4gICAgICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxyXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcclxuICAgICAgICAvLyBsb2NhbCByZXNvdmxlZCBhc3NldHNcclxuICAgICAgICBjb21wb25lbnRzOiBudWxsLFxyXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXHJcbiAgICAgICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcclxuICAgICAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcclxuICAgICAgICAvLyBlbWl0XHJcbiAgICAgICAgZW1pdDogbnVsbCxcclxuICAgICAgICBlbWl0dGVkOiBudWxsLFxyXG4gICAgICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcclxuICAgICAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgLy8gaW5oZXJpdEF0dHJzXHJcbiAgICAgICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcclxuICAgICAgICAvLyBzdGF0ZVxyXG4gICAgICAgIGN0eDogRU1QVFlfT0JKLFxyXG4gICAgICAgIGRhdGE6IEVNUFRZX09CSixcclxuICAgICAgICBwcm9wczogRU1QVFlfT0JKLFxyXG4gICAgICAgIGF0dHJzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2xvdHM6IEVNUFRZX09CSixcclxuICAgICAgICByZWZzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwQ29udGV4dDogbnVsbCxcclxuICAgICAgICAvLyBzdXNwZW5zZSByZWxhdGVkXHJcbiAgICAgICAgc3VzcGVuc2UsXHJcbiAgICAgICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxyXG4gICAgICAgIGFzeW5jRGVwOiBudWxsLFxyXG4gICAgICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgICAgIC8vIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXHJcbiAgICAgICAgYmM6IG51bGwsXHJcbiAgICAgICAgYzogbnVsbCxcclxuICAgICAgICBibTogbnVsbCxcclxuICAgICAgICBtOiBudWxsLFxyXG4gICAgICAgIGJ1OiBudWxsLFxyXG4gICAgICAgIHU6IG51bGwsXHJcbiAgICAgICAgdW06IG51bGwsXHJcbiAgICAgICAgYnVtOiBudWxsLFxyXG4gICAgICAgIGRhOiBudWxsLFxyXG4gICAgICAgIGE6IG51bGwsXHJcbiAgICAgICAgcnRnOiBudWxsLFxyXG4gICAgICAgIHJ0YzogbnVsbCxcclxuICAgICAgICBlYzogbnVsbCxcclxuICAgICAgICBzcDogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcclxuICAgIH1cclxuICAgIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xyXG4gICAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xyXG4gICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbn07XHJcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbmZpZykge1xyXG4gICAgY29uc3QgYXBwSXNOYXRpdmVUYWcgPSBjb25maWcuaXNOYXRpdmVUYWcgfHwgTk87XHJcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGFwcElzTmF0aXZlVGFnKG5hbWUpKSB7XHJcbiAgICAgICAgd2FybignRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcclxuICAgIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLztcclxufVxyXG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBpc1NTUjtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcclxuICAgIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcclxuICAgIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsXHJcbiAgICAgICAgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUilcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIHNldHVwUmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XHJcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGlmIChDb21wb25lbnQubmFtZSkge1xyXG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFwiY29tcGlsZXJPcHRpb25zXCIgaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZSB0aGF0IGAgK1xyXG4gICAgICAgICAgICAgICAgYGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyLiBTaW5jZSB5b3UgYXJlIHVzaW5nIGEgcnVudGltZS1vbmx5IGAgK1xyXG4gICAgICAgICAgICAgICAgYGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcclxuICAgIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIC8vIDEuIGNyZWF0ZSBwdWJsaWMgaW5zdGFuY2UgLyByZW5kZXIgcHJveHlcclxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxyXG4gICAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIC8vIDIuIGNhbGwgc2V0dXAoKVxyXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gKGluc3RhbmNlLnNldHVwQ29udGV4dCA9XHJcbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNldHVwLCBpbnN0YW5jZSwgMCAvKiBTRVRVUF9GVU5DVElPTiAqLywgWyhwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcywgc2V0dXBDb250ZXh0XSk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzU1NSKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaGVyZSBhbmQgd2FpdCBmb3IgcmUtZW50cnkuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGFuIGlubGluZSByZW5kZXIgZnVuY3Rpb25cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBgICtcclxuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYmluZGluZ3MuXHJcbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgd2Fybihgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XHJcbiAgICB9XHJcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xyXG59XHJcbmxldCBjb21waWxlO1xyXG4vLyBkZXYgb25seVxyXG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XHJcbi8qKlxyXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxyXG4gKiBOb3RlIHRoZSBleHBvcnRlZCBtZXRob2QgdXNlcyBhbnkgdG8gYXZvaWQgZC50cyByZWx5aW5nIG9uIHRoZSBjb21waWxlciB0eXBlcy5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XHJcbiAgICBjb21waWxlID0gX2NvbXBpbGU7XHJcbn1cclxuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xyXG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcclxuICAgIC8vIHRlbXBsYXRlIC8gcmVuZGVyIGZ1bmN0aW9uIG5vcm1hbGl6YXRpb25cclxuICAgIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XHJcbiAgICAgICAgLy8gY291bGQgYmUgc2V0IGZyb20gc2V0dXAoKVxyXG4gICAgICAgIGlmIChjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gQ29tcG9uZW50LnRlbXBsYXRlO1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGlzQ3VzdG9tRWxlbWVudCwgY29tcGlsZXJPcHRpb25zIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKGV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGltaXRlcnNcclxuICAgICAgICAgICAgICAgIH0sIGNvbXBpbGVyT3B0aW9ucyksIGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gKENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUCk7XHJcbiAgICAgICAgLy8gZm9yIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2tzLCB0aGUgcmVuZGVyXHJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcclxuICAgICAgICAvLyBhbHNvIG9ubHkgYWxsb3dzIGEgd2hpdGVsaXN0IG9mIGdsb2JhbHMgdG8gZmFsbHRocm91Z2guXHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5fcmMpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uud2l0aFByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzdXBwb3J0IGZvciAyLnggb3B0aW9uc1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIShmYWxzZSApKSB7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyB3YXJuIG1pc3NpbmcgdGVtcGxhdGUvcmVuZGVyXHJcbiAgICAvLyB0aGUgcnVudGltZSBjb21waWxhdGlvbiBvZiB0ZW1wbGF0ZSBpbiBTU1IgaXMgZG9uZSBieSBzZXJ2ZXItcmVuZGVyXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IGAgK1xyXG4gICAgICAgICAgICAgICAgYHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICtcclxuICAgICAgICAgICAgICAgIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcclxuICAgICAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgYXR0ckhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiAodGFyZ2V0LCBrZXkpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcclxuICAgIH0sXHJcbiAgICBzZXQ6ICgpID0+IHtcclxuICAgICAgICB3YXJuKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBleHBvc2UgPSBleHBvc2VkID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLmV4cG9zZWQpIHtcclxuICAgICAgICAgICAgd2FybihgZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSBwcm94eVJlZnMoZXhwb3NlZCk7XHJcbiAgICB9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIC8vIFdlIHVzZSBnZXR0ZXJzIGluIGRldiBpbiBjYXNlIGxpYnMgbGlrZSB0ZXN0LXV0aWxzIG92ZXJ3cml0ZSBpbnN0YW5jZVxyXG4gICAgICAgIC8vIHByb3BlcnRpZXMgKG92ZXJ3cml0ZXMgc2hvdWxkIG5vdCBiZSBkb25lIGluIHByb2QpXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRySGFuZGxlcnMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgc2xvdHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnNsb3RzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IGVtaXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXhwb3NlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhdHRyczogaW5zdGFuY2UuYXR0cnMsXHJcbiAgICAgICAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcclxuICAgICAgICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcclxuICAgICAgICAgICAgZXhwb3NlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyByZWNvcmQgZWZmZWN0cyBjcmVhdGVkIGR1cmluZyBhIGNvbXBvbmVudCdzIHNldHVwKCkgc28gdGhhdCB0aGV5IGNhbiBiZVxyXG4vLyBzdG9wcGVkIHdoZW4gdGhlIGNvbXBvbmVudCB1bm1vdW50c1xyXG5mdW5jdGlvbiByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KGVmZmVjdCwgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIChpbnN0YW5jZS5lZmZlY3RzIHx8IChpbnN0YW5jZS5lZmZlY3RzID0gW10pKS5wdXNoKGVmZmVjdCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcclxuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCBjID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCAnJyk7XHJcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpXHJcbiAgICAgICAgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWVcclxuICAgICAgICA6IENvbXBvbmVudC5uYW1lO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcclxuICAgIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xyXG4gICAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG1hdGNoWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcclxuICAgICAgICAvLyB0cnkgdG8gaW5mZXIgdGhlIG5hbWUgYmFzZWQgb24gcmV2ZXJzZSByZXNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBuYW1lID1cclxuICAgICAgICAgICAgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuY29tcG9uZW50cyB8fFxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50cykgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYW1lID8gY2xhc3NpZnkobmFtZSkgOiBpc1Jvb3QgPyBgQXBwYCA6IGBBbm9ueW1vdXNgO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiAnX192Y2NPcHRzJyBpbiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucyk7XHJcbiAgICByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KGMuZWZmZWN0KTtcclxuICAgIHJldHVybiBjO1xyXG59XG5cbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZVByb3BzKCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGRlZmluZVByb3BzKCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcclxuICAgICAgICAgICAgYDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBgICtcclxuICAgICAgICAgICAgYGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gZGVmaW5lRW1pdCgpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVFbWl0KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcclxuICAgICAgICAgICAgYDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBgICtcclxuICAgICAgICAgICAgYGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gdXNlQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWkpIHtcclxuICAgICAgICB3YXJuKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XHJcbn1cblxuLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xyXG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBpZiAobCA9PT0gMikge1xyXG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgLy8gc2luZ2xlIHZub2RlIHdpdGhvdXQgcHJvcHNcclxuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobCA+IDMpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHNzckNvbnRleHRgIDogYGApO1xyXG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcclxuICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICB3YXJuKGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIGAgK1xyXG4gICAgICAgICAgICAgICAgYHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdHg7XHJcbiAgICB9XHJcbn07XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzNiYTc3NicgfTtcclxuICAgIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMwYjFiYzknIH07XHJcbiAgICBjb25zdCBzdHJpbmdTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojYjYyZTI0JyB9O1xyXG4gICAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiM5ZDI4OGMnIH07XHJcbiAgICAvLyBjdXN0b20gZm9ybWF0dGVyIGZvciBDaHJvbWVcclxuICAgIC8vIGh0dHBzOi8vd3d3Lm1hdHR6ZXVuZXJ0LmNvbS8yMDE2LzAyLzE5L2N1c3RvbS1jaHJvbWUtZGV2dG9vbHMtb2JqZWN0LWZvcm1hdHRlcnMuaHRtbFxyXG4gICAgY29uc3QgZm9ybWF0dGVyID0ge1xyXG4gICAgICAgIGhlYWRlcihvYmopIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBhbHNvIGZvcm1hdCBDb21wb25lbnRQdWJsaWNJbnN0YW5jZSAmIGN0eC5zbG90cy9hdHRycyBpbiBzZXR1cFxyXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouX19pc1Z1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsnZGl2JywgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iai52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgYD5gXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgJ1JlYWN0aXZlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXHJcbiAgICAgICAgICAgICAgICAgICAgYD4ke2lzUmVhZG9ubHkob2JqKSA/IGAgKHJlYWRvbmx5KWAgOiBgYH1gXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhZG9ubHkob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgJ1JlYWRvbmx5J10sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXHJcbiAgICAgICAgICAgICAgICAgICAgJz4nXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFzQm9keShvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmogJiYgb2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgYmxvY2tzID0gW107XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygncHJvcHMnLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdzZXR1cCcsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdkYXRhJywgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2NvbXB1dGVkJyk7XHJcbiAgICAgICAgaWYgKGNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2NvbXB1dGVkJywgY29tcHV0ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2luamVjdCcpO1xyXG4gICAgICAgIGlmIChpbmplY3RlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdpbmplY3RlZCcsIGluamVjdGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJsb2Nrcy5wdXNoKFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnc3BhbicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArICc7b3BhY2l0eTowLjY2J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICckIChpbnRlcm5hbCk6ICdcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgWydvYmplY3QnLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cclxuICAgICAgICBdKTtcclxuICAgICAgICByZXR1cm4gYmxvY2tzO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VCbG9jayh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICB0YXJnZXQgPSBleHRlbmQoe30sIHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywge31dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgeyBzdHlsZTogJ2xpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtJyB9LFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2NvbG9yOiM0NzY1ODInXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdHlwZVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ3BhZGRpbmctbGVmdDoxLjI1ZW0nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXModGFyZ2V0KS5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIGtleXdvcmRTdHlsZSwga2V5ICsgJzogJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKHRhcmdldFtrZXldLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBudW1iZXJTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgc3RyaW5nU3R5bGUsIEpTT04uc3RyaW5naWZ5KHYpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywga2V5d29yZFN0eWxlLCB2XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnb2JqZWN0JywgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RLZXlzKGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oQ29tcCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IG9wdHMgPSBDb21wW3R5cGVdO1xyXG4gICAgICAgIGlmICgoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkpIHx8XHJcbiAgICAgICAgICAgIChpc09iamVjdChvcHRzKSAmJiBrZXkgaW4gb3B0cykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wLmV4dGVuZHMgJiYgaXNLZXlPZlR5cGUoQ29tcC5leHRlbmRzLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZShtID0+IGlzS2V5T2ZUeXBlKG0sIGtleSwgdHlwZSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xyXG4gICAgICAgIGlmICh2Ll9zaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2LmVmZmVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYENvbXB1dGVkUmVmYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGBSZWZgO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcclxuICAgIH1cclxufVxuXG4vLyBDb3JlIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgdmVyc2lvbiA9IFwiMy4xLjFcIjtcclxuLyoqXHJcbiAqIFNTUiB1dGlscyBmb3IgXFxAdnVlL3NlcnZlci1yZW5kZXJlci4gT25seSBleHBvc2VkIGluIGNqcyBidWlsZHMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3Qgc3NyVXRpbHMgPSAobnVsbCk7XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWwgb25seSBleHBvc2VkIGluIGNvbXBhdCBidWlsZHNcclxuICovXHJcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xyXG4vKipcclxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzLlxyXG4gKi9cclxuY29uc3QgY29tcGF0VXRpbHMgPSAobnVsbCk7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBDb21tZW50JDEgYXMgQ29tbWVudCwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXBhdFV0aWxzLCBjb21wdXRlZCwgY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUVtaXQsIGRlZmluZVByb3BzLCBkZXZ0b29scywgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIGgsIGhhbmRsZUVycm9yLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbmplY3QsIGlzUnVudGltZU9ubHksIGlzVk5vZGUsIG1lcmdlUHJvcHMsIG5leHRUaWNrLCBvbkFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvbkJlZm9yZVVwZGF0ZSwgb25EZWFjdGl2YXRlZCwgb25FcnJvckNhcHR1cmVkLCBvbk1vdW50ZWQsIG9uUmVuZGVyVHJhY2tlZCwgb25SZW5kZXJUcmlnZ2VyZWQsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHVzaFNjb3BlSWQsIHF1ZXVlUG9zdEZsdXNoQ2IsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXJMaXN0LCByZW5kZXJTbG90LCByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgcmVzb2x2ZUZpbHRlciwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCB0b0hhbmRsZXJzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHVzZUNvbnRleHQsIHVzZVNTUkNvbnRleHQsIHVzZVRyYW5zaXRpb25TdGF0ZSwgdmVyc2lvbiwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0LCB3aXRoQ3R4LCB3aXRoRGlyZWN0aXZlcywgd2l0aFNjb3BlSWQgfTtcbiIsImltcG9ydCB7IGNhbWVsaXplLCB3YXJuLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgZ2V0Q3VycmVudEluc3RhbmNlLCBvbk1vdW50ZWQsIHdhdGNoRWZmZWN0LCBvblVwZGF0ZWQsIEZyYWdtZW50LCBoLCBCYXNlVHJhbnNpdGlvbiwgdXNlVHJhbnNpdGlvblN0YXRlLCB0b1JhdywgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBzZXRUcmFuc2l0aW9uSG9va3MsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIGNyZWF0ZVZOb2RlLCBjcmVhdGVSZW5kZXJlciwgaXNSdW50aW1lT25seSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIgfSBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5leHBvcnQgKiBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNBcnJheSwgaHlwaGVuYXRlLCBjYXBpdGFsaXplLCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNPbiwgaXNNb2RlbExpc3RlbmVyLCBpc0Z1bmN0aW9uLCBFTVBUWV9PQkosIGV4dGVuZCwgaXNPYmplY3QsIHRvTnVtYmVyLCBpbnZva2VBcnJheUZucywgbG9vc2VJbmRleE9mLCBpc1NldCwgbG9vc2VFcXVhbCwgaXNIVE1MVGFnLCBpc1NWR1RhZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCBkb2MgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbCk7XHJcbmxldCB0ZW1wQ29udGFpbmVyO1xyXG5sZXQgdGVtcFNWR0NvbnRhaW5lcjtcclxuY29uc3Qgbm9kZU9wcyA9IHtcclxuICAgIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGNoaWxkID0+IHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlRWxlbWVudDogKHRhZywgaXNTVkcsIGlzLCBwcm9wcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsID0gaXNTVkdcclxuICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpXHJcbiAgICAgICAgICAgIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCBpcyA/IHsgaXMgfSA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgaWYgKHRhZyA9PT0gJ3NlbGVjdCcgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgcHJvcHMubXVsdGlwbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlVGV4dDogdGV4dCA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXHJcbiAgICBjcmVhdGVDb21tZW50OiB0ZXh0ID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxyXG4gICAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcclxuICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9LFxyXG4gICAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xyXG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIH0sXHJcbiAgICBwYXJlbnROb2RlOiBub2RlID0+IG5vZGUucGFyZW50Tm9kZSxcclxuICAgIG5leHRTaWJsaW5nOiBub2RlID0+IG5vZGUubmV4dFNpYmxpbmcsXHJcbiAgICBxdWVyeVNlbGVjdG9yOiBzZWxlY3RvciA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXHJcbiAgICBzZXRTY29wZUlkKGVsLCBpZCkge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgJycpO1xyXG4gICAgfSxcclxuICAgIGNsb25lTm9kZShlbCkge1xyXG4gICAgICAgIGNvbnN0IGNsb25lZCA9IGVsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAvLyAjMzA3MlxyXG4gICAgICAgIC8vIC0gaW4gYHBhdGNoRE9NUHJvcGAsIHdlIHN0b3JlIHRoZSBhY3R1YWwgdmFsdWUgaW4gdGhlIGBlbC5fdmFsdWVgIHByb3BlcnR5LlxyXG4gICAgICAgIC8vIC0gbm9ybWFsbHksIGVsZW1lbnRzIHVzaW5nIGA6dmFsdWVgIGJpbmRpbmdzIHdpbGwgbm90IGJlIGhvaXN0ZWQsIGJ1dCBpZlxyXG4gICAgICAgIC8vICAgdGhlIGJvdW5kIHZhbHVlIGlzIGEgY29uc3RhbnQsIGUuZy4gYDp2YWx1ZT1cInRydWVcImAgLSB0aGV5IGRvIGdldFxyXG4gICAgICAgIC8vICAgaG9pc3RlZC5cclxuICAgICAgICAvLyAtIGluIHByb2R1Y3Rpb24sIGhvaXN0ZWQgbm9kZXMgYXJlIGNsb25lZCB3aGVuIHN1YnNlcXVlbnQgaW5zZXJ0cywgYnV0XHJcbiAgICAgICAgLy8gICBjbG9uZU5vZGUoKSBkb2VzIG5vdCBjb3B5IHRoZSBjdXN0b20gcHJvcGVydHkgd2UgYXR0YWNoZWQuXHJcbiAgICAgICAgLy8gLSBUaGlzIG1heSBuZWVkIHRvIGFjY291bnQgZm9yIG90aGVyIGN1c3RvbSBET00gcHJvcGVydGllcyB3ZSBhdHRhY2ggdG9cclxuICAgICAgICAvLyAgIGVsZW1lbnRzIGluIGFkZGl0aW9uIHRvIGBfdmFsdWVgIGluIHRoZSBmdXR1cmUuXHJcbiAgICAgICAgaWYgKGBfdmFsdWVgIGluIGVsKSB7XHJcbiAgICAgICAgICAgIGNsb25lZC5fdmFsdWUgPSBlbC5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZWQ7XHJcbiAgICB9LFxyXG4gICAgLy8gX19VTlNBRkVfX1xyXG4gICAgLy8gUmVhc29uOiBpbm5lckhUTUwuXHJcbiAgICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXHJcbiAgICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxyXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgaXNTVkcpIHtcclxuICAgICAgICBjb25zdCB0ZW1wID0gaXNTVkdcclxuICAgICAgICAgICAgPyB0ZW1wU1ZHQ29udGFpbmVyIHx8XHJcbiAgICAgICAgICAgICAgICAodGVtcFNWR0NvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsICdzdmcnKSlcclxuICAgICAgICAgICAgOiB0ZW1wQ29udGFpbmVyIHx8ICh0ZW1wQ29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcclxuICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgY29uc3QgZmlyc3QgPSB0ZW1wLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBmaXJzdDtcclxuICAgICAgICBsZXQgbGFzdCA9IG5vZGU7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgbGFzdCA9IG5vZGU7XHJcbiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0KG5vZGUsIHBhcmVudCwgYW5jaG9yKTtcclxuICAgICAgICAgICAgbm9kZSA9IHRlbXAuZmlyc3RDaGlsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtmaXJzdCwgbGFzdF07XHJcbiAgICB9XHJcbn07XG5cbi8vIGNvbXBpbGVyIHNob3VsZCBub3JtYWxpemUgY2xhc3MgKyA6Y2xhc3MgYmluZGluZ3Mgb24gdGhlIHNhbWUgZWxlbWVudFxyXG4vLyBpbnRvIGEgc2luZ2xlIGJpbmRpbmcgWydzdGF0aWNDbGFzcycsIGR5bmFtaWNdXHJcbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICB2YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRpcmVjdGx5IHNldHRpbmcgY2xhc3NOYW1lIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBzZXRBdHRyaWJ1dGUgaW4gdGhlb3J5XHJcbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBlbGVtZW50IGR1cmluZyBhIHRyYW5zaXRpb24sIHRha2UgdGhlIHRlbXBvcmFyeSB0cmFuc2l0aW9uXHJcbiAgICAgICAgLy8gY2xhc3NlcyBpbnRvIGFjY291bnQuXHJcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbkNsYXNzZXMgPSBlbC5fdnRjO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZVxyXG4gICAgICAgICAgICAgICAgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXVxyXG4gICAgICAgICAgICAgICAgOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKCcgJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcclxuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICBpZiAoIW5leHQpIHtcclxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0cmluZyhuZXh0KSkge1xyXG4gICAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcclxuICAgICAgICAgICAgLy8gaW5kaWNhdGVzIHRoYXQgdGhlIGBkaXNwbGF5YCBvZiB0aGUgZWxlbWVudCBpcyBjb250cm9sbGVkIGJ5IGB2LXNob3dgLFxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBhbHdheXMga2VlcCB0aGUgY3VycmVudCBgZGlzcGxheWAgdmFsdWUgcmVnYXJkbGVzcyBvZiB0aGUgYHN0eWxlYCB2YWx1ZSxcclxuICAgICAgICAgICAgLy8gdGh1cyBoYW5kaW5nIG92ZXIgY29udHJvbCB0byBgdi1zaG93YC5cclxuICAgICAgICAgICAgaWYgKCdfdm9kJyBpbiBlbCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XHJcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIG5leHRba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2ICYmICFpc1N0cmluZyhwcmV2KSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcclxuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xyXG4gICAgICAgIHZhbC5mb3JFYWNoKHYgPT4gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHYpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy0tJykpIHtcclxuICAgICAgICAgICAgLy8gY3VzdG9tIHByb3BlcnR5IGRlZmluaXRpb25cclxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeGVkID0gYXV0b1ByZWZpeChzdHlsZSwgbmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIC8vICFpbXBvcnRhbnRcclxuICAgICAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGh5cGhlbmF0ZShwcmVmaXhlZCksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlW3ByZWZpeGVkXSA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xyXG5jb25zdCBwcmVmaXhDYWNoZSA9IHt9O1xyXG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XHJcbiAgICBjb25zdCBjYWNoZWQgPSBwcmVmaXhDYWNoZVtyYXdOYW1lXTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkO1xyXG4gICAgfVxyXG4gICAgbGV0IG5hbWUgPSBjYW1lbGl6ZShyYXdOYW1lKTtcclxuICAgIGlmIChuYW1lICE9PSAnZmlsdGVyJyAmJiBuYW1lIGluIHN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IG5hbWUpO1xyXG4gICAgfVxyXG4gICAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIG5hbWU7XHJcbiAgICAgICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBwcmVmaXhlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJhd05hbWU7XHJcbn1cblxuY29uc3QgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcclxuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UpIHtcclxuICAgIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aCgneGxpbms6JykpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gbm90ZSB3ZSBhcmUgb25seSBjaGVja2luZyBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdCBkb24ndCBoYXZlIGFcclxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRvbSBwcm9wIG9mIHRoZSBzYW1lIG5hbWUgaGVyZS5cclxuICAgICAgICBjb25zdCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChpc0Jvb2xlYW4gJiYgdmFsdWUgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/ICcnIDogdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vLyBfX1VOU0FGRV9fXHJcbi8vIGZ1bmN0aW9ucy4gVGhlIHVzZXIgaXMgcmVzcG9uc2libGUgZm9yIHVzaW5nIHRoZW0gd2l0aCBvbmx5IHRydXN0ZWQgY29udGVudC5cclxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBcclxuLy8gdGhlIGZvbGxvd2luZyBhcmdzIGFyZSBwYXNzZWQgb25seSBkdWUgdG8gcG90ZW50aWFsIGlubmVySFRNTC90ZXh0Q29udGVudFxyXG4vLyBvdmVycmlkaW5nIGV4aXN0aW5nIFZOb2RlcywgaW4gd2hpY2ggY2FzZSB0aGUgb2xkIHRyZWUgbXVzdCBiZSBwcm9wZXJseVxyXG4vLyB1bm1vdW50ZWQuXHJcbnByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSB7XHJcbiAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBlbC50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XHJcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcclxuICAgICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkLlxyXG4gICAgICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4gY29tcGlsZXMgdG8geyBtdWx0aXBsZTogJycgfVxyXG4gICAgICAgICAgICBlbFtrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIGUuZy4gPGRpdiA6aWQ9XCJudWxsXCI+XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSAnJztcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgLy8gZS5nLiA8aW1nIDp3aWR0aD1cIm51bGxcIj5cclxuICAgICAgICAgICAgZWxba2V5XSA9IDA7XHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3dcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXHJcbiAgICAgICAgICAgICAgICBgdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cclxubGV0IF9nZXROb3cgPSBEYXRlLm5vdztcclxubGV0IHNraXBUaW1lc3RhbXBDaGVjayA9IGZhbHNlO1xyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlXHJcbiAgICAvLyB0aW1lc3RhbXAgY2FuIGVpdGhlciBiZSBoaS1yZXMgKHJlbGF0aXZlIHRvIHBhZ2UgbG9hZCkgb3IgbG93LXJlc1xyXG4gICAgLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbiAgICAvLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuXHJcbiAgICBpZiAoX2dldE5vdygpID4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JykudGltZVN0YW1wKSB7XHJcbiAgICAgICAgLy8gaWYgdGhlIGxvdy1yZXMgdGltZXN0YW1wIHdoaWNoIGlzIGJpZ2dlciB0aGFuIHRoZSBldmVudCB0aW1lc3RhbXBcclxuICAgICAgICAvLyAod2hpY2ggaXMgZXZhbHVhdGVkIEFGVEVSKSBpdCBtZWFucyB0aGUgZXZlbnQgaXMgdXNpbmcgYSBoaS1yZXMgdGltZXN0YW1wLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHVzZSB0aGUgaGktcmVzIHZlcnNpb24gZm9yIGV2ZW50IGxpc3RlbmVycyBhcyB3ZWxsLlxyXG4gICAgICAgIF9nZXROb3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIH1cclxuICAgIC8vICMzNDg1OiBGaXJlZm94IDw9IDUzIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wIGltcGxlbWVudGF0aW9uXHJcbiAgICAvLyBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvIHNhZmUgdG8gZXhjbHVkZS5cclxuICAgIGNvbnN0IGZmTWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpO1xyXG4gICAgc2tpcFRpbWVzdGFtcENoZWNrID0gISEoZmZNYXRjaCAmJiBOdW1iZXIoZmZNYXRjaFsxXSkgPD0gNTMpO1xyXG59XHJcbi8vIFRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXBlYXRlZGx5IGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCksIHdlIGNhY2hlXHJcbi8vIGFuZCB1c2UgdGhlIHNhbWUgdGltZXN0YW1wIGZvciBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIGluIHRoZSBzYW1lIHRpY2suXHJcbmxldCBjYWNoZWROb3cgPSAwO1xyXG5jb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmNvbnN0IHJlc2V0ID0gKCkgPT4ge1xyXG4gICAgY2FjaGVkTm93ID0gMDtcclxufTtcclxuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4ocmVzZXQpLCAoY2FjaGVkTm93ID0gX2dldE5vdygpKSk7XHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xyXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xyXG4gICAgLy8gdmVpID0gdnVlIGV2ZW50IGludm9rZXJzXHJcbiAgICBjb25zdCBpbnZva2VycyA9IGVsLl92ZWkgfHwgKGVsLl92ZWkgPSB7fSk7XHJcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcclxuICAgIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgLy8gcGF0Y2hcclxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XHJcbiAgICAgICAgaWYgKG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBhZGRcclxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZVxyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XHJcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIGxldCBtO1xyXG4gICAgICAgIHdoaWxlICgobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSkge1xyXG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2h5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKSwgb3B0aW9uc107XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcclxuICAgICAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gb3V0ZXIgZWxlbWVudCBkdXJpbmcgcGF0Y2gsIGFuZCB0cmlnZ2VyZWQgYWdhaW4uIFRoaXNcclxuICAgICAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgICAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXHJcbiAgICAgICAgLy8gYW5kIHRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxyXG4gICAgICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSBlLnRpbWVTdGFtcCB8fCBfZ2V0Tm93KCk7XHJcbiAgICAgICAgaWYgKHNraXBUaW1lc3RhbXBDaGVjayB8fCB0aW1lU3RhbXAgPj0gaW52b2tlci5hdHRhY2hlZCAtIDEpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovLCBbZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xyXG4gICAgcmV0dXJuIGludm9rZXI7XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcclxuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZuID0+IChlKSA9PiAhZS5fc3RvcHBlZCAmJiBmbihlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgbmF0aXZlT25SRSA9IC9eb25bYS16XS87XHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wID0gKF8sIGtleSkgPT4ga2V5ID09PSAndmFsdWUnO1xyXG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGlzU1ZHID0gZmFsc2UsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgIC8vIHNwZWNpYWxcclxuICAgICAgICBjYXNlICdjbGFzcyc6XHJcbiAgICAgICAgICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzdHlsZSc6XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPGlucHV0IHYtbW9kZWwgdHlwZT1cImNoZWNrYm94XCI+IHdpdGhcclxuICAgICAgICAgICAgICAgIC8vIDp0cnVlLXZhbHVlICYgOmZhbHNlLXZhbHVlXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXHJcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdpZmllZC5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd0cnVlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdmYWxzZS12YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgLy8gbW9zdCBrZXlzIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZSBvbiBzdmcgZWxlbWVudHMgdG8gd29ya1xyXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUxcclxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gb3IgbmF0aXZlIG9uY2xpY2sgd2l0aCBmdW5jdGlvbiB2YWx1ZXNcclxuICAgICAgICBpZiAoa2V5IGluIGVsICYmIG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBzcGVsbGNoZWNrIGFuZCBkcmFnZ2FibGUgYXJlIG51bWVyYXRlZCBhdHRycywgaG93ZXZlciB0aGVpclxyXG4gICAgLy8gY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllcyBhcmUgYWN0dWFsbHkgYm9vbGVhbnMgLSB0aGlzIGxlYWRzIHRvXHJcbiAgICAvLyBzZXR0aW5nIGl0IHdpdGggYSBzdHJpbmcgXCJmYWxzZVwiIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0b1xyXG4gICAgLy8gYHRydWVgLCBzbyB3ZSBuZWVkIHRvIGFsd2F5cyB0cmVhdCB0aGVtIGFzIGF0dHJpYnV0ZXMuXHJcbiAgICAvLyBOb3RlIHRoYXQgYGNvbnRlbnRFZGl0YWJsZWAgZG9lc24ndCBoYXZlIHRoaXMgcHJvYmxlbTogaXRzIERPTVxyXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXHJcbiAgICBpZiAoa2V5ID09PSAnc3BlbGxjaGVjaycgfHwga2V5ID09PSAnZHJhZ2dhYmxlJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNzg3LCAjMjg0MCBmb3JtIHByb3BlcnR5IG9uIGZvcm0gZWxlbWVudHMgaXMgcmVhZG9ubHkgYW5kIG11c3QgYmUgc2V0IGFzXHJcbiAgICAvLyBhdHRyaWJ1dGUuXHJcbiAgICBpZiAoa2V5ID09PSAnZm9ybScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyAjMTUyNiA8aW5wdXQgbGlzdD4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAoa2V5ID09PSAnbGlzdCcgJiYgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMyNzY2IDx0ZXh0YXJlYSB0eXBlPiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChrZXkgPT09ICd0eXBlJyAmJiBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gbmF0aXZlIG9uY2xpY2sgd2l0aCBzdHJpbmcgdmFsdWUsIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBrZXkgaW4gZWw7XHJcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSAnJHN0eWxlJykge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XHJcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XHJcbiAgICAgICAgaWYgKCFtb2QpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIFNGQydzIENTUyB2YXJpYWJsZSBpbmplY3Rpb24gZmVhdHVyZS5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIGdldHRlcihpbnN0YW5jZS5wcm94eSkpO1xyXG4gICAgb25Nb3VudGVkKCgpID0+IHdhdGNoRWZmZWN0KHNldFZhcnMsIHsgZmx1c2g6ICdwb3N0JyB9KSk7XHJcbiAgICBvblVwZGF0ZWQoc2V0VmFycyk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xyXG4gICAgICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xyXG4gICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXHJcbiAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcclxuICAgIH1cclxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHZub2RlLmVsLnN0eWxlO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcclxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFyc1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcclxuY29uc3QgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XHJcbi8vIERPTSBUcmFuc2l0aW9uIGlzIGEgaGlnaGVyLW9yZGVyLWNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcGxhdGZvcm0tYWdub3N0aWNcclxuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXHJcbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcclxuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uJztcclxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcclxuICAgIG5hbWU6IFN0cmluZyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGNzczoge1xyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXHJcbiAgICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcclxufTtcclxuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIEJhc2VUcmFuc2l0aW9uLnByb3BzLCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSk7XHJcbi8qKlxyXG4gKiAjMzIyNyBJbmNvbWluZyBob29rcyBtYXkgYmUgbWVyZ2VkIGludG8gYXJyYXlzIHdoZW4gd3JhcHBpbmcgVHJhbnNpdGlvblxyXG4gKiB3aXRoIGN1c3RvbSBIT0NzLlxyXG4gKi9cclxuY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XHJcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xyXG4gICAgICAgIGhvb2suZm9yRWFjaChoID0+IGgoLi4uYXJncykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaG9vaykge1xyXG4gICAgICAgIGhvb2soLi4uYXJncyk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhIGhvb2sgZXhwZWN0cyBhIGNhbGxiYWNrICgybmQgYXJnKSwgd2hpY2ggbWVhbnMgdGhlIHVzZXJcclxuICogaW50ZW5kcyB0byBleHBsaWNpdGx5IGNvbnRyb2wgdGhlIGVuZCBvZiB0aGUgdHJhbnNpdGlvbi5cclxuICovXHJcbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xyXG4gICAgcmV0dXJuIGhvb2tcclxuICAgICAgICA/IGlzQXJyYXkoaG9vaylcclxuICAgICAgICAgICAgPyBob29rLnNvbWUoaCA9PiBoLmxlbmd0aCA+IDEpXHJcbiAgICAgICAgICAgIDogaG9vay5sZW5ndGggPiAxXHJcbiAgICAgICAgOiBmYWxzZTtcclxufTtcclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xyXG4gICAgY29uc3QgYmFzZVByb3BzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xyXG4gICAgICAgICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gYmFzZVByb3BzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBuYW1lID0gJ3YnLCB0eXBlLCBkdXJhdGlvbiwgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCwgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCwgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcywgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcywgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCwgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYCB9ID0gcmF3UHJvcHM7XHJcbiAgICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcclxuICAgIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xyXG4gICAgY29uc3QgeyBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsIG9uQXBwZWFyID0gb25FbnRlciwgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkIH0gPSBiYXNlUHJvcHM7XHJcbiAgICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUpID0+IHtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcclxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xyXG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWwsIHJlc29sdmVdKTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2soaG9vaykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XHJcbiAgICAgICAgb25CZWZvcmVFbnRlcihlbCkge1xyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkJlZm9yZUVudGVyLCBbZWxdKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkJlZm9yZUFwcGVhciwgW2VsXSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcclxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcclxuICAgICAgICBvbkxlYXZlKGVsLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgc28gKi1sZWF2ZS1mcm9tIGNsYXNzZXMgaW1tZWRpYXRlbHkgdGFrZSBlZmZlY3QgKCMyNTkzKVxyXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2sob25MZWF2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGxlYXZlRHVyYXRpb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25MZWF2ZSwgW2VsLCByZXNvbHZlXSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkFwcGVhckNhbmNlbGxlZCwgW2VsXSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaExlYXZlKGVsKTtcclxuICAgICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pIHtcclxuICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcclxuICAgICAgICByZXR1cm4gW051bWJlck9mKGR1cmF0aW9uLmVudGVyKSwgTnVtYmVyT2YoZHVyYXRpb24ubGVhdmUpXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIFtuLCBuXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcclxuICAgIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxyXG4gICAgICAgIHZhbGlkYXRlRHVyYXRpb24ocmVzKTtcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbih2YWwpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBgICtcclxuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xyXG4gICAgICAgIHdhcm4oYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBOYU4gLSBgICtcclxuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XHJcbiAgICAoZWwuX3Z0YyB8fFxyXG4gICAgICAgIChlbC5fdnRjID0gbmV3IFNldCgpKSkuYWRkKGNscyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcclxuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xyXG4gICAgY29uc3QgeyBfdnRjIH0gPSBlbDtcclxuICAgIGlmIChfdnRjKSB7XHJcbiAgICAgICAgX3Z0Yy5kZWxldGUoY2xzKTtcclxuICAgICAgICBpZiAoIV92dGMuc2l6ZSkge1xyXG4gICAgICAgICAgICBlbC5fdnRjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBuZXh0RnJhbWUoY2IpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcclxuICAgIH0pO1xyXG59XHJcbmxldCBlbmRJZCA9IDA7XHJcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcclxuICAgIGNvbnN0IGlkID0gKGVsLl9lbmRJZCA9ICsrZW5kSWQpO1xyXG4gICAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlkID09PSBlbC5fZW5kSWQpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoZXhwbGljaXRUaW1lb3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XHJcbiAgICBsZXQgZW5kZWQgPSAwO1xyXG4gICAgY29uc3QgZW5kID0gKCkgPT4ge1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcclxuICAgICAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsICYmICsrZW5kZWQgPj0gcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdGltZW91dCArIDEpO1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcclxuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcclxuICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKFRSQU5TSVRJT04gKyAnRGVsYXknKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoVFJBTlNJVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEZWxheScpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKEFOSU1BVElPTiArICdEdXJhdGlvbicpO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xyXG4gICAgbGV0IHR5cGUgPSBudWxsO1xyXG4gICAgbGV0IHRpbWVvdXQgPSAwO1xyXG4gICAgbGV0IHByb3BDb3VudCA9IDA7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBBTklNQVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XHJcbiAgICAgICAgdHlwZSA9XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgICAgIDogQU5JTUFUSU9OXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxyXG4gICAgICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmXHJcbiAgICAgICAgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KHN0eWxlc1tUUkFOU0lUSU9OICsgJ1Byb3BlcnR5J10pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgcHJvcENvdW50LFxyXG4gICAgICAgIGhhc1RyYW5zZm9ybVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XHJcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xyXG59XHJcbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyXHJcbi8vIG51bWJlcnMgaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxyXG4vLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duXHJcbi8vIChpLmUuIGFjdGluZyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXHJcbmZ1bmN0aW9uIHRvTXMocykge1xyXG4gICAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKCcsJywgJy4nKSkgKiAxMDAwO1xyXG59XHJcbi8vIHN5bmNocm9ub3VzbHkgZm9yY2UgbGF5b3V0IHRvIHB1dCBlbGVtZW50cyBpbnRvIGEgY2VydGFpbiBzdGF0ZVxyXG5mdW5jdGlvbiBmb3JjZVJlZmxvdygpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcclxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IHtcclxuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxyXG4gICAgcHJvcHM6IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XHJcbiAgICAgICAgdGFnOiBTdHJpbmcsXHJcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcclxuICAgIH0pLFxyXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcclxuICAgICAgICBsZXQgcHJldkNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbjtcclxuICAgICAgICBvblVwZGF0ZWQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBpcyBndWFyYW50ZWVkIHRvIGV4aXN0IGFmdGVyIGluaXRpYWwgcmVuZGVyXHJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XHJcbiAgICAgICAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKHByZXZDaGlsZHJlblswXS5lbCwgaW5zdGFuY2Uudm5vZGUuZWwsIG1vdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcclxuICAgICAgICAgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XHJcbiAgICAgICAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gKGVsLl9tb3ZlQ2IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcclxuICAgICAgICAgICAgbGV0IHRhZyA9IHJhd1Byb3BzLnRhZyB8fCBGcmFnbWVudDtcclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBwcmV2Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwgY2hpbGQuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xyXG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XHJcbiAgICBjb25zdCBlbCA9IGMuZWw7XHJcbiAgICBpZiAoZWwuX21vdmVDYikge1xyXG4gICAgICAgIGVsLl9tb3ZlQ2IoKTtcclxuICAgIH1cclxuICAgIGlmIChlbC5fZW50ZXJDYikge1xyXG4gICAgICAgIGVsLl9lbnRlckNiKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xyXG4gICAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24oYykge1xyXG4gICAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xyXG4gICAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xyXG4gICAgY29uc3QgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xyXG4gICAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcclxuICAgIGlmIChkeCB8fCBkeSkge1xyXG4gICAgICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xyXG4gICAgICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xyXG4gICAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xyXG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzXHJcbiAgICAvLyBDU1MgdHJhbnNpdGlvbnMuIFNpbmNlIHRoZSBlbGVtZW50IG1heSBiZSBpbnNpZGUgYW4gZW50ZXJpbmdcclxuICAgIC8vIHRyYW5zaXRpb24gYXQgdGhpcyB2ZXJ5IG1vbWVudCwgd2UgbWFrZSBhIGNsb25lIG9mIGl0IGFuZCByZW1vdmVcclxuICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzc1xyXG4gICAgLy8gaXMgYXBwbGllZC5cclxuICAgIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XHJcbiAgICBpZiAoZWwuX3Z0Yykge1xyXG4gICAgICAgIGVsLl92dGMuZm9yRWFjaChjbHMgPT4ge1xyXG4gICAgICAgICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xyXG4gICAgY2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IChyb290Lm5vZGVUeXBlID09PSAxXHJcbiAgICAgICAgPyByb290XHJcbiAgICAgICAgOiByb290LnBhcmVudE5vZGUpO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcclxuICAgIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XHJcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xyXG4gICAgcmV0dXJuIGhhc1RyYW5zZm9ybTtcclxufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XHJcbiAgICBjb25zdCBmbiA9IHZub2RlLnByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ107XHJcbiAgICByZXR1cm4gaXNBcnJheShmbikgPyB2YWx1ZSA9PiBpbnZva2VBcnJheUZucyhmbiwgdmFsdWUpIDogZm47XHJcbn07XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XHJcbiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQoZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xyXG4gICAgICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgJ2lucHV0Jyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcihlbCwgdHlwZSkge1xyXG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XHJcbiAgICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcclxuICAgIGVsLmRpc3BhdGNoRXZlbnQoZSk7XHJcbn1cclxuLy8gV2UgYXJlIGV4cG9ydGluZyB0aGUgdi1tb2RlbCBydW50aW1lIGRpcmVjdGx5IGFzIHZub2RlIGhvb2tzIHNvIHRoYXQgaXQgY2FuXHJcbi8vIGJlIHRyZWUtc2hha2VuIGluIGNhc2Ugdi1tb2RlbCBpcyBuZXZlciB1c2VkLlxyXG5jb25zdCB2TW9kZWxUZXh0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8IGVsLnR5cGUgPT09ICdudW1iZXInO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyAnY2hhbmdlJyA6ICdpbnB1dCcsIGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBsZXQgZG9tVmFsdWUgPSBlbC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHRyaW0pIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gZG9tVmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhc3RUb051bWJlcikge1xyXG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSB0b051bWJlcihkb21WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihkb21WYWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRyaW0pIHtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFsYXp5KSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cclxuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxyXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXHJcbiAgICAgICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBvbiBtb3VudGVkIHNvIGl0J3MgYWZ0ZXIgbWluL21heCBmb3IgdHlwZT1cInJhbmdlXCJcclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgLy8gYXZvaWQgY2xlYXJpbmcgdW5yZXNvbHZlZCB0ZXh0LiAjMjMwMlxyXG4gICAgICAgIGlmIChlbC5jb21wb3NpbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwpIHtcclxuICAgICAgICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgobnVtYmVyIHx8IGVsLnR5cGUgPT09ICdudW1iZXInKSAmJiB0b051bWJlcihlbC52YWx1ZSkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcclxuICAgICAgICBpZiAoZWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gZ2V0VmFsdWUoZWwpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gZWwuY2hlY2tlZDtcclxuICAgICAgICAgICAgY29uc3QgYXNzaWduID0gZWwuX2Fzc2lnbjtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkobW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkICYmICFmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihtb2RlbFZhbHVlLmNvbmNhdChlbGVtZW50VmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjaGVja2VkICYmIGZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbLi4ubW9kZWxWYWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24oZmlsdGVyZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU2V0KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgU2V0KG1vZGVsVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZWQuZGVsZXRlKGVsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhc3NpZ24oY2xvbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyBzZXQgaW5pdGlhbCBjaGVja2VkIG9uIG1vdW50IHRvIHdhaXQgZm9yIHRydWUtdmFsdWUvZmFsc2UtdmFsdWVcclxuICAgIG1vdW50ZWQ6IHNldENoZWNrZWQsXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcclxuICAgIH1cclxufVxyXG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGdldFZhbHVlKGVsKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCB2TW9kZWxTZWxlY3QgPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcclxuICAgICAgICBjb25zdCBpc1NldE1vZGVsID0gaXNTZXQodmFsdWUpO1xyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlclxyXG4gICAgICAgICAgICAgICAgLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICAubWFwKChvKSA9PiBudW1iZXIgPyB0b051bWJlcihnZXRWYWx1ZShvKSkgOiBnZXRWYWx1ZShvKSk7XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZWwubXVsdGlwbGVcclxuICAgICAgICAgICAgICAgID8gaXNTZXRNb2RlbFxyXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IFNldChzZWxlY3RlZFZhbClcclxuICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkVmFsXHJcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGVkVmFsWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxyXG4gICAgLy8gPG9wdGlvbj5zLlxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIF9iaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcclxuICAgIGlmIChpc011bHRpcGxlICYmICFpc0FycmF5KHZhbHVlKSAmJiAhaXNTZXQodmFsdWUpKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBgICtcclxuICAgICAgICAgICAgICAgIGBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBjb25zdCBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2V0VmFsdWUob3B0aW9uKTtcclxuICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgb3B0aW9uVmFsdWUpID4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5oYXMob3B0aW9uVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc011bHRpcGxlICYmIGVsLnNlbGVjdGVkSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xyXG4gICAgfVxyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBzZXQgdmlhIDp2YWx1ZSBiaW5kaW5nc1xyXG5mdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xyXG4gICAgcmV0dXJuICdfdmFsdWUnIGluIGVsID8gZWwuX3ZhbHVlIDogZWwudmFsdWU7XHJcbn1cclxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIGZvciB0cnVlLXZhbHVlIGFuZCBmYWxzZS12YWx1ZSBzZXQgdmlhIDp0cnVlLXZhbHVlIG9yIDpmYWxzZS12YWx1ZSBiaW5kaW5nc1xyXG5mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSB7XHJcbiAgICBjb25zdCBrZXkgPSBjaGVja2VkID8gJ190cnVlVmFsdWUnIDogJ19mYWxzZVZhbHVlJztcclxuICAgIHJldHVybiBrZXkgaW4gZWwgPyBlbFtrZXldIDogY2hlY2tlZDtcclxufVxyXG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xyXG4gICAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ2NyZWF0ZWQnKTtcclxuICAgIH0sXHJcbiAgICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnbW91bnRlZCcpO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICdiZWZvcmVVcGRhdGUnKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ3VwZGF0ZWQnKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgaG9vaykge1xyXG4gICAgbGV0IG1vZGVsVG9Vc2U7XHJcbiAgICBzd2l0Y2ggKGVsLnRhZ05hbWUpIHtcclxuICAgICAgICBjYXNlICdTRUxFQ1QnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsU2VsZWN0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdURVhUQVJFQSc6XHJcbiAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxUZXh0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsQ2hlY2tib3g7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFJhZGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgZm4gPSBtb2RlbFRvVXNlW2hvb2tdO1xyXG4gICAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xyXG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddO1xyXG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcclxuICAgIHN0b3A6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcclxuICAgIHByZXZlbnQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgc2VsZjogZSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxyXG4gICAgY3RybDogZSA9PiAhZS5jdHJsS2V5LFxyXG4gICAgc2hpZnQ6IGUgPT4gIWUuc2hpZnRLZXksXHJcbiAgICBhbHQ6IGUgPT4gIWUuYWx0S2V5LFxyXG4gICAgbWV0YTogZSA9PiAhZS5tZXRhS2V5LFxyXG4gICAgbGVmdDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAwLFxyXG4gICAgbWlkZGxlOiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDEsXHJcbiAgICByaWdodDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAyLFxyXG4gICAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKG0gPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aE1vZGlmaWVycyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XHJcbiAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xyXG4gICAgICAgICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XHJcbiAgICB9O1xyXG59O1xyXG4vLyBLZXB0IGZvciAyLnggY29tcGF0LlxyXG4vLyBOb3RlOiBJRTExIGNvbXBhdCBmb3IgYHNwYWNlYmFyYCBhbmQgYGRlbGAgaXMgcmVtb3ZlZCBmb3Igbm93LlxyXG5jb25zdCBrZXlOYW1lcyA9IHtcclxuICAgIGVzYzogJ2VzY2FwZScsXHJcbiAgICBzcGFjZTogJyAnLFxyXG4gICAgdXA6ICdhcnJvdy11cCcsXHJcbiAgICBsZWZ0OiAnYXJyb3ctbGVmdCcsXHJcbiAgICByaWdodDogJ2Fycm93LXJpZ2h0JyxcclxuICAgIGRvd246ICdhcnJvdy1kb3duJyxcclxuICAgIGRlbGV0ZTogJ2JhY2tzcGFjZSdcclxufTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCB3aXRoS2V5cyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XHJcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCEoJ2tleScgaW4gZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXZlbnRLZXkgPSBoeXBoZW5hdGUoZXZlbnQua2V5KTtcclxuICAgICAgICBpZiAobW9kaWZpZXJzLnNvbWUoayA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcblxuY29uc3QgdlNob3cgPSB7XHJcbiAgICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGVsLl92b2QgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcclxuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fdm9kIDogJ25vbmUnO1xyXG59XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IGV4dGVuZCh7IHBhdGNoUHJvcCwgZm9yY2VQYXRjaFByb3AgfSwgbm9kZU9wcyk7XHJcbi8vIGxhenkgY3JlYXRlIHRoZSByZW5kZXJlciAtIHRoaXMgbWFrZXMgY29yZSByZW5kZXJlciBsb2dpYyB0cmVlLXNoYWthYmxlXHJcbi8vIGluIGNhc2UgdGhlIHVzZXIgb25seSBpbXBvcnRzIHJlYWN0aXZpdHkgdXRpbGl0aWVzIGZyb20gVnVlLlxyXG5sZXQgcmVuZGVyZXI7XHJcbmxldCBlbmFibGVkSHlkcmF0aW9uID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyIHx8IChyZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucykpO1xyXG59XHJcbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xyXG4gICAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uXHJcbiAgICAgICAgPyByZW5kZXJlclxyXG4gICAgICAgIDogY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKTtcclxuICAgIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xyXG4gICAgcmV0dXJuIHJlbmRlcmVyO1xyXG59XHJcbi8vIHVzZSBleHBsaWNpdCB0eXBlIGNhc3RzIGhlcmUgdG8gYXZvaWQgaW1wb3J0KCkgY2FsbHMgaW4gcm9sbGVkLXVwIGQudHNcclxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGh5ZHJhdGUgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZUFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFjb250YWluZXIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIC8vIF9fVU5TQUZFX19cclxuICAgICAgICAgICAgLy8gUmVhc29uOiBwb3RlbnRpYWwgZXhlY3V0aW9uIG9mIEpTIGV4cHJlc3Npb25zIGluIGluLURPTSB0ZW1wbGF0ZS5cclxuICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBtYWtlIHN1cmUgdGhlIGluLURPTSB0ZW1wbGF0ZSBpcyB0cnVzdGVkLiBJZiBpdCdzXHJcbiAgICAgICAgICAgIC8vIHJlbmRlcmVkIGJ5IHRoZSBzZXJ2ZXIsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgbm90IGNvbnRhaW4gYW55IHVzZXIgZGF0YS5cclxuICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2xlYXIgY29udGVudCBiZWZvcmUgbW91bnRpbmdcclxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KTtcclxuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdi1hcHAnLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm94eTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXBwO1xyXG59KTtcclxuY29uc3QgY3JlYXRlU1NSQXBwID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xyXG4gICAgICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XHJcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYXBwO1xyXG59KTtcclxuZnVuY3Rpb24gaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKSB7XHJcbiAgICAvLyBJbmplY3QgYGlzTmF0aXZlVGFnYFxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIGZvciBjb21wb25lbnQgbmFtZSB2YWxpZGF0aW9uIChkZXYgb25seSlcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNOYXRpdmVUYWcnLCB7XHJcbiAgICAgICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZyksXHJcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXHJcbiAgICB9KTtcclxufVxyXG4vLyBkZXYgb25seVxyXG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcclxuICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcclxuICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzQ3VzdG9tRWxlbWVudCcsIHtcclxuICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ3VzdG9tRWxlbWVudDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0KCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgXFxgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudFxcYCBpbnN0ZWFkLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XHJcbiAgICAgICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGAgK1xyXG4gICAgICAgICAgICBgYSBidWlsZCBvZiBWdWUuanMgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlciAoYWthIFwiZnVsbCBidWlsZFwiKS4gYCArXHJcbiAgICAgICAgICAgIGBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBgICtcclxuICAgICAgICAgICAgYG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxcbmAgK1xyXG4gICAgICAgICAgICBgLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxcbmAgK1xyXG4gICAgICAgICAgICBgLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcXG5gICtcclxuICAgICAgICAgICAgYC0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1kb21gO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnY29tcGlsZXJPcHRpb25zJywge1xyXG4gICAgICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKG1zZyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XHJcbiAgICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFyZXMpIHtcclxuICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBjb250YWluZXIgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCAmJlxyXG4gICAgICAgIGNvbnRhaW5lci5tb2RlID09PSAnY2xvc2VkJykge1xyXG4gICAgICAgIHdhcm4oYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbn1cblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgaHlkcmF0ZSwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsImNsYXNzIFZlY3RvcjIge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAgKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0fVxuXG5cdGdldCB3aWR0aCgpIHtcblxuXHRcdHJldHVybiB0aGlzLng7XG5cblx0fVxuXG5cdHNldCB3aWR0aCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLnggPSB2YWx1ZTtcblxuXHR9XG5cblx0Z2V0IGhlaWdodCgpIHtcblxuXHRcdHJldHVybiB0aGlzLnk7XG5cblx0fVxuXG5cdHNldCBoZWlnaHQoIHZhbHVlICkge1xuXG5cdFx0dGhpcy55ID0gdmFsdWU7XG5cblx0fVxuXG5cdHNldCggeCwgeSApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCA9IHNjYWxhcjtcblx0XHR0aGlzLnkgPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WCggeCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WSggeSApIHtcblxuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0Q29tcG9uZW50KCBpbmRleCwgdmFsdWUgKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiB0aGlzLnggPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHRoaXMueSA9IHZhbHVlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Q29tcG9uZW50KCBpbmRleCApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHJldHVybiB0aGlzLng7XG5cdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLnk7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy54LCB0aGlzLnkgKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKz0gdi54O1xuXHRcdHRoaXMueSArPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGVkVmVjdG9yKCB2LCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHYueCAqIHM7XG5cdFx0dGhpcy55ICs9IHYueSAqIHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggLT0gdi54O1xuXHRcdHRoaXMueSAtPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHYgKSB7XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCAqPSBzY2FsYXI7XG5cdFx0dGhpcy55ICo9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlU2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIHNjYWxhciApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDMoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHkgKyBlWyA2IF07XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWluKCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWF4KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXAoIG1pbiwgbWF4ICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW4ueCwgTWF0aC5taW4oIG1heC54LCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wU2NhbGFyKCBtaW5WYWwsIG1heFZhbCApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy55ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGgucm91bmQoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kVG9aZXJvKCkge1xuXG5cdFx0dGhpcy54ID0gKCB0aGlzLnggPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueCApIDogTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gKCB0aGlzLnkgPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueSApIDogTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bmVnYXRlKCkge1xuXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTtcblxuXHR9XG5cblx0Y3Jvc3MoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54O1xuXG5cdH1cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSApO1xuXG5cdH1cblxuXHRtYW5oYXR0YW5MZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xuXG5cdH1cblxuXHRhbmdsZSgpIHtcblxuXHRcdC8vIGNvbXB1dGVzIHRoZSBhbmdsZSBpbiByYWRpYW5zIHdpdGggcmVzcGVjdCB0byB0aGUgcG9zaXRpdmUgeC1heGlzXG5cblx0XHRjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoIC0gdGhpcy55LCAtIHRoaXMueCApICsgTWF0aC5QSTtcblxuXHRcdHJldHVybiBhbmdsZTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueTtcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApO1xuXG5cdH1cblxuXHRzZXRMZW5ndGgoIGxlbmd0aCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKCBsZW5ndGggKTtcblxuXHR9XG5cblx0bGVycCggdiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggKz0gKCB2LnggLSB0aGlzLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSArPSAoIHYueSAtIHRoaXMueSApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggdiApIHtcblxuXHRcdHJldHVybiAoICggdi54ID09PSB0aGlzLnggKSAmJiAoIHYueSA9PT0gdGhpcy55ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLng7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMueTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG5cdFx0aWYgKCBvZmZzZXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuXHRcdHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZUFyb3VuZCggY2VudGVyLCBhbmdsZSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggYW5nbGUgKSwgcyA9IE1hdGguc2luKCBhbmdsZSApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCAtIGNlbnRlci54O1xuXHRcdGNvbnN0IHkgPSB0aGlzLnkgLSBjZW50ZXIueTtcblxuXHRcdHRoaXMueCA9IHggKiBjIC0geSAqIHMgKyBjZW50ZXIueDtcblx0XHR0aGlzLnkgPSB4ICogcyArIHkgKiBjICsgY2VudGVyLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmFuZG9tKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59XG5cblZlY3RvcjIucHJvdG90eXBlLmlzVmVjdG9yMiA9IHRydWU7XG5cbmV4cG9ydCB7IFZlY3RvcjIgfTtcbiIsImNvbnN0IF9sdXQgPSBbXTtcblxuZm9yICggbGV0IGkgPSAwOyBpIDwgMjU2OyBpICsrICkge1xuXG5cdF9sdXRbIGkgXSA9ICggaSA8IDE2ID8gJzAnIDogJycgKSArICggaSApLnRvU3RyaW5nKCAxNiApO1xuXG59XG5cbmxldCBfc2VlZCA9IDEyMzQ1Njc7XG5cblxuY29uc3QgREVHMlJBRCA9IE1hdGguUEkgLyAxODA7XG5jb25zdCBSQUQyREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2XG5mdW5jdGlvbiBnZW5lcmF0ZVVVSUQoKSB7XG5cblx0Y29uc3QgZDAgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IGQxID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRjb25zdCBkMiA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcblx0Y29uc3QgZDMgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG5cdGNvbnN0IHV1aWQgPSBfbHV0WyBkMCAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQxICYgMHhmZiBdICsgX2x1dFsgZDEgPj4gOCAmIDB4ZmYgXSArICctJyArIF9sdXRbIGQxID4+IDE2ICYgMHgwZiB8IDB4NDAgXSArIF9sdXRbIGQxID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQyICYgMHgzZiB8IDB4ODAgXSArIF9sdXRbIGQyID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMiA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQyID4+IDI0ICYgMHhmZiBdICtcblx0XHRcdF9sdXRbIGQzICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gOCAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gMjQgJiAweGZmIF07XG5cblx0Ly8gLnRvVXBwZXJDYXNlKCkgaGVyZSBmbGF0dGVucyBjb25jYXRlbmF0ZWQgc3RyaW5ncyB0byBzYXZlIGhlYXAgbWVtb3J5IHNwYWNlLlxuXHRyZXR1cm4gdXVpZC50b1VwcGVyQ2FzZSgpO1xuXG59XG5cbmZ1bmN0aW9uIGNsYW1wKCB2YWx1ZSwgbWluLCBtYXggKSB7XG5cblx0cmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIHZhbHVlICkgKTtcblxufVxuXG4vLyBjb21wdXRlIGV1Y2xpZGlhbiBtb2R1bG8gb2YgbSAlIG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb25cbmZ1bmN0aW9uIGV1Y2xpZGVhbk1vZHVsbyggbiwgbSApIHtcblxuXHRyZXR1cm4gKCAoIG4gJSBtICkgKyBtICkgJSBtO1xuXG59XG5cbi8vIExpbmVhciBtYXBwaW5nIGZyb20gcmFuZ2UgPGExLCBhMj4gdG8gcmFuZ2UgPGIxLCBiMj5cbmZ1bmN0aW9uIG1hcExpbmVhciggeCwgYTEsIGEyLCBiMSwgYjIgKSB7XG5cblx0cmV0dXJuIGIxICsgKCB4IC0gYTEgKSAqICggYjIgLSBiMSApIC8gKCBhMiAtIGExICk7XG5cbn1cblxuLy8gaHR0cHM6Ly93d3cuZ2FtZWRldi5uZXQvdHV0b3JpYWxzL3Byb2dyYW1taW5nL2dlbmVyYWwtYW5kLWdhbWVwbGF5LXByb2dyYW1taW5nL2ludmVyc2UtbGVycC1hLXN1cGVyLXVzZWZ1bC15ZXQtb2Z0ZW4tb3Zlcmxvb2tlZC1mdW5jdGlvbi1yNTIzMC9cbmZ1bmN0aW9uIGludmVyc2VMZXJwKCB4LCB5LCB2YWx1ZSApIHtcblxuXHRpZiAoIHggIT09IHkgKSB7XG5cblx0XHRyZXR1cm4gKCB2YWx1ZSAtIHggKSAvICggeSAtIHggKTtcblxuXHRcdCB9IGVsc2Uge1xuXG5cdFx0cmV0dXJuIDA7XG5cblx0XHQgfVxuXG59XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uXG5mdW5jdGlvbiBsZXJwKCB4LCB5LCB0ICkge1xuXG5cdHJldHVybiAoIDEgLSB0ICkgKiB4ICsgdCAqIHk7XG5cbn1cblxuLy8gaHR0cDovL3d3dy5yb3J5ZHJpc2NvbGwuY29tLzIwMTYvMDMvMDcvZnJhbWUtcmF0ZS1pbmRlcGVuZGVudC1kYW1waW5nLXVzaW5nLWxlcnAvXG5mdW5jdGlvbiBkYW1wKCB4LCB5LCBsYW1iZGEsIGR0ICkge1xuXG5cdHJldHVybiBsZXJwKCB4LCB5LCAxIC0gTWF0aC5leHAoIC0gbGFtYmRhICogZHQgKSApO1xuXG59XG5cbi8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci92Y3Nqbnl6N3g0XG5mdW5jdGlvbiBwaW5ncG9uZyggeCwgbGVuZ3RoID0gMSApIHtcblxuXHRyZXR1cm4gbGVuZ3RoIC0gTWF0aC5hYnMoIGV1Y2xpZGVhbk1vZHVsbyggeCwgbGVuZ3RoICogMiApIC0gbGVuZ3RoICk7XG5cbn1cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhzdGVwXG5mdW5jdGlvbiBzbW9vdGhzdGVwKCB4LCBtaW4sIG1heCApIHtcblxuXHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdGlmICggeCA+PSBtYXggKSByZXR1cm4gMTtcblxuXHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdHJldHVybiB4ICogeCAqICggMyAtIDIgKiB4ICk7XG5cbn1cblxuZnVuY3Rpb24gc21vb3RoZXJzdGVwKCB4LCBtaW4sIG1heCApIHtcblxuXHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdGlmICggeCA+PSBtYXggKSByZXR1cm4gMTtcblxuXHR4ID0gKCB4IC0gbWluICkgLyAoIG1heCAtIG1pbiApO1xuXG5cdHJldHVybiB4ICogeCAqIHggKiAoIHggKiAoIHggKiA2IC0gMTUgKSArIDEwICk7XG5cbn1cblxuLy8gUmFuZG9tIGludGVnZXIgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbFxuZnVuY3Rpb24gcmFuZEludCggbG93LCBoaWdoICkge1xuXG5cdHJldHVybiBsb3cgKyBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBoaWdoIC0gbG93ICsgMSApICk7XG5cbn1cblxuLy8gUmFuZG9tIGZsb2F0IGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcbmZ1bmN0aW9uIHJhbmRGbG9hdCggbG93LCBoaWdoICkge1xuXG5cdHJldHVybiBsb3cgKyBNYXRoLnJhbmRvbSgpICogKCBoaWdoIC0gbG93ICk7XG5cbn1cblxuLy8gUmFuZG9tIGZsb2F0IGZyb20gPC1yYW5nZS8yLCByYW5nZS8yPiBpbnRlcnZhbFxuZnVuY3Rpb24gcmFuZEZsb2F0U3ByZWFkKCByYW5nZSApIHtcblxuXHRyZXR1cm4gcmFuZ2UgKiAoIDAuNSAtIE1hdGgucmFuZG9tKCkgKTtcblxufVxuXG4vLyBEZXRlcm1pbmlzdGljIHBzZXVkby1yYW5kb20gZmxvYXQgaW4gdGhlIGludGVydmFsIFsgMCwgMSBdXG5mdW5jdGlvbiBzZWVkZWRSYW5kb20oIHMgKSB7XG5cblx0aWYgKCBzICE9PSB1bmRlZmluZWQgKSBfc2VlZCA9IHMgJSAyMTQ3NDgzNjQ3O1xuXG5cdC8vIFBhcmstTWlsbGVyIGFsZ29yaXRobVxuXG5cdF9zZWVkID0gX3NlZWQgKiAxNjgwNyAlIDIxNDc0ODM2NDc7XG5cblx0cmV0dXJuICggX3NlZWQgLSAxICkgLyAyMTQ3NDgzNjQ2O1xuXG59XG5cbmZ1bmN0aW9uIGRlZ1RvUmFkKCBkZWdyZWVzICkge1xuXG5cdHJldHVybiBkZWdyZWVzICogREVHMlJBRDtcblxufVxuXG5mdW5jdGlvbiByYWRUb0RlZyggcmFkaWFucyApIHtcblxuXHRyZXR1cm4gcmFkaWFucyAqIFJBRDJERUc7XG5cbn1cblxuZnVuY3Rpb24gaXNQb3dlck9mVHdvKCB2YWx1ZSApIHtcblxuXHRyZXR1cm4gKCB2YWx1ZSAmICggdmFsdWUgLSAxICkgKSA9PT0gMCAmJiB2YWx1ZSAhPT0gMDtcblxufVxuXG5mdW5jdGlvbiBjZWlsUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmNlaWwoIE1hdGgubG9nKCB2YWx1ZSApIC8gTWF0aC5MTjIgKSApO1xuXG59XG5cbmZ1bmN0aW9uIGZsb29yUG93ZXJPZlR3byggdmFsdWUgKSB7XG5cblx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmZsb29yKCBNYXRoLmxvZyggdmFsdWUgKSAvIE1hdGguTE4yICkgKTtcblxufVxuXG5mdW5jdGlvbiBzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCBxLCBhLCBiLCBjLCBvcmRlciApIHtcblxuXHQvLyBJbnRyaW5zaWMgUHJvcGVyIEV1bGVyIEFuZ2xlcyAtIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWxlcl9hbmdsZXNcblxuXHQvLyByb3RhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGF4ZXMgaW4gdGhlIG9yZGVyIHNwZWNpZmllZCBieSAnb3JkZXInXG5cdC8vIHJvdGF0aW9uIGJ5IGFuZ2xlICdhJyBpcyBhcHBsaWVkIGZpcnN0LCB0aGVuIGJ5IGFuZ2xlICdiJywgdGhlbiBieSBhbmdsZSAnYydcblx0Ly8gYW5nbGVzIGFyZSBpbiByYWRpYW5zXG5cblx0Y29uc3QgY29zID0gTWF0aC5jb3M7XG5cdGNvbnN0IHNpbiA9IE1hdGguc2luO1xuXG5cdGNvbnN0IGMyID0gY29zKCBiIC8gMiApO1xuXHRjb25zdCBzMiA9IHNpbiggYiAvIDIgKTtcblxuXHRjb25zdCBjMTMgPSBjb3MoICggYSArIGMgKSAvIDIgKTtcblx0Y29uc3QgczEzID0gc2luKCAoIGEgKyBjICkgLyAyICk7XG5cblx0Y29uc3QgYzFfMyA9IGNvcyggKCBhIC0gYyApIC8gMiApO1xuXHRjb25zdCBzMV8zID0gc2luKCAoIGEgLSBjICkgLyAyICk7XG5cblx0Y29uc3QgYzNfMSA9IGNvcyggKCBjIC0gYSApIC8gMiApO1xuXHRjb25zdCBzM18xID0gc2luKCAoIGMgLSBhICkgLyAyICk7XG5cblx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRjYXNlICdYWVgnOlxuXHRcdFx0cS5zZXQoIGMyICogczEzLCBzMiAqIGMxXzMsIHMyICogczFfMywgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWVpZJzpcblx0XHRcdHEuc2V0KCBzMiAqIHMxXzMsIGMyICogczEzLCBzMiAqIGMxXzMsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1pYWic6XG5cdFx0XHRxLnNldCggczIgKiBjMV8zLCBzMiAqIHMxXzMsIGMyICogczEzLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlICdYWlgnOlxuXHRcdFx0cS5zZXQoIGMyICogczEzLCBzMiAqIHMzXzEsIHMyICogYzNfMSwgYzIgKiBjMTMgKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSAnWVhZJzpcblx0XHRcdHEuc2V0KCBzMiAqIGMzXzEsIGMyICogczEzLCBzMiAqIHMzXzEsIGMyICogYzEzICk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgJ1pZWic6XG5cdFx0XHRxLnNldCggczIgKiBzM18xLCBzMiAqIGMzXzEsIGMyICogczEzLCBjMiAqIGMxMyApO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0aFV0aWxzOiAuc2V0UXVhdGVybmlvbkZyb21Qcm9wZXJFdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlciApO1xuXG5cdH1cblxufVxuXG5cblxuXG5leHBvcnQge1xuXHRERUcyUkFELFxuXHRSQUQyREVHLFxuXHRnZW5lcmF0ZVVVSUQsXG5cdGNsYW1wLFxuXHRldWNsaWRlYW5Nb2R1bG8sXG5cdG1hcExpbmVhcixcblx0aW52ZXJzZUxlcnAsXG5cdGxlcnAsXG5cdGRhbXAsXG5cdHBpbmdwb25nLFxuXHRzbW9vdGhzdGVwLFxuXHRzbW9vdGhlcnN0ZXAsXG5cdHJhbmRJbnQsXG5cdHJhbmRGbG9hdCxcblx0cmFuZEZsb2F0U3ByZWFkLFxuXHRzZWVkZWRSYW5kb20sXG5cdGRlZ1RvUmFkLFxuXHRyYWRUb0RlZyxcblx0aXNQb3dlck9mVHdvLFxuXHRjZWlsUG93ZXJPZlR3byxcblx0Zmxvb3JQb3dlck9mVHdvLFxuXHRzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyLFxufTtcbiIsImltcG9ydCAqIGFzIE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscy5qcyc7XG5cbmNsYXNzIFF1YXRlcm5pb24ge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdH1cblxuXHRzdGF0aWMgc2xlcnAoIHFhLCBxYiwgcW0sIHQgKSB7XG5cblx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5RdWF0ZXJuaW9uOiBTdGF0aWMgLnNsZXJwKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHFtLnNsZXJwUXVhdGVybmlvbnMoIHFhLCBxYiwgdCApIGluc3RlYWQuJyApO1xuXHRcdHJldHVybiBxbS5zbGVycFF1YXRlcm5pb25zKCBxYSwgcWIsIHQgKTtcblxuXHR9XG5cblx0c3RhdGljIHNsZXJwRmxhdCggZHN0LCBkc3RPZmZzZXQsIHNyYzAsIHNyY09mZnNldDAsIHNyYzEsIHNyY09mZnNldDEsIHQgKSB7XG5cblx0XHQvLyBmdXp6LWZyZWUsIGFycmF5LWJhc2VkIFF1YXRlcm5pb24gU0xFUlAgb3BlcmF0aW9uXG5cblx0XHRsZXQgeDAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMCBdLFxuXHRcdFx0eTAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMSBdLFxuXHRcdFx0ejAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMiBdLFxuXHRcdFx0dzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMCBdLFxuXHRcdFx0eTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdLFxuXHRcdFx0ejEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMiBdLFxuXHRcdFx0dzEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMyBdO1xuXG5cdFx0aWYgKCB0ID09PSAwICkge1xuXG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDAgXSA9IHgwO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MDtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejA7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcwO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0ID09PSAxICkge1xuXG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDAgXSA9IHgxO1xuXHRcdFx0ZHN0WyBkc3RPZmZzZXQgKyAxIF0gPSB5MTtcblx0XHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejE7XG5cdFx0XHRkc3RbIGRzdE9mZnNldCArIDMgXSA9IHcxO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB3MCAhPT0gdzEgfHwgeDAgIT09IHgxIHx8IHkwICE9PSB5MSB8fCB6MCAhPT0gejEgKSB7XG5cblx0XHRcdGxldCBzID0gMSAtIHQ7XG5cdFx0XHRjb25zdCBjb3MgPSB4MCAqIHgxICsgeTAgKiB5MSArIHowICogejEgKyB3MCAqIHcxLFxuXHRcdFx0XHRkaXIgPSAoIGNvcyA+PSAwID8gMSA6IC0gMSApLFxuXHRcdFx0XHRzcXJTaW4gPSAxIC0gY29zICogY29zO1xuXG5cdFx0XHQvLyBTa2lwIHRoZSBTbGVycCBmb3IgdGlueSBzdGVwcyB0byBhdm9pZCBudW1lcmljIHByb2JsZW1zOlxuXHRcdFx0aWYgKCBzcXJTaW4gPiBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0XHRjb25zdCBzaW4gPSBNYXRoLnNxcnQoIHNxclNpbiApLFxuXHRcdFx0XHRcdGxlbiA9IE1hdGguYXRhbjIoIHNpbiwgY29zICogZGlyICk7XG5cblx0XHRcdFx0cyA9IE1hdGguc2luKCBzICogbGVuICkgLyBzaW47XG5cdFx0XHRcdHQgPSBNYXRoLnNpbiggdCAqIGxlbiApIC8gc2luO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHREaXIgPSB0ICogZGlyO1xuXG5cdFx0XHR4MCA9IHgwICogcyArIHgxICogdERpcjtcblx0XHRcdHkwID0geTAgKiBzICsgeTEgKiB0RGlyO1xuXHRcdFx0ejAgPSB6MCAqIHMgKyB6MSAqIHREaXI7XG5cdFx0XHR3MCA9IHcwICogcyArIHcxICogdERpcjtcblxuXHRcdFx0Ly8gTm9ybWFsaXplIGluIGNhc2Ugd2UganVzdCBkaWQgYSBsZXJwOlxuXHRcdFx0aWYgKCBzID09PSAxIC0gdCApIHtcblxuXHRcdFx0XHRjb25zdCBmID0gMSAvIE1hdGguc3FydCggeDAgKiB4MCArIHkwICogeTAgKyB6MCAqIHowICsgdzAgKiB3MCApO1xuXG5cdFx0XHRcdHgwICo9IGY7XG5cdFx0XHRcdHkwICo9IGY7XG5cdFx0XHRcdHowICo9IGY7XG5cdFx0XHRcdHcwICo9IGY7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGRzdFsgZHN0T2Zmc2V0IF0gPSB4MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MDtcblxuXHR9XG5cblx0c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KCBkc3QsIGRzdE9mZnNldCwgc3JjMCwgc3JjT2Zmc2V0MCwgc3JjMSwgc3JjT2Zmc2V0MSApIHtcblxuXHRcdGNvbnN0IHgwID0gc3JjMFsgc3JjT2Zmc2V0MCBdO1xuXHRcdGNvbnN0IHkwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDEgXTtcblx0XHRjb25zdCB6MCA9IHNyYzBbIHNyY09mZnNldDAgKyAyIF07XG5cdFx0Y29uc3QgdzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxIF07XG5cdFx0Y29uc3QgeTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdO1xuXHRcdGNvbnN0IHoxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDIgXTtcblx0XHRjb25zdCB3MSA9IHNyYzFbIHNyY09mZnNldDEgKyAzIF07XG5cblx0XHRkc3RbIGRzdE9mZnNldCBdID0geDAgKiB3MSArIHcwICogeDEgKyB5MCAqIHoxIC0gejAgKiB5MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwICogdzEgKyB3MCAqIHkxICsgejAgKiB4MSAtIHgwICogejE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAyIF0gPSB6MCAqIHcxICsgdzAgKiB6MSArIHgwICogeTEgLSB5MCAqIHgxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMyBdID0gdzAgKiB3MSAtIHgwICogeDEgLSB5MCAqIHkxIC0gejAgKiB6MTtcblxuXHRcdHJldHVybiBkc3Q7XG5cblx0fVxuXG5cdGdldCB4KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cblx0fVxuXG5cdHNldCB4KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ggPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cblx0fVxuXG5cdHNldCB5KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3kgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB6KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3o7XG5cblx0fVxuXG5cdHNldCB6KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ogPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB3KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3c7XG5cblx0fVxuXG5cdHNldCB3KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3cgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgdyApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl93ICk7XG5cblx0fVxuXG5cdGNvcHkoIHF1YXRlcm5pb24gKSB7XG5cblx0XHR0aGlzLl94ID0gcXVhdGVybmlvbi54O1xuXHRcdHRoaXMuX3kgPSBxdWF0ZXJuaW9uLnk7XG5cdFx0dGhpcy5feiA9IHF1YXRlcm5pb24uejtcblx0XHR0aGlzLl93ID0gcXVhdGVybmlvbi53O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21FdWxlciggZXVsZXIsIHVwZGF0ZSApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLl94LCB5ID0gZXVsZXIuX3ksIHogPSBldWxlci5feiwgb3JkZXIgPSBldWxlci5fb3JkZXI7XG5cblx0XHQvLyBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvXG5cdFx0Ly8gXHQyMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy9cblx0XHQvL1x0Y29udGVudC9TcGluQ2FsYy5tXG5cblx0XHRjb25zdCBjb3MgPSBNYXRoLmNvcztcblx0XHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRcdGNvbnN0IGMxID0gY29zKCB4IC8gMiApO1xuXHRcdGNvbnN0IGMyID0gY29zKCB5IC8gMiApO1xuXHRcdGNvbnN0IGMzID0gY29zKCB6IC8gMiApO1xuXG5cdFx0Y29uc3QgczEgPSBzaW4oIHggLyAyICk7XG5cdFx0Y29uc3QgczIgPSBzaW4oIHkgLyAyICk7XG5cdFx0Y29uc3QgczMgPSBzaW4oIHogLyAyICk7XG5cblx0XHRzd2l0Y2ggKCBvcmRlciApIHtcblxuXHRcdFx0Y2FzZSAnWFlaJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1lYWic6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWFknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWllYJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1laWCc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdYWlknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL2FuZ2xlVG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxuXG5cdFx0Ly8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWRcblxuXHRcdGNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlIC8gMiwgcyA9IE1hdGguc2luKCBoYWxmQW5nbGUgKTtcblxuXHRcdHRoaXMuX3ggPSBheGlzLnggKiBzO1xuXHRcdHRoaXMuX3kgPSBheGlzLnkgKiBzO1xuXHRcdHRoaXMuX3ogPSBheGlzLnogKiBzO1xuXHRcdHRoaXMuX3cgPSBNYXRoLmNvcyggaGFsZkFuZ2xlICk7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVJvdGF0aW9uTWF0cml4KCBtICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHMsXG5cblx0XHRcdG0xMSA9IHRlWyAwIF0sIG0xMiA9IHRlWyA0IF0sIG0xMyA9IHRlWyA4IF0sXG5cdFx0XHRtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdLFxuXHRcdFx0bTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF0sXG5cblx0XHRcdHRyYWNlID0gbTExICsgbTIyICsgbTMzO1xuXG5cdFx0aWYgKCB0cmFjZSA+IDAgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAwLjUgLyBNYXRoLnNxcnQoIHRyYWNlICsgMS4wICk7XG5cblx0XHRcdHRoaXMuX3cgPSAwLjI1IC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0zMiAtIG0yMyApICogcztcblx0XHRcdHRoaXMuX3kgPSAoIG0xMyAtIG0zMSApICogcztcblx0XHRcdHRoaXMuX3ogPSAoIG0yMSAtIG0xMiApICogcztcblxuXHRcdH0gZWxzZSBpZiAoIG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0xMSAtIG0yMiAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMzIgLSBtMjMgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMTMgKyBtMzEgKSAvIHM7XG5cblx0XHR9IGVsc2UgaWYgKCBtMjIgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0yMiAtIG0xMSAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMTMgLSBtMzEgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl95ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMjMgKyBtMzIgKSAvIHM7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMzMgLSBtMTEgLSBtMjIgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTIxIC0gbTEyICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTEzICsgbTMxICkgLyBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTIzICsgbTMyICkgLyBzO1xuXHRcdFx0dGhpcy5feiA9IDAuMjUgKiBzO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Vbml0VmVjdG9ycyggdkZyb20sIHZUbyApIHtcblxuXHRcdC8vIGFzc3VtZXMgZGlyZWN0aW9uIHZlY3RvcnMgdkZyb20gYW5kIHZUbyBhcmUgbm9ybWFsaXplZFxuXG5cdFx0bGV0IHIgPSB2RnJvbS5kb3QoIHZUbyApICsgMTtcblxuXHRcdGlmICggciA8IE51bWJlci5FUFNJTE9OICkge1xuXG5cdFx0XHQvLyB2RnJvbSBhbmQgdlRvIHBvaW50IGluIG9wcG9zaXRlIGRpcmVjdGlvbnNcblxuXHRcdFx0ciA9IDA7XG5cblx0XHRcdGlmICggTWF0aC5hYnMoIHZGcm9tLnggKSA+IE1hdGguYWJzKCB2RnJvbS56ICkgKSB7XG5cblx0XHRcdFx0dGhpcy5feCA9IC0gdkZyb20ueTtcblx0XHRcdFx0dGhpcy5feSA9IHZGcm9tLng7XG5cdFx0XHRcdHRoaXMuX3ogPSAwO1xuXHRcdFx0XHR0aGlzLl93ID0gcjtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0dGhpcy5feSA9IC0gdkZyb20uejtcblx0XHRcdFx0dGhpcy5feiA9IHZGcm9tLnk7XG5cdFx0XHRcdHRoaXMuX3cgPSByO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBjcm9zc1ZlY3RvcnMoIHZGcm9tLCB2VG8gKTsgLy8gaW5saW5lZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeSBvbiBWZWN0b3IzXG5cblx0XHRcdHRoaXMuX3ggPSB2RnJvbS55ICogdlRvLnogLSB2RnJvbS56ICogdlRvLnk7XG5cdFx0XHR0aGlzLl95ID0gdkZyb20ueiAqIHZUby54IC0gdkZyb20ueCAqIHZUby56O1xuXHRcdFx0dGhpcy5feiA9IHZGcm9tLnggKiB2VG8ueSAtIHZGcm9tLnkgKiB2VG8ueDtcblx0XHRcdHRoaXMuX3cgPSByO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGFuZ2xlVG8oIHEgKSB7XG5cblx0XHRyZXR1cm4gMiAqIE1hdGguYWNvcyggTWF0aC5hYnMoIE1hdGhVdGlscy5jbGFtcCggdGhpcy5kb3QoIHEgKSwgLSAxLCAxICkgKSApO1xuXG5cdH1cblxuXHRyb3RhdGVUb3dhcmRzKCBxLCBzdGVwICkge1xuXG5cdFx0Y29uc3QgYW5nbGUgPSB0aGlzLmFuZ2xlVG8oIHEgKTtcblxuXHRcdGlmICggYW5nbGUgPT09IDAgKSByZXR1cm4gdGhpcztcblxuXHRcdGNvbnN0IHQgPSBNYXRoLm1pbiggMSwgc3RlcCAvIGFuZ2xlICk7XG5cblx0XHR0aGlzLnNsZXJwKCBxLCB0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aWRlbnRpdHkoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAsIDEgKTtcblxuXHR9XG5cblx0aW52ZXJ0KCkge1xuXG5cdFx0Ly8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLmNvbmp1Z2F0ZSgpO1xuXG5cdH1cblxuXHRjb25qdWdhdGUoKSB7XG5cblx0XHR0aGlzLl94ICo9IC0gMTtcblx0XHR0aGlzLl95ICo9IC0gMTtcblx0XHR0aGlzLl96ICo9IC0gMTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feCAqIHYuX3ggKyB0aGlzLl95ICogdi5feSArIHRoaXMuX3ogKiB2Ll96ICsgdGhpcy5fdyAqIHYuX3c7XG5cblx0fVxuXG5cdGxlbmd0aFNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3ggKiB0aGlzLl94ICsgdGhpcy5feSAqIHRoaXMuX3kgKyB0aGlzLl96ICogdGhpcy5feiArIHRoaXMuX3cgKiB0aGlzLl93O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdyApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRsZXQgbCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRpZiAoIGwgPT09IDAgKSB7XG5cblx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdHRoaXMuX3cgPSAxO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bCA9IDEgLyBsO1xuXG5cdFx0XHR0aGlzLl94ID0gdGhpcy5feCAqIGw7XG5cdFx0XHR0aGlzLl95ID0gdGhpcy5feSAqIGw7XG5cdFx0XHR0aGlzLl96ID0gdGhpcy5feiAqIGw7XG5cdFx0XHR0aGlzLl93ID0gdGhpcy5fdyAqIGw7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHEsIHAgKSB7XG5cblx0XHRpZiAoIHAgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggcSwgcCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGhpcywgcSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggcSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHEsIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIHtcblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9jb2RlL2luZGV4Lmh0bVxuXG5cdFx0Y29uc3QgcWF4ID0gYS5feCwgcWF5ID0gYS5feSwgcWF6ID0gYS5feiwgcWF3ID0gYS5fdztcblx0XHRjb25zdCBxYnggPSBiLl94LCBxYnkgPSBiLl95LCBxYnogPSBiLl96LCBxYncgPSBiLl93O1xuXG5cdFx0dGhpcy5feCA9IHFheCAqIHFidyArIHFhdyAqIHFieCArIHFheSAqIHFieiAtIHFheiAqIHFieTtcblx0XHR0aGlzLl95ID0gcWF5ICogcWJ3ICsgcWF3ICogcWJ5ICsgcWF6ICogcWJ4IC0gcWF4ICogcWJ6O1xuXHRcdHRoaXMuX3ogPSBxYXogKiBxYncgKyBxYXcgKiBxYnogKyBxYXggKiBxYnkgLSBxYXkgKiBxYng7XG5cdFx0dGhpcy5fdyA9IHFhdyAqIHFidyAtIHFheCAqIHFieCAtIHFheSAqIHFieSAtIHFheiAqIHFiejtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzbGVycCggcWIsIHQgKSB7XG5cblx0XHRpZiAoIHQgPT09IDAgKSByZXR1cm4gdGhpcztcblx0XHRpZiAoIHQgPT09IDEgKSByZXR1cm4gdGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMuX3gsIHkgPSB0aGlzLl95LCB6ID0gdGhpcy5feiwgdyA9IHRoaXMuX3c7XG5cblx0XHQvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL3NsZXJwL1xuXG5cdFx0bGV0IGNvc0hhbGZUaGV0YSA9IHcgKiBxYi5fdyArIHggKiBxYi5feCArIHkgKiBxYi5feSArIHogKiBxYi5fejtcblxuXHRcdGlmICggY29zSGFsZlRoZXRhIDwgMCApIHtcblxuXHRcdFx0dGhpcy5fdyA9IC0gcWIuX3c7XG5cdFx0XHR0aGlzLl94ID0gLSBxYi5feDtcblx0XHRcdHRoaXMuX3kgPSAtIHFiLl95O1xuXHRcdFx0dGhpcy5feiA9IC0gcWIuX3o7XG5cblx0XHRcdGNvc0hhbGZUaGV0YSA9IC0gY29zSGFsZlRoZXRhO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBjb3NIYWxmVGhldGEgPj0gMS4wICkge1xuXG5cdFx0XHR0aGlzLl93ID0gdztcblx0XHRcdHRoaXMuX3ggPSB4O1xuXHRcdFx0dGhpcy5feSA9IHk7XG5cdFx0XHR0aGlzLl96ID0gejtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzcXJTaW5IYWxmVGhldGEgPSAxLjAgLSBjb3NIYWxmVGhldGEgKiBjb3NIYWxmVGhldGE7XG5cblx0XHRpZiAoIHNxclNpbkhhbGZUaGV0YSA8PSBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDEgLSB0O1xuXHRcdFx0dGhpcy5fdyA9IHMgKiB3ICsgdCAqIHRoaXMuX3c7XG5cdFx0XHR0aGlzLl94ID0gcyAqIHggKyB0ICogdGhpcy5feDtcblx0XHRcdHRoaXMuX3kgPSBzICogeSArIHQgKiB0aGlzLl95O1xuXHRcdFx0dGhpcy5feiA9IHMgKiB6ICsgdCAqIHRoaXMuX3o7XG5cblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XG5cdFx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2luSGFsZlRoZXRhID0gTWF0aC5zcXJ0KCBzcXJTaW5IYWxmVGhldGEgKTtcblx0XHRjb25zdCBoYWxmVGhldGEgPSBNYXRoLmF0YW4yKCBzaW5IYWxmVGhldGEsIGNvc0hhbGZUaGV0YSApO1xuXHRcdGNvbnN0IHJhdGlvQSA9IE1hdGguc2luKCAoIDEgLSB0ICkgKiBoYWxmVGhldGEgKSAvIHNpbkhhbGZUaGV0YSxcblx0XHRcdHJhdGlvQiA9IE1hdGguc2luKCB0ICogaGFsZlRoZXRhICkgLyBzaW5IYWxmVGhldGE7XG5cblx0XHR0aGlzLl93ID0gKCB3ICogcmF0aW9BICsgdGhpcy5fdyAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3ggPSAoIHggKiByYXRpb0EgKyB0aGlzLl94ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feSA9ICggeSAqIHJhdGlvQSArIHRoaXMuX3kgKiByYXRpb0IgKTtcblx0XHR0aGlzLl96ID0gKCB6ICogcmF0aW9BICsgdGhpcy5feiAqIHJhdGlvQiApO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNsZXJwUXVhdGVybmlvbnMoIHFhLCBxYiwgdCApIHtcblxuXHRcdHRoaXMuY29weSggcWEgKS5zbGVycCggcWIsIHQgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCBxdWF0ZXJuaW9uICkge1xuXG5cdFx0cmV0dXJuICggcXVhdGVybmlvbi5feCA9PT0gdGhpcy5feCApICYmICggcXVhdGVybmlvbi5feSA9PT0gdGhpcy5feSApICYmICggcXVhdGVybmlvbi5feiA9PT0gdGhpcy5feiApICYmICggcXVhdGVybmlvbi5fdyA9PT0gdGhpcy5fdyApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLl95ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLl96ID0gYXJyYXlbIG9mZnNldCArIDIgXTtcblx0XHR0aGlzLl93ID0gYXJyYXlbIG9mZnNldCArIDMgXTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy5feDtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGhpcy5feTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy5fejtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMyBdID0gdGhpcy5fdztcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCApIHtcblxuXHRcdHRoaXMuX3ggPSBhdHRyaWJ1dGUuZ2V0WCggaW5kZXggKTtcblx0XHR0aGlzLl95ID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy5feiA9IGF0dHJpYnV0ZS5nZXRaKCBpbmRleCApO1xuXHRcdHRoaXMuX3cgPSBhdHRyaWJ1dGUuZ2V0VyggaW5kZXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5RdWF0ZXJuaW9uLnByb3RvdHlwZS5pc1F1YXRlcm5pb24gPSB0cnVlO1xuXG5leHBvcnQgeyBRdWF0ZXJuaW9uIH07XG4iLCJpbXBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4vUXVhdGVybmlvbi5qcyc7XG5cbmNsYXNzIFZlY3RvcjMge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwICkge1xuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHo7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiApIHtcblxuXHRcdGlmICggeiA9PT0gdW5kZWZpbmVkICkgeiA9IHRoaXMuejsgLy8gc3ByaXRlLnNjYWxlLnNldCh4LHkpXG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCA9IHNjYWxhcjtcblx0XHR0aGlzLnkgPSBzY2FsYXI7XG5cdFx0dGhpcy56ID0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFgoIHggKSB7XG5cblx0XHR0aGlzLnggPSB4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFkoIHkgKSB7XG5cblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFooIHogKSB7XG5cblx0XHR0aGlzLnogPSB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudCggaW5kZXgsIHZhbHVlICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogdGhpcy54ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB0aGlzLnkgPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHRoaXMueiA9IHZhbHVlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Q29tcG9uZW50KCBpbmRleCApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHJldHVybiB0aGlzLng7XG5cdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLnk7XG5cdFx0XHRjYXNlIDI6IHJldHVybiB0aGlzLno7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy54LCB0aGlzLnksIHRoaXMueiApO1xuXG5cdH1cblxuXHRjb3B5KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gdi54O1xuXHRcdHRoaXMueSA9IHYueTtcblx0XHR0aGlzLnogPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKz0gdi54O1xuXHRcdHRoaXMueSArPSB2Lnk7XG5cdFx0dGhpcy56ICs9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggKz0gcztcblx0XHR0aGlzLnkgKz0gcztcblx0XHR0aGlzLnogKz0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54ICsgYi54O1xuXHRcdHRoaXMueSA9IGEueSArIGIueTtcblx0XHR0aGlzLnogPSBhLnogKyBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGVkVmVjdG9yKCB2LCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHYueCAqIHM7XG5cdFx0dGhpcy55ICs9IHYueSAqIHM7XG5cdFx0dGhpcy56ICs9IHYueiAqIHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggLT0gdi54O1xuXHRcdHRoaXMueSAtPSB2Lnk7XG5cdFx0dGhpcy56IC09IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJTY2FsYXIoIHMgKSB7XG5cblx0XHR0aGlzLnggLT0gcztcblx0XHR0aGlzLnkgLT0gcztcblx0XHR0aGlzLnogLT0gcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWJWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0dGhpcy54ID0gYS54IC0gYi54O1xuXHRcdHRoaXMueSA9IGEueSAtIGIueTtcblx0XHR0aGlzLnogPSBhLnogLSBiLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCAqPSB2Lng7XG5cdFx0dGhpcy55ICo9IHYueTtcblx0XHR0aGlzLnogKj0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLnggKj0gc2NhbGFyO1xuXHRcdHRoaXMueSAqPSBzY2FsYXI7XG5cdFx0dGhpcy56ICo9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseVZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggKiBiLng7XG5cdFx0dGhpcy55ID0gYS55ICogYi55O1xuXHRcdHRoaXMueiA9IGEueiAqIGIuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseUV1bGVyKCBldWxlciApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLlZlY3RvcjM6IC5hcHBseUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggZXVsZXIgKSApO1xuXG5cdH1cblxuXHRhcHBseUF4aXNBbmdsZSggYXhpcywgYW5nbGUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDAgXSAqIHggKyBlWyAzIF0gKiB5ICsgZVsgNiBdICogejtcblx0XHR0aGlzLnkgPSBlWyAxIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDcgXSAqIHo7XG5cdFx0dGhpcy56ID0gZVsgMiBdICogeCArIGVbIDUgXSAqIHkgKyBlWyA4IF0gKiB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5Tm9ybWFsTWF0cml4KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKCBtICkubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHRjb25zdCB3ID0gMSAvICggZVsgMyBdICogeCArIGVbIDcgXSAqIHkgKyBlWyAxMSBdICogeiArIGVbIDE1IF0gKTtcblxuXHRcdHRoaXMueCA9ICggZVsgMCBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA4IF0gKiB6ICsgZVsgMTIgXSApICogdztcblx0XHR0aGlzLnkgPSAoIGVbIDEgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOSBdICogeiArIGVbIDEzIF0gKSAqIHc7XG5cdFx0dGhpcy56ID0gKCBlWyAyIF0gKiB4ICsgZVsgNiBdICogeSArIGVbIDEwIF0gKiB6ICsgZVsgMTQgXSApICogdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhcHBseVF1YXRlcm5pb24oIHEgKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IHF4ID0gcS54LCBxeSA9IHEueSwgcXogPSBxLnosIHF3ID0gcS53O1xuXG5cdFx0Ly8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcblxuXHRcdGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuXHRcdGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuXHRcdGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuXHRcdGNvbnN0IGl3ID0gLSBxeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7XG5cblx0XHQvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG5cblx0XHR0aGlzLnggPSBpeCAqIHF3ICsgaXcgKiAtIHF4ICsgaXkgKiAtIHF6IC0gaXogKiAtIHF5O1xuXHRcdHRoaXMueSA9IGl5ICogcXcgKyBpdyAqIC0gcXkgKyBpeiAqIC0gcXggLSBpeCAqIC0gcXo7XG5cdFx0dGhpcy56ID0gaXogKiBxdyArIGl3ICogLSBxeiArIGl4ICogLSBxeSAtIGl5ICogLSBxeDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRwcm9qZWN0KCBjYW1lcmEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoIGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UgKS5hcHBseU1hdHJpeDQoIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4ICk7XG5cblx0fVxuXG5cdHVucHJvamVjdCggY2FtZXJhICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KCBjYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UgKS5hcHBseU1hdHJpeDQoIGNhbWVyYS5tYXRyaXhXb3JsZCApO1xuXG5cdH1cblxuXHR0cmFuc2Zvcm1EaXJlY3Rpb24oIG0gKSB7XG5cblx0XHQvLyBpbnB1dDogVEhSRUUuTWF0cml4NCBhZmZpbmUgbWF0cml4XG5cdFx0Ly8gdmVjdG9yIGludGVycHJldGVkIGFzIGEgZGlyZWN0aW9uXG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA4IF0gKiB6O1xuXHRcdHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA1IF0gKiB5ICsgZVsgOSBdICogejtcblx0XHR0aGlzLnogPSBlWyAyIF0gKiB4ICsgZVsgNiBdICogeSArIGVbIDEwIF0gKiB6O1xuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7XG5cblx0fVxuXG5cdGRpdmlkZSggdiApIHtcblxuXHRcdHRoaXMueCAvPSB2Lng7XG5cdFx0dGhpcy55IC89IHYueTtcblx0XHR0aGlzLnogLz0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpdmlkZVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoIDEgLyBzY2FsYXIgKTtcblxuXHR9XG5cblx0bWluKCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5taW4oIHRoaXMueiwgdi56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWF4KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIHRoaXMueSwgdi55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIHRoaXMueiwgdi56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXAoIG1pbiwgbWF4ICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW4ueCwgTWF0aC5taW4oIG1heC54LCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCBtaW4ueiwgTWF0aC5taW4oIG1heC56LCB0aGlzLnogKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wU2NhbGFyKCBtaW5WYWwsIG1heFZhbCApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy55ICkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnogKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wTGVuZ3RoKCBtaW4sIG1heCApIHtcblxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIGxlbmd0aCB8fCAxICkubXVsdGlwbHlTY2FsYXIoIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIGxlbmd0aCApICkgKTtcblxuXHR9XG5cblx0Zmxvb3IoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmZsb29yKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmZsb29yKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLmZsb29yKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjZWlsKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5jZWlsKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLmNlaWwoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9IE1hdGguY2VpbCggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm91bmQoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKCB0aGlzLnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKCB0aGlzLnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLnJvdW5kKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZFRvWmVybygpIHtcblxuXHRcdHRoaXMueCA9ICggdGhpcy54IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9ICggdGhpcy55IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9ICggdGhpcy56IDwgMCApID8gTWF0aC5jZWlsKCB0aGlzLnogKSA6IE1hdGguZmxvb3IoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xuXHRcdHRoaXMueSA9IC0gdGhpcy55O1xuXHRcdHRoaXMueiA9IC0gdGhpcy56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRvdCggdiApIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2Lno7XG5cblx0fVxuXG5cdC8vIFRPRE8gbGVuZ3RoU3F1YXJlZD9cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLno7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiApO1xuXG5cdH1cblxuXHRtYW5oYXR0YW5MZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApICsgTWF0aC5hYnMoIHRoaXMueiApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xuXG5cdH1cblxuXHRzZXRMZW5ndGgoIGxlbmd0aCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKCBsZW5ndGggKTtcblxuXHR9XG5cblx0bGVycCggdiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggKz0gKCB2LnggLSB0aGlzLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSArPSAoIHYueSAtIHRoaXMueSApICogYWxwaGE7XG5cdFx0dGhpcy56ICs9ICggdi56IC0gdGhpcy56ICkgKiBhbHBoYTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRsZXJwVmVjdG9ycyggdjEsIHYyLCBhbHBoYSApIHtcblxuXHRcdHRoaXMueCA9IHYxLnggKyAoIHYyLnggLSB2MS54ICkgKiBhbHBoYTtcblx0XHR0aGlzLnkgPSB2MS55ICsgKCB2Mi55IC0gdjEueSApICogYWxwaGE7XG5cdFx0dGhpcy56ID0gdjEueiArICggdjIueiAtIHYxLnogKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNyb3NzKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnMoIHRoaXMsIHYgKTtcblxuXHR9XG5cblx0Y3Jvc3NWZWN0b3JzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYXggPSBhLngsIGF5ID0gYS55LCBheiA9IGEuejtcblx0XHRjb25zdCBieCA9IGIueCwgYnkgPSBiLnksIGJ6ID0gYi56O1xuXG5cdFx0dGhpcy54ID0gYXkgKiBieiAtIGF6ICogYnk7XG5cdFx0dGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7XG5cdFx0dGhpcy56ID0gYXggKiBieSAtIGF5ICogYng7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cHJvamVjdE9uVmVjdG9yKCB2ICkge1xuXG5cdFx0Y29uc3QgZGVub21pbmF0b3IgPSB2Lmxlbmd0aFNxKCk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkgcmV0dXJuIHRoaXMuc2V0KCAwLCAwLCAwICk7XG5cblx0XHRjb25zdCBzY2FsYXIgPSB2LmRvdCggdGhpcyApIC8gZGVub21pbmF0b3I7XG5cblx0XHRyZXR1cm4gdGhpcy5jb3B5KCB2ICkubXVsdGlwbHlTY2FsYXIoIHNjYWxhciApO1xuXG5cdH1cblxuXHRwcm9qZWN0T25QbGFuZSggcGxhbmVOb3JtYWwgKSB7XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMgKS5wcm9qZWN0T25WZWN0b3IoIHBsYW5lTm9ybWFsICk7XG5cblx0XHRyZXR1cm4gdGhpcy5zdWIoIF92ZWN0b3IgKTtcblxuXHR9XG5cblx0cmVmbGVjdCggbm9ybWFsICkge1xuXG5cdFx0Ly8gcmVmbGVjdCBpbmNpZGVudCB2ZWN0b3Igb2ZmIHBsYW5lIG9ydGhvZ29uYWwgdG8gbm9ybWFsXG5cdFx0Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aFxuXG5cdFx0cmV0dXJuIHRoaXMuc3ViKCBfdmVjdG9yLmNvcHkoIG5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAyICogdGhpcy5kb3QoIG5vcm1hbCApICkgKTtcblxuXHR9XG5cblx0YW5nbGVUbyggdiApIHtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gTWF0aC5zcXJ0KCB0aGlzLmxlbmd0aFNxKCkgKiB2Lmxlbmd0aFNxKCkgKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgPT09IDAgKSByZXR1cm4gTWF0aC5QSSAvIDI7XG5cblx0XHRjb25zdCB0aGV0YSA9IHRoaXMuZG90KCB2ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdC8vIGNsYW1wLCB0byBoYW5kbGUgbnVtZXJpY2FsIHByb2JsZW1zXG5cblx0XHRyZXR1cm4gTWF0aC5hY29zKCBNYXRoVXRpbHMuY2xhbXAoIHRoZXRhLCAtIDEsIDEgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvKCB2ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVRvU3F1YXJlZCggdiApICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9TcXVhcmVkKCB2ICkge1xuXG5cdFx0Y29uc3QgZHggPSB0aGlzLnggLSB2LngsIGR5ID0gdGhpcy55IC0gdi55LCBkeiA9IHRoaXMueiAtIHYuejtcblxuXHRcdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHo7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApICsgTWF0aC5hYnMoIHRoaXMueiAtIHYueiApO1xuXG5cdH1cblxuXHRzZXRGcm9tU3BoZXJpY2FsKCBzICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVNwaGVyaWNhbENvb3Jkcyggcy5yYWRpdXMsIHMucGhpLCBzLnRoZXRhICk7XG5cblx0fVxuXG5cdHNldEZyb21TcGhlcmljYWxDb29yZHMoIHJhZGl1cywgcGhpLCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IHNpblBoaVJhZGl1cyA9IE1hdGguc2luKCBwaGkgKSAqIHJhZGl1cztcblxuXHRcdHRoaXMueCA9IHNpblBoaVJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApO1xuXHRcdHRoaXMueSA9IE1hdGguY29zKCBwaGkgKSAqIHJhZGl1cztcblx0XHR0aGlzLnogPSBzaW5QaGlSYWRpdXMgKiBNYXRoLmNvcyggdGhldGEgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ3lsaW5kcmljYWwoIGMgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMoIGMucmFkaXVzLCBjLnRoZXRhLCBjLnkgKTtcblxuXHR9XG5cblx0c2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKCByYWRpdXMsIHRoZXRhLCB5ICkge1xuXG5cdFx0dGhpcy54ID0gcmFkaXVzICogTWF0aC5zaW4oIHRoZXRhICk7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSByYWRpdXMgKiBNYXRoLmNvcyggdGhldGEgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4UG9zaXRpb24oIG0gKSB7XG5cblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdHRoaXMueCA9IGVbIDEyIF07XG5cdFx0dGhpcy55ID0gZVsgMTMgXTtcblx0XHR0aGlzLnogPSBlWyAxNCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhTY2FsZSggbSApIHtcblxuXHRcdGNvbnN0IHN4ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAwICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3kgPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDEgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzeiA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMiApLmxlbmd0aCgpO1xuXG5cdFx0dGhpcy54ID0gc3g7XG5cdFx0dGhpcy55ID0gc3k7XG5cdFx0dGhpcy56ID0gc3o7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeENvbHVtbiggbSwgaW5kZXggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5mcm9tQXJyYXkoIG0uZWxlbWVudHMsIGluZGV4ICogNCApO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4M0NvbHVtbiggbSwgaW5kZXggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5mcm9tQXJyYXkoIG0uZWxlbWVudHMsIGluZGV4ICogMyApO1xuXG5cdH1cblxuXHRlcXVhbHMoIHYgKSB7XG5cblx0XHRyZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICYmICggdi56ID09PSB0aGlzLnogKSApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0dGhpcy54ID0gYXJyYXlbIG9mZnNldCBdO1xuXHRcdHRoaXMueSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cdFx0dGhpcy56ID0gYXJyYXlbIG9mZnNldCArIDIgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGhpcy54O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLnk7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuejtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG5cdFx0aWYgKCBvZmZzZXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuXHRcdHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXHRcdHRoaXMueiA9IGF0dHJpYnV0ZS5nZXRaKCBpbmRleCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJhbmRvbSgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCk7XG5cdFx0dGhpcy55ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnogPSBNYXRoLnJhbmRvbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59XG5cblZlY3RvcjMucHJvdG90eXBlLmlzVmVjdG9yMyA9IHRydWU7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfcXVhdGVybmlvbiA9IC8qQF9fUFVSRV9fKi8gbmV3IFF1YXRlcm5pb24oKTtcblxuZXhwb3J0IHsgVmVjdG9yMyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIE1hdHJpeDQge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5lbGVtZW50cyA9IFtcblxuXHRcdFx0MSwgMCwgMCwgMCxcblx0XHRcdDAsIDEsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0XTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLicgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0KCBuMTEsIG4xMiwgbjEzLCBuMTQsIG4yMSwgbjIyLCBuMjMsIG4yNCwgbjMxLCBuMzIsIG4zMywgbjM0LCBuNDEsIG40MiwgbjQzLCBuNDQgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbjExOyB0ZVsgNCBdID0gbjEyOyB0ZVsgOCBdID0gbjEzOyB0ZVsgMTIgXSA9IG4xNDtcblx0XHR0ZVsgMSBdID0gbjIxOyB0ZVsgNSBdID0gbjIyOyB0ZVsgOSBdID0gbjIzOyB0ZVsgMTMgXSA9IG4yNDtcblx0XHR0ZVsgMiBdID0gbjMxOyB0ZVsgNiBdID0gbjMyOyB0ZVsgMTAgXSA9IG4zMzsgdGVbIDE0IF0gPSBuMzQ7XG5cdFx0dGVbIDMgXSA9IG40MTsgdGVbIDcgXSA9IG40MjsgdGVbIDExIF0gPSBuNDM7IHRlWyAxNSBdID0gbjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IE1hdHJpeDQoKS5mcm9tQXJyYXkoIHRoaXMuZWxlbWVudHMgKTtcblxuXHR9XG5cblx0Y29weSggbSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXTsgdGVbIDEgXSA9IG1lWyAxIF07IHRlWyAyIF0gPSBtZVsgMiBdOyB0ZVsgMyBdID0gbWVbIDMgXTtcblx0XHR0ZVsgNCBdID0gbWVbIDQgXTsgdGVbIDUgXSA9IG1lWyA1IF07IHRlWyA2IF0gPSBtZVsgNiBdOyB0ZVsgNyBdID0gbWVbIDcgXTtcblx0XHR0ZVsgOCBdID0gbWVbIDggXTsgdGVbIDkgXSA9IG1lWyA5IF07IHRlWyAxMCBdID0gbWVbIDEwIF07IHRlWyAxMSBdID0gbWVbIDExIF07XG5cdFx0dGVbIDEyIF0gPSBtZVsgMTIgXTsgdGVbIDEzIF0gPSBtZVsgMTMgXTsgdGVbIDE0IF0gPSBtZVsgMTQgXTsgdGVbIDE1IF0gPSBtZVsgMTUgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5UG9zaXRpb24oIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsIG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAxMiBdID0gbWVbIDEyIF07XG5cdFx0dGVbIDEzIF0gPSBtZVsgMTMgXTtcblx0XHR0ZVsgMTQgXSA9IG1lWyAxNCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXgzKCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyAzIF0sIG1lWyA2IF0sIDAsXG5cdFx0XHRtZVsgMSBdLCBtZVsgNCBdLCBtZVsgNyBdLCAwLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDUgXSwgbWVbIDggXSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdEJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0eEF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMCApO1xuXHRcdHlBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUJhc2lzKCB4QXhpcywgeUF4aXMsIHpBeGlzICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHR4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLFxuXHRcdFx0eEF4aXMueSwgeUF4aXMueSwgekF4aXMueSwgMCxcblx0XHRcdHhBeGlzLnosIHlBeGlzLnosIHpBeGlzLnosIDAsXG5cdFx0XHQwLCAwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHRyYWN0Um90YXRpb24oIG0gKSB7XG5cblx0XHQvLyB0aGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IHJlZmxlY3Rpb24gbWF0cmljZXNcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVggPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDAgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVkgPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDEgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzY2FsZVogPSAxIC8gX3YxLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDIgKS5sZW5ndGgoKTtcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdICogc2NhbGVYO1xuXHRcdHRlWyAxIF0gPSBtZVsgMSBdICogc2NhbGVYO1xuXHRcdHRlWyAyIF0gPSBtZVsgMiBdICogc2NhbGVYO1xuXHRcdHRlWyAzIF0gPSAwO1xuXG5cdFx0dGVbIDQgXSA9IG1lWyA0IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDUgXSA9IG1lWyA1IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDYgXSA9IG1lWyA2IF0gKiBzY2FsZVk7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gbWVbIDggXSAqIHNjYWxlWjtcblx0XHR0ZVsgOSBdID0gbWVbIDkgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTAgXSA9IG1lWyAxMCBdICogc2NhbGVaO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDE0IF0gPSAwO1xuXHRcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25Gcm9tRXVsZXIoIGV1bGVyICkge1xuXG5cdFx0aWYgKCAhICggZXVsZXIgJiYgZXVsZXIuaXNFdWxlciApICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4NDogLm1ha2VSb3RhdGlvbkZyb21FdWxlcigpIG5vdyBleHBlY3RzIGEgRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCB4ID0gZXVsZXIueCwgeSA9IGV1bGVyLnksIHogPSBldWxlci56O1xuXHRcdGNvbnN0IGEgPSBNYXRoLmNvcyggeCApLCBiID0gTWF0aC5zaW4oIHggKTtcblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHkgKSwgZCA9IE1hdGguc2luKCB5ICk7XG5cdFx0Y29uc3QgZSA9IE1hdGguY29zKCB6ICksIGYgPSBNYXRoLnNpbiggeiApO1xuXG5cdFx0aWYgKCBldWxlci5vcmRlciA9PT0gJ1hZWicgKSB7XG5cblx0XHRcdGNvbnN0IGFlID0gYSAqIGUsIGFmID0gYSAqIGYsIGJlID0gYiAqIGUsIGJmID0gYiAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSAtIGMgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhZiArIGJlICogZDtcblx0XHRcdHRlWyA1IF0gPSBhZSAtIGJmICogZDtcblx0XHRcdHRlWyA5IF0gPSAtIGIgKiBjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmYgLSBhZSAqIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYmUgKyBhZiAqIGQ7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWFonICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgKyBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gZGUgKiBiIC0gY2Y7XG5cdFx0XHR0ZVsgOCBdID0gYSAqIGQ7XG5cblx0XHRcdHRlWyAxIF0gPSBhICogZjtcblx0XHRcdHRlWyA1IF0gPSBhICogZTtcblx0XHRcdHRlWyA5IF0gPSAtIGI7XG5cblx0XHRcdHRlWyAyIF0gPSBjZiAqIGIgLSBkZTtcblx0XHRcdHRlWyA2IF0gPSBkZiArIGNlICogYjtcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1pYWScgKSB7XG5cblx0XHRcdGNvbnN0IGNlID0gYyAqIGUsIGNmID0gYyAqIGYsIGRlID0gZCAqIGUsIGRmID0gZCAqIGY7XG5cblx0XHRcdHRlWyAwIF0gPSBjZSAtIGRmICogYjtcblx0XHRcdHRlWyA0IF0gPSAtIGEgKiBmO1xuXHRcdFx0dGVbIDggXSA9IGRlICsgY2YgKiBiO1xuXG5cdFx0XHR0ZVsgMSBdID0gY2YgKyBkZSAqIGI7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gZGYgLSBjZSAqIGI7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGEgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWVgnICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmUgKiBkIC0gYWY7XG5cdFx0XHR0ZVsgOCBdID0gYWUgKiBkICsgYmY7XG5cblx0XHRcdHRlWyAxIF0gPSBjICogZjtcblx0XHRcdHRlWyA1IF0gPSBiZiAqIGQgKyBhZTtcblx0XHRcdHRlWyA5IF0gPSBhZiAqIGQgLSBiZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZDtcblx0XHRcdHRlWyA2IF0gPSBiICogYztcblx0XHRcdHRlWyAxMCBdID0gYSAqIGM7XG5cblx0XHR9IGVsc2UgaWYgKCBldWxlci5vcmRlciA9PT0gJ1laWCcgKSB7XG5cblx0XHRcdGNvbnN0IGFjID0gYSAqIGMsIGFkID0gYSAqIGQsIGJjID0gYiAqIGMsIGJkID0gYiAqIGQ7XG5cblx0XHRcdHRlWyAwIF0gPSBjICogZTtcblx0XHRcdHRlWyA0IF0gPSBiZCAtIGFjICogZjtcblx0XHRcdHRlWyA4IF0gPSBiYyAqIGYgKyBhZDtcblxuXHRcdFx0dGVbIDEgXSA9IGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogZTtcblxuXHRcdFx0dGVbIDIgXSA9IC0gZCAqIGU7XG5cdFx0XHR0ZVsgNiBdID0gYWQgKiBmICsgYmM7XG5cdFx0XHR0ZVsgMTAgXSA9IGFjIC0gYmQgKiBmO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdYWlknICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBmO1xuXHRcdFx0dGVbIDggXSA9IGQgKiBlO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWMgKiBmICsgYmQ7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gYWQgKiBmIC0gYmM7XG5cblx0XHRcdHRlWyAyIF0gPSBiYyAqIGYgLSBhZDtcblx0XHRcdHRlWyA2IF0gPSBiICogZTtcblx0XHRcdHRlWyAxMCBdID0gYmQgKiBmICsgYWM7XG5cblx0XHR9XG5cblx0XHQvLyBib3R0b20gcm93XG5cdFx0dGVbIDMgXSA9IDA7XG5cdFx0dGVbIDcgXSA9IDA7XG5cdFx0dGVbIDExIF0gPSAwO1xuXG5cdFx0Ly8gbGFzdCBjb2x1bW5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oIHEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5jb21wb3NlKCBfemVybywgcSwgX29uZSApO1xuXG5cdH1cblxuXHRsb29rQXQoIGV5ZSwgdGFyZ2V0LCB1cCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdF96LnN1YlZlY3RvcnMoIGV5ZSwgdGFyZ2V0ICk7XG5cblx0XHRpZiAoIF96Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIGV5ZSBhbmQgdGFyZ2V0IGFyZSBpbiB0aGUgc2FtZSBwb3NpdGlvblxuXG5cdFx0XHRfei56ID0gMTtcblxuXHRcdH1cblxuXHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdF94LmNyb3NzVmVjdG9ycyggdXAsIF96ICk7XG5cblx0XHRpZiAoIF94Lmxlbmd0aFNxKCkgPT09IDAgKSB7XG5cblx0XHRcdC8vIHVwIGFuZCB6IGFyZSBwYXJhbGxlbFxuXG5cdFx0XHRpZiAoIE1hdGguYWJzKCB1cC56ICkgPT09IDEgKSB7XG5cblx0XHRcdFx0X3oueCArPSAwLjAwMDE7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0X3oueiArPSAwLjAwMDE7XG5cblx0XHRcdH1cblxuXHRcdFx0X3oubm9ybWFsaXplKCk7XG5cdFx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0fVxuXG5cdFx0X3gubm9ybWFsaXplKCk7XG5cdFx0X3kuY3Jvc3NWZWN0b3JzKCBfeiwgX3ggKTtcblxuXHRcdHRlWyAwIF0gPSBfeC54OyB0ZVsgNCBdID0gX3kueDsgdGVbIDggXSA9IF96Lng7XG5cdFx0dGVbIDEgXSA9IF94Lnk7IHRlWyA1IF0gPSBfeS55OyB0ZVsgOSBdID0gX3oueTtcblx0XHR0ZVsgMiBdID0gX3guejsgdGVbIDYgXSA9IF95Lno7IHRlWyAxMCBdID0gX3ouejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggbSwgbiApIHtcblxuXHRcdGlmICggbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCBtLCBuICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgNCBdLCBhMTMgPSBhZVsgOCBdLCBhMTQgPSBhZVsgMTIgXTtcblx0XHRjb25zdCBhMjEgPSBhZVsgMSBdLCBhMjIgPSBhZVsgNSBdLCBhMjMgPSBhZVsgOSBdLCBhMjQgPSBhZVsgMTMgXTtcblx0XHRjb25zdCBhMzEgPSBhZVsgMiBdLCBhMzIgPSBhZVsgNiBdLCBhMzMgPSBhZVsgMTAgXSwgYTM0ID0gYWVbIDE0IF07XG5cdFx0Y29uc3QgYTQxID0gYWVbIDMgXSwgYTQyID0gYWVbIDcgXSwgYTQzID0gYWVbIDExIF0sIGE0NCA9IGFlWyAxNSBdO1xuXG5cdFx0Y29uc3QgYjExID0gYmVbIDAgXSwgYjEyID0gYmVbIDQgXSwgYjEzID0gYmVbIDggXSwgYjE0ID0gYmVbIDEyIF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDUgXSwgYjIzID0gYmVbIDkgXSwgYjI0ID0gYmVbIDEzIF07XG5cdFx0Y29uc3QgYjMxID0gYmVbIDIgXSwgYjMyID0gYmVbIDYgXSwgYjMzID0gYmVbIDEwIF0sIGIzNCA9IGJlWyAxNCBdO1xuXHRcdGNvbnN0IGI0MSA9IGJlWyAzIF0sIGI0MiA9IGJlWyA3IF0sIGI0MyA9IGJlWyAxMSBdLCBiNDQgPSBiZVsgMTUgXTtcblxuXHRcdHRlWyAwIF0gPSBhMTEgKiBiMTEgKyBhMTIgKiBiMjEgKyBhMTMgKiBiMzEgKyBhMTQgKiBiNDE7XG5cdFx0dGVbIDQgXSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMiArIGExNCAqIGI0Mjtcblx0XHR0ZVsgOCBdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzO1xuXHRcdHRlWyAxMiBdID0gYTExICogYjE0ICsgYTEyICogYjI0ICsgYTEzICogYjM0ICsgYTE0ICogYjQ0O1xuXG5cdFx0dGVbIDEgXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MTtcblx0XHR0ZVsgNSBdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyICsgYTI0ICogYjQyO1xuXHRcdHRlWyA5IF0gPSBhMjEgKiBiMTMgKyBhMjIgKiBiMjMgKyBhMjMgKiBiMzMgKyBhMjQgKiBiNDM7XG5cdFx0dGVbIDEzIF0gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDQ7XG5cblx0XHR0ZVsgMiBdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxO1xuXHRcdHRlWyA2IF0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDI7XG5cdFx0dGVbIDEwIF0gPSBhMzEgKiBiMTMgKyBhMzIgKiBiMjMgKyBhMzMgKiBiMzMgKyBhMzQgKiBiNDM7XG5cdFx0dGVbIDE0IF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7XG5cblx0XHR0ZVsgMyBdID0gYTQxICogYjExICsgYTQyICogYjIxICsgYTQzICogYjMxICsgYTQ0ICogYjQxO1xuXHRcdHRlWyA3IF0gPSBhNDEgKiBiMTIgKyBhNDIgKiBiMjIgKyBhNDMgKiBiMzIgKyBhNDQgKiBiNDI7XG5cdFx0dGVbIDExIF0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDM7XG5cdFx0dGVbIDE1IF0gPSBhNDEgKiBiMTQgKyBhNDIgKiBiMjQgKyBhNDMgKiBiMzQgKyBhNDQgKiBiNDQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHMgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDggXSAqPSBzOyB0ZVsgMTIgXSAqPSBzO1xuXHRcdHRlWyAxIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOSBdICo9IHM7IHRlWyAxMyBdICo9IHM7XG5cdFx0dGVbIDIgXSAqPSBzOyB0ZVsgNiBdICo9IHM7IHRlWyAxMCBdICo9IHM7IHRlWyAxNCBdICo9IHM7XG5cdFx0dGVbIDMgXSAqPSBzOyB0ZVsgNyBdICo9IHM7IHRlWyAxMSBdICo9IHM7IHRlWyAxNSBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBuMTEgPSB0ZVsgMCBdLCBuMTIgPSB0ZVsgNCBdLCBuMTMgPSB0ZVsgOCBdLCBuMTQgPSB0ZVsgMTIgXTtcblx0XHRjb25zdCBuMjEgPSB0ZVsgMSBdLCBuMjIgPSB0ZVsgNSBdLCBuMjMgPSB0ZVsgOSBdLCBuMjQgPSB0ZVsgMTMgXTtcblx0XHRjb25zdCBuMzEgPSB0ZVsgMiBdLCBuMzIgPSB0ZVsgNiBdLCBuMzMgPSB0ZVsgMTAgXSwgbjM0ID0gdGVbIDE0IF07XG5cdFx0Y29uc3QgbjQxID0gdGVbIDMgXSwgbjQyID0gdGVbIDcgXSwgbjQzID0gdGVbIDExIF0sIG40NCA9IHRlWyAxNSBdO1xuXG5cdFx0Ly9UT0RPOiBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnRcblx0XHQvLyggYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtIClcblxuXHRcdHJldHVybiAoXG5cdFx0XHRuNDEgKiAoXG5cdFx0XHRcdCsgbjE0ICogbjIzICogbjMyXG5cdFx0XHRcdCAtIG4xMyAqIG4yNCAqIG4zMlxuXHRcdFx0XHQgLSBuMTQgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTIgKiBuMjMgKiBuMzRcblx0XHRcdCkgK1xuXHRcdFx0bjQyICogKFxuXHRcdFx0XHQrIG4xMSAqIG4yMyAqIG4zNFxuXHRcdFx0XHQgLSBuMTEgKiBuMjQgKiBuMzNcblx0XHRcdFx0ICsgbjE0ICogbjIxICogbjMzXG5cdFx0XHRcdCAtIG4xMyAqIG4yMSAqIG4zNFxuXHRcdFx0XHQgKyBuMTMgKiBuMjQgKiBuMzFcblx0XHRcdFx0IC0gbjE0ICogbjIzICogbjMxXG5cdFx0XHQpICtcblx0XHRcdG40MyAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjExICogbjIyICogbjM0XG5cdFx0XHRcdCAtIG4xNCAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgKyBuMTIgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjE0ICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMiAqIG4yNCAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDQgKiAoXG5cdFx0XHRcdC0gbjEzICogbjIyICogbjMxXG5cdFx0XHRcdCAtIG4xMSAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgKyBuMTEgKiBuMjIgKiBuMzNcblx0XHRcdFx0ICsgbjEzICogbjIxICogbjMyXG5cdFx0XHRcdCAtIG4xMiAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgKyBuMTIgKiBuMjMgKiBuMzFcblx0XHRcdClcblxuXHRcdCk7XG5cblx0fVxuXG5cdHRyYW5zcG9zZSgpIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRsZXQgdG1wO1xuXG5cdFx0dG1wID0gdGVbIDEgXTsgdGVbIDEgXSA9IHRlWyA0IF07IHRlWyA0IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDIgXTsgdGVbIDIgXSA9IHRlWyA4IF07IHRlWyA4IF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDYgXTsgdGVbIDYgXSA9IHRlWyA5IF07IHRlWyA5IF0gPSB0bXA7XG5cblx0XHR0bXAgPSB0ZVsgMyBdOyB0ZVsgMyBdID0gdGVbIDEyIF07IHRlWyAxMiBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA3IF07IHRlWyA3IF0gPSB0ZVsgMTMgXTsgdGVbIDEzIF0gPSB0bXA7XG5cdFx0dG1wID0gdGVbIDExIF07IHRlWyAxMSBdID0gdGVbIDE0IF07IHRlWyAxNCBdID0gdG1wO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFBvc2l0aW9uKCB4LCB5LCB6ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0aWYgKCB4LmlzVmVjdG9yMyApIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4Lng7XG5cdFx0XHR0ZVsgMTMgXSA9IHgueTtcblx0XHRcdHRlWyAxNCBdID0geC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGVbIDEyIF0gPSB4O1xuXHRcdFx0dGVbIDEzIF0gPSB5O1xuXHRcdFx0dGVbIDE0IF0gPSB6O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGludmVydCgpIHtcblxuXHRcdC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bVxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cyxcblxuXHRcdFx0bjExID0gdGVbIDAgXSwgbjIxID0gdGVbIDEgXSwgbjMxID0gdGVbIDIgXSwgbjQxID0gdGVbIDMgXSxcblx0XHRcdG4xMiA9IHRlWyA0IF0sIG4yMiA9IHRlWyA1IF0sIG4zMiA9IHRlWyA2IF0sIG40MiA9IHRlWyA3IF0sXG5cdFx0XHRuMTMgPSB0ZVsgOCBdLCBuMjMgPSB0ZVsgOSBdLCBuMzMgPSB0ZVsgMTAgXSwgbjQzID0gdGVbIDExIF0sXG5cdFx0XHRuMTQgPSB0ZVsgMTIgXSwgbjI0ID0gdGVbIDEzIF0sIG4zNCA9IHRlWyAxNCBdLCBuNDQgPSB0ZVsgMTUgXSxcblxuXHRcdFx0dDExID0gbjIzICogbjM0ICogbjQyIC0gbjI0ICogbjMzICogbjQyICsgbjI0ICogbjMyICogbjQzIC0gbjIyICogbjM0ICogbjQzIC0gbjIzICogbjMyICogbjQ0ICsgbjIyICogbjMzICogbjQ0LFxuXHRcdFx0dDEyID0gbjE0ICogbjMzICogbjQyIC0gbjEzICogbjM0ICogbjQyIC0gbjE0ICogbjMyICogbjQzICsgbjEyICogbjM0ICogbjQzICsgbjEzICogbjMyICogbjQ0IC0gbjEyICogbjMzICogbjQ0LFxuXHRcdFx0dDEzID0gbjEzICogbjI0ICogbjQyIC0gbjE0ICogbjIzICogbjQyICsgbjE0ICogbjIyICogbjQzIC0gbjEyICogbjI0ICogbjQzIC0gbjEzICogbjIyICogbjQ0ICsgbjEyICogbjIzICogbjQ0LFxuXHRcdFx0dDE0ID0gbjE0ICogbjIzICogbjMyIC0gbjEzICogbjI0ICogbjMyIC0gbjE0ICogbjIyICogbjMzICsgbjEyICogbjI0ICogbjMzICsgbjEzICogbjIyICogbjM0IC0gbjEyICogbjIzICogbjM0O1xuXG5cdFx0Y29uc3QgZGV0ID0gbjExICogdDExICsgbjIxICogdDEyICsgbjMxICogdDEzICsgbjQxICogdDE0O1xuXG5cdFx0aWYgKCBkZXQgPT09IDAgKSByZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAgKTtcblxuXHRcdGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG5cblx0XHR0ZVsgMCBdID0gdDExICogZGV0SW52O1xuXHRcdHRlWyAxIF0gPSAoIG4yNCAqIG4zMyAqIG40MSAtIG4yMyAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMSAqIG40MyArIG4yMSAqIG4zNCAqIG40MyArIG4yMyAqIG4zMSAqIG40NCAtIG4yMSAqIG4zMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAyIF0gPSAoIG4yMiAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMiAqIG40MSArIG4yNCAqIG4zMSAqIG40MiAtIG4yMSAqIG4zNCAqIG40MiAtIG4yMiAqIG4zMSAqIG40NCArIG4yMSAqIG4zMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAzIF0gPSAoIG4yMyAqIG4zMiAqIG40MSAtIG4yMiAqIG4zMyAqIG40MSAtIG4yMyAqIG4zMSAqIG40MiArIG4yMSAqIG4zMyAqIG40MiArIG4yMiAqIG4zMSAqIG40MyAtIG4yMSAqIG4zMiAqIG40MyApICogZGV0SW52O1xuXG5cdFx0dGVbIDQgXSA9IHQxMiAqIGRldEludjtcblx0XHR0ZVsgNSBdID0gKCBuMTMgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzMgKiBuNDEgKyBuMTQgKiBuMzEgKiBuNDMgLSBuMTEgKiBuMzQgKiBuNDMgLSBuMTMgKiBuMzEgKiBuNDQgKyBuMTEgKiBuMzMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNiBdID0gKCBuMTQgKiBuMzIgKiBuNDEgLSBuMTIgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzEgKiBuNDIgKyBuMTEgKiBuMzQgKiBuNDIgKyBuMTIgKiBuMzEgKiBuNDQgLSBuMTEgKiBuMzIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyA4IF0gPSB0MTMgKiBkZXRJbnY7XG5cdFx0dGVbIDkgXSA9ICggbjE0ICogbjIzICogbjQxIC0gbjEzICogbjI0ICogbjQxIC0gbjE0ICogbjIxICogbjQzICsgbjExICogbjI0ICogbjQzICsgbjEzICogbjIxICogbjQ0IC0gbjExICogbjIzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDEwIF0gPSAoIG4xMiAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMiAqIG40MSArIG4xNCAqIG4yMSAqIG40MiAtIG4xMSAqIG4yNCAqIG40MiAtIG4xMiAqIG4yMSAqIG40NCArIG4xMSAqIG4yMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAxMSBdID0gKCBuMTMgKiBuMjIgKiBuNDEgLSBuMTIgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjEgKiBuNDIgKyBuMTEgKiBuMjMgKiBuNDIgKyBuMTIgKiBuMjEgKiBuNDMgLSBuMTEgKiBuMjIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyAxMiBdID0gdDE0ICogZGV0SW52O1xuXHRcdHRlWyAxMyBdID0gKCBuMTMgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjMgKiBuMzEgKyBuMTQgKiBuMjEgKiBuMzMgLSBuMTEgKiBuMjQgKiBuMzMgLSBuMTMgKiBuMjEgKiBuMzQgKyBuMTEgKiBuMjMgKiBuMzQgKSAqIGRldEludjtcblx0XHR0ZVsgMTQgXSA9ICggbjE0ICogbjIyICogbjMxIC0gbjEyICogbjI0ICogbjMxIC0gbjE0ICogbjIxICogbjMyICsgbjExICogbjI0ICogbjMyICsgbjEyICogbjIxICogbjM0IC0gbjExICogbjIyICogbjM0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDE1IF0gPSAoIG4xMiAqIG4yMyAqIG4zMSAtIG4xMyAqIG4yMiAqIG4zMSArIG4xMyAqIG4yMSAqIG4zMiAtIG4xMSAqIG4yMyAqIG4zMiAtIG4xMiAqIG4yMSAqIG4zMyArIG4xMSAqIG4yMiAqIG4zMyApICogZGV0SW52O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNjYWxlKCB2ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHggPSB2LngsIHkgPSB2LnksIHogPSB2Lno7XG5cblx0XHR0ZVsgMCBdICo9IHg7IHRlWyA0IF0gKj0geTsgdGVbIDggXSAqPSB6O1xuXHRcdHRlWyAxIF0gKj0geDsgdGVbIDUgXSAqPSB5OyB0ZVsgOSBdICo9IHo7XG5cdFx0dGVbIDIgXSAqPSB4OyB0ZVsgNiBdICo9IHk7IHRlWyAxMCBdICo9IHo7XG5cdFx0dGVbIDMgXSAqPSB4OyB0ZVsgNyBdICo9IHk7IHRlWyAxMSBdICo9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0TWF4U2NhbGVPbkF4aXMoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVhTcSA9IHRlWyAwIF0gKiB0ZVsgMCBdICsgdGVbIDEgXSAqIHRlWyAxIF0gKyB0ZVsgMiBdICogdGVbIDIgXTtcblx0XHRjb25zdCBzY2FsZVlTcSA9IHRlWyA0IF0gKiB0ZVsgNCBdICsgdGVbIDUgXSAqIHRlWyA1IF0gKyB0ZVsgNiBdICogdGVbIDYgXTtcblx0XHRjb25zdCBzY2FsZVpTcSA9IHRlWyA4IF0gKiB0ZVsgOCBdICsgdGVbIDkgXSAqIHRlWyA5IF0gKyB0ZVsgMTAgXSAqIHRlWyAxMCBdO1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggTWF0aC5tYXgoIHNjYWxlWFNxLCBzY2FsZVlTcSwgc2NhbGVaU3EgKSApO1xuXG5cdH1cblxuXHRtYWtlVHJhbnNsYXRpb24oIHgsIHksIHogKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCwgeCxcblx0XHRcdDAsIDEsIDAsIHksXG5cdFx0XHQwLCAwLCAxLCB6LFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25YKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCBjLCAtIHMsIDAsXG5cdFx0XHQwLCBzLCBjLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25ZKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdCBjLCAwLCBzLCAwLFxuXHRcdFx0IDAsIDEsIDAsIDAsXG5cdFx0XHQtIHMsIDAsIGMsIDAsXG5cdFx0XHQgMCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25aKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdGMsIC0gcywgMCwgMCxcblx0XHRcdHMsIGMsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25BeGlzKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdC8vIEJhc2VkIG9uIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcmVmZXJlbmNlL2FydGljbGVzL2FydGljbGUxMTk5LmFzcFxuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCBhbmdsZSApO1xuXHRcdGNvbnN0IHMgPSBNYXRoLnNpbiggYW5nbGUgKTtcblx0XHRjb25zdCB0ID0gMSAtIGM7XG5cdFx0Y29uc3QgeCA9IGF4aXMueCwgeSA9IGF4aXMueSwgeiA9IGF4aXMuejtcblx0XHRjb25zdCB0eCA9IHQgKiB4LCB0eSA9IHQgKiB5O1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHR4ICogeCArIGMsIHR4ICogeSAtIHMgKiB6LCB0eCAqIHogKyBzICogeSwgMCxcblx0XHRcdHR4ICogeSArIHMgKiB6LCB0eSAqIHkgKyBjLCB0eSAqIHogLSBzICogeCwgMCxcblx0XHRcdHR4ICogeiAtIHMgKiB5LCB0eSAqIHogKyBzICogeCwgdCAqIHogKiB6ICsgYywgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNjYWxlKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHgsIDAsIDAsIDAsXG5cdFx0XHQwLCB5LCAwLCAwLFxuXHRcdFx0MCwgMCwgeiwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNoZWFyKCB4eSwgeHosIHl4LCB5eiwgengsIHp5ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIHl4LCB6eCwgMCxcblx0XHRcdHh5LCAxLCB6eSwgMCxcblx0XHRcdHh6LCB5eiwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29tcG9zZSggcG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IHF1YXRlcm5pb24uX3gsIHkgPSBxdWF0ZXJuaW9uLl95LCB6ID0gcXVhdGVybmlvbi5feiwgdyA9IHF1YXRlcm5pb24uX3c7XG5cdFx0Y29uc3QgeDIgPSB4ICsgeCxcdHkyID0geSArIHksIHoyID0geiArIHo7XG5cdFx0Y29uc3QgeHggPSB4ICogeDIsIHh5ID0geCAqIHkyLCB4eiA9IHggKiB6Mjtcblx0XHRjb25zdCB5eSA9IHkgKiB5MiwgeXogPSB5ICogejIsIHp6ID0geiAqIHoyO1xuXHRcdGNvbnN0IHd4ID0gdyAqIHgyLCB3eSA9IHcgKiB5Miwgd3ogPSB3ICogejI7XG5cblx0XHRjb25zdCBzeCA9IHNjYWxlLngsIHN5ID0gc2NhbGUueSwgc3ogPSBzY2FsZS56O1xuXG5cdFx0dGVbIDAgXSA9ICggMSAtICggeXkgKyB6eiApICkgKiBzeDtcblx0XHR0ZVsgMSBdID0gKCB4eSArIHd6ICkgKiBzeDtcblx0XHR0ZVsgMiBdID0gKCB4eiAtIHd5ICkgKiBzeDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSAoIHh5IC0gd3ogKSAqIHN5O1xuXHRcdHRlWyA1IF0gPSAoIDEgLSAoIHh4ICsgenogKSApICogc3k7XG5cdFx0dGVbIDYgXSA9ICggeXogKyB3eCApICogc3k7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gKCB4eiArIHd5ICkgKiBzejtcblx0XHR0ZVsgOSBdID0gKCB5eiAtIHd4ICkgKiBzejtcblx0XHR0ZVsgMTAgXSA9ICggMSAtICggeHggKyB5eSApICkgKiBzejtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IHBvc2l0aW9uLng7XG5cdFx0dGVbIDEzIF0gPSBwb3NpdGlvbi55O1xuXHRcdHRlWyAxNCBdID0gcG9zaXRpb24uejtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGVjb21wb3NlKCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRsZXQgc3ggPSBfdjEuc2V0KCB0ZVsgMCBdLCB0ZVsgMSBdLCB0ZVsgMiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3kgPSBfdjEuc2V0KCB0ZVsgNCBdLCB0ZVsgNSBdLCB0ZVsgNiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSBfdjEuc2V0KCB0ZVsgOCBdLCB0ZVsgOSBdLCB0ZVsgMTAgXSApLmxlbmd0aCgpO1xuXG5cdFx0Ly8gaWYgZGV0ZXJtaW5lIGlzIG5lZ2F0aXZlLCB3ZSBuZWVkIHRvIGludmVydCBvbmUgc2NhbGVcblx0XHRjb25zdCBkZXQgPSB0aGlzLmRldGVybWluYW50KCk7XG5cdFx0aWYgKCBkZXQgPCAwICkgc3ggPSAtIHN4O1xuXG5cdFx0cG9zaXRpb24ueCA9IHRlWyAxMiBdO1xuXHRcdHBvc2l0aW9uLnkgPSB0ZVsgMTMgXTtcblx0XHRwb3NpdGlvbi56ID0gdGVbIDE0IF07XG5cblx0XHQvLyBzY2FsZSB0aGUgcm90YXRpb24gcGFydFxuXHRcdF9tMS5jb3B5KCB0aGlzICk7XG5cblx0XHRjb25zdCBpbnZTWCA9IDEgLyBzeDtcblx0XHRjb25zdCBpbnZTWSA9IDEgLyBzeTtcblx0XHRjb25zdCBpbnZTWiA9IDEgLyBzejtcblxuXHRcdF9tMS5lbGVtZW50c1sgMCBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMSBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMiBdICo9IGludlNYO1xuXG5cdFx0X20xLmVsZW1lbnRzWyA0IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA1IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA2IF0gKj0gaW52U1k7XG5cblx0XHRfbTEuZWxlbWVudHNbIDggXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDkgXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDEwIF0gKj0gaW52U1o7XG5cblx0XHRxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggX20xICk7XG5cblx0XHRzY2FsZS54ID0gc3g7XG5cdFx0c2NhbGUueSA9IHN5O1xuXHRcdHNjYWxlLnogPSBzejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkge1xuXG5cdFx0aWYgKCBmYXIgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB4ID0gMiAqIG5lYXIgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IHkgPSAyICogbmVhciAvICggdG9wIC0gYm90dG9tICk7XG5cblx0XHRjb25zdCBhID0gKCByaWdodCArIGxlZnQgKSAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgYiA9ICggdG9wICsgYm90dG9tICkgLyAoIHRvcCAtIGJvdHRvbSApO1xuXHRcdGNvbnN0IGMgPSAtICggZmFyICsgbmVhciApIC8gKCBmYXIgLSBuZWFyICk7XG5cdFx0Y29uc3QgZCA9IC0gMiAqIGZhciAqIG5lYXIgLyAoIGZhciAtIG5lYXIgKTtcblxuXHRcdHRlWyAwIF0gPSB4O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gYTtcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMSBdID0gMDtcdHRlWyA1IF0gPSB5O1x0dGVbIDkgXSA9IGI7XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDIgXSA9IDA7XHR0ZVsgNiBdID0gMDtcdHRlWyAxMCBdID0gYztcdHRlWyAxNCBdID0gZDtcblx0XHR0ZVsgMyBdID0gMDtcdHRlWyA3IF0gPSAwO1x0dGVbIDExIF0gPSAtIDE7XHR0ZVsgMTUgXSA9IDA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZU9ydGhvZ3JhcGhpYyggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgdyA9IDEuMCAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgaCA9IDEuMCAvICggdG9wIC0gYm90dG9tICk7XG5cdFx0Y29uc3QgcCA9IDEuMCAvICggZmFyIC0gbmVhciApO1xuXG5cdFx0Y29uc3QgeCA9ICggcmlnaHQgKyBsZWZ0ICkgKiB3O1xuXHRcdGNvbnN0IHkgPSAoIHRvcCArIGJvdHRvbSApICogaDtcblx0XHRjb25zdCB6ID0gKCBmYXIgKyBuZWFyICkgKiBwO1xuXG5cdFx0dGVbIDAgXSA9IDIgKiB3O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gMDtcdHRlWyAxMiBdID0gLSB4O1xuXHRcdHRlWyAxIF0gPSAwO1x0dGVbIDUgXSA9IDIgKiBoO1x0dGVbIDkgXSA9IDA7XHR0ZVsgMTMgXSA9IC0geTtcblx0XHR0ZVsgMiBdID0gMDtcdHRlWyA2IF0gPSAwO1x0dGVbIDEwIF0gPSAtIDIgKiBwO1x0dGVbIDE0IF0gPSAtIHo7XG5cdFx0dGVbIDMgXSA9IDA7XHR0ZVsgNyBdID0gMDtcdHRlWyAxMSBdID0gMDtcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHRpZiAoIHRlWyBpIF0gIT09IG1lWyBpIF0gKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRzWyBpIF0gPSBhcnJheVsgaSArIG9mZnNldCBdO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0ZVsgMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0ZVsgMSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0ZVsgMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDQgXSA9IHRlWyA0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDUgXSA9IHRlWyA1IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgOCBdID0gdGVbIDggXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgOSBdID0gdGVbIDkgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTAgXSA9IHRlWyAxMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMSBdID0gdGVbIDExIF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgMTIgXSA9IHRlWyAxMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMyBdID0gdGVbIDEzIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDE0IF0gPSB0ZVsgMTQgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTUgXSA9IHRlWyAxNSBdO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxufVxuXG5NYXRyaXg0LnByb3RvdHlwZS5pc01hdHJpeDQgPSB0cnVlO1xuXG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbTEgPSAvKkBfX1BVUkVfXyovIG5ldyBNYXRyaXg0KCk7XG5jb25zdCBfemVybyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoIDAsIDAsIDAgKTtcbmNvbnN0IF9vbmUgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCAxLCAxLCAxICk7XG5jb25zdCBfeCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF95ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ogPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmV4cG9ydCB7IE1hdHJpeDQgfTtcbiIsImltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24uanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSAnLi9NYXRyaXg0LmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jb25zdCBfbWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4NCgpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5cbmNsYXNzIEV1bGVyIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCwgb3JkZXIgPSBFdWxlci5EZWZhdWx0T3JkZXIgKSB7XG5cblx0XHR0aGlzLl94ID0geDtcblx0XHR0aGlzLl95ID0geTtcblx0XHR0aGlzLl96ID0gejtcblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyO1xuXG5cdH1cblxuXHRnZXQgeCgpIHtcblxuXHRcdHJldHVybiB0aGlzLl94O1xuXG5cdH1cblxuXHRzZXQgeCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl94ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeSgpIHtcblxuXHRcdHJldHVybiB0aGlzLl95O1xuXG5cdH1cblxuXHRzZXQgeSggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl95ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgeigpIHtcblxuXHRcdHJldHVybiB0aGlzLl96O1xuXG5cdH1cblxuXHRzZXQgeiggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl96ID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRnZXQgb3JkZXIoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5fb3JkZXI7XG5cblx0fVxuXG5cdHNldCBvcmRlciggdmFsdWUgKSB7XG5cblx0XHR0aGlzLl9vcmRlciA9IHZhbHVlO1xuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHR9XG5cblx0c2V0KCB4LCB5LCB6LCBvcmRlciApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX29yZGVyID0gb3JkZXIgfHwgdGhpcy5fb3JkZXI7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3osIHRoaXMuX29yZGVyICk7XG5cblx0fVxuXG5cdGNvcHkoIGV1bGVyICkge1xuXG5cdFx0dGhpcy5feCA9IGV1bGVyLl94O1xuXHRcdHRoaXMuX3kgPSBldWxlci5feTtcblx0XHR0aGlzLl96ID0gZXVsZXIuX3o7XG5cdFx0dGhpcy5fb3JkZXIgPSBldWxlci5fb3JkZXI7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVJvdGF0aW9uTWF0cml4KCBtLCBvcmRlciwgdXBkYXRlICkge1xuXG5cdFx0Ly8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZClcblxuXHRcdGNvbnN0IHRlID0gbS5lbGVtZW50cztcblx0XHRjb25zdCBtMTEgPSB0ZVsgMCBdLCBtMTIgPSB0ZVsgNCBdLCBtMTMgPSB0ZVsgOCBdO1xuXHRcdGNvbnN0IG0yMSA9IHRlWyAxIF0sIG0yMiA9IHRlWyA1IF0sIG0yMyA9IHRlWyA5IF07XG5cdFx0Y29uc3QgbTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF07XG5cblx0XHRvcmRlciA9IG9yZGVyIHx8IHRoaXMuX29yZGVyO1xuXG5cdFx0c3dpdGNoICggb3JkZXIgKSB7XG5cblx0XHRcdGNhc2UgJ1hZWic6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggY2xhbXAoIG0xMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMTMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWFonOlxuXG5cdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0yMywgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMjMgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWlhZJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCBjbGFtcCggbTMyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMTEgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWCc6XG5cblx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXNpbiggLSBjbGFtcCggbTMxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0zMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTIyICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdZWlgnOlxuXG5cdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmFzaW4oIGNsYW1wKCBtMjEsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIxICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCBtMTMsIG0zMyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWFpZJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMTIsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEyICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggbTMyLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMTEgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuX29yZGVyID0gb3JkZXI7XG5cblx0XHRpZiAoIHVwZGF0ZSAhPT0gZmFsc2UgKSB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVF1YXRlcm5pb24oIHEsIG9yZGVyLCB1cGRhdGUgKSB7XG5cblx0XHRfbWF0cml4Lm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICk7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoIF9tYXRyaXgsIG9yZGVyLCB1cGRhdGUgKTtcblxuXHR9XG5cblx0c2V0RnJvbVZlY3RvcjMoIHYsIG9yZGVyICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0KCB2LngsIHYueSwgdi56LCBvcmRlciB8fCB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRyZW9yZGVyKCBuZXdPcmRlciApIHtcblxuXHRcdC8vIFdBUk5JTkc6IHRoaXMgZGlzY2FyZHMgcmV2b2x1dGlvbiBpbmZvcm1hdGlvbiAtYmhvdXN0b25cblxuXHRcdF9xdWF0ZXJuaW9uLnNldEZyb21FdWxlciggdGhpcyApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVF1YXRlcm5pb24oIF9xdWF0ZXJuaW9uLCBuZXdPcmRlciApO1xuXG5cdH1cblxuXHRlcXVhbHMoIGV1bGVyICkge1xuXG5cdFx0cmV0dXJuICggZXVsZXIuX3ggPT09IHRoaXMuX3ggKSAmJiAoIGV1bGVyLl95ID09PSB0aGlzLl95ICkgJiYgKCBldWxlci5feiA9PT0gdGhpcy5feiApICYmICggZXVsZXIuX29yZGVyID09PSB0aGlzLl9vcmRlciApO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0dGhpcy5feCA9IGFycmF5WyAwIF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyAyIF07XG5cdFx0aWYgKCBhcnJheVsgMyBdICE9PSB1bmRlZmluZWQgKSB0aGlzLl9vcmRlciA9IGFycmF5WyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX29yZGVyO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHR0b1ZlY3RvcjMoIG9wdGlvbmFsUmVzdWx0ICkge1xuXG5cdFx0aWYgKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdFx0cmV0dXJuIG9wdGlvbmFsUmVzdWx0LnNldCggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IzKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdF9vbkNoYW5nZSggY2FsbGJhY2sgKSB7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrID0gY2FsbGJhY2s7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlQ2FsbGJhY2soKSB7fVxuXG59XG5cbkV1bGVyLnByb3RvdHlwZS5pc0V1bGVyID0gdHJ1ZTtcblxuRXVsZXIuRGVmYXVsdE9yZGVyID0gJ1hZWic7XG5FdWxlci5Sb3RhdGlvbk9yZGVycyA9IFsgJ1hZWicsICdZWlgnLCAnWlhZJywgJ1haWScsICdZWFonLCAnWllYJyBdO1xuXG5leHBvcnQgeyBFdWxlciB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMi5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IyKCk7XG5cbmNsYXNzIEJveDIge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMiggKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMiggLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHR0aGlzLm1pbi5jb3B5KCBjZW50ZXIgKS5zdWIoIGhhbGZTaXplICk7XG5cdFx0dGhpcy5tYXguY29weSggY2VudGVyICkuYWRkKCBoYWxmU2l6ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxuXHRjb3B5KCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXguY29weSggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VFbXB0eSgpIHtcblxuXHRcdHRoaXMubWluLnggPSB0aGlzLm1pbi55ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IC0gSW5maW5pdHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0aXNFbXB0eSgpIHtcblxuXHRcdC8vIHRoaXMgaXMgYSBtb3JlIHJvYnVzdCBjaGVjayBmb3IgZW1wdHkgdGhhbiAoIHZvbHVtZSA8PSAwICkgYmVjYXVzZSB2b2x1bWUgY2FuIGdldCBwb3NpdGl2ZSB3aXRoIHR3byBuZWdhdGl2ZSBheGVzXG5cblx0XHRyZXR1cm4gKCB0aGlzLm1heC54IDwgdGhpcy5taW4ueCApIHx8ICggdGhpcy5tYXgueSA8IHRoaXMubWluLnkgKTtcblxuXHR9XG5cblx0Z2V0Q2VudGVyKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwICkgOiB0YXJnZXQuYWRkVmVjdG9ycyggdGhpcy5taW4sIHRoaXMubWF4ICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRnZXRTaXplKCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0U2l6ZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gdGFyZ2V0LnNldCggMCwgMCApIDogdGFyZ2V0LnN1YlZlY3RvcnMoIHRoaXMubWF4LCB0aGlzLm1pbiApO1xuXG5cdH1cblxuXHRleHBhbmRCeVBvaW50KCBwb2ludCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggcG9pbnQgKTtcblx0XHR0aGlzLm1heC5tYXgoIHBvaW50ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXhwYW5kQnlWZWN0b3IoIHZlY3RvciApIHtcblxuXHRcdHRoaXMubWluLnN1YiggdmVjdG9yICk7XG5cdFx0dGhpcy5tYXguYWRkKCB2ZWN0b3IgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy5taW4uYWRkU2NhbGFyKCAtIHNjYWxhciApO1xuXHRcdHRoaXMubWF4LmFkZFNjYWxhciggc2NhbGFyICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29udGFpbnNQb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gcG9pbnQueCA8IHRoaXMubWluLnggfHwgcG9pbnQueCA+IHRoaXMubWF4LnggfHxcblx0XHRcdHBvaW50LnkgPCB0aGlzLm1pbi55IHx8IHBvaW50LnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjb250YWluc0JveCggYm94ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubWluLnggPD0gYm94Lm1pbi54ICYmIGJveC5tYXgueCA8PSB0aGlzLm1heC54ICYmXG5cdFx0XHR0aGlzLm1pbi55IDw9IGJveC5taW4ueSAmJiBib3gubWF4LnkgPD0gdGhpcy5tYXgueTtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA0IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9uc1xuXG5cdFx0cmV0dXJuIGJveC5tYXgueCA8IHRoaXMubWluLnggfHwgYm94Lm1pbi54ID4gdGhpcy5tYXgueCB8fFxuXHRcdFx0Ym94Lm1heC55IDwgdGhpcy5taW4ueSB8fCBib3gubWluLnkgPiB0aGlzLm1heC55ID8gZmFsc2UgOiB0cnVlO1xuXG5cdH1cblxuXHRjbGFtcFBvaW50KCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MjogLmNsYW1wUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQuY29weSggcG9pbnQgKS5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBjbGFtcGVkUG9pbnQgPSBfdmVjdG9yLmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3QoIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1heCggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1pbiggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVuaW9uKCBib3ggKSB7XG5cblx0XHR0aGlzLm1pbi5taW4oIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5tYXgoIGJveC5tYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIG9mZnNldCApIHtcblxuXHRcdHRoaXMubWluLmFkZCggb2Zmc2V0ICk7XG5cdFx0dGhpcy5tYXguYWRkKCBvZmZzZXQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGJveCApIHtcblxuXHRcdHJldHVybiBib3gubWluLmVxdWFscyggdGhpcy5taW4gKSAmJiBib3gubWF4LmVxdWFscyggdGhpcy5tYXggKTtcblxuXHR9XG5cbn1cblxuQm94Mi5wcm90b3R5cGUuaXNCb3gyID0gdHJ1ZTtcblxuZXhwb3J0IHsgQm94MiB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNsYXNzIEJveDMge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4gPSBuZXcgVmVjdG9yMyggKyBJbmZpbml0eSwgKyBJbmZpbml0eSwgKyBJbmZpbml0eSApLCBtYXggPSBuZXcgVmVjdG9yMyggLSBJbmZpbml0eSwgLSBJbmZpbml0eSwgLSBJbmZpbml0eSApICkge1xuXG5cdFx0dGhpcy5taW4gPSBtaW47XG5cdFx0dGhpcy5tYXggPSBtYXg7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMyApIHtcblxuXHRcdFx0Y29uc3QgeCA9IGFycmF5WyBpIF07XG5cdFx0XHRjb25zdCB5ID0gYXJyYXlbIGkgKyAxIF07XG5cdFx0XHRjb25zdCB6ID0gYXJyYXlbIGkgKyAyIF07XG5cblx0XHRcdGlmICggeCA8IG1pblggKSBtaW5YID0geDtcblx0XHRcdGlmICggeSA8IG1pblkgKSBtaW5ZID0geTtcblx0XHRcdGlmICggeiA8IG1pblogKSBtaW5aID0gejtcblxuXHRcdFx0aWYgKCB4ID4gbWF4WCApIG1heFggPSB4O1xuXHRcdFx0aWYgKCB5ID4gbWF4WSApIG1heFkgPSB5O1xuXHRcdFx0aWYgKCB6ID4gbWF4WiApIG1heFogPSB6O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4uc2V0KCBtaW5YLCBtaW5ZLCBtaW5aICk7XG5cdFx0dGhpcy5tYXguc2V0KCBtYXhYLCBtYXhZLCBtYXhaICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHggPSBhdHRyaWJ1dGUuZ2V0WCggaSApO1xuXHRcdFx0Y29uc3QgeSA9IGF0dHJpYnV0ZS5nZXRZKCBpICk7XG5cdFx0XHRjb25zdCB6ID0gYXR0cmlidXRlLmdldFooIGkgKTtcblxuXHRcdFx0aWYgKCB4IDwgbWluWCApIG1pblggPSB4O1xuXHRcdFx0aWYgKCB5IDwgbWluWSApIG1pblkgPSB5O1xuXHRcdFx0aWYgKCB6IDwgbWluWiApIG1pblogPSB6O1xuXG5cdFx0XHRpZiAoIHggPiBtYXhYICkgbWF4WCA9IHg7XG5cdFx0XHRpZiAoIHkgPiBtYXhZICkgbWF4WSA9IHk7XG5cdFx0XHRpZiAoIHogPiBtYXhaICkgbWF4WiA9IHo7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbi5zZXQoIG1pblgsIG1pblksIG1pblogKTtcblx0XHR0aGlzLm1heC5zZXQoIG1heFgsIG1heFksIG1heFogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHRcdHRoaXMubWluLmNvcHkoIGNlbnRlciApLnN1YiggaGFsZlNpemUgKTtcblx0XHR0aGlzLm1heC5jb3B5KCBjZW50ZXIgKS5hZGQoIGhhbGZTaXplICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0dGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdHJldHVybiB0aGlzLmV4cGFuZEJ5T2JqZWN0KCBvYmplY3QgKTtcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGJveCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUVtcHR5KCkge1xuXG5cdFx0dGhpcy5taW4ueCA9IHRoaXMubWluLnkgPSB0aGlzLm1pbi56ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IHRoaXMubWF4LnogPSAtIEluZmluaXR5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cblx0XHQvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlc1xuXG5cdFx0cmV0dXJuICggdGhpcy5tYXgueCA8IHRoaXMubWluLnggKSB8fCAoIHRoaXMubWF4LnkgPCB0aGlzLm1pbi55ICkgfHwgKCB0aGlzLm1heC56IDwgdGhpcy5taW4ueiApO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAsIDAgKSA6IHRhcmdldC5hZGRWZWN0b3JzKCB0aGlzLm1pbiwgdGhpcy5tYXggKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGdldFNpemUoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwLCAwICkgOiB0YXJnZXQuc3ViVmVjdG9ycyggdGhpcy5tYXgsIHRoaXMubWluICk7XG5cblx0fVxuXG5cdGV4cGFuZEJ5UG9pbnQoIHBvaW50ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBwb2ludCApO1xuXHRcdHRoaXMubWF4Lm1heCggcG9pbnQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVZlY3RvciggdmVjdG9yICkge1xuXG5cdFx0dGhpcy5taW4uc3ViKCB2ZWN0b3IgKTtcblx0XHR0aGlzLm1heC5hZGQoIHZlY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGRTY2FsYXIoIC0gc2NhbGFyICk7XG5cdFx0dGhpcy5tYXguYWRkU2NhbGFyKCBzY2FsYXIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0Ly8gQ29tcHV0ZXMgdGhlIHdvcmxkLWF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggb2YgYW4gb2JqZWN0IChpbmNsdWRpbmcgaXRzIGNoaWxkcmVuKSxcblx0XHQvLyBhY2NvdW50aW5nIGZvciBib3RoIHRoZSBvYmplY3QncywgYW5kIGNoaWxkcmVuJ3MsIHdvcmxkIHRyYW5zZm9ybXNcblxuXHRcdG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCggZmFsc2UsIGZhbHNlICk7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblxuXHRcdGlmICggZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0aWYgKCBnZW9tZXRyeS5ib3VuZGluZ0JveCA9PT0gbnVsbCApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRfYm94LmNvcHkoIGdlb21ldHJ5LmJvdW5kaW5nQm94ICk7XG5cdFx0XHRfYm94LmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XG5cblx0XHRcdHRoaXMudW5pb24oIF9ib3ggKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeU9iamVjdCggY2hpbGRyZW5bIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSB8fFxuXHRcdFx0cG9pbnQueiA8IHRoaXMubWluLnogfHwgcG9pbnQueiA+IHRoaXMubWF4LnogPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNvbnRhaW5zQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiZcblx0XHRcdHRoaXMubWluLnkgPD0gYm94Lm1pbi55ICYmIGJveC5tYXgueSA8PSB0aGlzLm1heC55ICYmXG5cdFx0XHR0aGlzLm1pbi56IDw9IGJveC5taW4ueiAmJiBib3gubWF4LnogPD0gdGhpcy5tYXguejtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55ICksXG5cdFx0XHQoIHBvaW50LnogLSB0aGlzLm1pbi56ICkgLyAoIHRoaXMubWF4LnogLSB0aGlzLm1pbi56IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy5cblx0XHRyZXR1cm4gYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRib3gubWF4LnkgPCB0aGlzLm1pbi55IHx8IGJveC5taW4ueSA+IHRoaXMubWF4LnkgfHxcblx0XHRcdGJveC5tYXgueiA8IHRoaXMubWluLnogfHwgYm94Lm1pbi56ID4gdGhpcy5tYXgueiA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0Ly8gRmluZCB0aGUgcG9pbnQgb24gdGhlIEFBQkIgY2xvc2VzdCB0byB0aGUgc3BoZXJlIGNlbnRlci5cblx0XHR0aGlzLmNsYW1wUG9pbnQoIHNwaGVyZS5jZW50ZXIsIF92ZWN0b3IgKTtcblxuXHRcdC8vIElmIHRoYXQgcG9pbnQgaXMgaW5zaWRlIHRoZSBzcGhlcmUsIHRoZSBBQUJCIGFuZCBzcGhlcmUgaW50ZXJzZWN0LlxuXHRcdHJldHVybiBfdmVjdG9yLmRpc3RhbmNlVG9TcXVhcmVkKCBzcGhlcmUuY2VudGVyICkgPD0gKCBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cyApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gV2UgY29tcHV0ZSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBkb3QgcHJvZHVjdCB2YWx1ZXMuIElmIHRob3NlIHZhbHVlc1xuXHRcdC8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuXG5cdFx0bGV0IG1pbiwgbWF4O1xuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueCA+IDAgKSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblxuXHRcdH1cblxuXHRcdGlmICggcGxhbmUubm9ybWFsLnkgPiAwICkge1xuXG5cdFx0XHRtaW4gKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXHRcdFx0bWF4ICs9IHBsYW5lLm5vcm1hbC55ICogdGhpcy5tYXgueTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWF4Lnk7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueiA+IDAgKSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnogKiB0aGlzLm1heC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5tYXguejtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCBtaW4gPD0gLSBwbGFuZS5jb25zdGFudCAmJiBtYXggPj0gLSBwbGFuZS5jb25zdGFudCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzVHJpYW5nbGUoIHRyaWFuZ2xlICkge1xuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY29tcHV0ZSBib3ggY2VudGVyIGFuZCBleHRlbnRzXG5cdFx0dGhpcy5nZXRDZW50ZXIoIF9jZW50ZXIgKTtcblx0XHRfZXh0ZW50cy5zdWJWZWN0b3JzKCB0aGlzLm1heCwgX2NlbnRlciApO1xuXG5cdFx0Ly8gdHJhbnNsYXRlIHRyaWFuZ2xlIHRvIGFhYmIgb3JpZ2luXG5cdFx0X3YwLnN1YlZlY3RvcnMoIHRyaWFuZ2xlLmEsIF9jZW50ZXIgKTtcblx0XHRfdjEuc3ViVmVjdG9ycyggdHJpYW5nbGUuYiwgX2NlbnRlciApO1xuXHRcdF92Mi5zdWJWZWN0b3JzKCB0cmlhbmdsZS5jLCBfY2VudGVyICk7XG5cblx0XHQvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGVcblx0XHRfZjAuc3ViVmVjdG9ycyggX3YxLCBfdjAgKTtcblx0XHRfZjEuc3ViVmVjdG9ycyggX3YyLCBfdjEgKTtcblx0XHRfZjIuc3ViVmVjdG9ycyggX3YwLCBfdjIgKTtcblxuXHRcdC8vIHRlc3QgYWdhaW5zdCBheGVzIHRoYXQgYXJlIGdpdmVuIGJ5IGNyb3NzIHByb2R1Y3QgY29tYmluYXRpb25zIG9mIHRoZSBlZGdlcyBvZiB0aGUgdHJpYW5nbGUgYW5kIHRoZSBlZGdlcyBvZiB0aGUgYWFiYlxuXHRcdC8vIG1ha2UgYW4gYXhpcyB0ZXN0aW5nIG9mIGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIGFhYmIgYWdhaW5zdCBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSB0cmlhbmdsZSA9IDkgYXhpcyBvZiBzZXBhcmF0aW9uXG5cdFx0Ly8gYXhpc19paiA9IHVfaSB4IGZfaiAodTAsIHUxLCB1MiA9IGZhY2Ugbm9ybWFscyBvZiBhYWJiID0geCx5LHogYXhlcyB2ZWN0b3JzIHNpbmNlIGFhYmIgaXMgYXhpcyBhbGlnbmVkKVxuXHRcdGxldCBheGVzID0gW1xuXHRcdFx0MCwgLSBfZjAueiwgX2YwLnksIDAsIC0gX2YxLnosIF9mMS55LCAwLCAtIF9mMi56LCBfZjIueSxcblx0XHRcdF9mMC56LCAwLCAtIF9mMC54LCBfZjEueiwgMCwgLSBfZjEueCwgX2YyLnosIDAsIC0gX2YyLngsXG5cdFx0XHQtIF9mMC55LCBfZjAueCwgMCwgLSBfZjEueSwgX2YxLngsIDAsIC0gX2YyLnksIF9mMi54LCAwXG5cdFx0XTtcblx0XHRpZiAoICEgc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gdGVzdCAzIGZhY2Ugbm9ybWFscyBmcm9tIHRoZSBhYWJiXG5cdFx0YXhlcyA9IFsgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSBdO1xuXHRcdGlmICggISBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyBmaW5hbGx5IHRlc3RpbmcgdGhlIGZhY2Ugbm9ybWFsIG9mIHRoZSB0cmlhbmdsZVxuXHRcdC8vIHVzZSBhbHJlYWR5IGV4aXN0aW5nIHRyaWFuZ2xlIGVkZ2UgdmVjdG9ycyBoZXJlXG5cdFx0X3RyaWFuZ2xlTm9ybWFsLmNyb3NzVmVjdG9ycyggX2YwLCBfZjEgKTtcblx0XHRheGVzID0gWyBfdHJpYW5nbGVOb3JtYWwueCwgX3RyaWFuZ2xlTm9ybWFsLnksIF90cmlhbmdsZU5vcm1hbC56IF07XG5cblx0XHRyZXR1cm4gc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKTtcblxuXHR9XG5cblx0Y2xhbXBQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0Y29uc3QgY2xhbXBlZFBvaW50ID0gX3ZlY3Rvci5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblxuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRnZXRCb3VuZGluZ1NwaGVyZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHQvL3RhcmdldCA9IG5ldyBTcGhlcmUoKTsgLy8gcmVtb3ZlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5nZXRDZW50ZXIoIHRhcmdldC5jZW50ZXIgKTtcblxuXHRcdHRhcmdldC5yYWRpdXMgPSB0aGlzLmdldFNpemUoIF92ZWN0b3IgKS5sZW5ndGgoKSAqIDAuNTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGludGVyc2VjdCggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWF4KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWluKCBib3gubWF4ICk7XG5cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5pb24oIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1heCggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbWF0cml4ICkge1xuXG5cdFx0Ly8gdHJhbnNmb3JtIG9mIGVtcHR5IGJveCBpcyBhbiBlbXB0eSBib3guXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gTk9URTogSSBhbSB1c2luZyBhIGJpbmFyeSBwYXR0ZXJuIHRvIHNwZWNpZnkgYWxsIDJeMyBjb21iaW5hdGlvbnMgYmVsb3dcblx0XHRfcG9pbnRzWyAwIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDAwXG5cdFx0X3BvaW50c1sgMSBdLnNldCggdGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDAwMVxuXHRcdF9wb2ludHNbIDIgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMTBcblx0XHRfcG9pbnRzWyAzIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDExXG5cdFx0X3BvaW50c1sgNCBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDEwMFxuXHRcdF9wb2ludHNbIDUgXS5zZXQoIHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAxMDFcblx0XHRfcG9pbnRzWyA2IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTEwXG5cdFx0X3BvaW50c1sgNyBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDExMVxuXG5cdFx0dGhpcy5zZXRGcm9tUG9pbnRzKCBfcG9pbnRzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGQoIG9mZnNldCApO1xuXHRcdHRoaXMubWF4LmFkZCggb2Zmc2V0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBib3ggKSB7XG5cblx0XHRyZXR1cm4gYm94Lm1pbi5lcXVhbHMoIHRoaXMubWluICkgJiYgYm94Lm1heC5lcXVhbHMoIHRoaXMubWF4ICk7XG5cblx0fVxuXG59XG5cbkJveDMucHJvdG90eXBlLmlzQm94MyA9IHRydWU7XG5cbmNvbnN0IF9wb2ludHMgPSBbXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpXG5dO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfYm94ID0gLypAX19QVVJFX18qLyBuZXcgQm94MygpO1xuXG4vLyB0cmlhbmdsZSBjZW50ZXJlZCB2ZXJ0aWNlc1xuXG5jb25zdCBfdjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbi8vIHRyaWFuZ2xlIGVkZ2UgdmVjdG9yc1xuXG5jb25zdCBfZjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9jZW50ZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZXh0ZW50cyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90cmlhbmdsZU5vcm1hbCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90ZXN0QXhpcyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuZnVuY3Rpb24gc2F0Rm9yQXhlcyggYXhlcywgdjAsIHYxLCB2MiwgZXh0ZW50cyApIHtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGogPSBheGVzLmxlbmd0aCAtIDM7IGkgPD0gajsgaSArPSAzICkge1xuXG5cdFx0X3Rlc3RBeGlzLmZyb21BcnJheSggYXhlcywgaSApO1xuXHRcdC8vIHByb2plY3QgdGhlIGFhYmIgb250byB0aGUgc2VwZXJhdGluZyBheGlzXG5cdFx0Y29uc3QgciA9IGV4dGVudHMueCAqIE1hdGguYWJzKCBfdGVzdEF4aXMueCApICsgZXh0ZW50cy55ICogTWF0aC5hYnMoIF90ZXN0QXhpcy55ICkgKyBleHRlbnRzLnogKiBNYXRoLmFicyggX3Rlc3RBeGlzLnogKTtcblx0XHQvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXNcblx0XHRjb25zdCBwMCA9IHYwLmRvdCggX3Rlc3RBeGlzICk7XG5cdFx0Y29uc3QgcDEgPSB2MS5kb3QoIF90ZXN0QXhpcyApO1xuXHRcdGNvbnN0IHAyID0gdjIuZG90KCBfdGVzdEF4aXMgKTtcblx0XHQvLyBhY3R1YWwgdGVzdCwgYmFzaWNhbGx5IHNlZSBpZiBlaXRoZXIgb2YgdGhlIG1vc3QgZXh0cmVtZSBvZiB0aGUgdHJpYW5nbGUgcG9pbnRzIGludGVyc2VjdHMgclxuXHRcdGlmICggTWF0aC5tYXgoIC0gTWF0aC5tYXgoIHAwLCBwMSwgcDIgKSwgTWF0aC5taW4oIHAwLCBwMSwgcDIgKSApID4gciApIHtcblxuXHRcdFx0Ly8gcG9pbnRzIG9mIHRoZSBwcm9qZWN0ZWQgdHJpYW5nbGUgYXJlIG91dHNpZGUgdGhlIHByb2plY3RlZCBoYWxmLWxlbmd0aCBvZiB0aGUgYWFiYlxuXHRcdFx0Ly8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXRcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG5cbn1cblxuZXhwb3J0IHsgQm94MyB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfc2VnQ2VudGVyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3NlZ0RpciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9kaWZmID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfZWRnZTEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZWRnZTIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jbGFzcyBSYXkge1xuXG5cdGNvbnN0cnVjdG9yKCBvcmlnaW4gPSBuZXcgVmVjdG9yMygpLCBkaXJlY3Rpb24gPSBuZXcgVmVjdG9yMyggMCwgMCwgLSAxICkgKSB7XG5cblx0XHR0aGlzLm9yaWdpbiA9IG9yaWdpbjtcblx0XHR0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblxuXHR9XG5cblx0c2V0KCBvcmlnaW4sIGRpcmVjdGlvbiApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIG9yaWdpbiApO1xuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIGRpcmVjdGlvbiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHJheSApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIHJheS5vcmlnaW4gKTtcblx0XHR0aGlzLmRpcmVjdGlvbi5jb3B5KCByYXkuZGlyZWN0aW9uICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0fVxuXG5cdGxvb2tBdCggdiApIHtcblxuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIHYgKS5zdWIoIHRoaXMub3JpZ2luICkubm9ybWFsaXplKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmVjYXN0KCB0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggdGhpcy5hdCggdCwgX3ZlY3RvciApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5zdWJWZWN0b3JzKCBwb2ludCwgdGhpcy5vcmlnaW4gKTtcblxuXHRcdGNvbnN0IGRpcmVjdGlvbkRpc3RhbmNlID0gdGFyZ2V0LmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMub3JpZ2luICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBkaXJlY3Rpb25EaXN0YW5jZSA9IF92ZWN0b3Iuc3ViVmVjdG9ycyggcG9pbnQsIHRoaXMub3JpZ2luICkuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXlcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0XHR9XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0cmV0dXJuIF92ZWN0b3IuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3FUb1NlZ21lbnQoIHYwLCB2MSwgb3B0aW9uYWxQb2ludE9uUmF5LCBvcHRpb25hbFBvaW50T25TZWdtZW50ICkge1xuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3Lmdlb21ldHJpY3Rvb2xzLmNvbS9HVEVuZ2luZS9JbmNsdWRlL01hdGhlbWF0aWNzL0d0ZURpc3RSYXlTZWdtZW50Lmhcblx0XHQvLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudFxuXHRcdC8vIGRlZmluZWQgYnkgdjAgYW5kIHYxXG5cdFx0Ly8gSXQgY2FuIGFsc28gc2V0IHR3byBvcHRpb25hbCB0YXJnZXRzIDpcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXlcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzZWdtZW50XG5cblx0XHRfc2VnQ2VudGVyLmNvcHkoIHYwICkuYWRkKCB2MSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHRfc2VnRGlyLmNvcHkoIHYxICkuc3ViKCB2MCApLm5vcm1hbGl6ZSgpO1xuXHRcdF9kaWZmLmNvcHkoIHRoaXMub3JpZ2luICkuc3ViKCBfc2VnQ2VudGVyICk7XG5cblx0XHRjb25zdCBzZWdFeHRlbnQgPSB2MC5kaXN0YW5jZVRvKCB2MSApICogMC41O1xuXHRcdGNvbnN0IGEwMSA9IC0gdGhpcy5kaXJlY3Rpb24uZG90KCBfc2VnRGlyICk7XG5cdFx0Y29uc3QgYjAgPSBfZGlmZi5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cdFx0Y29uc3QgYjEgPSAtIF9kaWZmLmRvdCggX3NlZ0RpciApO1xuXHRcdGNvbnN0IGMgPSBfZGlmZi5sZW5ndGhTcSgpO1xuXHRcdGNvbnN0IGRldCA9IE1hdGguYWJzKCAxIC0gYTAxICogYTAxICk7XG5cdFx0bGV0IHMwLCBzMSwgc3FyRGlzdCwgZXh0RGV0O1xuXG5cdFx0aWYgKCBkZXQgPiAwICkge1xuXG5cdFx0XHQvLyBUaGUgcmF5IGFuZCBzZWdtZW50IGFyZSBub3QgcGFyYWxsZWwuXG5cblx0XHRcdHMwID0gYTAxICogYjEgLSBiMDtcblx0XHRcdHMxID0gYTAxICogYjAgLSBiMTtcblx0XHRcdGV4dERldCA9IHNlZ0V4dGVudCAqIGRldDtcblxuXHRcdFx0aWYgKCBzMCA+PSAwICkge1xuXG5cdFx0XHRcdGlmICggczEgPj0gLSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHMxIDw9IGV4dERldCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmVnaW9uIDBcblx0XHRcdFx0XHRcdC8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC5cblxuXHRcdFx0XHRcdFx0Y29uc3QgaW52RGV0ID0gMSAvIGRldDtcblx0XHRcdFx0XHRcdHMwICo9IGludkRldDtcblx0XHRcdFx0XHRcdHMxICo9IGludkRldDtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSBzMCAqICggczAgKyBhMDEgKiBzMSArIDIgKiBiMCApICsgczEgKiAoIGEwMSAqIHMwICsgczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyByZWdpb24gMVxuXG5cdFx0XHRcdFx0XHRzMSA9IHNlZ0V4dGVudDtcblx0XHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiA1XG5cblx0XHRcdFx0XHRzMSA9IC0gc2VnRXh0ZW50O1xuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoIHMxIDw9IC0gZXh0RGV0ICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVnaW9uIDRcblxuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCAtIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyAtIHNlZ0V4dGVudCA6IE1hdGgubWluKCBNYXRoLm1heCggLSBzZWdFeHRlbnQsIC0gYjEgKSwgc2VnRXh0ZW50ICk7XG5cdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzMSA8PSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gM1xuXG5cdFx0XHRcdFx0czAgPSAwO1xuXHRcdFx0XHRcdHMxID0gTWF0aC5taW4oIE1hdGgubWF4KCAtIHNlZ0V4dGVudCwgLSBiMSApLCBzZWdFeHRlbnQgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gMlxuXG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyBzZWdFeHRlbnQgOiBNYXRoLm1pbiggTWF0aC5tYXgoIC0gc2VnRXh0ZW50LCAtIGIxICksIHNlZ0V4dGVudCApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBSYXkgYW5kIHNlZ21lbnQgYXJlIHBhcmFsbGVsLlxuXG5cdFx0XHRzMSA9ICggYTAxID4gMCApID8gLSBzZWdFeHRlbnQgOiBzZWdFeHRlbnQ7XG5cdFx0XHRzMCA9IE1hdGgubWF4KCAwLCAtICggYTAxICogczEgKyBiMCApICk7XG5cdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25hbFBvaW50T25SYXkgKSB7XG5cblx0XHRcdG9wdGlvbmFsUG9pbnRPblJheS5jb3B5KCB0aGlzLmRpcmVjdGlvbiApLm11bHRpcGx5U2NhbGFyKCBzMCApLmFkZCggdGhpcy5vcmlnaW4gKTtcblxuXHRcdH1cblxuXHRcdGlmICggb3B0aW9uYWxQb2ludE9uU2VnbWVudCApIHtcblxuXHRcdFx0b3B0aW9uYWxQb2ludE9uU2VnbWVudC5jb3B5KCBfc2VnRGlyICkubXVsdGlwbHlTY2FsYXIoIHMxICkuYWRkKCBfc2VnQ2VudGVyICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc3FyRGlzdDtcblxuXHR9XG5cblx0aW50ZXJzZWN0U3BoZXJlKCBzcGhlcmUsIHRhcmdldCApIHtcblxuXHRcdF92ZWN0b3Iuc3ViVmVjdG9ycyggc3BoZXJlLmNlbnRlciwgdGhpcy5vcmlnaW4gKTtcblx0XHRjb25zdCB0Y2EgPSBfdmVjdG9yLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblx0XHRjb25zdCBkMiA9IF92ZWN0b3IuZG90KCBfdmVjdG9yICkgLSB0Y2EgKiB0Y2E7XG5cdFx0Y29uc3QgcmFkaXVzMiA9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xuXG5cdFx0aWYgKCBkMiA+IHJhZGl1czIgKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IHRoYyA9IE1hdGguc3FydCggcmFkaXVzMiAtIGQyICk7XG5cblx0XHQvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQwID0gdGNhIC0gdGhjO1xuXG5cdFx0Ly8gdDEgPSBzZWNvbmQgaW50ZXJzZWN0IHBvaW50IC0gZXhpdCBwb2ludCBvbiBiYWNrIG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQxID0gdGNhICsgdGhjO1xuXG5cdFx0Ly8gdGVzdCB0byBzZWUgaWYgYm90aCB0MCBhbmQgdDEgYXJlIGJlaGluZCB0aGUgcmF5IC0gaWYgc28sIHJldHVybiBudWxsXG5cdFx0aWYgKCB0MCA8IDAgJiYgdDEgPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyB0ZXN0IHRvIHNlZSBpZiB0MCBpcyBiZWhpbmQgdGhlIHJheTpcblx0XHQvLyBpZiBpdCBpcywgdGhlIHJheSBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgc28gcmV0dXJuIHRoZSBzZWNvbmQgZXhpdCBwb2ludCBzY2FsZWQgYnkgdDEsXG5cdFx0Ly8gaW4gb3JkZXIgdG8gYWx3YXlzIHJldHVybiBhbiBpbnRlcnNlY3QgcG9pbnQgdGhhdCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LlxuXHRcdGlmICggdDAgPCAwICkgcmV0dXJuIHRoaXMuYXQoIHQxLCB0YXJnZXQgKTtcblxuXHRcdC8vIGVsc2UgdDAgaXMgaW4gZnJvbnQgb2YgdGhlIHJheSwgc28gcmV0dXJuIHRoZSBmaXJzdCBjb2xsaXNpb24gcG9pbnQgc2NhbGVkIGJ5IHQwXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQwLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQoIHNwaGVyZS5jZW50ZXIgKSA8PSAoIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9QbGFuZSggcGxhbmUgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHBsYW5lLm5vcm1hbC5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHBsYW5lLmRpc3RhbmNlVG9Qb2ludCggdGhpcy5vcmlnaW4gKSA9PT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gMDtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkXG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdCA9IC0gKCB0aGlzLm9yaWdpbi5kb3QoIHBsYW5lLm5vcm1hbCApICsgcGxhbmUuY29uc3RhbnQgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0Ly8gUmV0dXJuIGlmIHRoZSByYXkgbmV2ZXIgaW50ZXJzZWN0cyB0aGUgcGxhbmVcblxuXHRcdHJldHVybiB0ID49IDAgPyB0IDogbnVsbDtcblxuXHR9XG5cblx0aW50ZXJzZWN0UGxhbmUoIHBsYW5lLCB0YXJnZXQgKSB7XG5cblx0XHRjb25zdCB0ID0gdGhpcy5kaXN0YW5jZVRvUGxhbmUoIHBsYW5lICk7XG5cblx0XHRpZiAoIHQgPT09IG51bGwgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gY2hlY2sgaWYgdGhlIHJheSBsaWVzIG9uIHRoZSBwbGFuZSBmaXJzdFxuXG5cdFx0Y29uc3QgZGlzdFRvUG9pbnQgPSBwbGFuZS5kaXN0YW5jZVRvUG9pbnQoIHRoaXMub3JpZ2luICk7XG5cblx0XHRpZiAoIGRpc3RUb1BvaW50ID09PSAwICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gcGxhbmUubm9ybWFsLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgKiBkaXN0VG9Qb2ludCA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcmF5IG9yaWdpbiBpcyBiZWhpbmQgdGhlIHBsYW5lIChhbmQgaXMgcG9pbnRpbmcgYmVoaW5kIGl0KVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RCb3goIGJveCwgdGFyZ2V0ICkge1xuXG5cdFx0bGV0IHRtaW4sIHRtYXgsIHR5bWluLCB0eW1heCwgdHptaW4sIHR6bWF4O1xuXG5cdFx0Y29uc3QgaW52ZGlyeCA9IDEgLyB0aGlzLmRpcmVjdGlvbi54LFxuXHRcdFx0aW52ZGlyeSA9IDEgLyB0aGlzLmRpcmVjdGlvbi55LFxuXHRcdFx0aW52ZGlyeiA9IDEgLyB0aGlzLmRpcmVjdGlvbi56O1xuXG5cdFx0Y29uc3Qgb3JpZ2luID0gdGhpcy5vcmlnaW47XG5cblx0XHRpZiAoIGludmRpcnggPj0gMCApIHtcblxuXHRcdFx0dG1pbiA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cdFx0XHR0bWF4ID0gKCBib3gubWF4LnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRtaW4gPSAoIGJveC5tYXgueCAtIG9yaWdpbi54ICkgKiBpbnZkaXJ4O1xuXHRcdFx0dG1heCA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cblx0XHR9XG5cblx0XHRpZiAoIGludmRpcnkgPj0gMCApIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAoIHRtaW4gPiB0eW1heCApIHx8ICggdHltaW4gPiB0bWF4ICkgKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIFRoZXNlIGxpbmVzIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRtaW4gb3IgdG1heCBpcyBOYU5cblx0XHQvLyAocmVzdWx0IG9mIDAgKiBJbmZpbml0eSkuIHggIT09IHggcmV0dXJucyB0cnVlIGlmIHggaXMgTmFOXG5cblx0XHRpZiAoIHR5bWluID4gdG1pbiB8fCB0bWluICE9PSB0bWluICkgdG1pbiA9IHR5bWluO1xuXG5cdFx0aWYgKCB0eW1heCA8IHRtYXggfHwgdG1heCAhPT0gdG1heCApIHRtYXggPSB0eW1heDtcblxuXHRcdGlmICggaW52ZGlyeiA+PSAwICkge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9XG5cblx0XHRpZiAoICggdG1pbiA+IHR6bWF4ICkgfHwgKCB0em1pbiA+IHRtYXggKSApIHJldHVybiBudWxsO1xuXG5cdFx0aWYgKCB0em1pbiA+IHRtaW4gfHwgdG1pbiAhPT0gdG1pbiApIHRtaW4gPSB0em1pbjtcblxuXHRcdGlmICggdHptYXggPCB0bWF4IHx8IHRtYXggIT09IHRtYXggKSB0bWF4ID0gdHptYXg7XG5cblx0XHQvL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpXG5cblx0XHRpZiAoIHRtYXggPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcy5hdCggdG1pbiA+PSAwID8gdG1pbiA6IHRtYXgsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goIGJveCwgX3ZlY3RvciApICE9PSBudWxsO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RUcmlhbmdsZSggYSwgYiwgYywgYmFja2ZhY2VDdWxsaW5nLCB0YXJnZXQgKSB7XG5cblx0XHQvLyBDb21wdXRlIHRoZSBvZmZzZXQgb3JpZ2luLCBlZGdlcywgYW5kIG5vcm1hbC5cblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5nZW9tZXRyaWN0b29scy5jb20vR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oXG5cblx0XHRfZWRnZTEuc3ViVmVjdG9ycyggYiwgYSApO1xuXHRcdF9lZGdlMi5zdWJWZWN0b3JzKCBjLCBhICk7XG5cdFx0X25vcm1hbC5jcm9zc1ZlY3RvcnMoIF9lZGdlMSwgX2VkZ2UyICk7XG5cblx0XHQvLyBTb2x2ZSBRICsgdCpEID0gYjEqRTEgKyBiMipFMiAoUSA9IGtEaWZmLCBEID0gcmF5IGRpcmVjdGlvbixcblx0XHQvLyBFMSA9IGtFZGdlMSwgRTIgPSBrRWRnZTIsIE4gPSBDcm9zcyhFMSxFMikpIGJ5XG5cdFx0Ly8gICB8RG90KEQsTil8KmIxID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoUSxFMikpXG5cdFx0Ly8gICB8RG90KEQsTil8KmIyID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoRTEsUSkpXG5cdFx0Ly8gICB8RG90KEQsTil8KnQgPSAtc2lnbihEb3QoRCxOKSkqRG90KFEsTilcblx0XHRsZXQgRGROID0gdGhpcy5kaXJlY3Rpb24uZG90KCBfbm9ybWFsICk7XG5cdFx0bGV0IHNpZ247XG5cblx0XHRpZiAoIERkTiA+IDAgKSB7XG5cblx0XHRcdGlmICggYmFja2ZhY2VDdWxsaW5nICkgcmV0dXJuIG51bGw7XG5cdFx0XHRzaWduID0gMTtcblxuXHRcdH0gZWxzZSBpZiAoIERkTiA8IDAgKSB7XG5cblx0XHRcdHNpZ24gPSAtIDE7XG5cdFx0XHREZE4gPSAtIERkTjtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0X2RpZmYuc3ViVmVjdG9ycyggdGhpcy5vcmlnaW4sIGEgKTtcblx0XHRjb25zdCBEZFF4RTIgPSBzaWduICogdGhpcy5kaXJlY3Rpb24uZG90KCBfZWRnZTIuY3Jvc3NWZWN0b3JzKCBfZGlmZiwgX2VkZ2UyICkgKTtcblxuXHRcdC8vIGIxIDwgMCwgbm8gaW50ZXJzZWN0aW9uXG5cdFx0aWYgKCBEZFF4RTIgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IERkRTF4USA9IHNpZ24gKiB0aGlzLmRpcmVjdGlvbi5kb3QoIF9lZGdlMS5jcm9zcyggX2RpZmYgKSApO1xuXG5cdFx0Ly8gYjIgPCAwLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkRTF4USA8IDAgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYjErYjIgPiAxLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkUXhFMiArIERkRTF4USA+IERkTiApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBMaW5lIGludGVyc2VjdHMgdHJpYW5nbGUsIGNoZWNrIGlmIHJheSBkb2VzLlxuXHRcdGNvbnN0IFFkTiA9IC0gc2lnbiAqIF9kaWZmLmRvdCggX25vcm1hbCApO1xuXG5cdFx0Ly8gdCA8IDAsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggUWROIDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBSYXkgaW50ZXJzZWN0cyB0cmlhbmdsZS5cblx0XHRyZXR1cm4gdGhpcy5hdCggUWROIC8gRGROLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXg0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KCBtYXRyaXg0ICk7XG5cdFx0dGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXg0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCByYXkgKSB7XG5cblx0XHRyZXR1cm4gcmF5Lm9yaWdpbi5lcXVhbHMoIHRoaXMub3JpZ2luICkgJiYgcmF5LmRpcmVjdGlvbi5lcXVhbHMoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBSYXkgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuaW1wb3J0ICogYXMgTWF0aFV0aWxzIGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX3N0YXJ0UCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zdGFydEVuZCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY2xhc3MgTGluZTMge1xuXG5cdGNvbnN0cnVjdG9yKCBzdGFydCA9IG5ldyBWZWN0b3IzKCksIGVuZCA9IG5ldyBWZWN0b3IzKCkgKSB7XG5cblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cblx0fVxuXG5cdHNldCggc3RhcnQsIGVuZCApIHtcblxuXHRcdHRoaXMuc3RhcnQuY29weSggc3RhcnQgKTtcblx0XHR0aGlzLmVuZC5jb3B5KCBlbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBsaW5lICkge1xuXG5cdFx0dGhpcy5zdGFydC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cdFx0dGhpcy5lbmQuY29weSggbGluZS5lbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMuc3RhcnQsIHRoaXMuZW5kICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRkZWx0YSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLmVuZCwgdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUbyggdGhpcy5lbmQgKTtcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmRlbHRhKCB0YXJnZXQgKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKCBwb2ludCwgY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRfc3RhcnRQLnN1YlZlY3RvcnMoIHBvaW50LCB0aGlzLnN0YXJ0ICk7XG5cdFx0X3N0YXJ0RW5kLnN1YlZlY3RvcnMoIHRoaXMuZW5kLCB0aGlzLnN0YXJ0ICk7XG5cblx0XHRjb25zdCBzdGFydEVuZDIgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRFbmQgKTtcblx0XHRjb25zdCBzdGFydEVuZF9zdGFydFAgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRQICk7XG5cblx0XHRsZXQgdCA9IHN0YXJ0RW5kX3N0YXJ0UCAvIHN0YXJ0RW5kMjtcblxuXHRcdGlmICggY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRcdHQgPSBNYXRoVXRpbHMuY2xhbXAoIHQsIDAsIDEgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgY2xhbXBUb0xpbmUsIHRhcmdldCApIHtcblxuXHRcdGNvbnN0IHQgPSB0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoIHBvaW50LCBjbGFtcFRvTGluZSApO1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZWx0YSggdGFyZ2V0ICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMuc3RhcnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXggKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cdFx0dGhpcy5lbmQuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGxpbmUgKSB7XG5cblx0XHRyZXR1cm4gbGluZS5zdGFydC5lcXVhbHMoIHRoaXMuc3RhcnQgKSAmJiBsaW5lLmVuZC5lcXVhbHMoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBMaW5lMyB9O1xuIiwiY2xhc3MgTWF0cml4MyB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCxcblx0XHRcdDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjIxLCBuMjIsIG4yMywgbjMxLCBuMzIsIG4zMyApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyAxIF0gPSBuMjE7IHRlWyAyIF0gPSBuMzE7XG5cdFx0dGVbIDMgXSA9IG4xMjsgdGVbIDQgXSA9IG4yMjsgdGVbIDUgXSA9IG4zMjtcblx0XHR0ZVsgNiBdID0gbjEzOyB0ZVsgNyBdID0gbjIzOyB0ZVsgOCBdID0gbjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07XG5cdFx0dGVbIDMgXSA9IG1lWyAzIF07IHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTtcblx0XHR0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07IHRlWyA4IF0gPSBtZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAwICk7XG5cdFx0eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyA0IF0sIG1lWyA4IF0sXG5cdFx0XHRtZVsgMSBdLCBtZVsgNSBdLCBtZVsgOSBdLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDYgXSwgbWVbIDEwIF1cblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgMyBdLCBhMTMgPSBhZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IGFlWyAxIF0sIGEyMiA9IGFlWyA0IF0sIGEyMyA9IGFlWyA3IF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDUgXSwgYTMzID0gYWVbIDggXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyAzIF0sIGIxMyA9IGJlWyA2IF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDQgXSwgYjIzID0gYmVbIDcgXTtcblx0XHRjb25zdCBiMzEgPSBiZVsgMiBdLCBiMzIgPSBiZVsgNSBdLCBiMzMgPSBiZVsgOCBdO1xuXG5cdFx0dGVbIDAgXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTtcblx0XHR0ZVsgMyBdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyO1xuXHRcdHRlWyA2IF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzM7XG5cblx0XHR0ZVsgMSBdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuXHRcdHRlWyA0IF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG5cdFx0dGVbIDcgXSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcblxuXHRcdHRlWyAyIF0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7XG5cdFx0dGVbIDUgXSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjtcblx0XHR0ZVsgOCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgMyBdICo9IHM7IHRlWyA2IF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDcgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOCBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhID0gdGVbIDAgXSwgYiA9IHRlWyAxIF0sIGMgPSB0ZVsgMiBdLFxuXHRcdFx0ZCA9IHRlWyAzIF0sIGUgPSB0ZVsgNCBdLCBmID0gdGVbIDUgXSxcblx0XHRcdGcgPSB0ZVsgNiBdLCBoID0gdGVbIDcgXSwgaSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnO1xuXG5cdH1cblxuXHRpbnZlcnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IHRlWyAwIF0sIG4yMSA9IHRlWyAxIF0sIG4zMSA9IHRlWyAyIF0sXG5cdFx0XHRuMTIgPSB0ZVsgMyBdLCBuMjIgPSB0ZVsgNCBdLCBuMzIgPSB0ZVsgNSBdLFxuXHRcdFx0bjEzID0gdGVbIDYgXSwgbjIzID0gdGVbIDcgXSwgbjMzID0gdGVbIDggXSxcblxuXHRcdFx0dDExID0gbjMzICogbjIyIC0gbjMyICogbjIzLFxuXHRcdFx0dDEyID0gbjMyICogbjEzIC0gbjMzICogbjEyLFxuXHRcdFx0dDEzID0gbjIzICogbjEyIC0gbjIyICogbjEzLFxuXG5cdFx0XHRkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTM7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjMxICogbjIzIC0gbjMzICogbjIxICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjMyICogbjIxIC0gbjMxICogbjIyICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMyBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA0IF0gPSAoIG4zMyAqIG4xMSAtIG4zMSAqIG4xMyApICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4zMSAqIG4xMiAtIG4zMiAqIG4xMSApICogZGV0SW52O1xuXG5cdFx0dGVbIDYgXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMjEgKiBuMTMgLSBuMjMgKiBuMTEgKSAqIGRldEludjtcblx0XHR0ZVsgOCBdID0gKCBuMjIgKiBuMTEgLSBuMjEgKiBuMTIgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRsZXQgdG1wO1xuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dG1wID0gbVsgMSBdOyBtWyAxIF0gPSBtWyAzIF07IG1bIDMgXSA9IHRtcDtcblx0XHR0bXAgPSBtWyAyIF07IG1bIDIgXSA9IG1bIDYgXTsgbVsgNiBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDUgXTsgbVsgNSBdID0gbVsgNyBdOyBtWyA3IF0gPSB0bXA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Tm9ybWFsTWF0cml4KCBtYXRyaXg0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoIG1hdHJpeDQgKS5pbnZlcnQoKS50cmFuc3Bvc2UoKTtcblxuXHR9XG5cblx0dHJhbnNwb3NlSW50b0FycmF5KCByICkge1xuXG5cdFx0Y29uc3QgbSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRyWyAwIF0gPSBtWyAwIF07XG5cdFx0clsgMSBdID0gbVsgMyBdO1xuXHRcdHJbIDIgXSA9IG1bIDYgXTtcblx0XHRyWyAzIF0gPSBtWyAxIF07XG5cdFx0clsgNCBdID0gbVsgNCBdO1xuXHRcdHJbIDUgXSA9IG1bIDcgXTtcblx0XHRyWyA2IF0gPSBtWyAyIF07XG5cdFx0clsgNyBdID0gbVsgNSBdO1xuXHRcdHJbIDggXSA9IG1bIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRVdlRyYW5zZm9ybSggdHgsIHR5LCBzeCwgc3ksIHJvdGF0aW9uLCBjeCwgY3kgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHJvdGF0aW9uICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCByb3RhdGlvbiApO1xuXG5cdFx0dGhpcy5zZXQoXG5cdFx0XHRzeCAqIGMsIHN4ICogcywgLSBzeCAqICggYyAqIGN4ICsgcyAqIGN5ICkgKyBjeCArIHR4LFxuXHRcdFx0LSBzeSAqIHMsIHN5ICogYywgLSBzeSAqICggLSBzICogY3ggKyBjICogY3kgKSArIGN5ICsgdHksXG5cdFx0XHQwLCAwLCAxXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzY2FsZSggc3gsIHN5ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzeDsgdGVbIDMgXSAqPSBzeDsgdGVbIDYgXSAqPSBzeDtcblx0XHR0ZVsgMSBdICo9IHN5OyB0ZVsgNCBdICo9IHN5OyB0ZVsgNyBdICo9IHN5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZSggdGhldGEgKSB7XG5cblx0XHRjb25zdCBjID0gTWF0aC5jb3MoIHRoZXRhICk7XG5cdFx0Y29uc3QgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gdGVbIDAgXSwgYTEyID0gdGVbIDMgXSwgYTEzID0gdGVbIDYgXTtcblx0XHRjb25zdCBhMjEgPSB0ZVsgMSBdLCBhMjIgPSB0ZVsgNCBdLCBhMjMgPSB0ZVsgNyBdO1xuXG5cdFx0dGVbIDAgXSA9IGMgKiBhMTEgKyBzICogYTIxO1xuXHRcdHRlWyAzIF0gPSBjICogYTEyICsgcyAqIGEyMjtcblx0XHR0ZVsgNiBdID0gYyAqIGExMyArIHMgKiBhMjM7XG5cblx0XHR0ZVsgMSBdID0gLSBzICogYTExICsgYyAqIGEyMTtcblx0XHR0ZVsgNCBdID0gLSBzICogYTEyICsgYyAqIGEyMjtcblx0XHR0ZVsgNyBdID0gLSBzICogYTEzICsgYyAqIGEyMztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc2xhdGUoIHR4LCB0eSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gKz0gdHggKiB0ZVsgMiBdOyB0ZVsgMyBdICs9IHR4ICogdGVbIDUgXTsgdGVbIDYgXSArPSB0eCAqIHRlWyA4IF07XG5cdFx0dGVbIDEgXSArPSB0eSAqIHRlWyAyIF07IHRlWyA0IF0gKz0gdHkgKiB0ZVsgNSBdOyB0ZVsgNyBdICs9IHR5ICogdGVbIDggXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDk7IGkgKysgKSB7XG5cblx0XHRcdGlmICggdGVbIGkgXSAhPT0gbWVbIGkgXSApIHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH1cblxuXHRmcm9tQXJyYXkoIGFycmF5LCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgOTsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5lbGVtZW50c1sgaSBdID0gYXJyYXlbIGkgKyBvZmZzZXQgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0b0FycmF5KCBhcnJheSA9IFtdLCBvZmZzZXQgPSAwICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0YXJyYXlbIG9mZnNldCBdID0gdGVbIDAgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMSBdID0gdGVbIDEgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGVbIDIgXTtcblxuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA0IF0gPSB0ZVsgNCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyA1IF0gPSB0ZVsgNSBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDggXSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuZnJvbUFycmF5KCB0aGlzLmVsZW1lbnRzICk7XG5cblx0fVxuXG59XG5cbk1hdHJpeDMucHJvdG90eXBlLmlzTWF0cml4MyA9IHRydWU7XG5cbmV4cG9ydCB7IE1hdHJpeDMgfTtcbiIsImltcG9ydCB7IE1hdHJpeDMgfSBmcm9tICcuL01hdHJpeDMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5cbmNvbnN0IF92ZWN0b3IxID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ZlY3RvcjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsTWF0cml4ID0gLypAX19QVVJFX18qLyBuZXcgTWF0cml4MygpO1xuXG5jbGFzcyBQbGFuZSB7XG5cblx0Y29uc3RydWN0b3IoIG5vcm1hbCA9IG5ldyBWZWN0b3IzKCAxLCAwLCAwICksIGNvbnN0YW50ID0gMCApIHtcblxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWRcblxuXHRcdHRoaXMubm9ybWFsID0gbm9ybWFsO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBjb25zdGFudDtcblxuXHR9XG5cblx0c2V0KCBub3JtYWwsIGNvbnN0YW50ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggbm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IGNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldENvbXBvbmVudHMoIHgsIHksIHosIHcgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5zZXQoIHgsIHksIHogKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gdztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggbm9ybWFsLCBwb2ludCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSAtIHBvaW50LmRvdCggdGhpcy5ub3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQ29wbGFuYXJQb2ludHMoIGEsIGIsIGMgKSB7XG5cblx0XHRjb25zdCBub3JtYWwgPSBfdmVjdG9yMS5zdWJWZWN0b3JzKCBjLCBiICkuY3Jvc3MoIF92ZWN0b3IyLnN1YlZlY3RvcnMoIGEsIGIgKSApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT9cblxuXHRcdHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgYSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvcHkoIHBsYW5lICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuY29weSggcGxhbmUubm9ybWFsICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IHBsYW5lLmNvbnN0YW50O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdC8vIE5vdGU6IHdpbGwgbGVhZCB0byBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBwbGFuZSBpcyBpbnZhbGlkLlxuXG5cdFx0Y29uc3QgaW52ZXJzZU5vcm1hbExlbmd0aCA9IDEuMCAvIHRoaXMubm9ybWFsLmxlbmd0aCgpO1xuXHRcdHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKCBpbnZlcnNlTm9ybWFsTGVuZ3RoICk7XG5cdFx0dGhpcy5jb25zdGFudCAqPSBpbnZlcnNlTm9ybWFsTGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG5lZ2F0ZSgpIHtcblxuXHRcdHRoaXMuY29uc3RhbnQgKj0gLSAxO1xuXHRcdHRoaXMubm9ybWFsLm5lZ2F0ZSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWwuZG90KCBwb2ludCApICsgdGhpcy5jb25zdGFudDtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBzcGhlcmUuY2VudGVyICkgLSBzcGhlcmUucmFkaXVzO1xuXG5cdH1cblxuXHRwcm9qZWN0UG9pbnQoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBwb2ludCApICkuYWRkKCBwb2ludCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RMaW5lKCBsaW5lLCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IGxpbmUuZGVsdGEoIF92ZWN0b3IxICk7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHRoaXMubm9ybWFsLmRvdCggZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHRoaXMuZGlzdGFuY2VUb1BvaW50KCBsaW5lLnN0YXJ0ICkgPT09IDAgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gVW5zdXJlIGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgbWV0aG9kIHRvIGhhbmRsZSB0aGlzIGNhc2UuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHQgPSAtICggbGluZS5zdGFydC5kb3QoIHRoaXMubm9ybWFsICkgKyB0aGlzLmNvbnN0YW50ICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdGlmICggdCA8IDAgfHwgdCA+IDEgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBkaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggbGluZS5zdGFydCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzTGluZSggbGluZSApIHtcblxuXHRcdC8vIE5vdGU6IHRoaXMgdGVzdHMgaWYgYSBsaW5lIGludGVyc2VjdHMgdGhlIHBsYW5lLCBub3Qgd2hldGhlciBpdCAob3IgaXRzIGVuZC1wb2ludHMpIGFyZSBjb3BsYW5hciB3aXRoIGl0LlxuXG5cdFx0Y29uc3Qgc3RhcnRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKTtcblx0XHRjb25zdCBlbmRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuZW5kICk7XG5cblx0XHRyZXR1cm4gKCBzdGFydFNpZ24gPCAwICYmIGVuZFNpZ24gPiAwICkgfHwgKCBlbmRTaWduIDwgMCAmJiBzdGFydFNpZ24gPiAwICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNTcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcGxhbmFyUG9pbnQoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXgsIG9wdGlvbmFsTm9ybWFsTWF0cml4ICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsTWF0cml4ID0gb3B0aW9uYWxOb3JtYWxNYXRyaXggfHwgX25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3QgcmVmZXJlbmNlUG9pbnQgPSB0aGlzLmNvcGxhbmFyUG9pbnQoIF92ZWN0b3IxICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdGNvbnN0IG5vcm1hbCA9IHRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myggbm9ybWFsTWF0cml4ICkubm9ybWFsaXplKCk7XG5cblx0XHR0aGlzLmNvbnN0YW50ID0gLSByZWZlcmVuY2VQb2ludC5kb3QoIG5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAtPSBvZmZzZXQuZG90KCB0aGlzLm5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcGxhbmUgKSB7XG5cblx0XHRyZXR1cm4gcGxhbmUubm9ybWFsLmVxdWFscyggdGhpcy5ub3JtYWwgKSAmJiAoIHBsYW5lLmNvbnN0YW50ID09PSB0aGlzLmNvbnN0YW50ICk7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxufVxuXG5QbGFuZS5wcm90b3R5cGUuaXNQbGFuZSA9IHRydWU7XG5cbmV4cG9ydCB7IFBsYW5lIH07XG4iLCJpbXBvcnQge1ZlY3RvcjJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjInXG5pbXBvcnQge1ZlY3RvcjN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge1ZlY3RvcjR9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjQnXG5pbXBvcnQge1F1YXRlcm5pb259IGZyb20gJ3RocmVlL3NyYy9tYXRoL1F1YXRlcm5pb24nXG5pbXBvcnQge0V1bGVyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9FdWxlcidcbmltcG9ydCB7Q29sb3J9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0NvbG9yJ1xuaW1wb3J0IHtCb3gyfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gyJ1xuaW1wb3J0IHtCb3gzfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9Cb3gzJ1xuaW1wb3J0IHtSYXl9IGZyb20gJ3RocmVlL3NyYy9tYXRoL1JheSdcbmltcG9ydCB7TGluZTN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0xpbmUzJ1xuaW1wb3J0IHtQbGFuZX0gZnJvbSAndGhyZWUvc3JjL21hdGgvUGxhbmUnXG5cbi8vIGltcG9ydCB7TWF0cml4M30gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4Mydcbi8vIGltcG9ydCB7TWF0cml4NH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcblxuXG4vLyBleHBvcnQgY2xhc3MgUHJvcGVydHlJdGVyYXRvcjxUID0gYW55PiBpbXBsZW1lbnRzIEl0ZXJhdG9yPG51bWJlcj4ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX29iajpULCBwcml2YXRlIF9rZXlzOlJlYWRvbmx5QXJyYXk8a2V5b2YgVD4pIHt9XG4vLyAgICAgcHJpdmF0ZSBfaWR4ID0gMFxuLy8gICAgIG5leHQoKSA6IEl0ZXJhdG9yUmVzdWx0PG51bWJlciwgbnVtYmVyPiB7XG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICBkb25lOiB0aGlzLl9pZHggPT09IChWZWN0b3IyS2V5cy5sZW5ndGggLSAxKSxcbi8vICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vYmpbdGhpcy5fa2V5c1t0aGlzLl9pZHgrK11dIGFzIGFueVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMicge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IyIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjJLZXlzID0gWyd4JywneSddIGFzIGNvbnN0XG4vLyBWZWN0b3IyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBWZWN0b3IyS2V5cylcbi8vIH1cblxuLy8gZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnIHtcbi8vICAgICBpbnRlcmZhY2UgVmVjdG9yMyB7XG4vLyAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IFByb3BlcnR5SXRlcmF0b3Jcbi8vICAgICB9XG4vLyB9XG4vLyBjb25zdCBWZWN0b3IzS2V5cyA9IFsneCcsJ3knLCd6J10gYXMgY29uc3Rcbi8vIFZlY3RvcjMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjNLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbicge1xuLy8gICAgIGludGVyZmFjZSBRdWF0ZXJuaW9uIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFF1YXRlcm5pb25LZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gUXVhdGVybmlvbi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgUXVhdGVybmlvbktleXMpXG4vLyB9XG5cbi8vIGltcG9ydCB7dHJhY2tlZH0gZnJvbSAnLi90cmFja2luZydcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd3Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeCcpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3knKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ196Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfdycpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ3InKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdnJylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAnYicpXG5cbmV4cG9ydCBjb25zdCBWXzAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMigwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDEsMSkpXG5leHBvcnQgY29uc3QgVl8wMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwwKSlcbmV4cG9ydCBjb25zdCBWXzEwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMDEwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLDEsMCkpXG5leHBvcnQgY29uc3QgVl8wMDEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwxKSlcbmV4cG9ydCBjb25zdCBWXzExMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwxLDEpKVxuZXhwb3J0IGNvbnN0IFFfSURFTlRJVFkgPSBPYmplY3QuZnJlZXplKG5ldyBRdWF0ZXJuaW9uKVxuXG5leHBvcnQgY29uc3QgRElSRUNUSU9OID0ge1xuICAgIFJJR0hUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDEsIDAsIDApKSxcbiAgICBVUDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAxLCAwKSksXG4gICAgTkVBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAxKSksXG4gICAgTEVGVDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygtMSwgMCwgMCkpLFxuICAgIERPV046IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgLTEsIDApKSxcbiAgICBGQVI6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgMCwgLTEpKVxufVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvQm94Mycge1xuLy8gICAgIGludGVyZmFjZSBCb3gzIHtcbi8vICAgICAgICAgbGVmdDpudW1iZXJcbi8vICAgICAgICAgcmlnaHQ6bnVtYmVyXG4vLyAgICAgICAgIGJvdHRvbTpudW1iZXJcbi8vICAgICAgICAgdG9wOm51bWJlclxuLy8gICAgICAgICBjZW50ZXI6VmVjdG9yM1xuLy8gICAgIH1cbi8vIH1cblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnbGVmdCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAncmlnaHQnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueFxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3RvcCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi55XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnYm90dG9tJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4Lnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBjb25zdCBjZW50ZXJNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdjZW50ZXInLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIWNlbnRlck1hcC5oYXModGhpcykpIGNlbnRlck1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENlbnRlcihjZW50ZXJNYXAuZ2V0KHRoaXMpKVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IHNpemVNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdzaXplJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgaWYgKCFzaXplTWFwLmhhcyh0aGlzKSkgc2l6ZU1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoc2l6ZU1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuZXhwb3J0IHtcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjMsXG4gICAgVmVjdG9yNCxcbiAgICBRdWF0ZXJuaW9uLFxuICAgIEV1bGVyLFxuICAgIENvbG9yLFxuICAgIEJveDIsXG4gICAgQm94MyxcbiAgICBSYXksXG4gICAgTGluZTMsXG4gICAgUGxhbmUsXG59XG5cblxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IyTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yNExpa2Uge3g6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBRdWF0ZXJuaW9uTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbG9yTGlrZSB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQm94M0xpa2Uge21pbjpWZWN0b3IzTGlrZSwgbWF4OlZlY3RvcjNMaWtlfVxuLy8gZXhwb3J0IGludGVyZmFjZSBSYXlMaWtlIHtvcmlnaW46VmVjdG9yM0xpa2UsIGRpcmVjdGlvbjpWZWN0b3IzTGlrZX1cblxuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4MydcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5leHBvcnQgKiBhcyBNYXRoVXRpbHMgZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0aFV0aWxzJ1xuXG4vKlxuKiBUaGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBhIHVuaXRsZXNzIHNjYWxhciBtZWFzdXJlIG9mIHRoZSBkaWZmZXJlbmNlXG4qIGJldHdlZW4gdGhlIGB0YXJnZXRgIHZhbHVlIGFuZCB0aGUgcHJldmlvdXMgdGFyZ2V0IHZhbHVlIChzdGFnZWQgb3IgY29tbWl0dGVkKVxuKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlbGF0aXZlX2NoYW5nZV9hbmRfZGlmZmVyZW5jZVxuKiBcbiogRXhhY3RseSBob3cgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBjYWxjdWxhdGVkIGlzIGJhc2VkIG9uIHRoZSB2YWx1ZSB0eXBlOlxuXG4qIG51bWJlciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIGFic29sdXRlIHZhbHVlXG4qIHZlY3RvciAtIGxpbmVhciBkaXN0YW5jZSBiZXR3ZWVuIC8gYXZnIG1hZ25pdHVkZVxuKiBib3ggLSBhdmcgY29ycmVzcG9uZGluZyBjb3JuZXIgZGlzdGFuY2VzIC8gYXZnIHNpemUgbWFnbml0dWRlXG4qIHF1YXRlcm5pb24gLSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gLyBtYXggYW5ndWxhciBkaXN0YW5jZSAoMTgwIGRlZylcbiogY29sb3IgLSBhdmcgcmdiIGRpc3RhbmNlIC8gbWF4IHJnYiBkaXN0YW5jZSAod2hpdGUgPSBzcXJ0KDMpKVxuKiBcbiogSWYgdGhlcmUgaXMgbm8gY2hhbmdlLCB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyAwXG4qIE90aGVyd2lzZSwgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgaXMgcG9zaXRpdmUuIFxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVsYXRpdmVEaWZmZXJlbmNlPFQgZXh0ZW5kcyBNYXRoVHlwZSA9IE1hdGhUeXBlPihzdGFydDpULCBlbmQ6VCkge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VOdW1iZXIoc3RhcnQsIGVuZCBhcyBudW1iZXIpICAgIFxuICAgIGlmICgnaXNWZWN0b3IzJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMyhzdGFydCBhcyBWZWN0b3IzLCBlbmQgYXMgVmVjdG9yMykgICAgXG4gICAgaWYgKCdpc1ZlY3RvcjInIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IyKHN0YXJ0IGFzIFZlY3RvcjIsIGVuZCBhcyBWZWN0b3IyKSAgICBcbiAgICBpZiAoJ2lzQm94MycgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoc3RhcnQgYXMgQm94MywgZW5kIGFzIEJveDMpXG4gICAgLy8gdGhlIGZvbGxvd2luZyB0eXBlcyBhcmUgbmF0dXJhbGx5IGJvdW5kZWQsXG4gICAgLy8gc28gaW5zdGVhZCBvZiBkaXZpZGluZyBieSBhdmVyYWdlIG1hZ25pdHVkZXMsXG4gICAgLy8gd2UgY2FuIHNpbXBseSBkaXZpZGUgYnkgdGhlIG1heGltdW0gZGlzdGFuY2UgXG4gICAgLy8gYmV0d2VlbiBhbnkgdHdvIHBvc3NpYmxlIHZhbHVlc1xuICAgIGlmICgnaXNRdWF0ZXJuaW9uJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlUXVhdGVybmlvbihzdGFydCBhcyBRdWF0ZXJuaW9uLCBlbmQgYXMgUXVhdGVybmlvbilcbiAgICBpZiAoJ2lzQ29sb3InIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VDb2xvcihzdGFydCBhcyBDb2xvciwgZW5kIGFzIENvbG9yKVxuICAgIHJldHVybiBJbmZpbml0eVxufVxuZXhwb3J0IHR5cGUgTWF0aFR5cGUgPSBudW1iZXJ8VmVjdG9yMnxWZWN0b3IzfENvbG9yfFF1YXRlcm5pb258Qm94M1xuXG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlTnVtYmVyKHM6bnVtYmVyLCBlOm51bWJlcikge1xuICAgIGlmIChlID09PSBzKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoZS1zKVxuICAgIGNvbnN0IGF2Z0Fic29sdXRlVmFsdWUgPSAoKE1hdGguYWJzKGUpICsgTWF0aC5hYnMocykpLzIpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnQWJzb2x1dGVWYWx1ZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjMoczpUSFJFRS5WZWN0b3IzLGU6VEhSRUUuVmVjdG9yMykge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjIoczpUSFJFRS5WZWN0b3IyLGU6VEhSRUUuVmVjdG9yMikge1xuICAgIGlmIChlLmVxdWFscyhzKSkgcmV0dXJuIDBcbiAgICBjb25zdCBkaXN0YW5jZSA9IGUuZGlzdGFuY2VUbyhzKVxuICAgIGNvbnN0IGF2Z01hZ25pdHVkZSA9IChlLmxlbmd0aCgpICsgcy5sZW5ndGgoKSkvMlxuICAgIHJldHVybiBkaXN0YW5jZSAvIGF2Z01hZ25pdHVkZVxufVxuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUJveDMoczpCb3gzLCBlOkJveDMpIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgY29uc3QgdiA9IHNjcmF0Y2hWM1xuICAgIGNvbnN0IG1pbkRpc3QgPSBlLm1pbi5kaXN0YW5jZVRvKHMubWluKVxuICAgIGNvbnN0IG1heERpc3QgPSBlLm1heC5kaXN0YW5jZVRvKHMubWF4KVxuICAgIGNvbnN0IGF2Z0Rpc3RhbmNlID0gKG1pbkRpc3QgKyBtYXhEaXN0KSAvIDJcbiAgICBjb25zdCBhdmdTaXplTWFnbml0dWRlID0gKGUuZ2V0U2l6ZSh2KS5sZW5ndGgoKSArIHMuZ2V0U2l6ZSh2KS5sZW5ndGgoKSkgLyAyXG4gICAgcmV0dXJuIGF2Z0Rpc3RhbmNlIC8gYXZnU2l6ZU1hZ25pdHVkZVxufVxuY29uc3Qgc2NyYXRjaFYzID0gbmV3IFZlY3RvcjNcblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VRdWF0ZXJuaW9uKHM6UXVhdGVybmlvbiwgZTpRdWF0ZXJuaW9uKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIHJldHVybiBzLmFuZ2xlVG8oZSkgLyBNYXRoLlBJXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQ29sb3IoczpDb2xvciwgZTpDb2xvcikge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICBjb25zdCB2ID0gc2NyYXRjaFYzXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2LnNldChcbiAgICAgICAgTWF0aC5hYnMoZS5yIC0gcy5yKSxcbiAgICAgICAgTWF0aC5hYnMoZS5nIC0gcy5nKSwgXG4gICAgICAgIE1hdGguYWJzKGUuYiAtIHMuYilcbiAgICApLmxlbmd0aCgpXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gc3FydDNcbn1cbmNvbnN0IHNxcnQzID0gTWF0aC5zcXJ0KDMpXG5cblxuXG4vKiogXG4gKiBSZXR1cm4gcmFuZG9tIG51bWJlciB3aXRoIGdhdXNzaWFuIGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzdGFuZGFyZERldmlhdGlvbj0xXVxuICovXG5leHBvcnQgY29uc3QgZ2F1c3NpYW4gPSAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuICB2YXIgdSA9IE1hdGgucmFuZG9tKClcbiAgcmV0dXJuICh1JTFlLTg+NWUtOT8xOi0xKSpNYXRoLnNxcnQoLU1hdGgubG9nKE1hdGgubWF4KDFlLTksdSkpKSpzdGFuZGFyZERldmlhdGlvbjtcbn1cbi8vIGV4cG9ydCBjb25zdCBnYXVzc2lhbiA9ICgoKSA9PiB7XG4vLyAgICAgY29uc3QgXzJQSSA9IE1hdGguUElcbi8vICAgICBsZXQgejA6bnVtYmVyLCB6MTpudW1iZXJcbi8vICAgICBsZXQgZ2VuZXJhdGUgPSBmYWxzZVxuLy8gICAgIHJldHVybiAoc3RhbmRhcmREZXZpYXRpb249MSkgPT4ge1xuLy8gICAgICAgICBnZW5lcmF0ZSA9ICFnZW5lcmF0ZVxuLy8gICAgICAgICBpZiAoIWdlbmVyYXRlKSByZXR1cm4gejEgKiBzdGFuZGFyZERldmlhdGlvblxuLy8gICAgICAgICBsZXQgdTE6bnVtYmVyLCB1MjpudW1iZXJcbi8vICAgICAgICAgZG8geyB1MSA9IE1hdGgucmFuZG9tKCkgfSB3aGlsZSAodTEgPCBOdW1iZXIuRVBTSUxPTilcbi8vICAgICAgICAgdTIgPSBNYXRoLnJhbmRvbSgpXG4vLyAgICAgICAgIHowID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1MSkpICogTWF0aC5jb3MoXzJQSSAqIHUyKVxuLy8gICAgICAgICB6MSA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2codTEpKSAqIE1hdGguc2luKF8yUEkgKiB1Milcbi8vICAgICAgICAgcmV0dXJuIHowICogc3RhbmRhcmREZXZpYXRpb25cbi8vICAgICB9XG4vLyB9KSgpXG5cbi8qKlxuICogUmV0dXJuIHJhbmRvbSBudW1iZXIgd2l0aCBsZXZ5IGRpc3RyaWJ1dGlvblxuICogQHBhcmFtIFtzY2FsZT0xXVxuICogXG4gKiBCYXNlZCBvbjpcbiAqIGh0dHA6Ly9hbmRyZXdlY2tmb3JkLmJsb2dzcG90LmNvbS8yMDExLzA1L2dlbmVyYXRpbmctbGV2eS1yYW5kb20tdmFyaWFibGVzLWZyb20uaHRtbFxuICovXG5leHBvcnQgY29uc3QgbGV2eSA9IChzY2FsZT0xKSA9PiAge1xuICAgIGNvbnN0IHN0ZERldmlhdGlvbiA9IE1hdGguc3FydCggTWF0aC5zcXJ0KDEgLyAoMiAqIHNjYWxlKSkgKVxuICAgIHJldHVybiAxIC8gKGdhdXNzaWFuKHN0ZERldmlhdGlvbikgKiogMilcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSByYW5kb20gcXVhdGVybmlvblxuICogQHBhcmFtIG91dCBcbiAqIEBwYXJhbSB0d2lzdFNjYWxlIFxuICogQHBhcmFtIHN3aW5nU2NhbGUgXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21RdWF0ZXJuaW9uID0gKCgpID0+IHtcbiAgICBjb25zdCBfMlBJID0gTWF0aC5QSSAqIDJcbiAgICBjb25zdCBWXzAwMSA9IG5ldyBWZWN0b3IzKDAsMCwxKVxuICAgIGNvbnN0IHR3aXN0ID0gbmV3IFF1YXRlcm5pb25cbiAgICBjb25zdCBzd2luZyA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgY29uc3Qgc3dpbmdBeGlzID0gbmV3IFZlY3RvcjNcbiAgICBjb25zdCBvdXQgPSBuZXcgUXVhdGVybmlvblxuICAgIHJldHVybiBmdW5jdGlvbiByYW5kb21RdWF0ZXJuaW9uKHR3aXN0U2NhbGU9MSwgc3dpbmdTY2FsZT0xKSB7XG4gICAgICAgIHZhciB0d2lzdE1hZ25pdHVkZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIF8yUEkgKiB0d2lzdFNjYWxlIFxuICAgICAgICB2YXIgc3dpbmdEaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogXzJQSVxuICAgICAgICB2YXIgc3dpbmdNYWduaXR1ZGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIHN3aW5nU2NhbGVcbiAgICAgICAgc3dpbmdBeGlzLnNldCgxLDAsMCkuYXBwbHlBeGlzQW5nbGUoVl8wMDEsIHN3aW5nRGlyZWN0aW9uKVxuICAgICAgICB0d2lzdC5zZXRGcm9tQXhpc0FuZ2xlKFZfMDAxLCB0d2lzdE1hZ25pdHVkZSlcbiAgICAgICAgc3dpbmcuc2V0RnJvbUF4aXNBbmdsZShzd2luZ0F4aXMsIHN3aW5nTWFnbml0dWRlKVxuICAgICAgICByZXR1cm4gb3V0Lm11bHRpcGx5UXVhdGVybmlvbnMoc3dpbmcsIHR3aXN0KVxuICAgIH1cbn0pKClcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVNlbGVjdDxUPihhcnI6VFtdLCB3ZWlnaHRzPzpudW1iZXJbXSkgOiBUIHtcbiAgICBsZXQgdG90YWwgPSAwXG4gICAgZm9yIChsZXQgaT0wOyBpPCBhcnIubGVuZ3RoOyBpKyspIHsgdG90YWwgKz0gd2VpZ2h0cz8uW2ldfHwxIH1cbiAgICBjb25zdCB0aHJlc2hvbGQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxcbiAgICB0b3RhbCA9IDBcbiAgICBmb3IgKGxldCBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b3RhbCArPSB3ZWlnaHRzPy5baV18fDFcbiAgICAgICAgaWYgKHRvdGFsID4gdGhyZXNob2xkKSByZXR1cm4gYXJyW2ldXG4gICAgfVxuICAgIHJldHVybiBhcnJbMF0gLy8gbWFrZSB0c2MgaGFwcHlcbn1cblxuLyoqXG4gKiBVc2UgdGhlIHN3aW5nLXR3aXN0IGRlY29tcG9zaXRpb24gdG8gZ2V0IHRoZSBjb21wb25lbnQgb2YgYSByb3RhdGlvblxuICogYXJvdW5kIHRoZSBnaXZlbiBheGlzLlxuICogXG4gKiBAcGFyYW0gcm90YXRpb24gIFRoZSByb3RhdGlvbi5cbiAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGF4aXMgKHNob3VsZCBiZSBub3JtYWxpemVkKS5cbiAqIEByZXR1cm4gVGhlIGNvbXBvbmVudCBvZiByb3RhdGlvbiBhYm91dCB0aGUgYXhpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dHJhY3RSb3RhdGlvbkFib3V0QXhpcyA9ICgoKSA9PiB7XG4gICAgY29uc3QgdmVjID0gbmV3IFZlY3RvcjNcbiAgICByZXR1cm4gZnVuY3Rpb24gZXh0cmFjdFJvdGF0aW9uQWJvdXRBeGlzKHJvdDpRdWF0ZXJuaW9uLCBkaXJlY3Rpb246VmVjdG9yMywgb3V0OlF1YXRlcm5pb24pIHtcbiAgICAgICAgY29uc3Qgcm90QXhpcyA9IHZlYy5zZXQocm90LngsIHJvdC55LCByb3QueilcbiAgICAgICAgY29uc3QgZG90UHJvZCA9IGRpcmVjdGlvbi5kb3Qocm90QXhpcykgICAgICBcbiAgICAgICAgLy8gU2hvcnRjdXQgY2FsY3VsYXRpb24gb2YgYHByb2plY3Rpb25gIHJlcXVpcmVzIGBkaXJlY3Rpb25gIHRvIGJlIG5vcm1hbGl6ZWRcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZlYy5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZG90UHJvZClcbiAgICAgICAgY29uc3QgdHdpc3QgPSBvdXQuc2V0KHByb2plY3Rpb24ueCwgcHJvamVjdGlvbi55LCBwcm9qZWN0aW9uLnosIHJvdC53KS5ub3JtYWxpemUoKVxuICAgICAgICBpZiAoZG90UHJvZCA8IDAuMCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGB0d2lzdGAgcG9pbnRzIHRvd2FyZHMgYGRpcmVjdGlvbmBcbiAgICAgICAgICAgIHR3aXN0LnggPSAtdHdpc3QueFxuICAgICAgICAgICAgdHdpc3QueSA9IC10d2lzdC55XG4gICAgICAgICAgICB0d2lzdC56ID0gLXR3aXN0LnpcbiAgICAgICAgICAgIHR3aXN0LncgPSAtdHdpc3Qud1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0d2lzdFxuICAgIH1cbn0pKCkiLCJcbmltcG9ydCB7IEJveDMsIFZlY3RvcjMsIFF1YXRlcm5pb24sIE1hdHJpeDQsIFZfMDAwLCBESVJFQ1RJT04sIFZfMTExLCBCb3gyLCBWZWN0b3IyLCBRX0lERU5USVRZIH0gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuaW1wb3J0IHsgRXRoZXJlYWxMYXlvdXRTeXN0ZW0sIE5vZGUzRCB9IGZyb20gJy4vRXRoZXJlYWxMYXlvdXRTeXN0ZW0nXG5pbXBvcnQgeyBNZW1vaXphdGlvbkNhY2hlIH0gZnJvbSAnLi9NZW1vaXphdGlvbkNhY2hlJ1xuaW1wb3J0IHsgU3BhdGlhbEFkYXB0ZXIgfSBmcm9tICcuL1NwYXRpYWxBZGFwdGVyJ1xuXG5jb25zdCBJbnRlcm5hbFJhd1N0YXRlID0gU3ltYm9sKFwicmF3XCIpXG5jb25zdCBJbnRlcm5hbEN1cnJlbnRTdGF0ZSA9IFN5bWJvbChcImN1cnJlbnRcIilcbmNvbnN0IEludGVybmFsVGFyZ2V0U3RhdGUgPSBTeW1ib2woXCJ0YXJnZXRcIilcbmNvbnN0IEludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZSA9IFN5bWJvbChcInByZXZpb3VzVGFyZ2V0XCIpXG5cbmV4cG9ydCBjbGFzcyBOb2RlU3RhdGU8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RlOidjdXJyZW50J3wndGFyZ2V0JywgcHVibGljIG1ldHJpY3M6U3BhdGlhbE1ldHJpY3M8Tj4pIHt9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZVxuXG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUuaW52YWxpZGF0ZUFsbCgpXG4gICAgfVxuXG4gICAgb3BhY2l0eSA9IDFcbiBcbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50XG4gICAgfVxuICAgIHNldCBwYXJlbnQodmFsOk58bnVsbCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fcGFyZW50XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSB2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHZhbFxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKClcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIF9wYXJlbnQgOiBOfG51bGwgPSBudWxsXG5cbiAgICBnZXQgcGFyZW50U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldHJpY3MucGFyZW50TWV0cmljcz8uW3RoaXMubW9kZV1cbiAgICB9XG4gICAgXG4gICAgZ2V0IHJlZmVyZW5jZVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRyaWNzLnJlZmVyZW5jZU1ldHJpY3M/Llt0aGlzLm1vZGVdXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkTG9jYWxNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fbG9jYWxNYXRyaXguZGVjb21wb3NlKHRoaXMuX2xvY2FsUG9zaXRpb24sIHRoaXMuX2xvY2FsT3JpZW50YXRpb24sIHRoaXMuX2xvY2FsU2NhbGUpXG4gICAgICAgIHRoaXMuX2xvY2FsT3JpZW50YXRpb24ubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl9sb2NhbE9yaWVudGF0aW9uKS5pbnZlcnQoKVxuICAgICAgICB0aGlzLl9sb2NhbFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb24pXG4gICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXhcbiAgICB9KVxuICAgIGdldCBsb2NhbE1hdHJpeCgpIHsgcmV0dXJuIHRoaXMuX2xvY2FsTWF0cml4IH1cbiAgICBzZXQgbG9jYWxNYXRyaXgodmFsOk1hdHJpeDQpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZhbC5lbGVtZW50c1swXSkpIHRocm93IG5ldyBFcnJvcigpXG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxNYXRyaXguZXF1YWxzKHZhbCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpXG4gICAgICAgICAgICB0aGlzLl9sb2NhbE1hdHJpeC5jb3B5KHZhbClcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuX2xvY2FsTWF0cml4KS5pbnZlcnQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbG9jYWxNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX2xvY2FsTWF0cml4SW52ZXJzZSA9IG5ldyBNYXRyaXg0XG4gICAgXG4gICAgcHJpdmF0ZSBfbG9jYWxQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfbG9jYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcHJpdmF0ZSBfbG9jYWxPcmllbnRhdGlvbkludmVyc2UgPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX2xvY2FsU2NhbGUgPSBuZXcgVmVjdG9yMygxLDEsMSlcbiAgICBwcml2YXRlIF9sb2NhbFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9sb2NhbFJvdGF0aW9uSW52ZXJzZSA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgbG9jYWxNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXhJbnZlcnNlXG4gICAgfVxuXG4gICAgZ2V0IGxvY2FsUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsUG9zaXRpb25cbiAgICB9XG5cbiAgICBnZXQgbG9jYWxPcmllbnRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxPcmllbnRhdGlvblxuICAgIH1cblxuICAgIGdldCBsb2NhbE9yaWVudGF0aW9uSW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgbG9jYWxTY2FsZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTY2FsZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvY2FsIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGdldCBsb2NhbFJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFJvdGF0aW9uXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9jYWwgT3JpZW50YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsUm90YXRpb25JbnZlcnNlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRNYXRyaXggPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdGhpcy5fd29ybGRNYXRyaXguY29weSh0aGlzLmxvY2FsTWF0cml4KVxuICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZSA9IHRoaXMucGFyZW50U3RhdGVcbiAgICAgICAgaWYgKHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgICBtYXRyaXgucHJlbXVsdGlwbHkocGFyZW50U3RhdGUud29ybGRNYXRyaXgpXG4gICAgICAgIH1cbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzLl93b3JsZFBvc2l0aW9uLCB0aGlzLl93b3JsZE9yaWVudGF0aW9uLCB0aGlzLl93b3JsZFNjYWxlKVxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeEludmVyc2UuY29weSh0aGlzLl93b3JsZE1hdHJpeCkuaW52ZXJ0KClcbiAgICAgICAgdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2UuY29weSh0aGlzLl93b3JsZE9yaWVudGF0aW9uKS5pbnZlcnQoKVxuICAgICAgICB0aGlzLl93b3JsZFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb24pXG4gICAgICAgIHRoaXMuX3dvcmxkUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuICAgICAgICByZXR1cm4gbWF0cml4XG4gICAgfSlcbiAgICBnZXQgd29ybGRNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRXb3JsZE1hdHJpeCgpXG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgX3dvcmxkUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF93b3JsZFNjYWxlID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF93b3JsZE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfd29ybGRNYXRyaXhJbnZlcnNlID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uSW52ZXJzZSA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgd29ybGRNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE1hdHJpeEludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgd29ybGRQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy53b3JsZE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRQb3NpdGlvblxuICAgIH1cblxuICAgIGdldCB3b3JsZE9yaWVudGF0aW9uKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE9yaWVudGF0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkU2NhbGUoKSB7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2NhbGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnNlIHdvcmxkIG9yaWVudGF0aW9uXG4gICAgICovXG4gICAgZ2V0IHdvcmxkT3JpZW50YXRpb25JbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXb3JsZCByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUm90YXRpb25cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogV29ybGQgcm90YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFJvdGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbm5lciBib3VuZHMgY2VudGVyIGluIHdvcmxkIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRDZW50ZXIgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkQ2VudGVyLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQ2VudGVyKS5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeClcbiAgICB9KVxuICAgIGdldCB3b3JsZENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFdvcmxkQ2VudGVyKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfd29ybGRDZW50ZXIgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byB3b3JsZCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKiBcbiAgICAgKiBTcGF0aWFsIEZyYW1lID0gUmVmZXJlbmNlIE9yaWdpbiArIE15IFdvcmxkIE9yaWVudGF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkU3BhdGlhbE1hdHJpeCA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzcGF0aWFsTWF0cml4ID0gdGhpcy5fc3BhdGlhbE1hdHJpeC5jb21wb3NlKHRoaXMub3V0ZXJPcmlnaW4sIHRoaXMud29ybGRPcmllbnRhdGlvbiwgVl8xMTEpIFxuICAgICAgICB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuX3NwYXRpYWxNYXRyaXgpLmludmVydCgpXG4gICAgICAgIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgc3BhdGlhbE1hdHJpeClcbiAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21Mb2NhbC5jb3B5KHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwpLmludmVydCgpXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlU3RhdGVcbiAgICAgICAgaWYgKHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSwgcmVmZXJlbmNlLndvcmxkTWF0cml4KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UuY29weSh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3BhdGlhbE1hdHJpeFxuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsTWF0cml4KClcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4SW52ZXJzZSA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbG9jYWxGcm9tU3BhdGlhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21Mb2NhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21SZWZlcmVuY2UgPSBuZXcgTWF0cml4NFxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsTWF0cml4SW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gbG9jYWwgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IGxvY2FsRnJvbVNwYXRpYWwoKSB7IFxuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSBsb2NhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbUxvY2FsKCkgeyBcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsRnJvbUxvY2FsIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIHJlZmVyZW5jZSBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbVJlZmVyZW5jZSgpIHsgXG4gICAgICAgIHRoaXMuc3BhdGlhbE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UgXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIGJvdW5kcyBcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jYWNoZWRTcGF0aWFsQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3NwYXRpYWxCb3VuZHMuY29weSh0aGlzLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX3NwYXRpYWxCb3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21Mb2NhbClcbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9zcGF0aWFsQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9zcGF0aWFsU2l6ZSlcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX3NwYXRpYWxCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX3NwYXRpYWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9zcGF0aWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIHNpemVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbFNpemUoKSB7XG4gICAgICAgIHRoaXMuc3BhdGlhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BhdGlhbCBjZW50ZXJcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsQ2VudGVyXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlckJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlckJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlckJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsVl8wMDApXG4gICAgICAgICAgICBlbHNlIGJvdW5kcy5jb3B5KHJlZmVyZW5jZVN0YXRlLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgICAgICBib3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21SZWZlcmVuY2UpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlckNlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgKi9cbiAgICBnZXQgb3V0ZXJCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRPdXRlckJvdW5kcygpIH1cbiAgICBwcml2YXRlIF9vdXRlckJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfb3V0ZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX291dGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyQ2VudGVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBzaXplIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5vdXRlckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBvcmlnaW4gaW4gdGhlIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyT3JpZ2luKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmlnaW5bdGhpcy5tb2RlXVxuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VTdGF0ZT8ud29ybGRDZW50ZXIgPz8gVl8wMDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXIgYm91bmRzIG9yaWVudGF0aW9uIGluIHRoZSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlck9yaWVudGF0aW9uKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmllbnRhdGlvblt0aGlzLm1vZGVdXG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZVN0YXRlPy53b3JsZE9yaWVudGF0aW9uID8/IFFfSURFTlRJVFlcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlclZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlclZpc3VhbEJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsIFZfMDAwKVxuICAgICAgICAgICAgZWxzZSBib3VuZHMuY29weShyZWZlcmVuY2VTdGF0ZS52aXN1YWxCb3VuZHMpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlclZpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJWaXN1YWxTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSB2aXN1YWwgZnJhbWVcbiAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbEJvdW5kcygpIHsgcmV0dXJuIHRoaXMuX2NhY2hlZE91dGVyVmlzdWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX291dGVyVmlzdWFsQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9vdXRlclZpc3VhbENlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfb3V0ZXJWaXN1YWxTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJWaXN1YWxDZW50ZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXJWaXN1YWwgYm91bmRzIHNpemUgaW4gdGhlIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJWaXN1YWxTaXplKCkge1xuICAgICAgICB0aGlzLm91dGVyVmlzdWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlclZpc3VhbFNpemVcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0IF92aWV3U3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkgcmV0dXJuIHRoaXNcbiAgICAgICAgY29uc3Qgdmlld01ldHJpY3MgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdNZXRyaWNzXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdjdXJyZW50JykgcmV0dXJuIHZpZXdNZXRyaWNzW0ludGVybmFsQ3VycmVudFN0YXRlXVxuICAgICAgICByZXR1cm4gdmlld01ldHJpY3NbSW50ZXJuYWxUYXJnZXRTdGF0ZV1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGZyYW1lIGZyb20gd29ybGQgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21Xb3JsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdGcm9tV29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl92aWV3U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB0aGlzLndvcmxkTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVdvcmxkID0gbmV3IE1hdHJpeDRcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21TcGF0aWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld0Zyb21TcGF0aWFsLm11bHRpcGx5TWF0cmljZXModGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5zcGF0aWFsTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVNwYXRpYWwgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBwYXJlbnQgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxGcm9tVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tVmlldy5jb3B5KHRoaXMudmlld0Zyb21TcGF0aWFsKS5pbnZlcnQoKVxuICAgIH1cbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVZpZXcgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplZCBEZXZpY2UgQ29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBnZXQgbmRjQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkTkRDQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbmRjQm91bmRzLm1pbi5zZXRTY2FsYXIoLTEpXG4gICAgICAgICAgICB0aGlzLl9uZGNCb3VuZHMubWF4LnNldFNjYWxhcigxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25kY0JvdW5kc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdGcnVzdHVtID0gdGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3RnJ1c3R1bVxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IHZpZXdGcm9tV29ybGQgPSB0aGlzLnZpZXdGcm9tV29ybGRcbiAgICAgICAgY29uc3Qgdmlld1Byb2plY3Rpb25Gcm9tV29ybGQgPSB0aGlzLl92aWV3UHJvamVjdGlvbkZyb21Xb3JsZC5tdWx0aXBseU1hdHJpY2VzKHByb2plY3Rpb24sIHZpZXdGcm9tV29ybGQpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX25kY0JvdW5kcy5jb3B5KHRoaXMubWV0cmljcy5pbm5lckJvdW5kcykuYXBwbHlNYXRyaXg0KHZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkKVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX25kY0NlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShib3VuZHMubWluLngpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnkpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnopIHx8IFxuICAgICAgICAgICAgIWlzRmluaXRlKGJvdW5kcy5tYXgueCkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueSkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueikpIHtcbiAgICAgICAgICAgIGJvdW5kcy5taW4uc2V0U2NhbGFyKC0xKVxuICAgICAgICAgICAgYm91bmRzLm1heC5zZXRTY2FsYXIoMSlcbiAgICAgICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fbmRjQ2VudGVyKVxuICAgICAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSwgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIF92aWV3UHJvamVjdGlvbkZyb21Xb3JsZCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbmRjQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9uZGNDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX25kY1NpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgZ2V0IG5kY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY0NlbnRlclxuICAgIH1cbiAgICBnZXQgbmRjU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY1NpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlzdWFsIGJvdW5kcyBvZiB0aGlzIG5vZGUuXG4gICAgICogXG4gICAgICogSG9yaXpvbnRhbCBhbmQgdmVydGljYWwgdW5pdHMgYXJlIGluIHBpeGVscywgd2l0aCBzY3JlZW4gY2VudGVyIGF0ICgwLDApXG4gICAgICogWiBkaW1lbnNpb24gaXMgaW4gbWV0ZXJzXG4gICAgICovXG4gICAgZ2V0IHZpc3VhbEJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZpc3VhbEJvdW5kcygpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzeXN0ZW0gPSB0aGlzLm1ldHJpY3Muc3lzdGVtXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBzeXN0ZW0udmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IGludmVyc2VQcm9qZWN0aW9uID0gdGhpcy5faW52ZXJzZVByb2plY3Rpb24uY29weShwcm9qZWN0aW9uKS5pbnZlcnQoKVxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl92aXN1YWxCb3VuZHMuY29weSh0aGlzLm5kY0JvdW5kcylcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuX3YxXG4gICAgICAgIGNvbnN0IG5lYXJNZXRlcnMgPSB2LnNldCgwLDAsYm91bmRzLm1pbi56KS5hcHBseU1hdHJpeDQoaW52ZXJzZVByb2plY3Rpb24pLnpcbiAgICAgICAgY29uc3QgZmFyTWV0ZXJzID0gdi5zZXQoMCwwLGJvdW5kcy5tYXgueikuYXBwbHlNYXRyaXg0KGludmVyc2VQcm9qZWN0aW9uKS56XG4gICAgICAgIGJvdW5kcy5taW4ueiA9IGZhck1ldGVyc1xuICAgICAgICBib3VuZHMubWF4LnogPSBuZWFyTWV0ZXJzXG4gICAgICAgIGJvdW5kcy5taW4ueCAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueFxuICAgICAgICBib3VuZHMubWF4LnggKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnhcbiAgICAgICAgYm91bmRzLm1pbi55ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi55XG4gICAgICAgIGJvdW5kcy5tYXgueSAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX3Zpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fdmlzdWFsU2l6ZSkgXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9LCB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgX3Zpc3VhbEJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfdmlzdWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92aXN1YWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92MSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW52ZXJzZVByb2plY3Rpb24gPSBuZXcgTWF0cml4NFxuXG4gICAgZ2V0IHZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbENlbnRlclxuICAgIH1cbiAgICBnZXQgdmlzdWFsU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGlzIG5vZGUgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgcmVsYXRpdmVWaWV3UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3UG9zaXRpb24uY29weSh0aGlzLl92aWV3U3RhdGUud29ybGRQb3NpdGlvbikuYXBwbHlNYXRyaXg0KHRoaXMud29ybGRNYXRyaXhJbnZlcnNlKVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3UG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgb3J0aG9nb25hbCAocmlnaHQtYW5nbGVkKSBvcmllbnRhdGlvbiB3aXRoIHRoZSBjbG9zZXN0IHZpZXcgb3JpZW50YXRpb24gYWxpZ25tZW50XG4gICAgICovXG4gICAgZ2V0IHZpZXdBbGlnbmVkT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRWaWV3QWxpZ25lZE9yaWVudGF0aW9uKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVmlld0FsaWduZWRPcmllbnRhdGlvbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdNYXRyaXggPSB0aGlzLl9yZWxhdGl2ZVZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1JvdGF0aW9uLmV4dHJhY3RSb3RhdGlvbihyZWxhdGl2ZVZpZXdNYXRyaXgpXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVmlld09yaWVudGF0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3T3JpZW50YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHJlbGF0aXZlVmlld1JvdGF0aW9uKVxuICAgICAgICBjb25zdCBmb3J3YXJkRGlyZWN0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3Rm9yd2FyZC5zZXQoMCwgMCwgMSkuYXBwbHlRdWF0ZXJuaW9uKHJlbGF0aXZlVmlld09yaWVudGF0aW9uKVxuICAgICAgICBjb25zdCB1cERpcmVjdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1VwLnNldCgwLCAxLCAwKS5hcHBseVF1YXRlcm5pb24ocmVsYXRpdmVWaWV3T3JpZW50YXRpb24pXG4gICAgICAgIFxuICAgICAgICBsZXQgZGlzdEZvcndhcmQgPSBJbmZpbml0eVxuICAgICAgICBsZXQgZGlzdFVwID0gSW5maW5pdHlcbiAgICAgICAgbGV0IGNsb3Nlc3RGb3J3YXJkRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgY2xvc2VzdFVwRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgZCA6IGtleW9mIHR5cGVvZiBESVJFQ1RJT05cblxuICAgICAgICBmb3IgKGQgaW4gRElSRUNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBESVJFQ1RJT05bZF1cbiAgICAgICAgICAgIHZhciBkaXN0ID0gdXBEaXJlY3Rpb24uZGlzdGFuY2VUb1NxdWFyZWQoZGlyKVxuICAgICAgICAgICAgaWYgKGRpc3QgPCBkaXN0VXApIHtcbiAgICAgICAgICAgICAgICBkaXN0VXAgPSBkaXN0XG4gICAgICAgICAgICAgICAgY2xvc2VzdFVwRGlyZWN0aW9uID0gZGlyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZm9yIChkIGluIERJUkVDVElPTikge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gRElSRUNUSU9OW2RdICAgIFxuICAgICAgICAgICAgLy8gYXZvaWQgaGF2aW5nIGZvcndhcmQgJiB1cCBkZWZpbmVkIG9uIHRoZSBzYW1lIGF4aXNcbiAgICAgICAgICAgIGlmIChkaXIueCAmJiBjbG9zZXN0VXBEaXJlY3Rpb24hLngpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAoZGlyLnkgJiYgY2xvc2VzdFVwRGlyZWN0aW9uIS55KSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKGRpci56ICYmIGNsb3Nlc3RVcERpcmVjdGlvbiEueikgY29udGludWVcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBmb3J3YXJkRGlyZWN0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKGRpcilcbiAgICAgICAgICAgIGlmIChkaXN0IDwgZGlzdEZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICBkaXN0Rm9yd2FyZCA9IGRpc3RcbiAgICAgICAgICAgICAgICBjbG9zZXN0Rm9yd2FyZERpcmVjdGlvbiA9IGRpclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGNvbnN0IHJvdCA9IHRoaXMuX29ydGhvZ29uYWxSb3RhdGlvbi5pZGVudGl0eSgpXG4gICAgICAgIHJvdC5sb29rQXQoY2xvc2VzdEZvcndhcmREaXJlY3Rpb24hLCBWXzAwMCwgY2xvc2VzdFVwRGlyZWN0aW9uISlcbiAgICAgICAgcmV0dXJuIHRoaXMuX29ydGhvZ29uYWxPcmllbnRhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgocm90KVxuICAgIH0sIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3TWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3T3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld1VwID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdGb3J3YXJkID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9vcnRob2dvbmFsUm90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX29ydGhvZ29uYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG5cblxuICAgIHByaXZhdGUgX2NvbXB1dGVPY2NsdXNpb24gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fb2NjbHVkaW5nUGVyY2VudCA9IDBcbiAgICAgICAgdGhpcy5fb2NjbHVkZWRQZXJjZW50ID0gMFxuICAgICAgICBcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMubWV0cmljc1xuICAgICAgICBpZiAobWV0cmljcy5pbm5lckJvdW5kcy5pc0VtcHR5KCkpIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3lzdGVtID0gbWV0cmljcy5zeXN0ZW1cbiAgICAgICAgY29uc3QgYWRhcHRlcnMgPSBzeXN0ZW0ubm9kZUFkYXB0ZXJzLnZhbHVlcygpXG5cbiAgICAgICAgY29uc3QgbXlCb3VuZHMgPSB0aGlzLnZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBteU5lYXIgPSBteUJvdW5kcy5taW4uelxuICAgICAgICBjb25zdCBhID0gTm9kZVN0YXRlLl9ib3hBXG4gICAgICAgIGNvbnN0IGIgPSBOb2RlU3RhdGUuX2JveEJcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1heC54LCBteUJvdW5kcy5tYXgueSlcbiAgICAgICAgY29uc3QgbXlMZW5ndGggPSBhLmdldFNpemUoTm9kZVN0YXRlLl9zaXplQSkubGVuZ3RoKClcblxuICAgICAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgYWRhcHRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyTWV0cmljcyA9IGFkYXB0ZXIubWV0cmljc1xuICAgICAgICAgICAgaWYgKG90aGVyTWV0cmljcyA9PT0gbWV0cmljcykgY29udGludWVcbiAgICAgICAgICAgIGlmICghb3RoZXJNZXRyaWNzLmlzQWRhcHRpdmUgfHwgb3RoZXJNZXRyaWNzLmlubmVyQm91bmRzLmlzRW1wdHkoKSkgY29udGludWVcbiAgICAgICAgICAgIGlmIChvdGhlck1ldHJpY3MuY29udGFpbmVkQnlOb2RlKGFkYXB0ZXIubm9kZSkpIGNvbnRpbnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG90aGVyU3RhdGUgPSB0aGlzLm1vZGUgPT09ICdjdXJyZW50JyA/IG90aGVyTWV0cmljcy5jdXJyZW50IDogb3RoZXJNZXRyaWNzLnRhcmdldFxuICAgICAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBvdGhlclN0YXRlLnZpc3VhbEJvdW5kc1xuICAgICAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgICAgIGEubWluLnNldChteUJvdW5kcy5tYXgueCwgbXlCb3VuZHMubWF4LnkpXG4gICAgICAgICAgICBiLm1pbi5zZXQob3RoZXJCb3VuZHMubWluLngsIG90aGVyQm91bmRzLm1pbi55KVxuICAgICAgICAgICAgYi5taW4uc2V0KG90aGVyQm91bmRzLm1heC54LCBvdGhlckJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBQZXJjZW50ID0gYS5pbnRlcnNlY3QoYikuZ2V0U2l6ZShOb2RlU3RhdGUuX3NpemVCKS5sZW5ndGgoKSAvIG15TGVuZ3RoXG4gICAgICAgICAgICBpZiAob3ZlcmxhcFBlcmNlbnQgPiAwKSAge1xuICAgICAgICAgICAgICAgIGlmICAobXlOZWFyIDwgb3RoZXJCb3VuZHMubWluLnopIHRoaXMuX29jY2x1ZGluZ1BlcmNlbnQgKz0gb3ZlcmxhcFBlcmNlbnRcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX29jY2x1ZGVkUGVyY2VudCArPSBvdmVybGFwUGVyY2VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JveEEgPSBuZXcgQm94MlxuICAgIHByaXZhdGUgc3RhdGljIF9ib3hCID0gbmV3IEJveDJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2l6ZUEgPSBuZXcgVmVjdG9yMlxuICAgIHByaXZhdGUgc3RhdGljIF9zaXplQiA9IG5ldyBWZWN0b3IyXG5cbiAgICAvKiogXG4gICAgICogVGhlIHBlcmNlbnQgb2YgdGhpcyBub2RlIG9jY2x1ZGluZyBhbm90aGVyIG5vZGVcbiAgICAgKi9cbiAgICBnZXQgb2NjbHVkaW5nUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRpbmdQZXJjZW50XG4gICAgfVxuICAgIHByaXZhdGUgX29jY2x1ZGluZ1BlcmNlbnQgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudCBvZiB0aGlzIG5vZGUgb2NjbHVkZWQgYnkgYW5vdGhlciBub2RlXG4gICAgICovXG4gICAgZ2V0IG9jY2x1ZGVkUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRlZFBlcmNlbnRcbiAgICB9XG4gICAgcHJpdmF0ZSBfb2NjbHVkZWRQZXJjZW50ID0gMFxuXG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGhldXJpc3RpYyBmb3Igdmlldy1zaXplIG1heGltaXphdGlvblxuICAgICAqIChhdmVyYWdlIGVkZ2UgbGVuZ3RoIGNvcnJlc3BvbmRzIGJldHRlciB3aXRoIGlubmNyZWFzaWcgdmlzdWFsIGFyZWFcbiAgICAgKiBjb21wYXJlZCB0byBhcmVhIG9mIHRoZSBwcm9qZWN0ZWQgYm91bmRpbmctYm94IGluIFxuICAgICAqIGNhc2VzIHdoZXJlIHRoZSB1bmRlcmx5aW5nIGFzcGVjdCByYXRpb3MgYXJlIG5vdCBmaXhlZClcbiAgICAgKi9cbiAgICB2aXN1YWxBdmVyYWdlRWRnZUxlbmd0aCgpIHtcblxuICAgIH1cblxufVxuXG5cbi8qKlxuICogTWFpbnRhaW5zIGN1cnJlbnQgJiB0YXJnZXQgc2NlbmVncmFwaCBzdGF0ZSxcbiAqIGFuZCBlZmZpY2llbnRseS9yZWFjdGl2ZWx5IGNvbXB1dGUgc3BhdGlhbCBtZXRyaWNzIFxuICogYmFzZWQgb24gKnRhcmdldCogKG5vdCBjdXJyZW50KSBzY2VuZWdyYXBoIHN0YXRlLiBcbiAqIFxuICogQWxsIG1ldHJpYyB2YWx1ZXMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcmVhZC1vbmx5LlxuICovXG5leHBvcnQgY2xhc3MgU3BhdGlhbE1ldHJpY3M8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3lzdGVtOkV0aGVyZWFsTGF5b3V0U3lzdGVtPE4+LCBwdWJsaWMgbm9kZTpOKSB7fVxuXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZSgpXG4gICAgXG4gICAgbmVlZHNVcGRhdGUgPSB0cnVlXG5cbiAgICBwYXJlbnROb2RlISA6IE58bnVsbFxuICAgIHBhcmVudE1ldHJpY3MhIDogU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuICAgIHJlZmVyZW5jZU1ldHJpY3M/IDogU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuXG4gICAgcHJpdmF0ZSBfYWRhcHRlcj8gOiBTcGF0aWFsQWRhcHRlcjxOPlxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIG1ldHJpY3MsIGlmIG5lY2Vzc2FyeVxuICAgICAqL1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gICAgICAgICAgICAvLyB0aGlzLnByZXZpb3VzVGFyZ2V0LnBhcmVudCA9IHRoaXMudGFyZ2V0LnBhcmVudFxuICAgICAgICAgICAgLy8gdGhpcy5wcmV2aW91c1RhcmdldC5sb2NhbE1hdHJpeCA9IHRoaXMudGFyZ2V0LmxvY2FsTWF0cml4XG5cbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyID0gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm5vZGUpXG5cbiAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHRoaXMucmF3LnBhcmVudFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRNZXRyaWNzID0gdGhpcy5wYXJlbnROb2RlICYmIHRoaXMuc3lzdGVtLmdldE1ldHJpY3ModGhpcy5wYXJlbnROb2RlKVxuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gYWRhcHRlcj8uYWN0aXZlTGF5b3V0Py5yZWZlcmVuY2VOb2RlIHx8IGFkYXB0ZXI/LnJlZmVyZW5jZU5vZGUgfHwgdGhpcy5wYXJlbnROb2RlXG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZU1ldHJpY3MgPSByZWZlcmVuY2UgJiYgdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhyZWZlcmVuY2UgYXMgTilcblxuICAgICAgICAgICAgdGhpcy5wYXJlbnRNZXRyaWNzPy51cGRhdGUoKVxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VNZXRyaWNzPy51cGRhdGUoKVxuXG5cbiAgICAgICAgICAgIGlmIChhZGFwdGVyKSB7XG5cbiAgICAgICAgICAgICAgICBhZGFwdGVyLl91cGRhdGUoKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUlubmVyQm91bmRzKClcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGVkSW5uZXJCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9pbm5lckJvdW5kc1xuXG4gICAgICAgIGlmICh0aGlzLm5vZGUgIT09IHRoaXMuc3lzdGVtLnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpbm5lci5jb3B5KHRoaXMuaW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgY29uc3QgY2hpbGRCb3VuZHMgPSB0aGlzLl9jaGlsZEJvdW5kc1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRpbmdDaGlsZE1ldHJpY3MpIHtcbiAgICAgICAgICAgICAgICBjLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgICAgIGNoaWxkQm91bmRzLmNvcHkoYy5pbm5lckJvdW5kcylcbiAgICAgICAgICAgICAgICBjaGlsZEJvdW5kcy5hcHBseU1hdHJpeDQoYy5yYXcubG9jYWxNYXRyaXgpXG4gICAgICAgICAgICAgICAgaW5uZXIudW5pb24oY2hpbGRCb3VuZHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBpbm5lci5nZXRDZW50ZXIodGhpcy5faW5uZXJDZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBpbm5lci5nZXRTaXplKHRoaXMuX2lubmVyU2l6ZSlcbiAgICAgICAgaWYgKHNpemUubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY29udGVudCBpcyBmbGF0LCBnaXZlIHNvbWUgdGhpY2tuZXNzIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIGJvdW5kcy1zaXplIG1lYW5pbmdmdWxseSBhZmZlY3RzIHNjYWxlXG4gICAgICAgICAgICBjb25zdCBzaXplRXBzaWxsb24gPSB0aGlzLnN5c3RlbS5lcHNpbGxvbk1ldGVyc1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzaXplLnggPSAoTWF0aC5zaWduKHNpemUueCkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZS55KSA8PSBzaXplRXBzaWxsb24pIHNpemUueSA9IChNYXRoLnNpZ24oc2l6ZS55KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaXplLnopIDw9IHNpemVFcHNpbGxvbikge1xuICAgICAgICAgICAgICAgIC8vIGZvciB6IHNpemUsIG1ha2Ugc3VyZSBib3VuZHMgYXJlIG9ubHkgZXh0ZW5kIGJhY2t3YXJkcyBcbiAgICAgICAgICAgICAgICAvLyAodGhpcyB3YXksIHZpc3VhbC1ib3VuZHMgcmVtYWluIGFjY3VyYXRlKVxuICAgICAgICAgICAgICAgIHNpemUueiA9IChNYXRoLnNpZ24oc2l6ZS56KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwMDBcbiAgICAgICAgICAgICAgICBjZW50ZXIueiAtPSBzaXplRXBzaWxsb24gKiAxMDAwIC8gMlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5uZXIuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbm5lclxuICAgIH0pXG4gICAgcHJpdmF0ZSBfY2hpbGRCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2lubmVyQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbm5lckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW5uZXJTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBib3VuZHMgb2YgdGhpcyBub2RlIGFuZCBub24tYWRhcHRpdmUgY2hpbGQgbm9kZXMgaW4gdGhlIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICovXG4gICAgZ2V0IGlubmVyQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMoKVxuICAgIH1cbiAgICBcbiAgICBnZXQgaW5uZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ2VudGVyXG4gICAgfVxuXG4gICAgZ2V0IGlubmVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5pbm5lckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludHJpbnNpYyBib3VuZHMgb2YgdGhlIGdlb21ldHJ5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoaXMgbm9kZSAoZXhjbHVkaW5nIGNoaWxkIG5vZGVzKVxuICAgICAqL1xuICAgIGdldCBpbnRyaW5zaWNCb3VuZHMoKSA6IFJlYWRvbmx5PEJveDM+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ludHJpbnNpY0JvdW5kc05lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5iaW5kaW5ncy5nZXRJbnRyaW5zaWNCb3VuZHModGhpcywgdGhpcy5faW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzLmdldENlbnRlcih0aGlzLl9pbnRyaW5zaWNDZW50ZXIpXG4gICAgICAgICAgICB0aGlzLl9pbnRyaW5zaWNCb3VuZHMuZ2V0U2l6ZSh0aGlzLl9pbnRyaW5zaWNTaXplKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRyaW5zaWNCb3VuZHNcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSA9IHRydWVcbiAgICBwcml2YXRlIF9pbnRyaW5zaWNCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX2ludHJpbnNpY0NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgXG4gICAgZ2V0IGludHJpbnNpY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludHJpbnNpY0NlbnRlclxuICAgIH1cblxuICAgIGdldCBpbnRyaW5zaWNTaXplKCkge1xuICAgICAgICB0aGlzLmludHJpbnNpY0JvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5faW50cmluc2ljU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGUgaW50cmluc2ljIGJvdW5kcyBpbiBvcmRlciB0byBhbGxvdyBpdCB0byBiZSByZWNvbXB1dGVkXG4gICAgICovXG4gICAgaW52YWxpZGF0ZUludHJpbnNpY0JvdW5kcygpIHtcbiAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmJvdW5kaW5nQ2hpbGRNZXRyaWNzKSB7XG4gICAgICAgICAgICBjLmludmFsaWRhdGVJbnRyaW5zaWNCb3VuZHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW52YWxpZGF0ZUlubmVyQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMubmVlZHNVcGRhdGUpIHJldHVyblxuICAgICAgICB0aGlzLl9jYWNoZWROb2RlQ2hpbGRyZW4ubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX2NhY2hlZEJvdW5kc0NoaWxkcmVuLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRJbm5lckJvdW5kcy5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRpbmdDaGlsZE1ldHJpY3MpIHtcbiAgICAgICAgICAgIGMuaW52YWxpZGF0ZUlubmVyQm91bmRzKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZmFsc2UgaWYgdGhpcyBub2RlIGRvZXMgbm90IGNvbnRhaW4gdGhlIHBhc3NlZCBub2RlLlxuICAgICAqIElmIHRoZSBnaXZlbiBub2RlIGlzIGEgZGVzY2VuZGVudCBvZiB0aGlzIG5vZGUsIHJldHVybnNcbiAgICAgKiB0aGUgY2xvc2VzdCBjaGlsZCBub2RlLlxuICAgICAqL1xuICAgIGNvbnRhaW5zTm9kZShub2RlOk4pIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBsZXQgcGFyZW50TWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3Mobm9kZSkgYXMgU3BhdGlhbE1ldHJpY3M8Tj58bnVsbFxuICAgICAgICB3aGlsZSAocGFyZW50TWV0cmljcykge1xuICAgICAgICAgICAgaWYgKHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljcyA9PT0gdGhpcykgcmV0dXJuIHBhcmVudE1ldHJpY3Mubm9kZVxuICAgICAgICAgICAgcGFyZW50TWV0cmljcyA9IHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnRhaW5lZEJ5Tm9kZShub2RlOk4pIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBsZXQgcGFyZW50TWV0cmljcyA9IHRoaXMucGFyZW50TWV0cmljc1xuICAgICAgICB3aGlsZSAocGFyZW50TWV0cmljcykge1xuICAgICAgICAgICAgaWYgKHBhcmVudE1ldHJpY3Mubm9kZSA9PT0gbm9kZSkgcmV0dXJuIHBhcmVudE1ldHJpY3Mubm9kZVxuICAgICAgICAgICAgcGFyZW50TWV0cmljcyA9IHBhcmVudE1ldHJpY3MucGFyZW50TWV0cmljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBub2RlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWROb2RlQ2hpbGRyZW4oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWROb2RlQ2hpbGRyZW4gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uYmluZGluZ3MuZ2V0Q2hpbGRyZW4odGhpcywgdGhpcy5fbm9kZUNoaWxkcmVuKVxuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZUNoaWxkcmVuXG4gICAgfSlcbiAgICBwcml2YXRlIF9ub2RlQ2hpbGRyZW4gPSBuZXcgQXJyYXk8Tj4oKVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBzcGF0aWFsIHN0YXRlIGZyb20gc3BhdGlhbCBvcmllbnRhdGlvbiAmIGJvdW5kc1xuICAgICAqL1xuICAgIHByaXZhdGUgX2NvbXB1dGVTdGF0ZSA9ICgoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbG9jYWxNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgICAgICBjb25zdCBsb2NhbE9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cbiAgICAgICAgY29uc3QgbG9jYWxQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IGxvY2FsU2NhbGUgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIGNvbnN0IHdvcmxkTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IHdvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgICAgICBjb25zdCB3b3JsZFNjYWxlID0gbmV3IFZlY3RvcjNcblxuICAgICAgICBjb25zdCBzcGF0aWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3Qgc3BhdGlhbFNpemUgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBzcGF0aWFsT2Zmc2V0ID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3QgaW5uZXJPZmZzZXQgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjb21wdXRlU3RhdGUodGhpczpTcGF0aWFsTWV0cmljczxOPiwgc3RhdGU6Tm9kZVN0YXRlPE4+KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHVzZUN1cnJlbnQgPSBzdGF0ZS5tb2RlID09PSAnY3VycmVudCdcbiAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyXG5cbiAgICAgICAgICAgIGxvY2FsT3JpZW50YXRpb24uY29weSggXG4gICAgICAgICAgICAgICAgKCB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24uY3VycmVudCA6XG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmVuYWJsZWQgJiYgYWRhcHRlcj8ub3JpZW50YXRpb24udGFyZ2V0XG4gICAgICAgICAgICAgICAgKSB8fCB0aGlzLnJhdy5sb2NhbE9yaWVudGF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzcGF0aWFsQm91bmRzID0gKHVzZUN1cnJlbnQgPyBcbiAgICAgICAgICAgICAgICBhZGFwdGVyPy5ib3VuZHMuZW5hYmxlZCAmJiBhZGFwdGVyPy5ib3VuZHMuY3VycmVudCA6XG4gICAgICAgICAgICAgICAgYWRhcHRlcj8uYm91bmRzLmVuYWJsZWQgJiYgYWRhcHRlcj8uYm91bmRzLnRhcmdldCkgLy98fCB0aGlzLnJhdy5zcGF0aWFsQm91bmRzXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE1ldHJpY3MgPSB0aGlzLnBhcmVudE1ldHJpY3NcbiAgICAgICAgICAgIHN0YXRlLnBhcmVudCA9IHBhcmVudE1ldHJpY3M/Lm5vZGUgPz8gbnVsbFxuXG4gICAgICAgICAgICBpZiAoc3BhdGlhbEJvdW5kcykge1xuICAgICAgICAgICAgICAgIHNwYXRpYWxCb3VuZHMuZ2V0Q2VudGVyKHNwYXRpYWxDZW50ZXIpXG4gICAgICAgICAgICAgICAgc3BhdGlhbEJvdW5kcy5nZXRTaXplKHNwYXRpYWxTaXplKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE1ldHJpY3M/LmN1cnJlbnQgOiBcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50TWV0cmljcz8udGFyZ2V0XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lckNlbnRlciA9IHRoaXMuaW5uZXJDZW50ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lclNpemUgPSB0aGlzLmlubmVyU2l6ZVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUVwc2lsbG9uID0gdGhpcy5zeXN0ZW0uZXBzaWxsb25NZXRlcnNcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BhdGlhbFNpemUueCkgPD0gc2l6ZUVwc2lsbG9uKSBzcGF0aWFsU2l6ZS54ID0gKE1hdGguc2lnbihzcGF0aWFsU2l6ZS54KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNwYXRpYWxTaXplLnkpIDw9IHNpemVFcHNpbGxvbikgc3BhdGlhbFNpemUueSA9IChNYXRoLnNpZ24oc3BhdGlhbFNpemUueSkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMFxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzcGF0aWFsU2l6ZS56KSA8PSBzaXplRXBzaWxsb24pIHNwYXRpYWxTaXplLnogPSAoTWF0aC5zaWduKHNwYXRpYWxTaXplLnopIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTBcblxuICAgICAgICAgICAgICAgIHdvcmxkU2NhbGUuY29weShzcGF0aWFsU2l6ZSlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5uZXJTaXplLngpID49IHNpemVFcHNpbGxvbikgd29ybGRTY2FsZS54IC89IGlubmVyU2l6ZS54XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlubmVyU2l6ZS55KSA+PSBzaXplRXBzaWxsb24pIHdvcmxkU2NhbGUueSAvPSBpbm5lclNpemUueVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbm5lclNpemUueikgPj0gc2l6ZUVwc2lsbG9uKSB3b3JsZFNjYWxlLnogLz0gaW5uZXJTaXplLnpcblxuICAgICAgICAgICAgICAgIHdvcmxkT3JpZW50YXRpb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyhzdGF0ZS5vdXRlck9yaWVudGF0aW9uLCBsb2NhbE9yaWVudGF0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgICAgICAgICAgIHNwYXRpYWxPZmZzZXQuY29weShzcGF0aWFsQ2VudGVyKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICBpbm5lck9mZnNldC5jb3B5KGlubmVyQ2VudGVyKS5tdWx0aXBseSh3b3JsZFNjYWxlKS5hcHBseVF1YXRlcm5pb24od29ybGRPcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICB3b3JsZFBvc2l0aW9uLmNvcHkoc3RhdGUub3V0ZXJPcmlnaW4pLmFkZChzcGF0aWFsT2Zmc2V0KS5zdWIoaW5uZXJPZmZzZXQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXguY29tcG9zZSh3b3JsZFBvc2l0aW9uLHdvcmxkT3JpZW50YXRpb24sd29ybGRTY2FsZSlcblxuICAgICAgICAgICAgICAgIHBhcmVudFN0YXRlID8gICAgXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsTWF0cml4Lm11bHRpcGx5TWF0cmljZXMocGFyZW50U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB3b3JsZE1hdHJpeCkgOlxuICAgICAgICAgICAgICAgICAgICBsb2NhbE1hdHJpeC5jb3B5KHdvcmxkTWF0cml4KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgbG9jYWxQb3NpdGlvbi5jb3B5KHRoaXMucmF3LmxvY2FsUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgbG9jYWxTY2FsZS5jb3B5KHRoaXMucmF3LmxvY2FsU2NhbGUpXG4gICAgICAgICAgICAgICAgbG9jYWxNYXRyaXguY29tcG9zZShsb2NhbFBvc2l0aW9uLCBsb2NhbE9yaWVudGF0aW9uLCBsb2NhbFNjYWxlKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSBjaGFuZ2VzXG4gICAgICAgICAgICBzdGF0ZS5sb2NhbE1hdHJpeCA9IGxvY2FsTWF0cml4XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgfVxuICAgIH0pKClcblxuICAgIGludmFsaWRhdGVTdGF0ZXMoaW5jbHVkZVJhdz10cnVlKSB7XG4gICAgICAgIGlmIChpbmNsdWRlUmF3KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRSYXdTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FjaGVkQ3VycmVudFN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRUYXJnZXRTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpc1tJbnRlcm5hbEN1cnJlbnRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgICAgIHRoaXNbSW50ZXJuYWxUYXJnZXRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJhdyBub2RlIHN0YXRlLCBiZWZvcmUgYW55IHVwZGF0ZSwgd2l0aCBhbmNlc3RvciB0YXJnZXQgc3RhdGVzXG4gICAgICovXG4gICAgZ2V0IHJhdygpIDogUmVhZG9ubHk8Tm9kZVN0YXRlPE4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSYXdTdGF0ZSgpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFJhd1N0YXRlID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc3lzdGVtLmJpbmRpbmdzLmdldFN0YXRlKHRoaXMsIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV0pXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUmF3U3RhdGVdXG4gICAgfSk7XG4gICAgW0ludGVybmFsUmF3U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ3RhcmdldCcsIHRoaXMpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDdXJyZW50U3RhdGUoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRDdXJyZW50U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsQ3VycmVudFN0YXRlXSlcbiAgICB9KTtcbiAgICBbSW50ZXJuYWxDdXJyZW50U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ2N1cnJlbnQnLCB0aGlzKVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRhcmdldFN0YXRlKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVGFyZ2V0U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsVGFyZ2V0U3RhdGVdKVxuICAgIH0pO1xuICAgIFtJbnRlcm5hbFRhcmdldFN0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCd0YXJnZXQnLCB0aGlzKVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgdGFyZ2V0IHN0YXRlXG4gICAgICovXG4gICAgZ2V0IHByZXZpb3VzVGFyZ2V0KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV1cbiAgICB9XG4gICAgW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgndGFyZ2V0JywgdGhpcylcblxuXG4gICAgLyoqXG4gICAgICogVGhlIGNoaWxkIG5vZGVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoaXMgYm91bmRpbmcgY29udGV4dFxuICAgICAqL1xuICAgIGdldCBib3VuZGluZ0NoaWxkTWV0cmljcygpIDogUmVhZG9ubHlBcnJheTxTcGF0aWFsTWV0cmljczxOPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkQm91bmRzQ2hpbGRyZW4oKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRCb3VuZHNDaGlsZHJlbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlQ2hpbGRyZW4gPSB0aGlzLm5vZGVDaGlsZHJlblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuX2JvdW5kaW5nQ2hpbGRyZW5cbiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMFxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGVDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3MoY2hpbGQpXG4gICAgICAgICAgICBpZiAobWV0cmljcy5pc0FkYXB0aXZlKSBjb250aW51ZVxuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChtZXRyaWNzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblxuICAgIH0pXG4gICAgcHJpdmF0ZSBfYm91bmRpbmdDaGlsZHJlbiA9IFtdIGFzIFNwYXRpYWxNZXRyaWNzPE4+W11cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBpc0FkYXB0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmhhcyh0aGlzLm5vZGUpXG4gICAgfVxuICAgIFxufVxuXG4iLCJpbXBvcnQgeyBOb2RlM0QgfSBmcm9tICcuL0V0aGVyZWFsTGF5b3V0U3lzdGVtJ1xuaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiwgQm94MywgTWF0aFV0aWxzLCByYW5kb21TZWxlY3QsIHJhbmRvbVF1YXRlcm5pb24sIGdhdXNzaWFuLCBsZXZ5fSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBTcGF0aWFsQWRhcHRlciB9IGZyb20gJy4vU3BhdGlhbEFkYXB0ZXInXG5pbXBvcnQgeyBPcHRpbWl6ZXJDb25maWcgfSBmcm9tICcuL1NwYXRpYWxPcHRpbWl6ZXInXG5pbXBvcnQgeyBcbiAgICBPYmplY3RpdmVPcHRpb25zLCBcbiAgICBWZWN0b3IzU3BlYywgLy9SZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCBhcyBSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCwgXG4gICAgUXVhdGVybmlvblNwZWMsIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50IGFzIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50LFxuICAgIFdvcmxkU2NhbGVDb25zdHJhaW50IGFzIFdvcmxkU2NhbGVDb25zdHJhaW50LCBBc3BlY3RDb25zdHJhaW50LFxuICAgIFNwYXRpYWxCb3VuZHNTcGVjLCBTcGF0aWFsQm91bmRzQ29uc3RyYWludCxcbiAgICBWaXN1YWxCb3VuZHNTcGVjLCBWaXN1YWxCb3VuZHNDb25zdHJhaW50LCBcbiAgICBWaXN1YWxNYXhpbWl6ZU9iamVjdGl2ZSBhcyBNYXhpbWl6ZU9iamVjdGl2ZSxcbiAgICBTcGF0aWFsT2JqZWN0aXZlLCBNYWduZXRpemVPYmplY3RpdmUsIE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlXG59IGZyb20gJy4vU3BhdGlhbE9iamVjdGl2ZSdcblxuXG4vKipcbiAqIERlZmluZXMgc3BhdGlhbCBsYXlvdXQgY29uc3RyYWludHMvZ29hbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNwYXRpYWxMYXlvdXQgZXh0ZW5kcyBPcHRpbWl6ZXJDb25maWcge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGFkYXB0ZXI6U3BhdGlhbEFkYXB0ZXI8YW55Pikge1xuICAgICAgICBzdXBlcigpXG4gICAgfVxuICAgIFxuICAgIHJlbGF0aXZlVG9sZXJhbmNlPzpudW1iZXJcbiAgICBhYnNvbHV0ZVRvbGVyYW5jZSA9IHtcbiAgICAgICAgbWV0ZXI6ICc0bW0nLFxuICAgICAgICBwaXhlbDogJzRweCcsXG4gICAgICAgIGRlZ3JlZTogJzAuMDAyZGVnJyxcbiAgICAgICAgcmF0aW86IDAuMDA1XG4gICAgfVxuXG4gICAgZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSh0eXBlOiBrZXlvZiB0eXBlb2YgU3BhdGlhbExheW91dC5wcm90b3R5cGUuYWJzb2x1dGVUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5zeXN0ZW0ubWVhc3VyZU51bWJlcih0aGlzLmFic29sdXRlVG9sZXJhbmNlW3R5cGVdLCB0eXBlKVxuICAgIH1cblxuICAgIHN1Y2Nlc3NSYXRlID0gMFxuXG4gICAgcmVzdGFydFJhdGUgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBhcHBsaWVkIHRvIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgb2JqZWN0aXZlcyA9IG5ldyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPigpIGFzIFJlYWRvbmx5QXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcmVmZXJlbmNlIGZyYW1lIGZvciBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gY29uc3RyYWludHMuIFxuICAgICAqIGlmIG5vdCBkZWZpbmVkLCB0aGUgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgcmVmZXJlbmNlIGZyYW1lLiBcbiAgICAgKi9cbiAgICByZWZlcmVuY2VOb2RlPzpOb2RlM0R8bnVsbCA9IG51bGxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIHJlZmVyZW5jZSBmcmFtZSBmb3IgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSByZWZlcmVuY2UgXG4gICAgICovXG4gICAgcG9zZVJlbGF0aXZlVG8ocmVmZXJlbmNlPzpOb2RlM0R8bnVsbCkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZU5vZGUgPSByZWZlcmVuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBtYXhpbWl6ZShvcHRzPzpQYXJ0aWFsPE1heGltaXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1heGltaXplT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1heGltaXplT2JqZWN0aXZlID8/IG5ldyBNYXhpbWl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosb3B0cylcbiAgICB9XG4gICAgbWF4aW1pemVPYmplY3RpdmU/Ok1heGltaXplT2JqZWN0aXZlXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSByZWxhdGl2ZSBvcmllbnRhdGlvbiBjb25zdHJhaW50XG4gICAgICovXG4gICAgb3JpZW50YXRpb24oc3BlYzpRdWF0ZXJuaW9uU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vcmllbnRhdGlvbkNvbnN0cmFpbnQgPSB0aGlzLm9yaWVudGF0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC05OTlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgb3JpZW50YXRpb25Db25zdHJhaW50PzpSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludFxuXG4gICAgLyoqXG4gICAgKiBBZGQgYW4gYXNwZWN0LXJhdGlvIGNvbnN0cmFpbnRcbiAgICAqIENvbnN0cmFpbiBub3JtYWxpemVkIHdvcmxkIHNjYWxlIHRvIHByZXNlcnZlXG4gICAgKiB4eXogb3IgeHkgYXNwZWN0IHJhdGlvc1xuICAgICovXG4gICAga2VlcEFzcGVjdChtb2RlOid4eXonfCd4eSc9ICd4eXonLCBvcHRzPzpQYXJ0aWFsPEFzcGVjdENvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMua2VlcEFzcGVjdENvbnN0cmFpbnQgPSB0aGlzLmtlZXBBc3BlY3RDb25zdHJhaW50ID8/IG5ldyBBc3BlY3RDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5tb2RlID0gbW9kZVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtOTk4XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGtlZXBBc3BlY3RDb25zdHJhaW50PzpBc3BlY3RDb25zdHJhaW50XG5cbiAgICAvLyAvKipcbiAgICAvLyAgKiBBZGQgYSByZWxhdGl2ZSBwb3NpdGlvbiBjb25zdHJhaW50XG4gICAgLy8gICovXG4gICAgLy8gcG9zaXRpb24oc3BlYzpWZWN0b3IzU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludD4pIHtcbiAgICAvLyAgICAgY29uc3Qgb2JqID0gdGhpcy5wb3NpdGlvbkNvbnN0cmFpbnQgPSB0aGlzLnBvc2l0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAvLyAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgLy8gICAgIG9iai5wcmlvcml0eSA9IC0yXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgLy8gfVxuICAgIC8vIHBvc2l0aW9uQ29uc3RyYWludD86UmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnRcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdvcmxkIHNjYWxlIGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBzY2FsZShzcGVjOlZlY3RvcjNTcGVjLCBvcHRzPzpQYXJ0aWFsPFdvcmxkU2NhbGVDb25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLnNjYWxlQ29uc3RyYWludCA9IHRoaXMuc2NhbGVDb25zdHJhaW50ID8/IG5ldyBXb3JsZFNjYWxlQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgc2NhbGVDb25zdHJhaW50PzpXb3JsZFNjYWxlQ29uc3RyYWludFxuXG5cbiAgICBib3VuZHMoc3BlYzpTcGF0aWFsQm91bmRzU3BlYywgb3B0cz86UGFydGlhbDxTcGF0aWFsQm91bmRzQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5ib3VuZHNDb25zdHJhaW50ID0gIHRoaXMuYm91bmRzQ29uc3RyYWludCA/PyBuZXcgU3BhdGlhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGJvdW5kc0NvbnN0cmFpbnQ/OlNwYXRpYWxCb3VuZHNDb25zdHJhaW50XG5cbiAgICB2aXN1YWxPcmllbnRhdGlvbihzcGVjOlF1YXRlcm5pb25TcGVjLCBvcHRzPzpPYmplY3RpdmVPcHRpb25zKSB7XG5cbiAgICB9XG5cbiAgICB2aXN1YWxCb3VuZHMoc3BlYzpWaXN1YWxCb3VuZHNTcGVjLCBvcHRzPzpQYXJ0aWFsPFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG1ldGVyQ29uc3RyYWludCA9IHRoaXMudmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50ID0gXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludCA/PyBuZXcgVmlzdWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBjb25zdCBwaXhlbENvbnN0cmFpbnQgPSB0aGlzLnZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludCA9IFxuICAgICAgICAgICAgdGhpcy52aXN1YWxCb3VuZHNQaXhlbENvbnN0cmFpbnQgPz8gbmV3IFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgbWV0ZXJDb25zdHJhaW50LnNwZWMgPSBzcGVjXG4gICAgICAgIG1ldGVyQ29uc3RyYWludC50eXBlID0gJ21ldGVyJ1xuICAgICAgICBwaXhlbENvbnN0cmFpbnQuc3BlYyA9IHNwZWNcbiAgICAgICAgcGl4ZWxDb25zdHJhaW50LnR5cGUgPSAncGl4ZWwnXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShtZXRlckNvbnN0cmFpbnQsIG9wdHMpLmFkZE9iamVjdGl2ZShwaXhlbENvbnN0cmFpbnQsIG9wdHMpXG4gICAgfVxuICAgIHZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuICAgIHZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuXG4gICAgbWFnbmV0aXplKG9wdHM/OlBhcnRpYWw8TWFnbmV0aXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1hZ25ldGl6ZU9iamVjdGl2ZSA9IHRoaXMubWFnbmV0aXplT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIG1hZ25ldGl6ZU9iamVjdGl2ZT86TWFnbmV0aXplT2JqZWN0aXZlXG5cbiAgICBhdm9pZE9jY2x1c2lvbihvcHRzPzpQYXJ0aWFsPE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTFcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgbWluaW1pemVPY2NsdXNpb25PYmplY3RpdmU/Ok1hZ25ldGl6ZU9iamVjdGl2ZVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIG9iamVjdGl2ZSB3aXRoIGl0J3Mgb3B0aW9ucy5cbiAgICAgKiBJZiB0aGUgb2JqZWN0aXZlIGluc3RhbmNlIGlzIGFscmVhZHkgcHJlc2VudCwgaXQncyBub3QgYWRkZWQgYWdhaW4uXG4gICAgICogXG4gICAgICogQWZ0ZXIgYW4gb2JqZWN0aXZlIGlzIGFkZGVkLCB0aGUgb2JqZWN0aXZlIGxpc3QgaXMgc3RhYmx5IHNvcnRlZCwgXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBwcmlvcml0eSBvZiBlYWNoIG9iamVjdGl2ZS5cbiAgICAgKi9cbiAgICBhZGRPYmplY3RpdmU8VCBleHRlbmRzIFNwYXRpYWxPYmplY3RpdmU+KG9iajpULCBvcHRzPzpQYXJ0aWFsPFQ+KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqLCBvcHRzKVxuICAgICAgICBpZiAodGhpcy5vYmplY3RpdmVzLmluZGV4T2Yob2JqKSA9PT0gLTEpIFxuICAgICAgICAgICAgKHRoaXMub2JqZWN0aXZlcyBhcyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPikucHVzaChvYmopXG4gICAgICAgIHRoaXMuc29ydE9iamVjdGl2ZXMoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb2x1dGlvbnMgYmVpbmcgZXhwbG9yZWQgZm9yIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgc29sdXRpb25zID0gbmV3IEFycmF5PExheW91dFNvbHV0aW9uPigpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBvcHRpbWl6YXRpb24gaXRlcmF0aW9uXG4gICAgICovXG4gICAgaXRlcmF0aW9uID0gMFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhpcyBsYXlvdXQgaGFzIGEgdmFsaWQgc29sdXRpb25cbiAgICAgKi9cbiAgICBnZXQgaGFzVmFsaWRTb2x1dGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29sdXRpb25zWzBdPy5pc0ZlYXNpYmxlID09PSB0cnVlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcHJpb3JpdHlTb3J0KGE6U3BhdGlhbE9iamVjdGl2ZSxiOlNwYXRpYWxPYmplY3RpdmUpIHtcbiAgICAgICAgaWYgKGEucHJpb3JpdHkgPT09IGIucHJpb3JpdHkpIHJldHVybiBhLmluZGV4IC0gYi5pbmRleFxuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHlcbiAgICB9XG5cbiAgICAvKiogc3RhYmxlLXNvcnQgb2JqZWN0aXZlcyBieSBwcmlvcml0eSAqL1xuICAgIHNvcnRPYmplY3RpdmVzKCkge1xuICAgICAgICBjb25zdCBzeXMgPSB0aGlzLmFkYXB0ZXIuc3lzdGVtXG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB0aGlzLm9iamVjdGl2ZXMgYXMgQXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqZWN0aXZlcykge1xuICAgICAgICAgICAgby5pbmRleCA9IGluZGV4KytcbiAgICAgICAgICAgIG8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSA9IG8uYWJzb2x1dGVUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IFxuICAgICAgICAgICAgICAgIHN5cy5tZWFzdXJlTnVtYmVyKG8uYWJzb2x1dGVUb2xlcmFuY2UsIHN5cy5tYXRoU2NvcGVbby50eXBlXSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZShvLnR5cGUpXG4gICAgICAgICAgICBvLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2UgPSBvLnJlbGF0aXZlVG9sZXJhbmNlID8/XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRvbGVyYW5jZSA/P1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlci5zeXN0ZW0ub3B0aW1pemUucmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RpdmVzLnNvcnQodGhpcy5fcHJpb3JpdHlTb3J0KVxuICAgIH1cblxuICAgIGJlc3RTb2x1dGlvbiEgOiBMYXlvdXRTb2x1dGlvblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJlc3Qgc2NvcmVzIGFuZCBzb3J0IHNvbHV0aW9uc1xuICAgICAqL1xuICAgIHNvcnRTb2x1dGlvbnMoKSB7XG4gICAgICAgIHRoaXMuc29sdXRpb25zLnNvcnQodGhpcy5jb21wYXJlU29sdXRpb25zKVxuICAgICAgICB0aGlzLmJlc3RTb2x1dGlvbiA9IHRoaXMuc29sdXRpb25zWzBdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWFjaCBvYmplY3RpdmUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIHNjYWxhciB2YWx1ZSBcbiAgICAgKiB0aGF0IGluY3JlYXNlcyBpbiBjb3JyZWxhdGlvbiB3aXRoIGltcHJvdmVkIGZpdG5lc3MuIFxuICAgICAqIFxuICAgICAqIFRoZSBmaXRuZXNzIHZhbHVlIGRvZXMgbm90IG5lZWQgdG8gYmUgbm9ybWFsaXplZCwgYXMgXG4gICAgICogaW5kaXZpZHVhbCBvYmplY3RpdmVzIGFyZSBub3Qgd2VpZ2h0ZWQgZGlyZWN0bHkgYWdhaW5zdFxuICAgICAqIG9uZSBhbm90aGVyLiBSYXRoZXIsIHNvbHV0aW9ucyBhcmUgcmFua2VkIGJ5IHByZWZlcnJpbmcgXG4gICAgICogdGhlIHNvbHV0aW9uIHRoYXQgaGFzIHRoZSBoaWdoZXN0IHNjb3JlICh3aXRoaW4gdG9sZXJhbmNlKVxuICAgICAqIG9mIGVhY2ggb2JqZWN0aXZlLCBpbiBvcmRlciBvZiBvYmplY3RpdmUgcHJpb3JpdHkuIFxuICAgICAqIFxuICAgICAqIElmIG9uZSBzb2x1dGlvbiBpcyBmZWFzaWJsZSAobm8gbmVnYXRpdmUgc2NvcmVzKSBhbmQgdGhlIFxuICAgICAqIG90aGVyIHNvbHRpb24gaXNuJ3QsIHRoZSBmZWFzaWJsZSBvbmUgaXMgYWx3YXlzIHJhbmtlZCBoaWdoZXIuIFxuICAgICAqIFxuICAgICAqIEluIGFsbCBvdGhlciBjYXNlcywgc29sdXRpb25zIGFyZSBjb21wYXJlZCBieSBleGFtaW5pbmdcbiAgICAgKiB0aGVpciBvYmplY3RpdmUgc2NvcmVzIHNlcXVlbnRpYWxseTpcbiAgICAgKiBcbiAgICAgKiBJZiBhdCBhbnkgcG9pbnQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBzY29yZXMgaXMgbGFyZ2VyIFxuICAgICAqIHRoYW4gdGhlIHRvbGVyYW5jZSBmb3IgYSBnaXZlbiBvYmplY3RpdmUsIHRoZSB0d28gc29sdXRpb25zIFxuICAgICAqIHdpbGwgYmUgcmFua2VkIGJ5IHRoYXQgb2JqZWN0aXZlLiBcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgdHdvIHNvbHV0aW9ucyBhcmUgd2l0aGluIHJlbGF0aXZlIHRvbGVyYW5jZSBcbiAgICAgKiBvZiBvbmUgYW5vdGhlciBmb3IgYWxsIG9iamVjdGl2ZXMsIHRob3NlIHR3byB3aWxsIGJlXG4gICAgICogY29tcGFyZWQgdG8gb25lIGFub3RoZXIgYnkgdGhlIGxvd2VzdCBwcmlvcml0eSBvYmplY3RpdmVcbiAgICAgKiBcbiAgICAgKiBJZiBlaXRoZXIgc29sdXRpb24gYnJlYWtzIGNvbnN0cmFpbnRzLCB0aGVuXG4gICAgICogdGhlIG9uZSB3aXRoIHRoZSBsb3dlc3QgcGVuYWx0eSBpcyByYW5rZWQgaGlnaGVyXG4gICAgICovXG4gICAgY29tcGFyZVNvbHV0aW9ucyA9IChhOkxheW91dFNvbHV0aW9uLCBiOkxheW91dFNvbHV0aW9uKSA9PiB7XG5cbiAgICAgICAgLy8gY29uc3QgYU1pbiA9IGEuYm91bmRzLm1pblxuICAgICAgICAvLyBjb25zdCBhTWF4ID0gYS5ib3VuZHMubWF4XG4gICAgICAgIC8vIGlmIChpc05hTihhTWluLngpfHxpc05hTihhTWluLnkpfHxpc05hTihhTWluLnopfHxpc05hTihhTWF4LngpfHxpc05hTihhTWF4LnkpfHxpc05hTihhTWF4LnopKVxuICAgICAgICAvLyAgICAgcmV0dXJuIDFcblxuICAgICAgICBjb25zdCBvYmplY3RpdmVzID0gdGhpcy5vYmplY3RpdmVzXG4gICAgICAgIGlmIChhLnNjb3Jlcy5sZW5ndGggPCBvYmplY3RpdmVzLmxlbmd0aCkgcmV0dXJuIDFcbiAgICAgICAgaWYgKGIuc2NvcmVzLmxlbmd0aCA8IG9iamVjdGl2ZXMubGVuZ3RoKSByZXR1cm4gLTFcblxuICAgICAgICBjb25zdCBhRmVhc2libGUgPSBhLmlzRmVhc2libGVcbiAgICAgICAgY29uc3QgYkZlYXNpYmxlID0gYi5pc0ZlYXNpYmxlXG4gICAgICAgIGlmIChhRmVhc2libGUgJiYgIWJGZWFzaWJsZSkgcmV0dXJuIC0xXG4gICAgICAgIGlmIChiRmVhc2libGUgJiYgIWFGZWFzaWJsZSkgcmV0dXJuIDFcblxuICAgICAgICBsZXQgcmFuayA9IDBcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJlc3RTY29yZXMgPSB0aGlzLnNvbHV0aW9uc1swXS5zY29yZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY29yZUEgPSBhLnNjb3Jlc1tpXSBcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlQiA9IGIuc2NvcmVzW2ldIFxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjb3JlQSkpIHJldHVybiAxXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmVCKSkgcmV0dXJuIC0xXG4gICAgICAgICAgICBjb25zdCBvYmplY3RpdmUgPSBvYmplY3RpdmVzW2ldXG4gICAgICAgICAgICBjb25zdCBvUmVsVG9sID0gb2JqZWN0aXZlLmNvbXB1dGVkUmVsYXRpdmVUb2xlcmFuY2VcbiAgICAgICAgICAgIGNvbnN0IG9BYnNUb2wgPSBvYmplY3RpdmUuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZVxuICAgICAgICAgICAgY29uc3QgYmVzdCA9IE1hdGgubWF4KGJlc3RTY29yZXNbaV0sIHNjb3JlQSwgc2NvcmVCKVxuICAgICAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gTWF0aC5taW4oYmVzdCAtIE1hdGguYWJzKGJlc3QpICogb1JlbFRvbCwgLW9BYnNUb2wpXG4gICAgICAgICAgICBpZiAoc2NvcmVBIDwgdG9sZXJhbmNlIHx8IHNjb3JlQiA8IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIG9iamVjdGl2ZS5zb3J0QmxhbWUrK1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29yZUIgLSBzY29yZUEgLy8gcmFuayBieSBoaWdoZXN0IHNjb3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcmVCIC0gc2NvcmVBICE9PSAwKSByYW5rID0gc2NvcmVCIC0gc2NvcmVBXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhbGwgc2NvcmVzIGFyZSB3aXRoaW4gcmVsYXRpdmUgdG9sZXJhbmNlIG9mIG9uZSBhbm90aGVyLFxuICAgICAgICAvLyBzb3J0IGJ5IGxvd2VzdCBwcmlvcml0eSBzY29yZVxuICAgICAgICByZXR1cm4gcmFua1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblN0cmF0ZWd5IHt0eXBlOnN0cmluZywgc3RlcFNpemU6IG51bWJlcn1cblxuZXhwb3J0IGNsYXNzIExheW91dFNvbHV0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGxheW91dD86U3BhdGlhbExheW91dCkgeyBcbiAgICAgICAgaWYgKGxheW91dCkgdGhpcy5sYXlvdXQgPSBsYXlvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5b3V0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvbHV0aW9uXG4gICAgICovXG4gICAgbGF5b3V0OiBTcGF0aWFsTGF5b3V0ID0gdW5kZWZpbmVkIGFzIGFueVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxheW91dCBvcmllbnRhdGlvbiAocmVsYXRpdmUgdG8gcGFyZW50IG9yaWVudGF0aW9uKVxuICAgICAqL1xuICAgIG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgYm91bmRzICh3b3JsZCB1bml0cylcbiAgICAgKi9cbiAgICBib3VuZHMgPSBuZXcgQm94M1xuXG5cbiAgICBnZXQgYXNwZWN0UGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzW3RoaXMubGF5b3V0Lm9iamVjdGl2ZXMuaW5kZXhPZih0aGlzLmxheW91dC5rZWVwQXNwZWN0Q29uc3RyYWludCEpXXx8MFxuICAgIH1cblxuICAgIGdldCBvcmllbnRhdGlvblBlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlc1t0aGlzLmxheW91dC5vYmplY3RpdmVzLmluZGV4T2YodGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50ISldfHwwXG4gICAgfVxuXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHNQZW5hbHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZXNbdGhpcy5sYXlvdXQub2JqZWN0aXZlcy5pbmRleE9mKHRoaXMubGF5b3V0LmJvdW5kc0NvbnN0cmFpbnQhKV18fDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBmaXRuZXNzIHNjb3JlcyBmb3IgdGhpcyBzb2x1dGlvblxuICAgICAqIChvbmUgZm9yIGVhY2ggb2JqZWN0aXZlLCBoaWdoZXIgaXMgYmV0dGVyKVxuICAgICAqL1xuICAgIHNjb3JlcyA9IFtdIGFzIG51bWJlcltdXG5cbiAgICAvKipcbiAgICAgKiBBbGwgY29uc3RyYWludHMgYXJlIHNhdGlzZmllZFxuICAgICAqL1xuICAgIGlzRmVhc2libGUgPSBmYWxzZVxuICAgIFxuXG4gICAgbXV0YXRpb25TdHJhdGVnaWVzID0gW1xuICAgICAgICB7dHlwZToncm90YXRlJywgc3RlcFNpemU6IDAuMX0sXG4gICAgICAgIHt0eXBlOidjZW50ZXInLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J3NpemUnLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J21pbm1heCcsIHN0ZXBTaXplOiAwLjF9LFxuICAgIF1cblxuICAgIHByaXZhdGUgX3NlbGVjdFN0cmF0ZWd5KCkge1xuICAgICAgICBjb25zdCBzdHJhdGVnaWVzID0gdGhpcy5tdXRhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuX211dGF0aW9uV2VpZ2h0c1xuXG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ29uc3RyYWludCA9IHRoaXMubGF5b3V0Lm9yaWVudGF0aW9uQ29uc3RyYWludFxuICAgICAgICBjb25zdCBhc3BlY3RDb25zdHJhaW50ID0gdGhpcy5sYXlvdXQua2VlcEFzcGVjdENvbnN0cmFpbnRcblxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzdHJhdGVnaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gc3RyYXRlZ2llc1tpXS5zdGVwU2l6ZVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3JvdGF0ZScgXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcmllbnRhdGlvblBlbmFsdHkgPiAtb3JpZW50YXRpb25Db25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAwLjAxXG4gICAgICAgICAgICBpZiAoYXNwZWN0Q29uc3RyYWludCAmJiBzdHJhdGVnaWVzW2ldLnR5cGUgPT0gJ3NpemUnIFxuICAgICAgICAgICAgICAgICYmIHRoaXMuYXNwZWN0UGVuYWx0eSA8IC1hc3BlY3RDb25zdHJhaW50LmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UpXG4gICAgICAgICAgICAgICAgd2VpZ2h0c1tpXSAqPSAxMDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5kb21TZWxlY3Qoc3RyYXRlZ2llcywgd2VpZ2h0cylcbiAgICB9XG4gICAgcHJpdmF0ZSBfbXV0YXRpb25XZWlnaHRzID0gW10gYXMgbnVtYmVyW11cblxuICAgIGNvcHkoc29sdXRpb246TGF5b3V0U29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBzb2x1dGlvbi5sYXlvdXRcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KCBzb2x1dGlvbi5vcmllbnRhdGlvbiApXG4gICAgICAgIHRoaXMuYm91bmRzLmNvcHkoIHNvbHV0aW9uLmJvdW5kcyApXG4gICAgICAgIHRoaXMuc2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgLy8gdGhpcy5iZXN0U2NvcmVzLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb2x1dGlvbi5zY29yZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcmVzW2ldID0gc29sdXRpb24uc2NvcmVzW2ldXG4gICAgICAgICAgICAvLyB0aGlzLmJlc3RTY29yZXNbaV0gPSBzb2x1dGlvbi5iZXN0U2NvcmVzW2ldXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gc29sdXRpb24uaXNGZWFzaWJsZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9zY3JhdGNoVjEgPSBuZXcgVmVjdG9yMyBcbiAgICBwcml2YXRlIHN0YXRpYyBfc2NyYXRjaFYyID0gbmV3IFZlY3RvcjNcblxuICAgIHJhbmRvbWl6ZShzaXplSGludDpudW1iZXIpIHtcbiAgICAgICAgLy8gdGhpcy5vcmllbnRhdGlvbi5jb3B5KHJhbmRvbVF1YXRlcm5pb24oKSlcbiAgICAgICAgY29uc3QgZmFyID0gbGV2eShzaXplSGludClcbiAgICAgICAgLy8gY29uc3QgY2VudGVyID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMS5zZXQoXG4gICAgICAgIC8vICAgICAoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogZ2F1c3NpYW4oc2l6ZUhpbnQgKiAwLjEpKSAqIGZhcixcbiAgICAgICAgLy8gICAgICgoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBnYXVzc2lhbihzaXplSGludCAqIDAuMSkpICogZmFyLFxuICAgICAgICAvLyAgICAgLSBmYXJcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBjZW50ZXIgPSBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYxLnNldChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgLSBmYXJcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHZpZXdTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLnZpZXdNZXRyaWNzLnRhcmdldFxuXG4gICAgICAgIFxuXG4gICAgICAgIGNlbnRlci5hcHBseU1hdHJpeDQodmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZSA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy50YXJnZXQucGFyZW50U3RhdGVcbiAgICAgICAgcGFyZW50U3RhdGUgJiYgY2VudGVyLmFwcGx5TWF0cml4NChwYXJlbnRTdGF0ZS53b3JsZE1hdHJpeEludmVyc2UpXG5cbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5jb3B5KHZpZXdTdGF0ZS53b3JsZE9yaWVudGF0aW9uKVxuICAgICAgICBwYXJlbnRTdGF0ZSAmJiB0aGlzLm9yaWVudGF0aW9uLm11bHRpcGx5KHBhcmVudFN0YXRlLndvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuXG4gICAgICAgIC8vIGNvbnN0IGhhbGZTaXplID0gTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMi5zZXQoXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjEsXG4gICAgICAgIC8vICAgICBNYXRoLnJhbmRvbSgpICogc2l6ZUhpbnQgKiAyICsgc2l6ZUhpbnQgKiAwLjFcbiAgICAgICAgLy8gKVxuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMubGF5b3V0LmFkYXB0ZXIubWV0cmljcy5pbm5lckJvdW5kc1xuICAgICAgICBjb25zdCBzaXplID0gaW5uZXIuaXNFbXB0eSgpID8gXG4gICAgICAgICAgICBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYyLnNldCgxLDEsMSkgOiBcbiAgICAgICAgICAgIGlubmVyLmdldFNpemUoTGF5b3V0U29sdXRpb24uX3NjcmF0Y2hWMilcbiAgICAgICAgc2l6ZS5ub3JtYWxpemUoKVxuICAgICAgICBzaXplLm11bHRpcGx5U2NhbGFyKGZhciAqIDIgKiBNYXRoLnRhbig1ICogTWF0aFV0aWxzLkRFRzJSQUQpKVxuICAgICAgICAvLyBzaXplLm11bHRpcGx5U2NhbGFyKE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIpXG4gICAgICAgIHRoaXMuYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgLy8gdGhpcy5ib3VuZHMubWluLmNvcHkoY2VudGVyKS5zdWIoaGFsZlNpemUpXG4gICAgICAgIC8vIHRoaXMuYm91bmRzLm1heC5jb3B5KGNlbnRlcikuYWRkKGhhbGZTaXplKVxuICAgICAgICAvLyB0aGlzLmJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2NlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NpemUgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgc3RhdGljIF9vdGhlckNlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX290aGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICBtb3ZlVG93YXJkcyhzb2x1dGlvbjpMYXlvdXRTb2x1dGlvbiwgbWluRnJlcTpudW1iZXIsIG1heEZyZXE6bnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm91bmRzLmdldENlbnRlcihMYXlvdXRTb2x1dGlvbi5fY2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5ib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcbiAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBzb2x1dGlvbi5ib3VuZHNcbiAgICAgICAgY29uc3Qgb3RoZXJDZW50ZXIgPSBvdGhlckJvdW5kcy5nZXRDZW50ZXIoTGF5b3V0U29sdXRpb24uX290aGVyQ2VudGVyKVxuICAgICAgICBjb25zdCBvdGhlclNpemUgPSBvdGhlckJvdW5kcy5nZXRTaXplKExheW91dFNvbHV0aW9uLl9vdGhlclNpemUpXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24uc2xlcnAoc29sdXRpb24ub3JpZW50YXRpb24sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICBjZW50ZXIubGVycChvdGhlckNlbnRlciwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgICAgIHNpemUubGVycChvdGhlclNpemUsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5taW4ubGVycChvdGhlckJvdW5kcy5taW4sIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5tYXgubGVycChvdGhlckJvdW5kcy5tYXgsIExheW91dFNvbHV0aW9uLmdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluRnJlcSwgbWF4RnJlcSkpXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogIFxuICAgICAqIEBwYXJhbSBzdGVwU2l6ZSBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBwZXJ0dXJiKCkgOiB0eXBlb2YgTGF5b3V0U29sdXRpb24ucHJvdG90eXBlLm11dGF0aW9uU3RyYXRlZ2llc1swXSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMuX3NlbGVjdFN0cmF0ZWd5KClcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3lUeXBlID0gc3RyYXRlZ3kudHlwZVxuICAgICAgICBsZXQgc3RlcFNpemUgPSBzdHJhdGVneS5zdGVwU2l6ZVxuXG4gICAgICAgIC8vIG9yaWVudGF0aW9uIG11dGF0aW9uIHN0cmF0ZWd5XG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdyb3RhdGUnIHx8IE1hdGgucmFuZG9tKCkgPCAwLjAwMSkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25TcGVjID0gdGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50Py5zcGVjIGFzIGFueVxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uU3BlYz8uaXNRdWF0ZXJuaW9uICYmIFxuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb25QZW5hbHR5IDwgb3JpZW50YXRpb25TcGVjLmNvbXB1dGVkQWJzb2x1dGVUb2xlcmFuY2UgJiYgXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uLmNvcHkob3JpZW50YXRpb25TcGVjKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKGxldnkoTWF0aC5taW4oc3RlcFNpemUsIDEpKjAuMDAwMSksIDEpXG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5tdWx0aXBseShyYW5kb21RdWF0ZXJuaW9uKHNjYWxlLCBzY2FsZSkpLm5vcm1hbGl6ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmJvdW5kc1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBib3VuZHMuZ2V0Q2VudGVyKExheW91dFNvbHV0aW9uLl9jZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSBib3VuZHMuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2l6ZSlcblxuICAgICAgICAvLyBjZW50ZXIgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnY2VudGVyJykgIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IExheW91dFNvbHV0aW9uLl9kaXJlY3Rpb24uc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24ocmFuZG9tUXVhdGVybmlvbigxLDEpKVxuICAgICAgICAgICAgb2Zmc2V0LnNldExlbmd0aChnYXVzc2lhbihzdGVwU2l6ZSkpLm11bHRpcGx5U2NhbGFyKHNpemUubGVuZ3RoKCkpXG4gICAgICAgICAgICBjZW50ZXIuYWRkKG9mZnNldClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpemUgbXV0YXRpb24gc3RyYXRlZ2llc1xuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnc2l6ZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMiAqKiBnYXVzc2lhbihzdGVwU2l6ZSlcbiAgICAgICAgICAgIHNpemUubXVsdGlwbHlTY2FsYXIoc2NhbGUpXG4gICAgICAgIH1cblxuICAgICAgICBzaXplLmNsYW1wU2NhbGFyKHRoaXMubGF5b3V0LmFkYXB0ZXIuc3lzdGVtLmVwc2lsbG9uTWV0ZXJzLzEwLDFlMjApXG4gICAgICAgIGJvdW5kcy5zZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsIHNpemUpXG5cblxuICAgICAgICBpZiAoc3RyYXRlZ3lUeXBlID09PSAnbWlubWF4Jykge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTGF5b3V0U29sdXRpb24uX2RpcmVjdGlvbi5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihyYW5kb21RdWF0ZXJuaW9uKDEsMSkpXG4gICAgICAgICAgICBvZmZzZXQuc2V0TGVuZ3RoKGdhdXNzaWFuKHN0ZXBTaXplKSkubXVsdGlwbHkoc2l6ZSlcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi5hZGQob2Zmc2V0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLmFkZChvZmZzZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBzaXplIGhhcyBubyBuZWdhdGl2ZSBjb21wb25lbnRzLCBvciBlbHNlIFxuICAgICAgICAvLyBCb3gzIGlzIHVuYWJsZSB0byB0cmFuc2l0aW9uIHByb3Blcmx5XG4gICAgICAgIC8vIGFsdGVybmF0aXZlIGZpeDogdXBkYXRlIEJveDMgdG8gc3VwcG9ydCBuZWdhdGl2ZSBzaXplIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgbWluID0gYm91bmRzLm1pblxuICAgICAgICBjb25zdCBtYXggPSBib3VuZHMubWF4XG4gICAgICAgIGlmIChtaW4ueCA+IG1heC54KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3gnKVxuICAgICAgICBpZiAobWluLnkgPiBtYXgueSkgdGhpcy5fc3dhcChtaW4sbWF4LCd5JylcbiAgICAgICAgaWYgKG1pbi56ID4gbWF4LnopIHRoaXMuX3N3YXAobWluLG1heCwneicpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3RyYXRlZ3lcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zd2FwKGE6VmVjdG9yMywgYjpWZWN0b3IzLCBrZXk6J3gnfCd5J3wneicpIHtcbiAgICAgICAgY29uc3QgYVZhbHVlID0gYVtrZXldXG4gICAgICAgIGNvbnN0IGJWYWx1ZSA9IGJba2V5XVxuICAgICAgICBhW2tleV0gPSBiVmFsdWVcbiAgICAgICAgYltrZXldID0gYVZhbHVlXG4gICAgfVxuXG4gICAgc3RhdGljIGdlbmVyYXRlUHVsc2VGcmVxdWVuY3kobWluOm51bWJlcixtYXg6bnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbilcbiAgICB9XG5cbiAgICBhcHBseShldmFsdWF0ZT10cnVlKSB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMubGF5b3V0XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBsYXlvdXQuYWRhcHRlciAgIFxuICAgICAgICBhZGFwdGVyLm9yaWVudGF0aW9uLnRhcmdldCA9IHRoaXMub3JpZW50YXRpb25cbiAgICAgICAgYWRhcHRlci5ib3VuZHMudGFyZ2V0ID0gdGhpcy5ib3VuZHNcbiAgICAgICAgYWRhcHRlci5tZXRyaWNzLmludmFsaWRhdGVTdGF0ZXMoZmFsc2UpXG4gICAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGF5b3V0Lm9iamVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gbGF5b3V0Lm9iamVjdGl2ZXNbaV1cbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuc2NvcmVzW2ldID0gby5ldmFsdWF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgLW8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSB8fCAhaXNGaW5pdGUoc2NvcmUpKSBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEggPSAxLjUyNTtcbnZhciByZXZlcnNlZCA9IGZ1bmN0aW9uIChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoMSAtIHApO1xuICAgIH07XG59O1xudmFyIG1pcnJvcmVkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCA8PSAwLjUgPyBlYXNpbmcoMiAqIHApIC8gMiA6ICgyIC0gZWFzaW5nKDIgKiAoMSAtIHApKSkgLyAyO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZVJldmVyc2VkRWFzaW5nID0gcmV2ZXJzZWQ7XG52YXIgY3JlYXRlTWlycm9yZWRFYXNpbmcgPSBtaXJyb3JlZDtcbnZhciBjcmVhdGVFeHBvSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHAsIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVCYWNrSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiBwICogKChwb3dlciArIDEpICogcCAtIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nID0gZnVuY3Rpb24gKHBvd2VyKSB7XG4gICAgdmFyIGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0Vhc2luZyhwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuICAgIH07XG59O1xudmFyIGxpbmVhciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHA7XG59O1xudmFyIGVhc2VJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVFeHBvSW4oMik7XG52YXIgZWFzZU91dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChlYXNlSW4pO1xudmFyIGVhc2VJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChlYXNlSW4pO1xudmFyIGNpcmNJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xufTtcbnZhciBjaXJjT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGNpcmNJbik7XG52YXIgY2lyY0luT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGNpcmNPdXQpO1xudmFyIGJhY2tJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIGJhY2tPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoYmFja0luKTtcbnZhciBiYWNrSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoYmFja0luKTtcbnZhciBhbnRpY2lwYXRlID0gLyojX19QVVJFX18qL2NyZWF0ZUFudGljaXBhdGVFYXNpbmcoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPSA0LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbnZhciBCT1VOQ0VfVEhJUkRfVEhSRVNIT0xEID0gOS4wIC8gMTAuMDtcbnZhciBjYSA9IDQzNTYuMCAvIDM2MS4wO1xudmFyIGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbnZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG52YXIgYm91bmNlT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPyA3LjU2MjUgKiBwMiA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRCA/IDkuMDc1ICogcDIgLSA5LjkgKiBwICsgMy40IDogcCA8IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPyBjYSAqIHAyIC0gY2IgKiBwICsgY2MgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG52YXIgYm91bmNlSW4gPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCk7XG59O1xudmFyIGJvdW5jZUluT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHAgKiAyLjAgLSAxLjApICsgMC41O1xufTtcbnZhciBORVdUT05fSVRFUkFUSU9OUyA9IDg7XG52YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xudmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbnZhciBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xudmFyIEtfU1BMSU5FX1RBQkxFX1NJWkUgPSAxMTtcbnZhciBLX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyAoS19TUExJTkVfVEFCTEVfU0laRSAtIDEuMCk7XG52YXIgRkxPQVRfMzJfU1VQUE9SVEVEID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgYSA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbn07XG52YXIgYiA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYTIgLSA2LjAgKiBhMTtcbn07XG52YXIgYyA9IGZ1bmN0aW9uIChhMSkge1xuICAgIHJldHVybiAzLjAgKiBhMTtcbn07XG52YXIgZ2V0U2xvcGUgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIDMuMCAqIGEoYTEsIGEyKSAqIHQgKiB0ICsgMi4wICogYihhMSwgYTIpICogdCArIGMoYTEpO1xufTtcbnZhciBjYWxjQmV6aWVyID0gZnVuY3Rpb24gKHQsIGExLCBhMikge1xuICAgIHJldHVybiAoKGEoYTEsIGEyKSAqIHQgKyBiKGExLCBhMikpICogdCArIGMoYTEpKSAqIHQ7XG59O1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IEZMT0FUXzMyX1NVUFBPUlRFRCA/IG5ldyBGbG9hdDMyQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSkgOiBuZXcgQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSk7XG4gICAgdmFyIGJpbmFyeVN1YmRpdmlkZSA9IGZ1bmN0aW9uIChhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICB2YXIgY3VycmVudFQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUO1xuICAgIH07XG4gICAgdmFyIG5ld3RvblJhcGhzb25JdGVyYXRlID0gZnVuY3Rpb24gKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgICAgZm9yICg7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfTtcbiAgICB2YXIgY2FsY1NhbXBsZVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLX1NQTElORV9UQUJMRV9TSVpFOyArK2kpIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIEtfU0FNUExFX1NURVBfU0laRSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2V0VEZvclggPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLjA7XG4gICAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBLX1NQTElORV9UQUJMRV9TSVpFIC0gMTtcbiAgICAgICAgdmFyIGRpc3QgPSAwLjA7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSAwLjA7XG4gICAgICAgIHZhciBpbml0aWFsU2xvcGUgPSAwLjA7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIEtfU0FNUExFX1NURVBfU0laRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gYVg7XG4gICAgICAgIH0gZWxzZSBpZiAoYVggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxjQmV6aWVyKGdldFRGb3JYKGFYKSwgbVkxLCBtWTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiByZXNvbHZlcjtcbn1cblxuZXhwb3J0IHsgcmV2ZXJzZWQsIG1pcnJvcmVkLCBjcmVhdGVSZXZlcnNlZEVhc2luZywgY3JlYXRlTWlycm9yZWRFYXNpbmcsIGNyZWF0ZUV4cG9JbiwgY3JlYXRlQmFja0luLCBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIGJvdW5jZU91dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBjdWJpY0JlemllciB9O1xuIiwiLy8gdHlwZSBjaGVja3MgZm9yIGFsbCBrbm93biB0eXBlc1xuLy9cbi8vIG5vdGUgdGhhdDpcbi8vXG4vLyAtIGNoZWNrIGJ5IGR1Y2stdHlwaW5nIG9uIGEgcHJvcGVydHkgbGlrZSBgaXNVbml0YCwgaW5zdGVhZCBvZiBjaGVja2luZyBpbnN0YW5jZW9mLlxuLy8gICBpbnN0YW5jZW9mIGNhbm5vdCBiZSB1c2VkIGJlY2F1c2UgdGhhdCB3b3VsZCBub3QgYWxsb3cgdG8gcGFzcyBkYXRhIGZyb21cbi8vICAgb25lIGluc3RhbmNlIG9mIG1hdGguanMgdG8gYW5vdGhlciBzaW5jZSBlYWNoIGhhcyBpdCdzIG93biBpbnN0YW5jZSBvZiBVbml0LlxuLy8gLSBjaGVjayB0aGUgYGlzVW5pdGAgcHJvcGVydHkgdmlhIHRoZSBjb25zdHJ1Y3Rvciwgc28gdGhlcmUgd2lsbCBiZSBub1xuLy8gICBtYXRjaGVzIGZvciBcImZha2VcIiBpbnN0YW5jZXMgbGlrZSBwbGFpbiBvYmplY3RzIHdpdGggYSBwcm9wZXJ0eSBgaXNVbml0YC5cbi8vICAgVGhhdCBpcyBpbXBvcnRhbnQgZm9yIHNlY3VyaXR5IHJlYXNvbnMuXG4vLyAtIEl0IG11c3Qgbm90IGJlIHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoZSB0eXBlIGNoZWNrcyB1c2VkIGludGVybmFsbHksXG4vLyAgIGZvciBzZWN1cml0eSByZWFzb25zLCBzbyB0aGVzZSBmdW5jdGlvbnMgYXJlIG5vdCBleHBvc2VkIGluIHRoZSBleHByZXNzaW9uXG4vLyAgIHBhcnNlci5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCaWdOdW1iZXIoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0JpZ051bWJlciA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBsZXgoeCkge1xuICByZXR1cm4geCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpLmlzQ29tcGxleCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyYWN0aW9uKHgpIHtcbiAgcmV0dXJuIHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih4KS5pc0ZyYWN0aW9uID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5pdCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzVW5pdCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0IGZ1bmN0aW9uIGlzTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIGEgY29sbGVjdGlvbjogYW4gQXJyYXkgb3IgTWF0cml4XG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm5zIHtib29sZWFufSBpc0NvbGxlY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xsZWN0aW9uKHgpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgfHwgaXNNYXRyaXgoeCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEZW5zZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNEZW5zZU1hdHJpeCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYXJzZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNTcGFyc2VNYXRyaXggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZSh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzUmFuZ2UgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzSW5kZXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZXN1bHRTZXQoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc1Jlc3VsdFNldCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0hlbHAoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0hlbHAgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIERhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gIHJldHVybiAhISh4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4LmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgIWlzQ29tcGxleCh4KSAmJiAhaXNGcmFjdGlvbih4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsKHgpIHtcbiAgcmV0dXJuIHggPT09IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoeCkge1xuICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzb3JOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0FjY2Vzc29yTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheU5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQXJyYXlOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Fzc2lnbm1lbnROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Fzc2lnbm1lbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNCbG9ja05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0NvbmRpdGlvbmFsTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdGFudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQ29uc3RhbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbk5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Ob2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNJbmRleE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT2JqZWN0Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYXRvck5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT3BlcmF0b3JOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmVudGhlc2lzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNQYXJlbnRoZXNpc05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmFuZ2VOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1JhbmdlTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTeW1ib2xOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1N5bWJvbE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhaW4oeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0NoYWluID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVPZih4KSB7XG4gIHZhciB0ID0gdHlwZW9mIHg7XG5cbiAgaWYgKHQgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gSmF2YVNjcmlwdCB0eXBlc1xuICAgIGlmICh4ID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSByZXR1cm4gJ0FycmF5JztcbiAgICBpZiAoeCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiAnRGF0ZSc7XG4gICAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiAnUmVnRXhwJzsgLy8gbWF0aC5qcyB0eXBlc1xuXG4gICAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4gJ0JpZ051bWJlcic7XG4gICAgaWYgKGlzQ29tcGxleCh4KSkgcmV0dXJuICdDb21wbGV4JztcbiAgICBpZiAoaXNGcmFjdGlvbih4KSkgcmV0dXJuICdGcmFjdGlvbic7XG4gICAgaWYgKGlzTWF0cml4KHgpKSByZXR1cm4gJ01hdHJpeCc7XG4gICAgaWYgKGlzVW5pdCh4KSkgcmV0dXJuICdVbml0JztcbiAgICBpZiAoaXNJbmRleCh4KSkgcmV0dXJuICdJbmRleCc7XG4gICAgaWYgKGlzUmFuZ2UoeCkpIHJldHVybiAnUmFuZ2UnO1xuICAgIGlmIChpc1Jlc3VsdFNldCh4KSkgcmV0dXJuICdSZXN1bHRTZXQnO1xuICAgIGlmIChpc05vZGUoeCkpIHJldHVybiB4LnR5cGU7XG4gICAgaWYgKGlzQ2hhaW4oeCkpIHJldHVybiAnQ2hhaW4nO1xuICAgIGlmIChpc0hlbHAoeCkpIHJldHVybiAnSGVscCc7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG5cbiAgaWYgKHQgPT09ICdmdW5jdGlvbicpIHJldHVybiAnRnVuY3Rpb24nO1xuICByZXR1cm4gdDsgLy8gY2FuIGJlICdzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nLCAuLi5cbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuLyoqXG4gKiBDbG9uZSBhbiBvYmplY3RcbiAqXG4gKiAgICAgY2xvbmUoeClcbiAqXG4gKiBDYW4gY2xvbmUgYW55IHByaW1pdGl2ZSB0eXBlLCBhcnJheSwgYW5kIG9iamVjdC5cbiAqIElmIHggaGFzIGEgZnVuY3Rpb24gY2xvbmUsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHRvIGNsb25lIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHsqfSB4XG4gKiBAcmV0dXJuIHsqfSBjbG9uZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZSh4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7IC8vIGltbXV0YWJsZSBwcmltaXRpdmUgdHlwZXNcblxuICBpZiAodHlwZSA9PT0gJ251bWJlcicgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nIHx8IHggPT09IG51bGwgfHwgeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHg7XG4gIH0gLy8gdXNlIGNsb25lIGZ1bmN0aW9uIG9mIHRoZSBvYmplY3Qgd2hlbiBhdmFpbGFibGVcblxuXG4gIGlmICh0eXBlb2YgeC5jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB4LmNsb25lKCk7XG4gIH0gLy8gYXJyYXlcblxuXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIHgubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNsb25lKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh4IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIG5ldyBEYXRlKHgudmFsdWVPZigpKTtcbiAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4geDsgLy8gYmlnbnVtYmVycyBhcmUgaW1tdXRhYmxlXG5cbiAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjbG9uZSAnICsgeCk7IC8vIFRPRE86IGNsb25lIGEgUmVnRXhwXG4gIC8vIG9iamVjdFxuXG4gIHJldHVybiBtYXBPYmplY3QoeCwgY2xvbmUpO1xufVxuLyoqXG4gKiBBcHBseSBtYXAgdG8gYWxsIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGggbWFwcGVkIHByb3BlcnRpZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2spIHtcbiAgdmFyIGNsb25lID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkpIHtcbiAgICAgIGNsb25lW2tleV0gPSBjYWxsYmFjayhvYmplY3Rba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb25lO1xufVxuLyoqXG4gKiBFeHRlbmQgb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KGIsIHByb3ApKSB7XG4gICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCBleHRlbmQgYW4gb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXh0ZW5kKGEsIGIpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIEFycmF5cyB0byBkZWVwRXh0ZW5kXG4gIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmQnKTtcbiAgfVxuXG4gIGZvciAodmFyIHByb3AgaW4gYikge1xuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgcHJvcCBub3QgYmVpbmcgaW4gT2JqZWN0LnByb3RvdHlwZSBvciBGdW5jdGlvbi5wcm90b3R5cGVcbiAgICAvLyB0byBwcmV2ZW50IHBvbGx1dGluZyBmb3IgZXhhbXBsZSBPYmplY3QuX19wcm90b19fLlxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShiLCBwcm9wKSAmJiAhKHByb3AgaW4gT2JqZWN0LnByb3RvdHlwZSkgJiYgIShwcm9wIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIGlmIChiW3Byb3BdICYmIGJbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICBpZiAoYVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYVtwcm9wXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFbcHJvcF0gJiYgYVtwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgZGVlcEV4dGVuZChhW3Byb3BdLCBiW3Byb3BdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJbcHJvcF0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCB0ZXN0IGVxdWFsaXR5IG9mIGFsbCBmaWVsZHMgaW4gdHdvIHBhaXJzIG9mIGFycmF5cyBvciBvYmplY3RzLlxuICogQ29tcGFyZXMgdmFsdWVzIGFuZCBmdW5jdGlvbnMgc3RyaWN0bHkgKGllLiAyIGlzIG5vdCB0aGUgc2FtZSBhcyAnMicpLlxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYVxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhLCBiKSB7XG4gIHZhciBwcm9wLCBpLCBsZW47XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGIpIHx8ICEoYiBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYSkge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBiKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYikge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBhKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmbGF0dGVuIGEgbmVzdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXN0ZWRPYmplY3RcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgZmxhdHRlbmVkIG9iamVjdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QpIHtcbiAgdmFyIGZsYXR0ZW5lZE9iamVjdCA9IHt9O1xuXG4gIF9kZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QsIGZsYXR0ZW5lZE9iamVjdCk7XG5cbiAgcmV0dXJuIGZsYXR0ZW5lZE9iamVjdDtcbn0gLy8gaGVscGVyIGZ1bmN0aW9uIHVzZWQgYnkgZGVlcEZsYXR0ZW5cblxuZnVuY3Rpb24gX2RlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCwgZmxhdHRlbmVkT2JqZWN0KSB7XG4gIGZvciAodmFyIHByb3AgaW4gbmVzdGVkT2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KG5lc3RlZE9iamVjdCwgcHJvcCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG5lc3RlZE9iamVjdFtwcm9wXTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgX2RlZXBGbGF0dGVuKHZhbHVlLCBmbGF0dGVuZWRPYmplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxhdHRlbmVkT2JqZWN0W3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBzdXBwb3J0cyBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgc3VwcG9ydGVkXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gY2FuRGVmaW5lUHJvcGVydHkoKSB7XG4gIC8vIHRlc3QgbmVlZGVkIGZvciBicm9rZW4gSUU4IGltcGxlbWVudGF0aW9uXG4gIHRyeSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7fVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBdHRhY2ggYSBsYXp5IGxvYWRpbmcgcHJvcGVydHkgdG8gYSBjb25zdGFudC5cbiAqIFRoZSBnaXZlbiBmdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHByb3BlcnR5IGlzIGZpcnN0IHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0ICAgICAgICAgT2JqZWN0IHdoZXJlIHRvIGFkZCB0aGUgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wICAgICAgICAgICBQcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB2YWx1ZVJlc29sdmVyIEZ1bmN0aW9uIHJldHVybmluZyB0aGUgcHJvcGVydHkgdmFsdWUuIENhbGxlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhvdXQgYXJndW1lbnRzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5KG9iamVjdCwgcHJvcCwgdmFsdWVSZXNvbHZlcikge1xuICB2YXIgX3VuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gIHZhciBfdmFsdWU7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcCwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKF91bmluaXRpYWxpemVkKSB7XG4gICAgICAgIF92YWx1ZSA9IHZhbHVlUmVzb2x2ZXIoKTtcbiAgICAgICAgX3VuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgIF91bmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9KTtcbn1cbi8qKlxuICogVHJhdmVyc2UgYSBwYXRoIGludG8gYW4gb2JqZWN0LlxuICogV2hlbiBhIG5hbWVzcGFjZSBpcyBtaXNzaW5nLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGggICBBIGRvdCBzZXBhcmF0ZWQgc3RyaW5nIGxpa2UgJ25hbWUuc3BhY2UnXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBwYXRoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlKG9iamVjdCwgcGF0aCkge1xuICBpZiAocGF0aCAmJiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHJhdmVyc2Uob2JqZWN0LCBwYXRoLnNwbGl0KCcuJykpO1xuICB9XG5cbiAgdmFyIG9iaiA9IG9iamVjdDtcblxuICBpZiAocGF0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG5cbiAgICAgIGlmICghKGtleSBpbiBvYmopKSB7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICB9XG5cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG4vKipcbiAqIEEgc2FmZSBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIGEgZmFjdG9yeSBoYXMgZmllbGRzOlxuICpcbiAqIC0gZmFjdG9yeTogZnVuY3Rpb24gKHR5cGU6IE9iamVjdCwgY29uZmlnOiBPYmplY3QsIGxvYWQ6IGZ1bmN0aW9uLCB0eXBlZDogZnVuY3Rpb24gWywgbWF0aDogT2JqZWN0XSkgICAocmVxdWlyZWQpXG4gKiAtIG5hbWU6IHN0cmluZyAob3B0aW9uYWwpXG4gKiAtIHBhdGg6IHN0cmluZyAgICBBIGRvdCBzZXBhcmF0ZWQgcGF0aCAob3B0aW9uYWwpXG4gKiAtIG1hdGg6IGJvb2xlYW4gICBJZiB0cnVlIChmYWxzZSBieSBkZWZhdWx0KSwgdGhlIG1hdGggbmFtZXNwYWNlIGlzIHBhc3NlZFxuICogICAgICAgICAgICAgICAgICAgYXMgZmlmdGggYXJndW1lbnQgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGVnYWN5RmFjdG9yeShvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LmZhY3RvcnkgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIEdldCBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGlzUGF0aChwYXRoKSkge1xuICAgICAgcmV0dXJuIGdldChvYmplY3QsIHBhdGguc3BsaXQoJy4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmplY3RbcGF0aF07XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoaWxkID0gb2JqZWN0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuICAgIGNoaWxkID0gY2hpbGQgPyBjaGlsZFtrZXldIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuLyoqXG4gKiBTZXQgYSBuZXN0ZWQgcHJvcGVydHkgaW4gYW4gb2JqZWN0XG4gKiBNdXRhdGVzIHRoZSBvYmplY3QgaXRzZWxmXG4gKiBJZiB0aGUgcGF0aCBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGhcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaXNQYXRoKHBhdGgpKSB7XG4gICAgICByZXR1cm4gc2V0KG9iamVjdCwgcGF0aC5zcGxpdCgnLicpLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdFtwYXRoXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGQgPSBvYmplY3Q7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuXG4gICAgaWYgKGNoaWxkW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2hpbGRba2V5XSA9IHt9O1xuICAgIH1cblxuICAgIGNoaWxkID0gY2hpbGRba2V5XTtcbiAgfVxuXG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbGFzdEtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICBjaGlsZFtsYXN0S2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB2YWx1ZSB0byB0cmFuc2Zvcm0gYSB2YWx1ZSB3aGVuIHBpY2tpbmcgaXRcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmplY3QsIHByb3BlcnRpZXMsIHRyYW5zZm9ybSkge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IGdldChvYmplY3QsIGtleSk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0KGNvcHksIGtleSwgdHJhbnNmb3JtID8gdHJhbnNmb3JtKHZhbHVlLCBrZXkpIDogdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuLyoqXG4gKiBTaGFsbG93IHZlcnNpb24gb2YgcGljaywgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXNcbiAqIGJ1dCBub3QgZm9yIG5lc3RlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tTaGFsbG93KG9iamVjdCwgcHJvcGVydGllcykge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvcHlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGtleSA9PiBvYmplY3Rba2V5XSk7XG59IC8vIGhlbHBlciBmdW5jdGlvbiB0byB0ZXN0IHdoZXRoZXIgYSBzdHJpbmcgY29udGFpbnMgYSBwYXRoIGxpa2UgJ3VzZXIubmFtZSdcblxuZnVuY3Rpb24gaXNQYXRoKHN0cikge1xuICByZXR1cm4gc3RyLmluZGV4T2YoJy4nKSAhPT0gLTE7XG59IiwiLyoqXG4gKiB0eXBlZC1mdW5jdGlvblxuICpcbiAqIFR5cGUgY2hlY2tpbmcgZm9yIEphdmFTY3JpcHQgZnVuY3Rpb25zXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvblxuICovXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gT2xkTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBPbGROb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC50eXBlZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiAgZnVuY3Rpb24gb2sgKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90T2sgKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZGVmICgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgcGFyYW1zOiBQYXJhbVtdLFxuICAgKiAgIGZuOiBmdW5jdGlvblxuICAgKiB9fSBTaWduYXR1cmVcbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICB0eXBlczogVHlwZVtdLFxuICAgKiAgIHJlc3RQYXJhbTogYm9vbGVhblxuICAgKiB9fSBQYXJhbVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0eXBlSW5kZXg6IG51bWJlcixcbiAgICogICB0ZXN0OiBmdW5jdGlvbixcbiAgICogICBjb252ZXJzaW9uPzogQ29udmVyc2lvbkRlZixcbiAgICogICBjb252ZXJzaW9uSW5kZXg6IG51bWJlcixcbiAgICogfX0gVHlwZVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIGZyb206IHN0cmluZyxcbiAgICogICB0bzogc3RyaW5nLFxuICAgKiAgIGNvbnZlcnQ6IGZ1bmN0aW9uICgqKSA6ICpcbiAgICogfX0gQ29udmVyc2lvbkRlZlxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0ZXN0OiBmdW5jdGlvbigqKSA6IGJvb2xlYW5cbiAgICogfX0gVHlwZURlZlxuICAgKi9cblxuICAvLyBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgZnVuY3Rpb24gY3JlYXRlICgpIHtcbiAgICAvLyBkYXRhIHR5cGUgdGVzdHNcbiAgICB2YXIgX3R5cGVzID0gW1xuICAgICAgeyBuYW1lOiAnbnVtYmVyJywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJyB9IH0sXG4gICAgICB7IG5hbWU6ICdzdHJpbmcnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnIH0gfSxcbiAgICAgIHsgbmFtZTogJ2Jvb2xlYW4nLCAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nIH0gfSxcbiAgICAgIHsgbmFtZTogJ0Z1bmN0aW9uJywgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJ30gfSxcbiAgICAgIHsgbmFtZTogJ0FycmF5JywgICAgIHRlc3Q6IEFycmF5LmlzQXJyYXkgfSxcbiAgICAgIHsgbmFtZTogJ0RhdGUnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgRGF0ZSB9IH0sXG4gICAgICB7IG5hbWU6ICdSZWdFeHAnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cCB9IH0sXG4gICAgICB7IG5hbWU6ICdPYmplY3QnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0XG4gICAgICB9fSxcbiAgICAgIHsgbmFtZTogJ251bGwnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSBudWxsIH0gfSxcbiAgICAgIHsgbmFtZTogJ3VuZGVmaW5lZCcsIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSB1bmRlZmluZWQgfSB9XG4gICAgXTtcblxuICAgIHZhciBhbnlUeXBlID0ge1xuICAgICAgbmFtZTogJ2FueScsXG4gICAgICB0ZXN0OiBva1xuICAgIH1cblxuICAgIC8vIHR5cGVzIHdoaWNoIG5lZWQgdG8gYmUgaWdub3JlZFxuICAgIHZhciBfaWdub3JlID0gW107XG5cbiAgICAvLyB0eXBlIGNvbnZlcnNpb25zXG4gICAgdmFyIF9jb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBvYmplY3QsIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHR5cGVkIGZ1bmN0aW9uIGF0IHRoZSBlbmRcbiAgICB2YXIgdHlwZWQgPSB7XG4gICAgICB0eXBlczogX3R5cGVzLFxuICAgICAgY29udmVyc2lvbnM6IF9jb252ZXJzaW9ucyxcbiAgICAgIGlnbm9yZTogX2lnbm9yZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSB0ZXN0IGZ1bmN0aW9uIGZvciBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU5hbWVcbiAgICAgKiBAcmV0dXJuIHtUeXBlRGVmfSBSZXR1cm5zIHRoZSB0eXBlIGRlZmluaXRpb24gd2hlbiBmb3VuZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgVGhyb3dzIGEgVHlwZUVycm9yIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlQnlOYW1lICh0eXBlTmFtZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gdHlwZU5hbWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVOYW1lID09PSAnYW55JykgeyAvLyBzcGVjaWFsIGJha2VkLWluIGNhc2UgJ2FueSdcbiAgICAgICAgcmV0dXJuIGFueVR5cGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBoaW50ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gdHlwZSBcIicgKyB0eXBlTmFtZSArICdcIicgK1xuICAgICAgICAgIChoaW50ID8gKCcuIERpZCB5b3UgbWVhbiBcIicgKyBoaW50Lm5hbWUgKyAnXCI/JykgOiAnJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGluZGV4IG9mIGEgdHlwZSBkZWZpbml0aW9uLiBIYW5kbGVzIHNwZWNpYWwgY2FzZSAnYW55J1xuICAgICAqIEBwYXJhbSB7VHlwZURlZn0gdHlwZVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVHlwZUluZGV4KHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBhbnlUeXBlKSB7XG4gICAgICAgIHJldHVybiA5OTk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlZC50eXBlcy5pbmRleE9mKHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSB0eXBlIHRoYXQgbWF0Y2hlcyBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGZpcnN0IHR5cGUgZm9yIHdoaWNoXG4gICAgICogICAgICAgICAgICAgICAgICB0aGUgdHlwZSB0ZXN0IG1hdGNoZXMgdGhlIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlTmFtZSh2YWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkudGVzdCh2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBoYXMgdW5rbm93biB0eXBlLiBWYWx1ZTogJyArIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc3BlY2lmaWMgc2lnbmF0dXJlIGZyb20gYSAoY29tcG9zZWQpIHR5cGVkIGZ1bmN0aW9uLCBmb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgdHlwZWQuZmluZChmbiwgWydudW1iZXInLCAnc3RyaW5nJ10pXG4gICAgICogICB0eXBlZC5maW5kKGZuLCAnbnVtYmVyLCBzdHJpbmcnKVxuICAgICAqXG4gICAgICogRnVuY3Rpb24gZmluZCBvbmx5IG9ubHkgd29ya3MgZm9yIGV4YWN0IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBBIHR5cGVkLWZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gc2lnbmF0dXJlICAgU2lnbmF0dXJlIHRvIGJlIGZvdW5kLCBjYW4gYmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbiBhcnJheSBvciBhIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259ICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbWF0Y2hpbmcgc2lnbmF0dXJlLCBvclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93cyBhbiBlcnJvciB3aGVuIG5vIHNpZ25hdHVyZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQgKGZuLCBzaWduYXR1cmUpIHtcbiAgICAgIGlmICghZm4uc2lnbmF0dXJlcykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiBpcyBubyB0eXBlZC1mdW5jdGlvbicpO1xuICAgICAgfVxuXG4gICAgICAvLyBub3JtYWxpemUgaW5wdXRcbiAgICAgIHZhciBhcnI7XG4gICAgICBpZiAodHlwZW9mIHNpZ25hdHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYXJyID0gc2lnbmF0dXJlLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyW2ldID0gYXJyW2ldLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzaWduYXR1cmUpKSB7XG4gICAgICAgIGFyciA9IHNpZ25hdHVyZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgYXJyYXkgb3IgYSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHIgPSBhcnIuam9pbignLCcpO1xuXG4gICAgICAvLyBmaW5kIGFuIGV4YWN0IG1hdGNoXG4gICAgICB2YXIgbWF0Y2ggPSBmbi5zaWduYXR1cmVzW3N0cl07XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBleHRlbmQgZmluZCB0byBtYXRjaCBub24tZXhhY3Qgc2lnbmF0dXJlc1xuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTaWduYXR1cmUgbm90IGZvdW5kIChzaWduYXR1cmU6ICcgKyAoZm4ubmFtZSB8fCAndW5uYW1lZCcpICsgJygnICsgYXJyLmpvaW4oJywgJykgKyAnKSknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZ2l2ZW4gdmFsdWUgdG8gYW5vdGhlciBkYXRhIHR5cGUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydCAodmFsdWUsIHR5cGUpIHtcbiAgICAgIHZhciBmcm9tID0gZmluZFR5cGVOYW1lKHZhbHVlKTtcblxuICAgICAgLy8gY2hlY2sgY29udmVyc2lvbiBpcyBuZWVkZWRcbiAgICAgIGlmICh0eXBlID09PSBmcm9tKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC5jb252ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY29udmVyc2lvbiA9IHR5cGVkLmNvbnZlcnNpb25zW2ldO1xuICAgICAgICBpZiAoY29udmVyc2lvbi5mcm9tID09PSBmcm9tICYmIGNvbnZlcnNpb24udG8gPT09IHR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gY29udmVyc2lvbi5jb252ZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGZyb20gJyArIGZyb20gKyAnIHRvICcgKyB0eXBlKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU3RyaW5naWZ5IHBhcmFtZXRlcnMgaW4gYSBub3JtYWxpemVkIHdheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeVBhcmFtcyAocGFyYW1zKSB7XG4gICAgICByZXR1cm4gcGFyYW1zXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIHZhciB0eXBlTmFtZXMgPSBwYXJhbS50eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gKHBhcmFtLnJlc3RQYXJhbSA/ICcuLi4nIDogJycpICsgdHlwZU5hbWVzLmpvaW4oJ3wnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSBwYXJhbWV0ZXIsIGxpa2UgXCIuLi5udW1iZXIgfCBib29sZWFuXCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1cbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtQYXJhbX0gcGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZVBhcmFtIChwYXJhbSwgY29udmVyc2lvbnMpIHtcbiAgICAgIHZhciByZXN0UGFyYW0gPSBwYXJhbS5pbmRleE9mKCcuLi4nKSA9PT0gMDtcbiAgICAgIHZhciB0eXBlcyA9ICghcmVzdFBhcmFtKVxuICAgICAgICAgID8gcGFyYW1cbiAgICAgICAgICA6IChwYXJhbS5sZW5ndGggPiAzKVxuICAgICAgICAgICAgICA/IHBhcmFtLnNsaWNlKDMpXG4gICAgICAgICAgICAgIDogJ2FueSc7XG5cbiAgICAgIHZhciB0eXBlTmFtZXMgPSB0eXBlcy5zcGxpdCgnfCcpLm1hcCh0cmltKVxuICAgICAgICAgIC5maWx0ZXIobm90RW1wdHkpXG4gICAgICAgICAgLmZpbHRlcihub3RJZ25vcmUpO1xuXG4gICAgICB2YXIgbWF0Y2hpbmdDb252ZXJzaW9ucyA9IGZpbHRlckNvbnZlcnNpb25zKGNvbnZlcnNpb25zLCB0eXBlTmFtZXMpO1xuXG4gICAgICB2YXIgZXhhY3RUeXBlcyA9IHR5cGVOYW1lcy5tYXAoZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUodHlwZU5hbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogdHlwZU5hbWUsXG4gICAgICAgICAgdHlwZUluZGV4OiBmaW5kVHlwZUluZGV4KHR5cGUpLFxuICAgICAgICAgIHRlc3Q6IHR5cGUudGVzdCxcbiAgICAgICAgICBjb252ZXJzaW9uOiBudWxsLFxuICAgICAgICAgIGNvbnZlcnNpb25JbmRleDogLTFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29udmVydGlibGVUeXBlcyA9IG1hdGNoaW5nQ29udmVyc2lvbnMubWFwKGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUoY29udmVyc2lvbi5mcm9tKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGNvbnZlcnNpb24uZnJvbSxcbiAgICAgICAgICB0eXBlSW5kZXg6IGZpbmRUeXBlSW5kZXgodHlwZSksXG4gICAgICAgICAgdGVzdDogdHlwZS50ZXN0LFxuICAgICAgICAgIGNvbnZlcnNpb246IGNvbnZlcnNpb24sXG4gICAgICAgICAgY29udmVyc2lvbkluZGV4OiBjb252ZXJzaW9ucy5pbmRleE9mKGNvbnZlcnNpb24pXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZXM6IGV4YWN0VHlwZXMuY29uY2F0KGNvbnZlcnRpYmxlVHlwZXMpLFxuICAgICAgICByZXN0UGFyYW06IHJlc3RQYXJhbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHNpZ25hdHVyZSB3aXRoIGNvbW1hIHNlcGFyYXRlZCBwYXJhbWV0ZXJzLFxuICAgICAqIGxpa2UgXCJudW1iZXIgfCBib29sZWFuLCAuLi5zdHJpbmdcIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge1NpZ25hdHVyZSB8IG51bGx9IHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlU2lnbmF0dXJlIChzaWduYXR1cmUsIGZuLCBjb252ZXJzaW9ucykge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgICBpZiAoc2lnbmF0dXJlLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgcGFyYW1zID0gc2lnbmF0dXJlXG4gICAgICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAgICAgLm1hcCh0cmltKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0sIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICB2YXIgcGFyc2VkUGFyYW0gPSBwYXJzZVBhcmFtKHBhcmFtLCBjb252ZXJzaW9ucyk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnNlZFBhcmFtLnJlc3RQYXJhbSAmJiAoaW5kZXggIT09IGFycmF5Lmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIHJlc3QgcGFyYW1ldGVyIFwiJyArIHBhcmFtICsgJ1wiOiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29ubHkgYWxsb3dlZCBmb3IgdGhlIGxhc3QgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUGFyYW07XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc29tZShpc0ludmFsaWRQYXJhbSkpIHtcbiAgICAgICAgLy8gaW52YWxpZCBzaWduYXR1cmU6IGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIgaGFzIG5vIHR5cGVzXG4gICAgICAgIC8vICh0aGV5IG1heSBoYXZlIGJlZW4gZmlsdGVyZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgZm46IGZuXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHNldCBvZiBwYXJhbXMgY29udGFpbnMgYSByZXN0UGFyYW1cbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBsYXN0IHBhcmFtZXRlciBpcyBhIHJlc3RQYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1Jlc3RQYXJhbShwYXJhbXMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGxhc3QocGFyYW1zKVxuICAgICAgcmV0dXJuIHBhcmFtID8gcGFyYW0ucmVzdFBhcmFtIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgcGFyYW1ldGVyIGNvbnRhaW5zIGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhdCBsZWFzdCBvbmUgb2YgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjb250YWlucyBhIGNvbnZlcnNpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29udmVyc2lvbnMocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5zb21lKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0eXBlLmNvbnZlcnNpb24gIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHR5cGUgdGVzdCBmb3IgYSBzaW5nbGUgcGFyYW1ldGVyLCB3aGljaCBjYW4gaGF2ZSBvbmUgb3IgbXVsdGlwbGVcbiAgICAgKiB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKHg6ICopIDogYm9vbGVhbn0gUmV0dXJucyBhIHRlc3QgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdChwYXJhbSkge1xuICAgICAgaWYgKCFwYXJhbSB8fCBwYXJhbS50eXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gb2s7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRUeXBlQnlOYW1lKHBhcmFtLnR5cGVzWzBdLm5hbWUpLnRlc3Q7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdmFyIHRlc3QwID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMF0ubmFtZSkudGVzdDtcbiAgICAgICAgdmFyIHRlc3QxID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMV0ubmFtZSkudGVzdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9yKHgpIHtcbiAgICAgICAgICByZXR1cm4gdGVzdDAoeCkgfHwgdGVzdDEoeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgeyAvLyBwYXJhbS50eXBlcy5sZW5ndGggPiAyXG4gICAgICAgIHZhciB0ZXN0cyA9IHBhcmFtLnR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgIHJldHVybiBmaW5kVHlwZUJ5TmFtZSh0eXBlLm5hbWUpLnRlc3Q7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvcih4KSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRlc3RzW2ldKHgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXN0IGZvciBhbGwgcGFyYW1ldGVycyBvZiBhIHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oYXJnczogQXJyYXk8Kj4pIDogYm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdHMocGFyYW1zKSB7XG4gICAgICB2YXIgdGVzdHMsIHRlc3QwLCB0ZXN0MTtcblxuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIC8vIHZhcmlhYmxlIGFyZ3VtZW50cyBsaWtlICcuLi5udW1iZXInXG4gICAgICAgIHRlc3RzID0gaW5pdGlhbChwYXJhbXMpLm1hcChjb21waWxlVGVzdCk7XG4gICAgICAgIHZhciB2YXJJbmRleCA9IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgdmFyIGxhc3RUZXN0ID0gY29tcGlsZVRlc3QobGFzdChwYXJhbXMpKTtcbiAgICAgICAgdmFyIHRlc3RSZXN0UGFyYW0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSB2YXJJbmRleDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghbGFzdFRlc3QoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0ZXN0c1tpXShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZXN0UmVzdFBhcmFtKGFyZ3MpICYmIChhcmdzLmxlbmd0aCA+PSB2YXJJbmRleCArIDEpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIG5vIHZhcmlhYmxlIGFyZ3VtZW50c1xuICAgICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdDAoYXJnc1swXSkgJiYgYXJncy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHRlc3QxID0gY29tcGlsZVRlc3QocGFyYW1zWzFdKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRlc3QwKGFyZ3NbMF0pICYmIHRlc3QxKGFyZ3NbMV0pICYmIGFyZ3MubGVuZ3RoID09PSAyO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICAgICAgdGVzdHMgPSBwYXJhbXMubWFwKGNvbXBpbGVUZXN0KTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoIXRlc3RzW2ldKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcGFyYW1ldGVyIGF0IGEgc3BlY2lmaWMgaW5kZXggb2YgYSBzaWduYXR1cmUuXG4gICAgICogSGFuZGxlcyByZXN0IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm4ge1BhcmFtIHwgbnVsbH0gUmV0dXJucyB0aGUgbWF0Y2hpbmcgcGFyYW1ldGVyIHdoZW4gZm91bmQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4IDwgc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGhcbiAgICAgICAgICA/IHNpZ25hdHVyZS5wYXJhbXNbaW5kZXhdXG4gICAgICAgICAgOiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcylcbiAgICAgICAgICAgICAgPyBsYXN0KHNpZ25hdHVyZS5wYXJhbXMpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdHlwZSBuYW1lcyBvZiBhIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4Y2x1ZGVDb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBSZXR1cm5zIGFuIGFycmF5IHdpdGggdHlwZSBuYW1lc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEV4cGVjdGVkVHlwZU5hbWVzIChzaWduYXR1cmUsIGluZGV4LCBleGNsdWRlQ29udmVyc2lvbnMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KTtcbiAgICAgIHZhciB0eXBlcyA9IHBhcmFtXG4gICAgICAgICAgPyBleGNsdWRlQ29udmVyc2lvbnNcbiAgICAgICAgICAgICAgICAgID8gcGFyYW0udHlwZXMuZmlsdGVyKGlzRXhhY3RUeXBlKVxuICAgICAgICAgICAgICAgICAgOiBwYXJhbS50eXBlc1xuICAgICAgICAgIDogW107XG5cbiAgICAgIHJldHVybiB0eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgYSB0eXBlXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0eXBlIG5hbWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgaXMgYW4gZXhhY3QgdHlwZSBvciBjb252ZXJzaW9uXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0V4YWN0VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5jb252ZXJzaW9uID09PSBudWxsIHx8IHR5cGUuY29udmVyc2lvbiA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgZXJyb3IgbWVzc2FnZXM6IGNyZWF0ZSBhbiBhcnJheSB3aXRoXG4gICAgICogYWxsIGF2YWlsYWJsZSB0eXBlcyBvbiBhIHNwZWNpZmljIGFyZ3VtZW50IGluZGV4LlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gUmV0dXJucyBhbiBhcnJheSB3aXRoIGF2YWlsYWJsZSB0eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRXhwZWN0ZWRQYXJhbXMoc2lnbmF0dXJlcywgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlTmFtZXMgPSB1bmlxKGZsYXRNYXAoc2lnbmF0dXJlcywgZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlLCBpbmRleCwgZmFsc2UpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gKHR5cGVOYW1lcy5pbmRleE9mKCdhbnknKSAhPT0gLTEpID8gWydhbnknXSA6IHR5cGVOYW1lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2FycmF5LjwqPn0gYXJncyAgICAgICAgICBUaGUgYWN0dWFsIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlcyAgQSBsaXN0IHdpdGggYXZhaWxhYmxlIHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtUeXBlRXJyb3J9IFJldHVybnMgYSB0eXBlIGVycm9yIHdpdGggYWRkaXRpb25hbCBkYXRhXG4gICAgICogICAgICAgICAgICAgICAgICAgICBhdHRhY2hlZCB0byBpdCBpbiB0aGUgcHJvcGVydHkgYGRhdGFgXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSwgYXJncywgc2lnbmF0dXJlcykge1xuICAgICAgdmFyIGVyciwgZXhwZWN0ZWQ7XG4gICAgICB2YXIgX25hbWUgPSBuYW1lIHx8ICd1bm5hbWVkJztcblxuICAgICAgLy8gdGVzdCBmb3Igd3JvbmcgdHlwZSBhdCBzb21lIGluZGV4XG4gICAgICB2YXIgbWF0Y2hpbmdTaWduYXR1cmVzID0gc2lnbmF0dXJlcztcbiAgICAgIHZhciBpbmRleDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFyZ3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0TWF0Y2hpbmdEZWZzID0gbWF0Y2hpbmdTaWduYXR1cmVzLmZpbHRlcihmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgdmFyIHRlc3QgPSBjb21waWxlVGVzdChnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkpO1xuICAgICAgICAgIHJldHVybiAoaW5kZXggPCBzaWduYXR1cmUucGFyYW1zLmxlbmd0aCB8fCBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykpICYmXG4gICAgICAgICAgICAgIHRlc3QoYXJnc1tpbmRleF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobmV4dE1hdGNoaW5nRGVmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBubyBtYXRjaGluZyBzaWduYXR1cmVzIGFueW1vcmUsIHRocm93IGVycm9yIFwid3JvbmcgdHlwZVwiXG4gICAgICAgICAgZXhwZWN0ZWQgPSBtZXJnZUV4cGVjdGVkUGFyYW1zKG1hdGNoaW5nU2lnbmF0dXJlcywgaW5kZXgpO1xuICAgICAgICAgIGlmIChleHBlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsVHlwZSA9IGZpbmRUeXBlTmFtZShhcmdzW2luZGV4XSk7XG5cbiAgICAgICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgZXhwZWN0ZWQuam9pbignIG9yICcpICtcbiAgICAgICAgICAgICAgICAnLCBhY3R1YWw6ICcgKyBhY3R1YWxUeXBlICsgJywgaW5kZXg6ICcgKyBpbmRleCArICcpJyk7XG4gICAgICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd3cm9uZ1R5cGUnLFxuICAgICAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUeXBlLFxuICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hdGNoaW5nU2lnbmF0dXJlcyA9IG5leHRNYXRjaGluZ0RlZnM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdGVzdCBmb3IgdG9vIGZldyBhcmd1bWVudHNcbiAgICAgIHZhciBsZW5ndGhzID0gbWF0Y2hpbmdTaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykgPyBJbmZpbml0eSA6IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCBNYXRoLm1pbi5hcHBseShudWxsLCBsZW5ndGhzKSkge1xuICAgICAgICBleHBlY3RlZCA9IG1lcmdlRXhwZWN0ZWRQYXJhbXMobWF0Y2hpbmdTaWduYXR1cmVzLCBpbmRleCk7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBmZXcgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAnIChleHBlY3RlZDogJyArIGV4cGVjdGVkLmpvaW4oJyBvciAnKSArXG4gICAgICAgICAgICAnLCBpbmRleDogJyArIGFyZ3MubGVuZ3RoICsgJyknKTtcbiAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0b29GZXdBcmdzJyxcbiAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgaW5kZXg6IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIC8vIHRlc3QgZm9yIHRvbyBtYW55IGFyZ3VtZW50c1xuICAgICAgdmFyIG1heExlbmd0aCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGxlbmd0aHMpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBtYXhMZW5ndGggKyAnLCBhY3R1YWw6ICcgKyBhcmdzLmxlbmd0aCArICcpJyk7XG4gICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgIGNhdGVnb3J5OiAndG9vTWFueUFyZ3MnLFxuICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICBpbmRleDogYXJncy5sZW5ndGgsXG4gICAgICAgICAgZXhwZWN0ZWRMZW5ndGg6IG1heExlbmd0aFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBvZiB0eXBlIFwiJyArIGFyZ3Muam9pbignLCAnKSArXG4gICAgICAgICAgJ1wiIGRvIG5vdCBtYXRjaCBhbnkgb2YgdGhlIGRlZmluZWQgc2lnbmF0dXJlcyBvZiBmdW5jdGlvbiAnICsgX25hbWUgKyAnLicpO1xuICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgIGNhdGVnb3J5OiAnbWlzbWF0Y2gnLFxuICAgICAgICBhY3R1YWw6IGFyZ3MubWFwKGZpbmRUeXBlTmFtZSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbG93ZXN0IGluZGV4IG9mIGFsbCBleGFjdCB0eXBlcyBvZiBhIHBhcmFtZXRlciAobm8gY29udmVyc2lvbnMpXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsb3dlc3QgdHlwZSBpbiB0eXBlZC50eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdFR5cGVJbmRleCAocGFyYW0pIHtcbiAgICAgIHZhciBtaW4gPSA5OTk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW0udHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRXhhY3RUeXBlKHBhcmFtLnR5cGVzW2ldKSkge1xuICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcGFyYW0udHlwZXNbaV0udHlwZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGxvd2VzdCBpbmRleCBvZiB0aGUgY29udmVyc2lvbiBvZiBhbGwgdHlwZXMgb2YgdGhlIHBhcmFtZXRlclxuICAgICAqIGhhdmluZyBhIGNvbnZlcnNpb25cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbG93ZXN0IGluZGV4IG9mIHRoZSBjb252ZXJzaW9ucyBvZiB0aGlzIHR5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXggKHBhcmFtKSB7XG4gICAgICB2YXIgbWluID0gOTk5O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNFeGFjdFR5cGUocGFyYW0udHlwZXNbaV0pKSB7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwYXJhbS50eXBlc1tpXS5jb252ZXJzaW9uSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gcGFyYW1zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0xXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIGEgbmVnYXRpdmUgbnVtYmVyIHdoZW4gcGFyYW0xIG11c3QgZ2V0IGEgbG93ZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgIGluZGV4IHRoYW4gcGFyYW0yLCBhIHBvc2l0aXZlIG51bWJlciB3aGVuIHRoZSBvcHBvc2l0ZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgIG9yIHplcm8gd2hlbiBib3RoIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVQYXJhbXMgKHBhcmFtMSwgcGFyYW0yKSB7XG4gICAgICB2YXIgYztcblxuICAgICAgLy8gY29tcGFyZSBoYXZpbmcgYSByZXN0IHBhcmFtZXRlciBvciBub3RcbiAgICAgIGMgPSBwYXJhbTEucmVzdFBhcmFtIC0gcGFyYW0yLnJlc3RQYXJhbTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIGhhdmluZyBjb252ZXJzaW9ucyBvciBub3RcbiAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhwYXJhbTEpIC0gaGFzQ29udmVyc2lvbnMocGFyYW0yKTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBpbmRleCBvZiB0aGUgdHlwZXNcbiAgICAgIGMgPSBnZXRMb3dlc3RUeXBlSW5kZXgocGFyYW0xKSAtIGdldExvd2VzdFR5cGVJbmRleChwYXJhbTIpO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIGluZGV4IG9mIGFueSBjb252ZXJzaW9uXG4gICAgICByZXR1cm4gZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4KHBhcmFtMSkgLSBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgocGFyYW0yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBzaWduYXR1cmVzXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyBhIG5lZ2F0aXZlIG51bWJlciB3aGVuIHBhcmFtMSBtdXN0IGdldCBhIGxvd2VyXG4gICAgICogICAgICAgICAgICAgICAgICBpbmRleCB0aGFuIHBhcmFtMiwgYSBwb3NpdGl2ZSBudW1iZXIgd2hlbiB0aGUgb3Bwb3NpdGUsXG4gICAgICogICAgICAgICAgICAgICAgICBvciB6ZXJvIHdoZW4gYm90aCBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlU2lnbmF0dXJlcyAoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGxlbiA9IE1hdGgubWluKHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aCwgc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoKTtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGM7XG5cbiAgICAgIC8vIGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgYXQgYWxsIG9yIG5vdFxuICAgICAgYyA9IHNpZ25hdHVyZTEucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpIC0gc2lnbmF0dXJlMi5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucylcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBuZXh0IGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgb25lIGJ5IG9uZVxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUxLnBhcmFtc1tpXSkgLSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUyLnBhcmFtc1tpXSk7XG4gICAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZXMgb2YgdGhlIHBhcmFtcyBvbmUgYnkgb25lXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYyA9IGNvbXBhcmVQYXJhbXMoc2lnbmF0dXJlMS5wYXJhbXNbaV0sIHNpZ25hdHVyZTIucGFyYW1zW2ldKTtcbiAgICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBudW1iZXIgb2YgcGFyYW1zXG4gICAgICByZXR1cm4gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoIC0gc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYXJhbXMgY29udGFpbmluZyBhbGwgdHlwZXMgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIHRoZSBkZWZpbmVkIHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdHlwZU5hbWVzXG4gICAgICogQHJldHVybiB7Q29udmVyc2lvbkRlZltdfSBSZXR1cm5zIHRoZSBjb252ZXJzaW9ucyB0aGF0IGFyZSBhdmFpbGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBldmVyeSB0eXBlIChpZiBhbnkpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyQ29udmVyc2lvbnMoY29udmVyc2lvbnMsIHR5cGVOYW1lcykge1xuICAgICAgdmFyIG1hdGNoZXMgPSB7fTtcblxuICAgICAgY29udmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29udmVyc2lvbikge1xuICAgICAgICBpZiAodHlwZU5hbWVzLmluZGV4T2YoY29udmVyc2lvbi5mcm9tKSA9PT0gLTEgJiZcbiAgICAgICAgICAgIHR5cGVOYW1lcy5pbmRleE9mKGNvbnZlcnNpb24udG8pICE9PSAtMSAmJlxuICAgICAgICAgICAgIW1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSkge1xuICAgICAgICAgIG1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSA9IGNvbnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcykubWFwKGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzW2Zyb21dO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcHJvY2VzcyBhcmd1bWVudHMgYmVmb3JlIGNhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uOlxuICAgICAqIC0gaWYgbmVlZGVkIGNvbnZlcnQgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAtIGluIGNhc2Ugb2YgcmVzdCBwYXJhbWV0ZXJzLCBtb3ZlIHRoZSByZXN0IHBhcmFtZXRlcnMgaW50byBhbiBBcnJheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIHdyYXBwZWQgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlQXJnc1ByZXByb2Nlc3NpbmcocGFyYW1zLCBmbikge1xuICAgICAgdmFyIGZuQ29udmVydCA9IGZuO1xuXG4gICAgICAvLyBUT0RPOiBjYW4gd2UgbWFrZSB0aGlzIHdyYXBwZXIgZnVuY3Rpb24gc21hcnRlci9zaW1wbGVyP1xuXG4gICAgICBpZiAocGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgIHZhciByZXN0UGFyYW0gPSBoYXNSZXN0UGFyYW0ocGFyYW1zKTtcbiAgICAgICAgdmFyIGNvbXBpbGVkQ29udmVyc2lvbnMgPSBwYXJhbXMubWFwKGNvbXBpbGVBcmdDb252ZXJzaW9uKVxuXG4gICAgICAgIGZuQ29udmVydCA9IGZ1bmN0aW9uIGNvbnZlcnRBcmdzKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgdmFyIGxhc3QgPSByZXN0UGFyYW0gPyBhcmd1bWVudHMubGVuZ3RoIC0gMSA6IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBjb21waWxlZENvbnZlcnNpb25zW2ldKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIGFyZ3NbbGFzdF0gPSBhcmd1bWVudHNbbGFzdF0ubWFwKGNvbXBpbGVkQ29udmVyc2lvbnNbbGFzdF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZm5QcmVwcm9jZXNzID0gZm5Db252ZXJ0O1xuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwYXJhbXMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmblByZXByb2Nlc3MgPSBmdW5jdGlvbiBwcmVwcm9jZXNzUmVzdFBhcmFtcyAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZuQ29udmVydC5hcHBseSh0aGlzLFxuICAgICAgICAgICAgICBzbGljZShhcmd1bWVudHMsIDAsIG9mZnNldCkuY29uY2F0KFtzbGljZShhcmd1bWVudHMsIG9mZnNldCldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuUHJlcHJvY2VzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIGNvbnZlcnNpb24gZm9yIGEgcGFyYW1ldGVyIHRvIHRoZSByaWdodCB0eXBlXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbiB0aGF0IHdpbGwgY29udmVydCBhcmd1bWVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcmdDb252ZXJzaW9uKHBhcmFtKSB7XG4gICAgICB2YXIgdGVzdDAsIHRlc3QxLCBjb252ZXJzaW9uMCwgY29udmVyc2lvbjE7XG4gICAgICB2YXIgdGVzdHMgPSBbXTtcbiAgICAgIHZhciBjb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgICBwYXJhbS50eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlLmNvbnZlcnNpb24pIHtcbiAgICAgICAgICB0ZXN0cy5wdXNoKGZpbmRUeXBlQnlOYW1lKHR5cGUuY29udmVyc2lvbi5mcm9tKS50ZXN0KTtcbiAgICAgICAgICBjb252ZXJzaW9ucy5wdXNoKHR5cGUuY29udmVyc2lvbi5jb252ZXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBvcHRpbWl6ZWQgY29udmVyc2lvbiBmdW5jdGlvbnMgZGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YgY29udmVyc2lvbnNcbiAgICAgIHN3aXRjaCAoY29udmVyc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0ZXN0MCA9IHRlc3RzWzBdXG4gICAgICAgICAgY29udmVyc2lvbjAgPSBjb252ZXJzaW9uc1swXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGlmICh0ZXN0MChhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMChhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGVzdDAgPSB0ZXN0c1swXVxuICAgICAgICAgIHRlc3QxID0gdGVzdHNbMV1cbiAgICAgICAgICBjb252ZXJzaW9uMCA9IGNvbnZlcnNpb25zWzBdO1xuICAgICAgICAgIGNvbnZlcnNpb24xID0gY29udmVyc2lvbnNbMV07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBpZiAodGVzdDAoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjAoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRlc3QxKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24xKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb25zW2ldKGFyZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gYXJyYXkgd2l0aCBzaWduYXR1cmVzIGludG8gYSBtYXAgd2l0aCBzaWduYXR1cmVzLFxuICAgICAqIHdoZXJlIHNpZ25hdHVyZXMgd2l0aCB1bmlvbiB0eXBlcyBhcmUgc3BsaXQgaW50byBzZXBhcmF0ZSBzaWduYXR1cmVzXG4gICAgICpcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGVyZSBhcmUgY29uZmxpY3RpbmcgdHlwZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAgUmV0dXJucyBhIG1hcCB3aXRoIHNpZ25hdHVyZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMga2V5IGFuZCB0aGUgb3JpZ2luYWwgZnVuY3Rpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhpcyBzaWduYXR1cmUgYXMgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKSB7XG4gICAgICB2YXIgc2lnbmF0dXJlc01hcCA9IHt9O1xuICAgICAgc2lnbmF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKCFzaWduYXR1cmUucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgICAgc3BsaXRQYXJhbXMoc2lnbmF0dXJlLnBhcmFtcywgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICBzaWduYXR1cmVzTWFwW3N0cmluZ2lmeVBhcmFtcyhwYXJhbXMpXSA9IHNpZ25hdHVyZS5mbjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzaWduYXR1cmVzTWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHBhcmFtcyB3aXRoIHVuaW9uIHR5cGVzIGluIHRvIHNlcGFyYXRlIHBhcmFtcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHNwbGl0UGFyYW1zKFtbJ0FycmF5JywgJ09iamVjdCddLCBbJ3N0cmluZycsICdSZWdFeHAnXSlcbiAgICAgKiAgICAgLy8gcmV0dXJuczpcbiAgICAgKiAgICAgLy8gW1xuICAgICAqICAgICAvLyAgIFsnQXJyYXknLCAnc3RyaW5nJ10sXG4gICAgICogICAgIC8vICAgWydBcnJheScsICdSZWdFeHAnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdzdHJpbmcnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdSZWdFeHAnXVxuICAgICAqICAgICAvLyBdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlQ29udmVyc2lvblR5cGVzXG4gICAgICogQHJldHVybiB7UGFyYW1bXX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdFBhcmFtcyhwYXJhbXMsIGlnbm9yZUNvbnZlcnNpb25UeXBlcykge1xuICAgICAgZnVuY3Rpb24gX3NwbGl0UGFyYW1zKHBhcmFtcywgaW5kZXgsIHR5cGVzKSB7XG4gICAgICAgIGlmIChpbmRleCA8IHBhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbaW5kZXhdXG4gICAgICAgICAgdmFyIGZpbHRlcmVkVHlwZXMgPSBpZ25vcmVDb252ZXJzaW9uVHlwZXNcbiAgICAgICAgICAgICAgPyBwYXJhbS50eXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICAgIDogcGFyYW0udHlwZXM7XG4gICAgICAgICAgdmFyIHR5cGVHcm91cHNcblxuICAgICAgICAgIGlmIChwYXJhbS5yZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IHRoZSB0eXBlcyBvZiBhIHJlc3QgcGFyYW1ldGVyIGluIHR3bzpcbiAgICAgICAgICAgIC8vIG9uZSB3aXRoIG9ubHkgZXhhY3QgdHlwZXMsIGFuZCBvbmUgd2l0aCBleGFjdCB0eXBlcyBhbmQgY29udmVyc2lvbnNcbiAgICAgICAgICAgIHZhciBleGFjdFR5cGVzID0gZmlsdGVyZWRUeXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICB0eXBlR3JvdXBzID0gZXhhY3RUeXBlcy5sZW5ndGggPCBmaWx0ZXJlZFR5cGVzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gW2V4YWN0VHlwZXMsIGZpbHRlcmVkVHlwZXNdXG4gICAgICAgICAgICAgICAgOiBbZmlsdGVyZWRUeXBlc11cblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IGFsbCB0aGUgdHlwZXMgb2YgYSByZWd1bGFyIHBhcmFtZXRlciBpbnRvIG9uZSB0eXBlIHBlciBncm91cFxuICAgICAgICAgICAgdHlwZUdyb3VwcyA9IGZpbHRlcmVkVHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbdHlwZV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVjdXJzZSBvdmVyIHRoZSBncm91cHMgd2l0aCB0eXBlc1xuICAgICAgICAgIHJldHVybiBmbGF0TWFwKHR5cGVHcm91cHMsIGZ1bmN0aW9uICh0eXBlR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3BsaXRQYXJhbXMocGFyYW1zLCBpbmRleCArIDEsIHR5cGVzLmNvbmNhdChbdHlwZUdyb3VwXSkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBwYXJhbWV0ZXJzLiBOb3cgYnVpbGQgYSBuZXcgUGFyYW1cbiAgICAgICAgICB2YXIgc3BsaXR0ZWRQYXJhbXMgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUsIHR5cGVJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZXM6IHR5cGUsXG4gICAgICAgICAgICAgIHJlc3RQYXJhbTogKHR5cGVJbmRleCA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpICYmIGhhc1Jlc3RQYXJhbShwYXJhbXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gW3NwbGl0dGVkUGFyYW1zXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3NwbGl0UGFyYW1zKHBhcmFtcywgMCwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0d28gc2lnbmF0dXJlcyBoYXZlIGEgY29uZmxpY3Rpbmcgc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBzaWduYXR1cmVzIGNvbmZsaWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29uZmxpY3RpbmdQYXJhbXMoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGlpID0gTWF0aC5tYXgoc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoLCBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFyIHR5cGVzTmFtZXMxID0gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlMSwgaSwgdHJ1ZSk7XG4gICAgICAgIHZhciB0eXBlc05hbWVzMiA9IGdldEV4cGVjdGVkVHlwZU5hbWVzKHNpZ25hdHVyZTIsIGksIHRydWUpO1xuXG4gICAgICAgIGlmICghaGFzT3ZlcmxhcCh0eXBlc05hbWVzMSwgdHlwZXNOYW1lczIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW4xID0gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoO1xuICAgICAgdmFyIGxlbjIgPSBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGg7XG4gICAgICB2YXIgcmVzdFBhcmFtMSA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUxLnBhcmFtcyk7XG4gICAgICB2YXIgcmVzdFBhcmFtMiA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUyLnBhcmFtcyk7XG5cbiAgICAgIHJldHVybiByZXN0UGFyYW0xXG4gICAgICAgICAgPyByZXN0UGFyYW0yID8gKGxlbjEgPT09IGxlbjIpIDogKGxlbjIgPj0gbGVuMSlcbiAgICAgICAgICA6IHJlc3RQYXJhbTIgPyAobGVuMSA+PSBsZW4yKSAgOiAobGVuMSA9PT0gbGVuMilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lICAgICAgICAgICAgICAgVGhlIG5hbWUgZm9yIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gc2lnbmF0dXJlc01hcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW4gb2JqZWN0IHdpdGggb25lIG9yXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZSBzaWduYXR1cmVzIGFzIGtleSwgYW5kIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZSBhcyB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gIFJldHVybnMgdGhlIGNyZWF0ZWQgdHlwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc2lnbmF0dXJlc01hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTm8gc2lnbmF0dXJlcyBwcm92aWRlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXJzZSB0aGUgc2lnbmF0dXJlcywgYW5kIGNoZWNrIGZvciBjb25mbGljdHNcbiAgICAgIHZhciBwYXJzZWRTaWduYXR1cmVzID0gW107XG4gICAgICBPYmplY3Qua2V5cyhzaWduYXR1cmVzTWFwKVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2lnbmF0dXJlKHNpZ25hdHVyZSwgc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdLCB0eXBlZC5jb252ZXJzaW9ucyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKG5vdE51bGwpXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHBhcnNlZFNpZ25hdHVyZSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIHBhcmFtZXRlciBjb25mbGljdHMgd2l0aCBhbHJlYWR5IHBhcnNlZCBzaWduYXR1cmVzXG4gICAgICAgICAgICB2YXIgY29uZmxpY3RpbmdTaWduYXR1cmUgPSBmaW5kSW5BcnJheShwYXJzZWRTaWduYXR1cmVzLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFzQ29uZmxpY3RpbmdQYXJhbXMocywgcGFyc2VkU2lnbmF0dXJlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY29uZmxpY3RpbmdTaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29uZmxpY3Rpbmcgc2lnbmF0dXJlcyBcIicgK1xuICAgICAgICAgICAgICAgICAgc3RyaW5naWZ5UGFyYW1zKGNvbmZsaWN0aW5nU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIgYW5kIFwiJyArXG4gICAgICAgICAgICAgICAgICBzdHJpbmdpZnlQYXJhbXMocGFyc2VkU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlZFNpZ25hdHVyZXMucHVzaChwYXJzZWRTaWduYXR1cmUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAvLyBzcGxpdCBhbmQgZmlsdGVyIHRoZSB0eXBlcyBvZiB0aGUgc2lnbmF0dXJlcywgYW5kIHRoZW4gb3JkZXIgdGhlbVxuICAgICAgdmFyIHNpZ25hdHVyZXMgPSBmbGF0TWFwKHBhcnNlZFNpZ25hdHVyZXMsIGZ1bmN0aW9uIChwYXJzZWRTaWduYXR1cmUpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHBhcnNlZFNpZ25hdHVyZSA/IHNwbGl0UGFyYW1zKHBhcnNlZFNpZ25hdHVyZS5wYXJhbXMsIGZhbHNlKSA6IFtdXG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgIGZuOiBwYXJzZWRTaWduYXR1cmUuZm5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pLmZpbHRlcihub3ROdWxsKTtcblxuICAgICAgc2lnbmF0dXJlcy5zb3J0KGNvbXBhcmVTaWduYXR1cmVzKTtcblxuICAgICAgLy8gd2UgY3JlYXRlIGEgaGlnaGx5IG9wdGltaXplZCBjaGVja3MgZm9yIHRoZSBmaXJzdCBjb3VwbGUgb2Ygc2lnbmF0dXJlcyB3aXRoIG1heCAyIGFyZ3VtZW50c1xuICAgICAgdmFyIG9rMCA9IHNpZ25hdHVyZXNbMF0gJiYgc2lnbmF0dXJlc1swXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzBdLnBhcmFtcyk7XG4gICAgICB2YXIgb2sxID0gc2lnbmF0dXJlc1sxXSAmJiBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMV0ucGFyYW1zKTtcbiAgICAgIHZhciBvazIgPSBzaWduYXR1cmVzWzJdICYmIHNpZ25hdHVyZXNbMl0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1syXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMyA9IHNpZ25hdHVyZXNbM10gJiYgc2lnbmF0dXJlc1szXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzNdLnBhcmFtcyk7XG4gICAgICB2YXIgb2s0ID0gc2lnbmF0dXJlc1s0XSAmJiBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbNF0ucGFyYW1zKTtcbiAgICAgIHZhciBvazUgPSBzaWduYXR1cmVzWzVdICYmIHNpZ25hdHVyZXNbNV0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1s1XS5wYXJhbXMpO1xuICAgICAgdmFyIGFsbE9rID0gb2swICYmIG9rMSAmJiBvazIgJiYgb2szICYmIG9rNCAmJiBvazU7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIHRlc3RzXG4gICAgICB2YXIgdGVzdHMgPSBzaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlVGVzdHMoc2lnbmF0dXJlLnBhcmFtcyk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRlc3QwMCA9IG9rMCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QxMCA9IG9rMSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QyMCA9IG9rMiA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMl0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QzMCA9IG9rMyA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbM10ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q0MCA9IG9rNCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q1MCA9IG9rNSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuXG4gICAgICB2YXIgdGVzdDAxID0gb2swID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1swXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDExID0gb2sxID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1sxXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDIxID0gb2syID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1syXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDMxID0gb2szID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1szXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDQxID0gb2s0ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s0XS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDUxID0gb2s1ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s1XS5wYXJhbXNbMV0pIDogbm90T2s7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIGZ1bmN0aW9uc1xuICAgICAgdmFyIGZucyA9IHNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nKHNpZ25hdHVyZS5wYXJhbXMsIHNpZ25hdHVyZS5mbik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGZuMCA9IG9rMCA/IGZuc1swXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMSA9IG9rMSA/IGZuc1sxXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMiA9IG9rMiA/IGZuc1syXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMyA9IG9rMyA/IGZuc1szXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNCA9IG9rNCA/IGZuc1s0XSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNSA9IG9rNSA/IGZuc1s1XSA6IHVuZGVmO1xuXG4gICAgICB2YXIgbGVuMCA9IG9rMCA/IHNpZ25hdHVyZXNbMF0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjEgPSBvazEgPyBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4yID0gb2syID8gc2lnbmF0dXJlc1syXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMyA9IG9rMyA/IHNpZ25hdHVyZXNbM10ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjQgPSBvazQgPyBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW41ID0gb2s1ID8gc2lnbmF0dXJlc1s1XS5wYXJhbXMubGVuZ3RoIDogLTE7XG5cbiAgICAgIC8vIHNpbXBsZSBhbmQgZ2VuZXJpYywgYnV0IGFsc28gc2xvd1xuICAgICAgdmFyIGlTdGFydCA9IGFsbE9rID8gNiA6IDA7XG4gICAgICB2YXIgaUVuZCA9IHNpZ25hdHVyZXMubGVuZ3RoO1xuICAgICAgdmFyIGdlbmVyaWMgPSBmdW5jdGlvbiBnZW5lcmljKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGlTdGFydDsgaSA8IGlFbmQ7IGkrKykge1xuICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm5zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IobmFtZSwgYXJndW1lbnRzLCBzaWduYXR1cmVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgLy8gZmFzdCwgc3BlY2lhbGl6ZWQgdmVyc2lvbi4gRmFsbHMgYmFjayB0byB0aGUgc2xvd2VyLCBnZW5lcmljIG9uZSBpZiBuZWVkZWRcbiAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4wICYmIHRlc3QwMChhcmcwKSAmJiB0ZXN0MDEoYXJnMSkpIHsgcmV0dXJuIGZuMC5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMSAmJiB0ZXN0MTAoYXJnMCkgJiYgdGVzdDExKGFyZzEpKSB7IHJldHVybiBmbjEuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjIgJiYgdGVzdDIwKGFyZzApICYmIHRlc3QyMShhcmcxKSkgeyByZXR1cm4gZm4yLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4zICYmIHRlc3QzMChhcmcwKSAmJiB0ZXN0MzEoYXJnMSkpIHsgcmV0dXJuIGZuMy5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuNCAmJiB0ZXN0NDAoYXJnMCkgJiYgdGVzdDQxKGFyZzEpKSB7IHJldHVybiBmbjQuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjUgJiYgdGVzdDUwKGFyZzApICYmIHRlc3Q1MShhcmcxKSkgeyByZXR1cm4gZm41LmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyaWMuYXBwbHkoZm4sIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBuYW1lIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZTogbmFtZX0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBvbGQgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgT2JqZWN0LmRlZmluZVByb3BlcnR5IGFuZCBzb21lIGRvbid0IHN1cHBvcnQgc2V0dGluZyB0aGUgbmFtZSBwcm9wZXJ0eVxuICAgICAgICAvLyB0aGUgZnVuY3Rpb24gbmFtZSBpcyBub3QgZXNzZW50aWFsIGZvciB0aGUgZnVuY3Rpb25pbmcsIGl0J3MgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLFxuICAgICAgICAvLyBzbyBpdCdzIGZpbmUgdG8gaGF2ZSB1bm5hbWVkIGZ1bmN0aW9ucy5cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIHNpZ25hdHVyZXMgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICBmbi5zaWduYXR1cmVzID0gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKTtcblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgc2hvdWxkIGJlIE5PVCBiZSBpZ25vcmVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVOYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3RJZ25vcmUodHlwZU5hbWUpIHtcbiAgICAgIHJldHVybiB0eXBlZC5pZ25vcmUuaW5kZXhPZih0eXBlTmFtZSkgPT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaW0gYSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBzdHJpbmcgaXMgbm90IGVtcHR5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90RW1wdHkoc3RyKSB7XG4gICAgICByZXR1cm4gISFzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgbm90IHN0cmljdCBlcXVhbCB0byBudWxsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90TnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHBhcmFtZXRlciBoYXMgbm8gdHlwZXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludmFsaWRQYXJhbSAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBidXQgdGhlIGxhc3QgaXRlbXMgb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycikge1xuICAgICAgcmV0dXJuIGFyci5zbGljZSgwLCBhcnIubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBsYXN0IGl0ZW0gb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGljZSBhbiBhcnJheSBvciBmdW5jdGlvbiBBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0ge0FycmF5IHwgQXJndW1lbnRzIHwgSUFyZ3VtZW50c30gYXJyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgc29tZSBpdGVtXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYXJyYXkgY29udGFpbnMgaXRlbSwgZmFsc2UgaWYgbm90LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGFycmF5LCBpdGVtKSB7XG4gICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBhcnJheXMgaGF2ZSBvdmVybGFwcGluZyBpdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGF0IGxlYXN0IG9uZSBpdGVtIGV4aXN0cyBpbiBib3RoIGFycmF5c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc092ZXJsYXAoYXJyYXkxLCBhcnJheTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb250YWlucyhhcnJheTIsIGFycmF5MVtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBpdGVtIGZyb20gYW4gYXJyYXkgZm9yIHdoaWNoIHRlc3QoYXJyW2ldKSByZXR1cm5zIHRydWVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB0ZXN0XG4gICAgICogQHJldHVybiB7KiB8IHVuZGVmaW5lZH0gUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hpbmcgaXRlbVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHVuZGVmaW5lZCB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluQXJyYXkoYXJyLCB0ZXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGVzdChhcnJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGFycltpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdW5pcXVlIGl0ZW1zIG9mIGFuIGFycmF5IHdpdGggc3RyaW5nc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGFyclxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHt9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbnRyaWVzW2FycltpXV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVudHJpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXQgbWFwIHRoZSByZXN1bHQgaW52b2tpbmcgYSBjYWxsYmFjayBmb3IgZXZlcnkgaXRlbSBpbiBhbiBhcnJheS5cbiAgICAgKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9zYW1naWxlcy83NjJlZTMzN2RmZjQ4NjIzZTcyOVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChhcnIsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyLm1hcChjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBmdW5jdGlvbiBuYW1lIGZyb20gYSBzZXQgb2YgdHlwZWQgZnVuY3Rpb25zLFxuICAgICAqIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBuYW1lIG9mIGFsbCBmdW5jdGlvbnMgbWF0Y2ggKGlmIGdpdmVuKVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb25bXX0gZm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmFtZSAoZm5zKSB7XG4gICAgICB2YXIgbmFtZSA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm4gPSBmbnNbaV07XG5cbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgbmFtZXMgYXJlIHRoZSBzYW1lIHdoZW4gZGVmaW5lZFxuICAgICAgICBpZiAoKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgZm4uc2lnbmF0dXJlID09PSAnc3RyaW5nJykgJiYgZm4ubmFtZSAhPT0gJycpIHtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChuYW1lICE9PSBmbi5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGdW5jdGlvbiBuYW1lcyBkbyBub3QgbWF0Y2ggKGV4cGVjdGVkOiAnICsgbmFtZSArICcsIGFjdHVhbDogJyArIGZuLm5hbWUgKyAnKScpO1xuICAgICAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgICAgIGFjdHVhbDogZm4ubmFtZSxcbiAgICAgICAgICAgICAgZXhwZWN0ZWQ6IG5hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIC8vIGV4dHJhY3QgYW5kIG1lcmdlIGFsbCBzaWduYXR1cmVzIG9mIGEgbGlzdCB3aXRoIHR5cGVkIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGV4dHJhY3RTaWduYXR1cmVzKGZucykge1xuICAgICAgdmFyIGVycjtcbiAgICAgIHZhciBzaWduYXR1cmVzTWFwID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlVW5pcXVlKF9zaWduYXR1cmUsIF9mbikge1xuICAgICAgICBpZiAoc2lnbmF0dXJlc01hcC5oYXNPd25Qcm9wZXJ0eShfc2lnbmF0dXJlKSAmJiBfZm4gIT09IHNpZ25hdHVyZXNNYXBbX3NpZ25hdHVyZV0pIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ1NpZ25hdHVyZSBcIicgKyBfc2lnbmF0dXJlICsgJ1wiIGlzIGRlZmluZWQgdHdpY2UnKTtcbiAgICAgICAgICBlcnIuZGF0YSA9IHtzaWduYXR1cmU6IF9zaWduYXR1cmV9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAvLyBlbHNlOiBib3RoIHNpZ25hdHVyZXMgcG9pbnQgdG8gdGhlIHNhbWUgZnVuY3Rpb24sIHRoYXQncyBmaW5lXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZuID0gZm5zW2ldO1xuXG4gICAgICAgIC8vIHRlc3Qgd2hldGhlciB0aGlzIGlzIGEgdHlwZWQtZnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIG1lcmdlIHRoZSBzaWduYXR1cmVzXG4gICAgICAgICAgZm9yICh2YXIgc2lnbmF0dXJlIGluIGZuLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIGlmIChmbi5zaWduYXR1cmVzLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVVbmlxdWUoc2lnbmF0dXJlLCBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV0pO1xuICAgICAgICAgICAgICBzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0gPSBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsaWRhdGVVbmlxdWUoZm4uc2lnbmF0dXJlLCBmbik7XG4gICAgICAgICAgc2lnbmF0dXJlc01hcFtmbi5zaWduYXR1cmVdID0gZm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gaXMgbm8gdHlwZWQtZnVuY3Rpb24gKGluZGV4OiAnICsgaSArICcpJyk7XG4gICAgICAgICAgZXJyLmRhdGEgPSB7aW5kZXg6IGl9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2lnbmF0dXJlc01hcDtcbiAgICB9XG5cbiAgICB0eXBlZCA9IGNyZWF0ZVR5cGVkRnVuY3Rpb24oJ3R5cGVkJywge1xuICAgICAgJ3N0cmluZywgT2JqZWN0JzogY3JlYXRlVHlwZWRGdW5jdGlvbixcbiAgICAgICdPYmplY3QnOiBmdW5jdGlvbiAoc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAvLyBmaW5kIGV4aXN0aW5nIG5hbWVcbiAgICAgICAgdmFyIGZucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBzaWduYXR1cmUgaW4gc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAgIGlmIChzaWduYXR1cmVzTWFwLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgIGZucy5wdXNoKHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gZ2V0TmFtZShmbnMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKTtcbiAgICAgIH0sXG4gICAgICAnLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAoZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKGdldE5hbWUoZm5zKSwgZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSk7XG4gICAgICB9LFxuICAgICAgJ3N0cmluZywgLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAobmFtZSwgZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIGV4dHJhY3RTaWduYXR1cmVzKGZucykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHlwZWQuY3JlYXRlID0gY3JlYXRlO1xuICAgIHR5cGVkLnR5cGVzID0gX3R5cGVzO1xuICAgIHR5cGVkLmNvbnZlcnNpb25zID0gX2NvbnZlcnNpb25zO1xuICAgIHR5cGVkLmlnbm9yZSA9IF9pZ25vcmU7XG4gICAgdHlwZWQuY29udmVydCA9IGNvbnZlcnQ7XG4gICAgdHlwZWQuZmluZCA9IGZpbmQ7XG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSB0eXBlXG4gICAgICogQHBhcmFtIHt7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn19IHR5cGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtiZWZvcmVPYmplY3RUZXN0PXRydWVdXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsIHRoZSBuZXcgdGVzdCB3aWxsIGJlIGluc2VydGVkIGJlZm9yZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdGVzdCB3aXRoIG5hbWUgJ09iamVjdCcgKGlmIGFueSksIHNpbmNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RzIGZvciBPYmplY3QgbWF0Y2ggQXJyYXkgYW5kIGNsYXNzZXMgdG9vLlxuICAgICAqL1xuICAgIHR5cGVkLmFkZFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgYmVmb3JlT2JqZWN0VGVzdCkge1xuICAgICAgaWYgKCF0eXBlIHx8IHR5cGVvZiB0eXBlLm5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlLnRlc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJlZm9yZU9iamVjdFRlc3QgIT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQudHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodHlwZWQudHlwZXNbaV0ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIHR5cGVkLnR5cGVzLnNwbGljZShpLCAwLCB0eXBlKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0eXBlZC50eXBlcy5wdXNoKHR5cGUpO1xuICAgIH07XG5cbiAgICAvLyBhZGQgYSBjb252ZXJzaW9uXG4gICAgdHlwZWQuYWRkQ29udmVyc2lvbiA9IGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICBpZiAoIWNvbnZlcnNpb25cbiAgICAgICAgICB8fCB0eXBlb2YgY29udmVyc2lvbi5mcm9tICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLnRvICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLmNvbnZlcnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7ZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBjb252ZXJ0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdHlwZWQuY29udmVyc2lvbnMucHVzaChjb252ZXJzaW9uKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHR5cGVkO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZSgpO1xufSkpO1xuIiwiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge3tzaWduOiAnKycgfCAnLScgfCAnJywgY29lZmZpY2llbnRzOiBudW1iZXJbXSwgZXhwb25lbnQ6IG51bWJlcn19IFNwbGl0VmFsdWVcbiAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgbnVtYmVyIGlzIGludGVnZXJcbiAqIEBwYXJhbSB7bnVtYmVyIHwgYm9vbGVhbn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzSW50ZWdlclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgPT09IE1hdGgucm91bmQodmFsdWUpIDogZmFsc2U7IC8vIE5vdGU6IHdlIHVzZSA9PSwgbm90ID09PSwgYXMgd2UgY2FuIGhhdmUgQm9vbGVhbnMgYXMgd2VsbFxufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpZ24gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2lnbiA9IC8qICNfX1BVUkVfXyAqL01hdGguc2lnbiB8fCBmdW5jdGlvbiAoeCkge1xuICBpZiAoeCA+IDApIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmICh4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTIgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzIgPSAvKiAjX19QVVJFX18gKi9NYXRoLmxvZzIgfHwgZnVuY3Rpb24gbG9nMih4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4yO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTEwIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxMCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMTAgfHwgZnVuY3Rpb24gbG9nMTAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCkgLyBNYXRoLkxOMTA7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgbnVtYmVyICsgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxcCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMXAgfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHggKyAxKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSBjdWJpYyByb290IGZvciBhIG51bWJlclxuICpcbiAqIENvZGUgZnJvbSBlczYtc2hpbS5qczpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9lczYtc2hpbS9ibG9iL21hc3Rlci9lczYtc2hpbS5qcyNMMTU2NC1MMTU3N1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjdWJpYyByb290IG9mIHhcbiAqL1xuXG5leHBvcnQgdmFyIGNicnQgPSAvKiAjX19QVVJFX18gKi9NYXRoLmNicnQgfHwgZnVuY3Rpb24gY2JydCh4KSB7XG4gIGlmICh4ID09PSAwKSB7XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICB2YXIgbmVnYXRlID0geCA8IDA7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKG5lZ2F0ZSkge1xuICAgIHggPSAteDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZSh4KSkge1xuICAgIHJlc3VsdCA9IE1hdGguZXhwKE1hdGgubG9nKHgpIC8gMyk7IC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3ViZV9yb290I051bWVyaWNhbF9tZXRob2RzXG5cbiAgICByZXN1bHQgPSAoeCAvIChyZXN1bHQgKiByZXN1bHQpICsgMiAqIHJlc3VsdCkgLyAzO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHg7XG4gIH1cblxuICByZXR1cm4gbmVnYXRlID8gLXJlc3VsdCA6IHJlc3VsdDtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgZXhwb25lbnRpYXRpb24gbWludXMgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzXG4gKi9cblxuZXhwb3J0IHZhciBleHBtMSA9IC8qICNfX1BVUkVfXyAqL01hdGguZXhwbTEgfHwgZnVuY3Rpb24gZXhwbTEoeCkge1xuICByZXR1cm4geCA+PSAyZS00IHx8IHggPD0gLTJlLTQgPyBNYXRoLmV4cCh4KSAtIDEgOiB4ICsgeCAqIHggLyAyICsgeCAqIHggKiB4IC8gNjtcbn07XG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgdG8gYSBmb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICBmb3JtYXQodmFsdWUpXG4gKiAgICBmb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gKiAgICBmb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqICAgIGZvcm1hdCh2YWx1ZSwgZm4pXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAge251bWJlcn0gdmFsdWUgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gKiAgICB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gKiAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IG5vdGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpeGVkJyAgICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2V4cG9uZW50aWFsJyAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJyAgICBBbHdheXMgdXNlIGVuZ2luZWVyaW5nIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjRlKzAnIGFuZCAnMTQuMGUrNidcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvJyAoZGVmYXVsdCkgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGxvd2VyRXhwYCBhbmQgYHVwcGVyRXhwYCBib3VuZHMsIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGV4Y2x1ZGVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBwcmVjaXNpb24gICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgdG90YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IHJvdW5kaW5nIGFueSBkaWdpdHMuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTIuMDcxLCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAvLyAnMTInXG4gKiAgICBmb3JtYXQoMi4zLCAgICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogMn0pICAvLyAnMi4zMCdcbiAqICAgIGZvcm1hdCg1Mi44LCAgIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgIC8vICc1LjI4ZSsxJ1xuICogICAgZm9ybWF0KDEyMzQ1Njc4LCB7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgLy8gJzEyLjM0NTY3OGUrNidcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gaGFuZGxlIGZvcm1hdCh2YWx1ZSwgZm4pXG4gICAgcmV0dXJuIG9wdGlvbnModmFsdWUpO1xuICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG5cblxuICBpZiAodmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuICdJbmZpbml0eSc7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IC1JbmZpbml0eSkge1xuICAgIHJldHVybiAnLUluZmluaXR5JztcbiAgfSBlbHNlIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ05hTic7XG4gIH0gLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG9wdGlvbnNcblxuXG4gIHZhciBub3RhdGlvbiA9ICdhdXRvJztcbiAgdmFyIHByZWNpc2lvbjtcblxuICBpZiAob3B0aW9ucykge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMpKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIob3B0aW9ucy5wcmVjaXNpb24pKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG4gICAgICByZXR1cm4gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucyAmJiBvcHRpb25zKS5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaWdpdHMgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhciBlID0gYXJndW1lbnRzWzRdO1xuICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBub3RhdGlvbiBcIicgKyBub3RhdGlvbiArICdcIi4gJyArICdDaG9vc2UgXCJhdXRvXCIsIFwiZXhwb25lbnRpYWxcIiwgb3IgXCJmaXhlZFwiLicpO1xuICB9XG59XG4vKipcbiAqIFNwbGl0IGEgbnVtYmVyIGludG8gc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7U3BsaXRWYWx1ZX1cbiAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0TnVtYmVyKHZhbHVlKSB7XG4gIC8vIHBhcnNlIHRoZSBpbnB1dCB2YWx1ZVxuICB2YXIgbWF0Y2ggPSBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkubWF0Y2goL14wKj8oLT8pKFxcZCtcXC4/XFxkKikoZShbKy1dP1xcZCspKT8kLyk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignSW52YWxpZCBudW1iZXIgJyArIHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzaWduID0gbWF0Y2hbMV07XG4gIHZhciBkaWdpdHMgPSBtYXRjaFsyXTtcbiAgdmFyIGV4cG9uZW50ID0gcGFyc2VGbG9hdChtYXRjaFs0XSB8fCAnMCcpO1xuICB2YXIgZG90ID0gZGlnaXRzLmluZGV4T2YoJy4nKTtcbiAgZXhwb25lbnQgKz0gZG90ICE9PSAtMSA/IGRvdCAtIDEgOiBkaWdpdHMubGVuZ3RoIC0gMTtcbiAgdmFyIGNvZWZmaWNpZW50cyA9IGRpZ2l0cy5yZXBsYWNlKCcuJywgJycpIC8vIHJlbW92ZSB0aGUgZG90IChtdXN0IGJlIHJlbW92ZWQgYmVmb3JlIHJlbW92aW5nIGxlYWRpbmcgemVyb3MpXG4gIC5yZXBsYWNlKC9eMCovLCBmdW5jdGlvbiAoemVyb3MpIHtcbiAgICAvLyByZW1vdmUgbGVhZGluZyB6ZXJvcywgYWRkIHRoZWlyIGNvdW50IHRvIHRoZSBleHBvbmVudFxuICAgIGV4cG9uZW50IC09IHplcm9zLmxlbmd0aDtcbiAgICByZXR1cm4gJyc7XG4gIH0pLnJlcGxhY2UoLzAqJC8sICcnKSAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3NcbiAgLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZCk7XG4gIH0pO1xuXG4gIGlmIChjb2VmZmljaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29lZmZpY2llbnRzLnB1c2goMCk7XG4gICAgZXhwb25lbnQrKztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2lnbjogc2lnbixcbiAgICBjb2VmZmljaWVudHM6IGNvZWZmaWNpZW50cyxcbiAgICBleHBvbmVudDogZXhwb25lbnRcbiAgfTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKTtcbiAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcblxuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzO1xuXG4gIGlmIChpc051bWJlcihwcmVjaXNpb24pKSB7XG4gICAgLy8gYWRkIHplcm9lcyB0byBnaXZlIGNvcnJlY3Qgc2lnIGZpZ3NcbiAgICB3aGlsZSAocHJlY2lzaW9uID4gYy5sZW5ndGggfHwgZSAtIG5ld0V4cCArIDEgPiBjLmxlbmd0aCkge1xuICAgICAgYy5wdXNoKDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb25jYXRlbmF0ZSBjb2VmZmljaWVudHMgd2l0aCBuZWNlc3NhcnkgemVyb3NcbiAgICAvLyBhZGQgemVyb3MgaWYgbmVjZXNzYXJ5IChmb3IgZXhhbXBsZTogMWUrOCAtPiAxMDBlKzYpXG4gICAgdmFyIG1pc3NpbmdaZXJvcyA9IE1hdGguYWJzKGUgLSBuZXdFeHApIC0gKGMubGVuZ3RoIC0gMSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pc3NpbmdaZXJvczsgaSsrKSB7XG4gICAgICBjLnB1c2goMCk7XG4gICAgfVxuICB9IC8vIGZpbmQgZGlmZmVyZW5jZSBpbiBleHBvbmVudHNcblxuXG4gIHZhciBleHBEaWZmID0gTWF0aC5hYnMoZSAtIG5ld0V4cCk7XG4gIHZhciBkZWNpbWFsSWR4ID0gMTsgLy8gcHVzaCBkZWNpbWFsIGluZGV4IG92ZXIgYnkgZXhwRGlmZiB0aW1lc1xuXG4gIHdoaWxlIChleHBEaWZmID4gMCkge1xuICAgIGRlY2ltYWxJZHgrKztcbiAgICBleHBEaWZmLS07XG4gIH0gLy8gaWYgYWxsIGNvZWZmaWNpZW50IHZhbHVlcyBhcmUgemVybyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCBhbmQgcHJlY2lzaW9uIGlzIHVuc2V0LCBkb24ndCBhZGQgYSBkZWNpbWFsIHZhbHVlLlxuICAvLyBvdGhlcndpc2UgY29uY2F0IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGNvZWZmaWNpZW50c1xuXG5cbiAgdmFyIGRlY2ltYWxzID0gYy5zbGljZShkZWNpbWFsSWR4KS5qb2luKCcnKTtcbiAgdmFyIGRlY2ltYWxWYWwgPSBpc051bWJlcihwcmVjaXNpb24pICYmIGRlY2ltYWxzLmxlbmd0aCB8fCBkZWNpbWFscy5tYXRjaCgvWzEtOV0vKSA/ICcuJyArIGRlY2ltYWxzIDogJyc7XG4gIHZhciBzdHIgPSBjLnNsaWNlKDAsIGRlY2ltYWxJZHgpLmpvaW4oJycpICsgZGVjaW1hbFZhbCArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBuZXdFeHAudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIHN0cjtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggZml4ZWQgbm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWwgcG9pbnQuIG51bGwgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgdmFyIHNwbGl0VmFsdWUgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gdHlwZW9mIHByZWNpc2lvbiA9PT0gJ251bWJlcicgPyByb3VuZERpZ2l0cyhzcGxpdFZhbHVlLCBzcGxpdFZhbHVlLmV4cG9uZW50ICsgMSArIHByZWNpc2lvbikgOiBzcGxpdFZhbHVlO1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzO1xuICB2YXIgcCA9IHJvdW5kZWQuZXhwb25lbnQgKyAxOyAvLyBleHBvbmVudCBtYXkgaGF2ZSBjaGFuZ2VkXG4gIC8vIGFwcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuICB2YXIgcHAgPSBwICsgKHByZWNpc2lvbiB8fCAwKTtcblxuICBpZiAoYy5sZW5ndGggPCBwcCkge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcCAtIGMubGVuZ3RoKSk7XG4gIH0gLy8gcHJlcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuXG4gIGlmIChwIDwgMCkge1xuICAgIGMgPSB6ZXJvcygtcCArIDEpLmNvbmNhdChjKTtcbiAgICBwID0gMTtcbiAgfSAvLyBpbnNlcnQgYSBkb3QgaWYgbmVlZGVkXG5cblxuICBpZiAocCA8IGMubGVuZ3RoKSB7XG4gICAgYy5zcGxpY2UocCwgMCwgcCA9PT0gMCA/ICcwLicgOiAnLicpO1xuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGMuam9pbignJyk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IC8vIHJvdW5kIGlmIG5lZWRlZCwgZWxzZSBjcmVhdGUgYSBjbG9uZVxuXG5cbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHByZWNpc2lvbiA/IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pIDogc3BsaXQ7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gIHZhciBlID0gcm91bmRlZC5leHBvbmVudDsgLy8gYXBwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcmVjaXNpb24gLSBjLmxlbmd0aCkpO1xuICB9IC8vIGZvcm1hdCBhcyBgQy5DQ0NlK0VFRWAgb3IgYEMuQ0NDZS1FRUVgXG5cblxuICB2YXIgZmlyc3QgPSBjLnNoaWZ0KCk7XG4gIHJldHVybiByb3VuZGVkLnNpZ24gKyBmaXJzdCArIChjLmxlbmd0aCA+IDAgPyAnLicgKyBjLmpvaW4oJycpIDogJycpICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIGU7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGEgY2VydGFpbiBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSBPcHRpb25hbCBudW1iZXIgb2YgZGlnaXRzLlxuICogQHBhcmFtIHt7bG93ZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZCwgdXBwZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZH19IFtvcHRpb25zXVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeSBkZWZhdWx0OlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyRXhwID0gLTMgKGluY2wpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXIgPSArNSAoZXhjbClcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucykge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfSAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cblxuXG4gIHZhciBsb3dlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sb3dlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sb3dlckV4cCA6IC0zO1xuICB2YXIgdXBwZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMudXBwZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXBwZXJFeHAgOiA1O1xuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcHJlY2lzaW9uID8gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikgOiBzcGxpdDtcblxuICBpZiAocm91bmRlZC5leHBvbmVudCA8IGxvd2VyRXhwIHx8IHJvdW5kZWQuZXhwb25lbnQgPj0gdXBwZXJFeHApIHtcbiAgICAvLyBleHBvbmVudGlhbCBub3RhdGlvblxuICAgIHJldHVybiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICB9IGVsc2Uge1xuICAgIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gICAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50OyAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcblxuICAgIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgICAgYyA9IGMuY29uY2F0KHplcm9zKHByZWNpc2lvbiAtIGMubGVuZ3RoKSk7XG4gICAgfSAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcbiAgICAvLyBUT0RPOiBzaW1wbGlmeSB0aGUgbmV4dCBzdGF0ZW1lbnRcblxuXG4gICAgYyA9IGMuY29uY2F0KHplcm9zKGUgLSBjLmxlbmd0aCArIDEgKyAoYy5sZW5ndGggPCBwcmVjaXNpb24gPyBwcmVjaXNpb24gLSBjLmxlbmd0aCA6IDApKSk7IC8vIHByZXBlbmQgemVyb3NcblxuICAgIGMgPSB6ZXJvcygtZSkuY29uY2F0KGMpO1xuICAgIHZhciBkb3QgPSBlID4gMCA/IGUgOiAwO1xuXG4gICAgaWYgKGRvdCA8IGMubGVuZ3RoIC0gMSkge1xuICAgICAgYy5zcGxpY2UoZG90ICsgMSwgMCwgJy4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmRlZC5zaWduICsgYy5qb2luKCcnKTtcbiAgfVxufVxuLyoqXG4gKiBSb3VuZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBhIG51bWJlciAqXG4gKiBAcGFyYW0ge1NwbGl0VmFsdWV9IHNwbGl0ICAgICAgIEEgdmFsdWUgc3BsaXQgd2l0aCAuc3BsaXROdW1iZXIodmFsdWUpXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uICBBIHBvc2l0aXZlIGludGVnZXJcbiAqIEByZXR1cm4ge1NwbGl0VmFsdWV9XG4gKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICogICAgICAgICAgICAgIHdpdGggcm91bmRlZCBkaWdpdHNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikge1xuICAvLyBjcmVhdGUgYSBjbG9uZVxuICB2YXIgcm91bmRlZCA9IHtcbiAgICBzaWduOiBzcGxpdC5zaWduLFxuICAgIGNvZWZmaWNpZW50czogc3BsaXQuY29lZmZpY2llbnRzLFxuICAgIGV4cG9uZW50OiBzcGxpdC5leHBvbmVudFxuICB9O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBwcmVwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIHdoaWxlIChwcmVjaXNpb24gPD0gMCkge1xuICAgIGMudW5zaGlmdCgwKTtcbiAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgcHJlY2lzaW9uKys7XG4gIH1cblxuICBpZiAoYy5sZW5ndGggPiBwcmVjaXNpb24pIHtcbiAgICB2YXIgcmVtb3ZlZCA9IGMuc3BsaWNlKHByZWNpc2lvbiwgYy5sZW5ndGggLSBwcmVjaXNpb24pO1xuXG4gICAgaWYgKHJlbW92ZWRbMF0gPj0gNSkge1xuICAgICAgdmFyIGkgPSBwcmVjaXNpb24gLSAxO1xuICAgICAgY1tpXSsrO1xuXG4gICAgICB3aGlsZSAoY1tpXSA9PT0gMTApIHtcbiAgICAgICAgYy5wb3AoKTtcblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIGMudW5zaGlmdCgwKTtcbiAgICAgICAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaS0tO1xuICAgICAgICBjW2ldKys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQ7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBhcnJheSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cbmZ1bmN0aW9uIHplcm9zKGxlbmd0aCkge1xuICB2YXIgYXJyID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFyci5wdXNoKDApO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgYSBudW1iZXIuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKiAgIDIuMzQgcmV0dXJucyAzXG4gKiAgIDAuMDAzNCByZXR1cm5zIDJcbiAqICAgMTIwLjVlKzMwIHJldHVybnMgNFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBkaWdpdHMgICBOdW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZGlnaXRzKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKCkucmVwbGFjZSgvZS4qJC8sICcnKSAvLyByZW1vdmUgZXhwb25lbnRpYWwgbm90YXRpb25cbiAgLnJlcGxhY2UoL14wXFwuPzAqfFxcLi8sICcnKSAvLyByZW1vdmUgZGVjaW1hbCBwb2ludCBhbmQgbGVhZGluZyB6ZXJvc1xuICAubGVuZ3RoO1xufVxuLyoqXG4gKiBNaW5pbXVtIG51bWJlciBhZGRlZCB0byBvbmUgdGhhdCBtYWtlcyB0aGUgcmVzdWx0IGRpZmZlcmVudCB0aGFuIG9uZVxuICovXG5cbmV4cG9ydCB2YXIgREJMX0VQU0lMT04gPSBOdW1iZXIuRVBTSUxPTiB8fCAyLjIyMDQ0NjA0OTI1MDMxMzA4MDg0NzI2MzMzNjE4MTZFLTE2O1xuLyoqXG4gKiBDb21wYXJlcyB0d28gZmxvYXRpbmcgcG9pbnQgbnVtYmVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4ICAgICAgICAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW2Vwc2lsb25dICBUaGUgbWF4aW11bSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZXBzaWxvbiBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsLlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgdHdvIG51bWJlcnMgYXJlIG5lYXJseSBlcXVhbFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgLy8gaWYgZXBzaWxvbiBpcyBudWxsIG9yIHVuZGVmaW5lZCwgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWxcbiAgaWYgKGVwc2lsb24gPT09IG51bGwgfHwgZXBzaWxvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHggPT09IHk7XG4gIH1cblxuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5hTlxuXG5cbiAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGF0IHRoaXMgcG9pbnQgeCBhbmQgeSBzaG91bGQgYmUgZmluaXRlXG5cblxuICBpZiAoaXNGaW5pdGUoeCkgJiYgaXNGaW5pdGUoeSkpIHtcbiAgICAvLyBjaGVjayBudW1iZXJzIGFyZSB2ZXJ5IGNsb3NlLCBuZWVkZWQgd2hlbiBjb21wYXJpbmcgbnVtYmVycyBuZWFyIHplcm9cbiAgICB2YXIgZGlmZiA9IE1hdGguYWJzKHggLSB5KTtcblxuICAgIGlmIChkaWZmIDwgREJMX0VQU0lMT04pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgcmVsYXRpdmUgZXJyb3JcbiAgICAgIHJldHVybiBkaWZmIDw9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh5KSkgKiBlcHNpbG9uO1xuICAgIH1cbiAgfSAvLyBJbmZpbml0ZSBhbmQgTnVtYmVyIG9yIG5lZ2F0aXZlIEluZmluaXRlIGFuZCBwb3NpdGl2ZSBJbmZpbml0ZSBjYXNlc1xuXG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgYXJjY29zIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgYWNvc2ggPSBNYXRoLmFjb3NoIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggLSAxKSArIHgpO1xufTtcbmV4cG9ydCB2YXIgYXNpbmggPSBNYXRoLmFzaW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggKyAxKSArIHgpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIGFyY3RhbmdlbnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBhdGFuaCA9IE1hdGguYXRhbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKCgxICsgeCkgLyAoMSAtIHgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGNvc2ggPSBNYXRoLmNvc2ggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIChNYXRoLmV4cCh4KSArIE1hdGguZXhwKC14KSkgLyAyO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2luaCA9IE1hdGguc2luaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciB0YW5oID0gTWF0aC50YW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHZhciBlID0gTWF0aC5leHAoMiAqIHgpO1xuICByZXR1cm4gKGUgLSAxKSAvIChlICsgMSk7XG59OyIsIi8qKlxuICogQ29udmVydCBhIEJpZ051bWJlciB0byBhIGZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgIGZvcm1hdCh2YWx1ZSlcbiAqICAgIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAqICAgIGZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICogICAgZm9ybWF0KHZhbHVlLCBmbilcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICB7bnVtYmVyfSB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAqICAgIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAqICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbm90YXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZml4ZWQnICAgICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZXhwb25lbnRpYWwnICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycgKGRlZmF1bHQpIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLCBhbmQgdXNlc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBleGNsdWRlZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gcHJlY2lzaW9uICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIHRvdGFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTJlOCwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxMjAwMDAwMDAwJ1xuICogICAgZm9ybWF0KDIuMywgICAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDR9KSAgLy8gcmV0dXJucyAnMi4zMDAwJ1xuICogICAgZm9ybWF0KDUyLjgsICAge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgLy8gcmV0dXJucyAnNS4yOGUrMSdcbiAqICAgIGZvcm1hdCgxMjQwMCwgIHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAgIC8vIHJldHVybnMgJzEyLjQwMGUrMydcbiAqXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGhhbmRsZSBmb3JtYXQodmFsdWUsIGZuKVxuICAgIHJldHVybiBvcHRpb25zKHZhbHVlKTtcbiAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlc1xuXG5cbiAgaWYgKCF2YWx1ZS5pc0Zpbml0ZSgpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmlzTmFOKCkgPyAnTmFOJyA6IHZhbHVlLmd0KDApID8gJ0luZmluaXR5JyA6ICctSW5maW5pdHknO1xuICB9IC8vIGRlZmF1bHQgdmFsdWVzIGZvciBvcHRpb25zXG5cblxuICB2YXIgbm90YXRpb24gPSAnYXV0byc7XG4gIHZhciBwcmVjaXNpb247XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJlY2lzaW9uKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAge1xuICAgICAgICAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIHVwcGVyIGFuZCBsb3dlciB0byBiZSBCaWdOdW1iZXJzIHRoZW1zZWx2ZXNcbiAgICAgICAgdmFyIGxvd2VyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxvd2VyRXhwIDogLTM7XG4gICAgICAgIHZhciB1cHBlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51cHBlckV4cCA6IDU7IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2UgemVyb1xuXG4gICAgICAgIGlmICh2YWx1ZS5pc1plcm8oKSkgcmV0dXJuICcwJzsgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIG91dHB1dCBleHBvbmVudGlhbCBub3RhdGlvblxuXG4gICAgICAgIHZhciBzdHI7XG4gICAgICAgIHZhciByb3VuZGVkID0gdmFsdWUudG9TaWduaWZpY2FudERpZ2l0cyhwcmVjaXNpb24pO1xuICAgICAgICB2YXIgZXhwID0gcm91bmRlZC5lO1xuXG4gICAgICAgIGlmIChleHAgPj0gbG93ZXJFeHAgJiYgZXhwIDwgdXBwZXJFeHApIHtcbiAgICAgICAgICAvLyBub3JtYWwgbnVtYmVyIG5vdGF0aW9uXG4gICAgICAgICAgc3RyID0gcm91bmRlZC50b0ZpeGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXhwb25lbnRpYWwgbm90YXRpb25cbiAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICAgICAgICB9IC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvcyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludFxuXG5cbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGRpZ2l0cyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICB2YXIgZSA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vdGF0aW9uIFwiJyArIG5vdGF0aW9uICsgJ1wiLiAnICsgJ0Nob29zZSBcImF1dG9cIiwgXCJleHBvbmVudGlhbFwiLCBvciBcImZpeGVkXCIuJyk7XG4gIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgQmlnTnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7QmlnTnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcbiAgdmFyIGUgPSB2YWx1ZS5lO1xuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzOyAvLyBmaW5kIGRpZmZlcmVuY2UgaW4gZXhwb25lbnRzLCBhbmQgY2FsY3VsYXRlIHRoZSB2YWx1ZSB3aXRob3V0IGV4cG9uZW50XG5cbiAgdmFyIHZhbHVlV2l0aG91dEV4cCA9IHZhbHVlLm11bChNYXRoLnBvdygxMCwgLW5ld0V4cCkpO1xuICB2YXIgdmFsdWVTdHIgPSB2YWx1ZVdpdGhvdXRFeHAudG9QcmVjaXNpb24ocHJlY2lzaW9uKTtcblxuICBpZiAodmFsdWVTdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhbHVlU3RyID0gdmFsdWVXaXRob3V0RXhwLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWVTdHIgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgbmV3RXhwLnRvU3RyaW5nKCk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKHByZWNpc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwocHJlY2lzaW9uIC0gMSk7IC8vIE5vdGUgdGhlIG9mZnNldCBvZiBvbmVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbCgpO1xuICB9XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGZpeGVkIG5vdGF0aW9uLlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCBwb2ludC4gVW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbikge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZChwcmVjaXNpb24pO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0TnVtYmVyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdEJpZ051bWJlciB9IGZyb20gJy4vYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyc7XG4vKipcbiAqIENoZWNrIGlmIGEgdGV4dCBlbmRzIHdpdGggYSBjZXJ0YWluIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHRleHQsIHNlYXJjaCkge1xuICB2YXIgc3RhcnQgPSB0ZXh0Lmxlbmd0aCAtIHNlYXJjaC5sZW5ndGg7XG4gIHZhciBlbmQgPSB0ZXh0Lmxlbmd0aDtcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpID09PSBzZWFyY2g7XG59XG4vKipcbiAqIEZvcm1hdCBhIHZhbHVlIG9mIGFueSB0eXBlIGludG8gYSBzdHJpbmcuXG4gKlxuICogVXNhZ2U6XG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUpXG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqXG4gKiBXaGVuIHZhbHVlIGlzIGEgZnVuY3Rpb246XG4gKlxuICogLSBXaGVuIHRoZSBmdW5jdGlvbiBoYXMgYSBwcm9wZXJ0eSBgc3ludGF4YCwgaXQgcmV0dXJucyB0aGlzXG4gKiAgIHN5bnRheCBkZXNjcmlwdGlvbi5cbiAqIC0gSW4gb3RoZXIgY2FzZXMsIGEgc3RyaW5nIGAnZnVuY3Rpb24nYCBpcyByZXR1cm5lZC5cbiAqXG4gKiBXaGVuIGB2YWx1ZWAgaXMgYW4gT2JqZWN0OlxuICpcbiAqIC0gV2hlbiB0aGUgb2JqZWN0IGNvbnRhaW5zIGEgcHJvcGVydHkgYGZvcm1hdGAgYmVpbmcgYSBmdW5jdGlvbiwgdGhpc1xuICogICBmdW5jdGlvbiBpcyBpbnZva2VkIGFzIGB2YWx1ZS5mb3JtYXQob3B0aW9ucylgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICogLSBXaGVuIHRoZSBvYmplY3QgaGFzIGl0cyBvd24gYHRvU3RyaW5nYCBtZXRob2QsIHRoaXMgbWV0aG9kIGlzIGludm9rZWRcbiAqICAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKiAtIEluIG90aGVyIGNhc2VzIHRoZSBmdW5jdGlvbiB3aWxsIGxvb3Agb3ZlciBhbGwgb2JqZWN0IHByb3BlcnRpZXMgYW5kXG4gKiAgIHJldHVybiBKU09OIG9iamVjdCBub3RhdGlvbiBsaWtlICd7XCJhXCI6IDIsIFwiYlwiOiAzfScuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqICAgICBtYXRoLmZvcm1hdCgyLzcpICAgICAgICAgICAgICAgIC8vICcwLjI4NTcxNDI4NTcxNDI4NTcnXG4gKiAgICAgbWF0aC5mb3JtYXQobWF0aC5waSwgMykgICAgICAgICAvLyAnMy4xNCdcbiAqICAgICBtYXRoLmZvcm1hdChuZXcgQ29tcGxleCgyLCAzKSkgIC8vICcyICsgM2knXG4gKiAgICAgbWF0aC5mb3JtYXQoJ2hlbGxvJykgICAgICAgICAgICAvLyAnXCJoZWxsb1wiJ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgICAgICAgICAgVmFsdWUgdG8gYmUgc3RyaW5naWZpZWRcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAoaXNCaWdOdW1iZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEJpZ051bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH0gLy8gbm90ZTogd2UgdXNlIHVuc2FmZSBkdWNrLXR5cGluZyBoZXJlIHRvIGNoZWNrIGZvciBGcmFjdGlvbnMsIHRoaXMgaXNcbiAgLy8gb2sgaGVyZSBzaW5jZSB3ZSdyZSBvbmx5IGludm9raW5nIHRvU3RyaW5nIG9yIGNvbmNhdGVuYXRpbmcgaXRzIHZhbHVlc1xuXG5cbiAgaWYgKGxvb2tzTGlrZUZyYWN0aW9uKHZhbHVlKSkge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLmZyYWN0aW9uICE9PSAnZGVjaW1hbCcpIHtcbiAgICAgIC8vIG91dHB1dCBhcyByYXRpbywgbGlrZSAnMS8zJ1xuICAgICAgcmV0dXJuIHZhbHVlLnMgKiB2YWx1ZS5uICsgJy8nICsgdmFsdWUuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3V0cHV0IGFzIGRlY2ltYWwsIGxpa2UgJzAuKDMpJ1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEFycmF5KHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsdWUuc3ludGF4ID8gU3RyaW5nKHZhbHVlLnN5bnRheCkgOiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHZhbHVlLmZvcm1hdChvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpICE9PSB7fS50b1N0cmluZygpKSB7XG4gICAgICAvLyB0aGlzIG9iamVjdCBoYXMgYSBub24tbmF0aXZlIHRvU3RyaW5nIG1ldGhvZCwgdXNlIHRoYXQgb25lXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXModmFsdWUpLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gJ1wiJyArIGtleSArICdcIjogJyArIGZvcm1hdCh2YWx1ZVtrZXldLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICd7JyArIGVudHJpZXMuam9pbignLCAnKSArICd9JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbi8qKlxuICogU3RyaW5naWZ5IGEgdmFsdWUgaW50byBhIHN0cmluZyBlbmNsb3NlZCBpbiBkb3VibGUgcXVvdGVzLlxuICogVW5lc2NhcGVkIGRvdWJsZSBxdW90ZXMgYW5kIGJhY2tzbGFzaGVzIGluc2lkZSB0aGUgdmFsdWUgYXJlIGVzY2FwZWQuXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkge1xuICB2YXIgdGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gIHZhciBlc2NhcGVkID0gJyc7XG4gIHZhciBpID0gMDtcblxuICB3aGlsZSAoaSA8IHRleHQubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYztcbiAgICAgIGkrKztcbiAgICAgIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgICAgaWYgKGMgPT09ICcnIHx8ICdcIlxcXFwvYmZucnR1Jy5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICBlc2NhcGVkICs9ICdcXFxcJzsgLy8gbm8gdmFsaWQgZXNjYXBlIGNoYXJhY3RlciAtPiBlc2NhcGUgaXRcbiAgICAgIH1cblxuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgZXNjYXBlZCArPSAnXFxcXFwiJztcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiAnXCInICsgZXNjYXBlZCArICdcIic7XG59XG4vKipcbiAqIEVzY2FwZSBzcGVjaWFsIEhUTUwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUodmFsdWUpIHtcbiAgdmFyIHRleHQgPSBTdHJpbmcodmFsdWUpO1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC8nL2csICcmIzM5OycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG4gIHJldHVybiB0ZXh0O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmb3JtYXQgYW4gbi1kaW1lbnNpb25hbCBtYXRyaXhcbiAqIEV4YW1wbGUgb3V0cHV0OiBcIltbMSwgMl0sIFszLCA0XV1cIlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoYXJyYXksIG9wdGlvbnMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdmFyIHN0ciA9ICdbJztcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBmb3JtYXRBcnJheShhcnJheVtpXSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICddJztcbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtYXQoYXJyYXksIG9wdGlvbnMpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSB2YWx1ZSBsb29rcyBsaWtlIGEgRnJhY3Rpb24gKHVuc2FmZSBkdWNrLXR5cGUgY2hlY2spXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cblxuZnVuY3Rpb24gbG9va3NMaWtlRnJhY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnMgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUuZCA9PT0gJ251bWJlcicgfHwgZmFsc2U7XG59XG4vKipcbiAqIENvbXBhcmUgdHdvIHN0cmluZ3NcbiAqIEBwYXJhbSB7c3RyaW5nfSB4XG4gKiBAcGFyYW0ge3N0cmluZ30geVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVGV4dCh4LCB5KSB7XG4gIC8vIHdlIGRvbid0IHdhbnQgdG8gY29udmVydCBudW1iZXJzIHRvIHN0cmluZywgb25seSBhY2NlcHQgc3RyaW5nIGlucHV0XG4gIGlmICghaXNTdHJpbmcoeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQgaW4gZnVuY3Rpb24gY29tcGFyZVRleHQgJyArICcoZXhwZWN0ZWQ6IHN0cmluZyBvciBBcnJheSBvciBNYXRyaXgsIGFjdHVhbDogJyArIHR5cGVPZih4KSArICcsIGluZGV4OiAwKScpO1xuICB9XG5cbiAgaWYgKCFpc1N0cmluZyh5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiBjb21wYXJlVGV4dCAnICsgJyhleHBlY3RlZDogc3RyaW5nIG9yIEFycmF5IG9yIE1hdHJpeCwgYWN0dWFsOiAnICsgdHlwZU9mKHkpICsgJywgaW5kZXg6IDEpJyk7XG4gIH1cblxuICByZXR1cm4geCA9PT0geSA/IDAgOiB4ID4geSA/IDEgOiAtMTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0RpbWVuc2lvbiBtaXNtYXRjaCAoPGFjdHVhbCBzaXplPiAhPSA8ZXhwZWN0ZWQgc2l6ZT4pJ1xuICogQHBhcmFtIHtudW1iZXIgfCBudW1iZXJbXX0gYWN0dWFsICAgICAgICBUaGUgYWN0dWFsIHNpemVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVtYmVyW119IGV4cGVjdGVkICAgICAgVGhlIGV4cGVjdGVkIHNpemVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcmVsYXRpb249JyE9J10gICAgICAgICAgT3B0aW9uYWwgcmVsYXRpb24gYmV0d2VlbiBhY3R1YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGV4cGVjdGVkIHNpemU6ICchPScsICc8JywgZXRjLlxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gRGltZW5zaW9uRXJyb3IoYWN0dWFsLCBleHBlY3RlZCwgcmVsYXRpb24pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERpbWVuc2lvbkVycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICB0aGlzLnJlbGF0aW9uID0gcmVsYXRpb247XG4gIHRoaXMubWVzc2FnZSA9ICdEaW1lbnNpb24gbWlzbWF0Y2ggKCcgKyAoQXJyYXkuaXNBcnJheShhY3R1YWwpID8gJ1snICsgYWN0dWFsLmpvaW4oJywgJykgKyAnXScgOiBhY3R1YWwpICsgJyAnICsgKHRoaXMucmVsYXRpb24gfHwgJyE9JykgKyAnICcgKyAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkgPyAnWycgKyBleHBlY3RlZC5qb2luKCcsICcpICsgJ10nIDogZXhwZWN0ZWQpICsgJyknO1xuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2VFcnJvcjtcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0RpbWVuc2lvbkVycm9yJztcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5pc0RpbWVuc2lvbkVycm9yID0gdHJ1ZTsiLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0luZGV4IG91dCBvZiByYW5nZSAoaW5kZXggPCBtaW4pJ1xuICogICAgICdJbmRleCBvdXQgb2YgcmFuZ2UgKGluZGV4IDwgbWF4KSdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggICAgIFRoZSBhY3R1YWwgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdICAgTWluaW11bSBpbmRleCAoaW5jbHVkZWQpXG4gKiBAcGFyYW0ge251bWJlcn0gW21heF0gICAgIE1heGltdW0gaW5kZXggKGV4Y2x1ZGVkKVxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gSW5kZXhFcnJvcihpbmRleCwgbWluLCBtYXgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZGV4RXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuaW5kZXggPSBpbmRleDtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aGlzLm1pbiA9IDA7XG4gICAgdGhpcy5tYXggPSBtaW47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gIH1cblxuICBpZiAodGhpcy5taW4gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4IDwgdGhpcy5taW4pIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcgPCAnICsgdGhpcy5taW4gKyAnKSc7XG4gIH0gZWxzZSBpZiAodGhpcy5tYXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4ID49IHRoaXMubWF4KSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnID4gJyArICh0aGlzLm1heCAtIDEpICsgJyknO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyknO1xuICB9XG5cbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuSW5kZXhFcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuSW5kZXhFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZUVycm9yO1xuSW5kZXhFcnJvci5wcm90b3R5cGUubmFtZSA9ICdJbmRleEVycm9yJztcbkluZGV4RXJyb3IucHJvdG90eXBlLmlzSW5kZXhFcnJvciA9IHRydWU7IiwiaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4vc3RyaW5nLmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS5cbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBzaXplIG9mIHRoZSBmaXJzdCBlbnRyeSwgaXQgZG9lcyBub3QgdmFsaWRhdGVcbiAqIHdoZXRoZXIgYWxsIGRpbWVuc2lvbnMgbWF0Y2guICh1c2UgZnVuY3Rpb24gYHZhbGlkYXRlYCBmb3IgdGhhdClcbiAqIEBwYXJhbSB7QXJyYXl9IHhcbiAqIEBSZXR1cm4ge051bWJlcltdfSBzaXplXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5U2l6ZSh4KSB7XG4gIHZhciBzID0gW107XG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICBzLnB1c2goeC5sZW5ndGgpO1xuICAgIHggPSB4WzBdO1xuICB9XG5cbiAgcmV0dXJuIHM7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIGhhcyBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAdGhyb3dzIERpbWVuc2lvbkVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF92YWxpZGF0ZShhcnJheSwgc2l6ZSwgZGltKSB7XG4gIHZhciBpO1xuICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChsZW4gIT09IHNpemVbZGltXSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihsZW4sIHNpemVbZGltXSk7XG4gIH1cblxuICBpZiAoZGltIDwgc2l6ZS5sZW5ndGggLSAxKSB7XG4gICAgLy8gcmVjdXJzaXZlbHkgdmFsaWRhdGUgZWFjaCBjaGlsZCBhcnJheVxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoIC0gMSwgc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9XG5cbiAgICAgIF92YWxpZGF0ZShhcnJheVtpXSwgc2l6ZSwgZGltTmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxhc3QgZGltZW5zaW9uLiBub25lIG9mIHRoZSBjaGlsZHMgbWF5IGJlIGFuIGFycmF5XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVtpXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoICsgMSwgc2l6ZS5sZW5ndGgsICc+Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgaGFzXG4gKiBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHRocm93cyBEaW1lbnNpb25FcnJvclxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFycmF5LCBzaXplKSB7XG4gIHZhciBpc1NjYWxhciA9IHNpemUubGVuZ3RoID09PSAwO1xuXG4gIGlmIChpc1NjYWxhcikge1xuICAgIC8vIHNjYWxhclxuICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFycmF5Lmxlbmd0aCwgMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5XG4gICAgX3ZhbGlkYXRlKGFycmF5LCBzaXplLCAwKTtcbiAgfVxufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgaW5kZXggaXMgYW4gaW50ZWdlciBudW1iZXIgd2l0aCBpbmRleCA+PSAwIGFuZCBpbmRleCA8IGxlbmd0aFxuICogd2hlbiBsZW5ndGggaXMgcHJvdmlkZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAgICBaZXJvLWJhc2VkIGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTGVuZ3RoIG9mIHRoZSBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4KGluZGV4LCBsZW5ndGgpIHtcbiAgaWYgKCFpc051bWJlcihpbmRleCkgfHwgIWlzSW50ZWdlcihpbmRleCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBtdXN0IGJlIGFuIGludGVnZXIgKHZhbHVlOiAnICsgaW5kZXggKyAnKScpO1xuICB9XG5cbiAgaWYgKGluZGV4IDwgMCB8fCB0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBpbmRleCA+PSBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgSW5kZXhFcnJvcihpbmRleCwgbGVuZ3RoKTtcbiAgfVxufVxuLyoqXG4gKiBSZXNpemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS4gVGhlIHJlc2l6ZWQgYXJyYXkgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemUgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHplcm8gYnkgZGVmYXVsdC4gU3BlY2lmeSBmb3IgZXhhbXBsZSBgbnVsbGAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGNsZWFybHkgc2VlIGVudHJpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0LlxuICogQHJldHVybiB7QXJyYXl9IGFycmF5ICAgICAgICAgVGhlIHJlc2l6ZWQgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplKGFycmF5LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIHNjYWxhcnMsIGhhdmluZyBzaXplPVtdID9cbiAgLy8gY2hlY2sgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50c1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzaXppbmcgdG8gc2NhbGFyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfSAvLyBjaGVjayB3aGV0aGVyIHNpemUgY29udGFpbnMgcG9zaXRpdmUgaW50ZWdlcnNcblxuXG4gIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgIH1cbiAgfSk7IC8vIHJlY3Vyc2l2ZWx5IHJlc2l6ZSB0aGUgYXJyYXlcblxuICB2YXIgX2RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMDtcblxuICBfcmVzaXplKGFycmF5LCBzaXplLCAwLCBfZGVmYXVsdFZhbHVlKTtcblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHJlc2l6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgICAgICAgICBDdXJyZW50IGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcmVzaXplKGFycmF5LCBzaXplLCBkaW0sIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgaTtcbiAgdmFyIGVsZW07XG4gIHZhciBvbGRMZW4gPSBhcnJheS5sZW5ndGg7XG4gIHZhciBuZXdMZW4gPSBzaXplW2RpbV07XG4gIHZhciBtaW5MZW4gPSBNYXRoLm1pbihvbGRMZW4sIG5ld0xlbik7IC8vIGFwcGx5IG5ldyBsZW5ndGhcblxuICBhcnJheS5sZW5ndGggPSBuZXdMZW47XG5cbiAgaWYgKGRpbSA8IHNpemUubGVuZ3RoIC0gMSkge1xuICAgIC8vIG5vbi1sYXN0IGRpbWVuc2lvblxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTsgLy8gcmVzaXplIGV4aXN0aW5nIGNoaWxkIGFycmF5c1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG1pbkxlbjsgaSsrKSB7XG4gICAgICAvLyByZXNpemUgY2hpbGQgYXJyYXlcbiAgICAgIGVsZW0gPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW0pKSB7XG4gICAgICAgIGVsZW0gPSBbZWxlbV07IC8vIGFkZCBhIGRpbWVuc2lvblxuXG4gICAgICAgIGFycmF5W2ldID0gZWxlbTtcbiAgICAgIH1cblxuICAgICAgX3Jlc2l6ZShlbGVtLCBzaXplLCBkaW1OZXh0LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gLy8gY3JlYXRlIG5ldyBjaGlsZCBhcnJheXNcblxuXG4gICAgZm9yIChpID0gbWluTGVuOyBpIDwgbmV3TGVuOyBpKyspIHtcbiAgICAgIC8vIGdldCBjaGlsZCBhcnJheVxuICAgICAgZWxlbSA9IFtdO1xuICAgICAgYXJyYXlbaV0gPSBlbGVtOyAvLyByZXNpemUgbmV3IGNoaWxkIGFycmF5XG5cbiAgICAgIF9yZXNpemUoZWxlbSwgc2l6ZSwgZGltTmV4dCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbGFzdCBkaW1lbnNpb25cbiAgICAvLyByZW1vdmUgZGltZW5zaW9ucyBvZiBleGlzdGluZyB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgIHdoaWxlIChBcnJheS5pc0FycmF5KGFycmF5W2ldKSkge1xuICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldWzBdO1xuICAgICAgfVxuICAgIH0gLy8gZmlsbCBuZXcgZWxlbWVudHMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZVxuXG5cbiAgICBmb3IgKGkgPSBtaW5MZW47IGkgPCBuZXdMZW47IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFJlLXNoYXBlIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgdG8gZml0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICAgIEFycmF5IHRvIGJlIHJlc2hhcGVkXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBzaXplcyAgTGlzdCBvZiBzaXplcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheX0gICAgICAgICAgICAgICBBcnJheSB3aG9zZSBkYXRhIGhhcyBiZWVuIGZvcm1hdHRlZCB0byBmaXQgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqXG4gKiBAdGhyb3dzIHtEaW1lbnNpb25FcnJvcn0gICAgICAgSWYgdGhlIHByb2R1Y3Qgb2YgdGhlIG5ldyBkaW1lbnNpb24gc2l6ZXMgZG9lc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBlcXVhbCB0aGF0IG9mIHRoZSBvbGQgb25lc1xuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2hhcGUoYXJyYXksIHNpemVzKSB7XG4gIHZhciBmbGF0QXJyYXkgPSBmbGF0dGVuKGFycmF5KTtcbiAgdmFyIG5ld0FycmF5O1xuXG4gIGZ1bmN0aW9uIHByb2R1Y3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKiBjdXJyKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIUFycmF5LmlzQXJyYXkoc2l6ZXMpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoMCwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gIH1cblxuICB2YXIgdG90YWxTaXplID0gMTtcblxuICBmb3IgKHZhciBzaXplSW5kZXggPSAwOyBzaXplSW5kZXggPCBzaXplcy5sZW5ndGg7IHNpemVJbmRleCsrKSB7XG4gICAgdG90YWxTaXplICo9IHNpemVzW3NpemVJbmRleF07XG4gIH1cblxuICBpZiAoZmxhdEFycmF5Lmxlbmd0aCAhPT0gdG90YWxTaXplKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHByb2R1Y3Qoc2l6ZXMpLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3QXJyYXkgPSBfcmVzaGFwZShmbGF0QXJyYXksIHNpemVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRGltZW5zaW9uRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihwcm9kdWN0KHNpemVzKSwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHJldHVybiBuZXdBcnJheTtcbn1cbi8qKlxuICogSXRlcmF0aXZlbHkgcmUtc2hhcGUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSB0byBmaXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaGFwZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemVzICBMaXN0IG9mIHNpemVzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5fSAgICAgICAgICAgICAgIEFycmF5IHdob3NlIGRhdGEgaGFzIGJlZW4gZm9ybWF0dGVkIHRvIGZpdCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICovXG5cbmZ1bmN0aW9uIF9yZXNoYXBlKGFycmF5LCBzaXplcykge1xuICAvLyB0ZXN0aW5nIGlmIHRoZXJlIGFyZSBlbm91Z2ggZWxlbWVudHMgZm9yIHRoZSByZXF1ZXN0ZWQgc2hhcGVcbiAgdmFyIHRtcEFycmF5ID0gYXJyYXk7XG4gIHZhciB0bXBBcnJheTI7IC8vIGZvciBlYWNoIGRpbWVuc2lvbnMgc3RhcnRpbmcgYnkgdGhlIGxhc3Qgb25lIGFuZCBpZ25vcmluZyB0aGUgZmlyc3Qgb25lXG5cbiAgZm9yICh2YXIgc2l6ZUluZGV4ID0gc2l6ZXMubGVuZ3RoIC0gMTsgc2l6ZUluZGV4ID4gMDsgc2l6ZUluZGV4LS0pIHtcbiAgICB2YXIgc2l6ZSA9IHNpemVzW3NpemVJbmRleF07XG4gICAgdG1wQXJyYXkyID0gW107IC8vIGFnZ3JlZ2F0ZSB0aGUgZWxlbWVudHMgb2YgdGhlIGN1cnJlbnQgdG1wQXJyYXkgaW4gZWxlbWVudHMgb2YgdGhlIHJlcXVlc3RlZCBzaXplXG5cbiAgICB2YXIgbGVuZ3RoID0gdG1wQXJyYXkubGVuZ3RoIC8gc2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRtcEFycmF5Mi5wdXNoKHRtcEFycmF5LnNsaWNlKGkgKiBzaXplLCAoaSArIDEpICogc2l6ZSkpO1xuICAgIH0gLy8gc2V0IGl0IGFzIHRoZSBuZXcgdG1wQXJyYXkgZm9yIHRoZSBuZXh0IGxvb3AgdHVybiBvciBmb3IgcmV0dXJuXG5cblxuICAgIHRtcEFycmF5ID0gdG1wQXJyYXkyO1xuICB9XG5cbiAgcmV0dXJuIHRtcEFycmF5O1xufVxuLyoqXG4gKiBTcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBbc2l6ZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0dXJucyB0aGUgYXJyYXkgaXRzZWxmXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gc3F1ZWV6ZShhcnJheSwgc2l6ZSkge1xuICB2YXIgcyA9IHNpemUgfHwgYXJyYXlTaXplKGFycmF5KTsgLy8gc3F1ZWV6ZSBvdXRlciBkaW1lbnNpb25zXG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpICYmIGFycmF5Lmxlbmd0aCA9PT0gMSkge1xuICAgIGFycmF5ID0gYXJyYXlbMF07XG4gICAgcy5zaGlmdCgpO1xuICB9IC8vIGZpbmQgdGhlIGZpcnN0IGRpbWVuc2lvbiB0byBiZSBzcXVlZXplZFxuXG5cbiAgdmFyIGRpbXMgPSBzLmxlbmd0aDtcblxuICB3aGlsZSAoc1tkaW1zIC0gMV0gPT09IDEpIHtcbiAgICBkaW1zLS07XG4gIH0gLy8gc3F1ZWV6ZSBpbm5lciBkaW1lbnNpb25zXG5cblxuICBpZiAoZGltcyA8IHMubGVuZ3RoKSB7XG4gICAgYXJyYXkgPSBfc3F1ZWV6ZShhcnJheSwgZGltcywgMCk7XG4gICAgcy5sZW5ndGggPSBkaW1zO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBzcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyBSZXF1aXJlZCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheSB8ICp9IFJldHVybnMgdGhlIHNxdWVlemVkIGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9zcXVlZXplKGFycmF5LCBkaW1zLCBkaW0pIHtcbiAgdmFyIGksIGlpO1xuXG4gIGlmIChkaW0gPCBkaW1zKSB7XG4gICAgdmFyIG5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IF9zcXVlZXplKGFycmF5W2ldLCBkaW1zLCBuZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICBhcnJheSA9IGFycmF5WzBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogVW5zcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXk6IGFkZCBkaW1lbnNpb25zIHdoZW4gbWlzc2luZ1xuICpcbiAqIFBhcmFtdGVyIGBzaXplYCB3aWxsIGJlIG11dGF0ZWQgdG8gbWF0Y2ggdGhlIG5ldywgdW5xdWVlemVkIG1hdHJpeCBzaXplLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyAgICAgICBEZXNpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IFtvdXRlcl0gICAgTnVtYmVyIG9mIG91dGVyIGRpbWVuc2lvbnMgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IFtzaXplXSBDdXJyZW50IHNpemUgb2YgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldHVybnMgdGhlIGFycmF5IGl0c2VsZlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNxdWVlemUoYXJyYXksIGRpbXMsIG91dGVyLCBzaXplKSB7XG4gIHZhciBzID0gc2l6ZSB8fCBhcnJheVNpemUoYXJyYXkpOyAvLyB1bnNxdWVlemUgb3V0ZXIgZGltZW5zaW9uc1xuXG4gIGlmIChvdXRlcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0ZXI7IGkrKykge1xuICAgICAgYXJyYXkgPSBbYXJyYXldO1xuICAgICAgcy51bnNoaWZ0KDEpO1xuICAgIH1cbiAgfSAvLyB1bnNxdWVlemUgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgYXJyYXkgPSBfdW5zcXVlZXplKGFycmF5LCBkaW1zLCAwKTtcblxuICB3aGlsZSAocy5sZW5ndGggPCBkaW1zKSB7XG4gICAgcy5wdXNoKDEpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSB1bnNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zIFJlcXVpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICBDdXJyZW50IGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5IHwgKn0gUmV0dXJucyB0aGUgc3F1ZWV6ZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3Vuc3F1ZWV6ZShhcnJheSwgZGltcywgZGltKSB7XG4gIHZhciBpLCBpaTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICB2YXIgbmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gX3Vuc3F1ZWV6ZShhcnJheVtpXSwgZGltcywgbmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGQgPSBkaW07IGQgPCBkaW1zOyBkKyspIHtcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIEZsYXR0ZW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSwgcHV0IGFsbCBlbGVtZW50cyBpbiBhIG9uZSBkaW1lbnNpb25hbFxuICogYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgQSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICBUaGUgZmxhdHRlbmVkIGFycmF5ICgxIGRpbWVuc2lvbmFsKVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIC8vIGlmIG5vdCBhbiBhcnJheSwgcmV0dXJuIGFzIGlzXG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgdmFyIGZsYXQgPSBbXTtcbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChjYWxsYmFjayk7IC8vIHRyYXZlcnNlIHRocm91Z2ggc3ViLWFycmF5cyByZWN1cnNpdmVseVxuICAgIH0gZWxzZSB7XG4gICAgICBmbGF0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmbGF0O1xufVxuLyoqXG4gKiBBIHNhZmUgbWFwXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEEgc2FmZSBmb3JFYWNoXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChhcnJheSwgY2FsbGJhY2spIHtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBBIHNhZmUgZmlsdGVyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKGFycmF5LCBjYWxsYmFjaykge1xuICBpZiAoYXJyYXlTaXplKGFycmF5KS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGRpbWVuc2lvbmFsIG1hdHJpY2VzIHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBGaWx0ZXIgdmFsdWVzIGluIGEgY2FsbGJhY2sgZ2l2ZW4gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVnZXhwXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyB0aGUgZmlsdGVyZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclJlZ0V4cChhcnJheSwgcmVnZXhwKSB7XG4gIGlmIChhcnJheVNpemUoYXJyYXkpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgZGltZW5zaW9uYWwgbWF0cmljZXMgc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBlbnRyeSA9PiByZWdleHAudGVzdChlbnRyeSkpO1xufVxuLyoqXG4gKiBBIHNhZmUgam9pblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXBhcmF0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xufVxuLyoqXG4gKiBBc3NpZ24gYSBudW1lcmljIGlkZW50aWZpZXIgdG8gZXZlcnkgZWxlbWVudCBvZiBhIHNvcnRlZCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYSAgQW4gYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIG9yaWdpbmFsIHZhbHVlIGFuZCBpdHMgaWRlbnRpZmllclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG4gIHZhciBjb3VudCA9IDA7XG4gIGJbMF0gPSB7XG4gICAgdmFsdWU6IGFbMF0sXG4gICAgaWRlbnRpZmllcjogMFxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldID09PSBhW2kgLSAxXSkge1xuICAgICAgY291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cblxuICAgIGIucHVzaCh7XG4gICAgICB2YWx1ZTogYVtpXSxcbiAgICAgIGlkZW50aWZpZXI6IGNvdW50XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYjtcbn1cbi8qKlxuICogUmVtb3ZlIHRoZSBudW1lcmljIGlkZW50aWZpZXIgZnJvbSB0aGUgZWxlbWVudHNcbiAqIEBwYXJhbSB7YXJyYXl9IGEgIEFuIGFycmF5XG4gKiBAcmV0dXJuIHthcnJheX0gQW4gYXJyYXkgb2YgdmFsdWVzIHdpdGhvdXQgaWRlbnRpZmllcnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhbGl6ZShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgYi5wdXNoKGFbaV0udmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIGI7XG59XG4vKipcbiAqIENoZWNrIHRoZSBkYXRhdHlwZSBvZiBhIGdpdmVuIG9iamVjdFxuICogVGhpcyBpcyBhIGxvdyBsZXZlbCBpbXBsZW1lbnRhdGlvbiB0aGF0IHNob3VsZCBvbmx5IGJlIHVzZWQgYnlcbiAqIHBhcmVudCBNYXRyaXggY2xhc3NlcyBzdWNoIGFzIFNwYXJzZU1hdHJpeCBvciBEZW5zZU1hdHJpeFxuICogVGhpcyBtZXRob2QgZG9lcyBub3QgdmFsaWRhdGUgQXJyYXkgTWF0cml4IHNoYXBlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHlwZU9mICAgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gdXNlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhIHZhbHVlXG4gKiBAcmV0dXJuIHN0cmluZ1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheURhdGFUeXBlKGFycmF5LCB0eXBlT2YpIHtcbiAgdmFyIHR5cGU7IC8vIHRvIGhvbGQgdHlwZSBpbmZvXG5cbiAgdmFyIGxlbmd0aCA9IDA7IC8vIHRvIGhvbGQgbGVuZ3RoIHZhbHVlIHRvIGVuc3VyZSBpdCBoYXMgY29uc2lzdGVudCBzaXplc1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpdGVtKTsgLy8gU2F2aW5nIHRoZSB0YXJnZXQgbWF0cml4IHJvdyBzaXplXG5cbiAgICBpZiAoaSA9PT0gMCAmJiBpc0FycmF5KSB7XG4gICAgICBsZW5ndGggPSBpdGVtLmxlbmd0aDtcbiAgICB9IC8vIElmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYW4gYXJyYXkgYnV0IHRoZSBsZW5ndGggZG9lcyBub3QgZXF1YWwgdGhlIHRhcmdldFZlY3RvclNpemVcblxuXG4gICAgaWYgKGlzQXJyYXkgJiYgaXRlbS5sZW5ndGggIT09IGxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgaXRlbVR5cGUgPSBpc0FycmF5ID8gZ2V0QXJyYXlEYXRhVHlwZShpdGVtLCB0eXBlT2YpIC8vIHJlY3Vyc2UgaW50byBhIG5lc3RlZCBhcnJheVxuICAgIDogdHlwZU9mKGl0ZW0pO1xuXG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdHlwZSA9IGl0ZW1UeXBlOyAvLyBmaXJzdCBpdGVtXG4gICAgfSBlbHNlIGlmICh0eXBlICE9PSBpdGVtVHlwZSkge1xuICAgICAgcmV0dXJuICdtaXhlZCc7XG4gICAgfSBlbHNlIHsvLyB3ZSdyZSBnb29kLCBldmVyeXRoaW5nIGhhcyB0aGUgc2FtZSB0eXBlIHNvIGZhclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0eXBlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhc3QgaXRlbSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0gYXJyYXlcbiAqIEByZXR1cm5zIHsqfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cbi8qKlxuICogR2V0IGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhcnJheS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICByZXR1cm4gYXJyYXkuc2xpY2UoMCwgYXJyYXkubGVuZ3RoIC0gMSk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBvciBzdHJpbmcgY29udGFpbnMgYW4gaXRlbVxuICogQHBhcmFtIHtBcnJheSB8IHN0cmluZ30gYXJyYXlcbiAqIEBwYXJhbSB7Kn0gaXRlbVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSIsImltcG9ydCB7IGNvbnRhaW5zIH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBwaWNrU2hhbGxvdyB9IGZyb20gJy4vb2JqZWN0LmpzJztcbi8qKlxuICogQ3JlYXRlIGEgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gaW5qZWN0IGRlcGVuZGVuY2llcy5cbiAqXG4gKiBUaGUgY3JlYXRlZCBmdW5jdGlvbnMgYXJlIG1lbW9pemVkLCBhIGNvbnNlY3V0aXZlIGNhbGwgb2YgdGhlIGZhY3RvcnlcbiAqIHdpdGggdGhlIGV4YWN0IHNhbWUgaW5wdXRzIHdpbGwgcmV0dXJuIHRoZSBzYW1lIGZ1bmN0aW9uIGluc3RhbmNlLlxuICogVGhlIG1lbW9pemVkIGNhY2hlIGlzIGV4cG9zZWQgb24gYGZhY3RvcnkuY2FjaGVgIGFuZCBjYW4gYmUgY2xlYXJlZFxuICogaWYgbmVlZGVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGNvbnN0IG5hbWUgPSAnbG9nJ1xuICogICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IFsnY29uZmlnJywgJ3R5cGVkJywgJ2RpdmlkZVNjYWxhcicsICdDb21wbGV4J11cbiAqXG4gKiAgICAgZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZyA9IGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoeyB0eXBlZCwgY29uZmlnLCBkaXZpZGVTY2FsYXIsIENvbXBsZXggfSkgPT4ge1xuICogICAgICAgLy8gLi4uIGNyZWF0ZSB0aGUgZnVuY3Rpb24gbG9nIGhlcmUgYW5kIHJldHVybiBpdFxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZFxuICogQHBhcmFtIHtzdHJpbmdbXX0gZGVwZW5kZW5jaWVzIFRoZSBuYW1lcyBvZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGUgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggYWxsIGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtPYmplY3R9IFttZXRhXSAgICAgICAgIE9wdGlvbmFsIG9iamVjdCB3aXRoIG1ldGEgaW5mb3JtYXRpb24gdGhhdCB3aWxsIGJlIGF0dGFjaGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdGhlIGNyZWF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBhcyBwcm9wZXJ0eSBgbWV0YWAuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCBjcmVhdGUsIG1ldGEpIHtcbiAgZnVuY3Rpb24gYXNzZXJ0QW5kQ3JlYXRlKHNjb3BlKSB7XG4gICAgLy8gd2Ugb25seSBwYXNzIHRoZSByZXF1ZXN0ZWQgZGVwZW5kZW5jaWVzIHRvIHRoZSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gdG8gcHJldmVudCBmdW5jdGlvbnMgdG8gcmVseSBvbiBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAgICAvLyByZXF1ZXN0ZWQuXG4gICAgdmFyIGRlcHMgPSBwaWNrU2hhbGxvdyhzY29wZSwgZGVwZW5kZW5jaWVzLm1hcChzdHJpcE9wdGlvbmFsTm90YXRpb24pKTtcbiAgICBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSk7XG4gICAgcmV0dXJuIGNyZWF0ZShkZXBzKTtcbiAgfVxuXG4gIGFzc2VydEFuZENyZWF0ZS5pc0ZhY3RvcnkgPSB0cnVlO1xuICBhc3NlcnRBbmRDcmVhdGUuZm4gPSBuYW1lO1xuICBhc3NlcnRBbmRDcmVhdGUuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLnNsaWNlKCkuc29ydCgpO1xuXG4gIGlmIChtZXRhKSB7XG4gICAgYXNzZXJ0QW5kQ3JlYXRlLm1ldGEgPSBtZXRhO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydEFuZENyZWF0ZTtcbn1cbi8qKlxuICogU29ydCBhbGwgZmFjdG9yaWVzIHN1Y2ggdGhhdCB3aGVuIGxvYWRpbmcgaW4gb3JkZXIsIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGZhY3Rvcmllc1xuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIHNvcnRlZCBmYWN0b3JpZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRGYWN0b3JpZXMoZmFjdG9yaWVzKSB7XG4gIHZhciBmYWN0b3JpZXNCeU5hbWUgPSB7fTtcbiAgZmFjdG9yaWVzLmZvckVhY2goZmFjdG9yeSA9PiB7XG4gICAgZmFjdG9yaWVzQnlOYW1lW2ZhY3RvcnkuZm5dID0gZmFjdG9yeTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY29udGFpbnNEZXBlbmRlbmN5KGZhY3RvcnksIGRlcGVuZGVuY3kpIHtcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgIGlmIChpc0ZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgIGlmIChjb250YWlucyhmYWN0b3J5LmRlcGVuZGVuY2llcywgZGVwZW5kZW5jeS5mbiB8fCBkZXBlbmRlbmN5Lm5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFjdG9yeS5kZXBlbmRlbmNpZXMuc29tZShkID0+IGNvbnRhaW5zRGVwZW5kZW5jeShmYWN0b3JpZXNCeU5hbWVbZF0sIGRlcGVuZGVuY3kpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgc29ydGVkID0gW107XG5cbiAgZnVuY3Rpb24gYWRkRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgdmFyIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IHNvcnRlZC5sZW5ndGggJiYgIWNvbnRhaW5zRGVwZW5kZW5jeShzb3J0ZWRbaW5kZXhdLCBmYWN0b3J5KSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBzb3J0ZWQuc3BsaWNlKGluZGV4LCAwLCBmYWN0b3J5KTtcbiAgfSAvLyBzb3J0IHJlZ3VsYXIgZmFjdG9yeSBmdW5jdGlvbnNcblxuXG4gIGZhY3Rvcmllcy5maWx0ZXIoaXNGYWN0b3J5KS5mb3JFYWNoKGFkZEZhY3RvcnkpOyAvLyBzb3J0IGxlZ2FjeSBmYWN0b3J5IGZ1bmN0aW9ucyBBRlRFUiB0aGUgcmVndWxhciBmYWN0b3J5IGZ1bmN0aW9uc1xuXG4gIGZhY3Rvcmllcy5maWx0ZXIoZmFjdG9yeSA9PiAhaXNGYWN0b3J5KGZhY3RvcnkpKS5mb3JFYWNoKGFkZEZhY3RvcnkpO1xuICByZXR1cm4gc29ydGVkO1xufSAvLyBUT0RPOiBjb21tZW50IG9yIGNsZWFudXAgaWYgdW51c2VkIGluIHRoZSBlbmRcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmYWN0b3JpZXMpIHtcbiAgdmFyIHNjb3BlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgc29ydEZhY3RvcmllcyhmYWN0b3JpZXMpLmZvckVhY2goZmFjdG9yeSA9PiBmYWN0b3J5KHNjb3BlKSk7XG4gIHJldHVybiBzY29wZTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpdCBoYXNcbiAqIHByb3BlcnRpZXMgbmFtZSwgZGVwZW5kZW5jaWVzLCBhbmQgYSBmdW5jdGlvbiBjcmVhdGUuXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmFjdG9yeShvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5mbiA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShvYmouZGVwZW5kZW5jaWVzKTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgYWxsIGRlcGVuZGVuY2llcyBvZiBhIGxpc3Qgd2l0aCBkZXBlbmRlbmNpZXMgYXJlIGF2YWlsYWJsZSBpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gKlxuICogV2lsbCB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiB0aGVyZSBhcmUgZGVwZW5kZW5jaWVzIG1pc3NpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICBOYW1lIGZvciB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZC4gVXNlZCB0byBnZW5lcmF0ZSBhIHVzZWZ1bCBlcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSkge1xuICB2YXIgYWxsRGVmaW5lZCA9IGRlcGVuZGVuY2llcy5maWx0ZXIoZGVwZW5kZW5jeSA9PiAhaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkpIC8vIGZpbHRlciBvcHRpb25hbHNcbiAgLmV2ZXJ5KGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gIT09IHVuZGVmaW5lZCk7XG5cbiAgaWYgKCFhbGxEZWZpbmVkKSB7XG4gICAgdmFyIG1pc3NpbmdEZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuZmlsdGVyKGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gPT09IHVuZGVmaW5lZCk7IC8vIFRPRE86IGNyZWF0ZSBhIGN1c3RvbSBlcnJvciBjbGFzcyBmb3IgdGhpcywgYSBNYXRoanNFcnJvciBvciBzb21ldGhpbmcgbGlrZSB0aGF0XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGZ1bmN0aW9uIFxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiLCBcIikgKyBcInNvbWUgZGVwZW5kZW5jaWVzIGFyZSBtaXNzaW5nOiBcIi5jb25jYXQobWlzc2luZ0RlcGVuZGVuY2llcy5tYXAoZCA9PiBcIlxcXCJcIi5jb25jYXQoZCwgXCJcXFwiXCIpKS5qb2luKCcsICcpLCBcIi5cIikpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkge1xuICByZXR1cm4gZGVwZW5kZW5jeSAmJiBkZXBlbmRlbmN5WzBdID09PSAnPyc7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaXBPcHRpb25hbE5vdGF0aW9uKGRlcGVuZGVuY3kpIHtcbiAgcmV0dXJuIGRlcGVuZGVuY3kgJiYgZGVwZW5kZW5jeVswXSA9PT0gJz8nID8gZGVwZW5kZW5jeS5zbGljZSgxKSA6IGRlcGVuZGVuY3k7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSB0eXBlZC1mdW5jdGlvbiB3aGljaCBjaGVja3MgdGhlIHR5cGVzIG9mIHRoZSBhcmd1bWVudHMgYW5kXG4gKiBjYW4gbWF0Y2ggdGhlbSBhZ2FpbnN0IG11bHRpcGxlIHByb3ZpZGVkIHNpZ25hdHVyZXMuIFRoZSB0eXBlZC1mdW5jdGlvblxuICogYXV0b21hdGljYWxseSBjb252ZXJ0cyBpbnB1dHMgaW4gb3JkZXIgdG8gZmluZCBhIG1hdGNoaW5nIHNpZ25hdHVyZS5cbiAqIFR5cGVkIGZ1bmN0aW9ucyB0aHJvdyBpbmZvcm1hdGl2ZSBlcnJvcnMgaW4gY2FzZSBvZiB3cm9uZyBpbnB1dCBhcmd1bWVudHMuXG4gKlxuICogU2VlIHRoZSBsaWJyYXJ5IFt0eXBlZC1mdW5jdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvbilcbiAqIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICAgbWF0aC50eXBlZChuYW1lLCBzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKiAgICAgbWF0aC50eXBlZChzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggbXVsdGlwbGUgdHlwZXMgcGVyIGFyZ3VtZW50ICh0eXBlIHVuaW9uKVxuICogICAgIGNvbnN0IGZuMiA9IHR5cGVkKHtcbiAqICAgICAgICdudW1iZXIgfCBib29sZWFuJzogZnVuY3Rpb24gKGIpIHtcbiAqICAgICAgICAgcmV0dXJuICdiIGlzIGEgbnVtYmVyIG9yIGJvb2xlYW4nXG4gKiAgICAgICB9LFxuICogICAgICAgJ3N0cmluZywgbnVtYmVyIHwgYm9vbGVhbic6IGZ1bmN0aW9uIChhLCBiKSB7XG4gKiAgICAgICAgIHJldHVybiAnYSBpcyBhIHN0cmluZywgYiBpcyBhIG51bWJlciBvciBib29sZWFuJ1xuICogICAgICAgfVxuICogICAgIH0pXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggYW4gYW55IHR5cGUgYXJndW1lbnRcbiAqICAgICBjb25zdCBsb2cgPSB0eXBlZCh7XG4gKiAgICAgICAnc3RyaW5nLCBhbnknOiBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coJ2V2ZW50OiAnICsgZXZlbnQgKyAnLCBkYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25hbCBuYW1lIGZvciB0aGUgdHlwZWQtZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgZnVuY3Rpb24+fSBzaWduYXR1cmVzICAgT2JqZWN0IHdpdGggb25lIG9yIG11bHRpcGxlIGZ1bmN0aW9uIHNpZ25hdHVyZXNcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gVGhlIGNyZWF0ZWQgdHlwZWQtZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0FycmF5LCBpc0FycmF5Tm9kZSwgaXNBc3NpZ25tZW50Tm9kZSwgaXNCaWdOdW1iZXIsIGlzQmxvY2tOb2RlLCBpc0Jvb2xlYW4sIGlzQ2hhaW4sIGlzQ29tcGxleCwgaXNDb25kaXRpb25hbE5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0RhdGUsIGlzRGVuc2VNYXRyaXgsIGlzRnJhY3Rpb24sIGlzRnVuY3Rpb24sIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzSGVscCwgaXNJbmRleCwgaXNJbmRleE5vZGUsIGlzTWF0cml4LCBpc05vZGUsIGlzTnVsbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc09iamVjdE5vZGUsIGlzT3BlcmF0b3JOb2RlLCBpc1BhcmVudGhlc2lzTm9kZSwgaXNSYW5nZSwgaXNSYW5nZU5vZGUsIGlzUmVnRXhwLCBpc1Jlc3VsdFNldCwgaXNTcGFyc2VNYXRyaXgsIGlzU3RyaW5nLCBpc1N5bWJvbE5vZGUsIGlzVW5kZWZpbmVkLCBpc1VuaXQgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgdHlwZWRGdW5jdGlvbiBmcm9tICd0eXBlZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBkaWdpdHMgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnOyAvLyByZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG5cbnZhciBfY3JlYXRlVHlwZWQyID0gZnVuY3Rpb24gX2NyZWF0ZVR5cGVkKCkge1xuICAvLyBpbml0aWFsbHksIHJldHVybiB0aGUgb3JpZ2luYWwgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgLy8gY29uc2VjdXRpdmVseSwgcmV0dXJuIGEgbmV3IGluc3RhbmNlIGZyb20gdHlwZWQuY3JlYXRlLlxuICBfY3JlYXRlVHlwZWQyID0gdHlwZWRGdW5jdGlvbi5jcmVhdGU7XG4gIHJldHVybiB0eXBlZEZ1bmN0aW9uO1xufTtcblxudmFyIGRlcGVuZGVuY2llcyA9IFsnP0JpZ051bWJlcicsICc/Q29tcGxleCcsICc/RGVuc2VNYXRyaXgnLCAnP0ZyYWN0aW9uJ107XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IHR5cGVkIGluc3RhbmNlXG4gKiBAcGFyYW0ge09iamVjdH0gZGVwZW5kZW5jaWVzICAgT2JqZWN0IHdpdGggZGF0YSB0eXBlcyBsaWtlIENvbXBsZXggYW5kIEJpZ051bWJlclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlVHlwZWQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KCd0eXBlZCcsIGRlcGVuZGVuY2llcywgZnVuY3Rpb24gY3JlYXRlVHlwZWQoX3JlZikge1xuICB2YXIge1xuICAgIEJpZ051bWJlcixcbiAgICBDb21wbGV4LFxuICAgIERlbnNlTWF0cml4LFxuICAgIEZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuXG4gIC8vIFRPRE86IHR5cGVkLWZ1bmN0aW9uIG11c3QgYmUgYWJsZSB0byBzaWxlbnRseSBpZ25vcmUgc2lnbmF0dXJlcyB3aXRoIHVua25vd24gZGF0YSB0eXBlc1xuICAvLyBnZXQgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgdmFyIHR5cGVkID0gX2NyZWF0ZVR5cGVkMigpOyAvLyBkZWZpbmUgYWxsIHR5cGVzLiBUaGUgb3JkZXIgb2YgdGhlIHR5cGVzIGRldGVybWluZXMgaW4gd2hpY2ggb3JkZXIgZnVuY3Rpb25cbiAgLy8gYXJndW1lbnRzIGFyZSB0eXBlLWNoZWNrZWQgKHNvIGZvciBwZXJmb3JtYW5jZSBpdCdzIGltcG9ydGFudCB0byBwdXQgdGhlXG4gIC8vIG1vc3QgdXNlZCB0eXBlcyBmaXJzdCkuXG5cblxuICB0eXBlZC50eXBlcyA9IFt7XG4gICAgbmFtZTogJ251bWJlcicsXG4gICAgdGVzdDogaXNOdW1iZXJcbiAgfSwge1xuICAgIG5hbWU6ICdDb21wbGV4JyxcbiAgICB0ZXN0OiBpc0NvbXBsZXhcbiAgfSwge1xuICAgIG5hbWU6ICdCaWdOdW1iZXInLFxuICAgIHRlc3Q6IGlzQmlnTnVtYmVyXG4gIH0sIHtcbiAgICBuYW1lOiAnRnJhY3Rpb24nLFxuICAgIHRlc3Q6IGlzRnJhY3Rpb25cbiAgfSwge1xuICAgIG5hbWU6ICdVbml0JyxcbiAgICB0ZXN0OiBpc1VuaXRcbiAgfSwge1xuICAgIG5hbWU6ICdzdHJpbmcnLFxuICAgIHRlc3Q6IGlzU3RyaW5nXG4gIH0sIHtcbiAgICBuYW1lOiAnQ2hhaW4nLFxuICAgIHRlc3Q6IGlzQ2hhaW5cbiAgfSwge1xuICAgIG5hbWU6ICdBcnJheScsXG4gICAgdGVzdDogaXNBcnJheVxuICB9LCB7XG4gICAgbmFtZTogJ01hdHJpeCcsXG4gICAgdGVzdDogaXNNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdEZW5zZU1hdHJpeCcsXG4gICAgdGVzdDogaXNEZW5zZU1hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ1NwYXJzZU1hdHJpeCcsXG4gICAgdGVzdDogaXNTcGFyc2VNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdSYW5nZScsXG4gICAgdGVzdDogaXNSYW5nZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4JyxcbiAgICB0ZXN0OiBpc0luZGV4XG4gIH0sIHtcbiAgICBuYW1lOiAnYm9vbGVhbicsXG4gICAgdGVzdDogaXNCb29sZWFuXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVzdWx0U2V0JyxcbiAgICB0ZXN0OiBpc1Jlc3VsdFNldFxuICB9LCB7XG4gICAgbmFtZTogJ0hlbHAnLFxuICAgIHRlc3Q6IGlzSGVscFxuICB9LCB7XG4gICAgbmFtZTogJ2Z1bmN0aW9uJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uXG4gIH0sIHtcbiAgICBuYW1lOiAnRGF0ZScsXG4gICAgdGVzdDogaXNEYXRlXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVnRXhwJyxcbiAgICB0ZXN0OiBpc1JlZ0V4cFxuICB9LCB7XG4gICAgbmFtZTogJ251bGwnLFxuICAgIHRlc3Q6IGlzTnVsbFxuICB9LCB7XG4gICAgbmFtZTogJ3VuZGVmaW5lZCcsXG4gICAgdGVzdDogaXNVbmRlZmluZWRcbiAgfSwge1xuICAgIG5hbWU6ICdBY2Nlc3Nvck5vZGUnLFxuICAgIHRlc3Q6IGlzQWNjZXNzb3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQXJyYXlOb2RlJyxcbiAgICB0ZXN0OiBpc0FycmF5Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Fzc2lnbm1lbnROb2RlJyxcbiAgICB0ZXN0OiBpc0Fzc2lnbm1lbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQmxvY2tOb2RlJyxcbiAgICB0ZXN0OiBpc0Jsb2NrTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0NvbmRpdGlvbmFsTm9kZScsXG4gICAgdGVzdDogaXNDb25kaXRpb25hbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdDb25zdGFudE5vZGUnLFxuICAgIHRlc3Q6IGlzQ29uc3RhbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnRnVuY3Rpb25Ob2RlJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4Tm9kZScsXG4gICAgdGVzdDogaXNJbmRleE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdOb2RlJyxcbiAgICB0ZXN0OiBpc05vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3ROb2RlJyxcbiAgICB0ZXN0OiBpc09iamVjdE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPcGVyYXRvck5vZGUnLFxuICAgIHRlc3Q6IGlzT3BlcmF0b3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnUGFyZW50aGVzaXNOb2RlJyxcbiAgICB0ZXN0OiBpc1BhcmVudGhlc2lzTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1JhbmdlTm9kZScsXG4gICAgdGVzdDogaXNSYW5nZU5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdTeW1ib2xOb2RlJyxcbiAgICB0ZXN0OiBpc1N5bWJvbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3QnLFxuICAgIHRlc3Q6IGlzT2JqZWN0XG4gIH0gLy8gb3JkZXIgJ09iamVjdCcgbGFzdCwgaXQgbWF0Y2hlcyBvbiBvdGhlciBjbGFzc2VzIHRvb1xuICBdO1xuICB0eXBlZC5jb252ZXJzaW9ucyA9IFt7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFCaWdOdW1iZXIpIHtcbiAgICAgICAgdGhyb3dOb0JpZ251bWJlcih4KTtcbiAgICAgIH0gLy8gbm90ZTogY29udmVyc2lvbiBmcm9tIG51bWJlciB0byBCaWdOdW1iZXIgY2FuIGZhaWwgaWYgeCBoYXMgPjE1IGRpZ2l0c1xuXG5cbiAgICAgIGlmIChkaWdpdHMoeCkgPiAxNSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgbnVtYmVyIHdpdGggPjE1IHNpZ25pZmljYW50IGRpZ2l0cyB0byBCaWdOdW1iZXIgJyArICcodmFsdWU6ICcgKyB4ICsgJykuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlci4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgsIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnc3RyaW5nJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiB4ICsgJyc7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0JpZ051bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudG9OdW1iZXIoKSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgRnJhY3Rpb24gdG8gQmlnTnVtYmVyIG9yIHZpY2UgdmVyc2EuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlciBvciBmcmFjdGlvbih4KSB0byBjb252ZXJ0IHRvIEZyYWN0aW9uLicpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdGcmFjdGlvbicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudmFsdWVPZigpLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZiA9IG5ldyBGcmFjdGlvbih4KTtcblxuICAgICAgaWYgKGYudmFsdWVPZigpICE9PSB4KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBudW1iZXIgdG8gYSBGcmFjdGlvbiB3aGVuIHRoZXJlIHdpbGwgYmUgYSBsb3NzIG9mIHByZWNpc2lvbiAnICsgJyh2YWx1ZTogJyArIHggKyAnKS4gJyArICdVc2UgZnVuY3Rpb24gZnJhY3Rpb24oeCkgdG8gY29udmVydCB0byBGcmFjdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGY7XG4gICAgfVxuICB9LCB7XG4gICAgLy8gRklYTUU6IGFkZCBjb252ZXJzaW9uIGZyb20gRnJhY3Rpb24gdG8gbnVtYmVyLCBmb3IgZXhhbXBsZSBmb3IgYHNxcnQoZnJhY3Rpb24oMSwzKSlgXG4gICAgLy8gIGZyb206ICdGcmFjdGlvbicsXG4gICAgLy8gIHRvOiAnbnVtYmVyJyxcbiAgICAvLyAgY29udmVydDogZnVuY3Rpb24gKHgpIHtcbiAgICAvLyAgICByZXR1cm4geC52YWx1ZU9mKClcbiAgICAvLyAgfVxuICAgIC8vIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ251bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB2YXIgbiA9IE51bWJlcih4KTtcblxuICAgICAgaWYgKGlzTmFOKG4pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBhIG51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gQmlnTnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gRnJhY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIENvbXBsZXgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdudW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuICt4O1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigreCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oK3gpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ3N0cmluZycsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdBcnJheScsXG4gICAgdG86ICdNYXRyaXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoYXJyYXkpIHtcbiAgICAgIGlmICghRGVuc2VNYXRyaXgpIHtcbiAgICAgICAgdGhyb3dOb01hdHJpeCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGFycmF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnTWF0cml4JyxcbiAgICB0bzogJ0FycmF5JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KG1hdHJpeCkge1xuICAgICAgcmV0dXJuIG1hdHJpeC52YWx1ZU9mKCk7XG4gICAgfVxuICB9XTtcbiAgcmV0dXJuIHR5cGVkO1xufSk7XG5cbmZ1bmN0aW9uIHRocm93Tm9CaWdudW1iZXIoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIEJpZ051bWJlcjogbm8gY2xhc3MgJ0JpZ051bWJlcicgcHJvdmlkZWRcIikpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vQ29tcGxleCh4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgQ29tcGxleCBudW1iZXI6IG5vIGNsYXNzICdDb21wbGV4JyBwcm92aWRlZFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9NYXRyaXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgYXJyYXkgaW50byBhIE1hdHJpeDogbm8gY2xhc3MgXFwnRGVuc2VNYXRyaXhcXCcgcHJvdmlkZWQnKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb0ZyYWN0aW9uKHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBGcmFjdGlvbiwgbm8gY2xhc3MgJ0ZyYWN0aW9uJyBwcm92aWRlZC5cIikpO1xufSIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1Jlc3VsdFNldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZVJlc3VsdFNldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBIFJlc3VsdFNldCBjb250YWlucyBhIGxpc3Qgb3IgcmVzdWx0c1xuICAgKiBAY2xhc3MgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGVudHJpZXNcbiAgICogQGNvbnN0cnVjdG9yIFJlc3VsdFNldFxuICAgKi9cbiAgZnVuY3Rpb24gUmVzdWx0U2V0KGVudHJpZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzdWx0U2V0KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzIHx8IFtdO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudHlwZSA9ICdSZXN1bHRTZXQnO1xuICBSZXN1bHRTZXQucHJvdG90eXBlLmlzUmVzdWx0U2V0ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFycmF5IHdpdGggcmVzdWx0cyBob2xkIGJ5IHRoaXMgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge0FycmF5fSBlbnRyaWVzXG4gICAqL1xuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RyaW5naWZpZWQgcmVzdWx0cyBvZiB0aGUgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyaW5nXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1snICsgdGhpcy5lbnRyaWVzLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlc3VsdFNldFwiLCBcImVudHJpZXNcIjogWy4uLl19YFxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSZXN1bHRTZXQnLFxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmVzdWx0U2V0IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVzdWx0U2V0XCIsIFwiZW50cmllc1wiOiBbLi4uXX1gXG4gICAqIEByZXR1cm4ge1Jlc3VsdFNldH1cbiAgICovXG5cblxuICBSZXN1bHRTZXQuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmVzdWx0U2V0KGpzb24uZW50cmllcyk7XG4gIH07XG5cbiAgcmV0dXJuIFJlc3VsdFNldDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLypcclxuICogIGRlY2ltYWwuanMgdjEwLjIuMVxyXG4gKiAgQW4gYXJiaXRyYXJ5LXByZWNpc2lvbiBEZWNpbWFsIHR5cGUgZm9yIEphdmFTY3JpcHQuXHJcbiAqICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9kZWNpbWFsLmpzXHJcbiAqICBDb3B5cmlnaHQgKGMpIDIwMjAgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogIE1JVCBMaWNlbmNlXHJcbiAqL1xyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBFRElUQUJMRSBERUZBVUxUUyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCBtYWduaXR1ZGUuXHJcbiAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgdG9FeHBOZWdgLCBgdG9FeHBQb3NgLCBgbWluRWAgYW5kIGBtYXhFYC5cclxudmFyIEVYUF9MSU1JVCA9IDllMTUsICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOWUxNVxyXG5cclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLCBhbmQgb24gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBhcmd1bWVudCB0b1xyXG4gIC8vIGB0b0RlY2ltYWxQbGFjZXNgLCBgdG9FeHBvbmVudGlhbGAsIGB0b0ZpeGVkYCwgYHRvUHJlY2lzaW9uYCBhbmQgYHRvU2lnbmlmaWNhbnREaWdpdHNgLlxyXG4gIE1BWF9ESUdJVFMgPSAxZTksICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAxZTlcclxuXHJcbiAgLy8gQmFzZSBjb252ZXJzaW9uIGFscGhhYmV0LlxyXG4gIE5VTUVSQUxTID0gJzAxMjM0NTY3ODlhYmNkZWYnLFxyXG5cclxuICAvLyBUaGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgMTAgKDEwMjUgZGlnaXRzKS5cclxuICBMTjEwID0gJzIuMzAyNTg1MDkyOTk0MDQ1Njg0MDE3OTkxNDU0Njg0MzY0MjA3NjAxMTAxNDg4NjI4NzcyOTc2MDMzMzI3OTAwOTY3NTcyNjA5Njc3MzUyNDgwMjM1OTk3MjA1MDg5NTk4Mjk4MzQxOTY3Nzg0MDQyMjg2MjQ4NjMzNDA5NTI1NDY1MDgyODA2NzU2NjY2Mjg3MzY5MDk4NzgxNjg5NDgyOTA3MjA4MzI1NTU0NjgwODQzNzk5ODk0ODI2MjMzMTk4NTI4MzkzNTA1MzA4OTY1Mzc3NzMyNjI4ODQ2MTYzMzY2MjIyMjg3Njk4MjE5ODg2NzQ2NTQzNjY3NDc0NDA0MjQzMjc0MzY1MTU1MDQ4OTM0MzE0OTM5MzkxNDc5NjE5NDA0NDAwMjIyMTA1MTAxNzE0MTc0ODAwMzY4ODA4NDAxMjY0NzA4MDY4NTU2Nzc0MzIxNjIyODM1NTIyMDExNDgwNDY2MzcxNTY1OTEyMTM3MzQ1MDc0Nzg1Njk0NzY4MzQ2MzYxNjc5MjEwMTgwNjQ0NTA3MDY0ODAwMDI3NzUwMjY4NDkxNjc0NjU1MDU4Njg1NjkzNTY3MzQyMDY3MDU4MTEzNjQyOTIyNDU1NDQwNTc1ODkyNTcyNDIwODI0MTMxNDY5NTY4OTAxNjc1ODk0MDI1Njc3NjMxMTM1NjkxOTI5MjAzMzM3NjU4NzE0MTY2MDIzMDEwNTcwMzA4OTYzNDU3MjA3NTQ0MDM3MDg0NzQ2OTk0MDE2ODI2OTI4MjgwODQ4MTE4NDI4OTMxNDg0ODUyNDk0ODY0NDg3MTkyNzgwOTY3NjI3MTI3NTc3NTM5NzAyNzY2ODYwNTk1MjQ5NjcxNjY3NDE4MzQ4NTcwNDQyMjUwNzE5Nzk2NTAwNDcxNDk1MTA1MDQ5MjIxNDc3NjU2NzYzNjkzODY2Mjk3Njk3OTUyMjExMDcxODI2NDU0OTczNDc3MjY2MjQyNTcwOTQyOTMyMjU4Mjc5ODUwMjU4NTUwOTc4NTI2NTM4MzIwNzYwNjcyNjMxNzE2NDMwOTUwNTk5NTA4NzgwNzUyMzcxMDMzMzEwMTE5Nzg1NzU0NzMzMTU0MTQyMTgwODQyNzU0Mzg2MzU5MTc3ODExNzA1NDMwOTgyNzQ4MjM4NTA0NTY0ODAxOTA5NTYxMDI5OTI5MTgyNDMxODIzNzUyNTM1NzcwOTc1MDUzOTU2NTE4NzY5NzUxMDM3NDk3MDg4ODY5MjE4MDIwNTE4OTMzOTUwNzIzODUzOTIwNTE0NDYzNDE5NzI2NTI4NzI4Njk2NTExMDg2MjU3MTQ5MjE5ODg0OTk3ODc0ODg3Mzc3MTM0NTY4NjIwOTE2NzA1OCcsXHJcblxyXG4gIC8vIFBpICgxMDI1IGRpZ2l0cykuXHJcbiAgUEkgPSAnMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjkzOTkzNzUxMDU4MjA5NzQ5NDQ1OTIzMDc4MTY0MDYyODYyMDg5OTg2MjgwMzQ4MjUzNDIxMTcwNjc5ODIxNDgwODY1MTMyODIzMDY2NDcwOTM4NDQ2MDk1NTA1ODIyMzE3MjUzNTk0MDgxMjg0ODExMTc0NTAyODQxMDI3MDE5Mzg1MjExMDU1NTk2NDQ2MjI5NDg5NTQ5MzAzODE5NjQ0Mjg4MTA5NzU2NjU5MzM0NDYxMjg0NzU2NDgyMzM3ODY3ODMxNjUyNzEyMDE5MDkxNDU2NDg1NjY5MjM0NjAzNDg2MTA0NTQzMjY2NDgyMTMzOTM2MDcyNjAyNDkxNDEyNzM3MjQ1ODcwMDY2MDYzMTU1ODgxNzQ4ODE1MjA5MjA5NjI4MjkyNTQwOTE3MTUzNjQzNjc4OTI1OTAzNjAwMTEzMzA1MzA1NDg4MjA0NjY1MjEzODQxNDY5NTE5NDE1MTE2MDk0MzMwNTcyNzAzNjU3NTk1OTE5NTMwOTIxODYxMTczODE5MzI2MTE3OTMxMDUxMTg1NDgwNzQ0NjIzNzk5NjI3NDk1NjczNTE4ODU3NTI3MjQ4OTEyMjc5MzgxODMwMTE5NDkxMjk4MzM2NzMzNjI0NDA2NTY2NDMwODYwMjEzOTQ5NDYzOTUyMjQ3MzcxOTA3MDIxNzk4NjA5NDM3MDI3NzA1MzkyMTcxNzYyOTMxNzY3NTIzODQ2NzQ4MTg0Njc2Njk0MDUxMzIwMDA1NjgxMjcxNDUyNjM1NjA4Mjc3ODU3NzEzNDI3NTc3ODk2MDkxNzM2MzcxNzg3MjE0Njg0NDA5MDEyMjQ5NTM0MzAxNDY1NDk1ODUzNzEwNTA3OTIyNzk2ODkyNTg5MjM1NDIwMTk5NTYxMTIxMjkwMjE5NjA4NjQwMzQ0MTgxNTk4MTM2Mjk3NzQ3NzEzMDk5NjA1MTg3MDcyMTEzNDk5OTk5OTgzNzI5NzgwNDk5NTEwNTk3MzE3MzI4MTYwOTYzMTg1OTUwMjQ0NTk0NTUzNDY5MDgzMDI2NDI1MjIzMDgyNTMzNDQ2ODUwMzUyNjE5MzExODgxNzEwMTAwMDMxMzc4Mzg3NTI4ODY1ODc1MzMyMDgzODE0MjA2MTcxNzc2NjkxNDczMDM1OTgyNTM0OTA0Mjg3NTU0Njg3MzExNTk1NjI4NjM4ODIzNTM3ODc1OTM3NTE5NTc3ODE4NTc3ODA1MzIxNzEyMjY4MDY2MTMwMDE5Mjc4NzY2MTExOTU5MDkyMTY0MjAxOTg5MzgwOTUyNTcyMDEwNjU0ODU4NjMyNzg5JyxcclxuXHJcblxyXG4gIC8vIFRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBvZiB0aGUgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICBERUZBVUxUUyA9IHtcclxuXHJcbiAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIHN0YXRlZCByYW5nZXMgKGluY2x1c2l2ZSkuXHJcbiAgICAvLyBNb3N0IG9mIHRoZXNlIHZhbHVlcyBjYW4gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyB0aGUgYERlY2ltYWwuY29uZmlnYCBtZXRob2QuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgcmVzdWx0IG9mIGEgY2FsY3VsYXRpb24gb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgLy8gRS5nLiBgRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwIH0pO2BcclxuICAgIHByZWNpc2lvbjogMjAsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYX0RJR0lUU1xyXG5cclxuICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byBgcHJlY2lzaW9uYC5cclxuICAgIC8vXHJcbiAgICAvLyBST1VORF9VUCAgICAgICAgIDAgQXdheSBmcm9tIHplcm8uXHJcbiAgICAvLyBST1VORF9ET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgLy8gUk9VTkRfQ0VJTCAgICAgICAyIFRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfRkxPT1IgICAgICAzIFRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgIC8vIFJPVU5EX0hBTEZfRE9XTiAgNSBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgZG93bi5cclxuICAgIC8vIFJPVU5EX0hBTEZfRVZFTiAgNiBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyBldmVuIG5laWdoYm91ci5cclxuICAgIC8vIFJPVU5EX0hBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9IQUxGX0ZMT09SIDggVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy9cclxuICAgIC8vIEUuZy5cclxuICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gNDtgXHJcbiAgICAvLyBgRGVjaW1hbC5yb3VuZGluZyA9IERlY2ltYWwuUk9VTkRfSEFMRl9VUDtgXHJcbiAgICByb3VuZGluZzogNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgLy9cclxuICAgIC8vIFVQICAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgIC8vIERPV04gICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZCAoSmF2YVNjcmlwdCAlKS5cclxuICAgIC8vIEZMT09SICAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAvLyBIQUxGX0VWRU4gIDYgVGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cclxuICAgIC8vIEVVQ0xJRCAgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuIEFsd2F5cyBwb3NpdGl2ZS5cclxuICAgIC8vXHJcbiAgICAvLyBUcnVuY2F0ZWQgZGl2aXNpb24gKDEpLCBmbG9vcmVkIGRpdmlzaW9uICgzKSwgdGhlIElFRUUgNzU0IHJlbWFpbmRlciAoNiksIGFuZCBFdWNsaWRpYW5cclxuICAgIC8vIGRpdmlzaW9uICg5KSBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLiBUaGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc29cclxuICAgIC8vIGJlIHVzZWQsIGJ1dCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgIG1vZHVsbzogMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOVxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC03XHJcbiAgICB0b0V4cE5lZzogLTcsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1FWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMjFcclxuICAgIHRvRXhwUG9zOiAgMjEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgbWluRTogLUVYUF9MSU1JVCwgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgbWF4RTogRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBFWFBfTElNSVRcclxuXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICBjcnlwdG86IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlL2ZhbHNlXHJcbiAgfSxcclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgRURJVEFCTEUgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuXHJcbiAgaW5leGFjdCwgcXVhZHJhbnQsXHJcbiAgZXh0ZXJuYWwgPSB0cnVlLFxyXG5cclxuICBkZWNpbWFsRXJyb3IgPSAnW0RlY2ltYWxFcnJvcl0gJyxcclxuICBpbnZhbGlkQXJndW1lbnQgPSBkZWNpbWFsRXJyb3IgKyAnSW52YWxpZCBhcmd1bWVudDogJyxcclxuICBwcmVjaXNpb25MaW1pdEV4Y2VlZGVkID0gZGVjaW1hbEVycm9yICsgJ1ByZWNpc2lvbiBsaW1pdCBleGNlZWRlZCcsXHJcbiAgY3J5cHRvVW5hdmFpbGFibGUgPSBkZWNpbWFsRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyxcclxuXHJcbiAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuICBtYXRocG93ID0gTWF0aC5wb3csXHJcblxyXG4gIGlzQmluYXJ5ID0gL14wYihbMDFdKyhcXC5bMDFdKik/fFxcLlswMV0rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNIZXggPSAvXjB4KFswLTlhLWZdKyhcXC5bMC05YS1mXSopP3xcXC5bMC05YS1mXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc09jdGFsID0gL14wbyhbMC03XSsoXFwuWzAtN10qKT98XFwuWzAtN10rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNEZWNpbWFsID0gL14oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxyXG5cclxuICBCQVNFID0gMWU3LFxyXG4gIExPR19CQVNFID0gNyxcclxuICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcclxuXHJcbiAgTE4xMF9QUkVDSVNJT04gPSBMTjEwLmxlbmd0aCAtIDEsXHJcbiAgUElfUFJFQ0lTSU9OID0gUEkubGVuZ3RoIC0gMSxcclxuXHJcbiAgLy8gRGVjaW1hbC5wcm90b3R5cGUgb2JqZWN0XHJcbiAgUCA9IHsgbmFtZTogJ1tvYmplY3QgRGVjaW1hbF0nIH07XHJcblxyXG5cclxuLy8gRGVjaW1hbCBwcm90b3R5cGUgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgIGFic1xyXG4gKiAgY2VpbFxyXG4gKiAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICBjbXBcclxuICogIGNvc2luZSAgICAgICAgICAgICAgICAgICAgY29zXHJcbiAqICBjdWJlUm9vdCAgICAgICAgICAgICAgICAgIGNicnRcclxuICogIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICAgZHBcclxuICogIGRpdmlkZWRCeSAgICAgICAgICAgICAgICAgZGl2XHJcbiAqICBkaXZpZGVkVG9JbnRlZ2VyQnkgICAgICAgIGRpdlRvSW50XHJcbiAqICBlcXVhbHMgICAgICAgICAgICAgICAgICAgIGVxXHJcbiAqICBmbG9vclxyXG4gKiAgZ3JlYXRlclRoYW4gICAgICAgICAgICAgICBndFxyXG4gKiAgZ3JlYXRlclRoYW5PckVxdWFsVG8gICAgICBndGVcclxuICogIGh5cGVyYm9saWNDb3NpbmUgICAgICAgICAgY29zaFxyXG4gKiAgaHlwZXJib2xpY1NpbmUgICAgICAgICAgICBzaW5oXHJcbiAqICBoeXBlcmJvbGljVGFuZ2VudCAgICAgICAgIHRhbmhcclxuICogIGludmVyc2VDb3NpbmUgICAgICAgICAgICAgYWNvc1xyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgICBhY29zaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNTaW5lICAgICBhc2luaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ICBhdGFuaFxyXG4gKiAgaW52ZXJzZVNpbmUgICAgICAgICAgICAgICBhc2luXHJcbiAqICBpbnZlcnNlVGFuZ2VudCAgICAgICAgICAgIGF0YW5cclxuICogIGlzRmluaXRlXHJcbiAqICBpc0ludGVnZXIgICAgICAgICAgICAgICAgIGlzSW50XHJcbiAqICBpc05hTlxyXG4gKiAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICBpc05lZ1xyXG4gKiAgaXNQb3NpdGl2ZSAgICAgICAgICAgICAgICBpc1Bvc1xyXG4gKiAgaXNaZXJvXHJcbiAqICBsZXNzVGhhbiAgICAgICAgICAgICAgICAgIGx0XHJcbiAqICBsZXNzVGhhbk9yRXF1YWxUbyAgICAgICAgIGx0ZVxyXG4gKiAgbG9nYXJpdGhtICAgICAgICAgICAgICAgICBsb2dcclxuICogIFttYXhpbXVtXSAgICAgICAgICAgICAgICAgW21heF1cclxuICogIFttaW5pbXVtXSAgICAgICAgICAgICAgICAgW21pbl1cclxuICogIG1pbnVzICAgICAgICAgICAgICAgICAgICAgc3ViXHJcbiAqICBtb2R1bG8gICAgICAgICAgICAgICAgICAgIG1vZFxyXG4gKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgICBleHBcclxuICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICAgbG5cclxuICogIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgbmVnXHJcbiAqICBwbHVzICAgICAgICAgICAgICAgICAgICAgIGFkZFxyXG4gKiAgcHJlY2lzaW9uICAgICAgICAgICAgICAgICBzZFxyXG4gKiAgcm91bmRcclxuICogIHNpbmUgICAgICAgICAgICAgICAgICAgICAgc2luXHJcbiAqICBzcXVhcmVSb290ICAgICAgICAgICAgICAgIHNxcnRcclxuICogIHRhbmdlbnQgICAgICAgICAgICAgICAgICAgdGFuXHJcbiAqICB0aW1lcyAgICAgICAgICAgICAgICAgICAgIG11bFxyXG4gKiAgdG9CaW5hcnlcclxuICogIHRvRGVjaW1hbFBsYWNlcyAgICAgICAgICAgdG9EUFxyXG4gKiAgdG9FeHBvbmVudGlhbFxyXG4gKiAgdG9GaXhlZFxyXG4gKiAgdG9GcmFjdGlvblxyXG4gKiAgdG9IZXhhZGVjaW1hbCAgICAgICAgICAgICB0b0hleFxyXG4gKiAgdG9OZWFyZXN0XHJcbiAqICB0b051bWJlclxyXG4gKiAgdG9PY3RhbFxyXG4gKiAgdG9Qb3dlciAgICAgICAgICAgICAgICAgICBwb3dcclxuICogIHRvUHJlY2lzaW9uXHJcbiAqICB0b1NpZ25pZmljYW50RGlnaXRzICAgICAgIHRvU0RcclxuICogIHRvU3RyaW5nXHJcbiAqICB0cnVuY2F0ZWQgICAgICAgICAgICAgICAgIHRydW5jXHJcbiAqICB2YWx1ZU9mICAgICAgICAgICAgICAgICAgIHRvSlNPTlxyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICByZXR1cm4gZmluYWxpc2UoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgcG9zaXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmNlaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5cclxuICogICAxICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqICAtMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gKiAgIDAgICAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLFxyXG4gKiAgIE5hTiAgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBEZWNpbWFsIGlzIE5hTi5cclxuICpcclxuICovXHJcblAuY29tcGFyZWRUbyA9IFAuY21wID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgaSwgaiwgeGRMLCB5ZEwsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgeWQgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5kLFxyXG4gICAgeHMgPSB4LnMsXHJcbiAgICB5cyA9IHkucztcclxuXHJcbiAgLy8gRWl0aGVyIE5hTiBvciDCsUluZmluaXR5P1xyXG4gIGlmICgheGQgfHwgIXlkKSB7XHJcbiAgICByZXR1cm4gIXhzIHx8ICF5cyA/IE5hTiA6IHhzICE9PSB5cyA/IHhzIDogeGQgPT09IHlkID8gMCA6ICF4ZCBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICB9XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSByZXR1cm4geGRbMF0gPyB4cyA6IHlkWzBdID8gLXlzIDogMDtcclxuXHJcbiAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gIGlmICh4cyAhPT0geXMpIHJldHVybiB4cztcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKHguZSAhPT0geS5lKSByZXR1cm4geC5lID4geS5lIF4geHMgPCAwID8gMSA6IC0xO1xyXG5cclxuICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gIGZvciAoaSA9IDAsIGogPSB4ZEwgPCB5ZEwgPyB4ZEwgOiB5ZEw7IGkgPCBqOyArK2kpIHtcclxuICAgIGlmICh4ZFtpXSAhPT0geWRbaV0pIHJldHVybiB4ZFtpXSA+IHlkW2ldIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gIHJldHVybiB4ZEwgPT09IHlkTCA/IDAgOiB4ZEwgPiB5ZEwgXiB4cyA8IDAgPyAxIDogLTE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIGNvcygwKSAgICAgICAgID0gMVxyXG4gKiBjb3MoLTApICAgICAgICA9IDFcclxuICogY29zKEluZmluaXR5KSAgPSBOYU5cclxuICogY29zKC1JbmZpbml0eSkgPSBOYU5cclxuICogY29zKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuY29zaW5lID0gUC5jb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5kKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gY29zKDApID0gY29zKC0wKSA9IDFcclxuICBpZiAoIXguZFswXSkgcmV0dXJuIG5ldyBDdG9yKDEpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBjb3NpbmUoQ3RvciwgdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSAzID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqICBjYnJ0KDApICA9ICAwXHJcbiAqICBjYnJ0KC0wKSA9IC0wXHJcbiAqICBjYnJ0KDEpICA9ICAxXHJcbiAqICBjYnJ0KC0xKSA9IC0xXHJcbiAqICBjYnJ0KE4pICA9ICBOXHJcbiAqICBjYnJ0KC1JKSA9IC1JXHJcbiAqICBjYnJ0KEkpICA9ICBJXHJcbiAqXHJcbiAqIE1hdGguY2JydCh4KSA9ICh4IDwgMCA/IC1NYXRoLnBvdygteCwgMS8zKSA6IE1hdGgucG93KHgsIDEvMykpXHJcbiAqXHJcbiAqL1xyXG5QLmN1YmVSb290ID0gUC5jYnJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBlLCBtLCBuLCByLCByZXAsIHMsIHNkLCB0LCB0MywgdDNwbHVzeCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSB4LnMgKiBtYXRocG93KHgucyAqIHgsIDEgLyAzKTtcclxuXHJcbiAgIC8vIE1hdGguY2JydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgIC8vIFBhc3MgeCB0byBNYXRoLnBvdyBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICBpZiAoIXMgfHwgTWF0aC5hYnMocykgPT0gMSAvIDApIHtcclxuICAgIG4gPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgZSA9IHguZTtcclxuXHJcbiAgICAvLyBBZGp1c3QgbiBleHBvbmVudCBzbyBpdCBpcyBhIG11bHRpcGxlIG9mIDMgYXdheSBmcm9tIHggZXhwb25lbnQuXHJcbiAgICBpZiAocyA9IChlIC0gbi5sZW5ndGggKyAxKSAlIDMpIG4gKz0gKHMgPT0gMSB8fCBzID09IC0yID8gJzAnIDogJzAwJyk7XHJcbiAgICBzID0gbWF0aHBvdyhuLCAxIC8gMyk7XHJcblxyXG4gICAgLy8gUmFyZWx5LCBlIG1heSBiZSBvbmUgbGVzcyB0aGFuIHRoZSByZXN1bHQgZXhwb25lbnQgdmFsdWUuXHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAzKSAtIChlICUgMyA9PSAoZSA8IDAgPyAtMSA6IDIpKTtcclxuXHJcbiAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gJzVlJyArIGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgfVxyXG5cclxuICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICAgIHIucyA9IHgucztcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgLy8gSGFsbGV5J3MgbWV0aG9kLlxyXG4gIC8vIFRPRE8/IENvbXBhcmUgTmV3dG9uJ3MgbWV0aG9kLlxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSByO1xyXG4gICAgdDMgPSB0LnRpbWVzKHQpLnRpbWVzKHQpO1xyXG4gICAgdDNwbHVzeCA9IHQzLnBsdXMoeCk7XHJcbiAgICByID0gZGl2aWRlKHQzcGx1c3gucGx1cyh4KS50aW1lcyh0KSwgdDNwbHVzeC5wbHVzKHQzKSwgc2QgKyAyLCAxKTtcclxuXHJcbiAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvciA0OTk5XHJcbiAgICAgIC8vICwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHcsXHJcbiAgICBkID0gdGhpcy5kLFxyXG4gICAgbiA9IE5hTjtcclxuXHJcbiAgaWYgKGQpIHtcclxuICAgIHcgPSBkLmxlbmd0aCAtIDE7XHJcbiAgICBuID0gKHcgLSBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpKSAqIExPR19CQVNFO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3Qgd29yZC5cclxuICAgIHcgPSBkW3ddO1xyXG4gICAgaWYgKHcpIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbi0tO1xyXG4gICAgaWYgKG4gPCAwKSBuID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBuO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuIC8gMCA9IElcclxuICogIG4gLyBOID0gTlxyXG4gKiAgbiAvIEkgPSAwXHJcbiAqICAwIC8gbiA9IDBcclxuICogIDAgLyAwID0gTlxyXG4gKiAgMCAvIE4gPSBOXHJcbiAqICAwIC8gSSA9IDBcclxuICogIE4gLyBuID0gTlxyXG4gKiAgTiAvIDAgPSBOXHJcbiAqICBOIC8gTiA9IE5cclxuICogIE4gLyBJID0gTlxyXG4gKiAgSSAvIG4gPSBJXHJcbiAqICBJIC8gMCA9IElcclxuICogIEkgLyBOID0gTlxyXG4gKiAgSSAvIEkgPSBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiBkaXZpZGUodGhpcywgbmV3IHRoaXMuY29uc3RydWN0b3IoeSkpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbFxyXG4gKiBieSB0aGUgdmFsdWUgb2YgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuZGl2VG9JbnQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIHJldHVybiBmaW5hbGlzZShkaXZpZGUoeCwgbmV3IEN0b3IoeSksIDAsIDEsIDEpLCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5lcXVhbHMgPSBQLmVxID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgbmVnYXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmZsb29yID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCwgb3RoZXJ3aXNlIHJldHVyblxyXG4gKiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZ3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBrID0gdGhpcy5jbXAoeSk7XHJcbiAgcmV0dXJuIGsgPT0gMSB8fCBrID09PSAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbMSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGNvc2goeCkgPSAxICsgeF4yLzIhICsgeF40LzQhICsgeF42LzYhICsgLi4uXHJcbiAqXHJcbiAqIGNvc2goMCkgICAgICAgICA9IDFcclxuICogY29zaCgtMCkgICAgICAgID0gMVxyXG4gKiBjb3NoKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBjb3NoKC1JbmZpbml0eSkgPSBJbmZpbml0eVxyXG4gKiBjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKSAgIHJlc3VsdFxyXG4gKiAxMDAwICAgICAgOSAgICAgICAgICAgICAgICAgOS44NTAzNTU1NzAwODUyMzQ5Njk0ZSs0MzNcclxuICogMTAwMDAgICAgIDI1ICAgICAgICAgICAgICAgIDQuNDAzNDA5MTEyODMxNDYwNzkzNmUrNDM0MlxyXG4gKiAxMDAwMDAgICAgMTcxICAgICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAxMDAwMDAwICAgMzgxNyAgICAgICAgICAgICAgMS41MTY2MDc2OTg0MDEwNDM3NzI1ZSs0MzQyOTRcclxuICogMTAwMDAwMDAgIGFiYW5kb25lZCBhZnRlciAyIG1pbnV0ZSB3YWl0XHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgY29zaCh4KSA9IDAuNSAqIChleHAoeCkgKyBleHAoLXgpKVxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljQ29zaW5lID0gUC5jb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBrLCBuLCBwciwgcm0sIGxlbixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBvbmUgPSBuZXcgQ3RvcigxKTtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4LnMgPyAxIC8gMCA6IE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBvbmU7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDEgLSA4Y29zXjIoeCkgKyA4Y29zXjQoeCkgKyAxXHJcbiAgLy8gaS5lLiBjb3MoeCkgPSAxIC0gY29zXjIoeC80KSg4IC0gOGNvc14yKHgvNCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAvLyBUT0RPPyBFc3RpbWF0aW9uIHJldXNlZCBmcm9tIGNvc2luZSgpIGFuZCBtYXkgbm90IGJlIG9wdGltYWwgaGVyZS5cclxuICBpZiAobGVuIDwgMzIpIHtcclxuICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICBuID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gMTY7XHJcbiAgICBuID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gIH1cclxuXHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKG4pLCBuZXcgQ3RvcigxKSwgdHJ1ZSk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgdmFyIGNvc2gyX3gsXHJcbiAgICBpID0gayxcclxuICAgIGQ4ID0gbmV3IEN0b3IoOCk7XHJcbiAgZm9yICg7IGktLTspIHtcclxuICAgIGNvc2gyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IG9uZS5taW51cyhjb3NoMl94LnRpbWVzKGQ4Lm1pbnVzKGNvc2gyX3gudGltZXMoZDgpKSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogc2luaCh4KSA9IHggKyB4XjMvMyEgKyB4XjUvNSEgKyB4XjcvNyEgKyAuLi5cclxuICpcclxuICogc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBzaW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBzaW5oKC1JbmZpbml0eSkgPSAtSW5maW5pdHlcclxuICogc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKVxyXG4gKiAxMCAgICAgICAyIG1zXHJcbiAqIDEwMCAgICAgIDUgbXNcclxuICogMTAwMCAgICAgMTQgbXNcclxuICogMTAwMDAgICAgODIgbXNcclxuICogMTAwMDAwICAgODg2IG1zICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAyMDAwMDAgICAyNjEzIG1zXHJcbiAqIDMwMDAwMCAgIDU0MDcgbXNcclxuICogNDAwMDAwICAgODgyNCBtc1xyXG4gKiA1MDAwMDAgICAxMzAyNiBtcyAgICAgICAgICA4LjcwODA2NDM2MTI3MTgwODQxMjllKzIxNzE0NlxyXG4gKiAxMDAwMDAwICA0ODU0MyBtc1xyXG4gKlxyXG4gKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIHNpbmgoeCkgPSAwLjUgKiAoZXhwKHgpIC0gZXhwKC14KSlcclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY1NpbmUgPSBQLnNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGssIHByLCBybSwgbGVuLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICBpZiAobGVuIDwgMykge1xyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIEFsdGVybmF0aXZlIGFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCgzeCkgPSBzaW5oKHgpKDMgKyA0c2luaF4yKHgpKVxyXG4gICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzMpKDMgKyA0c2luaF4yKHgvMykpXHJcbiAgICAvLyAzIG11bHRpcGxpY2F0aW9ucyBhbmQgMSBhZGRpdGlvblxyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCg1eCkgPSBzaW5oKHgpKDUgKyBzaW5oXjIoeCkoMjAgKyAxNnNpbmheMih4KSkpXHJcbiAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvNSkoNSArIHNpbmheMih4LzUpKDIwICsgMTZzaW5oXjIoeC81KSkpXHJcbiAgICAvLyA0IG11bHRpcGxpY2F0aW9ucyBhbmQgMiBhZGRpdGlvbnNcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgICB4ID0geC50aW1lcygxIC8gdGlueVBvdyg1LCBrKSk7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG5cclxuICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICB2YXIgc2luaDJfeCxcclxuICAgICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgICBmb3IgKDsgay0tOykge1xyXG4gICAgICBzaW5oMl94ID0geC50aW1lcyh4KTtcclxuICAgICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW5oMl94LnRpbWVzKGQxNi50aW1lcyhzaW5oMl94KS5wbHVzKGQyMCkpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIHRhbmgoeCkgPSBzaW5oKHgpIC8gY29zaCh4KVxyXG4gKlxyXG4gKiB0YW5oKDApICAgICAgICAgPSAwXHJcbiAqIHRhbmgoLTApICAgICAgICA9IC0wXHJcbiAqIHRhbmgoSW5maW5pdHkpICA9IDFcclxuICogdGFuaCgtSW5maW5pdHkpID0gLTFcclxuICogdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNUYW5nZW50ID0gUC50YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyk7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDc7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHJldHVybiBkaXZpZGUoeC5zaW5oKCksIHguY29zaCgpLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgKGludmVyc2UgY29zaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZlxyXG4gKiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy0xLCAxXVxyXG4gKiBSYW5nZTogWzAsIHBpXVxyXG4gKlxyXG4gKiBhY29zKHgpID0gcGkvMiAtIGFzaW4oeClcclxuICpcclxuICogYWNvcygwKSAgICAgICA9IHBpLzJcclxuICogYWNvcygtMCkgICAgICA9IHBpLzJcclxuICogYWNvcygxKSAgICAgICA9IDBcclxuICogYWNvcygtMSkgICAgICA9IHBpXHJcbiAqIGFjb3MoMS8yKSAgICAgPSBwaS8zXHJcbiAqIGFjb3MoLTEvMikgICAgPSAyKnBpLzNcclxuICogYWNvcyh8eHwgPiAxKSA9IE5hTlxyXG4gKiBhY29zKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VDb3NpbmUgPSBQLmFjb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBrID0geC5hYnMoKS5jbXAoMSksXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoayAhPT0gLTEpIHtcclxuICAgIHJldHVybiBrID09PSAwXHJcbiAgICAgIC8vIHx4fCBpcyAxXHJcbiAgICAgID8geC5pc05lZygpID8gZ2V0UGkoQ3RvciwgcHIsIHJtKSA6IG5ldyBDdG9yKDApXHJcbiAgICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgICAgOiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYWNvcygwLjUpID0gcGkvMyBhbmQgYWNvcygtMC41KSA9IDIqcGkvM1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguYXNpbigpO1xyXG4gIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gaGFsZlBpLm1pbnVzKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBpbiByYWRpYW5zIG9mIHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWzEsIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWzAsIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhY29zaCh4KSA9IGxuKHggKyBzcXJ0KHheMiAtIDEpKVxyXG4gKlxyXG4gKiBhY29zaCh4IDwgMSkgICAgID0gTmFOXHJcbiAqIGFjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICogYWNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGFjb3NoKC1JbmZpbml0eSkgPSBOYU5cclxuICogYWNvc2goMCkgICAgICAgICA9IE5hTlxyXG4gKiBhY29zaCgtMCkgICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKDEpICAgICAgICAgPSAwXHJcbiAqIGFjb3NoKC0xKSAgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgPSBQLmFjb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoeC5sdGUoMSkpIHJldHVybiBuZXcgQ3Rvcih4LmVxKDEpID8gMCA6IE5hTik7XHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLm1pbnVzKDEpLnNxcnQoKS5wbHVzKHgpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LmxuKCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXNpbmgoeCkgPSBsbih4ICsgc3FydCh4XjIgKyAxKSlcclxuICpcclxuICogYXNpbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogYXNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gKiBhc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBhc2luaCgtMCkgICAgICAgID0gLTBcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNTaW5lID0gUC5hc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgMiAqIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgubG4oKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyB0YW5nZW50IGluIHJhZGlhbnMgb2YgdGhlXHJcbiAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLTEsIDFdXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXRhbmgoeCkgPSAwLjUgKiBsbigoMSArIHgpIC8gKDEgLSB4KSlcclxuICpcclxuICogYXRhbmgofHh8ID4gMSkgICA9IE5hTlxyXG4gKiBhdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGF0YW5oKEluZmluaXR5KSAgPSBOYU5cclxuICogYXRhbmgoLUluZmluaXR5KSA9IE5hTlxyXG4gKiBhdGFuaCgwKSAgICAgICAgID0gMFxyXG4gKiBhdGFuaCgtMCkgICAgICAgID0gLTBcclxuICogYXRhbmgoMSkgICAgICAgICA9IEluZmluaXR5XHJcbiAqIGF0YW5oKC0xKSAgICAgICAgPSAtSW5maW5pdHlcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ID0gUC5hdGFuaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLCB3cHIsIHhzZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5lID49IDApIHJldHVybiBuZXcgQ3Rvcih4LmFicygpLmVxKDEpID8geC5zIC8gMCA6IHguaXNaZXJvKCkgPyB4IDogTmFOKTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgeHNkID0geC5zZCgpO1xyXG5cclxuICBpZiAoTWF0aC5tYXgoeHNkLCBwcikgPCAyICogLXguZSAtIDEpIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgcHIsIHJtLCB0cnVlKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSB4c2QgLSB4LmU7XHJcblxyXG4gIHggPSBkaXZpZGUoeC5wbHVzKDEpLCBuZXcgQ3RvcigxKS5taW51cyh4KSwgd3ByICsgcHIsIDEpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHgubG4oKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LnRpbWVzKDAuNSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgKGludmVyc2Ugc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waS8yLCBwaS8yXVxyXG4gKlxyXG4gKiBhc2luKHgpID0gMiphdGFuKHgvKDEgKyBzcXJ0KDEgLSB4XjIpKSlcclxuICpcclxuICogYXNpbigwKSAgICAgICA9IDBcclxuICogYXNpbigtMCkgICAgICA9IC0wXHJcbiAqIGFzaW4oMS8yKSAgICAgPSBwaS82XHJcbiAqIGFzaW4oLTEvMikgICAgPSAtcGkvNlxyXG4gKiBhc2luKDEpICAgICAgID0gcGkvMlxyXG4gKiBhc2luKC0xKSAgICAgID0gLXBpLzJcclxuICogYXNpbih8eHwgPiAxKSA9IE5hTlxyXG4gKiBhc2luKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgVGF5bG9yIHNlcmllcy5cclxuICpcclxuICovXHJcblAuaW52ZXJzZVNpbmUgPSBQLmFzaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSwgayxcclxuICAgIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGsgPSB4LmFicygpLmNtcCgxKTtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKGsgIT09IC0xKSB7XHJcblxyXG4gICAgLy8gfHh8IGlzIDFcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgIGhhbGZQaS5zID0geC5zO1xyXG4gICAgICByZXR1cm4gaGFsZlBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFzaW4oMS8yKSA9IHBpLzYgYW5kIGFzaW4oLTEvMikgPSAtcGkvNlxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguZGl2KG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKS5wbHVzKDEpKS5hdGFuKCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC50aW1lcygyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCAoaW52ZXJzZSB0YW5nZW50KSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAqXHJcbiAqIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAqXHJcbiAqIGF0YW4oMCkgICAgICAgICA9IDBcclxuICogYXRhbigtMCkgICAgICAgID0gLTBcclxuICogYXRhbigxKSAgICAgICAgID0gcGkvNFxyXG4gKiBhdGFuKC0xKSAgICAgICAgPSAtcGkvNFxyXG4gKiBhdGFuKEluZmluaXR5KSAgPSBwaS8yXHJcbiAqIGF0YW4oLUluZmluaXR5KSA9IC1waS8yXHJcbiAqIGF0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlVGFuZ2VudCA9IFAuYXRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaSwgaiwgaywgbiwgcHgsIHQsIHIsIHdwciwgeDIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHtcclxuICAgIGlmICgheC5zKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmIChwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICByLnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoeC5pc1plcm8oKSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG4gIH0gZWxzZSBpZiAoeC5hYnMoKS5lcSgxKSAmJiBwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC4yNSk7XHJcbiAgICByLnMgPSB4LnM7XHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgLy8gVE9ETz8gaWYgKHggPj0gMSAmJiBwciA8PSBQSV9QUkVDSVNJT04pIGF0YW4oeCkgPSBoYWxmUGkgKiB4LnMgLSBhdGFuKDEgLyB4KTtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgLy8gRW5zdXJlIHx4fCA8IDAuNDJcclxuICAvLyBhdGFuKHgpID0gMiAqIGF0YW4oeCAvICgxICsgc3FydCgxICsgeF4yKSkpXHJcblxyXG4gIGsgPSBNYXRoLm1pbigyOCwgd3ByIC8gTE9HX0JBU0UgKyAyIHwgMCk7XHJcblxyXG4gIGZvciAoaSA9IGs7IGk7IC0taSkgeCA9IHguZGl2KHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cygxKSk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGogPSBNYXRoLmNlaWwod3ByIC8gTE9HX0JBU0UpO1xyXG4gIG4gPSAxO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICByID0gbmV3IEN0b3IoeCk7XHJcbiAgcHggPSB4O1xyXG5cclxuICAvLyBhdGFuKHgpID0geCAtIHheMy8zICsgeF41LzUgLSB4XjcvNyArIC4uLlxyXG4gIGZvciAoOyBpICE9PSAtMTspIHtcclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgdCA9IHIubWludXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgciA9IHQucGx1cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgaWYgKHIuZFtqXSAhPT0gdm9pZCAwKSBmb3IgKGkgPSBqOyByLmRbaV0gPT09IHQuZFtpXSAmJiBpLS07KTtcclxuICB9XHJcblxyXG4gIGlmIChrKSByID0gci50aW1lcygyIDw8IChrIC0gMSkpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLmQ7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5kLmxlbmd0aCAtIDI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBOYU4sIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhdGhpcy5zO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmVnYXRpdmUgPSBQLmlzTmVnID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPCAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgcG9zaXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzUG9zaXRpdmUgPSBQLmlzUG9zID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiB0aGlzLmRbMF0gPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbiA9IFAubHQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAxO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdG8gdGhlIHNwZWNpZmllZCBiYXNlLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIElmIG5vIGJhc2UgaXMgc3BlY2lmaWVkLCByZXR1cm4gbG9nWzEwXShhcmcpLlxyXG4gKlxyXG4gKiBsb2dbYmFzZV0oYXJnKSA9IGxuKGFyZykgLyBsbihiYXNlKVxyXG4gKlxyXG4gKiBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkIGlmIHRoZSBiYXNlIG9mIHRoZSBsb2cgaXMgMTAsIGFuZCAnYWxtb3N0IGFsd2F5cydcclxuICogb3RoZXJ3aXNlOlxyXG4gKlxyXG4gKiBEZXBlbmRpbmcgb24gdGhlIHJvdW5kaW5nIG1vZGUsIHRoZSByZXN1bHQgbWF5IGJlIGluY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGZpcnN0IGZpZnRlZW5cclxuICogcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OTk5OTk5OTk5OTkgb3IgWzUwXTAwMDAwMDAwMDAwMDAwLiBJbiB0aGF0IGNhc2UsIHRoZSBtYXhpbXVtIGVycm9yXHJcbiAqIGJldHdlZW4gdGhlIHJlc3VsdCBhbmQgdGhlIGNvcnJlY3RseSByb3VuZGVkIHJlc3VsdCB3aWxsIGJlIG9uZSB1bHAgKHVuaXQgaW4gdGhlIGxhc3QgcGxhY2UpLlxyXG4gKlxyXG4gKiBsb2dbLWJdKGEpICAgICAgID0gTmFOXHJcbiAqIGxvZ1swXShhKSAgICAgICAgPSBOYU5cclxuICogbG9nWzFdKGEpICAgICAgICA9IE5hTlxyXG4gKiBsb2dbTmFOXShhKSAgICAgID0gTmFOXHJcbiAqIGxvZ1tJbmZpbml0eV0oYSkgPSBOYU5cclxuICogbG9nW2JdKDApICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiBsb2dbYl0oLTApICAgICAgID0gLUluZmluaXR5XHJcbiAqIGxvZ1tiXSgtYSkgICAgICAgPSBOYU5cclxuICogbG9nW2JdKDEpICAgICAgICA9IDBcclxuICogbG9nW2JdKEluZmluaXR5KSA9IEluZmluaXR5XHJcbiAqIGxvZ1tiXShOYU4pICAgICAgPSBOYU5cclxuICpcclxuICogW2Jhc2VdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqXHJcbiAqL1xyXG5QLmxvZ2FyaXRobSA9IFAubG9nID0gZnVuY3Rpb24gKGJhc2UpIHtcclxuICB2YXIgaXNCYXNlMTAsIGQsIGRlbm9taW5hdG9yLCBrLCBpbmYsIG51bSwgc2QsIHIsXHJcbiAgICBhcmcgPSB0aGlzLFxyXG4gICAgQ3RvciA9IGFyZy5jb25zdHJ1Y3RvcixcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBndWFyZCA9IDU7XHJcblxyXG4gIC8vIERlZmF1bHQgYmFzZSBpcyAxMC5cclxuICBpZiAoYmFzZSA9PSBudWxsKSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoMTApO1xyXG4gICAgaXNCYXNlMTAgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoYmFzZSk7XHJcbiAgICBkID0gYmFzZS5kO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYmFzZSBpcyBuZWdhdGl2ZSwgb3Igbm9uLWZpbml0ZSwgb3IgaXMgMCBvciAxLlxyXG4gICAgaWYgKGJhc2UucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYmFzZS5lcSgxKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgaXNCYXNlMTAgPSBiYXNlLmVxKDEwKTtcclxuICB9XHJcblxyXG4gIGQgPSBhcmcuZDtcclxuXHJcbiAgLy8gSXMgYXJnIG5lZ2F0aXZlLCBub24tZmluaXRlLCAwIG9yIDE/XHJcbiAgaWYgKGFyZy5zIDwgMCB8fCAhZCB8fCAhZFswXSB8fCBhcmcuZXEoMSkpIHtcclxuICAgIHJldHVybiBuZXcgQ3RvcihkICYmICFkWzBdID8gLTEgLyAwIDogYXJnLnMgIT0gMSA/IE5hTiA6IGQgPyAwIDogMSAvIDApO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhlIHJlc3VsdCB3aWxsIGhhdmUgYSBub24tdGVybWluYXRpbmcgZGVjaW1hbCBleHBhbnNpb24gaWYgYmFzZSBpcyAxMCBhbmQgYXJnIGlzIG5vdCBhblxyXG4gIC8vIGludGVnZXIgcG93ZXIgb2YgMTAuXHJcbiAgaWYgKGlzQmFzZTEwKSB7XHJcbiAgICBpZiAoZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGluZiA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGsgPSBkWzBdOyBrICUgMTAgPT09IDA7KSBrIC89IDEwO1xyXG4gICAgICBpbmYgPSBrICE9PSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBzZCA9IHByICsgZ3VhcmQ7XHJcbiAgbnVtID0gbmF0dXJhbExvZ2FyaXRobShhcmcsIHNkKTtcclxuICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG5cclxuICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSA1IHJvdW5kaW5nIGRpZ2l0cy5cclxuICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgLy8gSWYgYXQgYSByb3VuZGluZyBib3VuZGFyeSwgaS5lLiB0aGUgcmVzdWx0J3Mgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCxcclxuICAvLyBjYWxjdWxhdGUgMTAgZnVydGhlciBkaWdpdHMuXHJcbiAgLy9cclxuICAvLyBJZiB0aGUgcmVzdWx0IGlzIGtub3duIHRvIGhhdmUgYW4gaW5maW5pdGUgZGVjaW1hbCBleHBhbnNpb24sIHJlcGVhdCB0aGlzIHVudGlsIGl0IGlzIGNsZWFyXHJcbiAgLy8gdGhhdCB0aGUgcmVzdWx0IGlzIGFib3ZlIG9yIGJlbG93IHRoZSBib3VuZGFyeS4gT3RoZXJ3aXNlLCBpZiBhZnRlciBjYWxjdWxhdGluZyB0aGUgMTBcclxuICAvLyBmdXJ0aGVyIGRpZ2l0cywgdGhlIGxhc3QgMTQgYXJlIG5pbmVzLCByb3VuZCB1cCBhbmQgYXNzdW1lIHRoZSByZXN1bHQgaXMgZXhhY3QuXHJcbiAgLy8gQWxzbyBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdCBpZiB0aGUgbGFzdCAxNCBhcmUgemVyby5cclxuICAvL1xyXG4gIC8vIEV4YW1wbGUgb2YgYSByZXN1bHQgdGhhdCB3aWxsIGJlIGluY29ycmVjdGx5IHJvdW5kZWQ6XHJcbiAgLy8gbG9nWzEwNDg1NzZdKDQ1MDM1OTk2MjczNzA1MDIpID0gMi42MDAwMDAwMDAwMDAwMDAwOTYxMDI3OTUxMTQ0NDc0Ni4uLlxyXG4gIC8vIFRoZSBhYm92ZSByZXN1bHQgY29ycmVjdGx5IHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWwgcGxhY2Ugc2hvdWxkIGJlIDIuNywgYnV0IGl0XHJcbiAgLy8gd2lsbCBiZSBnaXZlbiBhcyAyLjYgYXMgdGhlcmUgYXJlIDE1IHplcm9zIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSByZXF1ZXN0ZWQgZGVjaW1hbCBwbGFjZSwgc29cclxuICAvLyB0aGUgZXhhY3QgcmVzdWx0IHdvdWxkIGJlIGFzc3VtZWQgdG8gYmUgMi42LCB3aGljaCByb3VuZGVkIHVzaW5nIFJPVU5EX0NFSUwgdG8gMSBkZWNpbWFsXHJcbiAgLy8gcGxhY2UgaXMgc3RpbGwgMi42LlxyXG4gIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgayA9IHByLCBybSkpIHtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIHNkICs9IDEwO1xyXG4gICAgICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gICAgICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG4gICAgICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgICAgIGlmICghaW5mKSB7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQsIGFzIHRoZSBmaXJzdCBtYXkgYmUgNC5cclxuICAgICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UoayArIDEsIGsgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDEsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrICs9IDEwLCBybSkpO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdsdCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdndCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiAgbiAtIDAgPSBuXHJcbiAqICBuIC0gTiA9IE5cclxuICogIG4gLSBJID0gLUlcclxuICogIDAgLSBuID0gLW5cclxuICogIDAgLSAwID0gMFxyXG4gKiAgMCAtIE4gPSBOXHJcbiAqICAwIC0gSSA9IC1JXHJcbiAqICBOIC0gbiA9IE5cclxuICogIE4gLSAwID0gTlxyXG4gKiAgTiAtIE4gPSBOXHJcbiAqICBOIC0gSSA9IE5cclxuICogIEkgLSBuID0gSVxyXG4gKiAgSSAtIDAgPSBJXHJcbiAqICBJIC0gTiA9IE5cclxuICogIEkgLSBJID0gTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZCwgZSwgaSwgaiwgaywgbGVuLCBwciwgcm0sIHhkLCB4ZSwgeExUeSwgeWQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgIGVsc2UgaWYgKHguZCkgeS5zID0gLXkucztcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICBlbHNlIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zICE9PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICB9XHJcblxyXG4gIHhkID0geC5kO1xyXG4gIHlkID0geS5kO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIHplcm8gYW5kIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoeWRbMF0pIHkucyA9IC15LnM7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvIGFuZCB4IGlzIG5vbi16ZXJvLlxyXG4gICAgZWxzZSBpZiAoeGRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICAvLyBSZXR1cm4gemVybyBpZiBib3RoIGFyZSB6ZXJvLlxyXG4gICAgLy8gRnJvbSBJRUVFIDc1NCAoMjAwOCkgNi4zOiAwIC0gMCA9IC0wIC0gLTAgPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eS5cclxuICAgIGVsc2UgcmV0dXJuIG5ldyBDdG9yKHJtID09PSAzID8gLTAgOiAwKTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9XHJcblxyXG4gIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGUgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgayA9IHhlIC0gZTtcclxuXHJcbiAgLy8gSWYgYmFzZSAxZTcgZXhwb25lbnRzIGRpZmZlci4uLlxyXG4gIGlmIChrKSB7XHJcbiAgICB4TFR5ID0gayA8IDA7XHJcblxyXG4gICAgaWYgKHhMVHkpIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBrID0gLWs7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IHhlO1xyXG4gICAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTnVtYmVycyB3aXRoIG1hc3NpdmVseSBkaWZmZXJlbnQgZXhwb25lbnRzIHdvdWxkIHJlc3VsdCBpbiBhIHZlcnkgaGlnaCBudW1iZXIgb2ZcclxuICAgIC8vIHplcm9zIG5lZWRpbmcgdG8gYmUgcHJlcGVuZGVkLCBidXQgdGhpcyBjYW4gYmUgYXZvaWRlZCB3aGlsZSBzdGlsbCBlbnN1cmluZyBjb3JyZWN0XHJcbiAgICAvLyByb3VuZGluZyBieSBsaW1pdGluZyB0aGUgbnVtYmVyIG9mIHplcm9zIHRvIGBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSkgKyAyYC5cclxuICAgIGkgPSBNYXRoLm1heChNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSksIGxlbikgKyAyO1xyXG5cclxuICAgIGlmIChrID4gaSkge1xyXG4gICAgICBrID0gaTtcclxuICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgZC5yZXZlcnNlKCk7XHJcbiAgICBmb3IgKGkgPSBrOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuXHJcbiAgLy8gQmFzZSAxZTcgZXhwb25lbnRzIGVxdWFsLlxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gQ2hlY2sgZGlnaXRzIHRvIGRldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cclxuXHJcbiAgICBpID0geGQubGVuZ3RoO1xyXG4gICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgeExUeSA9IGkgPCBsZW47XHJcbiAgICBpZiAoeExUeSkgbGVuID0gaTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgaWYgKHhkW2ldICE9IHlkW2ldKSB7XHJcbiAgICAgICAgeExUeSA9IHhkW2ldIDwgeWRbaV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBrID0gMDtcclxuICB9XHJcblxyXG4gIGlmICh4TFR5KSB7XHJcbiAgICBkID0geGQ7XHJcbiAgICB4ZCA9IHlkO1xyXG4gICAgeWQgPSBkO1xyXG4gICAgeS5zID0gLXkucztcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgLy8gQXBwZW5kIHplcm9zIHRvIGB4ZGAgaWYgc2hvcnRlci5cclxuICAvLyBEb24ndCBhZGQgemVyb3MgdG8gYHlkYCBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0aW9uIG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgYHlkYCBsZW5ndGguXHJcbiAgZm9yIChpID0geWQubGVuZ3RoIC0gbGVuOyBpID4gMDsgLS1pKSB4ZFtsZW4rK10gPSAwO1xyXG5cclxuICAvLyBTdWJ0cmFjdCB5ZCBmcm9tIHhkLlxyXG4gIGZvciAoaSA9IHlkLmxlbmd0aDsgaSA+IGs7KSB7XHJcblxyXG4gICAgaWYgKHhkWy0taV0gPCB5ZFtpXSkge1xyXG4gICAgICBmb3IgKGogPSBpOyBqICYmIHhkWy0tal0gPT09IDA7KSB4ZFtqXSA9IEJBU0UgLSAxO1xyXG4gICAgICAtLXhkW2pdO1xyXG4gICAgICB4ZFtpXSArPSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIHhkW2ldIC09IHlkW2ldO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyB4ZFstLWxlbl0gPT09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICBmb3IgKDsgeGRbMF0gPT09IDA7IHhkLnNoaWZ0KCkpIC0tZTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoIXhkWzBdKSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICB5LmQgPSB4ZDtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICAgbiAlIDAgPSAgTlxyXG4gKiAgIG4gJSBOID0gIE5cclxuICogICBuICUgSSA9ICBuXHJcbiAqICAgMCAlIG4gPSAgMFxyXG4gKiAgLTAgJSBuID0gLTBcclxuICogICAwICUgMCA9ICBOXHJcbiAqICAgMCAlIE4gPSAgTlxyXG4gKiAgIDAgJSBJID0gIDBcclxuICogICBOICUgbiA9ICBOXHJcbiAqICAgTiAlIDAgPSAgTlxyXG4gKiAgIE4gJSBOID0gIE5cclxuICogICBOICUgSSA9ICBOXHJcbiAqICAgSSAlIG4gPSAgTlxyXG4gKiAgIEkgJSAwID0gIE5cclxuICogICBJICUgTiA9ICBOXHJcbiAqICAgSSAlIEkgPSAgTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1vZHVsbyBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSBtb2R1bG8gbW9kZS5cclxuICpcclxuICovXHJcblAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBxLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrFJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIMKxMC5cclxuICBpZiAoIXguZCB8fCAheS5zIHx8IHkuZCAmJiAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gUmV0dXJuIHggaWYgeSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwLlxyXG4gIGlmICgheS5kIHx8IHguZCAmJiAheC5kWzBdKSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxuICB9XHJcblxyXG4gIC8vIFByZXZlbnQgcm91bmRpbmcgb2YgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucy5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBpZiAoQ3Rvci5tb2R1bG8gPT0gOSkge1xyXG5cclxuICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgLy8gcmVzdWx0ID0geCAtIHEgKiB5ICAgIHdoZXJlICAwIDw9IHJlc3VsdCA8IGFicyh5KVxyXG4gICAgcSA9IGRpdmlkZSh4LCB5LmFicygpLCAwLCAzLCAxKTtcclxuICAgIHEucyAqPSB5LnM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHEgPSBkaXZpZGUoeCwgeSwgMCwgQ3Rvci5tb2R1bG8sIDEpO1xyXG4gIH1cclxuXHJcbiAgcSA9IHEudGltZXMoeSk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHgubWludXMocSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICogaS5lLiB0aGUgYmFzZSBlIHJhaXNlZCB0byB0aGUgcG93ZXIgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5uYXR1cmFsRXhwb25lbnRpYWwgPSBQLmV4cCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gbmF0dXJhbEV4cG9uZW50aWFsKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm5hdHVyYWxMb2dhcml0aG0gPSBQLmxuID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBuYXR1cmFsTG9nYXJpdGhtKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbmVnYXRlZCwgaS5lLiBhcyBpZiBtdWx0aXBsaWVkIGJ5XHJcbiAqIC0xLlxyXG4gKlxyXG4gKi9cclxuUC5uZWdhdGVkID0gUC5uZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICB4LnMgPSAteC5zO1xyXG4gIHJldHVybiBmaW5hbGlzZSh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiArIDAgPSBuXHJcbiAqICBuICsgTiA9IE5cclxuICogIG4gKyBJID0gSVxyXG4gKiAgMCArIG4gPSBuXHJcbiAqICAwICsgMCA9IDBcclxuICogIDAgKyBOID0gTlxyXG4gKiAgMCArIEkgPSBJXHJcbiAqICBOICsgbiA9IE5cclxuICogIE4gKyAwID0gTlxyXG4gKiAgTiArIE4gPSBOXHJcbiAqICBOICsgSSA9IE5cclxuICogIEkgKyBuID0gSVxyXG4gKiAgSSArIDAgPSBJXHJcbiAqICBJICsgTiA9IE5cclxuICogIEkgKyBJID0gSVxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHBsdXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGNhcnJ5LCBkLCBlLCBpLCBrLCBsZW4sIHByLCBybSwgeGQsIHlkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gIGlmICgheC5kIHx8ICF5LmQpIHtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCBkaWZmZXJlbnQgc2lnbnMuXHJcbiAgICAvLyBSZXR1cm4geSBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgZWxzZSBpZiAoIXguZCkgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgPT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgfVxyXG5cclxuICB4ZCA9IHguZDtcclxuICB5ZCA9IHkuZDtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgemVyby5cclxuICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoIXlkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfVxyXG5cclxuICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAvLyBDYWxjdWxhdGUgYmFzZSAxZTcgZXhwb25lbnRzLlxyXG4gIGsgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG4gIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgaSA9IGsgLSBlO1xyXG5cclxuICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgaWYgKGkpIHtcclxuXHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBpID0gLWk7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IGs7XHJcbiAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMaW1pdCBudW1iZXIgb2YgemVyb3MgcHJlcGVuZGVkIHRvIG1heChjZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMS5cclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcbiAgICBsZW4gPSBrID4gbGVuID8gayArIDEgOiBsZW4gKyAxO1xyXG5cclxuICAgIGlmIChpID4gbGVuKSB7XHJcbiAgICAgIGkgPSBsZW47XHJcbiAgICAgIGQubGVuZ3RoID0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gTm90ZTogRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICBkLnJldmVyc2UoKTtcclxuICAgIGZvciAoOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuICBpID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBJZiB5ZCBpcyBsb25nZXIgdGhhbiB4ZCwgc3dhcCB4ZCBhbmQgeWQgc28geGQgcG9pbnRzIHRvIHRoZSBsb25nZXIgYXJyYXkuXHJcbiAgaWYgKGxlbiAtIGkgPCAwKSB7XHJcbiAgICBpID0gbGVuO1xyXG4gICAgZCA9IHlkO1xyXG4gICAgeWQgPSB4ZDtcclxuICAgIHhkID0gZDtcclxuICB9XHJcblxyXG4gIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHlkLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhkIGNhbiBiZSBsZWZ0IGFzIHRoZXkgYXJlLlxyXG4gIGZvciAoY2FycnkgPSAwOyBpOykge1xyXG4gICAgY2FycnkgPSAoeGRbLS1pXSA9IHhkW2ldICsgeWRbaV0gKyBjYXJyeSkgLyBCQVNFIHwgMDtcclxuICAgIHhkW2ldICU9IEJBU0U7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FycnkpIHtcclxuICAgIHhkLnVuc2hpZnQoY2FycnkpO1xyXG4gICAgKytlO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgeS5kID0geGQ7XHJcbiAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogW3pdIHtib29sZWFufG51bWJlcn0gV2hldGhlciB0byBjb3VudCBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3M6IHRydWUsIGZhbHNlLCAxIG9yIDAuXHJcbiAqXHJcbiAqL1xyXG5QLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoeikge1xyXG4gIHZhciBrLFxyXG4gICAgeCA9IHRoaXM7XHJcblxyXG4gIGlmICh6ICE9PSB2b2lkIDAgJiYgeiAhPT0gISF6ICYmIHogIT09IDEgJiYgeiAhPT0gMCkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgeik7XHJcblxyXG4gIGlmICh4LmQpIHtcclxuICAgIGsgPSBnZXRQcmVjaXNpb24oeC5kKTtcclxuICAgIGlmICh6ICYmIHguZSArIDEgPiBrKSBrID0geC5lICsgMTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IE5hTjtcclxuICB9XHJcblxyXG4gIHJldHVybiBrO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciB1c2luZ1xyXG4gKiByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnJvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHguZSArIDEsIEN0b3Iucm91bmRpbmcpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogc2luKHgpID0geCAtIHheMy8zISArIHheNS81ISAtIC4uLlxyXG4gKlxyXG4gKiBzaW4oMCkgICAgICAgICA9IDBcclxuICogc2luKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW4oSW5maW5pdHkpICA9IE5hTlxyXG4gKiBzaW4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiBzaW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5zaW5lID0gUC5zaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBzaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID4gMiA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogIHNxcnQoLW4pID0gIE5cclxuICogIHNxcnQoTikgID0gIE5cclxuICogIHNxcnQoLUkpID0gIE5cclxuICogIHNxcnQoSSkgID0gIElcclxuICogIHNxcnQoMCkgID0gIDBcclxuICogIHNxcnQoLTApID0gLTBcclxuICpcclxuICovXHJcblAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbSwgbiwgc2QsIHIsIHJlcCwgdCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgZCA9IHguZCxcclxuICAgIGUgPSB4LmUsXHJcbiAgICBzID0geC5zLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gIGlmIChzICE9PSAxIHx8ICFkIHx8ICFkWzBdKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoIXMgfHwgcyA8IDAgJiYgKCFkIHx8IGRbMF0pID8gTmFOIDogZCA/IHggOiAxIC8gMCk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSBNYXRoLnNxcnQoK3gpO1xyXG5cclxuICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICBuID0gZGlnaXRzVG9TdHJpbmcoZCk7XHJcblxyXG4gICAgaWYgKChuLmxlbmd0aCArIGUpICUgMiA9PSAwKSBuICs9ICcwJztcclxuICAgIHMgPSBNYXRoLnNxcnQobik7XHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgIH1cclxuXHJcbiAgICByID0gbmV3IEN0b3Iobik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gIH1cclxuXHJcbiAgc2QgPSAoZSA9IEN0b3IucHJlY2lzaW9uKSArIDM7XHJcblxyXG4gIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICBmb3IgKDs7KSB7XHJcbiAgICB0ID0gcjtcclxuICAgIHIgPSB0LnBsdXMoZGl2aWRlKHgsIHQsIHNkICsgMiwgMSkpLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgLy8gVE9ETz8gUmVwbGFjZSB3aXRoIGZvci1sb29wIGFuZCBjaGVja1JvdW5kaW5nRGlnaXRzLlxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgc2QpID09PSAobiA9IGRpZ2l0c1RvU3RyaW5nKHIuZCkpLnNsaWNlKDAsIHNkKSkge1xyXG4gICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHMgYXJlIDk5OTkgb3JcclxuICAgICAgLy8gNDk5OSwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIHRhbigwKSAgICAgICAgID0gMFxyXG4gKiB0YW4oLTApICAgICAgICA9IC0wXHJcbiAqIHRhbihJbmZpbml0eSkgID0gTmFOXHJcbiAqIHRhbigtSW5maW5pdHkpID0gTmFOXHJcbiAqIHRhbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLnRhbmdlbnQgPSBQLnRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguc2luKCk7XHJcbiAgeC5zID0gMTtcclxuICB4ID0gZGl2aWRlKHgsIG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKSwgcHIgKyAxMCwgMCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSA0ID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gKiAwID0gMFxyXG4gKiAgbiAqIE4gPSBOXHJcbiAqICBuICogSSA9IElcclxuICogIDAgKiBuID0gMFxyXG4gKiAgMCAqIDAgPSAwXHJcbiAqICAwICogTiA9IE5cclxuICogIDAgKiBJID0gTlxyXG4gKiAgTiAqIG4gPSBOXHJcbiAqICBOICogMCA9IE5cclxuICogIE4gKiBOID0gTlxyXG4gKiAgTiAqIEkgPSBOXHJcbiAqICBJICogbiA9IElcclxuICogIEkgKiAwID0gTlxyXG4gKiAgSSAqIE4gPSBOXHJcbiAqICBJICogSSA9IElcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhpcyBEZWNpbWFsIHRpbWVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC50aW1lcyA9IFAubXVsID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgY2FycnksIGUsIGksIGssIHIsIHJMLCB0LCB4ZEwsIHlkTCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIHlkID0gKHkgPSBuZXcgQ3Rvcih5KSkuZDtcclxuXHJcbiAgeS5zICo9IHgucztcclxuXHJcbiAgIC8vIElmIGVpdGhlciBpcyBOYU4sIMKxSW5maW5pdHkgb3IgwrEwLi4uXHJcbiAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIHJldHVybiBuZXcgQ3RvcigheS5zIHx8IHhkICYmICF4ZFswXSAmJiAheWQgfHwgeWQgJiYgIXlkWzBdICYmICF4ZFxyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrEwIGFuZCB5IGlzIMKxSW5maW5pdHksIG9yIHkgaXMgwrEwIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgID8gTmFOXHJcblxyXG4gICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgaXMgwrFJbmZpbml0eS5cclxuICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxyXG4gICAgICA6ICF4ZCB8fCAheWQgPyB5LnMgLyAwIDogeS5zICogMCk7XHJcbiAgfVxyXG5cclxuICBlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKSArIG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGRMID0geGQubGVuZ3RoO1xyXG4gIHlkTCA9IHlkLmxlbmd0aDtcclxuXHJcbiAgLy8gRW5zdXJlIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gIGlmICh4ZEwgPCB5ZEwpIHtcclxuICAgIHIgPSB4ZDtcclxuICAgIHhkID0geWQ7XHJcbiAgICB5ZCA9IHI7XHJcbiAgICByTCA9IHhkTDtcclxuICAgIHhkTCA9IHlkTDtcclxuICAgIHlkTCA9IHJMO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgciA9IFtdO1xyXG4gIHJMID0geGRMICsgeWRMO1xyXG4gIGZvciAoaSA9IHJMOyBpLS07KSByLnB1c2goMCk7XHJcblxyXG4gIC8vIE11bHRpcGx5IVxyXG4gIGZvciAoaSA9IHlkTDsgLS1pID49IDA7KSB7XHJcbiAgICBjYXJyeSA9IDA7XHJcbiAgICBmb3IgKGsgPSB4ZEwgKyBpOyBrID4gaTspIHtcclxuICAgICAgdCA9IHJba10gKyB5ZFtpXSAqIHhkW2sgLSBpIC0gMV0gKyBjYXJyeTtcclxuICAgICAgcltrLS1dID0gdCAlIEJBU0UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHQgLyBCQVNFIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICByW2tdID0gKHJba10gKyBjYXJyeSkgJSBCQVNFIHwgMDtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKDsgIXJbLS1yTF07KSByLnBvcCgpO1xyXG5cclxuICBpZiAoY2FycnkpICsrZTtcclxuICBlbHNlIHIuc2hpZnQoKTtcclxuXHJcbiAgeS5kID0gcjtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudChyLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSAyLCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0JpbmFyeSA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMiwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBkcGBcclxuICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLlxyXG4gKlxyXG4gKiBJZiBgZHBgIGlzIG9taXR0ZWQsIHJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9EZWNpbWFsUGxhY2VzID0gUC50b0RQID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHJldHVybiB4O1xyXG5cclxuICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIHJvdW5kZWQgdG9cclxuICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgc3RyLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgMSwgcm0pO1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSwgZHAgKyAxKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIG5vcm1hbCAoZml4ZWQtcG9pbnQpIG5vdGF0aW9uIHRvXHJcbiAqIGBkcGAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgYW5kIHJvdW5kZWQgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpc1xyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBBcyB3aXRoIEphdmFTY3JpcHQgbnVtYmVycywgKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqICgtMCkudG9GaXhlZCgxKSBpcyAnMC4wJywgYnV0ICgtMC4wMSkudG9GaXhlZCgxKSBpcyAnLTAuMCcuXHJcbiAqICgtMCkudG9GaXhlZCgzKSBpcyAnMC4wMDAnLlxyXG4gKiAoLTAuNSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKlxyXG4gKi9cclxuUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciBzdHIsIHksXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHkgPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh5LCBmYWxzZSwgZHAgKyB5LmUgKyAxKTtcclxuICB9XHJcblxyXG4gIC8vIFRvIGRldGVybWluZSB3aGV0aGVyIHRvIGFkZCB0aGUgbWludXMgc2lnbiBsb29rIGF0IHRoZSB2YWx1ZSBiZWZvcmUgaXQgd2FzIHJvdW5kZWQsXHJcbiAgLy8gaS5lLiBsb29rIGF0IGB4YCByYXRoZXIgdGhhbiBgeWAuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgYXMgYSBzaW1wbGUgZnJhY3Rpb24gd2l0aCBhbiBpbnRlZ2VyXHJcbiAqIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci5cclxuICpcclxuICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBtYXhpbXVtXHJcbiAqIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgdGhlIGxvd2VzdFxyXG4gKiB2YWx1ZSBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICpcclxuICogW21heERdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IE1heGltdW0gZGVub21pbmF0b3IuIEludGVnZXIgPj0gMSBhbmQgPCBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtYXhEKSB7XHJcbiAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGssIG4sIG4wLCBuMSwgcHIsIHEsIHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheGQpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgbjEgPSBkMCA9IG5ldyBDdG9yKDEpO1xyXG4gIGQxID0gbjAgPSBuZXcgQ3RvcigwKTtcclxuXHJcbiAgZCA9IG5ldyBDdG9yKGQxKTtcclxuICBlID0gZC5lID0gZ2V0UHJlY2lzaW9uKHhkKSAtIHguZSAtIDE7XHJcbiAgayA9IGUgJSBMT0dfQkFTRTtcclxuICBkLmRbMF0gPSBtYXRocG93KDEwLCBrIDwgMCA/IExPR19CQVNFICsgayA6IGspO1xyXG5cclxuICBpZiAobWF4RCA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gZCBpcyAxMCoqZSwgdGhlIG1pbmltdW0gbWF4LWRlbm9taW5hdG9yIG5lZWRlZC5cclxuICAgIG1heEQgPSBlID4gMCA/IGQgOiBuMTtcclxuICB9IGVsc2Uge1xyXG4gICAgbiA9IG5ldyBDdG9yKG1heEQpO1xyXG4gICAgaWYgKCFuLmlzSW50KCkgfHwgbi5sdChuMSkpIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIG4pO1xyXG4gICAgbWF4RCA9IG4uZ3QoZCkgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgbiA9IG5ldyBDdG9yKGRpZ2l0c1RvU3RyaW5nKHhkKSk7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBDdG9yLnByZWNpc2lvbiA9IGUgPSB4ZC5sZW5ndGggKiBMT0dfQkFTRSAqIDI7XHJcblxyXG4gIGZvciAoOzspICB7XHJcbiAgICBxID0gZGl2aWRlKG4sIGQsIDAsIDEsIDEpO1xyXG4gICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgIGlmIChkMi5jbXAobWF4RCkgPT0gMSkgYnJlYWs7XHJcbiAgICBkMCA9IGQxO1xyXG4gICAgZDEgPSBkMjtcclxuICAgIGQyID0gbjE7XHJcbiAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMikpO1xyXG4gICAgbjAgPSBkMjtcclxuICAgIGQyID0gZDtcclxuICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIpKTtcclxuICAgIG4gPSBkMjtcclxuICB9XHJcblxyXG4gIGQyID0gZGl2aWRlKG1heEQubWludXMoZDApLCBkMSwgMCwgMSwgMSk7XHJcbiAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgbjAucyA9IG4xLnMgPSB4LnM7XHJcblxyXG4gIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDE/XHJcbiAgciA9IGRpdmlkZShuMSwgZDEsIGUsIDEpLm1pbnVzKHgpLmFicygpLmNtcChkaXZpZGUobjAsIGQwLCBlLCAxKS5taW51cyh4KS5hYnMoKSkgPCAxXHJcbiAgICAgID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiByO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDE2LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0hleGFkZWNpbWFsID0gUC50b0hleCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMTYsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJucyBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIGB5YCBpbiB0aGUgZGlyZWN0aW9uIG9mIHJvdW5kaW5nXHJcbiAqIG1vZGUgYHJtYCwgb3IgYERlY2ltYWwucm91bmRpbmdgIGlmIGBybWAgaXMgb21pdHRlZCwgdG8gdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHNpZ24gYXMgdGhpcyBEZWNpbWFsLCB1bmxlc3MgZWl0aGVyIHRoaXMgRGVjaW1hbFxyXG4gKiBvciBgeWAgaXMgTmFOLCBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSBhbHNvIGJlIE5hTi5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLlxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBtYWduaXR1ZGUgdG8gcm91bmQgdG8gYSBtdWx0aXBsZSBvZi5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xyXG4gKlxyXG4gKi9cclxuUC50b05lYXJlc3QgPSBmdW5jdGlvbiAoeSwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICBpZiAoeSA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geC5cclxuICAgIGlmICgheC5kKSByZXR1cm4geDtcclxuXHJcbiAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHggaXMgbm90IGZpbml0ZSwgcmV0dXJuIHggaWYgeSBpcyBub3QgTmFOLCBlbHNlIE5hTi5cclxuICAgIGlmICgheC5kKSByZXR1cm4geS5zID8geCA6IHk7XHJcblxyXG4gICAgLy8gSWYgeSBpcyBub3QgZmluaXRlLCByZXR1cm4gSW5maW5pdHkgd2l0aCB0aGUgc2lnbiBvZiB4IGlmIHkgaXMgSW5maW5pdHksIGVsc2UgTmFOLlxyXG4gICAgaWYgKCF5LmQpIHtcclxuICAgICAgaWYgKHkucykgeS5zID0geC5zO1xyXG4gICAgICByZXR1cm4geTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHkgaXMgbm90IHplcm8sIGNhbGN1bGF0ZSB0aGUgbmVhcmVzdCBtdWx0aXBsZSBvZiB5IHRvIHguXHJcbiAgaWYgKHkuZFswXSkge1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHggPSBkaXZpZGUoeCwgeSwgMCwgcm0sIDEpLnRpbWVzKHkpO1xyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgZmluYWxpc2UoeCk7XHJcblxyXG4gIC8vIElmIHkgaXMgemVybywgcmV0dXJuIHplcm8gd2l0aCB0aGUgc2lnbiBvZiB4LlxyXG4gIH0gZWxzZSB7XHJcbiAgICB5LnMgPSB4LnM7XHJcbiAgICB4ID0geTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXHJcbiAqIFplcm8ga2VlcHMgaXRzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiArdGhpcztcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSA4LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b09jdGFsID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCA4LCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWRcclxuICogdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRUNNQVNjcmlwdCBjb21wbGlhbnQuXHJcbiAqXHJcbiAqICAgcG93KHgsIE5hTikgICAgICAgICAgICAgICAgICAgICAgICAgICA9IE5hTlxyXG4gKiAgIHBvdyh4LCDCsTApICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMVxyXG5cclxuICogICBwb3coTmFOLCBub24temVybykgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA+IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhhYnMoeCkgPiAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdyhhYnMoeCkgPT0gMSwgwrFJbmZpbml0eSkgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA8IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KGFicyh4KSA8IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygrSW5maW5pdHksIHkgPiAwKSAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coK0luZmluaXR5LCB5IDwgMCkgICAgICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA+IDApICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygtSW5maW5pdHksIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgPSAtMFxyXG4gKiAgIHBvdygtSW5maW5pdHksIGV2ZW4gaW50ZWdlciA8IDApICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA+IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA8IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgID0gLTBcclxuICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA+IDApICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC0wLCBldmVuIGludGVnZXIgPCAwKSAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhmaW5pdGUgeCA8IDAsIGZpbml0ZSBub24taW50ZWdlcikgPSBOYU5cclxuICpcclxuICogRm9yIG5vbi1pbnRlZ2VyIG9yIHZlcnkgbGFyZ2UgZXhwb25lbnRzIHBvdyh4LCB5KSBpcyBjYWxjdWxhdGVkIHVzaW5nXHJcbiAqXHJcbiAqICAgeF55ID0gZXhwKHkqbG4oeCkpXHJcbiAqXHJcbiAqIEFzc3VtaW5nIHRoZSBmaXJzdCAxNSByb3VuZGluZyBkaWdpdHMgYXJlIGVhY2ggZXF1YWxseSBsaWtlbHkgdG8gYmUgYW55IGRpZ2l0IDAtOSwgdGhlXHJcbiAqIHByb2JhYmlsaXR5IG9mIGFuIGluY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0XHJcbiAqIFAoWzQ5XTl7MTR9IHwgWzUwXTB7MTR9KSA9IDIgKiAwLjIgKiAxMF4tMTQgPSA0ZS0xNSA9IDEvMi41ZSsxNFxyXG4gKiBpLmUuIDEgaW4gMjUwLDAwMCwwMDAsMDAwLDAwMFxyXG4gKlxyXG4gKiBJZiBhIHJlc3VsdCBpcyBpbmNvcnJlY3RseSByb3VuZGVkIHRoZSBtYXhpbXVtIGVycm9yIHdpbGwgYmUgMSB1bHAgKHVuaXQgaW4gbGFzdCBwbGFjZSkuXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAudG9Qb3dlciA9IFAucG93ID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZSwgaywgcHIsIHIsIHJtLCBzLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHluID0gKyh5ID0gbmV3IEN0b3IoeSkpO1xyXG5cclxuICAvLyBFaXRoZXIgwrFJbmZpbml0eSwgTmFOIG9yIMKxMD9cclxuICBpZiAoIXguZCB8fCAheS5kIHx8ICF4LmRbMF0gfHwgIXkuZFswXSkgcmV0dXJuIG5ldyBDdG9yKG1hdGhwb3coK3gsIHluKSk7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgaWYgKHguZXEoMSkpIHJldHVybiB4O1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKHkuZXEoMSkpIHJldHVybiBmaW5hbGlzZSh4LCBwciwgcm0pO1xyXG5cclxuICAvLyB5IGV4cG9uZW50XHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIC8vIElmIHkgaXMgYSBzbWFsbCBpbnRlZ2VyIHVzZSB0aGUgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJyBhbGdvcml0aG0uXHJcbiAgaWYgKGUgPj0geS5kLmxlbmd0aCAtIDEgJiYgKGsgPSB5biA8IDAgPyAteW4gOiB5bikgPD0gTUFYX1NBRkVfSU5URUdFUikge1xyXG4gICAgciA9IGludFBvdyhDdG9yLCB4LCBrLCBwcik7XHJcbiAgICByZXR1cm4geS5zIDwgMCA/IG5ldyBDdG9yKDEpLmRpdihyKSA6IGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgfVxyXG5cclxuICBzID0geC5zO1xyXG5cclxuICAvLyBpZiB4IGlzIG5lZ2F0aXZlXHJcbiAgaWYgKHMgPCAwKSB7XHJcblxyXG4gICAgLy8gaWYgeSBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgaWYgKGUgPCB5LmQubGVuZ3RoIC0gMSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmVzdWx0IGlzIHBvc2l0aXZlIGlmIHggaXMgbmVnYXRpdmUgYW5kIHRoZSBsYXN0IGRpZ2l0IG9mIGludGVnZXIgeSBpcyBldmVuLlxyXG4gICAgaWYgKCh5LmRbZV0gJiAxKSA9PSAwKSBzID0gMTtcclxuXHJcbiAgICAvLyBpZiB4LmVxKC0xKVxyXG4gICAgaWYgKHguZSA9PSAwICYmIHguZFswXSA9PSAxICYmIHguZC5sZW5ndGggPT0gMSkge1xyXG4gICAgICB4LnMgPSBzO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVzdGltYXRlIHJlc3VsdCBleHBvbmVudC5cclxuICAvLyB4XnkgPSAxMF5lLCAgd2hlcmUgZSA9IHkgKiBsb2cxMCh4KVxyXG4gIC8vIGxvZzEwKHgpID0gbG9nMTAoeF9zaWduaWZpY2FuZCkgKyB4X2V4cG9uZW50XHJcbiAgLy8gbG9nMTAoeF9zaWduaWZpY2FuZCkgPSBsbih4X3NpZ25pZmljYW5kKSAvIGxuKDEwKVxyXG4gIGsgPSBtYXRocG93KCt4LCB5bik7XHJcbiAgZSA9IGsgPT0gMCB8fCAhaXNGaW5pdGUoaylcclxuICAgID8gbWF0aGZsb29yKHluICogKE1hdGgubG9nKCcwLicgKyBkaWdpdHNUb1N0cmluZyh4LmQpKSAvIE1hdGguTE4xMCArIHguZSArIDEpKVxyXG4gICAgOiBuZXcgQ3RvcihrICsgJycpLmU7XHJcblxyXG4gIC8vIEV4cG9uZW50IGVzdGltYXRlIG1heSBiZSBpbmNvcnJlY3QgZS5nLiB4OiAwLjk5OTk5OTk5OTk5OTk5OTk5OSwgeTogMi4yOSwgZTogMCwgci5lOiAtMS5cclxuXHJcbiAgLy8gT3ZlcmZsb3cvdW5kZXJmbG93P1xyXG4gIGlmIChlID4gQ3Rvci5tYXhFICsgMSB8fCBlIDwgQ3Rvci5taW5FIC0gMSkgcmV0dXJuIG5ldyBDdG9yKGUgPiAwID8gcyAvIDAgOiAwKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBDdG9yLnJvdW5kaW5nID0geC5zID0gMTtcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIGV4dHJhIGd1YXJkIGRpZ2l0cyBuZWVkZWQgdG8gZW5zdXJlIGZpdmUgY29ycmVjdCByb3VuZGluZyBkaWdpdHMgZnJvbVxyXG4gIC8vIG5hdHVyYWxMb2dhcml0aG0oeCkuIEV4YW1wbGUgb2YgZmFpbHVyZSB3aXRob3V0IHRoZXNlIGV4dHJhIGRpZ2l0cyAocHJlY2lzaW9uOiAxMCk6XHJcbiAgLy8gbmV3IERlY2ltYWwoMi4zMjQ1NikucG93KCcyMDg3OTg3NDM2NTM0NTY2LjQ2NDExJylcclxuICAvLyBzaG91bGQgYmUgMS4xNjIzNzc4MjNlKzc2NDkxNDkwNTE3MzgxNSwgYnV0IGlzIDEuMTYyMzU1ODIzZSs3NjQ5MTQ5MDUxNzM4MTVcclxuICBrID0gTWF0aC5taW4oMTIsIChlICsgJycpLmxlbmd0aCk7XHJcblxyXG4gIC8vIHIgPSB4XnkgPSBleHAoeSpsbih4KSlcclxuICByID0gbmF0dXJhbEV4cG9uZW50aWFsKHkudGltZXMobmF0dXJhbExvZ2FyaXRobSh4LCBwciArIGspKSwgcHIpO1xyXG5cclxuICAvLyByIG1heSBiZSBJbmZpbml0eSwgZS5nLiAoMC45OTk5OTk5OTk5OTk5OTk5KS5wb3coLTFlKzQwKVxyXG4gIGlmIChyLmQpIHtcclxuXHJcbiAgICAvLyBUcnVuY2F0ZSB0byB0aGUgcmVxdWlyZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICByID0gZmluYWxpc2UociwgcHIgKyA1LCAxKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCBpbmNyZWFzZSB0aGUgcHJlY2lzaW9uIGJ5IDEwIGFuZCByZWNhbGN1bGF0ZVxyXG4gICAgLy8gdGhlIHJlc3VsdC5cclxuICAgIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgcHIsIHJtKSkge1xyXG4gICAgICBlID0gcHIgKyAxMDtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBpbmNyZWFzZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICAgIHIgPSBmaW5hbGlzZShuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIGUgKyBrKSksIGUpLCBlICsgNSwgMSk7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0ICh0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgbWF5IGJlIDQgb3IgOSkuXHJcbiAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShwciArIDEsIHByICsgMTUpICsgMSA9PSAxZTE0KSB7XHJcbiAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHIucyA9IHM7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgYHNkYCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudFxyXG4gKiB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBub3JtYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHZhciBzdHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCBzZCA8PSB4LmUgfHwgeC5lIDw9IEN0b3IudG9FeHBOZWcsIHNkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgc2RgXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAsIG9yIHRvIGBwcmVjaXNpb25gIGFuZCBgcm91bmRpbmdgIHJlc3BlY3RpdmVseSBpZlxyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9TRCgpIGRpZ2l0cyBvdXQgb2YgcmFuZ2U6IHtzZH0nXHJcbiAqICd0b1NEKCkgZGlnaXRzIG5vdCBhbiBpbnRlZ2VyOiB7c2R9J1xyXG4gKiAndG9TRCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAqXHJcbiAqL1xyXG5QLnRvU2lnbmlmaWNhbnREaWdpdHMgPSBQLnRvU0QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzZCA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGlzIERlY2ltYWwgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXHJcbiAqIGB0b0V4cFBvc2AsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIGB0b0V4cE5lZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdHJ1bmNhdGVkIHRvIGEgd2hvbGUgbnVtYmVyLlxyXG4gKlxyXG4gKi9cclxuUC50cnVuY2F0ZWQgPSBQLnRydW5jID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKiBVbmxpa2UgYHRvU3RyaW5nYCwgbmVnYXRpdmUgemVybyB3aWxsIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4vLyBBZGQgYWxpYXNlcyB0byBtYXRjaCBCaWdEZWNpbWFsIG1ldGhvZCBuYW1lcy5cclxuLy8gUC5hZGQgPSBQLnBsdXM7XHJcblAuc3VidHJhY3QgPSBQLm1pbnVzO1xyXG5QLm11bHRpcGx5ID0gUC50aW1lcztcclxuUC5kaXZpZGUgPSBQLmRpdjtcclxuUC5yZW1haW5kZXIgPSBQLm1vZDtcclxuUC5jb21wYXJlVG8gPSBQLmNtcDtcclxuUC5uZWdhdGUgPSBQLm5lZztcclxuICovXHJcblxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgRGVjaW1hbC5wcm90b3R5cGUgKFApIGFuZC9vciBEZWNpbWFsIG1ldGhvZHMsIGFuZCB0aGVpciBjYWxsZXJzLlxyXG5cclxuXHJcbi8qXHJcbiAqICBkaWdpdHNUb1N0cmluZyAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5sb2dhcml0aG0sIFAuc3F1YXJlUm9vdCwgUC50b0ZyYWN0aW9uLCBQLnRvUG93ZXIsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXRlVG9TdHJpbmcsIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgY2hlY2tJbnQzMiAgICAgICAgICAgICAgIFAudG9EZWNpbWFsUGxhY2VzLCBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b05lYXJlc3QsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLCB0b1N0cmluZ0JpbmFyeSwgcmFuZG9tXHJcbiAqICBjaGVja1JvdW5kaW5nRGlnaXRzICAgICAgUC5sb2dhcml0aG0sIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBjb252ZXJ0QmFzZSAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnksIHBhcnNlT3RoZXJcclxuICogIGNvcyAgICAgICAgICAgICAgICAgICAgICBQLmNvc1xyXG4gKiAgZGl2aWRlICAgICAgICAgICAgICAgICAgIFAuYXRhbmgsIFAuY3ViZVJvb3QsIFAuZGl2aWRlZEJ5LCBQLmRpdmlkZWRUb0ludGVnZXJCeSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgUC5tb2R1bG8sIFAuc3F1YXJlUm9vdCwgUC50YW4sIFAudGFuaCwgUC50b0ZyYWN0aW9uLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCB0b1N0cmluZ0JpbmFyeSwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRheWxvclNlcmllcywgYXRhbjIsIHBhcnNlT3RoZXJcclxuICogIGZpbmFsaXNlICAgICAgICAgICAgICAgICBQLmFic29sdXRlVmFsdWUsIFAuYXRhbiwgUC5hdGFuaCwgUC5jZWlsLCBQLmNvcywgUC5jb3NoLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY3ViZVJvb3QsIFAuZGl2aWRlZFRvSW50ZWdlckJ5LCBQLmZsb29yLCBQLmxvZ2FyaXRobSwgUC5taW51cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLm1vZHVsbywgUC5uZWdhdGVkLCBQLnBsdXMsIFAucm91bmQsIFAuc2luLCBQLnNpbmgsIFAuc3F1YXJlUm9vdCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRhbiwgUC50aW1lcywgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCBQLnRvUG93ZXIsIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRydW5jYXRlZCwgZGl2aWRlLCBnZXRMbjEwLCBnZXRQaSwgbmF0dXJhbEV4cG9uZW50aWFsLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNlaWwsIGZsb29yLCByb3VuZCwgdHJ1bmNcclxuICogIGZpbml0ZVRvU3RyaW5nICAgICAgICAgICBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZywgUC52YWx1ZU9mLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5XHJcbiAqICBnZXRCYXNlMTBFeHBvbmVudCAgICAgICAgUC5taW51cywgUC5wbHVzLCBQLnRpbWVzLCBwYXJzZU90aGVyXHJcbiAqICBnZXRMbjEwICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGdldFBpICAgICAgICAgICAgICAgICAgICBQLmFjb3MsIFAuYXNpbiwgUC5hdGFuLCB0b0xlc3NUaGFuSGFsZlBpLCBhdGFuMlxyXG4gKiAgZ2V0UHJlY2lzaW9uICAgICAgICAgICAgIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb25cclxuICogIGdldFplcm9TdHJpbmcgICAgICAgICAgICBkaWdpdHNUb1N0cmluZywgZmluaXRlVG9TdHJpbmdcclxuICogIGludFBvdyAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIHBhcnNlT3RoZXJcclxuICogIGlzT2RkICAgICAgICAgICAgICAgICAgICB0b0xlc3NUaGFuSGFsZlBpXHJcbiAqICBtYXhPck1pbiAgICAgICAgICAgICAgICAgbWF4LCBtaW5cclxuICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICBQLm5hdHVyYWxFeHBvbmVudGlhbCwgUC50b1Bvd2VyXHJcbiAqICBuYXR1cmFsTG9nYXJpdGhtICAgICAgICAgUC5hY29zaCwgUC5hc2luaCwgUC5hdGFuaCwgUC5sb2dhcml0aG0sIFAubmF0dXJhbExvZ2FyaXRobSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIG5hdHVyYWxFeHBvbmVudGlhbFxyXG4gKiAgbm9uRmluaXRlVG9TdHJpbmcgICAgICAgIGZpbml0ZVRvU3RyaW5nLCB0b1N0cmluZ0JpbmFyeVxyXG4gKiAgcGFyc2VEZWNpbWFsICAgICAgICAgICAgIERlY2ltYWxcclxuICogIHBhcnNlT3RoZXIgICAgICAgICAgICAgICBEZWNpbWFsXHJcbiAqICBzaW4gICAgICAgICAgICAgICAgICAgICAgUC5zaW5cclxuICogIHRheWxvclNlcmllcyAgICAgICAgICAgICBQLmNvc2gsIFAuc2luaCwgY29zLCBzaW5cclxuICogIHRvTGVzc1RoYW5IYWxmUGkgICAgICAgICBQLmNvcywgUC5zaW5cclxuICogIHRvU3RyaW5nQmluYXJ5ICAgICAgICAgICBQLnRvQmluYXJ5LCBQLnRvSGV4YWRlY2ltYWwsIFAudG9PY3RhbFxyXG4gKiAgdHJ1bmNhdGUgICAgICAgICAgICAgICAgIGludFBvd1xyXG4gKlxyXG4gKiAgVGhyb3dzOiAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uLCBjaGVja0ludDMyLCBnZXRMbjEwLCBnZXRQaSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsTG9nYXJpdGhtLCBjb25maWcsIHBhcnNlT3RoZXIsIHJhbmRvbSwgRGVjaW1hbFxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBkaWdpdHNUb1N0cmluZyhkKSB7XHJcbiAgdmFyIGksIGssIHdzLFxyXG4gICAgaW5kZXhPZkxhc3RXb3JkID0gZC5sZW5ndGggLSAxLFxyXG4gICAgc3RyID0gJycsXHJcbiAgICB3ID0gZFswXTtcclxuXHJcbiAgaWYgKGluZGV4T2ZMYXN0V29yZCA+IDApIHtcclxuICAgIHN0ciArPSB3O1xyXG4gICAgZm9yIChpID0gMTsgaSA8IGluZGV4T2ZMYXN0V29yZDsgaSsrKSB7XHJcbiAgICAgIHdzID0gZFtpXSArICcnO1xyXG4gICAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgICAgc3RyICs9IHdzO1xyXG4gICAgfVxyXG5cclxuICAgIHcgPSBkW2ldO1xyXG4gICAgd3MgPSB3ICsgJyc7XHJcbiAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICBpZiAoaykgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIGlmICh3ID09PSAwKSB7XHJcbiAgICByZXR1cm4gJzAnO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zIG9mIGxhc3Qgdy5cclxuICBmb3IgKDsgdyAlIDEwID09PSAwOykgdyAvPSAxMDtcclxuXHJcbiAgcmV0dXJuIHN0ciArIHc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjaGVja0ludDMyKGksIG1pbiwgbWF4KSB7XHJcbiAgaWYgKGkgIT09IH5+aSB8fCBpIDwgbWluIHx8IGkgPiBtYXgpIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIGkpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIDUgcm91bmRpbmcgZGlnaXRzIGlmIGByZXBlYXRpbmdgIGlzIG51bGwsIDQgb3RoZXJ3aXNlLlxyXG4gKiBgcmVwZWF0aW5nID09IG51bGxgIGlmIGNhbGxlciBpcyBgbG9nYCBvciBgcG93YCxcclxuICogYHJlcGVhdGluZyAhPSBudWxsYCBpZiBjYWxsZXIgaXMgYG5hdHVyYWxMb2dhcml0aG1gIG9yIGBuYXR1cmFsRXhwb25lbnRpYWxgLlxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tSb3VuZGluZ0RpZ2l0cyhkLCBpLCBybSwgcmVwZWF0aW5nKSB7XHJcbiAgdmFyIGRpLCBrLCByLCByZDtcclxuXHJcbiAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGFycmF5IGQuXHJcbiAgZm9yIChrID0gZFswXTsgayA+PSAxMDsgayAvPSAxMCkgLS1pO1xyXG5cclxuICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgZD9cclxuICBpZiAoLS1pIDwgMCkge1xyXG4gICAgaSArPSBMT0dfQkFTRTtcclxuICAgIGRpID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgZGkgPSBNYXRoLmNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgfVxyXG5cclxuICAvLyBpIGlzIHRoZSBpbmRleCAoMCAtIDYpIG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAvLyBFLmcuIGlmIHdpdGhpbiB0aGUgd29yZCAzNDg3NTYzIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBpcyA1LFxyXG4gIC8vIHRoZW4gaSA9IDQsIGsgPSAxMDAwLCByZCA9IDM0ODc1NjMgJSAxMDAwID0gNTYzXHJcbiAgayA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gaSk7XHJcbiAgcmQgPSBkW2RpXSAlIGsgfCAwO1xyXG5cclxuICBpZiAocmVwZWF0aW5nID09IG51bGwpIHtcclxuICAgIGlmIChpIDwgMykge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICByID0gcm0gPCA0ICYmIHJkID09IDk5OTk5IHx8IHJtID4gMyAmJiByZCA9PSA0OTk5OSB8fCByZCA9PSA1MDAwMCB8fCByZCA9PSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IChybSA8IDQgJiYgcmQgKyAxID09IGsgfHwgcm0gPiAzICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAyKSAtIDEgfHxcclxuICAgICAgICAgIChyZCA9PSBrIC8gMiB8fCByZCA9PSAwKSAmJiAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IDA7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChpIDwgNCkge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMSkgcmQgPSByZCAvIDEwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMikgcmQgPSByZCAvIDEwIHwgMDtcclxuICAgICAgciA9IChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCA9PSA5OTk5IHx8ICFyZXBlYXRpbmcgJiYgcm0gPiAzICYmIHJkID09IDQ5OTk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gKChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCArIDEgPT0gayB8fFxyXG4gICAgICAoIXJlcGVhdGluZyAmJiBybSA+IDMpICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMDAgfCAwKSA9PSBtYXRocG93KDEwLCBpIC0gMykgLSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vLyBDb252ZXJ0IHN0cmluZyBvZiBgYmFzZUluYCB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGBiYXNlT3V0YC5cclxuLy8gRWcuIGNvbnZlcnRCYXNlKCcyNTUnLCAxMCwgMTYpIHJldHVybnMgWzE1LCAxNV0uXHJcbi8vIEVnLiBjb252ZXJ0QmFzZSgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG5mdW5jdGlvbiBjb252ZXJ0QmFzZShzdHIsIGJhc2VJbiwgYmFzZU91dCkge1xyXG4gIHZhciBqLFxyXG4gICAgYXJyID0gWzBdLFxyXG4gICAgYXJyTCxcclxuICAgIGkgPSAwLFxyXG4gICAgc3RyTCA9IHN0ci5sZW5ndGg7XHJcblxyXG4gIGZvciAoOyBpIDwgc3RyTDspIHtcclxuICAgIGZvciAoYXJyTCA9IGFyci5sZW5ndGg7IGFyckwtLTspIGFyclthcnJMXSAqPSBiYXNlSW47XHJcbiAgICBhcnJbMF0gKz0gTlVNRVJBTFMuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xyXG4gICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcclxuICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PT0gdm9pZCAwKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIGNvcyh4KSA9IDEgLSB4XjIvMiEgKyB4XjQvNCEgLSAuLi5cclxuICogfHh8IDwgcGkvMlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zaW5lKEN0b3IsIHgpIHtcclxuICB2YXIgaywgeSxcclxuICAgIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDgqKGNvc140KHgpIC0gY29zXjIoeCkpICsgMVxyXG4gIC8vIGkuZS4gY29zKHgpID0gOCooY29zXjQoeC80KSAtIGNvc14yKHgvNCkpICsgMVxyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgaWYgKGxlbiA8IDMyKSB7XHJcbiAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgeSA9ICgxIC8gdGlueVBvdyg0LCBrKSkudG9TdHJpbmcoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IDE2O1xyXG4gICAgeSA9ICcyLjMyODMwNjQzNjUzODY5NjI4OTA2MjVlLTEwJztcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uICs9IGs7XHJcblxyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMSwgeC50aW1lcyh5KSwgbmV3IEN0b3IoMSkpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIGZvciAodmFyIGkgPSBrOyBpLS07KSB7XHJcbiAgICB2YXIgY29zMnggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IGNvczJ4LnRpbWVzKGNvczJ4KS5taW51cyhjb3MyeCkudGltZXMoOCkucGx1cygxKTtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uIC09IGs7XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuXHJcbiAqL1xyXG52YXIgZGl2aWRlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgLy8gQXNzdW1lcyBub24temVybyB4IGFuZCBrLCBhbmQgaGVuY2Ugbm9uLXplcm8gcmVzdWx0LlxyXG4gIGZ1bmN0aW9uIG11bHRpcGx5SW50ZWdlcih4LCBrLCBiYXNlKSB7XHJcbiAgICB2YXIgdGVtcCxcclxuICAgICAgY2FycnkgPSAwLFxyXG4gICAgICBpID0geC5sZW5ndGg7XHJcblxyXG4gICAgZm9yICh4ID0geC5zbGljZSgpOyBpLS07KSB7XHJcbiAgICAgIHRlbXAgPSB4W2ldICogayArIGNhcnJ5O1xyXG4gICAgICB4W2ldID0gdGVtcCAlIGJhc2UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHRlbXAgLyBiYXNlIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgdmFyIGksIHI7XHJcblxyXG4gICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgIHIgPSBhTCA+IGJMID8gMSA6IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChpID0gciA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgciA9IGFbaV0gPiBiW2ldID8gMSA6IC0xO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBhTCwgYmFzZSkge1xyXG4gICAgdmFyIGkgPSAwO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgZm9yICg7IGFMLS07KSB7XHJcbiAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgIGFbYUxdID0gaSAqIGJhc2UgKyBhW2FMXSAtIGJbYUxdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFhWzBdICYmIGEubGVuZ3RoID4gMTspIGEuc2hpZnQoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbiAoeCwgeSwgcHIsIHJtLCBkcCwgYmFzZSkge1xyXG4gICAgdmFyIGNtcCwgZSwgaSwgaywgbG9nQmFzZSwgbW9yZSwgcHJvZCwgcHJvZEwsIHEsIHFkLCByZW0sIHJlbUwsIHJlbTAsIHNkLCB0LCB4aSwgeEwsIHlkMCxcclxuICAgICAgeUwsIHl6LFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgc2lnbiA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICB5ZCA9IHkuZDtcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGQgPyB5ZCAmJiB4ZFswXSA9PSB5ZFswXSA6ICF5ZCkgPyBOYU4gOlxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgMCBvciB5IGlzIMKxSW5maW5pdHksIG9yIHJldHVybiDCsUluZmluaXR5IGFzIHkgaXMgMC5cclxuICAgICAgICB4ZCAmJiB4ZFswXSA9PSAwIHx8ICF5ZCA/IHNpZ24gKiAwIDogc2lnbiAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChiYXNlKSB7XHJcbiAgICAgIGxvZ0Jhc2UgPSAxO1xyXG4gICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgIGxvZ0Jhc2UgPSBMT0dfQkFTRTtcclxuICAgICAgZSA9IG1hdGhmbG9vcih4LmUgLyBsb2dCYXNlKSAtIG1hdGhmbG9vcih5LmUgLyBsb2dCYXNlKTtcclxuICAgIH1cclxuXHJcbiAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgcSA9IG5ldyBDdG9yKHNpZ24pO1xyXG4gICAgcWQgPSBxLmQgPSBbXTtcclxuXHJcbiAgICAvLyBSZXN1bHQgZXhwb25lbnQgbWF5IGJlIG9uZSBsZXNzIHRoYW4gZS5cclxuICAgIC8vIFRoZSBkaWdpdCBhcnJheSBvZiBhIERlY2ltYWwgZnJvbSB0b1N0cmluZ0JpbmFyeSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IHlkW2ldID09ICh4ZFtpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICBpZiAoeWRbaV0gPiAoeGRbaV0gfHwgMCkpIGUtLTtcclxuXHJcbiAgICBpZiAocHIgPT0gbnVsbCkge1xyXG4gICAgICBzZCA9IHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSBpZiAoZHApIHtcclxuICAgICAgc2QgPSBwciArICh4LmUgLSB5LmUpICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNkID0gcHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkIDwgMCkge1xyXG4gICAgICBxZC5wdXNoKDEpO1xyXG4gICAgICBtb3JlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHByZWNpc2lvbiBpbiBudW1iZXIgb2YgYmFzZSAxMCBkaWdpdHMgdG8gYmFzZSAxZTcgZGlnaXRzLlxyXG4gICAgICBzZCA9IHNkIC8gbG9nQmFzZSArIDIgfCAwO1xyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICAgIC8vIGRpdmlzb3IgPCAxZTdcclxuICAgICAgaWYgKHlMID09IDEpIHtcclxuICAgICAgICBrID0gMDtcclxuICAgICAgICB5ZCA9IHlkWzBdO1xyXG4gICAgICAgIHNkKys7XHJcblxyXG4gICAgICAgIC8vIGsgaXMgdGhlIGNhcnJ5LlxyXG4gICAgICAgIGZvciAoOyAoaSA8IHhMIHx8IGspICYmIHNkLS07IGkrKykge1xyXG4gICAgICAgICAgdCA9IGsgKiBiYXNlICsgKHhkW2ldIHx8IDApO1xyXG4gICAgICAgICAgcWRbaV0gPSB0IC8geWQgfCAwO1xyXG4gICAgICAgICAgayA9IHQgJSB5ZCB8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb3JlID0gayB8fCBpIDwgeEw7XHJcblxyXG4gICAgICAvLyBkaXZpc29yID49IDFlN1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpc2UgeGQgYW5kIHlkIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWQgaXMgPj0gYmFzZS8yXHJcbiAgICAgICAgayA9IGJhc2UgLyAoeWRbMF0gKyAxKSB8IDA7XHJcblxyXG4gICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgeWQgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeGQgPSBtdWx0aXBseUludGVnZXIoeGQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICAgICAgICB4TCA9IHhkLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgcmVtID0geGQuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgIGZvciAoOyByZW1MIDwgeUw7KSByZW1bcmVtTCsrXSA9IDA7XHJcblxyXG4gICAgICAgIHl6ID0geWQuc2xpY2UoKTtcclxuICAgICAgICB5ei51bnNoaWZ0KDApO1xyXG4gICAgICAgIHlkMCA9IHlkWzBdO1xyXG5cclxuICAgICAgICBpZiAoeWRbMV0gPj0gYmFzZSAvIDIpICsreWQwO1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBrID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBrLlxyXG4gICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGsgd2lsbCBiZSBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gdGhlIGN1cnJlbnQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBrID0gcmVtMCAvIHlkMCB8IDA7XHJcblxyXG4gICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAoaylcclxuICAgICAgICAgICAgLy8gIDIuIGlmIHByb2R1Y3QgPiByZW1haW5kZXI6IHByb2R1Y3QgLT0gZGl2aXNvciwgay0tXHJcbiAgICAgICAgICAgIC8vICAzLiByZW1haW5kZXIgLT0gcHJvZHVjdFxyXG4gICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcclxuICAgICAgICAgICAgLy8gICAgNS4gY29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yXHJcbiAgICAgICAgICAgIC8vICAgIDYuIElmIHJlbWFpbmRlciA+IGRpdmlzb3I6IHJlbWFpbmRlciAtPSBkaXZpc29yLCBrKytcclxuXHJcbiAgICAgICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgICAgIGlmIChrID49IGJhc2UpIGsgPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHlJbnRlZ2VyKHlkLCBrLCBiYXNlKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID4gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgay0tO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWQsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAvLyBJZiBrIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LCBzbyBjaGFuZ2UgY21wIHRvIDFcclxuICAgICAgICAgICAgICAvLyB0byBhdm9pZCBpdC4gSWYgayBpcyAxIHRoZXJlIGlzIGEgbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3cuXHJcbiAgICAgICAgICAgICAgaWYgKGsgPT0gMCkgY21wID0gayA9IDE7XHJcbiAgICAgICAgICAgICAgcHJvZCA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QudW5zaGlmdCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHByZXZpb3VzIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgY21wID0gY29tcGFyZSh5ZCwgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBrKys7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5ZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XHJcbiAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgfSAgICAvLyBpZiBjbXAgPT09IDEsIGsgd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBrLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgcWRbaSsrXSA9IGs7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wICYmIHJlbVswXSkge1xyXG4gICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhkW3hpXSB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtID0gW3hkW3hpXV07XHJcbiAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPT0gdm9pZCAwKSAmJiBzZC0tKTtcclxuXHJcbiAgICAgICAgbW9yZSA9IHJlbVswXSAhPT0gdm9pZCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgIGlmICghcWRbMF0pIHFkLnNoaWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9nQmFzZSBpcyAxIHdoZW4gZGl2aWRlIGlzIGJlaW5nIHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgIGlmIChsb2dCYXNlID09IDEpIHtcclxuICAgICAgcS5lID0gZTtcclxuICAgICAgaW5leGFjdCA9IG1vcmU7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gVG8gY2FsY3VsYXRlIHEuZSwgZmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHFkWzBdLlxyXG4gICAgICBmb3IgKGkgPSAxLCBrID0gcWRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGkrKztcclxuICAgICAgcS5lID0gaSArIGUgKiBsb2dCYXNlIC0gMTtcclxuXHJcbiAgICAgIGZpbmFsaXNlKHEsIGRwID8gcHIgKyBxLmUgKyAxIDogcHIsIHJtLCBtb3JlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcTtcclxuICB9O1xyXG59KSgpO1xyXG5cclxuXHJcbi8qXHJcbiAqIFJvdW5kIGB4YCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqIENoZWNrIGZvciBvdmVyL3VuZGVyLWZsb3cuXHJcbiAqL1xyXG4gZnVuY3Rpb24gZmluYWxpc2UoeCwgc2QsIHJtLCBpc1RydW5jYXRlZCkge1xyXG4gIHZhciBkaWdpdHMsIGksIGosIGssIHJkLCByb3VuZFVwLCB3LCB4ZCwgeGRpLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIERvbid0IHJvdW5kIGlmIHNkIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxyXG4gIG91dDogaWYgKHNkICE9IG51bGwpIHtcclxuICAgIHhkID0geC5kO1xyXG5cclxuICAgIC8vIEluZmluaXR5L05hTi5cclxuICAgIGlmICgheGQpIHJldHVybiB4O1xyXG5cclxuICAgIC8vIHJkOiB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgLy8gdzogdGhlIHdvcmQgb2YgeGQgY29udGFpbmluZyByZCwgYSBiYXNlIDFlNyBudW1iZXIuXHJcbiAgICAvLyB4ZGk6IHRoZSBpbmRleCBvZiB3IHdpdGhpbiB4ZC5cclxuICAgIC8vIGRpZ2l0czogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgIC8vIGk6IHdoYXQgd291bGQgYmUgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3IGlmIGFsbCB0aGUgbnVtYmVycyB3ZXJlIDcgZGlnaXRzIGxvbmcgKGkuZS4gaWZcclxuICAgIC8vIHRoZXkgaGFkIGxlYWRpbmcgemVyb3MpXHJcbiAgICAvLyBqOiBpZiA+IDAsIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIHcgKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG5cclxuICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkgeGQuXHJcbiAgICBmb3IgKGRpZ2l0cyA9IDEsIGsgPSB4ZFswXTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcbiAgICBpID0gc2QgLSBkaWdpdHM7XHJcblxyXG4gICAgLy8gSXMgdGhlIHJvdW5kaW5nIGRpZ2l0IGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgIGogPSBzZDtcclxuICAgICAgdyA9IHhkW3hkaSA9IDBdO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgIHJkID0gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHhkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgICBrID0geGQubGVuZ3RoO1xyXG4gICAgICBpZiAoeGRpID49IGspIHtcclxuICAgICAgICBpZiAoaXNUcnVuY2F0ZWQpIHtcclxuXHJcbiAgICAgICAgICAvLyBOZWVkZWQgYnkgYG5hdHVyYWxFeHBvbmVudGlhbGAsIGBuYXR1cmFsTG9nYXJpdGhtYCBhbmQgYHNxdWFyZVJvb3RgLlxyXG4gICAgICAgICAgZm9yICg7IGsrKyA8PSB4ZGk7KSB4ZC5wdXNoKDApO1xyXG4gICAgICAgICAgdyA9IHJkID0gMDtcclxuICAgICAgICAgIGRpZ2l0cyA9IDE7XHJcbiAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdyA9IGsgPSB4ZFt4ZGldO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgICAgICBmb3IgKGRpZ2l0cyA9IDE7IGsgPj0gMTA7IGsgLz0gMTApIGRpZ2l0cysrO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LlxyXG4gICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcsIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3IGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZGlnaXRzLlxyXG4gICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyBkaWdpdHM7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiB3LlxyXG4gICAgICAgIHJkID0gaiA8IDAgPyAwIDogdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFyZSB0aGVyZSBhbnkgbm9uLXplcm8gZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdD9cclxuICAgIGlzVHJ1bmNhdGVkID0gaXNUcnVuY2F0ZWQgfHwgc2QgPCAwIHx8XHJcbiAgICAgIHhkW3hkaSArIDFdICE9PSB2b2lkIDAgfHwgKGogPCAwID8gdyA6IHcgJSBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkpO1xyXG5cclxuICAgIC8vIFRoZSBleHByZXNzaW9uIGB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpYCByZXR1cm5zIGFsbCB0aGUgZGlnaXRzIG9mIHcgdG8gdGhlIHJpZ2h0XHJcbiAgICAvLyBvZiB0aGUgZGlnaXQgYXQgKGxlZnQtdG8tcmlnaHQpIGluZGV4IGosIGUuZy4gaWYgdyBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb25cclxuICAgIC8vIHdpbGwgZ2l2ZSA3MTQuXHJcblxyXG4gICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICA/IChyZCB8fCBpc1RydW5jYXRlZCkgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgaXNUcnVuY2F0ZWQgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBkaWdpdCB0byB0aGUgbGVmdCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgb2RkLlxyXG4gICAgICAgICgoaSA+IDAgPyBqID4gMCA/IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSA6IDAgOiB4ZFt4ZGkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgaWYgKHNkIDwgMSB8fCAheGRbMF0pIHtcclxuICAgICAgeGQubGVuZ3RoID0gMDtcclxuICAgICAgaWYgKHJvdW5kVXApIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgIHhkWzBdID0gbWF0aHBvdygxMCwgKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRSk7XHJcbiAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeGRbMF0gPSB4LmUgPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXhjZXNzIGRpZ2l0cy5cclxuICAgIGlmIChpID09IDApIHtcclxuICAgICAgeGQubGVuZ3RoID0geGRpO1xyXG4gICAgICBrID0gMTtcclxuICAgICAgeGRpLS07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ZC5sZW5ndGggPSB4ZGkgKyAxO1xyXG4gICAgICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuXHJcbiAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIHcuXHJcbiAgICAgIHhkW3hkaV0gPSBqID4gMCA/ICh3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaikgJSBtYXRocG93KDEwLCBqKSB8IDApICogayA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kVXApIHtcclxuICAgICAgZm9yICg7Oykge1xyXG5cclxuICAgICAgICAvLyBJcyB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgICAgICBpZiAoeGRpID09IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4ZFswXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4ZFswXTsgaiA+PSAxMDsgaiAvPSAxMCkgaSsrO1xyXG4gICAgICAgICAgaiA9IHhkWzBdICs9IGs7XHJcbiAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwKSBrKys7XHJcblxyXG4gICAgICAgICAgLy8gaWYgaSAhPSBrIHRoZSBsZW5ndGggaGFzIGluY3JlYXNlZC5cclxuICAgICAgICAgIGlmIChpICE9IGspIHtcclxuICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgIGlmICh4ZFswXSA9PSBCQVNFKSB4ZFswXSA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhkW3hkaV0gKz0gaztcclxuICAgICAgICAgIGlmICh4ZFt4ZGldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgeGRbeGRpLS1dID0gMDtcclxuICAgICAgICAgIGsgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhkLmxlbmd0aDsgeGRbLS1pXSA9PT0gMDspIHhkLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgLy8gT3ZlcmZsb3c/XHJcbiAgICBpZiAoeC5lID4gQ3Rvci5tYXhFKSB7XHJcblxyXG4gICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgeC5lID0gTmFOO1xyXG5cclxuICAgIC8vIFVuZGVyZmxvdz9cclxuICAgIH0gZWxzZSBpZiAoeC5lIDwgQ3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmUgPSAwO1xyXG4gICAgICB4LmQgPSBbMF07XHJcbiAgICAgIC8vIEN0b3IudW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgIH0gLy8gZWxzZSBDdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmaW5pdGVUb1N0cmluZyh4LCBpc0V4cCwgc2QpIHtcclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5vbkZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gIHZhciBrLFxyXG4gICAgZSA9IHguZSxcclxuICAgIHN0ciA9IGRpZ2l0c1RvU3RyaW5nKHguZCksXHJcbiAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSBzdHIgKyAoeC5lIDwgMCA/ICdlJyA6ICdlKycpICsgeC5lO1xyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgIHN0ciA9ICcwLicgKyBnZXRaZXJvU3RyaW5nKC1lIC0gMSkgKyBzdHI7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2UgaWYgKGUgPj0gbGVuKSB7XHJcbiAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhlICsgMSAtIGxlbik7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGUgLSAxKSA+IDApIHN0ciA9IHN0ciArICcuJyArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICgoayA9IGUgKyAxKSA8IGxlbikgc3RyID0gc3RyLnNsaWNlKDAsIGspICsgJy4nICsgc3RyLnNsaWNlKGspO1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICBpZiAoZSArIDEgPT09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIHRoZSBiYXNlIDEwIGV4cG9uZW50IGZyb20gdGhlIGJhc2UgMWU3IGV4cG9uZW50LlxyXG5mdW5jdGlvbiBnZXRCYXNlMTBFeHBvbmVudChkaWdpdHMsIGUpIHtcclxuICB2YXIgdyA9IGRpZ2l0c1swXTtcclxuXHJcbiAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkuXHJcbiAgZm9yICggZSAqPSBMT0dfQkFTRTsgdyA+PSAxMDsgdyAvPSAxMCkgZSsrO1xyXG4gIHJldHVybiBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0TG4xMChDdG9yLCBzZCwgcHIpIHtcclxuICBpZiAoc2QgPiBMTjEwX1BSRUNJU0lPTikge1xyXG5cclxuICAgIC8vIFJlc2V0IGdsb2JhbCBzdGF0ZSBpbiBjYXNlIHRoZSBleGNlcHRpb24gaXMgY2F1Z2h0LlxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgaWYgKHByKSBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhyb3cgRXJyb3IocHJlY2lzaW9uTGltaXRFeGNlZWRlZCk7XHJcbiAgfVxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihMTjEwKSwgc2QsIDEsIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UGkoQ3Rvciwgc2QsIHJtKSB7XHJcbiAgaWYgKHNkID4gUElfUFJFQ0lTSU9OKSB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoUEkpLCBzZCwgcm0sIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKGRpZ2l0cykge1xyXG4gIHZhciB3ID0gZGlnaXRzLmxlbmd0aCAtIDEsXHJcbiAgICBsZW4gPSB3ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICB3ID0gZGlnaXRzW3ddO1xyXG5cclxuICAvLyBJZiBub24temVyby4uLlxyXG4gIGlmICh3KSB7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgZm9yICg7IHcgJSAxMCA9PSAwOyB3IC89IDEwKSBsZW4tLTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQuXHJcbiAgICBmb3IgKHcgPSBkaWdpdHNbMF07IHcgPj0gMTA7IHcgLz0gMTApIGxlbisrO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxlbjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFplcm9TdHJpbmcoaykge1xyXG4gIHZhciB6cyA9ICcnO1xyXG4gIGZvciAoOyBrLS07KSB6cyArPSAnMCc7XHJcbiAgcmV0dXJuIHpzO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIHRvIHRoZSBwb3dlciBgbmAsIHdoZXJlIGBuYCBpcyBhblxyXG4gKiBpbnRlZ2VyIG9mIHR5cGUgbnVtYmVyLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRzICdleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZycuIENhbGxlZCBieSBgcG93YCBhbmQgYHBhcnNlT3RoZXJgLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaW50UG93KEN0b3IsIHgsIG4sIHByKSB7XHJcbiAgdmFyIGlzVHJ1bmNhdGVkLFxyXG4gICAgciA9IG5ldyBDdG9yKDEpLFxyXG5cclxuICAgIC8vIE1heCBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEgdGFrZXMgNTMgbG9vcCBpdGVyYXRpb25zLlxyXG4gICAgLy8gTWF4aW11bSBkaWdpdHMgYXJyYXkgbGVuZ3RoOyBsZWF2ZXMgWzI4LCAzNF0gZ3VhcmQgZGlnaXRzLlxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFICsgNCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIGlmIChuICUgMikge1xyXG4gICAgICByID0gci50aW1lcyh4KTtcclxuICAgICAgaWYgKHRydW5jYXRlKHIuZCwgaykpIGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBuID0gbWF0aGZsb29yKG4gLyAyKTtcclxuICAgIGlmIChuID09PSAwKSB7XHJcblxyXG4gICAgICAvLyBUbyBlbnN1cmUgY29ycmVjdCByb3VuZGluZyB3aGVuIHIuZCBpcyB0cnVuY2F0ZWQsIGluY3JlbWVudCB0aGUgbGFzdCB3b3JkIGlmIGl0IGlzIHplcm8uXHJcbiAgICAgIG4gPSByLmQubGVuZ3RoIC0gMTtcclxuICAgICAgaWYgKGlzVHJ1bmNhdGVkICYmIHIuZFtuXSA9PT0gMCkgKytyLmRbbl07XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHggPSB4LnRpbWVzKHgpO1xyXG4gICAgdHJ1bmNhdGUoeC5kLCBrKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc09kZChuKSB7XHJcbiAgcmV0dXJuIG4uZFtuLmQubGVuZ3RoIC0gMV0gJiAxO1xyXG59XHJcblxyXG5cclxuLypcclxuICogSGFuZGxlIGBtYXhgIGFuZCBgbWluYC4gYGx0Z3RgIGlzICdsdCcgb3IgJ2d0Jy5cclxuICovXHJcbmZ1bmN0aW9uIG1heE9yTWluKEN0b3IsIGFyZ3MsIGx0Z3QpIHtcclxuICB2YXIgeSxcclxuICAgIHggPSBuZXcgQ3RvcihhcmdzWzBdKSxcclxuICAgIGkgPSAwO1xyXG5cclxuICBmb3IgKDsgKytpIDwgYXJncy5sZW5ndGg7KSB7XHJcbiAgICB5ID0gbmV3IEN0b3IoYXJnc1tpXSk7XHJcbiAgICBpZiAoIXkucykge1xyXG4gICAgICB4ID0geTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9IGVsc2UgaWYgKHhbbHRndF0oeSkpIHtcclxuICAgICAgeCA9IHk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzLlxyXG4gKlxyXG4gKiBUYXlsb3IvTWFjbGF1cmluIHNlcmllcy5cclxuICpcclxuICogZXhwKHgpID0geF4wLzAhICsgeF4xLzEhICsgeF4yLzIhICsgeF4zLzMhICsgLi4uXHJcbiAqXHJcbiAqIEFyZ3VtZW50IHJlZHVjdGlvbjpcclxuICogICBSZXBlYXQgeCA9IHggLyAzMiwgayArPSA1LCB1bnRpbCB8eHwgPCAwLjFcclxuICogICBleHAoeCkgPSBleHAoeCAvIDJeayleKDJeaylcclxuICpcclxuICogUHJldmlvdXNseSwgdGhlIGFyZ3VtZW50IHdhcyBpbml0aWFsbHkgcmVkdWNlZCBieVxyXG4gKiBleHAoeCkgPSBleHAocikgKiAxMF5rICB3aGVyZSByID0geCAtIGsgKiBsbjEwLCBrID0gZmxvb3IoeCAvIGxuMTApXHJcbiAqIHRvIGZpcnN0IHB1dCByIGluIHRoZSByYW5nZSBbMCwgbG4xMF0sIGJlZm9yZSBkaXZpZGluZyBieSAzMiB1bnRpbCB8eHwgPCAwLjEsIGJ1dCB0aGlzIHdhc1xyXG4gKiBmb3VuZCB0byBiZSBzbG93ZXIgdGhhbiBqdXN0IGRpdmlkaW5nIHJlcGVhdGVkbHkgYnkgMzIgYXMgYWJvdmUuXHJcbiAqXHJcbiAqIE1heCBpbnRlZ2VyIGFyZ3VtZW50OiBleHAoJzIwNzIzMjY1ODM2OTQ2NDEzJykgPSA2LjNlKzkwMDAwMDAwMDAwMDAwMDBcclxuICogTWluIGludGVnZXIgYXJndW1lbnQ6IGV4cCgnLTIwNzIzMjY1ODM2OTQ2NDExJykgPSAxLjJlLTkwMDAwMDAwMDAwMDAwMDBcclxuICogKE1hdGggb2JqZWN0IGludGVnZXIgbWluL21heDogTWF0aC5leHAoNzA5KSA9IDguMmUrMzA3LCBNYXRoLmV4cCgtNzQ1KSA9IDVlLTMyNClcclxuICpcclxuICogIGV4cChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGV4cCgtSW5maW5pdHkpID0gMFxyXG4gKiAgZXhwKE5hTikgICAgICAgPSBOYU5cclxuICogIGV4cCjCsTApICAgICAgICA9IDFcclxuICpcclxuICogIGV4cCh4KSBpcyBub24tdGVybWluYXRpbmcgZm9yIGFueSBmaW5pdGUsIG5vbi16ZXJvIHguXHJcbiAqXHJcbiAqICBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbmF0dXJhbEV4cG9uZW50aWFsKHgsIHNkKSB7XHJcbiAgdmFyIGRlbm9taW5hdG9yLCBndWFyZCwgaiwgcG93LCBzdW0sIHQsIHdwcixcclxuICAgIHJlcCA9IDAsXHJcbiAgICBpID0gMCxcclxuICAgIGsgPSAwLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG5cclxuICAvLyAwL05hTi9JbmZpbml0eT9cclxuICBpZiAoIXguZCB8fCAheC5kWzBdIHx8IHguZSA+IDE3KSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHguZFxyXG4gICAgICA/ICF4LmRbMF0gPyAxIDogeC5zIDwgMCA/IDAgOiAxIC8gMFxyXG4gICAgICA6IHgucyA/IHgucyA8IDAgPyAwIDogeCA6IDAgLyAwKTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgdCA9IG5ldyBDdG9yKDAuMDMxMjUpO1xyXG5cclxuICAvLyB3aGlsZSBhYnMoeCkgPj0gMC4xXHJcbiAgd2hpbGUgKHguZSA+IC0yKSB7XHJcblxyXG4gICAgLy8geCA9IHggLyAyXjVcclxuICAgIHggPSB4LnRpbWVzKHQpO1xyXG4gICAgayArPSA1O1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlIDIgKiBsb2cxMCgyXmspICsgNSAoZW1waXJpY2FsbHkgZGVyaXZlZCkgdG8gZXN0aW1hdGUgdGhlIGluY3JlYXNlIGluIHByZWNpc2lvblxyXG4gIC8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBjb3JyZWN0LlxyXG4gIGd1YXJkID0gTWF0aC5sb2cobWF0aHBvdygyLCBrKSkgLyBNYXRoLkxOMTAgKiAyICsgNSB8IDA7XHJcbiAgd3ByICs9IGd1YXJkO1xyXG4gIGRlbm9taW5hdG9yID0gcG93ID0gc3VtID0gbmV3IEN0b3IoMSk7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHI7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHBvdyA9IGZpbmFsaXNlKHBvdy50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgIGRlbm9taW5hdG9yID0gZGVub21pbmF0b3IudGltZXMoKytpKTtcclxuICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUocG93LCBkZW5vbWluYXRvciwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgaiA9IGs7XHJcbiAgICAgIHdoaWxlIChqLS0pIHN1bSA9IGZpbmFsaXNlKHN1bS50aW1lcyhzdW0pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OS5cclxuICAgICAgLy8gSWYgc28sIHJlcGVhdCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTgsIHJvdW5kaW5nOiAxXHJcbiAgICAgIC8vIGV4cCgxOC40MDQyNzI0NjI1OTUwMzQwODM1Njc3OTM5MTk4NDM3NjEpID0gOTgzNzI1NjAuMTIyOTk5OTk5OSAoc2hvdWxkIGJlIDk4MzcyNTYwLjEyMylcclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIGlmIChyZXAgPCAzICYmIGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gMTA7XHJcbiAgICAgICAgICBkZW5vbWluYXRvciA9IHBvdyA9IHQgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgcmVwKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmaW5hbGlzZShzdW0sIEN0b3IucHJlY2lzaW9uID0gcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdW0gPSB0O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cy5cclxuICpcclxuICogIGxuKC1uKSAgICAgICAgPSBOYU5cclxuICogIGxuKDApICAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKC0wKSAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKDEpICAgICAgICAgPSAwXHJcbiAqICBsbihJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGxuKC1JbmZpbml0eSkgPSBOYU5cclxuICogIGxuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIGxuKG4pIChuICE9IDEpIGlzIG5vbi10ZXJtaW5hdGluZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG5hdHVyYWxMb2dhcml0aG0oeSwgc2QpIHtcclxuICB2YXIgYywgYzAsIGRlbm9taW5hdG9yLCBlLCBudW1lcmF0b3IsIHJlcCwgc3VtLCB0LCB3cHIsIHgxLCB4MixcclxuICAgIG4gPSAxLFxyXG4gICAgZ3VhcmQgPSAxMCxcclxuICAgIHggPSB5LFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gIC8vIElzIHggbmVnYXRpdmUgb3IgSW5maW5pdHksIE5hTiwgMCBvciAxP1xyXG4gIGlmICh4LnMgPCAwIHx8ICF4ZCB8fCAheGRbMF0gfHwgIXguZSAmJiB4ZFswXSA9PSAxICYmIHhkLmxlbmd0aCA9PSAxKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeGQgJiYgIXhkWzBdID8gLTEgLyAwIDogeC5zICE9IDEgPyBOYU4gOiB4ZCA/IDAgOiB4KTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgYyA9IGRpZ2l0c1RvU3RyaW5nKHhkKTtcclxuICBjMCA9IGMuY2hhckF0KDApO1xyXG5cclxuICBpZiAoTWF0aC5hYnMoZSA9IHguZSkgPCAxLjVlMTUpIHtcclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICAvLyBUaGUgc2VyaWVzIGNvbnZlcmdlcyBmYXN0ZXIgdGhlIGNsb3NlciB0aGUgYXJndW1lbnQgaXMgdG8gMSwgc28gdXNpbmdcclxuICAgIC8vIGxuKGFeYikgPSBiICogbG4oYSksICAgbG4oYSkgPSBsbihhXmIpIC8gYlxyXG4gICAgLy8gbXVsdGlwbHkgdGhlIGFyZ3VtZW50IGJ5IGl0c2VsZiB1bnRpbCB0aGUgbGVhZGluZyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kIGFyZSA3LCA4LCA5LFxyXG4gICAgLy8gMTAsIDExLCAxMiBvciAxMywgcmVjb3JkaW5nIHRoZSBudW1iZXIgb2YgbXVsdGlwbGljYXRpb25zIHNvIHRoZSBzdW0gb2YgdGhlIHNlcmllcyBjYW5cclxuICAgIC8vIGxhdGVyIGJlIGRpdmlkZWQgYnkgdGhpcyBudW1iZXIsIHRoZW4gc2VwYXJhdGUgb3V0IHRoZSBwb3dlciBvZiAxMCB1c2luZ1xyXG4gICAgLy8gbG4oYSoxMF5iKSA9IGxuKGEpICsgYipsbigxMCkuXHJcblxyXG4gICAgLy8gbWF4IG4gaXMgMjEgKGdpdmVzIDAuOSwgMS4wIG9yIDEuMSkgKDllMTUgLyAyMSA9IDQuMmUxNCkuXHJcbiAgICAvL3doaWxlIChjMCA8IDkgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMSkge1xyXG4gICAgLy8gbWF4IG4gaXMgNiAoZ2l2ZXMgMC43IC0gMS4zKVxyXG4gICAgd2hpbGUgKGMwIDwgNyAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAzKSB7XHJcbiAgICAgIHggPSB4LnRpbWVzKHkpO1xyXG4gICAgICBjID0gZGlnaXRzVG9TdHJpbmcoeC5kKTtcclxuICAgICAgYzAgPSBjLmNoYXJBdCgwKTtcclxuICAgICAgbisrO1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSB4LmU7XHJcblxyXG4gICAgaWYgKGMwID4gMSkge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoJzAuJyArIGMpO1xyXG4gICAgICBlKys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoYzAgKyAnLicgKyBjLnNsaWNlKDEpKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIFRoZSBhcmd1bWVudCByZWR1Y3Rpb24gbWV0aG9kIGFib3ZlIG1heSByZXN1bHQgaW4gb3ZlcmZsb3cgaWYgdGhlIGFyZ3VtZW50IHkgaXMgYSBtYXNzaXZlXHJcbiAgICAvLyBudW1iZXIgd2l0aCBleHBvbmVudCA+PSAxNTAwMDAwMDAwMDAwMDAwICg5ZTE1IC8gNiA9IDEuNWUxNSksIHNvIGluc3RlYWQgcmVjYWxsIHRoaXNcclxuICAgIC8vIGZ1bmN0aW9uIHVzaW5nIGxuKHgqMTBeZSkgPSBsbih4KSArIGUqbG4oMTApLlxyXG4gICAgdCA9IGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJyk7XHJcbiAgICB4ID0gbmF0dXJhbExvZ2FyaXRobShuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpLCB3cHIgLSBndWFyZCkucGx1cyh0KTtcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcblxyXG4gICAgcmV0dXJuIHNkID09IG51bGwgPyBmaW5hbGlzZSh4LCBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSkgOiB4O1xyXG4gIH1cclxuXHJcbiAgLy8geDEgaXMgeCByZWR1Y2VkIHRvIGEgdmFsdWUgbmVhciAxLlxyXG4gIHgxID0geDtcclxuXHJcbiAgLy8gVGF5bG9yIHNlcmllcy5cclxuICAvLyBsbih5KSA9IGxuKCgxICsgeCkvKDEgLSB4KSkgPSAyKHggKyB4XjMvMyArIHheNS81ICsgeF43LzcgKyAuLi4pXHJcbiAgLy8gd2hlcmUgeCA9ICh5IC0gMSkvKHkgKyAxKSAgICAofHh8IDwgMSlcclxuICBzdW0gPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgubWludXMoMSksIHgucGx1cygxKSwgd3ByLCAxKTtcclxuICB4MiA9IGZpbmFsaXNlKHgudGltZXMoeCksIHdwciwgMSk7XHJcbiAgZGVub21pbmF0b3IgPSAzO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBudW1lcmF0b3IgPSBmaW5hbGlzZShudW1lcmF0b3IudGltZXMoeDIpLCB3cHIsIDEpO1xyXG4gICAgdCA9IHN1bS5wbHVzKGRpdmlkZShudW1lcmF0b3IsIG5ldyBDdG9yKGRlbm9taW5hdG9yKSwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgc3VtID0gc3VtLnRpbWVzKDIpO1xyXG5cclxuICAgICAgLy8gUmV2ZXJzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLiBDaGVjayB0aGF0IGUgaXMgbm90IDAgYmVjYXVzZSwgYmVzaWRlcyBwcmV2ZW50aW5nIGFuXHJcbiAgICAgIC8vIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9uLCAtMCArIDAgPSArMCBhbmQgdG8gZW5zdXJlIGNvcnJlY3Qgcm91bmRpbmcgLTAgbmVlZHMgdG8gc3RheSAtMC5cclxuICAgICAgaWYgKGUgIT09IDApIHN1bSA9IHN1bS5wbHVzKGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJykpO1xyXG4gICAgICBzdW0gPSBkaXZpZGUoc3VtLCBuZXcgQ3RvcihuKSwgd3ByLCAxKTtcclxuXHJcbiAgICAgIC8vIElzIHJtID4gMyBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDQ5OTksIG9yIHJtIDwgNCAob3IgdGhlIHN1bW1hdGlvbiBoYXNcclxuICAgICAgLy8gYmVlbiByZXBlYXRlZCBwcmV2aW91c2x5KSBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDk5OTk/XHJcbiAgICAgIC8vIElmIHNvLCByZXN0YXJ0IHRoZSBzdW1tYXRpb24gd2l0aCBhIGhpZ2hlciBwcmVjaXNpb24sIG90aGVyd2lzZVxyXG4gICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxMiwgcm91bmRpbmc6IDFcclxuICAgICAgLy8gbG4oMTM1NTIwMDI4LjYxMjYwOTE3MTQyNjUzODE1MzMpID0gMTguNzI0NjI5OTk5OSB3aGVuIGl0IHNob3VsZCBiZSAxOC43MjQ2My5cclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgICAgICAgICB0ID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4MS5taW51cygxKSwgeDEucGx1cygxKSwgd3ByLCAxKTtcclxuICAgICAgICAgIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgICAgICAgIGRlbm9taW5hdG9yID0gcmVwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1bSA9IHQ7XHJcbiAgICBkZW5vbWluYXRvciArPSAyO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIMKxSW5maW5pdHksIE5hTi5cclxuZnVuY3Rpb24gbm9uRmluaXRlVG9TdHJpbmcoeCkge1xyXG4gIC8vIFVuc2lnbmVkLlxyXG4gIHJldHVybiBTdHJpbmcoeC5zICogeC5zIC8gMCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBzdHJpbmcgYHN0cmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZURlY2ltYWwoeCwgc3RyKSB7XHJcbiAgdmFyIGUsIGksIGxlbjtcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXHJcbiAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgIC8vIEludGVnZXIuXHJcbiAgICBlID0gc3RyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQobGVuIC0gMSkgPT09IDQ4OyAtLWxlbik7XHJcbiAgc3RyID0gc3RyLnNsaWNlKGksIGxlbik7XHJcblxyXG4gIGlmIChzdHIpIHtcclxuICAgIGxlbiAtPSBpO1xyXG4gICAgeC5lID0gZSA9IGUgLSBpIC0gMTtcclxuICAgIHguZCA9IFtdO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICBpZiAoaSkgeC5kLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcbiAgICAgIGZvciAobGVuIC09IExPR19CQVNFOyBpIDwgbGVuOykgeC5kLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZShpKTtcclxuICAgICAgaSA9IExPR19CQVNFIC0gc3RyLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgLT0gbGVuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoOyBpLS07KSBzdHIgKz0gJzAnO1xyXG4gICAgeC5kLnB1c2goK3N0cik7XHJcblxyXG4gICAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKHguZSA+IHguY29uc3RydWN0b3IubWF4RSkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmICh4LmUgPCB4LmNvbnN0cnVjdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAvLyB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICAgIH0gLy8gZWxzZSB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gWmVyby5cclxuICAgIHguZSA9IDA7XHJcbiAgICB4LmQgPSBbMF07XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBhcnNlIHRoZSB2YWx1ZSBvZiBhIG5ldyBEZWNpbWFsIGB4YCBmcm9tIGEgc3RyaW5nIGBzdHJgLCB3aGljaCBpcyBub3QgYSBkZWNpbWFsIHZhbHVlLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VPdGhlcih4LCBzdHIpIHtcclxuICB2YXIgYmFzZSwgQ3RvciwgZGl2aXNvciwgaSwgaXNGbG9hdCwgbGVuLCBwLCB4ZCwgeGU7XHJcblxyXG4gIGlmIChzdHIgPT09ICdJbmZpbml0eScgfHwgc3RyID09PSAnTmFOJykge1xyXG4gICAgaWYgKCErc3RyKSB4LnMgPSBOYU47XHJcbiAgICB4LmUgPSBOYU47XHJcbiAgICB4LmQgPSBudWxsO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNIZXgudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDE2O1xyXG4gICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgfSBlbHNlIGlmIChpc0JpbmFyeS50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gMjtcclxuICB9IGVsc2UgaWYgKGlzT2N0YWwudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDg7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHN0cik7XHJcbiAgfVxyXG5cclxuICAvLyBJcyB0aGVyZSBhIGJpbmFyeSBleHBvbmVudCBwYXJ0P1xyXG4gIGkgPSBzdHIuc2VhcmNoKC9wL2kpO1xyXG5cclxuICBpZiAoaSA+IDApIHtcclxuICAgIHAgPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgaSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IHN0ci5zbGljZSgyKTtcclxuICB9XHJcblxyXG4gIC8vIENvbnZlcnQgYHN0cmAgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGBiYXNlYCByYWlzZWQgdG8gYSBwb3dlciBzdWNoIHRoYXQgdGhlXHJcbiAgLy8gZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG4gIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG4gIGlzRmxvYXQgPSBpID49IDA7XHJcbiAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChpc0Zsb2F0KSB7XHJcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcbiAgICBpID0gbGVuIC0gaTtcclxuXHJcbiAgICAvLyBsb2dbMTBdKDE2KSA9IDEuMjA0MS4uLiAsIGxvZ1sxMF0oODgpID0gMS45NDQ0Li4uLlxyXG4gICAgZGl2aXNvciA9IGludFBvdyhDdG9yLCBuZXcgQ3RvcihiYXNlKSwgaSwgaSAqIDIpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIEJBU0UpO1xyXG4gIHhlID0geGQubGVuZ3RoIC0gMTtcclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IHhlOyB4ZFtpXSA9PT0gMDsgLS1pKSB4ZC5wb3AoKTtcclxuICBpZiAoaSA8IDApIHJldHVybiBuZXcgQ3Rvcih4LnMgKiAwKTtcclxuICB4LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgeGUpO1xyXG4gIHguZCA9IHhkO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEF0IHdoYXQgcHJlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGRpdmlzaW9uIHRvIGVuc3VyZSBleGFjdCBjb252ZXJzaW9uP1xyXG4gIC8vIG1heERlY2ltYWxJbnRlZ2VyUGFydERpZ2l0Q291bnQgPSBjZWlsKGxvZ1sxMF0oYikgKiBvdGhlckJhc2VJbnRlZ2VyUGFydERpZ2l0Q291bnQpXHJcbiAgLy8gbG9nWzEwXSgyKSA9IDAuMzAxMDMsIGxvZ1sxMF0oOCkgPSAwLjkwMzA5LCBsb2dbMTBdKDE2KSA9IDEuMjA0MTJcclxuICAvLyBFLmcuIGNlaWwoMS4yICogMykgPSA0LCBzbyB1cCB0byA0IGRlY2ltYWwgZGlnaXRzIGFyZSBuZWVkZWQgdG8gcmVwcmVzZW50IDMgaGV4IGludCBkaWdpdHMuXHJcbiAgLy8gbWF4RGVjaW1hbEZyYWN0aW9uUGFydERpZ2l0Q291bnQgPSB7SGV4OjR8T2N0OjN8QmluOjF9ICogb3RoZXJCYXNlRnJhY3Rpb25QYXJ0RGlnaXRDb3VudFxyXG4gIC8vIFRoZXJlZm9yZSB1c2luZyA0ICogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygc3RyIHdpbGwgYWx3YXlzIGJlIGVub3VnaC5cclxuICBpZiAoaXNGbG9hdCkgeCA9IGRpdmlkZSh4LCBkaXZpc29yLCBsZW4gKiA0KTtcclxuXHJcbiAgLy8gTXVsdGlwbHkgYnkgdGhlIGJpbmFyeSBleHBvbmVudCBwYXJ0IGlmIHByZXNlbnQuXHJcbiAgaWYgKHApIHggPSB4LnRpbWVzKE1hdGguYWJzKHApIDwgNTQgPyBtYXRocG93KDIsIHApIDogRGVjaW1hbC5wb3coMiwgcCkpO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAqIHx4fCA8IHBpLzJcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmUoQ3RvciwgeCkge1xyXG4gIHZhciBrLFxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgaWYgKGxlbiA8IDMpIHJldHVybiB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luKDV4KSA9IDE2KnNpbl41KHgpIC0gMjAqc2luXjMoeCkgKyA1KnNpbih4KVxyXG4gIC8vIGkuZS4gc2luKHgpID0gMTYqc2luXjUoeC81KSAtIDIwKnNpbl4zKHgvNSkgKyA1KnNpbih4LzUpXHJcbiAgLy8gYW5kICBzaW4oeCkgPSBzaW4oeC81KSg1ICsgc2luXjIoeC81KSgxNnNpbl4yKHgvNSkgLSAyMCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgayA9IGsgPiAxNiA/IDE2IDogayB8IDA7XHJcblxyXG4gIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIHZhciBzaW4yX3gsXHJcbiAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgZDIwID0gbmV3IEN0b3IoMjApO1xyXG4gIGZvciAoOyBrLS07KSB7XHJcbiAgICBzaW4yX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW4yX3gudGltZXMoZDE2LnRpbWVzKHNpbjJfeCkubWludXMoZDIwKSkpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIFRheWxvciBzZXJpZXMgZm9yIGBjb3NgLCBgY29zaGAsIGBzaW5gIGFuZCBgc2luaGAuXHJcbmZ1bmN0aW9uIHRheWxvclNlcmllcyhDdG9yLCBuLCB4LCB5LCBpc0h5cGVyYm9saWMpIHtcclxuICB2YXIgaiwgdCwgdSwgeDIsXHJcbiAgICBpID0gMSxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICB1ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSBkaXZpZGUodS50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgIHUgPSBpc0h5cGVyYm9saWMgPyB5LnBsdXModCkgOiB5Lm1pbnVzKHQpO1xyXG4gICAgeSA9IGRpdmlkZSh0LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgdCA9IHUucGx1cyh5KTtcclxuXHJcbiAgICBpZiAodC5kW2tdICE9PSB2b2lkIDApIHtcclxuICAgICAgZm9yIChqID0gazsgdC5kW2pdID09PSB1LmRbal0gJiYgai0tOyk7XHJcbiAgICAgIGlmIChqID09IC0xKSBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBqID0gdTtcclxuICAgIHUgPSB5O1xyXG4gICAgeSA9IHQ7XHJcbiAgICB0ID0gajtcclxuICAgIGkrKztcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICB0LmQubGVuZ3RoID0gayArIDE7XHJcblxyXG4gIHJldHVybiB0O1xyXG59XHJcblxyXG5cclxuLy8gRXhwb25lbnQgZSBtdXN0IGJlIHBvc2l0aXZlIGFuZCBub24temVyby5cclxuZnVuY3Rpb24gdGlueVBvdyhiLCBlKSB7XHJcbiAgdmFyIG4gPSBiO1xyXG4gIHdoaWxlICgtLWUpIG4gKj0gYjtcclxuICByZXR1cm4gbjtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgIHJlZHVjZWQgdG8gbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGhhbGYgcGkuXHJcbmZ1bmN0aW9uIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkge1xyXG4gIHZhciB0LFxyXG4gICAgaXNOZWcgPSB4LnMgPCAwLFxyXG4gICAgcGkgPSBnZXRQaShDdG9yLCBDdG9yLnByZWNpc2lvbiwgMSksXHJcbiAgICBoYWxmUGkgPSBwaS50aW1lcygwLjUpO1xyXG5cclxuICB4ID0geC5hYnMoKTtcclxuXHJcbiAgaWYgKHgubHRlKGhhbGZQaSkpIHtcclxuICAgIHF1YWRyYW50ID0gaXNOZWcgPyA0IDogMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcbiAgdCA9IHguZGl2VG9JbnQocGkpO1xyXG5cclxuICBpZiAodC5pc1plcm8oKSkge1xyXG4gICAgcXVhZHJhbnQgPSBpc05lZyA/IDMgOiAyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB4ID0geC5taW51cyh0LnRpbWVzKHBpKSk7XHJcblxyXG4gICAgLy8gMCA8PSB4IDwgcGlcclxuICAgIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAyIDogMykgOiAoaXNOZWcgPyA0IDogMSk7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAxIDogNCkgOiAoaXNOZWcgPyAzIDogMik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5taW51cyhwaSkuYWJzKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIGFzIGEgc3RyaW5nIGluIGJhc2UgYGJhc2VPdXRgLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IGluY2x1ZGUgYSBiaW5hcnkgZXhwb25lbnQgc3VmZml4LlxyXG4gKi9cclxuZnVuY3Rpb24gdG9TdHJpbmdCaW5hcnkoeCwgYmFzZU91dCwgc2QsIHJtKSB7XHJcbiAgdmFyIGJhc2UsIGUsIGksIGssIGxlbiwgcm91bmRVcCwgc3RyLCB4ZCwgeSxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgaXNFeHAgPSBzZCAhPT0gdm9pZCAwO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfVxyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgc3RyID0gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgaSA9IHN0ci5pbmRleE9mKCcuJyk7XHJcblxyXG4gICAgLy8gVXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFjY29yZGluZyB0byBgdG9FeHBQb3NgIGFuZCBgdG9FeHBOZWdgPyBObywgYnV0IGlmIHJlcXVpcmVkOlxyXG4gICAgLy8gbWF4QmluYXJ5RXhwb25lbnQgPSBmbG9vcigoZGVjaW1hbEV4cG9uZW50ICsgMSkgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbWluQmluYXJ5RXhwb25lbnQgPSBmbG9vcihkZWNpbWFsRXhwb25lbnQgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbG9nWzJdKDEwKSA9IDMuMzIxOTI4MDk0ODg3MzYyMzQ3ODcwMzE5NDI5NDg5MzkwMTc1ODY0XHJcblxyXG4gICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgIGJhc2UgPSAyO1xyXG4gICAgICBpZiAoYmFzZU91dCA9PSAxNikge1xyXG4gICAgICAgIHNkID0gc2QgKiA0IC0gMztcclxuICAgICAgfSBlbHNlIGlmIChiYXNlT3V0ID09IDgpIHtcclxuICAgICAgICBzZCA9IHNkICogMyAtIDI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJhc2UgPSBiYXNlT3V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIgc3VjaFxyXG4gICAgLy8gdGhhdCB0aGUgZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG5cclxuICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICB5LmUgPSBzdHIubGVuZ3RoIC0gaTtcclxuICAgICAgeS5kID0gY29udmVydEJhc2UoZmluaXRlVG9TdHJpbmcoeSksIDEwLCBiYXNlKTtcclxuICAgICAgeS5lID0geS5kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgMTAsIGJhc2UpO1xyXG4gICAgZSA9IGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgICBpZiAoIXhkWzBdKSB7XHJcbiAgICAgIHN0ciA9IGlzRXhwID8gJzBwKzAnIDogJzAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgZS0tO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBuZXcgQ3Rvcih4KTtcclxuICAgICAgICB4LmQgPSB4ZDtcclxuICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgIHggPSBkaXZpZGUoeCwgeSwgc2QsIHJtLCAwLCBiYXNlKTtcclxuICAgICAgICB4ZCA9IHguZDtcclxuICAgICAgICBlID0geC5lO1xyXG4gICAgICAgIHJvdW5kVXAgPSBpbmV4YWN0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICBpID0geGRbc2RdO1xyXG4gICAgICBrID0gYmFzZSAvIDI7XHJcbiAgICAgIHJvdW5kVXAgPSByb3VuZFVwIHx8IHhkW3NkICsgMV0gIT09IHZvaWQgMDtcclxuXHJcbiAgICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgICA/IChpICE9PSB2b2lkIDAgfHwgcm91bmRVcCkgJiYgKHJtID09PSAwIHx8IHJtID09PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICA6IGkgPiBrIHx8IGkgPT09IGsgJiYgKHJtID09PSA0IHx8IHJvdW5kVXAgfHwgcm0gPT09IDYgJiYgeGRbc2QgLSAxXSAmIDEgfHxcclxuICAgICAgICAgIHJtID09PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICB4ZC5sZW5ndGggPSBzZDtcclxuXHJcbiAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXHJcbiAgICAgICAgZm9yICg7ICsreGRbLS1zZF0gPiBiYXNlIC0gMTspIHtcclxuICAgICAgICAgIHhkW3NkXSA9IDA7XHJcbiAgICAgICAgICBpZiAoIXNkKSB7XHJcbiAgICAgICAgICAgICsrZTtcclxuICAgICAgICAgICAgeGQudW5zaGlmdCgxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7ICF4ZFtsZW4gLSAxXTsgLS1sZW4pO1xyXG5cclxuICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcblxyXG4gICAgICAvLyBBZGQgYmluYXJ5IGV4cG9uZW50IHN1ZmZpeD9cclxuICAgICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgICAgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICAgIGlmIChiYXNlT3V0ID09IDE2IHx8IGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgICAgICBpID0gYmFzZU91dCA9PSAxNiA/IDQgOiAzO1xyXG4gICAgICAgICAgICBmb3IgKC0tbGVuOyBsZW4gJSBpOyBsZW4rKykgc3RyICs9ICcwJztcclxuICAgICAgICAgICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIGJhc2VPdXQpO1xyXG4gICAgICAgICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAgICAgICAvLyB4ZFswXSB3aWxsIGFsd2F5cyBiZSBiZSAxXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIHN0ciA9ICcxLic7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gIHN0ciArIChlIDwgMCA/ICdwJyA6ICdwKycpICsgZTtcclxuICAgICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgICAgIGZvciAoOyArK2U7KSBzdHIgPSAnMCcgKyBzdHI7XHJcbiAgICAgICAgc3RyID0gJzAuJyArIHN0cjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoKytlID4gbGVuKSBmb3IgKGUgLT0gbGVuOyBlLS0gOykgc3RyICs9ICcwJztcclxuICAgICAgICBlbHNlIGlmIChlIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSAoYmFzZU91dCA9PSAxNiA/ICcweCcgOiBiYXNlT3V0ID09IDIgPyAnMGInIDogYmFzZU91dCA9PSA4ID8gJzBvJyA6ICcnKSArIHN0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG59XHJcblxyXG5cclxuLy8gRG9lcyBub3Qgc3RyaXAgdHJhaWxpbmcgemVyb3MuXHJcbmZ1bmN0aW9uIHRydW5jYXRlKGFyciwgbGVuKSB7XHJcbiAgaWYgKGFyci5sZW5ndGggPiBsZW4pIHtcclxuICAgIGFyci5sZW5ndGggPSBsZW47XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBEZWNpbWFsIG1ldGhvZHNcclxuXHJcblxyXG4vKlxyXG4gKiAgYWJzXHJcbiAqICBhY29zXHJcbiAqICBhY29zaFxyXG4gKiAgYWRkXHJcbiAqICBhc2luXHJcbiAqICBhc2luaFxyXG4gKiAgYXRhblxyXG4gKiAgYXRhbmhcclxuICogIGF0YW4yXHJcbiAqICBjYnJ0XHJcbiAqICBjZWlsXHJcbiAqICBjbG9uZVxyXG4gKiAgY29uZmlnXHJcbiAqICBjb3NcclxuICogIGNvc2hcclxuICogIGRpdlxyXG4gKiAgZXhwXHJcbiAqICBmbG9vclxyXG4gKiAgaHlwb3RcclxuICogIGxuXHJcbiAqICBsb2dcclxuICogIGxvZzJcclxuICogIGxvZzEwXHJcbiAqICBtYXhcclxuICogIG1pblxyXG4gKiAgbW9kXHJcbiAqICBtdWxcclxuICogIHBvd1xyXG4gKiAgcmFuZG9tXHJcbiAqICByb3VuZFxyXG4gKiAgc2V0XHJcbiAqICBzaWduXHJcbiAqICBzaW5cclxuICogIHNpbmhcclxuICogIHNxcnRcclxuICogIHN1YlxyXG4gKiAgdGFuXHJcbiAqICB0YW5oXHJcbiAqICB0cnVuY1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhYnMoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hYnMoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgaW4gcmFkaWFucyBvZiBgeGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFjb3MoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWNvc2goeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiBgeGAgYW5kIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFkZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnBsdXMoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFzaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB5L3hgIGluIHRoZSByYW5nZSAtcGkgdG8gcGlcclxuICogKGluY2x1c2l2ZSksIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGksIHBpXVxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB5LWNvb3JkaW5hdGUuXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHgtY29vcmRpbmF0ZS5cclxuICpcclxuICogYXRhbjIowrEwLCAtMCkgICAgICAgICAgICAgICA9IMKxcGlcclxuICogYXRhbjIowrEwLCArMCkgICAgICAgICAgICAgICA9IMKxMFxyXG4gKiBhdGFuMijCsTAsIC14KSAgICAgICAgICAgICAgID0gwrFwaSBmb3IgeCA+IDBcclxuICogYXRhbjIowrEwLCB4KSAgICAgICAgICAgICAgICA9IMKxMCBmb3IgeCA+IDBcclxuICogYXRhbjIoLXksIMKxMCkgICAgICAgICAgICAgICA9IC1waS8yIGZvciB5ID4gMFxyXG4gKiBhdGFuMih5LCDCsTApICAgICAgICAgICAgICAgID0gcGkvMiBmb3IgeSA+IDBcclxuICogYXRhbjIowrF5LCAtSW5maW5pdHkpICAgICAgICA9IMKxcGkgZm9yIGZpbml0ZSB5ID4gMFxyXG4gKiBhdGFuMijCsXksICtJbmZpbml0eSkgICAgICAgID0gwrEwIGZvciBmaW5pdGUgeSA+IDBcclxuICogYXRhbjIowrFJbmZpbml0eSwgeCkgICAgICAgICA9IMKxcGkvMiBmb3IgZmluaXRlIHhcclxuICogYXRhbjIowrFJbmZpbml0eSwgLUluZmluaXR5KSA9IMKxMypwaS80XHJcbiAqIGF0YW4yKMKxSW5maW5pdHksICtJbmZpbml0eSkgPSDCsXBpLzRcclxuICogYXRhbjIoTmFOLCB4KSA9IE5hTlxyXG4gKiBhdGFuMih5LCBOYU4pID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuMih5LCB4KSB7XHJcbiAgeSA9IG5ldyB0aGlzKHkpO1xyXG4gIHggPSBuZXcgdGhpcyh4KTtcclxuICB2YXIgcixcclxuICAgIHByID0gdGhpcy5wcmVjaXNpb24sXHJcbiAgICBybSA9IHRoaXMucm91bmRpbmcsXHJcbiAgICB3cHIgPSBwciArIDQ7XHJcblxyXG4gIC8vIEVpdGhlciBOYU5cclxuICBpZiAoIXkucyB8fCAheC5zKSB7XHJcbiAgICByID0gbmV3IHRoaXMoTmFOKTtcclxuXHJcbiAgLy8gQm90aCDCsUluZmluaXR5XHJcbiAgfSBlbHNlIGlmICgheS5kICYmICF4LmQpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKHgucyA+IDAgPyAwLjI1IDogMC43NSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIHggaXMgwrFJbmZpbml0eSBvciB5IGlzIMKxMFxyXG4gIH0gZWxzZSBpZiAoIXguZCB8fCB5LmlzWmVybygpKSB7XHJcbiAgICByID0geC5zIDwgMCA/IGdldFBpKHRoaXMsIHByLCBybSkgOiBuZXcgdGhpcygwKTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8geSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwXHJcbiAgfSBlbHNlIGlmICgheS5kIHx8IHguaXNaZXJvKCkpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKDAuNSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIEJvdGggbm9uLXplcm8gYW5kIGZpbml0ZVxyXG4gIH0gZWxzZSBpZiAoeC5zIDwgMCkge1xyXG4gICAgdGhpcy5wcmVjaXNpb24gPSB3cHI7XHJcbiAgICB0aGlzLnJvdW5kaW5nID0gMTtcclxuICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gICAgeCA9IGdldFBpKHRoaXMsIHdwciwgMSk7XHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhpcy5yb3VuZGluZyA9IHJtO1xyXG4gICAgciA9IHkucyA8IDAgPyByLm1pbnVzKHgpIDogci5wbHVzKHgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2JydCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNicnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0NFSUxgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjZWlsKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAyKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENvbmZpZ3VyZSBnbG9iYWwgc2V0dGluZ3MgZm9yIGEgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogYG9iamAgaXMgYW4gb2JqZWN0IHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLFxyXG4gKlxyXG4gKiAgIHByZWNpc2lvbiAge251bWJlcn1cclxuICogICByb3VuZGluZyAgIHtudW1iZXJ9XHJcbiAqICAgdG9FeHBOZWcgICB7bnVtYmVyfVxyXG4gKiAgIHRvRXhwUG9zICAge251bWJlcn1cclxuICogICBtYXhFICAgICAgIHtudW1iZXJ9XHJcbiAqICAgbWluRSAgICAgICB7bnVtYmVyfVxyXG4gKiAgIG1vZHVsbyAgICAge251bWJlcn1cclxuICogICBjcnlwdG8gICAgIHtib29sZWFufG51bWJlcn1cclxuICogICBkZWZhdWx0cyAgIHt0cnVlfVxyXG4gKlxyXG4gKiBFLmcuIERlY2ltYWwuY29uZmlnKHsgcHJlY2lzaW9uOiAyMCwgcm91bmRpbmc6IDQgfSlcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvbmZpZyhvYmopIHtcclxuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgdGhyb3cgRXJyb3IoZGVjaW1hbEVycm9yICsgJ09iamVjdCBleHBlY3RlZCcpO1xyXG4gIHZhciBpLCBwLCB2LFxyXG4gICAgdXNlRGVmYXVsdHMgPSBvYmouZGVmYXVsdHMgPT09IHRydWUsXHJcbiAgICBwcyA9IFtcclxuICAgICAgJ3ByZWNpc2lvbicsIDEsIE1BWF9ESUdJVFMsXHJcbiAgICAgICdyb3VuZGluZycsIDAsIDgsXHJcbiAgICAgICd0b0V4cE5lZycsIC1FWFBfTElNSVQsIDAsXHJcbiAgICAgICd0b0V4cFBvcycsIDAsIEVYUF9MSU1JVCxcclxuICAgICAgJ21heEUnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICdtaW5FJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgJ21vZHVsbycsIDAsIDlcclxuICAgIF07XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgaWYgKHAgPSBwc1tpXSwgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICAgIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgICBpZiAobWF0aGZsb29yKHYpID09PSB2ICYmIHYgPj0gcHNbaSArIDFdICYmIHYgPD0gcHNbaSArIDJdKSB0aGlzW3BdID0gdjtcclxuICAgICAgZWxzZSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHAgPSAnY3J5cHRvJywgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgIGlmICh2ID09PSB0cnVlIHx8IHYgPT09IGZhbHNlIHx8IHYgPT09IDAgfHwgdiA9PT0gMSkge1xyXG4gICAgICBpZiAodikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgdGhpc1twXSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpc1twXSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvcyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNvcygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3NoKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBEZWNpbWFsIGNvbnN0cnVjdG9yIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGFzIHRoaXMgRGVjaW1hbFxyXG4gKiBjb25zdHJ1Y3Rvci5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lKG9iaikge1xyXG4gIHZhciBpLCBwLCBwcztcclxuXHJcbiAgLypcclxuICAgKiBUaGUgRGVjaW1hbCBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiB2IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIERlY2ltYWwodikge1xyXG4gICAgdmFyIGUsIGksIHQsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIC8vIERlY2ltYWwgY2FsbGVkIHdpdGhvdXQgbmV3LlxyXG4gICAgaWYgKCEoeCBpbnN0YW5jZW9mIERlY2ltYWwpKSByZXR1cm4gbmV3IERlY2ltYWwodik7XHJcblxyXG4gICAgLy8gUmV0YWluIGEgcmVmZXJlbmNlIHRvIHRoaXMgRGVjaW1hbCBjb25zdHJ1Y3RvciwgYW5kIHNoYWRvdyBEZWNpbWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxyXG4gICAgLy8gd2hpY2ggcG9pbnRzIHRvIE9iamVjdC5cclxuICAgIHguY29uc3RydWN0b3IgPSBEZWNpbWFsO1xyXG5cclxuICAgIC8vIER1cGxpY2F0ZS5cclxuICAgIGlmICh2IGluc3RhbmNlb2YgRGVjaW1hbCkge1xyXG4gICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICBpZiAoIXYuZCB8fCB2LmUgPiBEZWNpbWFsLm1heEUpIHtcclxuXHJcbiAgICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBEZWNpbWFsLm1pbkUpIHtcclxuXHJcbiAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5kID0gdi5kLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICB4LmQgPSB2LmQgPyB2LmQuc2xpY2UoKSA6IHYuZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHQgPSB0eXBlb2YgdjtcclxuXHJcbiAgICBpZiAodCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgaWYgKHYgPT09IDApIHtcclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAtMSA6IDE7XHJcbiAgICAgICAgeC5lID0gMDtcclxuICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodiA8IDApIHtcclxuICAgICAgICB2ID0gLXY7XHJcbiAgICAgICAgeC5zID0gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5zID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRmFzdCBwYXRoIGZvciBzbWFsbCBpbnRlZ2Vycy5cclxuICAgICAgaWYgKHYgPT09IH5+diAmJiB2IDwgMWU3KSB7XHJcbiAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTApIGUrKztcclxuXHJcbiAgICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgICBpZiAoZSA+IERlY2ltYWwubWF4RSkge1xyXG4gICAgICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGUgPCBEZWNpbWFsLm1pbkUpIHtcclxuICAgICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgLy8gSW5maW5pdHksIE5hTi5cclxuICAgICAgfSBlbHNlIGlmICh2ICogMCAhPT0gMCkge1xyXG4gICAgICAgIGlmICghdikgeC5zID0gTmFOO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHBhcnNlRGVjaW1hbCh4LCB2LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgdik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWludXMgc2lnbj9cclxuICAgIGlmICgoaSA9IHYuY2hhckNvZGVBdCgwKSkgPT09IDQ1KSB7XHJcbiAgICAgIHYgPSB2LnNsaWNlKDEpO1xyXG4gICAgICB4LnMgPSAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFBsdXMgc2lnbj9cclxuICAgICAgaWYgKGkgPT09IDQzKSB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgeC5zID0gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNEZWNpbWFsLnRlc3QodikgPyBwYXJzZURlY2ltYWwoeCwgdikgOiBwYXJzZU90aGVyKHgsIHYpO1xyXG4gIH1cclxuXHJcbiAgRGVjaW1hbC5wcm90b3R5cGUgPSBQO1xyXG5cclxuICBEZWNpbWFsLlJPVU5EX1VQID0gMDtcclxuICBEZWNpbWFsLlJPVU5EX0RPV04gPSAxO1xyXG4gIERlY2ltYWwuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgRGVjaW1hbC5ST1VORF9GTE9PUiA9IDM7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX1VQID0gNDtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gIERlY2ltYWwuRVVDTElEID0gOTtcclxuXHJcbiAgRGVjaW1hbC5jb25maWcgPSBEZWNpbWFsLnNldCA9IGNvbmZpZztcclxuICBEZWNpbWFsLmNsb25lID0gY2xvbmU7XHJcbiAgRGVjaW1hbC5pc0RlY2ltYWwgPSBpc0RlY2ltYWxJbnN0YW5jZTtcclxuXHJcbiAgRGVjaW1hbC5hYnMgPSBhYnM7XHJcbiAgRGVjaW1hbC5hY29zID0gYWNvcztcclxuICBEZWNpbWFsLmFjb3NoID0gYWNvc2g7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmFkZCA9IGFkZDtcclxuICBEZWNpbWFsLmFzaW4gPSBhc2luO1xyXG4gIERlY2ltYWwuYXNpbmggPSBhc2luaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYXRhbiA9IGF0YW47XHJcbiAgRGVjaW1hbC5hdGFuaCA9IGF0YW5oOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hdGFuMiA9IGF0YW4yO1xyXG4gIERlY2ltYWwuY2JydCA9IGNicnQ7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuY2VpbCA9IGNlaWw7XHJcbiAgRGVjaW1hbC5jb3MgPSBjb3M7XHJcbiAgRGVjaW1hbC5jb3NoID0gY29zaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5kaXYgPSBkaXY7XHJcbiAgRGVjaW1hbC5leHAgPSBleHA7XHJcbiAgRGVjaW1hbC5mbG9vciA9IGZsb29yO1xyXG4gIERlY2ltYWwuaHlwb3QgPSBoeXBvdDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubG4gPSBsbjtcclxuICBEZWNpbWFsLmxvZyA9IGxvZztcclxuICBEZWNpbWFsLmxvZzEwID0gbG9nMTA7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmxvZzIgPSBsb2cyOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLm1heCA9IG1heDtcclxuICBEZWNpbWFsLm1pbiA9IG1pbjtcclxuICBEZWNpbWFsLm1vZCA9IG1vZDtcclxuICBEZWNpbWFsLm11bCA9IG11bDtcclxuICBEZWNpbWFsLnBvdyA9IHBvdztcclxuICBEZWNpbWFsLnJhbmRvbSA9IHJhbmRvbTtcclxuICBEZWNpbWFsLnJvdW5kID0gcm91bmQ7XHJcbiAgRGVjaW1hbC5zaWduID0gc2lnbjsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zaW4gPSBzaW47XHJcbiAgRGVjaW1hbC5zaW5oID0gc2luaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zcXJ0ID0gc3FydDtcclxuICBEZWNpbWFsLnN1YiA9IHN1YjtcclxuICBEZWNpbWFsLnRhbiA9IHRhbjtcclxuICBEZWNpbWFsLnRhbmggPSB0YW5oOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnRydW5jID0gdHJ1bmM7ICAgICAgICAvLyBFUzZcclxuXHJcbiAgaWYgKG9iaiA9PT0gdm9pZCAwKSBvYmogPSB7fTtcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAob2JqLmRlZmF1bHRzICE9PSB0cnVlKSB7XHJcbiAgICAgIHBzID0gWydwcmVjaXNpb24nLCAncm91bmRpbmcnLCAndG9FeHBOZWcnLCAndG9FeHBQb3MnLCAnbWF4RScsICdtaW5FJywgJ21vZHVsbycsICdjcnlwdG8nXTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDspIGlmICghb2JqLmhhc093blByb3BlcnR5KHAgPSBwc1tpKytdKSkgb2JqW3BdID0gdGhpc1twXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIERlY2ltYWwuY29uZmlnKG9iaik7XHJcblxyXG4gIHJldHVybiBEZWNpbWFsO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIGRpdmlkZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZGl2KHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuZGl2KHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoZSBiYXNlIG9mIHRoZSBuYXR1cmFsIGxvZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGV4cCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmV4cCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0ZMT09SYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZmxvb3IoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDMpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSBzdW0gb2YgdGhlIHNxdWFyZXMgb2YgdGhlIGFyZ3VtZW50cyxcclxuICogcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBoeXBvdChhLCBiLCAuLi4pID0gc3FydChhXjIgKyBiXjIgKyAuLi4pXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaHlwb3QoKSB7XHJcbiAgdmFyIGksIG4sXHJcbiAgICB0ID0gbmV3IHRoaXMoMCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOykge1xyXG4gICAgbiA9IG5ldyB0aGlzKGFyZ3VtZW50c1tpKytdKTtcclxuICAgIGlmICghbi5kKSB7XHJcbiAgICAgIGlmIChuLnMpIHtcclxuICAgICAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKDEgLyAwKTtcclxuICAgICAgfVxyXG4gICAgICB0ID0gbjtcclxuICAgIH0gZWxzZSBpZiAodC5kKSB7XHJcbiAgICAgIHQgPSB0LnBsdXMobi50aW1lcyhuKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiB0LnNxcnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIG9iamVjdCBpcyBhIERlY2ltYWwgaW5zdGFuY2UgKHdoZXJlIERlY2ltYWwgaXMgYW55IERlY2ltYWwgY29uc3RydWN0b3IpLFxyXG4gKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaXNEZWNpbWFsSW5zdGFuY2Uob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERlY2ltYWwgfHwgb2JqICYmIG9iai5uYW1lID09PSAnW29iamVjdCBEZWNpbWFsXScgfHwgZmFsc2U7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBsb2cgb2YgYHhgIHRvIHRoZSBiYXNlIGB5YCwgb3IgdG8gYmFzZSAxMCBpZiBubyBiYXNlXHJcbiAqIGlzIHNwZWNpZmllZCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBsb2dbeV0oeClcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYXJndW1lbnQgb2YgdGhlIGxvZ2FyaXRobS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzIoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMik7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAxMCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzEwKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDEwKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbWF4KCkge1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLCBhcmd1bWVudHMsICdsdCcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtaW4oKSB7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbW9kdWxvIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1vZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm1vZCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtdWx0aXBsaWVkIGJ5IGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG11bCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm11bCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByYWlzZWQgdG8gdGhlIHBvd2VyIGB5YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgZXhwb25lbnQuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3coeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5wb3coeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsIGFuZCB3aXRoXHJcbiAqIGBzZGAsIG9yIGBEZWNpbWFsLnByZWNpc2lvbmAgaWYgYHNkYCBpcyBvbWl0dGVkLCBzaWduaWZpY2FudCBkaWdpdHMgKG9yIGxlc3MgaWYgdHJhaWxpbmcgemVyb3NcclxuICogYXJlIHByb2R1Y2VkKS5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiByYW5kb20oc2QpIHtcclxuICB2YXIgZCwgZSwgaywgbixcclxuICAgIGkgPSAwLFxyXG4gICAgciA9IG5ldyB0aGlzKDEpLFxyXG4gICAgcmQgPSBbXTtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHNkID0gdGhpcy5wcmVjaXNpb247XHJcbiAgZWxzZSBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgayA9IE1hdGguY2VpbChzZCAvIExPR19CQVNFKTtcclxuXHJcbiAgaWYgKCF0aGlzLmNyeXB0bykge1xyXG4gICAgZm9yICg7IGkgPCBrOykgcmRbaSsrXSA9IE1hdGgucmFuZG9tKCkgKiAxZTcgfCAwO1xyXG5cclxuICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgfSBlbHNlIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XHJcbiAgICBkID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoaykpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgbiA9IGRbaV07XHJcblxyXG4gICAgICAvLyAwIDw9IG4gPCA0Mjk0OTY3Mjk2XHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gNC4yOWU5LCBpcyA0OTY3Mjk2IC8gNDI5NDk2NzI5NiA9IDAuMDAxMTYgKDEgaW4gODY1KS5cclxuICAgICAgaWYgKG4gPj0gNC4yOWU5KSB7XHJcbiAgICAgICAgZFtpXSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDQyODk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmRbaSsrXSA9IG4gJSAxZTc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgIC8vIGJ1ZmZlclxyXG4gICAgZCA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDQpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgIC8vIDAgPD0gbiA8IDIxNDc0ODM2NDhcclxuICAgICAgbiA9IGRbaV0gKyAoZFtpICsgMV0gPDwgOCkgKyAoZFtpICsgMl0gPDwgMTYpICsgKChkW2kgKyAzXSAmIDB4N2YpIDw8IDI0KTtcclxuXHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gMi4xNGU5LCBpcyA3NDgzNjQ4IC8gMjE0NzQ4MzY0OCA9IDAuMDAzNSAoMSBpbiAyODYpLlxyXG4gICAgICBpZiAobiA+PSAyLjE0ZTkpIHtcclxuICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNCkuY29weShkLCBpKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDIxMzk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmQucHVzaChuICUgMWU3KTtcclxuICAgICAgICBpICs9IDQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpID0gayAvIDQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICB9XHJcblxyXG4gIGsgPSByZFstLWldO1xyXG4gIHNkICU9IExPR19CQVNFO1xyXG5cclxuICAvLyBDb252ZXJ0IHRyYWlsaW5nIGRpZ2l0cyB0byB6ZXJvcyBhY2NvcmRpbmcgdG8gc2QuXHJcbiAgaWYgKGsgJiYgc2QpIHtcclxuICAgIG4gPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIHNkKTtcclxuICAgIHJkW2ldID0gKGsgLyBuIHwgMCkgKiBuO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gIGZvciAoOyByZFtpXSA9PT0gMDsgaS0tKSByZC5wb3AoKTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoaSA8IDApIHtcclxuICAgIGUgPSAwO1xyXG4gICAgcmQgPSBbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIGUgPSAtMTtcclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB3b3JkcyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHJkWzBdID09PSAwOyBlIC09IExPR19CQVNFKSByZC5zaGlmdCgpO1xyXG5cclxuICAgIC8vIENvdW50IHRoZSBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGsgPSAxLCBuID0gcmRbMF07IG4gPj0gMTA7IG4gLz0gMTApIGsrKztcclxuXHJcbiAgICAvLyBBZGp1c3QgdGhlIGV4cG9uZW50IGZvciBsZWFkaW5nIHplcm9zIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkLlxyXG4gICAgaWYgKGsgPCBMT0dfQkFTRSkgZSAtPSBMT0dfQkFTRSAtIGs7XHJcbiAgfVxyXG5cclxuICByLmUgPSBlO1xyXG4gIHIuZCA9IHJkO1xyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBUbyBlbXVsYXRlIGBNYXRoLnJvdW5kYCwgc2V0IHJvdW5kaW5nIHRvIDcgKFJPVU5EX0hBTEZfQ0VJTCkuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCB0aGlzLnJvdW5kaW5nKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVyblxyXG4gKiAgIDEgICAgaWYgeCA+IDAsXHJcbiAqICAtMSAgICBpZiB4IDwgMCxcclxuICogICAwICAgIGlmIHggaXMgMCxcclxuICogIC0wICAgIGlmIHggaXMgLTAsXHJcbiAqICAgTmFOICBvdGhlcndpc2VcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2lnbih4KSB7XHJcbiAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gIHJldHVybiB4LmQgPyAoeC5kWzBdID8geC5zIDogMCAqIHgucykgOiB4LnMgfHwgTmFOO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc2luKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNxcnQoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zcXJ0KCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbWludXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3ViKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc3ViKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkudGFuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS50YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRydW5jKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAxKTtcclxufVxyXG5cclxuXHJcblBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnRvU3RyaW5nO1xyXG5QW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XHJcblxyXG4vLyBDcmVhdGUgYW5kIGNvbmZpZ3VyZSBpbml0aWFsIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbmV4cG9ydCB2YXIgRGVjaW1hbCA9IGNsb25lKERFRkFVTFRTKTtcclxuXHJcbi8vIENyZWF0ZSB0aGUgaW50ZXJuYWwgY29uc3RhbnRzIGZyb20gdGhlaXIgc3RyaW5nIHZhbHVlcy5cclxuTE4xMCA9IG5ldyBEZWNpbWFsKExOMTApO1xyXG5QSSA9IG5ldyBEZWNpbWFsKFBJKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERlY2ltYWw7XHJcbiIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQmlnTnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9vbicsICdjb25maWcnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBvbixcbiAgICBjb25maWdcbiAgfSA9IF9yZWY7XG4gIHZhciBFVUNMSUQgPSA5OyAvLyBVc2UgZXVjbGlkaWFuIGRpdmlzaW9uIGZvciBtb2QgY2FsY3VsYXRpb25cblxuICB2YXIgQmlnTnVtYmVyID0gRGVjaW1hbC5jbG9uZSh7XG4gICAgcHJlY2lzaW9uOiBjb25maWcucHJlY2lzaW9uLFxuICAgIG1vZHVsbzogRVVDTElEXG4gIH0pO1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50eXBlID0gJ0JpZ051bWJlcic7XG4gIEJpZ051bWJlci5wcm90b3R5cGUuaXNCaWdOdW1iZXIgPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIEJpZ051bWJlciBjb250YWluaW5nXG4gICAqIHR5cGUgaW5mb3JtYXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCaWdOdW1iZXJcIiwgXCJ2YWx1ZVwiOiBcIjAuMlwifWBcbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0JpZ051bWJlcicsXG4gICAgICB2YWx1ZTogdGhpcy50b1N0cmluZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgQmlnTnVtYmVyIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJpZ051bWJlclwiLCBcInZhbHVlXCI6IFwiMC4yXCJ9YFxuICAgKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gICAqL1xuXG5cbiAgQmlnTnVtYmVyLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEJpZ051bWJlcihqc29uLnZhbHVlKTtcbiAgfTtcblxuICBpZiAob24pIHtcbiAgICAvLyBsaXN0ZW4gZm9yIGNoYW5nZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24sIGF1dG9tYXRpY2FsbHkgYXBwbHkgY2hhbmdlZCBwcmVjaXNpb25cbiAgICBvbignY29uZmlnJywgZnVuY3Rpb24gKGN1cnIsIHByZXYpIHtcbiAgICAgIGlmIChjdXJyLnByZWNpc2lvbiAhPT0gcHJldi5wcmVjaXNpb24pIHtcbiAgICAgICAgQmlnTnVtYmVyLmNvbmZpZyh7XG4gICAgICAgICAgcHJlY2lzaW9uOiBjdXJyLnByZWNpc2lvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBCaWdOdW1iZXI7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qKlxuICogQGxpY2Vuc2UgQ29tcGxleC5qcyB2Mi4wLjEzIDEyLzA1LzIwMjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG4vKipcbiAqXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0aGUgbWFuaXB1bGF0aW9uIG9mIGNvbXBsZXggbnVtYmVycy5cbiAqIFlvdSBjYW4gcGFzcyBhIGNvbXBsZXggbnVtYmVyIGluIGRpZmZlcmVudCBmb3JtYXRzLiBFaXRoZXIgYXMgb2JqZWN0LCBkb3VibGUsIHN0cmluZyBvciB0d28gaW50ZWdlciBwYXJhbWV0ZXJzLlxuICpcbiAqIE9iamVjdCBmb3JtXG4gKiB7IHJlOiA8cmVhbD4sIGltOiA8aW1hZ2luYXJ5PiB9XG4gKiB7IGFyZzogPGFuZ2xlPiwgYWJzOiA8cmFkaXVzPiB9XG4gKiB7IHBoaTogPGFuZ2xlPiwgcjogPHJhZGl1cz4gfVxuICpcbiAqIEFycmF5IC8gVmVjdG9yIGZvcm1cbiAqIFsgcmVhbCwgaW1hZ2luYXJ5IF1cbiAqXG4gKiBEb3VibGUgZm9ybVxuICogOTkuMyAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogJzIzLjEzMzcnIC0gU2ltcGxlIHJlYWwgbnVtYmVyXG4gKiAnMTUrM2knIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqICczLWknIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIHZhciBjID0gbmV3IENvbXBsZXgoJzk5LjMrOGknKTtcbiAqIGMubXVsKHtyOiAzLCBpOiA5fSkuZGl2KDQuOSkuc3ViKDMsIDIpO1xuICpcbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29zaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICB2YXIgc2luaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBjb3MoeCkgLSAxIHVzaW5nIFRheWxvciBzZXJpZXMgaWYgeCBpcyBzbWFsbC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHJldHVybnMge251bWJlcn0gY29zKHgpIC0gMVxuICAgKi9cblxuICB2YXIgY29zbTEgPSBmdW5jdGlvbih4KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5QSS80O1xuICAgIGlmICh4IDwgLWxpbWl0IHx8IHggPiBsaW1pdCkge1xuICAgICAgcmV0dXJuIChNYXRoLmNvcyh4KSAtIDEuMCk7XG4gICAgfVxuXG4gICAgdmFyIHh4ID0geCAqIHg7XG4gICAgcmV0dXJuIHh4ICpcbiAgICAgICgtMC41ICsgeHggKlxuICAgICAgICAoMS8yNCArIHh4ICpcbiAgICAgICAgICAoLTEvNzIwICsgeHggKlxuICAgICAgICAgICAgKDEvNDAzMjAgKyB4eCAqXG4gICAgICAgICAgICAgICgtMS8zNjI4ODAwICsgeHggKlxuICAgICAgICAgICAgICAgICgxLzQ3OTAwMTQ2MDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAoLTEvODcxNzgyOTEyMDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAgICgxLzIwOTIyNzg5ODg4MDAwKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICB9O1xuXG4gIHZhciBoeXBvdCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHZhciBhID0gTWF0aC5hYnMoeCk7XG4gICAgdmFyIGIgPSBNYXRoLmFicyh5KTtcblxuICAgIGlmIChhIDwgMzAwMCAmJiBiIDwgMzAwMCkge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICB9XG5cbiAgICBpZiAoYSA8IGIpIHtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IHggLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0geSAvIHg7XG4gICAgfVxuICAgIHJldHVybiBhICogTWF0aC5zcXJ0KDEgKyBiICogYik7XG4gIH07XG5cbiAgdmFyIHBhcnNlcl9leGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgU3ludGF4RXJyb3IoJ0ludmFsaWQgUGFyYW0nKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBsb2coc3FydChhXjIrYl4yKSkgaW4gYSB3YXkgdG8gYXZvaWQgb3ZlcmZsb3dzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBsb2dIeXBvdChhLCBiKSB7XG5cbiAgICB2YXIgX2EgPSBNYXRoLmFicyhhKTtcbiAgICB2YXIgX2IgPSBNYXRoLmFicyhiKTtcblxuICAgIGlmIChhID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2IpO1xuICAgIH1cblxuICAgIGlmIChiID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2EpO1xuICAgIH1cblxuICAgIGlmIChfYSA8IDMwMDAgJiYgX2IgPCAzMDAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coYSAqIGEgKyBiICogYikgKiAwLjU7XG4gICAgfVxuXG4gICAgLyogSSBnb3QgNCBpZGVhcyB0byBjb21wdXRlIHRoaXMgcHJvcGVydHkgd2l0aG91dCBvdmVyZmxvdzpcbiAgICAgKlxuICAgICAqIFRlc3RpbmcgMTAwMDAwMCB0aW1lcyB3aXRoIHJhbmRvbSBzYW1wbGVzIGZvciBhLGIg4oiIIFsxLCAxMDAwMDAwMDAwXSBhZ2FpbnN0IGEgYmlnIGRlY2ltYWwgbGlicmFyeSB0byBnZXQgYW4gZXJyb3IgZXN0aW1hdGVcbiAgICAgKlxuICAgICAqIDEuIE9ubHkgZWxpbWluYXRlIHRoZSBzcXVhcmUgcm9vdDogKE9WRVJBTEwgRVJST1I6IDMuOTEyMjQ4MzAzMDk1MTExNmUtMTEpXG5cbiAgICAgTWF0aC5sb2coYSAqIGEgKyBiICogYikgLyAyXG5cbiAgICAgKlxuICAgICAqXG4gICAgICogMi4gVHJ5IHRvIHVzZSB0aGUgbm9uLW92ZXJmbG93aW5nIHB5dGhhZ29yYXM6IChPVkVSQUxMIEVSUk9SOiA4Ljg4OTc2MDAzOTIxMDE1OWUtMTApXG5cbiAgICAgdmFyIGZuID0gZnVuY3Rpb24oYSwgYikge1xuICAgICBhID0gTWF0aC5hYnMoYSk7XG4gICAgIGIgPSBNYXRoLmFicyhiKTtcbiAgICAgdmFyIHQgPSBNYXRoLm1pbihhLCBiKTtcbiAgICAgYSA9IE1hdGgubWF4KGEsIGIpO1xuICAgICB0ID0gdCAvIGE7XG5cbiAgICAgcmV0dXJuIE1hdGgubG9nKGEpICsgTWF0aC5sb2coMSArIHQgKiB0KSAvIDI7XG4gICAgIH07XG5cbiAgICAgKiAzLiBBYnVzZSB0aGUgaWRlbnRpdHkgY29zKGF0YW4oeS94KSA9IHggLyBzcXJ0KHheMit5XjIpOiAoT1ZFUkFMTCBFUlJPUjogMy40NzgwMTc4NzM3MDM3MjA0ZS0xMClcblxuICAgICBNYXRoLmxvZyhhIC8gTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpXG5cbiAgICAgKiA0LiBVc2UgMy4gYW5kIGFwcGx5IGxvZyBydWxlczogKE9WRVJBTEwgRVJST1I6IDEuMjAxNDA4NzUwMjYyMDg5NmUtOSlcblxuICAgICBNYXRoLmxvZyhhKSAtIE1hdGgubG9nKE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKVxuXG4gICAgICovXG5cbiAgICByZXR1cm4gTWF0aC5sb2coYSAvIE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKTtcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgIHZhciB6ID0geydyZSc6IDAsICdpbSc6IDB9O1xuXG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCB8fCBhID09PSBudWxsKSB7XG4gICAgICB6WydyZSddID1cbiAgICAgICAgICAgICAgelsnaW0nXSA9IDA7XG4gICAgfSBlbHNlIGlmIChiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgelsnaW0nXSA9IGI7XG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG5cbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcblxuICAgICAgICAgIGlmICgnaW0nIGluIGEgJiYgJ3JlJyBpbiBhKSB7XG4gICAgICAgICAgICB6WydyZSddID0gYVsncmUnXTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydpbSddO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJ2FicycgaW4gYSAmJiAnYXJnJyBpbiBhKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhWydhYnMnXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ2FyZyddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydhYnMnXSAqIE1hdGguY29zKGFbJ2FyZyddKTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydhYnMnXSAqIE1hdGguc2luKGFbJ2FyZyddKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCdyJyBpbiBhICYmICdwaGknIGluIGEpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFbJ3InXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ3BoaSddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydyJ10gKiBNYXRoLmNvcyhhWydwaGknXSk7XG4gICAgICAgICAgICB6WydpbSddID0gYVsnciddICogTWF0aC5zaW4oYVsncGhpJ10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGggPT09IDIpIHsgLy8gUXVpY2sgYXJyYXkgY2hlY2tcbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWzBdO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbMV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG5cbiAgICAgICAgICB6WydpbSddID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICAgICAgelsncmUnXSA9IDA7XG5cbiAgICAgICAgICB2YXIgdG9rZW5zID0gYS5tYXRjaCgvXFxkK1xcLj9cXGQqZVsrLV0/XFxkK3xcXGQrXFwuP1xcZCp8XFwuXFxkK3wuL2cpO1xuICAgICAgICAgIHZhciBwbHVzID0gMTtcbiAgICAgICAgICB2YXIgbWludXMgPSAwO1xuXG4gICAgICAgICAgaWYgKHRva2VucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgaWYgKGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAvKiB2b2lkICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcrJykge1xuICAgICAgICAgICAgICBwbHVzKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgICBtaW51cysrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnaScgfHwgYyA9PT0gJ0knKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodG9rZW5zW2kgKyAxXSAhPT0gJyAnICYmICFpc05hTih0b2tlbnNbaSArIDFdKSkge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgdG9rZW5zW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgJzEnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwbHVzID0gbWludXMgPSAwO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPT09IDAgfHwgaXNOYU4oYykpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpICsgMV0gPT09ICdpJyB8fCB0b2tlbnNbaSArIDFdID09PSAnSScpIHtcbiAgICAgICAgICAgICAgICB6WydpbSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6WydyZSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsdXMgPSBtaW51cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RpbGwgc29tZXRoaW5nIG9uIHRoZSBzdGFja1xuICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPiAwKSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHpbJ2ltJ10gPSAwO1xuICAgICAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgIH1cblxuICAgIGlmIChpc05hTih6WydyZSddKSB8fCBpc05hTih6WydpbSddKSkge1xuICAgICAgLy8gSWYgYSBjYWxjdWxhdGlvbiBpcyBOYU4sIHdlIHRyZWF0IGl0IGFzIE5hTiBhbmQgZG9uJ3QgdGhyb3dcbiAgICAgIC8vcGFyc2VyX2V4aXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gejtcbiAgfTtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgKi9cbiAgZnVuY3Rpb24gQ29tcGxleChhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGxleCkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhLCBiKTtcbiAgICB9XG5cbiAgICB2YXIgeiA9IHBhcnNlKGEsIGIpO1xuXG4gICAgdGhpc1sncmUnXSA9IHpbJ3JlJ107XG4gICAgdGhpc1snaW0nXSA9IHpbJ2ltJ107XG4gIH1cblxuICBDb21wbGV4LnByb3RvdHlwZSA9IHtcblxuICAgICdyZSc6IDAsXG4gICAgJ2ltJzogMCxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNpZ24gb2YgYSBjb21wbGV4IG51bWJlciwgd2hpY2ggaXMgYSBub3JtYWxpemVkIGNvbXBsZXhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaWduJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhYnMgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gLyBhYnMsXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLyBhYnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhZGQnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5ICsgSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5ICsgeiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSArIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gKyB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzdWInOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5IC0gSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC0geiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAtIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLSB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbXVsJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyBJbmZpbml0eSAqIDAgPSBOYU5cbiAgICAgIGlmICgodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgKiB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IDAgfVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG9ydCBjaXJjdWl0IGZvciByZWFsIHZhbHVlc1xuICAgICAgaWYgKHpbJ2ltJ10gPT09IDAgJiYgdGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSAqIHpbJ3JlJ10sIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydyZSddIC0gdGhpc1snaW0nXSAqIHpbJ2ltJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydpbSddICsgdGhpc1snaW0nXSAqIHpbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdkaXYnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIDAgLyAwID0gTmFOIGFuZCBJbmZpbml0eSAvIEluZmluaXR5ID0gTmFOXG4gICAgICBpZiAoKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC8gMCA9IEluZmluaXR5XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgLy8gMCAvIEluZmluaXR5ID0gMFxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIGMgPSB6WydyZSddO1xuICAgICAgdmFyIGQgPSB6WydpbSddO1xuICAgICAgdmFyIHQsIHg7XG5cbiAgICAgIGlmICgwID09PSBkKSB7XG4gICAgICAgIC8vIERpdmlzb3IgaXMgcmVhbFxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoYSAvIGMsIGIgLyBjKTtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGMpIDwgTWF0aC5hYnMoZCkpIHtcblxuICAgICAgICB4ID0gYyAvIGQ7XG4gICAgICAgIHQgPSBjICogeCArIGQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICogeCArIGIpIC8gdCxcbiAgICAgICAgICAgICAgICAoYiAqIHggLSBhKSAvIHQpO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHggPSBkIC8gYztcbiAgICAgICAgdCA9IGQgKiB4ICsgYztcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgKyBiICogeCkgLyB0LFxuICAgICAgICAgICAgICAgIChiIC0gYSAqIHgpIC8gdCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Bvdyc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKHpbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ09ORSddO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgZXhwb25lbnQgaXMgcmVhbFxuICAgICAgaWYgKHpbJ2ltJ10gPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMCAmJiBhID4gMCkge1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgucG93KGEsIHpbJ3JlJ10pLCAwKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGEgPT09IDApIHsgLy8gSWYgYmFzZSBpcyBmdWxseSBpbWFnaW5hcnlcblxuICAgICAgICAgIHN3aXRjaCAoKHpbJ3JlJ10gJSA0ICsgNCkgJSA0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnBvdyhiLCB6WydyZSddKSwgMCk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBNYXRoLnBvdyhiLCB6WydyZSddKSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtTWF0aC5wb3coYiwgelsncmUnXSksIDApO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLU1hdGgucG93KGIsIHpbJ3JlJ10pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogSSBjb3VsZG4ndCBmaW5kIGEgZ29vZCBmb3JtdWxhLCBzbyBoZXJlIGlzIGEgZGVyaXZhdGlvbiBhbmQgb3B0aW1pemF0aW9uXG4gICAgICAgKlxuICAgICAgICogel8xXnpfMiA9IChhICsgYmkpXihjICsgZGkpXG4gICAgICAgKiAgICAgICAgID0gZXhwKChjICsgZGkpICogbG9nKGEgKyBiaSlcbiAgICAgICAqICAgICAgICAgPSBwb3coYV4yICsgYl4yLCAoYyArIGRpKSAvIDIpICogZXhwKGkoYyArIGRpKWF0YW4yKGIsIGEpKVxuICAgICAgICogPT4uLi5cbiAgICAgICAqIFJlID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBjb3MoZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqIEltID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBzaW4oZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9Pi4uLlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZyhzcXJ0KGFeMiArIGJeMikpIC0gZCAqIGF0YW4yKGIsIGEpKSAqIGNvcyhkICogbG9nKHNxcnQoYV4yICsgYl4yKSkgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKiBJbSA9IGV4cChjICogbG9nKHNxcnQoYV4yICsgYl4yKSkgLSBkICogYXRhbjIoYiwgYSkpICogc2luKGQgKiBsb2coc3FydChhXjIgKyBiXjIpKSArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9PlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZ3NxMiAtIGQgKiBhcmcoel8xKSkgKiBjb3MoZCAqIGxvZ3NxMiArIGMgKiBhcmcoel8xKSlcbiAgICAgICAqIEltID0gZXhwKGMgKiBsb2dzcTIgLSBkICogYXJnKHpfMSkpICogc2luKGQgKiBsb2dzcTIgKyBjICogYXJnKHpfMSkpXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDAgJiYgelsncmUnXSA+IDAgJiYgelsnaW0nXSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydaRVJPJ107XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmcgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgdmFyIGxvaCA9IGxvZ0h5cG90KGEsIGIpO1xuXG4gICAgICBhID0gTWF0aC5leHAoelsncmUnXSAqIGxvaCAtIHpbJ2ltJ10gKiBhcmcpO1xuICAgICAgYiA9IHpbJ2ltJ10gKiBsb2ggKyB6WydyZSddICogYXJnO1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBhICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGEgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzcXVhcmUgcm9vdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NxcnQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIHIgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICB2YXIgcmUsIGltO1xuXG4gICAgICBpZiAoYSA+PSAwKSB7XG5cbiAgICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5zcXJ0KGEpLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlID0gMC41ICogTWF0aC5zcXJ0KDIuMCAqIChyICsgYSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmUgPSBNYXRoLmFicyhiKSAvIE1hdGguc3FydCgyICogKHIgLSBhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhIDw9IDApIHtcbiAgICAgICAgaW0gPSAwLjUgKiBNYXRoLnNxcnQoMi4wICogKHIgLSBhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbSA9IE1hdGguYWJzKGIpIC8gTWF0aC5zcXJ0KDIgKiAociArIGEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHJlLCBiIDwgMCA/IC1pbSA6IGltKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0bXAgPSBNYXRoLmV4cCh0aGlzWydyZSddKTtcblxuICAgICAgaWYgKHRoaXNbJ2ltJ10gPT09IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgodG1wLCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdG1wICogTWF0aC5jb3ModGhpc1snaW0nXSksXG4gICAgICAgICAgICAgIHRtcCAqIE1hdGguc2luKHRoaXNbJ2ltJ10pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50IGFuZCBzdWJ0cmFjdHMgb25lLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZSB0aGFuIGBDb21wbGV4KHgpLmV4cCgpLnN1YigxKWAgaWZcbiAgICAgKiBgeGAgaXMgc21hbGwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwbTEnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBleHAoYSArIGkqYikgLSAxXG4gICAgICAgPSBleHAoYSkgKiAoY29zKGIpICsgaipzaW4oYikpIC0gMVxuICAgICAgID0gZXhwbTEoYSkqY29zKGIpICsgY29zbTEoYikgKyBqKmV4cChhKSpzaW4oYilcbiAgICAgICAqL1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5leHBtMShhKSAqIE1hdGguY29zKGIpICsgY29zbTEoYiksXG4gICAgICAgICAgICAgIE1hdGguZXhwKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbG9nJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDAgJiYgYSA+IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5sb2coYSksIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGxvZ0h5cG90KGEsIGIpLFxuICAgICAgICAgICAgICBNYXRoLmF0YW4yKGIsIGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtYWduaXR1ZGUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgICdhYnMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIGh5cG90KHRoaXNbJ3JlJ10sIHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGFuZ2xlIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICAnYXJnJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXNbJ2ltJ10sIHRoaXNbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNpbmUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbihjKSA9IChlXmIgLSBlXigtYikpIC8gKDJpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpLFxuICAgICAgICAgICAgICBNYXRoLmNvcyhhKSAqIHNpbmgoYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2luZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvcyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3MoeikgPSAoZV5iICsgZV4oLWIpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSxcbiAgICAgICAgICAgICAgLU1hdGguc2luKGEpICogc2luaChiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Rhbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyB0YW4oYykgPSAoZV4oY2kpIC0gZV4oLWNpKSkgLyAoaShlXihjaSkgKyBlXigtY2kpKSlcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKGEpICsgY29zaChiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3QnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290KGMpID0gaShlXihjaSkgKyBlXigtY2kpKSAvIChlXihjaSkgLSBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoYSkgLSBjb3NoKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzZWNhbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzZWMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2VjKGMpID0gMiAvIChlXihjaSkgKyBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IDAuNSAqIGNvc2goMiAqIGIpICsgMC41ICogTWF0aC5jb3MoMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSAvIGQsXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2VjYW5zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY3NjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzYyhjKSA9IDJpIC8gKGVeKGNpKSAtIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gMC41ICogY29zaCgyICogYikgLSAwLjUgKiBNYXRoLmNvcygyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpIC8gZCxcbiAgICAgICAgICAgICAgLU1hdGguY29zKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzaW4oYykgPSAtaSAqIGxvZyhjaSArIHNxcnQoMSAtIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIHQxID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGIgKiBiIC0gYSAqIGEgKyAxLFxuICAgICAgICAgICAgICAtMiAqIGEgKiBiKVsnc3FydCddKCk7XG5cbiAgICAgIHZhciB0MiA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0MVsncmUnXSAtIGIsXG4gICAgICAgICAgICAgIHQxWydpbSddICsgYSlbJ2xvZyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0MlsnaW0nXSwgLXQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY29zJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3MoYykgPSBpICogbG9nKGMgLSBpICogc3FydCgxIC0gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYiAqIGIgLSBhICogYSArIDEsXG4gICAgICAgICAgICAgIC0yICogYSAqIGIpWydzcXJ0J10oKTtcblxuICAgICAgdmFyIHQyID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHQxWydyZSddIC0gYixcbiAgICAgICAgICAgICAgdDFbJ2ltJ10gKyBhKVsnbG9nJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguUEkgLyAyIC0gdDJbJ2ltJ10sIHQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIHRhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGF0YW4oYykgPSBpIC8gMiBsb2coKGkgKyB4KSAvIChpIC0geCkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYiA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLUluZmluaXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgKDEuMCAtIGIpICogKDEuMCAtIGIpO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgKDEgLSBiICogYiAtIGEgKiBhKSAvIGQsXG4gICAgICAgICAgICAgIC0yICogYSAvIGQpLmxvZygpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLTAuNSAqIHQxWydpbSddLCAwLjUgKiB0MVsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY290JzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3QoYykgPSBpIC8gMiBsb2coKGMgLSBpKSAvIChjICsgaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguYXRhbjIoMSwgYSksIDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hdGFuKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXRhbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2VjYW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNlYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjKGMpID0gLWkgKiBsb2coMSAvIGMgKyBzcXJ0KDEgLSBpIC8gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFjb3MoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3NlY2Fuc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjc2MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNzYyhjKSA9IC1pICogbG9nKGkgLyBjICsgc3FydCgxIC0gMSAvIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5QSSAvIDIsIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbigpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFzaW4oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbmgoYykgPSAoZV5jIC0gZV4tYykgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGNvc2goYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29zaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3NoKGMpID0gKGVeYyArIGVeLWMpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgY29zaChhKSAqIE1hdGguY29zKGIpLFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggdGFuaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3RhbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gdGFuaChjKSA9IChlXmMgLSBlXi1jKSAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSArIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NvdGgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290aChjKSA9IChlXmMgKyBlXi1jKSAvIChlXmMgLSBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSAtIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjc2NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzY2goYykgPSAyIC8gKGVeYyAtIGVeLWMpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoMiAqIGIpIC0gY29zaCgyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgLTIgKiBzaW5oKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAyICogY29zaChhKSAqIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzZWNoKGMpID0gMiAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKDIgKiBiKSArIGNvc2goMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIDIgKiBjb3NoKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAtMiAqIHNpbmgoYSkgKiBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2luaChjKSA9IGxvZyhjICsgc3FydChjXjIgKyAxKSlcblxuICAgICAgdmFyIHRtcCA9IHRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gLXRoaXNbJ3JlJ107XG4gICAgICB0aGlzWydyZSddID0gdG1wO1xuICAgICAgdmFyIHJlcyA9IHRoaXNbJ2FzaW4nXSgpO1xuXG4gICAgICB0aGlzWydyZSddID0gLXRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gdG1wO1xuICAgICAgdG1wID0gcmVzWydyZSddO1xuXG4gICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgcmVzWydpbSddID0gdG1wO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvc2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvc2goYykgPSBsb2coYyArIHNxcnQoY14yIC0gMSkpXG5cbiAgICAgIHZhciByZXMgPSB0aGlzWydhY29zJ10oKTtcbiAgICAgIGlmIChyZXNbJ2ltJ10gPD0gMCkge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSB0bXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSAtcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSB0bXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXRhbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhdGFuaChjKSA9IGxvZygoMStjKSAvICgxLWMpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgbm9JTSA9IGEgPiAxICYmIGIgPT09IDA7XG4gICAgICB2YXIgb25lTWludXMgPSAxIC0gYTtcbiAgICAgIHZhciBvbmVQbHVzID0gMSArIGE7XG4gICAgICB2YXIgZCA9IG9uZU1pbnVzICogb25lTWludXMgKyBiICogYjtcblxuICAgICAgdmFyIHggPSAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAob25lUGx1cyAqIG9uZU1pbnVzIC0gYiAqIGIpIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAqIG9uZU1pbnVzICsgb25lUGx1cyAqIGIpIC8gZClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gLTEpID8gKGEgLyAwKSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gKGIgLyAwKSA6IDApO1xuXG4gICAgICB2YXIgdGVtcCA9IHhbJ3JlJ107XG4gICAgICB4WydyZSddID0gbG9nSHlwb3QoeFsncmUnXSwgeFsnaW0nXSkgLyAyO1xuICAgICAgeFsnaW0nXSA9IE1hdGguYXRhbjIoeFsnaW0nXSwgdGVtcCkgLyAyO1xuICAgICAgaWYgKG5vSU0pIHtcbiAgICAgICAgeFsnaW0nXSA9IC14WydpbSddO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3RoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3RoKGMpID0gbG9nKChjKzEpIC8gKGMtMSkpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIE1hdGguUEkgLyAyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXRhbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hdGFuaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNzY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY3NjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY3NjaChjKSA9IGxvZygoMStzcXJ0KDErY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSAhPT0gMClcbiAgICAgICAgICAgICAgICA/IE1hdGgubG9nKGEgKyBNYXRoLnNxcnQoYSAqIGEgKyAxKSlcbiAgICAgICAgICAgICAgICA6IEluZmluaXR5LCAwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hc2luaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNlY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjaChjKSA9IGxvZygoMStzcXJ0KDEtY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYWNvc2goKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggaW52ZXJzZSAxL3pcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdpbnZlcnNlJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIDEgLyAwID0gSW5maW5pdHkgYW5kIDEgLyBJbmZpbml0eSA9IDBcbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhIC8gZCwgLWIgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29tcGxleCBjb25qdWdhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb25qdWdhdGUnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmVnYXRlZCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ25lZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLXRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NlaWwnOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmNlaWwodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZsb29ycyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZmxvb3InOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3JvdW5kJzogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBuZXcgQ29tcGxleChJbmZpbml0eSkuZXF1YWxzKEluZmluaXR5KSA9PT0gZmFsc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdlcXVhbHMnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIHJldHVybiBNYXRoLmFicyh6WydyZSddIC0gdGhpc1sncmUnXSkgPD0gQ29tcGxleFsnRVBTSUxPTiddICYmXG4gICAgICAgICAgICAgIE1hdGguYWJzKHpbJ2ltJ10gLSB0aGlzWydpbSddKSA8PSBDb21wbGV4WydFUFNJTE9OJ107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nsb25lJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddLCB0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyBvZiB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgcmV0ID0gXCJcIjtcblxuICAgICAgaWYgKHRoaXNbJ2lzTmFOJ10oKSkge1xuICAgICAgICByZXR1cm4gJ05hTic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gJ0luZmluaXR5JztcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGEpIDwgQ29tcGxleFsnRVBTSUxPTiddKSB7XG4gICAgICAgIGEgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYikgPCBDb21wbGV4WydFUFNJTE9OJ10pIHtcbiAgICAgICAgYiA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGlzIHJlYWwgbnVtYmVyXG4gICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmV0ICsgYTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgIT09IDApIHtcbiAgICAgICAgcmV0Kz0gYTtcbiAgICAgICAgcmV0Kz0gXCIgXCI7XG4gICAgICAgIGlmIChiIDwgMCkge1xuICAgICAgICAgIGIgPSAtYjtcbiAgICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQrPSBcIitcIjtcbiAgICAgICAgfVxuICAgICAgICByZXQrPSBcIiBcIjtcbiAgICAgIH0gZWxzZSBpZiAoYiA8IDApIHtcbiAgICAgICAgYiA9IC1iO1xuICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKDEgIT09IGIpIHsgLy8gYiBpcyB0aGUgYWJzb2x1dGUgaW1hZ2luYXJ5IHBhcnRcbiAgICAgICAgcmV0Kz0gYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQgKyBcImlcIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYWN0dWFsIG51bWJlciBhcyBhIHZlY3RvclxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgICd0b1ZlY3Rvcic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gW3RoaXNbJ3JlJ10sIHRoaXNbJ2ltJ11dO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgcmVhbCB2YWx1ZSBvZiB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH1cbiAgICAgKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAodGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpc1sncmUnXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjb21wbGV4IG51bWJlciBpcyBub3Qgb24gdGhlIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzTmFOJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNOYU4odGhpc1sncmUnXSkgfHwgaXNOYU4odGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgemVybyBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzWmVybyc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbJ2ltJ10gPT09IDAgJiYgdGhpc1sncmUnXSA9PT0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgY29tcGxleCBudW1iZXIgaXMgbm90IGF0IHRoZSBpbmZpbml0eSBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzRmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNGaW5pdGUodGhpc1sncmUnXSkgJiYgaXNGaW5pdGUodGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgaW5maW5pdHkgcG9sZSBvZiB0aGVcbiAgICAgKiBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc0luZmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISh0aGlzWydpc05hTiddKCkgfHwgdGhpc1snaXNGaW5pdGUnXSgpKTtcbiAgICB9XG4gIH07XG5cbiAgQ29tcGxleFsnWkVSTyddID0gbmV3IENvbXBsZXgoMCwgMCk7XG4gIENvbXBsZXhbJ09ORSddID0gbmV3IENvbXBsZXgoMSwgMCk7XG4gIENvbXBsZXhbJ0knXSA9IG5ldyBDb21wbGV4KDAsIDEpO1xuICBDb21wbGV4WydQSSddID0gbmV3IENvbXBsZXgoTWF0aC5QSSwgMCk7XG4gIENvbXBsZXhbJ0UnXSA9IG5ldyBDb21wbGV4KE1hdGguRSwgMCk7XG4gIENvbXBsZXhbJ0lORklOSVRZJ10gPSBuZXcgQ29tcGxleChJbmZpbml0eSwgSW5maW5pdHkpO1xuICBDb21wbGV4WydOQU4nXSA9IG5ldyBDb21wbGV4KE5hTiwgTmFOKTtcbiAgQ29tcGxleFsnRVBTSUxPTiddID0gMWUtMTU7XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ29tcGxleDtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGxleCwgXCJfX2VzTW9kdWxlXCIsIHsndmFsdWUnOiB0cnVlfSk7XG4gICAgQ29tcGxleFsnZGVmYXVsdCddID0gQ29tcGxleDtcbiAgICBDb21wbGV4WydDb21wbGV4J10gPSBDb21wbGV4O1xuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gQ29tcGxleDtcbiAgfSBlbHNlIHtcbiAgICByb290WydDb21wbGV4J10gPSBDb21wbGV4O1xuICB9XG5cbn0pKHRoaXMpO1xuIiwiaW1wb3J0IENvbXBsZXggZnJvbSAnY29tcGxleC5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIsIGlzVW5pdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0NvbXBsZXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVDb21wbGV4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG4gIENvbXBsZXgucHJvdG90eXBlLnR5cGUgPSAnQ29tcGxleCc7XG4gIENvbXBsZXgucHJvdG90eXBlLmlzQ29tcGxleCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkNvbXBsZXhcIiwgXCJyZVwiOiAyLCBcImltXCI6IDN9YFxuICAgKi9cblxuICBDb21wbGV4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbXBsZXgnLFxuICAgICAgcmU6IHRoaXMucmUsXG4gICAgICBpbTogdGhpcy5pbVxuICAgIH07XG4gIH07XG4gIC8qXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGNvbXBsZXggbnVtYmVyIGluIHBvbGFyIG5vdGF0aW9uXG4gICAqIFRoZSBhbmdsZSBwaGkgd2lsbCBiZSBzZXQgaW4gdGhlIGludGVydmFsIG9mIFstcGksIHBpXS5cbiAgICogQHJldHVybiB7e3I6IG51bWJlciwgcGhpOiBudW1iZXJ9fSBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHIgYW5kIHBoaS5cbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS50b1BvbGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiB0aGlzLmFicygpLFxuICAgICAgcGhpOiB0aGlzLmFyZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29tcGxleCBudW1iZXIsXG4gICAqIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgaW0gPSB0aGlzLmltO1xuICAgIHZhciByZSA9IHRoaXMucmU7XG4gICAgdmFyIHN0clJlID0gZm9ybWF0KHRoaXMucmUsIG9wdGlvbnMpO1xuICAgIHZhciBzdHJJbSA9IGZvcm1hdCh0aGlzLmltLCBvcHRpb25zKTsgLy8gcm91bmQgZWl0aGVyIHJlIG9yIGltIHdoZW4gc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIHByZWNpc2lvblxuXG4gICAgdmFyIHByZWNpc2lvbiA9IGlzTnVtYmVyKG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMgPyBvcHRpb25zLnByZWNpc2lvbiA6IG51bGw7XG5cbiAgICBpZiAocHJlY2lzaW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgZXBzaWxvbiA9IE1hdGgucG93KDEwLCAtcHJlY2lzaW9uKTtcblxuICAgICAgaWYgKE1hdGguYWJzKHJlIC8gaW0pIDwgZXBzaWxvbikge1xuICAgICAgICByZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhpbSAvIHJlKSA8IGVwc2lsb24pIHtcbiAgICAgICAgaW0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbSA9PT0gMCkge1xuICAgICAgLy8gcmVhbCB2YWx1ZVxuICAgICAgc3RyID0gc3RyUmU7XG4gICAgfSBlbHNlIGlmIChyZSA9PT0gMCkge1xuICAgICAgLy8gcHVyZWx5IGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICBzdHIgPSAnaSc7XG4gICAgICB9IGVsc2UgaWYgKGltID09PSAtMSkge1xuICAgICAgICBzdHIgPSAnLWknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gc3RySW0gKyAnaSc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA8IDApIHtcbiAgICAgICAgaWYgKGltID09PSAtMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtICcgKyBzdHJJbS5zdWJzdHJpbmcoMSkgKyAnaSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArICcgKyBzdHJJbSArICdpJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb21wbGV4IG51bWJlciBmcm9tIHBvbGFyIGNvb3JkaW5hdGVzXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICAgQ29tcGxleC5mcm9tUG9sYXIocjogbnVtYmVyLCBwaGk6IG51bWJlcikgOiBDb21wbGV4XG4gICAqICAgICBDb21wbGV4LmZyb21Qb2xhcih7cjogbnVtYmVyLCBwaGk6IG51bWJlcn0pIDogQ29tcGxleFxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFyZ3MuLi5cbiAgICogQHJldHVybiB7Q29tcGxleH1cbiAgICovXG5cblxuICBDb21wbGV4LmZyb21Qb2xhciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGxleChhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnB1dCBoYXMgdG8gYmUgYW4gb2JqZWN0IHdpdGggciBhbmQgcGhpIGtleXMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAge1xuICAgICAgICAgIHZhciByID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIHZhciBwaGkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgICBpZiAoaXNOdW1iZXIocikpIHtcbiAgICAgICAgICAgIGlmIChpc1VuaXQocGhpKSAmJiBwaGkuaGFzQmFzZSgnQU5HTEUnKSkge1xuICAgICAgICAgICAgICAvLyBjb252ZXJ0IHVuaXQgdG8gYSBudW1iZXIgaW4gcmFkaWFuc1xuICAgICAgICAgICAgICBwaGkgPSBwaGkudG9OdW1iZXIoJ3JhZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIocGhpKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoe1xuICAgICAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICAgICAgcGhpOiBwaGlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BoaSBpcyBub3QgYSBudW1iZXIgbm9yIGFuIGFuZ2xlIHVuaXQuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JhZGl1cyByIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uIGZyb21Qb2xhcicpO1xuICAgIH1cbiAgfTtcblxuICBDb21wbGV4LnByb3RvdHlwZS52YWx1ZU9mID0gQ29tcGxleC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBDb21wbGV4IG51bWJlciBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBPYmplY3Qgc3RydWN0dXJlZCBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAge1wibWF0aGpzXCI6IFwiQ29tcGxleFwiLCBcInJlXCI6IDIsIFwiaW1cIjogM31cbiAgICogICAgICAgICAgICAgICAgICAgICAgIEFsbCBwcm9wZXJ0aWVzIGFyZSBvcHRpb25hbCwgZGVmYXVsdCB2YWx1ZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGZvciBgcmVgIGFuZCBgaW1gIGFyZSAwLlxuICAgKiBAcmV0dXJuIHtDb21wbGV4fSBSZXR1cm5zIGEgbmV3IENvbXBsZXggbnVtYmVyXG4gICAqL1xuXG4gIENvbXBsZXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29tcGxleChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBhcmUgdHdvIGNvbXBsZXggbnVtYmVycywgYGFgIGFuZCBgYmA6XG4gICAqXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIHJlYWwgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIC0xIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgc21hbGxlciB0aGFuIHRoZSByZWFsIHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydHMgYXJlIGVxdWFsXG4gICAqICAgYW5kIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgLTEgd2hlbiB0aGUgcmVhbCBwYXJ0cyBhcmUgZXF1YWxcbiAgICogICBhbmQgdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBhYCBpcyBzbWFsbGVyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgMCB3aGVuIGJvdGggcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnRzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtcyB7Q29tcGxleH0gYVxuICAgKiBAcGFyYW1zIHtDb21wbGV4fSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbXBhcmlzb24gcmVzdWx0OiAtMSwgMCwgb3IgMVxuICAgKi9cblxuXG4gIENvbXBsZXguY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEucmUgPiBiLnJlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoYS5yZSA8IGIucmUpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoYS5pbSA+IGIuaW0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChhLmltIDwgYi5pbSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHJldHVybiBDb21wbGV4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKipcbiAqIEBsaWNlbnNlIEZyYWN0aW9uLmpzIHY0LjEuMSAyMy8wNS8yMDIxXG4gKiBodHRwczovL3d3dy54YXJnLm9yZy8yMDE0LzAzL3JhdGlvbmFsLW51bWJlcnMtaW4tamF2YXNjcmlwdC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3Mgb2ZmZXJzIHRoZSBwb3NzaWJpbGl0eSB0byBjYWxjdWxhdGUgZnJhY3Rpb25zLlxuICogWW91IGNhbiBwYXNzIGEgZnJhY3Rpb24gaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBhcnJheSwgYXMgZG91YmxlLCBhcyBzdHJpbmcgb3IgYXMgYW4gaW50ZWdlci5cbiAqXG4gKiBBcnJheS9PYmplY3QgZm9ybVxuICogWyAwID0+IDxub21pbmF0b3I+LCAxID0+IDxkZW5vbWluYXRvcj4gXVxuICogWyBuID0+IDxub21pbmF0b3I+LCBkID0+IDxkZW5vbWluYXRvcj4gXVxuICpcbiAqIEludGVnZXIgZm9ybVxuICogLSBTaW5nbGUgaW50ZWdlciB2YWx1ZVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogMTIzLjQ1NiAtIGEgc2ltcGxlIGRvdWJsZVxuICogMTIzLzQ1NiAtIGEgc3RyaW5nIGZyYWN0aW9uXG4gKiAxMjMuJzQ1NicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlc1xuICogMTIzLig0NTYpIC0gc3lub255bVxuICogMTIzLjQ1JzYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgbGFzdCBwbGFjZVxuICogMTIzLjQ1KDYpIC0gc3lub255bVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGYgPSBuZXcgRnJhY3Rpb24oXCI5LjQnMzEnXCIpO1xuICogZi5tdWwoWy00LCAzXSkuZGl2KDQuOSk7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF4aW11bSBzZWFyY2ggZGVwdGggZm9yIGN5Y2xpYyByYXRpb25hbCBudW1iZXJzLiAyMDAwIHNob3VsZCBiZSBtb3JlIHRoYW4gZW5vdWdoLlxuICAvLyBFeGFtcGxlOiAxLzcgPSAwLigxNDI4NTcpIGhhcyA2IHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlcy5cbiAgLy8gSWYgTUFYX0NZQ0xFX0xFTiBnZXRzIHJlZHVjZWQsIGxvbmcgY3ljbGVzIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCB0b1N0cmluZygpIG9ubHkgZ2V0cyB0aGUgZmlyc3QgMTAgZGlnaXRzXG4gIHZhciBNQVhfQ1lDTEVfTEVOID0gMjAwMDtcblxuICAvLyBQYXJzZWQgZGF0YSB0byBhdm9pZCBjYWxsaW5nIFwibmV3XCIgYWxsIHRoZSB0aW1lXG4gIHZhciBQID0ge1xuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gZXJyb3JDb25zdHJ1Y3RvcigpIHtcbiAgICAgIHZhciB0ZW1wID0gRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRlbXBbJ25hbWUnXSA9IHRoaXNbJ25hbWUnXSA9IG5hbWU7XG4gICAgICB0aGlzWydzdGFjayddID0gdGVtcFsnc3RhY2snXTtcbiAgICAgIHRoaXNbJ21lc3NhZ2UnXSA9IHRlbXBbJ21lc3NhZ2UnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCkgeyB9XG4gICAgSW50ZXJtZWRpYXRlSW5oZXJpdG9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbiAgICBlcnJvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKTtcblxuICAgIHJldHVybiBlcnJvckNvbnN0cnVjdG9yO1xuICB9XG5cbiAgdmFyIERpdmlzaW9uQnlaZXJvID0gRnJhY3Rpb25bJ0RpdmlzaW9uQnlaZXJvJ10gPSBjcmVhdGVFcnJvcignRGl2aXNpb25CeVplcm8nKTtcbiAgdmFyIEludmFsaWRQYXJhbWV0ZXIgPSBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddID0gY3JlYXRlRXJyb3IoJ0ludmFsaWRQYXJhbWV0ZXInKTtcblxuICBmdW5jdGlvbiBhc3NpZ24obiwgcykge1xuXG4gICAgaWYgKGlzTmFOKG4gPSBwYXJzZUludChuLCAxMCkpKSB7XG4gICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgIH1cbiAgICByZXR1cm4gbiAqIHM7XG4gIH1cblxuICBmdW5jdGlvbiB0aHJvd0ludmFsaWRQYXJhbSgpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFBhcmFtZXRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yaXplKG51bSkge1xuXG4gICAgdmFyIGZhY3RvcnMgPSB7fTtcblxuICAgIHZhciBuID0gbnVtO1xuICAgIHZhciBpID0gMjtcbiAgICB2YXIgcyA9IDQ7XG5cbiAgICB3aGlsZSAocyA8PSBuKSB7XG5cbiAgICAgIHdoaWxlIChuICUgaSA9PT0gMCkge1xuICAgICAgICBuIC89IGk7XG4gICAgICAgIGZhY3RvcnNbaV0gPSAoZmFjdG9yc1tpXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgICBzICs9IDEgKyAyICogaSsrO1xuICAgIH1cblxuICAgIGlmIChuICE9PSBudW0pIHtcbiAgICAgIGlmIChuID4gMSlcbiAgICAgIGZhY3RvcnNbbl0gPSAoZmFjdG9yc1tuXSB8fCAwKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZhY3RvcnNbbnVtXSA9IChmYWN0b3JzW251bV0gfHwgMCkgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gZmFjdG9ycztcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXG4gICAgdmFyIG4gPSAwLCBkID0gMSwgcyA9IDE7XG4gICAgdmFyIHYgPSAwLCB3ID0gMCwgeCA9IDAsIHkgPSAxLCB6ID0gMTtcblxuICAgIHZhciBBID0gMCwgQiA9IDE7XG4gICAgdmFyIEMgPSAxLCBEID0gMTtcblxuICAgIHZhciBOID0gMTAwMDAwMDA7XG4gICAgdmFyIE07XG5cbiAgICBpZiAocDEgPT09IHVuZGVmaW5lZCB8fCBwMSA9PT0gbnVsbCkge1xuICAgICAgLyogdm9pZCAqL1xuICAgIH0gZWxzZSBpZiAocDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbiA9IHAxO1xuICAgICAgZCA9IHAyO1xuICAgICAgcyA9IG4gKiBkO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgcDEpIHtcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKFwiZFwiIGluIHAxICYmIFwiblwiIGluIHAxKSB7XG4gICAgICAgICAgICAgIG4gPSBwMVtcIm5cIl07XG4gICAgICAgICAgICAgIGQgPSBwMVtcImRcIl07XG4gICAgICAgICAgICAgIGlmIChcInNcIiBpbiBwMSlcbiAgICAgICAgICAgICAgICBuICo9IHAxW1wic1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbMF07XG4gICAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICAgIGQgPSBwMVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gbiAqIGQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICAgIHMgPSBwMTtcbiAgICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwMSAlIDEgPT09IDApIHtcbiAgICAgICAgICAgICAgbiA9IHAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICAgIGlmIChwMSA+PSAxKSB7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKDEgKyBNYXRoLmxvZyhwMSkgLyBNYXRoLkxOMTApKTtcbiAgICAgICAgICAgICAgICBwMSAvPSB6O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVXNpbmcgRmFyZXkgU2VxdWVuY2VzXG4gICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICAgIHdoaWxlIChCIDw9IE4gJiYgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgTSA9IChBICsgQykgLyAoQiArIEQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoQiArIEQgPD0gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQSArIEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRCA+IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICBpZiAocDEgPiBNKSB7XG4gICAgICAgICAgICAgICAgICAgIEEgKz0gQztcbiAgICAgICAgICAgICAgICAgICAgQiArPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQyArPSBBO1xuICAgICAgICAgICAgICAgICAgICBEICs9IEI7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChCID4gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG4gKj0gejtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgICBkID0gbiA9IE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgICBpZiAoQiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcblxuICAgICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgcyA9IC0xO1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLicgfHwgQltBXSA9PT0gJy4nKSB7IC8vIENoZWNrIGlmIGl0J3MgYSBkZWNpbWFsIG51bWJlclxuXG4gICAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQSArIDEgPT09IEIubGVuZ3RoIHx8IEJbQSArIDFdID09PSAnKCcgJiYgQltBICsgM10gPT09ICcpJyB8fCBCW0EgKyAxXSA9PT0gXCInXCIgJiYgQltBICsgM10gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5wb3coMTAsIEJbQV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVwZWF0aW5nIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQltBXSA9PT0gJygnICYmIEJbQSArIDJdID09PSAnKScgfHwgQltBXSA9PT0gXCInXCIgJiYgQltBICsgMl0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBCW0EgKyAxXS5sZW5ndGgpIC0gMTtcbiAgICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy8nIHx8IEJbQSArIDFdID09PSAnOicpIHsgLy8gQ2hlY2sgZm9yIGEgc2ltcGxlIGZyYWN0aW9uIFwiMTIzLzQ1NlwiIG9yIFwiMTIzOjQ1NlwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDNdID09PSAnLycgJiYgQltBICsgMV0gPT09ICcgJykgeyAvLyBDaGVjayBmb3IgYSBjb21wbGV4IGZyYWN0aW9uIFwiMTIzIDEvMlwiXG4gICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBICsgMl0sIHMpO1xuICAgICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDRdLCAxKTtcbiAgICAgICAgICAgICAgQSArPSA1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPD0gQSkgeyAvLyBDaGVjayBmb3IgbW9yZSB0b2tlbnMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgICAgcyA9IC8qIHZvaWQgKi9cbiAgICAgICAgICAgICAgbiA9IHggKyBkICogdiArIHogKiB3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogRmFsbCB0aHJvdWdoIG9uIGVycm9yICovXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICB9XG5cbiAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IERpdmlzaW9uQnlaZXJvKCk7XG4gICAgfVxuXG4gICAgUFtcInNcIl0gPSBzIDwgMCA/IC0xIDogMTtcbiAgICBQW1wiblwiXSA9IE1hdGguYWJzKG4pO1xuICAgIFBbXCJkXCJdID0gTWF0aC5hYnMoZCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbW9kcG93KGIsIGUsIG0pIHtcblxuICAgIHZhciByID0gMTtcbiAgICBmb3IgKDsgZSA+IDA7IGIgPSAoYiAqIGIpICUgbSwgZSA+Pj0gMSkge1xuXG4gICAgICBpZiAoZSAmIDEpIHtcbiAgICAgICAgciA9IChyICogYikgJSBtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVMZW4obiwgZCkge1xuXG4gICAgZm9yICg7IGQgJSAyID09PSAwO1xuICAgICAgZCAvPSAyKSB7XG4gICAgfVxuXG4gICAgZm9yICg7IGQgJSA1ID09PSAwO1xuICAgICAgZCAvPSA1KSB7XG4gICAgfVxuXG4gICAgaWYgKGQgPT09IDEpIC8vIENhdGNoIG5vbi1jeWNsaWMgbnVtYmVyc1xuICAgICAgcmV0dXJuIDA7XG5cbiAgICAvLyBJZiB3ZSB3b3VsZCBsaWtlIHRvIGNvbXB1dGUgcmVhbGx5IGxhcmdlIG51bWJlcnMgcXVpY2tlciwgd2UgY291bGQgbWFrZSB1c2Ugb2YgRmVybWF0J3MgbGl0dGxlIHRoZW9yZW06XG4gICAgLy8gMTBeKGQtMSkgJSBkID09IDFcbiAgICAvLyBIb3dldmVyLCB3ZSBkb24ndCBuZWVkIHN1Y2ggbGFyZ2UgbnVtYmVycyBhbmQgTUFYX0NZQ0xFX0xFTiBzaG91bGQgYmUgdGhlIGNhcHN0b25lLFxuICAgIC8vIGFzIHdlIHdhbnQgdG8gdHJhbnNsYXRlIHRoZSBudW1iZXJzIHRvIHN0cmluZ3MuXG5cbiAgICB2YXIgcmVtID0gMTAgJSBkO1xuICAgIHZhciB0ID0gMTtcblxuICAgIGZvciAoOyByZW0gIT09IDE7IHQrKykge1xuICAgICAgcmVtID0gcmVtICogMTAgJSBkO1xuXG4gICAgICBpZiAodCA+IE1BWF9DWUNMRV9MRU4pXG4gICAgICAgIHJldHVybiAwOyAvLyBSZXR1cm5pbmcgMCBoZXJlIG1lYW5zIHRoYXQgd2UgZG9uJ3QgcHJpbnQgaXQgYXMgYSBjeWNsaWMgbnVtYmVyLiBJdCdzIGxpa2VseSB0aGF0IHRoZSBhbnN3ZXIgaXMgYGQtMWBcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGN5Y2xlU3RhcnQobiwgZCwgbGVuKSB7XG5cbiAgICB2YXIgcmVtMSA9IDE7XG4gICAgdmFyIHJlbTIgPSBtb2Rwb3coMTAsIGxlbiwgZCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDMwMDsgdCsrKSB7IC8vIHMgPCB+bG9nMTAoTnVtYmVyLk1BWF9WQUxVRSlcbiAgICAgIC8vIFNvbHZlIDEwXnMgPT0gMTBeKHMrdCkgKG1vZCBkKVxuXG4gICAgICBpZiAocmVtMSA9PT0gcmVtMilcbiAgICAgICAgcmV0dXJuIHQ7XG5cbiAgICAgIHJlbTEgPSByZW0xICogMTAgJSBkO1xuICAgICAgcmVtMiA9IHJlbTIgKiAxMCAlIGQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2NkKGEsIGIpIHtcblxuICAgIGlmICghYSlcbiAgICAgIHJldHVybiBiO1xuICAgIGlmICghYilcbiAgICAgIHJldHVybiBhO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIGEgJT0gYjtcbiAgICAgIGlmICghYSlcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICBiICU9IGE7XG4gICAgICBpZiAoIWIpXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTW9kdWxlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge251bWJlcnxGcmFjdGlvbj19IGFcbiAgICogQHBhcmFtIHtudW1iZXI9fSBiXG4gICAqL1xuICBmdW5jdGlvbiBGcmFjdGlvbihhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnJhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGEsIGIpO1xuICAgIH1cblxuICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgaWYgKEZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgYSA9IGdjZChQW1wiZFwiXSwgUFtcIm5cIl0pOyAvLyBBYnVzZSBhXG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHRoaXNbXCJzXCJdID0gUFtcInNcIl07XG4gICAgdGhpc1tcIm5cIl0gPSBQW1wiblwiXSAvIGE7XG4gICAgdGhpc1tcImRcIl0gPSBQW1wiZFwiXSAvIGE7XG4gIH1cblxuICAvKipcbiAgICogQm9vbGVhbiBnbG9iYWwgdmFyaWFibGUgdG8gYmUgYWJsZSB0byBkaXNhYmxlIGF1dG9tYXRpYyByZWR1Y3Rpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAqXG4gICAqL1xuICBGcmFjdGlvblsnUkVEVUNFJ10gPSAxO1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLmFicygpID0+IDRcbiAgICAgKiovXG4gICAgXCJhYnNcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGUgc2lnbiBvZiB0aGUgY3VycmVudCBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkubmVnKCkgPT4gNFxuICAgICAqKi9cbiAgICBcIm5lZ1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigtdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiA0NjcgLyAzMFxuICAgICAqKi9cbiAgICBcImFkZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdICsgUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IC00MjcgLyAzMFxuICAgICAqKi9cbiAgICBcInN1YlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLm11bCgzKSA9PiA1Nzc2IC8gMTExXG4gICAgICoqL1xuICAgIFwibXVsXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5pbnZlcnNlKCkuZGl2KDMpXG4gICAgICoqL1xuICAgIFwiZGl2XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiblwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmNsb25lKClcbiAgICAgKiovXG4gICAgXCJjbG9uZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsbyBvZiB0d28gcmF0aW9uYWwgbnVtYmVycyAtIGEgbW9yZSBwcmVjaXNlIGZtb2RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykubW9kKFs3LCA4XSkgPT4gKDEzLzMpICUgKDcvOCkgPSAoNS82KVxuICAgICAqKi9cbiAgICBcIm1vZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAlIHRoaXNbXCJkXCJdLCAxKTtcbiAgICAgIH1cblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICBpZiAoMCA9PT0gUFtcIm5cIl0gJiYgMCA9PT0gdGhpc1tcImRcIl0pIHtcbiAgICAgICAgRnJhY3Rpb24oMCwgMCk7IC8vIFRocm93IERpdmlzaW9uQnlaZXJvXG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBGaXJzdCBzaWxseSBhdHRlbXB0LCBraW5kYSBzbG93XG4gICAgICAgKlxuICAgICAgIHJldHVybiB0aGF0W1wic3ViXCJdKHtcbiAgICAgICBcIm5cIjogbnVtW1wiblwiXSAqIE1hdGguZmxvb3IoKHRoaXMubiAvIHRoaXMuZCkgLyAobnVtLm4gLyBudW0uZCkpLFxuICAgICAgIFwiZFwiOiBudW1bXCJkXCJdLFxuICAgICAgIFwic1wiOiB0aGlzW1wic1wiXVxuICAgICAgIH0pOyovXG5cbiAgICAgIC8qXG4gICAgICAgKiBOZXcgYXR0ZW1wdDogYTEgLyBiMSA9IGEyIC8gYjIgKiBxICsgclxuICAgICAgICogPT4gYjIgKiBhMSA9IGEyICogYjEgKiBxICsgYjEgKiBiMiAqIHJcbiAgICAgICAqID0+IChiMiAqIGExICUgYTIgKiBiMSkgLyAoYjEgKiBiMilcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiAoUFtcImRcIl0gKiB0aGlzW1wiblwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSksXG4gICAgICAgIFBbXCJkXCJdICogdGhpc1tcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmZsb29yKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyBhIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykucm91bmQoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwicm91bmRcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSByYXRpb25hbCBleHBvbmVudCwgaWYgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTEsMikucG93KC0zKSA9PiAtOFxuICAgICAqL1xuICAgIFwicG93XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIFRyaXZpYWwgY2FzZSB3aGVuIGV4cCBpcyBhbiBpbnRlZ2VyXG5cbiAgICAgIGlmIChQWydkJ10gPT09IDEpIHtcblxuICAgICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcImRcIl0sIFBbJ24nXSksIE1hdGgucG93KHRoaXNbXCJuXCJdLCBQWyduJ10pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJuXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiZFwiXSwgUFsnbiddKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTmVnYXRpdmUgcm9vdHMgYmVjb21lIGNvbXBsZXhcbiAgICAgIC8vICAgICAoLWEvYileKGMvZCkgPSB4XG4gICAgICAvLyA8PT4gKC0xKV4oYy9kKSAqIChhL2IpXihjL2QpID0geFxuICAgICAgLy8gPD0+IChjb3MocGkpICsgaSpzaW4ocGkpKV4oYy9kKSAqIChhL2IpXihjL2QpID0geCAgICAgICAgICMgcm90YXRlIDEgYnkgMTgwwrBcbiAgICAgIC8vIDw9PiAoY29zKGMqcGkvZCkgKyBpKnNpbihjKnBpL2QpKSAqIChhL2IpXihjL2QpID0geCAgICAgICAjIERlTW9pdnJlJ3MgZm9ybXVsYSBpbiBRICggaHR0cHM6Ly9wcm9vZndpa2kub3JnL3dpa2kvRGVfTW9pdnJlJTI3c19Gb3JtdWxhL1JhdGlvbmFsX0luZGV4IClcbiAgICAgIC8vIEZyb20gd2hpY2ggZm9sbG93cyB0aGF0IG9ubHkgZm9yIGM9MCB0aGUgcm9vdCBpcyBub24tY29tcGxleC4gYy9kIGlzIGEgcmVkdWNlZCBmcmFjdGlvbiwgc28gdGhhdCBzaW4oYy9kcGkpPTAgb2NjdXJzIGZvciBkPTEsIHdoaWNoIGlzIGhhbmRsZWQgYnkgb3VyIHRyaXZpYWwgY2FzZS5cbiAgICAgIGlmICh0aGlzWydzJ10gPCAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gTm93IHByaW1lIGZhY3RvciBuIGFuZCBkXG4gICAgICB2YXIgTiA9IGZhY3Rvcml6ZSh0aGlzWyduJ10pO1xuICAgICAgdmFyIEQgPSBmYWN0b3JpemUodGhpc1snZCddKTtcblxuICAgICAgLy8gRXhwb25lbnRpYXRlIGFuZCB0YWtlIHJvb3QgZm9yIG4gYW5kIGQgaW5kaXZpZHVhbGx5XG4gICAgICB2YXIgbiA9IDE7XG4gICAgICB2YXIgZCA9IDE7XG4gICAgICBmb3IgKHZhciBrIGluIE4pIHtcbiAgICAgICAgaWYgKGsgPT09ICcxJykgY29udGludWU7XG4gICAgICAgIGlmIChrID09PSAnMCcpIHtcbiAgICAgICAgICBuID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBOW2tdKj0gUFsnbiddO1xuXG4gICAgICAgIGlmIChOW2tdICUgUFsnZCddID09PSAwKSB7XG4gICAgICAgICAgTltrXS89IFBbJ2QnXTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBuKj0gTWF0aC5wb3coaywgTltrXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgaW4gRCkge1xuICAgICAgICBpZiAoayA9PT0gJzEnKSBjb250aW51ZTtcbiAgICAgICAgRFtrXSo9IFBbJ24nXTtcblxuICAgICAgICBpZiAoRFtrXSAlIFBbJ2QnXSA9PT0gMCkge1xuICAgICAgICAgIERba10vPSBQWydkJ107XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgZCo9IE1hdGgucG93KGssIERba10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGQsIG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihuLCBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmVxdWFscyhbOTgsIDVdKTtcbiAgICAgKiovXG4gICAgXCJlcXVhbHNcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHJldHVybiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gPT09IFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXTsgLy8gU2FtZSBhcyBjb21wYXJlKCkgPT09IDBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmVxdWFscyhbOTgsIDVdKTtcbiAgICAgKiovXG4gICAgXCJjb21wYXJlXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICB2YXIgdCA9ICh0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdICogUFtcImRcIl0gLSBQW1wic1wiXSAqIFBbXCJuXCJdICogdGhpc1tcImRcIl0pO1xuICAgICAgcmV0dXJuICgwIDwgdCkgLSAodCA8IDApO1xuICAgIH0sXG5cbiAgICBcInNpbXBsaWZ5XCI6IGZ1bmN0aW9uKGVwcykge1xuXG4gICAgICAvLyBGaXJzdCBuYWl2ZSBpbXBsZW1lbnRhdGlvbiwgbmVlZHMgaW1wcm92ZW1lbnRcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbJ24nXSkgfHwgaXNOYU4odGhpc1snZCddKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnQgPSB0aGlzWydhYnMnXSgpWyd0b0NvbnRpbnVlZCddKCk7XG5cbiAgICAgIGVwcyA9IGVwcyB8fCAwLjAwMTtcblxuICAgICAgZnVuY3Rpb24gcmVjKGEpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oYVswXSk7XG4gICAgICAgIHJldHVybiByZWMoYS5zbGljZSgxKSlbJ2ludmVyc2UnXSgpWydhZGQnXShhWzBdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0bXAgPSByZWMoY29udC5zbGljZSgwLCBpICsgMSkpO1xuICAgICAgICBpZiAodG1wWydzdWInXSh0aGlzWydhYnMnXSgpKVsnYWJzJ10oKS52YWx1ZU9mKCkgPCBlcHMpIHtcbiAgICAgICAgICByZXR1cm4gdG1wWydtdWwnXSh0aGlzWydzJ10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdHdvIHJhdGlvbmFsIG51bWJlcnMgYXJlIGRpdmlzaWJsZVxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigxOS42KS5kaXZpc2libGUoMS41KTtcbiAgICAgKi9cbiAgICBcImRpdmlzaWJsZVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuICEoIShQW1wiblwiXSAqIHRoaXNbXCJkXCJdKSB8fCAoKHRoaXNbXCJuXCJdICogUFtcImRcIl0pICUgKFBbXCJuXCJdICogdGhpc1tcImRcIl0pKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEwMC4nOTE4MjMnXCIpLnZhbHVlT2YoKSA9PiAxMDAuOTE4MjM5MTgyMzkxODNcbiAgICAgKiovXG4gICAgJ3ZhbHVlT2YnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZy1mcmFjdGlvbiByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvRnJhY3Rpb24oKSA9PiBcIjQgMS8zXCJcbiAgICAgKiovXG4gICAgJ3RvRnJhY3Rpb24nOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0ciArPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIgKz0gd2hvbGU7XG4gICAgICAgICAgc3RyICs9IFwiIFwiO1xuICAgICAgICAgIG4gJT0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgICBzdHIgKz0gJy8nO1xuICAgICAgICBzdHIgKz0gZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsYXRleCByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjEuJzMnXCIpLnRvTGF0ZXgoKSA9PiBcIlxcZnJhY3s0fXszfVwiXG4gICAgICoqL1xuICAgICd0b0xhdGV4JzogZnVuY3Rpb24oZXhjbHVkZVdob2xlKSB7XG5cbiAgICAgIHZhciB3aG9sZSwgc3RyID0gXCJcIjtcbiAgICAgIHZhciBuID0gdGhpc1tcIm5cIl07XG4gICAgICB2YXIgZCA9IHRoaXNbXCJkXCJdO1xuICAgICAgaWYgKHRoaXNbXCJzXCJdIDwgMCkge1xuICAgICAgICBzdHIgKz0gJy0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCA9PT0gMSkge1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVXaG9sZSAmJiAod2hvbGUgPSBNYXRoLmZsb29yKG4gLyBkKSkgPiAwKSB7XG4gICAgICAgICAgc3RyICs9IHdob2xlO1xuICAgICAgICAgIG4gJT0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSBcIlxcXFxmcmFje1wiO1xuICAgICAgICBzdHIgKz0gbjtcbiAgICAgICAgc3RyICs9ICd9eyc7XG4gICAgICAgIHN0ciArPSBkO1xuICAgICAgICBzdHIgKz0gJ30nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjb250aW51ZWQgZnJhY3Rpb24gZWxlbWVudHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCI3LzhcIikudG9Db250aW51ZWQoKSA9PiBbMCwxLDddXG4gICAgICovXG4gICAgJ3RvQ29udGludWVkJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0O1xuICAgICAgdmFyIGEgPSB0aGlzWyduJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2QnXTtcbiAgICAgIHZhciByZXMgPSBbXTtcblxuICAgICAgaWYgKGlzTmFOKGEpIHx8IGlzTmFOKGIpKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcmVzLnB1c2goTWF0aC5mbG9vcihhIC8gYikpO1xuICAgICAgICB0ID0gYSAlIGI7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gdDtcbiAgICAgIH0gd2hpbGUgKGEgIT09IDEpO1xuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZnJhY3Rpb24gd2l0aCBhbGwgZGlnaXRzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudG9TdHJpbmcoKSA9PiBcIjEwMC4oOTE4MjMpXCJcbiAgICAgKiovXG4gICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oZGVjKSB7XG5cbiAgICAgIHZhciBnO1xuICAgICAgdmFyIE4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBEID0gdGhpc1tcImRcIl07XG5cbiAgICAgIGlmIChpc05hTihOKSB8fCBpc05hTihEKSkge1xuICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFGcmFjdGlvblsnUkVEVUNFJ10pIHtcbiAgICAgICAgZyA9IGdjZChOLCBEKTtcbiAgICAgICAgTiAvPSBnO1xuICAgICAgICBEIC89IGc7XG4gICAgICB9XG5cbiAgICAgIGRlYyA9IGRlYyB8fCAxNTsgLy8gMTUgPSBkZWNpbWFsIHBsYWNlcyB3aGVuIG5vIHJlcGV0YXRpb25cblxuICAgICAgdmFyIGN5Y0xlbiA9IGN5Y2xlTGVuKE4sIEQpOyAvLyBDeWNsZSBsZW5ndGhcbiAgICAgIHZhciBjeWNPZmYgPSBjeWNsZVN0YXJ0KE4sIEQsIGN5Y0xlbik7IC8vIEN5Y2xlIHN0YXJ0XG5cbiAgICAgIHZhciBzdHIgPSB0aGlzWydzJ10gPT09IC0xID8gXCItXCIgOiBcIlwiO1xuXG4gICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuXG4gICAgICBOICU9IEQ7XG4gICAgICBOICo9IDEwO1xuXG4gICAgICBpZiAoTilcbiAgICAgICAgc3RyICs9IFwiLlwiO1xuXG4gICAgICBpZiAoY3ljTGVuKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGN5Y09mZjsgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiKFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gY3ljTGVuOyBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCIpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gZGVjOyBOICYmIGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRnJhY3Rpb247XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhY3Rpb24sIFwiX19lc01vZHVsZVwiLCB7ICd2YWx1ZSc6IHRydWUgfSk7XG4gICAgRnJhY3Rpb25bJ2RlZmF1bHQnXSA9IEZyYWN0aW9uO1xuICAgIEZyYWN0aW9uWydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBGcmFjdGlvbjtcbiAgfSBlbHNlIHtcbiAgICByb290WydGcmFjdGlvbiddID0gRnJhY3Rpb247XG4gIH1cblxufSkodGhpcyk7XG4iLCJpbXBvcnQgRnJhY3Rpb24gZnJvbSAnZnJhY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRnJhY3Rpb24nO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVGcmFjdGlvbkNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuICBGcmFjdGlvbi5wcm90b3R5cGUudHlwZSA9ICdGcmFjdGlvbic7XG4gIEZyYWN0aW9uLnByb3RvdHlwZS5pc0ZyYWN0aW9uID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBGcmFjdGlvbiBjb250YWluaW5nIHR5cGUgaW5mb3JtYXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGcmFjdGlvblwiLCBcIm5cIjogMywgXCJkXCI6IDh9YFxuICAgKi9cblxuICBGcmFjdGlvbi5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGcmFjdGlvbicsXG4gICAgICBuOiB0aGlzLnMgKiB0aGlzLm4sXG4gICAgICBkOiB0aGlzLmRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBGcmFjdGlvbiBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGcmFjdGlvblwiLCBcIm5cIjogMywgXCJkXCI6IDh9YFxuICAgKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gICAqL1xuXG5cbiAgRnJhY3Rpb24uZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oanNvbik7XG4gIH07XG5cbiAgcmV0dXJuIEZyYWN0aW9uO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCwgc2lnbiB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdSYW5nZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZVJhbmdlQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQ3JlYXRlIGEgcmFuZ2UuIEEgcmFuZ2UgaGFzIGEgc3RhcnQsIHN0ZXAsIGFuZCBlbmQsIGFuZCBjb250YWlucyBmdW5jdGlvbnNcbiAgICogdG8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZS5cbiAgICpcbiAgICogQSByYW5nZSBjYW4gYmUgY29uc3RydWN0ZWQgYXM6XG4gICAqXG4gICAqICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgZW5kKVxuICAgKiAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcClcbiAgICpcbiAgICogVG8gZ2V0IHRoZSByZXN1bHQgb2YgdGhlIHJhbmdlOlxuICAgKiAgICAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgKiAgICAgICAgIGNvbnNvbGUubG9nKHgpXG4gICAqICAgICB9KVxuICAgKiAgICAgcmFuZ2UubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAqICAgICAgICAgcmV0dXJuIG1hdGguc2luKHgpXG4gICAqICAgICB9KVxuICAgKiAgICAgcmFuZ2UudG9BcnJheSgpXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBjb25zdCBjID0gbmV3IFJhbmdlKDIsIDYpICAgICAgIC8vIDI6MTo1XG4gICAqICAgICBjLnRvQXJyYXkoKSAgICAgICAgICAgICAgICAgICAgIC8vIFsyLCAzLCA0LCA1XVxuICAgKiAgICAgY29uc3QgZCA9IG5ldyBSYW5nZSgyLCAtMywgLTEpICAvLyAyOi0xOi0yXG4gICAqICAgICBkLnRvQXJyYXkoKSAgICAgICAgICAgICAgICAgICAgIC8vIFsyLCAxLCAwLCAtMSwgLTJdXG4gICAqXG4gICAqIEBjbGFzcyBSYW5nZVxuICAgKiBAY29uc3RydWN0b3IgUmFuZ2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0ICBpbmNsdWRlZCBsb3dlciBib3VuZFxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kICAgIGV4Y2x1ZGVkIHVwcGVyIGJvdW5kXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcF0gc3RlcCBzaXplLCBkZWZhdWx0IHZhbHVlIGlzIDFcbiAgICovXG4gIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHZhciBoYXNTdGFydCA9IHN0YXJ0ICE9PSBudWxsICYmIHN0YXJ0ICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGhhc0VuZCA9IGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaGFzU3RlcCA9IHN0ZXAgIT09IG51bGwgJiYgc3RlcCAhPT0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGhhc1N0YXJ0KSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0YXJ0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgc3RhcnQgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNFbmQpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihlbmQpKSB7XG4gICAgICAgIGVuZCA9IGVuZC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgZW5kIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzU3RlcCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHN0ZXApKSB7XG4gICAgICAgIHN0ZXAgPSBzdGVwLnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGVwICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgc3RlcCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydCA9IGhhc1N0YXJ0ID8gcGFyc2VGbG9hdChzdGFydCkgOiAwO1xuICAgIHRoaXMuZW5kID0gaGFzRW5kID8gcGFyc2VGbG9hdChlbmQpIDogMDtcbiAgICB0aGlzLnN0ZXAgPSBoYXNTdGVwID8gcGFyc2VGbG9hdChzdGVwKSA6IDE7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnR5cGUgPSAnUmFuZ2UnO1xuICBSYW5nZS5wcm90b3R5cGUuaXNSYW5nZSA9IHRydWU7XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBpbnRvIGEgcmFuZ2UsXG4gICAqIFRoZSBzdHJpbmcgY29udGFpbnMgdGhlIHN0YXJ0LCBvcHRpb25hbCBzdGVwLCBhbmQgZW5kLCBzZXBhcmF0ZWQgYnkgYSBjb2xvbi5cbiAgICogSWYgdGhlIHN0cmluZyBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgcmFuZ2UsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqIEZvciBleGFtcGxlIHN0cj0nMDoyOjExJy5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7UmFuZ2UgfCBudWxsfSByYW5nZVxuICAgKi9cblxuICBSYW5nZS5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gc3RyLnNwbGl0KCc6Jyk7XG4gICAgdmFyIG51bXMgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChhcmcpO1xuICAgIH0pO1xuICAgIHZhciBpbnZhbGlkID0gbnVtcy5zb21lKGZ1bmN0aW9uIChudW0pIHtcbiAgICAgIHJldHVybiBpc05hTihudW0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGludmFsaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN3aXRjaCAobnVtcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShudW1zWzBdLCBudW1zWzFdKTtcblxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKG51bXNbMF0sIG51bXNbMl0sIG51bXNbMV0pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgcmFuZ2VcbiAgICogQHJldHVybiB7UmFuZ2V9IGNsb25lXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMuc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgcmFuZ2UuXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBvbmUgbnVtYmVyLCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSAwO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXA7XG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kO1xuICAgIHZhciBkaWZmID0gZW5kIC0gc3RhcnQ7XG5cbiAgICBpZiAoc2lnbihzdGVwKSA9PT0gc2lnbihkaWZmKSkge1xuICAgICAgbGVuID0gTWF0aC5jZWlsKGRpZmYgLyBzdGVwKTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgIGxlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlzTmFOKGxlbikpIHtcbiAgICAgIGxlbiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtsZW5dO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIHZhbHVlIGluIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybiB7bnVtYmVyIHwgdW5kZWZpbmVkfSBtaW5cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUubWluID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplKClbMF07XG5cbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGlmICh0aGlzLnN0ZXAgPiAwKSB7XG4gICAgICAgIC8vIHBvc2l0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZWdhdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0ICsgKHNpemUgLSAxKSAqIHRoaXMuc3RlcDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCB1bmRlZmluZWR9IG1heFxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemUoKVswXTtcblxuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgaWYgKHRoaXMuc3RlcCA+IDApIHtcbiAgICAgICAgLy8gcG9zaXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydCArIChzaXplIC0gMSkgKiB0aGlzLnN0ZXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZWdhdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBSYW5nZSBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgeCA9IHRoaXMuc3RhcnQ7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLnN0ZXA7XG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kO1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgd2hpbGUgKHggPCBlbmQpIHtcbiAgICAgICAgY2FsbGJhY2soeCwgW2ldLCB0aGlzKTtcbiAgICAgICAgeCArPSBzdGVwO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGVwIDwgMCkge1xuICAgICAgd2hpbGUgKHggPiBlbmQpIHtcbiAgICAgICAgY2FsbGJhY2soeCwgW2ldLCB0aGlzKTtcbiAgICAgICAgeCArPSBzdGVwO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIHZhbHVlIGluIHRoZSBSYW5nZSwgYW5kIHJldHVybiB0aGVcbiAgICogcmVzdWx0cyBhcyBhbiBhcnJheVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgb2JqKSB7XG4gICAgICBhcnJheVtpbmRleFswXV0gPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBSYW5nZXMgZGF0YVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICBhcnJheVtpbmRleFswXV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByaW1pdGl2ZSB2YWx1ZSBvZiB0aGUgUmFuZ2UsIGEgb25lIGRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ETzogaW1wbGVtZW50IGEgY2FjaGluZyBtZWNoYW5pc20gZm9yIHJhbmdlLnZhbHVlT2YoKVxuICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2UsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBPdXRwdXQgaXMgZm9ybWF0dGVkIGFzICdzdGFydDpzdGVwOmVuZCcsIGZvciBleGFtcGxlICcyOjYnIG9yICcwOjAuMjoxMSdcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgZnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyID0gZm9ybWF0KHRoaXMuc3RhcnQsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCAhPT0gMSkge1xuICAgICAgc3RyICs9ICc6JyArIGZvcm1hdCh0aGlzLnN0ZXAsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBmb3JtYXQodGhpcy5lbmQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZVxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSYW5nZVwiLCBcInN0YXJ0XCI6IDIsIFwiZW5kXCI6IDQsIFwic3RlcFwiOiAxfWBcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSYW5nZScsXG4gICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgIGVuZDogdGhpcy5lbmQsXG4gICAgICBzdGVwOiB0aGlzLnN0ZXBcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBSYW5nZSBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlXCIsIFwic3RhcnRcIjogMiwgXCJlbmRcIjogNCwgXCJzdGVwXCI6IDF9YFxuICAgKiBAcmV0dXJuIHtSYW5nZX1cbiAgICovXG5cblxuICBSYW5nZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShqc29uLnN0YXJ0LCBqc29uLmVuZCwganNvbi5zdGVwKTtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2U7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ01hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBNYXRyaXhcbiAgICpcbiAgICogQSBNYXRyaXggaXMgYSB3cmFwcGVyIGFyb3VuZCBhbiBBcnJheS4gQSBtYXRyaXggY2FuIGhvbGQgYSBtdWx0aSBkaW1lbnNpb25hbFxuICAgKiBhcnJheS4gQSBtYXRyaXggY2FuIGJlIGNvbnN0cnVjdGVkIGFzOlxuICAgKlxuICAgKiAgICAgbGV0IG1hdHJpeCA9IG1hdGgubWF0cml4KGRhdGEpXG4gICAqXG4gICAqIE1hdHJpeCBjb250YWlucyB0aGUgZnVuY3Rpb25zIHRvIHJlc2l6ZSwgZ2V0IGFuZCBzZXQgdmFsdWVzLCBnZXQgdGhlIHNpemUsXG4gICAqIGNsb25lIHRoZSBtYXRyaXggYW5kIHRvIGNvbnZlcnQgdGhlIG1hdHJpeCB0byBhIHZlY3RvciwgYXJyYXksIG9yIHNjYWxhci5cbiAgICogRnVydGhlcm1vcmUsIG9uZSBjYW4gaXRlcmF0ZSBvdmVyIHRoZSBtYXRyaXggdXNpbmcgbWFwIGFuZCBmb3JFYWNoLlxuICAgKiBUaGUgaW50ZXJuYWwgQXJyYXkgb2YgdGhlIE1hdHJpeCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgdGhlIGZ1bmN0aW9uIHZhbHVlT2YuXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICBsZXQgbWF0cml4ID0gbWF0aC5tYXRyaXgoW1sxLCAyXSwgWzMsIDRdXSlcbiAgICogICAgIG1hdGl4LnNpemUoKSAgICAgICAgICAgICAgLy8gWzIsIDJdXG4gICAqICAgICBtYXRyaXgucmVzaXplKFszLCAyXSwgNSlcbiAgICogICAgIG1hdHJpeC52YWx1ZU9mKCkgICAgICAgICAgLy8gW1sxLCAyXSwgWzMsIDRdLCBbNSwgNV1dXG4gICAqICAgICBtYXRyaXguc3Vic2V0KFsxLDJdKSAgICAgICAvLyAzIChpbmRleGVzIGFyZSB6ZXJvLWJhc2VkKVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gTWF0cml4KCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnTWF0cml4JztcbiAgTWF0cml4LnByb3RvdHlwZS5pc01hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuICBNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHN0b3JhZ2Ugb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZGF0YXR5cGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTWF0cml4IFdpdGggdGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGluc3RhbmNlXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBPYmplY3R9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBjcmVhdGUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3Vic2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIGVsZW1lbnQgZnJvbSB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBnZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7TWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2V0IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSByZXNpemUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgcmVzaGFwZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQHJldHVybiB7TWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGNsb25lIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzaXplIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgbWFwIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JFYWNoIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgdG9BcnJheSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBNYXRyaXg6IGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB2YWx1ZU9mIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JtYXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB0b1N0cmluZyBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcblxuICByZXR1cm4gTWF0cml4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0FycmF5LCBpc0JpZ051bWJlciwgaXNDb2xsZWN0aW9uLCBpc0luZGV4LCBpc01hdHJpeCwgaXNOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUsIGdldEFycmF5RGF0YVR5cGUsIHJlc2hhcGUsIHJlc2l6ZSwgdW5zcXVlZXplLCB2YWxpZGF0ZSwgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGRlZXBTdHJpY3RFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0RlbnNlTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ01hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVEZW5zZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBEZW5zZSBNYXRyaXggaW1wbGVtZW50YXRpb24uIEEgcmVndWxhciwgZGVuc2UgbWF0cml4LCBzdXBwb3J0aW5nIG11bHRpLWRpbWVuc2lvbmFsIG1hdHJpY2VzLiBUaGlzIGlzIHRoZSBkZWZhdWx0IG1hdHJpeCB0eXBlLlxuICAgKiBAY2xhc3MgRGVuc2VNYXRyaXhcbiAgICovXG4gIGZ1bmN0aW9uIERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERlbnNlTWF0cml4KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YXR5cGUgJiYgIWlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGF0eXBlOiAnICsgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChpc01hdHJpeChkYXRhKSkge1xuICAgICAgLy8gY2hlY2sgZGF0YSBpcyBhIERlbnNlTWF0cml4XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnRGVuc2VNYXRyaXgnKSB7XG4gICAgICAgIC8vIGNsb25lIGRhdGEgJiBzaXplXG4gICAgICAgIHRoaXMuX2RhdGEgPSBjbG9uZShkYXRhLl9kYXRhKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGNsb25lKGRhdGEuX3NpemUpO1xuICAgICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuX2RhdGF0eXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYnVpbGQgZGF0YSBmcm9tIGV4aXN0aW5nIG1hdHJpeFxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YS50b0FycmF5KCk7XG4gICAgICAgIHRoaXMuX3NpemUgPSBkYXRhLnNpemUoKTtcbiAgICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLl9kYXRhdHlwZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEgJiYgaXNBcnJheShkYXRhLmRhdGEpICYmIGlzQXJyYXkoZGF0YS5zaXplKSkge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHMgZnJvbSBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAgICB0aGlzLl9kYXRhID0gZGF0YS5kYXRhO1xuICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZTsgLy8gdmVyaWZ5IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuXG4gICAgICB2YWxpZGF0ZSh0aGlzLl9kYXRhLCB0aGlzLl9zaXplKTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5kYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIHJlcGxhY2UgbmVzdGVkIE1hdHJpY2VzIHdpdGggQXJyYXlzXG4gICAgICB0aGlzLl9kYXRhID0gcHJlcHJvY2VzcyhkYXRhKTsgLy8gZ2V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuXG4gICAgICB0aGlzLl9zaXplID0gYXJyYXlTaXplKHRoaXMuX2RhdGEpOyAvLyB2ZXJpZnkgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5LCBUT0RPOiBjb21wdXRlIHNpemUgd2hpbGUgcHJvY2Vzc2luZyBhcnJheVxuXG4gICAgICB2YWxpZGF0ZSh0aGlzLl9kYXRhLCB0aGlzLl9zaXplKTsgLy8gZGF0YSB0eXBlIHVua25vd25cblxuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgIC8vIHVuc3VwcG9ydGVkIHR5cGVcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgZGF0YSAoJyArIHR5cGVPZihkYXRhKSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vdGhpbmcgcHJvdmlkZWRcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICAgIHRoaXMuX3NpemUgPSBbMF07XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH1cbiAgfVxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZSA9IG5ldyBNYXRyaXgoKTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBEZW5zZU1hdHJpeFxuICAgKi9cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlRGVuc2VNYXRyaXggPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnR5cGUgPSAnRGVuc2VNYXRyaXgnO1xuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuaXNEZW5zZU1hdHJpeCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICBjb25zdCBtYXRyaXhUeXBlID0gbWF0cml4LmdldERhdGFUeXBlKCkgIC8vIHJldHJpZXZlcyB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogQG1lbWJlck9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICB0eXBlIGluZm9ybWF0aW9uOyBpZiBtdWx0aXBsZSB0eXBlcyBhcmUgZm91bmQgZnJvbSB0aGUgTWF0cml4LCBpdCB3aWxsIHJldHVybiBcIm1peGVkXCJcbiAgICovXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmdldERhdGFUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRBcnJheURhdGFUeXBlKHRoaXMuX2RhdGEsIHR5cGVPZik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIHN0b3JhZ2UgZm9ybWF0LlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnZGVuc2UnO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgIC8vIHJldHJpZXZlIG1hdHJpeCBkYXRhdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YXR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRGVuc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeCwgb3IgcmVwbGFjZSBhIHN1YnNldCBvZiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IHN1YnNldCA9IG1hdHJpeC5zdWJzZXQoaW5kZXgpICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc3Vic2V0XG4gICAqICAgICBjb25zdCB2YWx1ZSA9IG1hdHJpeC5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50KSAgIC8vIHJlcGxhY2Ugc3Vic2V0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9nZXQodGhpcywgaW5kZXgpO1xuICAgICAgLy8gaW50ZW50aW9uYWwgZmFsbCB0aHJvdWdoXG5cbiAgICAgIGNhc2UgMjpcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIF9zZXQodGhpcywgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMnKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoICE9PSB0aGlzLl9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4Lmxlbmd0aCwgdGhpcy5fc2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgaW5kZXhcblxuXG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCBpbmRleC5sZW5ndGg7IHgrKykge1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleFt4XSwgdGhpcy5fc2l6ZVt4XSk7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5kZXgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGluZGV4SSA9IGluZGV4W2ldO1xuICAgICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICAgIGRhdGEgPSBkYXRhW2luZGV4SV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCA8IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICB9XG5cbiAgICB2YXIgaSwgaWksIGluZGV4STsgLy8gZW5sYXJnZSBtYXRyaXggd2hlbiBuZWVkZWRcblxuICAgIHZhciBzaXplID0gaW5kZXgubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaSArIDE7XG4gICAgfSk7XG5cbiAgICBfZml0KHRoaXMsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIHRyYXZlcnNlIG92ZXIgdGhlIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBpbmRleC5sZW5ndGggLSAxOyBpIDwgaWk7IGkrKykge1xuICAgICAgaW5kZXhJID0gaW5kZXhbaV07XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgICAgZGF0YSA9IGRhdGFbaW5kZXhJXTtcbiAgICB9IC8vIHNldCBuZXcgdmFsdWVcblxuXG4gICAgaW5kZXhJID0gaW5kZXhbaW5kZXgubGVuZ3RoIC0gMV07XG4gICAgdmFsaWRhdGVJbmRleChpbmRleEksIGRhdGEubGVuZ3RoKTtcbiAgICBkYXRhW2luZGV4SV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1Ym1hdHJpeCBvZiB0aGlzIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9nZXQobWF0cml4LCBpbmRleCkge1xuICAgIGlmICghaXNJbmRleChpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpO1xuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyByZXR1cm4gYSBzY2FsYXJcbiAgICAgIHJldHVybiBtYXRyaXguZ2V0KGluZGV4Lm1pbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuICAgICAgdmFyIHNpemUgPSBpbmRleC5zaXplKCk7XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCAhPT0gbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3Ioc2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgpO1xuICAgICAgfSAvLyB2YWxpZGF0ZSBpZiBhbnkgb2YgdGhlIHJhbmdlcyBpbiB0aGUgaW5kZXggaXMgb3V0IG9mIHJhbmdlXG5cblxuICAgICAgdmFyIG1pbiA9IGluZGV4Lm1pbigpO1xuICAgICAgdmFyIG1heCA9IGluZGV4Lm1heCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBtYXRyaXguX3NpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KG1pbltpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgICAgdmFsaWRhdGVJbmRleChtYXhbaV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICB9IC8vIHJldHJpZXZlIHN1Ym1hdHJpeFxuICAgICAgLy8gVE9ETzogbW9yZSBlZmZpY2llbnQgd2hlbiBjcmVhdGluZyBhbiBlbXB0eSBtYXRyaXggYW5kIHNldHRpbmcgX2RhdGEgYW5kIF9zaXplIG1hbnVhbGx5XG5cblxuICAgICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChfZ2V0U3VibWF0cml4KG1hdHJpeC5fZGF0YSwgaW5kZXgsIHNpemUubGVuZ3RoLCAwKSwgbWF0cml4Ll9kYXRhdHlwZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBnZXQgYSBzdWJtYXRyaXggb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBtYXRyaXguXG4gICAqIEluZGV4IGlzIG5vdCBjaGVja2VkIGZvciBjb3JyZWN0IG51bWJlciBvciBsZW5ndGggb2YgZGltZW5zaW9ucy5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbXMgICBUb3RhbCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gZGltICAgIEN1cnJlbnQgZGltZW5zaW9uXG4gICAqIEByZXR1cm4ge0FycmF5fSBzdWJtYXRyaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZ2V0U3VibWF0cml4KGRhdGEsIGluZGV4LCBkaW1zLCBkaW0pIHtcbiAgICB2YXIgbGFzdCA9IGRpbSA9PT0gZGltcyAtIDE7XG4gICAgdmFyIHJhbmdlID0gaW5kZXguZGltZW5zaW9uKGRpbSk7XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgcmV0dXJuIHJhbmdlLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGksIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGRhdGFbaV07XG4gICAgICB9KS52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChpLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIHZhciBjaGlsZCA9IGRhdGFbaV07XG4gICAgICAgIHJldHVybiBfZ2V0U3VibWF0cml4KGNoaWxkLCBpbmRleCwgZGltcywgZGltICsgMSk7XG4gICAgICB9KS52YWx1ZU9mKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc3VibWF0cml4IGluIHRoaXMgbWF0cml4XG4gICAqIEluZGV4ZXMgYXJlIHplcm8tYmFzZWQuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtEZW5zZU1hdHJpeCB8IEFycmF5IHwgKn0gc3VibWF0cml4XG4gICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlICAgICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC5cbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9zZXQobWF0cml4LCBpbmRleCwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9IC8vIGdldCBpbmRleCBzaXplIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBpbmRleCBjb250YWlucyBhIHNpbmdsZSB2YWx1ZVxuXG5cbiAgICB2YXIgaVNpemUgPSBpbmRleC5zaXplKCk7XG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTsgLy8gY2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXgsIGFuZCBjb252ZXJ0IGl0IGludG8gYW4gQXJyYXkgaWYgbmVlZGVkXG5cbiAgICB2YXIgc1NpemU7XG5cbiAgICBpZiAoaXNNYXRyaXgoc3VibWF0cml4KSkge1xuICAgICAgc1NpemUgPSBzdWJtYXRyaXguc2l6ZSgpO1xuICAgICAgc3VibWF0cml4ID0gc3VibWF0cml4LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc1NpemUgPSBhcnJheVNpemUoc3VibWF0cml4KTtcbiAgICB9XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHNldCBhIHNjYWxhclxuICAgICAgLy8gY2hlY2sgd2hldGhlciBzdWJtYXRyaXggaXMgYSBzY2FsYXJcbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2NhbGFyIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIG1hdHJpeC5zZXQoaW5kZXgubWluKCksIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2V0IGEgc3VibWF0cml4XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG4gICAgICBpZiAoaVNpemUubGVuZ3RoIDwgbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc1NpemUubGVuZ3RoIDwgaVNpemUubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgbWlzc2luZyBvdXRlciBkaW1lbnNpb25zXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIG91dGVyID0gMDtcblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEgJiYgc1NpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBvdXRlcisrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSAvLyB1bnNxdWVlemUgYm90aCBvdXRlciBhbmQgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgICAgICAgc3VibWF0cml4ID0gdW5zcXVlZXplKHN1Ym1hdHJpeCwgaVNpemUubGVuZ3RoLCBvdXRlciwgc1NpemUpO1xuICAgICAgfSAvLyBjaGVjayB3aGV0aGVyIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXggbWF0Y2hlcyB0aGUgaW5kZXggc2l6ZVxuXG5cbiAgICAgIGlmICghZGVlcFN0cmljdEVxdWFsKGlTaXplLCBzU2l6ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLCBzU2l6ZSwgJz4nKTtcbiAgICAgIH0gLy8gZW5sYXJnZSBtYXRyaXggd2hlbiBuZWVkZWRcblxuXG4gICAgICB2YXIgc2l6ZSA9IGluZGV4Lm1heCgpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICB9KTtcblxuICAgICAgX2ZpdChtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSk7IC8vIGluc2VydCB0aGUgc3ViIG1hdHJpeFxuXG5cbiAgICAgIHZhciBkaW1zID0gaVNpemUubGVuZ3RoO1xuICAgICAgdmFyIGRpbSA9IDA7XG5cbiAgICAgIF9zZXRTdWJtYXRyaXgobWF0cml4Ll9kYXRhLCBpbmRleCwgc3VibWF0cml4LCBkaW1zLCBkaW0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzdWJtYXRyaXggb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHN1Ym1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGltcyAgIFRvdGFsIG51bWJlciBvZiBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfc2V0U3VibWF0cml4KGRhdGEsIGluZGV4LCBzdWJtYXRyaXgsIGRpbXMsIGRpbSkge1xuICAgIHZhciBsYXN0ID0gZGltID09PSBkaW1zIC0gMTtcbiAgICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oZGltKTtcblxuICAgIGlmIChsYXN0KSB7XG4gICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSW5kZXgsIHN1YkluZGV4KSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoZGF0YUluZGV4KTtcbiAgICAgICAgZGF0YVtkYXRhSW5kZXhdID0gc3VibWF0cml4W3N1YkluZGV4WzBdXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSW5kZXgsIHN1YkluZGV4KSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoZGF0YUluZGV4KTtcblxuICAgICAgICBfc2V0U3VibWF0cml4KGRhdGFbZGF0YUluZGV4XSwgaW5kZXgsIHN1Ym1hdHJpeFtzdWJJbmRleFswXV0sIGRpbXMsIGRpbSArIDEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXSB8fCBNYXRyaXh9IHNpemUgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0NvbGxlY3Rpb24oc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IG9yIE1hdHJpeCBleHBlY3RlZCcpO1xuICAgIH0gLy8gU3BhcnNlTWF0cml4IGlucHV0IGlzIGFsd2F5cyAyZCwgZmxhdHRlbiB0aGlzIGludG8gMWQgaWYgaXQncyBpbmRlZWQgYSB2ZWN0b3JcblxuXG4gICAgdmFyIHNpemVBcnJheSA9IHNpemUudmFsdWVPZigpLm1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICB9KTsgLy8gbWF0cml4IHRvIHJlc2l6ZVxuXG4gICAgdmFyIG0gPSBjb3B5ID8gdGhpcy5jbG9uZSgpIDogdGhpczsgLy8gcmVzaXplIG1hdHJpeFxuXG4gICAgcmV0dXJuIF9yZXNpemUobSwgc2l6ZUFycmF5LCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9yZXNpemUobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBzaXplXG4gICAgaWYgKHNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBmaXJzdCB2YWx1ZSBpbiBtYXRyaXhcbiAgICAgIHZhciB2ID0gbWF0cml4Ll9kYXRhOyAvLyBnbyBkZWVwXG5cbiAgICAgIHdoaWxlIChpc0FycmF5KHYpKSB7XG4gICAgICAgIHYgPSB2WzBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdjtcbiAgICB9IC8vIHJlc2l6ZSBtYXRyaXhcblxuXG4gICAgbWF0cml4Ll9zaXplID0gc2l6ZS5zbGljZSgwKTsgLy8gY29weSB0aGUgYXJyYXlcblxuICAgIG1hdHJpeC5fZGF0YSA9IHJlc2l6ZShtYXRyaXguX2RhdGEsIG1hdHJpeC5fc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1pZ2h0IGJlIGJldHRlciBzdWl0ZWQgdG8gY29weSBieSBkZWZhdWx0LCBpbnN0ZWFkIG9mIG1vZGlmeWluZ1xuICAgKiAgICAgICBpbiBwbGFjZS4gRm9yIG5vdywgaXQgb3BlcmF0ZXMgaW4gcGxhY2UgdG8gcmVtYWluIGNvbnNpc3RlbnQgd2l0aFxuICAgKiAgICAgICByZXNpemUoKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGNvcHkpIHtcbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzO1xuICAgIG0uX2RhdGEgPSByZXNoYXBlKG0uX2RhdGEsIHNpemUpO1xuICAgIG0uX3NpemUgPSBzaXplLnNsaWNlKDApO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogRW5sYXJnZSB0aGUgbWF0cml4IHdoZW4gaXQgaXMgc21hbGxlciB0aGFuIGdpdmVuIHNpemUuXG4gICAqIElmIHRoZSBtYXRyaXggaXMgbGFyZ2VyIG9yIGVxdWFsIHNpemVkLCBub3RoaW5nIGlzIGRvbmUuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXggICAgICAgICAgIFRoZSBtYXRyaXggdG8gYmUgcmVzaXplZFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplXG4gICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlICAgICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfZml0KG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIC8vIGNvcHkgdGhlIGFycmF5XG4gICAgbmV3U2l6ZSA9IG1hdHJpeC5fc2l6ZS5zbGljZSgwKTtcblxuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7IC8vIGFkZCBkaW1lbnNpb25zIHdoZW4gbmVlZGVkXG5cbiAgICB3aGlsZSAobmV3U2l6ZS5sZW5ndGggPCBzaXplLmxlbmd0aCkge1xuICAgICAgbmV3U2l6ZS5wdXNoKDApO1xuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgfSAvLyBlbmxhcmdlIHNpemUgd2hlbiBuZWVkZWRcblxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpZiAoc2l6ZVtpXSA+IG5ld1NpemVbaV0pIHtcbiAgICAgICAgbmV3U2l6ZVtpXSA9IHNpemVbaV07XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAvLyByZXNpemUgb25seSB3aGVuIHNpemUgaXMgY2hhbmdlZFxuICAgICAgX3Jlc2l6ZShtYXRyaXgsIG5ld1NpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gY2xvbmVcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG0gPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2xvbmUodGhpcy5fZGF0YSksXG4gICAgICBzaXplOiBjbG9uZSh0aGlzLl9zaXplKSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplLnNsaWNlKDApOyAvLyByZXR1cm4gYSBjbG9uZSBvZiBfc2l6ZVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvblxuICAgKiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbWF0cml4IGluc3RhbmNlXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIHZhciByZWN1cnNlID0gZnVuY3Rpb24gcmVjdXJzZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICAgIHJldHVybiByZWN1cnNlKGNoaWxkLCBpbmRleC5jb25jYXQoaSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG1lKTtcbiAgICAgIH1cbiAgICB9OyAvLyBkZXRlcm1pbmUgdGhlIG5ldyBkYXRhdHlwZSB3aGVuIHRoZSBvcmlnaW5hbCBtYXRyaXggaGFzIGRhdGF0eXBlIGRlZmluZWRcbiAgICAvLyBUT0RPOiBzaG91bGQgYmUgZG9uZSBpbiBtYXRyaXggY29uc3RydWN0b3IgaW5zdGVhZFxuXG5cbiAgICB2YXIgZGF0YSA9IHJlY3Vyc2UodGhpcy5fZGF0YSwgW10pO1xuICAgIHZhciBkYXRhdHlwZSA9IHRoaXMuX2RhdGF0eXBlICE9PSB1bmRlZmluZWQgPyBnZXRBcnJheURhdGFUeXBlKGRhdGEsIHR5cGVPZikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbWF0cml4IGluc3RhbmNlXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIHZhciByZWN1cnNlID0gZnVuY3Rpb24gcmVjdXJzZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICAgIHJlY3Vyc2UoY2hpbGQsIGluZGV4LmNvbmNhdChpKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodmFsdWUsIGluZGV4LCBtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlY3Vyc2UodGhpcy5fZGF0YSwgW10pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBEZW5zZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjbG9uZSh0aGlzLl9kYXRhKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBEZW5zZU1hdHJpeDogYSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLl9kYXRhLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLl9kYXRhKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdEZW5zZU1hdHJpeCcsXG4gICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgc2l6ZTogdGhpcy5fc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGt0aCBNYXRyaXggZGlhZ29uYWwuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gW2s9MF0gICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIHJldHJpZXZlZC5cbiAgICpcbiAgICogQHJldHVybnMge01hdHJpeH0gICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHdpdGggdGhlIGRpYWdvbmFsIHZhbHVlcy5cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZGlhZ29uYWwgPSBmdW5jdGlvbiAoaykge1xuICAgIC8vIHZhbGlkYXRlIGsgaWYgYW55XG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBudW1iZXIgZGlhZ29uYWwgdmFsdWVzXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8geCBpcyBhIG1hdHJpeCBnZXQgZGlhZ29uYWwgZnJvbSBtYXRyaXhcblxuICAgIHZhciBkYXRhID0gW107IC8vIGxvb3Agcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGRhdGFbaV0gPSB0aGlzLl9kYXRhW2kgKyBrU3ViXVtpICsga1N1cGVyXTtcbiAgICB9IC8vIGNyZWF0ZSBEZW5zZU1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBzaXplOiBbbl0sXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpYWdvbmFsIG1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemUgICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHNpemUuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgTWF0cml4IHwgQXJyYXkgfSB2YWx1ZSBUaGUgdmFsdWVzIGZvciB0aGUgZGlhZ29uYWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3Igbm9uLWRpYWdvbmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdICAgICAgICAgICAgICBUaGUgZGF0YXR5cGUgZm9yIHRoZSBkaWFnb25hbFxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVuc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguZGlhZ29uYWwgPSBmdW5jdGlvbiAoc2l6ZSwgdmFsdWUsIGssIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQsIHNpemUgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIG1hcCBzaXplICYgdmFsaWRhdGVcblxuXG4gICAgc2l6ZSA9IHNpemUubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBhIGJpZyBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihzKSkge1xuICAgICAgICAvLyBjb252ZXJ0IGl0XG4gICAgICAgIHMgPSBzLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgICAgIGlmICghaXNOdW1iZXIocykgfHwgIWlzSW50ZWdlcihzKSB8fCBzIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgdmFsdWVzIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHM7XG4gICAgfSk7IC8vIHZhbGlkYXRlIGsgaWYgYW55XG5cbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gbnVtYmVyIG9mIG5vbi16ZXJvIGl0ZW1zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gdmFsdWUgZXh0cmFjdGlvbiBmdW5jdGlvblxuXG4gICAgdmFyIF92YWx1ZTsgLy8gY2hlY2sgdmFsdWVcblxuXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAvLyB2YWxpZGF0ZSBhcnJheVxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgYXJyYXkgbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlW2ldO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTWF0cml4KHZhbHVlKSkge1xuICAgICAgLy8gbWF0cml4IHNpemVcbiAgICAgIHZhciBtcyA9IHZhbHVlLnNpemUoKTsgLy8gdmFsaWRhdGUgbWF0cml4XG5cbiAgICAgIGlmIChtcy5sZW5ndGggIT09IDEgfHwgbXNbMF0gIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hdHJpeCBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWUuZ2V0KFtpXSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZpbmUgZnVuY3Rpb25cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZSgpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSAvLyBkaXNjb3ZlciBkZWZhdWx0IHZhbHVlIGlmIG5lZWRlZFxuXG5cbiAgICBpZiAoIWRlZmF1bHRWYWx1ZSkge1xuICAgICAgLy8gY2hlY2sgZmlyc3QgdmFsdWUgaW4gYXJyYXlcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGlzQmlnTnVtYmVyKF92YWx1ZSgwKSkgPyBfdmFsdWUoMCkubXVsKDApIC8vIHRyaWNrIHRvIGNyZWF0ZSBhIEJpZ051bWJlciB3aXRoIHZhbHVlIHplcm9cbiAgICAgIDogMDtcbiAgICB9IC8vIGVtcHR5IGFycmF5XG5cblxuICAgIHZhciBkYXRhID0gW107IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmVzaXplIGFycmF5XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyByZXNpemUgYXJyYXlcbiAgICAgIGRhdGEgPSByZXNpemUoZGF0YSwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gZmlsbCBkaWFnb25hbFxuXG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IG47IGQrKykge1xuICAgICAgICBkYXRhW2QgKyBrU3ViXVtkICsga1N1cGVyXSA9IF92YWx1ZShkKTtcbiAgICAgIH1cbiAgICB9IC8vIGNyZWF0ZSBEZW5zZU1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc11cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbWF0cml4IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJEZW5zZU1hdHJpeFwiLCBkYXRhOiBbXSwgc2l6ZTogW119YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7RGVuc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoanNvbik7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBNYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgIFRoZSBtYXRyaXggcmVmZXJlbmNlXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN3YXBSb3dzID0gZnVuY3Rpb24gKGksIGopIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaXNOdW1iZXIoaSkgfHwgIWlzSW50ZWdlcihpKSB8fCAhaXNOdW1iZXIoaikgfHwgIWlzSW50ZWdlcihqKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3cgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH0gLy8gY2hlY2sgZGltZW5zaW9uc1xuXG5cbiAgICBpZiAodGhpcy5fc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9uYWwgbWF0cml4IGlzIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5kZXhcblxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMF0pOyAvLyBzd2FwIHJvd3NcblxuICAgIERlbnNlTWF0cml4Ll9zd2FwUm93cyhpLCBqLCB0aGlzLl9kYXRhKTsgLy8gcmV0dXJuIGN1cnJlbnQgaW5zdGFuY2VcblxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBEZW5zZSBNYXRyaXggZGF0YSBzdHJ1Y3R1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YSAgICAgTWF0cml4IGRhdGFcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5fc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaiwgZGF0YSkge1xuICAgIC8vIHN3YXAgdmFsdWVzIGkgPC0+IGpcbiAgICB2YXIgdmkgPSBkYXRhW2ldO1xuICAgIGRhdGFbaV0gPSBkYXRhW2pdO1xuICAgIGRhdGFbal0gPSB2aTtcbiAgfTtcbiAgLyoqXG4gICAqIFByZXByb2Nlc3MgZGF0YSwgd2hpY2ggY2FuIGJlIGFuIEFycmF5IG9yIERlbnNlTWF0cml4IHdpdGggbmVzdGVkIEFycmF5cyBhbmRcbiAgICogTWF0cmljZXMuIFJlcGxhY2VzIGFsbCBuZXN0ZWQgTWF0cmljZXMgd2l0aCBBcnJheXNcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHJldHVybiB7QXJyYXl9IGRhdGFcbiAgICovXG5cblxuICBmdW5jdGlvbiBwcmVwcm9jZXNzKGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkYXRhLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBlbGVtID0gZGF0YVtpXTtcblxuICAgICAgaWYgKGlzQXJyYXkoZWxlbSkpIHtcbiAgICAgICAgZGF0YVtpXSA9IHByZXByb2Nlc3MoZWxlbSk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0gJiYgZWxlbS5pc01hdHJpeCA9PT0gdHJ1ZSkge1xuICAgICAgICBkYXRhW2ldID0gcHJlcHJvY2VzcyhlbGVtLnZhbHVlT2YoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICByZXR1cm4gRGVuc2VNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQ29sbGVjdGlvbiwgaXNNYXRyaXggfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IEluZGV4RXJyb3IgfSBmcm9tICcuLi9lcnJvci9JbmRleEVycm9yLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgY29sbGVjdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIGFycmF5IGNvbnRhaW5zIG9uZSBvciBtdWx0aXBsZVxuICogICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zIChBcnJheXMgb3IgTWF0cmljZXMpLiBSZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNDb2xsZWN0aW9ucyhhcnJheSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzQ29sbGVjdGlvbihhcnJheVtpXSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgbG9vcCBvdmVyIGFsbCBlbGVtZW50cyBpbiBhIGdpdmVuIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBhbmQgaW52b2tlIHRoZSBjYWxsYmFjayBvbiBlYWNoIG9mIHRoZSBlbGVtZW50cy5cbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggb25lXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiB0aGUgY3VycmVudCBlbGVtZW50IGluIHRoZSBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRm9yRWFjaChhcnJheSwgY2FsbGJhY2spIHtcbiAgaWYgKGlzTWF0cml4KGFycmF5KSkge1xuICAgIGFycmF5ID0gYXJyYXkudmFsdWVPZigpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBkZWVwRm9yRWFjaCh2YWx1ZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh2YWx1ZSk7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEV4ZWN1dGUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGVsZW1lbnQgd2lzZSBmb3IgZWFjaCBlbGVtZW50IGluIGFycmF5IGFuZCBhbnlcbiAqIG5lc3RlZCBhcnJheVxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSByZXN1bHRzXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggdHdvIHBhcmFtZXRlcnM6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlMSBhbmQgdmFsdWUyLCB3aGljaCBjb250YWluIHRoZSBjdXJyZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgb2YgYm90aCBhcnJheXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gKlxuICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IHJlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWFwKGFycmF5LCBjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gIGlmIChhcnJheSAmJiB0eXBlb2YgYXJyYXkubWFwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVE9ETzogcmVwbGFjZSBhcnJheS5tYXAgd2l0aCBhIGZvciBsb29wIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcbiAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBjYWxsYmFjaywgc2tpcFplcm9zKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbGJhY2soYXJyYXkpO1xuICB9XG59XG4vKipcbiAqIFJlZHVjZSBhIGdpdmVuIG1hdHJpeCBvciBhcnJheSB0byBhIG5ldyBtYXRyaXggb3JcbiAqIGFycmF5IHdpdGggb25lIGxlc3MgZGltZW5zaW9uLCBhcHBseWluZyB0aGUgZ2l2ZW5cbiAqIGNhbGxiYWNrIGluIHRoZSBzZWxlY3RlZCBkaW1lbnNpb24uXG4gKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBtYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spIHtcbiAgdmFyIHNpemUgPSBBcnJheS5pc0FycmF5KG1hdCkgPyBhcnJheVNpemUobWF0KSA6IG1hdC5zaXplKCk7XG5cbiAgaWYgKGRpbSA8IDAgfHwgZGltID49IHNpemUubGVuZ3RoKSB7XG4gICAgLy8gVE9ETzogd291bGQgYmUgbW9yZSBjbGVhciB3aGVuIHRocm93aW5nIGEgRGltZW5zaW9uRXJyb3IgaGVyZVxuICAgIHRocm93IG5ldyBJbmRleEVycm9yKGRpbSwgc2l6ZS5sZW5ndGgpO1xuICB9XG5cbiAgaWYgKGlzTWF0cml4KG1hdCkpIHtcbiAgICByZXR1cm4gbWF0LmNyZWF0ZShfcmVkdWNlKG1hdC52YWx1ZU9mKCksIGRpbSwgY2FsbGJhY2spKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX3JlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spO1xuICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHJlZHVjZSBhIG1hdHJpeFxuICogQHBhcmFtIHtBcnJheX0gbWF0XG4gKiBAcGFyYW0ge251bWJlcn0gZGltXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0FycmF5fSByZXRcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3JlZHVjZShtYXQsIGRpbSwgY2FsbGJhY2spIHtcbiAgdmFyIGksIHJldCwgdmFsLCB0cmFuO1xuXG4gIGlmIChkaW0gPD0gMCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtYXRbMF0pKSB7XG4gICAgICB2YWwgPSBtYXRbMF07XG5cbiAgICAgIGZvciAoaSA9IDE7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsID0gY2FsbGJhY2sodmFsLCBtYXRbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuID0gX3N3aXRjaChtYXQpO1xuICAgICAgcmV0ID0gW107XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0cmFuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJldFtpXSA9IF9yZWR1Y2UodHJhbltpXSwgZGltIC0gMSwgY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXQgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IF9yZWR1Y2UobWF0W2ldLCBkaW0gLSAxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfVxufVxuLyoqXG4gKiBUcmFuc3Bvc2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXl9IG1hdFxuICogQHJldHVybnMge0FycmF5fSByZXRcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfc3dpdGNoKG1hdCkge1xuICB2YXIgSSA9IG1hdC5sZW5ndGg7XG4gIHZhciBKID0gbWF0WzBdLmxlbmd0aDtcbiAgdmFyIGksIGo7XG4gIHZhciByZXQgPSBbXTtcblxuICBmb3IgKGogPSAwOyBqIDwgSjsgaisrKSB7XG4gICAgdmFyIHRtcCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IEk7IGkrKykge1xuICAgICAgdG1wLnB1c2gobWF0W2ldW2pdKTtcbiAgICB9XG5cbiAgICByZXQucHVzaCh0bXApO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn0gLy8gVE9ETzogZG9jdW1lbnQgZnVuY3Rpb24gc2NhdHRlclxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2F0dGVyKGEsIGosIHcsIHgsIHUsIG1hcmssIGNpbmRleCwgZiwgaW52ZXJzZSwgdXBkYXRlLCB2YWx1ZSkge1xuICAvLyBhIGFycmF5c1xuICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICB2YXIgYXB0ciA9IGEuX3B0cjsgLy8gdmFyc1xuXG4gIHZhciBrLCBrMCwgazEsIGk7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKHBhdHRlcm4gbWF0cml4KVxuXG4gIGlmICh4KSB7XG4gICAgLy8gdmFsdWVzIGluIGpcbiAgICBmb3IgKGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICBpID0gYWluZGV4W2tdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgIGlmICh3W2ldICE9PSBtYXJrKSB7XG4gICAgICAgIC8vIGkgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgd1tpXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB4KGkpID0gQSwgY2hlY2sgd2UgbmVlZCB0byBjYWxsIGZ1bmN0aW9uIHRoaXMgdGltZVxuXG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAvLyBjb3B5IHZhbHVlIHRvIHdvcmtzcGFjZSBjYWxsaW5nIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgeFtpXSA9IGludmVyc2UgPyBmKGF2YWx1ZXNba10sIHZhbHVlKSA6IGYodmFsdWUsIGF2YWx1ZXNba10pOyAvLyBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG5cbiAgICAgICAgICB1W2ldID0gbWFyaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb3B5IHZhbHVlIHRvIHdvcmtzcGFjZVxuICAgICAgICAgIHhbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBmKGF2YWx1ZXNba10sIHhbaV0pIDogZih4W2ldLCBhdmFsdWVzW2tdKTsgLy8gZnVuY3Rpb24gd2FzIGNhbGxlZCBvbiBjdXJyZW50IHJvd1xuXG4gICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyB2YWx1ZXMgaW4galxuICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIGkgPSBhaW5kZXhba107IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgaWYgKHdbaV0gIT09IG1hcmspIHtcbiAgICAgICAgLy8gaSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICB3W2ldID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbmRpY2F0ZSBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG4gICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IGlzSW50ZWdlciwgbG9nMiwgbG9nMTAsIGNicnQsIGV4cG0xLCBzaWduLCB0b0ZpeGVkLCBsb2cxcCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG52YXIgbjEgPSAnbnVtYmVyJztcbnZhciBuMiA9ICdudW1iZXIsIG51bWJlcic7XG5leHBvcnQgZnVuY3Rpb24gYWJzTnVtYmVyKGEpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEpO1xufVxuYWJzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhICsgYjtcbn1cbmFkZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdE51bWJlcihhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cbnN1YnRyYWN0TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5TnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgKiBiO1xufVxubXVsdGlwbHlOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlTnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgLyBiO1xufVxuZGl2aWRlTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHVuYXJ5TWludXNOdW1iZXIoeCkge1xuICByZXR1cm4gLXg7XG59XG51bmFyeU1pbnVzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHVuYXJ5UGx1c051bWJlcih4KSB7XG4gIHJldHVybiB4O1xufVxudW5hcnlQbHVzTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGNicnROdW1iZXIoeCkge1xuICByZXR1cm4gY2JydCh4KTtcbn1cbmNicnROdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY2VpbE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmNlaWwoeCk7XG59XG5jZWlsTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGN1YmVOdW1iZXIoeCkge1xuICByZXR1cm4geCAqIHggKiB4O1xufVxuY3ViZU51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBleHBOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5leHAoeCk7XG59XG5leHBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZXhwbTFOdW1iZXIoeCkge1xuICByZXR1cm4gZXhwbTEoeCk7XG59XG5leHBtMU51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBmaXhOdW1iZXIoeCkge1xuICByZXR1cm4geCA+IDAgPyBNYXRoLmZsb29yKHgpIDogTWF0aC5jZWlsKHgpO1xufVxuZml4TnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoeCk7XG59XG5mbG9vck51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIGdjZCBmb3IgbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBncmVhdGVzdCBjb21tb24gZGVub21pbmF0b3Igb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnY2ROdW1iZXIoYSwgYikge1xuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGdjZCBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1Y2xpZGVhbl9hbGdvcml0aG1cblxuXG4gIHZhciByO1xuXG4gIHdoaWxlIChiICE9PSAwKSB7XG4gICAgciA9IGEgJSBiO1xuICAgIGEgPSBiO1xuICAgIGIgPSByO1xuICB9XG5cbiAgcmV0dXJuIGEgPCAwID8gLWEgOiBhO1xufVxuZ2NkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgbGNtIGZvciB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBsZWFzdCBjb21tb24gbXVsdGlwbGUgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsY21OdW1iZXIoYSwgYikge1xuICBpZiAoIWlzSW50ZWdlcihhKSB8fCAhaXNJbnRlZ2VyKGIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXJzIGluIGZ1bmN0aW9uIGxjbSBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9XG5cbiAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9IC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1Y2xpZGVhbl9hbGdvcml0aG1cbiAgLy8gZXZhbHVhdGUgbGNtIGhlcmUgaW5saW5lIHRvIHJlZHVjZSBvdmVyaGVhZFxuXG5cbiAgdmFyIHQ7XG4gIHZhciBwcm9kID0gYSAqIGI7XG5cbiAgd2hpbGUgKGIgIT09IDApIHtcbiAgICB0ID0gYjtcbiAgICBiID0gYSAlIHQ7XG4gICAgYSA9IHQ7XG4gIH1cblxuICByZXR1cm4gTWF0aC5hYnMocHJvZCAvIGEpO1xufVxubGNtTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGxvZ2FyaXRobSBvZiBhIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpO1xufVxubG9nTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIDEwLWJhc2UgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cxME51bWJlcih4KSB7XG4gIHJldHVybiBsb2cxMCh4KTtcbn1cbmxvZzEwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIDItYmFzZSBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzJOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMih4KTtcbn1cbmxvZzJOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYSBgbnVtYmVyKzFgXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMXBOdW1iZXIoeCkge1xuICByZXR1cm4gbG9nMXAoeCk7XG59XG5sb2cxcE51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBtb2R1bHVzIG9mIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJlc1xuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbW9kTnVtYmVyKHgsIHkpIHtcbiAgaWYgKHkgPiAwKSB7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIEphdmFTY3JpcHQncyAlIG9wZXJhdG9yIGhlcmUgYXMgdGhpcyBkb2Vzbid0IHdvcmtcbiAgICAvLyBjb3JyZWN0bHkgZm9yIHggPCAwIGFuZCB4ID09PSAwXG4gICAgLy8gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb25cbiAgICByZXR1cm4geCAtIHkgKiBNYXRoLmZsb29yKHggLyB5KTtcbiAgfSBlbHNlIGlmICh5ID09PSAwKSB7XG4gICAgcmV0dXJuIHg7XG4gIH0gZWxzZSB7XG4gICAgLy8geSA8IDBcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3JcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgbW9kIGZvciBhIG5lZ2F0aXZlIGRpdmlzb3InKTtcbiAgfVxufVxubW9kTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG50aCByb290IG9mIGEsIHNvbHZlIHhecm9vdCA9PSBhXG4gKiBodHRwOi8vcm9zZXR0YWNvZGUub3JnL3dpa2kvTnRoX3Jvb3QjSmF2YVNjcmlwdFxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSByb290XG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBudGhSb290TnVtYmVyKGEsIHJvb3QpIHtcbiAgdmFyIGludiA9IHJvb3QgPCAwO1xuXG4gIGlmIChpbnYpIHtcbiAgICByb290ID0gLXJvb3Q7XG4gIH1cblxuICBpZiAocm9vdCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUm9vdCBtdXN0IGJlIG5vbi16ZXJvJyk7XG4gIH1cblxuICBpZiAoYSA8IDAgJiYgTWF0aC5hYnMocm9vdCkgJSAyICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb290IG11c3QgYmUgb2RkIHdoZW4gYSBpcyBuZWdhdGl2ZS4nKTtcbiAgfSAvLyBlZGdlIGNhc2VzIHplcm8gYW5kIGluZmluaXR5XG5cblxuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBpbnYgPyBJbmZpbml0eSA6IDA7XG4gIH1cblxuICBpZiAoIWlzRmluaXRlKGEpKSB7XG4gICAgcmV0dXJuIGludiA/IDAgOiBhO1xuICB9XG5cbiAgdmFyIHggPSBNYXRoLnBvdyhNYXRoLmFicyhhKSwgMSAvIHJvb3QpOyAvLyBJZiBhIDwgMCwgd2UgcmVxdWlyZSB0aGF0IHJvb3QgaXMgYW4gb2RkIGludGVnZXIsXG4gIC8vIHNvICgtMSkgXiAoMS9yb290KSA9IC0xXG5cbiAgeCA9IGEgPCAwID8gLXggOiB4O1xuICByZXR1cm4gaW52ID8gMSAvIHggOiB4OyAvLyBWZXJ5IG5pY2UgYWxnb3JpdGhtLCBidXQgZmFpbHMgd2l0aCBudGhSb290KC0yLCAzKS5cbiAgLy8gTmV3dG9uJ3MgbWV0aG9kIGhhcyBzb21lIHdlbGwta25vd24gcHJvYmxlbXMgYXQgdGltZXM6XG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL05ld3RvbiUyN3NfbWV0aG9kI0ZhaWx1cmVfYW5hbHlzaXNcblxuICAvKlxuICBsZXQgeCA9IDEgLy8gSW5pdGlhbCBndWVzc1xuICBsZXQgeFByZXYgPSAxXG4gIGxldCBpID0gMFxuICBjb25zdCBpTWF4ID0gMTAwMDBcbiAgZG8ge1xuICAgIGNvbnN0IGRlbHRhID0gKGEgLyBNYXRoLnBvdyh4LCByb290IC0gMSkgLSB4KSAvIHJvb3RcbiAgICB4UHJldiA9IHhcbiAgICB4ID0geCArIGRlbHRhXG4gICAgaSsrXG4gIH1cbiAgd2hpbGUgKHhQcmV2ICE9PSB4ICYmIGkgPCBpTWF4KVxuICAgaWYgKHhQcmV2ICE9PSB4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBudGhSb290IGZhaWxlZCB0byBjb252ZXJnZScpXG4gIH1cbiAgIHJldHVybiBpbnYgPyAxIC8geCA6IHhcbiAgKi9cbn1cbm50aFJvb3ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gc2lnbk51bWJlcih4KSB7XG4gIHJldHVybiBzaWduKHgpO1xufVxuc2lnbk51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBzcXJ0TnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguc3FydCh4KTtcbn1cbnNxcnROdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHggKiB4O1xufVxuc3F1YXJlTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgeGdjZCBmb3IgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcGFyYW0ge251bWJlcn0gYlxuICogQHJldHVybiB7bnVtYmVyfSByZXN1bHRcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHhnY2ROdW1iZXIoYSwgYikge1xuICAvLyBzb3VyY2U6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4dGVuZGVkX0V1Y2xpZGVhbl9hbGdvcml0aG1cbiAgdmFyIHQ7IC8vIHVzZWQgdG8gc3dhcCB0d28gdmFyaWFibGVzXG5cbiAgdmFyIHE7IC8vIHF1b3RpZW50XG5cbiAgdmFyIHI7IC8vIHJlbWFpbmRlclxuXG4gIHZhciB4ID0gMDtcbiAgdmFyIGxhc3R4ID0gMTtcbiAgdmFyIHkgPSAxO1xuICB2YXIgbGFzdHkgPSAwO1xuXG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24geGdjZCBtdXN0IGJlIGludGVnZXIgbnVtYmVycycpO1xuICB9XG5cbiAgd2hpbGUgKGIpIHtcbiAgICBxID0gTWF0aC5mbG9vcihhIC8gYik7XG4gICAgciA9IGEgLSBxICogYjtcbiAgICB0ID0geDtcbiAgICB4ID0gbGFzdHggLSBxICogeDtcbiAgICBsYXN0eCA9IHQ7XG4gICAgdCA9IHk7XG4gICAgeSA9IGxhc3R5IC0gcSAqIHk7XG4gICAgbGFzdHkgPSB0O1xuICAgIGEgPSBiO1xuICAgIGIgPSByO1xuICB9XG5cbiAgdmFyIHJlcztcblxuICBpZiAoYSA8IDApIHtcbiAgICByZXMgPSBbLWEsIC1sYXN0eCwgLWxhc3R5XTtcbiAgfSBlbHNlIHtcbiAgICByZXMgPSBbYSwgYSA/IGxhc3R4IDogMCwgbGFzdHldO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cbnhnY2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgeF55LCBmb3IgdHdvIG51bWJlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBvd051bWJlcih4LCB5KSB7XG4gIC8vIHheSW5maW5pdHkgPT09IDAgaWYgLTEgPCB4IDwgMVxuICAvLyBBIHJlYWwgbnVtYmVyIDAgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBjb21wbGV4KDApXG4gIGlmICh4ICogeCA8IDEgJiYgeSA9PT0gSW5maW5pdHkgfHwgeCAqIHggPiAxICYmIHkgPT09IC1JbmZpbml0eSkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIE1hdGgucG93KHgsIHkpO1xufVxucG93TnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuLyoqXG4gKiByb3VuZCBhIG51bWJlciB0byB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGRlY2ltYWxzLCBvciB0byB6ZXJvIGlmIGRlY2ltYWxzIGlzXG4gKiBub3QgcHJvdmlkZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzICAgICAgIG51bWJlciBvZiBkZWNpbWFscywgYmV0d2VlbiAwIGFuZCAxNSAoMCBieSBkZWZhdWx0KVxuICogQHJldHVybiB7bnVtYmVyfSByb3VuZGVkVmFsdWVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmROdW1iZXIodmFsdWUpIHtcbiAgdmFyIGRlY2ltYWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICByZXR1cm4gcGFyc2VGbG9hdCh0b0ZpeGVkKHZhbHVlLCBkZWNpbWFscykpO1xufVxucm91bmROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbm9ybSBvZiBhIG51bWJlciwgdGhlIGFic29sdXRlIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybU51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmFicyh4KTtcbn1cbm5vcm1OdW1iZXIuc2lnbmF0dXJlID0gbjE7IiwiaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnaXNOdW1lcmljJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUlzTnVtZXJpYyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBudW1lcmljIHZhbHVlLlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQtd2lzZSBpbiBjYXNlIG9mIEFycmF5IG9yIE1hdHJpeCBpbnB1dC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5pc051bWVyaWMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguaXNOdW1lcmljKDIpICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKCcyJykgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmhhc051bWVyaWNWYWx1ZSgnMicpICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYygwKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmJpZ251bWJlcig1MDApKSAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmZyYWN0aW9uKDQpKSAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhtYXRoLmNvbXBsZXgoJzItNGknKSAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5pc051bWVyaWMoWzIuMywgJ2ZvbycsIGZhbHNlXSkgICAvLyByZXR1cm5zIFt0cnVlLCBmYWxzZSwgdHJ1ZV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGlzWmVybywgaXNQb3NpdGl2ZSwgaXNOZWdhdGl2ZSwgaXNJbnRlZ2VyLCBoYXNOdW1lcmljVmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHsqfSB4ICAgICAgIFZhbHVlIHRvIGJlIHRlc3RlZFxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgUmV0dXJucyB0cnVlIHdoZW4gYHhgIGlzIGEgYG51bWJlcmAsIGBCaWdOdW1iZXJgLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYEZyYWN0aW9uYCwgb3IgYGJvb2xlYW5gLiBSZXR1cm5zIGZhbHNlIGZvciBvdGhlciB0eXBlcy5cbiAgICogICAgICAgICAgICAgICAgICAgIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIG9mIHVua25vd24gdHlwZXMuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4nOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJGcmFjdGlvbkJvb2xlYW4oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgICdDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfCBOb2RlJzogZnVuY3Rpb24gQ29tcGxleFVuaXRTdHJpbmdOdWxsVW5kZWZpbmVkTm9kZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvKipcbiAqIENvbXBhcmVzIHR3byBCaWdOdW1iZXJzLlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHggICAgICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHkgICAgICAgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzaWxvbl0gIFRoZSBtYXhpbXVtIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBlcHNpbG9uIGlzIHVuZGVmaW5lZCBvciBudWxsLCB0aGUgZnVuY3Rpb24gd2lsbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWwuXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSB0d28gbnVtYmVycyBhcmUgbmVhcmx5IGVxdWFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWFybHlFcXVhbCh4LCB5LCBlcHNpbG9uKSB7XG4gIC8vIGlmIGVwc2lsb24gaXMgbnVsbCBvciB1bmRlZmluZWQsIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsXG4gIGlmIChlcHNpbG9uID09PSBudWxsIHx8IGVwc2lsb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB4LmVxKHkpO1xuICB9IC8vIHVzZSBcIj09XCIgb3BlcmF0b3IsIGhhbmRsZXMgaW5maW5pdGllc1xuXG5cbiAgaWYgKHguZXEoeSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOYU5cblxuXG4gIGlmICh4LmlzTmFOKCkgfHwgeS5pc05hTigpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGF0IHRoaXMgcG9pbnQgeCBhbmQgeSBzaG91bGQgYmUgZmluaXRlXG5cblxuICBpZiAoeC5pc0Zpbml0ZSgpICYmIHkuaXNGaW5pdGUoKSkge1xuICAgIC8vIGNoZWNrIG51bWJlcnMgYXJlIHZlcnkgY2xvc2UsIG5lZWRlZCB3aGVuIGNvbXBhcmluZyBudW1iZXJzIG5lYXIgemVyb1xuICAgIHZhciBkaWZmID0geC5taW51cyh5KS5hYnMoKTtcblxuICAgIGlmIChkaWZmLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlIHJlbGF0aXZlIGVycm9yXG4gICAgICB2YXIgbWF4ID0geC5jb25zdHJ1Y3Rvci5tYXgoeC5hYnMoKSwgeS5hYnMoKSk7XG4gICAgICByZXR1cm4gZGlmZi5sdGUobWF4LnRpbWVzKGVwc2lsb24pKTtcbiAgICB9XG4gIH0gLy8gSW5maW5pdGUgYW5kIE51bWJlciBvciBuZWdhdGl2ZSBJbmZpbml0ZSBhbmQgcG9zaXRpdmUgSW5maW5pdGUgY2FzZXNcblxuXG4gIHJldHVybiBmYWxzZTtcbn0iLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjb21wbGV4RXF1YWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29tcGxleC5qcyc7XG52YXIgbmFtZSA9ICdlcXVhbFNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gc2NhbGFyIHZhbHVlcyBhcmUgbmVhcmx5IGVxdWFsLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0cnVlIHdoZW4gdGhlIGNvbXBhcmVkIHZhbHVlcyBhcmUgZXF1YWwsIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZXEoeSkgfHwgYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguZXF1YWxzKHkpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4gY29tcGxleEVxdWFscyh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxTY2FsYXJOdW1iZXIgPSBmYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdHdvIGNvbXBsZXggdmFsdWVzIGFyZSBlcXVhbCBwcm92aWRlZCBhIGdpdmVuIGVwc2lsb24uXG4gKiBEb2VzIG5vdCB1c2Ugb3IgY2hhbmdlIHRoZSBnbG9iYWwgQ29tcGxleC5FUFNJTE9OIHNldHRpbmdcbiAqIEBwYXJhbSB7Q29tcGxleH0geFxuICogQHBhcmFtIHtDb21wbGV4fSB5XG4gKiBAcGFyYW0ge251bWJlcn0gZXBzaWxvblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXhFcXVhbHMoeCwgeSwgZXBzaWxvbikge1xuICByZXR1cm4gbmVhcmx5RXF1YWwoeC5yZSwgeS5yZSwgZXBzaWxvbikgJiYgbmVhcmx5RXF1YWwoeC5pbSwgeS5pbSwgZXBzaWxvbik7XG59IiwiaW1wb3J0IHsgaXNBcnJheSwgaXNCaWdOdW1iZXIsIGlzQ29sbGVjdGlvbiwgaXNJbmRleCwgaXNNYXRyaXgsIGlzTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgZGVlcFN0cmljdEVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSwgZ2V0QXJyYXlEYXRhVHlwZSwgdW5zcXVlZXplLCB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdTcGFyc2VNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInLCAnTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBTcGFyc2UgTWF0cml4IGltcGxlbWVudGF0aW9uLiBUaGlzIHR5cGUgaW1wbGVtZW50cyBhIENvbXByZXNzZWQgQ29sdW1uIFN0b3JhZ2UgZm9ybWF0XG4gICAqIGZvciBzcGFyc2UgbWF0cmljZXMuXG4gICAqIEBjbGFzcyBTcGFyc2VNYXRyaXhcbiAgICovXG4gIGZ1bmN0aW9uIFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGFyc2VNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmIChkYXRhdHlwZSAmJiAhaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0YXR5cGU6ICcgKyBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTWF0cml4KGRhdGEpKSB7XG4gICAgICAvLyBjcmVhdGUgZnJvbSBtYXRyaXhcbiAgICAgIF9jcmVhdGVGcm9tTWF0cml4KHRoaXMsIGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgJiYgaXNBcnJheShkYXRhLmluZGV4KSAmJiBpc0FycmF5KGRhdGEucHRyKSAmJiBpc0FycmF5KGRhdGEuc2l6ZSkpIHtcbiAgICAgIC8vIGluaXRpYWxpemUgZmllbGRzXG4gICAgICB0aGlzLl92YWx1ZXMgPSBkYXRhLnZhbHVlcztcbiAgICAgIHRoaXMuX2luZGV4ID0gZGF0YS5pbmRleDtcbiAgICAgIHRoaXMuX3B0ciA9IGRhdGEucHRyO1xuICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5kYXRhdHlwZTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIGNyZWF0ZSBmcm9tIGFycmF5XG4gICAgICBfY3JlYXRlRnJvbUFycmF5KHRoaXMsIGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgIC8vIHVuc3VwcG9ydGVkIHR5cGVcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgZGF0YSAoJyArIHR5cGVPZihkYXRhKSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vdGhpbmcgcHJvdmlkZWRcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgICAgdGhpcy5faW5kZXggPSBbXTtcbiAgICAgIHRoaXMuX3B0ciA9IFswXTtcbiAgICAgIHRoaXMuX3NpemUgPSBbMCwgMF07XG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGcm9tTWF0cml4KG1hdHJpeCwgc291cmNlLCBkYXRhdHlwZSkge1xuICAgIC8vIGNoZWNrIG1hdHJpeCB0eXBlXG4gICAgaWYgKHNvdXJjZS50eXBlID09PSAnU3BhcnNlTWF0cml4Jykge1xuICAgICAgLy8gY2xvbmUgYXJyYXlzXG4gICAgICBtYXRyaXguX3ZhbHVlcyA9IHNvdXJjZS5fdmFsdWVzID8gY2xvbmUoc291cmNlLl92YWx1ZXMpIDogdW5kZWZpbmVkO1xuICAgICAgbWF0cml4Ll9pbmRleCA9IGNsb25lKHNvdXJjZS5faW5kZXgpO1xuICAgICAgbWF0cml4Ll9wdHIgPSBjbG9uZShzb3VyY2UuX3B0cik7XG4gICAgICBtYXRyaXguX3NpemUgPSBjbG9uZShzb3VyY2UuX3NpemUpO1xuICAgICAgbWF0cml4Ll9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IHNvdXJjZS5fZGF0YXR5cGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGJ1aWxkIGZyb20gbWF0cml4IGRhdGFcbiAgICAgIF9jcmVhdGVGcm9tQXJyYXkobWF0cml4LCBzb3VyY2UudmFsdWVPZigpLCBkYXRhdHlwZSB8fCBzb3VyY2UuX2RhdGF0eXBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRnJvbUFycmF5KG1hdHJpeCwgZGF0YSwgZGF0YXR5cGUpIHtcbiAgICAvLyBpbml0aWFsaXplIGZpZWxkc1xuICAgIG1hdHJpeC5fdmFsdWVzID0gW107XG4gICAgbWF0cml4Ll9pbmRleCA9IFtdO1xuICAgIG1hdHJpeC5fcHRyID0gW107XG4gICAgbWF0cml4Ll9kYXRhdHlwZSA9IGRhdGF0eXBlOyAvLyBkaXNjb3ZlciByb3dzICYgY29sdW1ucywgZG8gbm90IHVzZSBtYXRoLnNpemUoKSB0byBhdm9pZCBsb29waW5nIGFycmF5IHR3aWNlXG5cbiAgICB2YXIgcm93cyA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBjb2x1bW5zID0gMDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZGF0YXR5cGUsIGRhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkYXRhdHlwZSk7XG4gICAgfSAvLyBjaGVjayB3ZSBoYXZlIHJvd3MgKGVtcHR5IGFycmF5KVxuXG5cbiAgICBpZiAocm93cyA+IDApIHtcbiAgICAgIC8vIGNvbHVtbiBpbmRleFxuICAgICAgdmFyIGogPSAwO1xuXG4gICAgICBkbyB7XG4gICAgICAgIC8vIHN0b3JlIHBvaW50ZXIgdG8gdmFsdWVzIGluZGV4XG4gICAgICAgIG1hdHJpeC5fcHRyLnB1c2gobWF0cml4Ll9pbmRleC5sZW5ndGgpOyAvLyBsb29wIHJvd3NcblxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgICAgICB2YXIgcm93ID0gZGF0YVtpXTsgLy8gY2hlY2sgcm93IGlzIGFuIGFycmF5XG5cbiAgICAgICAgICBpZiAoaXNBcnJheShyb3cpKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBpZiBuZWVkZWQgKG9ubHkgb24gZmlyc3QgY29sdW1uKVxuICAgICAgICAgICAgaWYgKGogPT09IDAgJiYgY29sdW1ucyA8IHJvdy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY29sdW1ucyA9IHJvdy5sZW5ndGg7XG4gICAgICAgICAgICB9IC8vIGNoZWNrIHJvdyBoYXMgY29sdW1uXG5cblxuICAgICAgICAgICAgaWYgKGogPCByb3cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIHZhbHVlXG4gICAgICAgICAgICAgIHZhciB2ID0gcm93W2pdOyAvLyBjaGVjayB2YWx1ZSAhPSAwXG5cbiAgICAgICAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgICAgICAgICAgbWF0cml4Ll92YWx1ZXMucHVzaCh2KTsgLy8gaW5kZXhcblxuXG4gICAgICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5wdXNoKGkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb2x1bW5zIGlmIG5lZWRlZCAob25seSBvbiBmaXJzdCBjb2x1bW4pXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBjb2x1bW5zIDwgMSkge1xuICAgICAgICAgICAgICBjb2x1bW5zID0gMTtcbiAgICAgICAgICAgIH0gLy8gY2hlY2sgdmFsdWUgIT0gMCAocm93IGlzIGEgc2NhbGFyKVxuXG5cbiAgICAgICAgICAgIGlmICghZXEocm93LCB6ZXJvKSkge1xuICAgICAgICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHJvdyk7IC8vIGluZGV4XG5cblxuICAgICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGluY3JlbWVudCBpbmRleFxuXG5cbiAgICAgICAgaisrO1xuICAgICAgfSB3aGlsZSAoaiA8IGNvbHVtbnMpO1xuICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIHZhbHVlcyBpbiBwdHJcblxuXG4gICAgbWF0cml4Ll9wdHIucHVzaChtYXRyaXguX2luZGV4Lmxlbmd0aCk7IC8vIHNpemVcblxuXG4gICAgbWF0cml4Ll9zaXplID0gW3Jvd3MsIGNvbHVtbnNdO1xuICB9XG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZSA9IG5ldyBNYXRyaXgoKTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTcGFyc2VNYXRyaXhcbiAgICovXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGVTcGFyc2VNYXRyaXggPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdTcGFyc2VNYXRyaXgnO1xuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmlzU3BhcnNlTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgIGNvbnN0IG1hdHJpeFR5cGUgPSBtYXRyaXguZ2V0RGF0YVR5cGUoKSAgLy8gcmV0cmlldmVzIHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyT2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICB0eXBlIGluZm9ybWF0aW9uOyBpZiBtdWx0aXBsZSB0eXBlcyBhcmUgZm91bmQgZnJvbSB0aGUgTWF0cml4LCBpdCB3aWxsIHJldHVybiBcIm1peGVkXCJcbiAgICovXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5nZXREYXRhVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0QXJyYXlEYXRhVHlwZSh0aGlzLl92YWx1ZXMsIHR5cGVPZik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JhZ2UgZm9ybWF0IHVzZWQgYnkgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguc3RvcmFnZSgpICAgLy8gcmV0cmlldmUgc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnc3BhcnNlJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgVGhlIGRhdGF0eXBlLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGF0YXR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGF0eXBlO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFNwYXJzZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV1cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IGRlbnNpdHkuXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZGVuc2l0eSA9IG1hdHJpeC5kZW5zaXR5KCkgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgbWF0cml4IGRlbnNpdHlcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICBUaGUgbWF0cml4IGRlbnNpdHkuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kZW5zaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gY2FsY3VsYXRlIGRlbnNpdHlcblxuICAgIHJldHVybiByb3dzICE9PSAwICYmIGNvbHVtbnMgIT09IDAgPyB0aGlzLl9pbmRleC5sZW5ndGggLyAocm93cyAqIGNvbHVtbnMpIDogMDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgKn0gW3JlcGxhY2VtZW50XVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWU9MF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGZpbGxlZCB3aXRoIHplcm9zLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3Vic2V0ID0gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3Vic2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gY2hlY2sgYXJndW1lbnRzXG5cblxuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2dldHN1YnNldCh0aGlzLCBpbmRleCk7XG4gICAgICAvLyBpbnRlbnRpb25hbCBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gX3NldHN1YnNldCh0aGlzLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBfZ2V0c3Vic2V0KG1hdHJpeCwgaWR4KSB7XG4gICAgLy8gY2hlY2sgaWR4XG4gICAgaWYgKCFpc0luZGV4KGlkeCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTY2FsYXIgPSBpZHguaXNTY2FsYXIoKTtcblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gcmV0dXJuIGEgc2NhbGFyXG4gICAgICByZXR1cm4gbWF0cml4LmdldChpZHgubWluKCkpO1xuICAgIH0gLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgc2l6ZSA9IGlkeC5zaXplKCk7XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IG1hdHJpeC5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciBpLCBpaSwgaywga2s7IC8vIHZhbGlkYXRlIGlmIGFueSBvZiB0aGUgcmFuZ2VzIGluIHRoZSBpbmRleCBpcyBvdXQgb2YgcmFuZ2VcblxuICAgIHZhciBtaW4gPSBpZHgubWluKCk7XG4gICAgdmFyIG1heCA9IGlkeC5tYXgoKTtcblxuICAgIGZvciAoaSA9IDAsIGlpID0gbWF0cml4Ll9zaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhbGlkYXRlSW5kZXgobWluW2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgdmFsaWRhdGVJbmRleChtYXhbaV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgfSAvLyBtYXRyaXggYXJyYXlzXG5cblxuICAgIHZhciBtdmFsdWVzID0gbWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIG1pbmRleCA9IG1hdHJpeC5faW5kZXg7XG4gICAgdmFyIG1wdHIgPSBtYXRyaXguX3B0cjsgLy8gcm93cyAmIGNvbHVtbnMgZGltZW5zaW9ucyBmb3IgcmVzdWx0IG1hdHJpeFxuXG4gICAgdmFyIHJvd3MgPSBpZHguZGltZW5zaW9uKDApO1xuICAgIHZhciBjb2x1bW5zID0gaWR4LmRpbWVuc2lvbigxKTsgLy8gd29ya3NwYWNlICYgcGVybXV0YXRpb24gdmVjdG9yXG5cbiAgICB2YXIgdyA9IFtdO1xuICAgIHZhciBwdiA9IFtdOyAvLyBsb29wIHJvd3MgaW4gcmVzdWx0aW5nIG1hdHJpeFxuXG4gICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChpLCByKSB7XG4gICAgICAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yXG4gICAgICBwdltpXSA9IHJbMF07IC8vIG1hcmsgaSBpbiB3b3Jrc3BhY2VcblxuICAgICAgd1tpXSA9IHRydWU7XG4gICAgfSk7IC8vIHJlc3VsdCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdmFsdWVzID0gbXZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIHJlc3VsdCBtYXRyaXhcblxuICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgcHRyLnB1c2goaW5kZXgubGVuZ3RoKTsgLy8gbG9vcCB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yIChrID0gbXB0cltqXSwga2sgPSBtcHRyW2ogKyAxXTsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBtaW5kZXhba107IC8vIGNoZWNrIHJvdyBpcyBpbiByZXN1bHQgbWF0cml4XG5cbiAgICAgICAgaWYgKHdbaV0gPT09IHRydWUpIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4XG4gICAgICAgICAgaW5kZXgucHVzaChwdltpXSk7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG12YWx1ZXNba10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pOyAvLyB1cGRhdGUgcHRyXG5cbiAgICBwdHIucHVzaChpbmRleC5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiBtYXRyaXguX2RhdGF0eXBlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0c3Vic2V0KG1hdHJpeCwgaW5kZXgsIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICB9IC8vIGdldCBpbmRleCBzaXplIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBpbmRleCBjb250YWlucyBhIHNpbmdsZSB2YWx1ZVxuXG5cbiAgICB2YXIgaVNpemUgPSBpbmRleC5zaXplKCk7XG4gICAgdmFyIGlzU2NhbGFyID0gaW5kZXguaXNTY2FsYXIoKTsgLy8gY2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXgsIGFuZCBjb252ZXJ0IGl0IGludG8gYW4gQXJyYXkgaWYgbmVlZGVkXG5cbiAgICB2YXIgc1NpemU7XG5cbiAgICBpZiAoaXNNYXRyaXgoc3VibWF0cml4KSkge1xuICAgICAgLy8gc3VibWF0cml4IHNpemVcbiAgICAgIHNTaXplID0gc3VibWF0cml4LnNpemUoKTsgLy8gdXNlIGFycmF5IHJlcHJlc2VudGF0aW9uXG5cbiAgICAgIHN1Ym1hdHJpeCA9IHN1Ym1hdHJpeC50b0FycmF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCBzdWJtYXRyaXggc2l6ZSAoYXJyYXksIHNjYWxhcilcbiAgICAgIHNTaXplID0gYXJyYXlTaXplKHN1Ym1hdHJpeCk7XG4gICAgfSAvLyBjaGVjayBpbmRleCBpcyBhIHNjYWxhclxuXG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHZlcmlmeSBzdWJtYXRyaXggaXMgYSBzY2FsYXJcbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2NhbGFyIGV4cGVjdGVkJyk7XG4gICAgICB9IC8vIHNldCB2YWx1ZVxuXG5cbiAgICAgIG1hdHJpeC5zZXQoaW5kZXgubWluKCksIHN1Ym1hdHJpeCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdmFsaWRhdGUgZGltZW5zaW9ucywgaW5kZXggc2l6ZSBtdXN0IGJlIG9uZSBvciB0d28gZGltZW5zaW9uc1xuICAgICAgaWYgKGlTaXplLmxlbmd0aCAhPT0gMSAmJiBpU2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCwgJzwnKTtcbiAgICAgIH0gLy8gY2hlY2sgc3VibWF0cml4IGFuZCBpbmRleCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoc1NpemUubGVuZ3RoIDwgaVNpemUubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgbWlzc2luZyBvdXRlciBkaW1lbnNpb25zXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIG91dGVyID0gMDtcblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEgJiYgc1NpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaVNpemVbaV0gPT09IDEpIHtcbiAgICAgICAgICBvdXRlcisrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSAvLyB1bnNxdWVlemUgYm90aCBvdXRlciBhbmQgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgICAgICAgc3VibWF0cml4ID0gdW5zcXVlZXplKHN1Ym1hdHJpeCwgaVNpemUubGVuZ3RoLCBvdXRlciwgc1NpemUpO1xuICAgICAgfSAvLyBjaGVjayB3aGV0aGVyIHRoZSBzaXplIG9mIHRoZSBzdWJtYXRyaXggbWF0Y2hlcyB0aGUgaW5kZXggc2l6ZVxuXG5cbiAgICAgIGlmICghZGVlcFN0cmljdEVxdWFsKGlTaXplLCBzU2l6ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGlTaXplLCBzU2l6ZSwgJz4nKTtcbiAgICAgIH0gLy8gb2Zmc2V0c1xuXG5cbiAgICAgIHZhciB4MCA9IGluZGV4Lm1pbigpWzBdO1xuICAgICAgdmFyIHkwID0gaW5kZXgubWluKClbMV07IC8vIHN1Ym1hdHJpeCByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICAgIHZhciBtID0gc1NpemVbMF07XG4gICAgICB2YXIgbiA9IHNTaXplWzFdOyAvLyBsb29wIHN1Ym1hdHJpeFxuXG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG07IHgrKykge1xuICAgICAgICAvLyBsb29wIGNvbHVtbnNcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBuOyB5KyspIHtcbiAgICAgICAgICAvLyB2YWx1ZSBhdCBpLCBqXG4gICAgICAgICAgdmFyIHYgPSBzdWJtYXRyaXhbeF1beV07IC8vIGludm9rZSBzZXQgKHplcm8gdmFsdWUgd2lsbCByZW1vdmUgZW50cnkgZnJvbSBtYXRyaXgpXG5cbiAgICAgICAgICBtYXRyaXguc2V0KFt4ICsgeDAsIHkgKyB5MF0sIHYsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEByZXR1cm4geyp9IHZhbHVlXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgZ2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gcm93IGFuZCBjb2x1bW5cblxuXG4gICAgdmFyIGkgPSBpbmRleFswXTtcbiAgICB2YXIgaiA9IGluZGV4WzFdOyAvLyBjaGVjayBpLCBqIGFyZSB2YWxpZFxuXG4gICAgdmFsaWRhdGVJbmRleChpLCB0aGlzLl9zaXplWzBdKTtcbiAgICB2YWxpZGF0ZUluZGV4KGosIHRoaXMuX3NpemVbMV0pOyAvLyBmaW5kIHZhbHVlIGluZGV4XG5cbiAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KGksIHRoaXMuX3B0cltqXSwgdGhpcy5fcHRyW2ogKyAxXSwgdGhpcy5faW5kZXgpOyAvLyBjaGVjayBrIGlzIHByaW9yIHRvIG5leHQgY29sdW1uIGsgYW5kIGl0IGlzIGluIHRoZSBjb3JyZWN0IHJvd1xuXG5cbiAgICBpZiAoayA8IHRoaXMuX3B0cltqICsgMV0gJiYgdGhpcy5faW5kZXhba10gPT09IGkpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNba107XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgc2luZ2xlIGVsZW1lbnQgaW4gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2XG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgc2V0IHRvIHplcm8uXG4gICAqIEByZXR1cm4ge1NwYXJzZU1hdHJpeH0gc2VsZlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc2V0IG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gcm93IGFuZCBjb2x1bW5cblxuXG4gICAgdmFyIGkgPSBpbmRleFswXTtcbiAgICB2YXIgaiA9IGluZGV4WzFdOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyh0aGlzLl9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbdGhpcy5fZGF0YXR5cGUsIHRoaXMuX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCB0aGlzLl9kYXRhdHlwZSk7XG4gICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHJlc2l6ZSBtYXRyaXhcblxuXG4gICAgaWYgKGkgPiByb3dzIC0gMSB8fCBqID4gY29sdW1ucyAtIDEpIHtcbiAgICAgIC8vIHJlc2l6ZSBtYXRyaXhcbiAgICAgIF9yZXNpemUodGhpcywgTWF0aC5tYXgoaSArIDEsIHJvd3MpLCBNYXRoLm1heChqICsgMSwgY29sdW1ucyksIGRlZmF1bHRWYWx1ZSk7IC8vIHVwZGF0ZSByb3dzICYgY29sdW1uc1xuXG5cbiAgICAgIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgICAgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07XG4gICAgfSAvLyBjaGVjayBpLCBqIGFyZSB2YWxpZFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHJvd3MpO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgY29sdW1ucyk7IC8vIGZpbmQgdmFsdWUgaW5kZXhcblxuICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoaSwgdGhpcy5fcHRyW2pdLCB0aGlzLl9wdHJbaiArIDFdLCB0aGlzLl9pbmRleCk7IC8vIGNoZWNrIGsgaXMgcHJpb3IgdG8gbmV4dCBjb2x1bW4gayBhbmQgaXQgaXMgaW4gdGhlIGNvcnJlY3Qgcm93XG5cblxuICAgIGlmIChrIDwgdGhpcy5fcHRyW2ogKyAxXSAmJiB0aGlzLl9pbmRleFtrXSA9PT0gaSkge1xuICAgICAgLy8gY2hlY2sgdmFsdWUgIT0gMFxuICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgdGhpcy5fdmFsdWVzW2tdID0gdjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlbW92ZSB2YWx1ZSBmcm9tIG1hdHJpeFxuICAgICAgICBfcmVtb3ZlKGssIGosIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluc2VydCB2YWx1ZSBAIChpLCBqKVxuICAgICAgX2luc2VydChrLCBpLCBqLCB2LCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9nZXRWYWx1ZUluZGV4KGksIHRvcCwgYm90dG9tLCBpbmRleCkge1xuICAgIC8vIGNoZWNrIHJvdyBpcyBvbiB0aGUgYm90dG9tIHNpZGVcbiAgICBpZiAoYm90dG9tIC0gdG9wID09PSAwKSB7XG4gICAgICByZXR1cm4gYm90dG9tO1xuICAgIH0gLy8gbG9vcCByb3dzIFt0b3AsIGJvdHRvbVtcblxuXG4gICAgZm9yICh2YXIgciA9IHRvcDsgciA8IGJvdHRvbTsgcisrKSB7XG4gICAgICAvLyBjaGVjayB3ZSBmb3VuZCB2YWx1ZSBpbmRleFxuICAgICAgaWYgKGluZGV4W3JdID09PSBpKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH0gLy8gd2UgZGlkIG5vdCBmaW5kIHJvd1xuXG5cbiAgICByZXR1cm4gdG9wO1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlbW92ZShrLCBqLCB2YWx1ZXMsIGluZGV4LCBwdHIpIHtcbiAgICAvLyByZW1vdmUgdmFsdWUgQCBrXG4gICAgdmFsdWVzLnNwbGljZShrLCAxKTtcbiAgICBpbmRleC5zcGxpY2UoaywgMSk7IC8vIHVwZGF0ZSBwb2ludGVyc1xuXG4gICAgZm9yICh2YXIgeCA9IGogKyAxOyB4IDwgcHRyLmxlbmd0aDsgeCsrKSB7XG4gICAgICBwdHJbeF0tLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW5zZXJ0KGssIGksIGosIHYsIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIGluc2VydCB2YWx1ZVxuICAgIHZhbHVlcy5zcGxpY2UoaywgMCwgdik7IC8vIHVwZGF0ZSByb3cgZm9yIGtcblxuICAgIGluZGV4LnNwbGljZShrLCAwLCBpKTsgLy8gdXBkYXRlIGNvbHVtbiBwb2ludGVyc1xuXG4gICAgZm9yICh2YXIgeCA9IGogKyAxOyB4IDwgcHRyLmxlbmd0aDsgeCsrKSB7XG4gICAgICBwdHJbeF0rKztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXSB8IE1hdHJpeH0gc2l6ZSAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnRzIHdpbGxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2l6ZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNpemVkIG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNDb2xsZWN0aW9uKHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBvciBNYXRyaXggZXhwZWN0ZWQnKTtcbiAgICB9IC8vIFNwYXJzZU1hdHJpeCBpbnB1dCBpcyBhbHdheXMgMmQsIGZsYXR0ZW4gdGhpcyBpbnRvIDFkIGlmIGl0J3MgaW5kZWVkIGEgdmVjdG9yXG5cblxuICAgIHZhciBzaXplQXJyYXkgPSBzaXplLnZhbHVlT2YoKS5tYXAodmFsdWUgPT4ge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgfSk7XG5cbiAgICBpZiAoc2l6ZUFycmF5Lmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25zIG1hdHJpeCBhcmUgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyBjaGVjayBzaXplc1xuXG5cbiAgICBzaXplQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHNpemUsIG11c3QgY29udGFpbiBwb3NpdGl2ZSBpbnRlZ2VycyAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemVBcnJheSkgKyAnKScpO1xuICAgICAgfVxuICAgIH0pOyAvLyBtYXRyaXggdG8gcmVzaXplXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXNpemUgbWF0cml4XG5cbiAgICByZXR1cm4gX3Jlc2l6ZShtLCBzaXplQXJyYXlbMF0sIHNpemVBcnJheVsxXSwgZGVmYXVsdFZhbHVlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfcmVzaXplKG1hdHJpeCwgcm93cywgY29sdW1ucywgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gdmFsdWUgdG8gaW5zZXJ0IGF0IHRoZSB0aW1lIG9mIGdyb3dpbmcgbWF0cml4XG4gICAgdmFyIHZhbHVlID0gZGVmYXVsdFZhbHVlIHx8IDA7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcobWF0cml4Ll9kYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbbWF0cml4Ll9kYXRhdHlwZSwgbWF0cml4Ll9kYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgbWF0cml4Ll9kYXRhdHlwZSk7IC8vIGNvbnZlcnQgdmFsdWUgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgdmFsdWUgPSB0eXBlZC5jb252ZXJ0KHZhbHVlLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9IC8vIHNob3VsZCB3ZSBpbnNlcnQgdGhlIHZhbHVlP1xuXG5cbiAgICB2YXIgaW5zID0gIWVxKHZhbHVlLCB6ZXJvKTsgLy8gb2xkIGNvbHVtbnMgYW5kIHJvd3NcblxuICAgIHZhciByID0gbWF0cml4Ll9zaXplWzBdO1xuICAgIHZhciBjID0gbWF0cml4Ll9zaXplWzFdO1xuICAgIHZhciBpLCBqLCBrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluY3JlYXNlIGNvbHVtbnNcblxuICAgIGlmIChjb2x1bW5zID4gYykge1xuICAgICAgLy8gbG9vcCBuZXcgY29sdW1uc1xuICAgICAgZm9yIChqID0gYzsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluc2VydCBtYXRyaXguX3ZhbHVlc1xuXG4gICAgICAgIGlmIChpbnMpIHtcbiAgICAgICAgICAvLyBsb29wIHJvd3NcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBhZGQgbmV3IG1hdHJpeC5fdmFsdWVzXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHZhbHVlKTsgLy8gdXBkYXRlIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIHN0b3JlIG51bWJlciBvZiBtYXRyaXguX3ZhbHVlcyBpbiBtYXRyaXguX3B0clxuXG5cbiAgICAgIG1hdHJpeC5fcHRyW2NvbHVtbnNdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoY29sdW1ucyA8IGMpIHtcbiAgICAgIC8vIHRydW5jYXRlIG1hdHJpeC5fcHRyXG4gICAgICBtYXRyaXguX3B0ci5zcGxpY2UoY29sdW1ucyArIDEsIGMgLSBjb2x1bW5zKTsgLy8gdHJ1bmNhdGUgbWF0cml4Ll92YWx1ZXMgYW5kIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UobWF0cml4Ll9wdHJbY29sdW1uc10sIG1hdHJpeC5fdmFsdWVzLmxlbmd0aCk7XG5cbiAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKG1hdHJpeC5fcHRyW2NvbHVtbnNdLCBtYXRyaXguX2luZGV4Lmxlbmd0aCk7XG4gICAgfSAvLyB1cGRhdGUgY29sdW1uc1xuXG5cbiAgICBjID0gY29sdW1uczsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbmNyZWFzZSByb3dzXG5cbiAgICBpZiAocm93cyA+IHIpIHtcbiAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdG8gaW5zZXJ0IHZhbHVlc1xuICAgICAgaWYgKGlucykge1xuICAgICAgICAvLyBpbnNlcnRzXG4gICAgICAgIHZhciBuID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGM7IGorKykge1xuICAgICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fcHRyW2pdICsgbjsgLy8gd2hlcmUgdG8gaW5zZXJ0IG1hdHJpeC5fdmFsdWVzXG5cbiAgICAgICAgICBrID0gbWF0cml4Ll9wdHJbaiArIDFdICsgbjsgLy8gcG9pbnRlclxuXG4gICAgICAgICAgdmFyIHAgPSAwOyAvLyBsb29wIG5ldyByb3dzLCBpbml0aWFsaXplIHBvaW50ZXJcblxuICAgICAgICAgIGZvciAoaSA9IHI7IGkgPCByb3dzOyBpKyssIHArKykge1xuICAgICAgICAgICAgLy8gYWRkIHZhbHVlXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UoayArIHAsIDAsIHZhbHVlKTsgLy8gdXBkYXRlIG1hdHJpeC5faW5kZXhcblxuXG4gICAgICAgICAgICBtYXRyaXguX2luZGV4LnNwbGljZShrICsgcCwgMCwgaSk7IC8vIGluY3JlbWVudCBpbnNlcnRzXG5cblxuICAgICAgICAgICAgbisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgbWF0cml4Ll92YWx1ZXMgaW4gbWF0cml4Ll9wdHJcblxuXG4gICAgICAgIG1hdHJpeC5fcHRyW2NdID0gbWF0cml4Ll92YWx1ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocm93cyA8IHIpIHtcbiAgICAgIC8vIGRlbGV0ZXNcbiAgICAgIHZhciBkID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBjOyBqKyspIHtcbiAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fcHRyW2pdIC0gZDsgLy8gd2hlcmUgbWF0cml4Ll92YWx1ZXMgc3RhcnQgZm9yIG5leHQgY29sdW1uXG5cbiAgICAgICAgdmFyIGswID0gbWF0cml4Ll9wdHJbal07XG4gICAgICAgIHZhciBrMSA9IG1hdHJpeC5fcHRyW2ogKyAxXSAtIGQ7IC8vIGxvb3AgbWF0cml4Ll9pbmRleFxuXG4gICAgICAgIGZvciAoayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBtYXRyaXguX2luZGV4W2tdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGRlbGV0ZSB2YWx1ZSBhbmQgbWF0cml4Ll9pbmRleFxuXG4gICAgICAgICAgaWYgKGkgPiByb3dzIC0gMSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHZhbHVlXG4gICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5zcGxpY2UoaywgMSk7IC8vIHJlbW92ZSBpdGVtIGZyb20gbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKGssIDEpOyAvLyBpbmNyZWFzZSBkZWxldGVzXG5cblxuICAgICAgICAgICAgZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG5cblxuICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgfSAvLyB1cGRhdGUgbWF0cml4Ll9zaXplXG5cblxuICAgIG1hdHJpeC5fc2l6ZVswXSA9IHJvd3M7XG4gICAgbWF0cml4Ll9zaXplWzFdID0gY29sdW1uczsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVzaGFwZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2hhcGUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1pZ2h0IGJlIGJldHRlciBzdWl0ZWQgdG8gY29weSBieSBkZWZhdWx0LCBpbnN0ZWFkIG9mIG1vZGlmeWluZ1xuICAgKiAgICAgICBpbiBwbGFjZS4gRm9yIG5vdywgaXQgb3BlcmF0ZXMgaW4gcGxhY2UgdG8gcmVtYWluIGNvbnNpc3RlbnQgd2l0aFxuICAgKiAgICAgICByZXNpemUoKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaGFwZWQgY29weSBvZiB0aGUgbWF0cml4XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgIFRoZSByZXNoYXBlZCBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgY29weSkge1xuICAgIC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3BhcnNlIG1hdHJpY2VzIGNhbiBvbmx5IGJlIHJlc2hhcGVkIGluIHR3byBkaW1lbnNpb25zJyk7XG4gICAgfSAvLyBjaGVjayBzaXplc1xuXG5cbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzaXplLCBtdXN0IGNvbnRhaW4gcG9zaXRpdmUgaW50ZWdlcnMgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIG0gKiBuIG11c3Qgbm90IGNoYW5nZVxuXG4gICAgaWYgKHRoaXMuX3NpemVbMF0gKiB0aGlzLl9zaXplWzFdICE9PSBzaXplWzBdICogc2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNoYXBpbmcgc3BhcnNlIG1hdHJpeCB3aWxsIHJlc3VsdCBpbiB0aGUgd3JvbmcgbnVtYmVyIG9mIGVsZW1lbnRzJyk7XG4gICAgfSAvLyBtYXRyaXggdG8gcmVzaGFwZVxuXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXR1cm4gdW5jaGFuZ2VkIGlmIHRoZSBzYW1lIHNoYXBlXG5cbiAgICBpZiAodGhpcy5fc2l6ZVswXSA9PT0gc2l6ZVswXSAmJiB0aGlzLl9zaXplWzFdID09PSBzaXplWzFdKSB7XG4gICAgICByZXR1cm4gbTtcbiAgICB9IC8vIENvbnZlcnQgdG8gQ09PIGZvcm1hdCAoZ2VuZXJhdGUgYSBjb2x1bW4gaW5kZXgpXG5cblxuICAgIHZhciBjb2xJbmRleCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLl9wdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbS5fcHRyW2kgKyAxXSAtIG0uX3B0cltpXTsgaisrKSB7XG4gICAgICAgIGNvbEluZGV4LnB1c2goaSk7XG4gICAgICB9XG4gICAgfSAvLyBDbG9uZSB0aGUgdmFsdWVzIGFycmF5XG5cblxuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXMuc2xpY2UoKTsgLy8gQ2xvbmUgdGhlIHJvdyBpbmRleCBhcnJheVxuXG5cbiAgICB2YXIgcm93SW5kZXggPSBtLl9pbmRleC5zbGljZSgpOyAvLyBUcmFuc2Zvcm0gdGhlIChyb3csIGNvbHVtbikgaW5kaWNlc1xuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbS5faW5kZXgubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgcjEgPSByb3dJbmRleFtfaV07XG4gICAgICB2YXIgYzEgPSBjb2xJbmRleFtfaV07XG4gICAgICB2YXIgZmxhdCA9IHIxICogbS5fc2l6ZVsxXSArIGMxO1xuICAgICAgY29sSW5kZXhbX2ldID0gZmxhdCAlIHNpemVbMV07XG4gICAgICByb3dJbmRleFtfaV0gPSBNYXRoLmZsb29yKGZsYXQgLyBzaXplWzFdKTtcbiAgICB9IC8vIE5vdyByZXNoYXBpbmcgaXMgc3VwcG9zZWQgdG8gcHJlc2VydmUgdGhlIHJvdy1tYWpvciBvcmRlciwgQlVUIHRoZXNlIHNwYXJzZSBtYXRyaWNlcyBhcmUgc3RvcmVkXG4gICAgLy8gaW4gY29sdW1uLW1ham9yIG9yZGVyLCBzbyB3ZSBoYXZlIHRvIHJlb3JkZXIgdGhlIHZhbHVlIGFycmF5IG5vdy4gT25lIG9wdGlvbiBpcyB0byB1c2UgYSBtdWx0aXNvcnQsXG4gICAgLy8gc29ydGluZyBzZXZlcmFsIGFycmF5cyBiYXNlZCBvbiBzb21lIG90aGVyIGFycmF5LlxuICAgIC8vIE9SLCB3ZSBjb3VsZCBlYXNpbHkganVzdDpcbiAgICAvLyAxLiBSZW1vdmUgYWxsIHZhbHVlcyBmcm9tIHRoZSBtYXRyaXhcblxuXG4gICAgbS5fdmFsdWVzLmxlbmd0aCA9IDA7XG4gICAgbS5faW5kZXgubGVuZ3RoID0gMDtcbiAgICBtLl9wdHIubGVuZ3RoID0gc2l6ZVsxXSArIDE7XG4gICAgbS5fc2l6ZSA9IHNpemUuc2xpY2UoKTtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG0uX3B0ci5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBtLl9wdHJbX2kyXSA9IDA7XG4gICAgfSAvLyAyLiBSZS1pbnNlcnQgYWxsIGVsZW1lbnRzIGluIHRoZSBwcm9wZXIgb3JkZXIgKHNpbXBsaWZpZWQgY29kZSBmcm9tIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2V0KVxuICAgIC8vIFRoaXMgc3RlcCBpcyBwcm9iYWJseSB0aGUgbW9zdCB0aW1lLWNvbnN1bWluZ1xuXG5cbiAgICBmb3IgKHZhciBoID0gMDsgaCA8IHZhbHVlcy5sZW5ndGg7IGgrKykge1xuICAgICAgdmFyIF9pMyA9IHJvd0luZGV4W2hdO1xuICAgICAgdmFyIF9qID0gY29sSW5kZXhbaF07XG4gICAgICB2YXIgdiA9IHZhbHVlc1toXTtcblxuICAgICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChfaTMsIG0uX3B0cltfal0sIG0uX3B0cltfaiArIDFdLCBtLl9pbmRleCk7XG5cbiAgICAgIF9pbnNlcnQoaywgX2kzLCBfaiwgdiwgbS5fdmFsdWVzLCBtLl9pbmRleCwgbS5fcHRyKTtcbiAgICB9IC8vIFRoZSB2YWx1ZSBpbmRpY2VzIGFyZSBpbnNlcnRlZCBvdXQgb2Ygb3JkZXIsIGJ1dCBhcHBhcmVudGx5IHRoYXQncy4uLiBzdGlsbCBPSz9cblxuXG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG0gPSBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzID8gY2xvbmUodGhpcy5fdmFsdWVzKSA6IHVuZGVmaW5lZCxcbiAgICAgIGluZGV4OiBjbG9uZSh0aGlzLl9pbmRleCksXG4gICAgICBwdHI6IGNsb25lKHRoaXMuX3B0ciksXG4gICAgICBzaXplOiBjbG9uZSh0aGlzLl9zaXplKSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBtO1xuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUuc2xpY2UoMCk7IC8vIGNvcHkgdGhlIEFycmF5XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICpcbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBtYXRyaXhcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2tpcFplcm9zKSB7XG4gICAgLy8gY2hlY2sgaXQgaXMgYSBwYXR0ZXJuIG1hdHJpeFxuICAgIGlmICghdGhpcy5fdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgbWFwIG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gbWF0cml4IGluc3RhbmNlXG5cblxuICAgIHZhciBtZSA9IHRoaXM7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgdmFyIGludm9rZSA9IGZ1bmN0aW9uIGludm9rZSh2LCBpLCBqKSB7XG4gICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgIHJldHVybiBjYWxsYmFjayh2LCBbaSwgal0sIG1lKTtcbiAgICB9OyAvLyBpbnZva2UgX21hcFxuXG5cbiAgICByZXR1cm4gX21hcCh0aGlzLCAwLCByb3dzIC0gMSwgMCwgY29sdW1ucyAtIDEsIGludm9rZSwgc2tpcFplcm9zKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb24gdGhlIGludGVydmFsXG4gICAqIFttaW5Sb3cuLm1heFJvdywgbWluQ29sdW1uLi5tYXhDb2x1bW5dLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tYXAobWF0cml4LCBtaW5Sb3csIG1heFJvdywgbWluQ29sdW1uLCBtYXhDb2x1bW4sIGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyByZXN1bHQgYXJyYXlzXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhtYXRyaXguX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFttYXRyaXguX2RhdGF0eXBlLCBtYXRyaXguX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9IC8vIGludm9rZSBjYWxsYmFja1xuXG5cbiAgICB2YXIgaW52b2tlID0gZnVuY3Rpb24gaW52b2tlKHYsIHgsIHkpIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgdiA9IGNhbGxiYWNrKHYsIHgsIHkpOyAvLyBjaGVjayB2YWx1ZSAhPSAwXG5cbiAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgdmFsdWVzLnB1c2godik7IC8vIGluZGV4XG5cbiAgICAgICAgaW5kZXgucHVzaCh4KTtcbiAgICAgIH1cbiAgICB9OyAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yICh2YXIgaiA9IG1pbkNvbHVtbjsgaiA8PSBtYXhDb2x1bW47IGorKykge1xuICAgICAgLy8gc3RvcmUgcG9pbnRlciB0byB2YWx1ZXMgaW5kZXhcbiAgICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG5cbiAgICAgIHZhciBrMCA9IG1hdHJpeC5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gbWF0cml4Ll9wdHJbaiArIDFdO1xuXG4gICAgICBpZiAoc2tpcFplcm9zKSB7XG4gICAgICAgIC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcbiAgICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICAgIHZhciBpID0gbWF0cml4Ll9pbmRleFtrXTsgLy8gY2hlY2sgaSBpcyBpbiByYW5nZVxuXG4gICAgICAgICAgaWYgKGkgPj0gbWluUm93ICYmIGkgPD0gbWF4Um93KSB7XG4gICAgICAgICAgICAvLyB2YWx1ZSBAIGtcbiAgICAgICAgICAgIGludm9rZShtYXRyaXguX3ZhbHVlc1trXSwgaSAtIG1pblJvdywgaiAtIG1pbkNvbHVtbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWNoZSBob2xkaW5nIGFsbCBkZWZpbmVkIHZhbHVlc1xuICAgICAgICB2YXIgX3ZhbHVlcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIF9rID0gazA7IF9rIDwgazE7IF9rKyspIHtcbiAgICAgICAgICB2YXIgX2k0ID0gbWF0cml4Ll9pbmRleFtfa107XG4gICAgICAgICAgX3ZhbHVlc1tfaTRdID0gbWF0cml4Ll92YWx1ZXNbX2tdO1xuICAgICAgICB9IC8vIGxvb3Agb3ZlciBhbGwgcm93cyAoaW5kZXhlcyBjYW4gYmUgdW5vcmRlcmVkIHNvIHdlIGNhbid0IHVzZSB0aGF0KSxcbiAgICAgICAgLy8gYW5kIGVpdGhlciByZWFkIHRoZSB2YWx1ZSBvciB6ZXJvXG5cblxuICAgICAgICBmb3IgKHZhciBfaTUgPSBtaW5Sb3c7IF9pNSA8PSBtYXhSb3c7IF9pNSsrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX2k1IGluIF92YWx1ZXMgPyBfdmFsdWVzW19pNV0gOiAwO1xuICAgICAgICAgIGludm9rZSh2YWx1ZSwgX2k1IC0gbWluUm93LCBqIC0gbWluQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIHZhbHVlcyBpbiBwdHJcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW21heFJvdyAtIG1pblJvdyArIDEsIG1heENvbHVtbiAtIG1pbkNvbHVtbiArIDFdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBmb3JFYWNoIG9uIGEgUGF0dGVybiBvbmx5IG1hdHJpeCcpO1xuICAgIH0gLy8gbWF0cml4IGluc3RhbmNlXG5cblxuICAgIHZhciBtZSA9IHRoaXM7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07XG5cbiAgICAgIGlmIChza2lwWmVyb3MpIHtcbiAgICAgICAgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuICAgICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFtrXTsgLy8gdmFsdWUgQCBrXG5cbiAgICAgICAgICBjYWxsYmFjayh0aGlzLl92YWx1ZXNba10sIFtpLCBqXSwgbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWNoZSBob2xkaW5nIGFsbCBkZWZpbmVkIHZhbHVlc1xuICAgICAgICB2YXIgdmFsdWVzID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgX2syID0gazA7IF9rMiA8IGsxOyBfazIrKykge1xuICAgICAgICAgIHZhciBfaTYgPSB0aGlzLl9pbmRleFtfazJdO1xuICAgICAgICAgIHZhbHVlc1tfaTZdID0gdGhpcy5fdmFsdWVzW19rMl07XG4gICAgICAgIH0gLy8gbG9vcCBvdmVyIGFsbCByb3dzIChpbmRleGVzIGNhbiBiZSB1bm9yZGVyZWQgc28gd2UgY2FuJ3QgdXNlIHRoYXQpLFxuICAgICAgICAvLyBhbmQgZWl0aGVyIHJlYWQgdGhlIHZhbHVlIG9yIHplcm9cblxuXG4gICAgICAgIGZvciAodmFyIF9pNyA9IDA7IF9pNyA8IHJvd3M7IF9pNysrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX2k3IGluIHZhbHVlcyA/IHZhbHVlc1tfaTddIDogMDtcbiAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwgW19pNywgal0sIG1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBBcnJheSB3aXRoIGEgY29weSBvZiB0aGUgZGF0YSBvZiB0aGUgU3BhcnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJheVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RvQXJyYXkodGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyLCB0aGlzLl9zaXplLCB0cnVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBTcGFyc2VNYXRyaXg6IGEgdHdvIGRpbWVuc2lvbnMgYXJyYXlcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdG9BcnJheSh0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIsIHRoaXMuX3NpemUsIGZhbHNlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfdG9BcnJheSh2YWx1ZXMsIGluZGV4LCBwdHIsIHNpemUsIGNvcHkpIHtcbiAgICAvLyByb3dzIGFuZCBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gcmVzdWx0XG5cbiAgICB2YXIgYSA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgajsgLy8gaW5pdGlhbGl6ZSBhcnJheVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgYVtpXSA9IFtdO1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAgIGFbaV1bal0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgaSA9IGluZGV4W2tdOyAvLyBzZXQgdmFsdWUgKHVzZSBvbmUgZm9yIHBhdHRlcm4gbWF0cml4KVxuXG4gICAgICAgIGFbaV1bal0gPSB2YWx1ZXMgPyBjb3B5ID8gY2xvbmUodmFsdWVzW2tdKSA6IHZhbHVlc1trXSA6IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIHJvd3MgYW5kIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBkZW5zaXR5XG5cbiAgICB2YXIgZGVuc2l0eSA9IHRoaXMuZGVuc2l0eSgpOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHN0ciA9ICdTcGFyc2UgTWF0cml4IFsnICsgZm9ybWF0KHJvd3MsIG9wdGlvbnMpICsgJyB4ICcgKyBmb3JtYXQoY29sdW1ucywgb3B0aW9ucykgKyAnXSBkZW5zaXR5OiAnICsgZm9ybWF0KGRlbnNpdHksIG9wdGlvbnMpICsgJ1xcbic7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHRoaXMuX3B0cltqXTtcbiAgICAgIHZhciBrMSA9IHRoaXMuX3B0cltqICsgMV07IC8vIGxvb3AgayB3aXRoaW4gW2swLCBrMVtcblxuICAgICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9pbmRleFtrXTsgLy8gYXBwZW5kIHZhbHVlXG5cbiAgICAgICAgc3RyICs9ICdcXG4gICAgKCcgKyBmb3JtYXQoaSwgb3B0aW9ucykgKyAnLCAnICsgZm9ybWF0KGosIG9wdGlvbnMpICsgJykgPT0+ICcgKyAodGhpcy5fdmFsdWVzID8gZm9ybWF0KHRoaXMuX3ZhbHVlc1trXSwgb3B0aW9ucykgOiAnWCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLnRvQXJyYXkoKSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdTcGFyc2VNYXRyaXgnLFxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXG4gICAgICBpbmRleDogdGhpcy5faW5kZXgsXG4gICAgICBwdHI6IHRoaXMuX3B0cixcbiAgICAgIHNpemU6IHRoaXMuX3NpemUsXG4gICAgICBkYXRhdHlwZTogdGhpcy5fZGF0YXR5cGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBrdGggTWF0cml4IGRpYWdvbmFsLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgcmV0cmlldmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggdmVjdG9yIHdpdGggdGhlIGRpYWdvbmFsIHZhbHVlcy5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRpYWdvbmFsID0gZnVuY3Rpb24gKGspIHtcbiAgICAvLyB2YWxpZGF0ZSBrIGlmIGFueVxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbnVtYmVyIGRpYWdvbmFsIHZhbHVlc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIGRpYWdvbmFsIGFycmF5c1xuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IFtdO1xuICAgIHZhciBwdHIgPSBbXTsgLy8gaW5pdGlhbCBwdHIgdmFsdWVcblxuICAgIHB0clswXSA9IDA7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IGtTdXBlcjsgaiA8IGNvbHVtbnMgJiYgdmFsdWVzLmxlbmd0aCA8IG47IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTsgLy8gbG9vcCB4IHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciB4ID0gazA7IHggPCBrMTsgeCsrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W3hdOyAvLyBjaGVjayByb3dcblxuICAgICAgICBpZiAoaSA9PT0gaiAtIGtTdXBlciArIGtTdWIpIHtcbiAgICAgICAgICAvLyB2YWx1ZSBvbiB0aGlzIGNvbHVtblxuICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuX3ZhbHVlc1t4XSk7IC8vIHN0b3JlIHJvd1xuXG4gICAgICAgICAgaW5kZXhbdmFsdWVzLmxlbmd0aCAtIDFdID0gaSAtIGtTdWI7IC8vIGV4aXQgbG9vcFxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGNsb3NlIHB0clxuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpeFxuXG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwdHI6IHB0cixcbiAgICAgIHNpemU6IFtuLCAxXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogR2VuZXJhdGUgYSBtYXRyaXggZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTcGFyc2VNYXRyaXhcIiwgXCJ2YWx1ZXNcIjogW10sIFwiaW5kZXhcIjogW10sIFwicHRyXCI6IFtdLCBcInNpemVcIjogW119YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7U3BhcnNlTWF0cml4fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoanNvbik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkaWFnb25hbCBtYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZSAgICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCBzaXplLlxuICAgKiBAcGFyYW0ge251bWJlciB8IEFycmF5IHwgTWF0cml4IH0gdmFsdWUgICBUaGUgdmFsdWVzIGZvciB0aGUgZGlhZ29uYWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIGJlIGZpbGxlZCBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdICAgICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIG5vbi1kaWFnb25hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXSAgICAgICAgICAgICAgICBUaGUgTWF0cml4IGRhdGF0eXBlLCB2YWx1ZXMgbXVzdCBiZSBvZiB0aGlzIGRhdGF0eXBlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U3BhcnNlTWF0cml4fVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5kaWFnb25hbCA9IGZ1bmN0aW9uIChzaXplLCB2YWx1ZSwgaywgZGVmYXVsdFZhbHVlLCBkYXRhdHlwZSkge1xuICAgIGlmICghaXNBcnJheShzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQsIHNpemUgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIG1hcCBzaXplICYgdmFsaWRhdGVcblxuXG4gICAgc2l6ZSA9IHNpemUubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyBjaGVjayBpdCBpcyBhIGJpZyBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihzKSkge1xuICAgICAgICAvLyBjb252ZXJ0IGl0XG4gICAgICAgIHMgPSBzLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGFyZ3VtZW50c1xuXG5cbiAgICAgIGlmICghaXNOdW1iZXIocykgfHwgIWlzSW50ZWdlcihzKSB8fCBzIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgdmFsdWVzIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHM7XG4gICAgfSk7IC8vIHZhbGlkYXRlIGsgaWYgYW55XG5cbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfSAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2RhdGF0eXBlLCBkYXRhdHlwZV0pIHx8IGVxdWFsU2NhbGFyOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgYW5kIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHNpemVbMV07IC8vIG51bWJlciBvZiBub24temVybyBpdGVtc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzIC0ga1N1YiwgY29sdW1ucyAtIGtTdXBlcik7IC8vIHZhbHVlIGV4dHJhY3Rpb24gZnVuY3Rpb25cblxuICAgIHZhciBfdmFsdWU7IC8vIGNoZWNrIHZhbHVlXG5cblxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy8gdmFsaWRhdGUgYXJyYXlcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGFycmF5IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZVtpXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc01hdHJpeCh2YWx1ZSkpIHtcbiAgICAgIC8vIG1hdHJpeCBzaXplXG4gICAgICB2YXIgbXMgPSB2YWx1ZS5zaXplKCk7IC8vIHZhbGlkYXRlIG1hdHJpeFxuXG4gICAgICBpZiAobXMubGVuZ3RoICE9PSAxIHx8IG1zWzBdICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXRyaXggbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlLmdldChbaV0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmaW5lIGZ1bmN0aW9uXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gLy8gY3JlYXRlIGFycmF5c1xuXG5cbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBsb29wIGl0ZW1zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gbnVtYmVyIG9mIHJvd3Mgd2l0aCB2YWx1ZVxuICAgICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGRpYWdvbmFsIGluZGV4XG5cbiAgICAgIHZhciBpID0gaiAtIGtTdXBlcjsgLy8gY2hlY2sgd2UgbmVlZCB0byBzZXQgZGlhZ29uYWwgdmFsdWVcblxuICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgbikge1xuICAgICAgICAvLyBnZXQgdmFsdWUgQCBpXG4gICAgICAgIHZhciB2ID0gX3ZhbHVlKGkpOyAvLyBjaGVjayBmb3IgemVyb1xuXG5cbiAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgIC8vIGNvbHVtblxuICAgICAgICAgIGluZGV4LnB1c2goaSArIGtTdWIpOyAvLyBhZGQgdmFsdWVcblxuICAgICAgICAgIHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsYXN0IHZhbHVlIHNob3VsZCBiZSBudW1iZXIgb2YgdmFsdWVzXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyBjcmVhdGUgU3BhcnNlTWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgaSBhbmQgaiBpbiBNYXRyaXguXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICBUaGUgbWF0cml4IHJlZmVyZW5jZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpc051bWJlcihpKSB8fCAhaXNJbnRlZ2VyKGkpIHx8ICFpc051bWJlcihqKSB8fCAhaXNJbnRlZ2VyKGopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdyBpbmRleCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfSAvLyBjaGVjayBkaW1lbnNpb25zXG5cblxuICAgIGlmICh0aGlzLl9zaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25hbCBtYXRyaXggaXMgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbmRleFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVswXSk7IC8vIHN3YXAgcm93c1xuXG4gICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhpLCBqLCB0aGlzLl9zaXplWzFdLCB0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIpOyAvLyByZXR1cm4gY3VycmVudCBpbnN0YW5jZVxuXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIExvb3Agcm93cyB3aXRoIGRhdGEgaW4gY29sdW1uIGouXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgICAgICAgQ29sdW1uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyAgICAgICAgTWF0cml4IHZhbHVlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleCAgICAgICAgIE1hdHJpeCByb3cgaW5kZWNlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBwdHIgICAgICAgICAgIE1hdHJpeCBjb2x1bW4gcG9pbnRlcnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGZvciBldmVyeSByb3cgaW4gY29sdW1uIGpcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguX2ZvckVhY2hSb3cgPSBmdW5jdGlvbiAoaiwgdmFsdWVzLCBpbmRleCwgcHRyLCBjYWxsYmFjaykge1xuICAgIC8vIGluZGVjZXMgZm9yIGNvbHVtbiBqXG4gICAgdmFyIGswID0gcHRyW2pdO1xuICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGxvb3BcblxuICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgY2FsbGJhY2soaW5kZXhba10sIHZhbHVlc1trXSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogU3dhcCByb3dzIHggYW5kIHkgaW4gU3BhcnNlIE1hdHJpeCBkYXRhIHN0cnVjdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4ICAgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zICAgTnVtYmVyIG9mIGNvbHVtbnMgaW4gbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyAgICAgTWF0cml4IHZhbHVlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleCAgICAgIE1hdHJpeCByb3cgaW5kZWNlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBwdHIgICAgICAgIE1hdHJpeCBjb2x1bW4gcG9pbnRlcnNcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzID0gZnVuY3Rpb24gKHgsIHksIGNvbHVtbnMsIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIGxvb3AgY29sdW1uc1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSBwdHJbal07XG4gICAgICB2YXIgazEgPSBwdHJbaiArIDFdOyAvLyBmaW5kIHZhbHVlIGluZGV4IEAgeFxuXG4gICAgICB2YXIga3ggPSBfZ2V0VmFsdWVJbmRleCh4LCBrMCwgazEsIGluZGV4KTsgLy8gZmluZCB2YWx1ZSBpbmRleCBAIHhcblxuXG4gICAgICB2YXIga3kgPSBfZ2V0VmFsdWVJbmRleCh5LCBrMCwgazEsIGluZGV4KTsgLy8gY2hlY2sgYm90aCByb3dzIGV4aXN0IGluIG1hdHJpeFxuXG5cbiAgICAgIGlmIChreCA8IGsxICYmIGt5IDwgazEgJiYgaW5kZXhba3hdID09PSB4ICYmIGluZGV4W2t5XSA9PT0geSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFyIHYgPSB2YWx1ZXNba3hdO1xuICAgICAgICAgIHZhbHVlc1treF0gPSB2YWx1ZXNba3ldO1xuICAgICAgICAgIHZhbHVlc1treV0gPSB2O1xuICAgICAgICB9IC8vIG5leHQgY29sdW1uXG5cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgeCByb3cgZXhpc3QgJiBubyB5IHJvd1xuXG5cbiAgICAgIGlmIChreCA8IGsxICYmIGluZGV4W2t4XSA9PT0geCAmJiAoa3kgPj0gazEgfHwgaW5kZXhba3ldICE9PSB5KSkge1xuICAgICAgICAvLyB2YWx1ZSBAIHggKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgdmFyIHZ4ID0gdmFsdWVzID8gdmFsdWVzW2t4XSA6IHVuZGVmaW5lZDsgLy8gaW5zZXJ0IHZhbHVlIEAgeVxuXG4gICAgICAgIGluZGV4LnNwbGljZShreSwgMCwgeSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3ksIDAsIHZ4KTtcbiAgICAgICAgfSAvLyByZW1vdmUgdmFsdWUgQCB4IChhZGp1c3QgYXJyYXkgaW5kZXggaWYgbmVlZGVkKVxuXG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt5IDw9IGt4ID8ga3ggKyAxIDoga3gsIDEpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt5IDw9IGt4ID8ga3ggKyAxIDoga3gsIDEpO1xuICAgICAgICB9IC8vIG5leHQgY29sdW1uXG5cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgeSByb3cgZXhpc3QgJiBubyB4IHJvd1xuXG5cbiAgICAgIGlmIChreSA8IGsxICYmIGluZGV4W2t5XSA9PT0geSAmJiAoa3ggPj0gazEgfHwgaW5kZXhba3hdICE9PSB4KSkge1xuICAgICAgICAvLyB2YWx1ZSBAIHkgKGNoZWNrIGZvciBwYXR0ZXJuIG1hdHJpeClcbiAgICAgICAgdmFyIHZ5ID0gdmFsdWVzID8gdmFsdWVzW2t5XSA6IHVuZGVmaW5lZDsgLy8gaW5zZXJ0IHZhbHVlIEAgeFxuXG4gICAgICAgIGluZGV4LnNwbGljZShreCwgMCwgeCk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3gsIDAsIHZ5KTtcbiAgICAgICAgfSAvLyByZW1vdmUgdmFsdWUgQCB5IChhZGp1c3QgYXJyYXkgaW5kZXggaWYgbmVlZGVkKVxuXG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt4IDw9IGt5ID8ga3kgKyAxIDoga3ksIDEpO1xuXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGt4IDw9IGt5ID8ga3kgKyAxIDoga3ksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTcGFyc2VNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ251bWJlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbnVtYmVyIG9yIGNvbnZlcnQgYSBzdHJpbmcsIGJvb2xlYW4sIG9yIHVuaXQgdG8gYSBudW1iZXIuXG4gICAqIFdoZW4gdmFsdWUgaXMgYSBtYXRyaXgsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBudW1iZXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5udW1iZXIodmFsdWUpXG4gICAqICAgIG1hdGgubnVtYmVyKHVuaXQsIHZhbHVlbGVzc1VuaXQpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm51bWJlcigyKSAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAyXG4gICAqICAgIG1hdGgubnVtYmVyKCc3LjInKSAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDcuMlxuICAgKiAgICBtYXRoLm51bWJlcih0cnVlKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAxXG4gICAqICAgIG1hdGgubnVtYmVyKFt0cnVlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZV0pIC8vIHJldHVybnMgWzEsIDAsIDEsIDFdXG4gICAqICAgIG1hdGgubnVtYmVyKG1hdGgudW5pdCgnNTJjbScpLCAnbScpICAgIC8vIHJldHVybnMgMC41MlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBzdHJpbmcsIHVuaXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBBcnJheSB8IE1hdHJpeCB8IFVuaXQgfCBudWxsfSBbdmFsdWVdICBWYWx1ZSB0byBiZSBjb252ZXJ0ZWRcbiAgICogQHBhcmFtIHtVbml0IHwgc3RyaW5nfSBbdmFsdWVsZXNzVW5pdF0gQSB2YWx1ZWxlc3MgdW5pdCwgdXNlZCB0byBjb252ZXJ0IGEgdW5pdCB0byBhIG51bWJlclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBBcnJheSB8IE1hdHJpeH0gVGhlIGNyZWF0ZWQgbnVtYmVyXG4gICAqL1xuICB2YXIgbnVtYmVyID0gdHlwZWQoJ251bWJlcicsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICBpZiAoeCA9PT0gJ05hTicpIHJldHVybiBOYU47XG4gICAgICB2YXIgbnVtID0gTnVtYmVyKHgpO1xuXG4gICAgICBpZiAoaXNOYU4obnVtKSkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1N0cmluZyBcIicgKyB4ICsgJ1wiIGlzIG5vIHZhbGlkIG51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoWycwYicsICcwbycsICcweCddLmluY2x1ZGVzKHguc3Vic3RyaW5nKDAsIDIpKSkge1xuICAgICAgICBpZiAobnVtID4gMiAqKiAzMiAtIDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJTdHJpbmcgXFxcIlwiLmNvbmNhdCh4LCBcIlxcXCIgaXMgb3V0IG9mIHJhbmdlXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW0gJiAweDgwMDAwMDAwKSB7XG4gICAgICAgICAgbnVtID0gLTEgKiB+KG51bSAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudW07XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC50b051bWJlcigpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnZhbHVlT2YoKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWNvbmQgYXJndW1lbnQgd2l0aCB2YWx1ZWxlc3MgdW5pdCBleHBlY3RlZCcpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICAnVW5pdCwgc3RyaW5nIHwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRTdHJpbmdVbml0KHVuaXQsIHZhbHVlbGVzc1VuaXQpIHtcbiAgICAgIHJldHVybiB1bml0LnRvTnVtYmVyKHZhbHVlbGVzc1VuaXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTsgLy8gcmV2aXZlciBmdW5jdGlvbiB0byBwYXJzZSBhIEpTT04gb2JqZWN0IGxpa2U6XG4gIC8vXG4gIC8vICAgICB7XCJtYXRoanNcIjpcIm51bWJlclwiLFwidmFsdWVcIjpcIjIuM1wifVxuICAvL1xuICAvLyBpbnRvIGEgbnVtYmVyIDIuM1xuXG4gIG51bWJlci5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoanNvbi52YWx1ZSk7XG4gIH07XG5cbiAgcmV0dXJuIG51bWJlcjtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2JpZ251bWJlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdCaWdOdW1iZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmlnbnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgQmlnTnVtYmVyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBCaWdOdW1iZXIsIHdoaWNoIGNhbiBzdG9yZSBudW1iZXJzIHdpdGggYXJiaXRyYXJ5IHByZWNpc2lvbi5cbiAgICogV2hlbiBhIG1hdHJpeCBpcyBwcm92aWRlZCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIEJpZ051bWJlci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmJpZ251bWJlcih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgMC4xICsgMC4yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDAuMzAwMDAwMDAwMDAwMDAwMDRcbiAgICogICAgbWF0aC5iaWdudW1iZXIoMC4xKSArIG1hdGguYmlnbnVtYmVyKDAuMikgIC8vIHJldHVybnMgQmlnTnVtYmVyIDAuM1xuICAgKlxuICAgKlxuICAgKiAgICA3LjJlNTAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgSW5maW5pdHlcbiAgICogICAgbWF0aC5iaWdudW1iZXIoJzcuMmU1MDAnKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQmlnTnVtYmVyIDcuMmU1MDBcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZyB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQXJyYXkgfCBNYXRyaXggfCBib29sZWFuIHwgbnVsbH0gW3ZhbHVlXSAgVmFsdWUgZm9yIHRoZSBiaWcgbnVtYmVyLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwIGJ5IGRlZmF1bHQuXG4gICAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFRoZSBjcmVhdGVkIGJpZ251bWJlclxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdiaWdudW1iZXInLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIC8vIGNvbnZlcnQgdG8gc3RyaW5nIHRvIHByZXZlbnQgZXJyb3JzIGluIGNhc2Ugb2YgPjE1IGRpZ2l0c1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCArICcnKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgLy8gd2UgYXNzdW1lIGEgQmlnTnVtYmVyIGlzIGltbXV0YWJsZVxuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeC5uKS5kaXYoeC5kKS50aW1lcyh4LnMpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnZnJhY3Rpb24nO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnJhY3Rpb24gPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBGcmFjdGlvblxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgZnJhY3Rpb24gY29udmVydCBhIHZhbHVlIHRvIGEgZnJhY3Rpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICogICAgIG1hdGguZnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcilcbiAgICogICAgIG1hdGguZnJhY3Rpb24oe246IG51bWVyYXRvciwgZDogZGVub21pbmF0b3J9KVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihtYXRyaXg6IEFycmF5IHwgTWF0cml4KSAgICAgICAgIFR1cm4gYWxsIG1hdHJpeCBlbnRyaWVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50byBmcmFjdGlvbnNcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKDEsIDMpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKCcyLzMnKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbih7bjogMiwgZDogM30pXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKFswLjIsIDAuMjUsIDEuMjVdKVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBudW1iZXIsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZyB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQXJyYXkgfCBNYXRyaXh9IFthcmdzXVxuICAgKiAgICAgICAgICAgIEFyZ3VtZW50cyBzcGVjaWZ5aW5nIHRoZSBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yIG9mXG4gICAqICAgICAgICAgICAgdGhlIGZyYWN0aW9uXG4gICAqIEByZXR1cm4ge0ZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgYSBmcmFjdGlvblxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKCdmcmFjdGlvbicsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAoIWlzRmluaXRlKHgpIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih4ICsgJyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXMgYSBmcmFjdGlvbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcihudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpO1xuICAgIH0sXG4gICAgbnVsbDogZnVuY3Rpb24gX251bGwoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigwKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeC50b1N0cmluZygpKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geDsgLy8gZnJhY3Rpb25zIGFyZSBpbW11dGFibGVcbiAgICB9LFxuICAgIE9iamVjdDogZnVuY3Rpb24gT2JqZWN0KHgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnbWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ01hdHJpeCcsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTWF0cml4ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgTWF0cml4LFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgTWF0cml4LiBUaGUgZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyBgbWF0aC5NYXRyaXhgIG9iamVjdCBmcm9tXG4gICAqIGFuIGBBcnJheWAuIEEgTWF0cml4IGhhcyB1dGlsaXR5IGZ1bmN0aW9ucyB0byBtYW5pcHVsYXRlIHRoZSBkYXRhIGluIHRoZVxuICAgKiBtYXRyaXgsIGxpa2UgZ2V0dGluZyB0aGUgc2l6ZSBhbmQgZ2V0dGluZyBvciBzZXR0aW5nIHZhbHVlcyBpbiB0aGUgbWF0cml4LlxuICAgKiBTdXBwb3J0ZWQgc3RvcmFnZSBmb3JtYXRzIGFyZSAnZGVuc2UnIGFuZCAnc3BhcnNlJy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm1hdHJpeCgpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYW4gZW1wdHkgbWF0cml4IHVzaW5nIGRlZmF1bHQgc3RvcmFnZSBmb3JtYXQgKGRlbnNlKS5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSkgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGEgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhIHVzaW5nIGRlZmF1bHQgc3RvcmFnZSBmb3JtYXQgKGRlbnNlKS5cbiAgICogICAgbWF0aC5tYXRyaXgoJ2RlbnNlJykgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGFuIGVtcHR5IG1hdHJpeCB1c2luZyB0aGUgZ2l2ZW4gc3RvcmFnZSBmb3JtYXQuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdkZW5zZScpICAgICAgICAgICAgLy8gY3JlYXRlcyBhIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSB1c2luZyB0aGUgZ2l2ZW4gc3RvcmFnZSBmb3JtYXQuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdzcGFyc2UnKSAgICAgICAgICAgLy8gY3JlYXRlcyBhIHNwYXJzZSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEuXG4gICAqICAgIG1hdGgubWF0cml4KGRhdGEsICdzcGFyc2UnLCAnbnVtYmVyJykgLy8gY3JlYXRlcyBhIHNwYXJzZSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEsIG51bWJlciBkYXRhIHR5cGUuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBsZXQgbSA9IG1hdGgubWF0cml4KFtbMSwgMl0sIFszLCA0XV0pXG4gICAqICAgIG0uc2l6ZSgpICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgWzIsIDJdXG4gICAqICAgIG0ucmVzaXplKFszLCAyXSwgNSlcbiAgICogICAgbS52YWx1ZU9mKCkgICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBbWzEsIDJdLCBbMywgNF0sIFs1LCA1XV1cbiAgICogICAgbS5nZXQoWzEsIDBdKSAgICAgICAgICAgICAgICAgICAgLy8gbnVtYmVyIDNcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG51bWJlciwgc3RyaW5nLCB1bml0LCBzcGFyc2VcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gW2RhdGFdICAgIEEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSBUaGUgY3JlYXRlZCBtYXRyaXhcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShbXSk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhmb3JtYXQpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgc3RyaW5nJzogZnVuY3Rpb24gc3RyaW5nU3RyaW5nKGZvcm1hdCwgZGF0YXR5cGUpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdLCBmb3JtYXQsIGRhdGF0eXBlKTtcbiAgICB9LFxuICAgIEFycmF5OiBmdW5jdGlvbiBBcnJheShkYXRhKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZShkYXRhKTtcbiAgICB9LFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KGRhdGEpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKGRhdGEsIGRhdGEuc3RvcmFnZSgpKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nJzogX2NyZWF0ZSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZywgc3RyaW5nJzogX2NyZWF0ZVxuICB9KTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBNYXRyaXggd2l0aCBnaXZlbiBzdG9yYWdlIGZvcm1hdFxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKiBAcmV0dXJucyB7TWF0cml4fSBSZXR1cm5zIGEgbmV3IE1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfY3JlYXRlKGRhdGEsIGZvcm1hdCwgZGF0YXR5cGUpIHtcbiAgICAvLyBnZXQgc3RvcmFnZSBmb3JtYXQgY29uc3RydWN0b3JcbiAgICBpZiAoZm9ybWF0ID09PSAnZGVuc2UnIHx8IGZvcm1hdCA9PT0gJ2RlZmF1bHQnIHx8IGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0ID09PSAnc3BhcnNlJykge1xuICAgICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gbWF0cml4IHR5cGUgJyArIEpTT04uc3RyaW5naWZ5KGZvcm1hdCkgKyAnLicpO1xuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ3VuYXJ5TWludXMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlVW5hcnlNaW51cyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJbnZlcnNlIHRoZSBzaWduIG9mIGEgdmFsdWUsIGFwcGx5IGEgdW5hcnkgbWludXMgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLiBCb29sZWFuIHZhbHVlcyBhbmRcbiAgICogc3RyaW5ncyB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIG51bWJlci4gRm9yIGNvbXBsZXggbnVtYmVycywgYm90aCByZWFsIGFuZFxuICAgKiBjb21wbGV4IHZhbHVlIGFyZSBpbnZlcnRlZC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnVuYXJ5TWludXMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgudW5hcnlNaW51cygzLjUpICAgICAgLy8gcmV0dXJucyAtMy41XG4gICAqICAgIG1hdGgudW5hcnlNaW51cygtNC4yKSAgICAgLy8gcmV0dXJucyA0LjJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGFkZCwgc3VidHJhY3QsIHVuYXJ5UGx1c1xuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggTnVtYmVyIHRvIGJlIGludmVydGVkLlxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdGhlIHZhbHVlIHdpdGggaW52ZXJ0ZWQgc2lnbi5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiB1bmFyeU1pbnVzTnVtYmVyLFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHgubmVnKCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMoeC52YWx1ZSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSB1bmFyeU1pbnVzKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igc3RyaW5nXG5cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBhYnNOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnYWJzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFicyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGFic29sdXRlIHZhbHVlIG9mIGEgbnVtYmVyLiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpc1xuICAgKiBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYWJzKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmFicygzLjUpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuNVxuICAgKiAgICBtYXRoLmFicygtNC4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDQuMlxuICAgKlxuICAgKiAgICBtYXRoLmFicyhbMywgLTUsIC0xLCAwLCAyXSkgIC8vIHJldHVybnMgQXJyYXkgWzMsIDUsIDEsIDAsIDJdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzaWduXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4IHwgVW5pdH0geFxuICAgKiAgICAgICAgICAgIEEgbnVtYmVyIG9yIG1hdHJpeCBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBhYnNvbHV0ZSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeCB8IFVuaXR9XG4gICAqICAgICAgICAgICAgQWJzb2x1dGUgdmFsdWUgb2YgYHhgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogYWJzTnVtYmVyLFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgYWJzKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICBVbml0OiBmdW5jdGlvbiBVbml0KHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhZGROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnYWRkU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFkZFNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBZGQgdHdvIHNjYWxhciB2YWx1ZXMsIGB4ICsgeWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uXG4gICAqIGBhZGRgXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIGFkZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXh9IHkgICAgICAgICAgU2Vjb25kIHZhbHVlIHRvIGFkZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgU3VtIG9mIGB4YCBhbmQgYHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGFkZE51bWJlcixcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmFkZCh5KTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5wbHVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguYWRkKHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoeC52YWx1ZSA9PT0gbnVsbCB8fCB4LnZhbHVlID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHggY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICBpZiAoeS52YWx1ZSA9PT0gbnVsbCB8fCB5LnZhbHVlID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHkgY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB0aHJvdyBuZXcgRXJyb3IoJ1VuaXRzIGRvIG5vdCBtYXRjaCcpO1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlLCB5LnZhbHVlKTtcbiAgICAgIHJlcy5maXhQcmVmaXggPSBmYWxzZTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTExJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTExID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTKS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTEocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYWluZGV4W2tdOyAvLyBpbnZva2UgY2FsbGJhY2tcblxuICAgICAgICB2YXIgdiA9IGludmVyc2UgPyBjZihiLCBhdmFsdWVzW2tdKSA6IGNmKGF2YWx1ZXNba10sIGIpOyAvLyBjaGVjayB2YWx1ZSBpcyB6ZXJvXG5cbiAgICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXggJiB2YWx1ZVxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgIGN2YWx1ZXMucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBzLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xNCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xNCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIERlbnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpai4ueiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaiwuLi56KSA9IGYoQWlqLi56LCBiKVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLi56LGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsQWlqLi56KVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjU5MDQyXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTQoYSwgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHBvcHVsYXRlIGNkYXRhLCBpdGVyYXRlIHRocm91Z2ggZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgY2RhdGEgPSBhc2l6ZS5sZW5ndGggPiAwID8gX2l0ZXJhdGUoY2YsIDAsIGFzaXplLCBhc2l6ZVswXSwgYWRhdGEsIGIsIGludmVyc2UpIDogW107IC8vIGMgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IGNsb25lKGFzaXplKSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9OyAvLyByZWN1cnNpdmUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiBfaXRlcmF0ZShmLCBsZXZlbCwgcywgbiwgYXYsIGJ2LCBpbnZlcnNlKSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBhcnJheSBmb3IgdGhpcyBsZXZlbFxuICAgIHZhciBjdiA9IFtdOyAvLyBjaGVjayB3ZSByZWFjaCB0aGUgbGFzdCBsZXZlbFxuXG4gICAgaWYgKGxldmVsID09PSBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIC8vIGxvb3AgYXJyYXlzIGluIGxhc3QgbGV2ZWxcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIC8vIGludm9rZSBjYWxsYmFjayBhbmQgc3RvcmUgdmFsdWVcbiAgICAgICAgY3ZbaV0gPSBpbnZlcnNlID8gZihidiwgYXZbaV0pIDogZihhdltpXSwgYnYpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdGVyYXRlIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgbmV4dCBsZXZlbFxuICAgICAgICBjdltqXSA9IF9pdGVyYXRlKGYsIGxldmVsICsgMSwgcywgc1tsZXZlbCArIDFdLCBhdltqXSwgYnYsIGludmVyc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdjtcbiAgfVxufSk7IiwiaW1wb3J0IERlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBjZWlsTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdjZWlsJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdyb3VuZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ2VpbCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICByb3VuZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHBsdXMgaW5maW5pdHlcbiAgICogSWYgYHhgIGlzIGNvbXBsZXgsIGJvdGggcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnQgYXJlIHJvdW5kZWQgdG93YXJkcyBwbHVzIGluZmluaXR5LlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCh4KVxuICAgKiAgICBtYXRoLmNlaWwoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCgzLjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLmNlaWwoMy44KSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5jZWlsKC00LjIpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLmNlaWwoLTQuNykgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqXG4gICAqICAgIG1hdGguY2VpbCgzLjIxMiwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yMlxuICAgKiAgICBtYXRoLmNlaWwoMy4yODgsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjlcbiAgICogICAgbWF0aC5jZWlsKC00LjIxMiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yMVxuICAgKiAgICBtYXRoLmNlaWwoLTQuNzgyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00Ljc4XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yNCwgLTIuNzEpXG4gICAqICAgIG1hdGguY2VpbChjKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDQgLSAyaVxuICAgKiAgICBtYXRoLmNlaWwoYywgMSkgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjMgLSAyLjdpXG4gICAqXG4gICAqICAgIG1hdGguY2VpbChbMy4yLCAzLjgsIC00LjddKSAgLy8gcmV0dXJucyBBcnJheSBbNCwgNCwgLTRdXG4gICAqICAgIG1hdGguY2VpbChbMy4yMSwgMy44MiwgLTQuNzFdLCAxKSAgLy8gcmV0dXJucyBBcnJheSBbMy4zLCAzLjksIC00LjddXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBmbG9vciwgZml4LCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2NlaWwnLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNlaWxOdW1iZXIoeCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG5lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHgsIFwiZVwiKS5zcGxpdCgnZScpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSArIG4pKSk7XG4gICAgICAgIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHJlc3VsdCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHJldHVybiBOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgLSBuKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmNlaWwobik7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSwgRGVjaW1hbC5ST1VORF9DRUlMKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5jZWlsKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmNlaWwobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdmaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnQ29tcGxleCcsICdtYXRyaXgnLCAnY2VpbCcsICdmbG9vciddO1xuZXhwb3J0IHZhciBjcmVhdGVGaXggPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBDb21wbGV4OiBfQ29tcGxleCxcbiAgICBtYXRyaXgsXG4gICAgY2VpbCxcbiAgICBmbG9vclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHplcm8uXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5maXgoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZml4KDMuMikgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZpeCgzLjgpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5maXgoLTQuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNFxuICAgKiAgICBtYXRoLmZpeCgtNC43KSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqXG4gICAqICAgIG1hdGguZml4KDMuMTIsIDEpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMVxuICAgKiAgICBtYXRoLmZpeCgzLjE4LCAxKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjFcbiAgICogICAgbWF0aC5maXgoLTQuMTIsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMVxuICAgKiAgICBtYXRoLmZpeCgtNC4xNywgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4xXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yMiwgLTIuNzgpXG4gICAqICAgIG1hdGguZml4KGMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAyaVxuICAgKiAgICBtYXRoLmZpeChjLCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjIgLSAyLjdpXG4gICAqXG4gICAqICAgIG1hdGguZml4KFszLjIsIDMuOCwgLTQuN10pICAgICAgLy8gcmV0dXJucyBBcnJheSBbMywgMywgLTRdXG4gICAqICAgIG1hdGguZml4KFszLjIsIDMuOCwgLTQuN10sIDEpICAgLy8gcmV0dXJucyBBcnJheSBbMy4yLCAzLjgsIC00LjddXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBjZWlsLCBmbG9vciwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggICAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9ICAgICBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnZml4Jywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4ID4gMCA/IGZsb29yKHgpIDogY2VpbCh4KTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geCA+IDAgPyBmbG9vcih4LCBuKSA6IGNlaWwoeCwgbik7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0NvbXBsZXgoeC5yZSA+IDAgPyBNYXRoLmZsb29yKHgucmUpIDogTWF0aC5jZWlsKHgucmUpLCB4LmltID4gMCA/IE1hdGguZmxvb3IoeC5pbSkgOiBNYXRoLmNlaWwoeC5pbSkpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIG5ldyBfQ29tcGxleCh4LnJlID4gMCA/IGZsb29yKHgucmUsIG4pIDogY2VpbCh4LnJlLCBuKSwgeC5pbSA+IDAgPyBmbG9vcih4LmltLCBuKSA6IGNlaWwoeC5pbSwgbikpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHguaXNOZWdhdGl2ZSgpID8gY2VpbCh4KSA6IGZsb29yKHgpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmlzTmVnYXRpdmUoKSA/IGNlaWwoeCwgbikgOiBmbG9vcih4LCBuKTtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5zIDwgMCA/IHguY2VpbCgpIDogeC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5zIDwgMCA/IHguY2VpbChuKSA6IHguZmxvb3Iobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZpeCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZpeCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdmbG9vcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAncm91bmQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZsb29yID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIHJvdW5kLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgbWludXMgaW5maW5pdHkuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5mbG9vcih4KVxuICAgKiAgICBtYXRoLmZsb29yKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKDMuMikgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5mbG9vcigzLjgpICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZmxvb3IoLTQuMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICogICAgbWF0aC5mbG9vcigtNC43KSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKDMuMjEyLCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjIxXG4gICAqICAgIG1hdGguZmxvb3IoMy4yODgsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjhcbiAgICogICAgbWF0aC5mbG9vcigtNC4yMTIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuMjJcbiAgICogICAgbWF0aC5mbG9vcigtNC43ODIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuNzlcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjI0LCAtMi43MSlcbiAgICogICAgbWF0aC5mbG9vcihjKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAzaVxuICAgKiAgICBtYXRoLmZsb29yKGMsIDEpICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMy4yIC0gMi44aVxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKFszLjIsIDMuOCwgLTQuN10pICAgICAgIC8vIHJldHVybnMgQXJyYXkgWzMsIDMsIC01XVxuICAgKiAgICBtYXRoLmZsb29yKFszLjIxLCAzLjgyLCAtNC43MV0sIDEpICAvLyByZXR1cm5zIEFycmF5IFszLjIsIDMuOCwgLTQuOF1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZpeCwgcm91bmRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdmbG9vcicsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQoeCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmZsb29yKE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSArIG4pKSk7XG4gICAgICAgIFtudW1iZXIsIGV4cG9uZW50XSA9IFwiXCIuY29uY2F0KHJlc3VsdCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHJldHVybiBOdW1iZXIoXCJcIi5jb25jYXQobnVtYmVyLCBcImVcIikuY29uY2F0KE51bWJlcihleHBvbmVudCkgLSBuKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5mbG9vcihuKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LmZsb29yKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgsIG4pLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSwgRGVjaW1hbC5ST1VORF9GTE9PUik7XG4gICAgICB9XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguZmxvb3Iobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGZsb29yKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGkgPT4gdGhpcyhpLCBuKSwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDEgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihEaWosIFNpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTk5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTcGFyc2VNYXRyaXgpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoRGlqLCBTaWopICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBEaWogICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgZGVuc2VNYXRyaXggICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChEKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzcGFyc2VNYXRyaXggICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihEaWosU2lqKSBvcGVyYXRpb24gdG8gaW52b2tlLCB3aGVyZSBEaWogPSBEZW5zZU1hdHJpeChpLGopIGFuZCBTaWogPSBTcGFyc2VNYXRyaXgoaSxqKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoU2lqLERpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICB2YXIgZHQgPSB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCA/IGFkdCA6IHVuZGVmaW5lZDsgLy8gY2FsbGJhY2sgZnVuY3Rpb25cblxuICAgIHZhciBjZiA9IGR0ID8gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pIDogY2FsbGJhY2s7IC8vIHZhcnNcblxuICAgIHZhciBpLCBqOyAvLyByZXN1bHQgKERlbnNlTWF0cml4KVxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgY1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtpXSA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7IC8vIG1hcmsgaSBhcyB1cGRhdGVkXG5cbiAgICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gY2hlY2sgcm93IGlzIGluIHdvcmtzcGFjZVxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGNbaV1bal0gd2FzIGFscmVhZHkgY2FsY3VsYXRlZFxuICAgICAgICAgIGNkYXRhW2ldW2pdID0geFtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpdGVtIGRvZXMgbm90IGV4aXN0IGluIFNcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGFkYXRhW2ldW2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBkZW5zZU1hdHJpeC5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNQVgoTk5aQSwgTk5aQikgdGltZXNcbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKEFpaiwgQmlqKSAgOyBBKGksaikgIT09IDAgJiYgQihpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpCAgQShpLGopICAgICAgIDsgQShpLGopICE9PSAwXG4gICAqICAgICAgICAgIOKUlCAgQihpLGopICAgICAgIDsgQihpLGopICE9PSAwXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDQoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeGEgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgeGIgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgaywgazAsIGsxOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gY29sdW1ucyBtYXJrXG5cbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIGxvb3AgQSg6LGopXG5cbiAgICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgY1xuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgd2FbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgeGFbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGxvb3AgQig6LGopXG5cblxuICAgICAgZm9yIChrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gQVxuXG4gICAgICAgIGlmICh3YVtpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIHVwZGF0ZSByZWNvcmQgaW4geGEgQCBpXG4gICAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgICAgICAgIHZhciB2ID0gY2YoeGFbaV0sIGJ2YWx1ZXNba10pOyAvLyBjaGVjayBmb3IgemVyb1xuXG4gICAgICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSB3b3Jrc3BhY2VcbiAgICAgICAgICAgICAgeGFbaV0gPSB2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmsgKGluZGV4IHdpbGwgYmUgcmVtb3ZlZCBsYXRlcilcbiAgICAgICAgICAgICAgd2FbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgY1xuICAgICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgICB3YltpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICAgIGlmICh4Yikge1xuICAgICAgICAgICAgeGJbaV0gPSBidmFsdWVzW2tdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChub24gcGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKHhhICYmIHhiKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgZmlyc3QgaW5kZXggaW4galxuICAgICAgICBrID0gY3B0cltqXTsgLy8gbG9vcCBpbmRleCBpbiBqXG5cbiAgICAgICAgd2hpbGUgKGsgPCBjaW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IGNpbmRleFtrXTsgLy8gY2hlY2sgd29ya3NwYWNlIGhhcyB2YWx1ZSBAIGlcblxuICAgICAgICAgIGlmICh3YVtpXSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZSAoQWlqICE9IDAgfHwgKEFpaiAhPSAwICYmIEJpaiAhPSAwKSlcbiAgICAgICAgICAgIGN2YWx1ZXNba10gPSB4YVtpXTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgaysrO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2JbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIHB1c2ggdmFsdWUgKGJpaiAhPSAwKVxuICAgICAgICAgICAgY3ZhbHVlc1trXSA9IHhiW2ldOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpbmRleCBAIGtcbiAgICAgICAgICAgIGNpbmRleC5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBTIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoU2lqLCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gUykuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihTaWosIGIpICA7IFMoaSxqKSAhPT0gMFxuICAgKiBDKGksaikgPSDilKRcbiAgICogICAgICAgICAg4pSUICBiICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHMgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7U2NhbGFyfSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTY2FsYXIgdmFsdWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLGIpIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKGIsU2lqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjI2ODEzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMTAocywgYiwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gcy5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBzLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IHMuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBzLl9zaXplO1xuICAgIHZhciBhZHQgPSBzLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBQYXR0ZXJuIFNwYXJzZSBNYXRyaXggYW5kIFNjYWxhciB2YWx1ZScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCBiIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIGIgPSB0eXBlZC5jb252ZXJ0KGIsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyB3b3Jrc3BhY2VzXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1ucyBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciByID0gYWluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgeFtyXSA9IGF2YWx1ZXNba107XG4gICAgICAgIHdbcl0gPSBtYXJrO1xuICAgICAgfSAvLyBsb29wIHJvd3NcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIEMgb24gZmlyc3QgY29sdW1uXG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJvdyBhcnJheVxuICAgICAgICAgIGNkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgc3BhcnNlIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGksalxuXG5cbiAgICAgICAgaWYgKHdbaV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2ssIHVwZGF0ZSBDXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBpbnZlcnNlID8gY2YoYiwgeFtpXSkgOiBjZih4W2ldLCBiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkZW5zZSBtYXRyaXggdmFsdWUgQCBpLCBqXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSBiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBEZW5zZU1hdHJpeCBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWouLnosIEJpai4ueikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaiwuLi56KSA9IGYoQWlqLi56LCBCaWouLnopXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWouLnosQmlqLi56KSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2NTg2NThcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMyhhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBhcnJheXNcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIGMgYXJyYXlzXG5cbiAgICB2YXIgY3NpemUgPSBbXTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gdmFsaWRhdGUgZWFjaCBvbmUgb2YgdGhlIGRpbWVuc2lvbiBzaXplc1xuXG5cbiAgICBmb3IgKHZhciBzID0gMDsgcyA8IGFzaXplLmxlbmd0aDsgcysrKSB7XG4gICAgICAvLyBtdXN0IG1hdGNoXG4gICAgICBpZiAoYXNpemVbc10gIT09IGJzaXplW3NdKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgICAgfSAvLyB1cGRhdGUgZGltZW5zaW9uIGluIGNcblxuXG4gICAgICBjc2l6ZVtzXSA9IGFzaXplW3NdO1xuICAgIH0gLy8gZGF0YXR5cGVcblxuXG4gICAgdmFyIGR0OyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBwb3B1bGF0ZSBjZGF0YSwgaXRlcmF0ZSB0aHJvdWdoIGRpbWVuc2lvbnNcblxuXG4gICAgdmFyIGNkYXRhID0gY3NpemUubGVuZ3RoID4gMCA/IF9pdGVyYXRlKGNmLCAwLCBjc2l6ZSwgY3NpemVbMF0sIGFkYXRhLCBiZGF0YSkgOiBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogY3NpemUsXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTsgLy8gcmVjdXJzaXZlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gX2l0ZXJhdGUoZiwgbGV2ZWwsIHMsIG4sIGF2LCBidikge1xuICAgIC8vIGluaXRpYWxpemUgYXJyYXkgZm9yIHRoaXMgbGV2ZWxcbiAgICB2YXIgY3YgPSBbXTsgLy8gY2hlY2sgd2UgcmVhY2ggdGhlIGxhc3QgbGV2ZWxcblxuICAgIGlmIChsZXZlbCA9PT0gcy5sZW5ndGggLSAxKSB7XG4gICAgICAvLyBsb29wIGFycmF5cyBpbiBsYXN0IGxldmVsXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2sgYW5kIHN0b3JlIHZhbHVlXG4gICAgICAgIGN2W2ldID0gZihhdltpXSwgYnZbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpdGVyYXRlIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgICAgIC8vIGl0ZXJhdGUgbmV4dCBsZXZlbFxuICAgICAgICBjdltqXSA9IF9pdGVyYXRlKGYsIGxldmVsICsgMSwgcywgc1tsZXZlbCArIDFdLCBhdltqXSwgYnZbal0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdjtcbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFNwYXJzZU1hdHJpeCkuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc0Nzc1NzFcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wMihkZW5zZU1hdHJpeCwgc3BhcnNlTWF0cml4LCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGRlbnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBkZW5zZU1hdHJpeC5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBkZW5zZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gZGVuc2VNYXRyaXguX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBzcGFyc2VNYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gc3BhcnNlTWF0cml4Ll9pbmRleDtcbiAgICB2YXIgYnB0ciA9IHNwYXJzZU1hdHJpeC5fcHRyO1xuICAgIHZhciBic2l6ZSA9IHNwYXJzZU1hdHJpeC5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gc3BhcnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gc3BhcnNlIG1hdHJpeCBjYW5ub3QgYmUgYSBQYXR0ZXJuIG1hdHJpeFxuXG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIERlbnNlIE1hdHJpeCBhbmQgUGF0dGVybiBTcGFyc2UgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IChTcGFyc2VNYXRyaXgpXG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGxvb3AgY29sdW1ucyBpbiBiXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIEMoaSxqKVxuXG4gICAgICAgIHZhciBjaWogPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pOyAvLyBjaGVjayBmb3Igbm9uemVyb1xuXG4gICAgICAgIGlmICghZXEoY2lqLCB6ZXJvKSkge1xuICAgICAgICAgIC8vIHB1c2ggaSAmIHZcbiAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICBjdmFsdWVzLnB1c2goY2lqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gc3BhcnNlTWF0cml4LmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAzJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNKk4gdGltZXMuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGYoRGlqLCAwKSAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTAzKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgKERlbnNlTWF0cml4KVxuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBkZW5zZSBtYXRyaXhcblxuICAgIGZvciAodmFyIHogPSAwOyB6IDwgcm93czsgeisrKSB7XG4gICAgICAvLyBpbml0aWFsaXplIHJvd1xuICAgICAgY2RhdGFbel0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGNvbHVtbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTtcbiAgICAgICAgd1tpXSA9IG1hcms7XG4gICAgICB9IC8vIHByb2Nlc3Mgd29ya3NwYWNlXG5cblxuICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCByb3dzOyB5KyspIHtcbiAgICAgICAgLy8gY2hlY2sgd2UgaGF2ZSBhIGNhbGN1bGF0ZWQgdmFsdWUgZm9yIGN1cnJlbnQgcm93XG4gICAgICAgIGlmICh3W3ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gdXNlIGNhbGN1bGF0ZWQgdmFsdWVcbiAgICAgICAgICBjZGF0YVt5XVtqXSA9IHhbeV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlXG4gICAgICAgICAgY2RhdGFbeV1bal0gPSBpbnZlcnNlID8gY2YoemVybywgYWRhdGFbeV1bal0pIDogY2YoYWRhdGFbeV1bal0sIHplcm8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBkZW5zZU1hdHJpeC5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpaiwgQmlqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNQVgoTk5aQSwgTk5aQikgdGltZXNcbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKEFpaiwgQmlqKSAgOyBBKGksaikgIT09IDAgfHwgQihpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIDAgICAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA1KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgYXJyYXlzXG5cblxuICAgIHZhciBjdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4YSA9IGN2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgeGIgPSBjdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGssIGsxOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBjcHRyXG4gICAgICBjcHRyW2pdID0gY2luZGV4Lmxlbmd0aDsgLy8gY29sdW1ucyBtYXJrXG5cbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIGxvb3AgdmFsdWVzIEEoOixqKVxuXG4gICAgICBmb3IgKGsgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGFpbmRleFtrXTsgLy8gcHVzaCBpbmRleFxuXG4gICAgICAgIGNpbmRleC5wdXNoKGkpOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgICAgd2FbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhhKSB7XG4gICAgICAgICAgeGFbaV0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGxvb3AgdmFsdWVzIEIoOixqKVxuXG5cbiAgICAgIGZvciAoayA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYmluZGV4W2tdOyAvLyBjaGVjayByb3cgZXhpc3RlZCBpbiBBXG5cbiAgICAgICAgaWYgKHdhW2ldICE9PSBtYXJrKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleFxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICB9IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuXG4gICAgICAgIHdiW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgIGlmICh4Yikge1xuICAgICAgICAgIHhiW2ldID0gYnZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzIChub24gcGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKGN2YWx1ZXMpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmaXJzdCBpbmRleCBpbiBqXG4gICAgICAgIGsgPSBjcHRyW2pdOyAvLyBsb29wIGluZGV4IGluIGpcblxuICAgICAgICB3aGlsZSAoayA8IGNpbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gY2luZGV4W2tdOyAvLyBtYXJrc1xuXG4gICAgICAgICAgdmFyIHdhaSA9IHdhW2ldO1xuICAgICAgICAgIHZhciB3YmkgPSB3YltpXTsgLy8gY2hlY2sgQWlqIG9yIEJpaiBhcmUgbm9uemVyb1xuXG4gICAgICAgICAgaWYgKHdhaSA9PT0gbWFyayB8fCB3YmkgPT09IG1hcmspIHtcbiAgICAgICAgICAgIC8vIG1hdHJpeCB2YWx1ZXMgQCBpLGpcbiAgICAgICAgICAgIHZhciB2YSA9IHdhaSA9PT0gbWFyayA/IHhhW2ldIDogemVybztcbiAgICAgICAgICAgIHZhciB2YiA9IHdiaSA9PT0gbWFyayA/IHhiW2ldIDogemVybzsgLy8gQ2lqXG5cbiAgICAgICAgICAgIHZhciB2YyA9IGNmKHZhLCB2Yik7IC8vIGNoZWNrIGZvciB6ZXJvXG5cbiAgICAgICAgICAgIGlmICghZXEodmMsIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHB1c2ggdmFsdWVcbiAgICAgICAgICAgICAgY3ZhbHVlcy5wdXNoKHZjKTsgLy8gaW5jcmVtZW50IHBvaW50ZXJcblxuICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyByZW1vdmUgdmFsdWUgQCBpLCBkbyBub3QgaW5jcmVtZW50IHBvaW50ZXJcbiAgICAgICAgICAgICAgY2luZGV4LnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGYoMCwgYikgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMihzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIHIgPSBhaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W3JdID0gYXZhbHVlc1trXTtcbiAgICAgICAgd1tyXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgQyBvbiBmaXJzdCBjb2x1bW5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcm93IGFycmF5XG4gICAgICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayBzcGFyc2UgbWF0cml4IGhhcyBhIHZhbHVlIEAgaSxqXG5cblxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFjaywgdXBkYXRlIENcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCB4W2ldKSA6IGNmKHhbaV0sIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlbnNlIG1hdHJpeCB2YWx1ZSBAIGksIGpcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCAwKSA6IGNmKDAsIGIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gZGVuc2UgbWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgbW9kTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ21vZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTW9kID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDIgPSBjcmVhdGVBbGdvcml0aG0wMih7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA1ID0gY3JlYXRlQWxnb3JpdGhtMDUoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBtb2R1bHVzLCB0aGUgcmVtYWluZGVyIG9mIGFuIGludGVnZXIgZGl2aXNpb24uXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFRoZSBtb2R1bHVzIGlzIGRlZmluZWQgYXM6XG4gICAqXG4gICAqICAgICB4IC0geSAqIGZsb29yKHggLyB5KVxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW9kdWxvX29wZXJhdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm1vZCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5tb2QoOCwgMykgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyXG4gICAqICAgIG1hdGgubW9kKDExLCAyKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgMVxuICAgKlxuICAgKiAgICBmdW5jdGlvbiBpc09kZCh4KSB7XG4gICAqICAgICAgcmV0dXJuIG1hdGgubW9kKHgsIDIpICE9IDBcbiAgICogICAgfVxuICAgKlxuICAgKiAgICBpc09kZCgyKSAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIGlzT2RkKDMpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGl2aWRlXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IHggRGl2aWRlbmRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0geSBEaXZpc29yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdGhlIHJlbWFpbmRlciBvZiBgeGAgZGl2aWRlZCBieSBgeWAuXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogbW9kTnVtYmVyLFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICBpZiAoeS5pc05lZygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geS5pc1plcm8oKSA/IHggOiB4Lm1vZCh5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIGlmICh5LmNvbXBhcmUoMCkgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICAgICAgfSAvLyBXb3JrYXJvdW5kIHN1Z2dlc3RlZCBpbiBGcmFjdGlvbi5qcyBsaWJyYXJ5IHRvIGNhbGN1bGF0ZSBjb3JyZWN0IG1vZHVsbyBmb3IgbmVnYXRpdmUgZGl2aWRlbmRcblxuXG4gICAgICByZXR1cm4geC5jb21wYXJlKDApID49IDAgPyB4Lm1vZCh5KSA6IHgubW9kKHkpLmFkZCh5KS5tb2QoeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA1KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG11bHRpcGx5TnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ211bHRpcGx5U2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZU11bHRpcGx5U2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IHR3byBzY2FsYXIgdmFsdWVzLCBgeCAqIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvblxuICAgKiBgbXVsdGlwbHlgXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjb2xsZWN0aW9ucyAoQXJyYXkgb3IgTWF0cml4KS5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0geCAgIEZpcnN0IHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdH0gICAgIE11bHRpcGxpY2F0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ211bHRpcGx5U2NhbGFyJywge1xuICAgICdudW1iZXIsIG51bWJlcic6IG11bHRpcGx5TnVtYmVyLFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnRpbWVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsKHkpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQ29tcGxleCwgVW5pdCc6IGZ1bmN0aW9uIG51bWJlckZyYWN0aW9uQmlnTnVtYmVyQ29tcGxleFVuaXQoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHkuY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKHgpIDogdGhpcyhyZXMudmFsdWUsIHgpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgnOiBmdW5jdGlvbiBVbml0TnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJDb21wbGV4KHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSByZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZSh5KSA6IHRoaXMocmVzLnZhbHVlLCB5KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm11bHRpcGx5KHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnbXVsdGlwbHknO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FkZFNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdlcXVhbFNjYWxhcicsICdkb3QnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTXVsdGlwbHkgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGRvdFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyhzaXplMSwgc2l6ZTIpIHtcbiAgICAvLyBjaGVjayBsZWZ0IG9wZXJhbmQgZGltZW5zaW9uc1xuICAgIHN3aXRjaCAoc2l6ZTEubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIGNoZWNrIHNpemUyXG4gICAgICAgIHN3aXRjaCAoc2l6ZTIubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgLy8gVmVjdG9yIHggVmVjdG9yXG4gICAgICAgICAgICBpZiAoc2l6ZTFbMF0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIFZlY3RvcnMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIC8vIFZlY3RvciB4IE1hdHJpeFxuICAgICAgICAgICAgaWYgKHNpemUxWzBdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBWZWN0b3IgbGVuZ3RoICgnICsgc2l6ZTFbMF0gKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCByb3dzICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEIgaGFzICcgKyBzaXplMi5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICAvLyBjaGVjayBzaXplMlxuICAgICAgICBzd2l0Y2ggKHNpemUyLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIE1hdHJpeCB4IFZlY3RvclxuICAgICAgICAgICAgaWYgKHNpemUxWzFdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBNYXRyaXggY29sdW1ucyAoJyArIHNpemUxWzFdICsgJykgbXVzdCBtYXRjaCBWZWN0b3IgbGVuZ3RoICgnICsgc2l6ZTJbMF0gKyAnKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIC8vIE1hdHJpeCB4IE1hdHJpeFxuICAgICAgICAgICAgaWYgKHNpemUxWzFdICE9PSBzaXplMlswXSkge1xuICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoIGluIG11bHRpcGxpY2F0aW9uLiBNYXRyaXggQSBjb2x1bW5zICgnICsgc2l6ZTFbMV0gKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCIHJvd3MgKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQiBoYXMgJyArIHNpemUyLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IG11bHRpcGx5IGEgMSBvciAyIGRpbWVuc2lvbmFsIG1hdHJpeCAoTWF0cml4IEEgaGFzICcgKyBzaXplMS5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICBTY2FsYXIgdmFsdWVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JWZWN0b3IoYSwgYiwgbikge1xuICAgIC8vIGNoZWNrIGVtcHR5IHZlY3RvclxuICAgIGlmIChuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSB0d28gZW1wdHkgdmVjdG9ycycpO1xuICAgIH1cblxuICAgIHJldHVybiBkb3QoYSwgYik7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChNKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5VmVjdG9yTWF0cml4KGEsIGIpIHtcbiAgICAvLyBwcm9jZXNzIHN0b3JhZ2VcbiAgICBpZiAoYi5zdG9yYWdlKCkgIT09ICdkZW5zZScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwcG9ydCBmb3IgU3BhcnNlTWF0cml4IG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeChhLCBiKTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgTWF0cml4ICAgKE14TilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYWxlbmd0aCA9IGFzaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmNvbHVtbnM7IGorKykge1xuICAgICAgLy8gc3VtIChkbyBub3QgaW5pdGlhbGl6ZSBpdCB3aXRoIHplcm8pXG4gICAgICB2YXIgc3VtID0gbWYoYWRhdGFbMF0sIGJkYXRhWzBdW2pdKTsgLy8gbG9vcCB2ZWN0b3JcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgIHN1bSA9IGFmKHN1bSwgbWYoYWRhdGFbaV0sIGJkYXRhW2ldW2pdKSk7XG4gICAgICB9XG5cbiAgICAgIGNbal0gPSBzdW07XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqL1xuXG5cbiAgdmFyIF9tdWx0aXBseU1hdHJpeFZlY3RvciA9IHR5cGVkKCdfbXVsdGlwbHlNYXRyaXhWZWN0b3InLCB7XG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBfbXVsdGlwbHlEZW5zZU1hdHJpeFZlY3RvcixcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhWZWN0b3JcbiAgfSk7XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14QylcbiAgICovXG5cblxuICB2YXIgX211bHRpcGx5TWF0cml4TWF0cml4ID0gdHlwZWQoJ19tdWx0aXBseU1hdHJpeE1hdHJpeCcsIHtcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogX211bHRpcGx5RGVuc2VNYXRyaXhEZW5zZU1hdHJpeCxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9tdWx0aXBseURlbnNlTWF0cml4U3BhcnNlTWF0cml4LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogX211bHRpcGx5U3BhcnNlTWF0cml4RGVuc2VNYXRyaXgsXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX211bHRpcGx5U3BhcnNlTWF0cml4U3BhcnNlTWF0cml4XG4gIH0pO1xuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTSlcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeFZlY3RvcihhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgZGVuc2VcblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGFjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggYSByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICB2YXIgcm93ID0gYWRhdGFbaV07IC8vIHN1bSAoZG8gbm90IGluaXRpYWxpemUgaXQgd2l0aCB6ZXJvKVxuXG4gICAgICB2YXIgc3VtID0gbWYocm93WzBdLCBiZGF0YVswXSk7IC8vIGxvb3AgbWF0cml4IGEgY29sdW1uc1xuXG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgIHN1bSA9IGFmKHN1bSwgbWYocm93W2pdLCBiZGF0YVtqXSkpO1xuICAgICAgfVxuXG4gICAgICBjW2ldID0gc3VtO1xuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Fyb3dzXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeERlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBhY29sdW1ucyA9IGFzaXplWzFdO1xuICAgIHZhciBiY29sdW1ucyA9IGJzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjID0gW107IC8vIGxvb3AgbWF0cml4IGEgcm93c1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgdmFyIHJvdyA9IGFkYXRhW2ldOyAvLyBpbml0aWFsaXplIHJvdyBhcnJheVxuXG4gICAgICBjW2ldID0gW107IC8vIGxvb3AgbWF0cml4IGIgY29sdW1uc1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgLy8gc3VtIChhdm9pZCBpbml0aWFsaXppbmcgc3VtIHRvIHplcm8pXG4gICAgICAgIHZhciBzdW0gPSBtZihyb3dbMF0sIGJkYXRhWzBdW2pdKTsgLy8gbG9vcCBtYXRyaXggYSBjb2x1bW5zXG5cbiAgICAgICAgZm9yICh2YXIgeCA9IDE7IHggPCBhY29sdW1uczsgeCsrKSB7XG4gICAgICAgICAgLy8gbXVsdGlwbHkgJiBhY2N1bXVsYXRlXG4gICAgICAgICAgc3VtID0gYWYoc3VtLCBtZihyb3dbeF0sIGJkYXRhW3hdW2pdKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjW2ldW2pdID0gc3VtO1xuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gYS5jcmVhdGVEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5RGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIHNwYXJzZVxuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBiIG1hdHJpeFxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBEZW5zZSBNYXRyaXggdGltZXMgUGF0dGVybiBvbmx5IE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBiLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBpbmRlY2VzIGluIGNvbHVtbiBqYlxuXG4gICAgICB2YXIga2IwID0gYnB0cltqYl07XG4gICAgICB2YXIga2IxID0gYnB0cltqYiArIDFdOyAvLyBkbyBub3QgcHJvY2VzcyBjb2x1bW4gamIgaWYgbm8gZGF0YSBleGlzdHNcblxuICAgICAgaWYgKGtiMSA+IGtiMCkge1xuICAgICAgICAvLyBsYXN0IHJvdyBtYXJrIHByb2Nlc3NlZFxuICAgICAgICB2YXIgbGFzdCA9IDA7IC8vIGxvb3AgYSByb3dzXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgICAgICB2YXIgbWFyayA9IGkgKyAxOyAvLyBDW2ksIGpiXVxuXG4gICAgICAgICAgdmFyIGNpaiA9IHZvaWQgMDsgLy8gdmFsdWVzIGluIGIgY29sdW1uIGpcblxuICAgICAgICAgIGZvciAodmFyIGtiID0ga2IwOyBrYiA8IGtiMTsga2IrKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICB2YXIgaWIgPSBiaW5kZXhba2JdOyAvLyBjaGVjayB2YWx1ZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuXG4gICAgICAgICAgICBpZiAobGFzdCAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBmaXJzdCB2YWx1ZSBpbiBjb2x1bW4gamJcbiAgICAgICAgICAgICAgY2lqID0gbWYoYWRhdGFbaV1baWJdLCBidmFsdWVzW2tiXSk7IC8vIHVwZGF0ZSBtYXJrXG5cbiAgICAgICAgICAgICAgbGFzdCA9IG1hcms7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBhY2N1bXVsYXRlIHZhbHVlXG4gICAgICAgICAgICAgIGNpaiA9IGFmKGNpaiwgbWYoYWRhdGFbaV1baWJdLCBidmFsdWVzW2tiXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGhhcyBiZWVuIHByb2Nlc3NlZCBhbmQgdmFsdWUgIT0gMFxuXG5cbiAgICAgICAgICBpZiAobGFzdCA9PT0gbWFyayAmJiAhZXEoY2lqLCB6ZXJvKSkge1xuICAgICAgICAgICAgLy8gcHVzaCByb3cgJiB2YWx1ZVxuICAgICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICBjdmFsdWVzLnB1c2goY2lqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgKE0sIDEpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4VmVjdG9yKGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGEgbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IFBhdHRlcm4gb25seSBNYXRyaXggdGltZXMgRGVuc2UgTWF0cml4Jyk7XG4gICAgfSAvLyBiIGRlbnNlXG5cblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYnJvd3MgPSBiLl9zaXplWzBdOyAvLyByZXN1bHRcblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHdvcmtzcGFjZVxuXG5cbiAgICB2YXIgeCA9IFtdOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIHVwZGF0ZSBwdHJcblxuICAgIGNwdHJbMF0gPSAwOyAvLyByb3dzIGluIGJcblxuICAgIGZvciAodmFyIGliID0gMDsgaWIgPCBicm93czsgaWIrKykge1xuICAgICAgLy8gYltpYl1cbiAgICAgIHZhciB2YmkgPSBiZGF0YVtpYl07IC8vIGNoZWNrIGJbaWJdICE9IDAsIGF2b2lkIGxvb3BzXG5cbiAgICAgIGlmICghZXEodmJpLCB6ZXJvKSkge1xuICAgICAgICAvLyBBIHZhbHVlcyAmIGluZGV4IGluIGliIGNvbHVtblxuICAgICAgICBmb3IgKHZhciBrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAvLyBhIHJvd1xuICAgICAgICAgIHZhciBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgIGlmICghd1tpYV0pIHtcbiAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICB3W2lhXSA9IHRydWU7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICB4W2lhXSA9IG1mKHZiaSwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKHZiaSwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuXG5cbiAgICBmb3IgKHZhciBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSAwOyBwIDwgcDE7IHArKykge1xuICAgICAgLy8gcm93XG4gICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyWzFdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCAxXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlTWF0cml4ICAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBzcGFyc2VcbiAgICB2YXIgYXZhbHVlcyA9IGEuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBhLl9wdHI7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBhIG1hdHJpeFxuXG4gICAgaWYgKCFhdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtdWx0aXBseSBQYXR0ZXJuIG9ubHkgTWF0cml4IHRpbWVzIERlbnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gYiBkZW5zZVxuXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhcm93cyA9IGEuX3NpemVbMF07XG4gICAgdmFyIGJyb3dzID0gYi5fc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBiLl9zaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gZXF1YWxTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHZhciBjID0gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFthcm93cywgYmNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7IC8vIHdvcmtzcGFjZVxuXG4gICAgdmFyIHggPSBbXTsgLy8gdmVjdG9yIHdpdGggbWFya3MgaW5kaWNhdGluZyBhIHZhbHVlIHhbaV0gZXhpc3RzIGluIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIG1hcmsgaW4gd29ya3NwYWNlIGZvciBjdXJyZW50IGNvbHVtblxuXG4gICAgICB2YXIgbWFyayA9IGpiICsgMTsgLy8gcm93cyBpbiBqYlxuXG4gICAgICBmb3IgKHZhciBpYiA9IDA7IGliIDwgYnJvd3M7IGliKyspIHtcbiAgICAgICAgLy8gYltpYiwgamJdXG4gICAgICAgIHZhciB2YmlqID0gYmRhdGFbaWJdW2piXTsgLy8gY2hlY2sgYltpYiwgamJdICE9IDAsIGF2b2lkIGxvb3BzXG5cbiAgICAgICAgaWYgKCFlcSh2YmlqLCB6ZXJvKSkge1xuICAgICAgICAgIC8vIEEgdmFsdWVzICYgaW5kZXggaW4gaWIgY29sdW1uXG4gICAgICAgICAgZm9yICh2YXIga2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyBhIHJvd1xuICAgICAgICAgICAgdmFyIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICAgIHhbaWFdID0gbWYodmJpaiwgYXZhbHVlc1trYV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaSBleGlzdHMgaW4gQyBhbHJlYWR5XG4gICAgICAgICAgICAgIHhbaWFdID0gYWYoeFtpYV0sIG1mKHZiaWosIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuXG5cbiAgICAgIGZvciAodmFyIHAwID0gY3B0cltqYl0sIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IHAwOyBwIDwgcDE7IHArKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgICAgY3ZhbHVlc1twXSA9IHhbaWNdO1xuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTnhDKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeEMpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX211bHRpcGx5U3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgc3BhcnNlXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBiLl9zaXplWzFdOyAvLyBmbGFnIGluZGljYXRpbmcgYm90aCBtYXRyaWNlcyAoYSAmIGIpIGNvbnRhaW4gZGF0YVxuXG4gICAgdmFyIHZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlczsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IHZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeCA9IHZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIHZhcmlhYmxlc1xuXG4gICAgdmFyIGthLCBrYTAsIGthMSwga2IsIGtiMCwga2IxLCBpYSwgaWI7IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gbWFyayBpbiB3b3Jrc3BhY2UgZm9yIGN1cnJlbnQgY29sdW1uXG5cbiAgICAgIHZhciBtYXJrID0gamIgKyAxOyAvLyBCIHZhbHVlcyAmIGluZGV4IGluIGpcblxuICAgICAgZm9yIChrYjAgPSBicHRyW2piXSwga2IxID0gYnB0cltqYiArIDFdLCBrYiA9IGtiMDsga2IgPCBrYjE7IGtiKyspIHtcbiAgICAgICAgLy8gYiByb3dcbiAgICAgICAgaWIgPSBiaW5kZXhba2JdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIC8vIGxvb3AgdmFsdWVzIGluIGFbOixpYl1cbiAgICAgICAgICBmb3IgKGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpOyAvLyB4KGlhKSA9IEFcblxuICAgICAgICAgICAgICB4W2lhXSA9IG1mKGJ2YWx1ZXNba2JdLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYoYnZhbHVlc1trYl0sIGF2YWx1ZXNba2FdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxvb3AgdmFsdWVzIGluIGFbOixpYl1cbiAgICAgICAgICBmb3IgKGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgICAgLy8gcm93XG4gICAgICAgICAgICBpYSA9IGFpbmRleFtrYV07IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgICAgICAgaWYgKHdbaWFdICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGlhIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgICAgICAgIHdbaWFdID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgICAgY2luZGV4LnB1c2goaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgbWF0cml4IHZhbHVlcyAocGF0dGVybiBtYXRyaXgpXG5cblxuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAvLyBjb3B5IHZhbHVlcyBmcm9tIHggdG8gY29sdW1uIGpiIG9mIGNcbiAgICAgICAgZm9yICh2YXIgcDAgPSBjcHRyW2piXSwgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gcDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgdmFyIGljID0gY2luZGV4W3BdOyAvLyBjb3B5IHZhbHVlXG5cbiAgICAgICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgY3B0cltiY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IHR3byBvciBtb3JlIHZhbHVlcywgYHggKiB5YC5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgbWF0cml4IHByb2R1Y3QgaXMgY2FsY3VsYXRlZC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm11bHRpcGx5KHgsIHkpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoeCwgeSwgeiwgLi4uKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5tdWx0aXBseSg0LCA1LjIpICAgICAgICAvLyByZXR1cm5zIG51bWJlciAyMC44XG4gICAqICAgIG1hdGgubXVsdGlwbHkoMiwgMywgNCkgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMjRcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGgubXVsdGlwbHkoYSwgYikgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDUgKyAxNGlcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgY29uc3QgZCA9IFtbMSwgMiwgM10sIFszLCAtNCwgN11dXG4gICAqICAgIG1hdGgubXVsdGlwbHkoYywgZCkgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWzcsIC02LCAxN10sIFsxMywgLTQsIDMzXV1cbiAgICpcbiAgICogICAgY29uc3QgZSA9IG1hdGgudW5pdCgnMi4xIGttJylcbiAgICogICAgbWF0aC5tdWx0aXBseSgzLCBlKSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNi4zIGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaXZpZGUsIHByb2QsIGNyb3NzLCBkb3RcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIG11bHRpcGx5XG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBNdWx0aXBsaWNhdGlvbiBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuXG4gIHJldHVybiB0eXBlZChuYW1lLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBtdWx0aXBseVNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgZGltZW5zaW9uc1xuICAgICAgX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyhhcnJheVNpemUoeCksIGFycmF5U2l6ZSh5KSk7IC8vIHVzZSBkZW5zZSBtYXRyaXggaW1wbGVtZW50YXRpb25cblxuXG4gICAgICB2YXIgbSA9IHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpOyAvLyByZXR1cm4gYXJyYXkgb3Igc2NhbGFyXG5cbiAgICAgIHJldHVybiBpc01hdHJpeChtKSA/IG0udmFsdWVPZigpIDogbTtcbiAgICB9LFxuICAgICdNYXRyaXgsIE1hdHJpeCc6IGZ1bmN0aW9uIE1hdHJpeE1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBkaW1lbnNpb25zXG4gICAgICB2YXIgeHNpemUgPSB4LnNpemUoKTtcbiAgICAgIHZhciB5c2l6ZSA9IHkuc2l6ZSgpOyAvLyBjaGVjayBkaW1lbnNpb25zXG5cbiAgICAgIF92YWxpZGF0ZU1hdHJpeERpbWVuc2lvbnMoeHNpemUsIHlzaXplKTsgLy8gcHJvY2VzcyBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHhzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBwcm9jZXNzIHkgZGltZW5zaW9uc1xuICAgICAgICBpZiAoeXNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gVmVjdG9yICogVmVjdG9yXG4gICAgICAgICAgcmV0dXJuIF9tdWx0aXBseVZlY3RvclZlY3Rvcih4LCB5LCB4c2l6ZVswXSk7XG4gICAgICAgIH0gLy8gVmVjdG9yICogTWF0cml4XG5cblxuICAgICAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yTWF0cml4KHgsIHkpO1xuICAgICAgfSAvLyBwcm9jZXNzIHkgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmICh5c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gTWF0cml4ICogVmVjdG9yXG4gICAgICAgIHJldHVybiBfbXVsdGlwbHlNYXRyaXhWZWN0b3IoeCwgeSk7XG4gICAgICB9IC8vIE1hdHJpeCAqIE1hdHJpeFxuXG5cbiAgICAgIHJldHVybiBfbXVsdGlwbHlNYXRyaXhNYXRyaXgoeCwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBNYXRyaXggKiBNYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBNYXRyaXggKiBNYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4LCB5LnN0b3JhZ2UoKSksIHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgbXVsdGlwbHlTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgbXVsdGlwbHlTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIGFueSc6IG11bHRpcGx5U2NhbGFyLFxuICAgICdhbnksIGFueSwgLi4uYW55JzogZnVuY3Rpb24gYW55QW55QW55KHgsIHksIHJlc3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzKHgsIHkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcyhyZXN1bHQsIHJlc3RbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwgbXVsdGlwbHlTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDUgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wNS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdzdWJ0cmFjdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnYWRkU2NhbGFyJywgJ3VuYXJ5TWludXMnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3VidHJhY3QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgYWRkU2NhbGFyLFxuICAgIHVuYXJ5TWludXMsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIC8vIFRPRE86IHNwbGl0IGZ1bmN0aW9uIHN1YnRyYWN0IGluIHR3bzogc3VidHJhY3QgYW5kIHN1YnRyYWN0U2NhbGFyXG4gIHZhciBhbGdvcml0aG0wMSA9IGNyZWF0ZUFsZ29yaXRobTAxKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDUgPSBjcmVhdGVBbGdvcml0aG0wNSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMCA9IGNyZWF0ZUFsZ29yaXRobTEwKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBTdWJ0cmFjdCB0d28gdmFsdWVzLCBgeCAtIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoNS4zLCAyKSAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4zXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLnN1YnRyYWN0KGEsIGIpICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtMiArIDJpXG4gICAqXG4gICAqICAgIG1hdGguc3VidHJhY3QoWzUsIDcsIDRdLCA0KSAgLy8gcmV0dXJucyBBcnJheSBbMSwgMywgMF1cbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGgudW5pdCgnMi4xIGttJylcbiAgICogICAgY29uc3QgZCA9IG1hdGgudW5pdCgnNTAwbScpXG4gICAqICAgIG1hdGguc3VidHJhY3QoYywgZCkgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDEuNiBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYWRkXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geFxuICAgKiAgICAgICAgICAgIEluaXRpYWwgdmFsdWVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5XG4gICAqICAgICAgICAgICAgVmFsdWUgdG8gc3VidHJhY3QgZnJvbSBgeGBcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fVxuICAgKiAgICAgICAgICAgIFN1YnRyYWN0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IC0geTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguc3ViKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguc3ViKHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIFVuaXQnOiBmdW5jdGlvbiBVbml0VW5pdCh4LCB5KSB7XG4gICAgICBpZiAoeC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB4IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoeS52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB5IGNvbnRhaW5zIGEgdW5pdCB3aXRoIHVuZGVmaW5lZCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXguZXF1YWxCYXNlKHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSwgeS52YWx1ZSk7XG4gICAgICByZXMuZml4UHJlZml4ID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA1KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh4LCB1bmFyeU1pbnVzKHkpLCBhZGRTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgbWF0cml4IHggYW5kIHkgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgZGltZW5zaW9ucy5cbiAqIFRocm93cyBhIERpbWVuc2lvbkVycm9yIHdoZW4gZGltZW5zaW9ucyBhcmUgbm90IGVxdWFsXG4gKiBAcGFyYW0ge01hdHJpeH0geFxuICogQHBhcmFtIHtNYXRyaXh9IHlcbiAqL1xuXG5mdW5jdGlvbiBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KSB7XG4gIHZhciB4c2l6ZSA9IHguc2l6ZSgpO1xuICB2YXIgeXNpemUgPSB5LnNpemUoKTtcblxuICBpZiAoeHNpemUubGVuZ3RoICE9PSB5c2l6ZS5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoeHNpemUubGVuZ3RoLCB5c2l6ZS5sZW5ndGgpO1xuICB9XG59IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wNyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wNyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBBIGFuZCBTcGFyc2VNYXRyaXggQiBpdGVtcyAoemVybyBhbmQgbm9uemVybykgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE14TiB0aW1lcy5cbiAgICpcbiAgICogQyhpLGopID0gZihBaWosIEJpailcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyMDI5NFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTA3KGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgaSwgajsgLy8gcmVzdWx0IGFycmF5c1xuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIGluaXRpYWxpemUgY1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICB9IC8vIHdvcmtzcGFjZXNcblxuXG4gICAgdmFyIHhhID0gW107XG4gICAgdmFyIHhiID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgd2EgPSBbXTtcbiAgICB2YXIgd2IgPSBbXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHNjYXR0ZXIgdGhlIHZhbHVlcyBvZiBBKDosaikgaW50byB3b3Jrc3BhY2VcblxuICAgICAgX3NjYXR0ZXIoYSwgaiwgd2EsIHhhLCBtYXJrKTsgLy8gc2NhdHRlciB0aGUgdmFsdWVzIG9mIEIoOixqKSBpbnRvIHdvcmtzcGFjZVxuXG5cbiAgICAgIF9zY2F0dGVyKGIsIGosIHdiLCB4YiwgbWFyayk7IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gbWF0cml4IHZhbHVlcyBAIGksalxuICAgICAgICB2YXIgdmEgPSB3YVtpXSA9PT0gbWFyayA/IHhhW2ldIDogemVybztcbiAgICAgICAgdmFyIHZiID0gd2JbaV0gPT09IG1hcmsgPyB4YltpXSA6IHplcm87IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgICAgIGNkYXRhW2ldW2pdID0gY2YodmEsIHZiKTtcbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9zY2F0dGVyKG0sIGosIHcsIHgsIG1hcmspIHtcbiAgICAvLyBhIGFycmF5c1xuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXM7XG4gICAgdmFyIGluZGV4ID0gbS5faW5kZXg7XG4gICAgdmFyIHB0ciA9IG0uX3B0cjsgLy8gbG9vcCB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgIGZvciAodmFyIGsgPSBwdHJbal0sIGsxID0gcHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgdmFyIGkgPSBpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICB3W2ldID0gbWFyaztcbiAgICAgIHhbaV0gPSB2YWx1ZXNba107XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdjb25qJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbmogPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgY29tcGxleCBjb25qdWdhdGUgb2YgYSBjb21wbGV4IHZhbHVlLlxuICAgKiBJZiBgeCA9IGErYmlgLCB0aGUgY29tcGxleCBjb25qdWdhdGUgb2YgYHhgIGlzIGBhIC0gYmlgLlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguY29uaih4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnMiArIDNpJykpICAvLyByZXR1cm5zIENvbXBsZXggMiAtIDNpXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJzIgLSAzaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDIgKyAzaVxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCctNS4yaScpKSAgLy8gcmV0dXJucyBDb21wbGV4IDUuMmlcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHJlLCBpbSwgYXJnLCBhYnNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHhcbiAgICogICAgICAgICAgICBBIGNvbXBsZXggbnVtYmVyIG9yIGFycmF5IHdpdGggY29tcGxleCBudW1iZXJzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH1cbiAgICogICAgICAgICAgICBUaGUgY29tcGxleCBjb25qdWdhdGUgb2YgeFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5jb25qdWdhdGUoKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvLyAoYykgMjAxOCwgTWFyaXVzeiBOb3dha1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IElTQ1xuLy8gRGVyaXZlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2xydS1xdWV1ZVxuZXhwb3J0IGZ1bmN0aW9uIGxydVF1ZXVlKGxpbWl0KSB7XG4gIHZhciBzaXplID0gMDtcbiAgdmFyIGJhc2UgPSAxO1xuICB2YXIgcXVldWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGluZGV4ID0gMDtcblxuICB2YXIgZGVsID0gZnVuY3Rpb24gZGVsKGlkKSB7XG4gICAgdmFyIG9sZEluZGV4ID0gbWFwW2lkXTtcbiAgICBpZiAoIW9sZEluZGV4KSByZXR1cm47XG4gICAgZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcbiAgICBkZWxldGUgbWFwW2lkXTtcbiAgICAtLXNpemU7XG4gICAgaWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm47XG5cbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIGluZGV4ID0gMDtcbiAgICAgIGJhc2UgPSAxO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdoaWxlICghaGFzT3duUHJvcGVydHkuY2FsbChxdWV1ZSwgKytiYXNlKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9O1xuXG4gIGxpbWl0ID0gTWF0aC5hYnMobGltaXQpO1xuICByZXR1cm4ge1xuICAgIGhpdDogZnVuY3Rpb24gaGl0KGlkKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuICAgICAgdmFyIG51SW5kZXggPSArK2luZGV4O1xuICAgICAgcXVldWVbbnVJbmRleF0gPSBpZDtcbiAgICAgIG1hcFtpZF0gPSBudUluZGV4O1xuXG4gICAgICBpZiAoIW9sZEluZGV4KSB7XG4gICAgICAgICsrc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPD0gbGltaXQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlkID0gcXVldWVbYmFzZV07XG4gICAgICAgIGRlbChpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHF1ZXVlW29sZEluZGV4XTtcbiAgICAgIGlmIChiYXNlICE9PSBvbGRJbmRleCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZGVsZXRlOiBkZWwsXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgc2l6ZSA9IGluZGV4ID0gMDtcbiAgICAgIGJhc2UgPSAxO1xuICAgICAgcXVldWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gIH07XG59XG47IiwiLy8gZnVuY3Rpb24gdXRpbHNcbmltcG9ydCB7IGxydVF1ZXVlIH0gZnJvbSAnLi9scnVRdWV1ZS5qcyc7XG4vKipcbiAqIE1lbW9pemUgYSBnaXZlbiBmdW5jdGlvbiBieSBjYWNoaW5nIHRoZSBjb21wdXRlZCByZXN1bHQuXG4gKiBUaGUgY2FjaGUgb2YgYSBtZW1vaXplZCBmdW5jdGlvbiBjYW4gYmUgY2xlYXJlZCBieSBkZWxldGluZyB0aGUgYGNhY2hlYFxuICogcHJvcGVydHkgb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuICAgICAgICAgICAgICAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIGJlIG1lbW9pemVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNdXN0IGJlIGEgcHVyZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYXJnczogQXJyYXkpOiBzdHJpbmd9IFtvcHRpb25zLmhhc2hlcl1cbiAqICAgIEEgY3VzdG9tIGhhc2ggYnVpbGRlci4gSXMgSlNPTi5zdHJpbmdpZnkgYnkgZGVmYXVsdC5cbiAqIEBwYXJhbSB7bnVtYmVyIHwgdW5kZWZpbmVkfSBbb3B0aW9ucy5saW1pdF1cbiAqICAgIE1heGltdW0gbnVtYmVyIG9mIHZhbHVlcyB0aGF0IG1heSBiZSBjYWNoZWQuIFVuZGVmaW5lZCBpbmRpY2F0ZXNcbiAqICAgIHVubGltaXRlZCAoZGVmYXVsdClcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIge1xuICAgIGhhc2hlcixcbiAgICBsaW1pdFxuICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgbGltaXQgPSBsaW1pdCA9PSBudWxsID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDogbGltaXQ7XG4gIGhhc2hlciA9IGhhc2hlciA9PSBudWxsID8gSlNPTi5zdHJpbmdpZnkgOiBoYXNoZXI7XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtb2l6ZS5jYWNoZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG1lbW9pemUuY2FjaGUgPSB7XG4gICAgICAgIHZhbHVlczogbmV3IE1hcCgpLFxuICAgICAgICBscnU6IGxydVF1ZXVlKGxpbWl0IHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIHZhciBoYXNoID0gaGFzaGVyKGFyZ3MpO1xuXG4gICAgaWYgKG1lbW9pemUuY2FjaGUudmFsdWVzLmhhcyhoYXNoKSkge1xuICAgICAgbWVtb2l6ZS5jYWNoZS5scnUuaGl0KGhhc2gpO1xuICAgICAgcmV0dXJuIG1lbW9pemUuY2FjaGUudmFsdWVzLmdldChoYXNoKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgIG1lbW9pemUuY2FjaGUudmFsdWVzLnNldChoYXNoLCBuZXdWYWwpO1xuICAgIG1lbW9pemUuY2FjaGUudmFsdWVzLmRlbGV0ZShtZW1vaXplLmNhY2hlLmxydS5oaXQoaGFzaCkpO1xuICAgIHJldHVybiBuZXdWYWw7XG4gIH07XG59XG4vKipcbiAqIE1lbW9pemUgYSBnaXZlbiBmdW5jdGlvbiBieSBjYWNoaW5nIGFsbCByZXN1bHRzIGFuZCB0aGUgYXJndW1lbnRzLFxuICogYW5kIGNvbXBhcmluZyBhZ2FpbnN0IHRoZSBhcmd1bWVudHMgb2YgcHJldmlvdXMgcmVzdWx0cyBiZWZvcmVcbiAqIGV4ZWN1dGluZyBhZ2Fpbi5cbiAqIFRoaXMgaXMgbGVzcyBwZXJmb3JtYW50IHRoYW4gYG1lbW9pemVgIHdoaWNoIGNhbGN1bGF0ZXMgYSBoYXNoLFxuICogd2hpY2ggaXMgdmVyeSBmYXN0IHRvIGNvbXBhcmUuIFVzZSBgbWVtb2l6ZUNvbXBhcmVgIG9ubHkgd2hlbiBpdCBpc1xuICogbm90IHBvc3NpYmxlIHRvIGNyZWF0ZSBhIHVuaXF1ZSBzZXJpYWxpemFibGUgaGFzaCBmcm9tIHRoZSBmdW5jdGlvblxuICogYXJndW1lbnRzLlxuICogVGhlIGlzRXF1YWwgZnVuY3Rpb24gbXVzdCBjb21wYXJlIHR3byBzZXRzIG9mIGFyZ3VtZW50c1xuICogYW5kIHJldHVybiB0cnVlIHdoZW4gZXF1YWwgKGNhbiBiZSBhIGRlZXAgZXF1YWxpdHkgY2hlY2sgZm9yIGV4YW1wbGUpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYTogKiwgYjogKikgOiBib29sZWFufSBpc0VxdWFsXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVDb21wYXJlKGZuLCBpc0VxdWFsKSB7XG4gIHZhciBtZW1vaXplID0gZnVuY3Rpb24gbWVtb2l6ZSgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCBtZW1vaXplLmNhY2hlLmxlbmd0aDsgYysrKSB7XG4gICAgICB2YXIgY2FjaGVkID0gbWVtb2l6ZS5jYWNoZVtjXTtcblxuICAgICAgaWYgKGlzRXF1YWwoYXJncywgY2FjaGVkLmFyZ3MpKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyBjYWNoZSBlbnRyeSB0byB0aGUgdG9wIHNvIHJlY2VudGx5IHVzZWQgZW50cmllcyBtb3ZlIHVwP1xuICAgICAgICByZXR1cm4gY2FjaGVkLnJlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgIG1lbW9pemUuY2FjaGUudW5zaGlmdCh7XG4gICAgICBhcmdzLFxuICAgICAgcmVzXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBtZW1vaXplLmNhY2hlID0gW107XG4gIHJldHVybiBtZW1vaXplO1xufVxuLyoqXG4gKiBGaW5kIHRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudHMgZXhwZWN0ZWQgYnkgYSB0eXBlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuICAgQSB0eXBlZCBmdW5jdGlvblxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtYXhpbXVtIG51bWJlciBvZiBleHBlY3RlZCBhcmd1bWVudHMuXG4gKiAgICAgICAgICAgICAgICAgIFJldHVybnMgLTEgd2hlbiBubyBzaWduYXR1cmVzIHdoZXJlIGZvdW5kIG9uIHRoZSBmdW5jdGlvbi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4QXJndW1lbnRDb3VudChmbikge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZm4uc2lnbmF0dXJlcyB8fCB7fSkucmVkdWNlKGZ1bmN0aW9uIChhcmdzLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgY291bnQgPSAoc2lnbmF0dXJlLm1hdGNoKC8sL2cpIHx8IFtdKS5sZW5ndGggKyAxO1xuICAgIHJldHVybiBNYXRoLm1heChhcmdzLCBjb3VudCk7XG4gIH0sIC0xKTtcbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdpZGVudGl0eSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0JpZ051bWJlcicsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSWRlbnRpdHkgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIEJpZ051bWJlcixcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIDItZGltZW5zaW9uYWwgaWRlbnRpdHkgbWF0cml4IHdpdGggc2l6ZSBtIHggbiBvciBuIHggbi5cbiAgICogVGhlIG1hdHJpeCBoYXMgb25lcyBvbiB0aGUgZGlhZ29uYWwgYW5kIHplcm9zIGVsc2V3aGVyZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmlkZW50aXR5KG4pXG4gICAqICAgIG1hdGguaWRlbnRpdHkobiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLmlkZW50aXR5KG0sIG4pXG4gICAqICAgIG1hdGguaWRlbnRpdHkobSwgbiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLmlkZW50aXR5KFttLCBuXSlcbiAgICogICAgbWF0aC5pZGVudGl0eShbbSwgbl0sIGZvcm1hdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguaWRlbnRpdHkoMykgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwLCAwXSwgWzAsIDEsIDBdLCBbMCwgMCwgMV1dXG4gICAqICAgIG1hdGguaWRlbnRpdHkoMywgMikgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwXSwgWzAsIDFdLCBbMCwgMF1dXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgIG1hdGguaWRlbnRpdHkobWF0aC5zaXplKEEpKSAgICAgICAgIC8vIHJldHVybnMgW1sxLCAwLCAwXSwgWzAsIDEsIDBdXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZGlhZywgb25lcywgemVyb3MsIHNpemUsIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7Li4ubnVtYmVyIHwgTWF0cml4IHwgQXJyYXl9IHNpemUgICBUaGUgc2l6ZSBmb3IgdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXggfCBBcnJheSB8IG51bWJlcn0gQSBtYXRyaXggd2l0aCBvbmVzIG9uIHRoZSBkaWFnb25hbC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyBtYXRyaXgoW10pIDogW107XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhmb3JtYXQpIHtcbiAgICAgIHJldHVybiBtYXRyaXgoZm9ybWF0KTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXIocm93cykge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCByb3dzLCBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/ICdkZW5zZScgOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyU3RyaW5nKHJvd3MsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCByb3dzLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyKHJvd3MsIGNvbHMpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHkocm93cywgY29scywgY29uZmlnLm1hdHJpeCA9PT0gJ01hdHJpeCcgPyAnZGVuc2UnIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyTnVtYmVyQmlnTnVtYmVyU3RyaW5nKHJvd3MsIGNvbHMsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCBjb2xzLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KHNpemUpIHtcbiAgICAgIHJldHVybiBfaWRlbnRpdHlWZWN0b3Ioc2l6ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIHN0cmluZyc6IGZ1bmN0aW9uIEFycmF5U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLCBmb3JtYXQpO1xuICAgIH0sXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoc2l6ZSkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLnZhbHVlT2YoKSwgc2l6ZS5zdG9yYWdlKCkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgc3RyaW5nJzogZnVuY3Rpb24gTWF0cml4U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9pZGVudGl0eVZlY3RvcihzaXplLCBmb3JtYXQpIHtcbiAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBmb3JtYXQgPyBtYXRyaXgoZm9ybWF0KSA6IFtdO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfaWRlbnRpdHkoc2l6ZVswXSwgc2l6ZVswXSwgZm9ybWF0KTtcblxuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gX2lkZW50aXR5KHNpemVbMF0sIHNpemVbMV0sIGZvcm1hdCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmVjdG9yIGNvbnRhaW5pbmcgdHdvIHZhbHVlcyBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGlkZW50aXR5IG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gcm93c1xuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlcn0gY29sc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF1cbiAgICogQHJldHVybnMge01hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfaWRlbnRpdHkocm93cywgY29scywgZm9ybWF0KSB7XG4gICAgLy8gQmlnTnVtYmVyIGNvbnN0cnVjdG9yIHdpdGggdGhlIHJpZ2h0IHByZWNpc2lvblxuICAgIHZhciBCaWcgPSBpc0JpZ051bWJlcihyb3dzKSB8fCBpc0JpZ051bWJlcihjb2xzKSA/IEJpZ051bWJlciA6IG51bGw7XG4gICAgaWYgKGlzQmlnTnVtYmVyKHJvd3MpKSByb3dzID0gcm93cy50b051bWJlcigpO1xuICAgIGlmIChpc0JpZ051bWJlcihjb2xzKSkgY29scyA9IGNvbHMudG9OdW1iZXIoKTtcblxuICAgIGlmICghaXNJbnRlZ2VyKHJvd3MpIHx8IHJvd3MgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gaWRlbnRpdHkgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH1cblxuICAgIGlmICghaXNJbnRlZ2VyKGNvbHMpIHx8IGNvbHMgPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gaWRlbnRpdHkgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgIH1cblxuICAgIHZhciBvbmUgPSBCaWcgPyBuZXcgQmlnTnVtYmVyKDEpIDogMTtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gQmlnID8gbmV3IEJpZygwKSA6IDA7XG4gICAgdmFyIHNpemUgPSBbcm93cywgY29sc107IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmV0dXJuIGEgbWF0cml4XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAvLyBjcmVhdGUgZGlhZ29uYWwgbWF0cml4ICh1c2Ugb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGZvciBzdG9yYWdlIGZvcm1hdClcbiAgICAgIGlmIChmb3JtYXQgPT09ICdzcGFyc2UnKSB7XG4gICAgICAgIHJldHVybiBTcGFyc2VNYXRyaXguZGlhZ29uYWwoc2l6ZSwgb25lLCAwLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9ybWF0ID09PSAnZGVuc2UnKSB7XG4gICAgICAgIHJldHVybiBEZW5zZU1hdHJpeC5kaWFnb25hbChzaXplLCBvbmUsIDAsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIG1hdHJpeCB0eXBlIFxcXCJcIi5jb25jYXQoZm9ybWF0LCBcIlxcXCJcIikpO1xuICAgIH0gLy8gY3JlYXRlIGFuZCByZXNpemUgYXJyYXlcblxuXG4gICAgdmFyIHJlcyA9IHJlc2l6ZShbXSwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gZmlsbCBpbiBvbmVzIG9uIHRoZSBkaWFnb25hbFxuXG4gICAgdmFyIG1pbmltdW0gPSByb3dzIDwgY29scyA/IHJvd3MgOiBjb2xzOyAvLyBmaWxsIGRpYWdvbmFsXG5cbiAgICBmb3IgKHZhciBkID0gMDsgZCA8IG1pbmltdW07IGQrKykge1xuICAgICAgcmVzW2RdW2RdID0gb25lO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cbn0pOyIsImV4cG9ydCBmdW5jdGlvbiBub0JpZ251bWJlcigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImJpZ251bWJlclwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vRnJhY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJmcmFjdGlvblwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vTWF0cml4KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwibWF0cml4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9JbmRleCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImluZGV4XCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9TdWJzZXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJtYXRyaXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHN5bnRheCBlcnJvciB3aXRoIHRoZSBtZXNzYWdlOlxuICogICAgICdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uIDxmbj4gKDxjb3VudD4gcHJvdmlkZWQsIDxtaW4+LTxtYXg+IGV4cGVjdGVkKSdcbiAqIEBwYXJhbSB7c3RyaW5nfSBmbiAgICAgRnVuY3Rpb24gbmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50ICBBY3R1YWwgYXJndW1lbnQgY291bnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gICAgTWluaW11bSByZXF1aXJlZCBhcmd1bWVudCBjb3VudFxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhdICBNYXhpbXVtIHJlcXVpcmVkIGFyZ3VtZW50IGNvdW50XG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gQXJndW1lbnRzRXJyb3IoZm4sIGNvdW50LCBtaW4sIG1heCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJndW1lbnRzRXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xuICB0aGlzLm1pbiA9IG1pbjtcbiAgdGhpcy5tYXggPSBtYXg7XG4gIHRoaXMubWVzc2FnZSA9ICdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBmbiArICcgKCcgKyBjb3VudCArICcgcHJvdmlkZWQsICcgKyBtaW4gKyAobWF4ICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSBudWxsID8gJy0nICsgbWF4IDogJycpICsgJyBleHBlY3RlZCknO1xuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVycm9yO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnQXJndW1lbnRzRXJyb3InO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLmlzQXJndW1lbnRzRXJyb3IgPSB0cnVlOyIsImltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG5vTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5qcyc7XG52YXIgbmFtZSA9ICdzaXplJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICc/bWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNpemUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgYSBtYXRyaXggb3Igc2NhbGFyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnNpemUoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLnNpemUoMi4zKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgW11cbiAgICogICAgIG1hdGguc2l6ZSgnaGVsbG8gd29ybGQnKSAgICAgICAgLy8gcmV0dXJucyBbMTFdXG4gICAqXG4gICAqICAgICBjb25zdCBBID0gW1sxLCAyLCAzXSwgWzQsIDUsIDZdXVxuICAgKiAgICAgbWF0aC5zaXplKEEpICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFsyLCAzXVxuICAgKiAgICAgbWF0aC5zaXplKG1hdGgucmFuZ2UoMSw2KSkgICAgICAvLyByZXR1cm5zIFs1XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIHJlc2l6ZSwgc3F1ZWV6ZSwgc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bWJlciB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggIEEgbWF0cml4XG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSBBIHZlY3RvciB3aXRoIHNpemUgb2YgYHhgLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4geC5jcmVhdGUoeC5zaXplKCkpO1xuICAgIH0sXG4gICAgQXJyYXk6IGFycmF5U2l6ZSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IFt4Lmxlbmd0aF0gOiBtYXRyaXgoW3gubGVuZ3RoXSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciB8IFVuaXQgfCBib29sZWFuIHwgbnVsbCc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJVbml0Qm9vbGVhbk51bGwoeCkge1xuICAgICAgLy8gc2NhbGFyXG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IFtdIDogbWF0cml4ID8gbWF0cml4KFtdKSA6IG5vTWF0cml4KCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuLyoqXG4gKiBHZXQgYSBwcm9wZXJ0eSBvZiBhIHBsYWluIG9iamVjdFxuICogVGhyb3dzIGFuIGVycm9yIGluIGNhc2UgdGhlIG9iamVjdCBpcyBub3QgYSBwbGFpbiBvYmplY3Qgb3IgdGhlXG4gKiBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZCBvbiB0aGUgb2JqZWN0IGl0c2VsZlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIHdoZW4gc2FmZVxuICovXG5cbmZ1bmN0aW9uIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApIHtcbiAgLy8gb25seSBhbGxvdyBnZXR0aW5nIHNhZmUgcHJvcGVydGllcyBvZiBhIHBsYWluIG9iamVjdFxuICBpZiAoaXNQbGFpbk9iamVjdChvYmplY3QpICYmIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkpIHtcbiAgICByZXR1cm4gb2JqZWN0W3Byb3BdO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmplY3RbcHJvcF0gPT09ICdmdW5jdGlvbicgJiYgaXNTYWZlTWV0aG9kKG9iamVjdCwgcHJvcCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhY2Nlc3MgbWV0aG9kIFwiJyArIHByb3AgKyAnXCIgYXMgYSBwcm9wZXJ0eScpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcHJvcCArICdcIicpO1xufVxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSBvbiBhIHBsYWluIG9iamVjdC5cbiAqIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBvYmplY3QgaXMgbm90IGEgcGxhaW4gb2JqZWN0IG9yIHRoZVxuICogcHJvcGVydHkgd291bGQgb3ZlcnJpZGUgYW4gaW5oZXJpdGVkIHByb3BlcnR5IGxpa2UgLmNvbnN0cnVjdG9yIG9yIC50b1N0cmluZ1xuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHZhbHVlXG4gKi9cbi8vIFRPRE86IG1lcmdlIHRoaXMgZnVuY3Rpb24gaW50byBhY2Nlc3MuanM/XG5cblxuZnVuY3Rpb24gc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCwgdmFsdWUpIHtcbiAgLy8gb25seSBhbGxvdyBzZXR0aW5nIHNhZmUgcHJvcGVydGllcyBvZiBhIHBsYWluIG9iamVjdFxuICBpZiAoaXNQbGFpbk9iamVjdChvYmplY3QpICYmIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkpIHtcbiAgICBvYmplY3RbcHJvcF0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwcm9wICsgJ1wiJyk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHByb3BlcnR5IGlzIHNhZmUgdG8gdXNlIGZvciBhbiBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSAudG9TdHJpbmcgYW5kIC5jb25zdHJ1Y3RvciBhcmUgbm90IHNhZmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBzYWZlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1NhZmVQcm9wZXJ0eShvYmplY3QsIHByb3ApIHtcbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gU0FGRTogd2hpdGVsaXN0ZWRcbiAgLy8gZS5nIGxlbmd0aFxuXG5cbiAgaWYgKGhhc093blByb3BlcnR5KHNhZmVOYXRpdmVQcm9wZXJ0aWVzLCBwcm9wKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gT2JqZWN0IHByb3RvdHlwZVxuICAvLyBlLmcgY29uc3RydWN0b3JcblxuXG4gIGlmIChwcm9wIGluIE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBPYmplY3QucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBGdW5jdGlvbiBwcm90b3R5cGVcbiAgLy8gZS5nIGNhbGwsIGFwcGx5XG5cblxuICBpZiAocHJvcCBpbiBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBGdW5jdGlvbi5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSB3aGV0aGVyIGEgbWV0aG9kIGlzIHNhZmUuXG4gKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGF0J3Mgbm90IHRoZSBjYXNlLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICovXG4vLyBUT0RPOiBtZXJnZSB0aGlzIGZ1bmN0aW9uIGludG8gYXNzaWduLmpzP1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkge1xuICBpZiAoIWlzU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBtZXRob2QgXCInICsgbWV0aG9kICsgJ1wiJyk7XG4gIH1cbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIG1ldGhvZCBpcyBzYWZlLlxuICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhhdCdzIG5vdCB0aGUgY2FzZSAoZm9yIGV4YW1wbGUgZm9yIGBjb25zdHJ1Y3RvcmApLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW4gc2FmZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1NhZmVNZXRob2Qob2JqZWN0LCBtZXRob2QpIHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb2JqZWN0W21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBnaG9zdGVkXG4gIC8vIGUuZyBvdmVycmlkZGVuIHRvU3RyaW5nXG4gIC8vIE5vdGUgdGhhdCBJRTEwIGRvZXNuJ3Qgc3VwcG9ydCBfX3Byb3RvX18gYW5kIHdlIGNhbid0IGRvIHRoaXMgY2hlY2sgdGhlcmUuXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkob2JqZWN0LCBtZXRob2QpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBtZXRob2QgaW4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gU0FGRTogd2hpdGVsaXN0ZWRcbiAgLy8gZS5nIHRvU3RyaW5nXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkoc2FmZU5hdGl2ZU1ldGhvZHMsIG1ldGhvZCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIE9iamVjdCBwcm90b3R5cGVcbiAgLy8gZS5nIGNvbnN0cnVjdG9yXG5cblxuICBpZiAobWV0aG9kIGluIE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAvLyAnaW4nIGlzIHVzZWQgaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSBmb3Igbm9kZWpzIHYwLjEwXG4gICAgLy8gd2hpY2ggaXMgaW5jb25zaXN0ZW50IG9uIHJvb3QgcHJvdG90eXBlcy4gSXQgaXMgc2FmZVxuICAgIC8vIGhlcmUgYmVjYXVzZSBPYmplY3QucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBGdW5jdGlvbiBwcm90b3R5cGVcbiAgLy8gZS5nIGNhbGwsIGFwcGx5XG5cblxuICBpZiAobWV0aG9kIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIEZ1bmN0aW9uLnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG5cbnZhciBzYWZlTmF0aXZlUHJvcGVydGllcyA9IHtcbiAgbGVuZ3RoOiB0cnVlLFxuICBuYW1lOiB0cnVlXG59O1xudmFyIHNhZmVOYXRpdmVNZXRob2RzID0ge1xuICB0b1N0cmluZzogdHJ1ZSxcbiAgdmFsdWVPZjogdHJ1ZSxcbiAgdG9Mb2NhbGVTdHJpbmc6IHRydWVcbn07XG5leHBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgaXNTYWZlUHJvcGVydHkgfTtcbmV4cG9ydCB7IHZhbGlkYXRlU2FmZU1ldGhvZCB9O1xuZXhwb3J0IHsgaXNTYWZlTWV0aG9kIH07XG5leHBvcnQgeyBpc1BsYWluT2JqZWN0IH07IiwiaW1wb3J0IHsgaXNJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdzdWJzZXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVN1YnNldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogR2V0IG9yIHNldCBhIHN1YnNldCBvZiBhIG1hdHJpeCBvciBzdHJpbmcuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICogICAgIG1hdGguc3Vic2V0KHZhbHVlLCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIGEgc3Vic2V0XG4gICAqICAgICBtYXRoLnN1YnNldCh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50IFssIGRlZmF1bHRWYWx1ZV0pICAvLyByZXBsYWNlIGEgc3Vic2V0XG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgLy8gZ2V0IGEgc3Vic2V0XG4gICAqICAgICBjb25zdCBkID0gW1sxLCAyXSwgWzMsIDRdXVxuICAgKiAgICAgbWF0aC5zdWJzZXQoZCwgbWF0aC5pbmRleCgxLCAwKSkgICAgICAgIC8vIHJldHVybnMgM1xuICAgKiAgICAgbWF0aC5zdWJzZXQoZCwgbWF0aC5pbmRleChbMCwgMV0sIDEpKSAgIC8vIHJldHVybnMgW1syXSwgWzRdXVxuICAgKlxuICAgKiAgICAgLy8gcmVwbGFjZSBhIHN1YnNldFxuICAgKiAgICAgY29uc3QgZSA9IFtdXG4gICAqICAgICBjb25zdCBmID0gbWF0aC5zdWJzZXQoZSwgbWF0aC5pbmRleCgwLCBbMCwgMl0pLCBbNSwgNl0pICAvLyBmID0gW1s1LCA2XV1cbiAgICogICAgIGNvbnN0IGcgPSBtYXRoLnN1YnNldChmLCBtYXRoLmluZGV4KDEsIDEpLCA3LCAwKSAgICAgICAgIC8vIGcgPSBbWzUsIDZdLCBbMCwgN11dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgc2l6ZSwgcmVzaXplLCBzcXVlZXplLCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBtYXRyaXggIEFuIGFycmF5LCBtYXRyaXgsIG9yIHN0cmluZ1xuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uXG4gICAqIEBwYXJhbSB7Kn0gW3JlcGxhY2VtZW50XSAgICAgICAgICAgICAgICAgQW4gYXJyYXksIG1hdHJpeCwgb3Igc2NhbGFyLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHByb3ZpZGVkLCB0aGUgc3Vic2V0IGlzIHJlcGxhY2VkIHdpdGggcmVwbGFjZW1lbnQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGUgc3Vic2V0IGlzIHJldHVybmVkXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT11bmRlZmluZWRdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRoLm1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gRWl0aGVyIHRoZSByZXRyaWV2ZWQgc3Vic2V0IG9yIHRoZSB1cGRhdGVkIG1hdHJpeC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgLy8gZ2V0IHN1YnNldFxuICAgICdBcnJheSwgSW5kZXgnOiBmdW5jdGlvbiBBcnJheUluZGV4KHZhbHVlLCBpbmRleCkge1xuICAgICAgdmFyIG0gPSBtYXRyaXgodmFsdWUpO1xuICAgICAgdmFyIHN1YnNldCA9IG0uc3Vic2V0KGluZGV4KTsgLy8gcmV0dXJucyBhIE1hdHJpeFxuXG4gICAgICByZXR1cm4gaW5kZXguaXNTY2FsYXIoKSA/IHN1YnNldCA6IHN1YnNldC52YWx1ZU9mKCk7IC8vIHJldHVybiBhbiBBcnJheSAobGlrZSB0aGUgaW5wdXQpXG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4KHZhbHVlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnN1YnNldChpbmRleCk7XG4gICAgfSxcbiAgICAnT2JqZWN0LCBJbmRleCc6IF9nZXRPYmplY3RQcm9wZXJ0eSxcbiAgICAnc3RyaW5nLCBJbmRleCc6IF9nZXRTdWJzdHJpbmcsXG4gICAgLy8gc2V0IHN1YnNldFxuICAgICdBcnJheSwgSW5kZXgsIGFueSc6IGZ1bmN0aW9uIEFycmF5SW5kZXhBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIG1hdHJpeChjbG9uZSh2YWx1ZSkpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIHVuZGVmaW5lZCkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBJbmRleCwgYW55LCBhbnknOiBmdW5jdGlvbiBBcnJheUluZGV4QW55QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIG1hdHJpeChjbG9uZSh2YWx1ZSkpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgsIGFueSc6IGZ1bmN0aW9uIE1hdHJpeEluZGV4QW55KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5jbG9uZSgpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgSW5kZXgsIGFueSwgYW55JzogZnVuY3Rpb24gTWF0cml4SW5kZXhBbnlBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUuY2xvbmUoKS5zdWJzZXQoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgSW5kZXgsIHN0cmluZyc6IF9zZXRTdWJzdHJpbmcsXG4gICAgJ3N0cmluZywgSW5kZXgsIHN0cmluZywgc3RyaW5nJzogX3NldFN1YnN0cmluZyxcbiAgICAnT2JqZWN0LCBJbmRleCwgYW55JzogX3NldE9iamVjdFByb3BlcnR5XG4gIH0pO1xufSk7XG4vKipcbiAqIFJldHJpZXZlIGEgc3Vic2V0IG9mIGEgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgc3RyaW5nIGZyb20gd2hpY2ggdG8gZ2V0IGEgc3Vic3RyaW5nXG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdWJzdHJpbmdcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX2dldFN1YnN0cmluZyhzdHIsIGluZGV4KSB7XG4gIGlmICghaXNJbmRleChpbmRleCkpIHtcbiAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCkubGVuZ3RoLCAxKTtcbiAgfSAvLyB2YWxpZGF0ZSB3aGV0aGVyIHRoZSByYW5nZSBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gIHZhciBzdHJMZW4gPSBzdHIubGVuZ3RoO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1pbigpWzBdLCBzdHJMZW4pO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1heCgpWzBdLCBzdHJMZW4pO1xuICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oMCk7XG4gIHZhciBzdWJzdHIgPSAnJztcbiAgcmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgIHN1YnN0ciArPSBzdHIuY2hhckF0KHYpO1xuICB9KTtcbiAgcmV0dXJuIHN1YnN0cjtcbn1cbi8qKlxuICogUmVwbGFjZSBhIHN1YnN0cmluZyBpbiBhIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgIHN0cmluZyB0byBiZSByZXBsYWNlZFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXggICAgICAgICAgIEFuIGluZGV4IGNvbnRhaW5pbmcgcmFuZ2VzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtzdHJpbmd9IHJlcGxhY2VtZW50ICAgIFJlcGxhY2VtZW50IHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtkZWZhdWx0VmFsdWVdIERlZmF1bHQgdmFsdWUgdG8gYmUgdXNlcyB3aGVuIHJlc2l6aW5nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHN0cmluZy4gaXMgJyAnIGJ5IGRlZmF1bHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJlc3VsdFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zZXRTdWJzdHJpbmcoc3RyLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoIWluZGV4IHx8IGluZGV4LmlzSW5kZXggIT09IHRydWUpIHtcbiAgICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCkubGVuZ3RoLCAxKTtcbiAgfVxuXG4gIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSAnc3RyaW5nJyB8fCBkZWZhdWx0VmFsdWUubGVuZ3RoICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTaW5nbGUgY2hhcmFjdGVyIGV4cGVjdGVkIGFzIGRlZmF1bHRWYWx1ZScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0VmFsdWUgPSAnICc7XG4gIH1cblxuICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oMCk7XG4gIHZhciBsZW4gPSByYW5nZS5zaXplKClbMF07XG5cbiAgaWYgKGxlbiAhPT0gcmVwbGFjZW1lbnQubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHJhbmdlLnNpemUoKVswXSwgcmVwbGFjZW1lbnQubGVuZ3RoKTtcbiAgfSAvLyB2YWxpZGF0ZSB3aGV0aGVyIHRoZSByYW5nZSBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gIHZhciBzdHJMZW4gPSBzdHIubGVuZ3RoO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1pbigpWzBdKTtcbiAgdmFsaWRhdGVJbmRleChpbmRleC5tYXgoKVswXSk7IC8vIGNvcHkgdGhlIHN0cmluZyBpbnRvIGFuIGFycmF5IHdpdGggY2hhcmFjdGVyc1xuXG4gIHZhciBjaGFycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyTGVuOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IHN0ci5jaGFyQXQoaSk7XG4gIH1cblxuICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgY2hhcnNbdl0gPSByZXBsYWNlbWVudC5jaGFyQXQoaVswXSk7XG4gIH0pOyAvLyBpbml0aWFsaXplIHVuZGVmaW5lZCBjaGFyYWN0ZXJzIHdpdGggYSBzcGFjZVxuXG4gIGlmIChjaGFycy5sZW5ndGggPiBzdHJMZW4pIHtcbiAgICBmb3IgKHZhciBfaSA9IHN0ckxlbiAtIDEsIF9sZW4gPSBjaGFycy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgaWYgKCFjaGFyc1tfaV0pIHtcbiAgICAgICAgY2hhcnNbX2ldID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9nZXRPYmplY3RQcm9wZXJ0eShvYmplY3QsIGluZGV4KSB7XG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKSwgMSk7XG4gIH1cblxuICB2YXIga2V5ID0gaW5kZXguZGltZW5zaW9uKDApO1xuXG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBhcyBpbmRleCB0byByZXRyaWV2ZSBhbiBvYmplY3QgcHJvcGVydHknKTtcbiAgfVxuXG4gIHJldHVybiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBrZXkpO1xufVxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSBvbiBhbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gKiBAcGFyYW0geyp9IHJlcGxhY2VtZW50XG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSB1cGRhdGVkIG9iamVjdFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zZXRPYmplY3RQcm9wZXJ0eShvYmplY3QsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICBpZiAoaW5kZXguc2l6ZSgpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5zaXplKCksIDEpO1xuICB9XG5cbiAgdmFyIGtleSA9IGluZGV4LmRpbWVuc2lvbigwKTtcblxuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgYXMgaW5kZXggdG8gcmV0cmlldmUgYW4gb2JqZWN0IHByb3BlcnR5Jyk7XG4gIH0gLy8gY2xvbmUgdGhlIG9iamVjdCwgYW5kIGFwcGx5IHRoZSBwcm9wZXJ0eSB0byB0aGUgY2xvbmVcblxuXG4gIHZhciB1cGRhdGVkID0gY2xvbmUob2JqZWN0KTtcbiAgc2V0U2FmZVByb3BlcnR5KHVwZGF0ZWQsIGtleSwgcmVwbGFjZW1lbnQpO1xuICByZXR1cm4gdXBkYXRlZDtcbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICd6ZXJvcyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0JpZ051bWJlciddO1xuZXhwb3J0IHZhciBjcmVhdGVaZXJvcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgQmlnTnVtYmVyXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtYXRyaXggZmlsbGVkIHdpdGggemVyb3MuIFRoZSBjcmVhdGVkIG1hdHJpeCBjYW4gaGF2ZSBvbmUgb3JcbiAgICogbXVsdGlwbGUgZGltZW5zaW9ucy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnplcm9zKG0pXG4gICAqICAgIG1hdGguemVyb3MobSwgZm9ybWF0KVxuICAgKiAgICBtYXRoLnplcm9zKG0sIG4pXG4gICAqICAgIG1hdGguemVyb3MobSwgbiwgZm9ybWF0KVxuICAgKiAgICBtYXRoLnplcm9zKFttLCBuXSlcbiAgICogICAgbWF0aC56ZXJvcyhbbSwgbl0sIGZvcm1hdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguemVyb3MoMykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIFswLCAwLCAwXVxuICAgKiAgICBtYXRoLnplcm9zKDMsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzAsIDBdLCBbMCwgMF0sIFswLCAwXV1cbiAgICogICAgbWF0aC56ZXJvcygzLCAnZGVuc2UnKSAgICAgICAgIC8vIHJldHVybnMgWzAsIDAsIDBdXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgIG1hdGguemVyb3MobWF0aC5zaXplKEEpKSAgICAgICAvLyByZXR1cm5zIFtbMCwgMCwgMF0sIFswLCAwLCAwXV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG9uZXMsIGlkZW50aXR5LCBzaXplLCByYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gey4uLm51bWJlciB8IEFycmF5fSBzaXplICAgIFRoZSBzaXplIG9mIGVhY2ggZGltZW5zaW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdICAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSAgICAgICAgICAgQSBtYXRyaXggZmlsbGVkIHdpdGggemVyb3NcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJyc6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1hdHJpeCA9PT0gJ0FycmF5JyA/IF96ZXJvcyhbXSkgOiBfemVyb3MoW10sICdkZWZhdWx0Jyk7XG4gICAgfSxcbiAgICAvLyBtYXRoLnplcm9zKG0sIG4sIHAsIC4uLiwgZm9ybWF0KVxuICAgIC8vIFRPRE86IG1vcmUgYWNjdXJhdGUgc2lnbmF0dXJlICcuLi5udW1iZXIgfCBCaWdOdW1iZXIsIHN0cmluZycgYXMgc29vbiBhcyB0eXBlZC1mdW5jdGlvbiBzdXBwb3J0cyB0aGlzXG4gICAgJy4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlclN0cmluZyhzaXplKSB7XG4gICAgICB2YXIgbGFzdCA9IHNpemVbc2l6ZS5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKHR5cGVvZiBsYXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgZm9ybWF0ID0gc2l6ZS5wb3AoKTtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLCBmb3JtYXQpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcubWF0cml4ID09PSAnQXJyYXknKSB7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUsICdkZWZhdWx0Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBBcnJheTogX3plcm9zLFxuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHNpemUpIHtcbiAgICAgIHZhciBmb3JtYXQgPSBzaXplLnN0b3JhZ2UoKTtcbiAgICAgIHJldHVybiBfemVyb3Moc2l6ZS52YWx1ZU9mKCksIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIHN0cmluZyc6IGZ1bmN0aW9uIEFycmF5TWF0cml4U3RyaW5nKHNpemUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IG9yIE1hdHJpeCB3aXRoIHplcm9zXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNpemVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXQ9J2RlZmF1bHQnXVxuICAgKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX3plcm9zKHNpemUsIGZvcm1hdCkge1xuICAgIHZhciBoYXNCaWdOdW1iZXJzID0gX25vcm1hbGl6ZShzaXplKTtcblxuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBoYXNCaWdOdW1iZXJzID8gbmV3IEJpZ051bWJlcigwKSA6IDA7XG5cbiAgICBfdmFsaWRhdGUoc2l6ZSk7XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAvLyByZXR1cm4gYSBtYXRyaXhcbiAgICAgIHZhciBtID0gbWF0cml4KGZvcm1hdCk7XG5cbiAgICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG0ucmVzaXplKHNpemUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXR1cm4gYW4gQXJyYXlcbiAgICAgIHZhciBhcnIgPSBbXTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzaXplKGFyciwgc2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gIH0gLy8gcmVwbGFjZSBCaWdOdW1iZXJzIHdpdGggbnVtYmVycywgcmV0dXJucyB0cnVlIGlmIHNpemUgY29udGFpbmVkIEJpZ051bWJlcnNcblxuXG4gIGZ1bmN0aW9uIF9ub3JtYWxpemUoc2l6ZSkge1xuICAgIHZhciBoYXNCaWdOdW1iZXJzID0gZmFsc2U7XG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGFycikge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICBoYXNCaWdOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgYXJyW2luZGV4XSA9IHZhbHVlLnRvTnVtYmVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGhhc0JpZ051bWJlcnM7XG4gIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICBmdW5jdGlvbiBfdmFsaWRhdGUoc2l6ZSkge1xuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gemVyb3MgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTsgLy8gVE9ETzogemVyb3MgY29udGFpbnMgYWxtb3N0IHRoZSBzYW1lIGNvZGUgYXMgb25lcy4gUmV1c2UgdGhpcz8iLCJpbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0U3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2Zvcm1hdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVGb3JtYXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRm9ybWF0IGEgdmFsdWUgb2YgYW55IHR5cGUgaW50byBhIHN0cmluZy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSlcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBwcmVjaXNpb24pXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlLCBjYWxsYmFjaylcbiAgICpcbiAgICogV2hlcmU6XG4gICAqXG4gICAqICAtIGB2YWx1ZTogKmBcbiAgICogICAgVGhlIHZhbHVlIHRvIGJlIGZvcm1hdHRlZFxuICAgKiAgLSBgb3B0aW9uczogT2JqZWN0YFxuICAgKiAgICBBbiBvYmplY3Qgd2l0aCBmb3JtYXR0aW5nIG9wdGlvbnMuIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAtIGBub3RhdGlvbjogc3RyaW5nYFxuICAgKiAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gICAqICAgICAgLSAnZml4ZWQnXG4gICAqICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40MCcgYW5kICcxNDAwMDAwMCdcbiAgICogICAgICAtICdleHBvbmVudGlhbCdcbiAgICogICAgICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICAgKiAgICAgIC0gJ2VuZ2luZWVyaW5nJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSBlbmdpbmVlcmluZyBub3RhdGlvbjogYWx3YXlzIGhhdmUgZXhwb25lbnRpYWwgbm90YXRpb24sXG4gICAqICAgICAgICBhbmQgc2VsZWN0IHRoZSBleHBvbmVudCB0byBiZSBhIG11bHRpcGxlIG9mIDMuXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjRlKzAnIGFuZCAnMTQuMGUrNidcbiAgICogICAgICAtICdhdXRvJyAoZGVmYXVsdClcbiAgICogICAgICAgIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gICAqICAgICAgICBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcywgYW5kIHVzZXMgZXhwb25lbnRpYWwgbm90YXRpb24gZWxzZXdoZXJlLlxuICAgKiAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kIGlzIGV4Y2x1ZGVkLlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAgICogICAgLSBgcHJlY2lzaW9uOiBudW1iZXJgXG4gICAqICAgICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZCB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuIEluIGNhc2VcbiAgICogICAgICBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJywgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJywgYHByZWNpc2lvbmBcbiAgICogICAgICBkZWZpbmVzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIHJldHVybmVkLlxuICAgKiAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJywgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gICAqICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICAgKiAgICAgIGBwcmVjaXNpb25gIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICAgKiAgICAtIGBsb3dlckV4cDogbnVtYmVyYFxuICAgKiAgICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeSBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGhcbiAgICogICAgICBhbiBleHBvbmVudCB3aGVuIGBub3RhdGlvbj0nYXV0b2AuIERlZmF1bHQgdmFsdWUgaXMgYC0zYC5cbiAgICogICAgLSBgdXBwZXJFeHA6IG51bWJlcmBcbiAgICogICAgICBFeHBvbmVudCBkZXRlcm1pbmluZyB0aGUgdXBwZXIgYm91bmRhcnkgZm9yIGZvcm1hdHRpbmcgYSB2YWx1ZSB3aXRoXG4gICAqICAgICAgYW4gZXhwb25lbnQgd2hlbiBgbm90YXRpb249J2F1dG9gLiBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAgICogICAgLSBgZnJhY3Rpb246IHN0cmluZ2AuIEF2YWlsYWJsZSB2YWx1ZXM6ICdyYXRpbycgKGRlZmF1bHQpIG9yICdkZWNpbWFsJy5cbiAgICogICAgICBGb3IgZXhhbXBsZSBgZm9ybWF0KGZyYWN0aW9uKDEsIDMpKWAgd2lsbCBvdXRwdXQgJzEvMycgd2hlbiAncmF0aW8nIGlzXG4gICAqICAgICAgY29uZmlndXJlZCwgYW5kIHdpbGwgb3V0cHV0IGAwLigzKWAgd2hlbiAnZGVjaW1hbCcgaXMgY29uZmlndXJlZC5cbiAgICogLSBgY2FsbGJhY2s6IGZ1bmN0aW9uYFxuICAgKiAgIEEgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb24sIGludm9rZWQgZm9yIGFsbCBudW1lcmljIGVsZW1lbnRzIGluIGB2YWx1ZWAsXG4gICAqICAgZm9yIGV4YW1wbGUgYWxsIGVsZW1lbnRzIG9mIGEgbWF0cml4LCBvciB0aGUgcmVhbCBhbmQgaW1hZ2luYXJ5XG4gICAqICAgcGFydHMgb2YgYSBjb21wbGV4IG51bWJlci4gVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGVcbiAgICogICBidWlsdC1pbiBudW1lcmljIG5vdGF0aW9uIHdpdGggYW55IHR5cGUgb2YgZm9ybWF0dGluZy4gRnVuY3Rpb24gYGNhbGxiYWNrYFxuICAgKiAgIGlzIGNhbGxlZCB3aXRoIGB2YWx1ZWAgYXMgcGFyYW1ldGVyIGFuZCBtdXN0IHJldHVybiBhIHN0cmluZy5cbiAgICpcbiAgICogV2hlbiBgdmFsdWVgIGlzIGFuIE9iamVjdDpcbiAgICpcbiAgICogLSBXaGVuIHRoZSBvYmplY3QgY29udGFpbnMgYSBwcm9wZXJ0eSBgZm9ybWF0YCBiZWluZyBhIGZ1bmN0aW9uLCB0aGlzIGZ1bmN0aW9uXG4gICAqICAgaXMgaW52b2tlZCBhcyBgdmFsdWUuZm9ybWF0KG9wdGlvbnMpYCBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICogLSBXaGVuIHRoZSBvYmplY3QgaGFzIGl0cyBvd24gYHRvU3RyaW5nYCBtZXRob2QsIHRoaXMgbWV0aG9kIGlzIGludm9rZWRcbiAgICogICBhbmQgdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICogLSBJbiBvdGhlciBjYXNlcyB0aGUgZnVuY3Rpb24gd2lsbCBsb29wIG92ZXIgYWxsIG9iamVjdCBwcm9wZXJ0aWVzIGFuZFxuICAgKiAgIHJldHVybiBKU09OIG9iamVjdCBub3RhdGlvbiBsaWtlICd7XCJhXCI6IDIsIFwiYlwiOiAzfScuXG4gICAqXG4gICAqIFdoZW4gdmFsdWUgaXMgYSBmdW5jdGlvbjpcbiAgICpcbiAgICogLSBXaGVuIHRoZSBmdW5jdGlvbiBoYXMgYSBwcm9wZXJ0eSBgc3ludGF4YCwgaXQgcmV0dXJucyB0aGlzXG4gICAqICAgc3ludGF4IGRlc2NyaXB0aW9uLlxuICAgKiAtIEluIG90aGVyIGNhc2VzLCBhIHN0cmluZyBgJ2Z1bmN0aW9uJ2AgaXMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmZvcm1hdCg2LjQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzYuNCdcbiAgICogICAgbWF0aC5mb3JtYXQoMTI0MDAwMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxLjI0ZTYnXG4gICAqICAgIG1hdGguZm9ybWF0KDEvMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMC4zMzMzMzMzMzMzMzMzMzMzJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxLzMsIDMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzAuMzMzJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyMTM4NSwgMikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzIxMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMmU4LCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEyMDAwMDAwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDIuMywgIHtub3RhdGlvbjogJ2ZpeGVkJywgcHJlY2lzaW9uOiA0fSkgICAgLy8gcmV0dXJucyAnMi4zMDAwJ1xuICAgKiAgICBtYXRoLmZvcm1hdCg1Mi44LCB7bm90YXRpb246ICdleHBvbmVudGlhbCd9KSAgICAgICAgICAgIC8vIHJldHVybnMgJzUuMjhlKzEnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyNDAwLHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAgICAgLy8gcmV0dXJucyAnMTIuNDAwZSszJ1xuICAgKiAgICBtYXRoLmZvcm1hdCgyMDAwLCB7bG93ZXJFeHA6IC0yLCB1cHBlckV4cDogMn0pICAgICAgICAgIC8vIHJldHVybnMgJzJlKzMnXG4gICAqXG4gICAqICAgIGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KHZhbHVlKSB7XG4gICAqICAgICAgLy8gcmV0dXJuIGN1cnJlbmN5IG5vdGF0aW9uIHdpdGggdHdvIGRpZ2l0czpcbiAgICogICAgICByZXR1cm4gJyQnICsgdmFsdWUudG9GaXhlZCgyKVxuICAgKlxuICAgKiAgICAgIC8vIHlvdSBjb3VsZCBhbHNvIHVzZSBtYXRoLmZvcm1hdCBpbnNpZGUgdGhlIGNhbGxiYWNrOlxuICAgKiAgICAgIC8vIHJldHVybiAnJCcgKyBtYXRoLmZvcm1hdCh2YWx1ZSwge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDJ9KVxuICAgKiAgICB9XG4gICAqICAgIG1hdGguZm9ybWF0KFsyLjEsIDMsIDAuMDE2XSwgZm9ybWF0Q3VycmVuY3l9ICAgICAgICAgICAgLy8gcmV0dXJucyAnWyQyLjEwLCAkMy4wMCwgJDAuMDJdJ1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcHJpbnRcbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZSB0byBiZSBzdHJpbmdpZmllZFxuICAgKiBAcGFyYW0ge09iamVjdCB8IEZ1bmN0aW9uIHwgbnVtYmVyfSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdmFsdWVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgYW55OiBmb3JtYXRTdHJpbmcsXG4gICAgJ2FueSwgT2JqZWN0IHwgZnVuY3Rpb24gfCBudW1iZXInOiBmb3JtYXRTdHJpbmdcbiAgfSk7XG59KTsiLCJpbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBub0JpZ251bWJlciwgbm9GcmFjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AuanMnO1xudmFyIG5hbWUgPSAnbnVtZXJpYyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydudW1iZXInLCAnP2JpZ251bWJlcicsICc/ZnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlTnVtZXJpYyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG51bWJlcjogX251bWJlcixcbiAgICBiaWdudW1iZXIsXG4gICAgZnJhY3Rpb25cbiAgfSA9IF9yZWY7XG4gIHZhciB2YWxpZElucHV0VHlwZXMgPSB7XG4gICAgc3RyaW5nOiB0cnVlLFxuICAgIG51bWJlcjogdHJ1ZSxcbiAgICBCaWdOdW1iZXI6IHRydWUsXG4gICAgRnJhY3Rpb246IHRydWVcbiAgfTsgLy8gTG9hZCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgZm9yIGVhY2ggb3V0cHV0IHR5cGVcblxuICB2YXIgdmFsaWRPdXRwdXRUeXBlcyA9IHtcbiAgICBudW1iZXI6IHggPT4gX251bWJlcih4KSxcbiAgICBCaWdOdW1iZXI6IGJpZ251bWJlciA/IHggPT4gYmlnbnVtYmVyKHgpIDogbm9CaWdudW1iZXIsXG4gICAgRnJhY3Rpb246IGZyYWN0aW9uID8geCA9PiBmcmFjdGlvbih4KSA6IG5vRnJhY3Rpb25cbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnQgYSBudW1lcmljIGlucHV0IHRvIGEgc3BlY2lmaWMgbnVtZXJpYyB0eXBlOiBudW1iZXIsIEJpZ051bWJlciwgb3IgRnJhY3Rpb24uXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5udW1lcmljKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ251bWJlcicpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdCaWdOdW1iZXInKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBCaWdOdW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnRnJhY3Rpb24nKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgRnJhY3Rpb24gNFxuICAgKiAgICBtYXRoLm51bWVyaWMoNCwgJ0ZyYWN0aW9uJykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgRnJhY3Rpb24gNFxuICAgKiAgICBtYXRoLm51bWVyaWMobWF0aC5mcmFjdGlvbigyLCA1KSwgJ251bWJlcicpIC8vIHJldHVybnMgbnVtYmVyIDAuNFxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbnVtYmVyLCBmcmFjdGlvbiwgYmlnbnVtYmVyLCBzdHJpbmcsIGZvcm1hdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIH0gdmFsdWVcbiAgICogICAgICAgICAgICAgIEEgbnVtZXJpYyB2YWx1ZSBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtZXJpYyB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3V0cHV0VHlwZVxuICAgKiAgICAgICAgICAgICAgRGVzaXJlZCBudW1lcmljIG91dHB1dCB0eXBlLlxuICAgKiAgICAgICAgICAgICAgQXZhaWxhYmxlIHZhbHVlczogJ251bWJlcicsICdCaWdOdW1iZXInLCBvciAnRnJhY3Rpb24nXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9ufVxuICAgKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGUgbnVtZXJpYyBpbiB0aGUgcmVxdWVzdGVkIHR5cGVcbiAgICovXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIG51bWVyaWModmFsdWUsIG91dHB1dFR5cGUpIHtcbiAgICB2YXIgaW5wdXRUeXBlID0gdHlwZU9mKHZhbHVlKTtcblxuICAgIGlmICghKGlucHV0VHlwZSBpbiB2YWxpZElucHV0VHlwZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAnICsgdmFsdWUgKyAnIG9mIHR5cGUgXCInICsgaW5wdXRUeXBlICsgJ1wiOyB2YWxpZCBpbnB1dCB0eXBlcyBhcmUgJyArIE9iamVjdC5rZXlzKHZhbGlkSW5wdXRUeXBlcykuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgaWYgKCEob3V0cHV0VHlwZSBpbiB2YWxpZE91dHB1dFR5cGVzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgJyArIHZhbHVlICsgJyB0byB0eXBlIFwiJyArIG91dHB1dFR5cGUgKyAnXCI7IHZhbGlkIG91dHB1dCB0eXBlcyBhcmUgJyArIE9iamVjdC5rZXlzKHZhbGlkT3V0cHV0VHlwZXMpLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIGlmIChvdXRwdXRUeXBlID09PSBpbnB1dFR5cGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkT3V0cHV0VHlwZXNbb3V0cHV0VHlwZV0odmFsdWUpO1xuICAgIH1cbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbnZhciBuYW1lID0gJ2RpdmlkZVNjYWxhcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdudW1lcmljJ107XG5leHBvcnQgdmFyIGNyZWF0ZURpdmlkZVNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG51bWVyaWNcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIERpdmlkZSB0d28gc2NhbGFyIHZhbHVlcywgYHggLyB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25zXG4gICAqIGBkaXZpZGVgIGFuZCBgaW52YC5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgTnVtZXJhdG9yXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBEZW5vbWluYXRvclxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgUXVvdGllbnQsIGB4IC8geWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IC8geTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdih5KTtcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFVuaXROdW1iZXJGcmFjdGlvbkJpZ051bWJlcih4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpOyAvLyBUT0RPOiBtb3ZlIHRoZSBkaXZpZGUgZnVuY3Rpb24gdG8gVW5pdC5qcywgaXQgdXNlcyBpbnRlcm5hbHMgb2YgVW5pdFxuXG4gICAgICB2YXIgb25lID0gbnVtZXJpYygxLCB0eXBlT2YoeSkpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUgPT09IG51bGwgPyByZXMuX25vcm1hbGl6ZShvbmUpIDogcmVzLnZhbHVlLCB5KTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQnOiBmdW5jdGlvbiBudW1iZXJGcmFjdGlvbkJpZ051bWJlclVuaXQoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHkuY2xvbmUoKTtcbiAgICAgIHJlcyA9IHJlcy5wb3coLTEpOyAvLyBUT0RPOiBtb3ZlIHRoZSBkaXZpZGUgZnVuY3Rpb24gdG8gVW5pdC5qcywgaXQgdXNlcyBpbnRlcm5hbHMgb2YgVW5pdFxuXG4gICAgICB2YXIgb25lID0gbnVtZXJpYygxLCB0eXBlT2YoeCkpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyh4LCB5LnZhbHVlID09PSBudWxsID8geS5fbm9ybWFsaXplKG9uZSkgOiB5LnZhbHVlKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmRpdmlkZSh5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSBhcyBzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgcG93TnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBuYW1lID0gJ3Bvdyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnaWRlbnRpdHknLCAnbXVsdGlwbHknLCAnbWF0cml4JywgJ2ZyYWN0aW9uJywgJ251bWJlcicsICdDb21wbGV4J107XG5leHBvcnQgdmFyIGNyZWF0ZVBvdyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBpZGVudGl0eSxcbiAgICBtdWx0aXBseSxcbiAgICBtYXRyaXgsXG4gICAgbnVtYmVyLFxuICAgIGZyYWN0aW9uLFxuICAgIENvbXBsZXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHBvd2VyIG9mIHggdG8geSwgYHggXiB5YC5cbiAgICogTWF0cml4IGV4cG9uZW50aWF0aW9uIGlzIHN1cHBvcnRlZCBmb3Igc3F1YXJlIG1hdHJpY2VzIGB4YCwgYW5kIHBvc2l0aXZlXG4gICAqIGludGVnZXIgZXhwb25lbnRzIGB5YC5cbiAgICpcbiAgICogRm9yIGN1YmljIHJvb3RzIG9mIG5lZ2F0aXZlIG51bWJlcnMsIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBwcmluY2lwYWxcbiAgICogcm9vdCBieSBkZWZhdWx0LiBJbiBvcmRlciB0byBsZXQgdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVhbCByb290LFxuICAgKiBtYXRoLmpzIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYG1hdGguY29uZmlnKHtwcmVkaWN0YWJsZTogdHJ1ZX0pYC5cbiAgICogVG8gcmV0cmlldmUgYWxsIGN1YmljIHJvb3RzIG9mIGEgdmFsdWUsIHVzZSBgbWF0aC5jYnJ0KHgsIHRydWUpYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnBvdyh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5wb3coMiwgMykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA4XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoMiwgMylcbiAgICogICAgbWF0aC5wb3coYSwgMikgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC01ICsgMTJpXG4gICAqXG4gICAqICAgIGNvbnN0IGIgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIG1hdGgucG93KGIsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWzksIDhdLCBbMTYsIDE3XV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5LCBzcXJ0LCBjYnJ0LCBudGhSb290XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggIFRoZSBiYXNlXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXh9IHkgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBleHBvbmVudFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFRoZSB2YWx1ZSBvZiBgeGAgdG8gdGhlIHBvd2VyIGB5YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBfcG93LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIGlmICh5LmlzSW50ZWdlcigpIHx8IHggPj0gMCB8fCBjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudG9OdW1iZXIoKSwgMCkucG93KHkudG9OdW1iZXIoKSwgMCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICBpZiAoeS5kICE9PSAxKSB7XG4gICAgICAgIGlmIChjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIHBvdyBkb2VzIG5vdCBzdXBwb3J0IG5vbi1pbnRlZ2VyIGV4cG9uZW50cyBmb3IgZnJhY3Rpb25zLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfcG93KHgudmFsdWVPZigpLCB5LnZhbHVlT2YoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdBcnJheSwgbnVtYmVyJzogX3Bvd0FycmF5LFxuICAgICdBcnJheSwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIF9wb3dBcnJheSh4LCB5LnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgbnVtYmVyJzogX3Bvd01hdHJpeCxcbiAgICAnTWF0cml4LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBNYXRyaXhCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIF9wb3dNYXRyaXgoeCwgeS50b051bWJlcigpKTtcbiAgICB9LFxuICAgICdVbml0LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBVbml0TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBvdyh5KTtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCB4XnksIGZvciB0d28gbnVtYmVycy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQ29tcGxleH0gcmVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9wb3coeCwgeSkge1xuICAgIC8vIEFsdGVybmF0aXZlbHkgY291bGQgZGVmaW5lIGEgJ3JlYWxtb2RlJyBjb25maWcgb3B0aW9uIG9yIHNvbWV0aGluZywgYnV0XG4gICAgLy8gJ3ByZWRpY3RhYmxlJyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgIGlmIChjb25maWcucHJlZGljdGFibGUgJiYgIWlzSW50ZWdlcih5KSAmJiB4IDwgMCkge1xuICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHkgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGEgZnJhY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB5RnJhYyA9IGZyYWN0aW9uKHkpO1xuICAgICAgICB2YXIgeU51bSA9IG51bWJlcih5RnJhYyk7XG5cbiAgICAgICAgaWYgKHkgPT09IHlOdW0gfHwgTWF0aC5hYnMoKHkgLSB5TnVtKSAvIHkpIDwgMWUtMTQpIHtcbiAgICAgICAgICBpZiAoeUZyYWMuZCAlIDIgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAoeUZyYWMubiAlIDIgPT09IDAgPyAxIDogLTEpICogTWF0aC5wb3coLXgsIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHsvLyBmcmFjdGlvbigpIHRocm93cyBhbiBlcnJvciBpZiB5IGlzIEluZmluaXR5LCBldGMuXG4gICAgICB9IC8vIFVuYWJsZSB0byBleHByZXNzIHkgYXMgYSBmcmFjdGlvbiwgc28gY29udGludWUgb25cblxuICAgIH0gLy8gKipmb3IgcHJlZGljdGFibGUgbW9kZSoqIHheSW5maW5pdHkgPT09IE5hTiBpZiB4IDwgLTFcbiAgICAvLyBOLkIuIHRoaXMgYmVoYXZvdXIgaXMgZGlmZmVyZW50IGZyb20gYE1hdGgucG93YCB3aGljaCBnaXZlc1xuICAgIC8vICgtMileSW5maW5pdHkgPT09IEluZmluaXR5XG5cblxuICAgIGlmIChjb25maWcucHJlZGljdGFibGUgJiYgKHggPCAtMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ID4gLTEgJiYgeCA8IDAgJiYgeSA9PT0gLUluZmluaXR5KSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICBpZiAoaXNJbnRlZ2VyKHkpIHx8IHggPj0gMCB8fCBjb25maWcucHJlZGljdGFibGUpIHtcbiAgICAgIHJldHVybiBwb3dOdW1iZXIoeCwgeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE86IHRoZSBmb2xsb3dpbmcgaW5maW5pdHkgY2hlY2tzIGFyZSBkdXBsaWNhdGVkIGZyb20gcG93TnVtYmVyLiBEZWR1cGxpY2F0ZSB0aGlzIHNvbWVob3dcbiAgICAgIC8vIHheSW5maW5pdHkgPT09IDAgaWYgLTEgPCB4IDwgMVxuICAgICAgLy8gQSByZWFsIG51bWJlciAwIGlzIHJldHVybmVkIGluc3RlYWQgb2YgY29tcGxleCgwKVxuICAgICAgaWYgKHggKiB4IDwgMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ICogeCA+IDEgJiYgeSA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCwgMCkucG93KHksIDApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIDJkIGFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IHggICAgIG11c3QgYmUgYSAyIGRpbWVuc2lvbmFsLCBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgIGEgcG9zaXRpdmUsIGludGVnZXIgdmFsdWVcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9wb3dBcnJheSh4LCB5KSB7XG4gICAgaWYgKCFpc0ludGVnZXIoeSkgfHwgeSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZvciBBXmIsIGIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgKHZhbHVlIGlzICcgKyB5ICsgJyknKTtcbiAgICB9IC8vIHZlcmlmeSB0aGF0IEEgaXMgYSAyIGRpbWVuc2lvbmFsIHNxdWFyZSBtYXRyaXhcblxuXG4gICAgdmFyIHMgPSBzaXplKHgpO1xuXG4gICAgaWYgKHMubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvciBBXmIsIEEgbXVzdCBiZSAyIGRpbWVuc2lvbmFsIChBIGhhcyAnICsgcy5sZW5ndGggKyAnIGRpbWVuc2lvbnMpJyk7XG4gICAgfVxuXG4gICAgaWYgKHNbMF0gIT09IHNbMV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRm9yIEFeYiwgQSBtdXN0IGJlIHNxdWFyZSAoc2l6ZSBpcyAnICsgc1swXSArICd4JyArIHNbMV0gKyAnKScpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSBpZGVudGl0eShzWzBdKS52YWx1ZU9mKCk7XG4gICAgdmFyIHB4ID0geDtcblxuICAgIHdoaWxlICh5ID49IDEpIHtcbiAgICAgIGlmICgoeSAmIDEpID09PSAxKSB7XG4gICAgICAgIHJlcyA9IG11bHRpcGx5KHB4LCByZXMpO1xuICAgICAgfVxuXG4gICAgICB5ID4+PSAxO1xuICAgICAgcHggPSBtdWx0aXBseShweCwgcHgpO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSAyZCBtYXRyaXhcbiAgICogQHBhcmFtIHtNYXRyaXh9IHggICAgIG11c3QgYmUgYSAyIGRpbWVuc2lvbmFsLCBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgIGEgcG9zaXRpdmUsIGludGVnZXIgdmFsdWVcbiAgICogQHJldHVybnMge01hdHJpeH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfcG93TWF0cml4KHgsIHkpIHtcbiAgICByZXR1cm4gbWF0cml4KF9wb3dBcnJheSh4LnZhbHVlT2YoKSwgeSkpO1xuICB9XG59KTsiLCJmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IHJvdW5kTnVtYmVyIH0gZnJvbSAnLi4vLi4vcGxhaW4vbnVtYmVyL2luZGV4LmpzJztcbnZhciBOT19JTlQgPSAnTnVtYmVyIG9mIGRlY2ltYWxzIGluIGZ1bmN0aW9uIHJvdW5kIG11c3QgYmUgYW4gaW50ZWdlcic7XG52YXIgbmFtZSA9ICdyb3VuZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInLCAnemVyb3MnLCAnQmlnTnVtYmVyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVJvdW5kID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIHplcm9zLFxuICAgIEJpZ051bWJlcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgucm91bmQoeClcbiAgICogICAgbWF0aC5yb3VuZCh4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZCgzLjIyKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGgucm91bmQoMy44MikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLnJvdW5kKC00LjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGgucm91bmQoLTQuNykgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTVcbiAgICogICAgbWF0aC5yb3VuZCgzLjIyLCAxKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjJcbiAgICogICAgbWF0aC5yb3VuZCgzLjg4LCAxKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjlcbiAgICogICAgbWF0aC5yb3VuZCgtNC4yMSwgMSkgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yXG4gICAqICAgIG1hdGgucm91bmQoLTQuNzEsIDEpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuN1xuICAgKiAgICBtYXRoLnJvdW5kKG1hdGgucGksIDMpICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMTQyXG4gICAqICAgIG1hdGgucm91bmQoMTIzLjQ1Njc4LCAyKSAgICAgLy8gcmV0dXJucyBudW1iZXIgMTIzLjQ2XG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBtYXRoLmNvbXBsZXgoMy4yLCAtMi43KVxuICAgKiAgICBtYXRoLnJvdW5kKGMpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzIC0gM2lcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZChbMy4yLCAzLjgsIC00LjddKSAvLyByZXR1cm5zIEFycmF5IFszLCA0LCAtNV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZpeCwgZmxvb3JcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggIE51bWJlciB0byBiZSByb3VuZGVkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEFycmF5fSBbbj0wXSAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgZGVjaW1hbHNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm91bmROdW1iZXJTaWduYXR1cmVzKSwge30sIHtcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LnJvdW5kKCk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobiAlIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihOT19JTlQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geC5yb3VuZChuKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBDb21wbGV4QmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfbiA9IG4udG9OdW1iZXIoKTtcblxuICAgICAgcmV0dXJuIHgucm91bmQoX24pO1xuICAgIH0sXG4gICAgJ251bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpLnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKDApO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmICghbi5pc0ludGVnZXIoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnRvRGVjaW1hbFBsYWNlcyhuLnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnJvdW5kKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuICUgMSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKG4pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSByb3VuZCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlclNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBzY2FsYXIgaXMgemVyb1xuICAgICAgaWYgKGVxdWFsU2NhbGFyKHgsIDApKSB7XG4gICAgICAgIC8vIGRvIG5vdCBleGVjdXRlIGFsZ29yaXRobSwgcmVzdWx0IHdpbGwgYmUgYSB6ZXJvIG1hdHJpeFxuICAgICAgICByZXR1cm4gemVyb3MoeS5zaXplKCksIHkuc3RvcmFnZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckRlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIHNjYWxhciBpcyB6ZXJvXG4gICAgICBpZiAoZXF1YWxTY2FsYXIoeCwgMCkpIHtcbiAgICAgICAgLy8gZG8gbm90IGV4ZWN1dGUgYWxnb3JpdGhtLCByZXN1bHQgd2lsbCBiZSBhIHplcm8gbWF0cml4XG4gICAgICAgIHJldHVybiB6ZXJvcyh5LnNpemUoKSwgeS5zdG9yYWdlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSkpO1xufSk7XG52YXIgcm91bmROdW1iZXJTaWduYXR1cmVzID0ge1xuICBudW1iZXI6IHJvdW5kTnVtYmVyLFxuICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgbikge1xuICAgIGlmICghaXNJbnRlZ2VyKG4pKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgfVxuXG4gICAgaWYgKG4gPCAwIHx8IG4gPiAxNSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOdW1iZXIgb2YgZGVjaW1hbHMgaW4gZnVuY3Rpb24gcm91bmQgbXVzdCBiZSBpbiB0ZSByYW5nZSBvZiAwLTE1Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdW5kTnVtYmVyKHgsIG4pO1xuICB9XG59O1xuZXhwb3J0IHZhciBjcmVhdGVSb3VuZE51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCByb3VuZE51bWJlclNpZ25hdHVyZXMpO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2VxdWFsJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdHdvIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiB0ZXN0cyB3aGV0aGVyIHRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpc1xuICAgKiBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvXG4gICAqIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBJbiBjYXNlIG9mIGNvbXBsZXggbnVtYmVycywgeC5yZSBtdXN0IGVxdWFsIHkucmUsIGFuZCB4LmltIG11c3QgZXF1YWwgeS5pbS5cbiAgICpcbiAgICogVmFsdWVzIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgYXJlIGNvbXBhcmVkIHN0cmljdGx5LCB0aHVzIGBudWxsYCBpcyBvbmx5XG4gICAqIGVxdWFsIHRvIGBudWxsYCBhbmQgbm90aGluZyBlbHNlLCBhbmQgYHVuZGVmaW5lZGAgaXMgb25seSBlcXVhbCB0b1xuICAgKiBgdW5kZWZpbmVkYCBhbmQgbm90aGluZyBlbHNlLiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5lcXVhbCgyICsgMiwgMykgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguZXF1YWwoMiArIDIsIDQpICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUwIGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnNSBtJylcbiAgICogICAgbWF0aC5lcXVhbChhLCBiKSAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFsyLCA1LCAxXVxuICAgKiAgICBjb25zdCBkID0gWzIsIDcsIDFdXG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoYywgZCkgICAgICAgICAgICAgLy8gcmV0dXJucyBbdHJ1ZSwgZmFsc2UsIHRydWVdXG4gICAqICAgIG1hdGguZGVlcEVxdWFsKGMsIGQpICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKFwiMTAwMFwiLCBcIjFlM1wiKSAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5lcXVhbCgwLCBudWxsKSAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICB1bmVxdWFsLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGxhcmdlciwgbGFyZ2VyRXEsIGNvbXBhcmUsIGRlZXBFcXVhbCwgZXF1YWxUZXh0XG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IGJvb2xlYW4gfCBDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBlcXVhbCwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2FueSwgYW55JzogZnVuY3Rpb24gYW55QW55KHgsIHkpIHtcbiAgICAgIC8vIHN0cmljdCBlcXVhbGl0eSBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkP1xuICAgICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB5ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVxdWFsU2NhbGFyKHgsIHkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCBlcXVhbFNjYWxhcik7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIGVxdWFsU2NhbGFyKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBlcXVhbFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGVxdWFsU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBlcXVhbFNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCB2YXIgY3JlYXRlRXF1YWxOdW1iZXIgPSBmYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdhbnksIGFueSc6IGZ1bmN0aW9uIGFueUFueSh4LCB5KSB7XG4gICAgICAvLyBzdHJpY3QgZXF1YWxpdHkgZm9yIG51bGwgYW5kIHVuZGVmaW5lZD9cbiAgICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB5ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geSA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcXVhbFNjYWxhcih4LCB5KTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbnZhciBuYW1lID0gJ3NtYWxsZXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ21hdHJpeCcsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTbWFsbGVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdmFsdWUgeCBpcyBzbWFsbGVyIHRoYW4geS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHggaXMgc21hbGxlciB0aGFuIHkgYW5kIHRoZSByZWxhdGl2ZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeSBpcyBzbWFsbGVyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlXG4gICAqIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5zbWFsbGVyKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnNtYWxsZXIoMiwgMykgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5zbWFsbGVyKDUsIDIgKiAyKSAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMiBpbmNoJylcbiAgICogICAgbWF0aC5zbWFsbGVyKGEsIGIpICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBlcXVhbCwgdW5lcXVhbCwgc21hbGxlckVxLCBzbWFsbGVyLCBzbWFsbGVyRXEsIGNvbXBhcmVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHggaXMgc21hbGxlciB0aGFuIHksIGVsc2UgcmV0dXJucyBmYWxzZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5O1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4Lmx0KHkpICYmICFiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5jb21wYXJlKHkpID09PSAtMTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gb3JkZXJpbmcgcmVsYXRpb24gaXMgZGVmaW5lZCBmb3IgY29tcGxleCBudW1iZXJzJyk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVTbWFsbGVyTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJywgJ2NvbmZpZyddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWdcbiAgfSA9IF9yZWYyO1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEyIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbnZhciBuYW1lID0gJ2xhcmdlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUxhcmdlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMyA9IGNyZWF0ZUFsZ29yaXRobTAzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTA3ID0gY3JlYXRlQWxnb3JpdGhtMDcoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTIgPSBjcmVhdGVBbGdvcml0aG0xMih7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMyA9IGNyZWF0ZUFsZ29yaXRobTEzKHtcbiAgICB0eXBlZFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHZhbHVlIHggaXMgbGFyZ2VyIHRoYW4geS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHggaXMgbGFyZ2VyIHRoYW4geSBhbmQgdGhlIHJlbGF0aXZlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzIGxhcmdlciB0aGFuIHRoZSBjb25maWd1cmVkIGVwc2lsb24uIFRoZVxuICAgKiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB0byBjb21wYXJlIHZhbHVlcyBzbWFsbGVyIHRoYW4gYXBwcm94aW1hdGVseSAyLjIyZS0xNi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICogU3RyaW5ncyBhcmUgY29tcGFyZWQgYnkgdGhlaXIgbnVtZXJpY2FsIHZhbHVlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubGFyZ2VyKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmxhcmdlcigyLCAzKSAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGgubGFyZ2VyKDUsIDIgKyAyKSAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgYiA9IG1hdGgudW5pdCgnMiBpbmNoJylcbiAgICogICAgbWF0aC5sYXJnZXIoYSwgYikgICAgICAgICAgICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgZXF1YWwsIHVuZXF1YWwsIHNtYWxsZXIsIHNtYWxsZXJFcSwgbGFyZ2VyRXEsIGNvbXBhcmVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIHwgVW5pdCB8IHN0cmluZyB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0cnVlIHdoZW4gdGhlIHggaXMgbGFyZ2VyIHRoYW4geSwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZ3QoeSkgJiYgIWJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmNvbXBhcmUoeSkgPT09IDE7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gb3JkZXJpbmcgcmVsYXRpb24gaXMgZGVmaW5lZCBmb3IgY29tcGxleCBudW1iZXJzJyk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcGFyZSB1bml0cyB3aXRoIGRpZmZlcmVudCBiYXNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzKHgudmFsdWUsIHkudmFsdWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wNyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCB0aGlzLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVMYXJnZXJOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGaWJvbmFjY2lIZWFwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3NtYWxsZXInLCAnbGFyZ2VyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHNtYWxsZXIsXG4gICAgbGFyZ2VyXG4gIH0gPSBfcmVmO1xuICB2YXIgb25lT3ZlckxvZ1BoaSA9IDEuMCAvIE1hdGgubG9nKCgxLjAgKyBNYXRoLnNxcnQoNS4wKSkgLyAyLjApO1xuICAvKipcbiAgICogRmlib25hY2NpIEhlYXAgaW1wbGVtZW50YXRpb24sIHVzZWQgaW50ZXJhbGx5IGZvciBNYXRyaXggbWF0aC5cbiAgICogQGNsYXNzIEZpYm9uYWNjaUhlYXBcbiAgICogQGNvbnN0cnVjdG9yIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cbiAgZnVuY3Rpb24gRmlib25hY2NpSGVhcCgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmlib25hY2NpSGVhcCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyBpbml0aWFsaXplIGZpZWxkc1xuXG5cbiAgICB0aGlzLl9taW5pbXVtID0gbnVsbDtcbiAgICB0aGlzLl9zaXplID0gMDtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS50eXBlID0gJ0ZpYm9uYWNjaUhlYXAnO1xuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pc0ZpYm9uYWNjaUhlYXAgPSB0cnVlO1xuICAvKipcbiAgICogSW5zZXJ0cyBhIG5ldyBkYXRhIGVsZW1lbnQgaW50byB0aGUgaGVhcC4gTm8gaGVhcCBjb25zb2xpZGF0aW9uIGlzXG4gICAqIHBlcmZvcm1lZCBhdCB0aGlzIHRpbWUsIHRoZSBuZXcgbm9kZSBpcyBzaW1wbHkgaW5zZXJ0ZWQgaW50byB0aGUgcm9vdFxuICAgKiBsaXN0IG9mIHRoaXMgaGVhcC4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAvLyBjcmVhdGUgbm9kZVxuICAgIHZhciBub2RlID0ge1xuICAgICAga2V5OiBrZXksXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBkZWdyZWU6IDBcbiAgICB9OyAvLyBjaGVjayB3ZSBoYXZlIGEgbm9kZSBpbiB0aGUgbWluaW11bVxuXG4gICAgaWYgKHRoaXMuX21pbmltdW0pIHtcbiAgICAgIC8vIG1pbmltdW0gbm9kZVxuICAgICAgdmFyIG1pbmltdW0gPSB0aGlzLl9taW5pbXVtOyAvLyB1cGRhdGUgbGVmdCAmIHJpZ2h0IG9mIG5vZGVcblxuICAgICAgbm9kZS5sZWZ0ID0gbWluaW11bTtcbiAgICAgIG5vZGUucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgbWluaW11bS5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlOyAvLyB1cGRhdGUgbWluaW11bSBub2RlIGluIGhlYXAgaWYgbmVlZGVkXG5cbiAgICAgIGlmIChzbWFsbGVyKGtleSwgbWluaW11bS5rZXkpKSB7XG4gICAgICAgIC8vIG5vZGUgaGFzIGEgc21hbGxlciBrZXksIHVzZSBpdCBhcyBtaW5pbXVtXG4gICAgICAgIHRoaXMuX21pbmltdW0gPSBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgbGVmdCAmIHJpZ2h0XG4gICAgICBub2RlLmxlZnQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodCA9IG5vZGU7IC8vIHRoaXMgaXMgdGhlIGZpcnN0IG5vZGVcblxuICAgICAgdGhpcy5fbWluaW11bSA9IG5vZGU7XG4gICAgfSAvLyBpbmNyZW1lbnQgbnVtYmVyIG9mIG5vZGVzIGluIGhlYXBcblxuXG4gICAgdGhpcy5fc2l6ZSsrOyAvLyByZXR1cm4gbm9kZVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygbm9kZXMgaW4gaGVhcC4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9O1xuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGlzIGhlYXAuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fbWluaW11bSA9IG51bGw7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGhlYXAgaXMgZW1wdHksIG90aGVyd2lzZSBmYWxzZS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplID09PSAwO1xuICB9O1xuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIG5vZGUgd2l0aCBtaW5pbXVtIGtleSBmcm9tIGhlYXAuIEFtb3J0aXplZCBydW5uaW5nXG4gICAqIHRpbWU6IE8obG9nIG4pLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmV4dHJhY3RNaW5pbXVtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG5vZGUgdG8gcmVtb3ZlXG4gICAgdmFyIG5vZGUgPSB0aGlzLl9taW5pbXVtOyAvLyBjaGVjayB3ZSBoYXZlIGEgbWluaW11bVxuXG4gICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gLy8gY3VycmVudCBtaW5pbXVtXG5cblxuICAgIHZhciBtaW5pbXVtID0gdGhpcy5fbWluaW11bTsgLy8gZ2V0IG51bWJlciBvZiBjaGlsZHJlblxuXG4gICAgdmFyIG51bWJlck9mQ2hpbGRyZW4gPSBub2RlLmRlZ3JlZTsgLy8gcG9pbnRlciB0byB0aGUgZmlyc3QgY2hpbGRcblxuICAgIHZhciB4ID0gbm9kZS5jaGlsZDsgLy8gZm9yIGVhY2ggY2hpbGQgb2Ygbm9kZSBkby4uLlxuXG4gICAgd2hpbGUgKG51bWJlck9mQ2hpbGRyZW4gPiAwKSB7XG4gICAgICAvLyBzdG9yZSBub2RlIGluIHJpZ2h0IHNpZGVcbiAgICAgIHZhciB0ZW1wUmlnaHQgPSB4LnJpZ2h0OyAvLyByZW1vdmUgeCBmcm9tIGNoaWxkIGxpc3RcblxuICAgICAgeC5sZWZ0LnJpZ2h0ID0geC5yaWdodDtcbiAgICAgIHgucmlnaHQubGVmdCA9IHgubGVmdDsgLy8gYWRkIHggdG8gcm9vdCBsaXN0IG9mIGhlYXBcblxuICAgICAgeC5sZWZ0ID0gbWluaW11bTtcbiAgICAgIHgucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgbWluaW11bS5yaWdodCA9IHg7XG4gICAgICB4LnJpZ2h0LmxlZnQgPSB4OyAvLyBzZXQgUGFyZW50W3hdIHRvIG51bGxcblxuICAgICAgeC5wYXJlbnQgPSBudWxsO1xuICAgICAgeCA9IHRlbXBSaWdodDtcbiAgICAgIG51bWJlck9mQ2hpbGRyZW4tLTtcbiAgICB9IC8vIHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0IG9mIGhlYXBcblxuXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7IC8vIHVwZGF0ZSBtaW5pbXVtXG5cbiAgICBpZiAobm9kZSA9PT0gbm9kZS5yaWdodCkge1xuICAgICAgLy8gZW1wdHlcbiAgICAgIG1pbmltdW0gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgbWluaW11bVxuICAgICAgbWluaW11bSA9IG5vZGUucmlnaHQ7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwb2ludGVyIHRvIHRoZSByb290IHdpdGggbWluaW11bSBrZXlcblxuICAgICAgbWluaW11bSA9IF9maW5kTWluaW11bU5vZGUobWluaW11bSwgdGhpcy5fc2l6ZSk7XG4gICAgfSAvLyBkZWNyZW1lbnQgc2l6ZSBvZiBoZWFwXG5cblxuICAgIHRoaXMuX3NpemUtLTsgLy8gdXBkYXRlIG1pbmltdW1cblxuICAgIHRoaXMuX21pbmltdW0gPSBtaW5pbXVtOyAvLyByZXR1cm4gbm9kZVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgbm9kZSBmcm9tIHRoZSBoZWFwIGdpdmVuIHRoZSByZWZlcmVuY2UgdG8gdGhlIG5vZGUuIFRoZSB0cmVlc1xuICAgKiBpbiB0aGUgaGVhcCB3aWxsIGJlIGNvbnNvbGlkYXRlZCwgaWYgbmVjZXNzYXJ5LiBUaGlzIG9wZXJhdGlvbiBtYXkgZmFpbFxuICAgKiB0byByZW1vdmUgdGhlIGNvcnJlY3QgZWxlbWVudCBpZiB0aGVyZSBhcmUgbm9kZXMgd2l0aCBrZXkgdmFsdWUgLUluZmluaXR5LlxuICAgKiBSdW5uaW5nIHRpbWU6IE8obG9nIG4pIGFtb3J0aXplZC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIC8vIGRlY3JlYXNlIGtleSB2YWx1ZVxuICAgIHRoaXMuX21pbmltdW0gPSBfZGVjcmVhc2VLZXkodGhpcy5fbWluaW11bSwgbm9kZSwgLTEpOyAvLyByZW1vdmUgdGhlIHNtYWxsZXN0XG5cbiAgICB0aGlzLmV4dHJhY3RNaW5pbXVtKCk7XG4gIH07XG4gIC8qKlxuICAgKiBEZWNyZWFzZXMgdGhlIGtleSB2YWx1ZSBmb3IgYSBoZWFwIG5vZGUsIGdpdmVuIHRoZSBuZXcgdmFsdWUgdG8gdGFrZSBvbi5cbiAgICogVGhlIHN0cnVjdHVyZSBvZiB0aGUgaGVhcCBtYXkgYmUgY2hhbmdlZCBhbmQgd2lsbCBub3QgYmUgY29uc29saWRhdGVkLlxuICAgKiBSdW5uaW5nIHRpbWU6IE8oMSkgYW1vcnRpemVkLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9kZWNyZWFzZUtleShtaW5pbXVtLCBub2RlLCBrZXkpIHtcbiAgICAvLyBzZXQgbm9kZSBrZXlcbiAgICBub2RlLmtleSA9IGtleTsgLy8gZ2V0IHBhcmVudCBub2RlXG5cbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG5cbiAgICBpZiAocGFyZW50ICYmIHNtYWxsZXIobm9kZS5rZXksIHBhcmVudC5rZXkpKSB7XG4gICAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHBhcmVudFxuICAgICAgX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpOyAvLyByZW1vdmUgYWxsIG5vZGVzIGZyb20gcGFyZW50IHRvIHRoZSByb290IHBhcmVudFxuXG5cbiAgICAgIF9jYXNjYWRpbmdDdXQobWluaW11bSwgcGFyZW50KTtcbiAgICB9IC8vIHVwZGF0ZSBtaW5pbXVtIG5vZGUgaWYgbmVlZGVkXG5cblxuICAgIGlmIChzbWFsbGVyKG5vZGUua2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgIG1pbmltdW0gPSBub2RlO1xuICAgIH0gLy8gcmV0dXJuIG1pbmltdW1cblxuXG4gICAgcmV0dXJuIG1pbmltdW07XG4gIH1cbiAgLyoqXG4gICAqIFRoZSByZXZlcnNlIG9mIHRoZSBsaW5rIG9wZXJhdGlvbjogcmVtb3ZlcyBub2RlIGZyb20gdGhlIGNoaWxkIGxpc3Qgb2YgcGFyZW50LlxuICAgKiBUaGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgbWluIGlzIG5vbi1udWxsLiBSdW5uaW5nIHRpbWU6IE8oMSkuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpIHtcbiAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHBhcmVudCBjaGlsZHJlbiBhbmQgZGVjcmVtZW50IERlZ3JlZVtwYXJlbnRdXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7XG4gICAgcGFyZW50LmRlZ3JlZS0tOyAvLyByZXNldCB5LmNoaWxkIGlmIG5lY2Vzc2FyeVxuXG4gICAgaWYgKHBhcmVudC5jaGlsZCA9PT0gbm9kZSkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbm9kZS5yaWdodDtcbiAgICB9IC8vIHJlbW92ZSBjaGlsZCBpZiBkZWdyZWUgaXMgMFxuXG5cbiAgICBpZiAocGFyZW50LmRlZ3JlZSA9PT0gMCkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbnVsbDtcbiAgICB9IC8vIGFkZCBub2RlIHRvIHJvb3QgbGlzdCBvZiBoZWFwXG5cblxuICAgIG5vZGUubGVmdCA9IG1pbmltdW07XG4gICAgbm9kZS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgbWluaW11bS5yaWdodCA9IG5vZGU7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTsgLy8gc2V0IHBhcmVudFtub2RlXSB0byBudWxsXG5cbiAgICBub2RlLnBhcmVudCA9IG51bGw7IC8vIHNldCBtYXJrW25vZGVdIHRvIGZhbHNlXG5cbiAgICBub2RlLm1hcmsgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBjYXNjYWRpbmcgY3V0IG9wZXJhdGlvbi4gVGhpcyBjdXRzIG5vZGUgZnJvbSBpdHMgcGFyZW50IGFuZCB0aGVuXG4gICAqIGRvZXMgdGhlIHNhbWUgZm9yIGl0cyBwYXJlbnQsIGFuZCBzbyBvbiB1cCB0aGUgdHJlZS5cbiAgICogUnVubmluZyB0aW1lOiBPKGxvZyBuKTsgTygxKSBleGNsdWRpbmcgdGhlIHJlY3Vyc2lvbi5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfY2FzY2FkaW5nQ3V0KG1pbmltdW0sIG5vZGUpIHtcbiAgICAvLyBzdG9yZSBwYXJlbnQgbm9kZVxuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudDsgLy8gaWYgdGhlcmUncyBhIHBhcmVudC4uLlxuXG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGlmIG5vZGUgaXMgdW5tYXJrZWQsIHNldCBpdCBtYXJrZWRcblxuXG4gICAgaWYgKCFub2RlLm1hcmspIHtcbiAgICAgIG5vZGUubWFyayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0J3MgbWFya2VkLCBjdXQgaXQgZnJvbSBwYXJlbnRcbiAgICAgIF9jdXQobWluaW11bSwgbm9kZSwgcGFyZW50KTsgLy8gY3V0IGl0cyBwYXJlbnQgYXMgd2VsbFxuXG5cbiAgICAgIF9jYXNjYWRpbmdDdXQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgdGhlIGZpcnN0IG5vZGUgYSBjaGlsZCBvZiB0aGUgc2Vjb25kIG9uZS4gUnVubmluZyB0aW1lOiBPKDEpIGFjdHVhbC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICB2YXIgX2xpbmtOb2RlcyA9IGZ1bmN0aW9uIF9saW5rTm9kZXMobm9kZSwgcGFyZW50KSB7XG4gICAgLy8gcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3Qgb2YgaGVhcFxuICAgIG5vZGUubGVmdC5yaWdodCA9IG5vZGUucmlnaHQ7XG4gICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZS5sZWZ0OyAvLyBtYWtlIG5vZGUgYSBDaGlsZCBvZiBwYXJlbnRcblxuICAgIG5vZGUucGFyZW50ID0gcGFyZW50O1xuXG4gICAgaWYgKCFwYXJlbnQuY2hpbGQpIHtcbiAgICAgIHBhcmVudC5jaGlsZCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUubGVmdCA9IG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUubGVmdCA9IHBhcmVudC5jaGlsZDtcbiAgICAgIG5vZGUucmlnaHQgPSBwYXJlbnQuY2hpbGQucmlnaHQ7XG4gICAgICBwYXJlbnQuY2hpbGQucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5yaWdodC5sZWZ0ID0gbm9kZTtcbiAgICB9IC8vIGluY3JlYXNlIGRlZ3JlZVtwYXJlbnRdXG5cblxuICAgIHBhcmVudC5kZWdyZWUrKzsgLy8gc2V0IG1hcmtbbm9kZV0gZmFsc2VcblxuICAgIG5vZGUubWFyayA9IGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9maW5kTWluaW11bU5vZGUobWluaW11bSwgc2l6ZSkge1xuICAgIC8vIHRvIGZpbmQgdHJlZXMgb2YgdGhlIHNhbWUgZGVncmVlIGVmZmljaWVudGx5IHdlIHVzZSBhbiBhcnJheSBvZiBsZW5ndGggTyhsb2cgbikgaW4gd2hpY2ggd2Uga2VlcCBhIHBvaW50ZXIgdG8gb25lIHJvb3Qgb2YgZWFjaCBkZWdyZWVcbiAgICB2YXIgYXJyYXlTaXplID0gTWF0aC5mbG9vcihNYXRoLmxvZyhzaXplKSAqIG9uZU92ZXJMb2dQaGkpICsgMTsgLy8gY3JlYXRlIGxpc3Qgd2l0aCBpbml0aWFsIGNhcGFjaXR5XG5cbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoYXJyYXlTaXplKTsgLy8gZmluZCB0aGUgbnVtYmVyIG9mIHJvb3Qgbm9kZXMuXG5cbiAgICB2YXIgbnVtUm9vdHMgPSAwO1xuICAgIHZhciB4ID0gbWluaW11bTtcblxuICAgIGlmICh4KSB7XG4gICAgICBudW1Sb290cysrO1xuICAgICAgeCA9IHgucmlnaHQ7XG5cbiAgICAgIHdoaWxlICh4ICE9PSBtaW5pbXVtKSB7XG4gICAgICAgIG51bVJvb3RzKys7XG4gICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgfVxuICAgIH0gLy8gdmFyc1xuXG5cbiAgICB2YXIgeTsgLy8gRm9yIGVhY2ggbm9kZSBpbiByb290IGxpc3QgZG8uLi5cblxuICAgIHdoaWxlIChudW1Sb290cyA+IDApIHtcbiAgICAgIC8vIGFjY2VzcyB0aGlzIG5vZGUncyBkZWdyZWUuLlxuICAgICAgdmFyIGQgPSB4LmRlZ3JlZTsgLy8gZ2V0IG5leHQgbm9kZVxuXG4gICAgICB2YXIgbmV4dCA9IHgucmlnaHQ7IC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgbm9kZSBhbHJlYWR5IGluIGFycmF5IHdpdGggdGhlIHNhbWUgZGVncmVlXG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIC8vIGdldCBub2RlIHdpdGggdGhlIHNhbWUgZGVncmVlIGlzIGFueVxuICAgICAgICB5ID0gYXJyYXlbZF07XG5cbiAgICAgICAgaWYgKCF5KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gLy8gbWFrZSBvbmUgbm9kZSB3aXRoIHRoZSBzYW1lIGRlZ3JlZSBhIGNoaWxkIG9mIHRoZSBvdGhlciwgZG8gdGhpcyBiYXNlZCBvbiB0aGUga2V5IHZhbHVlLlxuXG5cbiAgICAgICAgaWYgKGxhcmdlcih4LmtleSwgeS5rZXkpKSB7XG4gICAgICAgICAgdmFyIHRlbXAgPSB5O1xuICAgICAgICAgIHkgPSB4O1xuICAgICAgICAgIHggPSB0ZW1wO1xuICAgICAgICB9IC8vIG1ha2UgeSBhIGNoaWxkIG9mIHhcblxuXG4gICAgICAgIF9saW5rTm9kZXMoeSwgeCk7IC8vIHdlIGhhdmUgaGFuZGxlZCB0aGlzIGRlZ3JlZSwgZ28gdG8gbmV4dCBvbmUuXG5cblxuICAgICAgICBhcnJheVtkXSA9IG51bGw7XG4gICAgICAgIGQrKztcbiAgICAgIH0gLy8gc2F2ZSB0aGlzIG5vZGUgZm9yIGxhdGVyIHdoZW4gd2UgbWlnaHQgZW5jb3VudGVyIGFub3RoZXIgb2YgdGhlIHNhbWUgZGVncmVlLlxuXG5cbiAgICAgIGFycmF5W2RdID0geDsgLy8gbW92ZSBmb3J3YXJkIHRocm91Z2ggbGlzdC5cblxuICAgICAgeCA9IG5leHQ7XG4gICAgICBudW1Sb290cy0tO1xuICAgIH0gLy8gU2V0IG1pbiB0byBudWxsIChlZmZlY3RpdmVseSBsb3NpbmcgdGhlIHJvb3QgbGlzdCkgYW5kIHJlY29uc3RydWN0IHRoZSByb290IGxpc3QgZnJvbSB0aGUgYXJyYXkgZW50cmllcyBpbiBhcnJheVtdLlxuXG5cbiAgICBtaW5pbXVtID0gbnVsbDsgLy8gbG9vcCBub2RlcyBpbiBhcnJheVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheVNpemU7IGkrKykge1xuICAgICAgLy8gZ2V0IGN1cnJlbnQgbm9kZVxuICAgICAgeSA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoIXkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBsaW5rZWQgbGlzdFxuXG5cbiAgICAgIGlmIChtaW5pbXVtKSB7XG4gICAgICAgIC8vIEZpcnN0IHJlbW92ZSBub2RlIGZyb20gcm9vdCBsaXN0LlxuICAgICAgICB5LmxlZnQucmlnaHQgPSB5LnJpZ2h0O1xuICAgICAgICB5LnJpZ2h0LmxlZnQgPSB5LmxlZnQ7IC8vIG5vdyBhZGQgdG8gcm9vdCBsaXN0LCBhZ2Fpbi5cblxuICAgICAgICB5LmxlZnQgPSBtaW5pbXVtO1xuICAgICAgICB5LnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICAgICAgbWluaW11bS5yaWdodCA9IHk7XG4gICAgICAgIHkucmlnaHQubGVmdCA9IHk7IC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBuZXcgbWluLlxuXG4gICAgICAgIGlmIChzbWFsbGVyKHkua2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgICAgICBtaW5pbXVtID0geTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluaW11bSA9IHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pbmltdW07XG4gIH1cblxuICByZXR1cm4gRmlib25hY2NpSGVhcDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnU3BhJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ2FkZFNjYWxhcicsICdlcXVhbFNjYWxhcicsICdGaWJvbmFjY2lIZWFwJ107XG5leHBvcnQgdmFyIGNyZWF0ZVNwYUNsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgYWRkU2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIEZpYm9uYWNjaUhlYXBcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEFuIG9yZGVyZWQgU3BhcnNlIEFjY3VtdWxhdG9yIGlzIGEgcmVwcmVzZW50YXRpb24gZm9yIGEgc3BhcnNlIHZlY3RvciB0aGF0IGluY2x1ZGVzIGEgZGVuc2UgYXJyYXlcbiAgICogb2YgdGhlIHZlY3RvciBlbGVtZW50cyBhbmQgYW4gb3JkZXJlZCBsaXN0IG9mIG5vbi16ZXJvIGVsZW1lbnRzLlxuICAgKi9cbiAgZnVuY3Rpb24gU3BhKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGEpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gYWxsb2NhdGUgdmVjdG9yLCBUT0RPIHVzZSB0eXBlZCBhcnJheXNcblxuXG4gICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgdGhpcy5faGVhcCA9IG5ldyBGaWJvbmFjY2lIZWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgU3BhLnByb3RvdHlwZS50eXBlID0gJ1NwYSc7XG4gIFNwYS5wcm90b3R5cGUuaXNTcGEgPSB0cnVlO1xuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBmb3IgaW5kZXggaS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgICAgICAgICAgICAgICAgIFRoZSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXh9ICAgVGhlIHZhbHVlIGF0IGluZGV4IGlcbiAgICovXG5cbiAgU3BhLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSwgdikge1xuICAgIC8vIGNoZWNrIHdlIGhhdmUgYSB2YWx1ZSBAIGlcbiAgICBpZiAoIXRoaXMuX3ZhbHVlc1tpXSkge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgdik7IC8vIHNldCB0aGUgdmFsdWUgQCBpXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZSBAIGlcbiAgICAgIHRoaXMuX3ZhbHVlc1tpXS52YWx1ZSA9IHY7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX3ZhbHVlc1tpXTtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmFjY3VtdWxhdGUgPSBmdW5jdGlvbiAoaSwgdikge1xuICAgIC8vIG5vZGUgQCBpXG4gICAgdmFyIG5vZGUgPSB0aGlzLl92YWx1ZXNbaV07XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgdik7IC8vIGluaXRpYWxpemUgdmFsdWVcblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYWNjdW11bGF0ZSB2YWx1ZVxuICAgICAgbm9kZS52YWx1ZSA9IGFkZFNjYWxhcihub2RlLnZhbHVlLCB2KTtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZyb20sIHRvLCBjYWxsYmFjaykge1xuICAgIC8vIHJlZmVyZW5jZXNcbiAgICB2YXIgaGVhcCA9IHRoaXMuX2hlYXA7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlczsgLy8gbm9kZXNcblxuICAgIHZhciBub2RlcyA9IFtdOyAvLyBub2RlIHdpdGggbWluaW11bSBrZXksIHNhdmUgaXRcblxuICAgIHZhciBub2RlID0gaGVhcC5leHRyYWN0TWluaW11bSgpO1xuXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgfSAvLyBleHRyYWN0IG5vZGVzIGZyb20gaGVhcCAob3JkZXJlZClcblxuXG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZS5rZXkgPD0gdG8pIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGluIHJhbmdlXG4gICAgICBpZiAobm9kZS5rZXkgPj0gZnJvbSkge1xuICAgICAgICAvLyBjaGVjayB2YWx1ZSBpcyBub3QgemVyb1xuICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKG5vZGUudmFsdWUsIDApKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICAgICAgY2FsbGJhY2sobm9kZS5rZXksIG5vZGUudmFsdWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIGV4dHJhY3QgbmV4dCBub2RlLCBzYXZlIGl0XG5cblxuICAgICAgbm9kZSA9IGhlYXAuZXh0cmFjdE1pbmltdW0oKTtcblxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9IC8vIHJlaW5zZXJ0IGFsbCBub2RlcyBpbiBoZWFwXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgbm9kZVxuICAgICAgdmFyIG4gPSBub2Rlc1tpXTsgLy8gaW5zZXJ0IG5vZGUgaW4gaGVhcFxuXG4gICAgICBub2RlID0gaGVhcC5pbnNlcnQobi5rZXksIG4udmFsdWUpOyAvLyB1cGRhdGUgdmFsdWVzXG5cbiAgICAgIHZhbHVlc1tub2RlLmtleV0gPSBub2RlO1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIG5vZGUgQCBpIGFuZCBqXG4gICAgdmFyIG5vZGVpID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgIHZhciBub2RlaiA9IHRoaXMuX3ZhbHVlc1tqXTsgLy8gY2hlY2sgd2UgbmVlZCB0byBpbnNlcnQgaW5kZWNlc1xuXG4gICAgaWYgKCFub2RlaSAmJiBub2Rlaikge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGVpID0gdGhpcy5faGVhcC5pbnNlcnQoaSwgbm9kZWoudmFsdWUpOyAvLyByZW1vdmUgZnJvbSBoZWFwXG5cbiAgICAgIHRoaXMuX2hlYXAucmVtb3ZlKG5vZGVqKTsgLy8gc2V0IHZhbHVlc1xuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IG5vZGVpO1xuICAgICAgdGhpcy5fdmFsdWVzW2pdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAobm9kZWkgJiYgIW5vZGVqKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZWogPSB0aGlzLl9oZWFwLmluc2VydChqLCBub2RlaS52YWx1ZSk7IC8vIHJlbW92ZSBmcm9tIGhlYXBcblxuICAgICAgdGhpcy5faGVhcC5yZW1vdmUobm9kZWkpOyAvLyBzZXQgdmFsdWVzXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2pdID0gbm9kZWo7XG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChub2RlaSAmJiBub2Rlaikge1xuICAgICAgLy8gc3dhcCB2YWx1ZXNcbiAgICAgIHZhciB2ID0gbm9kZWkudmFsdWU7XG4gICAgICBub2RlaS52YWx1ZSA9IG5vZGVqLnZhbHVlO1xuICAgICAgbm9kZWoudmFsdWUgPSB2O1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3BhO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi4vZnVuY3Rpb24uanMnO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBlXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJFID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBuZXcgQmlnTnVtYmVyKDEpLmV4cCgpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIGdvbGRlbiByYXRpbywgcGhpID0gKDErc3FydCg1KSkvMlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHBoaVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyUGhpID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBuZXcgQmlnTnVtYmVyKDEpLnBsdXMobmV3IEJpZ051bWJlcig1KS5zcXJ0KCkpLmRpdigyKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciBwaS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEJpZ051bWJlciAgIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge0JpZ051bWJlcn0gUmV0dXJucyBwaVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyUGkgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIEJpZ051bWJlci5hY29zKC0xKTtcbn0sIHtcbiAgaGFzaGVyXG59KTtcbi8qKlxuICogQ2FsY3VsYXRlIEJpZ051bWJlciB0YXUsIHRhdSA9IDIgKiBwaVxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHRhdVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyVGF1ID0gbWVtb2l6ZShmdW5jdGlvbiAoQmlnTnVtYmVyKSB7XG4gIHJldHVybiBjcmVhdGVCaWdOdW1iZXJQaShCaWdOdW1iZXIpLnRpbWVzKDIpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDcmVhdGUgYSBoYXNoIGZvciBhIEJpZ051bWJlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNyZWF0ZWQgaGFzIGlzXG4gKiB0aGUgY29uZmlndXJlZCBwcmVjaXNpb25cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgICAgICAgICBTdXBwb3NlZCB0byBjb250YWluIGEgc2luZ2xlIGVudHJ5IHdpdGhcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIEJpZ051bWJlciBjb25zdHJ1Y3RvclxuICogQHJldHVybiB7bnVtYmVyfSBwcmVjaXNpb25cbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaGFzaGVyKGFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3NbMF0ucHJlY2lzaW9uO1xufSIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBpc0NvbXBsZXgsIGlzVW5pdCwgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2Z1bmN0aW9uLmpzJztcbmltcG9ydCB7IGVuZHNXaXRoIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGNsb25lLCBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCaWdOdW1iZXJQaSBhcyBjcmVhdGVQaSB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9jb25zdGFudHMuanMnO1xudmFyIG5hbWUgPSAnVW5pdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyc/b24nLCAnY29uZmlnJywgJ2FkZFNjYWxhcicsICdzdWJ0cmFjdCcsICdtdWx0aXBseVNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAncG93JywgJ2FicycsICdmaXgnLCAncm91bmQnLCAnZXF1YWwnLCAnaXNOdW1lcmljJywgJ2Zvcm1hdCcsICdudW1iZXInLCAnQ29tcGxleCcsICdCaWdOdW1iZXInLCAnRnJhY3Rpb24nXTtcbmV4cG9ydCB2YXIgY3JlYXRlVW5pdENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgb24sXG4gICAgY29uZmlnLFxuICAgIGFkZFNjYWxhcixcbiAgICBzdWJ0cmFjdCxcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgcG93LFxuICAgIGFicyxcbiAgICBmaXgsXG4gICAgcm91bmQsXG4gICAgZXF1YWwsXG4gICAgaXNOdW1lcmljLFxuICAgIGZvcm1hdCxcbiAgICBudW1iZXIsXG4gICAgQ29tcGxleCxcbiAgICBCaWdOdW1iZXI6IF9CaWdOdW1iZXIsXG4gICAgRnJhY3Rpb246IF9GcmFjdGlvblxuICB9ID0gX3JlZjtcbiAgdmFyIHRvTnVtYmVyID0gbnVtYmVyO1xuICAvKipcbiAgICogQSB1bml0IGNhbiBiZSBjb25zdHJ1Y3RlZCBpbiB0aGUgZm9sbG93aW5nIHdheXM6XG4gICAqXG4gICAqICAgICBjb25zdCBhID0gbmV3IFVuaXQodmFsdWUsIG5hbWUpXG4gICAqICAgICBjb25zdCBiID0gbmV3IFVuaXQobnVsbCwgbmFtZSlcbiAgICogICAgIGNvbnN0IGMgPSBVbml0LnBhcnNlKHN0cilcbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGNvbnN0IGEgPSBuZXcgVW5pdCg1LCAnY20nKSAgICAgICAgICAgICAgIC8vIDUwIG1tXG4gICAqICAgICBjb25zdCBiID0gVW5pdC5wYXJzZSgnMjMga2cnKSAgICAgICAgICAgICAvLyAyMyBrZ1xuICAgKiAgICAgY29uc3QgYyA9IG1hdGguaW4oYSwgbmV3IFVuaXQobnVsbCwgJ20nKSAgLy8gMC4wNSBtXG4gICAqICAgICBjb25zdCBkID0gbmV3IFVuaXQoOS44MSwgXCJtL3NeMlwiKSAgICAgICAgIC8vIDkuODEgbS9zXjJcbiAgICpcbiAgICogQGNsYXNzIFVuaXRcbiAgICogQGNvbnN0cnVjdG9yIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBib29sZWFufSBbdmFsdWVdICBBIHZhbHVlIGxpa2UgNS4yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gICBBIHVuaXQgbmFtZSBsaWtlIFwiY21cIiBvciBcImluY2hcIiwgb3IgYSBkZXJpdmVkIHVuaXQgb2YgdGhlIGZvcm06IFwidTFbXmV4MV0gW3UyW15leDJdIC4uLl0gWy8gdTNbXmV4M10gW3U0W15leDRdXV1cIiwgc3VjaCBhcyBcImtnIG1eMi9zXjJcIiwgd2hlcmUgZWFjaCB1bml0IGFwcGVhcmluZyBhZnRlciB0aGUgZm9yd2FyZCBzbGFzaCBpcyB0YWtlbiB0byBiZSBpbiB0aGUgZGVub21pbmF0b3IuIFwia2cgbV4yIHNeLTJcIiBpcyBhIHN5bm9ueW0gYW5kIGlzIGFsc28gYWNjZXB0YWJsZS4gQW55IG9mIHRoZSB1bml0cyBjYW4gaW5jbHVkZSBhIHByZWZpeC5cbiAgICovXG5cbiAgZnVuY3Rpb24gVW5pdCh2YWx1ZSwgbmFtZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVbml0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoISh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGlzTnVtZXJpYyh2YWx1ZSkgfHwgaXNDb21wbGV4KHZhbHVlKSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IHBhcmFtZXRlciBpbiBVbml0IGNvbnN0cnVjdG9yIG11c3QgYmUgbnVtYmVyLCBCaWdOdW1iZXIsIEZyYWN0aW9uLCBDb21wbGV4LCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkICYmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgcGFyYW1ldGVyIGluIFVuaXQgY29uc3RydWN0b3IgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cblxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciB1ID0gVW5pdC5wYXJzZShuYW1lKTtcbiAgICAgIHRoaXMudW5pdHMgPSB1LnVuaXRzO1xuICAgICAgdGhpcy5kaW1lbnNpb25zID0gdS5kaW1lbnNpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaXRzID0gW3tcbiAgICAgICAgdW5pdDogVU5JVF9OT05FLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkUsXG4gICAgICAgIC8vIGxpbmsgdG8gYSBsaXN0IHdpdGggc3VwcG9ydGVkIHByZWZpeGVzXG4gICAgICAgIHBvd2VyOiAwXG4gICAgICB9XTtcbiAgICAgIHRoaXMuZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNbaV0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKHZhbHVlKSA6IG51bGw7XG4gICAgdGhpcy5maXhQcmVmaXggPSBmYWxzZTsgLy8gaWYgdHJ1ZSwgZnVuY3Rpb24gZm9ybWF0IHdpbGwgbm90IHNlYXJjaCBmb3IgdGhlXG4gICAgLy8gYmVzdCBwcmVmaXggYnV0IGxlYXZlIGl0IGFzIGluaXRpYWxseSBwcm92aWRlZC5cbiAgICAvLyBmaXhQcmVmaXggaXMgc2V0IHRydWUgYnkgdGhlIG1ldGhvZCBVbml0LnRvXG4gICAgLy8gVGhlIGp1c3RpZmljYXRpb24gYmVoaW5kIHRoaXMgaXMgdGhhdCBpZiB0aGUgY29uc3RydWN0b3IgaXMgZXhwbGljaXRseSBjYWxsZWQsXG4gICAgLy8gdGhlIGNhbGxlciB3aXNoZXMgdGhlIHVuaXRzIHRvIGJlIHJldHVybmVkIGV4YWN0bHkgYXMgaGUgc3VwcGxpZWQuXG5cbiAgICB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudHlwZSA9ICdVbml0JztcbiAgVW5pdC5wcm90b3R5cGUuaXNVbml0ID0gdHJ1ZTsgLy8gcHJpdmF0ZSB2YXJpYWJsZXMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlIFVuaXQgcGFyc2VyXG5cbiAgdmFyIHRleHQsIGluZGV4LCBjO1xuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgIHdoaWxlIChjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0RpZ2l0RG90KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA9PT0gJy4nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNEaWdpdChjKSB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpbmRleCsrO1xuICAgIGMgPSB0ZXh0LmNoYXJBdChpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnQob2xkSW5kZXgpIHtcbiAgICBpbmRleCA9IG9sZEluZGV4O1xuICAgIGMgPSB0ZXh0LmNoYXJBdChpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZU51bWJlcigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIG9sZEluZGV4ID0gaW5kZXg7XG5cbiAgICBpZiAoYyA9PT0gJysnKSB7XG4gICAgICBuZXh0KCk7XG4gICAgfSBlbHNlIGlmIChjID09PSAnLScpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH1cblxuICAgIGlmICghaXNEaWdpdERvdChjKSkge1xuICAgICAgLy8gYSArIG9yIC0gbXVzdCBiZSBmb2xsb3dlZCBieSBhIGRpZ2l0XG4gICAgICByZXZlcnQob2xkSW5kZXgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyBnZXQgbnVtYmVyLCBjYW4gaGF2ZSBhIHNpbmdsZSBkb3RcblxuXG4gICAgaWYgKGMgPT09ICcuJykge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG5cbiAgICAgIGlmICghaXNEaWdpdChjKSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vIGxlZ2FsIG51bWJlciwgaXQgaXMganVzdCBhIGRvdFxuICAgICAgICByZXZlcnQob2xkSW5kZXgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGMgPT09ICcuJykge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChpc0RpZ2l0KGMpKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9IC8vIGNoZWNrIGZvciBleHBvbmVudGlhbCBub3RhdGlvbiBsaWtlIFwiMi4zZS00XCIgb3IgXCIxLjIzZTUwXCJcblxuXG4gICAgaWYgKGMgPT09ICdFJyB8fCBjID09PSAnZScpIHtcbiAgICAgIC8vIFRoZSBncmFtbWFyIGJyYW5jaGVzIGhlcmUuIFRoaXMgY291bGQgZWl0aGVyIGJlIHBhcnQgb2YgYW4gZXhwb25lbnQgb3IgdGhlIHN0YXJ0IG9mIGEgdW5pdCB0aGF0IGJlZ2lucyB3aXRoIHRoZSBsZXR0ZXIgZSwgc3VjaCBhcyBcIjRleGFieXRlc1wiXG4gICAgICB2YXIgdGVudGF0aXZlTnVtYmVyID0gJyc7XG4gICAgICB2YXIgdGVudGF0aXZlSW5kZXggPSBpbmRleDtcbiAgICAgIHRlbnRhdGl2ZU51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuXG4gICAgICBpZiAoYyA9PT0gJysnIHx8IGMgPT09ICctJykge1xuICAgICAgICB0ZW50YXRpdmVOdW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSAvLyBTY2llbnRpZmljIG5vdGF0aW9uIE1VU1QgYmUgZm9sbG93ZWQgYnkgYW4gZXhwb25lbnQgKG90aGVyd2lzZSB3ZSBhc3N1bWUgaXQgaXMgbm90IHNjaWVudGlmaWMgbm90YXRpb24pXG5cblxuICAgICAgaWYgKCFpc0RpZ2l0KGMpKSB7XG4gICAgICAgIC8vIFRoZSBlIG9yIEUgbXVzdCBiZWxvbmcgdG8gc29tZXRoaW5nIGVsc2UsIHNvIHJldHVybiB0aGUgbnVtYmVyIHdpdGhvdXQgdGhlIGUgb3IgRS5cbiAgICAgICAgcmV2ZXJ0KHRlbnRhdGl2ZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgIH0gLy8gV2UgY2FuIG5vdyBzYWZlbHkgc2F5IHRoYXQgdGhpcyBpcyBzY2llbnRpZmljIG5vdGF0aW9uLlxuXG5cbiAgICAgIG51bWJlciA9IG51bWJlciArIHRlbnRhdGl2ZU51bWJlcjtcblxuICAgICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgICAgbnVtYmVyICs9IGM7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VVbml0KCkge1xuICAgIHZhciB1bml0TmFtZSA9ICcnOyAvLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvbmx5OyBtYXRjaGVzIFthLXpBLVowLTldXG5cbiAgICB3aGlsZSAoaXNEaWdpdChjKSB8fCBVbml0LmlzVmFsaWRBbHBoYShjKSkge1xuICAgICAgdW5pdE5hbWUgKz0gYztcbiAgICAgIG5leHQoKTtcbiAgICB9IC8vIE11c3QgYmVnaW4gd2l0aCBbYS16QS1aXVxuXG5cbiAgICB2YXIgZmlyc3RDID0gdW5pdE5hbWUuY2hhckF0KDApO1xuXG4gICAgaWYgKFVuaXQuaXNWYWxpZEFscGhhKGZpcnN0QykpIHtcbiAgICAgIHJldHVybiB1bml0TmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VDaGFyYWN0ZXIodG9GaW5kKSB7XG4gICAgaWYgKGMgPT09IHRvRmluZCkge1xuICAgICAgbmV4dCgpO1xuICAgICAgcmV0dXJuIHRvRmluZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBpbnRvIGEgdW5pdC4gVGhlIHZhbHVlIG9mIHRoZSB1bml0IGlzIHBhcnNlZCBhcyBudW1iZXIsXG4gICAqIEJpZ051bWJlciwgb3IgRnJhY3Rpb24gZGVwZW5kaW5nIG9uIHRoZSBtYXRoLmpzIGNvbmZpZyBzZXR0aW5nIGBudW1iZXJgLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBwcm92aWRlZCBzdHJpbmcgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHVuaXQgb3JcbiAgICogY2Fubm90IGJlIHBhcnNlZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgQSBzdHJpbmcgbGlrZSBcIjUuMiBpbmNoXCIsIFwiNGUyIGNtL3NeMlwiXG4gICAqIEByZXR1cm4ge1VuaXR9IHVuaXRcbiAgICovXG5cblxuICBVbml0LnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRleHQgPSBzdHI7XG4gICAgaW5kZXggPSAtMTtcbiAgICBjID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IGluIFVuaXQucGFyc2UsIHN0cmluZyBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoKTtcbiAgICB1bml0LnVuaXRzID0gW107XG4gICAgdmFyIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgIHZhciBleHBlY3RpbmdVbml0ID0gZmFsc2U7IC8vIEEgdW5pdCBzaG91bGQgZm9sbG93IHRoaXMgcGF0dGVybjpcbiAgICAvLyBbbnVtYmVyXSAuLi5bIFsqL10gdW5pdFtebnVtYmVyXSBdXG4gICAgLy8gdW5pdFtebnVtYmVyXSAuLi4gWyBbKi9dIHVuaXRbXm51bWJlcl0gXVxuICAgIC8vIFJ1bGVzOlxuICAgIC8vIG51bWJlciBpcyBhbnkgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgIC8vIHVuaXQgaXMgYW55IGFscGhhbnVtZXJpYyBzdHJpbmcgYmVnaW5uaW5nIHdpdGggYW4gYWxwaGEuIFVuaXRzIHdpdGggbmFtZXMgbGlrZSBlMyBzaG91bGQgYmUgYXZvaWRlZCBiZWNhdXNlIHRoZXkgbG9vayBsaWtlIHRoZSBleHBvbmVudCBvZiBhIGZsb2F0aW5nIHBvaW50IG51bWJlciFcbiAgICAvLyBUaGUgc3RyaW5nIG1heSBvcHRpb25hbGx5IGJlZ2luIHdpdGggYSBudW1iZXIuXG4gICAgLy8gRWFjaCB1bml0IG1heSBvcHRpb25hbGx5IGJlIGZvbGxvd2VkIGJ5IF5udW1iZXIuXG4gICAgLy8gV2hpdGVzcGFjZSBvciBhIGZvcndhcmQgc2xhc2ggaXMgcmVjb21tZW5kZWQgYmV0d2VlbiBjb25zZWN1dGl2ZSB1bml0cywgYWx0aG91Z2ggdGhlIGZvbGxvd2luZyB0ZWNobmljYWxseSBpcyBwYXJzZWFibGU6XG4gICAgLy8gICAybV4ya2cvc14yXG4gICAgLy8gaXQgaXMgbm90IGdvb2QgZm9ybS4gSWYgYSB1bml0IHN0YXJ0cyB3aXRoIGUsIHRoZW4gaXQgY291bGQgYmUgY29uZnVzZWQgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXI6XG4gICAgLy8gICA0ZXJnXG5cbiAgICBuZXh0KCk7XG4gICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gT3B0aW9uYWwgbnVtYmVyIGF0IHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG5cbiAgICB2YXIgdmFsdWVTdHIgPSBwYXJzZU51bWJlcigpO1xuICAgIHZhciB2YWx1ZSA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVTdHIpIHtcbiAgICAgIGlmIChjb25maWcubnVtYmVyID09PSAnQmlnTnVtYmVyJykge1xuICAgICAgICB2YWx1ZSA9IG5ldyBfQmlnTnVtYmVyKHZhbHVlU3RyKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnLm51bWJlciA9PT0gJ0ZyYWN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIG5vdCBhbGwgbnVtYmVycyBjYW4gYmUgdHVybmVkIGluIEZyYWN0aW9ucywgZm9yIGV4YW1wbGUgdmVyeSBzbWFsbCBudW1iZXJzIG5vdFxuICAgICAgICAgIHZhbHVlID0gbmV3IF9GcmFjdGlvbih2YWx1ZVN0cik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZVN0cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG51bWJlclxuICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHIpO1xuICAgICAgfVxuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBXaGl0ZXNwYWNlIGlzIG5vdCByZXF1aXJlZCBoZXJlXG4gICAgICAvLyBoYW5kbGUgbXVsdGlwbGljYXRpb24gb3IgZGl2aXNpb24gcmlnaHQgYWZ0ZXIgdGhlIHZhbHVlLCBsaWtlICcxL3MnXG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignKicpKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VDaGFyYWN0ZXIoJy8nKSkge1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gLTE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gLy8gU3RhY2sgdG8ga2VlcCB0cmFjayBvZiBwb3dlck11bHRpcGxpZXJzIGFwcGxpZWQgdG8gZWFjaCBwYXJlbnRoZXNlcyBncm91cFxuXG5cbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyU3RhY2sgPSBbXTsgLy8gUnVubmluZyBwcm9kdWN0IG9mIGFsbCBlbGVtZW50cyBpbiBwb3dlck11bHRpcGxpZXJTdGFja1xuXG4gICAgdmFyIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCA9IDE7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgc2tpcFdoaXRlc3BhY2UoKTsgLy8gQ2hlY2sgZm9yIGFuZCBjb25zdW1lIG9wZW5pbmcgcGFyZW50aGVzZXMsIHB1c2hpbmcgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCB0byB0aGUgc3RhY2tcbiAgICAgIC8vIEEgJygnIHdpbGwgYWx3YXlzIGFwcGVhciBkaXJlY3RseSBiZWZvcmUgYSB1bml0LlxuXG4gICAgICB3aGlsZSAoYyA9PT0gJygnKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrLnB1c2gocG93ZXJNdWx0aXBsaWVyQ3VycmVudCk7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCAqPSBwb3dlck11bHRpcGxpZXJDdXJyZW50O1xuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgfSAvLyBJcyB0aGVyZSBzb21ldGhpbmcgaGVyZT9cblxuXG4gICAgICB2YXIgdVN0ciA9IHZvaWQgMDtcblxuICAgICAgaWYgKGMpIHtcbiAgICAgICAgdmFyIG9sZEMgPSBjO1xuICAgICAgICB1U3RyID0gcGFyc2VVbml0KCk7XG5cbiAgICAgICAgaWYgKHVTdHIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuZXhwZWN0ZWQgXCInICsgb2xkQyArICdcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiIGF0IGluZGV4ICcgKyBpbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5kIG9mIGlucHV0LlxuICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gVmVyaWZ5IHRoZSB1bml0IGV4aXN0cyBhbmQgZ2V0IHRoZSBwcmVmaXggKGlmIGFueSlcblxuXG4gICAgICB2YXIgcmVzID0gX2ZpbmRVbml0KHVTdHIpO1xuXG4gICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgIC8vIFVuaXQgbm90IGZvdW5kLlxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VuaXQgXCInICsgdVN0ciArICdcIiBub3QgZm91bmQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3dlciA9IHBvd2VyTXVsdGlwbGllckN1cnJlbnQgKiBwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3Q7IC8vIElzIHRoZXJlIGEgXCJeIG51bWJlclwiP1xuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJ14nKSkge1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgICB2YXIgcCA9IHBhcnNlTnVtYmVyKCk7XG5cbiAgICAgICAgaWYgKHAgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBObyB2YWxpZCBudW1iZXIgZm91bmQgZm9yIHRoZSBwb3dlciFcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0luIFwiJyArIHN0ciArICdcIiwgXCJeXCIgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGZsb2F0aW5nLXBvaW50IG51bWJlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG93ZXIgKj0gcDtcbiAgICAgIH0gLy8gQWRkIHRoZSB1bml0IHRvIHRoZSBsaXN0XG5cblxuICAgICAgdW5pdC51bml0cy5wdXNoKHtcbiAgICAgICAgdW5pdDogcmVzLnVuaXQsXG4gICAgICAgIHByZWZpeDogcmVzLnByZWZpeCxcbiAgICAgICAgcG93ZXI6IHBvd2VyXG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdC5kaW1lbnNpb25zW2ldICs9IChyZXMudW5pdC5kaW1lbnNpb25zW2ldIHx8IDApICogcG93ZXI7XG4gICAgICB9IC8vIENoZWNrIGZvciBhbmQgY29uc3VtZSBjbG9zaW5nIHBhcmVudGhlc2VzLCBwb3BwaW5nIGZyb20gdGhlIHN0YWNrLlxuICAgICAgLy8gQSAnKScgd2lsbCBhbHdheXMgZm9sbG93IGEgdW5pdC5cblxuXG4gICAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgICB3aGlsZSAoYyA9PT0gJyknKSB7XG4gICAgICAgIGlmIChwb3dlck11bHRpcGxpZXJTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VubWF0Y2hlZCBcIilcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiIGF0IGluZGV4ICcgKyBpbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdCAvPSBwb3dlck11bHRpcGxpZXJTdGFjay5wb3AoKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgICAgfSAvLyBcIipcIiBhbmQgXCIvXCIgc2hvdWxkIG1lYW4gd2UgYXJlIGV4cGVjdGluZyBzb21ldGhpbmcgdG8gY29tZSBuZXh0LlxuICAgICAgLy8gSXMgdGhlcmUgYSBmb3J3YXJkIHNsYXNoPyBJZiBzbywgbmVnYXRlIHBvd2VyTXVsdGlwbGllckN1cnJlbnQuIFRoZSBuZXh0IHVuaXQgb3IgcGFyZW4gZ3JvdXAgaXMgaW4gdGhlIGRlbm9taW5hdG9yLlxuXG5cbiAgICAgIGV4cGVjdGluZ1VuaXQgPSBmYWxzZTtcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCcqJykpIHtcbiAgICAgICAgLy8gZXhwbGljaXQgbXVsdGlwbGljYXRpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUNoYXJhY3RlcignLycpKSB7XG4gICAgICAgIC8vIGRpdmlzaW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAtMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgIH0gLy8gUmVwbGFjZSB0aGUgdW5pdCBpbnRvIHRoZSBhdXRvIHVuaXQgc3lzdGVtXG5cblxuICAgICAgaWYgKHJlcy51bml0LmJhc2UpIHtcbiAgICAgICAgdmFyIGJhc2VEaW0gPSByZXMudW5pdC5iYXNlLmtleTtcbiAgICAgICAgVU5JVF9TWVNURU1TLmF1dG9bYmFzZURpbV0gPSB7XG4gICAgICAgICAgdW5pdDogcmVzLnVuaXQsXG4gICAgICAgICAgcHJlZml4OiByZXMucHJlZml4XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSAvLyBIYXMgdGhlIHN0cmluZyBiZWVuIGVudGlyZWx5IGNvbnN1bWVkP1xuXG5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuXG4gICAgaWYgKGMpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ291bGQgbm90IHBhcnNlOiBcIicgKyBzdHIgKyAnXCInKTtcbiAgICB9IC8vIElzIHRoZXJlIGEgdHJhaWxpbmcgc2xhc2g/XG5cblxuICAgIGlmIChleHBlY3RpbmdVbml0KSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1RyYWlsaW5nIGNoYXJhY3RlcnM6IFwiJyArIHN0ciArICdcIicpO1xuICAgIH0gLy8gSXMgdGhlIHBhcmVudGhlc2VzIHN0YWNrIGVtcHR5P1xuXG5cbiAgICBpZiAocG93ZXJNdWx0aXBsaWVyU3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1VubWF0Y2hlZCBcIihcIiBpbiBcIicgKyB0ZXh0ICsgJ1wiJyk7XG4gICAgfSAvLyBBcmUgdGhlcmUgYW55IHVuaXRzIGF0IGFsbD9cblxuXG4gICAgaWYgKHVuaXQudW5pdHMubGVuZ3RoID09PSAwICYmICFvcHRpb25zLmFsbG93Tm9Vbml0cykge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdcIicgKyBzdHIgKyAnXCIgY29udGFpbnMgbm8gdW5pdHMnKTtcbiAgICB9XG5cbiAgICB1bml0LnZhbHVlID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHVuaXQuX25vcm1hbGl6ZSh2YWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogY3JlYXRlIGEgY29weSBvZiB0aGlzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7VW5pdH0gUmV0dXJucyBhIGNsb25lZCB2ZXJzaW9uIG9mIHRoZSB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdCgpO1xuICAgIHVuaXQuZml4UHJlZml4ID0gdGhpcy5maXhQcmVmaXg7XG4gICAgdW5pdC5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbjtcbiAgICB1bml0LnZhbHVlID0gY2xvbmUodGhpcy52YWx1ZSk7XG4gICAgdW5pdC5kaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zLnNsaWNlKDApO1xuICAgIHVuaXQudW5pdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdW5pdC51bml0c1tpXSA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBwIGluIHRoaXMudW5pdHNbaV0pIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMudW5pdHNbaV0sIHApKSB7XG4gICAgICAgICAgdW5pdC51bml0c1tpXVtwXSA9IHRoaXMudW5pdHNbaV1bcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSB1bml0IGlzIGRlcml2ZWQgKHN1Y2ggYXMgbS9zLCBvciBjbV4yLCBidXQgbm90IE4pXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHVuaXQgaXMgZGVyaXZlZFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9pc0Rlcml2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudW5pdHMubGVuZ3RoID4gMSB8fCBNYXRoLmFicyh0aGlzLnVuaXRzWzBdLnBvd2VyIC0gMS4wKSA+IDFlLTE1O1xuICB9O1xuICAvKipcbiAgICogTm9ybWFsaXplIGEgdmFsdWUsIGJhc2VkIG9uIGl0cyBjdXJyZW50bHkgc2V0IHVuaXQocylcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW59IHZhbHVlXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbn0gbm9ybWFsaXplZCB2YWx1ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9ub3JtYWxpemUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgdW5pdFZhbHVlLCB1bml0T2Zmc2V0LCB1bml0UG93ZXIsIHVuaXRQcmVmaXhWYWx1ZTtcbiAgICB2YXIgY29udmVydDtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc0Rlcml2ZWQoKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIGRlcml2ZWQgdW5pdCwgc28gZG8gbm90IGFwcGx5IG9mZnNldHMuXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgd2l0aCBKIGtnXi0xIGRlZ0NeLTEgeW91IHdvdWxkIE5PVCB3YW50IHRvIGFwcGx5IHRoZSBvZmZzZXQuXG4gICAgICB2YXIgcmVzID0gdmFsdWU7XG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS51bml0LnZhbHVlKTtcbiAgICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnByZWZpeC52YWx1ZSk7XG4gICAgICAgIHVuaXRQb3dlciA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wb3dlcik7XG4gICAgICAgIHJlcyA9IG11bHRpcGx5U2NhbGFyKHJlcywgcG93KG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSwgdW5pdFBvd2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgdW5pdCBvZiBwb3dlciAxLCBsaWtlIGtnIG9yIGRlZ0NcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgICB1bml0T2Zmc2V0ID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQub2Zmc2V0KTtcbiAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgICAgcmV0dXJuIG11bHRpcGx5U2NhbGFyKGFkZFNjYWxhcih2YWx1ZSwgdW5pdE9mZnNldCksIG11bHRpcGx5U2NhbGFyKHVuaXRWYWx1ZSwgdW5pdFByZWZpeFZhbHVlKSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRGVub3JtYWxpemUgYSB2YWx1ZSwgYmFzZWQgb24gaXRzIGN1cnJlbnRseSBzZXQgdW5pdChzKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVmaXhWYWx1ZV0gICAgT3B0aW9uYWwgcHJlZml4IHZhbHVlIHRvIGJlIHVzZWQgKGlnbm9yZWQgaWYgdGhpcyBpcyBhIGRlcml2ZWQgdW5pdClcbiAgICogQHJldHVybiB7bnVtYmVyfSBkZW5vcm1hbGl6ZWQgdmFsdWVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fZGVub3JtYWxpemUgPSBmdW5jdGlvbiAodmFsdWUsIHByZWZpeFZhbHVlKSB7XG4gICAgdmFyIHVuaXRWYWx1ZSwgdW5pdE9mZnNldCwgdW5pdFBvd2VyLCB1bml0UHJlZml4VmFsdWU7XG4gICAgdmFyIGNvbnZlcnQ7XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNEZXJpdmVkKCkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBkZXJpdmVkIHVuaXQsIHNvIGRvIG5vdCBhcHBseSBvZmZzZXRzLlxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHdpdGggSiBrZ14tMSBkZWdDXi0xIHlvdSB3b3VsZCBOT1Qgd2FudCB0byBhcHBseSB0aGUgb2Zmc2V0LlxuICAgICAgLy8gQWxzbywgcHJlZml4VmFsdWUgaXMgaWdub3JlZC0tYnV0IHdlIHdpbGwgc3RpbGwgdXNlIHRoZSBwcmVmaXggdmFsdWUgc3RvcmVkIGluIGVhY2ggdW5pdCwgc2luY2Uga2cgaXMgdXN1YWxseSBwcmVmZXJhYmxlIHRvIGcgdW5sZXNzIHRoZSB1c2VyIGRlY2lkZXMgb3RoZXJ3aXNlLlxuICAgICAgdmFyIHJlcyA9IHZhbHVlO1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0udW5pdC52YWx1ZSk7XG4gICAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wcmVmaXgudmFsdWUpO1xuICAgICAgICB1bml0UG93ZXIgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucG93ZXIpO1xuICAgICAgICByZXMgPSBkaXZpZGVTY2FsYXIocmVzLCBwb3cobXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpLCB1bml0UG93ZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSB1bml0IG9mIHBvd2VyIDEsIGxpa2Uga2cgb3IgZGVnQ1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICAgIHVuaXRQcmVmaXhWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgICAgdW5pdE9mZnNldCA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0Lm9mZnNldCk7XG5cbiAgICAgIGlmIChwcmVmaXhWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHByZWZpeFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzdWJ0cmFjdChkaXZpZGVTY2FsYXIoZGl2aWRlU2NhbGFyKHZhbHVlLCB1bml0VmFsdWUpLCB1bml0UHJlZml4VmFsdWUpLCB1bml0T2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdWJ0cmFjdChkaXZpZGVTY2FsYXIoZGl2aWRlU2NhbGFyKHZhbHVlLCB1bml0VmFsdWUpLCBwcmVmaXhWYWx1ZSksIHVuaXRPZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEZpbmQgYSB1bml0IGZyb20gYSBzdHJpbmdcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAgICAgICAgICAgICAgQSBzdHJpbmcgbGlrZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJucyB7T2JqZWN0IHwgbnVsbH0gcmVzdWx0ICBXaGVuIGZvdW5kLCBhbiBvYmplY3Qgd2l0aCBmaWVsZHMgdW5pdCBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4IGlzIHJldHVybmVkLiBFbHNlLCBudWxsIGlzIHJldHVybmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciBfZmluZFVuaXQgPSBtZW1vaXplKHN0ciA9PiB7XG4gICAgLy8gRmlyc3QsIG1hdGNoIHVuaXRzIG5hbWVzIGV4YWN0bHkuIEZvciBleGFtcGxlLCBhIHVzZXIgY291bGQgZGVmaW5lICdtbScgYXMgMTBeLTQgbSwgd2hpY2ggaXMgc2lsbHksIGJ1dCB0aGVuIHdlIHdvdWxkIHdhbnQgJ21tJyB0byBtYXRjaCB0aGUgdXNlci1kZWZpbmVkIHVuaXQuXG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBzdHIpKSB7XG4gICAgICB2YXIgdW5pdCA9IFVOSVRTW3N0cl07XG4gICAgICB2YXIgcHJlZml4ID0gdW5pdC5wcmVmaXhlc1snJ107XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bml0LFxuICAgICAgICBwcmVmaXhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX25hbWUgaW4gVU5JVFMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgX25hbWUpKSB7XG4gICAgICAgIGlmIChlbmRzV2l0aChzdHIsIF9uYW1lKSkge1xuICAgICAgICAgIHZhciBfdW5pdCA9IFVOSVRTW19uYW1lXTtcbiAgICAgICAgICB2YXIgcHJlZml4TGVuID0gc3RyLmxlbmd0aCAtIF9uYW1lLmxlbmd0aDtcbiAgICAgICAgICB2YXIgcHJlZml4TmFtZSA9IHN0ci5zdWJzdHJpbmcoMCwgcHJlZml4TGVuKTtcblxuICAgICAgICAgIHZhciBfcHJlZml4ID0gaGFzT3duUHJvcGVydHkoX3VuaXQucHJlZml4ZXMsIHByZWZpeE5hbWUpID8gX3VuaXQucHJlZml4ZXNbcHJlZml4TmFtZV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoX3ByZWZpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBzdG9yZSB1bml0LCBwcmVmaXgsIGFuZCB2YWx1ZVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdW5pdDogX3VuaXQsXG4gICAgICAgICAgICAgIHByZWZpeDogX3ByZWZpeFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwge1xuICAgIGhhc2hlcjogYXJncyA9PiBhcmdzWzBdLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnaXZlbiBleHByZXNzaW9uIGlzIGEgdW5pdC5cbiAgICogVGhlIHVuaXQgY2FuIGhhdmUgYSBwcmVmaXggYnV0IGNhbm5vdCBoYXZlIGEgdmFsdWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgQSBzdHJpbmcgdG8gYmUgdGVzdGVkIHdoZXRoZXIgaXQgaXMgYSB2YWx1ZSBsZXNzIHVuaXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHVuaXQgY2FuIGhhdmUgcHJlZml4LCBsaWtlIFwiY21cIlxuICAgKiBAcmV0dXJuIHtib29sZWFufSAgICAgIHRydWUgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhIHVuaXRcbiAgICovXG5cblxuICBVbml0LmlzVmFsdWVsZXNzVW5pdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIF9maW5kVW5pdChuYW1lKSAhPT0gbnVsbDtcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrIGlmIHRoaXMgdW5pdCBoYXMgZ2l2ZW4gYmFzZSB1bml0XG4gICAqIElmIHRoaXMgdW5pdCBpcyBhIGRlcml2ZWQgdW5pdCwgdGhpcyB3aWxsIEFMV0FZUyByZXR1cm4gZmFsc2UsIHNpbmNlIGJ5IGRlZmluaXRpb24gYmFzZSB1bml0cyBhcmUgbm90IGRlcml2ZWQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7QkFTRV9VTklUUyB8IHN0cmluZyB8IHVuZGVmaW5lZH0gYmFzZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmhhc0Jhc2UgPSBmdW5jdGlvbiAoYmFzZSkge1xuICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJhc2UgPSBCQVNFX1VOSVRTW2Jhc2VdO1xuICAgIH1cblxuICAgIGlmICghYmFzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gQWxsIGRpbWVuc2lvbnMgbXVzdCBiZSB0aGUgc2FtZVxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKE1hdGguYWJzKCh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAoYmFzZS5kaW1lbnNpb25zW2ldIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgdW5pdCBoYXMgYSBiYXNlIG9yIGJhc2VzIGVxdWFsIHRvIGFub3RoZXIgYmFzZSBvciBiYXNlc1xuICAgKiBGb3IgZGVyaXZlZCB1bml0cywgdGhlIGV4cG9uZW50IG9uIGVhY2ggYmFzZSBhbHNvIG11c3QgbWF0Y2hcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGVxdWFsIGJhc2VcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5lcXVhbEJhc2UgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAvLyBBbGwgZGltZW5zaW9ucyBtdXN0IGJlIHRoZSBzYW1lXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChNYXRoLmFicygodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyB1bml0IGVxdWFscyBhbm90aGVyIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtVbml0fSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGJvdGggdW5pdHMgYXJlIGVxdWFsXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZXF1YWxCYXNlKG90aGVyKSAmJiBlcXVhbCh0aGlzLnZhbHVlLCBvdGhlci52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGlzIHVuaXQgd2l0aCBhbm90aGVyIG9uZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge1VuaXR9IHByb2R1Y3Qgb2YgdGhpcyB1bml0IGFuZCB0aGUgb3RoZXIgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEaW1lbnNpb25zIGFycmF5cyBtYXkgYmUgb2YgZGlmZmVyZW50IGxlbmd0aHMuIERlZmF1bHQgdG8gMC5cbiAgICAgIHJlcy5kaW1lbnNpb25zW2ldID0gKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSArIChvdGhlci5kaW1lbnNpb25zW2ldIHx8IDApO1xuICAgIH0gLy8gQXBwZW5kIG90aGVyJ3MgdW5pdHMgbGlzdCBvbnRvIHJlc1xuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3RoZXIudW5pdHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAvLyBNYWtlIGEgc2hhbGxvdyBjb3B5IG9mIGV2ZXJ5IHVuaXRcbiAgICAgIHZhciBpbnZlcnRlZCA9IF9vYmplY3RTcHJlYWQoe30sIG90aGVyLnVuaXRzW19pXSk7XG5cbiAgICAgIHJlcy51bml0cy5wdXNoKGludmVydGVkKTtcbiAgICB9IC8vIElmIGF0IGxlYXN0IG9uZSBvcGVyYW5kIGhhcyBhIHZhbHVlLCB0aGVuIHRoZSByZXN1bHQgc2hvdWxkIGFsc28gaGF2ZSBhIHZhbHVlXG5cblxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsIHx8IG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgdmFsVGhpcyA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuICAgICAgdmFyIHZhbE90aGVyID0gb3RoZXIudmFsdWUgPT09IG51bGwgPyBvdGhlci5fbm9ybWFsaXplKDEpIDogb3RoZXIudmFsdWU7XG4gICAgICByZXMudmFsdWUgPSBtdWx0aXBseVNjYWxhcih2YWxUaGlzLCB2YWxPdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogRGl2aWRlIHRoaXMgdW5pdCBieSBhbm90aGVyIG9uZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge1VuaXR9IHJlc3VsdCBvZiBkaXZpZGluZyB0aGlzIHVuaXQgYnkgdGhlIG90aGVyIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApIC0gKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCk7XG4gICAgfSAvLyBJbnZlcnQgYW5kIGFwcGVuZCBvdGhlcidzIHVuaXRzIGxpc3Qgb250byByZXNcblxuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgb3RoZXIudW5pdHMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgLy8gTWFrZSBhIHNoYWxsb3cgY29weSBvZiBldmVyeSB1bml0XG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG90aGVyLnVuaXRzW19pMl0pLCB7fSwge1xuICAgICAgICBwb3dlcjogLW90aGVyLnVuaXRzW19pMl0ucG93ZXJcbiAgICAgIH0pO1xuXG4gICAgICByZXMudW5pdHMucHVzaChpbnZlcnRlZCk7XG4gICAgfSAvLyBJZiBhdCBsZWFzdCBvbmUgb3BlcmFuZCBoYXMgYSB2YWx1ZSwgdGhlIHJlc3VsdCBzaG91bGQgaGF2ZSBhIHZhbHVlXG5cblxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsIHx8IG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgdmFsVGhpcyA9IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUoMSkgOiB0aGlzLnZhbHVlO1xuICAgICAgdmFyIHZhbE90aGVyID0gb3RoZXIudmFsdWUgPT09IG51bGwgPyBvdGhlci5fbm9ybWFsaXplKDEpIDogb3RoZXIudmFsdWU7XG4gICAgICByZXMudmFsdWUgPSBkaXZpZGVTY2FsYXIodmFsVGhpcywgdmFsT3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgYSB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXJ9IHBcbiAgICogQHJldHVybnMge1VuaXR9ICAgICAgVGhlIHJlc3VsdDogdGhpc15wXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApICogcDtcbiAgICB9IC8vIEFkanVzdCB0aGUgcG93ZXIgb2YgZWFjaCB1bml0IGluIHRoZSBsaXN0XG5cblxuICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHJlcy51bml0cy5sZW5ndGg7IF9pMysrKSB7XG4gICAgICByZXMudW5pdHNbX2kzXS5wb3dlciAqPSBwO1xuICAgIH1cblxuICAgIGlmIChyZXMudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHJlcy52YWx1ZSA9IHBvdyhyZXMudmFsdWUsIHApOyAvLyBvbmx5IGFsbG93IG51bWVyaWMgb3V0cHV0LCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhIENvbXBsZXggbnVtYmVyXG4gICAgICAvLyBpZiAoIWlzTnVtZXJpYyhyZXMudmFsdWUpKSB7XG4gICAgICAvLyAgcmVzLnZhbHVlID0gTmFOXG4gICAgICAvLyB9XG4gICAgICAvLyBVcGRhdGU6IENvbXBsZXggc3VwcG9ydGVkIG5vd1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHJlcy5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZ2V0TnVtZXJpY0lmVW5pdGxlc3MocmVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGlzIHVuaXQgaWYgaXQgaXMgZGltZW5zaW9ubGVzcywgaGFzIGEgdmFsdWUsIGFuZCBjb25maWcucHJlZGljdGFibGUgPT0gZmFsc2U7IG9yIHRoZSBvcmlnaW5hbCB1bml0IG90aGVyd2lzZVxuICAgKiBAcGFyYW0ge1VuaXR9IHVuaXRcbiAgICogQHJldHVybnMge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgVW5pdH0gIFRoZSBudW1lcmljIHZhbHVlIG9mIHRoZSB1bml0IGlmIGNvbmRpdGlvbnMgYXJlIG1ldCwgb3IgdGhlIG9yaWdpbmFsIHVuaXQgb3RoZXJ3aXNlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0TnVtZXJpY0lmVW5pdGxlc3ModW5pdCkge1xuICAgIGlmICh1bml0LmVxdWFsQmFzZShCQVNFX1VOSVRTLk5PTkUpICYmIHVuaXQudmFsdWUgIT09IG51bGwgJiYgIWNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgcmV0dXJuIHVuaXQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bml0O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcn0geFxuICAgKiBAcmV0dXJucyB7VW5pdH0gICAgICBUaGUgcmVzdWx0OiB8eHwsIGFic29sdXRlIHZhbHVlIG9mIHhcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBnaXZlcyBjb3JyZWN0LCBidXQgdW5leHBlY3RlZCwgcmVzdWx0cyBmb3IgdW5pdHMgd2l0aCBhbiBvZmZzZXQuXG4gICAgLy8gRm9yIGV4YW1wbGUsIGFicygtMjgzLjE1IGRlZ0MpID0gLTI2My4xNSBkZWdDICEhIVxuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgcmV0LnZhbHVlID0gcmV0LnZhbHVlICE9PSBudWxsID8gYWJzKHJldC52YWx1ZSkgOiBudWxsO1xuXG4gICAgZm9yICh2YXIgaSBpbiByZXQudW5pdHMpIHtcbiAgICAgIGlmIChyZXQudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkEnIHx8IHJldC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQVInKSB7XG4gICAgICAgIHJldC51bml0c1tpXS51bml0ID0gVU5JVFMuVztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogQ29udmVydCB0aGUgdW5pdCB0byBhIHNwZWNpZmljIHVuaXQgbmFtZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgQSB1bml0IHdpdGhvdXQgdmFsdWUuIENhbiBoYXZlIHByZWZpeCwgbGlrZSBcImNtXCJcbiAgICogQHJldHVybnMge1VuaXR9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgdW5pdCB3aXRoIGEgZml4ZWQgcHJlZml4IGFuZCB1bml0LlxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICB2YXIgb3RoZXI7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlbGVzc1VuaXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBvdGhlciA9IG5ldyBVbml0KG51bGwsIHZhbHVlbGVzc1VuaXQpXG4gICAgICBvdGhlciA9IFVuaXQucGFyc2UodmFsdWVsZXNzVW5pdCk7XG5cbiAgICAgIGlmICghdGhpcy5lcXVhbEJhc2Uob3RoZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaXRzIGRvIG5vdCBtYXRjaCAoJ1wiLmNvbmNhdChvdGhlci50b1N0cmluZygpLCBcIicgIT0gJ1wiKS5jb25jYXQodGhpcy50b1N0cmluZygpLCBcIicpXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgdG8gYSB1bml0IHdpdGggYSB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBvdGhlci52YWx1ZSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIG90aGVyLmZpeFByZWZpeCA9IHRydWU7XG4gICAgICBvdGhlci5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH0gZWxzZSBpZiAoaXNVbml0KHZhbHVlbGVzc1VuaXQpKSB7XG4gICAgICBpZiAoIXRoaXMuZXF1YWxCYXNlKHZhbHVlbGVzc1VuaXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaXRzIGRvIG5vdCBtYXRjaCAoJ1wiLmNvbmNhdCh2YWx1ZWxlc3NVbml0LnRvU3RyaW5nKCksIFwiJyAhPSAnXCIpLmNvbmNhdCh0aGlzLnRvU3RyaW5nKCksIFwiJylcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWVsZXNzVW5pdC52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHRvIGEgdW5pdCB3aXRoIGEgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgb3RoZXIgPSB2YWx1ZWxlc3NVbml0LmNsb25lKCk7XG4gICAgICBvdGhlci52YWx1ZSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIG90aGVyLmZpeFByZWZpeCA9IHRydWU7XG4gICAgICBvdGhlci5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG90aGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmluZyBvciBVbml0IGV4cGVjdGVkIGFzIHBhcmFtZXRlcicpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgd2hlbiByZXByZXNlbnRlZCB3aXRoIGdpdmVuIHZhbHVlbGVzcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgICBGb3IgZXhhbXBsZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIHVuaXQgdmFsdWUgYXMgbnVtYmVyLlxuICAgKi9cbiAgLy8gVE9ETzogZGVwcmVjYXRlIFVuaXQudG9OdW1iZXI/IEl0J3MgYWx3YXlzIGJldHRlciB0byB1c2UgdG9OdW1lcmljXG5cblxuICBVbml0LnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgcmV0dXJuIHRvTnVtYmVyKHRoaXMudG9OdW1lcmljKHZhbHVlbGVzc1VuaXQpKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgaW4gdGhlIG9yaWdpbmFsIG51bWVyaWMgdHlwZVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICAgRm9yIGV4YW1wbGUgJ2NtJyBvciAnaW5jaCdcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb259IFJldHVybnMgdGhlIHVuaXQgdmFsdWVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b051bWVyaWMgPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHZhciBvdGhlcjtcblxuICAgIGlmICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgICAvLyBBbGxvdyBnZXR0aW5nIHRoZSBudW1lcmljIHZhbHVlIHdpdGhvdXQgY29udmVydGluZyB0byBhIGRpZmZlcmVudCB1bml0XG4gICAgICBvdGhlciA9IHRoaXMudG8odmFsdWVsZXNzVW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG90aGVyID0gdGhpcy5jbG9uZSgpO1xuICAgIH1cblxuICAgIGlmIChvdGhlci5faXNEZXJpdmVkKCkgfHwgb3RoZXIudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gb3RoZXIuX2Rlbm9ybWFsaXplKG90aGVyLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG90aGVyLl9kZW5vcm1hbGl6ZShvdGhlci52YWx1ZSwgb3RoZXIudW5pdHNbMF0ucHJlZml4LnZhbHVlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJVbml0XCIsIFwidmFsdWVcIjogMiwgXCJ1bml0XCI6IFwiY21cIiwgXCJmaXhQcmVmaXhcIjogZmFsc2V9YFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnVW5pdCcsXG4gICAgICB2YWx1ZTogdGhpcy5fZGVub3JtYWxpemUodGhpcy52YWx1ZSksXG4gICAgICB1bml0OiB0aGlzLmZvcm1hdFVuaXRzKCksXG4gICAgICBmaXhQcmVmaXg6IHRoaXMuZml4UHJlZml4XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgVW5pdCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJVbml0XCIsIFwidmFsdWVcIjogMiwgXCJ1bml0XCI6IFwiY21cIiwgXCJmaXhQcmVmaXhcIjogZmFsc2V9YFxuICAgKiBAcmV0dXJuIHtVbml0fVxuICAgKi9cblxuXG4gIFVuaXQuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHZhciB1bml0ID0gbmV3IFVuaXQoanNvbi52YWx1ZSwganNvbi51bml0KTtcbiAgICB1bml0LmZpeFByZWZpeCA9IGpzb24uZml4UHJlZml4IHx8IGZhbHNlO1xuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1bml0LlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudmFsdWVPZiA9IFVuaXQucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogU2ltcGxpZnkgdGhpcyBVbml0J3MgdW5pdCBsaXN0IGFuZCByZXR1cm4gYSBuZXcgVW5pdCB3aXRoIHRoZSBzaW1wbGlmaWVkIGxpc3QuXG4gICAqIFRoZSByZXR1cm5lZCBVbml0IHdpbGwgY29udGFpbiBhIGxpc3Qgb2YgdGhlIFwiYmVzdFwiIHVuaXRzIGZvciBmb3JtYXR0aW5nLlxuICAgKi9cblxuICBVbml0LnByb3RvdHlwZS5zaW1wbGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciBwcm9wb3NlZFVuaXRMaXN0ID0gW107IC8vIFNlYXJjaCBmb3IgYSBtYXRjaGluZyBiYXNlXG5cbiAgICB2YXIgbWF0Y2hpbmdCYXNlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIGN1cnJlbnRVbml0U3lzdGVtKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIGtleSkpIHtcbiAgICAgICAgaWYgKHJldC5oYXNCYXNlKEJBU0VfVU5JVFNba2V5XSkpIHtcbiAgICAgICAgICBtYXRjaGluZ0Jhc2UgPSBrZXk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0Y2hpbmdCYXNlID09PSAnTk9ORScpIHtcbiAgICAgIHJldC51bml0cyA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWF0Y2hpbmdVbml0O1xuXG4gICAgICBpZiAobWF0Y2hpbmdCYXNlKSB7XG4gICAgICAgIC8vIERvZXMgdGhlIHVuaXQgc3lzdGVtIGhhdmUgYSBtYXRjaGluZyB1bml0P1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIG1hdGNoaW5nQmFzZSkpIHtcbiAgICAgICAgICBtYXRjaGluZ1VuaXQgPSBjdXJyZW50VW5pdFN5c3RlbVttYXRjaGluZ0Jhc2VdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaGluZ1VuaXQpIHtcbiAgICAgICAgcmV0LnVuaXRzID0gW3tcbiAgICAgICAgICB1bml0OiBtYXRjaGluZ1VuaXQudW5pdCxcbiAgICAgICAgICBwcmVmaXg6IG1hdGNoaW5nVW5pdC5wcmVmaXgsXG4gICAgICAgICAgcG93ZXI6IDEuMFxuICAgICAgICB9XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE11bHRpcGxlIHVuaXRzIG9yIHVuaXRzIHdpdGggcG93ZXJzIGFyZSBmb3JtYXR0ZWQgbGlrZSB0aGlzOlxuICAgICAgICAvLyA1IChrZyBtXjIpIC8gKHNeMyBtb2wpXG4gICAgICAgIC8vIEJ1aWxkIGFuIHJlcHJlc2VudGF0aW9uIGZyb20gdGhlIGJhc2UgdW5pdHMgb2YgdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW1cbiAgICAgICAgdmFyIG1pc3NpbmdCYXNlRGltID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgYmFzZURpbSA9IEJBU0VfRElNRU5TSU9OU1tpXTtcblxuICAgICAgICAgIGlmIChNYXRoLmFicyhyZXQuZGltZW5zaW9uc1tpXSB8fCAwKSA+IDFlLTEyKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoY3VycmVudFVuaXRTeXN0ZW0sIGJhc2VEaW0pKSB7XG4gICAgICAgICAgICAgIHByb3Bvc2VkVW5pdExpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgdW5pdDogY3VycmVudFVuaXRTeXN0ZW1bYmFzZURpbV0udW5pdCxcbiAgICAgICAgICAgICAgICBwcmVmaXg6IGN1cnJlbnRVbml0U3lzdGVtW2Jhc2VEaW1dLnByZWZpeCxcbiAgICAgICAgICAgICAgICBwb3dlcjogcmV0LmRpbWVuc2lvbnNbaV0gfHwgMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1pc3NpbmdCYXNlRGltID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSXMgdGhlIHByb3Bvc2VkIHVuaXQgbGlzdCBcInNpbXBsZXJcIiB0aGFuIHRoZSBleGlzdGluZyBvbmU/XG5cblxuICAgICAgICBpZiAocHJvcG9zZWRVbml0TGlzdC5sZW5ndGggPCByZXQudW5pdHMubGVuZ3RoICYmICFtaXNzaW5nQmFzZURpbSkge1xuICAgICAgICAgIC8vIFJlcGxhY2UgdGhpcyB1bml0IGxpc3Qgd2l0aCB0aGUgcHJvcG9zZWQgbGlzdFxuICAgICAgICAgIHJldC51bml0cyA9IHByb3Bvc2VkVW5pdExpc3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBVbml0IGluIHRoZSBTSSBzeXN0ZW0gd2l0aCB0aGUgc2FtZSB2YWx1ZSBhcyB0aGlzIG9uZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvU0kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICB2YXIgcHJvcG9zZWRVbml0TGlzdCA9IFtdOyAvLyBNdWx0aXBsZSB1bml0cyBvciB1bml0cyB3aXRoIHBvd2VycyBhcmUgZm9ybWF0dGVkIGxpa2UgdGhpczpcbiAgICAvLyA1IChrZyBtXjIpIC8gKHNeMyBtb2wpXG4gICAgLy8gQnVpbGQgYW4gcmVwcmVzZW50YXRpb24gZnJvbSB0aGUgYmFzZSB1bml0cyBvZiB0aGUgU0kgdW5pdCBzeXN0ZW1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYmFzZURpbSA9IEJBU0VfRElNRU5TSU9OU1tpXTtcblxuICAgICAgaWYgKE1hdGguYWJzKHJldC5kaW1lbnNpb25zW2ldIHx8IDApID4gMWUtMTIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUy5zaSwgYmFzZURpbSkpIHtcbiAgICAgICAgICBwcm9wb3NlZFVuaXRMaXN0LnB1c2goe1xuICAgICAgICAgICAgdW5pdDogVU5JVF9TWVNURU1TLnNpW2Jhc2VEaW1dLnVuaXQsXG4gICAgICAgICAgICBwcmVmaXg6IFVOSVRfU1lTVEVNUy5zaVtiYXNlRGltXS5wcmVmaXgsXG4gICAgICAgICAgICBwb3dlcjogcmV0LmRpbWVuc2lvbnNbaV0gfHwgMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4cHJlc3MgY3VzdG9tIHVuaXQgJyArIGJhc2VEaW0gKyAnIGluIFNJIHVuaXRzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFJlcGxhY2UgdGhpcyB1bml0IGxpc3Qgd2l0aCB0aGUgcHJvcG9zZWQgbGlzdFxuXG5cbiAgICByZXQudW5pdHMgPSBwcm9wb3NlZFVuaXRMaXN0O1xuICAgIHJldC5maXhQcmVmaXggPSB0cnVlO1xuICAgIHJldC5za2lwQXV0b21hdGljU2ltcGxpZmljYXRpb24gPSB0cnVlO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXRzIG9mIHRoaXMgVW5pdCwgd2l0aG91dCB0aGUgdmFsdWUuIFRoZSB1bml0IGxpc3QgaXMgZm9ybWF0dGVkIGFzLWlzIHdpdGhvdXQgZmlyc3QgYmVpbmcgc2ltcGxpZmllZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmZvcm1hdFVuaXRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdHJOdW0gPSAnJztcbiAgICB2YXIgc3RyRGVuID0gJyc7XG4gICAgdmFyIG5OdW0gPSAwO1xuICAgIHZhciBuRGVuID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMudW5pdHNbaV0ucG93ZXIgPiAwKSB7XG4gICAgICAgIG5OdW0rKztcbiAgICAgICAgc3RyTnVtICs9ICcgJyArIHRoaXMudW5pdHNbaV0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW2ldLnVuaXQubmFtZTtcblxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1tpXS5wb3dlciAtIDEuMCkgPiAxZS0xNSkge1xuICAgICAgICAgIHN0ck51bSArPSAnXicgKyB0aGlzLnVuaXRzW2ldLnBvd2VyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudW5pdHNbaV0ucG93ZXIgPCAwKSB7XG4gICAgICAgIG5EZW4rKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobkRlbiA+IDApIHtcbiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHRoaXMudW5pdHMubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICBpZiAodGhpcy51bml0c1tfaTRdLnBvd2VyIDwgMCkge1xuICAgICAgICAgIGlmIChuTnVtID4gMCkge1xuICAgICAgICAgICAgc3RyRGVuICs9ICcgJyArIHRoaXMudW5pdHNbX2k0XS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbX2k0XS51bml0Lm5hbWU7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzW19pNF0ucG93ZXIgKyAxLjApID4gMWUtMTUpIHtcbiAgICAgICAgICAgICAgc3RyRGVuICs9ICdeJyArIC10aGlzLnVuaXRzW19pNF0ucG93ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ckRlbiArPSAnICcgKyB0aGlzLnVuaXRzW19pNF0ucHJlZml4Lm5hbWUgKyB0aGlzLnVuaXRzW19pNF0udW5pdC5uYW1lO1xuICAgICAgICAgICAgc3RyRGVuICs9ICdeJyArIHRoaXMudW5pdHNbX2k0XS5wb3dlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFJlbW92ZSBsZWFkaW5nIFwiIFwiXG5cblxuICAgIHN0ck51bSA9IHN0ck51bS5zdWJzdHIoMSk7XG4gICAgc3RyRGVuID0gc3RyRGVuLnN1YnN0cigxKTsgLy8gQWRkIHBhcmFucyBmb3IgYmV0dGVyIGNvcHkvcGFzdGUgYmFjayBpbnRvIGV2YWx1YXRlLCBmb3IgZXhhbXBsZSwgb3IgZm9yIGJldHRlciBwcmV0dHkgcHJpbnQgZm9ybWF0dGluZ1xuXG4gICAgaWYgKG5OdW0gPiAxICYmIG5EZW4gPiAwKSB7XG4gICAgICBzdHJOdW0gPSAnKCcgKyBzdHJOdW0gKyAnKSc7XG4gICAgfVxuXG4gICAgaWYgKG5EZW4gPiAxICYmIG5OdW0gPiAwKSB7XG4gICAgICBzdHJEZW4gPSAnKCcgKyBzdHJEZW4gKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIHN0ciA9IHN0ck51bTtcblxuICAgIGlmIChuTnVtID4gMCAmJiBuRGVuID4gMCkge1xuICAgICAgc3RyICs9ICcgLyAnO1xuICAgIH1cblxuICAgIHN0ciArPSBzdHJEZW47XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVW5pdCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBTaW1wbGZ5IHRoZSB1bml0IGxpc3QsIHVubGVzcyBpdCBpcyB2YWx1ZWxlc3Mgb3Igd2FzIGNyZWF0ZWQgZGlyZWN0bHkgaW4gdGhlXG4gICAgLy8gY29uc3RydWN0b3Igb3IgYXMgdGhlIHJlc3VsdCBvZiB0byBvciB0b1NJXG4gICAgdmFyIHNpbXAgPSB0aGlzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiB8fCB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5jbG9uZSgpIDogdGhpcy5zaW1wbGlmeSgpOyAvLyBBcHBseSBzb21lIGN1c3RvbSBsb2dpYyBmb3IgaGFuZGxpbmcgVkEgYW5kIFZBUi4gVGhlIGdvYWwgaXMgdG8gZXhwcmVzcyB0aGUgdmFsdWUgb2YgdGhlIHVuaXQgYXMgYSByZWFsIHZhbHVlLCBpZiBwb3NzaWJsZS4gT3RoZXJ3aXNlLCB1c2UgYSByZWFsLXZhbHVlZCB1bml0IGluc3RlYWQgb2YgYSBjb21wbGV4LXZhbHVlZCBvbmUuXG5cbiAgICB2YXIgaXNJbWFnaW5hcnkgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2Ygc2ltcC52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2ltcC52YWx1ZSAhPT0gbnVsbCAmJiBpc0NvbXBsZXgoc2ltcC52YWx1ZSkpIHtcbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBiZXR0ZXIsIGZvciBleGFtcGxlLCB1c2UgcmVsYXRpdmUgbWFnbml0dWRlIG9mIHJlIGFuZCBpbSByYXRoZXIgdGhhbiBhYnNvbHV0ZVxuICAgICAgaXNJbWFnaW5hcnkgPSBNYXRoLmFicyhzaW1wLnZhbHVlLnJlKSA8IDFlLTE0O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gc2ltcC51bml0cykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHNpbXAudW5pdHMsIGkpKSB7XG4gICAgICAgIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQpIHtcbiAgICAgICAgICBpZiAoc2ltcC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQScgJiYgaXNJbWFnaW5hcnkpIHtcbiAgICAgICAgICAgIHNpbXAudW5pdHNbaV0udW5pdCA9IFVOSVRTLlZBUjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNpbXAudW5pdHNbaV0udW5pdC5uYW1lID09PSAnVkFSJyAmJiAhaXNJbWFnaW5hcnkpIHtcbiAgICAgICAgICAgIHNpbXAudW5pdHNbaV0udW5pdCA9IFVOSVRTLlZBO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gTm93IGFwcGx5IHRoZSBiZXN0IHByZWZpeFxuICAgIC8vIFVuaXRzIG11c3QgaGF2ZSBvbmx5IG9uZSB1bml0IGFuZCBub3QgaGF2ZSB0aGUgZml4UHJlZml4IGZsYWcgc2V0XG5cblxuICAgIGlmIChzaW1wLnVuaXRzLmxlbmd0aCA9PT0gMSAmJiAhc2ltcC5maXhQcmVmaXgpIHtcbiAgICAgIC8vIFVuaXRzIG11c3QgaGF2ZSBpbnRlZ2VyIHBvd2Vycywgb3RoZXJ3aXNlIHRoZSBwcmVmaXggd2lsbCBjaGFuZ2UgdGhlXG4gICAgICAvLyBvdXRwdXR0ZWQgdmFsdWUgYnkgbm90LWFuLWludGVnZXItcG93ZXItb2YtdGVuXG4gICAgICBpZiAoTWF0aC5hYnMoc2ltcC51bml0c1swXS5wb3dlciAtIE1hdGgucm91bmQoc2ltcC51bml0c1swXS5wb3dlcikpIDwgMWUtMTQpIHtcbiAgICAgICAgLy8gQXBwbHkgdGhlIGJlc3QgcHJlZml4XG4gICAgICAgIHNpbXAudW5pdHNbMF0ucHJlZml4ID0gc2ltcC5fYmVzdFByZWZpeCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHNpbXAuX2Rlbm9ybWFsaXplKHNpbXAudmFsdWUpO1xuXG4gICAgdmFyIHN0ciA9IHNpbXAudmFsdWUgIT09IG51bGwgPyBmb3JtYXQodmFsdWUsIG9wdGlvbnMgfHwge30pIDogJyc7XG4gICAgdmFyIHVuaXRTdHIgPSBzaW1wLmZvcm1hdFVuaXRzKCk7XG5cbiAgICBpZiAoc2ltcC52YWx1ZSAmJiBpc0NvbXBsZXgoc2ltcC52YWx1ZSkpIHtcbiAgICAgIHN0ciA9ICcoJyArIHN0ciArICcpJzsgLy8gU3Vycm91bmQgY29tcGxleCB2YWx1ZXMgd2l0aCAoICkgdG8gZW5hYmxlIGJldHRlciBwYXJzaW5nXG4gICAgfVxuXG4gICAgaWYgKHVuaXRTdHIubGVuZ3RoID4gMCAmJiBzdHIubGVuZ3RoID4gMCkge1xuICAgICAgc3RyICs9ICcgJztcbiAgICB9XG5cbiAgICBzdHIgKz0gdW5pdFN0cjtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBiZXN0IHByZWZpeCB1c2luZyBjdXJyZW50IHZhbHVlLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwcmVmaXhcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5fYmVzdFByZWZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy51bml0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgY29tcHV0ZSB0aGUgYmVzdCBwcmVmaXggZm9yIHNpbmdsZSB1bml0cyB3aXRoIGludGVnZXIgcG93ZXJzLCBsaWtlIGtnLCBzXjIsIE5eLTEsIGFuZCBzbyBmb3J0aCEnKTtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5hYnModGhpcy51bml0c1swXS5wb3dlciAtIE1hdGgucm91bmQodGhpcy51bml0c1swXS5wb3dlcikpID49IDFlLTE0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGNvbXB1dGUgdGhlIGJlc3QgcHJlZml4IGZvciBzaW5nbGUgdW5pdHMgd2l0aCBpbnRlZ2VyIHBvd2VycywgbGlrZSBrZywgc14yLCBOXi0xLCBhbmQgc28gZm9ydGghJyk7XG4gICAgfSAvLyBmaW5kIHRoZSBiZXN0IHByZWZpeCB2YWx1ZSAocmVzdWx0aW5nIGluIHRoZSB2YWx1ZSBvZiB3aGljaFxuICAgIC8vIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGUgbG9nMTAgaXMgY2xvc2VzdCB0byB6ZXJvLFxuICAgIC8vIHRob3VnaCB3aXRoIGEgbGl0dGxlIG9mZnNldCBvZiAxLjIgZm9yIG5pY2VyIHZhbHVlczogeW91IGdldCBhXG4gICAgLy8gc2VxdWVuY2UgMW1tIDEwMG1tIDUwMG1tIDAuNm0gMW0gMTBtIDEwMG0gNTAwbSAwLjZrbSAxa20gLi4uXG4gICAgLy8gTm90ZTogdGhlIHVuaXRzIHZhbHVlIGNhbiBiZSBhbnkgbnVtZXJpYyB0eXBlLCBidXQgdG8gZmluZCB0aGUgYmVzdFxuICAgIC8vIHByZWZpeCBpdCdzIGVub3VnaCB0byB3b3JrIHdpdGggbGltaXRlZCBwcmVjaXNpb24gb2YgYSByZWd1bGFyIG51bWJlclxuICAgIC8vIFVwZGF0ZTogdXNpbmcgbWF0aGpzIGFicyBzaW5jZSB3ZSBhbHNvIGFsbG93IGNvbXBsZXggbnVtYmVyc1xuXG5cbiAgICB2YXIgYWJzVmFsdWUgPSB0aGlzLnZhbHVlICE9PSBudWxsID8gYWJzKHRoaXMudmFsdWUpIDogMDtcbiAgICB2YXIgYWJzVW5pdFZhbHVlID0gYWJzKHRoaXMudW5pdHNbMF0udW5pdC52YWx1ZSk7XG4gICAgdmFyIGJlc3RQcmVmaXggPSB0aGlzLnVuaXRzWzBdLnByZWZpeDtcblxuICAgIGlmIChhYnNWYWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJlc3RQcmVmaXg7XG4gICAgfVxuXG4gICAgdmFyIHBvd2VyID0gdGhpcy51bml0c1swXS5wb3dlcjtcbiAgICB2YXIgYmVzdERpZmYgPSBNYXRoLmxvZyhhYnNWYWx1ZSAvIE1hdGgucG93KGJlc3RQcmVmaXgudmFsdWUgKiBhYnNVbml0VmFsdWUsIHBvd2VyKSkgLyBNYXRoLkxOMTAgLSAxLjI7XG4gICAgaWYgKGJlc3REaWZmID4gLTIuMjAwMDAxICYmIGJlc3REaWZmIDwgMS44MDAwMDEpIHJldHVybiBiZXN0UHJlZml4OyAvLyBBbGxvdyB0aGUgb3JpZ2luYWwgcHJlZml4XG5cbiAgICBiZXN0RGlmZiA9IE1hdGguYWJzKGJlc3REaWZmKTtcbiAgICB2YXIgcHJlZml4ZXMgPSB0aGlzLnVuaXRzWzBdLnVuaXQucHJlZml4ZXM7XG5cbiAgICBmb3IgKHZhciBwIGluIHByZWZpeGVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkocHJlZml4ZXMsIHApKSB7XG4gICAgICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1twXTtcblxuICAgICAgICBpZiAocHJlZml4LnNjaWVudGlmaWMpIHtcbiAgICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKE1hdGgubG9nKGFic1ZhbHVlIC8gTWF0aC5wb3cocHJlZml4LnZhbHVlICogYWJzVW5pdFZhbHVlLCBwb3dlcikpIC8gTWF0aC5MTjEwIC0gMS4yKTtcblxuICAgICAgICAgIGlmIChkaWZmIDwgYmVzdERpZmYgfHwgZGlmZiA9PT0gYmVzdERpZmYgJiYgcHJlZml4Lm5hbWUubGVuZ3RoIDwgYmVzdFByZWZpeC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2hvb3NlIHRoZSBwcmVmaXggd2l0aCB0aGUgc21hbGxlc3QgZGlmZiwgb3IgaWYgZXF1YWwsIGNob29zZSB0aGUgb25lXG4gICAgICAgICAgICAvLyB3aXRoIHRoZSBzaG9ydGVzdCBuYW1lIChjYW4gaGFwcGVuIHdpdGggU0hPUlRMT05HIGZvciBleGFtcGxlKVxuICAgICAgICAgICAgYmVzdFByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgICAgIGJlc3REaWZmID0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYmVzdFByZWZpeDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5pdHMgd2hvc2Ugc3VtIGlzIGVxdWFsIHRvIHRoaXMgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydHNdIEFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgdmFsdWVsZXNzIHVuaXRzLlxuICAgKlxuICAgKiAgIEV4YW1wbGU6XG4gICAqXG4gICAqICAgY29uc3QgdSA9IG5ldyBVbml0KDEsICdtJylcbiAgICogICB1LnNwbGl0VW5pdChbJ2ZlZXQnLCAnaW5jaCddKVxuICAgKiAgICAgWyAzIGZlZXQsIDMuMzcwMDc4NzQwMTU3NSBpbmNoIF1cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIHVuaXRzLlxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnNwbGl0VW5pdCA9IGZ1bmN0aW9uIChwYXJ0cykge1xuICAgIHZhciB4ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciByZXQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENvbnZlcnQgeCB0byB0aGUgcmVxdWVzdGVkIHVuaXRcbiAgICAgIHggPSB4LnRvKHBhcnRzW2ldKTtcbiAgICAgIGlmIChpID09PSBwYXJ0cy5sZW5ndGggLSAxKSBicmVhazsgLy8gR2V0IHRoZSBudW1lcmljIHZhbHVlIG9mIHRoaXMgdW5pdFxuXG4gICAgICB2YXIgeE51bWVyaWMgPSB4LnRvTnVtZXJpYygpOyAvLyBDaGVjayB0byBzZWUgaWYgeE51bWVyaWMgaXMgbmVhcmx5IGVxdWFsIHRvIGFuIGludGVnZXIsXG4gICAgICAvLyBzaW5jZSBmaXggY2FuIGluY29ycmVjdGx5IHJvdW5kIGRvd24gaWYgdGhlcmUgaXMgcm91bmQtb2ZmIGVycm9yXG5cbiAgICAgIHZhciB4Um91bmRlZCA9IHJvdW5kKHhOdW1lcmljKTtcbiAgICAgIHZhciB4Rml4ZWQgPSB2b2lkIDA7XG4gICAgICB2YXIgaXNOZWFybHlFcXVhbCA9IGVxdWFsKHhSb3VuZGVkLCB4TnVtZXJpYyk7XG5cbiAgICAgIGlmIChpc05lYXJseUVxdWFsKSB7XG4gICAgICAgIHhGaXhlZCA9IHhSb3VuZGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeEZpeGVkID0gZml4KHgudG9OdW1lcmljKCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgeSA9IG5ldyBVbml0KHhGaXhlZCwgcGFydHNbaV0udG9TdHJpbmcoKSk7XG4gICAgICByZXQucHVzaCh5KTtcbiAgICAgIHggPSBzdWJ0cmFjdCh4LCB5KTtcbiAgICB9IC8vIFRoaXMgbGl0dGxlIGJpdCBmaXhlcyBhIGJ1ZyB3aGVyZSB0aGUgcmVtYWluZGVyIHNob3VsZCBiZSAwIGJ1dCBpcyBhIGxpdHRsZSBiaXQgb2ZmLlxuICAgIC8vIEJ1dCBpbnN0ZWFkIG9mIGNvbXBhcmluZyB4LCB0aGUgcmVtYWluZGVyLCB3aXRoIHplcm8tLXdlIHdpbGwgY29tcGFyZSB0aGUgc3VtIG9mXG4gICAgLy8gYWxsIHRoZSBwYXJ0cyBzbyBmYXIgd2l0aCB0aGUgb3JpZ2luYWwgdmFsdWUuIElmIHRoZXkgYXJlIG5lYXJseSBlcXVhbCxcbiAgICAvLyB3ZSBzZXQgdGhlIHJlbWFpbmRlciB0byAwLlxuXG5cbiAgICB2YXIgdGVzdFN1bSA9IDA7XG5cbiAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCByZXQubGVuZ3RoOyBfaTUrKykge1xuICAgICAgdGVzdFN1bSA9IGFkZFNjYWxhcih0ZXN0U3VtLCByZXRbX2k1XS52YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFsKHRlc3RTdW0sIHRoaXMudmFsdWUpKSB7XG4gICAgICB4LnZhbHVlID0gMDtcbiAgICB9XG5cbiAgICByZXQucHVzaCh4KTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHZhciBQUkVGSVhFUyA9IHtcbiAgICBOT05FOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIFNIT1JUOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUxLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS0yMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIExPTkc6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRlY2E6IHtcbiAgICAgICAgbmFtZTogJ2RlY2EnLFxuICAgICAgICB2YWx1ZTogMWUxLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGhlY3RvOiB7XG4gICAgICAgIG5hbWU6ICdoZWN0bycsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAga2lsbzoge1xuICAgICAgICBuYW1lOiAna2lsbycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWdhOiB7XG4gICAgICAgIG5hbWU6ICdtZWdhJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpZ2E6IHtcbiAgICAgICAgbmFtZTogJ2dpZ2EnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGVyYToge1xuICAgICAgICBuYW1lOiAndGVyYScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGV0YToge1xuICAgICAgICBuYW1lOiAncGV0YScsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhhOiB7XG4gICAgICAgIG5hbWU6ICdleGEnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHpldHRhOiB7XG4gICAgICAgIG5hbWU6ICd6ZXR0YScsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW90dGE6IHtcbiAgICAgICAgbmFtZTogJ3lvdHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkZWNpOiB7XG4gICAgICAgIG5hbWU6ICdkZWNpJyxcbiAgICAgICAgdmFsdWU6IDFlLTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY2VudGk6IHtcbiAgICAgICAgbmFtZTogJ2NlbnRpJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbWlsbGk6IHtcbiAgICAgICAgbmFtZTogJ21pbGxpJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtaWNybzoge1xuICAgICAgICBuYW1lOiAnbWljcm8nLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG5hbm86IHtcbiAgICAgICAgbmFtZTogJ25hbm8nLFxuICAgICAgICB2YWx1ZTogMWUtOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBpY286IHtcbiAgICAgICAgbmFtZTogJ3BpY28nLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmZW10bzoge1xuICAgICAgICBuYW1lOiAnZmVtdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhdHRvOiB7XG4gICAgICAgIG5hbWU6ICdhdHRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemVwdG86IHtcbiAgICAgICAgbmFtZTogJ3plcHRvJyxcbiAgICAgICAgdmFsdWU6IDFlLTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW9jdG86IHtcbiAgICAgICAgbmFtZTogJ3lvY3RvJyxcbiAgICAgICAgdmFsdWU6IDFlLTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBTUVVBUkVEOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUyLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWU0LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTMwLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTQyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTQ4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0yLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtNCxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTMwLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS0zNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtNDIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTQ4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBDVUJJQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGE6IHtcbiAgICAgICAgbmFtZTogJ2RhJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBoOiB7XG4gICAgICAgIG5hbWU6ICdoJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWUyNyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUzNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWU0NSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWU1NCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWU2MyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWU3MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGQ6IHtcbiAgICAgICAgbmFtZTogJ2QnLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjOiB7XG4gICAgICAgIG5hbWU6ICdjJyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbToge1xuICAgICAgICBuYW1lOiAnbScsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdToge1xuICAgICAgICBuYW1lOiAndScsXG4gICAgICAgIHZhbHVlOiAxZS0xOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG46IHtcbiAgICAgICAgbmFtZTogJ24nLFxuICAgICAgICB2YWx1ZTogMWUtMjcsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS00NSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtNTQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTYzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS03MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX1NIT1JUX1NJOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBrOiB7XG4gICAgICAgIG5hbWU6ICdrJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIE06IHtcbiAgICAgICAgbmFtZTogJ00nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9TSE9SVF9JRUM6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEtpOiB7XG4gICAgICAgIG5hbWU6ICdLaScsXG4gICAgICAgIHZhbHVlOiAxMDI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTWk6IHtcbiAgICAgICAgbmFtZTogJ01pJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDIpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgR2k6IHtcbiAgICAgICAgbmFtZTogJ0dpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDMpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVGk6IHtcbiAgICAgICAgbmFtZTogJ1RpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDQpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUGk6IHtcbiAgICAgICAgbmFtZTogJ1BpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDUpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRWk6IHtcbiAgICAgICAgbmFtZTogJ0VpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDYpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWmk6IHtcbiAgICAgICAgbmFtZTogJ1ppJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDcpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWWk6IHtcbiAgICAgICAgbmFtZTogJ1lpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDgpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfTE9OR19TSToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAga2lsbzoge1xuICAgICAgICBuYW1lOiAna2lsbycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWdhOiB7XG4gICAgICAgIG5hbWU6ICdtZWdhJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpZ2E6IHtcbiAgICAgICAgbmFtZTogJ2dpZ2EnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgdGVyYToge1xuICAgICAgICBuYW1lOiAndGVyYScsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGV0YToge1xuICAgICAgICBuYW1lOiAncGV0YScsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhhOiB7XG4gICAgICAgIG5hbWU6ICdleGEnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHpldHRhOiB7XG4gICAgICAgIG5hbWU6ICd6ZXR0YScsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW90dGE6IHtcbiAgICAgICAgbmFtZTogJ3lvdHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9MT05HX0lFQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAga2liaToge1xuICAgICAgICBuYW1lOiAna2liaScsXG4gICAgICAgIHZhbHVlOiAxMDI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWViaToge1xuICAgICAgICBuYW1lOiAnbWViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAyKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGdpYmk6IHtcbiAgICAgICAgbmFtZTogJ2dpYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZWJpOiB7XG4gICAgICAgIG5hbWU6ICd0ZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDQpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGViaToge1xuICAgICAgICBuYW1lOiAncGViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA1KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGV4aToge1xuICAgICAgICBuYW1lOiAnZXhpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDYpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemViaToge1xuICAgICAgICBuYW1lOiAnemViaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA3KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHlvYmk6IHtcbiAgICAgICAgbmFtZTogJ3lvYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgOCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJUVToge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTU06IHtcbiAgICAgICAgbmFtZTogJ01NJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgUFJFRklYRVMuU0hPUlRMT05HID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLlNIT1JULCBQUkVGSVhFUy5MT05HKTtcbiAgUFJFRklYRVMuQklOQVJZX1NIT1JUID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLkJJTkFSWV9TSE9SVF9TSSwgUFJFRklYRVMuQklOQVJZX1NIT1JUX0lFQyk7XG4gIFBSRUZJWEVTLkJJTkFSWV9MT05HID0gX2V4dGVuZHMoe30sIFBSRUZJWEVTLkJJTkFSWV9MT05HX1NJLCBQUkVGSVhFUy5CSU5BUllfTE9OR19JRUMpO1xuICAvKiBJbnRlcm5hbGx5LCBlYWNoIHVuaXQgaXMgcmVwcmVzZW50ZWQgYnkgYSB2YWx1ZSBhbmQgYSBkaW1lbnNpb24gYXJyYXkuIFRoZSBlbGVtZW50cyBvZiB0aGUgZGltZW5zaW9ucyBhcnJheSBoYXZlIHRoZSBmb2xsb3dpbmcgbWVhbmluZzpcbiAgICogSW5kZXggIERpbWVuc2lvblxuICAgKiAtLS0tLSAgLS0tLS0tLS0tXG4gICAqICAgMCAgICBMZW5ndGhcbiAgICogICAxICAgIE1hc3NcbiAgICogICAyICAgIFRpbWVcbiAgICogICAzICAgIEN1cnJlbnRcbiAgICogICA0ICAgIFRlbXBlcmF0dXJlXG4gICAqICAgNSAgICBMdW1pbm91cyBpbnRlbnNpdHlcbiAgICogICA2ICAgIEFtb3VudCBvZiBzdWJzdGFuY2VcbiAgICogICA3ICAgIEFuZ2xlXG4gICAqICAgOCAgICBCaXQgKGRpZ2l0YWwpXG4gICAqIEZvciBleGFtcGxlLCB0aGUgdW5pdCBcIjI5OC4xNSBLXCIgaXMgYSBwdXJlIHRlbXBlcmF0dXJlIGFuZCB3b3VsZCBoYXZlIGEgdmFsdWUgb2YgMjk4LjE1IGFuZCBhIGRpbWVuc2lvbiBhcnJheSBvZiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0uIFRoZSB1bml0IFwiMSBjYWwgLyAoZ20gwrBDKVwiIGNhbiBiZSB3cml0dGVuIGluIHRlcm1zIG9mIHRoZSA5IGZ1bmRhbWVudGFsIGRpbWVuc2lvbnMgYXMgW2xlbmd0aF4yXSAvIChbdGltZV4yXSAqIFt0ZW1wZXJhdHVyZV0pLCBhbmQgd291bGQgYSB2YWx1ZSBvZiAoYWZ0ZXIgY29udmVyc2lvbiB0byBTSSkgNDE4NC4wIGFuZCBhIGRpbWVuc2lvbnMgYXJyYXkgb2YgWzIsIDAsIC0yLCAwLCAtMSwgMCwgMCwgMCwgMF0uXG4gICAqXG4gICAqL1xuXG4gIHZhciBCQVNFX0RJTUVOU0lPTlMgPSBbJ01BU1MnLCAnTEVOR1RIJywgJ1RJTUUnLCAnQ1VSUkVOVCcsICdURU1QRVJBVFVSRScsICdMVU1JTk9VU19JTlRFTlNJVFknLCAnQU1PVU5UX09GX1NVQlNUQU5DRScsICdBTkdMRScsICdCSVQnXTtcbiAgdmFyIEJBU0VfVU5JVFMgPSB7XG4gICAgTk9ORToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQVNTOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIExFTkdUSDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBUSU1FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIENVUlJFTlQ6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVEVNUEVSQVRVUkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTFVNSU5PVVNfSU5URU5TSVRZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEFNT1VOVF9PRl9TVUJTVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwXVxuICAgIH0sXG4gICAgRk9SQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAxLCAtMiwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFNVUkZBQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAyLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgVk9MVU1FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMywgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVORVJHWToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgUE9XRVI6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFBSRVNTVVJFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgLTEsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ0hBUkdFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMSwgMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NBUEFDSVRBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbLTEsIC0yLCA0LCAyLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfUE9URU5USUFMOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIC0xLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfUkVTSVNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAtMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0lORFVDVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgLTIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DT05EVUNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWy0xLCAtMiwgMywgMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BR05FVElDX0ZMVVg6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMiwgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBNQUdORVRJQ19GTFVYX0RFTlNJVFk6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAwLCAtMiwgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBGUkVRVUVOQ1k6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAtMSwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEFOR0xFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICB9LFxuICAgIEJJVDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDFdXG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBCQVNFX1VOSVRTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIGtleSkpIHtcbiAgICAgIEJBU0VfVU5JVFNba2V5XS5rZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgdmFyIEJBU0VfVU5JVF9OT05FID0ge307XG4gIHZhciBVTklUX05PTkUgPSB7XG4gICAgbmFtZTogJycsXG4gICAgYmFzZTogQkFTRV9VTklUX05PTkUsXG4gICAgdmFsdWU6IDEsXG4gICAgb2Zmc2V0OiAwLFxuICAgIGRpbWVuc2lvbnM6IEJBU0VfRElNRU5TSU9OUy5tYXAoeCA9PiAwKVxuICB9O1xuICB2YXIgVU5JVFMgPSB7XG4gICAgLy8gbGVuZ3RoXG4gICAgbWV0ZXI6IHtcbiAgICAgIG5hbWU6ICdtZXRlcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGluY2g6IHtcbiAgICAgIG5hbWU6ICdpbmNoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBmb290OiB7XG4gICAgICBuYW1lOiAnZm9vdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMzA0OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWFyZDoge1xuICAgICAgbmFtZTogJ3lhcmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjkxNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbGU6IHtcbiAgICAgIG5hbWU6ICdtaWxlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTYwOS4zNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIG5hbWU6ICdsaW5rJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMDExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJvZDoge1xuICAgICAgbmFtZTogJ3JvZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDUuMDI5MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2hhaW46IHtcbiAgICAgIG5hbWU6ICdjaGFpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDIwLjExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGFuZ3N0cm9tOiB7XG4gICAgICBuYW1lOiAnYW5nc3Ryb20nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS0xMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbToge1xuICAgICAgbmFtZTogJ20nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaW46IHtcbiAgICAgIG5hbWU6ICdpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZnQ6IHtcbiAgICAgIG5hbWU6ICdmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMzA0OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgeWQ6IHtcbiAgICAgIG5hbWU6ICd5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuOTE0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWk6IHtcbiAgICAgIG5hbWU6ICdtaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDE2MDkuMzQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsaToge1xuICAgICAgbmFtZTogJ2xpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMDExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJkOiB7XG4gICAgICBuYW1lOiAncmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1LjAyOTIxMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2g6IHtcbiAgICAgIG5hbWU6ICdjaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDIwLjExNjgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbDoge1xuICAgICAgbmFtZTogJ21pbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI1NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMS8xMDAwIGluY2hcbiAgICAvLyBTdXJmYWNlXG4gICAgbTI6IHtcbiAgICAgIG5hbWU6ICdtMicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU1FVQVJFRCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzcWluOiB7XG4gICAgICBuYW1lOiAnc3FpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDY0NTE2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA2NDUuMTYgbW0yXG4gICAgc3FmdDoge1xuICAgICAgbmFtZTogJ3NxZnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wOTI5MDMwNCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wOTI5MDMwNCBtMlxuICAgIHNxeWQ6IHtcbiAgICAgIG5hbWU6ICdzcXlkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuODM2MTI3MzYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuODM2MTI3MzYgbTJcbiAgICBzcW1pOiB7XG4gICAgICBuYW1lOiAnc3FtaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNTg5OTg4LjExMDMzNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMi41ODk5ODgxMTAzMzYga20yXG4gICAgc3FyZDoge1xuICAgICAgbmFtZTogJ3NxcmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjUuMjkyOTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI1LjI5Mjk1IG0yXG4gICAgc3FjaDoge1xuICAgICAgbmFtZTogJ3NxY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDA0LjY4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQwNC42ODczIG0yXG4gICAgc3FtaWw6IHtcbiAgICAgIG5hbWU6ICdzcW1pbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2LjQ1MTZlLTEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA2LjQ1MTYgKiAxMF4tMTAgbTJcbiAgICBhY3JlOiB7XG4gICAgICBuYW1lOiAnYWNyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0MDQ2Ljg2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0MDQ2Ljg2IG0yXG4gICAgaGVjdGFyZToge1xuICAgICAgbmFtZTogJ2hlY3RhcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTAwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEwMDAwIG0yXG4gICAgLy8gVm9sdW1lXG4gICAgbTM6IHtcbiAgICAgIG5hbWU6ICdtMycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5DVUJJQyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBMOiB7XG4gICAgICBuYW1lOiAnTCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbGl0cmVcbiAgICBsOiB7XG4gICAgICBuYW1lOiAnbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbGl0cmVcbiAgICBsaXRyZToge1xuICAgICAgbmFtZTogJ2xpdHJlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGN1aW46IHtcbiAgICAgIG5hbWU6ICdjdWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS42Mzg3MDY0ZS01LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxLjYzODcwNjRlLTUgbTNcbiAgICBjdWZ0OiB7XG4gICAgICBuYW1lOiAnY3VmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDI4MzE2ODQ2NTkyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOC4zMTYgODQ2IDU5MiBMXG4gICAgY3V5ZDoge1xuICAgICAgbmFtZTogJ2N1eWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjc2NDU1NDg1Nzk4NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNzY0LjU1NCA4NTcgOTg0IExcbiAgICB0ZWFzcG9vbjoge1xuICAgICAgbmFtZTogJ3RlYXNwb29uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDUgbUxcbiAgICB0YWJsZXNwb29uOiB7XG4gICAgICBuYW1lOiAndGFibGVzcG9vbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDE1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNSBtTFxuICAgIC8vIHtuYW1lOiAnY3VwJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4wMDAyNDAsIG9mZnNldDogMH0sIC8vIDI0MCBtTCAgLy8gbm90IHBvc3NpYmxlLCB3ZSBoYXZlIGFscmVhZHkgYW5vdGhlciBjdXBcbiAgICBkcm9wOiB7XG4gICAgICBuYW1lOiAnZHJvcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDVlLTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDUgbUwgPSA1ZS04IG0zXG4gICAgZ3R0OiB7XG4gICAgICBuYW1lOiAnZ3R0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNWUtOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNSBtTCA9IDVlLTggbTNcbiAgICAvLyBMaXF1aWQgdm9sdW1lXG4gICAgbWluaW06IHtcbiAgICAgIG5hbWU6ICdtaW5pbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAwMDYxNjExNTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDAuMDYxNjExNTIgbUxcbiAgICBmbHVpZGRyYW06IHtcbiAgICAgIG5hbWU6ICdmbHVpZGRyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMzY5NjY5MTEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNjk2NjkxIG1MXG4gICAgZmx1aWRvdW5jZToge1xuICAgICAgbmFtZTogJ2ZsdWlkb3VuY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyOTU3MzUzLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOS41NzM1MyBtTFxuICAgIGdpbGw6IHtcbiAgICAgIG5hbWU6ICdnaWxsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAxMTgyOTQxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTguMjk0MSBtTFxuICAgIGNjOiB7XG4gICAgICBuYW1lOiAnY2MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxZS02IExcbiAgICBjdXA6IHtcbiAgICAgIG5hbWU6ICdjdXAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDIzNjU4ODIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDIzNi41ODgyIG1MXG4gICAgcGludDoge1xuICAgICAgbmFtZTogJ3BpbnQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDQ3MzE3NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQ3My4xNzY1IG1MXG4gICAgcXVhcnQ6IHtcbiAgICAgIG5hbWU6ICdxdWFydCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwOTQ2MzUyOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gOTQ2LjM1MjkgbUxcbiAgICBnYWxsb246IHtcbiAgICAgIG5hbWU6ICdnYWxsb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMzc4NTQxMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy43ODU0MTIgTFxuICAgIGJlZXJiYXJyZWw6IHtcbiAgICAgIG5hbWU6ICdiZWVyYmFycmVsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xMTczNDc4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxMTcuMzQ3OCBMXG4gICAgb2lsYmFycmVsOiB7XG4gICAgICBuYW1lOiAnb2lsYmFycmVsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4xNTg5ODczLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxNTguOTg3MyBMXG4gICAgaG9nc2hlYWQ6IHtcbiAgICAgIG5hbWU6ICdob2dzaGVhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMjM4NDgxMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM4LjQ4MTAgTFxuICAgIC8vIHtuYW1lOiAnbWluJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4wMDAwMDAwNjE2MTE1Miwgb2Zmc2V0OiAwfSwgLy8gMC4wNjE2MTE1MiBtTCAvLyBtaW4gaXMgYWxyZWFkeSBpbiB1c2UgYXMgbWludXRlXG4gICAgZmxkcjoge1xuICAgICAgbmFtZTogJ2ZsZHInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwMzY5NjY5MTEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNjk2NjkxIG1MXG4gICAgZmxvejoge1xuICAgICAgbmFtZTogJ2Zsb3onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAyOTU3MzUzLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyOS41NzM1MyBtTFxuICAgIGdpOiB7XG4gICAgICBuYW1lOiAnZ2knLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDExODI5NDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExOC4yOTQxIG1MXG4gICAgY3A6IHtcbiAgICAgIG5hbWU6ICdjcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMjM2NTg4MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM2LjU4ODIgbUxcbiAgICBwdDoge1xuICAgICAgbmFtZTogJ3B0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA0NzMxNzY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA0NzMuMTc2NSBtTFxuICAgIHF0OiB7XG4gICAgICBuYW1lOiAncXQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDk0NjM1MjksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDk0Ni4zNTI5IG1MXG4gICAgZ2FsOiB7XG4gICAgICBuYW1lOiAnZ2FsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDM3ODU0MTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDMuNzg1NDEyIExcbiAgICBiYmw6IHtcbiAgICAgIG5hbWU6ICdiYmwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjExNzM0NzgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExNy4zNDc4IExcbiAgICBvYmw6IHtcbiAgICAgIG5hbWU6ICdvYmwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjE1ODk4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1OC45ODczIExcbiAgICAvLyB7bmFtZTogJ2hvZ3NoZWFkJywgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMC4yMzg0ODEwLCBvZmZzZXQ6IDB9LCAvLyAyMzguNDgxMCBMIC8vIFRPRE86IGhoP1xuICAgIC8vIE1hc3NcbiAgICBnOiB7XG4gICAgICBuYW1lOiAnZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYW06IHtcbiAgICAgIG5hbWU6ICdncmFtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0b246IHtcbiAgICAgIG5hbWU6ICd0b24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDkwNy4xODQ3NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdDoge1xuICAgICAgbmFtZTogJ3QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvbm5lOiB7XG4gICAgICBuYW1lOiAndG9ubmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMTAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhaW46IHtcbiAgICAgIG5hbWU6ICdncmFpbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2NC43OTg5MWUtNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZHJhbToge1xuICAgICAgbmFtZTogJ2RyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS43NzE4NDUxOTUzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBvdW5jZToge1xuICAgICAgbmFtZTogJ291bmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI4LjM0OTUyMzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcG91bmRtYXNzOiB7XG4gICAgICBuYW1lOiAncG91bmRtYXNzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1My41OTIzN2UtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaHVuZHJlZHdlaWdodDoge1xuICAgICAgbmFtZTogJ2h1bmRyZWR3ZWlnaHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUuMzU5MjM3LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzdGljazoge1xuICAgICAgbmFtZTogJ3N0aWNrJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDExNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc3RvbmU6IHtcbiAgICAgIG5hbWU6ICdzdG9uZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2LjM1MDI5MzE4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncjoge1xuICAgICAgbmFtZTogJ2dyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY0Ljc5ODkxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkcjoge1xuICAgICAgbmFtZTogJ2RyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEuNzcxODQ1MTk1MzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgb3o6IHtcbiAgICAgIG5hbWU6ICdveicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyOC4zNDk1MjMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxibToge1xuICAgICAgbmFtZTogJ2xibScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NTMuNTkyMzdlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGN3dDoge1xuICAgICAgbmFtZTogJ2N3dCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NS4zNTkyMzcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRpbWVcbiAgICBzOiB7XG4gICAgICBuYW1lOiAncycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICBuYW1lOiAnbWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBoOiB7XG4gICAgICBuYW1lOiAnaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzZWNvbmQ6IHtcbiAgICAgIG5hbWU6ICdzZWNvbmQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgc2VjOiB7XG4gICAgICBuYW1lOiAnc2VjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbnV0ZToge1xuICAgICAgbmFtZTogJ21pbnV0ZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2MCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaG91cjoge1xuICAgICAgbmFtZTogJ2hvdXInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGF5OiB7XG4gICAgICBuYW1lOiAnZGF5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDg2NDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB3ZWVrOiB7XG4gICAgICBuYW1lOiAnd2VlaycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA3ICogODY0MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1vbnRoOiB7XG4gICAgICBuYW1lOiAnbW9udGgnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjYyOTgwMCxcbiAgICAgIC8vIDEvMTJ0aCBvZiBKdWxpYW4geWVhclxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5ZWFyOiB7XG4gICAgICBuYW1lOiAneWVhcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMCxcbiAgICAgIC8vIEp1bGlhbiB5ZWFyXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlY2FkZToge1xuICAgICAgbmFtZTogJ2RlY2FkZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAsXG4gICAgICAvLyBKdWxpYW4gZGVjYWRlXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNlbnR1cnk6IHtcbiAgICAgIG5hbWU6ICdjZW50dXJ5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMDAsXG4gICAgICAvLyBKdWxpYW4gY2VudHVyeVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaWxsZW5uaXVtOiB7XG4gICAgICBuYW1lOiAnbWlsbGVubml1bScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzMTU1NzYwMDAwMCxcbiAgICAgIC8vIEp1bGlhbiBtaWxsZW5uaXVtXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEZyZXF1ZW5jeVxuICAgIGhlcnR6OiB7XG4gICAgICBuYW1lOiAnSGVydHonLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GUkVRVUVOQ1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgICAgcmVjaXByb2NhbDogdHJ1ZVxuICAgIH0sXG4gICAgSHo6IHtcbiAgICAgIG5hbWU6ICdIeicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZSRVFVRU5DWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgICAgcmVjaXByb2NhbDogdHJ1ZVxuICAgIH0sXG4gICAgLy8gQW5nbGVcbiAgICByYWQ6IHtcbiAgICAgIG5hbWU6ICdyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICByYWRpYW46IHtcbiAgICAgIG5hbWU6ICdyYWRpYW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGRlZyA9IHJhZCAvICgyKnBpKSAqIDM2MCA9IHJhZCAvIDAuMDE3NDUzMjkyNTE5OTQzMjk1NzY5MjM2OTA3Njg0ODg4XG4gICAgZGVnOiB7XG4gICAgICBuYW1lOiAnZGVnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVncmVlOiB7XG4gICAgICBuYW1lOiAnZGVncmVlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBncmFkID0gcmFkIC8gKDIqcGkpICogNDAwICA9IHJhZCAvIDAuMDE1NzA3OTYzMjY3OTQ4OTY2MTkyMzEzMjE2OTE2Mzk5XG4gICAgZ3JhZDoge1xuICAgICAgbmFtZTogJ2dyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFkaWFuOiB7XG4gICAgICBuYW1lOiAnZ3JhZGlhbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gY3ljbGUgPSByYWQgLyAoMipwaSkgPSByYWQgLyA2LjI4MzE4NTMwNzE3OTU4NjQ3NjkyNTI4Njc2NjU3OTNcbiAgICBjeWNsZToge1xuICAgICAgbmFtZTogJ2N5Y2xlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhcmNzZWMgPSByYWQgLyAoMzYwMCAqICgzNjAgLyAyICogcGkpKSA9IHJhZCAvIDAuMDAwMDA0ODQ4MTM2ODExMDk1MzU5OTM1ODk5MTQxMDIzNTc5NVxuICAgIGFyY3NlYzoge1xuICAgICAgbmFtZTogJ2FyY3NlYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYXJjbWluID0gcmFkIC8gKDYwICogKDM2MCAvIDIgKiBwaSkpID0gcmFkIC8gMC4wMDAyOTA4ODgyMDg2NjU3MjE1OTYxNTM5NDg0NjE0MTQ3N1xuICAgIGFyY21pbjoge1xuICAgICAgbmFtZTogJ2FyY21pbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKClcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY3VycmVudFxuICAgIEE6IHtcbiAgICAgIG5hbWU6ICdBJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQ1VSUkVOVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhbXBlcmU6IHtcbiAgICAgIG5hbWU6ICdhbXBlcmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5DVVJSRU5ULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVGVtcGVyYXR1cmVcbiAgICAvLyBLKEMpID0gwrBDICsgMjczLjE1XG4gICAgLy8gSyhGKSA9ICjCsEYgKyA0NTkuNjcpIC8gMS44XG4gICAgLy8gSyhSKSA9IMKwUiAvIDEuOFxuICAgIEs6IHtcbiAgICAgIG5hbWU6ICdLJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWdDOiB7XG4gICAgICBuYW1lOiAnZGVnQycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMjczLjE1XG4gICAgfSxcbiAgICBkZWdGOiB7XG4gICAgICBuYW1lOiAnZGVnRicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogNDU5LjY3XG4gICAgfSxcbiAgICBkZWdSOiB7XG4gICAgICBuYW1lOiAnZGVnUicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2VsdmluOiB7XG4gICAgICBuYW1lOiAna2VsdmluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjZWxzaXVzOiB7XG4gICAgICBuYW1lOiAnY2Vsc2l1cycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMjczLjE1XG4gICAgfSxcbiAgICBmYWhyZW5oZWl0OiB7XG4gICAgICBuYW1lOiAnZmFocmVuaGVpdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogNDU5LjY3XG4gICAgfSxcbiAgICByYW5raW5lOiB7XG4gICAgICBuYW1lOiAncmFua2luZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRFTVBFUkFUVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMSAvIDEuOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gYW1vdW50IG9mIHN1YnN0YW5jZVxuICAgIG1vbDoge1xuICAgICAgbmFtZTogJ21vbCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFNT1VOVF9PRl9TVUJTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW9sZToge1xuICAgICAgbmFtZTogJ21vbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTU9VTlRfT0ZfU1VCU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gbHVtaW5vdXMgaW50ZW5zaXR5XG4gICAgY2Q6IHtcbiAgICAgIG5hbWU6ICdjZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxVTUlOT1VTX0lOVEVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjYW5kZWxhOiB7XG4gICAgICBuYW1lOiAnY2FuZGVsYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxVTUlOT1VTX0lOVEVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFRPRE86IHVuaXRzIFNURVJBRElBTlxuICAgIC8vIHtuYW1lOiAnc3InLCBiYXNlOiBCQVNFX1VOSVRTLlNURVJBRElBTiwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAxLCBvZmZzZXQ6IDB9LFxuICAgIC8vIHtuYW1lOiAnc3RlcmFkaWFuJywgYmFzZTogQkFTRV9VTklUUy5TVEVSQURJQU4sIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLCB2YWx1ZTogMSwgb2Zmc2V0OiAwfSxcbiAgICAvLyBGb3JjZVxuICAgIE46IHtcbiAgICAgIG5hbWU6ICdOJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbmV3dG9uOiB7XG4gICAgICBuYW1lOiAnbmV3dG9uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkeW46IHtcbiAgICAgIG5hbWU6ICdkeW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkeW5lOiB7XG4gICAgICBuYW1lOiAnZHluZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGJmOiB7XG4gICAgICBuYW1lOiAnbGJmJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0LjQ0ODIyMTYxNTI2MDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBvdW5kZm9yY2U6IHtcbiAgICAgIG5hbWU6ICdwb3VuZGZvcmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0LjQ0ODIyMTYxNTI2MDUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtpcDoge1xuICAgICAgbmFtZTogJ2tpcCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogNDQ0OC4yMjE2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBraWxvZ3JhbWZvcmNlOiB7XG4gICAgICBuYW1lOiAna2lsb2dyYW1mb3JjZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOS44MDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRW5lcmd5XG4gICAgSjoge1xuICAgICAgbmFtZTogJ0onLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgam91bGU6IHtcbiAgICAgIG5hbWU6ICdqb3VsZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlcmc6IHtcbiAgICAgIG5hbWU6ICdlcmcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxZS03LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBXaDoge1xuICAgICAgbmFtZTogJ1doJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEJUVToge1xuICAgICAgbmFtZTogJ0JUVScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CVFUsXG4gICAgICB2YWx1ZTogMTA1NS4wNTU4NTI2MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZVY6IHtcbiAgICAgIG5hbWU6ICdlVicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLjYwMjE3NjU2NWUtMTksXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVsZWN0cm9udm9sdDoge1xuICAgICAgbmFtZTogJ2VsZWN0cm9udm9sdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEuNjAyMTc2NTY1ZS0xOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gUG93ZXJcbiAgICBXOiB7XG4gICAgICBuYW1lOiAnVycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHdhdHQ6IHtcbiAgICAgIG5hbWU6ICd3YXR0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBocDoge1xuICAgICAgbmFtZTogJ2hwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA3NDUuNjk5ODcxNTM4NixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWNhbCBwb3dlciB1bml0c1xuICAgIFZBUjoge1xuICAgICAgbmFtZTogJ1ZBUicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IENvbXBsZXguSSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVkE6IHtcbiAgICAgIG5hbWU6ICdWQScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBPV0VSLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIFByZXNzdXJlXG4gICAgUGE6IHtcbiAgICAgIG5hbWU6ICdQYScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHBzaToge1xuICAgICAgbmFtZTogJ3BzaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjg5NC43NTcyOTI3NjQ1OSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYXRtOiB7XG4gICAgICBuYW1lOiAnYXRtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMDEzMjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJhcjoge1xuICAgICAgbmFtZTogJ2JhcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JUTE9ORyxcbiAgICAgIHZhbHVlOiAxMDAwMDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvcnI6IHtcbiAgICAgIG5hbWU6ICd0b3JyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMzMuMzIyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtbUhnOiB7XG4gICAgICBuYW1lOiAnbW1IZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTMzLjMyMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW1IMk86IHtcbiAgICAgIG5hbWU6ICdtbUgyTycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOS44MDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY21IMk86IHtcbiAgICAgIG5hbWU6ICdjbUgyTycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlBSRVNTVVJFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogOTguMDY2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY2hhcmdlXG4gICAgY291bG9tYjoge1xuICAgICAgbmFtZTogJ2NvdWxvbWInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DSEFSR0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBDOiB7XG4gICAgICBuYW1lOiAnQycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NIQVJHRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjYXBhY2l0YW5jZVxuICAgIGZhcmFkOiB7XG4gICAgICBuYW1lOiAnZmFyYWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DQVBBQ0lUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEY6IHtcbiAgICAgIG5hbWU6ICdGJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0FQQUNJVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgcG90ZW50aWFsXG4gICAgdm9sdDoge1xuICAgICAgbmFtZTogJ3ZvbHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19QT1RFTlRJQUwsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBWOiB7XG4gICAgICBuYW1lOiAnVicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1BPVEVOVElBTCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyByZXNpc3RhbmNlXG4gICAgb2htOiB7XG4gICAgICBuYW1lOiAnb2htJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUkVTSVNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVExPTkcsXG4gICAgICAvLyBCb3RoIE1vaG0gYW5kIG1lZ2FvaG0gYXJlIGFjY2VwdGFibGVcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcblxuICAgIC8qXG4gICAgICogVW5pY29kZSBicmVha3MgaW4gYnJvd3NlcnMgaWYgY2hhcnNldCBpcyBub3Qgc3BlY2lmaWVkXG4gICAgzqk6IHtcbiAgICAgIG5hbWU6ICfOqScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1JFU0lTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgKi9cbiAgICAvLyBFbGVjdHJpYyBpbmR1Y3RhbmNlXG4gICAgaGVucnk6IHtcbiAgICAgIG5hbWU6ICdoZW5yeScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0lORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBIOiB7XG4gICAgICBuYW1lOiAnSCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0lORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRWxlY3RyaWMgY29uZHVjdGFuY2VcbiAgICBzaWVtZW5zOiB7XG4gICAgICBuYW1lOiAnc2llbWVucycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NPTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgUzoge1xuICAgICAgbmFtZTogJ1MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DT05EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBNYWduZXRpYyBmbHV4XG4gICAgd2ViZXI6IHtcbiAgICAgIG5hbWU6ICd3ZWJlcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBXYjoge1xuICAgICAgbmFtZTogJ1diJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBNYWduZXRpYyBmbHV4IGRlbnNpdHlcbiAgICB0ZXNsYToge1xuICAgICAgbmFtZTogJ3Rlc2xhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWF9ERU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgVDoge1xuICAgICAgbmFtZTogJ1QnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYX0RFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gQmluYXJ5XG4gICAgYjoge1xuICAgICAgbmFtZTogJ2InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX1NIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJpdHM6IHtcbiAgICAgIG5hbWU6ICdiaXRzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEI6IHtcbiAgICAgIG5hbWU6ICdCJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9TSE9SVCxcbiAgICAgIHZhbHVlOiA4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBieXRlczoge1xuICAgICAgbmFtZTogJ2J5dGVzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQklULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJJTkFSWV9MT05HLFxuICAgICAgdmFsdWU6IDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gIH07IC8vIGFsaWFzZXMgKGZvcm1lcmx5IHBsdXJhbHMpXG5cbiAgdmFyIEFMSUFTRVMgPSB7XG4gICAgbWV0ZXJzOiAnbWV0ZXInLFxuICAgIGluY2hlczogJ2luY2gnLFxuICAgIGZlZXQ6ICdmb290JyxcbiAgICB5YXJkczogJ3lhcmQnLFxuICAgIG1pbGVzOiAnbWlsZScsXG4gICAgbGlua3M6ICdsaW5rJyxcbiAgICByb2RzOiAncm9kJyxcbiAgICBjaGFpbnM6ICdjaGFpbicsXG4gICAgYW5nc3Ryb21zOiAnYW5nc3Ryb20nLFxuICAgIGx0OiAnbCcsXG4gICAgbGl0cmVzOiAnbGl0cmUnLFxuICAgIGxpdGVyOiAnbGl0cmUnLFxuICAgIGxpdGVyczogJ2xpdHJlJyxcbiAgICB0ZWFzcG9vbnM6ICd0ZWFzcG9vbicsXG4gICAgdGFibGVzcG9vbnM6ICd0YWJsZXNwb29uJyxcbiAgICBtaW5pbXM6ICdtaW5pbScsXG4gICAgZmx1aWRkcmFtczogJ2ZsdWlkZHJhbScsXG4gICAgZmx1aWRvdW5jZXM6ICdmbHVpZG91bmNlJyxcbiAgICBnaWxsczogJ2dpbGwnLFxuICAgIGN1cHM6ICdjdXAnLFxuICAgIHBpbnRzOiAncGludCcsXG4gICAgcXVhcnRzOiAncXVhcnQnLFxuICAgIGdhbGxvbnM6ICdnYWxsb24nLFxuICAgIGJlZXJiYXJyZWxzOiAnYmVlcmJhcnJlbCcsXG4gICAgb2lsYmFycmVsczogJ29pbGJhcnJlbCcsXG4gICAgaG9nc2hlYWRzOiAnaG9nc2hlYWQnLFxuICAgIGd0dHM6ICdndHQnLFxuICAgIGdyYW1zOiAnZ3JhbScsXG4gICAgdG9uczogJ3RvbicsXG4gICAgdG9ubmVzOiAndG9ubmUnLFxuICAgIGdyYWluczogJ2dyYWluJyxcbiAgICBkcmFtczogJ2RyYW0nLFxuICAgIG91bmNlczogJ291bmNlJyxcbiAgICBwb3VuZG1hc3NlczogJ3BvdW5kbWFzcycsXG4gICAgaHVuZHJlZHdlaWdodHM6ICdodW5kcmVkd2VpZ2h0JyxcbiAgICBzdGlja3M6ICdzdGljaycsXG4gICAgbGI6ICdsYm0nLFxuICAgIGxiczogJ2xibScsXG4gICAga2lwczogJ2tpcCcsXG4gICAga2dmOiAna2lsb2dyYW1mb3JjZScsXG4gICAgYWNyZXM6ICdhY3JlJyxcbiAgICBoZWN0YXJlczogJ2hlY3RhcmUnLFxuICAgIHNxZmVldDogJ3NxZnQnLFxuICAgIHNxeWFyZDogJ3NxeWQnLFxuICAgIHNxbWlsZTogJ3NxbWknLFxuICAgIHNxbWlsZXM6ICdzcW1pJyxcbiAgICBtbWhnOiAnbW1IZycsXG4gICAgbW1oMm86ICdtbUgyTycsXG4gICAgY21oMm86ICdjbUgyTycsXG4gICAgc2Vjb25kczogJ3NlY29uZCcsXG4gICAgc2VjczogJ3NlY29uZCcsXG4gICAgbWludXRlczogJ21pbnV0ZScsXG4gICAgbWluczogJ21pbnV0ZScsXG4gICAgaG91cnM6ICdob3VyJyxcbiAgICBocjogJ2hvdXInLFxuICAgIGhyczogJ2hvdXInLFxuICAgIGRheXM6ICdkYXknLFxuICAgIHdlZWtzOiAnd2VlaycsXG4gICAgbW9udGhzOiAnbW9udGgnLFxuICAgIHllYXJzOiAneWVhcicsXG4gICAgZGVjYWRlczogJ2RlY2FkZScsXG4gICAgY2VudHVyaWVzOiAnY2VudHVyeScsXG4gICAgbWlsbGVubmlhOiAnbWlsbGVubml1bScsXG4gICAgaGVydHo6ICdoZXJ0eicsXG4gICAgcmFkaWFuczogJ3JhZGlhbicsXG4gICAgZGVncmVlczogJ2RlZ3JlZScsXG4gICAgZ3JhZGlhbnM6ICdncmFkaWFuJyxcbiAgICBjeWNsZXM6ICdjeWNsZScsXG4gICAgYXJjc2Vjb25kOiAnYXJjc2VjJyxcbiAgICBhcmNzZWNvbmRzOiAnYXJjc2VjJyxcbiAgICBhcmNtaW51dGU6ICdhcmNtaW4nLFxuICAgIGFyY21pbnV0ZXM6ICdhcmNtaW4nLFxuICAgIEJUVXM6ICdCVFUnLFxuICAgIHdhdHRzOiAnd2F0dCcsXG4gICAgam91bGVzOiAnam91bGUnLFxuICAgIGFtcGVyZXM6ICdhbXBlcmUnLFxuICAgIGNvdWxvbWJzOiAnY291bG9tYicsXG4gICAgdm9sdHM6ICd2b2x0JyxcbiAgICBvaG1zOiAnb2htJyxcbiAgICBmYXJhZHM6ICdmYXJhZCcsXG4gICAgd2ViZXJzOiAnd2ViZXInLFxuICAgIHRlc2xhczogJ3Rlc2xhJyxcbiAgICBlbGVjdHJvbnZvbHRzOiAnZWxlY3Ryb252b2x0JyxcbiAgICBtb2xlczogJ21vbGUnLFxuICAgIGJpdDogJ2JpdHMnLFxuICAgIGJ5dGU6ICdieXRlcydcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgdmFsdWVzIGZvciB0aGUgYW5nbGUgdW5pdHMuXG4gICAqIFZhbHVlIGlzIGNhbGN1bGF0ZWQgYXMgbnVtYmVyIG9yIEJpZ051bWJlciBkZXBlbmRpbmcgb24gdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHt7bnVtYmVyOiAnbnVtYmVyJyB8ICdCaWdOdW1iZXInfX0gY29uZmlnXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGNvbmZpZykge1xuICAgIGlmIChjb25maWcubnVtYmVyID09PSAnQmlnTnVtYmVyJykge1xuICAgICAgdmFyIHBpID0gY3JlYXRlUGkoX0JpZ051bWJlcik7XG4gICAgICBVTklUUy5yYWQudmFsdWUgPSBuZXcgX0JpZ051bWJlcigxKTtcbiAgICAgIFVOSVRTLmRlZy52YWx1ZSA9IHBpLmRpdigxODApOyAvLyAyICogcGkgLyAzNjBcblxuICAgICAgVU5JVFMuZ3JhZC52YWx1ZSA9IHBpLmRpdigyMDApOyAvLyAyICogcGkgLyA0MDBcblxuICAgICAgVU5JVFMuY3ljbGUudmFsdWUgPSBwaS50aW1lcygyKTsgLy8gMiAqIHBpXG5cbiAgICAgIFVOSVRTLmFyY3NlYy52YWx1ZSA9IHBpLmRpdig2NDgwMDApOyAvLyAyICogcGkgLyAzNjAgLyAzNjAwXG5cbiAgICAgIFVOSVRTLmFyY21pbi52YWx1ZSA9IHBpLmRpdigxMDgwMCk7IC8vIDIgKiBwaSAvIDM2MCAvIDYwXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG51bWJlclxuICAgICAgVU5JVFMucmFkLnZhbHVlID0gMTtcbiAgICAgIFVOSVRTLmRlZy52YWx1ZSA9IE1hdGguUEkgLyAxODA7IC8vIDIgKiBwaSAvIDM2MFxuXG4gICAgICBVTklUUy5ncmFkLnZhbHVlID0gTWF0aC5QSSAvIDIwMDsgLy8gMiAqIHBpIC8gNDAwXG5cbiAgICAgIFVOSVRTLmN5Y2xlLnZhbHVlID0gTWF0aC5QSSAqIDI7IC8vIDIgKiBwaVxuXG4gICAgICBVTklUUy5hcmNzZWMudmFsdWUgPSBNYXRoLlBJIC8gNjQ4MDAwOyAvLyAyICogcGkgLyAzNjAgLyAzNjAwXG5cbiAgICAgIFVOSVRTLmFyY21pbi52YWx1ZSA9IE1hdGguUEkgLyAxMDgwMDsgLy8gMiAqIHBpIC8gMzYwIC8gNjBcbiAgICB9IC8vIGNvcHkgdG8gdGhlIGZ1bGwgbmFtZXMgb2YgdGhlIGFuZ2xlc1xuXG5cbiAgICBVTklUUy5yYWRpYW4udmFsdWUgPSBVTklUUy5yYWQudmFsdWU7XG4gICAgVU5JVFMuZGVncmVlLnZhbHVlID0gVU5JVFMuZGVnLnZhbHVlO1xuICAgIFVOSVRTLmdyYWRpYW4udmFsdWUgPSBVTklUUy5ncmFkLnZhbHVlO1xuICB9IC8vIGFwcGx5IHRoZSBhbmdsZSB2YWx1ZXMgbm93XG5cblxuICBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjb25maWcpO1xuXG4gIGlmIChvbikge1xuICAgIC8vIHJlY2FsY3VsYXRlIHRoZSB2YWx1ZXMgb24gY2hhbmdlIG9mIGNvbmZpZ3VyYXRpb25cbiAgICBvbignY29uZmlnJywgZnVuY3Rpb24gKGN1cnIsIHByZXYpIHtcbiAgICAgIGlmIChjdXJyLm51bWJlciAhPT0gcHJldi5udW1iZXIpIHtcbiAgICAgICAgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY3Vycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEEgdW5pdCBzeXN0ZW0gaXMgYSBzZXQgb2YgZGltZW5zaW9uYWxseSBpbmRlcGVuZGVudCBiYXNlIHVuaXRzIHBsdXMgYSBzZXQgb2YgZGVyaXZlZCB1bml0cywgZm9ybWVkIGJ5IG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpc2lvbiBvZiB0aGUgYmFzZSB1bml0cywgdGhhdCBhcmUgYnkgY29udmVudGlvbiB1c2VkIHdpdGggdGhlIHVuaXQgc3lzdGVtLlxuICAgKiBBIHVzZXIgcGVyaGFwcyBjb3VsZCBpc3N1ZSBhIGNvbW1hbmQgdG8gc2VsZWN0IGEgcHJlZmVycmVkIHVuaXQgc3lzdGVtLCBvciB1c2UgdGhlIGRlZmF1bHQgKHNlZSBiZWxvdykuXG4gICAqIEF1dG8gdW5pdCBzeXN0ZW06IFRoZSBkZWZhdWx0IHVuaXQgc3lzdGVtIGlzIHVwZGF0ZWQgb24gdGhlIGZseSBhbnl0aW1lIGEgdW5pdCBpcyBwYXJzZWQuIFRoZSBjb3JyZXNwb25kaW5nIHVuaXQgaW4gdGhlIGRlZmF1bHQgdW5pdCBzeXN0ZW0gaXMgdXBkYXRlZCwgc28gdGhhdCBhbnN3ZXJzIGFyZSBnaXZlbiBpbiB0aGUgc2FtZSB1bml0cyB0aGUgdXNlciBzdXBwbGllcy5cbiAgICovXG5cblxuICB2YXIgVU5JVF9TWVNURU1TID0ge1xuICAgIHNpOiB7XG4gICAgICAvLyBCYXNlIHVuaXRzXG4gICAgICBOT05FOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRfTk9ORSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgfSxcbiAgICAgIExFTkdUSDoge1xuICAgICAgICB1bml0OiBVTklUUy5tLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BU1M6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuZyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVC5rXG4gICAgICB9LFxuICAgICAgVElNRToge1xuICAgICAgICB1bml0OiBVTklUUy5zLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIENVUlJFTlQ6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuQSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBURU1QRVJBVFVSRToge1xuICAgICAgICB1bml0OiBVTklUUy5LLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIExVTUlOT1VTX0lOVEVOU0lUWToge1xuICAgICAgICB1bml0OiBVTklUUy5jZCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBBTU9VTlRfT0ZfU1VCU1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm1vbCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBBTkdMRToge1xuICAgICAgICB1bml0OiBVTklUUy5yYWQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQklUOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmJpdHMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgLy8gRGVyaXZlZCB1bml0c1xuICAgICAgRk9SQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuTixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTkVSR1k6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBQT1dFUjoge1xuICAgICAgICB1bml0OiBVTklUUy5XLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFBSRVNTVVJFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlBhLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NIQVJHRToge1xuICAgICAgICB1bml0OiBVTklUUy5DLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NBUEFDSVRBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkYsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfUE9URU5USUFMOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlYsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfUkVTSVNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5vaG0sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfSU5EVUNUQU5DRToge1xuICAgICAgICB1bml0OiBVTklUUy5ILFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVMRUNUUklDX0NPTkRVQ1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFHTkVUSUNfRkxVWDoge1xuICAgICAgICB1bml0OiBVTklUUy5XYixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQUdORVRJQ19GTFVYX0RFTlNJVFk6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBGUkVRVUVOQ1k6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuSHosXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9XG4gICAgfVxuICB9OyAvLyBDbG9uZSB0byBjcmVhdGUgdGhlIG90aGVyIHVuaXQgc3lzdGVtc1xuXG4gIFVOSVRfU1lTVEVNUy5jZ3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpO1xuICBVTklUX1NZU1RFTVMuY2dzLkxFTkdUSCA9IHtcbiAgICB1bml0OiBVTklUUy5tLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlQuY1xuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLk1BU1MgPSB7XG4gICAgdW5pdDogVU5JVFMuZyxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLkZPUkNFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmR5bixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMuY2dzLkVORVJHWSA9IHtcbiAgICB1bml0OiBVTklUUy5lcmcsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9OyAvLyB0aGVyZSBhcmUgd2hvbGx5IDQgdW5pcXVlIGNncyBzeXN0ZW1zIGZvciBlbGVjdHJpY2l0eSBhbmQgbWFnbmV0aXNtLFxuICAvLyBzbyBsZXQncyBub3Qgd29ycnkgYWJvdXQgaXQgdW5sZXNzIHNvbWVib2R5IGNvbXBsYWluc1xuXG4gIFVOSVRfU1lTVEVNUy51cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7XG4gIFVOSVRfU1lTVEVNUy51cy5MRU5HVEggPSB7XG4gICAgdW5pdDogVU5JVFMuZnQsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuTUFTUyA9IHtcbiAgICB1bml0OiBVTklUUy5sYm0sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuVEVNUEVSQVRVUkUgPSB7XG4gICAgdW5pdDogVU5JVFMuZGVnRixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5GT1JDRSA9IHtcbiAgICB1bml0OiBVTklUUy5sYmYsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuRU5FUkdZID0ge1xuICAgIHVuaXQ6IFVOSVRTLkJUVSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLkJUVVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlBPV0VSID0ge1xuICAgIHVuaXQ6IFVOSVRTLmhwLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLlBSRVNTVVJFID0ge1xuICAgIHVuaXQ6IFVOSVRTLnBzaSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07IC8vIEFkZCBhZGRpdGlvbmFsIHVuaXQgc3lzdGVtcyBoZXJlLlxuICAvLyBDaG9vc2UgYSB1bml0IHN5c3RlbSB0byBzZWVkIHRoZSBhdXRvIHVuaXQgc3lzdGVtLlxuXG4gIFVOSVRfU1lTVEVNUy5hdXRvID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTsgLy8gU2V0IHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtXG5cbiAgdmFyIGN1cnJlbnRVbml0U3lzdGVtID0gVU5JVF9TWVNURU1TLmF1dG87XG4gIC8qKlxuICAgKiBTZXQgYSB1bml0IHN5c3RlbSBmb3IgZm9ybWF0dGluZyBkZXJpdmVkIHVuaXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIFRoZSBuYW1lIG9mIHRoZSB1bml0IHN5c3RlbS5cbiAgICovXG5cbiAgVW5pdC5zZXRVbml0U3lzdGVtID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLCBuYW1lKSkge1xuICAgICAgY3VycmVudFVuaXRTeXN0ZW0gPSBVTklUX1NZU1RFTVNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5pdCBzeXN0ZW0gJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0LiBDaG9pY2VzIGFyZTogJyArIE9iamVjdC5rZXlzKFVOSVRfU1lTVEVNUykuam9pbignLCAnKSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IHVuaXQgc3lzdGVtLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjdXJyZW50IHVuaXQgc3lzdGVtLlxuICAgKi9cblxuXG4gIFVuaXQuZ2V0VW5pdFN5c3RlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfa2V5IGluIFVOSVRfU1lTVEVNUykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRfU1lTVEVNUywgX2tleSkpIHtcbiAgICAgICAgaWYgKFVOSVRfU1lTVEVNU1tfa2V5XSA9PT0gY3VycmVudFVuaXRTeXN0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gX2tleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENvbnZlcnRlcnMgdG8gY29udmVydCBmcm9tIG51bWJlciB0byBhbiBvdGhlciBudW1lcmljIHR5cGUgbGlrZSBCaWdOdW1iZXJcbiAgICogb3IgRnJhY3Rpb25cbiAgICovXG5cblxuICBVbml0LnR5cGVDb252ZXJ0ZXJzID0ge1xuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0JpZ051bWJlcih4ICsgJycpOyAvLyBzdHJpbmdpZnkgdG8gcHJldmVudCBjb25zdHJ1Y3RvciBlcnJvclxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBuZXcgX0ZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSByaWdodCBjb252ZXJ0b3IgZnVuY3Rpb24gY29ycmVzcG9uZGluZyB3aXRoIHRoZSB0eXBlXG4gICAqIG9mIHByb3ZpZGVkIGV4YW1wbGVWYWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgICBBIHN0cmluZyAnbnVtYmVyJywgJ0JpZ051bWJlcicsIG9yICdGcmFjdGlvbidcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBJbiBjYXNlIG9mIGFuIHVua25vd24gdHlwZSxcbiAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAqL1xuXG4gIFVuaXQuX2dldE51bWJlckNvbnZlcnRlciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKCFVbml0LnR5cGVDb252ZXJ0ZXJzW3R5cGVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCB0eXBlIFwiJyArIHR5cGUgKyAnXCInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gVW5pdC50eXBlQ29udmVydGVyc1t0eXBlXTtcbiAgfTsgLy8gQWRkIGRpbWVuc2lvbnMgdG8gZWFjaCBidWlsdC1pbiB1bml0XG5cblxuICBmb3IgKHZhciBfa2V5MiBpbiBVTklUUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgX2tleTIpKSB7XG4gICAgICB2YXIgdW5pdCA9IFVOSVRTW19rZXkyXTtcbiAgICAgIHVuaXQuZGltZW5zaW9ucyA9IHVuaXQuYmFzZS5kaW1lbnNpb25zO1xuICAgIH1cbiAgfSAvLyBDcmVhdGUgYWxpYXNlc1xuXG5cbiAgZm9yICh2YXIgX25hbWUyIGluIEFMSUFTRVMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoQUxJQVNFUywgX25hbWUyKSkge1xuICAgICAgdmFyIF91bml0MiA9IFVOSVRTW0FMSUFTRVNbX25hbWUyXV07XG4gICAgICB2YXIgYWxpYXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleTMgaW4gX3VuaXQyKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShfdW5pdDIsIF9rZXkzKSkge1xuICAgICAgICAgIGFsaWFzW19rZXkzXSA9IF91bml0Mltfa2V5M107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWxpYXMubmFtZSA9IF9uYW1lMjtcbiAgICAgIFVOSVRTW19uYW1lMl0gPSBhbGlhcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGNoYXJhY3RlciBpcyBhIHZhbGlkIGxhdGluIGxldHRlciAodXBwZXIgb3IgbG93ZXIgY2FzZSkuXG4gICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBvdmVycmlkZGVuLCBmb3IgZXhhbXBsZSB0byBhbGxvdyBzdXBwb3J0IG9mIG90aGVyIGFscGhhYmV0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgVGVzdGVkIGNoYXJhY3RlclxuICAgKi9cblxuXG4gIFVuaXQuaXNWYWxpZEFscGhhID0gZnVuY3Rpb24gaXNWYWxpZEFscGhhKGMpIHtcbiAgICByZXR1cm4gL15bYS16QS1aXSQvLnRlc3QoYyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYXNzZXJ0VW5pdE5hbWVJc1ZhbGlkKG5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGMgPSBuYW1lLmNoYXJBdChpKTtcblxuICAgICAgaWYgKGkgPT09IDAgJiYgIVVuaXQuaXNWYWxpZEFscGhhKGMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1bml0IG5hbWUgKG11c3QgYmVnaW4gd2l0aCBhbHBoYSBjaGFyYWN0ZXIpOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpID4gMCAmJiAhKFVuaXQuaXNWYWxpZEFscGhhKGMpIHx8IGlzRGlnaXQoYykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1bml0IG5hbWUgKG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIGFsbG93ZWQpOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBXcmFwcGVyIGFyb3VuZCBjcmVhdGVVbml0U2luZ2xlLlxuICAgKiBFeGFtcGxlOlxuICAgKiAgY3JlYXRlVW5pdCh7XG4gICAqICAgIGZvbzogeyB9LFxuICAgKiAgICBiYXI6IHtcbiAgICogICAgICBkZWZpbml0aW9uOiAna2cvZm9vJyxcbiAgICogICAgICBhbGlhc2VzOiBbJ2JhJywgJ2JhcnInLCAnYmFycyddLFxuICAgKiAgICAgIG9mZnNldDogMjAwXG4gICAqICAgIH0sXG4gICAqICAgIGJhejogJzQgYmFyJ1xuICAgKiAgfSxcbiAgICogIHtcbiAgICogICAgb3ZlcnJpZGU6IHRydWVcbiAgICogIH0pXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogICAgICBPYmplY3QgbWFwLiBFYWNoIGtleSBiZWNvbWVzIGEgdW5pdCB3aGljaCBpcyBkZWZpbmVkIGJ5IGl0cyB2YWx1ZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICovXG5cblxuICBVbml0LmNyZWF0ZVVuaXQgPSBmdW5jdGlvbiAob2JqLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY3JlYXRlVW5pdCBleHBlY3RzIGZpcnN0IHBhcmFtZXRlciB0byBiZSBvZiB0eXBlICdPYmplY3QnXCIpO1xuICAgIH0gLy8gUmVtb3ZlIGFsbCB1bml0cyBhbmQgYWxpYXNlcyB3ZSBhcmUgb3ZlcnJpZGluZ1xuXG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm92ZXJyaWRlKSB7XG4gICAgICBmb3IgKHZhciBfa2V5NCBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgX2tleTQpKSB7XG4gICAgICAgICAgVW5pdC5kZWxldGVVbml0KF9rZXk0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmpbX2tleTRdLmFsaWFzZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ialtfa2V5NF0uYWxpYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgVW5pdC5kZWxldGVVbml0KG9ialtfa2V5NF0uYWxpYXNlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUT0RPOiB0cmF2ZXJzZSBtdWx0aXBsZSB0aW1lcyB1bnRpbCBhbGwgdW5pdHMgaGF2ZSBiZWVuIGFkZGVkXG5cblxuICAgIHZhciBsYXN0VW5pdDtcblxuICAgIGZvciAodmFyIF9rZXk1IGluIG9iaikge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgX2tleTUpKSB7XG4gICAgICAgIGxhc3RVbml0ID0gVW5pdC5jcmVhdGVVbml0U2luZ2xlKF9rZXk1LCBvYmpbX2tleTVdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdFVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1c2VyLWRlZmluZWQgdW5pdCBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgVW5pdCB0eXBlLlxuICAgKiBFeGFtcGxlOlxuICAgKiAgY3JlYXRlVW5pdFNpbmdsZSgna25vdCcsICcwLjUxNDQ0NDQ0NCBtL3MnKVxuICAgKiAgY3JlYXRlVW5pdFNpbmdsZSgnYWNyZScsIG5ldyBVbml0KDQzNTYwLCAnZnReMicpKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgIFRoZSBuYW1lIG9mIHRoZSBuZXcgdW5pdC4gTXVzdCBiZSB1bmlxdWUuIEV4YW1wbGU6ICdrbm90J1xuICAgKiBAcGFyYW0ge3N0cmluZywgVW5pdCwgT2JqZWN0fSBkZWZpbml0aW9uICAgICAgRGVmaW5pdGlvbiBvZiB0aGUgdW5pdCBpbiB0ZXJtc1xuICAgKiBvZiBleGlzdGluZyB1bml0cy4gRm9yIGV4YW1wbGUsICcwLjUxNDQ0NDQ0NCBtIC8gcycuIENhbiBiZSBhIFVuaXQsIGEgc3RyaW5nLFxuICAgKiBvciBhbiBPYmplY3QuIElmIGFuIE9iamVjdCwgbWF5IGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIC0gZGVmaW5pdGlvbiB7c3RyaW5nfFVuaXR9IFRoZSBkZWZpbml0aW9uIG9mIHRoaXMgdW5pdC5cbiAgICogICAtIHByZWZpeGVzIHtzdHJpbmd9IFwibm9uZVwiLCBcInNob3J0XCIsIFwibG9uZ1wiLCBcImJpbmFyeV9zaG9ydFwiLCBvciBcImJpbmFyeV9sb25nXCIuXG4gICAqICAgICBUaGUgZGVmYXVsdCBpcyBcIm5vbmVcIi5cbiAgICogICAtIGFsaWFzZXMge0FycmF5fSBBcnJheSBvZiBzdHJpbmdzLiBFeGFtcGxlOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddXG4gICAqICAgLSBvZmZzZXQge051bWVyaWN9IEFuIG9mZnNldCB0byBhcHBseSB3aGVuIGNvbnZlcnRpbmcgZnJvbSB0aGUgdW5pdC4gRm9yXG4gICAqICAgICBleGFtcGxlLCB0aGUgb2Zmc2V0IGZvciBjZWxzaXVzIGlzIDI3My4xNSBhbmQgdGhlIG9mZnNldCBmb3IgZmFyaGVuaGVpdFxuICAgKiAgICAgaXMgNDU5LjY3LiBEZWZhdWx0IGlzIDAuXG4gICAqICAgLSBiYXNlTmFtZSB7c3RyaW5nfSBJZiB0aGUgdW5pdCdzIGRpbWVuc2lvbiBkb2VzIG5vdCBtYXRjaCB0aGF0IG9mIGFueSBvdGhlclxuICAgKiAgICAgYmFzZSB1bml0LCB0aGUgbmFtZSBvZiB0aGUgbmV3bHkgY3JlYXRlIGJhc2UgdW5pdC4gT3RoZXJ3aXNlLCB0aGlzIHByb3BlcnR5XG4gICAqICAgICBoYXMgbm8gZWZmZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgIChvcHRpb25hbCkgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYW55IG9mIHRoZSBmb2xsb3dpbmdcbiAgICogcHJvcGVydGllczpcbiAgICogICAtIG92ZXJyaWRlIHtib29sZWFufSBXaGV0aGVyIHRoaXMgdW5pdCBzaG91bGQgYmUgYWxsb3dlZCB0byBvdmVycmlkZSBleGlzdGluZ1xuICAgKiAgICAgdW5pdHMuXG4gICAqXG4gICAqIEByZXR1cm4ge1VuaXR9XG4gICAqL1xuXG5cbiAgVW5pdC5jcmVhdGVVbml0U2luZ2xlID0gZnVuY3Rpb24gKG5hbWUsIG9iaiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgIG9iaiA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjcmVhdGVVbml0U2luZ2xlIGV4cGVjdHMgZmlyc3QgcGFyYW1ldGVyIHRvIGJlIG9mIHR5cGUgJ3N0cmluZydcIik7XG4gICAgfSAvLyBDaGVjayBjb2xsaXNpb25zIHdpdGggZXhpc3RpbmcgdW5pdHNcblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIjogYSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfSAvLyBUT0RPOiBWYWxpZGF0ZSBuYW1lIGZvciBjb2xsaXNpb25zIHdpdGggb3RoZXIgYnVpbHQtaW4gZnVuY3Rpb25zIChsaWtlIGFicyBvciBjb3MsIGZvciBleGFtcGxlKSwgYW5kIGZvciBhY2NlcHRhYmxlIHZhcmlhYmxlIG5hbWVzLiBGb3IgZXhhbXBsZSwgJzQyJyBpcyBwcm9iYWJseSBub3QgYSB2YWxpZCB1bml0LiBOb3IgaXMgJyUnLCBzaW5jZSBpdCBpcyBhbHNvIGFuIG9wZXJhdG9yLlxuXG5cbiAgICBhc3NlcnRVbml0TmFtZUlzVmFsaWQobmFtZSk7XG4gICAgdmFyIGRlZlVuaXQgPSBudWxsOyAvLyBUaGUgVW5pdCBmcm9tIHdoaWNoIHRoZSBuZXcgdW5pdCB3aWxsIGJlIGNyZWF0ZWQuXG5cbiAgICB2YXIgYWxpYXNlcyA9IFtdO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBkZWZpbml0aW9uO1xuICAgIHZhciBwcmVmaXhlcztcbiAgICB2YXIgYmFzZU5hbWU7XG5cbiAgICBpZiAob2JqICYmIG9iai50eXBlID09PSAnVW5pdCcpIHtcbiAgICAgIGRlZlVuaXQgPSBvYmouY2xvbmUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAob2JqICE9PSAnJykge1xuICAgICAgICBkZWZpbml0aW9uID0gb2JqO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRlZmluaXRpb24gPSBvYmouZGVmaW5pdGlvbjtcbiAgICAgIHByZWZpeGVzID0gb2JqLnByZWZpeGVzO1xuICAgICAgb2Zmc2V0ID0gb2JqLm9mZnNldDtcbiAgICAgIGJhc2VOYW1lID0gb2JqLmJhc2VOYW1lO1xuXG4gICAgICBpZiAob2JqLmFsaWFzZXMpIHtcbiAgICAgICAgYWxpYXNlcyA9IG9iai5hbGlhc2VzLnZhbHVlT2YoKTsgLy8gYWxpYXNlcyBjb3VsZCBiZSBhIE1hdHJpeCwgc28gY29udmVydCB0byBBcnJheVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIiBmcm9tIFwiJyArIG9iai50b1N0cmluZygpICsgJ1wiOiBleHBlY3RpbmcgXCJzdHJpbmdcIiBvciBcIlVuaXRcIiBvciBcIk9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGFsaWFzZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxpYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIGFsaWFzZXNbaV0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIGFsaWFzIFwiJyArIGFsaWFzZXNbaV0gKyAnXCI6IGEgdW5pdCB3aXRoIHRoYXQgbmFtZSBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZmluaXRpb24gJiYgdHlwZW9mIGRlZmluaXRpb24gPT09ICdzdHJpbmcnICYmICFkZWZVbml0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBkZWZVbml0ID0gVW5pdC5wYXJzZShkZWZpbml0aW9uLCB7XG4gICAgICAgICAgYWxsb3dOb1VuaXRzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgZXgubWVzc2FnZSA9ICdDb3VsZCBub3QgY3JlYXRlIHVuaXQgXCInICsgbmFtZSArICdcIiBmcm9tIFwiJyArIGRlZmluaXRpb24gKyAnXCI6ICcgKyBleC5tZXNzYWdlO1xuICAgICAgICB0aHJvdyBleDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRlZmluaXRpb24gJiYgZGVmaW5pdGlvbi50eXBlID09PSAnVW5pdCcpIHtcbiAgICAgIGRlZlVuaXQgPSBkZWZpbml0aW9uLmNsb25lKCk7XG4gICAgfVxuXG4gICAgYWxpYXNlcyA9IGFsaWFzZXMgfHwgW107XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBpZiAocHJlZml4ZXMgJiYgcHJlZml4ZXMudG9VcHBlckNhc2UpIHtcbiAgICAgIHByZWZpeGVzID0gUFJFRklYRVNbcHJlZml4ZXMudG9VcHBlckNhc2UoKV0gfHwgUFJFRklYRVMuTk9ORTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZml4ZXMgPSBQUkVGSVhFUy5OT05FO1xuICAgIH0gLy8gSWYgZGVmVW5pdCBpcyBudWxsLCBpdCBpcyBiZWNhdXNlIHRoZSB1c2VyIGRpZCBub3RcbiAgICAvLyBzcGVjaWZ5IGEgZGVmaW50aW9uLiBTbyBjcmVhdGUgYSBuZXcgYmFzZSBkaW1lbnNpb24uXG5cblxuICAgIHZhciBuZXdVbml0ID0ge307XG5cbiAgICBpZiAoIWRlZlVuaXQpIHtcbiAgICAgIC8vIEFkZCBhIG5ldyBiYXNlIGRpbWVuc2lvblxuICAgICAgYmFzZU5hbWUgPSBiYXNlTmFtZSB8fCBuYW1lICsgJ19TVFVGRic7IC8vIGZvbyAtLT4gZm9vX1NUVUZGLCBvciB0aGUgZXNzZW5jZSBvZiBmb29cblxuICAgICAgaWYgKEJBU0VfRElNRU5TSU9OUy5pbmRleE9mKGJhc2VOYW1lKSA+PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBuZXcgYmFzZSB1bml0IFwiJyArIG5hbWUgKyAnXCI6IGEgYmFzZSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzIChhbmQgY2Fubm90IGJlIG92ZXJyaWRkZW4pJyk7XG4gICAgICB9XG5cbiAgICAgIEJBU0VfRElNRU5TSU9OUy5wdXNoKGJhc2VOYW1lKTsgLy8gUHVzaCAwIG9udG8gZXhpc3RpbmcgYmFzZSB1bml0c1xuXG4gICAgICBmb3IgKHZhciBiIGluIEJBU0VfVU5JVFMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIGIpKSB7XG4gICAgICAgICAgQkFTRV9VTklUU1tiXS5kaW1lbnNpb25zW0JBU0VfRElNRU5TSU9OUy5sZW5ndGggLSAxXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQWRkIHRoZSBuZXcgYmFzZSB1bml0XG5cblxuICAgICAgdmFyIG5ld0Jhc2VVbml0ID0ge1xuICAgICAgICBkaW1lbnNpb25zOiBbXVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgX2k2KyspIHtcbiAgICAgICAgbmV3QmFzZVVuaXQuZGltZW5zaW9uc1tfaTZdID0gMDtcbiAgICAgIH1cblxuICAgICAgbmV3QmFzZVVuaXQuZGltZW5zaW9uc1tCQVNFX0RJTUVOU0lPTlMubGVuZ3RoIC0gMV0gPSAxO1xuICAgICAgbmV3QmFzZVVuaXQua2V5ID0gYmFzZU5hbWU7XG4gICAgICBCQVNFX1VOSVRTW2Jhc2VOYW1lXSA9IG5ld0Jhc2VVbml0O1xuICAgICAgbmV3VW5pdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGRpbWVuc2lvbnM6IEJBU0VfVU5JVFNbYmFzZU5hbWVdLmRpbWVuc2lvbnMuc2xpY2UoMCksXG4gICAgICAgIHByZWZpeGVzOiBwcmVmaXhlcyxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGJhc2U6IEJBU0VfVU5JVFNbYmFzZU5hbWVdXG4gICAgICB9O1xuICAgICAgY3VycmVudFVuaXRTeXN0ZW1bYmFzZU5hbWVdID0ge1xuICAgICAgICB1bml0OiBuZXdVbml0LFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdVbml0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogZGVmVW5pdC52YWx1ZSxcbiAgICAgICAgZGltZW5zaW9uczogZGVmVW5pdC5kaW1lbnNpb25zLnNsaWNlKDApLFxuICAgICAgICBwcmVmaXhlczogcHJlZml4ZXMsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9OyAvLyBDcmVhdGUgYSBuZXcgYmFzZSBpZiBubyBtYXRjaGluZyBiYXNlIGV4aXN0c1xuXG4gICAgICB2YXIgYW55TWF0Y2ggPSBmYWxzZTtcblxuICAgICAgZm9yICh2YXIgX2k3IGluIEJBU0VfVU5JVFMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KEJBU0VfVU5JVFMsIF9pNykpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicygobmV3VW5pdC5kaW1lbnNpb25zW2pdIHx8IDApIC0gKEJBU0VfVU5JVFNbX2k3XS5kaW1lbnNpb25zW2pdIHx8IDApKSA+IDFlLTEyKSB7XG4gICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgYW55TWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgbmV3VW5pdC5iYXNlID0gQkFTRV9VTklUU1tfaTddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghYW55TWF0Y2gpIHtcbiAgICAgICAgYmFzZU5hbWUgPSBiYXNlTmFtZSB8fCBuYW1lICsgJ19TVFVGRic7IC8vIGZvbyAtLT4gZm9vX1NUVUZGLCBvciB0aGUgZXNzZW5jZSBvZiBmb29cbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgYmFzZSB1bml0XG5cbiAgICAgICAgdmFyIF9uZXdCYXNlVW5pdCA9IHtcbiAgICAgICAgICBkaW1lbnNpb25zOiBkZWZVbml0LmRpbWVuc2lvbnMuc2xpY2UoMClcbiAgICAgICAgfTtcbiAgICAgICAgX25ld0Jhc2VVbml0LmtleSA9IGJhc2VOYW1lO1xuICAgICAgICBCQVNFX1VOSVRTW2Jhc2VOYW1lXSA9IF9uZXdCYXNlVW5pdDtcbiAgICAgICAgY3VycmVudFVuaXRTeXN0ZW1bYmFzZU5hbWVdID0ge1xuICAgICAgICAgIHVuaXQ6IG5ld1VuaXQsXG4gICAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICAgICAgICB9O1xuICAgICAgICBuZXdVbml0LmJhc2UgPSBCQVNFX1VOSVRTW2Jhc2VOYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBVbml0LlVOSVRTW25hbWVdID0gbmV3VW5pdDtcblxuICAgIGZvciAodmFyIF9pOCA9IDA7IF9pOCA8IGFsaWFzZXMubGVuZ3RoOyBfaTgrKykge1xuICAgICAgdmFyIGFsaWFzTmFtZSA9IGFsaWFzZXNbX2k4XTtcbiAgICAgIHZhciBfYWxpYXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgX2tleTYgaW4gbmV3VW5pdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkobmV3VW5pdCwgX2tleTYpKSB7XG4gICAgICAgICAgX2FsaWFzW19rZXk2XSA9IG5ld1VuaXRbX2tleTZdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9hbGlhcy5uYW1lID0gYWxpYXNOYW1lO1xuICAgICAgVW5pdC5VTklUU1thbGlhc05hbWVdID0gX2FsaWFzO1xuICAgIH0gLy8gZGVsZXRlIHRoZSBtZW1vaXphdGlvbiBjYWNoZSwgc2luY2UgYWRkaW5nIGEgbmV3IHVuaXQgdG8gdGhlIGFycmF5XG4gICAgLy8gaW52YWxpZGF0ZXMgYWxsIG9sZCByZXN1bHRzXG5cblxuICAgIGRlbGV0ZSBfZmluZFVuaXQuY2FjaGU7XG4gICAgcmV0dXJuIG5ldyBVbml0KG51bGwsIG5hbWUpO1xuICB9O1xuXG4gIFVuaXQuZGVsZXRlVW5pdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgZGVsZXRlIFVuaXQuVU5JVFNbbmFtZV07XG4gIH07IC8vIGV4cG9zZSBhcnJheXMgd2l0aCBwcmVmaXhlcywgZGltZW5zaW9ucywgdW5pdHMsIHN5c3RlbXNcblxuXG4gIFVuaXQuUFJFRklYRVMgPSBQUkVGSVhFUztcbiAgVW5pdC5CQVNFX0RJTUVOU0lPTlMgPSBCQVNFX0RJTUVOU0lPTlM7XG4gIFVuaXQuQkFTRV9VTklUUyA9IEJBU0VfVU5JVFM7XG4gIFVuaXQuVU5JVF9TWVNURU1TID0gVU5JVF9TWVNURU1TO1xuICBVbml0LlVOSVRTID0gVU5JVFM7XG4gIHJldHVybiBVbml0O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICd1bml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ1VuaXQnXTsgLy8gVGhpcyBmdW5jdGlvbiBpcyBuYW1lZCBjcmVhdGVVbml0RnVuY3Rpb24gdG8gcHJldmVudCBhIG5hbWluZyBjb25mbGljdCB3aXRoIGNyZWF0ZVVuaXRcblxuZXhwb3J0IHZhciBjcmVhdGVVbml0RnVuY3Rpb24gPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBVbml0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB1bml0LiBEZXBlbmRpbmcgb24gdGhlIHBhc3NlZCBhcmd1bWVudHMsIHRoZSBmdW5jdGlvblxuICAgKiB3aWxsIGNyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IG1hdGguVW5pdCBvYmplY3QuXG4gICAqIFdoZW4gYSBtYXRyaXggaXMgcHJvdmlkZWQsIGFsbCBlbGVtZW50cyB3aWxsIGJlIGNvbnZlcnRlZCB0byB1bml0cy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC51bml0KHVuaXQgOiBzdHJpbmcpXG4gICAqICAgICBtYXRoLnVuaXQodmFsdWUgOiBudW1iZXIsIHVuaXQgOiBzdHJpbmcpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC51bml0KDUsICdjbScpICAgIC8vIHJldHVybnMgVW5pdCA1MCBtbVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyMyBrZycpICAgIC8vIHJldHVybnMgVW5pdCAyMyBrZ1xuICAgKiAgICBhLnRvKCdtJykgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgVW5pdCAwLjA1IG1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGJpZ251bWJlciwgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgbnVtYmVyLCBzdHJpbmcsIGNyZWF0ZVVuaXRcbiAgICpcbiAgICogQHBhcmFtIHsqIHwgQXJyYXkgfCBNYXRyaXh9IGFyZ3MgICBBIG51bWJlciBhbmQgdW5pdC5cbiAgICogQHJldHVybiB7VW5pdCB8IEFycmF5IHwgTWF0cml4fSAgICBUaGUgY3JlYXRlZCB1bml0XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgcmV0dXJuIHguY2xvbmUoKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIGlmIChVbml0LmlzVmFsdWVsZXNzVW5pdCh4KSkge1xuICAgICAgICByZXR1cm4gbmV3IFVuaXQobnVsbCwgeCk7IC8vIGEgcHVyZSB1bml0XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBVbml0LnBhcnNlKHgsIHtcbiAgICAgICAgYWxsb3dOb1VuaXRzOiB0cnVlXG4gICAgICB9KTsgLy8gYSB1bml0IHdpdGggdmFsdWUsIGxpa2UgJzVjbSdcbiAgICB9LFxuICAgICdudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXgsIHN0cmluZyc6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlckZyYWN0aW9uQ29tcGxleFN0cmluZyh2YWx1ZSwgdW5pdCkge1xuICAgICAgcmV0dXJuIG5ldyBVbml0KHZhbHVlLCB1bml0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdjcmVhdGVVbml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ1VuaXQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ3JlYXRlVW5pdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIFVuaXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVzZXItZGVmaW5lZCB1bml0IGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBVbml0IHR5cGUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCh7XG4gICAqICAgICAgIGJhc2VVbml0MToge1xuICAgKiAgICAgICAgIGFsaWFzZXM6IFtzdHJpbmcsIC4uLl1cbiAgICogICAgICAgICBwcmVmaXhlczogb2JqZWN0XG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHVuaXQyOiB7XG4gICAqICAgICAgICAgZGVmaW5pdGlvbjogc3RyaW5nLFxuICAgKiAgICAgICAgIGFsaWFzZXM6IFtzdHJpbmcsIC4uLl1cbiAgICogICAgICAgICBwcmVmaXhlczogb2JqZWN0LFxuICAgKiAgICAgICAgIG9mZnNldDogbnVtYmVyXG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIHVuaXQzOiBzdHJpbmcgICAgLy8gU2hvcnRjdXRcbiAgICogICAgIH0pXG4gICAqXG4gICAqICAgICAvLyBBbm90aGVyIHNob3J0Y3V0OlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KHN0cmluZywgdW5pdCA6IHN0cmluZywgW29iamVjdF0pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdmb28nKVxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdrbm90Jywge2RlZmluaXRpb246ICcwLjUxNDQ0NDQ0NCBtL3MnLCBhbGlhc2VzOiBbJ2tub3RzJywgJ2t0JywgJ2t0cyddfSlcbiAgICogICAgIG1hdGguY3JlYXRlVW5pdCgnbXBoJywgJzEgbWlsZS9ob3VyJylcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICBUaGUgbmFtZSBvZiB0aGUgbmV3IHVuaXQuIE11c3QgYmUgdW5pcXVlLiBFeGFtcGxlOiAna25vdCdcbiAgICogQHBhcmFtIHtzdHJpbmcsIFVuaXR9IGRlZmluaXRpb24gICAgICBEZWZpbml0aW9uIG9mIHRoZSB1bml0IGluIHRlcm1zIG9mIGV4aXN0aW5nIHVuaXRzLiBGb3IgZXhhbXBsZSwgJzAuNTE0NDQ0NDQ0IG0gLyBzJy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAob3B0aW9uYWwpIEFuIG9iamVjdCBjb250YWluaW5nIGFueSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAgICAtIGBwcmVmaXhlcyB7c3RyaW5nfWAgXCJub25lXCIsIFwic2hvcnRcIiwgXCJsb25nXCIsIFwiYmluYXJ5X3Nob3J0XCIsIG9yIFwiYmluYXJ5X2xvbmdcIi4gVGhlIGRlZmF1bHQgaXMgXCJub25lXCIuXG4gICAqICAgICAtIGBhbGlhc2VzIHtBcnJheX1gIEFycmF5IG9mIHN0cmluZ3MuIEV4YW1wbGU6IFsna25vdHMnLCAna3QnLCAna3RzJ11cbiAgICogICAgIC0gYG9mZnNldCB7TnVtZXJpY31gIEFuIG9mZnNldCB0byBhcHBseSB3aGVuIGNvbnZlcnRpbmcgZnJvbSB0aGUgdW5pdC4gRm9yIGV4YW1wbGUsIHRoZSBvZmZzZXQgZm9yIGNlbHNpdXMgaXMgMjczLjE1LiBEZWZhdWx0IGlzIDAuXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgdW5pdFxuICAgKlxuICAgKiBAcmV0dXJuIHtVbml0fSBUaGUgbmV3IHVuaXRcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgLy8gR2VuZXJhbCBmdW5jdGlvbiBzaWduYXR1cmUuIEZpcnN0IHBhcmFtZXRlciBpcyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyB0aGUgZGVmaW5pdGlvbiBvZiBhIG5ldyB1bml0LiBUaGUgb2JqZWN0IGtleXMgYXJlIHRoZSB1bml0IG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZGVmaW5pdGlvbnMuIFRoZSB2YWx1ZXMgY2FuIGJlIG9iamVjdHMsIHN0cmluZ3MsIG9yIFVuaXRzLiBJZiBhIHByb3BlcnR5IGlzIGFuIGVtcHR5IG9iamVjdCBvciBhbiBlbXB0eSBzdHJpbmcsIGEgbmV3IGJhc2UgdW5pdCBpcyBjcmVhdGVkLiBUaGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgb3B0aW9ucy5cbiAgICAnT2JqZWN0LCBPYmplY3QnOiBmdW5jdGlvbiBPYmplY3RPYmplY3Qob2JqLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICAvLyBTYW1lIGFzIGFib3ZlIGJ1dCB3aXRob3V0IHRoZSBvcHRpb25zLlxuICAgIE9iamVjdDogZnVuY3Rpb24gT2JqZWN0KG9iaikge1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIHt9KTtcbiAgICB9LFxuICAgIC8vIFNob3J0Y3V0IG1ldGhvZCBmb3IgY3JlYXRpbmcgb25lIHVuaXQuXG4gICAgJ3N0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCwgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nVW5pdFN0cmluZ09iamVjdE9iamVjdChuYW1lLCBkZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IGRlZjtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIC8vIFNhbWUgYXMgYWJvdmUgYnV0IHdpdGhvdXQgdGhlIG9wdGlvbnMuXG4gICAgJ3N0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ1VuaXRTdHJpbmdPYmplY3QobmFtZSwgZGVmKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSBkZWY7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH0sXG4gICAgLy8gV2l0aG91dCBhIGRlZmluaXRpb24sIGNyZWF0ZXMgYSBiYXNlIHVuaXQuXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcobmFtZSkge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0ge307XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEwIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2FkZCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWRkU2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVBZGQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgYWRkU2NhbGFyLFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAxID0gY3JlYXRlQWxnb3JpdGhtMDEoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDQgPSBjcmVhdGVBbGdvcml0aG0wNCh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMCA9IGNyZWF0ZUFsZ29yaXRobTEwKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBBZGQgdHdvIG9yIG1vcmUgdmFsdWVzLCBgeCArIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYWRkKHgsIHkpXG4gICAqICAgIG1hdGguYWRkKHgsIHksIHosIC4uLilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguYWRkKDIsIDMpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNVxuICAgKiAgICBtYXRoLmFkZCgyLCAzLCA0KSAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDlcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KC00LCAxKVxuICAgKiAgICBtYXRoLmFkZChhLCBiKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAtMiArIDRpXG4gICAqXG4gICAqICAgIG1hdGguYWRkKFsxLCAyLCAzXSwgNCkgICAgICAgLy8gcmV0dXJucyBBcnJheSBbNSwgNiwgN11cbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGgudW5pdCgnNSBjbScpXG4gICAqICAgIGNvbnN0IGQgPSBtYXRoLnVuaXQoJzIuMSBtbScpXG4gICAqICAgIG1hdGguYWRkKGMsIGQpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDUyLjEgbW1cbiAgICpcbiAgICogICAgbWF0aC5hZGQoXCIyLjNcIiwgXCI0XCIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNi4zXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzdWJ0cmFjdCwgc3VtXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBGaXJzdCB2YWx1ZSB0byBhZGRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBhZGRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSBTdW0gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIGFkZFNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0RlbnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEzKHgsIHksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHksIHgsIGFkZFNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA0KHgsIHksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBEZW5zZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgYWRkU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBhZGRTY2FsYXIsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIGFueSc6IGFkZFNjYWxhcixcbiAgICAnYW55LCBhbnksIC4uLmFueSc6IGZ1bmN0aW9uIGFueUFueUFueSh4LCB5LCByZXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcyh4LCB5KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMocmVzdWx0LCByZXN0W2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIGFkZFNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbnZhciBuYW1lID0gJ2RvdCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdhZGRTY2FsYXInLCAnbXVsdGlwbHlTY2FsYXInLCAnY29uaicsICdzaXplJ107XG5leHBvcnQgdmFyIGNyZWF0ZURvdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBjb25qLFxuICAgIHNpemVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuIFRoZSBkb3QgcHJvZHVjdCBvZlxuICAgKiBgQSA9IFthMSwgYTIsIC4uLiwgYW5dYCBhbmQgYEIgPSBbYjEsIGIyLCAuLi4sIGJuXWAgaXMgZGVmaW5lZCBhczpcbiAgICpcbiAgICogICAgZG90KEEsIEIpID0gY29uaihhMSkgKiBiMSArIGNvbmooYTIpICogYjIgKyAuLi4gKyBjb25qKGFuKSAqIGJuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kb3QoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZG90KFsyLCA0LCAxXSwgWzIsIDIsIDNdKSAgICAgICAvLyByZXR1cm5zIG51bWJlciAxNVxuICAgKiAgICBtYXRoLm11bHRpcGx5KFsyLCA0LCAxXSwgWzIsIDIsIDNdKSAgLy8gcmV0dXJucyBudW1iZXIgMTVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIG11bHRpcGx5LCBjcm9zc1xuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheSB8IE1hdHJpeH0geCAgICAgRmlyc3QgdmVjdG9yXG4gICAqIEBwYXJhbSAge0FycmF5IHwgTWF0cml4fSB5ICAgICBTZWNvbmQgdmVjdG9yXG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCBvZiBgeGAgYW5kIGB5YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnQXJyYXkgfCBEZW5zZU1hdHJpeCwgQXJyYXkgfCBEZW5zZU1hdHJpeCc6IF9kZW5zZURvdCxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfc3BhcnNlRG90XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZURpbSh4LCB5KSB7XG4gICAgdmFyIHhTaXplID0gX3NpemUoeCk7XG5cbiAgICB2YXIgeVNpemUgPSBfc2l6ZSh5KTtcblxuICAgIHZhciB4TGVuLCB5TGVuO1xuXG4gICAgaWYgKHhTaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgeExlbiA9IHhTaXplWzBdO1xuICAgIH0gZWxzZSBpZiAoeFNpemUubGVuZ3RoID09PSAyICYmIHhTaXplWzFdID09PSAxKSB7XG4gICAgICB4TGVuID0geFNpemVbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFeHBlY3RlZCBhIGNvbHVtbiB2ZWN0b3IsIGluc3RlYWQgZ290IGEgbWF0cml4IG9mIHNpemUgKCcgKyB4U2l6ZS5qb2luKCcsICcpICsgJyknKTtcbiAgICB9XG5cbiAgICBpZiAoeVNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICB5TGVuID0geVNpemVbMF07XG4gICAgfSBlbHNlIGlmICh5U2l6ZS5sZW5ndGggPT09IDIgJiYgeVNpemVbMV0gPT09IDEpIHtcbiAgICAgIHlMZW4gPSB5U2l6ZVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0V4cGVjdGVkIGEgY29sdW1uIHZlY3RvciwgaW5zdGVhZCBnb3QgYSBtYXRyaXggb2Ygc2l6ZSAoJyArIHlTaXplLmpvaW4oJywgJykgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh4TGVuICE9PSB5TGVuKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVmVjdG9ycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoICgnICsgeExlbiArICcgIT0gJyArIHlMZW4gKyAnKScpO1xuICAgIGlmICh4TGVuID09PSAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgZW1wdHkgdmVjdG9ycycpO1xuICAgIHJldHVybiB4TGVuO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlbnNlRG90KGEsIGIpIHtcbiAgICB2YXIgTiA9IF92YWxpZGF0ZURpbShhLCBiKTtcblxuICAgIHZhciBhZGF0YSA9IGlzTWF0cml4KGEpID8gYS5fZGF0YSA6IGE7XG4gICAgdmFyIGFkdCA9IGlzTWF0cml4KGEpID8gYS5fZGF0YXR5cGUgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGJkYXRhID0gaXNNYXRyaXgoYikgPyBiLl9kYXRhIDogYjtcbiAgICB2YXIgYmR0ID0gaXNNYXRyaXgoYikgPyBiLl9kYXRhdHlwZSA6IHVuZGVmaW5lZDsgLy8gYXJlIHRoZXNlIDItZGltZW5zaW9uYWwgY29sdW1uIHZlY3RvcnM/IChhcyBvcHBvc2VkIHRvIDEtZGltZW5zaW9uYWwgdmVjdG9ycylcblxuICAgIHZhciBhSXNDb2x1bW4gPSBfc2l6ZShhKS5sZW5ndGggPT09IDI7XG4gICAgdmFyIGJJc0NvbHVtbiA9IF9zaXplKGIpLmxlbmd0aCA9PT0gMjtcbiAgICB2YXIgYWRkID0gYWRkU2NhbGFyO1xuICAgIHZhciBtdWwgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFkZCA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtdWwgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyBib3RoIHZlY3RvcnMgMS1kaW1lbnNpb25hbFxuXG5cbiAgICBpZiAoIWFJc0NvbHVtbiAmJiAhYklzQ29sdW1uKSB7XG4gICAgICB2YXIgYyA9IG11bChjb25qKGFkYXRhWzBdKSwgYmRhdGFbMF0pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IE47IGkrKykge1xuICAgICAgICBjID0gYWRkKGMsIG11bChjb25qKGFkYXRhW2ldKSwgYmRhdGFbaV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGM7XG4gICAgfSAvLyBhIGlzIDEtZGltLCBiIGlzIGNvbHVtblxuXG5cbiAgICBpZiAoIWFJc0NvbHVtbiAmJiBiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYyA9IG11bChjb25qKGFkYXRhWzBdKSwgYmRhdGFbMF1bMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgTjsgX2krKykge1xuICAgICAgICBfYyA9IGFkZChfYywgbXVsKGNvbmooYWRhdGFbX2ldKSwgYmRhdGFbX2ldWzBdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYztcbiAgICB9IC8vIGEgaXMgY29sdW1uLCBiIGlzIDEtZGltXG5cblxuICAgIGlmIChhSXNDb2x1bW4gJiYgIWJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jMiA9IG11bChjb25qKGFkYXRhWzBdWzBdKSwgYmRhdGFbMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAxOyBfaTIgPCBOOyBfaTIrKykge1xuICAgICAgICBfYzIgPSBhZGQoX2MyLCBtdWwoY29uaihhZGF0YVtfaTJdWzBdKSwgYmRhdGFbX2kyXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2MyO1xuICAgIH0gLy8gYm90aCB2ZWN0b3JzIGFyZSBjb2x1bW5cblxuXG4gICAgaWYgKGFJc0NvbHVtbiAmJiBiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBfYzMgPSBtdWwoY29uaihhZGF0YVswXVswXSksIGJkYXRhWzBdWzBdKTtcblxuICAgICAgZm9yICh2YXIgX2kzID0gMTsgX2kzIDwgTjsgX2kzKyspIHtcbiAgICAgICAgX2MzID0gYWRkKF9jMywgbXVsKGNvbmooYWRhdGFbX2kzXVswXSksIGJkYXRhW19pM11bMF0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jMztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc3BhcnNlRG90KHgsIHkpIHtcbiAgICBfdmFsaWRhdGVEaW0oeCwgeSk7XG5cbiAgICB2YXIgeGluZGV4ID0geC5faW5kZXg7XG4gICAgdmFyIHh2YWx1ZXMgPSB4Ll92YWx1ZXM7XG4gICAgdmFyIHlpbmRleCA9IHkuX2luZGV4O1xuICAgIHZhciB5dmFsdWVzID0geS5fdmFsdWVzOyAvLyBUT0RPIG9wdGltaXplIGFkZCAmIG11bCB1c2luZyBkYXRhdHlwZVxuXG4gICAgdmFyIGMgPSAwO1xuICAgIHZhciBhZGQgPSBhZGRTY2FsYXI7XG4gICAgdmFyIG11bCA9IG11bHRpcGx5U2NhbGFyO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgaiA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHhpbmRleC5sZW5ndGggJiYgaiA8IHlpbmRleC5sZW5ndGgpIHtcbiAgICAgIHZhciBJID0geGluZGV4W2ldO1xuICAgICAgdmFyIEogPSB5aW5kZXhbal07XG5cbiAgICAgIGlmIChJIDwgSikge1xuICAgICAgICBpKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoSSA+IEopIHtcbiAgICAgICAgaisrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEkgPT09IEopIHtcbiAgICAgICAgYyA9IGFkZChjLCBtdWwoeHZhbHVlc1tpXSwgeXZhbHVlc1tqXSkpO1xuICAgICAgICBpKys7XG4gICAgICAgIGorKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYztcbiAgfSAvLyBUT0RPIHJlbW92ZSB0aGlzIG9uY2UgIzE3NzEgaXMgZml4ZWRcblxuXG4gIGZ1bmN0aW9uIF9zaXplKHgpIHtcbiAgICByZXR1cm4gaXNNYXRyaXgoeCkgPyB4LnNpemUoKSA6IHNpemUoeCk7XG4gIH1cbn0pOyIsIi8vIFJlc2VydmVkIGtleXdvcmRzIG5vdCBhbGxvd2VkIHRvIHVzZSBpbiB0aGUgcGFyc2VyXG5leHBvcnQgdmFyIGtleXdvcmRzID0ge1xuICBlbmQ6IHRydWVcbn07IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsga2V5d29yZHMgfSBmcm9tICcuLi9rZXl3b3Jkcy5qcyc7XG5pbXBvcnQgeyBkZWVwU3RyaWN0RXF1YWwsIGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aFdpdGhUcmFuc2Zvcm0nXTtcbmV4cG9ydCB2YXIgY3JlYXRlTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGhXaXRoVHJhbnNmb3JtXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBOb2RlXG4gICAqL1xuICBmdW5jdGlvbiBOb2RlKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV2YWx1YXRlIHRoZSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdICBTY29wZSB0byByZWFkL3dyaXRlIHZhcmlhYmxlc1xuICAgKiBAcmV0dXJuIHsqfSAgICAgICAgICAgICAgUmV0dXJucyB0aGUgcmVzdWx0XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZXZhbHVhdGUgPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICB9O1xuXG4gIE5vZGUucHJvdG90eXBlLnR5cGUgPSAnTm9kZSc7XG4gIE5vZGUucHJvdG90eXBlLmlzTm9kZSA9IHRydWU7XG4gIE5vZGUucHJvdG90eXBlLmNvbW1lbnQgPSAnJztcbiAgLyoqXG4gICAqIENvbXBpbGUgdGhlIG5vZGUgaW50byBhbiBvcHRpbWl6ZWQsIGV2YXVhdGFibGUgSmF2YVNjcmlwdCBmdW5jdGlvblxuICAgKiBAcmV0dXJuIHt7ZXZhbHVhdGU6IGZ1bmN0aW9uKFtPYmplY3RdKX19IG9iamVjdFxuICAgKiAgICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGEgZnVuY3Rpb24gJ2V2YWx1YXRlJyxcbiAgICogICAgICAgICAgICAgICAgd2hpY2ggY2FuIGJlIGludm9rZWQgYXMgZXhwci5ldmFsdWF0ZShbc2NvcGU6IE9iamVjdF0pLFxuICAgKiAgICAgICAgICAgICAgICB3aGVyZSBzY29wZSBpcyBhbiBvcHRpb25hbCBvYmplY3Qgd2l0aFxuICAgKiAgICAgICAgICAgICAgICB2YXJpYWJsZXMuXG4gICAqL1xuXG4gIE5vZGUucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4cHIgPSB0aGlzLl9jb21waWxlKG1hdGhXaXRoVHJhbnNmb3JtLCB7fSk7XG5cbiAgICB2YXIgYXJncyA9IHt9O1xuICAgIHZhciBjb250ZXh0ID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGV2YWx1YXRlKHNjb3BlKSB7XG4gICAgICB2YXIgcyA9IHNjb3BlIHx8IHt9O1xuXG4gICAgICBfdmFsaWRhdGVTY29wZShzKTtcblxuICAgICAgcmV0dXJuIGV4cHIocywgYXJncywgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV2YWx1YXRlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIF9jb21waWxlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSB0eXBlICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcnVuIGZvckVhY2ggb24gYSBOb2RlIGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcnVuIG1hcCBvbiBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIE5vZGUsIGZvciB1c2Ugd2l0aCBtYXBcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEByZXR1cm5zIHtOb2RlfSBSZXR1cm5zIHRoZSBpbnB1dCBpZiBpdCdzIGEgbm9kZSwgZWxzZSB0aHJvd3MgYW4gRXJyb3JcbiAgICogQHByb3RlY3RlZFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl9pZk5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmICghaXNOb2RlKG5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYWxsYmFjayBmdW5jdGlvbiBtdXN0IHJldHVybiBhIE5vZGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFsbCBub2RlcyBpbiBhIG5vZGUgdHJlZS4gRXhlY3V0ZXMgZ2l2ZW4gY2FsbGJhY2sgZm9yXG4gICAqIHRoaXMgbm9kZSBhbmQgZWFjaCBvZiBpdHMgY2hpbGQgbm9kZXMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKiAgICAgICAgICBBIGNhbGxiYWNrIGNhbGxlZCBmb3IgZXZlcnkgbm9kZSBpbiB0aGUgbm9kZSB0cmVlLlxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRyYXZlcnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gZXhlY3V0ZSBjYWxsYmFjayBmb3IgaXRzZWxmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY2FsbGJhY2sodGhpcywgbnVsbCwgbnVsbCk7IC8vIHJlY3Vyc2l2ZWx5IHRyYXZlcnNlIG92ZXIgYWxsIGNoaWxkcyBvZiBhIG5vZGVcblxuICAgIGZ1bmN0aW9uIF90cmF2ZXJzZShub2RlLCBjYWxsYmFjaykge1xuICAgICAgbm9kZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCwgcGF0aCwgcGFyZW50KSB7XG4gICAgICAgIGNhbGxiYWNrKGNoaWxkLCBwYXRoLCBwYXJlbnQpO1xuXG4gICAgICAgIF90cmF2ZXJzZShjaGlsZCwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RyYXZlcnNlKHRoaXMsIGNhbGxiYWNrKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHRyYW5zZm9ybSBhIG5vZGUgdHJlZSB2aWEgYSB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB0byByZXBsYWNlIGFsbCBub2RlcyBvZiB0eXBlIFN5bWJvbE5vZGUgaGF2aW5nIG5hbWUgJ3gnIHdpdGggYVxuICAgKiBDb25zdGFudE5vZGUgd2l0aCB2YWx1ZSAyOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmVzID0gTm9kZS50cmFuc2Zvcm0oZnVuY3Rpb24gKG5vZGUsIHBhdGgsIHBhcmVudCkge1xuICAgKiAgICAgICBpZiAobm9kZSAmJiBub2RlLmlzU3ltYm9sTm9kZSkgJiYgKG5vZGUubmFtZSA9PT0gJ3gnKSkge1xuICAgKiAgICAgICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKDIpXG4gICAqICAgICAgIH1cbiAgICogICAgICAgZWxzZSB7XG4gICAqICAgICAgICAgcmV0dXJuIG5vZGVcbiAgICogICAgICAgfVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiAgICAgICAgICBBIG1hcHBpbmcgZnVuY3Rpb24gYWNjZXB0aW5nIGEgbm9kZSwgYW5kIHJldHVybmluZ1xuICAgKiAgICAgICAgICBhIHJlcGxhY2VtZW50IGZvciB0aGUgbm9kZSBvciB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogICAgICAgICAgU2lnbmF0dXJlOiBjYWxsYmFjayhub2RlOiBOb2RlLCBpbmRleDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBub2RlIG9yIGl0cyByZXBsYWNlbWVudFxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZ1bmN0aW9uIF90cmFuc2Zvcm0oY2hpbGQsIHBhdGgsIHBhcmVudCkge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gY2FsbGJhY2soY2hpbGQsIHBhdGgsIHBhcmVudCk7XG5cbiAgICAgIGlmIChyZXBsYWNlbWVudCAhPT0gY2hpbGQpIHtcbiAgICAgICAgLy8gc3RvcCBpdGVyYXRpbmcgd2hlbiB0aGUgbm9kZSBpcyByZXBsYWNlZFxuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZC5tYXAoX3RyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90cmFuc2Zvcm0odGhpcywgbnVsbCwgbnVsbCk7XG4gIH07XG4gIC8qKlxuICAgKiBGaW5kIGFueSBub2RlIGluIHRoZSBub2RlIHRyZWUgbWF0Y2hpbmcgZ2l2ZW4gZmlsdGVyIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZSwgdG9cbiAgICogZmluZCBhbGwgbm9kZXMgb2YgdHlwZSBTeW1ib2xOb2RlIGhhdmluZyBuYW1lICd4JzpcbiAgICpcbiAgICogICAgIGNvbnN0IHJlc3VsdHMgPSBOb2RlLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgKiAgICAgICByZXR1cm4gKG5vZGUgJiYgbm9kZS5pc1N5bWJvbE5vZGUpICYmIChub2RlLm5hbWUgPT09ICd4JylcbiAgICogICAgIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obm9kZTogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogICAgICAgICAgICBBIHRlc3QgZnVuY3Rpb24gcmV0dXJuaW5nIHRydWUgd2hlbiBhIG5vZGUgbWF0Y2hlcywgYW5kIGZhbHNlXG4gICAqICAgICAgICAgICAgb3RoZXJ3aXNlLiBGdW5jdGlvbiBzaWduYXR1cmU6XG4gICAqICAgICAgICAgICAgY2FsbGJhY2sobm9kZTogTm9kZSwgaW5kZXg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IGJvb2xlYW5cbiAgICogQHJldHVybiB7Tm9kZVtdfSBub2RlcyAgICAgICBBbiBhcnJheSB3aXRoIG5vZGVzIG1hdGNoaW5nIGdpdmVuIGZpbHRlciBjcml0ZXJpYVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBub2RlcyA9IFtdO1xuICAgIHRoaXMudHJhdmVyc2UoZnVuY3Rpb24gKG5vZGUsIHBhdGgsIHBhcmVudCkge1xuICAgICAgaWYgKGNhbGxiYWNrKG5vZGUsIHBhdGgsIHBhcmVudCkpIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaGFsbG93IGNsb25lIG9mIHRoaXMgbm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjbG9uZSBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkZWVwIGNsb25lIG9mIHRoaXMgbm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmNsb25lRGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmNsb25lRGVlcCgpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogRGVlcCBjb21wYXJlIHRoaXMgbm9kZSB3aXRoIGFub3RoZXIgbm9kZS5cbiAgICogQHBhcmFtIHtOb2RlfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBib3RoIG5vZGVzIGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICBjb250YWluIHRoZSBzYW1lIHZhbHVlcyAoYXMgZG8gdGhlaXIgY2hpbGRzKVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciA/IGRlZXBTdHJpY3RFcXVhbCh0aGlzLCBvdGhlcikgOiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwib3JcbiAgICogICAgICAgICAgICAgLy8gYSBtYXAgdGhhdCBtYXBzIGZ1bmN0aW9uIG5hbWVzICh1c2VkIGluIEZ1bmN0aW9uTm9kZXMpXG4gICAqICAgICAgICAgICAgIC8vIHRvIGNhbGxiYWNrc1xuICAgKiAgICBwYXJlbnRoZXNpczogXCJrZWVwXCIgLy90aGUgcGFyZW50aGVzaXMgb3B0aW9uIChUaGlzIGlzIG9wdGlvbmFsKVxuICAgKiB9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQm90aCAudG9KU09OKCkgYW5kIHRoZSBzdGF0aWMgLmZyb21KU09OKGpzb24pIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBhbGxcbiAgICogaW1wbGVtZW50YXRpb25zIG9mIE5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VyaWFsaXplIG9iamVjdDogdG9KU09OIG5vdCBpbXBsZW1lbnRlZCBieSAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIiBvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zLmhhbmRsZXIpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IG9yIGZ1bmN0aW9uIGV4cGVjdGVkIGFzIGNhbGxiYWNrJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21TdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3RyaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHRoZSBzdHJpbmcgb3V0cHV0LlxuICAgKiBUaGlzIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBldmVyeSBOb2RlXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdfdG9TdHJpbmcgbm90IGltcGxlbWVudGVkIGZvciAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCJvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21UZXg7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21UZXggPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21UZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3RvVGV4KG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIExhVGVYIG91dHB1dC5cbiAgICogVGhpcyBoYXMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgZXZlcnkgTm9kZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignX3RvVGV4IG5vdCBpbXBsZW1lbnRlZCBmb3IgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgY29udGVudCBvZiB0aGUgY3VycmVudCBOb2RlLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGUgc3ltYm9sIG5hbWVzIG9mIGEgc2NvcGUuXG4gICAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoZSBzY29wZSBjb250YWlucyBhbiBpbGxlZ2FsIHN5bWJvbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHNjb3BlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlU2NvcGUoc2NvcGUpIHtcbiAgICBmb3IgKHZhciBzeW1ib2wgaW4gc2NvcGUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzY29wZSwgc3ltYm9sKSkge1xuICAgICAgICBpZiAoc3ltYm9sIGluIGtleXdvcmRzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTY29wZSBjb250YWlucyBhbiBpbGxlZ2FsIHN5bWJvbCwgXCInICsgc3ltYm9sICsgJ1wiIGlzIGEgcmVzZXJ2ZWQga2V5d29yZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuLyoqXG4gKiBUcmFuc2Zvcm0gemVyby1iYXNlZCBpbmRpY2VzIHRvIG9uZS1iYXNlZCBpbmRpY2VzIGluIGVycm9yc1xuICogQHBhcmFtIHtFcnJvcn0gZXJyXG4gKiBAcmV0dXJucyB7RXJyb3IgfCBJbmRleEVycm9yfSBSZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCBlcnJvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcnJvclRyYW5zZm9ybShlcnIpIHtcbiAgaWYgKGVyciAmJiBlcnIuaXNJbmRleEVycm9yKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEVycm9yKGVyci5pbmRleCArIDEsIGVyci5taW4gKyAxLCBlcnIubWF4ICE9PSB1bmRlZmluZWQgPyBlcnIubWF4ICsgMSA6IHVuZGVmaW5lZCk7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufSIsImltcG9ydCB7IGVycm9yVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFjY2Vzc0ZhY3RvcnkoX3JlZikge1xuICB2YXIge1xuICAgIHN1YnNldFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUmV0cmlldmUgcGFydCBvZiBhbiBvYmplY3Q6XG4gICAqXG4gICAqIC0gUmV0cmlldmUgYSBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICAgKiAtIFJldHJpZXZlIGEgcGFydCBvZiBhIHN0cmluZ1xuICAgKiAtIFJldHJpZXZlIGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBvYmplY3RcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHJldHVybiB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IFJldHVybnMgdGhlIHN1YnNldFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFjY2VzcyhvYmplY3QsIGluZGV4KSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3Quc3Vic2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE1hdHJpeFxuICAgICAgICByZXR1cm4gb2JqZWN0LnN1YnNldChpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIFRPRE86IG1vdmUgZ2V0U3RyaW5nU3Vic2V0IGludG8gYSBzZXBhcmF0ZSB1dGlsIGZpbGUsIHVzZSB0aGF0XG4gICAgICAgIHJldHVybiBzdWJzZXQob2JqZWN0LCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICghaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGEgbnVtZXJpYyBpbmRleCBhcyBvYmplY3QgcHJvcGVydHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRTYWZlUHJvcGVydHkob2JqZWN0LCBpbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBpbmRleDogdW5zdXBwb3J0ZWQgdHlwZSBvZiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVycm9yVHJhbnNmb3JtKGVycik7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0FycmF5Tm9kZSwgaXNDb25zdGFudE5vZGUsIGlzRnVuY3Rpb25Ob2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc09iamVjdE5vZGUsIGlzUGFyZW50aGVzaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFjY2Vzc0ZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2FjY2Vzcy5qcyc7XG52YXIgbmFtZSA9ICdBY2Nlc3Nvck5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc3Vic2V0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWNjZXNzb3JOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG4gIHZhciBhY2Nlc3MgPSBhY2Nlc3NGYWN0b3J5KHtcbiAgICBzdWJzZXRcbiAgfSk7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQWNjZXNzb3JOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBY2Nlc3MgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGdldCBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBvYmplY3QgICAgICAgICAgICAgICAgIFRoZSBvYmplY3QgZnJvbSB3aGljaCB0byByZXRyaWV2ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBwcm9wZXJ0eSBvciBzdWJzZXQuXG4gICAqIEBwYXJhbSB7SW5kZXhOb2RlfSBpbmRleCAgICAgICAgICAgICBJbmRleE5vZGUgY29udGFpbmluZyByYW5nZXNcbiAgICovXG5cbiAgZnVuY3Rpb24gQWNjZXNzb3JOb2RlKG9iamVjdCwgaW5kZXgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWNjZXNzb3JOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZShvYmplY3QpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJvYmplY3RcIicpO1xuICAgIH1cblxuICAgIGlmICghaXNJbmRleE5vZGUoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleE5vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImluZGV4XCInKTtcbiAgICB9XG5cbiAgICB0aGlzLm9iamVjdCA9IG9iamVjdCB8fCBudWxsO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDsgLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0Lm5hbWUgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnR5cGUgPSAnQWNjZXNzb3JOb2RlJztcbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5pc0FjY2Vzc29yTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsSW5kZXggPSB0aGlzLmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIGlmICh0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgdmFyIHByb3AgPSB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFjY2Vzc29yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2FmZVByb3BlcnR5KGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBwcm9wKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQWNjZXNzb3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGluZGV4ID0gZXZhbEluZGV4KHNjb3BlLCBhcmdzLCBvYmplY3QpOyAvLyB3ZSBwYXNzIG9iamVjdCBoZXJlIGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgIHJldHVybiBhY2Nlc3Mob2JqZWN0LCBpbmRleCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLm9iamVjdCwgJ29iamVjdCcsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFjY2Vzc29yTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QWNjZXNzb3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcykpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QWNjZXNzb3JOb2RlfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUodGhpcy5vYmplY3QsIHRoaXMuaW5kZXgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnKCcgKyBvYmplY3QgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMub2JqZWN0KSkge1xuICAgICAgb2JqZWN0ID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgb2JqZWN0ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyB0aGlzLmluZGV4LnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnXFxcXGxlZnQoXFwnICsgb2JqZWN0ICsgXFwnXFxcXHJpZ2h0KSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9UZXgob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0FjY2Vzc29yTm9kZScsXG4gICAgICBvYmplY3Q6IHRoaXMub2JqZWN0LFxuICAgICAgaW5kZXg6IHRoaXMuaW5kZXhcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQWNjZXNzb3JOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBY2Nlc3Nvck5vZGVcIiwgb2JqZWN0OiAuLi4sIGluZGV4OiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QWNjZXNzb3JOb2RlfVxuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBY2Nlc3Nvck5vZGUoanNvbi5vYmplY3QsIGpzb24uaW5kZXgpO1xuICB9O1xuICAvKipcbiAgICogQXJlIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSkge1xuICAgIC8vIFRPRE86IG1heWJlIG1ha2UgYSBtZXRob2Qgb24gdGhlIG5vZGVzIHdoaWNoIHRlbGxzIHdoZXRoZXIgdGhleSBuZWVkIHBhcmVudGhlc2lzP1xuICAgIHJldHVybiAhKGlzQWNjZXNzb3JOb2RlKG5vZGUpIHx8IGlzQXJyYXlOb2RlKG5vZGUpIHx8IGlzQ29uc3RhbnROb2RlKG5vZGUpIHx8IGlzRnVuY3Rpb25Ob2RlKG5vZGUpIHx8IGlzT2JqZWN0Tm9kZShub2RlKSB8fCBpc1BhcmVudGhlc2lzTm9kZShub2RlKSB8fCBpc1N5bWJvbE5vZGUobm9kZSkpO1xuICB9XG5cbiAgcmV0dXJuIEFjY2Vzc29yTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdBcnJheU5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBcnJheU5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQXJyYXlOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhbiAxLWRpbWVuc2lvbmFsIGFycmF5IHdpdGggaXRlbXNcbiAgICogQHBhcmFtIHtOb2RlW119IFtpdGVtc10gICAxIGRpbWVuc2lvbmFsIGFycmF5IHdpdGggaXRlbXNcbiAgICovXG4gIGZ1bmN0aW9uIEFycmF5Tm9kZShpdGVtcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBcnJheU5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuaXRlbXMgPSBpdGVtcyB8fCBbXTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLml0ZW1zKSB8fCAhdGhpcy5pdGVtcy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdBcnJheU5vZGUnO1xuICBBcnJheU5vZGUucHJvdG90eXBlLmlzQXJyYXlOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsSXRlbXMgPSBtYXAodGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcbiAgICB2YXIgYXNNYXRyaXggPSBtYXRoLmNvbmZpZy5tYXRyaXggIT09ICdBcnJheSc7XG5cbiAgICBpZiAoYXNNYXRyaXgpIHtcbiAgICAgIHZhciBtYXRyaXggPSBtYXRoLm1hdHJpeDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXJyYXlOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXRyaXgobWFwKGV2YWxJdGVtcywgZnVuY3Rpb24gKGV2YWxJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxJdGVtKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBcnJheU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG1hcChldmFsSXRlbXMsIGZ1bmN0aW9uIChldmFsSXRlbSkge1xuICAgICAgICAgIHJldHVybiBldmFsSXRlbShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICBjYWxsYmFjayhub2RlLCAnaXRlbXNbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBcnJheU5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0FycmF5Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLml0ZW1zW2ldLCAnaXRlbXNbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFycmF5Tm9kZShpdGVtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0FycmF5Tm9kZX1cbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKHRoaXMuaXRlbXMuc2xpY2UoMCkpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiAnWycgKyBpdGVtcy5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBcnJheU5vZGUnLFxuICAgICAgaXRlbXM6IHRoaXMuaXRlbXNcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXJyYXlOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJBcnJheU5vZGVcIiwgaXRlbXM6IFsuLi5dfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0FycmF5Tm9kZX1cbiAgICovXG5cblxuICBBcnJheU5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKGpzb24uaXRlbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5bPC9zcGFuPicgKyBpdGVtcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5dPC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHMgPSAnXFxcXGJlZ2lue2JtYXRyaXh9JztcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLml0ZW1zKSB7XG4gICAgICAgIHMgKz0gbm9kZS5pdGVtcy5tYXAoZnVuY3Rpb24gKGNoaWxkTm9kZSkge1xuICAgICAgICAgIHJldHVybiBjaGlsZE5vZGUudG9UZXgob3B0aW9ucyk7XG4gICAgICAgIH0pLmpvaW4oJyYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgKz0gbm9kZS50b1RleChvcHRpb25zKTtcbiAgICAgIH0gLy8gbmV3IGxpbmVcblxuXG4gICAgICBzICs9ICdcXFxcXFxcXCc7XG4gICAgfSk7XG4gICAgcyArPSAnXFxcXGVuZHtibWF0cml4fSc7XG4gICAgcmV0dXJuIHM7XG4gIH07XG5cbiAgcmV0dXJuIEFycmF5Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCIvLyBsaXN0IG9mIGlkZW50aWZpZXJzIG9mIG5vZGVzIGluIG9yZGVyIG9mIHRoZWlyIHByZWNlZGVuY2Vcbi8vIGFsc28gY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgbGVmdC9yaWdodCBhc3NvY2lhdGl2aXR5XG4vLyBhbmQgd2hpY2ggb3RoZXIgb3BlcmF0b3IgdGhlIG9wZXJhdG9yIGlzIGFzc29jaWF0aXZlIHdpdGhcbi8vIEV4YW1wbGU6XG4vLyBhZGRpdGlvbiBpcyBhc3NvY2lhdGl2ZSB3aXRoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiwgYmVjYXVzZTpcbi8vIChhK2IpK2M9YSsoYitjKVxuLy8gKGErYiktYz1hKyhiLWMpXG4vL1xuLy8gcG9zdGZpeCBvcGVyYXRvcnMgYXJlIGxlZnQgYXNzb2NpYXRpdmUsIHByZWZpeCBvcGVyYXRvcnNcbi8vIGFyZSByaWdodCBhc3NvY2lhdGl2ZVxuLy9cbi8vIEl0J3MgYWxzbyBwb3NzaWJsZSB0byBzZXQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuLy8gbGF0ZXhQYXJlbnM6IGlmIHNldCB0byBmYWxzZSwgdGhpcyBub2RlIGRvZXNuJ3QgbmVlZCB0byBiZSBlbmNsb3NlZFxuLy8gICAgICAgICAgICAgIGluIHBhcmVudGhlc2VzIHdoZW4gdXNpbmcgTGFUZVhcbi8vIGxhdGV4TGVmdFBhcmVuczogaWYgc2V0IHRvIGZhbHNlLCB0aGlzICFPcGVyYXRvck5vZGUncyFcbi8vICAgICAgICAgICAgICAgICAgbGVmdCBhcmd1bWVudCBkb2Vzbid0IG5lZWQgdG8gYmUgZW5jbG9zZWRcbi8vICAgICAgICAgICAgICAgICAgaW4gcGFyZW50aGVzZXNcbi8vIGxhdGV4UmlnaHRQYXJlbnM6IHRoZSBzYW1lIGZvciB0aGUgcmlnaHQgYXJndW1lbnRcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0LmpzJztcbmV4cG9ydCB2YXIgcHJvcGVydGllcyA9IFt7XG4gIC8vIGFzc2lnbm1lbnRcbiAgQXNzaWdubWVudE5vZGU6IHt9LFxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlOiB7fVxufSwge1xuICAvLyBjb25kaXRpb25hbCBleHByZXNzaW9uXG4gIENvbmRpdGlvbmFsTm9kZToge1xuICAgIGxhdGV4TGVmdFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhQYXJlbnM6IGZhbHNlIC8vIGNvbmRpdGlvbmFscyBkb24ndCBuZWVkIHBhcmVudGhlc2VzIGluIExhVGVYIGJlY2F1c2VcbiAgICAvLyB0aGV5IGFyZSAyIGRpbWVuc2lvbmFsXG5cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIG9yXG4gICdPcGVyYXRvck5vZGU6b3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBsb2dpY2FsIHhvclxuICAnT3BlcmF0b3JOb2RlOnhvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgYW5kXG4gICdPcGVyYXRvck5vZGU6YW5kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSBvclxuICAnT3BlcmF0b3JOb2RlOmJpdE9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gYml0d2lzZSB4b3JcbiAgJ09wZXJhdG9yTm9kZTpiaXRYb3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIGFuZFxuICAnT3BlcmF0b3JOb2RlOmJpdEFuZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHJlbGF0aW9uYWwgb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6ZXF1YWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTp1bmVxdWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c21hbGxlcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmxhcmdlcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnNtYWxsZXJFcSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmxhcmdlckVxJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gIFJlbGF0aW9uYWxOb2RlOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXRzaGlmdCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTpsZWZ0U2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpyaWdodEFyaXRoU2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gdW5pdCBjb252ZXJzaW9uXG4gICdPcGVyYXRvck5vZGU6dG8nOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyByYW5nZVxuICBSYW5nZU5vZGU6IHt9XG59LCB7XG4gIC8vIGFkZGl0aW9uLCBzdWJ0cmFjdGlvblxuICAnT3BlcmF0b3JOb2RlOmFkZCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTphZGQnLCAnT3BlcmF0b3JOb2RlOnN1YnRyYWN0J11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzdWJ0cmFjdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIG11bHRpcGx5LCBkaXZpZGUsIG1vZHVsdXNcbiAgJ09wZXJhdG9yTm9kZTptdWx0aXBseSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbJ09wZXJhdG9yTm9kZTptdWx0aXBseScsICdPcGVyYXRvck5vZGU6ZGl2aWRlJywgJ09wZXJhdG9yOmRvdE11bHRpcGx5JywgJ09wZXJhdG9yOmRvdERpdmlkZSddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZGl2aWRlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdLFxuICAgIGxhdGV4TGVmdFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhSaWdodFBhcmVuczogZmFsc2UsXG4gICAgbGF0ZXhQYXJlbnM6IGZhbHNlIC8vIGZyYWN0aW9ucyBkb24ndCByZXF1aXJlIHBhcmVudGhlc2VzIGJlY2F1c2VcbiAgICAvLyB0aGV5J3JlIDIgZGltZW5zaW9uYWwsIHNvIHBhcmVucyBhcmVuJ3QgbmVlZGVkXG4gICAgLy8gaW4gTGFUZVhcblxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdE11bHRpcGx5Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOm11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkaXZpZGUnLCAnT3BlcmF0b3JOb2RlOmRvdE11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkb0RpdmlkZSddXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90RGl2aWRlJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bW9kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gdW5hcnkgcHJlZml4IG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOnVuYXJ5UGx1cyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6dW5hcnlNaW51cyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6Yml0Tm90Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpub3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9XG59LCB7XG4gIC8vIGV4cG9uZW50aWF0aW9uXG4gICdPcGVyYXRvck5vZGU6cG93Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSAvLyB0aGUgZXhwb25lbnQgZG9lc24ndCBuZWVkIHBhcmVudGhlc2VzIGluXG4gICAgLy8gTGFUZVggYmVjYXVzZSBpdCdzIDIgZGltZW5zaW9uYWxcbiAgICAvLyAoaXQncyBvbiB0b3ApXG5cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3RQb3cnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gZmFjdG9yaWFsXG4gICdPcGVyYXRvck5vZGU6ZmFjdG9yaWFsJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0J1xuICB9XG59LCB7XG4gIC8vIG1hdHJpeCB0cmFuc3Bvc2VcbiAgJ09wZXJhdG9yTm9kZTp0cmFuc3Bvc2UnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnXG4gIH1cbn1dO1xuLyoqXG4gKiBHZXQgdGhlIHByZWNlZGVuY2Ugb2YgYSBOb2RlLlxuICogSGlnaGVyIG51bWJlciBmb3IgaGlnaGVyIHByZWNlZGVuY2UsIHN0YXJ0aW5nIHdpdGggMC5cbiAqIFJldHVybnMgbnVsbCBpZiB0aGUgcHJlY2VkZW5jZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBfbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtudW1iZXIgfCBudWxsfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVjZWRlbmNlKF9ub2RlLCBwYXJlbnRoZXNpcykge1xuICB2YXIgbm9kZSA9IF9ub2RlO1xuXG4gIGlmIChwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnKSB7XG4gICAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgbm9kZSA9IF9ub2RlLmdldENvbnRlbnQoKTtcbiAgfVxuXG4gIHZhciBpZGVudGlmaWVyID0gbm9kZS5nZXRJZGVudGlmaWVyKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlkZW50aWZpZXIgaW4gcHJvcGVydGllc1tpXSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEdldCB0aGUgYXNzb2NpYXRpdml0eSBvZiBhbiBvcGVyYXRvciAobGVmdCBvciByaWdodCkuXG4gKiBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgJ2xlZnQnIG9yICdyaWdodCcgb3IgbnVsbCBpZlxuICogdGhlIGFzc29jaWF0aXZpdHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBfbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVsbH1cbiAqIEB0aHJvd3Mge0Vycm9yfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBc3NvY2lhdGl2aXR5KF9ub2RlLCBwYXJlbnRoZXNpcykge1xuICB2YXIgbm9kZSA9IF9ub2RlO1xuXG4gIGlmIChwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnKSB7XG4gICAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgbm9kZSA9IF9ub2RlLmdldENvbnRlbnQoKTtcbiAgfVxuXG4gIHZhciBpZGVudGlmaWVyID0gbm9kZS5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpbmRleCA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuXG4gIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgIC8vIG5vZGUgaXNuJ3QgaW4gdGhlIGxpc3RcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaW5kZXhdW2lkZW50aWZpZXJdO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSwgJ2Fzc29jaWF0aXZpdHknKSkge1xuICAgIGlmIChwcm9wZXJ0eS5hc3NvY2lhdGl2aXR5ID09PSAnbGVmdCcpIHtcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZpdHkgPT09ICdyaWdodCcpIHtcbiAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH0gLy8gYXNzb2NpYXRpdml0eSBpcyBpbnZhbGlkXG5cblxuICAgIHRocm93IEVycm9yKCdcXCcnICsgaWRlbnRpZmllciArICdcXCcgaGFzIHRoZSBpbnZhbGlkIGFzc29jaWF0aXZpdHkgXFwnJyArIHByb3BlcnR5LmFzc29jaWF0aXZpdHkgKyAnXFwnLicpO1xuICB9IC8vIGFzc29jaWF0aXZpdHkgaXMgdW5kZWZpbmVkXG5cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYW4gb3BlcmF0b3IgaXMgYXNzb2NpYXRpdmUgd2l0aCBhbm90aGVyIG9wZXJhdG9yLlxuICogUmV0dXJucyBlaXRoZXIgdHJ1ZSBvciBmYWxzZSBvciBudWxsIGlmIG5vdCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZUFcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZUJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRoZXNpc1xuICogQHJldHVybiB7Ym9vbGVhbiB8IG51bGx9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXNzb2NpYXRpdmVXaXRoKG5vZGVBLCBub2RlQiwgcGFyZW50aGVzaXMpIHtcbiAgLy8gUGFyZW50aGVzaXNOb2RlcyBhcmUgb25seSBpZ25vcmVkIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gIHZhciBhID0gcGFyZW50aGVzaXMgIT09ICdrZWVwJyA/IG5vZGVBLmdldENvbnRlbnQoKSA6IG5vZGVBO1xuICB2YXIgYiA9IHBhcmVudGhlc2lzICE9PSAna2VlcCcgPyBub2RlQS5nZXRDb250ZW50KCkgOiBub2RlQjtcbiAgdmFyIGlkZW50aWZpZXJBID0gYS5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpZGVudGlmaWVyQiA9IGIuZ2V0SWRlbnRpZmllcigpO1xuICB2YXIgaW5kZXggPSBnZXRQcmVjZWRlbmNlKGEsIHBhcmVudGhlc2lzKTtcblxuICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAvLyBub2RlIGlzbid0IGluIHRoZSBsaXN0XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2luZGV4XVtpZGVudGlmaWVyQV07XG5cbiAgaWYgKGhhc093blByb3BlcnR5KHByb3BlcnR5LCAnYXNzb2NpYXRpdmVXaXRoJykgJiYgcHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZlV2l0aFtpXSA9PT0gaWRlbnRpZmllckIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGFzc29jaWF0aXZlV2l0aCBpcyBub3QgZGVmaW5lZFxuXG5cbiAgcmV0dXJuIG51bGw7XG59IiwiaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBhY2Nlc3NGYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hY2Nlc3MuanMnO1xuaW1wb3J0IHsgYXNzaWduRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYXNzaWduLmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnQXNzaWdubWVudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc3Vic2V0JywgJz9tYXRyaXgnLCAvLyBGSVhNRTogc2hvdWxkIG5vdCBiZSBuZWVkZWQgYXQgYWxsLCBzaG91bGQgYmUgaGFuZGxlZCBieSBzdWJzZXRcbidOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFzc2lnbm1lbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuICB2YXIgYWNjZXNzID0gYWNjZXNzRmFjdG9yeSh7XG4gICAgc3Vic2V0XG4gIH0pO1xuICB2YXIgYXNzaWduID0gYXNzaWduRmFjdG9yeSh7XG4gICAgc3Vic2V0LFxuICAgIG1hdHJpeFxuICB9KTtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBc3NpZ25tZW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICpcbiAgICogRGVmaW5lIGEgc3ltYm9sLCBsaWtlIGBhPTMuMmAsIHVwZGF0ZSBhIHByb3BlcnR5IGxpa2UgYGEuYj0zLjJgLCBvclxuICAgKiByZXBsYWNlIGEgc3Vic2V0IG9mIGEgbWF0cml4IGxpa2UgYEFbMiwyXT00MmAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG5ldyBBc3NpZ25tZW50Tm9kZShzeW1ib2wsIHZhbHVlKVxuICAgKiAgICAgbmV3IEFzc2lnbm1lbnROb2RlKG9iamVjdCwgaW5kZXgsIHZhbHVlKVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICpcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBDb25zdGFudE5vZGUoMikpICAgICAgICAgICAgICAgICAgICAgICAvLyBhPTJcbiAgICogICAgbmV3IEFzc2lnbm1lbnROb2RlKG5ldyBTeW1ib2xOb2RlKCdhJyksIG5ldyBJbmRleE5vZGUoJ2InKSwgbmV3IENvbnN0YW50Tm9kZSgyKSkgICAvLyBhLmI9MlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IEluZGV4Tm9kZSgxLCAyKSwgbmV3IENvbnN0YW50Tm9kZSgzKSkgIC8vIGFbMSwyXT0zXG4gICAqXG4gICAqIEBwYXJhbSB7U3ltYm9sTm9kZSB8IEFjY2Vzc29yTm9kZX0gb2JqZWN0ICBPYmplY3Qgb24gd2hpY2ggdG8gYXNzaWduIGEgdmFsdWVcbiAgICogQHBhcmFtIHtJbmRleE5vZGV9IFtpbmRleD1udWxsXSAgICAgICAgICAgIEluZGV4LCBwcm9wZXJ0eSBuYW1lIG9yIG1hdHJpeFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXguIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBgb2JqZWN0YCBpcyBhIFN5bWJvbE5vZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgcHJvcGVydHkgaXMgYXNzaWduZWQgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwgc2NvcGUuXG4gICAqIEBwYXJhbSB7Tm9kZX0gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICBUaGUgdmFsdWUgdG8gYmUgYXNzaWduZWRcbiAgICovXG5cbiAgZnVuY3Rpb24gQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQXNzaWdubWVudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMuaW5kZXggPSB2YWx1ZSA/IGluZGV4IDogbnVsbDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgfHwgaW5kZXg7IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAoIWlzU3ltYm9sTm9kZShvYmplY3QpICYmICFpc0FjY2Vzc29yTm9kZShvYmplY3QpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2xOb2RlIG9yIEFjY2Vzc29yTm9kZSBleHBlY3RlZCBhcyBcIm9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzU3ltYm9sTm9kZShvYmplY3QpICYmIG9iamVjdC5uYW1lID09PSAnZW5kJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIHRvIHN5bWJvbCBcImVuZFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW5kZXggJiYgIWlzSW5kZXhOb2RlKHRoaXMuaW5kZXgpKSB7XG4gICAgICAvLyBpbmRleCBpcyBvcHRpb25hbFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXhOb2RlIGV4cGVjdGVkIGFzIFwiaW5kZXhcIicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKHRoaXMudmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGFzIFwidmFsdWVcIicpO1xuICAgIH0gLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCkgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3QubmFtZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQXNzaWdubWVudE5vZGUnO1xuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuaXNBc3NpZ25tZW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxJbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSA6IG51bGw7XG5cbiAgICB2YXIgZXZhbFZhbHVlID0gdGhpcy52YWx1ZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgbmFtZSA9IHRoaXMub2JqZWN0Lm5hbWU7XG5cbiAgICBpZiAoIXRoaXMuaW5kZXgpIHtcbiAgICAgIC8vIGFwcGx5IGEgdmFyaWFibGUgdG8gdGhlIHNjb3BlLCBmb3IgZXhhbXBsZSBgYT0yYFxuICAgICAgaWYgKCFpc1N5bWJvbE5vZGUodGhpcy5vYmplY3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbE5vZGUgZXhwZWN0ZWQgYXMgb2JqZWN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIC8vIGFwcGx5IGFuIG9iamVjdCBwcm9wZXJ0eSBmb3IgZXhhbXBsZSBgYS5iPTJgXG4gICAgICB2YXIgcHJvcCA9IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzU3ltYm9sTm9kZSh0aGlzLm9iamVjdCkpIHtcbiAgICAgIC8vIHVwZGF0ZSBhIG1hdHJpeCBzdWJzZXQsIGZvciBleGFtcGxlIGBhWzJdPTNgXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiAgd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICBzZXRTYWZlUHJvcGVydHkoc2NvcGUsIG5hbWUsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlzQWNjZXNzb3JOb2RlKG5vZGUub2JqZWN0KSA9PT0gdHJ1ZVxuICAgICAgLy8gdXBkYXRlIGEgbWF0cml4IHN1YnNldCwgZm9yIGV4YW1wbGUgYGEuYlsyXT0zYFxuICAgICAgLy8gd2Ugd2lsbCBub3QgdXNlIHRoZSBjb21waWxlIGZ1bmN0aW9uIG9mIHRoZSBBY2Nlc3Nvck5vZGUsIGJ1dCBjb21waWxlIGl0XG4gICAgICAvLyBvdXJzZWx2ZXMgaGVyZSBhcyB3ZSBuZWVkIHRoZSBwYXJlbnQgb2JqZWN0IG9mIHRoZSBBY2Nlc3Nvck5vZGU6XG4gICAgICAvLyB3ZWUgbmVlZCB0byBhcHBseSB0aGUgdXBkYXRlZCBvYmplY3QgdG8gcGFyZW50IG9iamVjdFxuICAgICAgdmFyIGV2YWxQYXJlbnRPYmplY3QgPSB0aGlzLm9iamVjdC5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICBpZiAodGhpcy5vYmplY3QuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgIHZhciBwYXJlbnRQcm9wID0gdGhpcy5vYmplY3QuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBldmFsUGFyZW50T2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICB2YXIgY2hpbGRPYmplY3QgPSBnZXRTYWZlUHJvcGVydHkocGFyZW50LCBwYXJlbnRQcm9wKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICBzZXRTYWZlUHJvcGVydHkocGFyZW50LCBwYXJlbnRQcm9wLCBhc3NpZ24oY2hpbGRPYmplY3QsIGluZGV4LCB2YWx1ZSkpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIHNvbWUgcGFyYW1ldGVycyB1c2UgdGhlICdlbmQnIHBhcmFtZXRlciwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHNpemVcbiAgICAgICAgdmFyIGV2YWxQYXJlbnRJbmRleCA9IHRoaXMub2JqZWN0LmluZGV4Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGV2YWxQYXJlbnRPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IGV2YWxQYXJlbnRJbmRleChzY29wZSwgYXJncywgcGFyZW50KTsgLy8gSW1wb3J0YW50OiB3ZSBwYXNzIHBhcmVudCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGFjY2VzcyhwYXJlbnQsIHBhcmVudEluZGV4KTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIGNoaWxkT2JqZWN0KTsgLy8gSW1wb3J0YW50OiAgd2UgcGFzcyBjaGlsZE9iamVjdCBpbnN0ZWFkIG9mIGNvbnRleHRcblxuICAgICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgYXNzaWduKHBhcmVudCwgcGFyZW50SW5kZXgsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcyk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSwgJ3ZhbHVlJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQXNzaWdubWVudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Fzc2lnbm1lbnROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcykpO1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKSkgOiBudWxsO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMudmFsdWUsICd2YWx1ZScsIHRoaXMpKTtcblxuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZSh0aGlzLm9iamVjdCwgdGhpcy5pbmRleCwgdGhpcy52YWx1ZSk7XG4gIH07XG4gIC8qXG4gICAqIElzIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHBhcmFtIHtub2RlfSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyZW50aGVzaXM9J2tlZXAnXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIGlmICghcGFyZW50aGVzaXMpIHtcbiAgICAgIHBhcmVudGhlc2lzID0gJ2tlZXAnO1xuICAgIH1cblxuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGV4cHJQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnZhbHVlLCBwYXJlbnRoZXNpcyk7XG4gICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBleHByUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBleHByUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9TdHJpbmcob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9ICcoJyArIHZhbHVlICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICcgPSAnICsgdmFsdWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQXNzaWdubWVudE5vZGUnLFxuICAgICAgb2JqZWN0OiB0aGlzLm9iamVjdCxcbiAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFzc2lnbm1lbnROb2RlXCIsIG9iamVjdDogLi4uLCBpbmRleDogLi4uLCB2YWx1ZTogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Fzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKGpzb24ub2JqZWN0LCBqc29uLmluZGV4LCBqc29uLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggPyB0aGlzLmluZGV4LnRvSFRNTChvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHZhbHVlICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3QgKyBpbmRleCArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtdmFyaWFibGUtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPj08L3NwYW4+JyArIHZhbHVlO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QudG9UZXgob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9UZXgob3B0aW9ucykgOiAnJztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMpKSB7XG4gICAgICB2YWx1ZSA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHZhbHVlLCBcIlxcXFxyaWdodClcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJzo9JyArIHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBBc3NpZ25tZW50Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBlcnJvclRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS91dGlscy9lcnJvclRyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25GYWN0b3J5KF9yZWYpIHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHBhcnQgb2YgYW4gb2JqZWN0OlxuICAgKlxuICAgKiAtIEFzc2lnbiBhIHByb3BlcnR5IHRvIGFuIG9iamVjdFxuICAgKiAtIFJlcGxhY2UgYSBwYXJ0IG9mIGEgc3RyaW5nXG4gICAqIC0gUmVwbGFjZSBhIG1hdHJpeCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gb2JqZWN0XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHJldHVybiB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IFJldHVybnMgdGhlIG9yaWdpbmFsIG9iamVjdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IGluIGNhc2Ugb2YgYSBzdHJpbmdcbiAgICovXG4gIC8vIFRPRE86IGNoYW5nZSBhc3NpZ24gdG8gcmV0dXJuIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRoZSBvYmplY3RcbiAgcmV0dXJuIGZ1bmN0aW9uIGFzc2lnbihvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIC8vIHdlIHVzZSBtYXRyaXguc3Vic2V0IGhlcmUgaW5zdGVhZCBvZiB0aGUgZnVuY3Rpb24gc3Vic2V0IGJlY2F1c2Ugd2UgbXVzdCBub3QgY2xvbmUgdGhlIGNvbnRlbnRzXG4gICAgICAgIHJldHVybiBtYXRyaXgob2JqZWN0KS5zdWJzZXQoaW5kZXgsIHZhbHVlKS52YWx1ZU9mKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LnN1YnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBNYXRyaXhcbiAgICAgICAgcmV0dXJuIG9iamVjdC5zdWJzZXQoaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSBzZXRTdHJpbmdTdWJzZXQgaW50byBhIHNlcGFyYXRlIHV0aWwgZmlsZSwgdXNlIHRoYXRcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICghaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgYSBudW1lcmljIGluZGV4IGFzIG9iamVjdCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0U2FmZVByb3BlcnR5KG9iamVjdCwgaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGluZGV4OiB1bnN1cHBvcnRlZCB0eXBlIG9mIG9iamVjdCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyb3JUcmFuc2Zvcm0oZXJyKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZm9yRWFjaCwgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQmxvY2tOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ1Jlc3VsdFNldCcsICdOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUJsb2NrTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIFJlc3VsdFNldCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgQmxvY2tOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBIb2xkcyBhIHNldCB3aXRoIGJsb2Nrc1xuICAgKiBAcGFyYW0ge0FycmF5Ljx7bm9kZTogTm9kZX0gfCB7bm9kZTogTm9kZSwgdmlzaWJsZTogYm9vbGVhbn0+fSBibG9ja3NcbiAgICogICAgICAgICAgICBBbiBhcnJheSB3aXRoIGJsb2Nrcywgd2hlcmUgYSBibG9jayBpcyBjb25zdHJ1Y3RlZCBhcyBhbiBPYmplY3RcbiAgICogICAgICAgICAgICB3aXRoIHByb3BlcnRpZXMgYmxvY2ssIHdoaWNoIGlzIGEgTm9kZSwgYW5kIHZpc2libGUsIHdoaWNoIGlzXG4gICAqICAgICAgICAgICAgYSBib29sZWFuLiBUaGUgcHJvcGVydHkgdmlzaWJsZSBpcyBvcHRpb25hbCBhbmQgaXMgdHJ1ZSBieSBkZWZhdWx0XG4gICAqL1xuICBmdW5jdGlvbiBCbG9ja05vZGUoYmxvY2tzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJsb2NrTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dCwgY29weSBibG9ja3NcblxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJsb2NrcykpIHRocm93IG5ldyBFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB0aGlzLmJsb2NrcyA9IGJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICB2YXIgbm9kZSA9IGJsb2NrICYmIGJsb2NrLm5vZGU7XG4gICAgICB2YXIgdmlzaWJsZSA9IGJsb2NrICYmIGJsb2NrLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IGJsb2NrLnZpc2libGUgOiB0cnVlO1xuICAgICAgaWYgKCFpc05vZGUobm9kZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3BlcnR5IFwibm9kZVwiIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgICBpZiAodHlwZW9mIHZpc2libGUgIT09ICdib29sZWFuJykgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgXCJ2aXNpYmxlXCIgbXVzdCBiZSBhIGJvb2xlYW4nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBCbG9ja05vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50eXBlID0gJ0Jsb2NrTm9kZSc7XG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuaXNCbG9ja05vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxCbG9ja3MgPSBtYXAodGhpcy5ibG9ja3MsIGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXZhbHVhdGU6IGJsb2NrLm5vZGUuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQmxvY2tOb2RlcyhzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvckVhY2goZXZhbEJsb2NrcywgZnVuY3Rpb24gZXZhbEJsb2NrTm9kZShibG9jaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmxvY2suZXZhbHVhdGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChibG9jay52aXNpYmxlKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBSZXN1bHRTZXQocmVzdWx0cyk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgYmxvY2tzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5ibG9ja3NbaV0ubm9kZSwgJ2Jsb2Nrc1snICsgaSArICddLm5vZGUnLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQmxvY2tOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtCbG9ja05vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYmxvY2tzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYmxvY2sgPSB0aGlzLmJsb2Nrc1tpXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2soYmxvY2subm9kZSwgJ2Jsb2Nrc1snICsgaSArICddLm5vZGUnLCB0aGlzKSk7XG5cbiAgICAgIGJsb2Nrc1tpXSA9IHtcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtCbG9ja05vZGV9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZTogYmxvY2subm9kZSxcbiAgICAgICAgdmlzaWJsZTogYmxvY2sudmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvU3RyaW5nKG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc7Jyk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Jsb2NrTm9kZScsXG4gICAgICBibG9ja3M6IHRoaXMuYmxvY2tzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEJsb2NrTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQmxvY2tOb2RlXCIsIGJsb2NrczogW3tub2RlOiAuLi4sIHZpc2libGU6IGZhbHNlfSwgLi4uXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtCbG9ja05vZGV9XG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShqc29uLmJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS5ub2RlLnRvSFRNTChvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPjs8L3NwYW4+Jyk7XG4gICAgfSkuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPjxiciAvPjwvc3Bhbj4nKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9UZXgob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzsnKTtcbiAgICB9KS5qb2luKCdcXFxcO1xcXFw7XFxuJyk7XG4gIH07XG5cbiAgcmV0dXJuIEJsb2NrTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc0JpZ051bWJlciwgaXNDb21wbGV4LCBpc05vZGUsIGlzVW5pdCwgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdDb25kaXRpb25hbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVDb25kaXRpb25hbE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBBIGxhenkgZXZhbHVhdGluZyBjb25kaXRpb25hbCBvcGVyYXRvcjogJ2NvbmRpdGlvbiA/IHRydWVFeHByIDogZmFsc2VFeHByJ1xuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGNvbmRpdGlvbiAgIENvbmRpdGlvbiwgbXVzdCByZXN1bHQgaW4gYSBib29sZWFuXG4gICAqIEBwYXJhbSB7Tm9kZX0gdHJ1ZUV4cHIgICAgRXhwcmVzc2lvbiBldmFsdWF0ZWQgd2hlbiBjb25kaXRpb24gaXMgdHJ1ZVxuICAgKiBAcGFyYW0ge05vZGV9IGZhbHNlRXhwciAgIEV4cHJlc3Npb24gZXZhbHVhdGVkIHdoZW4gY29uZGl0aW9uIGlzIHRydWVcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yIENvbmRpdGlvbmFsTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIENvbmRpdGlvbmFsTm9kZShjb25kaXRpb24sIHRydWVFeHByLCBmYWxzZUV4cHIpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29uZGl0aW9uYWxOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTm9kZShjb25kaXRpb24pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgY29uZGl0aW9uIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgaWYgKCFpc05vZGUodHJ1ZUV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgdHJ1ZUV4cHIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICBpZiAoIWlzTm9kZShmYWxzZUV4cHIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgZmFsc2VFeHByIG11c3QgYmUgYSBOb2RlJyk7XG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgdGhpcy50cnVlRXhwciA9IHRydWVFeHByO1xuICAgIHRoaXMuZmFsc2VFeHByID0gZmFsc2VFeHByO1xuICB9XG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudHlwZSA9ICdDb25kaXRpb25hbE5vZGUnO1xuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmlzQ29uZGl0aW9uYWxOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsQ29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxUcnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxGYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbENvbmRpdGlvbmFsTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRlc3RDb25kaXRpb24oZXZhbENvbmRpdGlvbihzY29wZSwgYXJncywgY29udGV4dCkpID8gZXZhbFRydWVFeHByKHNjb3BlLCBhcmdzLCBjb250ZXh0KSA6IGV2YWxGYWxzZUV4cHIoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5jb25kaXRpb24sICdjb25kaXRpb24nLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLnRydWVFeHByLCAndHJ1ZUV4cHInLCB0aGlzKTtcbiAgICBjYWxsYmFjayh0aGlzLmZhbHNlRXhwciwgJ2ZhbHNlRXhwcicsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IENvbmRpdGlvbmFsTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7Q29uZGl0aW9uYWxOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuY29uZGl0aW9uLCAnY29uZGl0aW9uJywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy50cnVlRXhwciwgJ3RydWVFeHByJywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5mYWxzZUV4cHIsICdmYWxzZUV4cHInLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtDb25kaXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbiwgdGhpcy50cnVlRXhwciwgdGhpcy5mYWxzZUV4cHIpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIEVuY2xvc2UgQXJndW1lbnRzIGluIHBhcmVudGhlc2VzIGlmIHRoZXkgYXJlIGFuIE9wZXJhdG9yTm9kZVxuICAgIC8vIG9yIGhhdmUgbG93ZXIgb3IgZXF1YWwgcHJlY2VkZW5jZVxuICAgIC8vIE5PVEU6IGVuY2xvc2luZyBhbGwgT3BlcmF0b3JOb2RlcyBpbiBwYXJlbnRoZXNlcyBpcyBhIGRlY2lzaW9uXG4gICAgLy8gcHVyZWx5IGJhc2VkIG9uIGFlc3RoZXRpY3MgYW5kIHJlYWRhYmlsaXR5XG5cbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24udG9TdHJpbmcob3B0aW9ucyk7XG4gICAgdmFyIGNvbmRpdGlvblByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuY29uZGl0aW9uLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuY29uZGl0aW9uLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGNvbmRpdGlvblByZWNlZGVuY2UgIT09IG51bGwgJiYgY29uZGl0aW9uUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBjb25kaXRpb24gPSAnKCcgKyBjb25kaXRpb24gKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIHRydWVFeHByID0gdGhpcy50cnVlRXhwci50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgdHJ1ZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMudHJ1ZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy50cnVlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCB0cnVlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiB0cnVlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICB0cnVlRXhwciA9ICcoJyArIHRydWVFeHByICsgJyknO1xuICAgIH1cblxuICAgIHZhciBmYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgZmFsc2VQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLmZhbHNlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLmZhbHNlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCBmYWxzZVByZWNlZGVuY2UgIT09IG51bGwgJiYgZmFsc2VQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGZhbHNlRXhwciA9ICcoJyArIGZhbHNlRXhwciArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZGl0aW9uICsgJyA/ICcgKyB0cnVlRXhwciArICcgOiAnICsgZmFsc2VFeHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdDb25kaXRpb25hbE5vZGUnLFxuICAgICAgY29uZGl0aW9uOiB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRydWVFeHByOiB0aGlzLnRydWVFeHByLFxuICAgICAgZmFsc2VFeHByOiB0aGlzLmZhbHNlRXhwclxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBDb25kaXRpb25hbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkNvbmRpdGlvbmFsTm9kZVwiLCBcImNvbmRpdGlvblwiOiAuLi4sIFwidHJ1ZUV4cHJcIjogLi4uLCBcImZhbHNlRXhwclwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7Q29uZGl0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbE5vZGUoanNvbi5jb25kaXRpb24sIGpzb24udHJ1ZUV4cHIsIGpzb24uZmFsc2VFeHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gRW5jbG9zZSBBcmd1bWVudHMgaW4gcGFyZW50aGVzZXMgaWYgdGhleSBhcmUgYW4gT3BlcmF0b3JOb2RlXG4gICAgLy8gb3IgaGF2ZSBsb3dlciBvciBlcXVhbCBwcmVjZWRlbmNlXG4gICAgLy8gTk9URTogZW5jbG9zaW5nIGFsbCBPcGVyYXRvck5vZGVzIGluIHBhcmVudGhlc2VzIGlzIGEgZGVjaXNpb25cbiAgICAvLyBwdXJlbHkgYmFzZWQgb24gYWVzdGhldGljcyBhbmQgcmVhZGFiaWxpdHlcblxuICAgIHZhciBjb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGNvbmRpdGlvblByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuY29uZGl0aW9uLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuY29uZGl0aW9uLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGNvbmRpdGlvblByZWNlZGVuY2UgIT09IG51bGwgJiYgY29uZGl0aW9uUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBjb25kaXRpb24gPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBjb25kaXRpb24gKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgdmFyIHRydWVFeHByID0gdGhpcy50cnVlRXhwci50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIHRydWVQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLnRydWVFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMudHJ1ZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgdHJ1ZVByZWNlZGVuY2UgIT09IG51bGwgJiYgdHJ1ZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgdHJ1ZUV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB0cnVlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICB2YXIgZmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIudG9IVE1MKG9wdGlvbnMpO1xuICAgIHZhciBmYWxzZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuZmFsc2VFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuZmFsc2VFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGZhbHNlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBmYWxzZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgZmFsc2VFeHByID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgZmFsc2VFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiBjb25kaXRpb24gKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtY29uZGl0aW9uYWwtb3BlcmF0b3JcIj4/PC9zcGFuPicgKyB0cnVlRXhwciArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1jb25kaXRpb25hbC1vcGVyYXRvclwiPjo8L3NwYW4+JyArIGZhbHNlRXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJ1xcXFxiZWdpbntjYXNlc30geycgKyB0aGlzLnRydWVFeHByLnRvVGV4KG9wdGlvbnMpICsgJ30sICZcXFxccXVhZHtcXFxcdGV4dHtpZiB9XFxcXDsnICsgdGhpcy5jb25kaXRpb24udG9UZXgob3B0aW9ucykgKyAnfVxcXFxcXFxceycgKyB0aGlzLmZhbHNlRXhwci50b1RleChvcHRpb25zKSArICd9LCAmXFxcXHF1YWR7XFxcXHRleHR7b3RoZXJ3aXNlfX1cXFxcZW5ke2Nhc2VzfSc7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSBjb25kaXRpb24gaXMgbWV0XG4gICAqIEBwYXJhbSB7Kn0gY29uZGl0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGNvbmRpdGlvbiBpcyB0cnVlIG9yIG5vbi16ZXJvLCBlbHNlIGZhbHNlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gdGVzdENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGNvbmRpdGlvbiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBjb25kaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gISFjb25kaXRpb247XG4gICAgfVxuXG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICFjb25kaXRpb24uaXNaZXJvKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbXBsZXgoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gISEoY29uZGl0aW9uLnJlIHx8IGNvbmRpdGlvbi5pbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1VuaXQoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gISFjb25kaXRpb24udmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmRpdGlvbiA9PT0gbnVsbCB8fCBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgb2YgY29uZGl0aW9uIFwiJyArIHR5cGVPZihjb25kaXRpb24pICsgJ1wiJyk7XG4gIH1cblxuICByZXR1cm4gQ29uZGl0aW9uYWxOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBNYXAgdGhlIGNoYXJhY3RlcnMgdG8gZXNjYXBlIHRvIHRoZWlyIGVzY2FwZWQgdmFsdWVzLiBUaGUgbGlzdCBpcyBkZXJpdmVkXG4vLyBmcm9tIGh0dHA6Ly93d3cuY2VzcGVkZXMub3JnL2Jsb2cvODUvaG93LXRvLWVzY2FwZS1sYXRleC1zcGVjaWFsLWNoYXJhY3RlcnNcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIGRlZmF1bHRFc2NhcGVzID0ge1xuICBcIntcIjogXCJcXFxce1wiLFxuICBcIn1cIjogXCJcXFxcfVwiLFxuICBcIlxcXFxcIjogXCJcXFxcdGV4dGJhY2tzbGFzaHt9XCIsXG4gIFwiI1wiOiBcIlxcXFwjXCIsXG4gICQ6IFwiXFxcXCRcIixcbiAgXCIlXCI6IFwiXFxcXCVcIixcbiAgXCImXCI6IFwiXFxcXCZcIixcbiAgXCJeXCI6IFwiXFxcXHRleHRhc2NpaWNpcmN1bXt9XCIsXG4gIF86IFwiXFxcXF9cIixcbiAgXCJ+XCI6IFwiXFxcXHRleHRhc2NpaXRpbGRle31cIlxufTtcbnZhciBmb3JtYXRFc2NhcGVzID0ge1xuICBcIlxcdTIwMTNcIjogXCJcXFxcLS1cIixcbiAgXCJcXHUyMDE0XCI6IFwiXFxcXC0tLVwiLFxuICBcIiBcIjogXCJ+XCIsXG4gIFwiXFx0XCI6IFwiXFxcXHFxdWFke31cIixcbiAgXCJcXHJcXG5cIjogXCJcXFxcbmV3bGluZXt9XCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5ld2xpbmV7fVwiXG59O1xuXG52YXIgZGVmYXVsdEVzY2FwZU1hcEZuID0gZnVuY3Rpb24gZGVmYXVsdEVzY2FwZU1hcEZuKGRlZmF1bHRFc2NhcGVzLCBmb3JtYXRFc2NhcGVzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVmYXVsdEVzY2FwZXMsIGZvcm1hdEVzY2FwZXMpO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgYSBzdHJpbmcgdG8gYmUgdXNlZCBpbiBMYVRlWCBkb2N1bWVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBzdHJpbmcgdG8gYmUgZXNjYXBlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW1zLnByZXNlcnZlRm9ybWF0dGluZyB3aGV0aGVyIGZvcm1hdHRpbmcgZXNjYXBlcyBzaG91bGRcbiAqICBiZSBwZXJmb3JtZWQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmFtcy5lc2NhcGVNYXBGbiB0aGUgZnVuY3Rpb24gdG8gbW9kaWZ5IHRoZSBlc2NhcGUgbWFwcy5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQgc3RyaW5nLCByZWFkeSB0byBiZSB1c2VkIGluIExhVGVYLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpID0gX3JlZi5wcmVzZXJ2ZUZvcm1hdHRpbmcsXG4gICAgICBwcmVzZXJ2ZUZvcm1hdHRpbmcgPSBfcmVmJHByZXNlcnZlRm9ybWF0dGkgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpLFxuICAgICAgX3JlZiRlc2NhcGVNYXBGbiA9IF9yZWYuZXNjYXBlTWFwRm4sXG4gICAgICBlc2NhcGVNYXBGbiA9IF9yZWYkZXNjYXBlTWFwRm4gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRFc2NhcGVNYXBGbiA6IF9yZWYkZXNjYXBlTWFwRm47XG5cbiAgdmFyIHJ1bm5pbmdTdHIgPSBTdHJpbmcoc3RyKTtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgdmFyIGVzY2FwZXMgPSBlc2NhcGVNYXBGbihfZXh0ZW5kcyh7fSwgZGVmYXVsdEVzY2FwZXMpLCBwcmVzZXJ2ZUZvcm1hdHRpbmcgPyBfZXh0ZW5kcyh7fSwgZm9ybWF0RXNjYXBlcykgOiB7fSk7XG4gIHZhciBlc2NhcGVLZXlzID0gT2JqZWN0LmtleXMoZXNjYXBlcyk7IC8vIGFzIGl0IGlzIHJldXNlZCBsYXRlciBvblxuXG4gIC8vIEFsZ29yaXRobTogR28gdGhyb3VnaCB0aGUgc3RyaW5nIGNoYXJhY3RlciBieSBjaGFyYWN0ZXIsIGlmIGl0IG1hdGNoZXNcbiAgLy8gd2l0aCBvbmUgb2YgdGhlIHNwZWNpYWwgY2hhcmFjdGVycyB0aGVuIHdlJ2xsIHJlcGxhY2UgaXQgd2l0aCB0aGUgZXNjYXBlZFxuICAvLyB2ZXJzaW9uLlxuXG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgIHZhciBzcGVjaWFsQ2hhckZvdW5kID0gZmFsc2U7XG4gICAgZXNjYXBlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICBpZiAoc3BlY2lhbENoYXJGb3VuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocnVubmluZ1N0ci5sZW5ndGggPj0ga2V5Lmxlbmd0aCAmJiBydW5uaW5nU3RyLnNsaWNlKDAsIGtleS5sZW5ndGgpID09PSBrZXkpIHtcbiAgICAgICAgcmVzdWx0ICs9IGVzY2FwZXNbZXNjYXBlS2V5c1tpbmRleF1dO1xuICAgICAgICBydW5uaW5nU3RyID0gcnVubmluZ1N0ci5zbGljZShrZXkubGVuZ3RoLCBydW5uaW5nU3RyLmxlbmd0aCk7XG4gICAgICAgIHNwZWNpYWxDaGFyRm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghc3BlY2lhbENoYXJGb3VuZCkge1xuICAgICAgcmVzdWx0ICs9IHJ1bm5pbmdTdHIuc2xpY2UoMCwgMSk7XG4gICAgICBydW5uaW5nU3RyID0gcnVubmluZ1N0ci5zbGljZSgxLCBydW5uaW5nU3RyLmxlbmd0aCk7XG4gICAgfVxuICB9O1xuXG4gIHdoaWxlIChydW5uaW5nU3RyKSB7XG4gICAgX2xvb3AoKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTsiLCIvKiBlc2xpbnQgbm8tdGVtcGxhdGUtY3VybHktaW4tc3RyaW5nOiBcIm9mZlwiICovXG5pbXBvcnQgZXNjYXBlTGF0ZXhMaWIgZnJvbSAnZXNjYXBlLWxhdGV4JztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi9vYmplY3QuanMnO1xuZXhwb3J0IHZhciBsYXRleFN5bWJvbHMgPSB7XG4gIC8vIEdSRUVLIExFVFRFUlNcbiAgQWxwaGE6ICdBJyxcbiAgYWxwaGE6ICdcXFxcYWxwaGEnLFxuICBCZXRhOiAnQicsXG4gIGJldGE6ICdcXFxcYmV0YScsXG4gIEdhbW1hOiAnXFxcXEdhbW1hJyxcbiAgZ2FtbWE6ICdcXFxcZ2FtbWEnLFxuICBEZWx0YTogJ1xcXFxEZWx0YScsXG4gIGRlbHRhOiAnXFxcXGRlbHRhJyxcbiAgRXBzaWxvbjogJ0UnLFxuICBlcHNpbG9uOiAnXFxcXGVwc2lsb24nLFxuICB2YXJlcHNpbG9uOiAnXFxcXHZhcmVwc2lsb24nLFxuICBaZXRhOiAnWicsXG4gIHpldGE6ICdcXFxcemV0YScsXG4gIEV0YTogJ0gnLFxuICBldGE6ICdcXFxcZXRhJyxcbiAgVGhldGE6ICdcXFxcVGhldGEnLFxuICB0aGV0YTogJ1xcXFx0aGV0YScsXG4gIHZhcnRoZXRhOiAnXFxcXHZhcnRoZXRhJyxcbiAgSW90YTogJ0knLFxuICBpb3RhOiAnXFxcXGlvdGEnLFxuICBLYXBwYTogJ0snLFxuICBrYXBwYTogJ1xcXFxrYXBwYScsXG4gIHZhcmthcHBhOiAnXFxcXHZhcmthcHBhJyxcbiAgTGFtYmRhOiAnXFxcXExhbWJkYScsXG4gIGxhbWJkYTogJ1xcXFxsYW1iZGEnLFxuICBNdTogJ00nLFxuICBtdTogJ1xcXFxtdScsXG4gIE51OiAnTicsXG4gIG51OiAnXFxcXG51JyxcbiAgWGk6ICdcXFxcWGknLFxuICB4aTogJ1xcXFx4aScsXG4gIE9taWNyb246ICdPJyxcbiAgb21pY3JvbjogJ28nLFxuICBQaTogJ1xcXFxQaScsXG4gIHBpOiAnXFxcXHBpJyxcbiAgdmFycGk6ICdcXFxcdmFycGknLFxuICBSaG86ICdQJyxcbiAgcmhvOiAnXFxcXHJobycsXG4gIHZhcnJobzogJ1xcXFx2YXJyaG8nLFxuICBTaWdtYTogJ1xcXFxTaWdtYScsXG4gIHNpZ21hOiAnXFxcXHNpZ21hJyxcbiAgdmFyc2lnbWE6ICdcXFxcdmFyc2lnbWEnLFxuICBUYXU6ICdUJyxcbiAgdGF1OiAnXFxcXHRhdScsXG4gIFVwc2lsb246ICdcXFxcVXBzaWxvbicsXG4gIHVwc2lsb246ICdcXFxcdXBzaWxvbicsXG4gIFBoaTogJ1xcXFxQaGknLFxuICBwaGk6ICdcXFxccGhpJyxcbiAgdmFycGhpOiAnXFxcXHZhcnBoaScsXG4gIENoaTogJ1gnLFxuICBjaGk6ICdcXFxcY2hpJyxcbiAgUHNpOiAnXFxcXFBzaScsXG4gIHBzaTogJ1xcXFxwc2knLFxuICBPbWVnYTogJ1xcXFxPbWVnYScsXG4gIG9tZWdhOiAnXFxcXG9tZWdhJyxcbiAgLy8gbG9naWNcbiAgdHJ1ZTogJ1xcXFxtYXRocm17VHJ1ZX0nLFxuICBmYWxzZTogJ1xcXFxtYXRocm17RmFsc2V9JyxcbiAgLy8gb3RoZXJcbiAgaTogJ2knLFxuICAvLyBUT0RPIHVzZSBcXGkgPz9cbiAgaW5mOiAnXFxcXGluZnR5JyxcbiAgSW5mOiAnXFxcXGluZnR5JyxcbiAgaW5maW5pdHk6ICdcXFxcaW5mdHknLFxuICBJbmZpbml0eTogJ1xcXFxpbmZ0eScsXG4gIG9vOiAnXFxcXGluZnR5JyxcbiAgbGltOiAnXFxcXGxpbScsXG4gIHVuZGVmaW5lZDogJ1xcXFxtYXRoYmZ7P30nXG59O1xuZXhwb3J0IHZhciBsYXRleE9wZXJhdG9ycyA9IHtcbiAgdHJhbnNwb3NlOiAnXlxcXFx0b3AnLFxuICBjdHJhbnNwb3NlOiAnXkgnLFxuICBmYWN0b3JpYWw6ICchJyxcbiAgcG93OiAnXicsXG4gIGRvdFBvdzogJy5eXFxcXHdlZGdlJyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIHVuYXJ5UGx1czogJysnLFxuICB1bmFyeU1pbnVzOiAnLScsXG4gIGJpdE5vdDogJ1xcXFx+JyxcbiAgLy8gVE9ETyBmaW5kIGlkZWFsIHNvbHV0aW9uXG4gIG5vdDogJ1xcXFxuZWcnLFxuICBtdWx0aXBseTogJ1xcXFxjZG90JyxcbiAgZGl2aWRlOiAnXFxcXGZyYWMnLFxuICAvLyBUT0RPIGhvdyB0byBoYW5kbGUgdGhhdCBwcm9wZXJseT9cbiAgZG90TXVsdGlwbHk6ICcuXFxcXGNkb3QnLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgZG90RGl2aWRlOiAnLjonLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgbW9kOiAnXFxcXG1vZCcsXG4gIGFkZDogJysnLFxuICBzdWJ0cmFjdDogJy0nLFxuICB0bzogJ1xcXFxyaWdodGFycm93JyxcbiAgbGVmdFNoaWZ0OiAnPDwnLFxuICByaWdodEFyaXRoU2hpZnQ6ICc+PicsXG4gIHJpZ2h0TG9nU2hpZnQ6ICc+Pj4nLFxuICBlcXVhbDogJz0nLFxuICB1bmVxdWFsOiAnXFxcXG5lcScsXG4gIHNtYWxsZXI6ICc8JyxcbiAgbGFyZ2VyOiAnPicsXG4gIHNtYWxsZXJFcTogJ1xcXFxsZXEnLFxuICBsYXJnZXJFcTogJ1xcXFxnZXEnLFxuICBiaXRBbmQ6ICdcXFxcJicsXG4gIGJpdFhvcjogJ1xcXFx1bmRlcmxpbmV7fH0nLFxuICBiaXRPcjogJ3wnLFxuICBhbmQ6ICdcXFxcd2VkZ2UnLFxuICB4b3I6ICdcXFxcdmVlYmFyJyxcbiAgb3I6ICdcXFxcdmVlJ1xufTtcbmV4cG9ydCB2YXIgbGF0ZXhGdW5jdGlvbnMgPSB7XG4gIC8vIGFyaXRobWV0aWNcbiAgYWJzOiB7XG4gICAgMTogJ1xcXFxsZWZ0fCR7YXJnc1swXX1cXFxccmlnaHR8J1xuICB9LFxuICBhZGQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYWRkLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGNicnQ6IHtcbiAgICAxOiAnXFxcXHNxcnRbM117JHthcmdzWzBdfX0nXG4gIH0sXG4gIGNlaWw6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGNlaWwke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJjZWlsJ1xuICB9LFxuICBjdWJlOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXjMnXG4gIH0sXG4gIGRpdmlkZToge1xuICAgIDI6ICdcXFxcZnJhY3ske2FyZ3NbMF19fXske2FyZ3NbMV19fSdcbiAgfSxcbiAgZG90RGl2aWRlOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdERpdmlkZSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBkb3RNdWx0aXBseToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3RNdWx0aXBseSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBkb3RQb3c6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90UG93LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGV4cDoge1xuICAgIDE6ICdcXFxcZXhwXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGV4cG0xOiBcIlxcXFxsZWZ0KGVcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcInske2FyZ3NbMF19fS0xXFxcXHJpZ2h0KVwiKSxcbiAgZml4OiB7XG4gICAgMTogJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZmxvb3I6IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcbGZsb29yJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyZmxvb3InXG4gIH0sXG4gIGdjZDogJ1xcXFxnY2RcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIGh5cG90OiAnXFxcXGh5cG90XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBsb2c6IHtcbiAgICAxOiAnXFxcXGxuXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbG9nX3ske2FyZ3NbMV19fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBsb2cxMDoge1xuICAgIDE6ICdcXFxcbG9nX3sxMH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMXA6IHtcbiAgICAxOiAnXFxcXGxuXFxcXGxlZnQoJHthcmdzWzBdfSsxXFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsb2dfeyR7YXJnc1sxXX19XFxcXGxlZnQoJHthcmdzWzBdfSsxXFxcXHJpZ2h0KSdcbiAgfSxcbiAgbG9nMjogJ1xcXFxsb2dfezJ9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICBtb2Q6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubW9kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG11bHRpcGx5OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm11bHRpcGx5LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG5vcm06IHtcbiAgICAxOiAnXFxcXGxlZnRcXFxcfCR7YXJnc1swXX1cXFxccmlnaHRcXFxcfCcsXG4gICAgMjogdW5kZWZpbmVkIC8vIHVzZSBkZWZhdWx0IHRlbXBsYXRlXG5cbiAgfSxcbiAgbnRoUm9vdDoge1xuICAgIDI6ICdcXFxcc3FydFske2FyZ3NbMV19XXske2FyZ3NbMF19fSdcbiAgfSxcbiAgbnRoUm9vdHM6IHtcbiAgICAyOiAnXFxcXHt5IDogJHlee2FyZ3NbMV19ID0geyR7YXJnc1swXX19XFxcXH0nXG4gIH0sXG4gIHBvdzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcInske2FyZ3NbMV19fVwiKVxuICB9LFxuICByb3VuZDoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsZmxvb3Ike2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJjZWlsJyxcbiAgICAyOiB1bmRlZmluZWQgLy8gdXNlIGRlZmF1bHQgdGVtcGxhdGVcblxuICB9LFxuICBzaWduOiB7XG4gICAgMTogJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc3FydDoge1xuICAgIDE6ICdcXFxcc3FydHske2FyZ3NbMF19fSdcbiAgfSxcbiAgc3F1YXJlOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXjInXG4gIH0sXG4gIHN1YnRyYWN0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnN1YnRyYWN0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuYXJ5TWludXM6IHtcbiAgICAxOiBcIlwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy51bmFyeU1pbnVzLCBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuYXJ5UGx1czoge1xuICAgIDE6IFwiXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuYXJ5UGx1cywgXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBiaXR3aXNlXG4gIGJpdEFuZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRBbmQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgYml0Tm90OiB7XG4gICAgMTogbGF0ZXhPcGVyYXRvcnMuYml0Tm90ICsgJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBiaXRPcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRPciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBiaXRYb3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYml0WG9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxlZnRTaGlmdDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sZWZ0U2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgcmlnaHRBcml0aFNoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnJpZ2h0QXJpdGhTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICByaWdodExvZ1NoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnJpZ2h0TG9nU2hpZnQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gY29tYmluYXRvcmljc1xuICBiZWxsTnVtYmVyczoge1xuICAgIDE6ICdcXFxcbWF0aHJte0J9X3ske2FyZ3NbMF19fSdcbiAgfSxcbiAgY2F0YWxhbjoge1xuICAgIDE6ICdcXFxcbWF0aHJte0N9X3ske2FyZ3NbMF19fSdcbiAgfSxcbiAgc3RpcmxpbmdTMjoge1xuICAgIDI6ICdcXFxcbWF0aHJte1N9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIGNvbXBsZXhcbiAgYXJnOiB7XG4gICAgMTogJ1xcXFxhcmdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29uajoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV4qJ1xuICB9LFxuICBpbToge1xuICAgIDE6ICdcXFxcSW1cXFxcbGVmdFxcXFxsYnJhY2Uke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJicmFjZSdcbiAgfSxcbiAgcmU6IHtcbiAgICAxOiAnXFxcXFJlXFxcXGxlZnRcXFxcbGJyYWNlJHthcmdzWzBdfVxcXFxyaWdodFxcXFxyYnJhY2UnXG4gIH0sXG4gIC8vIGxvZ2ljYWxcbiAgYW5kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmFuZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBub3Q6IHtcbiAgICAxOiBsYXRleE9wZXJhdG9ycy5ub3QgKyAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLm9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHhvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy54b3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gbWF0cml4XG4gIGNyb3NzOiB7XG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXFxcXHRpbWVzXFxcXGxlZnQoJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIGN0cmFuc3Bvc2U6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmN0cmFuc3Bvc2UpXG4gIH0sXG4gIGRldDoge1xuICAgIDE6ICdcXFxcZGV0XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGRvdDoge1xuICAgIDI6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXGNkb3Qke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZXhwbToge1xuICAgIDE6ICdcXFxcZXhwXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGludjoge1xuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KV57LTF9J1xuICB9LFxuICBzcXJ0bToge1xuICAgIDE6IFwieyR7YXJnc1swXX19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnBvdywgXCJ7XFxcXGZyYWN7MX17Mn19XCIpXG4gIH0sXG4gIHRyYWNlOiB7XG4gICAgMTogJ1xcXFxtYXRocm17dHJ9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRyYW5zcG9zZToge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudHJhbnNwb3NlKVxuICB9LFxuICAvLyBwcm9iYWJpbGl0eVxuICBjb21iaW5hdGlvbnM6IHtcbiAgICAyOiAnXFxcXGJpbm9teyR7YXJnc1swXX19eyR7YXJnc1sxXX19J1xuICB9LFxuICBjb21iaW5hdGlvbnNXaXRoUmVwOiB7XG4gICAgMjogJ1xcXFxsZWZ0KFxcXFwhXFxcXCF7XFxcXGJpbm9teyR7YXJnc1swXX19eyR7YXJnc1sxXX19fVxcXFwhXFxcXCFcXFxccmlnaHQpJ1xuICB9LFxuICBmYWN0b3JpYWw6IHtcbiAgICAxOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmZhY3RvcmlhbClcbiAgfSxcbiAgZ2FtbWE6IHtcbiAgICAxOiAnXFxcXEdhbW1hXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHJlbGF0aW9uYWxcbiAgZXF1YWw6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZXF1YWwsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGFyZ2VyOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxhcmdlciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsYXJnZXJFcToge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5sYXJnZXJFcSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBzbWFsbGVyOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnNtYWxsZXIsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgc21hbGxlckVxOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnNtYWxsZXJFcSwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICB1bmVxdWFsOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuZXF1YWwsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gc3BlY2lhbFxuICBlcmY6IHtcbiAgICAxOiAnZXJmXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHN0YXRpc3RpY3NcbiAgbWF4OiAnXFxcXG1heFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgbWluOiAnXFxcXG1pblxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgdmFyaWFuY2U6ICdcXFxcbWF0aHJte1Zhcn1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIC8vIHRyaWdvbm9tZXRyeVxuICBhY29zOiB7XG4gICAgMTogJ1xcXFxjb3Neey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY29zaDoge1xuICAgIDE6ICdcXFxcY29zaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3Q6IHtcbiAgICAxOiAnXFxcXGNvdF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3RoOiB7XG4gICAgMTogJ1xcXFxjb3RoXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNzYzoge1xuICAgIDE6ICdcXFxcY3NjXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNzY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtjc2NofV57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzZWM6IHtcbiAgICAxOiAnXFxcXHNlY157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzZWNoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17c2VjaH1eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2luOiB7XG4gICAgMTogJ1xcXFxzaW5eey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhc2luaDoge1xuICAgIDE6ICdcXFxcc2luaF57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW46IHtcbiAgICAxOiAnXFxcXHRhbl57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW4yOiB7XG4gICAgMjogJ1xcXFxtYXRocm17YXRhbjJ9XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknXG4gIH0sXG4gIGF0YW5oOiB7XG4gICAgMTogJ1xcXFx0YW5oXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29zOiB7XG4gICAgMTogJ1xcXFxjb3NcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY29zaDoge1xuICAgIDE6ICdcXFxcY29zaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3Q6IHtcbiAgICAxOiAnXFxcXGNvdFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3RoOiB7XG4gICAgMTogJ1xcXFxjb3RoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNzYzoge1xuICAgIDE6ICdcXFxcY3NjXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNzY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtjc2NofVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzZWM6IHtcbiAgICAxOiAnXFxcXHNlY1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzZWNoOiB7XG4gICAgMTogJ1xcXFxtYXRocm17c2VjaH1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2luOiB7XG4gICAgMTogJ1xcXFxzaW5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgc2luaDoge1xuICAgIDE6ICdcXFxcc2luaFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0YW46IHtcbiAgICAxOiAnXFxcXHRhblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB0YW5oOiB7XG4gICAgMTogJ1xcXFx0YW5oXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIC8vIHVuaXRcbiAgdG86IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudG8sIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgLy8gdXRpbHNcbiAgbnVtZXJpYzogZnVuY3Rpb24gbnVtZXJpYyhub2RlLCBvcHRpb25zKSB7XG4gICAgLy8gTm90IHN1cmUgaWYgdGhpcyBpcyBzdHJpY3RseSByaWdodCBidXQgc2hvdWxkIHdvcmsgY29ycmVjdGx5IGZvciB0aGUgdmFzdCBtYWpvcml0eSBvZiB1c2UgY2FzZXMuXG4gICAgcmV0dXJuIG5vZGUuYXJnc1swXS50b1RleCgpO1xuICB9LFxuICAvLyB0eXBlXG4gIG51bWJlcjoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzdHJpbmc6IHtcbiAgICAwOiAnXFxcXG1hdGh0dHtcIlwifScsXG4gICAgMTogJ1xcXFxtYXRocm17c3RyaW5nfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBiaWdudW1iZXI6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb21wbGV4OiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogXCJcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KStcIi5jb25jYXQobGF0ZXhTeW1ib2xzLmksIFwiXFxcXGNkb3RcXFxcbGVmdCgke2FyZ3NbMV19XFxcXHJpZ2h0KVxcXFxyaWdodClcIilcbiAgfSxcbiAgbWF0cml4OiB7XG4gICAgMDogJ1xcXFxiZWdpbntibWF0cml4fVxcXFxlbmR7Ym1hdHJpeH0nLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzcGFyc2U6IHtcbiAgICAwOiAnXFxcXGJlZ2lue2JzcGFyc2V9XFxcXGVuZHtic3BhcnNlfScsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICB1bml0OiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCkke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfVxufTtcbmV4cG9ydCB2YXIgZGVmYXVsdFRlbXBsYXRlID0gJ1xcXFxtYXRocm17JHtuYW1lfX1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSc7XG52YXIgbGF0ZXhVbml0cyA9IHtcbiAgZGVnOiAnXlxcXFxjaXJjJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVMYXRleChzdHJpbmcpIHtcbiAgcmV0dXJuIGVzY2FwZUxhdGV4TGliKHN0cmluZywge1xuICAgIHByZXNlcnZlRm9ybWF0dGluZzogdHJ1ZVxuICB9KTtcbn0gLy8gQHBhcmFtIHtzdHJpbmd9IG5hbWVcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gaXNVbml0XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N5bWJvbChuYW1lLCBpc1VuaXQpIHtcbiAgaXNVbml0ID0gdHlwZW9mIGlzVW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGlzVW5pdDtcblxuICBpZiAoaXNVbml0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KGxhdGV4VW5pdHMsIG5hbWUpKSB7XG4gICAgICByZXR1cm4gbGF0ZXhVbml0c1tuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIGVzY2FwZUxhdGV4KG5hbWUpICsgJ30nO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5KGxhdGV4U3ltYm9scywgbmFtZSkpIHtcbiAgICByZXR1cm4gbGF0ZXhTeW1ib2xzW25hbWVdO1xuICB9XG5cbiAgcmV0dXJuIGVzY2FwZUxhdGV4KG5hbWUpO1xufSIsImltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGVMYXRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0NvbnN0YW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbnN0YW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgQ29uc3RhbnROb2RlIGhvbGRzIGEgY29uc3RhbnQgdmFsdWUgbGlrZSBhIG51bWJlciBvciBzdHJpbmcuXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICAgbmV3IENvbnN0YW50Tm9kZSgyLjMpXG4gICAqICAgICBuZXcgQ29uc3RhbnROb2RlKCdoZWxsbycpXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgVmFsdWUgY2FuIGJlIGFueSB0eXBlIChudW1iZXIsIEJpZ051bWJlciwgc3RyaW5nLCAuLi4pXG4gICAqIEBjb25zdHJ1Y3RvciBDb25zdGFudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuICBmdW5jdGlvbiBDb25zdGFudE5vZGUodmFsdWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29uc3RhbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0NvbnN0YW50Tm9kZSc7XG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuaXNDb25zdGFudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbENvbnN0YW50Tm9kZSgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgey8vIG5vdGhpbmcgdG8gZG8sIHdlIGRvbid0IGhhdmUgY2hpbGRzXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQ29uc3RhbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7Q29uc3RhbnROb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0NvbnN0YW50Tm9kZX1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKHRoaXMudmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMudmFsdWUsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBzd2l0Y2ggKHR5cGVPZih0aGlzLnZhbHVlKSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ0JpZ051bWJlcic6XG4gICAgICBjYXNlICdGcmFjdGlvbic6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW51bWJlclwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3RyaW5nXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtYm9vbGVhblwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW51bGwtc3ltYm9sXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC11bmRlZmluZWRcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbnN0YW50Tm9kZScsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIENvbnN0YW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiU3ltYm9sTm9kZVwiLCB2YWx1ZTogMi4zfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0NvbnN0YW50Tm9kZX1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29uc3RhbnROb2RlKGpzb24udmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgc3dpdGNoICh0eXBlT2YodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiAnXFxcXG1hdGh0dHsnICsgZXNjYXBlTGF0ZXgodmFsdWUpICsgJ30nO1xuXG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnQmlnTnVtYmVyJzpcbiAgICAgICAge1xuICAgICAgICAgIGlmICghaXNGaW5pdGUodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnZhbHVlT2YoKSA8IDAgPyAnLVxcXFxpbmZ0eScgOiAnXFxcXGluZnR5JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaW5kZXggPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2UnKTtcblxuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgaW5kZXgpICsgJ1xcXFxjZG90MTBeeycgKyB2YWx1ZS5zdWJzdHJpbmcoaW5kZXggKyAxKSArICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuXG4gICAgICBjYXNlICdGcmFjdGlvbic6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRvTGF0ZXgoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ29uc3RhbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGtleXdvcmRzIH0gZnJvbSAnLi4va2V5d29yZHMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZvckVhY2gsIGpvaW4gfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyB0b1N5bWJvbCB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBGdW5jdGlvbkFzc2lnbm1lbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBGdW5jdGlvbiBhc3NpZ25tZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgICAgICBGdW5jdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nW10gfCBBcnJheS48e25hbWU6IHN0cmluZywgdHlwZTogc3RyaW5nfT59IHBhcmFtc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkgd2l0aCBmdW5jdGlvbiBwYXJhbWV0ZXIgbmFtZXMsIG9yIGFuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSB3aXRoIG9iamVjdHMgY29udGFpbmluZyB0aGUgbmFtZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHR5cGUgb2YgdGhlIHBhcmFtZXRlclxuICAgKiBAcGFyYW0ge05vZGV9IGV4cHIgICAgICAgICAgICAgVGhlIGZ1bmN0aW9uIGV4cHJlc3Npb25cbiAgICovXG4gIGZ1bmN0aW9uIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUobmFtZSwgcGFyYW1zLCBleHByKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJuYW1lXCInKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBzdHJpbmdzIG9yIG9iamVjdHMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcInBhcmFtc1wiJyk7XG4gICAgaWYgKCFpc05vZGUoZXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImV4cHJcIicpO1xuICAgIGlmIChuYW1lIGluIGtleXdvcmRzKSB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgZnVuY3Rpb24gbmFtZSwgXCInICsgbmFtZSArICdcIiBpcyBhIHJlc2VydmVkIGtleXdvcmQnKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbSAmJiBwYXJhbS5uYW1lIHx8IHBhcmFtO1xuICAgIH0pO1xuICAgIHRoaXMudHlwZXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtICYmIHBhcmFtLnR5cGUgfHwgJ2FueSc7XG4gICAgfSk7XG4gICAgdGhpcy5leHByID0gZXhwcjtcbiAgfVxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJztcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuICAgIGZvckVhY2godGhpcy5wYXJhbXMsIGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgY2hpbGRBcmdOYW1lc1twYXJhbV0gPSB0cnVlO1xuICAgIH0pOyAvLyBjb21waWxlIHRoZSBmdW5jdGlvbiBleHByZXNzaW9uIHdpdGggdGhlIGNoaWxkIGFyZ3NcblxuICAgIHZhciBldmFsRXhwciA9IHRoaXMuZXhwci5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtcztcbiAgICB2YXIgc2lnbmF0dXJlID0gam9pbih0aGlzLnR5cGVzLCAnLCcpO1xuICAgIHZhciBzeW50YXggPSBuYW1lICsgJygnICsgam9pbih0aGlzLnBhcmFtcywgJywgJykgKyAnKSc7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgc2lnbmF0dXJlcyA9IHt9O1xuXG4gICAgICBzaWduYXR1cmVzW3NpZ25hdHVyZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcmdzW3BhcmFtc1tpXV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZhbEV4cHIoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZm4gPSB0eXBlZChuYW1lLCBzaWduYXR1cmVzKTtcbiAgICAgIGZuLnN5bnRheCA9IHN5bnRheDtcbiAgICAgIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgZm4pO1xuICAgICAgcmV0dXJuIGZuO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuZXhwciwgJ2V4cHInLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBleHByID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZXhwciwgJ2V4cHInLCB0aGlzKSk7XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5uYW1lLCB0aGlzLnBhcmFtcy5zbGljZSgwKSwgZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMubmFtZSwgdGhpcy5wYXJhbXMuc2xpY2UoMCksIHRoaXMuZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBJcyBwYXJlbnRoZXNpcyBuZWVkZWQ/XG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyZW50aGVzaXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBuZWVkUGFyZW50aGVzaXMobm9kZSwgcGFyZW50aGVzaXMpIHtcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZSwgcGFyZW50aGVzaXMpO1xuICAgIHZhciBleHByUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5leHByLCBwYXJlbnRoZXNpcyk7XG4gICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBleHByUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBleHByUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlO1xuICB9XG4gIC8qKlxuICAgKiBnZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBleHByID0gdGhpcy5leHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSAnKCcgKyBleHByICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm5hbWUgKyAnKCcgKyB0aGlzLnBhcmFtcy5qb2luKCcsICcpICsgJykgPSAnICsgZXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHR5cGVzID0gdGhpcy50eXBlcztcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBwYXJhbXM6IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogcGFyYW0sXG4gICAgICAgICAgdHlwZTogdHlwZXNbaW5kZXhdXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGV4cHI6IHRoaXMuZXhwclxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGdW5jdGlvbkFzc2lnbm1lbnROb2RlXCIsIG5hbWU6IC4uLiwgcGFyYW1zOiAuLi4sIGV4cHI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbkFzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShqc29uLm5hbWUsIGpzb24ucGFyYW1zLCBqc29uLmV4cHIpO1xuICB9O1xuICAvKipcbiAgICogZ2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFyYW1zLnB1c2goJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wYXJhbWV0ZXJcIj4nICsgZXNjYXBlKHRoaXMucGFyYW1zW2ldKSArICc8L3NwYW4+Jyk7XG4gICAgfVxuXG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLCBwYXJlbnRoZXNpcykpIHtcbiAgICAgIGV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBleHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLm5hbWUpICsgJzwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcGFyYW1zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtdmFyaWFibGUtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvclwiPj08L3NwYW4+JyArIGV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGV4cHIsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIHRoaXMubmFtZSArICd9XFxcXGxlZnQoJyArIHRoaXMucGFyYW1zLm1hcCh0b1N5bWJvbCkuam9pbignLCcpICsgJ1xcXFxyaWdodCk6PScgKyBleHByO1xuICB9O1xuXG4gIHJldHVybiBGdW5jdGlvbkFzc2lnbm1lbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc0NvbnN0YW50Tm9kZSwgaXNOb2RlLCBpc1JhbmdlTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xudmFyIG5hbWUgPSAnSW5kZXhOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ1JhbmdlJywgJ05vZGUnLCAnc2l6ZSddO1xuZXhwb3J0IHZhciBjcmVhdGVJbmRleE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBSYW5nZSxcbiAgICBOb2RlLFxuICAgIHNpemVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBJbmRleE5vZGVcbiAgICogQGV4dGVuZHMgTm9kZVxuICAgKlxuICAgKiBEZXNjcmliZXMgYSBzdWJzZXQgb2YgYSBtYXRyaXggb3IgYW4gb2JqZWN0IHByb3BlcnR5LlxuICAgKiBDYW5ub3QgYmUgdXNlZCBvbiBpdHMgb3duLCBuZWVkcyB0byBiZSB1c2VkIHdpdGhpbiBhbiBBY2Nlc3Nvck5vZGUgb3JcbiAgICogQXNzaWdubWVudE5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvdE5vdGF0aW9uPWZhbHNlXSAgT3B0aW9uYWwgcHJvcGVydHkgZGVzY3JpYmluZyB3aGV0aGVyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBpbmRleCB3YXMgd3JpdHRlbiB1c2luZyBkb3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RhdGlvbiBsaWtlIGBhLmJgLCBvciB1c2luZyBicmFja2V0XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90YXRpb24gbGlrZSBgYVtcImJcIl1gIChkZWZhdWx0KS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VkIHRvIHN0cmluZ2lmeSBhbiBJbmRleE5vZGUuXG4gICAqL1xuICBmdW5jdGlvbiBJbmRleE5vZGUoZGltZW5zaW9ucywgZG90Tm90YXRpb24pIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5kZXhOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgIHRoaXMuZG90Tm90YXRpb24gPSBkb3ROb3RhdGlvbiB8fCBmYWxzZTsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShkaW1lbnNpb25zKSB8fCAhZGltZW5zaW9ucy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJkaW1lbnNpb25zXCInKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kb3ROb3RhdGlvbiAmJiAhdGhpcy5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZG90Tm90YXRpb24gb25seSBhcHBsaWNhYmxlIGZvciBvYmplY3QgcHJvcGVydGllcycpO1xuICAgIH1cbiAgfVxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBJbmRleE5vZGUucHJvdG90eXBlLnR5cGUgPSAnSW5kZXhOb2RlJztcbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5pc0luZGV4Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgYmlnbnVtYmVyIChjdXJyZW50bHkgYmlnbnVtYmVycyBhcmUgc2lsZW50bHlcbiAgICAvLyAgICAgICByZWR1Y2VkIHRvIG51bWJlcnMgd2hlbiBjaGFuZ2luZyB0aGUgdmFsdWUgdG8gemVyby1iYXNlZClcbiAgICAvLyBUT0RPOiBPcHRpbWl6YXRpb246IHdoZW4gdGhlIHJhbmdlIHZhbHVlcyBhcmUgQ29uc3RhbnROb2RlcyxcbiAgICAvLyAgICAgICB3ZSBjYW4gYmVmb3JlaGFuZCByZXNvbHZlIHRoZSB6ZXJvLWJhc2VkIHZhbHVlXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBhIHNpbXBsZSBvYmplY3QgcHJvcGVydHlcbiAgICB2YXIgZXZhbERpbWVuc2lvbnMgPSBtYXAodGhpcy5kaW1lbnNpb25zLCBmdW5jdGlvbiAocmFuZ2UsIGkpIHtcbiAgICAgIGlmIChpc1JhbmdlTm9kZShyYW5nZSkpIHtcbiAgICAgICAgaWYgKHJhbmdlLm5lZWRzRW5kKCkpIHtcbiAgICAgICAgICAvLyBjcmVhdGUgYSByYW5nZSBjb250YWluaW5nIGVuZCAobGlrZSAnNDplbmQnKVxuICAgICAgICAgIHZhciBjaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG4gICAgICAgICAgY2hpbGRBcmdOYW1lcy5lbmQgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGV2YWxTdGFydCA9IHJhbmdlLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIGV2YWxFbmQgPSByYW5nZS5lbmQuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgZXZhbFN0ZXAgPSByYW5nZS5zdGVwID8gcmFuZ2Uuc3RlcC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxEaW1lbnNpb24oc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2l6ZShjb250ZXh0KS52YWx1ZU9mKCk7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcbiAgICAgICAgICAgIGNoaWxkQXJncy5lbmQgPSBzW2ldO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJhbmdlKGV2YWxTdGFydChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSwgZXZhbFN0ZXAoc2NvcGUsIGNoaWxkQXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3JlYXRlIHJhbmdlXG4gICAgICAgICAgdmFyIF9ldmFsU3RhcnQgPSByYW5nZS5zdGFydC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgX2V2YWxFbmQgPSByYW5nZS5lbmQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgICAgdmFyIF9ldmFsU3RlcCA9IHJhbmdlLnN0ZXAgPyByYW5nZS5zdGVwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJhbmdlKF9ldmFsU3RhcnQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBfZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCksIF9ldmFsU3RlcChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTeW1ib2xOb2RlKHJhbmdlKSAmJiByYW5nZS5uYW1lID09PSAnZW5kJykge1xuICAgICAgICAvLyBTeW1ib2xOb2RlICdlbmQnXG4gICAgICAgIHZhciBfY2hpbGRBcmdOYW1lcyA9IE9iamVjdC5jcmVhdGUoYXJnTmFtZXMpO1xuXG4gICAgICAgIF9jaGlsZEFyZ05hbWVzLmVuZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGV2YWxSYW5nZSA9IHJhbmdlLl9jb21waWxlKG1hdGgsIF9jaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHZhciBzID0gc2l6ZShjb250ZXh0KS52YWx1ZU9mKCk7XG4gICAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG4gICAgICAgICAgY2hpbGRBcmdzLmVuZCA9IHNbaV07XG4gICAgICAgICAgcmV0dXJuIGV2YWxSYW5nZShzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENvbnN0YW50Tm9kZVxuICAgICAgICB2YXIgX2V2YWxSYW5nZSA9IHJhbmdlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZXZhbFJhbmdlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgaW5kZXggPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgJ2luZGV4Jyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxJbmRleE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBkaW1lbnNpb25zID0gbWFwKGV2YWxEaW1lbnNpb25zLCBmdW5jdGlvbiAoZXZhbERpbWVuc2lvbikge1xuICAgICAgICByZXR1cm4gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmRleCguLi5kaW1lbnNpb25zKTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmRpbWVuc2lvbnNbaV0sICdkaW1lbnNpb25zWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgSW5kZXhOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtJbmRleE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRpbWVuc2lvbnNbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5kaW1lbnNpb25zW2ldLCAnZGltZW5zaW9uc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKGRpbWVuc2lvbnMsIHRoaXMuZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtJbmRleE5vZGV9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZSh0aGlzLmRpbWVuc2lvbnMuc2xpY2UoMCksIHRoaXMuZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHRoaXMgSW5kZXhOb2RlIGNvbnRhaW5zIGEgc2luZ2xlIHByb3BlcnR5IG5hbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmlzT2JqZWN0UHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5sZW5ndGggPT09IDEgJiYgaXNDb25zdGFudE5vZGUodGhpcy5kaW1lbnNpb25zWzBdKSAmJiB0eXBlb2YgdGhpcy5kaW1lbnNpb25zWzBdLnZhbHVlID09PSAnc3RyaW5nJztcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgaWYgSW5kZXhOb2RlIGNvbnRhaW5zIGEgcHJvcGVydHkuXG4gICAqIElmIG5vdCwgcmV0dXJucyBudWxsLlxuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBudWxsfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuZ2V0T2JqZWN0UHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNPYmplY3RQcm9wZXJ0eSgpID8gdGhpcy5kaW1lbnNpb25zWzBdLnZhbHVlIDogbnVsbDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gZm9ybWF0IHRoZSBwYXJhbWV0ZXJzIGxpa2UgXCJbMSwgMDo1XVwiXG4gICAgcmV0dXJuIHRoaXMuZG90Tm90YXRpb24gPyAnLicgKyB0aGlzLmdldE9iamVjdFByb3BlcnR5KCkgOiAnWycgKyB0aGlzLmRpbWVuc2lvbnMuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnSW5kZXhOb2RlJyxcbiAgICAgIGRpbWVuc2lvbnM6IHRoaXMuZGltZW5zaW9ucyxcbiAgICAgIGRvdE5vdGF0aW9uOiB0aGlzLmRvdE5vdGF0aW9uXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEluZGV4Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiSW5kZXhOb2RlXCIsIGRpbWVuc2lvbnM6IFsuLi5dLCBkb3ROb3RhdGlvbjogZmFsc2V9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7SW5kZXhOb2RlfVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUoanNvbi5kaW1lbnNpb25zLCBqc29uLmRvdE5vdGF0aW9uKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIGZvcm1hdCB0aGUgcGFyYW1ldGVycyBsaWtlIFwiWzEsIDA6NV1cIlxuICAgIHZhciBkaW1lbnNpb25zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZGltZW5zaW9uc1tpXSA9IHRoaXMuZGltZW5zaW9uc1tpXS50b0hUTUwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kb3ROb3RhdGlvbikge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1hY2Nlc3Nvci1vcGVyYXRvclwiPi48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcHJvcGVydHlcIj4nICsgZXNjYXBlKHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSkgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtc3F1YXJlLXBhcmVudGhlc2lzXCI+Wzwvc3Bhbj4nICsgZGltZW5zaW9ucy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5dPC9zcGFuPic7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zLm1hcChmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIHJldHVybiByYW5nZS50b1RleChvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5kb3ROb3RhdGlvbiA/ICcuJyArIHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSArICcnIDogJ197JyArIGRpbWVuc2lvbnMuam9pbignLCcpICsgJ30nO1xuICB9OyAvLyBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgUmFuZ2UgZnJvbSBzdGFydCwgc3RlcCBhbmQgZW5kXG5cblxuICBmdW5jdGlvbiBjcmVhdGVSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShpc0JpZ051bWJlcihzdGFydCkgPyBzdGFydC50b051bWJlcigpIDogc3RhcnQsIGlzQmlnTnVtYmVyKGVuZCkgPyBlbmQudG9OdW1iZXIoKSA6IGVuZCwgaXNCaWdOdW1iZXIoc3RlcCkgPyBzdGVwLnRvTnVtYmVyKCkgOiBzdGVwKTtcbiAgfVxuXG4gIHJldHVybiBJbmRleE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXNjYXBlLCBzdHJpbmdpZnkgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaXNTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ09iamVjdE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVPYmplY3ROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE9iamVjdE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGFuIG9iamVjdCB3aXRoIGtleXMvdmFsdWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIE5vZGU+fSBbcHJvcGVydGllc10gICBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnNcbiAgICovXG4gIGZ1bmN0aW9uIE9iamVjdE5vZGUocHJvcGVydGllcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPYmplY3ROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9OyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICghKHR5cGVvZiBwcm9wZXJ0aWVzID09PSAnb2JqZWN0JykgfHwgIU9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzTm9kZShwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnR5cGUgPSAnT2JqZWN0Tm9kZSc7XG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmlzT2JqZWN0Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxFbnRyaWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIC8vIHdlIHN0cmluZ2lmeS9wYXJzZSB0aGUga2V5IGhlcmUgdG8gcmVzb2x2ZSB1bmljb2RlIGNoYXJhY3RlcnMsXG4gICAgICAgIC8vIHNvIHlvdSBjYW5ub3QgY3JlYXRlIGEga2V5IGxpa2Uge1wiY29cXFxcdTAwNkVzdHJ1Y3RvclwiOiBudWxsfVxuICAgICAgICB2YXIgc3RyaW5naWZpZWRLZXkgPSBzdHJpbmdpZnkoa2V5KTtcbiAgICAgICAgdmFyIHBhcnNlZEtleSA9IEpTT04ucGFyc2Uoc3RyaW5naWZpZWRLZXkpO1xuXG4gICAgICAgIGlmICghaXNTYWZlUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBwYXJzZWRLZXkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcHJvcGVydHkgXCInICsgcGFyc2VkS2V5ICsgJ1wiJyk7XG4gICAgICAgIH1cblxuICAgICAgICBldmFsRW50cmllc1twYXJzZWRLZXldID0gdGhpcy5wcm9wZXJ0aWVzW2tleV0uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBldmFsT2JqZWN0Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5IGluIGV2YWxFbnRyaWVzKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShldmFsRW50cmllcywgX2tleSkpIHtcbiAgICAgICAgICBvYmpbX2tleV0gPSBldmFsRW50cmllc1tfa2V5XShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMucHJvcGVydGllc1trZXldLCAncHJvcGVydGllc1snICsgc3RyaW5naWZ5KGtleSkgKyAnXScsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYmplY3ROb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPYmplY3ROb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnByb3BlcnRpZXNba2V5XSwgJ3Byb3BlcnRpZXNbJyArIHN0cmluZ2lmeShrZXkpICsgJ10nLCB0aGlzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtPYmplY3ROb2RlfVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHRoaXMucHJvcGVydGllc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goc3RyaW5naWZ5KGtleSkgKyAnOiAnICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9TdHJpbmcob3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAneycgKyBlbnRyaWVzLmpvaW4oJywgJykgKyAnfSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdPYmplY3ROb2RlJyxcbiAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBPcGVyYXRvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIk9iamVjdE5vZGVcIiwgXCJwcm9wZXJ0aWVzXCI6IHsuLi59fWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge09iamVjdE5vZGV9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKGpzb24ucHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaCgnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXByb3BlcnR5XCI+JyArIGVzY2FwZShrZXkpICsgJzwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1wcm9wZXJ0eS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9IVE1MKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLWN1cmx5LXBhcmVudGhlc2lzXCI+ezwvc3Bhbj4nICsgZW50cmllcy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1jdXJseS1wYXJlbnRoZXNpc1wiPn08L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKCdcXFxcbWF0aGJmeycgKyBrZXkgKyAnOn0gJiAnICsgdGhpcy5wcm9wZXJ0aWVzW2tleV0udG9UZXgob3B0aW9ucykgKyAnXFxcXFxcXFwnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcXFxcbGVmdFxcXFx7XFxcXGJlZ2lue2FycmF5fXtsbH1cIi5jb25jYXQoZW50cmllcy5qb2luKCdcXG4nKSwgXCJcXFxcZW5ke2FycmF5fVxcXFxyaWdodFxcXFx9XCIpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3ROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIGlzU2FmZU1ldGhvZCB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZ2V0QXNzb2NpYXRpdml0eSwgZ2V0UHJlY2VkZW5jZSwgaXNBc3NvY2lhdGl2ZVdpdGgsIHByb3BlcnRpZXMgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgbGF0ZXhPcGVyYXRvcnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdPcGVyYXRvck5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVPcGVyYXRvck5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgT3BlcmF0b3JOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBbiBvcGVyYXRvciB3aXRoIHR3byBhcmd1bWVudHMsIGxpa2UgMiszXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcCAgICAgICAgICAgT3BlcmF0b3IgbmFtZSwgZm9yIGV4YW1wbGUgJysnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbiAgICAgICAgICAgRnVuY3Rpb24gbmFtZSwgZm9yIGV4YW1wbGUgJ2FkZCdcbiAgICogQHBhcmFtIHtOb2RlW119IGFyZ3MgICAgICAgICBPcGVyYXRvciBhcmd1bWVudHNcbiAgICogQHBhcmFtIHtib29sZWFufSBbaW1wbGljaXRdICBJcyB0aGlzIGFuIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uP1xuICAgKi9cbiAgZnVuY3Rpb24gT3BlcmF0b3JOb2RlKG9wLCBmbiwgYXJncywgaW1wbGljaXQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT3BlcmF0b3JOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICh0eXBlb2Ygb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm9wXCInKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJmblwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpIHx8ICFhcmdzLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImFyZ3NcIicpO1xuICAgIH1cblxuICAgIHRoaXMuaW1wbGljaXQgPSBpbXBsaWNpdCA9PT0gdHJ1ZTtcbiAgICB0aGlzLm9wID0gb3A7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuYXJncyA9IGFyZ3MgfHwgW107XG4gIH1cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50eXBlID0gJ09wZXJhdG9yTm9kZSc7XG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuaXNPcGVyYXRvck5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgLy8gdmFsaWRhdGUgZm5cbiAgICBpZiAodHlwZW9mIHRoaXMuZm4gIT09ICdzdHJpbmcnIHx8ICFpc1NhZmVNZXRob2QobWF0aCwgdGhpcy5mbikpIHtcbiAgICAgIGlmICghbWF0aFt0aGlzLmZuXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uICcgKyB0aGlzLmZuICsgJyBtaXNzaW5nIGluIHByb3ZpZGVkIG5hbWVzcGFjZSBcIm1hdGhcIicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gZnVuY3Rpb24gXCInICsgdGhpcy5mbiArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBmbiA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCB0aGlzLmZuKTtcbiAgICB2YXIgZXZhbEFyZ3MgPSBtYXAodGhpcy5hcmdzLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcblxuICAgIGlmIChldmFsQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBldmFsQXJnMCA9IGV2YWxBcmdzWzBdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuKGV2YWxBcmcwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB2YXIgX2V2YWxBcmcgPSBldmFsQXJnc1swXTtcbiAgICAgIHZhciBldmFsQXJnMSA9IGV2YWxBcmdzWzFdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuKF9ldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEFyZzEoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsT3BlcmF0b3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9wZXJhdG9yTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZSh0aGlzLm9wLCB0aGlzLmZuLCBhcmdzLCB0aGlzLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7T3BlcmF0b3JOb2RlfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUodGhpcy5vcCwgdGhpcy5mbiwgdGhpcy5hcmdzLnNsaWNlKDApLCB0aGlzLmltcGxpY2l0KTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhpcyBpcyBhbiB1bmFyeSBPcGVyYXRvck5vZGU6XG4gICAqIGhhcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgbGlrZSBgLWFgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhbiB1bmFyeSBvcGVyYXRvciBub2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc1VuYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFyZ3MubGVuZ3RoID09PSAxO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGlzIGEgYmluYXJ5IE9wZXJhdG9yTm9kZTpcbiAgICogaGFzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cywgbGlrZSBgYSArIGJgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhIGJpbmFyeSBvcGVyYXRvciBub2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc0JpbmFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hcmdzLmxlbmd0aCA9PT0gMjtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB3aGljaCBwYXJlbnRoZXNlcyBhcmUgbmVjZXNzYXJ5LiBHZXRzIGFuIE9wZXJhdG9yTm9kZVxuICAgKiAod2hpY2ggaXMgdGhlIHJvb3Qgb2YgdGhlIHRyZWUpIGFuZCBhbiBBcnJheSBvZiBOb2Rlc1xuICAgKiAodGhpcy5hcmdzKSBhbmQgcmV0dXJucyBhbiBhcnJheSB3aGVyZSAndHJ1ZScgbWVhbnMgdGhhdCBhbiBhcmd1bWVudFxuICAgKiBoYXMgdG8gYmUgZW5jbG9zZWQgaW4gcGFyZW50aGVzZXMgd2hlcmVhcyAnZmFsc2UnIG1lYW5zIHRoZSBvcHBvc2l0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtPcGVyYXRvck5vZGV9IHJvb3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBhcmdzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbGF0ZXhcbiAgICogQHJldHVybiB7Ym9vbGVhbltdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHJvb3QsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgbGF0ZXgpIHtcbiAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSByb290IE9wZXJhdG9yTm9kZVxuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShyb290LCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGFzc29jaWF0aXZpdHkgPSBnZXRBc3NvY2lhdGl2aXR5KHJvb3QsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgYXJncy5sZW5ndGggPiAyICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpICE9PSAnT3BlcmF0b3JOb2RlOmFkZCcgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgIT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSB7XG4gICAgICByZXR1cm4gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBzd2l0Y2ggKGFyZy5nZXRDb250ZW50KCkudHlwZSkge1xuICAgICAgICAgIC8vIE5vZGVzIHRoYXQgZG9uJ3QgbmVlZCBleHRyYSBwYXJlbnRoZXNlc1xuICAgICAgICAgIGNhc2UgJ0FycmF5Tm9kZSc6XG4gICAgICAgICAgY2FzZSAnQ29uc3RhbnROb2RlJzpcbiAgICAgICAgICBjYXNlICdTeW1ib2xOb2RlJzpcbiAgICAgICAgICBjYXNlICdQYXJlbnRoZXNpc05vZGUnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSBvcGVyYW5kXG4gICAgICAgICAgdmFyIG9wZXJhbmRQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzBdLCBwYXJlbnRoZXNpcyk7IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBMYVRlWCwgd2hlcmUgc29tZSBvZiB0aGUgcGFyZW50aGVzZXMgYXJlbid0IG5lZWRlZFxuXG4gICAgICAgICAgaWYgKGxhdGV4ICYmIG9wZXJhbmRQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgb3BlcmFuZElkZW50aWZpZXI7XG4gICAgICAgICAgICB2YXIgcm9vdElkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgICAgICAgIG9wZXJhbmRJZGVudGlmaWVyID0gYXJnc1swXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXMgTm9kZXMgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgICAgICAgb3BlcmFuZElkZW50aWZpZXIgPSBhcmdzWzBdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIHJvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtyb290SWRlbnRpZmllcl0ubGF0ZXhMZWZ0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbb3BlcmFuZFByZWNlZGVuY2VdW29wZXJhbmRJZGVudGlmaWVyXS5sYXRleFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9wZXJhbmRQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgb3BlcmFuZCBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcGVyYW5kUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgb3BlcmFuZHMgcHJlY2VkZW5jZSBpcyBsb3dlciwgcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIHJlc3VsdCA9IFt0cnVlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gLy8gb3RoZXJ3aXNlLCBubyBwYXJlbnMgbmVlZGVkXG5cblxuICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gYmluYXJ5IG9wZXJhdG9yc1xuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxoc1BhcmVuczsgLy8gbGVmdCBoYW5kIHNpZGUgbmVlZHMgcGFyZW50aGVzaXM/XG4gICAgICAgICAgLy8gcHJlY2VkZW5jZSBvZiB0aGUgbGVmdCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciBsaHNQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzBdLCBwYXJlbnRoZXNpcyk7IC8vIGlzIHRoZSByb290IG5vZGUgYXNzb2NpYXRpdmUgd2l0aCB0aGUgbGVmdCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciBhc3NvY1dpdGhMaHMgPSBpc0Fzc29jaWF0aXZlV2l0aChyb290LCBhcmdzWzBdLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICBpZiAobGhzUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGxlZnQgaGFuZCBzaWRlIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAvLyBGdW5jdGlvbk5vZGUgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGhzUHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSAncmlnaHQnICYmICFhc3NvY1dpdGhMaHMpIHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXF1YWwgcHJlY2VkZW5jZSwgaWYgdGhlIHJvb3Qgbm9kZSBpcyBsZWZ0IGFzc29jaWF0aXZlXG4gICAgICAgICAgICAvLyBwYXJlbnMgYXJlICoqbmV2ZXIqKiBuZWNlc3NhcnkgZm9yIHRoZSBsZWZ0IGhhbmQgc2lkZS5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHJpZ2h0IGFzc29jaWF0aXZlIGhvd2V2ZXIsIHBhcmVucyBhcmUgbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBpZiB0aGUgcm9vdCBub2RlIGlzbid0IGFzc29jaWF0aXZlIHdpdGggdGhlIGxlZnQgaGFuZCBzaWRlXG4gICAgICAgICAgICBsaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGhzUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByaHNQYXJlbnM7IC8vIHJpZ2h0IGhhbmQgc2lkZSBuZWVkcyBwYXJlbnRoZXNpcz9cbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSByaWdodCBoYW5kIHNpZGVcblxuICAgICAgICAgIHZhciByaHNQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShhcmdzWzFdLCBwYXJlbnRoZXNpcyk7IC8vIGlzIHRoZSByb290IG5vZGUgYXNzb2NpYXRpdmUgd2l0aCB0aGUgcmlnaHQgaGFuZCBzaWRlP1xuXG4gICAgICAgICAgdmFyIGFzc29jV2l0aFJocyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZ3NbMV0sIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgIGlmIChyaHNQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcmlnaHQgaGFuZCBzaWRlIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICAvLyBGdW5jdGlvbk5vZGUgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmhzUHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSAmJiBhc3NvY2lhdGl2aXR5ID09PSAnbGVmdCcgJiYgIWFzc29jV2l0aFJocykge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcXVhbCBwcmVjZWRlbmNlLCBpZiB0aGUgcm9vdCBub2RlIGlzIHJpZ2h0IGFzc29jaWF0aXZlXG4gICAgICAgICAgICAvLyBwYXJlbnMgYXJlICoqbmV2ZXIqKiBuZWNlc3NhcnkgZm9yIHRoZSByaWdodCBoYW5kIHNpZGUuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyBsZWZ0IGFzc29jaWF0aXZlIGhvd2V2ZXIsIHBhcmVucyBhcmUgbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBpZiB0aGUgcm9vdCBub2RlIGlzbid0IGFzc29jaWF0aXZlIHdpdGggdGhlIHJpZ2h0IGhhbmQgc2lkZVxuICAgICAgICAgICAgcmhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJoc1ByZWNlZGVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICByaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBMYVRlWCwgd2hlcmUgc29tZSBvZiB0aGUgcGFyZW50aGVzZXMgYXJlbid0IG5lZWRlZFxuXG5cbiAgICAgICAgICBpZiAobGF0ZXgpIHtcbiAgICAgICAgICAgIHZhciBfcm9vdElkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIHZhciBsaHNJZGVudGlmaWVyO1xuICAgICAgICAgICAgdmFyIHJoc0lkZW50aWZpZXI7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgICAgICAgIF9yb290SWRlbnRpZmllciA9IHJvb3QuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICBsaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzBdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcmhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1sxXS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgUGFyZW50aGVzaXNOb2RlcyB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgICAgICAgICAgICBfcm9vdElkZW50aWZpZXIgPSByb290LmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIGxoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMF0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcmhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1sxXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGhzUHJlY2VkZW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydGllc1twcmVjZWRlbmNlXVtfcm9vdElkZW50aWZpZXJdLmxhdGV4TGVmdFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2xoc1ByZWNlZGVuY2VdW2xoc0lkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyaHNQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW19yb290SWRlbnRpZmllcl0ubGF0ZXhSaWdodFBhcmVucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByaHNQYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3Joc1ByZWNlZGVuY2VdW3Joc0lkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzdWx0ID0gW2xoc1BhcmVucywgcmhzUGFyZW5zXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgcm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgdmFyIGFyZ1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZywgcGFyZW50aGVzaXMpO1xuICAgICAgICAgICAgdmFyIGFzc29jV2l0aEFyZyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZywgcGFyZW50aGVzaXMpO1xuICAgICAgICAgICAgdmFyIGFyZ0Fzc29jaWF0aXZpdHkgPSBnZXRBc3NvY2lhdGl2aXR5KGFyZywgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgICBpZiAoYXJnUHJlY2VkZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgYXJndW1lbnQgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVjZWRlbmNlID09PSBhcmdQcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09IGFyZ0Fzc29jaWF0aXZpdHkgJiYgIWFzc29jV2l0aEFyZykge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH0gLy8gaGFuZGxlcyBhbiBlZGdlIGNhc2Ugb2YgJ2F1dG8nIHBhcmVudGhlc2VzIHdpdGggaW1wbGljaXQgbXVsdGlwbGljYXRpb24gb2YgQ29uc3RhbnROb2RlXG4gICAgLy8gSW4gdGhhdCBjYXNlIHByaW50IHBhcmVudGhlc2VzIGZvciBQYXJlbnRoZXNpc05vZGVzIGV2ZW4gdGhvdWdoIHRoZXkgbm9ybWFsbHkgd291bGRuJ3QgYmVcbiAgICAvLyBwcmludGVkLlxuXG5cbiAgICBpZiAoYXJncy5sZW5ndGggPj0gMiAmJiByb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgcm9vdC5pbXBsaWNpdCAmJiBwYXJlbnRoZXNpcyA9PT0gJ2F1dG8nICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgIHJlc3VsdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIHZhciBpc1BhcmVudGhlc2lzTm9kZSA9IGFyZy5nZXRJZGVudGlmaWVyKCkgPT09ICdQYXJlbnRoZXNpc05vZGUnO1xuXG4gICAgICAgIGlmIChyZXN1bHRbaW5kZXhdIHx8IGlzUGFyZW50aGVzaXNOb2RlKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGZhbHNlKTtcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gJygnICsgb3BlcmFuZCArICcpJztcbiAgICAgIH0gLy8gZm9yIGV4YW1wbGUgZm9yIFwibm90XCIsIHdlIHdhbnQgYSBzcGFjZSBiZXR3ZWVuIG9wZXJhbmQgYW5kIGFyZ3VtZW50XG5cblxuICAgICAgdmFyIG9wSXNOYW1lZCA9IC9bYS16QS1aXSsvLnRlc3QodGhpcy5vcCk7XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIHRoaXMub3AgKyAob3BJc05hbWVkID8gJyAnIDogJycpICsgb3BlcmFuZDtcbiAgICAgIH0gZWxzZSBpZiAoYXNzb2MgPT09ICdsZWZ0Jykge1xuICAgICAgICAvLyBwb3N0Zml4XG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgKG9wSXNOYW1lZCA/ICcgJyA6ICcnKSArIHRoaXMub3A7XG4gICAgICB9IC8vIGZhbGwgYmFjayB0byBwb3N0Zml4XG5cblxuICAgICAgcmV0dXJuIG9wZXJhbmQgKyB0aGlzLm9wO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXS50b1N0cmluZyhvcHRpb25zKTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgLy8gbGVmdCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIGxocyA9ICcoJyArIGxocyArICcpJztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICAvLyByaWdodCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIHJocyA9ICcoJyArIHJocyArICcpJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIGxocyArICcgJyArIHJocztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxocyArICcgJyArIHRoaXMub3AgKyAnICcgKyByaHM7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgdmFyIHN0cmluZ2lmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICBhcmcgPSAnKCcgKyBhcmcgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignICcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJyAnICsgdGhpcy5vcCArICcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICByZXR1cm4gdGhpcy5mbiArICcoJyArIHRoaXMuYXJncy5qb2luKCcsICcpICsgJyknO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnT3BlcmF0b3JOb2RlJyxcbiAgICAgIG9wOiB0aGlzLm9wLFxuICAgICAgZm46IHRoaXMuZm4sXG4gICAgICBhcmdzOiB0aGlzLmFyZ3MsXG4gICAgICBpbXBsaWNpdDogdGhpcy5pbXBsaWNpdFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBPcGVyYXRvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIk9wZXJhdG9yTm9kZVwiLCBcIm9wXCI6IFwiK1wiLCBcImZuXCI6IFwiYWRkXCIsIFwiYXJnc1wiOiBbLi4uXSwgXCJpbXBsaWNpdFwiOiBmYWxzZX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShqc29uLm9wLCBqc29uLmZuLCBqc29uLmFyZ3MsIGpzb24uaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBmYWxzZSk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBvcGVyYW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtdW5hcnktb3BlcmF0b3IgbWF0aC1sZWZ0aGFuZC11bmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcG9zdGZpeCB3aGVuIGFzc29jID09PSAnbGVmdCcgb3IgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBvcGVyYW5kICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXVuYXJ5LW9wZXJhdG9yIG1hdGgtcmlnaHRoYW5kLXVuYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAvLyBiaW5hcnkgb3BlcmF0b2VzXG4gICAgICB2YXIgbGhzID0gYXJnc1swXS50b0hUTUwob3B0aW9ucyk7IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdLnRvSFRNTChvcHRpb25zKTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgLy8gbGVmdCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIGxocyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICAvLyByaWdodCBoYW5kIHNpZGUgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgIHJocyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHJocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1pbXBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj48L3NwYW4+JyArIHJocztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxocyArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nICsgcmhzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RyaW5naWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIC8vIHB1dCBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgICBhcmcgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBhcmcgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtaW1wbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+PC9zcGFuPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGZvcm1hdHRpbmcgYXMgYSBmdW5jdGlvbiBjYWxsXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLWZ1bmN0aW9uXCI+JyArIGVzY2FwZSh0aGlzLmZuKSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdHJpbmdpZmllZEFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGltcGxpY2l0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmltcGxpY2l0ID8gb3B0aW9ucy5pbXBsaWNpdCA6ICdoaWRlJztcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCB0cnVlKTtcbiAgICB2YXIgb3AgPSBsYXRleE9wZXJhdG9yc1t0aGlzLmZuXTtcbiAgICBvcCA9IHR5cGVvZiBvcCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLm9wIDogb3A7IC8vIGZhbGwgYmFjayB0byB1c2luZyB0aGlzLm9wXG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHVuYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGFzc29jID0gZ2V0QXNzb2NpYXRpdml0eSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgICB2YXIgb3BlcmFuZCA9IGFyZ3NbMF0udG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KG9wZXJhbmQsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gb3AgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIGlmIChhc3NvYyA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIC8vIHBvc3RmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyBvcDtcbiAgICAgIH0gLy8gZmFsbCBiYWNrIHRvIHBvc3RmaXhcblxuXG4gICAgICByZXR1cm4gb3BlcmFuZCArIG9wO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIGJpbmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdOyAvLyBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICB2YXIgbGhzVGV4ID0gbGhzLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIGxoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGxoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmhzID0gYXJnc1sxXTsgLy8gcmlnaHQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHNUZXggPSByaHMudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMV0pIHtcbiAgICAgICAgcmhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQocmhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9IC8vIGhhbmRsZSBzb21lIGV4Y2VwdGlvbnMgKGR1ZSB0byB0aGUgd2F5IExhVGVYIHdvcmtzKVxuXG5cbiAgICAgIHZhciBsaHNJZGVudGlmaWVyO1xuXG4gICAgICBpZiAocGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgICBsaHNJZGVudGlmaWVyID0gbGhzLmdldElkZW50aWZpZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpc05vZGVzIGlmIGluICdrZWVwJyBtb2RlXG4gICAgICAgIGxoc0lkZW50aWZpZXIgPSBsaHMuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0aGlzLmdldElkZW50aWZpZXIoKSkge1xuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6ZGl2aWRlJzpcbiAgICAgICAgICAvLyBvcCBjb250YWlucyAnXFxcXGZyYWMnIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICByZXR1cm4gb3AgKyAneycgKyBsaHNUZXggKyAnfScgKyAneycgKyByaHNUZXggKyAnfSc7XG5cbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOnBvdyc6XG4gICAgICAgICAgbGhzVGV4ID0gJ3snICsgbGhzVGV4ICsgJ30nO1xuICAgICAgICAgIHJoc1RleCA9ICd7JyArIHJoc1RleCArICd9JztcblxuICAgICAgICAgIHN3aXRjaCAobGhzSWRlbnRpZmllcikge1xuICAgICAgICAgICAgY2FzZSAnQ29uZGl0aW9uYWxOb2RlJzogLy9cblxuICAgICAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOmRpdmlkZSc6XG4gICAgICAgICAgICAgIGxoc1RleCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGxoc1RleCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTptdWx0aXBseSc6XG4gICAgICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICAgICAgcmV0dXJuIGxoc1RleCArICd+JyArIHJoc1RleDtcbiAgICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxoc1RleCArIG9wICsgcmhzVGV4O1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAyICYmICh0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTphZGQnIHx8IHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JykpIHtcbiAgICAgIHZhciB0ZXhpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHBhcmVuc1tpbmRleF0pIHtcbiAgICAgICAgICBhcmcgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChhcmcsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiB0aGlzLmltcGxpY2l0KSB7XG4gICAgICAgIHJldHVybiB0ZXhpZmllZEFyZ3Muam9pbignficpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4aWZpZWRBcmdzLmpvaW4ob3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmYWxsIGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgIC8vIGFzIHRoaXMgaXMgYSBmYWxsYmFjaywgaXQgZG9lc24ndCB1c2VcbiAgICAgIC8vIGZhbmN5IGZ1bmN0aW9uIG5hbWVzXG4gICAgICByZXR1cm4gJ1xcXFxtYXRocm17JyArIHRoaXMuZm4gKyAnfVxcXFxsZWZ0KCcgKyBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgICB9KS5qb2luKCcsJykgKyAnXFxcXHJpZ2h0KSc7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSArICc6JyArIHRoaXMuZm47XG4gIH07XG5cbiAgcmV0dXJuIE9wZXJhdG9yTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdQYXJlbnRoZXNpc05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVQYXJlbnRoZXNpc05vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgUGFyZW50aGVzaXNOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKiBBIHBhcmVudGhlc2lzIG5vZGUgZGVzY3JpYmVzIG1hbnVhbCBwYXJlbnRoZXNpcyBmcm9tIHRoZSB1c2VyIGlucHV0XG4gICAqIEBwYXJhbSB7Tm9kZX0gY29udGVudFxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIFBhcmVudGhlc2lzTm9kZShjb250ZW50KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhcmVudGhlc2lzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAoIWlzTm9kZShjb250ZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiY29udGVudFwiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnR5cGUgPSAnUGFyZW50aGVzaXNOb2RlJztcbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5pc1BhcmVudGhlc2lzTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgY29udGVudCBvZiB0aGUgY3VycmVudCBOb2RlLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBjb250ZW50XG4gICAqIEBvdmVycmlkZVxuICAgKiovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5nZXRDb250ZW50KCk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5jb250ZW50LCAnY29udGVudCcsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBhcmVudGhlc2lzTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1BhcmVudGhlc2lzTm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgY29udGVudCA9IGNhbGxiYWNrKHRoaXMuY29udGVudCwgJ2NvbnRlbnQnLCB0aGlzKTtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZShjb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UGFyZW50aGVzaXNOb2RlfVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNpc05vZGUodGhpcy5jb250ZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gJygnICsgdGhpcy5jb250ZW50LnRvU3RyaW5nKG9wdGlvbnMpICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9TdHJpbmcob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1BhcmVudGhlc2lzTm9kZScsXG4gICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnRcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gUGFyZW50aGVzaXNOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJQYXJlbnRoZXNpc05vZGVcIiwgXCJjb250ZW50XCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtQYXJlbnRoZXNpc05vZGV9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZShqc29uLmNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zICYmICFvcHRpb25zLnBhcmVudGhlc2lzIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdGhpcy5jb250ZW50LnRvSFRNTChvcHRpb25zKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvSFRNTChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiBcIlxcXFxsZWZ0KFwiLmNvbmNhdCh0aGlzLmNvbnRlbnQudG9UZXgob3B0aW9ucyksIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRvVGV4KG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBQYXJlbnRoZXNpc05vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ1JhbmdlTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVJhbmdlTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBSYW5nZU5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIGNyZWF0ZSBhIHJhbmdlXG4gICAqIEBwYXJhbSB7Tm9kZX0gc3RhcnQgIGluY2x1ZGVkIGxvd2VyLWJvdW5kXG4gICAqIEBwYXJhbSB7Tm9kZX0gZW5kICAgIGluY2x1ZGVkIHVwcGVyLWJvdW5kXG4gICAqIEBwYXJhbSB7Tm9kZX0gW3N0ZXBdIG9wdGlvbmFsIHN0ZXBcbiAgICovXG4gIGZ1bmN0aW9uIFJhbmdlTm9kZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dHNcblxuXG4gICAgaWYgKCFpc05vZGUoc3RhcnQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKCFpc05vZGUoZW5kKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmIChzdGVwICYmICFpc05vZGUoc3RlcCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHRocm93IG5ldyBFcnJvcignVG9vIG1hbnkgYXJndW1lbnRzJyk7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0OyAvLyBpbmNsdWRlZCBsb3dlci1ib3VuZFxuXG4gICAgdGhpcy5lbmQgPSBlbmQ7IC8vIGluY2x1ZGVkIHVwcGVyLWJvdW5kXG5cbiAgICB0aGlzLnN0ZXAgPSBzdGVwIHx8IG51bGw7IC8vIG9wdGlvbmFsIHN0ZXBcbiAgfVxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBSYW5nZU5vZGUucHJvdG90eXBlLnR5cGUgPSAnUmFuZ2VOb2RlJztcbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5pc1JhbmdlTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoZSBSYW5nZU5vZGUgbmVlZHMgdGhlIGBlbmRgIHN5bWJvbCB0byBiZSBkZWZpbmVkLlxuICAgKiBUaGlzIGVuZCBpcyB0aGUgc2l6ZSBvZiB0aGUgTWF0cml4IGluIGN1cnJlbnQgZGltZW5zaW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLm5lZWRzRW5kID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGZpbmQgYWxsIGBlbmRgIHN5bWJvbHMgaW4gdGhpcyBSYW5nZU5vZGVcbiAgICB2YXIgZW5kU3ltYm9scyA9IHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gaXNTeW1ib2xOb2RlKG5vZGUpICYmIG5vZGUubmFtZSA9PT0gJ2VuZCc7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVuZFN5bWJvbHMubGVuZ3RoID4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHJhbmdlID0gbWF0aC5yYW5nZTtcblxuICAgIHZhciBldmFsU3RhcnQgPSB0aGlzLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBldmFsRW5kID0gdGhpcy5lbmQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgaWYgKHRoaXMuc3RlcCkge1xuICAgICAgdmFyIGV2YWxTdGVwID0gdGhpcy5zdGVwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSYW5nZU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKGV2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsU3RlcChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSYW5nZU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKGV2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxFbmQoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMuc3RhcnQsICdzdGFydCcsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuZW5kLCAnZW5kJywgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLnN0ZXAsICdzdGVwJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFJhbmdlTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UmFuZ2VOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUodGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuc3RhcnQsICdzdGFydCcsIHRoaXMpKSwgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZW5kLCAnZW5kJywgdGhpcykpLCB0aGlzLnN0ZXAgJiYgdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuc3RlcCwgJ3N0ZXAnLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtSYW5nZU5vZGV9XG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgdGhpcy5zdGVwICYmIHRoaXMuc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG5lY2Vzc2FyeSBwYXJlbnRoZXNlc1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gICAqIEByZXR1cm4ge09iamVjdH0gcGFyZW50aGVzZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmVucyA9IHt9O1xuICAgIHZhciBzdGFydFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuc3RhcnQsIHBhcmVudGhlc2lzKTtcbiAgICBwYXJlbnMuc3RhcnQgPSBzdGFydFByZWNlZGVuY2UgIT09IG51bGwgJiYgc3RhcnRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuXG4gICAgaWYgKG5vZGUuc3RlcCkge1xuICAgICAgdmFyIHN0ZXBQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLnN0ZXAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHBhcmVucy5zdGVwID0gc3RlcFByZWNlZGVuY2UgIT09IG51bGwgJiYgc3RlcFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG4gICAgfVxuXG4gICAgdmFyIGVuZFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuZW5kLCBwYXJlbnRoZXNpcyk7XG4gICAgcGFyZW5zLmVuZCA9IGVuZFByZWNlZGVuY2UgIT09IG51bGwgJiYgZW5kUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcbiAgICByZXR1cm4gcGFyZW5zO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gZm9ybWF0IHN0cmluZyBhcyBzdGFydDpzdGVwOnN0b3BcblxuICAgIHZhciBzdHI7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gJygnICsgc3RhcnQgKyAnKSc7XG4gICAgfVxuXG4gICAgc3RyID0gc3RhcnQ7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSAnKCcgKyBzdGVwICsgJyknO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzonICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLmVuZCkge1xuICAgICAgZW5kID0gJygnICsgZW5kICsgJyknO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUmFuZ2VOb2RlJyxcbiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgZW5kOiB0aGlzLmVuZCxcbiAgICAgIHN0ZXA6IHRoaXMuc3RlcFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBSYW5nZU5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlTm9kZVwiLCBcInN0YXJ0XCI6IC4uLiwgXCJlbmRcIjogLi4uLCBcInN0ZXBcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1JhbmdlTm9kZX1cbiAgICovXG5cblxuICBSYW5nZU5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKGpzb24uc3RhcnQsIGpzb24uZW5kLCBqc29uLnN0ZXApO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpOyAvLyBmb3JtYXQgc3RyaW5nIGFzIHN0YXJ0OnN0ZXA6c3RvcFxuXG4gICAgdmFyIHN0cjtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RhcnQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgc3RyID0gc3RhcnQ7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnMuc3RlcCkge1xuICAgICAgICBzdGVwID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgc3RlcCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1yYW5nZS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBlbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgc3RyICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1yYW5nZS1vcGVyYXRvclwiPjo8L3NwYW4+JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbXMge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHN0ciA9IHRoaXMuc3RhcnQudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAocGFyZW5zLnN0YXJ0KSB7XG4gICAgICBzdHIgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChzdHIsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcC50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChzdGVwLCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnOicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChlbmQsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICBzdHIgKz0gJzonICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGxhdGV4T3BlcmF0b3JzIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnUmVsYXRpb25hbE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVSZWxhdGlvbmFsTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgbm9kZSByZXByZXNlbnRpbmcgYSBjaGFpbmVkIGNvbmRpdGlvbmFsIGV4cHJlc3Npb24sIHN1Y2ggYXMgJ3ggPiB5ID4geidcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gY29uZGl0aW9uYWxzICAgQW4gYXJyYXkgb2YgY29uZGl0aW9uYWwgb3BlcmF0b3JzIHVzZWQgdG8gY29tcGFyZSB0aGUgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gcGFyYW1zICAgVGhlIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIGNvbXBhcmVkXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvciBSZWxhdGlvbmFsTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIFJlbGF0aW9uYWxOb2RlKGNvbmRpdGlvbmFscywgcGFyYW1zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlbGF0aW9uYWxOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZGl0aW9uYWxzKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIGNvbmRpdGlvbmFscyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBwYXJhbXMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgIGlmIChjb25kaXRpb25hbHMubGVuZ3RoICE9PSBwYXJhbXMubGVuZ3RoIC0gMSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHBhcmFtcyBtdXN0IGNvbnRhaW4gZXhhY3RseSBvbmUgbW9yZSBlbGVtZW50IHRoYW4gcGFyYW1ldGVyIGNvbmRpdGlvbmFscycpO1xuICAgIHRoaXMuY29uZGl0aW9uYWxzID0gY29uZGl0aW9uYWxzO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICB9XG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnUmVsYXRpb25hbE5vZGUnO1xuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuaXNSZWxhdGlvbmFsTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY29tcGlsZWQgPSB0aGlzLnBhcmFtcy5tYXAocCA9PiBwLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxSZWxhdGlvbmFsTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIGV2YWxMaHM7XG4gICAgICB2YXIgZXZhbFJocyA9IGNvbXBpbGVkWzBdKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmFsTGhzID0gZXZhbFJocztcbiAgICAgICAgZXZhbFJocyA9IGNvbXBpbGVkW2kgKyAxXShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBjb25kRm4gPSBnZXRTYWZlUHJvcGVydHkobWF0aCwgc2VsZi5jb25kaXRpb25hbHNbaV0pO1xuXG4gICAgICAgIGlmICghY29uZEZuKGV2YWxMaHMsIGV2YWxSaHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLnBhcmFtcy5mb3JFYWNoKChuLCBpKSA9PiBjYWxsYmFjayhuLCAncGFyYW1zWycgKyBpICsgJ10nLCB0aGlzKSwgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmVsYXRpb25hbE5vZGUgaGF2aW5nIGl0cyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UmVsYXRpb25hbE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUodGhpcy5jb25kaXRpb25hbHMuc2xpY2UoKSwgdGhpcy5wYXJhbXMubWFwKChuLCBpKSA9PiB0aGlzLl9pZk5vZGUoY2FsbGJhY2sobiwgJ3BhcmFtc1snICsgaSArICddJywgdGhpcykpLCB0aGlzKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1JlbGF0aW9uYWxOb2RlfVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uYWxzLCB0aGlzLnBhcmFtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyYW1TdHJpbmdzID0gdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgdmFyIHBhcmFtUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UocCwgcGFyZW50aGVzaXMpO1xuICAgICAgcmV0dXJuIHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBwYXJhbVByZWNlZGVuY2UgIT09IG51bGwgJiYgcGFyYW1QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgPyAnKCcgKyBwLnRvU3RyaW5nKG9wdGlvbnMpICsgJyknIDogcC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgb3BlcmF0b3JNYXAgPSB7XG4gICAgICBlcXVhbDogJz09JyxcbiAgICAgIHVuZXF1YWw6ICchPScsXG4gICAgICBzbWFsbGVyOiAnPCcsXG4gICAgICBsYXJnZXI6ICc+JyxcbiAgICAgIHNtYWxsZXJFcTogJzw9JyxcbiAgICAgIGxhcmdlckVxOiAnPj0nXG4gICAgfTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9ICcgJyArIG9wZXJhdG9yTWFwW3RoaXMuY29uZGl0aW9uYWxzW2ldXSArICcgJyArIHBhcmFtU3RyaW5nc1tpICsgMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSZWxhdGlvbmFsTm9kZScsXG4gICAgICBjb25kaXRpb25hbHM6IHRoaXMuY29uZGl0aW9uYWxzLFxuICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFJlbGF0aW9uYWxOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJSZWxhdGlvbmFsTm9kZVwiLCBcImNvbmRpdGlvblwiOiAuLi4sIFwidHJ1ZUV4cHJcIjogLi4uLCBcImZhbHNlRXhwclwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UmVsYXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUoanNvbi5jb25kaXRpb25hbHMsIGpzb24ucGFyYW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHAudG9IVE1MKG9wdGlvbnMpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nIDogcC50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIG9wZXJhdG9yTWFwID0ge1xuICAgICAgZXF1YWw6ICc9PScsXG4gICAgICB1bmVxdWFsOiAnIT0nLFxuICAgICAgc21hbGxlcjogJzwnLFxuICAgICAgbGFyZ2VyOiAnPicsXG4gICAgICBzbWFsbGVyRXE6ICc8PScsXG4gICAgICBsYXJnZXJFcTogJz49J1xuICAgIH07XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yIG1hdGgtZXhwbGljaXQtYmluYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZShvcGVyYXRvck1hcFt0aGlzLmNvbmRpdGlvbmFsc1tpXV0pICsgJzwvc3Bhbj4nICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICdcXFxcbGVmdCgnICsgcC50b1RleChvcHRpb25zKSArICdcXHJpZ2h0KScgOiBwLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gbGF0ZXhPcGVyYXRvcnNbdGhpcy5jb25kaXRpb25hbHNbaV1dICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHJldHVybiBSZWxhdGlvbmFsTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5pbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLCBpc0luZGV4Tm9kZSwgaXNOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCB2YWxpZGF0ZVNhZmVNZXRob2QgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZSwgbGF0ZXhGdW5jdGlvbnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG52YXIgbmFtZSA9ICdGdW5jdGlvbk5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnbWF0aCcsICdOb2RlJywgJ1N5bWJvbE5vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRnVuY3Rpb25Ob2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aCxcbiAgICBOb2RlLFxuICAgIFN5bWJvbE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBGdW5jdGlvbk5vZGVcbiAgICogQGV4dGVuZHMgey4vTm9kZX1cbiAgICogaW52b2tlIGEgbGlzdCB3aXRoIGFyZ3VtZW50cyBvbiBhIG5vZGVcbiAgICogQHBhcmFtIHsuL05vZGUgfCBzdHJpbmd9IGZuIE5vZGUgcmVzb2x2aW5nIHdpdGggYSBmdW5jdGlvbiBvbiB3aGljaCB0byBpbnZva2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBhcmd1bWVudHMsIHR5cGljYWxseSBhIFN5bWJvTm9kZSBvciBBY2Nlc3Nvck5vZGVcbiAgICogQHBhcmFtIHsuL05vZGVbXX0gYXJnc1xuICAgKi9cbiAgZnVuY3Rpb24gRnVuY3Rpb25Ob2RlKGZuLCBhcmdzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZuID0gbmV3IFN5bWJvbE5vZGUoZm4pO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKCFpc05vZGUoZm4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGFzIHBhcmFtZXRlciBcImZuXCInKTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSB8fCAhYXJncy5ldmVyeShpc05vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIE5vZGVzIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJhcmdzXCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy5hcmdzID0gYXJncyB8fCBbXTsgLy8gcmVhZG9ubHkgcHJvcGVydHkgbmFtZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZuLm5hbWUgfHwgJyc7XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50eXBlID0gJ0Z1bmN0aW9uTm9kZSc7XG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuaXNGdW5jdGlvbk5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHZhbGlkIEZ1bmN0aW9uTm9kZScpO1xuICAgIH0gLy8gY29tcGlsZSBhcmd1bWVudHNcblxuXG4gICAgdmFyIGV2YWxBcmdzID0gbWFwKHRoaXMuYXJncywgZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNTeW1ib2xOb2RlKHRoaXMuZm4pKSB7XG4gICAgICAvLyB3ZSBjYW4gc3RhdGljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGUgZnVuY3Rpb24gaGFzIGFuIHJhd0FyZ3MgcHJvcGVydHlcbiAgICAgIHZhciBfbmFtZSA9IHRoaXMuZm4ubmFtZTtcbiAgICAgIHZhciBmbiA9IF9uYW1lIGluIG1hdGggPyBnZXRTYWZlUHJvcGVydHkobWF0aCwgX25hbWUpIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGlzUmF3ID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIGZuLnJhd0FyZ3MgPT09IHRydWU7XG5cbiAgICAgIGlmIChpc1Jhdykge1xuICAgICAgICAvLyBwYXNzIHVuZXZhbHVhdGVkIHBhcmFtZXRlcnMgKG5vZGVzKSB0byB0aGUgZnVuY3Rpb25cbiAgICAgICAgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIHZhciByYXdBcmdzID0gdGhpcy5hcmdzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShyYXdBcmdzLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHZhciBldmFsQXJnMCA9IGV2YWxBcmdzWzBdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikoZXZhbEFyZzAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHZhciBfZXZhbEFyZyA9IGV2YWxBcmdzWzBdO1xuICAgICAgICAgIHZhciBldmFsQXJnMSA9IGV2YWxBcmdzWzFdO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKF9uYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBfbmFtZSkgOiBmbikoX2V2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsQXJnMShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKS5hcHBseShudWxsLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FjY2Vzc29yTm9kZSh0aGlzLmZuKSAmJiBpc0luZGV4Tm9kZSh0aGlzLmZuLmluZGV4KSAmJiB0aGlzLmZuLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgLy8gZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmlnaHQgY29udGV4dDogdGhlIG9iamVjdCBvZiB0aGUgQWNjZXNzb3JOb2RlXG4gICAgICB2YXIgZXZhbE9iamVjdCA9IHRoaXMuZm4ub2JqZWN0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgdmFyIHByb3AgPSB0aGlzLmZuLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCk7XG4gICAgICB2YXIgX3Jhd0FyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhbGlkYXRlU2FmZU1ldGhvZChvYmplY3QsIHByb3ApO1xuICAgICAgICB2YXIgaXNSYXcgPSBvYmplY3RbcHJvcF0gJiYgb2JqZWN0W3Byb3BdLnJhd0FyZ3M7XG4gICAgICAgIHJldHVybiBpc1JhdyA/IG9iamVjdFtwcm9wXShfcmF3QXJncywgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSkgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIDogb2JqZWN0W3Byb3BdLmFwcGx5KG9iamVjdCwgbWFwKGV2YWxBcmdzLCBmdW5jdGlvbiAoZXZhbEFyZykge1xuICAgICAgICAgIC8vIFwicmVndWxhclwiIGV2YWx1YXRpb25cbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vZGUuZm4uaXNBY2Nlc3Nvck5vZGUgJiYgIW5vZGUuZm4uaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpXG4gICAgICAvLyB3ZSBoYXZlIHRvIGR5bmFtaWNhbGx5IGRldGVybWluZSB3aGV0aGVyIHRoZSBmdW5jdGlvbiBoYXMgYSByYXdBcmdzIHByb3BlcnR5XG4gICAgICB2YXIgZXZhbEZuID0gdGhpcy5mbi5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIHZhciBfcmF3QXJnczIgPSB0aGlzLmFyZ3M7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgZm4gPSBldmFsRm4oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaXNSYXcgPSBmbiAmJiBmbi5yYXdBcmdzO1xuICAgICAgICByZXR1cm4gaXNSYXcgPyBmbihfcmF3QXJnczIsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpIC8vIFwicmF3XCIgZXZhbHVhdGlvblxuICAgICAgICA6IGZuLmFwcGx5KGZuLCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5mbiwgJ2ZuJywgdGhpcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEZ1bmN0aW9uTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25Ob2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGZuID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuZm4sICdmbicsIHRoaXMpKTtcblxuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbk5vZGUoZm4sIGFyZ3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbk5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZSh0aGlzLmZuLCB0aGlzLmFyZ3Muc2xpY2UoMCkpO1xuICB9OyAvLyBiYWNrdXAgTm9kZSdzIHRvU3RyaW5nIGZ1bmN0aW9uXG4gIC8vIEBwcml2YXRlXG5cblxuICB2YXIgbm9kZVRvU3RyaW5nID0gRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1N0cmluZztcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKiBUaGlzIG92ZXJyaWRlcyBwYXJ0cyBvZiBOb2RlJ3MgdG9TdHJpbmcgZnVuY3Rpb24uXG4gICAqIElmIGNhbGxiYWNrIGlzIGFuIG9iamVjdCBjb250YWluaW5nIGNhbGxiYWNrcywgaXRcbiAgICogY2FsbHMgdGhlIGNvcnJlY3QgY2FsbGJhY2sgZm9yIHRoZSBjdXJyZW50IG5vZGUsXG4gICAqIG90aGVyd2lzZSBpdCBmYWxscyBiYWNrIHRvIGNhbGxpbmcgTm9kZSdzIHRvU3RyaW5nXG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVN0cmluZztcbiAgICB2YXIgbmFtZSA9IHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyID09PSAnb2JqZWN0JyAmJiBoYXNPd25Qcm9wZXJ0eShvcHRpb25zLmhhbmRsZXIsIG5hbWUpKSB7XG4gICAgICAvLyBjYWxsYmFjayBpcyBhIG1hcCBvZiBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgIGN1c3RvbVN0cmluZyA9IG9wdGlvbnMuaGFuZGxlcltuYW1lXSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfSAvLyBmYWxsIGJhY2sgdG8gTm9kZSdzIHRvU3RyaW5nXG5cblxuICAgIHJldHVybiBub2RlVG9TdHJpbmcuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIGZuID0gaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlKHRoaXMuZm4pID8gJygnICsgdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKSArICcpJyA6IHRoaXMuZm4udG9TdHJpbmcob3B0aW9ucyk7IC8vIGZvcm1hdCB0aGUgYXJndW1lbnRzIGxpa2UgXCJhZGQoMiwgNC4yKVwiXG5cbiAgICByZXR1cm4gZm4gKyAnKCcgKyBhcmdzLmpvaW4oJywgJykgKyAnKSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0Z1bmN0aW9uTm9kZScsXG4gICAgICBmbjogdGhpcy5mbixcbiAgICAgIGFyZ3M6IHRoaXMuYXJnc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiRnVuY3Rpb25Ob2RlXCIsIGZuOiAuLi4sIGFyZ3M6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbk5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZShqc29uLmZuLCBqc29uLmFyZ3MpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcudG9IVE1MKG9wdGlvbnMpO1xuICAgIH0pOyAvLyBmb3JtYXQgdGhlIGFyZ3VtZW50cyBsaWtlIFwiYWRkKDIsIDQuMilcIlxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMuZm4pICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGFyZ3Muam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gIH07XG4gIC8qXG4gICAqIEV4cGFuZCBhIExhVGVYIHRlbXBsYXRlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICoqL1xuXG5cbiAgZnVuY3Rpb24gZXhwYW5kVGVtcGxhdGUodGVtcGxhdGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgbGF0ZXggPSAnJzsgLy8gTWF0Y2ggZXZlcnl0aGluZyBvZiB0aGUgZm9ybSAke2lkZW50aWZpZXJ9IG9yICR7aWRlbnRpZmllclsyXX0gb3IgJCRcbiAgICAvLyB3aGlsZSBzdWJtYXRjaGluZyBpZGVudGlmaWVyIGFuZCAyIChpbiB0aGUgc2Vjb25kIGNhc2UpXG5cbiAgICB2YXIgcmVnZXggPSAvXFwkKD86XFx7KFthLXpfXVthLXpfMC05XSopKD86XFxbKFswLTldKylcXF0pP1xcfXxcXCQpL2dpO1xuICAgIHZhciBpbnB1dFBvcyA9IDA7IC8vIHBvc2l0aW9uIGluIHRoZSBpbnB1dCBzdHJpbmdcblxuICAgIHZhciBtYXRjaDtcblxuICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHRlbXBsYXRlKSkgIT09IG51bGwpIHtcbiAgICAgIC8vIGdvIHRocm91Z2ggYWxsIG1hdGNoZXNcbiAgICAgIC8vIGFkZCBldmVyeXRoaW5nIGluIGZyb250IG9mIHRoZSBtYXRjaCB0byB0aGUgTGFUZVggc3RyaW5nXG4gICAgICBsYXRleCArPSB0ZW1wbGF0ZS5zdWJzdHJpbmcoaW5wdXRQb3MsIG1hdGNoLmluZGV4KTtcbiAgICAgIGlucHV0UG9zID0gbWF0Y2guaW5kZXg7XG5cbiAgICAgIGlmIChtYXRjaFswXSA9PT0gJyQkJykge1xuICAgICAgICAvLyBlc2NhcGVkIGRvbGxhciBzaWduXG4gICAgICAgIGxhdGV4ICs9ICckJztcbiAgICAgICAgaW5wdXRQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRlbXBsYXRlIHBhcmFtZXRlclxuICAgICAgICBpbnB1dFBvcyArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IG5vZGVbbWF0Y2hbMV1dO1xuXG4gICAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1RlbXBsYXRlOiBQcm9wZXJ0eSAnICsgbWF0Y2hbMV0gKyAnIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoWzJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBubyBzcXVhcmUgYnJhY2tldHNcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICBpZiAoaXNOb2RlKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGxhdGV4ICs9IHByb3BlcnR5LnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBhcnJheSBvZiBOb2RlcyBpbnRvIGNvbW1hIHNlcGFyYXRlZCBsaXN0XG4gICAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHkubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNOb2RlKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICdbJyArIGluZGV4ICsgJ10gaXMgbm90IGEgTm9kZS4nKTtcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICcgaGFzIHRvIGJlIGEgTm9kZSwgU3RyaW5nIG9yIGFycmF5IG9mIE5vZGVzJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGVtcGxhdGU6ICcgKyBtYXRjaFsxXSArICcgaGFzIHRvIGJlIGEgTm9kZSwgU3RyaW5nIG9yIGFycmF5IG9mIE5vZGVzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdpdGggc3F1YXJlIGJyYWNrZXRzXG4gICAgICAgICAgaWYgKGlzTm9kZShwcm9wZXJ0eVttYXRjaFsyXV0gJiYgcHJvcGVydHlbbWF0Y2hbMl1dKSkge1xuICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHlbbWF0Y2hbMl1dLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJ1snICsgbWF0Y2hbMl0gKyAnXSBpcyBub3QgYSBOb2RlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxhdGV4ICs9IHRlbXBsYXRlLnNsaWNlKGlucHV0UG9zKTsgLy8gYXBwZW5kIHJlc3Qgb2YgdGhlIHRlbXBsYXRlXG5cbiAgICByZXR1cm4gbGF0ZXg7XG4gIH0gLy8gYmFja3VwIE5vZGUncyB0b1RleCBmdW5jdGlvblxuICAvLyBAcHJpdmF0ZVxuXG5cbiAgdmFyIG5vZGVUb1RleCA9IEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9UZXg7XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKiBUaGlzIG92ZXJyaWRlcyBwYXJ0cyBvZiBOb2RlJ3MgdG9UZXggZnVuY3Rpb24uXG4gICAqIElmIGNhbGxiYWNrIGlzIGFuIG9iamVjdCBjb250YWluaW5nIGNhbGxiYWNrcywgaXRcbiAgICogY2FsbHMgdGhlIGNvcnJlY3QgY2FsbGJhY2sgZm9yIHRoZSBjdXJyZW50IG5vZGUsXG4gICAqIG90aGVyd2lzZSBpdCBmYWxscyBiYWNrIHRvIGNhbGxpbmcgTm9kZSdzIHRvVGV4XG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21UZXg7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyID09PSAnb2JqZWN0JyAmJiBoYXNPd25Qcm9wZXJ0eShvcHRpb25zLmhhbmRsZXIsIHRoaXMubmFtZSkpIHtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIGEgbWFwIG9mIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgICAgY3VzdG9tVGV4ID0gb3B0aW9ucy5oYW5kbGVyW3RoaXMubmFtZV0odGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjdXN0b21UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVGV4O1xuICAgIH0gLy8gZmFsbCBiYWNrIHRvIE5vZGUncyB0b1RleFxuXG5cbiAgICByZXR1cm4gbm9kZVRvVGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIC8vIGdldCBMYVRlWCBvZiB0aGUgYXJndW1lbnRzXG4gICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBsYXRleENvbnZlcnRlcjtcblxuICAgIGlmIChsYXRleEZ1bmN0aW9uc1t0aGlzLm5hbWVdKSB7XG4gICAgICBsYXRleENvbnZlcnRlciA9IGxhdGV4RnVuY3Rpb25zW3RoaXMubmFtZV07XG4gICAgfSAvLyB0b1RleCBwcm9wZXJ0eSBvbiB0aGUgZnVuY3Rpb24gaXRzZWxmXG5cblxuICAgIGlmIChtYXRoW3RoaXMubmFtZV0gJiYgKHR5cGVvZiBtYXRoW3RoaXMubmFtZV0udG9UZXggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAvLyAudG9UZXggaXMgYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgbGF0ZXhDb252ZXJ0ZXIgPSBtYXRoW3RoaXMubmFtZV0udG9UZXg7XG4gICAgfVxuXG4gICAgdmFyIGN1c3RvbVRvVGV4O1xuXG4gICAgc3dpdGNoICh0eXBlb2YgbGF0ZXhDb252ZXJ0ZXIpIHtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgLy8gYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBjdXN0b21Ub1RleCA9IGxhdGV4Q29udmVydGVyKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gYSB0ZW1wbGF0ZSBzdHJpbmdcbiAgICAgICAgY3VzdG9tVG9UZXggPSBleHBhbmRUZW1wbGF0ZShsYXRleENvbnZlcnRlciwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAvLyBhbiBvYmplY3Qgd2l0aCBkaWZmZXJlbnQgXCJjb252ZXJ0ZXJzXCIgZm9yIGRpZmZlcmVudCBudW1iZXJzIG9mIGFyZ3VtZW50c1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0pIHtcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICBjdXN0b21Ub1RleCA9IGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGN1c3RvbVRvVGV4ID0gZXhwYW5kVGVtcGxhdGUobGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRvVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRvVGV4O1xuICAgIH1cblxuICAgIHJldHVybiBleHBhbmRUZW1wbGF0ZShkZWZhdWx0VGVtcGxhdGUsIHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSArICc6JyArIHRoaXMubmFtZTtcbiAgfTtcblxuICByZXR1cm4gRnVuY3Rpb25Ob2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0NvbnN0YW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzT3BlcmF0b3JOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL29iamVjdC5qcyc7XG52YXIgbmFtZSA9ICdwYXJzZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdudW1lcmljJywgJ2NvbmZpZycsICdBY2Nlc3Nvck5vZGUnLCAnQXJyYXlOb2RlJywgJ0Fzc2lnbm1lbnROb2RlJywgJ0Jsb2NrTm9kZScsICdDb25kaXRpb25hbE5vZGUnLCAnQ29uc3RhbnROb2RlJywgJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLCAnRnVuY3Rpb25Ob2RlJywgJ0luZGV4Tm9kZScsICdPYmplY3ROb2RlJywgJ09wZXJhdG9yTm9kZScsICdQYXJlbnRoZXNpc05vZGUnLCAnUmFuZ2VOb2RlJywgJ1JlbGF0aW9uYWxOb2RlJywgJ1N5bWJvbE5vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUGFyc2UgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBudW1lcmljLFxuICAgIGNvbmZpZyxcbiAgICBBY2Nlc3Nvck5vZGUsXG4gICAgQXJyYXlOb2RlLFxuICAgIEFzc2lnbm1lbnROb2RlLFxuICAgIEJsb2NrTm9kZSxcbiAgICBDb25kaXRpb25hbE5vZGUsXG4gICAgQ29uc3RhbnROb2RlLFxuICAgIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUsXG4gICAgRnVuY3Rpb25Ob2RlLFxuICAgIEluZGV4Tm9kZSxcbiAgICBPYmplY3ROb2RlLFxuICAgIE9wZXJhdG9yTm9kZSxcbiAgICBQYXJlbnRoZXNpc05vZGUsXG4gICAgUmFuZ2VOb2RlLFxuICAgIFJlbGF0aW9uYWxOb2RlLFxuICAgIFN5bWJvbE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFBhcnNlIGFuIGV4cHJlc3Npb24uIFJldHVybnMgYSBub2RlIHRyZWUsIHdoaWNoIGNhbiBiZSBldmFsdWF0ZWQgYnlcbiAgICogaW52b2tpbmcgbm9kZS5ldmFsdWF0ZSgpLlxuICAgKlxuICAgKiBOb3RlIHRoZSBldmFsdWF0aW5nIGFyYml0cmFyeSBleHByZXNzaW9ucyBtYXkgaW52b2x2ZSBzZWN1cml0eSByaXNrcyxcbiAgICogc2VlIFtodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sXShodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5wYXJzZShleHByKVxuICAgKiAgICAgbWF0aC5wYXJzZShleHByLCBvcHRpb25zKVxuICAgKiAgICAgbWF0aC5wYXJzZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSlcbiAgICogICAgIG1hdGgucGFyc2UoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0sIG9wdGlvbnMpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgICBjb25zdCBub2RlMSA9IG1hdGgucGFyc2UoJ3NxcnQoM14yICsgNF4yKScpXG4gICAqICAgICBub2RlMS5jb21waWxlKCkuZXZhbHVhdGUoKSAvLyA1XG4gICAqXG4gICAqICAgICBsZXQgc2NvcGUgPSB7YTozLCBiOjR9XG4gICAqICAgICBjb25zdCBub2RlMiA9IG1hdGgucGFyc2UoJ2EgKiBiJykgLy8gMTJcbiAgICogICAgIGNvbnN0IGNvZGUyID0gbm9kZTIuY29tcGlsZSgpXG4gICAqICAgICBjb2RlMi5ldmFsdWF0ZShzY29wZSkgLy8gMTJcbiAgICogICAgIHNjb3BlLmEgPSA1XG4gICAqICAgICBjb2RlMi5ldmFsdWF0ZShzY29wZSkgLy8gMjBcbiAgICpcbiAgICogICAgIGNvbnN0IG5vZGVzID0gbWF0aC5wYXJzZShbJ2EgPSAzJywgJ2IgPSA0JywgJ2EgKiBiJ10pXG4gICAqICAgICBub2Rlc1syXS5jb21waWxlKCkuZXZhbHVhdGUoKSAvLyAxMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIGV2YWx1YXRlLCBjb21waWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBNYXRyaXh9IGV4cHIgICAgICAgICAgRXhwcmVzc2lvbiB0byBiZSBwYXJzZWRcbiAgICogQHBhcmFtIHt7bm9kZXM6IE9iamVjdDxzdHJpbmcsIE5vZGU+fX0gW29wdGlvbnNdICBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBub2Rlc2AgYSBzZXQgb2YgY3VzdG9tIG5vZGVzXG4gICAqIEByZXR1cm4ge05vZGUgfCBOb2RlW119IG5vZGVcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICB2YXIgcGFyc2UgPSB0eXBlZChuYW1lLCB7XG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoZXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwge30pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoZXhwcmVzc2lvbnMpIHtcbiAgICAgIHJldHVybiBwYXJzZU11bHRpcGxlKGV4cHJlc3Npb25zLCB7fSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdPYmplY3QoZXhwcmVzc2lvbiwgb3B0aW9ucykge1xuICAgICAgdmFyIGV4dHJhTm9kZXMgPSBvcHRpb25zLm5vZGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5vZGVzIDoge307XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChleHByZXNzaW9uLCBleHRyYU5vZGVzKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgT2JqZWN0JzogcGFyc2VNdWx0aXBsZVxuICB9KTtcblxuICBmdW5jdGlvbiBwYXJzZU11bHRpcGxlKGV4cHJlc3Npb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBleHRyYU5vZGVzID0gb3B0aW9ucy5ub2RlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5ub2RlcyA6IHt9OyAvLyBwYXJzZSBhbiBhcnJheSBvciBtYXRyaXggd2l0aCBleHByZXNzaW9uc1xuXG4gICAgcmV0dXJuIGRlZXBNYXAoZXhwcmVzc2lvbnMsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICBpZiAodHlwZW9mIGVsZW0gIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGVsZW0sIGV4dHJhTm9kZXMpO1xuICAgIH0pO1xuICB9IC8vIHRva2VuIHR5cGVzIGVudW1lcmF0aW9uXG5cblxuICB2YXIgVE9LRU5UWVBFID0ge1xuICAgIE5VTEw6IDAsXG4gICAgREVMSU1JVEVSOiAxLFxuICAgIE5VTUJFUjogMixcbiAgICBTWU1CT0w6IDMsXG4gICAgVU5LTk9XTjogNFxuICB9OyAvLyBtYXAgd2l0aCBhbGwgZGVsaW1pdGVyc1xuXG4gIHZhciBERUxJTUlURVJTID0ge1xuICAgICcsJzogdHJ1ZSxcbiAgICAnKCc6IHRydWUsXG4gICAgJyknOiB0cnVlLFxuICAgICdbJzogdHJ1ZSxcbiAgICAnXSc6IHRydWUsXG4gICAgJ3snOiB0cnVlLFxuICAgICd9JzogdHJ1ZSxcbiAgICAnXCInOiB0cnVlLFxuICAgICdcXCcnOiB0cnVlLFxuICAgICc7JzogdHJ1ZSxcbiAgICAnKyc6IHRydWUsXG4gICAgJy0nOiB0cnVlLFxuICAgICcqJzogdHJ1ZSxcbiAgICAnLionOiB0cnVlLFxuICAgICcvJzogdHJ1ZSxcbiAgICAnLi8nOiB0cnVlLFxuICAgICclJzogdHJ1ZSxcbiAgICAnXic6IHRydWUsXG4gICAgJy5eJzogdHJ1ZSxcbiAgICAnfic6IHRydWUsXG4gICAgJyEnOiB0cnVlLFxuICAgICcmJzogdHJ1ZSxcbiAgICAnfCc6IHRydWUsXG4gICAgJ158JzogdHJ1ZSxcbiAgICAnPSc6IHRydWUsXG4gICAgJzonOiB0cnVlLFxuICAgICc/JzogdHJ1ZSxcbiAgICAnPT0nOiB0cnVlLFxuICAgICchPSc6IHRydWUsXG4gICAgJzwnOiB0cnVlLFxuICAgICc+JzogdHJ1ZSxcbiAgICAnPD0nOiB0cnVlLFxuICAgICc+PSc6IHRydWUsXG4gICAgJzw8JzogdHJ1ZSxcbiAgICAnPj4nOiB0cnVlLFxuICAgICc+Pj4nOiB0cnVlXG4gIH07IC8vIG1hcCB3aXRoIGFsbCBuYW1lZCBkZWxpbWl0ZXJzXG5cbiAgdmFyIE5BTUVEX0RFTElNSVRFUlMgPSB7XG4gICAgbW9kOiB0cnVlLFxuICAgIHRvOiB0cnVlLFxuICAgIGluOiB0cnVlLFxuICAgIGFuZDogdHJ1ZSxcbiAgICB4b3I6IHRydWUsXG4gICAgb3I6IHRydWUsXG4gICAgbm90OiB0cnVlXG4gIH07XG4gIHZhciBDT05TVEFOVFMgPSB7XG4gICAgdHJ1ZTogdHJ1ZSxcbiAgICBmYWxzZTogZmFsc2UsXG4gICAgbnVsbDogbnVsbCxcbiAgICB1bmRlZmluZWQ6IHVuZGVmaW5lZFxuICB9O1xuICB2YXIgTlVNRVJJQ19DT05TVEFOVFMgPSBbJ05hTicsICdJbmZpbml0eSddO1xuXG4gIGZ1bmN0aW9uIGluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXh0cmFOb2Rlczoge30sXG4gICAgICAvLyBjdXJyZW50IGV4dHJhIG5vZGVzLCBtdXN0IGJlIGNhcmVmdWwgbm90IHRvIG11dGF0ZVxuICAgICAgZXhwcmVzc2lvbjogJycsXG4gICAgICAvLyBjdXJyZW50IGV4cHJlc3Npb25cbiAgICAgIGNvbW1lbnQ6ICcnLFxuICAgICAgLy8gbGFzdCBwYXJzZWQgY29tbWVudFxuICAgICAgaW5kZXg6IDAsXG4gICAgICAvLyBjdXJyZW50IGluZGV4IGluIGV4cHJcbiAgICAgIHRva2VuOiAnJyxcbiAgICAgIC8vIGN1cnJlbnQgdG9rZW5cbiAgICAgIHRva2VuVHlwZTogVE9LRU5UWVBFLk5VTEwsXG4gICAgICAvLyB0eXBlIG9mIHRoZSB0b2tlblxuICAgICAgbmVzdGluZ0xldmVsOiAwLFxuICAgICAgLy8gbGV2ZWwgb2YgbmVzdGluZyBpbnNpZGUgcGFyYW1ldGVycywgdXNlZCB0byBpZ25vcmUgbmV3bGluZSBjaGFyYWN0ZXJzXG4gICAgICBjb25kaXRpb25hbExldmVsOiBudWxsIC8vIHdoZW4gYSBjb25kaXRpb25hbCBpcyBiZWluZyBwYXJzZWQsIHRoZSBsZXZlbCBvZiB0aGUgY29uZGl0aW9uYWwgaXMgc3RvcmVkIGhlcmVcblxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFZpZXcgdXB0byBgbGVuZ3RoYCBjaGFyYWN0ZXJzIG9mIHRoZSBleHByZXNzaW9uIHN0YXJ0aW5nIGF0IHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTFdIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHZpZXdcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjdXJyZW50U3RyaW5nKHN0YXRlLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5zdWJzdHIoc3RhdGUuaW5kZXgsIGxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIFZpZXcgdGhlIGN1cnJlbnQgY2hhcmFjdGVyLiBSZXR1cm5zICcnIGlmIGVuZCBvZiBleHByZXNzaW9uIGlzIHJlYWNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gY3VycmVudFN0cmluZyhzdGF0ZSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogVGhlIGNoYXJhY3RlciBpcyBzdG9yZWQgaW50byB0aGUgY2hhciBjLiBJZiB0aGUgZW5kIG9mIHRoZSBleHByZXNzaW9uIGlzXG4gICAqIHJlYWNoZWQsIHRoZSBmdW5jdGlvbiBwdXRzIGFuIGVtcHR5IHN0cmluZyBpbiBjLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5leHQoc3RhdGUpIHtcbiAgICBzdGF0ZS5pbmRleCsrO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2aWV3IHRoZSBwcmV2aW91cyBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHByZXZDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5jaGFyQXQoc3RhdGUuaW5kZXggLSAxKTtcbiAgfVxuICAvKipcbiAgICogUHJldmlldyB0aGUgbmV4dCBjaGFyYWN0ZXIgZnJvbSB0aGUgZXhwcmVzc2lvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5leHRDaGFyYWN0ZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZXhwcmVzc2lvbi5jaGFyQXQoc3RhdGUuaW5kZXggKyAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG5leHQgdG9rZW4gaW4gdGhlIGN1cnJlbnQgc3RyaW5nIGV4cHIuXG4gICAqIFRoZSB0b2tlbiBhbmQgdG9rZW4gdHlwZSBhcmUgYXZhaWxhYmxlIGFzIHRva2VuIGFuZCB0b2tlblR5cGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRUb2tlbihzdGF0ZSkge1xuICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5OVUxMO1xuICAgIHN0YXRlLnRva2VuID0gJyc7XG4gICAgc3RhdGUuY29tbWVudCA9ICcnOyAvLyBza2lwIG92ZXIgd2hpdGVzcGFjZXNcbiAgICAvLyBzcGFjZSwgdGFiLCBhbmQgbmV3bGluZSB3aGVuIGluc2lkZSBwYXJhbWV0ZXJzXG5cbiAgICB3aGlsZSAocGFyc2UuaXNXaGl0ZXNwYWNlKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBzdGF0ZS5uZXN0aW5nTGV2ZWwpKSB7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9IC8vIHNraXAgY29tbWVudFxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcjJykge1xuICAgICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXFxuJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycpIHtcbiAgICAgICAgc3RhdGUuY29tbWVudCArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG4gICAgfSAvLyBjaGVjayBmb3IgZW5kIG9mIGV4cHJlc3Npb25cblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnJykge1xuICAgICAgLy8gdG9rZW4gaXMgc3RpbGwgZW1wdHlcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgbmV3IGxpbmUgY2hhcmFjdGVyXG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcbicgJiYgIXN0YXRlLm5lc3RpbmdMZXZlbCkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYzEgPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICB2YXIgYzIgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAyKTtcbiAgICB2YXIgYzMgPSBjdXJyZW50U3RyaW5nKHN0YXRlLCAzKTtcblxuICAgIGlmIChjMy5sZW5ndGggPT09IDMgJiYgREVMSU1JVEVSU1tjM10pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMzO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGRlbGltaXRlcnMgY29uc2lzdGluZyBvZiAyIGNoYXJhY3RlcnNcblxuXG4gICAgaWYgKGMyLmxlbmd0aCA9PT0gMiAmJiBERUxJTUlURVJTW2MyXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzI7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIGRlbGltaXRlcnMgY29uc2lzdGluZyBvZiAxIGNoYXJhY3RlclxuXG5cbiAgICBpZiAoREVMSU1JVEVSU1tjMV0pIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICBzdGF0ZS50b2tlbiA9IGMxO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgYSBudW1iZXJcblxuXG4gICAgaWYgKHBhcnNlLmlzRGlnaXREb3QoYzEpKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuTlVNQkVSOyAvLyBjaGVjayBmb3IgYmluYXJ5LCBvY3RhbCwgb3IgaGV4XG5cbiAgICAgIHZhciBfYyA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDIpO1xuXG4gICAgICBpZiAoX2MgPT09ICcwYicgfHwgX2MgPT09ICcwbycgfHwgX2MgPT09ICcweCcpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG5cbiAgICAgICAgd2hpbGUgKHBhcnNlLmlzSGV4RGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGdldCBudW1iZXIsIGNhbiBoYXZlIGEgc2luZ2xlIGRvdFxuXG5cbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy4nKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICBpZiAoIXBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBubyBudW1iZXIsIGl0IGlzIGp1c3QgYSBkb3QgKGNhbiBiZSBkb3Qgbm90YXRpb24pXG4gICAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2UuaXNEZWNpbWFsTWFyayhjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH0gLy8gY2hlY2sgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uIGxpa2UgXCIyLjNlLTRcIiwgXCIxLjIzZTUwXCIgb3IgXCIyZSs0XCJcblxuXG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdFJyB8fCBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ2UnKSB7XG4gICAgICAgIGlmIChwYXJzZS5pc0RpZ2l0KG5leHRDaGFyYWN0ZXIoc3RhdGUpKSB8fCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy0nIHx8IG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnKycpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJysnIHx8IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLScpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgfSAvLyBTY2llbnRpZmljIG5vdGF0aW9uIE1VU1QgYmUgZm9sbG93ZWQgYnkgYW4gZXhwb25lbnRcblxuXG4gICAgICAgICAgaWYgKCFwYXJzZS5pc0RpZ2l0KGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2hpbGUgKHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJzZS5pc0RlY2ltYWxNYXJrKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRGlnaXQgZXhwZWN0ZWQsIGdvdCBcIicgKyBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSArICdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJy4nKSB7XG4gICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gY2hlY2sgZm9yIHZhcmlhYmxlcywgZnVuY3Rpb25zLCBuYW1lZCBvcGVyYXRvcnNcblxuXG4gICAgaWYgKHBhcnNlLmlzQWxwaGEoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHByZXZDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgIHdoaWxlIChwYXJzZS5pc0FscGhhKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBwcmV2Q2hhcmFjdGVyKHN0YXRlKSwgbmV4dENoYXJhY3RlcihzdGF0ZSkpIHx8IHBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5KE5BTUVEX0RFTElNSVRFUlMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLlNZTUJPTDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc29tZXRoaW5nIHVua25vd24gaXMgZm91bmQsIHdyb25nIGNoYXJhY3RlcnMgLT4gYSBzeW50YXggZXJyb3JcblxuXG4gICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLlVOS05PV047XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnKSB7XG4gICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnU3ludGF4IGVycm9yIGluIHBhcnQgXCInICsgc3RhdGUudG9rZW4gKyAnXCInKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG5leHQgdG9rZW4gYW5kIHNraXAgbmV3bGluZSB0b2tlbnNcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKSB7XG4gICAgZG8ge1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIH0gd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXFxuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuXG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcGFyYW1ldGVycy5cbiAgICogTmV3IGxpbmUgY2hhcmFjdGVycyB3aWxsIGJlIGlnbm9yZWQgdW50aWwgY2xvc2VQYXJhbXMoc3RhdGUpIGlzIGNhbGxlZFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9wZW5QYXJhbXMoc3RhdGUpIHtcbiAgICBzdGF0ZS5uZXN0aW5nTGV2ZWwrKztcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgcGFyYW1ldGVycy5cbiAgICogTmV3IGxpbmUgY2hhcmFjdGVycyB3aWxsIG5vIGxvbmdlciBiZSBpZ25vcmVkXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2xvc2VQYXJhbXMoc3RhdGUpIHtcbiAgICBzdGF0ZS5uZXN0aW5nTGV2ZWwtLTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGBjYCBpcyBhIHZhbGlkIGFscGhhIGNoYXJhY3RlcjpcbiAgICpcbiAgICogLSBBIGxhdGluIGxldHRlciAodXBwZXIgb3IgbG93ZXIgY2FzZSkgQXNjaWk6IGEteiwgQS1aXG4gICAqIC0gQW4gdW5kZXJzY29yZSAgICAgICAgICAgICAgICAgICAgICAgIEFzY2lpOiBfXG4gICAqIC0gQSBkb2xsYXIgc2lnbiAgICAgICAgICAgICAgICAgICAgICAgIEFzY2lpOiAkXG4gICAqIC0gQSBsYXRpbiBsZXR0ZXIgd2l0aCBhY2NlbnRzICAgICAgICAgIFVuaWNvZGU6IFxcdTAwQzAgLSBcXHUwMkFGXG4gICAqIC0gQSBncmVlayBsZXR0ZXIgICAgICAgICAgICAgICAgICAgICAgIFVuaWNvZGU6IFxcdTAzNzAgLSBcXHUwM0ZGXG4gICAqIC0gQSBtYXRoZW1hdGljYWwgYWxwaGFudW1lcmljIHN5bWJvbCAgIFVuaWNvZGU6IFxcdXsxRDQwMH0gLSBcXHV7MUQ3RkZ9IGV4Y2x1ZGluZyBpbnZhbGlkIGNvZGUgcG9pbnRzXG4gICAqXG4gICAqIFRoZSBwcmV2aW91cyBhbmQgbmV4dCBjaGFyYWN0ZXJzIGFyZSBuZWVkZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXJcbiAgICogdGhpcyBjaGFyYWN0ZXIgaXMgcGFydCBvZiBhIHVuaWNvZGUgc3Vycm9nYXRlIHBhaXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgICAgQ3VycmVudCBjaGFyYWN0ZXIgaW4gdGhlIGV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNQcmV2ICBQcmV2aW91cyBjaGFyYWN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNOZXh0ICBOZXh0IGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzQWxwaGEgPSBmdW5jdGlvbiBpc0FscGhhKGMsIGNQcmV2LCBjTmV4dCkge1xuICAgIHJldHVybiBwYXJzZS5pc1ZhbGlkTGF0aW5PckdyZWVrKGMpIHx8IHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sKGMsIGNOZXh0KSB8fCBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbChjUHJldiwgYyk7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgYSBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBsYXRpbiwgZ3JlZWssIG9yIGxldHRlci1saWtlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzVmFsaWRMYXRpbk9yR3JlZWsgPSBmdW5jdGlvbiBpc1ZhbGlkTGF0aW5PckdyZWVrKGMpIHtcbiAgICByZXR1cm4gL15bYS16QS1aXyRcXHUwMEMwLVxcdTAyQUZcXHUwMzcwLVxcdTAzRkZcXHUyMTAwLVxcdTIxNEZdJC8udGVzdChjKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gZ2l2ZW4gMTYgYml0IGNoYXJhY3RlcnMgZm9ybSBhIHN1cnJvZ2F0ZSBwYWlyIG9mIGFcbiAgICogdW5pY29kZSBtYXRoIHN5bWJvbC5cbiAgICpcbiAgICogaHR0cHM6Ly91bmljb2RlLXRhYmxlLmNvbS9lbi9cbiAgICogaHR0cHM6Ly93d3cud2lraXdhbmQuY29tL2VuL01hdGhlbWF0aWNhbF9vcGVyYXRvcnNfYW5kX3N5bWJvbHNfaW5fVW5pY29kZVxuICAgKlxuICAgKiBOb3RlOiBJbiBFUzYgd2lsbCBiZSB1bmljb2RlIGF3YXJlOlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODA3MTIvamF2YXNjcmlwdC11bmljb2RlLXJlZ2V4ZXNcbiAgICogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2VzNi11bmljb2RlLXJlZ2V4XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoaWdoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb3dcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1ZhbGlkTWF0aFN5bWJvbCA9IGZ1bmN0aW9uIGlzVmFsaWRNYXRoU3ltYm9sKGhpZ2gsIGxvdykge1xuICAgIHJldHVybiAvXltcXHVEODM1XSQvLnRlc3QoaGlnaCkgJiYgL15bXFx1REMwMC1cXHVERkZGXSQvLnRlc3QobG93KSAmJiAvXlteXFx1REM1NVxcdURDOURcXHVEQ0EwXFx1RENBMVxcdURDQTNcXHVEQ0E0XFx1RENBN1xcdURDQThcXHVEQ0FEXFx1RENCQVxcdURDQkNcXHVEQ0M0XFx1REQwNlxcdUREMEJcXHVERDBDXFx1REQxNVxcdUREMURcXHVERDNBXFx1REQzRlxcdURENDVcXHVERDQ3LVxcdURENDlcXHVERDUxXFx1REVBNlxcdURFQTdcXHVERkNDXFx1REZDRF0kLy50ZXN0KGxvdyk7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGdpdmVuIGNoYXJhY3RlciBjIGlzIGEgd2hpdGUgc3BhY2UgY2hhcmFjdGVyOiBzcGFjZSwgdGFiLCBvciBlbnRlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcGFyYW0ge251bWJlcn0gbmVzdGluZ0xldmVsXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNXaGl0ZXNwYWNlID0gZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGMsIG5lc3RpbmdMZXZlbCkge1xuICAgIC8vIFRPRE86IGFsc28gdGFrZSAnXFxyJyBjYXJyaWFnZSByZXR1cm4gYXMgbmV3bGluZT8gT3IgZG9lcyB0aGF0IGdpdmUgcHJvYmxlbXMgb24gbWFjP1xuICAgIHJldHVybiBjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcgfHwgYyA9PT0gJ1xcbicgJiYgbmVzdGluZ0xldmVsID4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGUgY2hhcmFjdGVyIGMgaXMgYSBkZWNpbWFsIG1hcmsgKGRvdCkuXG4gICAqIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpdCdzIG5vdCB0aGUgc3RhcnQgb2YgYSBkZWxpbWl0ZXIgJy4qJywgJy4vJywgb3IgJy5eJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gY05leHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc0RlY2ltYWxNYXJrID0gZnVuY3Rpb24gaXNEZWNpbWFsTWFyayhjLCBjTmV4dCkge1xuICAgIHJldHVybiBjID09PSAnLicgJiYgY05leHQgIT09ICcvJyAmJiBjTmV4dCAhPT0gJyonICYmIGNOZXh0ICE9PSAnXic7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGRpZ2l0IG9yIGRvdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGlnaXREb3QgPSBmdW5jdGlvbiBpc0RpZ2l0RG90KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA9PT0gJy4nO1xuICB9O1xuICAvKipcbiAgICogY2hlY2tzIGlmIHRoZSBnaXZlbiBjaGFyIGMgaXMgYSBkaWdpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGlnaXQgPSBmdW5jdGlvbiBpc0RpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOSc7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGhleCBkaWdpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyAgIGEgc3RyaW5nIHdpdGggb25lIGNoYXJhY3RlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzSGV4RGlnaXQgPSBmdW5jdGlvbiBpc0hleERpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOScgfHwgYyA+PSAnYScgJiYgYyA8PSAnZicgfHwgYyA+PSAnQScgJiYgYyA8PSAnRic7XG4gIH07XG4gIC8qKlxuICAgKiBTdGFydCBvZiB0aGUgcGFyc2UgbGV2ZWxzIGJlbG93LCBpbiBvcmRlciBvZiBwcmVjZWRlbmNlXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIGV4dHJhTm9kZXMpIHtcbiAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGUoKTtcblxuICAgIF9leHRlbmRzKHN0YXRlLCB7XG4gICAgICBleHByZXNzaW9uLFxuICAgICAgZXh0cmFOb2Rlc1xuICAgIH0pO1xuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgIHZhciBub2RlID0gcGFyc2VCbG9jayhzdGF0ZSk7IC8vIGNoZWNrIGZvciBnYXJiYWdlIGF0IHRoZSBlbmQgb2YgdGhlIGV4cHJlc3Npb25cbiAgICAvLyBhbiBleHByZXNzaW9uIGVuZHMgd2l0aCBhIGVtcHR5IGNoYXJhY3RlciAnJyBhbmQgdG9rZW5UeXBlIERFTElNSVRFUlxuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnJykge1xuICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUikge1xuICAgICAgICAvLyB1c2VyIGVudGVyZWQgYSBub3QgZXhpc3Rpbmcgb3BlcmF0b3IgbGlrZSBcIi8vXCJcbiAgICAgICAgLy8gVE9ETzogZ2l2ZSBoaW50cyBmb3IgYWxpYXNlcywgZm9yIGV4YW1wbGUgd2l0aCBcIjw+XCIgZ2l2ZSBhcyBoaW50IFwiIGRpZCB5b3UgbWVhbiAhPT0gP1wiXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKHN0YXRlLCAnVW5leHBlY3RlZCBvcGVyYXRvciAnICsgc3RhdGUudG9rZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIHBhcnQgXCInICsgc3RhdGUudG9rZW4gKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBibG9jayB3aXRoIGV4cHJlc3Npb25zLiBFeHByZXNzaW9ucyBjYW4gYmUgc2VwYXJhdGVkIGJ5IGEgbmV3bGluZVxuICAgKiBjaGFyYWN0ZXIgJ1xcbicsIG9yIGJ5IGEgc2VtaWNvbG9uICc7Jy4gSW4gY2FzZSBvZiBhIHNlbWljb2xvbiwgbm8gb3V0cHV0XG4gICAqIG9mIHRoZSBwcmVjZWRpbmcgbGluZSBpcyByZXR1cm5lZC5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQmxvY2soc3RhdGUpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB2YXIgYmxvY2tzID0gW107XG4gICAgdmFyIHZpc2libGU7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcnICYmIHN0YXRlLnRva2VuICE9PSAnXFxuJyAmJiBzdGF0ZS50b2tlbiAhPT0gJzsnKSB7XG4gICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIG5vZGUuY29tbWVudCA9IHN0YXRlLmNvbW1lbnQ7XG4gICAgfSAvLyBUT0RPOiBzaW1wbGlmeSB0aGlzIGxvb3BcblxuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXFxuJyB8fCBzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGlmIChibG9ja3MubGVuZ3RoID09PSAwICYmIG5vZGUpIHtcbiAgICAgICAgdmlzaWJsZSA9IHN0YXRlLnRva2VuICE9PSAnOyc7XG4gICAgICAgIGJsb2Nrcy5wdXNoKHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXFxuJyAmJiBzdGF0ZS50b2tlbiAhPT0gJzsnICYmIHN0YXRlLnRva2VuICE9PSAnJykge1xuICAgICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICAgICAgdmlzaWJsZSA9IHN0YXRlLnRva2VuICE9PSAnOyc7XG4gICAgICAgIGJsb2Nrcy5wdXNoKHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJsb2Nrcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJsb2NrTm9kZShibG9ja3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUodW5kZWZpbmVkKTtcbiAgICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBc3NpZ25tZW50IG9mIGEgZnVuY3Rpb24gb3IgdmFyaWFibGUsXG4gICAqIC0gY2FuIGJlIGEgdmFyaWFibGUgbGlrZSAnYT0yLjMnXG4gICAqIC0gb3IgYSB1cGRhdGluZyBhbiBleGlzdGluZyB2YXJpYWJsZSBsaWtlICdtYXRyaXgoMiwzOjUpPVs2LDcsOF0nXG4gICAqIC0gZGVmaW5pbmcgYSBmdW5jdGlvbiBsaWtlICdmKHgpID0geF4yJ1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBc3NpZ25tZW50KHN0YXRlKSB7XG4gICAgdmFyIG5hbWUsIGFyZ3MsIHZhbHVlLCB2YWxpZDtcbiAgICB2YXIgbm9kZSA9IHBhcnNlQ29uZGl0aW9uYWwoc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnPScpIHtcbiAgICAgIGlmIChpc1N5bWJvbE5vZGUobm9kZSkpIHtcbiAgICAgICAgLy8gcGFyc2UgYSB2YXJpYWJsZSBhc3NpZ25tZW50IGxpa2UgJ2EgPSAyLzMnXG4gICAgICAgIG5hbWUgPSBub2RlLm5hbWU7XG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUobmFtZSksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBY2Nlc3Nvck5vZGUobm9kZSkpIHtcbiAgICAgICAgLy8gcGFyc2UgYSBtYXRyaXggc3Vic2V0IGFzc2lnbm1lbnQgbGlrZSAnQVsxLDJdID0gNCdcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShub2RlLm9iamVjdCwgbm9kZS5pbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uTm9kZShub2RlKSAmJiBpc1N5bWJvbE5vZGUobm9kZS5mbikpIHtcbiAgICAgICAgLy8gcGFyc2UgZnVuY3Rpb24gYXNzaWdubWVudCBsaWtlICdmKHgpID0geF4yJ1xuICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgbmFtZSA9IG5vZGUubmFtZTtcbiAgICAgICAgbm9kZS5hcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaXNTeW1ib2xOb2RlKGFyZykpIHtcbiAgICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJnLm5hbWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKG5hbWUsIGFyZ3MsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0ludmFsaWQgbGVmdCBoYW5kIHNpZGUgb2YgYXNzaWdubWVudCBvcGVyYXRvciA9Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGNvbmRpdGlvbmFsIG9wZXJhdGlvblxuICAgKlxuICAgKiAgICAgY29uZGl0aW9uID8gdHJ1ZVBhcnQgOiBmYWxzZVBhcnRcbiAgICpcbiAgICogTm90ZTogY29uZGl0aW9uYWwgb3BlcmF0b3IgaXMgcmlnaHQtYXNzb2NpYXRpdmVcbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ29uZGl0aW9uYWwoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlTG9naWNhbE9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJz8nKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIC8vIHNldCBhIGNvbmRpdGlvbmFsIGxldmVsLCB0aGUgcmFuZ2Ugb3BlcmF0b3Igd2lsbCBiZSBpZ25vcmVkIGFzIGxvbmdcbiAgICAgIC8vIGFzIGNvbmRpdGlvbmFsTGV2ZWwgPT09IHN0YXRlLm5lc3RpbmdMZXZlbC5cbiAgICAgIHZhciBwcmV2ID0gc3RhdGUuY29uZGl0aW9uYWxMZXZlbDtcbiAgICAgIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgPSBzdGF0ZS5uZXN0aW5nTGV2ZWw7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHZhciBjb25kaXRpb24gPSBub2RlO1xuICAgICAgdmFyIHRydWVFeHByID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJzonKSB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0ZhbHNlIHBhcnQgb2YgY29uZGl0aW9uYWwgZXhwcmVzc2lvbiBleHBlY3RlZCcpO1xuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IG51bGw7XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHZhciBmYWxzZUV4cHIgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpOyAvLyBOb3RlOiBjaGVjayBmb3IgY29uZGl0aW9uYWwgb3BlcmF0b3IgYWdhaW4sIHJpZ2h0IGFzc29jaWF0aXZpdHlcblxuICAgICAgbm9kZSA9IG5ldyBDb25kaXRpb25hbE5vZGUoY29uZGl0aW9uLCB0cnVlRXhwciwgZmFsc2VFeHByKTsgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgY29uZGl0aW9uYWwgbGV2ZWxcblxuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IHByZXY7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgb3IsICd4IG9yIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUxvZ2ljYWxPcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsWG9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ29yJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdvcicsICdvcicsIFtub2RlLCBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgZXhjbHVzaXZlIG9yLCAneCB4b3IgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbFhvcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsQW5kKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ3hvcicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgneG9yJywgJ3hvcicsIFtub2RlLCBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGxvZ2ljYWwgYW5kLCAneCBhbmQgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbEFuZChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlT3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnYW5kJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdhbmQnLCAnYW5kJywgW25vZGUsIHBhcnNlQml0d2lzZU9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIG9yLCAneCB8IHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VPcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlWG9yKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ3wnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ3wnLCAnYml0T3InLCBbbm9kZSwgcGFyc2VCaXR3aXNlWG9yKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIGV4Y2x1c2l2ZSBvciAoeG9yKSwgJ3ggXnwgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZVhvcihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VCaXR3aXNlQW5kKHN0YXRlKTtcblxuICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJ158Jykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCdefCcsICdiaXRYb3InLCBbbm9kZSwgcGFyc2VCaXR3aXNlQW5kKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBiaXR3aXNlIGFuZCwgJ3ggJiB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlQW5kKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnJicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnJicsICdiaXRBbmQnLCBbbm9kZSwgcGFyc2VSZWxhdGlvbmFsKHN0YXRlKV0pO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGNoYWluZWQgY29uZGl0aW9uYWwsIGxpa2UgJ2EgPiBiID49IGMnXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW3BhcnNlU2hpZnQoc3RhdGUpXTtcbiAgICB2YXIgY29uZGl0aW9uYWxzID0gW107XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICc9PSc6ICdlcXVhbCcsXG4gICAgICAnIT0nOiAndW5lcXVhbCcsXG4gICAgICAnPCc6ICdzbWFsbGVyJyxcbiAgICAgICc+JzogJ2xhcmdlcicsXG4gICAgICAnPD0nOiAnc21hbGxlckVxJyxcbiAgICAgICc+PSc6ICdsYXJnZXJFcSdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIHZhciBjb25kID0ge1xuICAgICAgICBuYW1lOiBzdGF0ZS50b2tlbixcbiAgICAgICAgZm46IG9wZXJhdG9yc1tzdGF0ZS50b2tlbl1cbiAgICAgIH07XG4gICAgICBjb25kaXRpb25hbHMucHVzaChjb25kKTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zLnB1c2gocGFyc2VTaGlmdChzdGF0ZSkpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gcGFyYW1zWzBdO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMikge1xuICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUoY29uZGl0aW9uYWxzWzBdLm5hbWUsIGNvbmRpdGlvbmFsc1swXS5mbiwgcGFyYW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZShjb25kaXRpb25hbHMubWFwKGMgPT4gYy5mbiksIHBhcmFtcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBCaXR3aXNlIGxlZnQgc2hpZnQsIGJpdHdpc2UgcmlnaHQgYXJpdGhtZXRpYyBzaGlmdCwgYml0d2lzZSByaWdodCBsb2dpY2FsIHNoaWZ0XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNoaWZ0KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlQ29udmVyc2lvbihzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICc8PCc6ICdsZWZ0U2hpZnQnLFxuICAgICAgJz4+JzogJ3JpZ2h0QXJpdGhTaGlmdCcsXG4gICAgICAnPj4+JzogJ3JpZ2h0TG9nU2hpZnQnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlLCBwYXJzZUNvbnZlcnNpb24oc3RhdGUpXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBjb252ZXJzaW9uIG9wZXJhdG9ycyAndG8nIGFuZCAnaW4nXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUNvbnZlcnNpb24oc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VSYW5nZShzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgIHRvOiAndG8nLFxuICAgICAgaW46ICd0bycgLy8gYWxpYXMgb2YgJ3RvJ1xuXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcblxuICAgICAgaWYgKG5hbWUgPT09ICdpbicgJiYgc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAgIC8vIGVuZCBvZiBleHByZXNzaW9uIC0+IHRoaXMgaXMgdGhlIHVuaXQgJ2luJyAoJ2luY2gnKVxuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnKicsICdtdWx0aXBseScsIFtub2RlLCBuZXcgU3ltYm9sTm9kZSgnaW4nKV0sIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb3BlcmF0b3IgJ2EgdG8gYicgb3IgJ2EgaW4gYidcbiAgICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlUmFuZ2Uoc3RhdGUpXTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHJhbmdlLCBcInN0YXJ0OmVuZFwiLCBcInN0YXJ0OnN0ZXA6ZW5kXCIsIFwiOlwiLCBcInN0YXJ0OlwiLCBcIjplbmRcIiwgZXRjXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJhbmdlKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnOicpIHtcbiAgICAgIC8vIGltcGxpY2l0IHN0YXJ0PTEgKG9uZS1iYXNlZClcbiAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBleHBsaWNpdCBzdGFydFxuICAgICAgbm9kZSA9IHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzonICYmIHN0YXRlLmNvbmRpdGlvbmFsTGV2ZWwgIT09IHN0YXRlLm5lc3RpbmdMZXZlbCkge1xuICAgICAgLy8gd2UgaWdub3JlIHRoZSByYW5nZSBvcGVyYXRvciB3aGVuIGEgY29uZGl0aW9uYWwgb3BlcmF0b3IgaXMgYmVpbmcgcHJvY2Vzc2VkIG9uIHRoZSBzYW1lIGxldmVsXG4gICAgICBwYXJhbXMucHVzaChub2RlKTsgLy8gcGFyc2Ugc3RlcCBhbmQgZW5kXG5cbiAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJzonICYmIHBhcmFtcy5sZW5ndGggPCAzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcpJyB8fCBzdGF0ZS50b2tlbiA9PT0gJ10nIHx8IHN0YXRlLnRva2VuID09PSAnLCcgfHwgc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAgICAgLy8gaW1wbGljaXQgZW5kXG4gICAgICAgICAgcGFyYW1zLnB1c2gobmV3IFN5bWJvbE5vZGUoJ2VuZCcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBleHBsaWNpdCBlbmRcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFkZFN1YnRyYWN0KHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgLy8gcGFyYW1zID0gW3N0YXJ0LCBzdGVwLCBlbmRdXG4gICAgICAgIG5vZGUgPSBuZXcgUmFuZ2VOb2RlKHBhcmFtc1swXSwgcGFyYW1zWzJdLCBwYXJhbXNbMV0pOyAvLyBzdGFydCwgZW5kLCBzdGVwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBsZW5ndGggPT09IDJcbiAgICAgICAgLy8gcGFyYW1zID0gW3N0YXJ0LCBlbmRdXG4gICAgICAgIG5vZGUgPSBuZXcgUmFuZ2VOb2RlKHBhcmFtc1swXSwgcGFyYW1zWzFdKTsgLy8gc3RhcnQsIGVuZFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBhZGQgb3Igc3VidHJhY3RcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICcrJzogJ2FkZCcsXG4gICAgICAnLSc6ICdzdWJ0cmFjdCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBtdWx0aXBseSwgZGl2aWRlLCBtb2R1bHVzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIGxhc3QsIG5hbWUsIGZuO1xuICAgIG5vZGUgPSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpO1xuICAgIGxhc3QgPSBub2RlO1xuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAnKic6ICdtdWx0aXBseScsXG4gICAgICAnLionOiAnZG90TXVsdGlwbHknLFxuICAgICAgJy8nOiAnZGl2aWRlJyxcbiAgICAgICcuLyc6ICdkb3REaXZpZGUnLFxuICAgICAgJyUnOiAnbW9kJyxcbiAgICAgIG1vZDogJ21vZCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgICAvLyBleHBsaWNpdCBvcGVyYXRvcnNcbiAgICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIGxhc3QgPSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgW25vZGUsIGxhc3RdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIGxhc3Q7XG4gICAgbm9kZSA9IHBhcnNlUnVsZTIoc3RhdGUpO1xuICAgIGxhc3QgPSBub2RlO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW4gPT09ICdpbicgJiYgaXNDb25zdGFudE5vZGUobm9kZSkgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSICYmICFpc0NvbnN0YW50Tm9kZShsYXN0KSAmJiAoIWlzT3BlcmF0b3JOb2RlKGxhc3QpIHx8IGxhc3Qub3AgPT09ICchJykgfHwgc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICAvLyBwYXJzZSBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBzeW1ib2w6ICAgICAgaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnMmEnLCAnKDIrMylhJywgJ2EgYidcbiAgICAgICAgLy8gbnVtYmVyOiAgICAgIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJygyKzMpMidcbiAgICAgICAgLy8gcGFyZW50aGVzaXM6IGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgJzIoMys0KScsICcoMys0KSgxKzIpJ1xuICAgICAgICBsYXN0ID0gcGFyc2VSdWxlMihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcqJywgJ211bHRpcGx5JywgW25vZGUsIGxhc3RdLCB0cnVlXG4gICAgICAgIC8qIGltcGxpY2l0ICovXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogSW5mYW1vdXMgXCJydWxlIDJcIiBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvaXNzdWVzLzc5MiNpc3N1ZWNvbW1lbnQtMzYxMDY1MzcwXG4gICAqIEV4cGxpY2l0IGRpdmlzaW9uIGdldHMgaGlnaGVyIHByZWNlZGVuY2UgdGhhbiBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgKiB3aGVuIHRoZSBkaXZpc2lvbiBtYXRjaGVzIHRoaXMgcGF0dGVybjogW251bWJlcl0gLyBbbnVtYmVyXSBbc3ltYm9sXVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSdWxlMihzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VVbmFyeShzdGF0ZSk7XG4gICAgdmFyIGxhc3QgPSBub2RlO1xuICAgIHZhciB0b2tlblN0YXRlcyA9IFtdO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIC8vIE1hdGNoIHRoZSBcIm51bWJlciAvXCIgcGFydCBvZiB0aGUgcGF0dGVybiBcIm51bWJlciAvIG51bWJlciBzeW1ib2xcIlxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnLycgJiYgaXNDb25zdGFudE5vZGUobGFzdCkpIHtcbiAgICAgICAgLy8gTG9vayBhaGVhZCB0byBzZWUgaWYgdGhlIG5leHQgdG9rZW4gaXMgYSBudW1iZXJcbiAgICAgICAgdG9rZW5TdGF0ZXMucHVzaChfZXh0ZW5kcyh7fSwgc3RhdGUpKTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7IC8vIE1hdGNoIHRoZSBcIm51bWJlciAvIG51bWJlclwiIHBhcnQgb2YgdGhlIHBhdHRlcm5cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuTlVNQkVSKSB7XG4gICAgICAgICAgLy8gTG9vayBhaGVhZCBhZ2FpblxuICAgICAgICAgIHRva2VuU3RhdGVzLnB1c2goX2V4dGVuZHMoe30sIHN0YXRlKSk7XG4gICAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7IC8vIE1hdGNoIHRoZSBcInN5bWJvbFwiIHBhcnQgb2YgdGhlIHBhdHRlcm4sIG9yIGEgbGVmdCBwYXJlbnRoZXNpc1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgICAgICAvLyBXZSd2ZSBtYXRjaGVkIHRoZSBwYXR0ZXJuIFwibnVtYmVyIC8gbnVtYmVyIHN5bWJvbFwiLlxuICAgICAgICAgICAgLy8gUmV3aW5kIG9uY2UgYW5kIGJ1aWxkIHRoZSBcIm51bWJlciAvIG51bWJlclwiIG5vZGU7IHRoZSBzeW1ib2wgd2lsbCBiZSBjb25zdW1lZCBsYXRlclxuICAgICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgICAgdG9rZW5TdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICBsYXN0ID0gcGFyc2VVbmFyeShzdGF0ZSk7XG4gICAgICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnLycsICdkaXZpZGUnLCBbbm9kZSwgbGFzdF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3QgYSBtYXRjaCwgc28gcmV3aW5kXG4gICAgICAgICAgICB0b2tlblN0YXRlcy5wb3AoKTtcblxuICAgICAgICAgICAgX2V4dGVuZHMoc3RhdGUsIHRva2VuU3RhdGVzLnBvcCgpKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vdCBhIG1hdGNoLCBzbyByZXdpbmRcbiAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBVbmFyeSBwbHVzIGFuZCBtaW51cywgYW5kIGxvZ2ljYWwgYW5kIGJpdHdpc2Ugbm90XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVVuYXJ5KHN0YXRlKSB7XG4gICAgdmFyIG5hbWUsIHBhcmFtcywgZm47XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICctJzogJ3VuYXJ5TWludXMnLFxuICAgICAgJysnOiAndW5hcnlQbHVzJyxcbiAgICAgICd+JzogJ2JpdE5vdCcsXG4gICAgICBub3Q6ICdub3QnXG4gICAgfTtcblxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgZm4gPSBvcGVyYXRvcnNbc3RhdGUudG9rZW5dO1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbcGFyc2VVbmFyeShzdGF0ZSldO1xuICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlUG93KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcG93ZXJcbiAgICogTm90ZTogcG93ZXIgb3BlcmF0b3IgaXMgcmlnaHQgYXNzb2NpYXRpdmVcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUG93KHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIG5hbWUsIGZuLCBwYXJhbXM7XG4gICAgbm9kZSA9IHBhcnNlTGVmdEhhbmRPcGVyYXRvcnMoc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXicgfHwgc3RhdGUudG9rZW4gPT09ICcuXicpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gbmFtZSA9PT0gJ14nID8gJ3BvdycgOiAnZG90UG93JztcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlVW5hcnkoc3RhdGUpXTsgLy8gR28gYmFjayB0byB1bmFyeSwgd2UgY2FuIGhhdmUgJzJeLTMnXG5cbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBMZWZ0IGhhbmQgb3BlcmF0b3JzOiBmYWN0b3JpYWwgeCEsIGN0cmFuc3Bvc2UgeCdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTGVmdEhhbmRPcGVyYXRvcnMoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VDdXN0b21Ob2RlcyhzdGF0ZSk7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICchJzogJ2ZhY3RvcmlhbCcsXG4gICAgICAnXFwnJzogJ2N0cmFuc3Bvc2UnXG4gICAgfTtcblxuICAgIHdoaWxlIChoYXNPd25Qcm9wZXJ0eShvcGVyYXRvcnMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBvcGVyYXRvcnNbbmFtZV07XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZV07XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgY3VzdG9tIG5vZGUgaGFuZGxlci4gQSBub2RlIGhhbmRsZXIgY2FuIGJlIHVzZWQgdG8gcHJvY2Vzc1xuICAgKiBub2RlcyBpbiBhIGN1c3RvbSB3YXksIGZvciBleGFtcGxlIGZvciBoYW5kbGluZyBhIHBsb3QuXG4gICAqXG4gICAqIEEgaGFuZGxlciBtdXN0IGJlIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgb2YgdGhlIHBhcnNlIGZ1bmN0aW9uLlxuICAgKiAtIG11c3QgZXh0ZW5kIG1hdGguTm9kZVxuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIF9jb21waWxlKGRlZnM6IE9iamVjdCkgOiBzdHJpbmdcbiAgICogLSBtdXN0IGNvbnRhaW4gYSBmdW5jdGlvbiBmaW5kKGZpbHRlcjogT2JqZWN0KSA6IE5vZGVbXVxuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIHRvU3RyaW5nKCkgOiBzdHJpbmdcbiAgICogLSB0aGUgY29uc3RydWN0b3IgaXMgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgY29udGFpbmluZyBhbGwgcGFyYW1ldGVyc1xuICAgKlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogICAgIG5vZGVzID0ge1xuICAgKiAgICAgICAncGxvdCc6IFBsb3RIYW5kbGVyXG4gICAqICAgICB9XG4gICAqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgaGFuZGxlciBpcyBjYWxsZWQgYXM6XG4gICAqXG4gICAqICAgICBub2RlID0gbmV3IFBsb3RIYW5kbGVyKHBhcmFtcylcbiAgICpcbiAgICogVGhlIGhhbmRsZXIgd2lsbCBiZSBpbnZva2VkIHdoZW4gZXZhbHVhdGluZyBhbiBleHByZXNzaW9uIGxpa2U6XG4gICAqXG4gICAqICAgICBub2RlID0gbWF0aC5wYXJzZSgncGxvdChzaW4oeCksIHgpJywgbm9kZXMpXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUN1c3RvbU5vZGVzKHN0YXRlKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCAmJiBoYXNPd25Qcm9wZXJ0eShzdGF0ZS5leHRyYU5vZGVzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIHZhciBDdXN0b21Ob2RlID0gc3RhdGUuZXh0cmFOb2Rlc1tzdGF0ZS50b2tlbl07XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIHBhcmFtZXRlcnNcblxuICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgcGFyYW1zID0gW107XG4gICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgfSAvLyBjcmVhdGUgYSBuZXcgY3VzdG9tIG5vZGVcbiAgICAgIC8vIG5vaW5zcGVjdGlvbiBKU1ZhbGlkYXRlVHlwZXNcblxuXG4gICAgICByZXR1cm4gbmV3IEN1c3RvbU5vZGUocGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VTeW1ib2woc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBzeW1ib2xzOiBmdW5jdGlvbnMsIHZhcmlhYmxlcywgY29uc3RhbnRzLCB1bml0c1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTeW1ib2woc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZTtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5TWU1CT0wgfHwgc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSICYmIHN0YXRlLnRva2VuIGluIE5BTUVEX0RFTElNSVRFUlMpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgaWYgKGhhc093blByb3BlcnR5KENPTlNUQU5UUywgbmFtZSkpIHtcbiAgICAgICAgLy8gdHJ1ZSwgZmFsc2UsIG51bGwsIC4uLlxuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShDT05TVEFOVFNbbmFtZV0pO1xuICAgICAgfSBlbHNlIGlmIChOVU1FUklDX0NPTlNUQU5UUy5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgICAvLyBOYU4sIEluZmluaXR5XG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKG51bWVyaWMobmFtZSwgJ251bWJlcicpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBuZXcgU3ltYm9sTm9kZShuYW1lKTtcbiAgICAgIH0gLy8gcGFyc2UgZnVuY3Rpb24gcGFyYW1ldGVycyBhbmQgbWF0cml4IGluZGV4XG5cblxuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGFjY2Vzc29yczpcbiAgICogLSBmdW5jdGlvbiBpbnZvY2F0aW9uIGluIHJvdW5kIGJyYWNrZXRzICguLi4pLCBmb3IgZXhhbXBsZSBzcXJ0KDIpXG4gICAqIC0gaW5kZXggZW5jbG9zZWQgaW4gc3F1YXJlIGJyYWNrZXRzIFsuLi5dLCBmb3IgZXhhbXBsZSBBWzIsM11cbiAgICogLSBkb3Qgbm90YXRpb24gZm9yIHByb3BlcnRpZXMsIGxpa2UgZm9vLmJhclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlICAgIE5vZGUgb24gd2hpY2ggdG8gYXBwbHkgdGhlIHBhcmFtZXRlcnMuIElmIHRoZXJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBhcmUgbm8gcGFyYW1ldGVycyBpbiB0aGUgZXhwcmVzc2lvbiwgdGhlIG5vZGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGl0c2VsZiBpcyByZXR1cm5lZFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbdHlwZXNdICBGaWx0ZXIgdGhlIHR5cGVzIG9mIG5vdGF0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW4gYmUgWycoJywgJ1snLCAnLiddXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSwgdHlwZXMpIHtcbiAgICB2YXIgcGFyYW1zO1xuXG4gICAgd2hpbGUgKChzdGF0ZS50b2tlbiA9PT0gJygnIHx8IHN0YXRlLnRva2VuID09PSAnWycgfHwgc3RhdGUudG9rZW4gPT09ICcuJykgJiYgKCF0eXBlcyB8fCB0eXBlcy5pbmRleE9mKHN0YXRlLnRva2VuKSAhPT0gLTEpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIHBhcmFtcyA9IFtdO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICBpZiAoaXNTeW1ib2xOb2RlKG5vZGUpIHx8IGlzQWNjZXNzb3JOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgLy8gZnVuY3Rpb24gaW52b2NhdGlvbiBsaWtlIGZuKDIsIDMpIG9yIG9iai5mbigyLCAzKVxuICAgICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICBub2RlID0gbmV3IEZ1bmN0aW9uTm9kZShub2RlLCBwYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uIGxpa2UgKDIrMykoNCs1KSBvciBzcXJ0KDIpKDErMilcbiAgICAgICAgICAvLyBkb24ndCBwYXJzZSBpdCBoZXJlIGJ1dCBsZXQgaXQgYmUgaGFuZGxlZCBieSBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb25cbiAgICAgICAgICAvLyB3aXRoIGNvcnJlY3QgcHJlY2VkZW5jZVxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuID09PSAnWycpIHtcbiAgICAgICAgLy8gaW5kZXggbm90YXRpb24gbGlrZSB2YXJpYWJsZVsyLCAzXVxuICAgICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7IC8vIHBhcnNlIGEgbGlzdCB3aXRoIHBhcmFtZXRlcnNcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyBdIGV4cGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBBY2Nlc3Nvck5vZGUobm9kZSwgbmV3IEluZGV4Tm9kZShwYXJhbXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvdCBub3RhdGlvbiBsaWtlIHZhcmlhYmxlLnByb3BcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgIT09IFRPS0VOVFlQRS5TWU1CT0wpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1Byb3BlcnR5IG5hbWUgZXhwZWN0ZWQgYWZ0ZXIgZG90Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMucHVzaChuZXcgQ29uc3RhbnROb2RlKHN0YXRlLnRva2VuKSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgdmFyIGRvdE5vdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgbm9kZSA9IG5ldyBBY2Nlc3Nvck5vZGUobm9kZSwgbmV3IEluZGV4Tm9kZShwYXJhbXMsIGRvdE5vdGF0aW9uKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgZG91YmxlIHF1b3RlcyBzdHJpbmcuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBzdHI7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcIicpIHtcbiAgICAgIHN0ciA9IHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpOyAvLyBjcmVhdGUgY29uc3RhbnRcblxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoc3RyKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgc3Vycm91bmRlZCBieSBkb3VibGUgcXVvdGVzIFwiLi4uXCJcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXCInKSB7XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICdcXFxcJykge1xuICAgICAgICAvLyBlc2NhcGUgY2hhcmFjdGVyLCBpbW1lZGlhdGVseSBwcm9jZXNzIHRoZSBuZXh0XG4gICAgICAgIC8vIGNoYXJhY3RlciB0byBwcmV2ZW50IHN0b3BwaW5nIGF0IGEgbmV4dCAnXFxcIidcbiAgICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXCInKSB7XG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBzdHJpbmcgXCIgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoJ1wiJyArIHN0ciArICdcIicpOyAvLyB1bmVzY2FwZSBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzaW5nbGUgcXVvdGVzIHN0cmluZy5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIHN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1xcJycpIHtcbiAgICAgIHN0ciA9IHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpOyAvLyBjcmVhdGUgY29uc3RhbnRcblxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoc3RyKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlTWF0cml4KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzdHJpbmcgc3Vycm91bmRlZCBieSBzaW5nbGUgcXVvdGVzICcuLi4nXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJyAmJiBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJ1xcJycpIHtcbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXIsIGltbWVkaWF0ZWx5IHByb2Nlc3MgdGhlIG5leHRcbiAgICAgICAgLy8gY2hhcmFjdGVyIHRvIHByZXZlbnQgc3RvcHBpbmcgYXQgYSBuZXh0ICdcXCcnXG4gICAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ1xcJycpIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIHN0cmluZyBcXCcgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoJ1wiJyArIHN0ciArICdcIicpOyAvLyB1bmVzY2FwZSBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgfVxuICAvKipcbiAgICogcGFyc2UgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VNYXRyaXgoc3RhdGUpIHtcbiAgICB2YXIgYXJyYXksIHBhcmFtcywgcm93cywgY29scztcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1snKSB7XG4gICAgICAvLyBtYXRyaXggWy4uLl1cbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAvLyB0aGlzIGlzIGEgbm9uLWVtcHR5IG1hdHJpeFxuICAgICAgICB2YXIgcm93ID0gcGFyc2VSb3coc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAgICAgLy8gMiBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHJvd3MgPSAxO1xuICAgICAgICAgIHBhcmFtcyA9IFtyb3ddOyAvLyB0aGUgcm93cyBvZiB0aGUgbWF0cml4IGFyZSBzZXBhcmF0ZWQgYnkgZG90LWNvbW1hJ3NcblxuICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJzsnKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICAgIHBhcmFtc1tyb3dzXSA9IHBhcnNlUm93KHN0YXRlKTtcbiAgICAgICAgICAgIHJvd3MrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICddJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2YgbWF0cml4IF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBjaGVjayBpZiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgbWF0Y2hlcyBpbiBhbGwgcm93c1xuXG4gICAgICAgICAgY29scyA9IHBhcmFtc1swXS5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKHZhciByID0gMTsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1tyXS5pdGVtcy5sZW5ndGggIT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3Ioc3RhdGUsICdDb2x1bW4gZGltZW5zaW9ucyBtaXNtYXRjaCAnICsgJygnICsgcGFyYW1zW3JdLml0ZW1zLmxlbmd0aCArICcgIT09ICcgKyBjb2xzICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhcnJheSA9IG5ldyBBcnJheU5vZGUocGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyAxIGRpbWVuc2lvbmFsIHZlY3RvclxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBtYXRyaXggXSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgYXJyYXkgPSByb3c7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYW4gZW1wdHkgbWF0cml4IFwiWyBdXCJcbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgIGFycmF5ID0gbmV3IEFycmF5Tm9kZShbXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgYXJyYXkpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc2luZ2xlIGNvbW1hLXNlcGFyYXRlZCByb3cgZnJvbSBhIG1hdHJpeCwgbGlrZSAnYSwgYiwgYydcbiAgICogQHJldHVybiB7QXJyYXlOb2RlfSBub2RlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VSb3coc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW3BhcnNlQXNzaWdubWVudChzdGF0ZSldO1xuICAgIHZhciBsZW4gPSAxO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBleHByZXNzaW9uXG5cbiAgICAgIHBhcmFtc1tsZW5dID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgIGxlbisrO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKHBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIGFuIG9iamVjdCwgZW5jbG9zZWQgaW4gYW5nbGUgYnJhY2tldHN7Li4ufSwgZm9yIGV4YW1wbGUge3ZhbHVlOiAyfVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VPYmplY3Qoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICd7Jykge1xuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICB2YXIga2V5O1xuICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgZG8ge1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnfScpIHtcbiAgICAgICAgICAvLyBwYXJzZSBrZXlcbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdcIicpIHtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW4gPT09ICdcXCcnKSB7XG4gICAgICAgICAgICBrZXkgPSBwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIgJiYgc3RhdGUudG9rZW4gaW4gTkFNRURfREVMSU1JVEVSUykge1xuICAgICAgICAgICAga2V5ID0gc3RhdGUudG9rZW47XG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnU3ltYm9sIG9yIHN0cmluZyBleHBlY3RlZCBhcyBvYmplY3Qga2V5Jyk7XG4gICAgICAgICAgfSAvLyBwYXJzZSBrZXkvdmFsdWUgc2VwYXJhdG9yXG5cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJzonKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0NvbG9uIDogZXhwZWN0ZWQgYWZ0ZXIgb2JqZWN0IGtleScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2Uga2V5XG5cbiAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG5cblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnfScpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdDb21tYSAsIG9yIGJyYWNrZXQgfSBleHBlY3RlZCBhZnRlciBvYmplY3QgdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgdmFyIG5vZGUgPSBuZXcgT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKTsgLy8gcGFyc2UgaW5kZXggcGFyYW1ldGVyc1xuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlTnVtYmVyKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYSBudW1iZXJcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTnVtYmVyKHN0YXRlKSB7XG4gICAgdmFyIG51bWJlclN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBudW1iZXJcbiAgICAgIG51bWJlclN0ciA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUobnVtZXJpYyhudW1iZXJTdHIsIGNvbmZpZy5udW1iZXIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VQYXJlbnRoZXNlcyhzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcmVudGhlc2VzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVBhcmVudGhlc2VzKHN0YXRlKSB7XG4gICAgdmFyIG5vZGU7IC8vIGNoZWNrIGlmIGl0IGlzIGEgcGFyZW50aGVzaXplZCBleHByZXNzaW9uXG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgLy8gcGFyZW50aGVzZXMgKC4uLilcbiAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgbm9kZSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7IC8vIHN0YXJ0IGFnYWluXG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IFBhcmVudGhlc2lzTm9kZShub2RlKTtcbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VFbmQoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBFdmFsdWF0ZWQgd2hlbiB0aGUgZXhwcmVzc2lvbiBpcyBub3QgeWV0IGVuZGVkIGJ1dCBleHBlY3RlZCB0byBlbmRcbiAgICogQHJldHVybiB7Tm9kZX0gcmVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VFbmQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcnKSB7XG4gICAgICAvLyBzeW50YXggZXJyb3Igb3IgdW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnVmFsdWUgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBjdXJyZW50IHJvdyB2YWx1ZSAob25lIGJhc2VkKVxuICAgKiBSZXR1cm5zIHRoZSBsaW5lIG9mIHRoZSBjdXJyZW50bHkgaGFuZGxlZCBleHByZXNzaW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIC8qIFRPRE86IGltcGxlbWVudCBrZWVwaW5nIHRyYWNrIG9uIHRoZSByb3cgbnVtYmVyXG4gIGZ1bmN0aW9uIHJvdyAoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAqL1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgY3VycmVudCBjb2wgdmFsdWUgKG9uZSBiYXNlZClcbiAgICogUmV0dXJucyB0aGUgY29sdW1uIChwb3NpdGlvbikgd2hlcmUgdGhlIGxhc3Qgc3RhdGUudG9rZW4gc3RhcnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY29sKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmluZGV4IC0gc3RhdGUudG9rZW4ubGVuZ3RoICsgMTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGVycm9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtTeW50YXhFcnJvcn0gaW5zdGFudGlhdGVkIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgYyA9IGNvbChzdGF0ZSk7XG4gICAgdmFyIGVycm9yID0gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UgKyAnIChjaGFyICcgKyBjICsgJyknKTtcbiAgICBlcnJvci5jaGFyID0gYztcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlcnJvclxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAgICogQHJldHVybiB7RXJyb3J9IGluc3RhbnRpYXRlZCBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVycm9yKHN0YXRlLCBtZXNzYWdlKSB7XG4gICAgdmFyIGMgPSBjb2woc3RhdGUpO1xuICAgIHZhciBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihtZXNzYWdlICsgJyAoY2hhciAnICsgYyArICcpJyk7XG4gICAgZXJyb3IuY2hhciA9IGM7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlO1xufSk7IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUJpZ051bWJlckNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQmlnTnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVCaWdOdW1iZXJDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlQ29tcGxleENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29tcGxleERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlQ29tcGxleENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURlbnNlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEZW5zZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVGcmFjdGlvbkNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnJhY3Rpb25EZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUZyYWN0aW9uQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUeXBlZCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHR5cGVkRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBGcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgY3JlYXRlVHlwZWRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXF1YWxTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUVxdWFsU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgPSB7XG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVOdW1iZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBudW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVOdW1iZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZyYWN0aW9uIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZnJhY3Rpb25EZXBlbmRlbmNpZXMgPSB7XG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnJhY3Rpb25cbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hdHJpeCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIE1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTWF0cml4XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVuYXJ5TWludXMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlVW5hcnlNaW51c1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBYnMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBhYnNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBYnNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWRkU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYWRkU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWRkU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB6ZXJvc0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzWmVyb3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJvdW5kIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcm91bmREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB6ZXJvc0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlUm91bmRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVplcm9zIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgemVyb3NEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlWmVyb3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTXVsdGlwbHlTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU11bHRpcGx5U2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTaXplIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc2l6ZURlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU2l6ZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRvdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRG90LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTXVsdGlwbHkgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBtdWx0aXBseURlcGVuZGVuY2llcyA9IHtcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkb3REZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTXVsdGlwbHlcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjb25qRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25qLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHNpemVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1NpemUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRG90IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZG90RGVwZW5kZW5jaWVzID0ge1xuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGNvbmpEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBzaXplRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRG90XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbmogfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBjb25qRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29ualxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnRyYWN0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc3VidHJhY3REZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTdWJ0cmFjdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUxhcmdlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGxhcmdlckRlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUxhcmdlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUlkZW50aXR5IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaWRlbnRpdHlEZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlSWRlbnRpdHlcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGJpZ251bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnbnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVOdW1lcmljIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbnVtZXJpY0RlcGVuZGVuY2llcyA9IHtcbiAgYmlnbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBmcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVOdW1lcmljXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUJpZ251bWJlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGJpZ251bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQmlnbnVtYmVyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBudW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURpdmlkZVNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyA9IHtcbiAgbnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURpdmlkZVNjYWxhclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2V0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc3Vic2V0RGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTdWJzZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZvcm1hdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRm9ybWF0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpc051bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0lzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWJlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcG93RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNQb3cuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVbml0Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBVbml0RGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIENvbXBsZXhEZXBlbmRlbmNpZXMsXG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbERlcGVuZGVuY2llcyxcbiAgZml4RGVwZW5kZW5jaWVzLFxuICBmb3JtYXREZXBlbmRlbmNpZXMsXG4gIGlzTnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgcG93RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVVuaXRDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXF1YWwgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBlcXVhbERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFcXVhbFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjZWlsRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDZWlsLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmbG9vckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRmxvb3IuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZpeCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZpeERlcGVuZGVuY2llcyA9IHtcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgY2VpbERlcGVuZGVuY2llcyxcbiAgZmxvb3JEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZpeFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNlaWwgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBjZWlsRGVwZW5kZW5jaWVzID0ge1xuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNlaWxcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHJvdW5kRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSb3VuZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGbG9vciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZsb29yRGVwZW5kZW5jaWVzID0ge1xuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICByb3VuZERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZsb29yXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZvcm1hdCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGZvcm1hdERlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZvcm1hdFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJc051bWVyaWMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpc051bWVyaWNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJc051bWVyaWNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IENvbXBsZXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbXBsZXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpZGVudGl0eURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBvdyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHBvd0RlcGVuZGVuY2llcyA9IHtcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgZnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGlkZW50aXR5RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQb3dcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBVbml0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbml0Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBVbml0RGVwZW5kZW5jaWVzLFxuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTeW1ib2xOb2RlXG59OyIsImltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IHRvU3ltYm9sIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xudmFyIG5hbWUgPSAnU3ltYm9sTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoJywgJz9Vbml0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3ltYm9sTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIG1hdGgsXG4gICAgVW5pdCxcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHNvbWUgbmFtZSBpcyBhIHZhbHVlbGVzcyB1bml0IGxpa2UgXCJpbmNoXCIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBpc1ZhbHVlbGVzc1VuaXQobmFtZSkge1xuICAgIHJldHVybiBVbml0ID8gVW5pdC5pc1ZhbHVlbGVzc1VuaXQobmFtZSkgOiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFN5bWJvbE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEEgc3ltYm9sIG5vZGUgY2FuIGhvbGQgYW5kIHJlc29sdmUgYSBzeW1ib2xcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gU3ltYm9sTm9kZShuYW1lKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN5bWJvbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJuYW1lXCInKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBTeW1ib2xOb2RlLnByb3RvdHlwZS50eXBlID0gJ1N5bWJvbE5vZGUnO1xuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5pc1N5bWJvbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuXG4gICAgaWYgKGFyZ05hbWVzW25hbWVdID09PSB0cnVlKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgRnVuY3Rpb25Bc3NpZ25tZW50IGFyZ3VtZW50XG4gICAgICAvLyAobGlrZSBhbiB4IHdoZW4gaW5zaWRlIHRoZSBleHByZXNzaW9uIG9mIGEgZnVuY3Rpb24gYXNzaWdubWVudCBgZih4KSA9IC4uLmApXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBhcmdzW25hbWVdO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgaW4gbWF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSkgOiBnZXRTYWZlUHJvcGVydHkobWF0aCwgbmFtZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXNVbml0ID0gaXNWYWx1ZWxlc3NVbml0KG5hbWUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSkgOiBpc1VuaXQgPyBuZXcgVW5pdChudWxsLCBuYW1lKSA6IHVuZGVmKG5hbWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgey8vIG5vdGhpbmcgdG8gZG8sIHdlIGRvbid0IGhhdmUgY2hpbGRzXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3ltYm9sTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1N5bWJvbE5vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gIH07XG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgJ1VuZGVmaW5lZCBzeW1ib2wge25hbWV9J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHVuZGVmKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBzeW1ib2wgJyArIG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1N5bWJvbE5vZGV9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBTeW1ib2xOb2RlKHRoaXMubmFtZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG5hbWUgPSBlc2NhcGUodGhpcy5uYW1lKTtcblxuICAgIGlmIChuYW1lID09PSAndHJ1ZScgfHwgbmFtZSA9PT0gJ2ZhbHNlJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtYm9vbGVhblwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2knKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1pbWFnaW5hcnktc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnSW5maW5pdHknKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1pbmZpbml0eS1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdOYU4nKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1uYW4tc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLW51bGwtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtdW5kZWZpbmVkLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnU3ltYm9sTm9kZScsXG4gICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBTeW1ib2xOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTeW1ib2xOb2RlXCIsIG5hbWU6IFwieFwifWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1N5bWJvbE5vZGV9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBTeW1ib2xOb2RlKGpzb24ubmFtZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXNVbml0ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIG1hdGhbdGhpcy5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgaXNWYWx1ZWxlc3NVbml0KHRoaXMubmFtZSkpIHtcbiAgICAgIGlzVW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHN5bWJvbCA9IHRvU3ltYm9sKHRoaXMubmFtZSwgaXNVbml0KTtcblxuICAgIGlmIChzeW1ib2xbMF0gPT09ICdcXFxcJykge1xuICAgICAgLy8gbm8gc3BhY2UgbmVlZGVkIGlmIHRoZSBzeW1ib2wgc3RhcnRzIHdpdGggJ1xcJ1xuICAgICAgcmV0dXJuIHN5bWJvbDtcbiAgICB9IC8vIHRoZSBzcGFjZSBwcmV2ZW50cyBzeW1ib2xzIGZyb20gYnJlYWtpbmcgc3R1ZmYgbGlrZSAnXFxjZG90JyBpZiBpdCdzIHdyaXR0ZW4gcmlnaHQgYmVmb3JlIHRoZSBzeW1ib2xcblxuXG4gICAgcmV0dXJuICcgJyArIHN5bWJvbDtcbiAgfTtcblxuICByZXR1cm4gU3ltYm9sTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgcGFyc2VEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1BhcnNlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUV2YWx1YXRlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZXZhbHVhdGVEZXBlbmRlbmNpZXMgPSB7XG4gIHBhcnNlRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXZhbHVhdGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWNjZXNzb3JOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBBcnJheU5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FycmF5Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Fzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBCbG9ja05vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Jsb2NrTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25kaXRpb25hbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29uc3RhbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbk5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Z1bmN0aW9uTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgSW5kZXhOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJbmRleE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE9iamVjdE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc09iamVjdE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzT3BlcmF0b3JOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1BhcmVudGhlc2lzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSYW5nZU5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSZWxhdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3ltYm9sTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtZXJpYy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQYXJzZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHBhcnNlRGVwZW5kZW5jaWVzID0ge1xuICBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMsXG4gIEFycmF5Tm9kZURlcGVuZGVuY2llcyxcbiAgQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEJsb2NrTm9kZURlcGVuZGVuY2llcyxcbiAgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzLFxuICBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMsXG4gIEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyxcbiAgSW5kZXhOb2RlRGVwZW5kZW5jaWVzLFxuICBPYmplY3ROb2RlRGVwZW5kZW5jaWVzLFxuICBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMsXG4gIFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyxcbiAgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzLFxuICBSZWxhdGlvbmFsTm9kZURlcGVuZGVuY2llcyxcbiAgU3ltYm9sTm9kZURlcGVuZGVuY2llcyxcbiAgbnVtZXJpY0RlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBhcnNlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJzZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWNjZXNzb3JOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBzdWJzZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFjY2Vzc29yTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQXJyYXlOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQXJyYXlOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBcnJheU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJzZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQXNzaWdubWVudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBzdWJzZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFzc2lnbm1lbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSZXN1bHRTZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1Jlc3VsdFNldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmxvY2tOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQmxvY2tOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBSZXN1bHRTZXREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUJsb2NrTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlUmVzdWx0U2V0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmVzdWx0U2V0RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVSZXN1bHRTZXRcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbmRpdGlvbmFsTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbmRpdGlvbmFsTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29uZGl0aW9uYWxOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25zdGFudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb25zdGFudE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUNvbnN0YW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N5bWJvbE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZ1bmN0aW9uTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgU3ltYm9sTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnVuY3Rpb25Ob2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSYW5nZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmFuZ2VDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc2l6ZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXhOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgSW5kZXhOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBSYW5nZURlcGVuZGVuY2llcyxcbiAgc2l6ZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlSW5kZXhOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVSYW5nZUNsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmFuZ2VEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZVJhbmdlQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBPYmplY3ROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVPYmplY3ROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvck5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBPcGVyYXRvck5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU9wZXJhdG9yTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyZW50aGVzaXNOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVQYXJlbnRoZXNpc05vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJhbmdlTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJhbmdlTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlUmFuZ2VOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZWxhdGlvbmFsTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSZWxhdGlvbmFsTm9kZVxufTsiLCJpbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdldmFsdWF0ZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdwYXJzZSddO1xuZXhwb3J0IHZhciBjcmVhdGVFdmFsdWF0ZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIHBhcnNlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZSBhbiBleHByZXNzaW9uLlxuICAgKlxuICAgKiBOb3RlIHRoZSBldmFsdWF0aW5nIGFyYml0cmFyeSBleHByZXNzaW9ucyBtYXkgaW52b2x2ZSBzZWN1cml0eSByaXNrcyxcbiAgICogc2VlIFtodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sXShodHRwczovL21hdGhqcy5vcmcvZG9jcy9leHByZXNzaW9ucy9zZWN1cml0eS5odG1sKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShleHByKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShleHByLCBzY29wZSlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0pXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dLCBzY29wZSlcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJygyKzMpLzQnKSAgICAgICAgICAgICAgICAvLyAxLjI1XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdzcXJ0KDNeMiArIDReMiknKSAgICAgICAgLy8gNVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnc3FydCgtNCknKSAgICAgICAgICAgICAgIC8vIDJpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKFsnYT0zJywgJ2I9NCcsICdhKmInXSkgICAgLy8gWzMsIDQsIDEyXVxuICAgKlxuICAgKiAgICAgbGV0IHNjb3BlID0ge2E6MywgYjo0fVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnYSAqIGInLCBzY29wZSkgICAgICAgICAgIC8vIDEyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBwYXJzZSwgY29tcGlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgTWF0cml4fSBleHByICAgVGhlIGV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdICAgICAgICAgICAgICAgICAgICBTY29wZSB0byByZWFkL3dyaXRlIHZhcmlhYmxlc1xuICAgKiBAcmV0dXJuIHsqfSBUaGUgcmVzdWx0IG9mIHRoZSBleHByZXNzaW9uXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhleHByKSB7XG4gICAgICB2YXIgc2NvcGUgPSB7fTtcbiAgICAgIHJldHVybiBwYXJzZShleHByKS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgIH0sXG4gICAgJ3N0cmluZywgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nT2JqZWN0KGV4cHIsIHNjb3BlKSB7XG4gICAgICByZXR1cm4gcGFyc2UoZXhwcikuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KGV4cHIpIHtcbiAgICAgIHZhciBzY29wZSA9IHt9O1xuICAgICAgcmV0dXJuIGRlZXBNYXAoZXhwciwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZShlbnRyeSkuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBPYmplY3QnOiBmdW5jdGlvbiBBcnJheU1hdHJpeE9iamVjdChleHByLCBzY29wZSkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoZXhwciwgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZShlbnRyeSkuY29tcGlsZSgpLmV2YWx1YXRlKHNjb3BlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgaW52RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJbnYuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGl2aWRlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGl2aWRlRGVwZW5kZW5jaWVzID0ge1xuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBpbnZEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEaXZpZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGV0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpZGVudGl0eURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHkuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW52IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgaW52RGVwZW5kZW5jaWVzID0ge1xuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGV0RGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGlkZW50aXR5RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlSW52XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBsdXBEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0x1cC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZURldCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGRldERlcGVuZGVuY2llcyA9IHtcbiAgbHVwRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5RGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFic0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbGFyZ2VyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNMYXJnZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnRyYWN0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTdWJ0cmFjdC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMdXAgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBsdXBEZXBlbmRlbmNpZXMgPSB7XG4gIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFEZXBlbmRlbmNpZXMsXG4gIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgYWJzRGVwZW5kZW5jaWVzLFxuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGxhcmdlckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgc3VidHJhY3REZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVMdXBcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZpYm9uYWNjaUhlYXBDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3BhQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBTcGFEZXBlbmRlbmNpZXMgPSB7XG4gIEZpYm9uYWNjaUhlYXBEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNwYUNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBsYXJnZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc21hbGxlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU21hbGxlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyA9IHtcbiAgbGFyZ2VyRGVwZW5kZW5jaWVzLFxuICBzbWFsbGVyRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTbWFsbGVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgc21hbGxlckRlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNtYWxsZXJcbn07IiwiaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnbHVwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhYnMnLCAnYWRkU2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdzdWJ0cmFjdCcsICdsYXJnZXInLCAnZXF1YWxTY2FsYXInLCAndW5hcnlNaW51cycsICdEZW5zZU1hdHJpeCcsICdTcGFyc2VNYXRyaXgnLCAnU3BhJ107XG5leHBvcnQgdmFyIGNyZWF0ZUx1cCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhYnMsXG4gICAgYWRkU2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBtdWx0aXBseVNjYWxhcixcbiAgICBzdWJ0cmFjdCxcbiAgICBsYXJnZXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgdW5hcnlNaW51cyxcbiAgICBEZW5zZU1hdHJpeCxcbiAgICBTcGFyc2VNYXRyaXgsXG4gICAgU3BhXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIE1hdHJpeCBMVSBkZWNvbXBvc2l0aW9uIHdpdGggcGFydGlhbCBwaXZvdGluZy4gTWF0cml4IGBBYCBpcyBkZWNvbXBvc2VkIGluIHR3byBtYXRyaWNlcyAoYExgLCBgVWApIGFuZCBhXG4gICAqIHJvdyBwZXJtdXRhdGlvbiB2ZWN0b3IgYHBgIHdoZXJlIGBBW3AsOl0gPSBMICogVWBcbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmx1cChBKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICBjb25zdCBtID0gW1syLCAxXSwgWzEsIDRdXVxuICAgKiAgICBjb25zdCByID0gbWF0aC5sdXAobSlcbiAgICogICAgLy8gciA9IHtcbiAgICogICAgLy8gICBMOiBbWzEsIDBdLCBbMC41LCAxXV0sXG4gICAqICAgIC8vICAgVTogW1syLCAxXSwgWzAsIDMuNV1dLFxuICAgKiAgICAvLyAgIFA6IFswLCAxXVxuICAgKiAgICAvLyB9XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBzbHUsIGxzb2x2ZSwgbHVzb2x2ZSwgdXNvbHZlXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4IHwgQXJyYXl9IEEgICAgQSB0d28gZGltZW5zaW9uYWwgbWF0cml4IG9yIGFycmF5IGZvciB3aGljaCB0byBnZXQgdGhlIExVUCBkZWNvbXBvc2l0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHt7TDogQXJyYXkgfCBNYXRyaXgsIFU6IEFycmF5IHwgTWF0cml4LCBQOiBBcnJheS48bnVtYmVyPn19IFRoZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeCwgdGhlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IGFuZCB0aGUgcGVybXV0YXRpb24gbWF0cml4LlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBEZW5zZU1hdHJpeDogZnVuY3Rpb24gRGVuc2VNYXRyaXgobSkge1xuICAgICAgcmV0dXJuIF9kZW5zZUxVUChtKTtcbiAgICB9LFxuICAgIFNwYXJzZU1hdHJpeDogZnVuY3Rpb24gU3BhcnNlTWF0cml4KG0pIHtcbiAgICAgIHJldHVybiBfc3BhcnNlTFVQKG0pO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KGEpIHtcbiAgICAgIC8vIGNyZWF0ZSBkZW5zZSBtYXRyaXggZnJvbSBhcnJheVxuICAgICAgdmFyIG0gPSBtYXRyaXgoYSk7IC8vIGx1cCwgdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuXG4gICAgICB2YXIgciA9IF9kZW5zZUxVUChtKTsgLy8gcmVzdWx0XG5cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgTDogci5MLnZhbHVlT2YoKSxcbiAgICAgICAgVTogci5VLnZhbHVlT2YoKSxcbiAgICAgICAgcDogci5wXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gX2RlbnNlTFVQKG0pIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gbS5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IG0uX3NpemVbMV07IC8vIG1pbmltdW0gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzLCBjb2x1bW5zKTsgLy8gbWF0cml4IGFycmF5LCBjbG9uZSBvcmlnaW5hbCBkYXRhXG5cbiAgICB2YXIgZGF0YSA9IGNsb25lKG0uX2RhdGEpOyAvLyBsIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBsZGF0YSA9IFtdO1xuICAgIHZhciBsc2l6ZSA9IFtyb3dzLCBuXTsgLy8gdSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdWRhdGEgPSBbXTtcbiAgICB2YXIgdXNpemUgPSBbbiwgY29sdW1uc107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrOyAvLyBwZXJtdXRhdGlvbiB2ZWN0b3JcblxuICAgIHZhciBwID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBwW2ldID0gaTtcbiAgICB9IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBza2lwIGZpcnN0IGNvbHVtbiBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gbWluIGksalxuICAgICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihpLCBqKTsgLy8gdltpLCBqXVxuXG4gICAgICAgICAgdmFyIHMgPSAwOyAvLyBsb29wIHVwIHRvIG1pblxuXG4gICAgICAgICAgZm9yIChrID0gMDsgayA8IG1pbjsgaysrKSB7XG4gICAgICAgICAgICAvLyBzID0gbFtpLCBrXSAtIGRhdGFbaywgal1cbiAgICAgICAgICAgIHMgPSBhZGRTY2FsYXIocywgbXVsdGlwbHlTY2FsYXIoZGF0YVtpXVtrXSwgZGF0YVtrXVtqXSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbaV1bal0gPSBzdWJ0cmFjdChkYXRhW2ldW2pdLCBzKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyByb3cgd2l0aCBsYXJnZXIgdmFsdWUgaW4gY3ZlY3Rvciwgcm93ID49IGpcblxuXG4gICAgICB2YXIgcGkgPSBqO1xuICAgICAgdmFyIHBhYnN2ID0gMDtcbiAgICAgIHZhciB2amogPSAwOyAvLyBsb29wIHJvd3NcblxuICAgICAgZm9yIChpID0gajsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBkYXRhIEAgaSwgalxuICAgICAgICB2YXIgdiA9IGRhdGFbaV1bal07IC8vIGFic29sdXRlIHZhbHVlXG5cbiAgICAgICAgdmFyIGFic3YgPSBhYnModik7IC8vIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBwaXZvdGUgdmFsdWVcblxuICAgICAgICBpZiAobGFyZ2VyKGFic3YsIHBhYnN2KSkge1xuICAgICAgICAgIC8vIHN0b3JlIHJvd1xuICAgICAgICAgIHBpID0gaTsgLy8gdXBkYXRlIG1heCB2YWx1ZVxuXG4gICAgICAgICAgcGFic3YgPSBhYnN2OyAvLyB2YWx1ZSBAIFtqLCBqXVxuXG4gICAgICAgICAgdmpqID0gdjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBzd2FwIHJvd3MgKGogPC0+IHBpKVxuXG5cbiAgICAgIGlmIChqICE9PSBwaSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBwXG4gICAgICAgIHBbal0gPSBbcFtwaV0sIHBbcGldID0gcFtqXV1bMF07IC8vIHN3YXAgaiA8LT4gcGkgaW4gZGF0YVxuXG4gICAgICAgIERlbnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgZGF0YSk7XG4gICAgICB9IC8vIGNoZWNrIGNvbHVtbiBpcyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAvLyBsb29wIHJvd3MgKGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4KVxuICAgICAgICBmb3IgKGkgPSBqICsgMTsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgIC8vIHZhbHVlIEAgaSwgalxuICAgICAgICAgIHZhciB2aWogPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgICAgaWYgKCFlcXVhbFNjYWxhcih2aWosIDApKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgZGF0YVxuICAgICAgICAgICAgZGF0YVtpXVtqXSA9IGRpdmlkZVNjYWxhcihkYXRhW2ldW2pdLCB2amopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBpbml0aWFsaXplIHJvdyBpbiBhcnJheXNcbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXSA9IFtdO1xuICAgICAgICAgIH0gLy8gTFxuXG5cbiAgICAgICAgICBsZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHdlIGFyZSBpbiB0aGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChpIDwgaikge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgICAvLyBMXG4gICAgICAgICAgICBsZGF0YVtpXVtqXSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZGlhZ29uYWwgdmFsdWVcblxuXG4gICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAgIC8vIExcbiAgICAgICAgICAgIGxkYXRhW2ldW2pdID0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAvLyBVXG4gICAgICAgICAgdWRhdGFbaV1bal0gPSAwO1xuICAgICAgICB9IC8vIGNoZWNrIGNvbHVtbiBleGlzdHMgaW4gbG93ZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgIC8vIExcbiAgICAgICAgICBsZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGwgbWF0cml4XG5cblxuICAgIHZhciBsID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGxkYXRhLFxuICAgICAgc2l6ZTogbHNpemVcbiAgICB9KTsgLy8gdSBtYXRyaXhcblxuICAgIHZhciB1ID0gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IHVkYXRhLFxuICAgICAgc2l6ZTogdXNpemVcbiAgICB9KTsgLy8gcCB2ZWN0b3JcblxuICAgIHZhciBwdiA9IFtdO1xuXG4gICAgZm9yIChpID0gMCwgbiA9IHAubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBwdltwW2ldXSA9IGk7XG4gICAgfSAvLyByZXR1cm4gbWF0cmljZXNcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIEw6IGwsXG4gICAgICBVOiB1LFxuICAgICAgcDogcHYsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnTDogJyArIHRoaXMuTC50b1N0cmluZygpICsgJ1xcblU6ICcgKyB0aGlzLlUudG9TdHJpbmcoKSArICdcXG5QOiAnICsgdGhpcy5wO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfc3BhcnNlTFVQKG0pIHtcbiAgICAvLyByb3dzICYgY29sdW1uc1xuICAgIHZhciByb3dzID0gbS5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IG0uX3NpemVbMV07IC8vIG1pbmltdW0gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIG4gPSBNYXRoLm1pbihyb3dzLCBjb2x1bW5zKTsgLy8gbWF0cml4IGFycmF5cyAod2lsbCBub3QgYmUgbW9kaWZpZWQsIHRoYW5rcyB0byBwZXJtdXRhdGlvbiB2ZWN0b3IpXG5cbiAgICB2YXIgdmFsdWVzID0gbS5fdmFsdWVzO1xuICAgIHZhciBpbmRleCA9IG0uX2luZGV4O1xuICAgIHZhciBwdHIgPSBtLl9wdHI7IC8vIGwgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGx2YWx1ZXMgPSBbXTtcbiAgICB2YXIgbGluZGV4ID0gW107XG4gICAgdmFyIGxwdHIgPSBbXTtcbiAgICB2YXIgbHNpemUgPSBbcm93cywgbl07IC8vIHUgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIHV2YWx1ZXMgPSBbXTtcbiAgICB2YXIgdWluZGV4ID0gW107XG4gICAgdmFyIHVwdHIgPSBbXTtcbiAgICB2YXIgdXNpemUgPSBbbiwgY29sdW1uc107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrOyAvLyBwZXJtdXRhdGlvbiB2ZWN0b3JzLCAoY3VycmVudCBpbmRleCAtPiBvcmlnaW5hbCBpbmRleCkgYW5kIChvcmlnaW5hbCBpbmRleCAtPiBjdXJyZW50IGluZGV4KVxuXG4gICAgdmFyIHB2Q28gPSBbXTtcbiAgICB2YXIgcHZPYyA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgcHZDb1tpXSA9IGk7XG4gICAgICBwdk9jW2ldID0gaTtcbiAgICB9IC8vIHN3YXAgaW5kaWNlcyBpbiBwZXJtdXRhdGlvbiB2ZWN0b3JzIChjb25kaXRpb24geCA8IHkpIVxuXG5cbiAgICB2YXIgc3dhcEluZGVjZXMgPSBmdW5jdGlvbiBzd2FwSW5kZWNlcyh4LCB5KSB7XG4gICAgICAvLyBmaW5kIHB2IGluZGVjZXMgZ2V0dGluZyBkYXRhIGZyb20geCBhbmQgeVxuICAgICAgdmFyIGt4ID0gcHZPY1t4XTtcbiAgICAgIHZhciBreSA9IHB2T2NbeV07IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3IgY3VycmVudCAtPiBvcmlnaW5hbFxuXG4gICAgICBwdkNvW2t4XSA9IHk7XG4gICAgICBwdkNvW2t5XSA9IHg7IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3Igb3JpZ2luYWwgLT4gY3VycmVudFxuXG4gICAgICBwdk9jW3hdID0ga3k7XG4gICAgICBwdk9jW3ldID0ga3g7XG4gICAgfTsgLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgLy8gc3BhcnNlIGFjY3VtdWxhdG9yXG4gICAgICB2YXIgc3BhID0gbmV3IFNwYSgpOyAvLyBjaGVjayBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeCBoYXMgYSB2YWx1ZSBAIGNvbHVtbiBqXG5cbiAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICAgIGxwdHIucHVzaChsdmFsdWVzLmxlbmd0aCk7IC8vIGZpcnN0IHZhbHVlIGluIGogY29sdW1uIGZvciBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG4gICAgICAgIGx2YWx1ZXMucHVzaCgxKTtcbiAgICAgICAgbGluZGV4LnB1c2goaik7XG4gICAgICB9IC8vIHVwZGF0ZSBwdHJcblxuXG4gICAgICB1cHRyLnB1c2godXZhbHVlcy5sZW5ndGgpOyAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG5cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGNvcHkgY29sdW1uIGogaW50byBzcGFyc2UgYWNjdW11bGF0b3JcblxuICAgICAgZm9yIChrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gaW5kZXhba107IC8vIGNvcHkgY29sdW1uIHZhbHVlcyBpbnRvIHNwYXJzZSBhY2N1bXVsYXRvciAodXNlIHBlcm11dGF0aW9uIHZlY3RvcilcblxuICAgICAgICBzcGEuc2V0KHB2Q29baV0sIHZhbHVlc1trXSk7XG4gICAgICB9IC8vIHNraXAgZmlyc3QgY29sdW1uIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgIC8vIGxvb3Agcm93cyBpbiBjb2x1bW4gaiAoYWJvdmUgZGlhZ29uYWwpXG4gICAgICAgIHNwYS5mb3JFYWNoKDAsIGogLSAxLCBmdW5jdGlvbiAoaywgdmtqKSB7XG4gICAgICAgICAgLy8gbG9vcCByb3dzIGluIGNvbHVtbiBrIChMKVxuICAgICAgICAgIFNwYXJzZU1hdHJpeC5fZm9yRWFjaFJvdyhrLCBsdmFsdWVzLCBsaW5kZXgsIGxwdHIsIGZ1bmN0aW9uIChpLCB2aWspIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHJvdyBpcyBiZWxvdyBrXG4gICAgICAgICAgICBpZiAoaSA+IGspIHtcbiAgICAgICAgICAgICAgLy8gdXBkYXRlIHNwYSB2YWx1ZVxuICAgICAgICAgICAgICBzcGEuYWNjdW11bGF0ZShpLCB1bmFyeU1pbnVzKG11bHRpcGx5U2NhbGFyKHZpaywgdmtqKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gcm93IHdpdGggbGFyZ2VyIHZhbHVlIGluIHNwYSwgcm93ID49IGpcblxuXG4gICAgICB2YXIgcGkgPSBqO1xuICAgICAgdmFyIHZqaiA9IHNwYS5nZXQoaik7XG4gICAgICB2YXIgcGFic3YgPSBhYnModmpqKTsgLy8gbG9vcCB2YWx1ZXMgaW4gc3BhIChvcmRlciBieSByb3csIGJlbG93IGRpYWdvbmFsKVxuXG4gICAgICBzcGEuZm9yRWFjaChqICsgMSwgcm93cyAtIDEsIGZ1bmN0aW9uICh4LCB2KSB7XG4gICAgICAgIC8vIGFic29sdXRlIHZhbHVlXG4gICAgICAgIHZhciBhYnN2ID0gYWJzKHYpOyAvLyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gcGl2b3RlIHZhbHVlXG5cbiAgICAgICAgaWYgKGxhcmdlcihhYnN2LCBwYWJzdikpIHtcbiAgICAgICAgICAvLyBzdG9yZSByb3dcbiAgICAgICAgICBwaSA9IHg7IC8vIHVwZGF0ZSBtYXggdmFsdWVcblxuICAgICAgICAgIHBhYnN2ID0gYWJzdjsgLy8gdmFsdWUgQCBbaiwgal1cblxuICAgICAgICAgIHZqaiA9IHY7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBzd2FwIHJvd3MgKGogPC0+IHBpKVxuXG4gICAgICBpZiAoaiAhPT0gcGkpIHtcbiAgICAgICAgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gTFxuICAgICAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCBsc2l6ZVsxXSwgbHZhbHVlcywgbGluZGV4LCBscHRyKTsgLy8gc3dhcCB2YWx1ZXMgaiA8LT4gcGkgaW4gVVxuXG5cbiAgICAgICAgU3BhcnNlTWF0cml4Ll9zd2FwUm93cyhqLCBwaSwgdXNpemVbMV0sIHV2YWx1ZXMsIHVpbmRleCwgdXB0cik7IC8vIHN3YXAgdmFsdWVzIGluIHNwYVxuXG5cbiAgICAgICAgc3BhLnN3YXAoaiwgcGkpOyAvLyB1cGRhdGUgcGVybXV0YXRpb24gdmVjdG9yIChzd2FwIHZhbHVlcyBAIGosIHBpKVxuXG4gICAgICAgIHN3YXBJbmRlY2VzKGosIHBpKTtcbiAgICAgIH0gLy8gbG9vcCB2YWx1ZXMgaW4gc3BhIChvcmRlciBieSByb3cpXG5cblxuICAgICAgc3BhLmZvckVhY2goMCwgcm93cyAtIDEsIGZ1bmN0aW9uICh4LCB2KSB7XG4gICAgICAgIC8vIGNoZWNrIHdlIGFyZSBhYm92ZSBkaWFnb25hbFxuICAgICAgICBpZiAoeCA8PSBqKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgdXZhbHVlcy5wdXNoKHYpO1xuICAgICAgICAgIHVpbmRleC5wdXNoKHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVwZGF0ZSB2YWx1ZVxuICAgICAgICAgIHYgPSBkaXZpZGVTY2FsYXIodiwgdmpqKTsgLy8gY2hlY2sgdmFsdWUgaXMgbm9uIHplcm9cblxuICAgICAgICAgIGlmICghZXF1YWxTY2FsYXIodiwgMCkpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgICAgbHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICAgICAgbGluZGV4LnB1c2goeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgX2xvb3AoKTtcbiAgICB9IC8vIHVwZGF0ZSBwdHJzXG5cblxuICAgIHVwdHIucHVzaCh1dmFsdWVzLmxlbmd0aCk7XG4gICAgbHB0ci5wdXNoKGx2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIG1hdHJpY2VzXG5cbiAgICByZXR1cm4ge1xuICAgICAgTDogbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICAgIHZhbHVlczogbHZhbHVlcyxcbiAgICAgICAgaW5kZXg6IGxpbmRleCxcbiAgICAgICAgcHRyOiBscHRyLFxuICAgICAgICBzaXplOiBsc2l6ZVxuICAgICAgfSksXG4gICAgICBVOiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgICAgdmFsdWVzOiB1dmFsdWVzLFxuICAgICAgICBpbmRleDogdWluZGV4LFxuICAgICAgICBwdHI6IHVwdHIsXG4gICAgICAgIHNpemU6IHVzaXplXG4gICAgICB9KSxcbiAgICAgIHA6IHB2Q28sXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnTDogJyArIHRoaXMuTC50b1N0cmluZygpICsgJ1xcblU6ICcgKyB0aGlzLlUudG9TdHJpbmcoKSArICdcXG5QOiAnICsgdGhpcy5wO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pOyIsImltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2RldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnc3VidHJhY3QnLCAnbXVsdGlwbHknLCAndW5hcnlNaW51cycsICdsdXAnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGV0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIHN1YnRyYWN0LFxuICAgIG11bHRpcGx5LFxuICAgIHVuYXJ5TWludXMsXG4gICAgbHVwXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZGV0KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmRldChbWzEsIDJdLCBbMywgNF1dKSAvLyByZXR1cm5zIC0yXG4gICAqXG4gICAqICAgIGNvbnN0IEEgPSBbXG4gICAqICAgICAgWy0yLCAyLCAzXSxcbiAgICogICAgICBbLTEsIDEsIDNdLFxuICAgKiAgICAgIFsyLCAwLCAtMV1cbiAgICogICAgXVxuICAgKiAgICBtYXRoLmRldChBKSAvLyByZXR1cm5zIDZcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGludlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSB4ICBBIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkZXRlcm1pbmFudCBvZiBgeGBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgYW55OiBmdW5jdGlvbiBhbnkoeCkge1xuICAgICAgcmV0dXJuIGNsb25lKHgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gZGV0KHgpIHtcbiAgICAgIHZhciBzaXplO1xuXG4gICAgICBpZiAoaXNNYXRyaXgoeCkpIHtcbiAgICAgICAgc2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICAgIHggPSBtYXRyaXgoeCk7XG4gICAgICAgIHNpemUgPSB4LnNpemUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGEgc2NhbGFyXG4gICAgICAgIHNpemUgPSBbXTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgLy8gc2NhbGFyXG4gICAgICAgICAgcmV0dXJuIGNsb25lKHgpO1xuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyB2ZWN0b3JcbiAgICAgICAgICBpZiAoc2l6ZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lKHgudmFsdWVPZigpWzBdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIHR3byBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBzaXplWzFdO1xuXG4gICAgICAgICAgICBpZiAocm93cyA9PT0gY29scykge1xuICAgICAgICAgICAgICByZXR1cm4gX2RldCh4LmNsb25lKCkudmFsdWVPZigpLCByb3dzLCBjb2xzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgdHdvIGRpbWVuc2lvbmFsICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXlbXX0gbWF0cml4ICBBIHNxdWFyZSwgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAgICAgTnVtYmVyIG9mIHJvd3Mgb2YgdGhlIG1hdHJpeCAoemVyby1iYXNlZClcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgICAgIE51bWJlciBvZiBjb2x1bW5zIG9mIHRoZSBtYXRyaXggKHplcm8tYmFzZWQpXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGRldFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfZGV0KG1hdHJpeCwgcm93cywgY29scykge1xuICAgIGlmIChyb3dzID09PSAxKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMSB4IDEgbWF0cml4XG4gICAgICByZXR1cm4gY2xvbmUobWF0cml4WzBdWzBdKTtcbiAgICB9IGVsc2UgaWYgKHJvd3MgPT09IDIpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAyIHggMiBtYXRyaXhcbiAgICAgIC8vIHRoZSBkZXRlcm1pbmFudCBvZiBbYTExLGExMjthMjEsYTIyXSBpcyBkZXQgPSBhMTEqYTIyLWEyMSphMTJcbiAgICAgIHJldHVybiBzdWJ0cmFjdChtdWx0aXBseShtYXRyaXhbMF1bMF0sIG1hdHJpeFsxXVsxXSksIG11bHRpcGx5KG1hdHJpeFsxXVswXSwgbWF0cml4WzBdWzFdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbXB1dGUgdGhlIExVIGRlY29tcG9zaXRpb25cbiAgICAgIHZhciBkZWNvbXAgPSBsdXAobWF0cml4KTsgLy8gVGhlIGRldGVybWluYW50IGlzIHRoZSBwcm9kdWN0IG9mIHRoZSBkaWFnb25hbCBlbnRyaWVzIG9mIFUgKGFuZCB0aG9zZSBvZiBMLCBidXQgdGhleSBhcmUgYWxsIDEpXG5cbiAgICAgIHZhciBkZXQgPSBkZWNvbXAuVVswXVswXTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IHJvd3M7IF9pKyspIHtcbiAgICAgICAgZGV0ID0gbXVsdGlwbHkoZGV0LCBkZWNvbXAuVVtfaV1bX2ldKTtcbiAgICAgIH0gLy8gVGhlIGRldGVybWluYW50IHdpbGwgYmUgbXVsdGlwbGllZCBieSAxIG9yIC0xIGRlcGVuZGluZyBvbiB0aGUgcGFyaXR5IG9mIHRoZSBwZXJtdXRhdGlvbiBtYXRyaXguXG4gICAgICAvLyBUaGlzIGNhbiBiZSBkZXRlcm1pbmVkIGJ5IGNvdW50aW5nIHRoZSBjeWNsZXMuIFRoaXMgaXMgcm91Z2hseSBhIGxpbmVhciB0aW1lIGFsZ29yaXRobS5cblxuXG4gICAgICB2YXIgZXZlbkN5Y2xlcyA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgdmlzaXRlZCA9IFtdO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB3aGlsZSAodmlzaXRlZFtpXSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID49IHJvd3MpIGJyZWFrO1xuICAgICAgICB2YXIgaiA9IGk7XG4gICAgICAgIHZhciBjeWNsZUxlbiA9IDA7XG5cbiAgICAgICAgd2hpbGUgKCF2aXNpdGVkW2RlY29tcC5wW2pdXSkge1xuICAgICAgICAgIHZpc2l0ZWRbZGVjb21wLnBbal1dID0gdHJ1ZTtcbiAgICAgICAgICBqID0gZGVjb21wLnBbal07XG4gICAgICAgICAgY3ljbGVMZW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjeWNsZUxlbiAlIDIgPT09IDApIHtcbiAgICAgICAgICBldmVuQ3ljbGVzKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZW5DeWNsZXMgJSAyID09PSAwID8gZGV0IDogdW5hcnlNaW51cyhkZXQpO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBhcnJheVNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xudmFyIG5hbWUgPSAnaW52JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdkaXZpZGVTY2FsYXInLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5JywgJ3VuYXJ5TWludXMnLCAnZGV0JywgJ2lkZW50aXR5JywgJ2FicyddO1xuZXhwb3J0IHZhciBjcmVhdGVJbnYgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIGFkZFNjYWxhcixcbiAgICBtdWx0aXBseSxcbiAgICB1bmFyeU1pbnVzLFxuICAgIGRldCxcbiAgICBpZGVudGl0eSxcbiAgICBhYnNcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgaW52ZXJzZSBvZiBhIHNxdWFyZSBtYXRyaXguXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguaW52KHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgbWF0aC5pbnYoW1sxLCAyXSwgWzMsIDRdXSkgIC8vIHJldHVybnMgW1stMiwgMV0sIFsxLjUsIC0wLjVdXVxuICAgKiAgICAgbWF0aC5pbnYoNCkgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMC4yNVxuICAgKiAgICAgMSAvIDQgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMC4yNVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgIGRldCwgdHJhbnNwb3NlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICAgICBNYXRyaXggdG8gYmUgaW52ZXJzZWRcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBUaGUgaW52ZXJzZSBvZiBgeGAuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHZhciBzaXplID0gaXNNYXRyaXgoeCkgPyB4LnNpemUoKSA6IGFycmF5U2l6ZSh4KTtcblxuICAgICAgc3dpdGNoIChzaXplLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gdmVjdG9yXG4gICAgICAgICAgaWYgKHNpemVbMF0gPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICAgICAgICByZXR1cm4gbWF0cml4KFtkaXZpZGVTY2FsYXIoMSwgeC52YWx1ZU9mKClbMF0pXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gW2RpdmlkZVNjYWxhcigxLCB4WzBdKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSBzcXVhcmUgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyB0d28gZGltZW5zaW9uYWwgYXJyYXlcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgY29scyA9IHNpemVbMV07XG5cbiAgICAgICAgICAgIGlmIChyb3dzID09PSBjb2xzKSB7XG4gICAgICAgICAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXgoX2ludih4LnZhbHVlT2YoKSwgcm93cywgY29scyksIHguc3RvcmFnZSgpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gYW4gQXJyYXlcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ludih4LCByb3dzLCBjb2xzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSB0d28gZGltZW5zaW9uYWwgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhbnk6IGZ1bmN0aW9uIGFueSh4KSB7XG4gICAgICAvLyBzY2FsYXJcbiAgICAgIHJldHVybiBkaXZpZGVTY2FsYXIoMSwgeCk7IC8vIEZJWE1FOiBjcmVhdGUgYSBCaWdOdW1iZXIgb25lIHdoZW4gY29uZmlndXJlZCBmb3IgYmlnbnVtYmVyc1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGludmVyc2Ugb2YgYSBzcXVhcmUgbWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXlbXX0gbWF0ICAgICBBIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgICAgIE51bWJlciBvZiByb3dzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzICAgICBOdW1iZXIgb2YgY29sdW1ucywgbXVzdCBlcXVhbCByb3dzXG4gICAqIEByZXR1cm4ge0FycmF5W119IGludiAgICBJbnZlcnNlIG1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfaW52KG1hdCwgcm93cywgY29scykge1xuICAgIHZhciByLCBzLCBmLCB2YWx1ZSwgdGVtcDtcblxuICAgIGlmIChyb3dzID09PSAxKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMSB4IDEgbWF0cml4XG4gICAgICB2YWx1ZSA9IG1hdFswXVswXTtcblxuICAgICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtbZGl2aWRlU2NhbGFyKDEsIHZhbHVlKV1dO1xuICAgIH0gZWxzZSBpZiAocm93cyA9PT0gMikge1xuICAgICAgLy8gdGhpcyBpcyBhIDIgeCAyIG1hdHJpeFxuICAgICAgdmFyIGQgPSBkZXQobWF0KTtcblxuICAgICAgaWYgKGQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1tkaXZpZGVTY2FsYXIobWF0WzFdWzFdLCBkKSwgZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMobWF0WzBdWzFdKSwgZCldLCBbZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMobWF0WzFdWzBdKSwgZCksIGRpdmlkZVNjYWxhcihtYXRbMF1bMF0sIGQpXV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBtYXRyaXggb2YgMyB4IDMgb3IgbGFyZ2VyXG4gICAgICAvLyBjYWxjdWxhdGUgaW52ZXJzZSB1c2luZyBnYXVzcy1qb3JkYW4gZWxpbWluYXRpb25cbiAgICAgIC8vICAgICAgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2F1c3NpYW5fZWxpbWluYXRpb25cbiAgICAgIC8vICAgICAgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9NYXRyaXhJbnZlcnNlLmh0bWxcbiAgICAgIC8vICAgICAgaHR0cDovL21hdGgudXd3LmVkdS9+bWNmYXJsYXQvaW52ZXJzZS5odG1cbiAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBtYXRyaXggKG9ubHkgdGhlIGFycmF5cywgbm90IG9mIHRoZSBlbGVtZW50cylcbiAgICAgIHZhciBBID0gbWF0LmNvbmNhdCgpO1xuXG4gICAgICBmb3IgKHIgPSAwOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgIEFbcl0gPSBBW3JdLmNvbmNhdCgpO1xuICAgICAgfSAvLyBjcmVhdGUgYW4gaWRlbnRpdHkgbWF0cml4IHdoaWNoIGluIHRoZSBlbmQgd2lsbCBjb250YWluIHRoZVxuICAgICAgLy8gbWF0cml4IGludmVyc2VcblxuXG4gICAgICB2YXIgQiA9IGlkZW50aXR5KHJvd3MpLnZhbHVlT2YoKTsgLy8gbG9vcCBvdmVyIGFsbCBjb2x1bW5zLCBhbmQgcGVyZm9ybSByb3cgcmVkdWN0aW9uc1xuXG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbHM7IGMrKykge1xuICAgICAgICAvLyBQaXZvdGluZzogU3dhcCByb3cgYyB3aXRoIHJvdyByLCB3aGVyZSByb3cgciBjb250YWlucyB0aGUgbGFyZ2VzdCBlbGVtZW50IEFbcl1bY11cbiAgICAgICAgdmFyIEFCaWcgPSBhYnMoQVtjXVtjXSk7XG4gICAgICAgIHZhciByQmlnID0gYztcbiAgICAgICAgciA9IGMgKyAxO1xuXG4gICAgICAgIHdoaWxlIChyIDwgcm93cykge1xuICAgICAgICAgIGlmIChhYnMoQVtyXVtjXSkgPiBBQmlnKSB7XG4gICAgICAgICAgICBBQmlnID0gYWJzKEFbcl1bY10pO1xuICAgICAgICAgICAgckJpZyA9IHI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFCaWcgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICAgIH1cblxuICAgICAgICByID0gckJpZztcblxuICAgICAgICBpZiAociAhPT0gYykge1xuICAgICAgICAgIHRlbXAgPSBBW2NdO1xuICAgICAgICAgIEFbY10gPSBBW3JdO1xuICAgICAgICAgIEFbcl0gPSB0ZW1wO1xuICAgICAgICAgIHRlbXAgPSBCW2NdO1xuICAgICAgICAgIEJbY10gPSBCW3JdO1xuICAgICAgICAgIEJbcl0gPSB0ZW1wO1xuICAgICAgICB9IC8vIGVsaW1pbmF0ZSBub24temVybyB2YWx1ZXMgb24gdGhlIG90aGVyIHJvd3MgYXQgY29sdW1uIGNcblxuXG4gICAgICAgIHZhciBBYyA9IEFbY107XG4gICAgICAgIHZhciBCYyA9IEJbY107XG5cbiAgICAgICAgZm9yIChyID0gMDsgciA8IHJvd3M7IHIrKykge1xuICAgICAgICAgIHZhciBBciA9IEFbcl07XG4gICAgICAgICAgdmFyIEJyID0gQltyXTtcblxuICAgICAgICAgIGlmIChyICE9PSBjKSB7XG4gICAgICAgICAgICAvLyBlbGltaW5hdGUgdmFsdWUgYXQgY29sdW1uIGMgYW5kIHJvdyByXG4gICAgICAgICAgICBpZiAoQXJbY10gIT09IDApIHtcbiAgICAgICAgICAgICAgZiA9IGRpdmlkZVNjYWxhcih1bmFyeU1pbnVzKEFyW2NdKSwgQWNbY10pOyAvLyBhZGQgKGYgKiByb3cgYykgdG8gcm93IHIgdG8gZWxpbWluYXRlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgICAvLyBhdCBjb2x1bW4gY1xuXG4gICAgICAgICAgICAgIGZvciAocyA9IGM7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgICBBcltzXSA9IGFkZFNjYWxhcihBcltzXSwgbXVsdGlwbHkoZiwgQWNbc10pKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZvciAocyA9IDA7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgICBCcltzXSA9IGFkZFNjYWxhcihCcltzXSwgbXVsdGlwbHkoZiwgQmNbc10pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgdmFsdWUgYXQgQWNjIHRvIDEsXG4gICAgICAgICAgICAvLyBkaXZpZGUgZWFjaCB2YWx1ZSBvbiByb3cgciB3aXRoIHRoZSB2YWx1ZSBhdCBBY2NcbiAgICAgICAgICAgIGYgPSBBY1tjXTtcblxuICAgICAgICAgICAgZm9yIChzID0gYzsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICBBcltzXSA9IGRpdmlkZVNjYWxhcihBcltzXSwgZik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAocyA9IDA7IHMgPCBjb2xzOyBzKyspIHtcbiAgICAgICAgICAgICAgQnJbc10gPSBkaXZpZGVTY2FsYXIoQnJbc10sIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gQjtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZGl2aWRlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdtdWx0aXBseScsICdlcXVhbFNjYWxhcicsICdkaXZpZGVTY2FsYXInLCAnaW52J107XG5leHBvcnQgdmFyIGNyZWF0ZURpdmlkZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBtdWx0aXBseSxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgaW52XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIERpdmlkZSB0d28gdmFsdWVzLCBgeCAvIHlgLlxuICAgKiBUbyBkaXZpZGUgbWF0cmljZXMsIGB4YCBpcyBtdWx0aXBsaWVkIHdpdGggdGhlIGludmVyc2Ugb2YgYHlgOiBgeCAqIGludih5KWAuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kaXZpZGUoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZGl2aWRlKDIsIDMpICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMC42NjY2NjY2NjY2NjY2NjY2XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLmNvbXBsZXgoNSwgMTQpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5kaXZpZGUoYSwgYikgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMiArIDNpXG4gICAqXG4gICAqICAgIGNvbnN0IGMgPSBbWzcsIC02XSwgWzEzLCAtNF1dXG4gICAqICAgIGNvbnN0IGQgPSBbWzEsIDJdLCBbNCwgM11dXG4gICAqICAgIG1hdGguZGl2aWRlKGMsIGQpICAgICAgICAgICAgLy8gcmV0dXJucyBBcnJheSBbWy05LCA0XSwgWy0xMSwgNl1dXG4gICAqXG4gICAqICAgIGNvbnN0IGUgPSBtYXRoLnVuaXQoJzE4IGttJylcbiAgICogICAgbWF0aC5kaXZpZGUoZSwgNC41KSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNCBrbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHlcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4ICAgTnVtZXJhdG9yXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB5ICAgICAgICAgIERlbm9taW5hdG9yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gICAgICAgICAgICAgICAgICAgICAgUXVvdGllbnQsIGB4IC8geWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdkaXZpZGUnLCBleHRlbmQoe1xuICAgIC8vIHdlIGV4dGVuZCB0aGUgc2lnbmF0dXJlcyBvZiBkaXZpZGVTY2FsYXIgd2l0aCBzaWduYXR1cmVzIGRlYWxpbmcgd2l0aCBtYXRyaWNlc1xuICAgICdBcnJheSB8IE1hdHJpeCwgQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIFRPRE86IGltcGxlbWVudCBtYXRyaXggcmlnaHQgZGl2aXNpb24gdXNpbmcgcHNldWRvIGludmVyc2VcbiAgICAgIC8vIGh0dHBzOi8vd3d3Lm1hdGh3b3Jrcy5ubC9oZWxwL21hdGxhYi9yZWYvbXJkaXZpZGUuaHRtbFxuICAgICAgLy8gaHR0cHM6Ly93d3cuZ251Lm9yZy9zb2Z0d2FyZS9vY3RhdmUvZG9jL2ludGVycHJldGVyL0FyaXRobWV0aWMtT3BzLmh0bWxcbiAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyMjYzOTMyL2hvdy1kb2VzLWdudS1vY3RhdmUtbWF0cml4LWRpdmlzaW9uLXdvcmstZ2V0dGluZy11bmV4cGVjdGVkLWJlaGF2aW91clxuICAgICAgcmV0dXJuIG11bHRpcGx5KHgsIGludih5KSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gYW55QXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIG11bHRpcGx5KHgsIGludih5KSk7XG4gICAgfVxuICB9LCBkaXZpZGVTY2FsYXIuc2lnbmF0dXJlcykpO1xufSk7IiwiZnVuY3Rpb24gRSAoKSB7XG4gIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5tb2R1bGUuZXhwb3J0cy5UaW55RW1pdHRlciA9IEU7XG4iLCJcblxuaW1wb3J0IHtWZWN0b3IzLCBNYXRoVXRpbHN9IGZyb20gJy4vbWF0aC11dGlscydcblxuY29uc3Qgc2NyYXRjaFZlY3RvcjMgPSBuZXcgVmVjdG9yM1xuXG5leHBvcnQgY2xhc3MgU3BoZXJpY2FsQ29vcmRpbmF0ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGhvcml6b250YWxSYWRpYW5zOm51bWJlciA9IDAsXG4gICAgICAgIHB1YmxpYyB2ZXJ0aWNhbFJhZGlhbnM6bnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIGRpc3RhbmNlOm51bWJlciA9IDBcbiAgICApe31cblxuICAgIGdldCBob3Jpem9udGFsRGVncmVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnMgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgIH1cblxuICAgIHNldCBob3Jpem9udGFsRGVncmVlcyhoOm51bWJlcikge1xuICAgICAgICB0aGlzLmhvcml6b250YWxSYWRpYW5zID0gaCAqIE1hdGhVdGlscy5ERUcyUkFEXG4gICAgfVxuXG4gICAgZ2V0IHZlcnRpY2FsRGVncmVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGljYWxSYWRpYW5zICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICB9XG5cbiAgICBzZXQgdmVydGljYWxEZWdyZWVzKGg6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmVydGljYWxSYWRpYW5zID0gaCAqIE1hdGhVdGlscy5ERUcyUkFEXG4gICAgfVxuXG4gICAgc2V0V2l0aFJhZGlhbnMoaG9yaXpvbnRhbDpudW1iZXIsIHZlcnRpY2FsOm51bWJlciwgZGlzdGFuY2U6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnMgPSBob3Jpem9udGFsXG4gICAgICAgIHRoaXMudmVydGljYWxSYWRpYW5zID0gdmVydGljYWxcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgc2V0V2l0aERlZ3JlZXMoaG9yaXpvbnRhbDpudW1iZXIsIHZlcnRpY2FsOm51bWJlciwgZGlzdGFuY2U6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbERlZ3JlZXMgPSBob3Jpem9udGFsXG4gICAgICAgIHRoaXMudmVydGljYWxEZWdyZWVzID0gdmVydGljYWxcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZnJvbUNhcnRlc2lhbkRpcmVjdGlvbihjYXJ0ZXNpYW46IFZlY3RvcjMpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gc2NyYXRjaFZlY3RvcjMuY29weShjYXJ0ZXNpYW4pLm5vcm1hbGl6ZSgpXG4gICAgICAgIHRoaXMudmVydGljYWxSYWRpYW5zID0gTWF0aC5hc2luKGRpcmVjdGlvbi55KSAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnMgPSBNYXRoLmF0YW4yKGRpcmVjdGlvbi54LCAtZGlyZWN0aW9uLnopICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDBcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBmcm9tQ2FydGVzaWFuUG9zaXRpb24oY2FydGVzaWFuOiBWZWN0b3IzKSB7XG4gICAgICAgIHRoaXMuZnJvbUNhcnRlc2lhbkRpcmVjdGlvbihjYXJ0ZXNpYW4pXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBjYXJ0ZXNpYW4ubGVuZ3RoKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0b0NhcnRlc2lhbkRpcmVjdGlvbihvdXQ6IFZlY3RvcjMpIHsgXG4gICAgICAgIGNvbnN0IHZpc3VhbEVsZXZhdGlvblJhZGlhbnMgPSB0aGlzLnZlcnRpY2FsUmFkaWFuc1xuICAgICAgICBjb25zdCB2aXN1YWxBemltdXRoUmFkaWFucyA9IC0gTWF0aC5QSSAtIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnNcbiAgICAgICAgY29uc3QgeSA9IE1hdGguc2luKHZpc3VhbEVsZXZhdGlvblJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmNvcyh2aXN1YWxFbGV2YXRpb25SYWRpYW5zKSAqIE1hdGguc2luKHZpc3VhbEF6aW11dGhSYWRpYW5zKVxuICAgICAgICBjb25zdCB6ID0gLSBNYXRoLmNvcyh2aXN1YWxFbGV2YXRpb25SYWRpYW5zKSAqIE1hdGguY29zKHZpc3VhbEF6aW11dGhSYWRpYW5zKVxuICAgICAgICByZXR1cm4gb3V0LnNldCh4LCB5LCB6KS5ub3JtYWxpemUoKVxuICAgIH1cblxuICAgIHRvQ2FydGVzaWFuUG9zaXRpb24ob3V0OiBWZWN0b3IzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQ2FydGVzaWFuRGlyZWN0aW9uKG91dCkubXVsdGlwbHlTY2FsYXIodGhpcy5kaXN0YW5jZSlcbiAgICB9XG5cbn0iLCJmdW5jdGlvbiBpZChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5pZCA/IGAjJHtlbGVtZW50LmlkfWAgOiAnJ1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBjbGFzc1NlbGVjdG9yID0gJydcbiAgY29uc3QgY2xhc3NMaXN0ID0gZWxlbWVudC5jbGFzc0xpc3RcbiAgZm9yIChjb25zdCBjIG9mIGNsYXNzTGlzdCkge1xuICAgIGNsYXNzU2VsZWN0b3IgKz0gJy4nICsgY1xuICB9XG4gIHJldHVybiBjbGFzc1NlbGVjdG9yXG59XG5cbmZ1bmN0aW9uIG50aENoaWxkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBjaGlsZE51bWJlciA9IDBcbiAgY29uc3QgY2hpbGROb2RlcyA9IGVsZW1lbnQucGFyZW50Tm9kZSEuY2hpbGROb2Rlc1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgY2hpbGROb2Rlcykge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkgKytjaGlsZE51bWJlclxuICAgIGlmIChub2RlID09PSBlbGVtZW50KSByZXR1cm4gYDpudGgtY2hpbGQoJyR7Y2hpbGROdW1iZXJ9JylgXG4gIH1cbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBsZXQgYXR0cmlidXRlcyA9ICcnXG4gIGZvciAoY29uc3QgYXR0ciBvZiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICBhdHRyaWJ1dGVzICs9IGBbJHthdHRyLm5hbWV9PVwiJHthdHRyLnZhbHVlfVwiXWBcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aChlbDogSFRNTEVsZW1lbnQsIHJvb3ROb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSA6IHN0cmluZyB7XG4gIGNvbnN0IHNlbGVjdG9yID0gZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICsgaWQoZWwpICsgY2xhc3NlcyhlbCkgKyBhdHRyaWJ1dGVzKGVsKSArIG50aENoaWxkKGVsKVxuICBjb25zdCBoYXNQYXJlbnQgPSBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUgIT09IHJvb3ROb2RlICYmIChlbC5wYXJlbnROb2RlIGFzIGFueSkudGFnTmFtZVxuICByZXR1cm4gaGFzUGFyZW50ID8gcGF0aChlbC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50LCByb290Tm9kZSkgKyAnID4gJyArIHNlbGVjdG9yIDogc2VsZWN0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc2goZWw6IEhUTUxFbGVtZW50KSB7XG4gIGNvbnN0IGNzc1BhdGggPSBwYXRoKGVsKVxuICBjb25zdCB0eXBlID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGVcbiAgY29uc3QgY2hlY2tlZCA9IChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gIGNvbnN0IHZhbHVlID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXG4gIGNvbnN0IHRleHRDb250ZW50ID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnRleHRDb250ZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGVhY2g6IChlbGVtZW50OiBFbGVtZW50LCBsZXZlbDogbnVtYmVyKSA9PiBib29sZWFuLFxuICBiaW5kPzogYW55LFxuICBsZXZlbCA9IDBcbikge1xuICBsZXZlbCsrXG4gIGVsZW1lbnQgPSAoZWxlbWVudC5zaGFkb3dSb290IHx8IGVsZW1lbnQpIGFzIEVsZW1lbnRcbiAgZm9yIChsZXQgY2hpbGQ6IEVsZW1lbnQgfCBudWxsID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgaWYgKChjaGlsZCBhcyBIVE1MRWxlbWVudCkuYXNzaWduZWRTbG90KSBjb250aW51ZVxuICAgIGNvbnN0IGFzc2lnbmVkRWxlbWVudHMgPSAoY2hpbGQgYXMgSFRNTFNsb3RFbGVtZW50KS5hc3NpZ25lZEVsZW1lbnRzPy4oe2ZsYXR0ZW46dHJ1ZX0pXG4gICAgaWYgKGFzc2lnbmVkRWxlbWVudHMpIGZvciAoY29uc3QgYXNzaWduZWQgb2YgYXNzaWduZWRFbGVtZW50cykge1xuICAgICAgaWYgKGVhY2guY2FsbChiaW5kLCBhc3NpZ25lZCwgbGV2ZWwpKSB7XG4gICAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhjaGlsZCwgZWFjaCwgYmluZCwgbGV2ZWwpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlYWNoLmNhbGwoYmluZCwgY2hpbGQsIGxldmVsKSkge1xuICAgICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGNoaWxkLCBlYWNoLCBiaW5kLCBsZXZlbClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENTU1J1bGUoc2hlZXQ6YW55LCBzZWxlY3RvcjpzdHJpbmcsIHJ1bGVzOnN0cmluZywgaW5kZXg6bnVtYmVyKSA6IHZvaWQge1xuICBpZiAoJ2luc2VydFJ1bGUnIGluIHNoZWV0KSB7XG4gICAgc2hlZXQuaW5zZXJ0UnVsZShzZWxlY3RvciArICd7JyArIHJ1bGVzICsgJ30nLCBpbmRleClcbiAgfSBlbHNlIGlmICgnYWRkUnVsZScgaW4gc2hlZXQpIHtcbiAgICBzaGVldC5hZGRSdWxlKHNlbGVjdG9yLCBydWxlcywgaW5kZXgpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvdW5kcyB7XG4gIGxlZnQgPSAwXG4gIHRvcCA9IDBcbiAgd2lkdGggPSAwXG4gIGhlaWdodCA9IDBcbiAgY29weShyZWN0OiBCb3VuZHMpIHtcbiAgICB0aGlzLnRvcCA9IHJlY3QudG9wXG4gICAgdGhpcy5sZWZ0ID0gcmVjdC5sZWZ0XG4gICAgdGhpcy53aWR0aCA9IHJlY3Qud2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IHJlY3QuaGVpZ2h0XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRnZXMge1xuICBsZWZ0ID0gMFxuICB0b3AgPSAwXG4gIHJpZ2h0ID0gMFxuICBib3R0b20gPSAwXG4gIGNvcHkocmVjdDogRWRnZXMpIHtcbiAgICB0aGlzLnRvcCA9IHJlY3QudG9wXG4gICAgdGhpcy5sZWZ0ID0gcmVjdC5sZWZ0XG4gICAgdGhpcy5yaWdodCA9IHJlY3QucmlnaHRcbiAgICB0aGlzLmJvdHRvbSA9IHJlY3QuYm90dG9tXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRzKFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBib3VuZHM6IEJvdW5kcyA9IG5ldyBCb3VuZHMoKSxcbiAgcmVmZXJlbmNlRWxlbWVudD86IEVsZW1lbnRcbikge1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQhXG4gIGNvbnN0IGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudFxuICBjb25zdCBib2R5ID0gZG9jLmJvZHlcblxuICBpZiAoZWxlbWVudCA9PT0gZG9jRWwpIHtcbiAgICByZXR1cm4gZ2V0RG9jdW1lbnRCb3VuZHMoZG9jLCBib3VuZHMpXG4gIH1cblxuICBpZiAocmVmZXJlbmNlRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgIGJvdW5kcy5sZWZ0ID0gMFxuICAgIGJvdW5kcy50b3AgPSAwXG4gICAgYm91bmRzLndpZHRoID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldFdpZHRoXG4gICAgYm91bmRzLmhlaWdodCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRIZWlnaHRcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRWaWV3ID0gZWxlbWVudC5vd25lckRvY3VtZW50IS5kZWZhdWx0VmlldyFcbiAgbGV0IGVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50XG5cbiAgbGV0IGNvbXB1dGVkU3R5bGVcbiAgbGV0IG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudCBhcyBIVE1MRWxlbWVudFxuICBsZXQgcHJldkNvbXB1dGVkU3R5bGUgPSBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVxuICBsZXQgdG9wID0gZWwub2Zmc2V0VG9wXG4gIGxldCBsZWZ0ID0gZWwub2Zmc2V0TGVmdFxuXG4gIGlmIChcbiAgICBvZmZzZXRQYXJlbnQgJiZcbiAgICByZWZlcmVuY2VFbGVtZW50ICYmXG4gICAgb2Zmc2V0UGFyZW50LmNvbnRhaW5zKHJlZmVyZW5jZUVsZW1lbnQpICYmXG4gICAgb2Zmc2V0UGFyZW50ICE9PSByZWZlcmVuY2VFbGVtZW50XG4gICkge1xuICAgIGdldEJvdW5kcyhyZWZlcmVuY2VFbGVtZW50LCBib3VuZHMsIG9mZnNldFBhcmVudClcbiAgICBsZWZ0IC09IGJvdW5kcy5sZWZ0XG4gICAgdG9wIC09IGJvdW5kcy50b3BcbiAgfVxuXG4gIHdoaWxlIChcbiAgICAoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSAmJlxuICAgIGVsICE9PSBib2R5ICYmXG4gICAgZWwgIT09IGRvY0VsICYmXG4gICAgZWwgIT09IHJlZmVyZW5jZUVsZW1lbnRcbiAgKSB7XG4gICAgaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGNvbXB1dGVkU3R5bGUgPSBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVxuICAgIHRvcCAtPSBlbC5zY3JvbGxUb3BcbiAgICBsZWZ0IC09IGVsLnNjcm9sbExlZnRcblxuICAgIGlmIChlbCA9PT0gb2Zmc2V0UGFyZW50KSB7XG4gICAgICB0b3AgKz0gZWwub2Zmc2V0VG9wXG4gICAgICBsZWZ0ICs9IGVsLm9mZnNldExlZnRcbiAgICAgIHRvcCArPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDBcbiAgICAgIGxlZnQgKz0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMFxuICAgICAgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50IGFzIEhUTUxFbGVtZW50XG4gICAgfVxuXG4gICAgcHJldkNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlXG4gIH1cblxuICAvLyBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdyZWxhdGl2ZScgfHwgcHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gIC8vICAgZ2V0RG9jdW1lbnRCb3VuZHMoZG9jLCBib3VuZHMpXG4gIC8vICAgdG9wICs9IGJvdW5kcy50b3BcbiAgLy8gICBsZWZ0ICs9IGJvdW5kcy5sZWZ0XG4gIC8vIH1cblxuICBpZiAocHJldkNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICB0b3AgKz0gTWF0aC5tYXgoZG9jRWwuc2Nyb2xsVG9wLCBib2R5LnNjcm9sbFRvcClcbiAgICBsZWZ0ICs9IE1hdGgubWF4KGRvY0VsLnNjcm9sbExlZnQsIGJvZHkuc2Nyb2xsTGVmdClcbiAgfVxuXG4gIC8vIGxldCBlbCA9IGVsZW1lbnRcbiAgLy8gbGV0IGxlZnQgPSBlbC5vZmZzZXRMZWZ0XG4gIC8vIGxldCB0b3AgPSBlbC5vZmZzZXRUb3BcbiAgLy8gbGV0IG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudFxuICAvLyB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT09IE5vZGUuRE9DVU1FTlRfTk9ERSkge1xuICAvLyAgIGxlZnQgLT0gZWwuc2Nyb2xsTGVmdFxuICAvLyAgIHRvcCAtPSBlbC5zY3JvbGxUb3BcbiAgLy8gICBpZiAoZWwgPT09IG9mZnNldFBhcmVudCkge1xuICAvLyAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClcbiAgLy8gICAgIGxlZnQgKz0gZWwub2Zmc2V0TGVmdCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoISkgfHwgMFxuICAvLyAgICAgdG9wICs9IGVsLm9mZnNldFRvcCArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGghKSB8fCAwXG4gIC8vICAgICBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnRcbiAgLy8gICB9XG4gIC8vICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQgYXMgYW55XG4gIC8vIH1cblxuICBib3VuZHMubGVmdCA9IGxlZnRcbiAgYm91bmRzLnRvcCA9IHRvcFxuICBib3VuZHMud2lkdGggPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGhcbiAgYm91bmRzLmhlaWdodCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRIZWlnaHRcbiAgcmV0dXJuIGJvdW5kc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQsIG1hcmdpbjogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBtYXJnaW4ubGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luTGVmdCkgfHwgMFxuICBtYXJnaW4ucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblJpZ2h0KSB8fCAwXG4gIG1hcmdpbi50b3AgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgfHwgMFxuICBtYXJnaW4uYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvcmRlcihlbGVtZW50OiBFbGVtZW50LCBib3JkZXI6IEVkZ2VzKSB7XG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgYm9yZGVyLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMFxuICBib3JkZXIucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpIHx8IDBcbiAgYm9yZGVyLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDBcbiAgYm9yZGVyLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpIHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZGRpbmcoZWxlbWVudDogRWxlbWVudCwgcGFkZGluZzogRWRnZXMpIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBwYWRkaW5nLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0KSB8fCAwXG4gIHBhZGRpbmcucmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgfHwgMFxuICBwYWRkaW5nLnRvcCA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1RvcCkgfHwgMFxuICBwYWRkaW5nLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkgfHwgMFxufVxuXG4vKlxuICogT24gc29tZSBtb2JpbGUgYnJvd3NlcnMsIHRoZSB2YWx1ZSByZXBvcnRlZCBieSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAqIGlzIG5vdCB0aGUgdHJ1ZSB2aWV3cG9ydCBoZWlnaHQuIFRoaXMgbWV0aG9kIHJldHVybnNcbiAqIHRoZSBhY3R1YWwgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydEJvdW5kcyhib3VuZHM6IEJvdW5kcykge1xuICBpZiAoIXZpZXdwb3J0VGVzdGVyLnBhcmVudE5vZGUpIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmQodmlld3BvcnRUZXN0ZXIpXG4gIGJvdW5kcy5sZWZ0ID0gcGFnZVhPZmZzZXRcbiAgYm91bmRzLnRvcCA9IHBhZ2VZT2Zmc2V0XG4gIGJvdW5kcy53aWR0aCA9IHZpZXdwb3J0VGVzdGVyLm9mZnNldFdpZHRoXG4gIGJvdW5kcy5oZWlnaHQgPSB2aWV3cG9ydFRlc3Rlci5vZmZzZXRIZWlnaHRcbiAgcmV0dXJuIGJvdW5kc1xufVxuY29uc3Qgdmlld3BvcnRUZXN0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxudmlld3BvcnRUZXN0ZXIuaWQgPSAnVklFV1BPUlQnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLndpZHRoID0gJzEwMHZ3J1xudmlld3BvcnRUZXN0ZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG52aWV3cG9ydFRlc3Rlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudEJvdW5kcyhkb2N1bWVudDogRG9jdW1lbnQsIGJvdW5kczogQm91bmRzKSB7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keVxuICBjb25zdCBkb2N1bWVudEVsZW1lbnRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnRFbGVtZW50KVxuICBjb25zdCBib2R5U3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpXG4gIGJvdW5kcy50b3AgPVxuICAgIGJvZHkub2Zmc2V0VG9wICsgcGFyc2VGbG9hdChkb2N1bWVudEVsZW1lbnRTdHlsZS5tYXJnaW5Ub3AgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpblRvcCBhcyAnJykgfHxcbiAgICAwXG4gIGJvdW5kcy5sZWZ0ID1cbiAgICBib2R5Lm9mZnNldExlZnQgKyBwYXJzZUZsb2F0KGRvY3VtZW50RWxlbWVudFN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMCArIHBhcnNlRmxvYXQoYm9keVN0eWxlLm1hcmdpbkxlZnQgYXMgJycpIHx8XG4gICAgMFxuICBib3VuZHMud2lkdGggPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLFxuICAgIE1hdGgubWF4KGJvZHkub2Zmc2V0V2lkdGgsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCksXG4gICAgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICApXG4gIGJvdW5kcy5oZWlnaHQgPSBNYXRoLm1heChcbiAgICBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCksXG4gICAgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLFxuICAgIE1hdGgubWF4KGJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICApXG4gIHJldHVybiBib3VuZHNcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gRE9NKGh0bWw6c3RyaW5nKSB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB3cmFwcGVyLmlubmVySFRNTCA9IGh0bWxcbiAgY29uc3QgZWwgPSB3cmFwcGVyLmZpcnN0RWxlbWVudENoaWxkIVxuICB3cmFwcGVyLnJlbW92ZUNoaWxkKGVsKVxuICByZXR1cm4gZWxcbn0iLCIoZnVuY3Rpb24obCl7ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBrKGEsYyl7YT12b2lkIDA9PT1hP1widXRmLThcIjphO2M9dm9pZCAwPT09Yz97ZmF0YWw6ITF9OmM7aWYoLTE9PT1yLmluZGV4T2YoYS50b0xvd2VyQ2FzZSgpKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogVGhlIGVuY29kaW5nIGxhYmVsIHByb3ZpZGVkICgnXCIrYStcIicpIGlzIGludmFsaWQuXCIpO2lmKGMuZmF0YWwpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdUZXh0RGVjb2Rlcic6IHRoZSAnZmF0YWwnIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7fWZ1bmN0aW9uIHQoYSl7cmV0dXJuIEJ1ZmZlci5mcm9tKGEuYnVmZmVyLGEuYnl0ZU9mZnNldCxhLmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmLThcIil9ZnVuY3Rpb24gdShhKXt2YXIgYz1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFthXSx7dHlwZTpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSkpO1xudHJ5e3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtmLm9wZW4oXCJHRVRcIixjLCExKTtmLnNlbmQoKTtyZXR1cm4gZi5yZXNwb25zZVRleHR9Y2F0Y2goZSl7cmV0dXJuIHEoYSl9ZmluYWxseXtVUkwucmV2b2tlT2JqZWN0VVJMKGMpfX1mdW5jdGlvbiBxKGEpe2Zvcih2YXIgYz0wLGY9TWF0aC5taW4oNjU1MzYsYS5sZW5ndGgrMSksZT1uZXcgVWludDE2QXJyYXkoZiksaD1bXSxkPTA7Oyl7dmFyIGI9YzxhLmxlbmd0aDtpZighYnx8ZD49Zi0xKXtoLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUuc3ViYXJyYXkoMCxkKSkpO2lmKCFiKXJldHVybiBoLmpvaW4oXCJcIik7YT1hLnN1YmFycmF5KGMpO2Q9Yz0wfWI9YVtjKytdO2lmKDA9PT0oYiYxMjgpKWVbZCsrXT1iO2Vsc2UgaWYoMTkyPT09KGImMjI0KSl7dmFyIGc9YVtjKytdJjYzO2VbZCsrXT0oYiYzMSk8PDZ8Z31lbHNlIGlmKDIyND09PShiJjI0MCkpe2c9YVtjKytdJjYzO3ZhciBuPWFbYysrXSY2MztlW2QrK109XG4oYiYzMSk8PDEyfGc8PDZ8bn1lbHNlIGlmKDI0MD09PShiJjI0OCkpe2c9YVtjKytdJjYzO249YVtjKytdJjYzO3ZhciB2PWFbYysrXSY2MztiPShiJjcpPDwxOHxnPDwxMnxuPDw2fHY7NjU1MzU8YiYmKGItPTY1NTM2LGVbZCsrXT1iPj4+MTAmMTAyM3w1NTI5NixiPTU2MzIwfGImMTAyMyk7ZVtkKytdPWJ9fX1pZihsLlRleHRFbmNvZGVyJiZsLlRleHREZWNvZGVyKXJldHVybiExO3ZhciByPVtcInV0Zi04XCIsXCJ1dGY4XCIsXCJ1bmljb2RlLTEtMS11dGYtOFwiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobS5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTttLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtjPXZvaWQgMD09PWM/e3N0cmVhbTohMX06YztpZihjLnN0cmVhbSl0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBlbmNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO2M9MDtmb3IodmFyIGY9YS5sZW5ndGgsZT0wLGg9TWF0aC5tYXgoMzIsXG5mKyhmPj4+MSkrNyksZD1uZXcgVWludDhBcnJheShoPj4+Mzw8Myk7YzxmOyl7dmFyIGI9YS5jaGFyQ29kZUF0KGMrKyk7aWYoNTUyOTY8PWImJjU2MzE5Pj1iKXtpZihjPGYpe3ZhciBnPWEuY2hhckNvZGVBdChjKTs1NjMyMD09PShnJjY0NTEyKSYmKCsrYyxiPSgoYiYxMDIzKTw8MTApKyhnJjEwMjMpKzY1NTM2KX1pZig1NTI5Njw9YiYmNTYzMTk+PWIpY29udGludWV9ZSs0PmQubGVuZ3RoJiYoaCs9OCxoKj0xK2MvYS5sZW5ndGgqMixoPWg+Pj4zPDwzLGc9bmV3IFVpbnQ4QXJyYXkoaCksZy5zZXQoZCksZD1nKTtpZigwPT09KGImNDI5NDk2NzE2OCkpZFtlKytdPWI7ZWxzZXtpZigwPT09KGImNDI5NDk2NTI0OCkpZFtlKytdPWI+Pj42JjMxfDE5MjtlbHNlIGlmKDA9PT0oYiY0Mjk0OTAxNzYwKSlkW2UrK109Yj4+PjEyJjE1fDIyNCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgaWYoMD09PShiJjQyOTI4NzAxNDQpKWRbZSsrXT1iPj4+MTgmN3wyNDAsZFtlKytdPWI+Pj4xMiZcbjYzfDEyOCxkW2UrK109Yj4+PjYmNjN8MTI4O2Vsc2UgY29udGludWU7ZFtlKytdPWImNjN8MTI4fX1yZXR1cm4gZC5zbGljZT9kLnNsaWNlKDAsZSk6ZC5zdWJhcnJheSgwLGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJlbmNvZGluZ1wiLHt2YWx1ZTpcInV0Zi04XCJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJmYXRhbFwiLHt2YWx1ZTohMX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImlnbm9yZUJPTVwiLHt2YWx1ZTohMX0pO3ZhciBwPXE7XCJmdW5jdGlvblwiPT09dHlwZW9mIEJ1ZmZlciYmQnVmZmVyLmZyb20/cD10OlwiZnVuY3Rpb25cIj09PXR5cGVvZiBCbG9iJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmKHA9dSk7ay5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYyl7Yz12b2lkIDA9PT1jP3tzdHJlYW06ITF9OmM7aWYoYy5zdHJlYW0pdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZGVjb2RlOiB0aGUgJ3N0cmVhbScgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTtcbmE9YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/YTphLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGEuYnVmZmVyKTpuZXcgVWludDhBcnJheShhKTtyZXR1cm4gcChhKX07bC5UZXh0RW5jb2Rlcj1tO2wuVGV4dERlY29kZXI9a30pKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpcyk7XG4iLCIvKipcbiAqIEEgZG91Ymx5IGxpbmtlZCBsaXN0LWJhc2VkIExlYXN0IFJlY2VudGx5IFVzZWQgKExSVSkgY2FjaGUuIFdpbGwga2VlcCBtb3N0XG4gKiByZWNlbnRseSB1c2VkIGl0ZW1zIHdoaWxlIGRpc2NhcmRpbmcgbGVhc3QgcmVjZW50bHkgdXNlZCBpdGVtcyB3aGVuIGl0cyBsaW1pdFxuICogaXMgcmVhY2hlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQuIENvcHlyaWdodCAoYykgMjAxMCBSYXNtdXMgQW5kZXJzc29uIDxodHRwOi8vaHVuY2guc2UvPlxuICogU2VlIFJFQURNRS5tZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBJbGx1c3RyYXRpb24gb2YgdGhlIGRlc2lnbjpcbiAqXG4gKiAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeSAgICAgICAgICAgICBlbnRyeVxuICogICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgX19fX19fXG4gKiAgICAgIHwgaGVhZCB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgICAgICB8Lm5ld2VyID0+IHwgdGFpbCB8XG4gKiAgICAgIHwgIEEgICB8ICAgICAgICAgIHwgIEIgICB8ICAgICAgICAgIHwgIEMgICB8ICAgICAgICAgIHwgIEQgICB8XG4gKiAgICAgIHxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198IDw9IG9sZGVyLnxfX19fX198XG4gKlxuICogIHJlbW92ZWQgIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICBhZGRlZFxuICovXG4oZnVuY3Rpb24oZyxmKXtcbiAgY29uc3QgZSA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnID8gZXhwb3J0cyA6IHR5cGVvZiBnID09ICdvYmplY3QnID8gZyA6IHt9O1xuICBmKGUpO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgZGVmaW5lKCdscnUnLCBlKTsgfVxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXG5jb25zdCBORVdFUiA9IFN5bWJvbCgnbmV3ZXInKTtcbmNvbnN0IE9MREVSID0gU3ltYm9sKCdvbGRlcicpO1xuXG5mdW5jdGlvbiBMUlVNYXAobGltaXQsIGVudHJpZXMpIHtcbiAgaWYgKHR5cGVvZiBsaW1pdCAhPT0gJ251bWJlcicpIHtcbiAgICAvLyBjYWxsZWQgYXMgKGVudHJpZXMpXG4gICAgZW50cmllcyA9IGxpbWl0O1xuICAgIGxpbWl0ID0gMDtcbiAgfVxuXG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fa2V5bWFwID0gbmV3IE1hcCgpO1xuXG4gIGlmIChlbnRyaWVzKSB7XG4gICAgdGhpcy5hc3NpZ24oZW50cmllcyk7XG4gICAgaWYgKGxpbWl0IDwgMSkge1xuICAgICAgdGhpcy5saW1pdCA9IHRoaXMuc2l6ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5MUlVNYXAgPSBMUlVNYXA7XG5cbmZ1bmN0aW9uIEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgdGhpcy5rZXkgPSBrZXk7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpc1tORVdFUl0gPSB1bmRlZmluZWQ7XG4gIHRoaXNbT0xERVJdID0gdW5kZWZpbmVkO1xufVxuXG5cbkxSVU1hcC5wcm90b3R5cGUuX21hcmtFbnRyeUFzVXNlZCA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3QpIHtcbiAgICAvLyBBbHJlYWR5IHRoZSBtb3N0IHJlY2VubHR5IHVzZWQgZW50cnksIHNvIG5vIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIEhFQUQtLS0tLS0tLS0tLS0tLVRBSUxcbiAgLy8gICA8Lm9sZGVyICAgLm5ld2VyPlxuICAvLyAgPC0tLSBhZGQgZGlyZWN0aW9uIC0tXG4gIC8vICAgQSAgQiAgQyAgPEQ+ICBFXG4gIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgICB9XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTsgLy8gQyA8LS0gRS5cbiAgfVxuICBpZiAoZW50cnlbT0xERVJdKSB7XG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IGVudHJ5W05FV0VSXTsgLy8gQy4gLS0+IEVcbiAgfVxuICBlbnRyeVtORVdFUl0gPSB1bmRlZmluZWQ7IC8vIEQgLS14XG4gIGVudHJ5W09MREVSXSA9IHRoaXMubmV3ZXN0OyAvLyBELiAtLT4gRVxuICBpZiAodGhpcy5uZXdlc3QpIHtcbiAgICB0aGlzLm5ld2VzdFtORVdFUl0gPSBlbnRyeTsgLy8gRS4gPC0tIERcbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbihlbnRyaWVzKSB7XG4gIGxldCBlbnRyeSwgbGltaXQgPSB0aGlzLmxpbWl0IHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIHRoaXMuX2tleW1hcC5jbGVhcigpO1xuICBsZXQgaXQgPSBlbnRyaWVzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgZm9yIChsZXQgaXR2ID0gaXQubmV4dCgpOyAhaXR2LmRvbmU7IGl0diA9IGl0Lm5leHQoKSkge1xuICAgIGxldCBlID0gbmV3IEVudHJ5KGl0di52YWx1ZVswXSwgaXR2LnZhbHVlWzFdKTtcbiAgICB0aGlzLl9rZXltYXAuc2V0KGUua2V5LCBlKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB0aGlzLm9sZGVzdCA9IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5W05FV0VSXSA9IGU7XG4gICAgICBlW09MREVSXSA9IGVudHJ5O1xuICAgIH1cbiAgICBlbnRyeSA9IGU7XG4gICAgaWYgKGxpbWl0LS0gPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdmVyZmxvdycpO1xuICAgIH1cbiAgfVxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICB0aGlzLnNpemUgPSB0aGlzLl9rZXltYXAuc2l6ZTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIC8vIEZpcnN0LCBmaW5kIG91ciBjYWNoZSBlbnRyeVxuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG4gIGlmICghZW50cnkpIHJldHVybjsgLy8gTm90IGNhY2hlZC4gU29ycnkuXG4gIC8vIEFzIDxrZXk+IHdhcyBmb3VuZCBpbiB0aGUgY2FjaGUsIHJlZ2lzdGVyIGl0IGFzIGJlaW5nIHJlcXVlc3RlZCByZWNlbnRseVxuICB0aGlzLl9tYXJrRW50cnlBc1VzZWQoZW50cnkpO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuXG4gIGlmIChlbnRyeSkge1xuICAgIC8vIHVwZGF0ZSBleGlzdGluZ1xuICAgIGVudHJ5LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fbWFya0VudHJ5QXNVc2VkKGVudHJ5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIG5ldyBlbnRyeVxuICB0aGlzLl9rZXltYXAuc2V0KGtleSwgKGVudHJ5ID0gbmV3IEVudHJ5KGtleSwgdmFsdWUpKSk7XG5cbiAgaWYgKHRoaXMubmV3ZXN0KSB7XG4gICAgLy8gbGluayBwcmV2aW91cyB0YWlsIHRvIHRoZSBuZXcgdGFpbCAoZW50cnkpXG4gICAgdGhpcy5uZXdlc3RbTkVXRVJdID0gZW50cnk7XG4gICAgZW50cnlbT0xERVJdID0gdGhpcy5uZXdlc3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2UncmUgZmlyc3QgaW4gLS0geWF5XG4gICAgdGhpcy5vbGRlc3QgPSBlbnRyeTtcbiAgfVxuXG4gIC8vIGFkZCBuZXcgZW50cnkgdG8gdGhlIGVuZCBvZiB0aGUgbGlua2VkIGxpc3QgLS0gaXQncyBub3cgdGhlIGZyZXNoZXN0IGVudHJ5LlxuICB0aGlzLm5ld2VzdCA9IGVudHJ5O1xuICArK3RoaXMuc2l6ZTtcbiAgaWYgKHRoaXMuc2l6ZSA+IHRoaXMubGltaXQpIHtcbiAgICAvLyB3ZSBoaXQgdGhlIGxpbWl0IC0tIHJlbW92ZSB0aGUgaGVhZFxuICAgIHRoaXMuc2hpZnQoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAvLyB0b2RvOiBoYW5kbGUgc3BlY2lhbCBjYXNlIHdoZW4gbGltaXQgPT0gMVxuICB2YXIgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgaWYgKGVudHJ5KSB7XG4gICAgaWYgKHRoaXMub2xkZXN0W05FV0VSXSkge1xuICAgICAgLy8gYWR2YW5jZSB0aGUgbGlzdFxuICAgICAgdGhpcy5vbGRlc3QgPSB0aGlzLm9sZGVzdFtORVdFUl07XG4gICAgICB0aGlzLm9sZGVzdFtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBjYWNoZSBpcyBleGhhdXN0ZWRcbiAgICAgIHRoaXMub2xkZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBsYXN0IHN0cm9uZyByZWZlcmVuY2UgdG8gPGVudHJ5PiBhbmQgcmVtb3ZlIGxpbmtzIGZyb20gdGhlIHB1cmdlZFxuICAgIC8vIGVudHJ5IGJlaW5nIHJldHVybmVkOlxuICAgIGVudHJ5W05FV0VSXSA9IGVudHJ5W09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gICAgLS10aGlzLnNpemU7XG4gICAgcmV0dXJuIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRm9sbG93aW5nIGNvZGUgaXMgb3B0aW9uYWwgYW5kIGNhbiBiZSByZW1vdmVkIHdpdGhvdXQgYnJlYWtpbmcgdGhlIGNvcmVcbi8vIGZ1bmN0aW9uYWxpdHkuXG5cbkxSVU1hcC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKGtleSkge1xuICBsZXQgZSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgcmV0dXJuIGUgPyBlLnZhbHVlIDogdW5kZWZpbmVkO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX2tleW1hcC5oYXMoa2V5KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24oa2V5KSB7XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcbiAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICB0aGlzLl9rZXltYXAuZGVsZXRlKGVudHJ5LmtleSk7XG4gIGlmIChlbnRyeVtORVdFUl0gJiYgZW50cnlbT0xERVJdKSB7XG4gICAgLy8gcmVsaW5rIHRoZSBvbGRlciBlbnRyeSB3aXRoIHRoZSBuZXdlciBlbnRyeVxuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSBlbnRyeVtORVdFUl07XG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtORVdFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtORVdFUl1bT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm9sZGVzdCA9IGVudHJ5W05FV0VSXTtcbiAgfSBlbHNlIGlmIChlbnRyeVtPTERFUl0pIHtcbiAgICAvLyByZW1vdmUgdGhlIGxpbmsgdG8gdXNcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gdW5kZWZpbmVkO1xuICAgIC8vIGxpbmsgdGhlIG5ld2VyIGVudHJ5IHRvIGhlYWRcbiAgICB0aGlzLm5ld2VzdCA9IGVudHJ5W09MREVSXTtcbiAgfSBlbHNlIHsvLyBpZihlbnRyeVtPTERFUl0gPT09IHVuZGVmaW5lZCAmJiBlbnRyeS5uZXdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRoaXMuc2l6ZS0tO1xuICByZXR1cm4gZW50cnkudmFsdWU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIC8vIE5vdCBjbGVhcmluZyBsaW5rcyBzaG91bGQgYmUgc2FmZSwgYXMgd2UgZG9uJ3QgZXhwb3NlIGxpdmUgbGlua3MgdG8gdXNlclxuICB0aGlzLm9sZGVzdCA9IHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9rZXltYXAuY2xlYXIoKTtcbn07XG5cblxuZnVuY3Rpb24gRW50cnlJdGVyYXRvcihvbGRlc3RFbnRyeSkgeyB0aGlzLmVudHJ5ID0gb2xkZXN0RW50cnk7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbkVudHJ5SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IFtlbnQua2V5LCBlbnQudmFsdWVdIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIEtleUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuS2V5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cbktleUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnQua2V5IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBWYWx1ZUl0ZXJhdG9yKG9sZGVzdEVudHJ5KSB7IHRoaXMuZW50cnkgPSBvbGRlc3RFbnRyeTsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfVxuVmFsdWVJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogZW50LnZhbHVlIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICB9XG59O1xuXG5cbkxSVU1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEtleUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVmFsdWVJdGVyYXRvcih0aGlzLm9sZGVzdCk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBFbnRyeUl0ZXJhdG9yKHRoaXMub2xkZXN0KTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGZ1biwgdGhpc09iaikge1xuICBpZiAodHlwZW9mIHRoaXNPYmogIT09ICdvYmplY3QnKSB7XG4gICAgdGhpc09iaiA9IHRoaXM7XG4gIH1cbiAgbGV0IGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIGZ1bi5jYWxsKHRoaXNPYmosIGVudHJ5LnZhbHVlLCBlbnRyeS5rZXksIHRoaXMpO1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG59O1xuXG4vKiogUmV0dXJucyBhIEpTT04gKGFycmF5KSByZXByZXNlbnRhdGlvbiAqL1xuTFJVTWFwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSBuZXcgQXJyYXkodGhpcy5zaXplKSwgaSA9IDAsIGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHNbaSsrXSA9IHsga2V5OiBlbnRyeS5rZXksIHZhbHVlOiBlbnRyeS52YWx1ZSB9O1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICB9XG4gIHJldHVybiBzO1xufTtcblxuLyoqIFJldHVybnMgYSBTdHJpbmcgcmVwcmVzZW50YXRpb24gKi9cbkxSVU1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHMgPSAnJywgZW50cnkgPSB0aGlzLm9sZGVzdDtcbiAgd2hpbGUgKGVudHJ5KSB7XG4gICAgcyArPSBTdHJpbmcoZW50cnkua2V5KSsnOicrZW50cnkudmFsdWU7XG4gICAgZW50cnkgPSBlbnRyeVtORVdFUl07XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBzICs9ICcgPCAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn07XG5cbn0pO1xuIiwiLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2NidXJnbWVyL3htbHNlcmlhbGl6ZXIgXG5cbmZ1bmN0aW9uIHJlbW92ZUludmFsaWRDaGFyYWN0ZXJzKGNvbnRlbnQ6c3RyaW5nKSB7XG4gICAgLy8gU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3htbC8jTlQtQ2hhciBmb3IgdmFsaWQgWE1MIDEuMCBjaGFyYWN0ZXJzXG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvW1xceDAwLVxceDA4XFx4MEJcXHgwQ1xceDBFLVxceDFGXS9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUF0dHJpYnV0ZVZhbHVlICh2YWx1ZTpzdHJpbmcpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVRleHRDb250ZW50IChjb250ZW50OnN0cmluZykge1xuICAgIHJldHVybiBjb250ZW50XG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQXR0cmlidXRlIChuYW1lOnN0cmluZywgdmFsdWU6c3RyaW5nKSB7XG4gICAgcmV0dXJuICcgJyArIG5hbWUgKyAnPVwiJyArIHNlcmlhbGl6ZUF0dHJpYnV0ZVZhbHVlKHZhbHVlKSArICdcIidcbn1cblxuZnVuY3Rpb24gZ2V0VGFnTmFtZShub2RlOkVsZW1lbnQpIHtcbiAgICB2YXIgdGFnTmFtZSA9IG5vZGUudGFnTmFtZVxuICAgIC8vIEFpZCBpbiBzZXJpYWxpemluZyBvZiBvcmlnaW5hbCBIVE1MIGRvY3VtZW50c1xuICAgIGlmIChub2RlLm5hbWVzcGFjZVVSSSA9PT0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnKSB7XG4gICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICB9XG4gICAgcmV0dXJuIHRhZ05hbWVcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTmFtZXNwYWNlKG5vZGU6RWxlbWVudCwgaXNSb290Tm9kZTpib29sZWFuKSB7XG4gICAgY29uc3Qgbm9kZUhhc1htbG5zQXR0ciA9IG5vZGUuaGFzQXR0cmlidXRlKCd4bWxucycpXG4gICAgLy8gU2VyaWFsaXplIHRoZSBuYW1lc3BhY2UgYXMgYW4geG1sbnMgYXR0cmlidXRlIHdoZW5ldmVyIHRoZSBlbGVtZW50XG4gICAgLy8gZG9lc24ndCBhbHJlYWR5IGhhdmUgb25lIGFuZCB0aGUgaW5oZXJpdGVkIG5hbWVzcGFjZSBkb2VzIG5vdCBtYXRjaFxuICAgIC8vIHRoZSBlbGVtZW50J3MgbmFtZXNwYWNlLlxuICAgIGlmICghbm9kZUhhc1htbG5zQXR0ciAmJlxuICAgICAgICAoaXNSb290Tm9kZSB8fFxuICAgICAgICAgICAgbm9kZS5uYW1lc3BhY2VVUkkgIT09IG5vZGUucGFyZW50RWxlbWVudCEubmFtZXNwYWNlVVJJKSkge1xuICAgICAgICByZXR1cm4gJyB4bWxucz1cIicgKyBub2RlLm5hbWVzcGFjZVVSSSArICdcIidcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJydcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNoaWxkcmVuKG5vZGU6RWxlbWVudCwgb3B0aW9uczpPcHRpb25zKSB7XG4gICAgbGV0IG91dHB1dCA9ICcnXG4gICAgZm9yIChjb25zdCBuIG9mIG5vZGUuY2hpbGROb2Rlcykgb3V0cHV0ICs9IG5vZGVUcmVlVG9YSFRNTChuLCBvcHRpb25zKVxuICAgIHJldHVybiBvdXRwdXRcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplVGFnKG5vZGU6RWxlbWVudCwgb3B0aW9uczpPcHRpb25zKSB7XG4gICAgbGV0IG91dHB1dCA9ICc8JyArIGdldFRhZ05hbWUobm9kZSlcbiAgICBvdXRwdXQgKz0gc2VyaWFsaXplTmFtZXNwYWNlKG5vZGUsIG9wdGlvbnMuZGVwdGggPT09IDApXG4gICAgXG4gICAgZm9yIChjb25zdCBhdHRyIG9mIG5vZGUuYXR0cmlidXRlcykge1xuICAgICAgICBvdXRwdXQgKz0gc2VyaWFsaXplQXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSlcbiAgICB9XG5cbiAgICBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3B0aW9ucy5kZXB0aCsrXG4gICAgICAgIG91dHB1dCArPSAnPidcbiAgICAgICAgb3V0cHV0ICs9IHNlcmlhbGl6ZUNoaWxkcmVuKG5vZGUsIG9wdGlvbnMpXG4gICAgICAgIG91dHB1dCArPSAnPC8nICsgZ2V0VGFnTmFtZShub2RlKSArICc+J1xuICAgICAgICBvcHRpb25zLmRlcHRoLS1cbiAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQgKz0gJy8+J1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVRleHQobm9kZTpUZXh0KSB7XG4gICAgdmFyIHRleHQgPSBub2RlLm5vZGVWYWx1ZSB8fCAnJ1xuICAgIHJldHVybiBzZXJpYWxpemVUZXh0Q29udGVudCh0ZXh0KVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVDb21tZW50KG5vZGU6Q29tbWVudCkge1xuICAgIHJldHVybiAnPCEtLScgK1xuICAgICAgICBub2RlLmRhdGFcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgJyYjNDU7JykgK1xuICAgICAgICAnLS0+J1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVDREFUQShub2RlOk5vZGUpIHtcbiAgICByZXR1cm4gJzwhW0NEQVRBWycgKyBub2RlLm5vZGVWYWx1ZSArICddXT4nXG59XG5cbmZ1bmN0aW9uIG5vZGVUcmVlVG9YSFRNTChub2RlOk5vZGUsIG9wdGlvbnM6T3B0aW9ucykgOiBzdHJpbmcge1xuICAgIGNvbnN0IHJlcGxhY2VkID0gb3B0aW9ucy5yZXBsYWNlcj8uKG5vZGUpXG4gICAgaWYgKHR5cGVvZiByZXBsYWNlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50JyB8fFxuICAgICAgICBub2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50LWZyYWdtZW50Jykge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplQ2hpbGRyZW4obm9kZSBhcyBFbGVtZW50LCBvcHRpb25zKVxuICAgIH0gZWxzZSBpZiAoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplVGFnKG5vZGUgYXMgRWxlbWVudCwgb3B0aW9ucylcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT09ICcjdGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVRleHQobm9kZSBhcyBUZXh0KVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJyNjb21tZW50Jykge1xuICAgICAgICAvLyByZXR1cm4gc2VyaWFsaXplQ29tbWVudChub2RlIGFzIENvbW1lbnQpXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnI2NkYXRhLXNlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVDREFUQShub2RlKVxuICAgIH1cbiAgICByZXR1cm4gJydcbn1cblxuaW50ZXJmYWNlIE9wdGlvbnMge1xuICAgIGRlcHRoOm51bWJlcixcbiAgICByZXBsYWNlcj86KG5vZGU6Tm9kZSk9PnN0cmluZ3x2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUb1N0cmluZyhub2RlOkVsZW1lbnQsIHJlcGxhY2VyOk9wdGlvbnNbJ3JlcGxhY2VyJ10pIHtcbiAgICByZXR1cm4gcmVtb3ZlSW52YWxpZENoYXJhY3RlcnMobm9kZVRyZWVUb1hIVE1MKG5vZGUsIHtkZXB0aDogMCwgcmVwbGFjZXJ9KSlcbn0iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAvLyBIYWNrIHRvIG1ha2UgYWxsIGV4cG9ydHMgb2YgdGhpcyBtb2R1bGUgc2hhMjU2IGZ1bmN0aW9uIG9iamVjdCBwcm9wZXJ0aWVzLlxuICAgIHZhciBleHBvcnRzID0ge307XG4gICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB2YXIgc2hhMjU2ID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4gICAgZm9yICh2YXIgayBpbiBleHBvcnRzKSB7XG4gICAgICAgIHNoYTI1NltrXSA9IGV4cG9ydHNba107XG4gICAgfVxuICAgICAgICBcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHNoYTI1NjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBzaGEyNTY7IH0pOyBcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LnNoYTI1NiA9IHNoYTI1NjtcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vLyBTSEEtMjU2ICgrIEhNQUMgYW5kIFBCS0RGMikgZm9yIEphdmFTY3JpcHQuXG4vL1xuLy8gV3JpdHRlbiBpbiAyMDE0LTIwMTYgYnkgRG1pdHJ5IENoZXN0bnlraC5cbi8vIFB1YmxpYyBkb21haW4sIG5vIHdhcnJhbnR5LlxuLy9cbi8vIEZ1bmN0aW9ucyAoYWNjZXB0IGFuZCByZXR1cm4gVWludDhBcnJheXMpOlxuLy9cbi8vICAgc2hhMjU2KG1lc3NhZ2UpIC0+IGhhc2hcbi8vICAgc2hhMjU2LmhtYWMoa2V5LCBtZXNzYWdlKSAtPiBtYWNcbi8vICAgc2hhMjU2LnBia2RmMihwYXNzd29yZCwgc2FsdCwgcm91bmRzLCBka0xlbikgLT4gZGtcbi8vXG4vLyAgQ2xhc3Nlczpcbi8vXG4vLyAgIG5ldyBzaGEyNTYuSGFzaCgpXG4vLyAgIG5ldyBzaGEyNTYuSE1BQyhrZXkpXG4vL1xuZXhwb3J0cy5kaWdlc3RMZW5ndGggPSAzMjtcbmV4cG9ydHMuYmxvY2tTaXplID0gNjQ7XG4vLyBTSEEtMjU2IGNvbnN0YW50c1xudmFyIEsgPSBuZXcgVWludDMyQXJyYXkoW1xuICAgIDB4NDI4YTJmOTgsIDB4NzEzNzQ0OTEsIDB4YjVjMGZiY2YsIDB4ZTliNWRiYTUsIDB4Mzk1NmMyNWIsXG4gICAgMHg1OWYxMTFmMSwgMHg5MjNmODJhNCwgMHhhYjFjNWVkNSwgMHhkODA3YWE5OCwgMHgxMjgzNWIwMSxcbiAgICAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLCAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LFxuICAgIDB4YzE5YmYxNzQsIDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsXG4gICAgMHgyZGU5MmM2ZiwgMHg0YTc0ODRhYSwgMHg1Y2IwYTlkYywgMHg3NmY5ODhkYSwgMHg5ODNlNTE1MixcbiAgICAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LCAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LFxuICAgIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsIDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsXG4gICAgMHg1MzM4MGQxMywgMHg2NTBhNzM1NCwgMHg3NjZhMGFiYiwgMHg4MWMyYzkyZSwgMHg5MjcyMmM4NSxcbiAgICAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLCAweGQxOTJlODE5LFxuICAgIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsIDB4MTlhNGMxMTYsIDB4MWUzNzZjMDgsXG4gICAgMHgyNzQ4Nzc0YywgMHgzNGIwYmNiNSwgMHgzOTFjMGNiMywgMHg0ZWQ4YWE0YSwgMHg1YjljY2E0ZixcbiAgICAweDY4MmU2ZmYzLCAweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LFxuICAgIDB4OTBiZWZmZmEsIDB4YTQ1MDZjZWIsIDB4YmVmOWEzZjcsIDB4YzY3MTc4ZjJcbl0pO1xuZnVuY3Rpb24gaGFzaEJsb2Nrcyh3LCB2LCBwLCBwb3MsIGxlbikge1xuICAgIHZhciBhLCBiLCBjLCBkLCBlLCBmLCBnLCBoLCB1LCBpLCBqLCB0MSwgdDI7XG4gICAgd2hpbGUgKGxlbiA+PSA2NCkge1xuICAgICAgICBhID0gdlswXTtcbiAgICAgICAgYiA9IHZbMV07XG4gICAgICAgIGMgPSB2WzJdO1xuICAgICAgICBkID0gdlszXTtcbiAgICAgICAgZSA9IHZbNF07XG4gICAgICAgIGYgPSB2WzVdO1xuICAgICAgICBnID0gdls2XTtcbiAgICAgICAgaCA9IHZbN107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBqID0gcG9zICsgaSAqIDQ7XG4gICAgICAgICAgICB3W2ldID0gKCgocFtqXSAmIDB4ZmYpIDw8IDI0KSB8ICgocFtqICsgMV0gJiAweGZmKSA8PCAxNikgfFxuICAgICAgICAgICAgICAgICgocFtqICsgMl0gJiAweGZmKSA8PCA4KSB8IChwW2ogKyAzXSAmIDB4ZmYpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAxNjsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgIHUgPSB3W2kgLSAyXTtcbiAgICAgICAgICAgIHQxID0gKHUgPj4+IDE3IHwgdSA8PCAoMzIgLSAxNykpIF4gKHUgPj4+IDE5IHwgdSA8PCAoMzIgLSAxOSkpIF4gKHUgPj4+IDEwKTtcbiAgICAgICAgICAgIHUgPSB3W2kgLSAxNV07XG4gICAgICAgICAgICB0MiA9ICh1ID4+PiA3IHwgdSA8PCAoMzIgLSA3KSkgXiAodSA+Pj4gMTggfCB1IDw8ICgzMiAtIDE4KSkgXiAodSA+Pj4gMyk7XG4gICAgICAgICAgICB3W2ldID0gKHQxICsgd1tpIC0gN10gfCAwKSArICh0MiArIHdbaSAtIDE2XSB8IDApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICB0MSA9ICgoKCgoZSA+Pj4gNiB8IGUgPDwgKDMyIC0gNikpIF4gKGUgPj4+IDExIHwgZSA8PCAoMzIgLSAxMSkpIF5cbiAgICAgICAgICAgICAgICAoZSA+Pj4gMjUgfCBlIDw8ICgzMiAtIDI1KSkpICsgKChlICYgZikgXiAofmUgJiBnKSkpIHwgMCkgK1xuICAgICAgICAgICAgICAgICgoaCArICgoS1tpXSArIHdbaV0pIHwgMCkpIHwgMCkpIHwgMDtcbiAgICAgICAgICAgIHQyID0gKCgoYSA+Pj4gMiB8IGEgPDwgKDMyIC0gMikpIF4gKGEgPj4+IDEzIHwgYSA8PCAoMzIgLSAxMykpIF5cbiAgICAgICAgICAgICAgICAoYSA+Pj4gMjIgfCBhIDw8ICgzMiAtIDIyKSkpICsgKChhICYgYikgXiAoYSAmIGMpIF4gKGIgJiBjKSkpIHwgMDtcbiAgICAgICAgICAgIGggPSBnO1xuICAgICAgICAgICAgZyA9IGY7XG4gICAgICAgICAgICBmID0gZTtcbiAgICAgICAgICAgIGUgPSAoZCArIHQxKSB8IDA7XG4gICAgICAgICAgICBkID0gYztcbiAgICAgICAgICAgIGMgPSBiO1xuICAgICAgICAgICAgYiA9IGE7XG4gICAgICAgICAgICBhID0gKHQxICsgdDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICB2WzBdICs9IGE7XG4gICAgICAgIHZbMV0gKz0gYjtcbiAgICAgICAgdlsyXSArPSBjO1xuICAgICAgICB2WzNdICs9IGQ7XG4gICAgICAgIHZbNF0gKz0gZTtcbiAgICAgICAgdls1XSArPSBmO1xuICAgICAgICB2WzZdICs9IGc7XG4gICAgICAgIHZbN10gKz0gaDtcbiAgICAgICAgcG9zICs9IDY0O1xuICAgICAgICBsZW4gLT0gNjQ7XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG59XG4vLyBIYXNoIGltcGxlbWVudHMgU0hBMjU2IGhhc2ggYWxnb3JpdGhtLlxudmFyIEhhc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGFzaCgpIHtcbiAgICAgICAgdGhpcy5kaWdlc3RMZW5ndGggPSBleHBvcnRzLmRpZ2VzdExlbmd0aDtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBleHBvcnRzLmJsb2NrU2l6ZTtcbiAgICAgICAgLy8gTm90ZTogSW50MzJBcnJheSBpcyB1c2VkIGluc3RlYWQgb2YgVWludDMyQXJyYXkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgSW50MzJBcnJheSg4KTsgLy8gaGFzaCBzdGF0ZVxuICAgICAgICB0aGlzLnRlbXAgPSBuZXcgSW50MzJBcnJheSg2NCk7IC8vIHRlbXBvcmFyeSBzdGF0ZVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEyOCk7IC8vIGJ1ZmZlciBmb3IgZGF0YSB0byBoYXNoXG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDsgLy8gbnVtYmVyIG9mIGJ5dGVzIGluIGJ1ZmZlclxuICAgICAgICB0aGlzLmJ5dGVzSGFzaGVkID0gMDsgLy8gbnVtYmVyIG9mIHRvdGFsIGJ5dGVzIGhhc2hlZFxuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7IC8vIGluZGljYXRlcyB3aGV0aGVyIHRoZSBoYXNoIHdhcyBmaW5hbGl6ZWRcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvLyBSZXNldHMgaGFzaCBzdGF0ZSBtYWtpbmcgaXQgcG9zc2libGVcbiAgICAvLyB0byByZS11c2UgdGhpcyBpbnN0YW5jZSB0byBoYXNoIG90aGVyIGRhdGEuXG4gICAgSGFzaC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGVbMF0gPSAweDZhMDllNjY3O1xuICAgICAgICB0aGlzLnN0YXRlWzFdID0gMHhiYjY3YWU4NTtcbiAgICAgICAgdGhpcy5zdGF0ZVsyXSA9IDB4M2M2ZWYzNzI7XG4gICAgICAgIHRoaXMuc3RhdGVbM10gPSAweGE1NGZmNTNhO1xuICAgICAgICB0aGlzLnN0YXRlWzRdID0gMHg1MTBlNTI3ZjtcbiAgICAgICAgdGhpcy5zdGF0ZVs1XSA9IDB4OWIwNTY4OGM7XG4gICAgICAgIHRoaXMuc3RhdGVbNl0gPSAweDFmODNkOWFiO1xuICAgICAgICB0aGlzLnN0YXRlWzddID0gMHg1YmUwY2QxOTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJ5dGVzSGFzaGVkID0gMDtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIENsZWFucyBpbnRlcm5hbCBidWZmZXJzIGFuZCByZS1pbml0aWFsaXplcyBoYXNoIHN0YXRlLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudGVtcFtpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLy8gVXBkYXRlcyBoYXNoIHN0YXRlIHdpdGggdGhlIGdpdmVuIGRhdGEuXG4gICAgLy9cbiAgICAvLyBPcHRpb25hbGx5LCBsZW5ndGggb2YgdGhlIGRhdGEgY2FuIGJlIHNwZWNpZmllZCB0byBoYXNoXG4gICAgLy8gZmV3ZXIgYnl0ZXMgdGhhbiBkYXRhLmxlbmd0aC5cbiAgICAvL1xuICAgIC8vIFRocm93cyBlcnJvciB3aGVuIHRyeWluZyB0byB1cGRhdGUgYWxyZWFkeSBmaW5hbGl6ZWQgaGFzaDpcbiAgICAvLyBpbnN0YW5jZSBtdXN0IGJlIHJlc2V0IHRvIHVzZSBpdCBhZ2Fpbi5cbiAgICBIYXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YUxlbmd0aCkge1xuICAgICAgICBpZiAoZGF0YUxlbmd0aCA9PT0gdm9pZCAwKSB7IGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsgfVxuICAgICAgICBpZiAodGhpcy5maW5pc2hlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU0hBMjU2OiBjYW4ndCB1cGRhdGUgYmVjYXVzZSBoYXNoIHdhcyBmaW5pc2hlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGFQb3MgPSAwO1xuICAgICAgICB0aGlzLmJ5dGVzSGFzaGVkICs9IGRhdGFMZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmJ1ZmZlckxlbmd0aCA8IDY0ICYmIGRhdGFMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK10gPSBkYXRhW2RhdGFQb3MrK107XG4gICAgICAgICAgICAgICAgZGF0YUxlbmd0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyTGVuZ3RoID09PSA2NCkge1xuICAgICAgICAgICAgICAgIGhhc2hCbG9ja3ModGhpcy50ZW1wLCB0aGlzLnN0YXRlLCB0aGlzLmJ1ZmZlciwgMCwgNjQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YUxlbmd0aCA+PSA2NCkge1xuICAgICAgICAgICAgZGF0YVBvcyA9IGhhc2hCbG9ja3ModGhpcy50ZW1wLCB0aGlzLnN0YXRlLCBkYXRhLCBkYXRhUG9zLCBkYXRhTGVuZ3RoKTtcbiAgICAgICAgICAgIGRhdGFMZW5ndGggJT0gNjQ7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGRhdGFMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXSA9IGRhdGFbZGF0YVBvcysrXTtcbiAgICAgICAgICAgIGRhdGFMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIEZpbmFsaXplcyBoYXNoIHN0YXRlIGFuZCBwdXRzIGhhc2ggaW50byBvdXQuXG4gICAgLy9cbiAgICAvLyBJZiBoYXNoIHdhcyBhbHJlYWR5IGZpbmFsaXplZCwgcHV0cyB0aGUgc2FtZSB2YWx1ZS5cbiAgICBIYXNoLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5maW5pc2hlZCkge1xuICAgICAgICAgICAgdmFyIGJ5dGVzSGFzaGVkID0gdGhpcy5ieXRlc0hhc2hlZDtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gdGhpcy5idWZmZXJMZW5ndGg7XG4gICAgICAgICAgICB2YXIgYml0TGVuSGkgPSAoYnl0ZXNIYXNoZWQgLyAweDIwMDAwMDAwKSB8IDA7XG4gICAgICAgICAgICB2YXIgYml0TGVuTG8gPSBieXRlc0hhc2hlZCA8PCAzO1xuICAgICAgICAgICAgdmFyIHBhZExlbmd0aCA9IChieXRlc0hhc2hlZCAlIDY0IDwgNTYpID8gNjQgOiAxMjg7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltsZWZ0XSA9IDB4ODA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGVmdCArIDE7IGkgPCBwYWRMZW5ndGggLSA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA4XSA9IChiaXRMZW5IaSA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDddID0gKGJpdExlbkhpID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNl0gPSAoYml0TGVuSGkgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDVdID0gKGJpdExlbkhpID4+PiAwKSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA0XSA9IChiaXRMZW5MbyA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDNdID0gKGJpdExlbkxvID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gMl0gPSAoYml0TGVuTG8gPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDFdID0gKGJpdExlbkxvID4+PiAwKSAmIDB4ZmY7XG4gICAgICAgICAgICBoYXNoQmxvY2tzKHRoaXMudGVtcCwgdGhpcy5zdGF0ZSwgdGhpcy5idWZmZXIsIDAsIHBhZExlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMF0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDFdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAyXSA9ICh0aGlzLnN0YXRlW2ldID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAzXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAwKSAmIDB4ZmY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIHRoZSBmaW5hbCBoYXNoIGRpZ2VzdC5cbiAgICBIYXNoLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLmRpZ2VzdExlbmd0aCk7XG4gICAgICAgIHRoaXMuZmluaXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgdXNlIGluIEhNQUMgZm9yIG9wdGltaXphdGlvbi5cbiAgICBIYXNoLnByb3RvdHlwZS5fc2F2ZVN0YXRlID0gZnVuY3Rpb24gKG91dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IHRoaXMuc3RhdGVbaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uIGZvciB1c2UgaW4gSE1BQyBmb3Igb3B0aW1pemF0aW9uLlxuICAgIEhhc2gucHJvdG90eXBlLl9yZXN0b3JlU3RhdGUgPSBmdW5jdGlvbiAoZnJvbSwgYnl0ZXNIYXNoZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ5dGVzSGFzaGVkID0gYnl0ZXNIYXNoZWQ7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEhhc2g7XG59KCkpO1xuZXhwb3J0cy5IYXNoID0gSGFzaDtcbi8vIEhNQUMgaW1wbGVtZW50cyBITUFDLVNIQTI1NiBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGFsZ29yaXRobS5cbnZhciBITUFDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhNQUMoa2V5KSB7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBuZXcgSGFzaCgpO1xuICAgICAgICB0aGlzLm91dGVyID0gbmV3IEhhc2goKTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSB0aGlzLmlubmVyLmJsb2NrU2l6ZTtcbiAgICAgICAgdGhpcy5kaWdlc3RMZW5ndGggPSB0aGlzLmlubmVyLmRpZ2VzdExlbmd0aDtcbiAgICAgICAgdmFyIHBhZCA9IG5ldyBVaW50OEFycmF5KHRoaXMuYmxvY2tTaXplKTtcbiAgICAgICAgaWYgKGtleS5sZW5ndGggPiB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgKG5ldyBIYXNoKCkpLnVwZGF0ZShrZXkpLmZpbmlzaChwYWQpLmNsZWFuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhZFtpXSA9IGtleVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldIF49IDB4MzY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lci51cGRhdGUocGFkKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSBePSAweDM2IF4gMHg1YztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGVyLnVwZGF0ZShwYWQpO1xuICAgICAgICB0aGlzLmlzdGF0ZSA9IG5ldyBVaW50MzJBcnJheSg4KTtcbiAgICAgICAgdGhpcy5vc3RhdGUgPSBuZXcgVWludDMyQXJyYXkoOCk7XG4gICAgICAgIHRoaXMuaW5uZXIuX3NhdmVTdGF0ZSh0aGlzLmlzdGF0ZSk7XG4gICAgICAgIHRoaXMub3V0ZXIuX3NhdmVTdGF0ZSh0aGlzLm9zdGF0ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybnMgSE1BQyBzdGF0ZSB0byB0aGUgc3RhdGUgaW5pdGlhbGl6ZWQgd2l0aCBrZXlcbiAgICAvLyB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHJ1biBITUFDIG92ZXIgdGhlIG90aGVyIGRhdGEgd2l0aCB0aGUgc2FtZVxuICAgIC8vIGtleSB3aXRob3V0IGNyZWF0aW5nIGEgbmV3IGluc3RhbmNlLlxuICAgIEhNQUMucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlubmVyLl9yZXN0b3JlU3RhdGUodGhpcy5pc3RhdGUsIHRoaXMuaW5uZXIuYmxvY2tTaXplKTtcbiAgICAgICAgdGhpcy5vdXRlci5fcmVzdG9yZVN0YXRlKHRoaXMub3N0YXRlLCB0aGlzLm91dGVyLmJsb2NrU2l6ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gQ2xlYW5zIEhNQUMgc3RhdGUuXG4gICAgSE1BQy5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMub3N0YXRlW2ldID0gdGhpcy5pc3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXIuY2xlYW4oKTtcbiAgICAgICAgdGhpcy5vdXRlci5jbGVhbigpO1xuICAgIH07XG4gICAgLy8gVXBkYXRlcyBzdGF0ZSB3aXRoIHByb3ZpZGVkIGRhdGEuXG4gICAgSE1BQy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5pbm5lci51cGRhdGUoZGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gRmluYWxpemVzIEhNQUMgYW5kIHB1dHMgdGhlIHJlc3VsdCBpbiBvdXQuXG4gICAgSE1BQy5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKG91dCkge1xuICAgICAgICBpZiAodGhpcy5vdXRlci5maW5pc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5vdXRlci5maW5pc2gob3V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuZmluaXNoKG91dCk7XG4gICAgICAgICAgICB0aGlzLm91dGVyLnVwZGF0ZShvdXQsIHRoaXMuZGlnZXN0TGVuZ3RoKS5maW5pc2gob3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFJldHVybnMgbWVzc2FnZSBhdXRoZW50aWNhdGlvbiBjb2RlLlxuICAgIEhNQUMucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGlnZXN0TGVuZ3RoKTtcbiAgICAgICAgdGhpcy5maW5pc2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIHJldHVybiBITUFDO1xufSgpKTtcbmV4cG9ydHMuSE1BQyA9IEhNQUM7XG4vLyBSZXR1cm5zIFNIQTI1NiBoYXNoIG9mIGRhdGEuXG5mdW5jdGlvbiBoYXNoKGRhdGEpIHtcbiAgICB2YXIgaCA9IChuZXcgSGFzaCgpKS51cGRhdGUoZGF0YSk7XG4gICAgdmFyIGRpZ2VzdCA9IGguZGlnZXN0KCk7XG4gICAgaC5jbGVhbigpO1xuICAgIHJldHVybiBkaWdlc3Q7XG59XG5leHBvcnRzLmhhc2ggPSBoYXNoO1xuLy8gRnVuY3Rpb24gaGFzaCBpcyBib3RoIGF2YWlsYWJsZSBhcyBtb2R1bGUuaGFzaCBhbmQgYXMgZGVmYXVsdCBleHBvcnQuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGhhc2g7XG4vLyBSZXR1cm5zIEhNQUMtU0hBMjU2IG9mIGRhdGEgdW5kZXIgdGhlIGtleS5cbmZ1bmN0aW9uIGhtYWMoa2V5LCBkYXRhKSB7XG4gICAgdmFyIGggPSAobmV3IEhNQUMoa2V5KSkudXBkYXRlKGRhdGEpO1xuICAgIHZhciBkaWdlc3QgPSBoLmRpZ2VzdCgpO1xuICAgIGguY2xlYW4oKTtcbiAgICByZXR1cm4gZGlnZXN0O1xufVxuZXhwb3J0cy5obWFjID0gaG1hYztcbi8vIEZpbGxzIGhrZGYgYnVmZmVyIGxpa2UgdGhpczpcbi8vIFQoMSkgPSBITUFDLUhhc2goUFJLLCBUKDApIHwgaW5mbyB8IDB4MDEpXG5mdW5jdGlvbiBmaWxsQnVmZmVyKGJ1ZmZlciwgaG1hYywgaW5mbywgY291bnRlcikge1xuICAgIC8vIENvdW50ZXIgaXMgYSBieXRlIHZhbHVlOiBjaGVjayBpZiBpdCBvdmVyZmxvd2VkLlxuICAgIHZhciBudW0gPSBjb3VudGVyWzBdO1xuICAgIGlmIChudW0gPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaGtkZjogY2Fubm90IGV4cGFuZCBtb3JlXCIpO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIEhNQUMgaW5zdGFuY2UgZm9yIG5ldyBkYXRhIHdpdGggb2xkIGtleS5cbiAgICBobWFjLnJlc2V0KCk7XG4gICAgLy8gSGFzaCBpbiBwcmV2aW91cyBvdXRwdXQgaWYgaXQgd2FzIGdlbmVyYXRlZFxuICAgIC8vIChpLmUuIGNvdW50ZXIgaXMgZ3JlYXRlciB0aGFuIDEpLlxuICAgIGlmIChudW0gPiAxKSB7XG4gICAgICAgIGhtYWMudXBkYXRlKGJ1ZmZlcik7XG4gICAgfVxuICAgIC8vIEhhc2ggaW4gaW5mbyBpZiBpdCBleGlzdHMuXG4gICAgaWYgKGluZm8pIHtcbiAgICAgICAgaG1hYy51cGRhdGUoaW5mbyk7XG4gICAgfVxuICAgIC8vIEhhc2ggaW4gdGhlIGNvdW50ZXIuXG4gICAgaG1hYy51cGRhdGUoY291bnRlcik7XG4gICAgLy8gT3V0cHV0IHJlc3VsdCB0byBidWZmZXIgYW5kIGNsZWFuIEhNQUMgaW5zdGFuY2UuXG4gICAgaG1hYy5maW5pc2goYnVmZmVyKTtcbiAgICAvLyBJbmNyZW1lbnQgY291bnRlciBpbnNpZGUgdHlwZWQgYXJyYXksIHRoaXMgd29ya3MgcHJvcGVybHkuXG4gICAgY291bnRlclswXSsrO1xufVxudmFyIGhrZGZTYWx0ID0gbmV3IFVpbnQ4QXJyYXkoZXhwb3J0cy5kaWdlc3RMZW5ndGgpOyAvLyBGaWxsZWQgd2l0aCB6ZXJvZXMuXG5mdW5jdGlvbiBoa2RmKGtleSwgc2FsdCwgaW5mbywgbGVuZ3RoKSB7XG4gICAgaWYgKHNhbHQgPT09IHZvaWQgMCkgeyBzYWx0ID0gaGtkZlNhbHQ7IH1cbiAgICBpZiAobGVuZ3RoID09PSB2b2lkIDApIHsgbGVuZ3RoID0gMzI7IH1cbiAgICB2YXIgY291bnRlciA9IG5ldyBVaW50OEFycmF5KFsxXSk7XG4gICAgLy8gSEtERi1FeHRyYWN0IHVzZXMgc2FsdCBhcyBITUFDIGtleSwgYW5kIGtleSBhcyBkYXRhLlxuICAgIHZhciBva20gPSBobWFjKHNhbHQsIGtleSk7XG4gICAgLy8gSW5pdGlhbGl6ZSBITUFDIGZvciBleHBhbmRpbmcgd2l0aCBleHRyYWN0ZWQga2V5LlxuICAgIC8vIEVuc3VyZSBubyBjb2xsaXNpb25zIHdpdGggYGhtYWNgIGZ1bmN0aW9uLlxuICAgIHZhciBobWFjXyA9IG5ldyBITUFDKG9rbSk7XG4gICAgLy8gQWxsb2NhdGUgYnVmZmVyLlxuICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheShobWFjXy5kaWdlc3RMZW5ndGgpO1xuICAgIHZhciBidWZwb3MgPSBidWZmZXIubGVuZ3RoO1xuICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGJ1ZnBvcyA9PT0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgZmlsbEJ1ZmZlcihidWZmZXIsIGhtYWNfLCBpbmZvLCBjb3VudGVyKTtcbiAgICAgICAgICAgIGJ1ZnBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgb3V0W2ldID0gYnVmZmVyW2J1ZnBvcysrXTtcbiAgICB9XG4gICAgaG1hY18uY2xlYW4oKTtcbiAgICBidWZmZXIuZmlsbCgwKTtcbiAgICBjb3VudGVyLmZpbGwoMCk7XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuaGtkZiA9IGhrZGY7XG4vLyBEZXJpdmVzIGEga2V5IGZyb20gcGFzc3dvcmQgYW5kIHNhbHQgdXNpbmcgUEJLREYyLUhNQUMtU0hBMjU2XG4vLyB3aXRoIHRoZSBnaXZlbiBudW1iZXIgb2YgaXRlcmF0aW9ucy5cbi8vXG4vLyBUaGUgbnVtYmVyIG9mIGJ5dGVzIHJldHVybmVkIGlzIGVxdWFsIHRvIGRrTGVuLlxuLy9cbi8vIChGb3IgYmV0dGVyIHNlY3VyaXR5LCBhdm9pZCBka0xlbiBncmVhdGVyIHRoYW4gaGFzaCBsZW5ndGggLSAzMiBieXRlcykuXG5mdW5jdGlvbiBwYmtkZjIocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGRrTGVuKSB7XG4gICAgdmFyIHByZiA9IG5ldyBITUFDKHBhc3N3b3JkKTtcbiAgICB2YXIgbGVuID0gcHJmLmRpZ2VzdExlbmd0aDtcbiAgICB2YXIgY3RyID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgdmFyIHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIHZhciB1ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICB2YXIgZGsgPSBuZXcgVWludDhBcnJheShka0xlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgKiBsZW4gPCBka0xlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gaSArIDE7XG4gICAgICAgIGN0clswXSA9IChjID4+PiAyNCkgJiAweGZmO1xuICAgICAgICBjdHJbMV0gPSAoYyA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgY3RyWzJdID0gKGMgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgY3RyWzNdID0gKGMgPj4+IDApICYgMHhmZjtcbiAgICAgICAgcHJmLnJlc2V0KCk7XG4gICAgICAgIHByZi51cGRhdGUoc2FsdCk7XG4gICAgICAgIHByZi51cGRhdGUoY3RyKTtcbiAgICAgICAgcHJmLmZpbmlzaCh1KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgdFtqXSA9IHVbal07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDI7IGogPD0gaXRlcmF0aW9uczsgaisrKSB7XG4gICAgICAgICAgICBwcmYucmVzZXQoKTtcbiAgICAgICAgICAgIHByZi51cGRhdGUodSkuZmluaXNoKHUpO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZW47IGsrKykge1xuICAgICAgICAgICAgICAgIHRba10gXj0gdVtrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbiAmJiBpICogbGVuICsgaiA8IGRrTGVuOyBqKyspIHtcbiAgICAgICAgICAgIGRrW2kgKiBsZW4gKyBqXSA9IHRbal07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0W2ldID0gdVtpXSA9IDA7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGN0cltpXSA9IDA7XG4gICAgfVxuICAgIHByZi5jbGVhbigpO1xuICAgIHJldHVybiBkaztcbn1cbmV4cG9ydHMucGJrZGYyID0gcGJrZGYyO1xufSk7XG4iLCJpbXBvcnQge1dlYlJlbmRlcmVyfSBmcm9tICcuL1dlYlJlbmRlcmVyJ1xuaW1wb3J0IFwiZmFzdC10ZXh0LWVuY29kaW5nXCJcbmltcG9ydCB7XG4gIGFkZENTU1J1bGUsXG4gIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyxcbiAgZ2V0Qm91bmRzLFxuICBnZXRQYWRkaW5nLFxuICBnZXRNYXJnaW4sXG4gIGdldEJvcmRlcixcbiAgQm91bmRzLFxuICBFZGdlc1xufSBmcm9tICcuL2RvbS11dGlscydcbmltcG9ydCB7IExSVU1hcCB9IGZyb20gJ2xydV9tYXAnXG5pbXBvcnQgKiBhcyBzaGEyNTYgZnJvbSAnZmFzdC1zaGEyNTYnXG5cbmltcG9ydCB7c2VyaWFsaXplVG9TdHJpbmcsIHNlcmlhbGl6ZUF0dHJpYnV0ZX0gZnJvbSAnLi94bWwtc2VyaWFsaXplcidcblxuZXhwb3J0IHR5cGUgRXZlbnRDYWxsYmFjayA9IChcbiAgZXZlbnQ6XG4gICAgfCAnbGF5ZXJwYWludGVkJ1xuICAgIHwgJ2xheWVycmVzaXplZCdcbiAgICB8ICdsYXllcmNyZWF0ZWQnXG4gICAgfCAnbGF5ZXJtb3ZlZCdcbiAgICB8ICdyZW1vdmFscmVxdWlyZWQnXG4gICAgfCAnaW5wdXRyZXF1aXJlZCcsXG4gIGRhdGE6IHsgdGFyZ2V0OiBFbGVtZW50IH1cbikgPT4gdm9pZFxuXG5jb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5cbmV4cG9ydCBjbGFzcyBXZWJMYXllciB7XG4gIHN0YXRpYyBERUZBVUxUX0NBQ0hFX1NJWkUgPSA0XG4gIHByaXZhdGUgc3RhdGljIGJsYW5rUmV0cnlDb3VudHM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwXG4gIHByaXZhdGUgc3RhdGljIGNhbnZhc0hhc2hlczogTFJVTWFwPHN0cmluZywgc3RyaW5nPiA9IG5ldyBMUlVNYXAoMTAwMClcbiAgcHJpdmF0ZSBzdGF0aWMgY2FjaGVkQ2FudmFzZXM6IExSVU1hcDxzdHJpbmcsIEhUTUxDYW52YXNFbGVtZW50PiA9IG5ldyBMUlVNYXAoV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFKVxuXG4gIGlkOnN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LCBwdWJsaWMgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIFdlYlJlbmRlcmVyLmxheWVycy5zZXQoZWxlbWVudCwgdGhpcylcbiAgICB0aGlzLmlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKSB8fCAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKClcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIHRoaXMuaWQpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFLCcnKVxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LCBmYWxzZSlcbiAgICB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVyY3JlYXRlZCcsIHsgdGFyZ2V0OiBlbGVtZW50IH0pXG4gICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXQgPSBXZWJSZW5kZXJlci5sYXllcnMuc2l6ZSAqIFdlYkxheWVyLkRFRkFVTFRfQ0FDSEVfU0laRVxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMud2lkdGggPSAyMFxuICAgIHRoaXMuX2hhc2hpbmdDYW52YXMuaGVpZ2h0ID0gMjBcbiAgfVxuXG4gIG5lZWRzUmVmcmVzaCA9IHRydWVcbiAgbmVlZHNSZW1vdmFsID0gZmFsc2VcblxuICBwc2V1ZG9TdGF0ZXMgPSB7XG4gICAgaG92ZXI6IGZhbHNlLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZm9jdXM6IGZhbHNlLFxuICAgIHRhcmdldDogZmFsc2VcbiAgfVxuXG4gIHN2Z0ltYWdlOiBIVE1MSW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKClcbiAgYm91bmRzID0gbmV3IEJvdW5kcygpXG4gIC8vIHByaXZhdGUgX3ByZXZpb3VzQm91bmRzID0gbmV3IEJvdW5kcygpXG5cbiAgcHJpdmF0ZSBwYWRkaW5nID0gbmV3IEVkZ2VzKClcbiAgcHJpdmF0ZSBtYXJnaW4gPSBuZXcgRWRnZXMoKVxuICBwcml2YXRlIGJvcmRlciA9IG5ldyBFZGdlcygpXG4gIHBhcmVudExheWVyPzogV2ViTGF5ZXJcbiAgY2hpbGRMYXllcnMgPSBbXSBhcyBXZWJMYXllcltdXG4gIHBpeGVsUmF0aW8/OiBudW1iZXJcblxuICBjYWNoZWRCb3VuZHM6IE1hcDxzdHJpbmcsIEJvdW5kcz4gPSBuZXcgTWFwKClcbiAgY2FjaGVkTWFyZ2luOiBNYXA8c3RyaW5nLCBFZGdlcz4gPSBuZXcgTWFwKClcblxuICBwcml2YXRlIF9keW5hbWljQXR0cmlidXRlcyA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2ggPSAnJ1xuICBwcml2YXRlIF9zdmdEb2N1bWVudCA9ICcnXG4gIHByaXZhdGUgX3N2Z0hhc2hSYXN0ZXJpemluZyA9ICcnXG4gIHByaXZhdGUgX3N2Z1NyYyA9ICcnXG4gIHByaXZhdGUgX2hhc2hpbmdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG4gIF9jYW52YXMhOiBIVE1MQ2FudmFzRWxlbWVudFxuXG4gIHNldCBjYW52YXModmFsOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9jYW52YXMgIT09IHZhbCkge1xuICAgICAgdGhpcy5fY2FudmFzID0gdmFsXG4gICAgICBpZiAodGhpcy5ldmVudENhbGxiYWNrKSB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVycGFpbnRlZCcsIHsgdGFyZ2V0OiB0aGlzLmVsZW1lbnQgfSlcbiAgICB9XG4gIH1cblxuICBnZXQgY2FudmFzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYW52YXNcbiAgfVxuXG4gIGdldCBkZXB0aCgpIHtcbiAgICBsZXQgZGVwdGggPSAwXG4gICAgbGV0IGxheWVyID0gdGhpcyBhcyBXZWJMYXllclxuICAgIHdoaWxlIChsYXllci5wYXJlbnRMYXllcikge1xuICAgICAgbGF5ZXIgPSBsYXllci5wYXJlbnRMYXllclxuICAgICAgZGVwdGgrK1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGhcbiAgfVxuXG4gIGdldCByb290TGF5ZXIoKSB7XG4gICAgbGV0IHJvb3RMYXllciA9IHRoaXMgYXMgV2ViTGF5ZXJcbiAgICB3aGlsZSAocm9vdExheWVyLnBhcmVudExheWVyKSByb290TGF5ZXIgPSByb290TGF5ZXIucGFyZW50TGF5ZXJcbiAgICByZXR1cm4gcm9vdExheWVyXG4gIH1cblxuICB0cmF2ZXJzZVBhcmVudExheWVycyhcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyKSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHBhcmVudExheWVyID0gdGhpcy5wYXJlbnRMYXllclxuICAgIGlmIChwYXJlbnRMYXllcikge1xuICAgICAgcGFyZW50TGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoZWFjaClcbiAgICAgIGVhY2gocGFyZW50TGF5ZXIpXG4gICAgfVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnMoZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZCkge1xuICAgIGVhY2godGhpcylcbiAgICB0aGlzLnRyYXZlcnNlQ2hpbGRMYXllcnMoZWFjaClcbiAgfVxuXG4gIHRyYXZlcnNlQ2hpbGRMYXllcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZFxuICApIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRMYXllcnMpIHtcbiAgICAgIGNoaWxkLnRyYXZlcnNlTGF5ZXJzKGVhY2gpXG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICBnZXRCb3VuZHModGhpcy5lbGVtZW50LCB0aGlzLmJvdW5kcywgdGhpcy5wYXJlbnRMYXllciAmJiB0aGlzLnBhcmVudExheWVyLmVsZW1lbnQpXG4gICAgdGhpcy5uZWVkc1JlZnJlc2ggPSBmYWxzZVxuICAgIHRoaXMuX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzKClcbiAgICBXZWJSZW5kZXJlci5hZGRUb1NlcmlhbGl6ZVF1ZXVlKHRoaXMpXG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVQYXJlbnRBbmRDaGlsZExheWVycygpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50XG4gICAgY29uc3QgY2hpbGRMYXllcnMgPSB0aGlzLmNoaWxkTGF5ZXJzXG4gICAgY29uc3Qgb2xkQ2hpbGRMYXllcnMgPSBjaGlsZExheWVycy5zbGljZSgpXG5cbiAgICBjb25zdCBwcmV2aW91c1BhcmVudExheWVyID0gdGhpcy5wYXJlbnRMYXllclxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LCBmYWxzZSlcbiAgICBpZiAocHJldmlvdXNQYXJlbnRMYXllciAhPT0gdGhpcy5wYXJlbnRMYXllcikge1xuICAgICAgdGhpcy5wYXJlbnRMYXllciAmJiB0aGlzLnBhcmVudExheWVyLmNoaWxkTGF5ZXJzLnB1c2godGhpcylcbiAgICAgIHRoaXMuZXZlbnRDYWxsYmFjaygnbGF5ZXJtb3ZlZCcsIHsgdGFyZ2V0OiBlbGVtZW50IH0pXG4gICAgfVxuXG4gICAgY2hpbGRMYXllcnMubGVuZ3RoID0gMFxuICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhlbGVtZW50LCB0aGlzLl90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIsIHRoaXMpXG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9sZENoaWxkTGF5ZXJzKSB7XG4gICAgICBjb25zdCBwYXJlbnRMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihjaGlsZC5lbGVtZW50LCBmYWxzZSlcbiAgICAgIGlmICghcGFyZW50TGF5ZXIpIHtcbiAgICAgICAgY2hpbGQubmVlZHNSZW1vdmFsID0gdHJ1ZVxuICAgICAgICBjaGlsZExheWVycy5wdXNoKGNoaWxkKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllcihuOiBOb2RlKSB7XG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBlbCA9IG4gYXMgSFRNTEVsZW1lbnRcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsKVxuICAgIGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSlcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShXZWJSZW5kZXJlci5FTEVNRU5UX1VJRF9BVFRSSUJVVEUsIFdlYlJlbmRlcmVyLmdlbmVyYXRlRWxlbWVudFVJRCgpKVxuICAgIH1cbiAgICBjb25zdCBpc0xheWVyID0gZWwuaGFzQXR0cmlidXRlKFdlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURSlcbiAgICBpZiAoaXNMYXllciB8fCBlbC5ub2RlTmFtZSA9PT0gJ1ZJREVPJyB8fCBzdHlsZXMudHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgIGxldCBjaGlsZCA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQoZWwpXG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIGNoaWxkID0gbmV3IFdlYkxheWVyKGVsLCB0aGlzLmV2ZW50Q2FsbGJhY2spXG4gICAgICB9XG4gICAgICB0aGlzLmNoaWxkTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICByZXR1cm4gZmFsc2UgLy8gc3RvcCB0cmF2ZXJzaW5nIHRoaXMgc3VidHJlZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VyaWFsaXphdGlvblJlcGxhY2VyID0gKG5vZGU6Tm9kZSkgPT4ge1xuICAgIGlmICh0aGlzLmVsZW1lbnQgPT09IG5vZGUpIHJldHVyblxuICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlIGFzIEVsZW1lbnRcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQoZWxlbWVudClcbiAgICBpZiAobGF5ZXIpIHsgICAgICBcbiAgICAgIGNvbnN0IGJvdW5kcyA9IGxheWVyLmJvdW5kc1xuICAgICAgbGV0IGF0dHJpYnV0ZXMgPSAnJ1xuICAgICAgY29uc3QgZXh0cmFTdHlsZSA9IGBtaW4td2lkdGg6JHtib3VuZHMud2lkdGh9cHg7bWluLWhlaWdodDoke2JvdW5kcy5oZWlnaHR9cHg7dmlzaWJpbGl0eTpoaWRkZW5gXG4gICAgICBsZXQgYWRkZWRTdHlsZSA9IGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgbGF5ZXIuZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhdHRyLm5hbWUgPT09ICdzcmMnKSBjb250aW51ZVxuICAgICAgICBpZiAoYXR0ci5uYW1lID09ICdzdHlsZScpIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzICs9IHNlcmlhbGl6ZUF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUgKyAnOycgKyBleHRyYVN0eWxlKVxuICAgICAgICAgIGFkZGVkU3R5bGUgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0cmlidXRlcyArPSBzZXJpYWxpemVBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWFkZGVkU3R5bGUpIHtcbiAgICAgICAgYXR0cmlidXRlcyArPSBzZXJpYWxpemVBdHRyaWJ1dGUoJ3N0eWxlJywgZXh0cmFTdHlsZSlcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICByZXR1cm4gYDwke3RhZ30gJHthdHRyaWJ1dGVzfT48LyR7dGFnfT5gXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VyaWFsaXplKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQubm9kZU5hbWUgPT09ICdWSURFTycpIHJldHVyblxuXG4gICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5ib3VuZHNcblxuICAgIGlmICh3aWR0aCAqIGhlaWdodCA+IDApIHtcbiAgICAgIGdldFBhZGRpbmcodGhpcy5lbGVtZW50LCB0aGlzLnBhZGRpbmcpXG4gICAgICBnZXRNYXJnaW4odGhpcy5lbGVtZW50LCB0aGlzLm1hcmdpbilcbiAgICAgIGdldEJvcmRlcih0aGlzLmVsZW1lbnQsIHRoaXMuYm9yZGVyKVxuICAgICAgLy8gYWRkIG1hcmdpbnMgYW5kIGJvcmRlclxuICAgICAgd2lkdGggKz0gTWF0aC5tYXgodGhpcy5tYXJnaW4ubGVmdCwgMCkgKyBNYXRoLm1heCh0aGlzLm1hcmdpbi5yaWdodCwgMCkvLyArIDAuNVxuICAgICAgaGVpZ2h0ICs9IE1hdGgubWF4KHRoaXMubWFyZ2luLnRvcCwgMCkgKyBNYXRoLm1heCh0aGlzLm1hcmdpbi5ib3R0b20sIDApXG4gICAgICAvLyB3aWR0aCArPSBNYXRoLm1heCh0aGlzLmJvcmRlci5sZWZ0LDApICsgTWF0aC5tYXgodGhpcy5ib3JkZXIucmlnaHQsMClcbiAgICAgIC8vIGhlaWdodCArPSBNYXRoLm1heCh0aGlzLmJvcmRlci50b3AsMCkgKyBNYXRoLm1heCh0aGlzLmJvcmRlci5ib3R0b20sMClcblxuICAgICAgLy8gY3JlYXRlIHN2ZyBtYXJrdXBcbiAgICAgIGNvbnN0IGVsZW1lbnRBdHRyaWJ1dGUgPSBXZWJSZW5kZXJlci5hdHRyaWJ1dGVIVE1MKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSwnJyt0aGlzLmlkKVxuICAgICAgY29uc3QgbGF5ZXJFbGVtZW50ID0gdGhpcy5lbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShsYXllckVsZW1lbnQpXG4gICAgICBjb25zdCBuZWVkc0lubGluZUJsb2NrID0gY29tcHV0ZWRTdHlsZS5kaXNwbGF5ID09PSAnaW5saW5lJ1xuICAgICAgV2ViUmVuZGVyZXIudXBkYXRlSW5wdXRBdHRyaWJ1dGVzKGxheWVyRWxlbWVudClcbiAgICAgIGNvbnN0IGxheWVySFRNTCA9IHNlcmlhbGl6ZVRvU3RyaW5nKGxheWVyRWxlbWVudCwgdGhpcy5zZXJpYWxpemF0aW9uUmVwbGFjZXIpLnJlcGxhY2UoXG4gICAgICAgICAgZWxlbWVudEF0dHJpYnV0ZSxcbiAgICAgICAgICAgIGAke2VsZW1lbnRBdHRyaWJ1dGV9ICR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgICAgIGAke25lZWRzSW5saW5lQmxvY2sgPyBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfSU5MSU5FX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfSBgICtcbiAgICAgICAgICAgIFdlYlJlbmRlcmVyLmdldFBzdWVkb0F0dHJpYnV0ZXModGhpcy5wc2V1ZG9TdGF0ZXMpXG4gICAgICApXG4gICAgICBjb25zdCBwYXJlbnRzSFRNTCA9IHRoaXMuX2dldFBhcmVudHNIVE1MKGxheWVyRWxlbWVudClcbiAgICAgIHBhcmVudHNIVE1MWzBdID0gcGFyZW50c0hUTUxbMF0ucmVwbGFjZShcbiAgICAgICAgJ2h0bWwnLFxuICAgICAgICAnaHRtbCAnICsgV2ViUmVuZGVyZXIuUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSArICc9XCJcIiAnXG4gICAgICApXG5cbiAgICAgIGNvbnN0IFtzdmdDU1NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBXZWJSZW5kZXJlci5nZXRSZW5kZXJpbmdDU1ModGhpcy5lbGVtZW50KSxcbiAgICAgICAgV2ViUmVuZGVyZXIuZW1iZWRFeHRlcm5hbFJlc291cmNlcyh0aGlzLmVsZW1lbnQpXG4gICAgICBdKVxuICAgICAgY29uc3QgZG9jU3RyaW5nID1cbiAgICAgICAgJzxzdmcgd2lkdGg9XCInICtcbiAgICAgICAgd2lkdGggK1xuICAgICAgICAnXCIgaGVpZ2h0PVwiJyArXG4gICAgICAgIGhlaWdodCArXG4gICAgICAgICdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGRlZnM+PHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPjwhW0NEQVRBW1xcbicgK1xuICAgICAgICBzdmdDU1Muam9pbignXFxuJykgK1xuICAgICAgICAnXV0+PC9zdHlsZT48L2RlZnM+PGZvcmVpZ25PYmplY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiJyArXG4gICAgICAgIHdpZHRoICtcbiAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xuICAgICAgICBoZWlnaHQgK1xuICAgICAgICAnXCI+JyArXG4gICAgICAgIHBhcmVudHNIVE1MWzBdICtcbiAgICAgICAgbGF5ZXJIVE1MICtcbiAgICAgICAgcGFyZW50c0hUTUxbMV0gK1xuICAgICAgICAnPC9mb3JlaWduT2JqZWN0Pjwvc3ZnPidcbiAgICAgIGNvbnN0IHN2Z0RvYyA9IHRoaXMuX3N2Z0RvY3VtZW50ID0gZG9jU3RyaW5nXG4gICAgICBjb25zdCBzdmdIYXNoID0gdGhpcy5fc3ZnSGFzaCA9IFdlYlJlbmRlcmVyLmFycmF5QnVmZmVyVG9CYXNlNjQoc2hhMjU2Lmhhc2goZW5jb2Rlci5lbmNvZGUoc3ZnRG9jKSkpXG4gICAgICAvLyBjb25zdCBzdmdTcmMgPSAodGhpcy5fc3ZnU3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCcgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jU3RyaW5nKSlcblxuICAgICAgLy8gY2hlY2sgZm9yIGV4aXN0aW5nIGNhbnZhc1xuICAgICAgY29uc3QgY2FudmFzSGFzaCA9IFdlYkxheWVyLmNhbnZhc0hhc2hlcy5nZXQoc3ZnSGFzaClcbiAgICAgIGlmIChjYW52YXNIYXNoICYmIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmhhcyhjYW52YXNIYXNoKSkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmdldChjYW52YXNIYXNoKSFcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIHJhc3Rlcml6ZSB0aGUgc3ZnIGRvY3VtZW50IGlmIG5vIGV4aXN0aW5nIGNhbnZhcyBtYXRjaGVzXG4gICAgICB0aGlzLmNhY2hlZEJvdW5kcy5zZXQoc3ZnSGFzaCwgbmV3IEJvdW5kcygpLmNvcHkodGhpcy5ib3VuZHMpKVxuICAgICAgdGhpcy5jYWNoZWRNYXJnaW4uc2V0KHN2Z0hhc2gsIG5ldyBFZGdlcygpLmNvcHkodGhpcy5tYXJnaW4pKVxuICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SYXN0ZXJpemVRdWV1ZSh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJhc3Rlcml6ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnN2Z0ltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N2Z0hhc2hSYXN0ZXJpemluZyA9IHRoaXMuX3N2Z0hhc2hcbiAgICAgIHRoaXMuc3ZnSW1hZ2Uuc3JjID0gKHRoaXMuX3N2Z1NyYyA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX3N2Z0RvY3VtZW50KSlcbiAgICAgIGlmICh0aGlzLnN2Z0ltYWdlLmNvbXBsZXRlICYmIHRoaXMuc3ZnSW1hZ2UuY3VycmVudFNyYyA9PT0gdGhpcy5zdmdJbWFnZS5zcmMpIHtcbiAgICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgICB0aGlzLnN2Z0ltYWdlLm9ubG9hZCA9IG51bGxcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdmdIYXNoID0gdGhpcy5fc3ZnSGFzaFJhc3Rlcml6aW5nXG5cbiAgICBpZiAoIXRoaXMuY2FjaGVkQm91bmRzLmhhcyhzdmdIYXNoKSB8fCAhdGhpcy5jYWNoZWRNYXJnaW4uaGFzKHN2Z0hhc2gpKSB7XG4gICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdmdJbWFnZS5jb21wbGV0ZSkge1xuICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jYWNoZWRCb3VuZHMuZ2V0KHN2Z0hhc2gpIVxuICAgIGxldCB7IGxlZnQsIHRvcCB9ID0gdGhpcy5jYWNoZWRNYXJnaW4uZ2V0KHN2Z0hhc2gpIVxuXG4gICAgY29uc3QgaGFzaGluZ0NhbnZhcyA9IHRoaXMuX2hhc2hpbmdDYW52YXNcbiAgICBsZXQgaHcgPSBoYXNoaW5nQ2FudmFzLndpZHRoXG4gICAgbGV0IGhoID0gaGFzaGluZ0NhbnZhcy5oZWlnaHRcbiAgICBjb25zdCBoY3R4ID0gaGFzaGluZ0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIVxuICAgIGhjdHguY2xlYXJSZWN0KDAsIDAsIGh3LCBoaClcbiAgICBoY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgaGN0eC5kcmF3SW1hZ2UodGhpcy5zdmdJbWFnZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCBodywgaGgpXG4gICAgY29uc3QgaGFzaERhdGEgPSBoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBodywgaGgpLmRhdGFcbiAgICBjb25zdCBjYW52YXNIYXNoID1cbiAgICAgIFdlYlJlbmRlcmVyLmFycmF5QnVmZmVyVG9CYXNlNjQoc2hhMjU2Lmhhc2gobmV3IFVpbnQ4QXJyYXkoaGFzaERhdGEpKSkgK1xuICAgICAgJz93PScgK1xuICAgICAgd2lkdGggK1xuICAgICAgJztoPScgK1xuICAgICAgaGVpZ2h0XG4gICAgV2ViTGF5ZXIuY2FudmFzSGFzaGVzLnNldChzdmdIYXNoLCBjYW52YXNIYXNoKVxuXG4gICAgY29uc3QgYmxhbmtSZXRyeUNvdW50ID0gV2ViTGF5ZXIuYmxhbmtSZXRyeUNvdW50cy5nZXQoc3ZnSGFzaCl8fDBcbiAgICBpZiAoV2ViUmVuZGVyZXIuaXNCbGFua0ltYWdlKGhhc2hEYXRhKSAmJiBibGFua1JldHJ5Q291bnQgPCAxMCkge1xuICAgICAgV2ViTGF5ZXIuYmxhbmtSZXRyeUNvdW50cy5zZXQoc3ZnSGFzaCxibGFua1JldHJ5Q291bnQrMSlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKSwgNTAwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmhhcyhjYW52YXNIYXNoKSkge1xuICAgICAgdGhpcy5jYW52YXMgPSBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5nZXQoY2FudmFzSGFzaCkhXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID1cbiAgICAgIHRoaXMucGl4ZWxSYXRpbyB8fFxuICAgICAgcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlBJWEVMX1JBVElPX0FUVFJJQlVURSkhKSB8fFxuICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICBjb25zdCBuZXdDYW52YXMgPVxuICAgICAgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuc2l6ZSA9PT0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMubGltaXRcbiAgICAgICAgPyBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zaGlmdCgpIVsxXVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgbGV0IHcgPSAobmV3Q2FudmFzLndpZHRoID0gd2lkdGggKiBwaXhlbFJhdGlvKVxuICAgIGxldCBoID0gKG5ld0NhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvKVxuICAgIGNvbnN0IGN0eCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpIVxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdywgaClcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMuc3ZnSW1hZ2UsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgdywgaClcbiAgICBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zZXQoY2FudmFzSGFzaCwgbmV3Q2FudmFzKVxuICAgIHRoaXMuY2FudmFzID0gbmV3Q2FudmFzXG4gIH1cblxuICAvLyBHZXQgYWxsIHBhcmVudHMgb2YgdGhlIGVtYmVkZWQgaHRtbCBhcyB0aGVzZSBjYW4gZWZmZWN0IHRoZSByZXN1bHRpbmcgc3R5bGVzXG4gIHByaXZhdGUgX2dldFBhcmVudHNIVE1MKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvcGVucyA9IFtdXG4gICAgY29uc3QgY2xvc2VzID0gW11cbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgaWYgKCFwYXJlbnQpIHBhcmVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIGRvIHtcbiAgICAgIGxldCB0YWcgPSBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICBsZXQgYXR0cmlidXRlcyA9ICcgJ1xuICAgICAgZm9yIChjb25zdCBhIG9mIHBhcmVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhLm5hbWUgPT09ICdzdHlsZScpIGNvbnRpbnVlXG5cbiAgICAgICAgYXR0cmlidXRlcyArPSBgJHthLm5hbWV9PVwiJHthLnZhbHVlfVwiIGBcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wZW4gPVxuICAgICAgICAnPCcgK1xuICAgICAgICB0YWcgK1xuICAgICAgICAodGFnID09PSAnaHRtbCdcbiAgICAgICAgICA/IGAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIgc3R5bGU9XCItLXgtd2lkdGg6JHtcbiAgICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGh9cHg7LS14LWhlaWdodDoke3RoaXMuYm91bmRzLmhlaWdodH1weDstLXgtaW5saW5lLXRvcDoke1xuICAgICAgICAgICAgICB0aGlzLmJvcmRlci50b3AgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLnBhZGRpbmcudG9wfXB4XCIgYFxuICAgICAgICAgIDogJycpICtcbiAgICAgICAgYXR0cmlidXRlcyArXG4gICAgICAgIGAke1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfT1cIlwiIGAgK1xuICAgICAgICAvLyBXZWJSZW5kZXJlci5nZXRQc3VlZG9BdHRyaWJ1dGVzKHBhcmVudCkgK1xuICAgICAgICAnID4nXG4gICAgICBvcGVucy51bnNoaWZ0KG9wZW4pXG4gICAgICBjb25zdCBjbG9zZSA9ICc8LycgKyB0YWcgKyAnPidcbiAgICAgIGNsb3Nlcy5wdXNoKGNsb3NlKVxuICAgICAgaWYgKHRhZyA9PSAnaHRtbCcpIGJyZWFrXG4gICAgfSB3aGlsZSAoKHBhcmVudCA9IHBhcmVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gcGFyZW50LnBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogbnVsbCkpXG4gICAgcmV0dXJuIFtvcGVucy5qb2luKCcnKSwgY2xvc2VzLmpvaW4oJycpXVxuICB9XG59IiwidmFyIHJlc2l6ZU9ic2VydmVycyA9IFtdO1xuZXhwb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH07XG4iLCJ2YXIgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zO1xuKGZ1bmN0aW9uIChSZXNpemVPYnNlcnZlckJveE9wdGlvbnMpIHtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJCT1JERVJfQk9YXCJdID0gXCJib3JkZXItYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQ09OVEVOVF9CT1hcIl0gPSBcImNvbnRlbnQtYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YXCJdID0gXCJkZXZpY2UtcGl4ZWwtY29udGVudC1ib3hcIjtcbn0pKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB8fCAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zID0ge30pKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9O1xuIiwidmFyIG1zZyA9ICdSZXNpemVPYnNlcnZlciBsb29wIGNvbXBsZXRlZCB3aXRoIHVuZGVsaXZlcmVkIG5vdGlmaWNhdGlvbnMuJztcbnZhciBkZWxpdmVyUmVzaXplTG9vcEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudDtcbiAgICBpZiAodHlwZW9mIEVycm9yRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnQgPSBuZXcgRXJyb3JFdmVudCgnZXJyb3InLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBldmVudC5pbml0RXZlbnQoJ2Vycm9yJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZXZlbnQubWVzc2FnZSA9IG1zZztcbiAgICB9XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcbmV4cG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfTtcbiIsImV4cG9ydCB2YXIgZnJlZXplID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LmZyZWV6ZShvYmopOyB9O1xuIiwidmFyIHRyaWdnZXI7XG52YXIgY2FsbGJhY2tzID0gW107XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2tzLnNwbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoKTsgfSk7IH07XG52YXIgcXVldWVNaWNyb1Rhc2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoIXRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHRvZ2dsZV8xID0gMDtcbiAgICAgICAgdmFyIGVsXzEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHZhciBjb25maWcgPSB7IGNoYXJhY3RlckRhdGE6IHRydWUgfTtcbiAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gbm90aWZ5KCk7IH0pLm9ic2VydmUoZWxfMSwgY29uZmlnKTtcbiAgICAgICAgdHJpZ2dlciA9IGZ1bmN0aW9uICgpIHsgZWxfMS50ZXh0Q29udGVudCA9IFwiXCIgKyAodG9nZ2xlXzEgPyB0b2dnbGVfMS0tIDogdG9nZ2xlXzErKyk7IH07XG4gICAgfVxuICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB0cmlnZ2VyKCk7XG59O1xuZXhwb3J0IHsgcXVldWVNaWNyb1Rhc2sgfTtcbiIsImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiIsImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBET01SZWN0UmVhZE9ubHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERPTVJlY3RSZWFkT25seSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy55O1xuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLng7XG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7XG4gICAgICAgIHJldHVybiBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIERPTVJlY3RSZWFkT25seS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB4ID0gX2EueCwgeSA9IF9hLnksIHRvcCA9IF9hLnRvcCwgcmlnaHQgPSBfYS5yaWdodCwgYm90dG9tID0gX2EuYm90dG9tLCBsZWZ0ID0gX2EubGVmdCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5LCB0b3A6IHRvcCwgcmlnaHQ6IHJpZ2h0LCBib3R0b206IGJvdHRvbSwgbGVmdDogbGVmdCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH07XG4gICAgRE9NUmVjdFJlYWRPbmx5LmZyb21SZWN0ID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICByZXR1cm4gbmV3IERPTVJlY3RSZWFkT25seShyZWN0YW5nbGUueCwgcmVjdGFuZ2xlLnksIHJlY3RhbmdsZS53aWR0aCwgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gRE9NUmVjdFJlYWRPbmx5O1xufSgpKTtcbmV4cG9ydCB7IERPTVJlY3RSZWFkT25seSB9O1xuIiwidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIiwiZXhwb3J0IHZhciBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyU2l6ZSc7XG5pbXBvcnQgeyBET01SZWN0UmVhZE9ubHkgfSBmcm9tICcuLi9ET01SZWN0UmVhZE9ubHknO1xuaW1wb3J0IHsgaXNTVkcsIGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuLi91dGlscy9mcmVlemUnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFsJztcbnZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2Nyb2xsUmVnZXhwID0gL2F1dG98c2Nyb2xsLztcbnZhciB2ZXJ0aWNhbFJlZ2V4cCA9IC9edGJ8dmVydGljYWwvO1xudmFyIElFID0gKC9tc2llfHRyaWRlbnQvaSkudGVzdChnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBwYXJzZURpbWVuc2lvbiA9IGZ1bmN0aW9uIChwaXhlbCkgeyByZXR1cm4gcGFyc2VGbG9hdChwaXhlbCB8fCAnMCcpOyB9O1xudmFyIHNpemUgPSBmdW5jdGlvbiAoaW5saW5lU2l6ZSwgYmxvY2tTaXplLCBzd2l0Y2hTaXplcykge1xuICAgIGlmIChpbmxpbmVTaXplID09PSB2b2lkIDApIHsgaW5saW5lU2l6ZSA9IDA7IH1cbiAgICBpZiAoYmxvY2tTaXplID09PSB2b2lkIDApIHsgYmxvY2tTaXplID0gMDsgfVxuICAgIGlmIChzd2l0Y2hTaXplcyA9PT0gdm9pZCAwKSB7IHN3aXRjaFNpemVzID0gZmFsc2U7IH1cbiAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyU2l6ZSgoc3dpdGNoU2l6ZXMgPyBibG9ja1NpemUgOiBpbmxpbmVTaXplKSB8fCAwLCAoc3dpdGNoU2l6ZXMgPyBpbmxpbmVTaXplIDogYmxvY2tTaXplKSB8fCAwKTtcbn07XG52YXIgemVyb0JveGVzID0gZnJlZXplKHtcbiAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgYm9yZGVyQm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkoMCwgMCwgMCwgMClcbn0pO1xudmFyIGNhbGN1bGF0ZUJveFNpemVzID0gZnVuY3Rpb24gKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgaWYgKGZvcmNlUmVjYWxjdWxhdGlvbiA9PT0gdm9pZCAwKSB7IGZvcmNlUmVjYWxjdWxhdGlvbiA9IGZhbHNlOyB9XG4gICAgaWYgKGNhY2hlLmhhcyh0YXJnZXQpICYmICFmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldCh0YXJnZXQpO1xuICAgIH1cbiAgICBpZiAoaXNIaWRkZW4odGFyZ2V0KSkge1xuICAgICAgICBjYWNoZS5zZXQodGFyZ2V0LCB6ZXJvQm94ZXMpO1xuICAgICAgICByZXR1cm4gemVyb0JveGVzO1xuICAgIH1cbiAgICB2YXIgY3MgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gICAgdmFyIHN2ZyA9IGlzU1ZHKHRhcmdldCkgJiYgdGFyZ2V0Lm93bmVyU1ZHRWxlbWVudCAmJiB0YXJnZXQuZ2V0QkJveCgpO1xuICAgIHZhciByZW1vdmVQYWRkaW5nID0gIUlFICYmIGNzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnO1xuICAgIHZhciBzd2l0Y2hTaXplcyA9IHZlcnRpY2FsUmVnZXhwLnRlc3QoY3Mud3JpdGluZ01vZGUgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxWZXJ0aWNhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1kgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxIb3Jpem9udGFsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WCB8fCAnJyk7XG4gICAgdmFyIHBhZGRpbmdUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1RvcCk7XG4gICAgdmFyIHBhZGRpbmdSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nUmlnaHQpO1xuICAgIHZhciBwYWRkaW5nQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdCb3R0b20pO1xuICAgIHZhciBwYWRkaW5nTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nTGVmdCk7XG4gICAgdmFyIGJvcmRlclRvcCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJUb3BXaWR0aCk7XG4gICAgdmFyIGJvcmRlclJpZ2h0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlclJpZ2h0V2lkdGgpO1xuICAgIHZhciBib3JkZXJCb3R0b20gPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgIHZhciBib3JkZXJMZWZ0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgdmFyIGhvcml6b250YWxQYWRkaW5nID0gcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsUGFkZGluZyA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsQm9yZGVyQXJlYSA9IGJvcmRlckxlZnQgKyBib3JkZXJSaWdodDtcbiAgICB2YXIgdmVydGljYWxCb3JkZXJBcmVhID0gYm9yZGVyVG9wICsgYm9yZGVyQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbEhvcml6b250YWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdmVydGljYWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudEhlaWdodDtcbiAgICB2YXIgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgPSAhY2FuU2Nyb2xsVmVydGljYWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0V2lkdGggLSBob3Jpem9udGFsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICB2YXIgd2lkdGhSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gaG9yaXpvbnRhbFBhZGRpbmcgKyBob3Jpem9udGFsQm9yZGVyQXJlYSA6IDA7XG4gICAgdmFyIGhlaWdodFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyB2ZXJ0aWNhbFBhZGRpbmcgKyB2ZXJ0aWNhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBjb250ZW50V2lkdGggPSBzdmcgPyBzdmcud2lkdGggOiBwYXJzZURpbWVuc2lvbihjcy53aWR0aCkgLSB3aWR0aFJlZHVjdGlvbiAtIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBjb250ZW50SGVpZ2h0ID0gc3ZnID8gc3ZnLmhlaWdodCA6IHBhcnNlRGltZW5zaW9uKGNzLmhlaWdodCkgLSBoZWlnaHRSZWR1Y3Rpb24gLSBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBib3JkZXJCb3hXaWR0aCA9IGNvbnRlbnRXaWR0aCArIGhvcml6b250YWxQYWRkaW5nICsgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgKyBob3Jpem9udGFsQm9yZGVyQXJlYTtcbiAgICB2YXIgYm9yZGVyQm94SGVpZ2h0ID0gY29udGVudEhlaWdodCArIHZlcnRpY2FsUGFkZGluZyArIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgKyB2ZXJ0aWNhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJveGVzID0gZnJlZXplKHtcbiAgICAgICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZShNYXRoLnJvdW5kKGNvbnRlbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8pLCBNYXRoLnJvdW5kKGNvbnRlbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvKSwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBib3JkZXJCb3hTaXplOiBzaXplKGJvcmRlckJveFdpZHRoLCBib3JkZXJCb3hIZWlnaHQsIHN3aXRjaFNpemVzKSxcbiAgICAgICAgY29udGVudEJveFNpemU6IHNpemUoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpXG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KHRhcmdldCwgYm94ZXMpO1xuICAgIHJldHVybiBib3hlcztcbn07XG52YXIgY2FsY3VsYXRlQm94U2l6ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9ic2VydmVkQm94LCBmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICB2YXIgX2EgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbiksIGJvcmRlckJveFNpemUgPSBfYS5ib3JkZXJCb3hTaXplLCBjb250ZW50Qm94U2l6ZSA9IF9hLmNvbnRlbnRCb3hTaXplLCBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gX2EuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICBzd2l0Y2ggKG9ic2VydmVkQm94KSB7XG4gICAgICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkRFVklDRV9QSVhFTF9DT05URU5UX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5CT1JERVJfQk9YOlxuICAgICAgICAgICAgcmV0dXJuIGJvcmRlckJveFNpemU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveFNpemU7XG4gICAgfVxufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZUJveFNpemUsIGNhbGN1bGF0ZUJveFNpemVzIH07XG4iLCJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiIsImltcG9ydCB7IGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG52YXIgY2FsY3VsYXRlRGVwdGhGb3JOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoaXNIaWRkZW4obm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBkZXB0aCArPSAxO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoO1xufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG52YXIgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCA9IGZ1bmN0aW9uIChkZXB0aCkge1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnNwbGljZSgwLCByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5vYnNlcnZhdGlvblRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICBpZiAob3QuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KSA+IGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLmFjdGl2ZVRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfTtcbiIsImltcG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9IGZyb20gJy4uL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvcic7XG5pbXBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoJztcbnZhciBwcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgd2hpbGUgKGhhc0FjdGl2ZU9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlcHRoID0gYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zKCk7XG4gICAgICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIH1cbiAgICBpZiAoaGFzU2tpcHBlZE9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoID4gMDtcbn07XG5leHBvcnQgeyBwcm9jZXNzIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc0FjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi9nbG9iYWwnO1xuaW1wb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vcXVldWVSZXNpemVPYnNlcnZlcic7XG52YXIgd2F0Y2hpbmcgPSAwO1xudmFyIGlzV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhIXdhdGNoaW5nOyB9O1xudmFyIENBVENIX1BFUklPRCA9IDI1MDtcbnZhciBvYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG52YXIgZXZlbnRzID0gW1xuICAgICdyZXNpemUnLFxuICAgICdsb2FkJyxcbiAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICAna2V5dXAnLFxuICAgICdrZXlkb3duJyxcbiAgICAnbW91c2V1cCcsXG4gICAgJ21vdXNlZG93bicsXG4gICAgJ21vdXNlb3ZlcicsXG4gICAgJ21vdXNlb3V0JyxcbiAgICAnYmx1cicsXG4gICAgJ2ZvY3VzJ1xuXTtcbnZhciB0aW1lID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSAwOyB9XG4gICAgcmV0dXJuIERhdGUubm93KCkgKyB0aW1lb3V0O1xufTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjaGVkdWxlKCk7IH07XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gQ0FUQ0hfUEVSSU9EOyB9XG4gICAgICAgIGlmIChzY2hlZHVsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdW50aWwgPSB0aW1lKHRpbWVvdXQpO1xuICAgICAgICBxdWV1ZVJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50c0hhdmVSZXNpemVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBwcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gdW50aWwgLSB0aW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1dhdGNoaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNIYXZlUmVzaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4oMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bih0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vYnNlcnZlciAmJiBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTsgfTtcbiAgICAgICAgZG9jdW1lbnQuYm9keSA/IGNiKCkgOiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciAmJiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG52YXIgc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcigpO1xudmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAhd2F0Y2hpbmcgJiYgbiA+IDAgJiYgc2NoZWR1bGVyLnN0YXJ0KCk7XG4gICAgd2F0Y2hpbmcgKz0gbjtcbiAgICAhd2F0Y2hpbmcgJiYgc2NoZWR1bGVyLnN0b3AoKTtcbn07XG5leHBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH07XG4iLCJpbXBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9IGZyb20gJy4vcXVldWVNaWNyb1Rhc2snO1xudmFyIHF1ZXVlUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICBxdWV1ZU1pY3JvVGFzayhmdW5jdGlvbiBSZXNpemVPYnNlcnZlcigpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBxdWV1ZVJlc2l6ZU9ic2VydmVyIH07XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgaXNTVkcsIGlzUmVwbGFjZWRFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBza2lwTm90aWZ5T25FbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHJldHVybiAhaXNTVkcodGFyZ2V0KVxuICAgICAgICAmJiAhaXNSZXBsYWNlZEVsZW1lbnQodGFyZ2V0KVxuICAgICAgICAmJiBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PT0gJ2lubGluZSc7XG59O1xudmFyIFJlc2l6ZU9ic2VydmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9ic2VydmVkQm94KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm9ic2VydmVkQm94ID0gb2JzZXJ2ZWRCb3ggfHwgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkNPTlRFTlRfQk9YO1xuICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSB7XG4gICAgICAgICAgICBpbmxpbmVTaXplOiAwLFxuICAgICAgICAgICAgYmxvY2tTaXplOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSBjYWxjdWxhdGVCb3hTaXplKHRoaXMudGFyZ2V0LCB0aGlzLm9ic2VydmVkQm94LCB0cnVlKTtcbiAgICAgICAgaWYgKHNraXBOb3RpZnlPbkVsZW1lbnQodGhpcy50YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXBvcnRlZFNpemUuaW5saW5lU2l6ZSAhPT0gc2l6ZS5pbmxpbmVTaXplXG4gICAgICAgICAgICB8fCB0aGlzLmxhc3RSZXBvcnRlZFNpemUuYmxvY2tTaXplICE9PSBzaXplLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmF0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH07XG4iLCJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iLCJpbXBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH0gZnJvbSAnLi91dGlscy9zY2hlZHVsZXInO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2YXRpb24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmF0aW9uJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckRldGFpbCc7XG5pbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgb2JzZXJ2ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGdldE9ic2VydmF0aW9uSW5kZXggPSBmdW5jdGlvbiAob2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAob2JzZXJ2YXRpb25UYXJnZXRzW2ldLnRhcmdldCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xudmFyIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCkge1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG5ldyBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spO1xuICAgICAgICBvYnNlcnZlck1hcC5zZXQocmVzaXplT2JzZXJ2ZXIsIGRldGFpbCk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgZmlyc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAwO1xuICAgICAgICBpZiAoZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIDwgMCkge1xuICAgICAgICAgICAgZmlyc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMucHVzaChkZXRhaWwpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5wdXNoKG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9wdGlvbnMgJiYgb3B0aW9ucy5ib3gpKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KDEpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCkge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpO1xuICAgICAgICB2YXIgbGFzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBsYXN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnNwbGljZShyZXNpemVPYnNlcnZlcnMuaW5kZXhPZihkZXRhaWwpLCAxKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChvdCkgeyByZXR1cm4gX3RoaXMudW5vYnNlcnZlKHJlc2l6ZU9ic2VydmVyLCBvdC50YXJnZXQpOyB9KTtcbiAgICAgICAgZGV0YWlsLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIGRldGFpbC5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBSZXNpemVPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCh0aGlzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUodGhpcywgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0KHRoaXMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIgKCkgeyBbcG9seWZpbGwgY29kZV0gfSc7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfTtcbiIsImltcG9ydCB7RXZlbnRDYWxsYmFjaywgV2ViTGF5ZXJ9IGZyb20gJy4vV2ViTGF5ZXInXG5pbXBvcnQgeyBhZGRDU1NSdWxlIH0gZnJvbSAnLi9kb20tdXRpbHMnXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIGFzIFBvbHlmaWxsIH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5jb25zdCBSZXNpemVPYnNlcnZlcjp0eXBlb2YgUG9seWZpbGwgPSAoc2VsZiBhcyBhbnkpLlJlc2l6ZU9ic2VydmVyIHx8IFBvbHlmaWxsXG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViTGF5ZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIEluamVjdCBhbmQgYXBwbHkgb25seSB0aGVzZSBzdHlsZXNoZWV0cy5cbiAgICogVGhpcyBvbmx5IGhhcyBhbiBlZmZlY3Qgd2hlbiBwYXNzaW5nIGEgZGV0YWNoZWQgRE9NIGVsZW1lbnRcbiAgICogYXMgdGhlIHJvb3Qgb2YgdGhlIExheWVyIHRyZWUuIFRoaXMgZG9tIGVsZW1lbnQgd2lsbCBiZVxuICAgKiBob3N0ZWQgaW5zaWRlIGFuIGlmcmFtZSwgYWxvbmcgd2l0aCB0aGUgcHJvdmlkZWQgc3R5bGVzaGVldHMsXG4gICAqIGZvciBzdHlsZSBpc29sYXRpb24uXG4gICAqL1xuICBzdHlsZVNoZWV0VVJMcz86IHN0cmluZ1tdXG59XG5cbnR5cGUgUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZSA9IGFueVxudHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrT3B0aW9ucyA9IHtcbiAgdGltZW91dDogbnVtYmVyXG59XG5leHBvcnQgdHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrRGVhZGxpbmUgPSB7XG4gIHJlYWRvbmx5IGRpZFRpbWVvdXQ6IGJvb2xlYW5cbiAgdGltZVJlbWFpbmluZzogKCkgPT4gbnVtYmVyXG59XG5cbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFjayAoXG4gIGNhbGxiYWNrOiAoZGVhZGxpbmU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSkgPT4gdm9pZCxcbiAgb3B0cz86IFJlcXVlc3RJZGxlQ2FsbGJhY2tPcHRpb25zXG4pIDogUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZVxuXG5kZWNsYXJlIGZ1bmN0aW9uIGNhbmNlbElkbGVDYWxsYmFjayhoYW5kbGU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tIYW5kbGUpIDogdm9pZFxuXG5cbmZ1bmN0aW9uIGVuc3VyZUVsZW1lbnRJc0luRG9jdW1lbnQoZWxlbWVudDogRWxlbWVudCwgb3B0aW9uczpXZWJMYXllck9wdGlvbnMpOiBFbGVtZW50IHtcbiAgaWYgKGRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjb250YWluZXIuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFLCAnJylcbiAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICBjb250YWluZXIuc3R5bGUudG9wID0gJzBweCdcbiAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICBjb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuICBjb250YWluZXIuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSdcbiAgY29udGFpbmVyLnN0eWxlWydjb250YWluJyBhcyBhbnldID0gJ3N0cmljdCdcbiAgY29uc3QgY29udGFpbmVyU2hhZG93ID0gY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSlcbiAgY29udGFpbmVyU2hhZG93LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjb250YWluZXIpXG4gIHJldHVybiBlbGVtZW50XG59XG5cbmNvbnN0IHNjcmF0Y2hNYXQxID0gbmV3IE1hdHJpeDQoKVxuY29uc3Qgc2NyYXRjaE1hdDIgPSBuZXcgTWF0cml4NCgpXG5jb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpXG5jb25zdCBtaWNyb3Rhc2sgPSBQcm9taXNlLnJlc29sdmUoKVxuXG5leHBvcnQgY2xhc3MgV2ViUmVuZGVyZXIge1xuICBzdGF0aWMgQVRUUklCVVRFX1BSRUZJWCA9ICd4cidcbiAgc3RhdGljIGdldCBFTEVNRU5UX1VJRF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXVpZCcgfVxuICBzdGF0aWMgZ2V0IEhPVkVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctaG92ZXInfVxuICBzdGF0aWMgZ2V0IEFDVElWRV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWFjdGl2ZSd9XG4gIHN0YXRpYyBnZXQgRk9DVVNfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1mb2N1cyd9XG4gIHN0YXRpYyBnZXQgVEFSR0VUX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdGFyZ2V0J31cbiAgc3RhdGljIGdldCBMQVlFUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWxheWVyJ31cbiAgc3RhdGljIGdldCBQSVhFTF9SQVRJT19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXBpeGVsLXJhdGlvJyB9XG5cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmcnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLXBhcmVudCcgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctY29udGFpbmVyJyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1pbmxpbmUnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctZG9jdW1lbnQnIH1cblxuICBwcml2YXRlIHN0YXRpYyBfbmV4dFVJRCA9IDBcbiAgc3RhdGljIGdlbmVyYXRlRWxlbWVudFVJRCgpIHsgcmV0dXJuICcnICsgKHRoaXMuX25leHRVSUQgKyspIH1cblxuICBzdGF0aWMgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKClcblxuICBzdGF0aWMgcm9vdExheWVyczogTWFwPEVsZW1lbnQsIFdlYkxheWVyPiA9IG5ldyBNYXAoKVxuICBzdGF0aWMgbGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc3RhdGljIG11dGF0aW9uT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgTXV0YXRpb25PYnNlcnZlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgcmVzaXplT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgUG9seWZpbGw+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBzZXJpYWxpemVRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cbiAgc3RhdGljIHJhc3Rlcml6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmVuZGVyUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG5cbiAgLy8gc3RhdGljIHJlYWRvbmx5IHZpcnR1YWxIb3ZlckVsZW1lbnRzID0gbmV3IFNldDxFbGVtZW50PigpXG4gIHN0YXRpYyByZWFkb25seSBmb2N1c0VsZW1lbnQ6SFRNTEVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgZWxlbWVudCBpcyByZWFkeSB0byByZWNlaXZlIGlucHV0XG4gIHN0YXRpYyByZWFkb25seSBhY3RpdmVFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgYnV0dG9uIGVsZW1lbnQgaXMgYmVpbmcgXCJwcmVzc2VkIGRvd25cIlxuICBzdGF0aWMgcmVhZG9ubHkgdGFyZ2V0RWxlbWVudDpFbGVtZW50fG51bGwgPSBudWxsIC8vIGkuZS4sIHRoZSBlbGVtZW50IHdob3NlIElEIG1hdGNoZXMgdGhlIHVybCAjaGFzaFxuXG4gIC8vIHN0YXRpYyBjb250YWluc0hvdmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gICBmb3IgKGNvbnN0IHQgb2YgdGhpcy52aXJ0dWFsSG92ZXJFbGVtZW50cykge1xuICAvLyAgICAgaWYgKGVsZW1lbnQuY29udGFpbnModCkpIHJldHVybiB0cnVlXG4gIC8vICAgfVxuICAvLyAgIHJldHVybiBmYWxzZVxuICAvLyB9XG5cbiAgc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoc3RhdGVzOiB0eXBlb2YgV2ViTGF5ZXIucHJvdG90eXBlLnBzZXVkb1N0YXRlcykge1xuICAgIHJldHVybiAoXG4gICAgICBgJHtzdGF0ZXMuaG92ZXIgPyBgJHt0aGlzLkhPVkVSX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmZvY3VzID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy5hY3RpdmUgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy50YXJnZXQgPyBgJHt0aGlzLlRBUkdFVF9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHJvb3ROb2RlT2JzZXJ2ZXJzID0gbmV3IE1hcDxEb2N1bWVudHxTaGFkb3dSb290LCBNdXRhdGlvbk9ic2VydmVyPigpXG4gIC8vIHN0YXRpYyBkb2N1bWVudE9ic2VydmVyIDogTXV0YXRpb25PYnNlcnZlclxuICAvLyBzdGF0aWMgX2RpZEluaXQgPSBmYWxzZVxuXG4gIHN0YXRpYyByZW5kZXJpbmdTdHlsZUVsZW1lbnQgOiBIVE1MU3R5bGVFbGVtZW50XG5cbiAgc3RhdGljIGluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQ6RWxlbWVudCkge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50XG4gICAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdHxEb2N1bWVudFxuICAgIGNvbnN0IHN0eWxlUm9vdCA9ICdoZWFkJyBpbiByb290Tm9kZSA/IHJvb3ROb2RlLmhlYWQgOiByb290Tm9kZVxuICAgIGlmICh0aGlzLnJvb3ROb2RlT2JzZXJ2ZXJzLmdldChyb290Tm9kZSkpIHJldHVyblxuICAgIFxuICAgIGlmICghdGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgICBzdHlsZVJvb3QuYXBwZW5kKHN0eWxlKSAvLyBvdGhlcndpc2Ugc3R5bGVzaGVldCBpcyBub3QgY3JlYXRlZFxuICAgICAgY29uc3Qgc2hlZXQgPSBzdHlsZS5zaGVldCBhcyBDU1NTdHlsZVNoZWV0XG4gICAgICBsZXQgaSA9IDBcbiAgICAgIGFkZENTU1J1bGUoXG4gICAgICAgIHNoZWV0LFxuICAgICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURX1dICpgLFxuICAgICAgICAndHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICBhZGRDU1NSdWxlKFxuICAgICAgICBzaGVldCxcbiAgICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSwgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dICpgLFxuICAgICAgICAndmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OycsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0gWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV0sIFske1xuICAgICAgICAgIFdlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OycsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV1gLFxuICAgICAgICAncG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDAgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyBmbG9hdDogbm9uZTsgYm94LXNpemluZzpib3JkZXItYm94OyBtaW4td2lkdGg6dmFyKC0teC13aWR0aCk7IG1pbi1oZWlnaHQ6dmFyKC0teC1oZWlnaHQpOyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7JyxcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICBhZGRDU1NSdWxlKFxuICAgICAgICBzaGVldCxcbiAgICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfV1gLFxuICAgICAgICAndG9wOiB2YXIoLS14LWlubGluZS10b3ApICFpbXBvcnRhbnQ7IHdpZHRoOmF1dG8gIWltcG9ydGFudCcsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dYCxcbiAgICAgICAgJ3RyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50OyBsZWZ0OiAwICFpbXBvcnRhbnQ7IHRvcDogMCAhaW1wb3J0YW50OyBtYXJnaW46IDAgIWltcG9ydGFudDsgYm9yZGVyOjAgIWltcG9ydGFudDsgYm9yZGVyLXJhZGl1czowICFpbXBvcnRhbnQ7IGhlaWdodDoxMDAlICFpbXBvcnRhbnQ7IHBhZGRpbmc6MCAhaW1wb3J0YW50OyBwb3NpdGlvbjpmaXhlZCAhaW1wb3J0YW50OyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMCkgbm9uZSAhaW1wb3J0YW50OyBib3gtc2hhZG93Om5vbmUgIWltcG9ydGFudCcsXG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgYWRkQ1NTUnVsZShcbiAgICAgICAgc2hlZXQsXG4gICAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjpiZWZvcmUsIFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19QQVJFTlRfQVRUUklCVVRFfV06OmFmdGVyYCxcbiAgICAgICAgJ2NvbnRlbnQ6bm9uZSAhaW1wb3J0YW50OyBib3gtc2hhZG93Om5vbmUgIWltcG9ydGFudDsnLFxuICAgICAgICBpKytcbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgaWYgKHJvb3ROb2RlID09PSBkb2N1bWVudCkge1xuICAgICAgbGV0IHByZXZpb3VzSGFzaCA9ICcnXG4gICAgICBjb25zdCBvbkhhc2hDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcmV2aW91c0hhc2ggIT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUoKVxuICAgICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSByb290Tm9kZS5xdWVyeVNlbGVjdG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoKVxuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0hhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgICAgfVxuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSwgZmFsc2UpXG4gICAgICBvbkhhc2hDaGFuZ2UoKVxuICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZXZ0LnRhcmdldFxuICAgICAgfSwgZmFsc2UpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gbnVsbFxuICAgICAgfSwgZmFsc2UpXG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlLGxdIG9mIHRoaXMubGF5ZXJzKSBsLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCA9IChub2RlOk5vZGUpID0+IHtcbiAgICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKVxuICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2Yobm9kZU5hbWUpICE9PSAtMSlcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycylcbiAgICB9XG5cbiAgICBjb25zdCBTVFlMRV9OT0RFUyA9IFtcIlNUWUxFXCIsIFwiTElOS1wiXTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2YobS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgICAgIHRoaXMuZW1iZWRkZWRDU1MuZ2V0KGRvY3VtZW50KT8uZGVsZXRlKG0udGFyZ2V0IGFzIEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG0uYWRkZWROb2Rlcykgc2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuc2V0KHJvb3ROb2RlLCBvYnNlcnZlcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1NlcmlhbGl6ZVF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnNlcmlhbGl6ZVF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5zZXJpYWxpemVRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvUmFzdGVyaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMucmFzdGVyaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnJhc3Rlcml6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SZW5kZXJRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmVuZGVyUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBUQVNLX0FTWU5DX01BWF9DT1VOVCA9IDIgLy8gc2luY2UgcmFzdGVyaXphdGlvbiBpcyBhc3luYywgbGltaXQgc2ltdWx0YW5lb3VzIHJhc3Rlcml6YXRpb25zXG4gIHN0YXRpYyBUQVNLX1NZTkNfTUFYX1RJTUUgPSAyMDBcbiAgc3RhdGljIHJhc3Rlcml6ZVRhc2tDb3VudCA9IDBcbiAgcHJpdmF0ZSBzdGF0aWMgX3J1blRhc2tzKCkge1xuICAgIFdlYlJlbmRlcmVyLnRhc2tzUGVuZGluZyA9IGZhbHNlXG4gICAgY29uc3Qgc2VyaWFsaXplUXVldWUgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZVxuICAgIGNvbnN0IHJhc3Rlcml6ZVF1ZXVlID0gV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWVcbiAgICBjb25zdCByZW5kZXJRdWV1ZSA9IFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlXG4gICAgY29uc3QgbWF4U3luY1RpbWUgPSBXZWJSZW5kZXJlci5UQVNLX1NZTkNfTUFYX1RJTUUgLyAyXG4gICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHJlbmRlclF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICByZW5kZXJRdWV1ZS5zaGlmdCgpIS5yZW5kZXIoKVxuICAgIH1cbiAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIHdoaWxlIChzZXJpYWxpemVRdWV1ZS5sZW5ndGggJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUgPCBtYXhTeW5jVGltZSkge1xuICAgICAgc2VyaWFsaXplUXVldWUuc2hpZnQoKSEuc2VyaWFsaXplKClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmFzdGVyaXplUXVldWUubGVuZ3RoICYmXG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPCBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVFxuICAgICkge1xuICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50KytcbiAgICAgIHJhc3Rlcml6ZVF1ZXVlXG4gICAgICAgIC5zaGlmdCgpIVxuICAgICAgICAucmFzdGVyaXplKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudC0tXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRhc2tzUGVuZGluZyA9IGZhbHNlXG4gIFxuICBzdGF0aWMgc2NoZWR1bGVUYXNrc0lmTmVlZGVkKCkge1xuICAgIGlmICh0aGlzLnRhc2tzUGVuZGluZyB8fFxuICAgICAgICAoV2ViUmVuZGVyZXIuc2VyaWFsaXplUXVldWUubGVuZ3RoID09PSAwICYmXG4gICAgICAgIFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiBcbiAgICAgICAgKFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBcbiAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50ID09PSBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVCkpKSByZXR1cm5cbiAgICB0aGlzLnRhc2tzUGVuZGluZyA9IHRydWVcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZUlkbGUoV2ViUmVuZGVyZXIuX3J1blRhc2tzKVxuICB9XG5cbiAgc3RhdGljIHNjaGVkdWxlSWRsZShjYjooZGVhZGxpbmU/OlJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSk9PmFueSkge1xuICAgIC8vIGlmIChcInJlcXVlc3RJZGxlQ2FsbGJhY2tcIiBpbiBzZWxmKSB7XG4gICAgLy8gICByZXF1ZXN0SWRsZUNhbGxiYWNrKGNiKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGNiLDEpXG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIHNldExheWVyTmVlZHNSZWZyZXNoKGxheWVyOiBXZWJMYXllcikge1xuICAgIGxheWVyLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMYXllclRyZWUoZWxlbWVudDogRWxlbWVudCwgaG9zdGluZ09wdGlvbnM6V2ViTGF5ZXJPcHRpb25zLCBldmVudENhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgaWYgKFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSByb290IFdlYkxheWVyIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbHJlYWR5IGV4aXN0cycpXG5cbiAgICBlbnN1cmVFbGVtZW50SXNJbkRvY3VtZW50KGVsZW1lbnQsIGhvc3RpbmdPcHRpb25zKVxuICAgIFdlYlJlbmRlcmVyLmluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQpXG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMpXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5zZXQoZWxlbWVudCwgb2JzZXJ2ZXIpXG4gICAgdGhpcy5zdGFydE11dGF0aW9uT2JzZXJ2ZXIoZWxlbWVudClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0Q2xvc2VzdExheWVyKHJlY29yZC50YXJnZXQpIVxuICAgICAgICBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcnMuc2V0KGVsZW1lbnQsIHJlc2l6ZU9ic2VydmVyKVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIoZWxlbWVudCwgZXZlbnRDYWxsYmFjaylcbiAgICB0aGlzLnJvb3RMYXllcnMuc2V0KGVsZW1lbnQsIGxheWVyKVxuICAgIHJldHVybiBsYXllclxuICB9XG5cbiAgc3RhdGljIGRpc3Bvc2VMYXllcihsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yb290TGF5ZXJzLmhhcyhsYXllci5lbGVtZW50KSkge1xuICAgICAgdGhpcy5yb290TGF5ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChsYXllci5lbGVtZW50KSFcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdGhpcy5yZXNpemVPYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQ6IEVsZW1lbnQsIGluY2x1c2l2ZT10cnVlKTogV2ViTGF5ZXIgfCB1bmRlZmluZWQge1xuICAgIGxldCB0YXJnZXRFbGVtZW50ID0gaW5jbHVzaXZlID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGNvbnN0IGNsb3Nlc3RMYXllckVsZW1lbnQgPSB0YXJnZXRFbGVtZW50Py5jbG9zZXN0KGBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XWApIGFzIEhUTUxFbGVtZW50XG4gICAgaWYgKCFjbG9zZXN0TGF5ZXJFbGVtZW50KSB7XG4gICAgICBjb25zdCBob3N0ID0gKGVsZW1lbnQ/LmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdCkuaG9zdFxuICAgICAgaWYgKGhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xvc2VzdExheWVyKGhvc3QsIGluY2x1c2l2ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmdldChjbG9zZXN0TGF5ZXJFbGVtZW50ISlcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUNTU1RyYW5zZm9ybShjb21wdXRlZFN0eWxlOkNTU1N0eWxlRGVjbGFyYXRpb24sIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgcGl4ZWxTaXplOm51bWJlciwgb3V0ID0gbmV3IE1hdHJpeDQoKSkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNvbXB1dGVkU3R5bGUudHJhbnNmb3JtXG4gICAgY29uc3QgdHJhbnNmb3JtT3JpZ2luID0gY29tcHV0ZWRTdHlsZS50cmFuc2Zvcm1PcmlnaW5cblxuICAgIGlmICh0cmFuc2Zvcm0uaW5kZXhPZignbWF0cml4KCcpID09IDApIHtcbiAgICAgIG91dC5pZGVudGl0eSgpXG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoNywgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZWxlbWVudHNbMF0gPSBtYXRbMF1cbiAgICAgIG91dC5lbGVtZW50c1sxXSA9IG1hdFsxXVxuICAgICAgb3V0LmVsZW1lbnRzWzRdID0gbWF0WzJdXG4gICAgICBvdXQuZWxlbWVudHNbNV0gPSBtYXRbM11cbiAgICAgIG91dC5lbGVtZW50c1sxMl0gPSBtYXRbNF1cbiAgICAgIG91dC5lbGVtZW50c1sxM10gPSBtYXRbNV1cbiAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCdtYXRyaXgzZCgnKSA9PSAwKSB7XG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtXG4gICAgICAgIC5zdWJzdHJpbmcoOSwgdHJhbnNmb3JtLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZnJvbUFycmF5KG1hdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAob3V0LmVsZW1lbnRzWzBdID09PSAwKSBvdXQuZWxlbWVudHNbMF0gPSAxZS0xNVxuICAgIGlmIChvdXQuZWxlbWVudHNbNV0gPT09IDApIG91dC5lbGVtZW50c1s1XSA9IDFlLTE1XG4gICAgaWYgKG91dC5lbGVtZW50c1sxMF0gPT09IDApIG91dC5lbGVtZW50c1sxMF0gPSAxZS0xNVxuICAgIG91dC5lbGVtZW50c1sxMl0gKj0gcGl4ZWxTaXplXG4gICAgb3V0LmVsZW1lbnRzWzEzXSAqPSBwaXhlbFNpemUgKiAtMVxuXG4gICAgdmFyIG9yaWdpbiA9IHRyYW5zZm9ybU9yaWdpbi5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KVxuXG4gICAgdmFyIG94ID0gKG9yaWdpblswXSAtIHdpZHRoLzIpICogcGl4ZWxTaXplXG4gICAgdmFyIG95ID0gKG9yaWdpblsxXSAtIGhlaWdodC8yKSAqIHBpeGVsU2l6ZSAqIC0xXG4gICAgdmFyIG96ID0gb3JpZ2luWzJdIHx8IDBcblxuICAgIHZhciBUMSA9IHNjcmF0Y2hNYXQxLmlkZW50aXR5KCkubWFrZVRyYW5zbGF0aW9uKC1veCwgLW95LCAtb3opXG4gICAgdmFyIFQyID0gc2NyYXRjaE1hdDIuaWRlbnRpdHkoKS5tYWtlVHJhbnNsYXRpb24ob3gsIG95LCBveilcblxuICAgIGZvciAoY29uc3QgZSBvZiBvdXQuZWxlbWVudHMpIHtcbiAgICAgIGlmIChpc05hTihlKSkgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0LnByZW11bHRpcGx5KFQyKS5tdWx0aXBseShUMSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlbWJlZEV4dGVybmFsUmVzb3VyY2VzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKVxuICAgIC8vIFRPRE86IGp1c3Qgc2F2ZSB0aGUgc2VyaWFsaXplZCByZXNvdXJjZXMgd2l0aG91dCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIGVsZW1lbnRzXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBsaW5rID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChsaW5rKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdocmVmJylcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTClcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTUcnICYmIGltZ0VsZW1lbnQuc3JjLnN1YnN0cigwLCA0KSAhPSAnZGF0YScpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBXZWJSZW5kZXJlci5nZXREYXRhVVJMKGltZ0VsZW1lbnQuc3JjKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3R5bGUnKSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAhPSBjc3MpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNzcylcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKVxuICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBXZWJSZW5kZXJlci5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBzdHlsZS5pbm5lckhUTUwpLnRoZW4oY3NzID0+IHtcbiAgICAgICAgICBpZiAoc3R5bGUuaW5uZXJIVE1MICE9IGNzcykgc3R5bGUuaW5uZXJIVE1MID0gY3NzXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIHN0YXRpYyBwYXVzZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJzID0gV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMudmFsdWVzKClcbiAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMobS50YWtlUmVjb3JkcygpKVxuICAgICAgbS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVzdW1lTXV0YXRpb25PYnNlcnZlcnMoKSB7XG4gICAgZm9yIChjb25zdCBbZV0gb2YgV2ViUmVuZGVyZXIubXV0YXRpb25PYnNlcnZlcnMpIHtcbiAgICAgIHRoaXMuc3RhcnRNdXRhdGlvbk9ic2VydmVyKGUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RhcnRNdXRhdGlvbk9ic2VydmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChlbGVtZW50KSFcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9oYW5kbGVNdXRhdGlvbnMgPSAocmVjb3JkczogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUocmVjb3JkLmF0dHJpYnV0ZU5hbWUhKSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gcmVjb3JkLnRhcmdldCBhcyBDaGFyYWN0ZXJEYXRhXG4gICAgICAgIGlmICh0YXJnZXQuZGF0YSA9PT0gcmVjb3JkLm9sZFZhbHVlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID1cbiAgICAgICAgcmVjb3JkLnRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbiAgICAgICAgICA/IChyZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIDogcmVjb3JkLnRhcmdldC5wYXJlbnRFbGVtZW50XG4gICAgICBpZiAoIXRhcmdldCkgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRhcmdldClcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcmVjb3JkLm9sZFZhbHVlID8gcmVjb3JkLm9sZFZhbHVlIDogJydcbiAgICAgICAgY29uc3QgY3VycmVudENsYXNzZXMgPSAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xhc3NOYW1lXG4gICAgICAgIGlmIChvbGRDbGFzc2VzID09PSBjdXJyZW50Q2xhc3NlcykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIGxheWVyLnRyYXZlcnNlUGFyZW50TGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKSAvLyBtYXkgYmUgbmVlZGVkIHRvIHN1cHBvcnQgOmZvY3VzLXdpdGhpbigpIGFuZCBmdXR1cmUgOmhhcygpIHNlbGVjdG9yIHN1cHBvcnRcbiAgICAgIGxheWVyLnBhcmVudExheWVyXG4gICAgICAgID8gbGF5ZXIucGFyZW50TGF5ZXIudHJhdmVyc2VDaGlsZExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgOiBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfdHJpZ2dlclJlZnJlc2ggPSBhc3luYyAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlLnRhcmdldCBhcyBhbnkpIVxuICAgIC8vIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhlLnRhcmdldCBhcyBhbnkpXG4gICAgaWYgKGxheWVyKSB7XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKGRvYzpEb2N1bWVudHxTaGFkb3dSb290KSB7XG4gICAgY29uc3Qgc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gc2hlZXRzW2ldIGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgY29uc3QgcnVsZXMgPSBzaGVldC5jc3NSdWxlc1xuICAgICAgICBpZiAoIXJ1bGVzKSBjb250aW51ZVxuICAgICAgICBjb25zdCBuZXdSdWxlcyA9IFtdXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6aG92ZXInKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuSE9WRVJfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmFjdGl2ZScpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6YWN0aXZlJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkFDVElWRV9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzpmb2N1cycpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2gocnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIGBbJHtXZWJSZW5kZXJlci5GT0NVU19BVFRSSUJVVEV9XWApKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6dGFyZ2V0JykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChcbiAgICAgICAgICAgICAgcnVsZXNbal0uY3NzVGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuVEFSR0VUX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IG5ld1J1bGVzLmluZGV4T2YocnVsZXNbal0uY3NzVGV4dClcbiAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnNwbGljZShpZHgsIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3UnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG5ld1J1bGVzW2pdKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ5dGVzOlVpbnQ4QXJyYXkpIHtcbiAgICB2YXIgYmluYXJ5ID0gJydcbiAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKVxuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KVxuICB9XG5cbiAgc3RhdGljIGF0dHJpYnV0ZUNTUyhuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGBbJHtuYW1lfV09JHt2YWx1ZX1gIDogYFske25hbWV9XWBcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVIVE1MKG5hbWU6c3RyaW5nLCB2YWx1ZT86c3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gYCR7bmFtZX09XCIke3ZhbHVlfVwiYCA6IGAke25hbWV9PVwiXCJgXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVFbWJlZGRlZENTUyh1cmw6c3RyaW5nLCBjc3M6c3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgZm91bmRcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAvLyBBZGQgY2xhc3NlcyBmb3IgcHN1ZWRvLWNsYXNzZXNcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6aG92ZXInLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkhPVkVSX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuQUNUSVZFX0FUVFJJQlVURSkpXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmZvY3VzJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5GT0NVU19BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzp0YXJnZXQnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLlRBUkdFVF9BVFRSSUJVVEUpKVxuXG4gICAgLy8gUmVwbGFjZSBhbGwgdXJscyBpbiB0aGUgY3NzXG4gICAgY29uc3QgcmVnRXggPSBSZWdFeHAoL3VybFxcKCg/IVsnXCJdPyg/OmRhdGEpOilbJ1wiXT8oW14nXCJcXCldKilbJ1wiXT9cXCkvZ2kpXG4gICAgd2hpbGUgKChmb3VuZCA9IHJlZ0V4LmV4ZWMoY3NzKSkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlVVJMID0gZm91bmRbMV1cbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMuZ2V0RGF0YVVSTChuZXcgVVJMKHJlc291cmNlVVJMLCB1cmwpLmhyZWYpLnRoZW4oZGF0YVVSTCA9PiB7XG4gICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UocmVzb3VyY2VVUkwsIGRhdGFVUkwpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgcmV0dXJuIGNzc1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVSTCh1cmw6c3RyaW5nLCBhY2NlcHQ/OnN0cmluZyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWZcbiAgICByZXR1cm4gbmV3IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+KHJlc29sdmUgPT4ge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG4gICAgICBpZiAoYWNjZXB0KSB4aHIuc2V0UmVxdWVzdEhlYWRlcignYWNjZXB0JywgYWNjZXB0KVxuXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJ1xuXG4gICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHhocilcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoeGhyKVxuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZCgpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGVtYmVkZGVkQ1NTID0gbmV3IE1hcDxTaGFkb3dSb290fERvY3VtZW50LCBNYXA8RWxlbWVudCwgUHJvbWlzZTxzdHJpbmc+Pj4oKVxuXG4gIHN0YXRpYyBhc3luYyBnZXRSZW5kZXJpbmdDU1MoZWw6RWxlbWVudCkge1xuICAgIGNvbnN0IHJvb3ROb2RlID0gZWwuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290fERvY3VtZW50XG4gICAgY29uc3QgZW1iZWRkZWQgPSB0aGlzLmVtYmVkZGVkQ1NTLmdldChyb290Tm9kZSkgfHwgbmV3IE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+KClcbiAgICB0aGlzLmVtYmVkZGVkQ1NTLnNldChyb290Tm9kZSwgZW1iZWRkZWQpXG5cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZSwgbGlua1t0eXBlPSd0ZXh0L2NzcyddLCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIpXG4gICAgKSBhcyAoSFRNTFN0eWxlRWxlbWVudHxIVE1MTGlua0VsZW1lbnQpW11cbiAgICBzdHlsZUVsZW1lbnRzLnB1c2godGhpcy5yZW5kZXJpbmdTdHlsZUVsZW1lbnQpXG4gICAgXG4gICAgLy8gaWYgd2UgYXJlIGluc2lkZSBzaGFkb3cgZG9tLCB3ZSBoYXZlIHRvIGNsb25lIHRoZSBmb250cyBpbnRvIHRoZSBsaWdodCBkb20gdG8gbG9hZCBmb250cyBpbiBDaHJvbWUvRmlyZWZveFxuICAgIGNvbnN0IGluU2hhZG93ID0gZWwuZ2V0Um9vdE5vZGUoKSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3RcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTaGVldFJ1bGVzKHJ1bGVzOkNTU1J1bGVMaXN0KSB7XG4gICAgICBsZXQgYWxsUnVsZXMgPSAnJ1xuICAgICAgbGV0IGZvbnRSdWxlcyA9ICcnXG4gICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5GT05UX0ZBQ0VfUlVMRSkge1xuICAgICAgICAgIGZvbnRSdWxlcyArPSAnXFxuXFxuJyArIHJ1bGUuY3NzVGV4dFxuICAgICAgICB9XG4gICAgICAgIGFsbFJ1bGVzICs9ICdcXG5cXG4nICsgcnVsZS5jc3NUZXh0XG4gICAgICB9XG4gICAgICByZXR1cm4ge2FsbFJ1bGVzLCBmb250UnVsZXN9XG4gICAgfVxuXG4gICAgbGV0IGZvdW5kTmV3U3R5bGVzID0gZmFsc2VcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3R5bGVFbGVtZW50cykge1xuICAgICAgaWYgKCFlbWJlZGRlZC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgZm91bmROZXdTdHlsZXMgPSB0cnVlXG4gICAgICAgIGVtYmVkZGVkLnNldChlbGVtZW50LCBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zaGVldCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvYWRpbmcpXG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2Nlc3NTaGVldFJ1bGVzKGVsZW1lbnQuc2hlZXQucnVsZXMpXG4gICAgICAgICAgICAgIGlmIChpblNoYWRvdyAmJiByZXN1bHQuZm9udFJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFN0eWxlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICAgICAgICAgICAgICBmb250U3R5bGVzLmlubmVySFRNTCA9IHJlc3VsdC5mb250UnVsZXNcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGZvbnRTdHlsZXMpXG4gICAgICAgICAgICAgICAgZW1iZWRkZWQuc2V0KGZvbnRTdHlsZXMsIFByb21pc2UucmVzb2x2ZSgnJykpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0LmFsbFJ1bGVzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sMTApXG4gICAgICAgIH0pLnRoZW4oKGNzc1RleHQpID0+IHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzVGV4dCkpKVxuICAgICAgICAvLyAgIGVtYmVkZGVkLnNldChcbiAgICAgICAgLy8gICAgIGVsZW1lbnQsXG4gICAgICAgIC8vICAgICB0aGlzLmdldFVSTChlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpISwgJ3RleHQvY3NzJykudGhlbih4aHIgPT4ge1xuICAgICAgICAvLyAgICAgICBpZiAoIXhoci5yZXNwb25zZSkgcmV0dXJuICcnXG4gICAgICAgIC8vICAgICAgIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgICAgICAvLyAgICAgICB2YXIgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKHhoci5yZXNwb25zZSlcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzKVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICApXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIChmb3VuZE5ld1N0eWxlcykgdGhpcy5fYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMocm9vdE5vZGUpXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGVtYmVkZGVkLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYW5kIHJldHVybnMgYSBkYXRhdXJsIGZvciB0aGUgZ2l2ZW4gdXJsXG4gIHN0YXRpYyBhc3luYyBnZXREYXRhVVJMKHVybDpzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHhociA9IGF3YWl0IHRoaXMuZ2V0VVJMKHVybClcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpXG4gICAgY29uc3QgY29udGVudFR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpPy5zcGxpdCgnOycpWzBdXG4gICAgaWYgKGNvbnRlbnRUeXBlID09ICd0ZXh0L2NzcycpIHtcbiAgICAgIGxldCBjc3MgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoYXJyKVxuICAgICAgY3NzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUVtYmVkZGVkQ1NTKHVybCwgY3NzKVxuICAgICAgY29uc3QgYmFzZTY0ID0gd2luZG93LmJ0b2EoY3NzKVxuICAgICAgaWYgKGJhc2U2NC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiAnZGF0YTonICsgY29udGVudFR5cGUgKyAnO2Jhc2U2NCwnICsgYmFzZTY0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJydcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGF0YVVSTCA9ICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyB0aGlzLmFycmF5QnVmZmVyVG9CYXNlNjQoYXJyKVxuICAgICAgaWYgKGNvbnRlbnRUeXBlPy5zdGFydHNXaXRoKCdpbWFnZScpKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIGJyb3dzZXIgcHJlLXByb2Nlc3MgdGhlIGltYWdlIGRhdGFcbiAgICAgICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgbGV0IHJlc29sdmVSZW5kZXJlZDooKSA9PiB2b2lkXG4gICAgICAgIGNvbnN0IG9uUmVuZGVyZWQgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICByZXNvbHZlUmVuZGVyZWQgPSByZXNvbHZlXG4gICAgICAgICAgbG9hZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb2FkZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBmdW5jdGlvbiBsb2FkZWQoKSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcmVkKVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcmVkKCkge1xuICAgICAgICAgIHJlc29sdmVSZW5kZXJlZCgpXG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyLnNyYyA9IGRhdGFVUkxcbiAgICAgICAgYXdhaXQgb25SZW5kZXJlZFxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGFVUkxcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlSW5wdXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCdpbnB1dCcpKSB0aGlzLl91cGRhdGVJbnB1dEF0dHJpYnV0ZShlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpXG4gICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JykpIHRoaXMuX3VwZGF0ZUlucHV0QXR0cmlidXRlKGUpXG4gIH1cblxuICBzdGF0aWMgX3VwZGF0ZUlucHV0QXR0cmlidXRlKGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCkge1xuICAgIGlmIChpbnB1dEVsZW1lbnQuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgIGlmICghaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5wdXRFbGVtZW50LmNoZWNrZWQpIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJylcbiAgICB9XG4gICAgaWYgKGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgIT09IGlucHV0RWxlbWVudC52YWx1ZSkge1xuICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBpbnB1dEVsZW1lbnQudmFsdWUpXG4gICAgfVxuICB9XG5cbiAgLy8gc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCkge1xuICAvLyAgIC8vIGNvbnN0IGxheWVyID0gdGhpcy5sYXllcnMuZ2V0KGVsZW1lbnQpXG4gIC8vICAgcmV0dXJuIChcbiAgLy8gICAgIGAke3RoaXMuY29udGFpbnNIb3ZlcihlbGVtZW50KSA/IGAke3RoaXMuSE9WRVJfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuZm9jdXNFbGVtZW50KSA/IGAke3RoaXMuRk9DVVNfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMuYWN0aXZlRWxlbWVudCkgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgLy8gICAgIGAke2VsZW1lbnQuY29udGFpbnModGhpcy50YXJnZXRFbGVtZW50KSA/IGAke3RoaXMuVEFSR0VUX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWBcbiAgLy8gICApXG4gIC8vIH1cblxuICBzdGF0aWMgaXNCbGFua0ltYWdlKGltYWdlRGF0YTpVaW50OENsYW1wZWRBcnJheSkge1xuICAgICAgY29uc3QgcGl4ZWxCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkoaW1hZ2VEYXRhLmJ1ZmZlcilcbiAgICAgIHJldHVybiAhcGl4ZWxCdWZmZXIuc29tZShjb2xvciA9PiBjb2xvciAhPT0gMCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIF9USFJFRSBmcm9tICd0aHJlZSdcblxuaWYgKHNlbGYuVEhSRUUpIHtcbiAgdmFyIFRIUkVFID0gc2VsZi5USFJFRVxufSBlbHNlIHtcbiAgdmFyIFRIUkVFID0gX1RIUkVFXG59XG5cbmltcG9ydCB7IFdlYkxheWVyfSBmcm9tICcuLi9XZWJMYXllcidcbmltcG9ydCB7IFdlYlJlbmRlcmVyLCBXZWJMYXllck9wdGlvbnMgfSBmcm9tICcuLi9XZWJSZW5kZXJlcidcblxuaW1wb3J0IHtCb3VuZHMsIGdldEJvdW5kcywgZ2V0Vmlld3BvcnRCb3VuZHMsIHRyYXZlcnNlQ2hpbGRFbGVtZW50cywgRE9NIH0gZnJvbSAnLi4vZG9tLXV0aWxzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYkxheWVyM0RPcHRpb25zIGV4dGVuZHMgV2ViTGF5ZXJPcHRpb25zIHtcbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuICBsYXllclNlcGFyYXRpb24/OiBudW1iZXJcbiAgYXV0b1JlZnJlc2g/OiBib29sZWFuXG4gIG9uTGF5ZXJDcmVhdGU/KGxheWVyOiBXZWJMYXllcjNEQ29udGVudCk6IHZvaWRcbiAgb25BZnRlclJhc3Rlcml6ZT8obGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KTogdm9pZCxcbiAgdGV4dHVyZUVuY29kaW5nPzogbnVtYmVyLFxuICByZW5kZXJPcmRlck9mZnNldD86IG51bWJlclxufVxuXG5leHBvcnQge1RIUkVFfVxuXG50eXBlIEludGVyc2VjdGlvbiA9IFRIUkVFLkludGVyc2VjdGlvbiAmIHtncm91cE9yZGVyOm51bWJlcn1cblxuZXhwb3J0IHR5cGUgV2ViTGF5ZXJIaXQgPSBSZXR1cm5UeXBlPHR5cGVvZiBXZWJMYXllcjNELnByb3RvdHlwZS5oaXRUZXN0PiAmIHt9XG5cbmNvbnN0IHNjcmF0Y2hNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NFxuY29uc3Qgc2NyYXRjaFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IHNjcmF0Y2hWZWN0b3IyID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kcyA9IG5ldyBCb3VuZHMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kczIgPSBuZXcgQm91bmRzKClcblxuY29uc3QgT05fQkVGT1JFX1VQREFURSA9IFN5bWJvbCgnT05fQkVGT1JFX1VQREFURScpXG5cbmV4cG9ydCBjbGFzcyBXZWJMYXllcjNEQ29udGVudCBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICBwdWJsaWMgaXNSb290ID0gZmFsc2VcblxuICBwcml2YXRlIF9jYW1lcmE/OlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhXG5cbiAgY29uc3RydWN0b3IocHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsIHB1YmxpYyBvcHRpb25zOiBXZWJMYXllcjNET3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMubmFtZSA9IGVsZW1lbnQuaWRcbiAgICB0aGlzLl93ZWJMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSFcblxuICAgIHRoaXMuYWRkKHRoaXMuY29udGVudE1lc2gpXG4gICAgdGhpcy5hZGQodGhpcy5fYm91bmRzTWVzaClcbiAgICB0aGlzLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBcbiAgICB0aGlzLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICB0aGlzLmNvbnRlbnRNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG4gICAgdGhpcy5jb250ZW50TWVzaC52aXNpYmxlID0gZmFsc2VcbiAgICB0aGlzLmNvbnRlbnRNZXNoWydjdXN0b21EZXB0aE1hdGVyaWFsJ10gPSB0aGlzLmRlcHRoTWF0ZXJpYWxcbiAgICB0aGlzLmNvbnRlbnRNZXNoLm9uQmVmb3JlUmVuZGVyID0gKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSA9PiB7XG4gICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmEgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmFcbiAgICB9XG5cbiAgICB0aGlzLl9ib3VuZHNNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5zZXQodGhpcy5lbGVtZW50LCB0aGlzKVxuICAgIFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoLnNldCh0aGlzLmNvbnRlbnRNZXNoLCB0aGlzKVxuICB9XG5cbiAgcHJvdGVjdGVkIF93ZWJMYXllciA6IFdlYkxheWVyXG5cbiAgcHJpdmF0ZSBfbG9jYWxaID0gMFxuICBwcml2YXRlIF92aWV3WiA9IDBcbiAgcHJpdmF0ZSBfcmVuZGVyWiA9IDBcblxuICB0ZXh0dXJlcyA9IG5ldyBNYXA8SFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50LCBUSFJFRS5UZXh0dXJlPigpXG5cbiAgZ2V0IGN1cnJlbnRUZXh0dXJlKCkge1xuICAgIGlmICh0aGlzLl93ZWJMYXllci5lbGVtZW50LnRhZ05hbWUgPT09ICdWSURFTycpIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy5fd2ViTGF5ZXIuZWxlbWVudCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgICBsZXQgdCA9IHRoaXMudGV4dHVyZXMuZ2V0KHZpZGVvKVxuICAgICAgaWYgKCF0KSB7XG4gICAgICAgIHQgPSBuZXcgVEhSRUUuVmlkZW9UZXh0dXJlKHZpZGVvKVxuICAgICAgICB0LndyYXBTID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgICB0LndyYXBUID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgICB0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZykgdC5lbmNvZGluZyA9IHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmdcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5zZXQodmlkZW8sIHQpXG4gICAgICB9XG4gICAgICByZXR1cm4gdFxuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX3dlYkxheWVyLmNhbnZhc1xuICAgIGxldCB0ID0gdGhpcy50ZXh0dXJlcy5nZXQoY2FudmFzKVxuICAgIGlmICghdCkge1xuICAgICAgdCA9IG5ldyBUSFJFRS5UZXh0dXJlKGNhbnZhcylcbiAgICAgIHQubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB0LndyYXBTID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgdC53cmFwVCA9IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmdcbiAgICAgIHQubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZykgdC5lbmNvZGluZyA9IHRoaXMub3B0aW9ucy50ZXh0dXJlRW5jb2RpbmdcbiAgICAgIHRoaXMudGV4dHVyZXMuc2V0KGNhbnZhcywgdClcbiAgICB9XG4gICAgcmV0dXJuIHRcbiAgfVxuXG4gIHRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG5cbiAgY29udGVudE1lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICBXZWJMYXllcjNELkdFT01FVFJZLFxuICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlLFxuICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIGFscGhhVGVzdDogMC4wMDEsXG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSlcbiAgKVxuXG4gIC8qKlxuICAgKiBUaGlzIG5vbi12aXNpYmxlIG1lc2ggZW5zdXJlcyB0aGF0IGFuIGFkYXB0ZWQgbGF5ZXIgcmV0YWluc1xuICAgKiBpdHMgaW5uZXJCb3VuZHMsIGV2ZW4gaWYgdGhlIGNvbnRlbnQgbWVzaCBpc1xuICAgKiBpbmRlcGVuZGVudGx5IGFkYXB0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9ib3VuZHNNZXNoID0gbmV3IFRIUkVFLk1lc2goXG4gICAgV2ViTGF5ZXIzRC5HRU9NRVRSWSxcbiAgICBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY3Vyc29yID0gbmV3IFRIUkVFLk9iamVjdDNEKClcblxuICAvKipcbiAgICogQWxsb3dzIGNvcnJlY3Qgc2hhZG93IG1hcHNcbiAgICovXG4gIGRlcHRoTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaERlcHRoTWF0ZXJpYWwoe1xuICAgIGRlcHRoUGFja2luZzogVEhSRUUuUkdCQURlcHRoUGFja2luZyxcbiAgICBhbHBoYVRlc3Q6IDAuMDAxXG4gIH0pXG5cbiAgZG9tTGF5b3V0ID0gbmV3IFRIUkVFLk9iamVjdDNEKClcbiAgZG9tU2l6ZSA9IG5ldyBUSFJFRS5WZWN0b3IzKDEsMSwxKVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGhvdmVyIHN0YXRlXG4gICAqL1xuICBnZXQgcHNldWRvU3RhdGVzKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5wc2V1ZG9TdGF0ZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIGRlcHRoIChkaXN0YW5jZSBmcm9tIHRoaXMgbGF5ZXIncyBlbGVtZW50IGFuZCB0aGUgcGFyZW50IGxheWVyJ3MgZWxlbWVudClcbiAgICovXG4gIGdldCBkZXB0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIuZGVwdGhcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZ2V0IGluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudFdlYkxheWVyID8gdGhpcy5wYXJlbnRXZWJMYXllci5jaGlsZFdlYkxheWVycy5pbmRleE9mKHRoaXMpIDogMFxuICB9XG5cbiAgZ2V0IG5lZWRzUmVmcmVzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIubmVlZHNSZWZyZXNoXG4gIH1cblxuICBzZXROZWVkc1JlZnJlc2goKSB7XG4gICAgdGhpcy5fd2ViTGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gIH1cblxuICAvKiogSWYgdHJ1ZSwgdGhpcyBsYXllciBuZWVkcyB0byBiZSByZW1vdmVkIGZyb20gdGhlIHNjZW5lICovXG4gIGdldCBuZWVkc1JlbW92YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLm5lZWRzUmVtb3ZhbFxuICB9XG5cbiAgZ2V0IGJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIuYm91bmRzXG4gIH1cblxuICBnZXQgcGFyZW50V2ViTGF5ZXIoKTogV2ViTGF5ZXIzRENvbnRlbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl93ZWJMYXllci5wYXJlbnRMYXllciAmJlxuICAgICAgV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRoaXMuX3dlYkxheWVyLnBhcmVudExheWVyLmVsZW1lbnQpXG4gICAgKVxuICB9XG5cbiAgY2hpbGRXZWJMYXllcnM6IFdlYkxheWVyM0RDb250ZW50W10gPSBbXVxuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhlIERPTSBsYXlvdXQgc2hvdWxkIGJlIGFwcGxpZWQuXG4gICAqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIGFsd2F5cyBiZSBhcHBsaWVkLlxuICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgbmV2ZXIgYmUgYXBwbGllZC5cbiAgICogV2hlbiBzZXQgdG8gYCdhdXRvJ2AsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBvbmx5IGJlIGFwcGxpZWRcbiAgICogd2hlbiB0aGUgYHBhcmVudExheWVyYCBpcyB0aGUgc2FtZSBhcyB0aGUgYHBhcmVudGAgb2JqZWN0LlxuICAgKlxuICAgKiBJdCBpcyB0aGUgcmVzcG9uc2liaWx0aXkgb2YgdGhlIHVwZGF0ZSBjYWxsYmFja1xuICAgKiB0byBmb2xsb3cgdGhlc2UgcnVsZXMuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGBhdXRvYFxuICAgKi9cbiAgc2hvdWxkQXBwbHlET01MYXlvdXQ6IHRydWUgfCBmYWxzZSB8ICdhdXRvJyA9ICdhdXRvJ1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoIGZyb20gRE9NXG4gICAqL1xuICBwdWJsaWMgcmVmcmVzaChyZWN1cnNlPWZhbHNlKSB7XG4gICAgdGhpcy5fd2ViTGF5ZXIucmVmcmVzaCgpXG4gICAgdGhpcy5jaGlsZFdlYkxheWVycy5sZW5ndGggPSAwXG4gICAgZm9yIChjb25zdCBjIG9mIHRoaXMuX3dlYkxheWVyLmNoaWxkTGF5ZXJzKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50XG4gICAgICAgIC5nZXQoV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKGMuZWxlbWVudCk/LmVsZW1lbnQhKVxuICAgICAgaWYgKCFjaGlsZCkgY29udGludWVcbiAgICAgIHRoaXMuY2hpbGRXZWJMYXllcnMucHVzaChjaGlsZClcbiAgICAgIGlmIChyZWN1cnNlKSBjaGlsZC5yZWZyZXNoKHJlY3Vyc2UpXG4gICAgfVxuICAgIHRoaXMuX3JlZnJlc2hWaWRlb0JvdW5kcygpXG4gICAgdGhpcy5fcmVmcmVzaERPTUxheW91dCgpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUxheW91dCgpIHtcblxuICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcblxuICAgICAgdGhpcy5fbG9jYWxaID0gTWF0aC5hYnMoXG4gICAgICAgIHNjcmF0Y2hWZWN0b3Iuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4KS56ICsgXG4gICAgICAgIHNjcmF0Y2hWZWN0b3Iuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMuY29udGVudE1lc2gubWF0cml4KS56KVxuICAgICAgdGhpcy5fdmlld1ogPSBNYXRoLmFicyh0aGlzLmNvbnRlbnRNZXNoLmdldFdvcmxkUG9zaXRpb24oc2NyYXRjaFZlY3RvcikuYXBwbHlNYXRyaXg0KHRoaXMuX2NhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpLnopXG4gICAgICBcbiAgICAgIGxldCBwYXJlbnRSZW5kZXJaID0gdGhpcy5wYXJlbnRXZWJMYXllciA/IHRoaXMucGFyZW50V2ViTGF5ZXIuX3JlbmRlclogOiB0aGlzLl92aWV3WlxuICAgICAgXG4gICAgICBpZiAodGhpcy5fbG9jYWxaIDwgMWUtMykgeyAvLyBjb3BsYW5hcj8gdXNlIHBhcmVudCByZW5kZXJaXG4gICAgICAgIHRoaXMuX3JlbmRlclogPSBwYXJlbnRSZW5kZXJaXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJaID0gdGhpcy5fdmlld1pcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmNvbnRlbnRNZXNoLnJlbmRlck9yZGVyID0gKHRoaXMub3B0aW9ucy5yZW5kZXJPcmRlck9mZnNldCB8fCAwKSArIFxuICAgICAgICAoMSAtIE1hdGgubG9nKHRoaXMuX3JlbmRlclogKyAxKSAvIE1hdGgubG9nKHRoaXMuX2NhbWVyYS5mYXIgKyAxKSkrXG4gICAgICAgICh0aGlzLmRlcHRoICsgdGhpcy5pbmRleCAqIDAuMDAxKSowLjAwMDAwMDFcbiAgXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDb250ZW50KCkge1xuICAgIGNvbnN0IG1lc2ggPSB0aGlzLmNvbnRlbnRNZXNoXG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY3VycmVudFRleHR1cmVcbiAgICBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWxcbiAgICBpZiAodGV4dHVyZS5pbWFnZSAmJiBtYXRlcmlhbC5tYXAgIT09IHRleHR1cmUpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRTY2FsZSA9IHRoaXMuY29udGVudE1lc2guc2NhbGVcbiAgICAgIGNvbnN0IGFzcGVjdCA9IE1hdGguYWJzKGNvbnRlbnRTY2FsZS54ICogdGhpcy5zY2FsZS54IC8gY29udGVudFNjYWxlLnkgKiB0aGlzLnNjYWxlLnkpXG4gICAgICBjb25zdCB0YXJnZXRBc3BlY3QgPSB0aGlzLmRvbVNpemUueCAvIHRoaXMuZG9tU2l6ZS55XG4gICAgICBpZiAoTWF0aC5hYnModGFyZ2V0QXNwZWN0LWFzcGVjdCkgPCAxZTMpIHtcbiAgICAgICAgbWF0ZXJpYWwubWFwID0gdGV4dHVyZVxuICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWxbJ21hcCddID0gdGV4dHVyZVxuICAgICAgICBpZiAodGhpcy50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlXG4gICAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgICAgdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlXG5cbiAgICAvLyBoYW5kbGUgbGF5ZXIgdmlzaWJpbHRpeSBvciByZW1vdmFsXG4gICAgY29uc3QgbWF0ID0gbWVzaC5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFxuICAgIGNvbnN0IGlzSGlkZGVuID0gbWF0Lm9wYWNpdHkgPCAwLjAwNVxuICAgIGlmIChpc0hpZGRlbikgbWVzaC52aXNpYmxlID0gZmFsc2VcbiAgICBlbHNlIGlmIChtZXNoLm1hdGVyaWFsLm1hcCkgbWVzaC52aXNpYmxlID0gdHJ1ZVxuICAgIGlmICh0aGlzLm5lZWRzUmVtb3ZhbCAmJiBpc0hpZGRlbikge1xuICAgICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5yZW1vdmUodGhpcylcbiAgICAgIHRoaXMuZGlzcG9zZSgpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHJvb3RXZWJMYXllcigpIHtcbiAgICByZXR1cm4gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRoaXMuX3dlYkxheWVyLnJvb3RMYXllci5lbGVtZW50KSFcbiAgfVxuXG4gIC8qKiBJTlRFUk5BTCAqL1xuICBwcml2YXRlIFtPTl9CRUZPUkVfVVBEQVRFXSgpIHt9XG5cbiAgcHJvdGVjdGVkIF9kb1VwZGF0ZSgpIHtcbiAgICB0aGlzW09OX0JFRk9SRV9VUERBVEVdKClcbiAgICAvLyBjb250ZW50IG11c3QgdXBkYXRlIGJlZm9yZSBsYXlvdXRcbiAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKVxuICAgIHRoaXMudXBkYXRlTGF5b3V0KClcblxuICAgIHRoaXMucG9zaXRpb24uY29weSh0aGlzLmRvbUxheW91dC5wb3NpdGlvbilcbiAgICB0aGlzLnF1YXRlcm5pb24uY29weSh0aGlzLmRvbUxheW91dC5xdWF0ZXJuaW9uKVxuICAgIHRoaXMuc2NhbGUuY29weSh0aGlzLmRvbUxheW91dC5zY2FsZSlcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnNjYWxlLmNvcHkodGhpcy5kb21TaXplKVxuICAgIHRoaXMuY29udGVudE1lc2gucXVhdGVybmlvbi5zZXQoMCwwLDAsMSlcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnBvc2l0aW9uLnNldCgwLDAsMClcbiAgICB0aGlzLl9ib3VuZHNNZXNoLnNjYWxlLmNvcHkodGhpcy5kb21TaXplKVxuICAgIHRoaXMuX2JvdW5kc01lc2gucXVhdGVybmlvbi5zZXQoMCwwLDAsMSlcblxuICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaCAmJiB0aGlzLm9wdGlvbnMuYXV0b1JlZnJlc2ggIT09IGZhbHNlKSBcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgV2ViUmVuZGVyZXIuc2NoZWR1bGVUYXNrc0lmTmVlZGVkKClcbiAgfVxuXG4gIHVwZGF0ZShyZWN1cnNlPWZhbHNlKSB7XG4gICAgaWYgKHJlY3Vyc2UpIHRoaXMudHJhdmVyc2VMYXllcnNQcmVPcmRlcih0aGlzLl9kb1VwZGF0ZSlcbiAgICBlbHNlIHRoaXMuX2RvVXBkYXRlKClcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3I6IHN0cmluZyk6IFdlYkxheWVyM0RDb250ZW50IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIHx8IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChlbGVtZW50KVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB0cmF2ZXJzZUxheWVyQW5jZXN0b3JzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudFdlYkxheWVyXG4gICAgaWYgKHBhcmVudExheWVyKSB7XG4gICAgICBwYXJlbnRMYXllci50cmF2ZXJzZUxheWVyQW5jZXN0b3JzKGVhY2gpXG4gICAgICBlYWNoLmNhbGwodGhpcywgcGFyZW50TGF5ZXIpXG4gICAgfVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnNQcmVPcmRlcihcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSA9PiBib29sZWFufHZvaWRcbiAgKSB7XG4gICAgaWYgKGVhY2guY2FsbCh0aGlzLCB0aGlzKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykge1xuICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzUG9zdE9yZGVyKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzRENvbnRlbnQpID0+IGJvb2xlYW58dm9pZFxuICApIDogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSB7XG4gICAgICBpZiAoY2hpbGQudHJhdmVyc2VMYXllcnNQb3N0T3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIGVhY2guY2FsbCh0aGlzLCB0aGlzKSB8fCB0cnVlXG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnRleHR1cmVzLnZhbHVlcygpKSB7XG4gICAgICB0LmRpc3Bvc2UoKVxuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRNZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgIHRoaXMuX2JvdW5kc01lc2guZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgV2ViUmVuZGVyZXIuZGlzcG9zZUxheWVyKHRoaXMuX3dlYkxheWVyKVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykgY2hpbGQuZGlzcG9zZSgpXG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoVmlkZW9Cb3VuZHMoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgY29uc3QgdmlkZW8gPSB0aGlzLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY3VycmVudFRleHR1cmVcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIGNvbnN0IHsgb2JqZWN0Rml0IH0gPSBjb21wdXRlZFN0eWxlXG4gICAgICBjb25zdCB7IHdpZHRoOiB2aWV3V2lkdGgsIGhlaWdodDogdmlld0hlaWdodCB9ID0gdGhpcy5ib3VuZHNcbiAgICAgIGNvbnN0IHsgdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQgfSA9IHZpZGVvXG4gICAgICBjb25zdCB2aWRlb1JhdGlvID0gdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0XG4gICAgICBjb25zdCB2aWV3UmF0aW8gPSB2aWV3V2lkdGggLyB2aWV3SGVpZ2h0XG4gICAgICB0ZXh0dXJlLmNlbnRlci5zZXQoMC41LCAwLjUpXG4gICAgICBzd2l0Y2ggKG9iamVjdEZpdCkge1xuICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KS5jbGFtcFNjYWxhcigwLCAxKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvbnRhaW4nOlxuICAgICAgICBjYXNlICdzY2FsZS1kb3duJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSlcbiAgICAgICAgICBpZiAodmlld1JhdGlvID4gdmlkZW9SYXRpbykge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJvdW5kcy5oZWlnaHQgKiB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmxlZnQgKz0gKHRoaXMuYm91bmRzLndpZHRoIC0gd2lkdGgpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGggPSB3aWR0aFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJvdW5kcy53aWR0aCAvIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMudG9wICs9ICh0aGlzLmJvdW5kcy5oZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvdmVyJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KVxuICAgICAgICAgIGlmICh2aWV3UmF0aW8gPCB2aWRlb1JhdGlvKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRzLmhlaWdodCAqIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubGVmdCArPSAodGhpcy5ib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYm91bmRzLndpZHRoIC8gdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy50b3AgKz0gKHRoaXMuYm91bmRzLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2FzZSAnZmlsbCc6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KDEsIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoRE9NTGF5b3V0KCkge1xuXG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmRvbUxheW91dC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5kb21MYXlvdXQuc2NhbGUuc2V0KDEsIDEsIDEpXG4gICAgdGhpcy5kb21MYXlvdXQucXVhdGVybmlvbi5zZXQoMCwgMCwgMCwgMSlcblxuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgY29uc3Qgd2lkdGggPSBib3VuZHMud2lkdGhcbiAgICBjb25zdCBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0XG4gICAgY29uc3QgcGl4ZWxTaXplID0gMSAvIFdlYkxheWVyM0QuREVGQVVMVF9QSVhFTFNfUEVSX1VOSVRcblxuICAgIHRoaXMuZG9tU2l6ZS5zZXQoXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiB3aWR0aCwgMTBlLTYpLFxuICAgICAgTWF0aC5tYXgocGl4ZWxTaXplICogaGVpZ2h0LCAxMGUtNiksXG4gICAgICAxXG4gICAgKVxuXG4gICAgaWYgKCFXZWJMYXllcjNELnNob3VsZEFwcGx5RE9NTGF5b3V0KHRoaXMpKSByZXR1cm5cblxuICAgIGNvbnN0IHBhcmVudEJvdW5kcyA9XG4gICAgICB0aGlzLnBhcmVudFdlYkxheWVyIGluc3RhbmNlb2YgV2ViTGF5ZXIzRENvbnRlbnRcbiAgICAgICAgPyB0aGlzLnBhcmVudFdlYkxheWVyLmJvdW5kc1xuICAgICAgICA6IGdldFZpZXdwb3J0Qm91bmRzKHNjcmF0Y2hCb3VuZHMpXG4gICAgY29uc3QgcGFyZW50V2lkdGggPSBwYXJlbnRCb3VuZHMud2lkdGhcbiAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSBwYXJlbnRCb3VuZHMuaGVpZ2h0XG5cbiAgICBjb25zdCBsZWZ0RWRnZSA9IC1wYXJlbnRXaWR0aCAvIDIgKyB3aWR0aCAvIDJcbiAgICBjb25zdCB0b3BFZGdlID0gcGFyZW50SGVpZ2h0IC8gMiAtIGhlaWdodCAvIDJcblxuICAgIC8vIGNvbnN0IHNlcCA9IHRoaXMub3B0aW9ucy5sYXllclNlcGFyYXRpb24gfHwgV2ViTGF5ZXIzRC5ERUZBVUxUX0xBWUVSX1NFUEFSQVRJT05cbiAgICBcbiAgICB0aGlzLmRvbUxheW91dC5wb3NpdGlvbi5zZXQoXG4gICAgICBwaXhlbFNpemUgKiAobGVmdEVkZ2UgKyBib3VuZHMubGVmdCksXG4gICAgICBwaXhlbFNpemUgKiAodG9wRWRnZSAtIGJvdW5kcy50b3ApLFxuICAgICAgMFxuICAgIClcblxuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wdXRlZFN0eWxlLnRyYW5zZm9ybVxuICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgIGNvbnN0IGNzc1RyYW5zZm9ybSA9IFdlYlJlbmRlcmVyLnBhcnNlQ1NTVHJhbnNmb3JtKGNvbXB1dGVkU3R5bGUsIHdpZHRoLCBoZWlnaHQsIHBpeGVsU2l6ZSwgc2NyYXRjaE1hdHJpeClcbiAgICAgIGlmIChjc3NUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5kb21MYXlvdXQudXBkYXRlTWF0cml4KClcbiAgICAgICAgdGhpcy5kb21MYXlvdXQubWF0cml4Lm11bHRpcGx5KGNzc1RyYW5zZm9ybSlcbiAgICAgICAgdGhpcy5kb21MYXlvdXQubWF0cml4LmRlY29tcG9zZSh0aGlzLmRvbUxheW91dC5wb3NpdGlvbiwgdGhpcy5kb21MYXlvdXQucXVhdGVybmlvbiwgdGhpcy5kb21MYXlvdXQuc2NhbGUpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgRE9NIHRyZWUgaW50byAzRCBsYXllcnMuXG4gKlxuICogV2hlbiBhbiBpbnN0YW5jZSBpcyBjcmVhdGVkLCBhIGB4ci1sYXllcmAgaXMgc2V0IG9uIHRoZVxuICogdGhlIHBhc3NlZCBET00gZWxlbWVudCB0byBtYXRjaCB0aGlzIGluc3RhbmNlJ3MgT2JqZWN0M0QgaWQuXG4gKiBJZiB0aGUgcGFzc2VkIERPTSBlbGVtZW50IGhhcyBhbiBgaWRgIGF0dHJpYnV0ZSwgdGhpcyBpbnN0YW5jZSdzIE9iamVjdDNEIG5hbWVcbiAqIHdpbGwgYmUgc2V0IHRvIG1hdGNoIHRoZSBlbGVtZW50IGlkLlxuICpcbiAqIENoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2VzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aCBhbiBgeHItbGF5ZXJgIGF0dHJpYnV0ZSxcbiAqIHdoaWNoIHdpbGwgYmUgc2V0IHdoZW4gdGhlIGNoaWxkIFdlYkxheWVyM0QgaW5zdGFuY2UgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5LlxuICogVGhlIGF0dHJpYnV0ZSBjYW4gYmUgc3BlY2lmaWVkIGFkZGVkIGluIEhUTUwgb3IgZHluYW1pY2FsbHk6XG4gKiAgLSBgPGRpdiB4ci1sYXllcj48L2Rpdj5gXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGUgcGl4ZWwgcmF0aW8gY2FuIGJlIGFkanVzdGVkIG9uIGVhY2ggbGF5ZXIsIGluZGl2aWR1YWxseTpcbiAqICAtIGA8ZGl2IHhyLWxheWVyIHhyLXBpeGVsLXJhdGlvPVwiMC41XCI+PC9kaXY+YFxuICpcbiAqIERlZmF1bHQgZGltZW5zaW9uczogMXB4ID0gMC4wMDEgd29ybGQgZGltZW5zaW9ucyA9IDFtbSAoYXNzdW1pbmcgbWV0ZXJzKVxuICogICAgIGUuZy4sIDUwMHB4IHdpZHRoIG1lYW5zIDAuNW1ldGVyc1xuICovXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIzRCBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcblxuICBzdGF0aWMgbGF5ZXJzQnlFbGVtZW50ID0gbmV3IFdlYWtNYXA8RWxlbWVudCwgV2ViTGF5ZXIzRENvbnRlbnQ+KClcbiAgc3RhdGljIGxheWVyc0J5TWVzaCA9IG5ldyBXZWFrTWFwPFRIUkVFLk1lc2gsIFdlYkxheWVyM0RDb250ZW50PigpXG5cbiAgc3RhdGljIERFRkFVTFRfTEFZRVJfU0VQQVJBVElPTiA9IDAuMDAxXG4gIHN0YXRpYyBERUZBVUxUX1BJWEVMU19QRVJfVU5JVCA9IDEwMDBcbiAgc3RhdGljIEdFT01FVFJZID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSwgMiwgMilcblxuICAvLyBzdGF0aWMgY29tcHV0ZU5hdHVyYWxEaXN0YW5jZShcbiAgLy8gICBwcm9qZWN0aW9uOiBUSFJFRS5NYXRyaXg0IHwgVEhSRUUuQ2FtZXJhLFxuICAvLyAgIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyXG4gIC8vICkge1xuICAvLyAgIGxldCBwcm9qZWN0aW9uTWF0cml4ID0gcHJvamVjdGlvbiBhcyAgVEhSRUUuTWF0cml4NFxuICAvLyAgIGlmICgocHJvamVjdGlvbiBhcyBUSFJFRS5DYW1lcmEpLmlzQ2FtZXJhKSB7XG4gIC8vICAgICBwcm9qZWN0aW9uTWF0cml4ID0gKHByb2plY3Rpb24gYXMgVEhSRUUuQ2FtZXJhKS5wcm9qZWN0aW9uTWF0cml4XG4gIC8vICAgfVxuICAvLyAgIGNvbnN0IHBpeGVsUmF0aW8gPSByZW5kZXJlci5nZXRQaXhlbFJhdGlvKClcbiAgLy8gICBjb25zdCB3aWR0aFBpeGVscyA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyBwaXhlbFJhdGlvXG4gIC8vICAgY29uc3Qgd2lkdGggPSBXZWJMYXllcjNELkRFRkFVTFRfUElYRUxTX1BFUl9VTklUICogd2lkdGhQaXhlbHNcbiAgLy8gICBjb25zdCBob3Jpem9udGFsRk9WID0gZ2V0Rm92cyhwcm9qZWN0aW9uTWF0cml4KS5ob3Jpem9udGFsXG4gIC8vICAgY29uc3QgbmF0dXJhbERpc3RhbmNlID0gd2lkdGggLyAyIC8gTWF0aC50YW4oaG9yaXpvbnRhbEZPViAvIDIpXG4gIC8vICAgcmV0dXJuIG5hdHVyYWxEaXN0YW5jZVxuICAvLyB9XG4gIFxuICBzdGF0aWMgc2hvdWxkQXBwbHlET01MYXlvdXQobGF5ZXI6IFdlYkxheWVyM0RDb250ZW50KSB7XG4gICAgY29uc3Qgc2hvdWxkID0gbGF5ZXIuc2hvdWxkQXBwbHlET01MYXlvdXRcbiAgICBpZiAoKHNob3VsZCBhcyBhbnkpID09PSAnYWx3YXlzJyB8fCBzaG91bGQgPT09IHRydWUpIHJldHVybiB0cnVlXG4gICAgaWYgKChzaG91bGQgYXMgYW55KSA9PT0gJ25ldmVyJyB8fCBzaG91bGQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoc2hvdWxkID09PSAnYXV0bycgJiYgbGF5ZXIucGFyZW50V2ViTGF5ZXIgJiYgbGF5ZXIucGFyZW50ID09PSBsYXllci5wYXJlbnRXZWJMYXllcikgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBcbiAgcHVibGljIHJvb3RMYXllciE6V2ViTGF5ZXIzRENvbnRlbnRcblxuICBwcml2YXRlIF9pbnRlcmFjdGlvblJheXMgPSBbXSBhcyBBcnJheTxUSFJFRS5SYXkgfCBUSFJFRS5PYmplY3QzRD5cbiAgcHJpdmF0ZSBfcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXG4gIHByaXZhdGUgX2hpdEludGVyc2VjdGlvbnMgPSBbXSBhcyBJbnRlcnNlY3Rpb25bXVxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRPckhUTUw6IEVsZW1lbnR8c3RyaW5nLCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKClcblxuICAgIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2YgZWxlbWVudE9ySFRNTCA9PT0gJ3N0cmluZycgPyBET00oZWxlbWVudE9ySFRNTCkgOiBlbGVtZW50T3JIVE1MXG5cbiAgICBXZWJSZW5kZXJlci5jcmVhdGVMYXllclRyZWUoZWxlbWVudCwgb3B0aW9ucywgKGV2ZW50LCB7IHRhcmdldCB9KSA9PiB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdsYXllcmNyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IFdlYkxheWVyM0RDb250ZW50KHRhcmdldCwgdGhpcy5vcHRpb25zKVxuICAgICAgICBpZiAodGFyZ2V0ID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgbGF5ZXJbT05fQkVGT1JFX1VQREFURV0gPSAoKSA9PiB0aGlzLl91cGRhdGVJbnRlcmFjdGlvbnMoKVxuICAgICAgICAgIGxheWVyLmlzUm9vdCA9IHRydWVcbiAgICAgICAgICB0aGlzLnJvb3RMYXllciA9IGxheWVyXG4gICAgICAgICAgdGhpcy5hZGQobGF5ZXIpXG4gICAgICAgIH0gZWxzZSBsYXllci5wYXJlbnRXZWJMYXllcj8uYWRkKGxheWVyKVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uTGF5ZXJDcmVhdGUpIHRoaXMub3B0aW9ucy5vbkxheWVyQ3JlYXRlKGxheWVyKVxuICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2xheWVycGFpbnRlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBXZWJSZW5kZXJlci5sYXllcnMuZ2V0KHRhcmdldCkhXG4gICAgICAgIGNvbnN0IGxheWVyM0QgPSBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQobGF5ZXIuZWxlbWVudCkhXG4gICAgICAgIGxheWVyM0QudGV4dHVyZU5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2xheWVybW92ZWQnKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuZ2V0KHRhcmdldCkhXG4gICAgICAgIGxheWVyLnBhcmVudFdlYkxheWVyPy5hZGQobGF5ZXIpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBSYXlzIHRvIGJlIHVzZWQgZm9yIGludGVyYWN0aW9uLlxuICAgKiBDYW4gb25seSBiZSBzZXQgb24gYSByb290IFdlYkxheWVyM0QgaW5zdGFuY2UuXG4gICAqL1xuICBnZXQgaW50ZXJhY3Rpb25SYXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvblJheXNcbiAgfVxuICBzZXQgaW50ZXJhY3Rpb25SYXlzKHJheXM6IEFycmF5PFRIUkVFLlJheSB8IFRIUkVFLk9iamVjdDNEPikge1xuICAgIHRoaXMuX2ludGVyYWN0aW9uUmF5cyA9IHJheXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBxdWVyeSBzZWxlY3RvciBvbiB0aGUgcm9vdCBsYXllclxuICAgKiBAcGFyYW0gc2VsZWN0b3IgXG4gICAqL1xuICBxdWVyeVNlbGVjdG9yKHNlbGVjdG9yOnN0cmluZykgOiBXZWJMYXllcjNEQ29udGVudHx1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnJvb3RMYXllci5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggYWxsIGxheWVycywgcmVjdXJzaXZlbHlcbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yb290TGF5ZXIucmVmcmVzaCh0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgbGF5ZXJzLCByZWN1cnNpdmVseVxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMucm9vdExheWVyLnVwZGF0ZSh0cnVlKVxuICB9XG5cbiAgLyoqIEdldCB0aGUgY29udGVudCBtZXNoIG9mIHRoZSByb290IGxheWVyICovXG4gIGdldCBjb250ZW50TWVzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb290TGF5ZXIuY29udGVudE1lc2hcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpb3VzSG92ZXJMYXllcnMgPSBuZXcgU2V0PFdlYkxheWVyM0RDb250ZW50PigpXG4gIHByaXZhdGUgX2NvbnRlbnRNZXNoZXMgPSBbXSBhcyBUSFJFRS5NZXNoW11cblxuICBwcml2YXRlIF9wcmVwYXJlSGl0VGVzdCA9IChsYXllcjpXZWJMYXllcjNEQ29udGVudCkgPT4ge1xuICAgIGlmIChsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIpIHRoaXMuX3ByZXZpb3VzSG92ZXJMYXllcnMuYWRkKGxheWVyKVxuICAgIGxheWVyLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIgPSBmYWxzZVxuICAgIHRoaXMuX2NvbnRlbnRNZXNoZXMucHVzaChsYXllci5jb250ZW50TWVzaClcbiAgfVxuXG4gIC8vIHByaXZhdGUgX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIoaTpJbnRlcnNlY3Rpb24pIHtcbiAgLy8gICBsZXQgbyA9IGkub2JqZWN0IGFzIFRIUkVFLkdyb3VwJlRIUkVFLk9iamVjdDNEXG4gIC8vICAgd2hpbGUgKG8ucGFyZW50ICYmICFvLmlzR3JvdXApIHtcbiAgLy8gICAgIG8gPSBvLnBhcmVudCBhcyBUSFJFRS5Hcm91cCZUSFJFRS5PYmplY3QzRFxuICAvLyAgIH1cbiAgLy8gICBpLmdyb3VwT3JkZXIgPSBvLnJlbmRlck9yZGVyXG4gIC8vIH1cblxuICBwcml2YXRlIF9pbnRlcnNlY3Rpb25Tb3J0KGE6SW50ZXJzZWN0aW9uLGI6SW50ZXJzZWN0aW9uKSB7XG4gICAgY29uc3QgYUxheWVyID0gYS5vYmplY3QucGFyZW50IGFzIFdlYkxheWVyM0RDb250ZW50XG4gICAgY29uc3QgYkxheWVyID0gYi5vYmplY3QucGFyZW50IGFzIFdlYkxheWVyM0RDb250ZW50XG4gICAgaWYgKGFMYXllci5kZXB0aCAhPT0gYkxheWVyLmRlcHRoKSB7XG4gICAgICByZXR1cm4gYkxheWVyLmRlcHRoIC0gYUxheWVyLmRlcHRoXG4gICAgfVxuICAgIHJldHVybiBiTGF5ZXIuaW5kZXggLSBhTGF5ZXIuaW5kZXhcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUludGVyYWN0aW9ucygpIHtcbiAgICAvLyB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIHRydWUpXG4gICAgXG4gICAgY29uc3QgcHJldkhvdmVyID0gdGhpcy5fcHJldmlvdXNIb3ZlckxheWVyc1xuICAgIHByZXZIb3Zlci5jbGVhcigpXG4gICAgdGhpcy5fY29udGVudE1lc2hlcy5sZW5ndGggPSAwXG4gICAgdGhpcy5yb290TGF5ZXIudHJhdmVyc2VMYXllcnNQcmVPcmRlcih0aGlzLl9wcmVwYXJlSGl0VGVzdClcblxuICAgIGZvciAoY29uc3QgcmF5IG9mIHRoaXMuX2ludGVyYWN0aW9uUmF5cykge1xuICAgICAgaWYgKHJheSBpbnN0YW5jZW9mIFRIUkVFLlJheSkgdGhpcy5fcmF5Y2FzdGVyLnJheS5jb3B5KHJheSlcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fcmF5Y2FzdGVyLnJheS5zZXQoXG4gICAgICAgICAgcmF5LmdldFdvcmxkUG9zaXRpb24oc2NyYXRjaFZlY3RvciksXG4gICAgICAgICAgcmF5LmdldFdvcmxkRGlyZWN0aW9uKHNjcmF0Y2hWZWN0b3IyKS5uZWdhdGUoKVxuICAgICAgICApXG4gICAgICB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zLmxlbmd0aCA9IDBcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLl9jb250ZW50TWVzaGVzLCBmYWxzZSwgdGhpcy5faGl0SW50ZXJzZWN0aW9ucykgYXMgSW50ZXJzZWN0aW9uW11cbiAgICAgIC8vIGludGVyc2VjdGlvbnMuZm9yRWFjaCh0aGlzLl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKVxuICAgICAgaW50ZXJzZWN0aW9ucy5zb3J0KHRoaXMuX2ludGVyc2VjdGlvblNvcnQpXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zWzBdXG4gICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gaW50ZXJzZWN0aW9uLm9iamVjdC5wYXJlbnQgYXMgV2ViTGF5ZXIzRENvbnRlbnRcbiAgICAgICAgbGF5ZXIuY3Vyc29yLnBvc2l0aW9uLmNvcHkoaW50ZXJzZWN0aW9uLnBvaW50KVxuICAgICAgICBsYXllci5jdXJzb3IudmlzaWJsZSA9IHRydWVcbiAgICAgICAgbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyID0gdHJ1ZVxuICAgICAgICBpZiAoIXByZXZIb3Zlci5oYXMobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIuc2V0TmVlZHNSZWZyZXNoKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgcHJldkhvdmVyKSB7XG4gICAgICBpZiAoIWxheWVyLnBzZXVkb1N0YXRlcy5ob3Zlcikge1xuICAgICAgICBsYXllci5zZXROZWVkc1JlZnJlc2goKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGhpdCB0ZXN0IHdpdGggcmF5LCBvciB3aXRoIC1aIGRpcmVjdGlvbiBvZiBhbiBPYmplY3QzRFxuICAgKiBAcGFyYW0gcmF5IFxuICAgKi9cbiAgaGl0VGVzdChyYXk6IFRIUkVFLlJheXxUSFJFRS5PYmplY3QzRCkge1xuICAgIGNvbnN0IHJheWNhc3RlciA9IHRoaXMuX3JheWNhc3RlclxuICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zXG4gICAgY29uc3QgbWVzaE1hcCA9IFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoXG4gICAgaWYgKHJheSBpbnN0YW5jZW9mIFRIUkVFLlJheSkgXG4gICAgICB0aGlzLl9yYXljYXN0ZXIucmF5LmNvcHkocmF5KVxuICAgIGVsc2UgdGhpcy5fcmF5Y2FzdGVyLnJheS5zZXQoXG4gICAgICByYXkuZ2V0V29ybGRQb3NpdGlvbihzY3JhdGNoVmVjdG9yKSxcbiAgICAgIHJheS5nZXRXb3JsZERpcmVjdGlvbihzY3JhdGNoVmVjdG9yMikubmVnYXRlKClcbiAgICApXG4gICAgaW50ZXJzZWN0aW9ucy5sZW5ndGggPSAwXG4gICAgcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdCh0aGlzLCB0cnVlLCBpbnRlcnNlY3Rpb25zKVxuICAgIC8vIGludGVyc2VjdGlvbnMuZm9yRWFjaCh0aGlzLl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKVxuICAgIGludGVyc2VjdGlvbnMuc29ydCh0aGlzLl9pbnRlcnNlY3Rpb25Tb3J0KVxuICAgIGZvciAoY29uc3QgaW50ZXJzZWN0aW9uIG9mIGludGVyc2VjdGlvbnMpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gbWVzaE1hcCEuZ2V0KGludGVyc2VjdGlvbi5vYmplY3QgYXMgYW55KVxuICAgICAgaWYgKCFsYXllcikgY29udGludWVcbiAgICAgIGNvbnN0IGxheWVyQm91bmRpbmdSZWN0ID0gZ2V0Qm91bmRzKGxheWVyLmVsZW1lbnQsIHNjcmF0Y2hCb3VuZHMpIVxuICAgICAgaWYgKCFsYXllckJvdW5kaW5nUmVjdC53aWR0aCB8fCAhbGF5ZXJCb3VuZGluZ1JlY3QuaGVpZ2h0KSBjb250aW51ZVxuICAgICAgbGV0IHRhcmdldCA9IGxheWVyLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IGNsaWVudFggPSBpbnRlcnNlY3Rpb24udXYhLnggKiBsYXllckJvdW5kaW5nUmVjdC53aWR0aFxuICAgICAgY29uc3QgY2xpZW50WSA9ICgxIC0gaW50ZXJzZWN0aW9uLnV2IS55KSAqIGxheWVyQm91bmRpbmdSZWN0LmhlaWdodFxuICAgICAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzKGxheWVyLmVsZW1lbnQsIGVsID0+IHtcbiAgICAgICAgaWYgKCF0YXJnZXQuY29udGFpbnMoZWwpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgY29uc3QgZWxlbWVudEJvdW5kaW5nUmVjdCA9IGdldEJvdW5kcyhlbCwgc2NyYXRjaEJvdW5kczIpIVxuICAgICAgICBjb25zdCBvZmZzZXRMZWZ0ID0gZWxlbWVudEJvdW5kaW5nUmVjdC5sZWZ0IC0gbGF5ZXJCb3VuZGluZ1JlY3QubGVmdFxuICAgICAgICBjb25zdCBvZmZzZXRUb3AgPSBlbGVtZW50Qm91bmRpbmdSZWN0LnRvcCAtIGxheWVyQm91bmRpbmdSZWN0LnRvcFxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnRCb3VuZGluZ1JlY3RcbiAgICAgICAgY29uc3Qgb2Zmc2V0UmlnaHQgPSBvZmZzZXRMZWZ0ICsgd2lkdGhcbiAgICAgICAgY29uc3Qgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wICsgaGVpZ2h0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjbGllbnRYID4gb2Zmc2V0TGVmdCAmJlxuICAgICAgICAgIGNsaWVudFggPCBvZmZzZXRSaWdodCAmJlxuICAgICAgICAgIGNsaWVudFkgPiBvZmZzZXRUb3AgJiZcbiAgICAgICAgICBjbGllbnRZIDwgb2Zmc2V0Qm90dG9tXG4gICAgICAgICkge1xuICAgICAgICAgIHRhcmdldCA9IGVsIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2UgLy8gc3RvcCB0cmF2ZXJzYWwgZG93biB0aGlzIHBhdGhcbiAgICAgIH0pXG4gICAgICByZXR1cm4geyBsYXllciwgaW50ZXJzZWN0aW9uLCB0YXJnZXQgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxufVxuXG4vLyBjbGFzcyBDYW1lcmFGT1ZzIHtcbi8vICAgdG9wID0gMFxuLy8gICBsZWZ0ID0gMFxuLy8gICBib3R0b20gPSAwXG4vLyAgIHJpZ2h0ID0gMFxuLy8gICBob3Jpem9udGFsID0gMFxuLy8gICB2ZXJ0aWNhbCA9IDBcbi8vIH1cblxuLy8gY29uc3QgX2ZvdnMgPSBuZXcgQ2FtZXJhRk9WcygpXG4vLyBjb25zdCBfZ2V0Rm92c01hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KClcbi8vIGNvbnN0IF9nZXRGb3ZzVmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuLy8gY29uc3QgRk9SV0FSRCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC0xKVxuLy8gZnVuY3Rpb24gZ2V0Rm92cyhwcm9qZWN0aW9uTWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XG4vLyAgIGNvbnN0IG91dCA9IF9mb3ZzXG4vLyAgIGNvbnN0IGludlByb2plY3Rpb24gPSBfZ2V0Rm92c01hdHJpeC5nZXRJbnZlcnNlKHByb2plY3Rpb25NYXRyaXgpIGFzIFRIUkVFLk1hdHJpeDRcbi8vICAgY29uc3QgdmVjID0gX2dldEZvdnNWZWN0b3Jcbi8vICAgb3V0LmxlZnQgPSB2ZWNcbi8vICAgICAuc2V0KC0xLCAwLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0LnJpZ2h0ID0gdmVjXG4vLyAgICAgLnNldCgxLCAwLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0LnRvcCA9IHZlY1xuLy8gICAgIC5zZXQoMCwgMSwgLTEpXG4vLyAgICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuLy8gICAgIC5hbmdsZVRvKEZPUldBUkQpXG4vLyAgIG91dC5ib3R0b20gPSB2ZWNcbi8vICAgICAuc2V0KDAsIC0xLCAtMSlcbi8vICAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4vLyAgICAgLmFuZ2xlVG8oRk9SV0FSRClcbi8vICAgb3V0Lmhvcml6b250YWwgPSBvdXQucmlnaHQgKyBvdXQubGVmdFxuLy8gICBvdXQudmVydGljYWwgPSBvdXQudG9wICsgb3V0LmJvdHRvbVxuLy8gICByZXR1cm4gb3V0XG4vLyB9XG4iXSwibmFtZXMiOlsiaGFzT3duUHJvcGVydHkiLCJ1aWQiLCJjb21wdXRlZCIsInAiLCJbb2JqZWN0IE9iamVjdF0iLCJ4IiwieSIsInRoaXMiLCJ2YWx1ZSIsInNjYWxhciIsImluZGV4IiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInYiLCJ3Iiwid2FybiIsImFkZFZlY3RvcnMiLCJzIiwiYTIiLCJiMiIsInN1YlZlY3RvcnMiLCJtdWx0aXBseVNjYWxhciIsIm0iLCJlIiwiZWxlbWVudHMiLCJNYXRoIiwibWluIiwibWF4IiwibWluMiIsIm1heDIiLCJtaW5WYWwiLCJtYXhWYWwiLCJsZW5ndGgiLCJkaXZpZGVTY2FsYXIiLCJmbG9vciIsImNlaWwiLCJyb3VuZCIsInNxcnQiLCJhYnMiLCJhdGFuMiIsIlBJIiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJkeCIsImR5Iiwibm9ybWFsaXplIiwiYWxwaGEiLCJ2MSIsInYyIiwiYXJyYXkiLCJvZmZzZXQiLCJhdHRyaWJ1dGUiLCJnZXRYIiwiZ2V0WSIsImNlbnRlciIsImFuZ2xlIiwiYzIiLCJjb3MiLCJzaW4iLCJyYW5kb20iLCJWZWN0b3IyIiwicHJvdG90eXBlIiwiaXNWZWN0b3IyIiwiX2x1dCIsImkiLCJ0b1N0cmluZyIsIl9zZWVkIiwiREVHMlJBRCIsIlJBRDJERUciLCJuIiwidCIsImQwIiwiZDEiLCJkMiIsImQzIiwidG9VcHBlckNhc2UiLCJhMSIsImIxIiwibGFtYmRhIiwiZHQiLCJsZXJwIiwiZXhwIiwiZXVjbGlkZWFuTW9kdWxvIiwibG93IiwiaGlnaCIsInJhbmdlIiwiZGVncmVlcyIsInJhZGlhbnMiLCJwb3ciLCJsb2ciLCJMTjIiLCJxIiwib3JkZXIiLCJjb3MyIiwic2luMiIsImMyMiIsInMyIiwiYzEzIiwiczEzIiwiYzFfMyIsInMxXzMiLCJjM18xIiwiczNfMSIsInNldCIsInoiLCJfeCIsIl95IiwiX3oiLCJfdyIsInFhIiwicWIiLCJxbSIsInNsZXJwUXVhdGVybmlvbnMiLCJkc3QiLCJkc3RPZmZzZXQiLCJzcmMwIiwic3JjT2Zmc2V0MCIsInNyYzEiLCJzcmNPZmZzZXQxIiwieDAiLCJ5MCIsInowIiwidzAiLCJ4MSIsInkxIiwiejEiLCJ3MSIsImRpciIsInNxclNpbiIsIk51bWJlciIsIkVQU0lMT04iLCJsZW4iLCJ0RGlyIiwiZiIsIl9vbkNoYW5nZUNhbGxiYWNrIiwicXVhdGVybmlvbiIsImV1bGVyIiwidXBkYXRlIiwiaXNFdWxlciIsIl9vcmRlciIsImMxIiwiYzMiLCJzMSIsInMzIiwiYXhpcyIsImhhbGZBbmdsZSIsInRlIiwibTExIiwibTEyIiwibTEzIiwibTIxIiwibTIyIiwibTIzIiwibTMxIiwibTMyIiwibTMzIiwidHJhY2UiLCJ2RnJvbSIsInZUbyIsInIiLCJkb3QiLCJhY29zIiwiTWF0aFV0aWxzLmNsYW1wIiwic3RlcCIsImFuZ2xlVG8iLCJzbGVycCIsImNvbmp1Z2F0ZSIsImwiLCJtdWx0aXBseVF1YXRlcm5pb25zIiwicWF4IiwicWF5IiwicWF6IiwicWF3IiwicWJ4IiwicWJ5IiwicWJ6IiwicWJ3IiwiY29weSIsImNvc0hhbGZUaGV0YSIsInNxclNpbkhhbGZUaGV0YSIsInNpbkhhbGZUaGV0YSIsImhhbGZUaGV0YSIsInJhdGlvQSIsInJhdGlvQiIsImdldFoiLCJnZXRXIiwiY2FsbGJhY2siLCJRdWF0ZXJuaW9uIiwiaXNRdWF0ZXJuaW9uIiwibXVsdGlwbHlWZWN0b3JzIiwiZXJyb3IiLCJhcHBseVF1YXRlcm5pb24iLCJfcXVhdGVybmlvbiIsInNldEZyb21FdWxlciIsInNldEZyb21BeGlzQW5nbGUiLCJhcHBseU1hdHJpeDMiLCJxeCIsInF5IiwicXoiLCJxdyIsIml4IiwiaXkiLCJpeiIsIml3IiwiY2FtZXJhIiwiYXBwbHlNYXRyaXg0IiwibWF0cml4V29ybGRJbnZlcnNlIiwicHJvamVjdGlvbk1hdHJpeCIsInByb2plY3Rpb25NYXRyaXhJbnZlcnNlIiwibWF0cml4V29ybGQiLCJjcm9zc1ZlY3RvcnMiLCJheCIsImF5IiwiYXoiLCJieCIsImJ5IiwiYnoiLCJkZW5vbWluYXRvciIsImxlbmd0aFNxIiwicGxhbmVOb3JtYWwiLCJwcm9qZWN0T25WZWN0b3IiLCJzdWIiLCJfdmVjdG9yIiwibm9ybWFsIiwidGhldGEiLCJkeiIsInNldEZyb21TcGhlcmljYWxDb29yZHMiLCJyYWRpdXMiLCJwaGkiLCJzaW5QaGlSYWRpdXMiLCJzZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMiLCJzeCIsInNldEZyb21NYXRyaXhDb2x1bW4iLCJzeSIsInN6IiwiZnJvbUFycmF5IiwiVmVjdG9yMyIsImlzVmVjdG9yMyIsImFyZ3VtZW50cyIsIm4xMSIsIm4xMiIsIm4xMyIsIm4xNCIsIm4yMSIsIm4yMiIsIm4yMyIsIm4yNCIsIm4zMSIsIm4zMiIsIm4zMyIsIm4zNCIsIm40MSIsIm40MiIsIm40MyIsIm40NCIsIk1hdHJpeDQiLCJtZSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInNjYWxlWCIsIl92MSIsInNjYWxlWSIsInNjYWxlWiIsImQiLCJhZSIsImFmIiwiYmUiLCJiZiIsImNlIiwiY2YiLCJkZSIsImRmIiwiYWMiLCJhZCIsImJjIiwiYmQiLCJjb21wb3NlIiwiX3plcm8iLCJfb25lIiwiZXllIiwidGFyZ2V0IiwidXAiLCJtdWx0aXBseU1hdHJpY2VzIiwiYTExIiwiYTEyIiwiYTEzIiwiYTE0IiwiYTIxIiwiYTIyIiwiYTIzIiwiYTI0IiwiYTMxIiwiYTMyIiwiYTMzIiwiYTM0IiwiYTQxIiwiYTQyIiwiYTQzIiwiYTQ0IiwiYjExIiwiYjEyIiwiYjEzIiwiYjE0IiwiYjIxIiwiYjIyIiwiYjIzIiwiYjI0IiwiYjMxIiwiYjMyIiwiYjMzIiwiYjM0IiwiYjQxIiwiYjQyIiwiYjQzIiwiYjQ0IiwidG1wIiwidDExIiwidDEyIiwidDEzIiwidDE0IiwiZGV0IiwiZGV0SW52Iiwic2NhbGVYU3EiLCJzY2FsZVlTcSIsInNjYWxlWlNxIiwidHgiLCJ0eSIsInh5IiwieHoiLCJ5eCIsInl6IiwiengiLCJ6eSIsInBvc2l0aW9uIiwic2NhbGUiLCJ4MiIsInkyIiwiejIiLCJ4eCIsInl5IiwienoiLCJ3eCIsInd5Iiwid3oiLCJkZXRlcm1pbmFudCIsImludlNYIiwiaW52U1kiLCJpbnZTWiIsInNldEZyb21Sb3RhdGlvbk1hdHJpeCIsIl9tMSIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIm5lYXIiLCJmYXIiLCJoIiwibWF0cml4IiwiaXNNYXRyaXg0IiwiSW5maW5pdHkiLCJwb2ludHMiLCJtYWtlRW1wdHkiLCJpbCIsImV4cGFuZEJ5UG9pbnQiLCJzaXplMiIsImhhbGZTaXplIiwiYWRkIiwiYm94IiwiaXNFbXB0eSIsInBvaW50IiwidmVjdG9yIiwiYWRkU2NhbGFyIiwiY2xhbXAiLCJlcXVhbHMiLCJCb3gyIiwiaXNCb3gyIiwibWluWCIsIm1pblkiLCJtaW5aIiwibWF4WCIsIm1heFkiLCJtYXhaIiwiY291bnQiLCJvYmplY3QiLCJleHBhbmRCeU9iamVjdCIsInVwZGF0ZVdvcmxkTWF0cml4IiwiZ2VvbWV0cnkiLCJib3VuZGluZ0JveCIsImNvbXB1dGVCb3VuZGluZ0JveCIsInVuaW9uIiwiX2JveCIsImNoaWxkcmVuIiwic3BoZXJlIiwiY2xhbXBQb2ludCIsInBsYW5lIiwiY29uc3RhbnQiLCJ0cmlhbmdsZSIsImdldENlbnRlciIsIl9jZW50ZXIiLCJhIiwiYiIsImMiLCJfdjAiLCJfdjIiLCJheGVzIiwiX2YwIiwiX2YxIiwiX2YyIiwic2F0Rm9yQXhlcyIsIl9leHRlbnRzIiwiX3RyaWFuZ2xlTm9ybWFsIiwiZ2V0U2l6ZSIsInNldEZyb21Qb2ludHMiLCJfcG9pbnRzIiwiQm94MyIsImlzQm94MyIsIl90ZXN0QXhpcyIsInYwIiwiZXh0ZW50cyIsImoiLCJwMCIsInAxIiwicDIiLCJzZXRGcm9tTWF0cml4M0NvbHVtbiIsImciLCJtYXRyaXg0Iiwic2V0RnJvbU1hdHJpeDQiLCJpbnZlcnQiLCJ0cmFuc3Bvc2UiLCJyb3RhdGlvbiIsImN4IiwiY3kiLCJNYXRyaXgzIiwiaXNNYXRyaXgzIiwiT2JqZWN0IiwiZnJlZXplIiwiUklHSFQiLCJVUCIsIk5FQVIiLCJMRUZUIiwiRE9XTiIsIkZBUiIsIl8yUEkiLCJWXzAwMTIiLCJ0d2lzdCIsInN3aW5nIiwic3dpbmdBeGlzIiwib3V0IiwidHdpc3RTY2FsZSIsInN3aW5nU2NhbGUiLCJ0d2lzdE1hZ25pdHVkZSIsInN3aW5nRGlyZWN0aW9uIiwic3dpbmdNYWduaXR1ZGUiLCJhcHBseUF4aXNBbmdsZSIsInZlYyIsInJvdCIsImRpcmVjdGlvbiIsInJvdEF4aXMiLCJkb3RQcm9kIiwicHJvamVjdGlvbiIsInJldmVyc2VkIiwiZWFzaW5nMiIsIm1pcnJvcmVkIiwiY3JlYXRlUmV2ZXJzZWRFYXNpbmciLCJjcmVhdGVNaXJyb3JlZEVhc2luZyIsImNyZWF0ZUV4cG9JbiIsInBvd2VyIiwiY3JlYXRlQmFja0luIiwiY3JlYXRlQW50aWNpcGF0ZUVhc2luZyIsImJhY2tFYXNpbmciLCJlYXNlSW4iLCJlYXNlT3V0IiwiZWFzZUluT3V0IiwiY2lyY0luIiwiY2lyY091dCIsImNpcmNJbk91dCIsImJhY2tJbiIsImJhY2tPdXQiLCJiYWNrSW5PdXQiLCJhbnRpY2lwYXRlIiwiYm91bmNlT3V0IiwiRkxPQVRfMzJfU1VQUE9SVEVEIiwiRmxvYXQzMkFycmF5IiwiZ2V0U2xvcGUiLCJjYWxjQmV6aWVyIiwibVgxIiwibVkxIiwibVgyIiwibVkyIiwic2FtcGxlVmFsdWVzIiwiQXJyYXkiLCJnZXRURm9yWCIsImFYIiwiZGlzdDIiLCJndWVzc0ZvclQiLCJpbml0aWFsU2xvcGUiLCJpbnRlcnZhbFN0YXJ0IiwiY3VycmVudFNhbXBsZSIsIktfU1BMSU5FX1RBQkxFX1NJWkUiLCJhR3Vlc3NUIiwiY3VycmVudFNsb3BlIiwibmV3dG9uUmFwaHNvbkl0ZXJhdGUiLCJhQSIsImFCIiwiY3VycmVudFgiLCJjdXJyZW50VCIsImJpbmFyeVN1YmRpdmlkZSIsImlzQmlnTnVtYmVyIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0NvbXBsZXgiLCJpc0ZyYWN0aW9uIiwiaXNVbml0IiwiaXNBcnJheSIsImlzTWF0cml4IiwiaXNEZW5zZU1hdHJpeCIsImlzU3BhcnNlTWF0cml4IiwiaXNSYW5nZSIsImlzSW5kZXgiLCJpc1Jlc3VsdFNldCIsImlzSGVscCIsIkRhdGUiLCJSZWdFeHAiLCJpc0FjY2Vzc29yTm9kZSIsImlzTm9kZSIsImlzQXJyYXlOb2RlIiwiaXNBc3NpZ25tZW50Tm9kZSIsImlzQmxvY2tOb2RlIiwiaXNDb25kaXRpb25hbE5vZGUiLCJpc0NvbnN0YW50Tm9kZSIsImlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsImlzRnVuY3Rpb25Ob2RlIiwiaXNJbmRleE5vZGUiLCJpc09iamVjdE5vZGUiLCJpc09wZXJhdG9yTm9kZSIsImlzUGFyZW50aGVzaXNOb2RlIiwiaXNSYW5nZU5vZGUiLCJpc1N5bWJvbE5vZGUiLCJpc0NoYWluIiwidHlwZSIsImNsb25lIiwibWFwIiwidmFsdWVPZiIsIlR5cGVFcnJvciIsIm1hcE9iamVjdCIsImNsb25lMiIsImtleSIsInByb3AiLCJkZWVwU3RyaWN0RXF1YWwiLCJwcm9wZXJ0eSIsImNhbGwiLCJfdHlwZXMiLCJuYW1lIiwidGVzdCIsImFueVR5cGUiLCJvayIsIl9pZ25vcmUiLCJfY29udmVyc2lvbnMiLCJ0eXBlZCIsInR5cGVzIiwiY29udmVyc2lvbnMiLCJpZ25vcmUiLCJ0eXBlTmFtZSIsImVudHJ5IiwiZmluZEluQXJyYXkiLCJlbnRyeTIiLCJoaW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiZm4iLCJzaWduYXR1cmUiLCJzaWduYXR1cmVzIiwiYXJyIiwic3BsaXQiLCJ0cmltIiwic3RyIiwiam9pbiIsIm1hdGNoIiwiZnJvbSIsImZpbmRUeXBlTmFtZSIsImNvbnZlcnNpb24iLCJ0byIsImNvbnZlcnQiLCJwYXJhbXMiLCJwYXJhbSIsInR5cGVOYW1lcyIsImdldFR5cGVOYW1lIiwicmVzdFBhcmFtIiwic2xpY2UiLCJmaWx0ZXIiLCJub3RFbXB0eSIsIm5vdElnbm9yZSIsIm1hdGNoaW5nQ29udmVyc2lvbnMiLCJmaWx0ZXJDb252ZXJzaW9ucyIsImV4YWN0VHlwZXMiLCJmaW5kVHlwZUJ5TmFtZSIsInR5cGVJbmRleCIsImZpbmRUeXBlSW5kZXgiLCJjb252ZXJzaW9uSW5kZXgiLCJjb252ZXJ0aWJsZVR5cGVzIiwiY29uY2F0IiwicGFyc2VkUGFyYW0iLCJwYXJzZVBhcmFtIiwiU3ludGF4RXJyb3IiLCJzb21lIiwiaXNJbnZhbGlkUGFyYW0iLCJsYXN0IiwidGVzdDAiLCJ0ZXN0MSIsInRlc3RzIiwiaGFzUmVzdFBhcmFtIiwidmFySW5kZXgiLCJpbml0aWFsIiwiY29tcGlsZVRlc3QiLCJsYXN0VGVzdCIsInRlc3RSZXN0UGFyYW0iLCJhcmdzIiwiZXhjbHVkZUNvbnZlcnNpb25zIiwiZ2V0UGFyYW1BdEluZGV4IiwiaXNFeGFjdFR5cGUiLCJ1bmlxIiwiZmxhdE1hcCIsImdldEV4cGVjdGVkVHlwZU5hbWVzIiwibmFtZTIiLCJlcnIiLCJleHBlY3RlZCIsIl9uYW1lIiwibWF0Y2hpbmdTaWduYXR1cmVzIiwibmV4dE1hdGNoaW5nRGVmcyIsIm1lcmdlRXhwZWN0ZWRQYXJhbXMiLCJhY3R1YWxUeXBlIiwiZGF0YSIsImNhdGVnb3J5IiwiYWN0dWFsIiwibGVuZ3RocyIsImFwcGx5IiwibWF4TGVuZ3RoIiwiZXhwZWN0ZWRMZW5ndGgiLCJwYXJhbTEiLCJwYXJhbTIiLCJoYXNDb252ZXJzaW9ucyIsImdldExvd2VzdFR5cGVJbmRleCIsImdldExvd2VzdENvbnZlcnNpb25JbmRleCIsInNpZ25hdHVyZTEiLCJzaWduYXR1cmUyIiwiY29tcGFyZVBhcmFtcyIsIm1hdGNoZXMiLCJmb3JFYWNoIiwia2V5cyIsImZuQ29udmVydCIsImNvbXBpbGVkQ29udmVyc2lvbnMiLCJjb21waWxlQXJnQ29udmVyc2lvbiIsImxhc3QyIiwiZm5QcmVwcm9jZXNzIiwiY29udmVyc2lvbjAiLCJjb252ZXJzaW9uMSIsInB1c2giLCJhcmciLCJzaWduYXR1cmVzTWFwIiwic3RyaW5naWZ5UGFyYW1zIiwiaWdub3JlQ29udmVyc2lvblR5cGVzIiwicGFyYW1zMiIsInR5cGVHcm91cHMiLCJmaWx0ZXJlZFR5cGVzIiwidHlwZUdyb3VwIiwiX3NwbGl0UGFyYW1zIiwiaWkiLCJoYXNPdmVybGFwIiwibGVuMSIsImxlbjIiLCJyZXN0UGFyYW0xIiwicmVzdFBhcmFtMiIsInBhcnNlZFNpZ25hdHVyZXMiLCJwYXJzZVNpZ25hdHVyZSIsIm5vdE51bGwiLCJwYXJzZWRTaWduYXR1cmUiLCJjb25mbGljdGluZ1NpZ25hdHVyZSIsImhhc0NvbmZsaWN0aW5nUGFyYW1zIiwic3BsaXRQYXJhbXMiLCJzb3J0IiwiY29tcGFyZVNpZ25hdHVyZXMiLCJvazAiLCJvazEiLCJvazIiLCJvazMiLCJvazQiLCJvazUiLCJhbGxPayIsImNvbXBpbGVUZXN0cyIsInRlc3QwMCIsIm5vdE9rIiwidGVzdDEwIiwidGVzdDIwIiwidGVzdDMwIiwidGVzdDQwIiwidGVzdDUwIiwidGVzdDAxIiwidGVzdDExIiwidGVzdDIxIiwidGVzdDMxIiwidGVzdDQxIiwidGVzdDUxIiwiZm5zIiwiY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nIiwiZm4wIiwidW5kZWYiLCJmbjEiLCJmbjIiLCJmbjMiLCJmbjQiLCJmbjUiLCJsZW4wIiwibGVuMyIsImxlbjQiLCJsZW41IiwiaVN0YXJ0IiwiaUVuZCIsImdlbmVyaWMiLCJjcmVhdGVFcnJvciIsImFyZzAiLCJhcmcxIiwiZm42IiwiZGVmaW5lUHJvcGVydHkiLCJjcmVhdGVTaWduYXR1cmVzTWFwIiwic3RhcnQiLCJlbmQiLCJpdGVtIiwiYXJyYXkxIiwiYXJyYXkyIiwiY29udGFpbnMyIiwiZW50cmllcyIsIl9zaWduYXR1cmUiLCJfZm4iLCJjcmVhdGVUeXBlZEZ1bmN0aW9uIiwic3RyaW5nLCBPYmplY3QiLCJnZXROYW1lIiwiLi4uRnVuY3Rpb24iLCJleHRyYWN0U2lnbmF0dXJlcyIsInN0cmluZywgLi4uRnVuY3Rpb24iLCJjcmVhdGUiLCJjcmVhdGUyIiwiZmluZCIsImFkZFR5cGUiLCJiZWZvcmVPYmplY3RUZXN0Iiwic3BsaWNlIiwiYWRkQ29udmVyc2lvbiIsImZhY3RvcnkyIiwiaXNGaW5pdGUiLCJzaWduIiwib3B0aW9ucyIsImlzTmFOIiwicHJlY2lzaW9uIiwibm90YXRpb24iLCJpc051bWJlciIsInRvRml4ZWQiLCJ0b0V4cG9uZW50aWFsIiwiU3RyaW5nIiwicm91bmRlZCIsInJvdW5kRGlnaXRzIiwic3BsaXROdW1iZXIiLCJleHBvbmVudCIsImNvZWZmaWNpZW50cyIsIm5ld0V4cCIsIm1pc3NpbmdaZXJvcyIsImV4cERpZmYiLCJkZWNpbWFsSWR4IiwiZGVjaW1hbHMiLCJkZWNpbWFsVmFsIiwidG9FbmdpbmVlcmluZyIsImxvd2VyRXhwIiwidXBwZXJFeHAiLCJ6ZXJvcyIsInRvUHJlY2lzaW9uIiwicmVwbGFjZSIsImRpZ2l0czIiLCJzaWduMiIsInBhcnNlRmxvYXQiLCJ6ZXJvczIiLCJwYXJzZUludCIsInNwbGl0VmFsdWUiLCJwcCIsImZpcnN0Iiwic2hpZnQiLCJ1bnNoaWZ0IiwicG9wIiwiREJMX0VQU0lMT04iLCJlcHNpbG9uIiwiZGlmZiIsImd0IiwidmFsdWVXaXRob3V0RXhwIiwibXVsIiwidmFsdWVTdHIiLCJpc1plcm8iLCJ0b1NpZ25pZmljYW50RGlnaXRzIiwiZXhwMiIsInRleHQiLCJzZWFyY2giLCJzdWJzdHJpbmciLCJmb3JtYXROdW1iZXIiLCJmb3JtYXRCaWdOdW1iZXIiLCJsb29rc0xpa2VGcmFjdGlvbiIsImZyYWN0aW9uIiwiZm9ybWF0QXJyYXkiLCJpc1N0cmluZyIsInN5bnRheCIsImZvcm1hdCIsImVzY2FwZWQiLCJjaGFyQXQiLCJyZWxhdGlvbiIsIkRpbWVuc2lvbkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiSW5kZXhFcnJvciIsImRpbSIsImRpbU5leHQiLCJjaGlsZCIsImlzSW50ZWdlciIsImRlZmF1bHRWYWx1ZSIsImVsZW0iLCJvbGRMZW4iLCJuZXdMZW4iLCJtaW5MZW4iLCJzaXplcyIsIm5ld0FycmF5IiwiZmxhdEFycmF5IiwiZmxhdCIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInByb2R1Y3QiLCJhcnJheVNpemUiLCJ0b3RhbFNpemUiLCJzaXplSW5kZXgiLCJ0bXBBcnJheTIiLCJ0bXBBcnJheSIsIl9yZXNoYXBlIiwiZGltcyIsIm91dGVyIiwiX3Vuc3F1ZWV6ZSIsIm5leHQiLCJzZXBhcmF0b3IiLCJ0eXBlT2YyIiwiaXNBcnJheTIiLCJpdGVtVHlwZSIsImdldEFycmF5RGF0YVR5cGUiLCJkZXBlbmRlbmNpZXMyIiwibWV0YSIsInNjb3BlIiwiZGVwcyIsInByb3BlcnRpZXMyIiwicGlja1NoYWxsb3ciLCJzdHJpcE9wdGlvbmFsTm90YXRpb24iLCJkZXBlbmRlbmN5IiwiaXNPcHRpb25hbERlcGVuZGVuY3kiLCJldmVyeSIsIm1pc3NpbmdEZXBlbmRlbmNpZXMiLCJpc0ZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJhc3NlcnRBbmRDcmVhdGUiLCJSYW5nZUVycm9yIiwiaXNEaW1lbnNpb25FcnJvciIsImlzSW5kZXhFcnJvciIsIl9jcmVhdGVUeXBlZDIiLCJ0eXBlZEZ1bmN0aW9uIiwiY3JlYXRlVHlwZWQiLCJfcmVmIiwiQmlnTnVtYmVyIiwiQ29tcGxleCIsIkRlbnNlTWF0cml4IiwiRnJhY3Rpb24iLCJpc0Jvb2xlYW4iLCJpc0Z1bmN0aW9uIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiQ29tcGxleDIiLCJ0b051bWJlciIsIkZyYWN0aW9uMiIsImluZXhhY3QiLCJxdWFkcmFudCIsImNyZWF0ZVJlc3VsdFNldCIsIlJlc3VsdFNldCIsInRvSlNPTiIsIm1hdGhqcyIsImZyb21KU09OIiwianNvbiIsImlzQ2xhc3MiLCJFWFBfTElNSVQiLCJOVU1FUkFMUyIsIkxOMTAiLCJERUZBVUxUUyIsInJvdW5kaW5nIiwibW9kdWxvIiwidG9FeHBOZWciLCJ0b0V4cFBvcyIsIm1pbkUiLCJtYXhFIiwiY3J5cHRvIiwiZXh0ZXJuYWwiLCJpbnZhbGlkQXJndW1lbnQiLCJkZWNpbWFsRXJyb3IiLCJtYXRoZmxvb3IiLCJtYXRocG93IiwiaXNCaW5hcnkiLCJpc0hleCIsImlzT2N0YWwiLCJpc0RlY2ltYWwiLCJCQVNFIiwiTE4xMF9QUkVDSVNJT04iLCJQSV9QUkVDSVNJT04iLCJQIiwiayIsIndzIiwiaW5kZXhPZkxhc3RXb3JkIiwiZ2V0WmVyb1N0cmluZyIsInJtIiwicmVwZWF0aW5nIiwiZGkiLCJyZCIsImJhc2VJbiIsImJhc2VPdXQiLCJhcnJMIiwic3RyTCIsInJldmVyc2UiLCJhYnNvbHV0ZVZhbHVlIiwiZmluYWxpc2UiLCJjb21wYXJlZFRvIiwiY21wIiwieGRMIiwieWRMIiwieGQiLCJ5ZCIsInhzIiwieXMiLCJOYU4iLCJjb3NpbmUiLCJwciIsIkN0b3IiLCJzZCIsInRpbnlQb3ciLCJ0YXlsb3JTZXJpZXMiLCJ0aW1lcyIsImNvczJ4IiwibWludXMiLCJwbHVzIiwidG9MZXNzVGhhbkhhbGZQaSIsIm5lZyIsImN1YmVSb290IiwiY2JydCIsInJlcCIsInQzIiwidDNwbHVzeCIsImRpZ2l0c1RvU3RyaW5nIiwiZGl2aWRlIiwiZXEiLCJkZWNpbWFsUGxhY2VzIiwiZHAiLCJkaXZpZGVkQnkiLCJkaXYiLCJkaXZpZGVkVG9JbnRlZ2VyQnkiLCJkaXZUb0ludCIsImdyZWF0ZXJUaGFuIiwiZ3JlYXRlclRoYW5PckVxdWFsVG8iLCJndGUiLCJoeXBlcmJvbGljQ29zaW5lIiwiY29zaCIsIm9uZSIsImNvc2gyX3giLCJkOCIsImh5cGVyYm9saWNTaW5lIiwic2luaCIsInNpbmgyX3giLCJkNSIsImQxNiIsImQyMCIsImh5cGVyYm9saWNUYW5nZW50IiwidGFuaCIsImludmVyc2VDb3NpbmUiLCJoYWxmUGkiLCJpc05lZyIsImdldFBpIiwiYXNpbiIsImludmVyc2VIeXBlcmJvbGljQ29zaW5lIiwiYWNvc2giLCJsdGUiLCJsbiIsImludmVyc2VIeXBlcmJvbGljU2luZSIsImFzaW5oIiwiaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50IiwiYXRhbmgiLCJ3cHIiLCJ4c2QiLCJpbnZlcnNlU2luZSIsImF0YW4iLCJpbnZlcnNlVGFuZ2VudCIsInB4IiwiaXNJbnQiLCJpc05lZ2F0aXZlIiwiaXNQb3NpdGl2ZSIsImlzUG9zIiwibGVzc1RoYW4iLCJsdCIsImxlc3NUaGFuT3JFcXVhbFRvIiwibG9nYXJpdGhtIiwiYmFzZSIsImlzQmFzZTEwIiwiaW5mIiwibnVtIiwibmF0dXJhbExvZ2FyaXRobSIsImdldExuMTAiLCJjaGVja1JvdW5kaW5nRGlnaXRzIiwieGUiLCJ4TFR5IiwiZ2V0QmFzZTEwRXhwb25lbnQiLCJtb2QiLCJuYXR1cmFsRXhwb25lbnRpYWwiLCJuZWdhdGVkIiwiY2FycnkiLCJnZXRQcmVjaXNpb24iLCJzaW5lIiwic2luMl94Iiwic3F1YXJlUm9vdCIsInRhbmdlbnQiLCJ0YW4iLCJyTCIsInRvQmluYXJ5IiwidG9TdHJpbmdCaW5hcnkiLCJ0b0RlY2ltYWxQbGFjZXMiLCJ0b0RQIiwiZmluaXRlVG9TdHJpbmciLCJ0b0ZyYWN0aW9uIiwibWF4RCIsIm4wIiwidG9IZXhhZGVjaW1hbCIsInRvSGV4IiwidG9OZWFyZXN0IiwidG9PY3RhbCIsInRvUG93ZXIiLCJ5biIsImludFBvdyIsInRvU0QiLCJ0cnVuY2F0ZWQiLCJ0cnVuYyIsInRlbXAiLCJhTCIsImJMIiwibG9nQmFzZSIsIm1vcmUiLCJwcm9kIiwicHJvZEwiLCJxZCIsInJlbSIsInJlbUwiLCJyZW0wIiwieGkiLCJ4TCIsInlkMCIsInlMIiwibXVsdGlwbHlJbnRlZ2VyIiwiY29tcGFyZSIsImlzVHJ1bmNhdGVkIiwicm91bmRVcCIsInhkaSIsImlzRXhwIiwibm9uRmluaXRlVG9TdHJpbmciLCJ6cyIsInRydW5jYXRlIiwibHRndCIsImd1YXJkIiwicG93MiIsInN1bSIsImMwIiwibnVtZXJhdG9yIiwiY2hhckNvZGVBdCIsImlzSHlwZXJib2xpYyIsInUiLCJwaSIsImlzT2RkIiwiY29udmVydEJhc2UiLCJvYmoiLCJ1c2VEZWZhdWx0cyIsImRlZmF1bHRzIiwicHMiLCJnZXRSYW5kb21WYWx1ZXMiLCJyYW5kb21CeXRlcyIsIkRlY2ltYWwiLCJtYXhPck1pbiIsIlVpbnQzMkFycmF5IiwiU3ltYm9sIiwiZm9yIiwidG9TdHJpbmdUYWciLCJpMiIsIkRlY2ltYWwyIiwicGFyc2VEZWNpbWFsIiwiZGl2aXNvciIsImlzRmxvYXQiLCJwYXJzZU90aGVyIiwiUk9VTkRfVVAiLCJST1VORF9ET1dOIiwiUk9VTkRfQ0VJTCIsIlJPVU5EX0ZMT09SIiwiUk9VTkRfSEFMRl9VUCIsIlJPVU5EX0hBTEZfRE9XTiIsIlJPVU5EX0hBTEZfRVZFTiIsIlJPVU5EX0hBTEZfQ0VJTCIsIlJPVU5EX0hBTEZfRkxPT1IiLCJFVUNMSUQiLCJjb25maWciLCJpc0RlY2ltYWxJbnN0YW5jZSIsImh5cG90IiwibG9nMTAiLCJsb2cyIiwiY3JlYXRlQmlnTnVtYmVyQ2xhc3MiLCJvbiIsImNvbmZpZzIiLCJyb290IiwiY29zaDIiLCJzaW5oMiIsInBhcnNlcl9leGl0IiwiX2EyIiwiX2IyIiwicmUiLCJpbSIsInRva2VucyIsInBhcnNlIiwiYWJzMiIsImxvaCIsImxvZ0h5cG90IiwiZXhwbTEiLCJsaW1pdCIsImNvc20xIiwiY290Iiwic2VjIiwiY3NjIiwidDEiLCJ0MiIsImFjb3QiLCJhc2VjIiwiYWNzYyIsImNvdGgiLCJjc2NoIiwic2VjaCIsInJlcyIsIm5vSU0iLCJvbmVNaW51cyIsIm9uZVBsdXMiLCJhY290aCIsImFjc2NoIiwiYXNlY2giLCJpbnZlcnNlIiwicGxhY2VzIiwicmV0IiwidG9WZWN0b3IiLCJpc0luZmluaXRlIiwiRSIsImNyZWF0ZUNvbXBsZXhDbGFzcyIsInRvUG9sYXIiLCJzdHJSZSIsInN0ckltIiwiZnJvbVBvbGFyIiwiaGFzQmFzZSIsIlAyIiwiSW50ZXJtZWRpYXRlSW5oZXJpdG9yIiwiZXJyb3JDb25zdHJ1Y3RvciIsIkRpdmlzaW9uQnlaZXJvIiwiSW52YWxpZFBhcmFtZXRlciIsImZhY3RvcnMiLCJNIiwiQSIsIkIiLCJDIiwiRCIsIk4iLCJhc3NpZ24iLCJnY2QiLCJsY20iLCJmYWN0b3JpemUiLCJzaW1wbGlmeSIsImVwcyIsImNvbnQiLCJyZWMiLCJkaXZpc2libGUiLCJleGNsdWRlV2hvbGUiLCJ3aG9sZSIsInRvTGF0ZXgiLCJ0b0NvbnRpbnVlZCIsImRlYyIsImN5Y0xlbiIsImN5Y2xlTGVuIiwiY3ljT2ZmIiwicmVtMSIsInJlbTIiLCJtb2Rwb3ciLCJjeWNsZVN0YXJ0IiwiY3JlYXRlRnJhY3Rpb25DbGFzcyIsImNyZWF0ZVJhbmdlQ2xhc3MiLCJSYW5nZSIsImhhc1N0YXJ0IiwiaGFzRW5kIiwiaGFzU3RlcCIsIm51bXMiLCJzaXplIiwidG9BcnJheSIsImNyZWF0ZU1hdHJpeENsYXNzIiwiTWF0cml4Iiwic3RvcmFnZSIsImRhdGF0eXBlIiwic3Vic2V0IiwicmVwbGFjZW1lbnQiLCJnZXQiLCJyZXNpemUiLCJyZXNoYXBlIiwic2tpcFplcm9zIiwiY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyIsIl9kYXRhIiwiX3NpemUiLCJfZGF0YXR5cGUiLCJwcmVwcm9jZXNzIiwidHlwZU9mIiwiaXNTY2FsYXIiLCJfZ2V0U3VibWF0cml4IiwiZGltZW5zaW9uIiwic3VibWF0cml4Iiwic1NpemUiLCJpU2l6ZSIsInVuc3F1ZWV6ZSIsImRhdGFJbmRleCIsInN1YkluZGV4IiwibmV3U2l6ZSIsImNoYW5nZWQiLCJjcmVhdGVEZW5zZU1hdHJpeCIsImdldERhdGFUeXBlIiwiX2dldCIsIl9zZXQiLCJpbmRleEkiLCJpc0NvbGxlY3Rpb24iLCJzaXplQXJyYXkiLCJfcmVzaXplMiIsInJlY3Vyc2UyIiwicmVjdXJzZSIsImRpYWdvbmFsIiwia1N1cGVyIiwia1N1YiIsInJvd3MiLCJjb2x1bW5zIiwiX3ZhbHVlIiwibXMiLCJzd2FwUm93cyIsIl9zd2FwUm93cyIsInZpIiwiZGVlcE1hcCIsIm4xIiwibjIiLCJhYnNOdW1iZXIiLCJhZGROdW1iZXIiLCJtdWx0aXBseU51bWJlciIsInVuYXJ5TWludXNOdW1iZXIiLCJjZWlsTnVtYmVyIiwibW9kTnVtYmVyIiwicG93TnVtYmVyIiwicm91bmROdW1iZXIiLCJjcmVhdGVJc051bWVyaWMiLCJudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4iLCJDb21wbGV4IHwgVW5pdCB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfCBOb2RlIiwiQXJyYXkgfCBNYXRyaXgiLCJjcmVhdGVFcXVhbFNjYWxhciIsImJvb2xlYW4sIGJvb2xlYW4iLCJudW1iZXIsIG51bWJlciIsIm5lYXJseUVxdWFsIiwiQmlnTnVtYmVyLCBCaWdOdW1iZXIiLCJiaWdOZWFybHlFcXVhbCIsIkZyYWN0aW9uLCBGcmFjdGlvbiIsIkNvbXBsZXgsIENvbXBsZXgiLCJjb21wbGV4RXF1YWxzIiwiVW5pdCwgVW5pdCIsImVxdWFsQmFzZSIsImZhY3RvcnkiLCJfcmVmMiIsImNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzIiwiZXF1YWxTY2FsYXIiLCJTcGFyc2VNYXRyaXgiLCJzb3VyY2UiLCJfdmFsdWVzIiwiX2luZGV4IiwiX3B0ciIsInB0ciIsInZhbHVlcyIsInplcm8iLCJyb3ciLCJpZHgiLCJrayIsIm12YWx1ZXMiLCJtaW5kZXgiLCJtcHRyIiwicHYiLCJ2YWx1ZXMyIiwiaW5zIiwiazAiLCJrMSIsImNyZWF0ZVNwYXJzZU1hdHJpeCIsImRlbnNpdHkiLCJfZ2V0c3Vic2V0IiwiX3NldHN1YnNldCIsIl9nZXRWYWx1ZUluZGV4IiwiY29sSW5kZXgiLCJyb3dJbmRleCIsIl9pIiwicjEiLCJfaTIiLCJfaTMiLCJfaiIsIm1pblJvdyIsIm1heFJvdyIsIm1pbkNvbHVtbiIsIm1heENvbHVtbiIsImludm9rZSIsIl9rIiwiX2k1IiwiX21hcCIsIl9rMiIsIl9pNyIsIl90b0FycmF5IiwiX2ZvckVhY2hSb3ciLCJreCIsImt5IiwidngiLCJ2eSIsImNyZWF0ZU51bWJlciIsIm51bWJlciIsInN0cmluZyIsImluY2x1ZGVzIiwiVW5pdCIsIm51bGwiLCJVbml0LCBzdHJpbmcgfCBVbml0IiwidW5pdCIsInZhbHVlbGVzc1VuaXQiLCJjcmVhdGVCaWdudW1iZXIiLCJjcmVhdGVGcmFjdGlvbiIsImNyZWF0ZU1hdHJpeCIsIl9jcmVhdGUiLCJmb3JtYXQyIiwic3RyaW5nLCBzdHJpbmciLCJBcnJheSB8IE1hdHJpeCwgc3RyaW5nIiwiQXJyYXkgfCBNYXRyaXgsIHN0cmluZywgc3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZVVuYXJ5TWludXMiLCJjcmVhdGVBYnMiLCJjcmVhdGVBZGRTY2FsYXIiLCJmaXhQcmVmaXgiLCJjcmVhdGVBbGdvcml0aG0xMSIsImF2YWx1ZXMiLCJhaW5kZXgiLCJhcHRyIiwiYXNpemUiLCJhZHQiLCJjdmFsdWVzIiwiY2luZGV4IiwiY3B0ciIsImNyZWF0ZUFsZ29yaXRobTE0IiwiYWRhdGEiLCJjZGF0YSIsIl9pdGVyYXRlIiwibGV2ZWwiLCJhdiIsImJ2IiwiY3YiLCJjcmVhdGVDZWlsIiwiYWxnb3JpdGhtMTEiLCJhbGdvcml0aG0xNCIsInJvdW5kMiIsInJlc3VsdCIsIkNvbXBsZXgsIG51bWJlciIsIkZyYWN0aW9uLCBudW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIiwiU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXkiLCJjcmVhdGVGaXgiLCJfQ29tcGxleCIsImZsb29yMiIsImNlaWwyIiwibnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRmxvb3IiLCJjcmVhdGVBbGdvcml0aG0wMSIsImRlbnNlTWF0cml4Iiwic3BhcnNlTWF0cml4IiwiYnZhbHVlcyIsImJpbmRleCIsImJwdHIiLCJic2l6ZSIsImJkdCIsIm1hcmsiLCJjcmVhdGVBbGdvcml0aG0wNCIsInhhIiwieGIiLCJ3YSIsIndiIiwiY3JlYXRlQWxnb3JpdGhtMTAiLCJjcmVhdGVBbGdvcml0aG0xMyIsImJkYXRhIiwiY3NpemUiLCJjcmVhdGVBbGdvcml0aG0wMiIsImNpaiIsImNyZWF0ZUFsZ29yaXRobTAzIiwiY3JlYXRlQWxnb3JpdGhtMDUiLCJ3YWkiLCJ3YmkiLCJ2YyIsImNyZWF0ZUFsZ29yaXRobTEyIiwiYWxnb3JpdGhtMDIiLCJhbGdvcml0aG0wMyIsImFsZ29yaXRobTA1IiwiYWxnb3JpdGhtMTIiLCJhbGdvcml0aG0xMyIsIlNwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4IiwiU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgiLCJBcnJheSwgQXJyYXkiLCJBcnJheSwgTWF0cml4IiwiTWF0cml4LCBBcnJheSIsIlNwYXJzZU1hdHJpeCwgYW55IiwiRGVuc2VNYXRyaXgsIGFueSIsImFueSwgU3BhcnNlTWF0cml4IiwiYW55LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBhbnkiLCJhbnksIEFycmF5IiwiY3JlYXRlTXVsdGlwbHlTY2FsYXIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQiLCJfbm9ybWFsaXplIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4IiwibXVsdGlwbHkiLCJjcmVhdGVNdWx0aXBseSIsInNpemUxIiwiYWxlbmd0aCIsImJjb2x1bW5zIiwibWYiLCJfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeCIsIl9tdWx0aXBseU1hdHJpeFZlY3RvciIsImFyb3dzIiwiYWNvbHVtbnMiLCJicm93cyIsImliIiwidmJpIiwia2EwIiwia2ExIiwia2EiLCJpYSIsImljIiwiX211bHRpcGx5TWF0cml4TWF0cml4IiwiamIiLCJrYjAiLCJrYjEiLCJrYiIsInZiaWoiLCJleHRlbmQiLCJNYXRyaXgsIE1hdHJpeCIsInhzaXplIiwieXNpemUiLCJfbXVsdGlwbHlWZWN0b3JWZWN0b3IiLCJfbXVsdGlwbHlWZWN0b3JNYXRyaXgiLCJhbnksIGFueSIsImFueSwgYW55LCAuLi5hbnkiLCJyZXN0IiwiY3JlYXRlU3VidHJhY3QiLCJ1bmFyeU1pbnVzIiwiYWxnb3JpdGhtMDEiLCJhbGdvcml0aG0xMCIsImNyZWF0ZUFsZ29yaXRobTA3IiwidmEiLCJ2YiIsImNyZWF0ZUNvbmoiLCJxdWV1ZSIsIm1hcDIiLCJkZWwiLCJpZCIsIm9sZEluZGV4IiwiaGl0IiwibnVJbmRleCIsImRlbGV0ZSIsImNsZWFyIiwiaGFzaGVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJoYXNoZXIyIiwibWVtb2l6ZTIiLCJjYWNoZSIsIk1hcCIsImxydSIsImxydVF1ZXVlIiwiaGFzaCIsImhhcyIsIm5ld1ZhbCIsImNyZWF0ZUlkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyIiwiX2lkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsImNvbHMiLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nIiwiX2lkZW50aXR5VmVjdG9yIiwiQXJyYXksIHN0cmluZyIsIk1hdHJpeCwgc3RyaW5nIiwiQmlnIiwibWluaW11bSIsIkFyZ3VtZW50c0Vycm9yIiwiaXNBcmd1bWVudHNFcnJvciIsImNyZWF0ZVNpemUiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsIiwibm9NYXRyaXgiLCJpc1BsYWluT2JqZWN0IiwiaXNTYWZlUHJvcGVydHkiLCJpc1NhZmVNZXRob2QiLCJzYWZlTmF0aXZlUHJvcGVydGllcyIsIkZ1bmN0aW9uIiwibWV0aG9kIiwic2FmZU5hdGl2ZU1ldGhvZHMiLCJ0b0xvY2FsZVN0cmluZyIsImNyZWF0ZVN1YnNldCIsIkFycmF5LCBJbmRleCIsIk1hdHJpeCwgSW5kZXgiLCJPYmplY3QsIEluZGV4IiwiX2dldE9iamVjdFByb3BlcnR5Iiwic3RyaW5nLCBJbmRleCIsIl9nZXRTdWJzdHJpbmciLCJBcnJheSwgSW5kZXgsIGFueSIsIkFycmF5LCBJbmRleCwgYW55LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnksIGFueSIsInN0cmluZywgSW5kZXgsIHN0cmluZyIsIl9zZXRTdWJzdHJpbmciLCJzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyIsIk9iamVjdCwgSW5kZXgsIGFueSIsIl9zZXRPYmplY3RQcm9wZXJ0eSIsInN0ckxlbiIsInN1YnN0ciIsImNoYXJzIiwiX2xlbiIsImdldFNhZmVQcm9wZXJ0eSIsInVwZGF0ZWQiLCJjcmVhdGVaZXJvcyIsIl96ZXJvcyIsIi4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyIsImhhc0JpZ051bWJlcnMiLCJjcmVhdGVGb3JtYXQiLCJhbnkiLCJmb3JtYXRTdHJpbmciLCJhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyIiwiY3JlYXRlTnVtZXJpYyIsIl9udW1iZXIiLCJiaWdudW1iZXIiLCJ2YWxpZElucHV0VHlwZXMiLCJ2YWxpZE91dHB1dFR5cGVzIiwibm9CaWdudW1iZXIiLCJmcmFjdGlvbjIiLCJub0ZyYWN0aW9uIiwib3V0cHV0VHlwZSIsImlucHV0VHlwZSIsImNyZWF0ZURpdmlkZVNjYWxhciIsIm51bWVyaWMiLCJVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciIsIm51bWVyaWMyIiwibnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQiLCJjcmVhdGVQb3ciLCJpZGVudGl0eSIsIl9wb3ciLCJwcmVkaWN0YWJsZSIsIkFycmF5LCBudW1iZXIiLCJfcG93QXJyYXkiLCJBcnJheSwgQmlnTnVtYmVyIiwiTWF0cml4LCBudW1iZXIiLCJfcG93TWF0cml4IiwiTWF0cml4LCBCaWdOdW1iZXIiLCJVbml0LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJ5RnJhYyIsInlOdW0iLCJleCIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiTk9fSU5UIiwiY3JlYXRlUm91bmQiLCJfb2JqZWN0U3ByZWFkIiwicm91bmROdW1iZXJTaWduYXR1cmVzIiwiQ29tcGxleCwgQmlnTnVtYmVyIiwiX24iLCJudW1iZXIsIEJpZ051bWJlciIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4IiwiQXJyYXksIG51bWJlciB8IEJpZ051bWJlciIsImNyZWF0ZUVxdWFsIiwiYWxnb3JpdGhtMDciLCJjcmVhdGVTbWFsbGVyIiwiY3JlYXRlTGFyZ2VyIiwiY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIiwic21hbGxlciIsImxhcmdlciIsIm9uZU92ZXJMb2dQaGkiLCJGaWJvbmFjY2lIZWFwIiwiX21pbmltdW0iLCJub2RlIiwicGFyZW50IiwiZGVncmVlIiwiaXNGaWJvbmFjY2lIZWFwIiwiaW5zZXJ0IiwiZXh0cmFjdE1pbmltdW0iLCJudW1iZXJPZkNoaWxkcmVuIiwidGVtcFJpZ2h0IiwiYXJyYXlTaXplMiIsIm51bVJvb3RzIiwiX2ZpbmRNaW5pbXVtTm9kZSIsInJlbW92ZSIsIl9kZWNyZWFzZUtleSIsIl9saW5rTm9kZXMiLCJjcmVhdGVTcGFDbGFzcyIsIlNwYSIsIl9oZWFwIiwiaXNTcGEiLCJhY2N1bXVsYXRlIiwiaGVhcCIsIm5vZGVzIiwic3dhcCIsIm5vZGVpIiwibm9kZWoiLCJtZW1vaXplIiwiY3JlYXRlQmlnTnVtYmVyUGkiLCJjcmVhdGVVbml0Q2xhc3MiLCJzdWJ0cmFjdCIsImZpeCIsImVxdWFsIiwiaXNOdW1lcmljIiwiX0JpZ051bWJlciIsIl9GcmFjdGlvbiIsInVuaXRzIiwiZGltZW5zaW9ucyIsIlVOSVRfTk9ORSIsInByZWZpeCIsIlBSRUZJWEVTIiwiTk9ORSIsIkJBU0VfRElNRU5TSU9OUyIsInNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiIsIm51bWJlcjIiLCJpc0RpZ2l0IiwidGVudGF0aXZlTnVtYmVyIiwidGVudGF0aXZlSW5kZXgiLCJ1bml0TmFtZSIsImlzVmFsaWRBbHBoYSIsImZpcnN0QyIsInRvRmluZCIsInVuaXQyIiwicG93ZXJNdWx0aXBsaWVyQ3VycmVudCIsImV4cGVjdGluZ1VuaXQiLCJwYXJzZU51bWJlciIsInBhcnNlQ2hhcmFjdGVyIiwicG93ZXJNdWx0aXBsaWVyU3RhY2siLCJwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QiLCJ1U3RyIiwib2xkQyIsInBhcnNlVW5pdCIsIl9maW5kVW5pdCIsImJhc2VEaW0iLCJhdXRvIiwiYWxsb3dOb1VuaXRzIiwiX2lzRGVyaXZlZCIsInVuaXRWYWx1ZSIsInVuaXRPZmZzZXQiLCJ1bml0UG93ZXIiLCJ1bml0UHJlZml4VmFsdWUiLCJfZ2V0TnVtYmVyQ29udmVydGVyIiwiX2Rlbm9ybWFsaXplIiwicHJlZml4VmFsdWUiLCJVTklUUyIsInByZWZpeGVzIiwiZW5kc1dpdGgiLCJfdW5pdCIsInByZWZpeExlbiIsInByZWZpeE5hbWUiLCJfcHJlZml4IiwiQkFTRV9VTklUUyIsImlzVmFsdWVsZXNzVW5pdCIsIm90aGVyIiwiaW52ZXJ0ZWQiLCJ2YWxUaGlzIiwidmFsT3RoZXIiLCJnZXROdW1lcmljSWZVbml0bGVzcyIsIlciLCJ0b051bWVyaWMiLCJmb3JtYXRVbml0cyIsIm1hdGNoaW5nQmFzZSIsIm1hdGNoaW5nVW5pdCIsInByb3Bvc2VkVW5pdExpc3QiLCJrZXkyIiwiY3VycmVudFVuaXRTeXN0ZW0iLCJtaXNzaW5nQmFzZURpbSIsInRvU0kiLCJVTklUX1NZU1RFTVMiLCJzaSIsInN0ck51bSIsInN0ckRlbiIsIm5OdW0iLCJuRGVuIiwiX2k0Iiwic2ltcCIsImlzSW1hZ2luYXJ5IiwiVkFSIiwiVkEiLCJfYmVzdFByZWZpeCIsInVuaXRTdHIiLCJhYnNWYWx1ZSIsImFic1VuaXRWYWx1ZSIsImJlc3RQcmVmaXgiLCJiZXN0RGlmZiIsInNjaWVudGlmaWMiLCJzcGxpdFVuaXQiLCJwYXJ0cyIsInhOdW1lcmljIiwieFJvdW5kZWQiLCJ0ZXN0U3VtIiwiU0hPUlQiLCJkYSIsIkciLCJUIiwiWiIsIlkiLCJMT05HIiwiZGVjYSIsImhlY3RvIiwia2lsbyIsIm1lZ2EiLCJnaWdhIiwidGVyYSIsInBldGEiLCJleGEiLCJ6ZXR0YSIsInlvdHRhIiwiZGVjaSIsImNlbnRpIiwibWlsbGkiLCJtaWNybyIsIm5hbm8iLCJwaWNvIiwiZmVtdG8iLCJhdHRvIiwiemVwdG8iLCJ5b2N0byIsIlNRVUFSRUQiLCJDVUJJQyIsIkJJTkFSWV9TSE9SVF9TSSIsIkJJTkFSWV9TSE9SVF9JRUMiLCJLaSIsIk1pIiwiR2kiLCJUaSIsIlBpIiwiRWkiLCJaaSIsIllpIiwiQklOQVJZX0xPTkdfU0kiLCJCSU5BUllfTE9OR19JRUMiLCJraWJpIiwibWViaSIsImdpYmkiLCJ0ZWJpIiwicGViaSIsImV4aSIsInplYmkiLCJ5b2JpIiwiQlRVIiwiTU0iLCJTSE9SVExPTkciLCJfZXh0ZW5kcyIsIkJJTkFSWV9TSE9SVCIsIkJJTkFSWV9MT05HIiwiTUFTUyIsIkxFTkdUSCIsIlRJTUUiLCJDVVJSRU5UIiwiVEVNUEVSQVRVUkUiLCJMVU1JTk9VU19JTlRFTlNJVFkiLCJBTU9VTlRfT0ZfU1VCU1RBTkNFIiwiRk9SQ0UiLCJTVVJGQUNFIiwiVk9MVU1FIiwiRU5FUkdZIiwiUE9XRVIiLCJQUkVTU1VSRSIsIkVMRUNUUklDX0NIQVJHRSIsIkVMRUNUUklDX0NBUEFDSVRBTkNFIiwiRUxFQ1RSSUNfUE9URU5USUFMIiwiRUxFQ1RSSUNfUkVTSVNUQU5DRSIsIkVMRUNUUklDX0lORFVDVEFOQ0UiLCJFTEVDVFJJQ19DT05EVUNUQU5DRSIsIk1BR05FVElDX0ZMVVgiLCJNQUdORVRJQ19GTFVYX0RFTlNJVFkiLCJGUkVRVUVOQ1kiLCJBTkdMRSIsIkJJVCIsIm1ldGVyIiwiaW5jaCIsImZvb3QiLCJ5YXJkIiwibWlsZSIsImxpbmsiLCJyb2QiLCJjaGFpbiIsImFuZ3N0cm9tIiwiaW4iLCJmdCIsIm1pIiwibGkiLCJjaCIsIm1pbCIsIm0yIiwic3FpbiIsInNxZnQiLCJzcXlkIiwic3FtaSIsInNxcmQiLCJzcWNoIiwic3FtaWwiLCJhY3JlIiwiaGVjdGFyZSIsIm0zIiwiTCIsImxpdHJlIiwiY3VpbiIsImN1ZnQiLCJjdXlkIiwidGVhc3Bvb24iLCJ0YWJsZXNwb29uIiwiZHJvcCIsImd0dCIsIm1pbmltIiwiZmx1aWRkcmFtIiwiZmx1aWRvdW5jZSIsImdpbGwiLCJjYyIsImN1cCIsInBpbnQiLCJxdWFydCIsImdhbGxvbiIsImJlZXJiYXJyZWwiLCJvaWxiYXJyZWwiLCJob2dzaGVhZCIsImZsZHIiLCJmbG96IiwiZ2kiLCJjcCIsInB0IiwicXQiLCJnYWwiLCJiYmwiLCJvYmwiLCJncmFtIiwidG9uIiwidG9ubmUiLCJncmFpbiIsImRyYW0iLCJvdW5jZSIsInBvdW5kbWFzcyIsImh1bmRyZWR3ZWlnaHQiLCJzdGljayIsInN0b25lIiwiZ3IiLCJkciIsIm96IiwibGJtIiwiY3d0Iiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsImRheSIsIndlZWsiLCJtb250aCIsInllYXIiLCJkZWNhZGUiLCJjZW50dXJ5IiwibWlsbGVubml1bSIsImhlcnR6IiwicmVjaXByb2NhbCIsIkh6IiwicmFkIiwicmFkaWFuIiwiZGVnIiwiZ3JhZCIsImdyYWRpYW4iLCJjeWNsZSIsImFyY3NlYyIsImFyY21pbiIsImFtcGVyZSIsIksiLCJkZWdDIiwiZGVnRiIsImRlZ1IiLCJrZWx2aW4iLCJjZWxzaXVzIiwiZmFocmVuaGVpdCIsInJhbmtpbmUiLCJtb2wiLCJtb2xlIiwiY2QiLCJjYW5kZWxhIiwibmV3dG9uIiwiZHluIiwiZHluZSIsImxiZiIsInBvdW5kZm9yY2UiLCJraXAiLCJraWxvZ3JhbWZvcmNlIiwiSiIsImpvdWxlIiwiZXJnIiwiV2giLCJlViIsImVsZWN0cm9udm9sdCIsIndhdHQiLCJocCIsIkkiLCJQYSIsInBzaSIsImF0bSIsImJhciIsInRvcnIiLCJtbUhnIiwibW1IMk8iLCJjbUgyTyIsImNvdWxvbWIiLCJmYXJhZCIsIkYiLCJ2b2x0IiwiViIsIm9obSIsImhlbnJ5IiwiSCIsInNpZW1lbnMiLCJTIiwid2ViZXIiLCJXYiIsInRlc2xhIiwiYml0cyIsImJ5dGVzIiwiQUxJQVNFUyIsIm1ldGVycyIsImluY2hlcyIsImZlZXQiLCJ5YXJkcyIsIm1pbGVzIiwibGlua3MiLCJyb2RzIiwiY2hhaW5zIiwiYW5nc3Ryb21zIiwibGl0cmVzIiwibGl0ZXIiLCJsaXRlcnMiLCJ0ZWFzcG9vbnMiLCJ0YWJsZXNwb29ucyIsIm1pbmltcyIsImZsdWlkZHJhbXMiLCJmbHVpZG91bmNlcyIsImdpbGxzIiwiY3VwcyIsInBpbnRzIiwicXVhcnRzIiwiZ2FsbG9ucyIsImJlZXJiYXJyZWxzIiwib2lsYmFycmVscyIsImhvZ3NoZWFkcyIsImd0dHMiLCJncmFtcyIsInRvbnMiLCJ0b25uZXMiLCJncmFpbnMiLCJkcmFtcyIsIm91bmNlcyIsInBvdW5kbWFzc2VzIiwiaHVuZHJlZHdlaWdodHMiLCJzdGlja3MiLCJsYiIsImxicyIsImtpcHMiLCJrZ2YiLCJhY3JlcyIsImhlY3RhcmVzIiwic3FmZWV0Iiwic3F5YXJkIiwic3FtaWxlIiwic3FtaWxlcyIsIm1taGciLCJtbWgybyIsImNtaDJvIiwic2Vjb25kcyIsInNlY3MiLCJtaW51dGVzIiwibWlucyIsImhvdXJzIiwiaHIiLCJocnMiLCJkYXlzIiwid2Vla3MiLCJtb250aHMiLCJ5ZWFycyIsImRlY2FkZXMiLCJjZW50dXJpZXMiLCJtaWxsZW5uaWEiLCJncmFkaWFucyIsImN5Y2xlcyIsImFyY3NlY29uZCIsImFyY3NlY29uZHMiLCJhcmNtaW51dGUiLCJhcmNtaW51dGVzIiwiQlRVcyIsIndhdHRzIiwiam91bGVzIiwiYW1wZXJlcyIsImNvdWxvbWJzIiwidm9sdHMiLCJvaG1zIiwiZmFyYWRzIiwid2ViZXJzIiwidGVzbGFzIiwiZWxlY3Ryb252b2x0cyIsIm1vbGVzIiwiYml0IiwiYnl0ZSIsImNvbmZpZzMiLCJjcmVhdGVQaSIsImNncyIsInVzIiwiX2tleTIiLCJzZXRVbml0U3lzdGVtIiwiZ2V0VW5pdFN5c3RlbSIsIl9rZXkiLCJ0eXBlQ29udmVydGVycyIsIl9uYW1lMiIsIl91bml0MiIsImFsaWFzIiwiX2tleTMiLCJjcmVhdGVVbml0Iiwib3ZlcnJpZGUiLCJfa2V5NCIsImRlbGV0ZVVuaXQiLCJhbGlhc2VzIiwibGFzdFVuaXQiLCJfa2V5NSIsImNyZWF0ZVVuaXRTaW5nbGUiLCJkZWZpbml0aW9uIiwiYmFzZU5hbWUiLCJkZWZVbml0IiwibmV3VW5pdCIsImFueU1hdGNoIiwiX25ld0Jhc2VVbml0IiwibmV3QmFzZVVuaXQiLCJfaTYiLCJfaTgiLCJhbGlhc05hbWUiLCJfYWxpYXMiLCJfa2V5NiIsIm51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nIiwiT2JqZWN0LCBPYmplY3QiLCJzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCIsImRlZiIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCIsImFsZ29yaXRobTA0IiwiY3JlYXRlRG90IiwiY29uaiIsIkFycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgiLCJfdmFsaWRhdGVEaW0iLCJhSXNDb2x1bW4iLCJiSXNDb2x1bW4iLCJhZGQyIiwibXVsMiIsIl9jMiIsIl9jMjIiLCJfYzMiLCJ4aW5kZXgiLCJ4dmFsdWVzIiwieWluZGV4IiwieXZhbHVlcyIsInhMZW4iLCJ5TGVuIiwieFNpemUiLCJ5U2l6ZSIsImtleXdvcmRzIiwiY3JlYXRlTm9kZSIsIm1hdGhXaXRoVHJhbnNmb3JtIiwiTm9kZTIiLCJldmFsdWF0ZSIsImNvbXBpbGUiLCJjb21tZW50IiwiZXhwciIsIl9jb21waWxlIiwic3ltYm9sIiwibWF0aCIsImFyZ05hbWVzIiwiX2lmTm9kZSIsInRyYXZlcnNlIiwiY2FsbGJhY2syIiwicGF0aCIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJjbG9uZURlZXAiLCJjdXN0b21TdHJpbmciLCJoYW5kbGVyIiwiX3RvU3RyaW5nIiwidG9IVE1MIiwidG9UZXgiLCJjdXN0b21UZXgiLCJfdG9UZXgiLCJnZXRJZGVudGlmaWVyIiwiZ2V0Q29udGVudCIsImlzT2JqZWN0UHJvcGVydHkiLCJnZXRPYmplY3RQcm9wZXJ0eSIsImVycm9yVHJhbnNmb3JtIiwiY3JlYXRlQWNjZXNzb3JOb2RlIiwiTm9kZSIsImFjY2VzcyIsImFjY2Vzc0ZhY3RvcnkiLCJBY2Nlc3Nvck5vZGUiLCJiaW5kIiwiZXZhbE9iamVjdCIsImV2YWxJbmRleCIsImNvbnRleHQiLCJuZWVkUGFyZW50aGVzaXMiLCJjcmVhdGVBcnJheU5vZGUiLCJpdGVtcyIsIkFycmF5Tm9kZSIsImV2YWxJdGVtcyIsImV2YWxJdGVtIiwiY2hpbGROb2RlIiwicHJvcGVydGllcyIsIkFzc2lnbm1lbnROb2RlIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsIkNvbmRpdGlvbmFsTm9kZSIsImxhdGV4TGVmdFBhcmVucyIsImxhdGV4UmlnaHRQYXJlbnMiLCJsYXRleFBhcmVucyIsIk9wZXJhdG9yTm9kZTpvciIsImFzc29jaWF0aXZpdHkiLCJhc3NvY2lhdGl2ZVdpdGgiLCJPcGVyYXRvck5vZGU6eG9yIiwiT3BlcmF0b3JOb2RlOmFuZCIsIk9wZXJhdG9yTm9kZTpiaXRPciIsIk9wZXJhdG9yTm9kZTpiaXRYb3IiLCJPcGVyYXRvck5vZGU6Yml0QW5kIiwiT3BlcmF0b3JOb2RlOmVxdWFsIiwiT3BlcmF0b3JOb2RlOnVuZXF1YWwiLCJPcGVyYXRvck5vZGU6c21hbGxlciIsIk9wZXJhdG9yTm9kZTpsYXJnZXIiLCJPcGVyYXRvck5vZGU6c21hbGxlckVxIiwiT3BlcmF0b3JOb2RlOmxhcmdlckVxIiwiUmVsYXRpb25hbE5vZGUiLCJPcGVyYXRvck5vZGU6bGVmdFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCIsIk9wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0IiwiT3BlcmF0b3JOb2RlOnRvIiwiUmFuZ2VOb2RlIiwiT3BlcmF0b3JOb2RlOmFkZCIsIk9wZXJhdG9yTm9kZTpzdWJ0cmFjdCIsIk9wZXJhdG9yTm9kZTptdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkaXZpZGUiLCJPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHkiLCJPcGVyYXRvck5vZGU6ZG90RGl2aWRlIiwiT3BlcmF0b3JOb2RlOm1vZCIsIk9wZXJhdG9yTm9kZTp1bmFyeVBsdXMiLCJPcGVyYXRvck5vZGU6dW5hcnlNaW51cyIsIk9wZXJhdG9yTm9kZTpiaXROb3QiLCJPcGVyYXRvck5vZGU6bm90IiwiT3BlcmF0b3JOb2RlOnBvdyIsIk9wZXJhdG9yTm9kZTpkb3RQb3ciLCJPcGVyYXRvck5vZGU6ZmFjdG9yaWFsIiwiT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSIsIl9ub2RlIiwicGFyZW50aGVzaXMiLCJpZGVudGlmaWVyIiwiZ2V0UHJlY2VkZW5jZSIsIm5vZGVBIiwibm9kZUIiLCJpZGVudGlmaWVyQSIsImlkZW50aWZpZXJCIiwiY3JlYXRlQXNzaWdubWVudE5vZGUiLCJhc3NpZ25GYWN0b3J5IiwicHJlY2VkZW5jZSIsImV4cHJQcmVjZWRlbmNlIiwiZXZhbFZhbHVlIiwic2V0U2FmZVByb3BlcnR5IiwiY2hpbGRPYmplY3QiLCJldmFsUGFyZW50T2JqZWN0IiwicGFyZW50UHJvcCIsImV2YWxQYXJlbnRJbmRleCIsInBhcmVudEluZGV4IiwiY3JlYXRlQmxvY2tOb2RlIiwiYmxvY2tzIiwiQmxvY2tOb2RlIiwiYmxvY2siLCJ2aXNpYmxlIiwiZXZhbEJsb2NrcyIsInJlc3VsdHMiLCJjcmVhdGVDb25kaXRpb25hbE5vZGUiLCJjb25kaXRpb24iLCJ0cnVlRXhwciIsImZhbHNlRXhwciIsImV2YWxDb25kaXRpb24iLCJldmFsVHJ1ZUV4cHIiLCJldmFsRmFsc2VFeHByIiwidGVzdENvbmRpdGlvbiIsImNvbmRpdGlvblByZWNlZGVuY2UiLCJ0cnVlUHJlY2VkZW5jZSIsImZhbHNlUHJlY2VkZW5jZSIsImRlZmF1bHRFc2NhcGVzIiwieyIsIn0iLCJcXCIsIiMiLCIkIiwiJSIsIiYiLCJeIiwiXyIsIn4iLCJmb3JtYXRFc2NhcGVzIiwi4oCTIiwi4oCUIiwiICIsIlx0IiwiXHJcbiIsIlxuIiwiZGVmYXVsdEVzY2FwZU1hcEZuIiwiZGVmYXVsdEVzY2FwZXMyIiwiZm9ybWF0RXNjYXBlczIiLCJsYXRleFN5bWJvbHMiLCJBbHBoYSIsIkJldGEiLCJiZXRhIiwiR2FtbWEiLCJnYW1tYSIsIkRlbHRhIiwiZGVsdGEiLCJFcHNpbG9uIiwidmFyZXBzaWxvbiIsIlpldGEiLCJ6ZXRhIiwiRXRhIiwiZXRhIiwiVGhldGEiLCJ2YXJ0aGV0YSIsIklvdGEiLCJpb3RhIiwiS2FwcGEiLCJrYXBwYSIsInZhcmthcHBhIiwiTGFtYmRhIiwiTXUiLCJtdSIsIk51IiwibnUiLCJYaSIsIk9taWNyb24iLCJvbWljcm9uIiwidmFycGkiLCJSaG8iLCJyaG8iLCJ2YXJyaG8iLCJTaWdtYSIsInNpZ21hIiwidmFyc2lnbWEiLCJUYXUiLCJ0YXUiLCJVcHNpbG9uIiwidXBzaWxvbiIsIlBoaSIsInZhcnBoaSIsIkNoaSIsImNoaSIsIlBzaSIsIk9tZWdhIiwib21lZ2EiLCJ0cnVlIiwiZmFsc2UiLCJJbmYiLCJpbmZpbml0eSIsIm9vIiwibGltIiwidW5kZWZpbmVkIiwibGF0ZXhPcGVyYXRvcnMiLCJjdHJhbnNwb3NlIiwiZmFjdG9yaWFsIiwiZG90UG93IiwidW5hcnlQbHVzIiwiYml0Tm90Iiwibm90IiwiZG90TXVsdGlwbHkiLCJkb3REaXZpZGUiLCJsZWZ0U2hpZnQiLCJyaWdodEFyaXRoU2hpZnQiLCJyaWdodExvZ1NoaWZ0IiwidW5lcXVhbCIsInNtYWxsZXJFcSIsImxhcmdlckVxIiwiYml0QW5kIiwiYml0WG9yIiwiYml0T3IiLCJhbmQiLCJ4b3IiLCJvciIsImxhdGV4RnVuY3Rpb25zIiwiMSIsIjIiLCJjdWJlIiwibG9nMXAiLCJub3JtIiwibnRoUm9vdCIsIm50aFJvb3RzIiwic3F1YXJlIiwiYmVsbE51bWJlcnMiLCJjYXRhbGFuIiwic3RpcmxpbmdTMiIsImNyb3NzIiwiZXhwbSIsImludiIsInNxcnRtIiwiY29tYmluYXRpb25zIiwiY29tYmluYXRpb25zV2l0aFJlcCIsImVyZiIsInZhcmlhbmNlIiwiMCIsImNvbXBsZXgiLCJzcGFyc2UiLCJsYXRleFVuaXRzIiwiX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpIiwicHJlc2VydmVGb3JtYXR0aW5nIiwiX3JlZiRlc2NhcGVNYXBGbiIsImVzY2FwZU1hcEZuIiwicnVubmluZ1N0ciIsImVzY2FwZXMiLCJlc2NhcGVLZXlzIiwiX2xvb3AiLCJzcGVjaWFsQ2hhckZvdW5kIiwiZXNjYXBlTGF0ZXhMaWIiLCJpc1VuaXQyIiwiZXNjYXBlTGF0ZXgiLCJjcmVhdGVDb25zdGFudE5vZGUiLCJDb25zdGFudE5vZGUiLCJjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiY2hpbGRBcmdOYW1lcyIsImV2YWxFeHByIiwiY2hpbGRBcmdzIiwiZXNjYXBlIiwidG9TeW1ib2wiLCJjcmVhdGVJbmRleE5vZGUiLCJkb3ROb3RhdGlvbiIsIkluZGV4Tm9kZSIsImV2YWxEaW1lbnNpb25zIiwibmVlZHNFbmQiLCJldmFsU3RhcnQiLCJldmFsRW5kIiwiZXZhbFN0ZXAiLCJjcmVhdGVSYW5nZSIsIl9ldmFsU3RhcnQiLCJfZXZhbEVuZCIsIl9ldmFsU3RlcCIsIl9jaGlsZEFyZ05hbWVzIiwiZXZhbFJhbmdlIiwiX2V2YWxSYW5nZSIsImV2YWxEaW1lbnNpb24iLCJjcmVhdGVPYmplY3ROb2RlIiwiT2JqZWN0Tm9kZSIsImV2YWxFbnRyaWVzIiwic3RyaW5naWZpZWRLZXkiLCJwYXJzZWRLZXkiLCJjcmVhdGVPcGVyYXRvck5vZGUiLCJvcCIsImltcGxpY2l0IiwiT3BlcmF0b3JOb2RlIiwibGF0ZXgiLCJnZXRBc3NvY2lhdGl2aXR5Iiwib3BlcmFuZFByZWNlZGVuY2UiLCJvcGVyYW5kSWRlbnRpZmllciIsInJvb3RJZGVudGlmaWVyIiwibGhzUGFyZW5zIiwicmhzUGFyZW5zIiwibGhzUHJlY2VkZW5jZSIsImFzc29jV2l0aExocyIsImlzQXNzb2NpYXRpdmVXaXRoIiwiX3Jvb3RJZGVudGlmaWVyIiwibGhzSWRlbnRpZmllciIsInJoc0lkZW50aWZpZXIiLCJyaHNQcmVjZWRlbmNlIiwiYXNzb2NXaXRoUmhzIiwiYXJnUHJlY2VkZW5jZSIsImFzc29jV2l0aEFyZyIsImFyZ0Fzc29jaWF0aXZpdHkiLCJpc1BhcmVudGhlc2lzTm9kZTIiLCJldmFsQXJncyIsImV2YWxBcmcwIiwiX2V2YWxBcmciLCJldmFsQXJnMSIsImV2YWxBcmciLCJpc1VuYXJ5IiwicGFyZW5zIiwiY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMiLCJhc3NvYyIsIm9wZXJhbmQiLCJvcElzTmFtZWQiLCJsaHMiLCJyaHMiLCJzdHJpbmdpZmllZEFyZ3MiLCJsaHNUZXgiLCJyaHNUZXgiLCJ0ZXhpZmllZEFyZ3MiLCJjcmVhdGVQYXJlbnRoZXNpc05vZGUiLCJjb250ZW50IiwiUGFyZW50aGVzaXNOb2RlIiwiY3JlYXRlUmFuZ2VOb2RlIiwic3RhcnRQcmVjZWRlbmNlIiwic3RlcFByZWNlZGVuY2UiLCJlbmRQcmVjZWRlbmNlIiwiY3JlYXRlUmVsYXRpb25hbE5vZGUiLCJjb25kaXRpb25hbHMiLCJpc1JlbGF0aW9uYWxOb2RlIiwic2VsZjIiLCJjb21waWxlZCIsImV2YWxMaHMiLCJldmFsUmhzIiwiY29uZEZuIiwicGFyYW1TdHJpbmdzIiwicGFyYW1QcmVjZWRlbmNlIiwib3BlcmF0b3JNYXAiLCJCaWdOdW1iZXJEZXBlbmRlbmNpZXMiLCJDb21wbGV4RGVwZW5kZW5jaWVzIiwiTWF0cml4RGVwZW5kZW5jaWVzIiwiRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJGcmFjdGlvbkRlcGVuZGVuY2llcyIsInR5cGVkRGVwZW5kZW5jaWVzIiwiZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMiLCJTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJudW1iZXJEZXBlbmRlbmNpZXMiLCJmcmFjdGlvbkRlcGVuZGVuY2llcyIsIm1hdHJpeERlcGVuZGVuY2llcyIsInVuYXJ5TWludXNEZXBlbmRlbmNpZXMiLCJhYnNEZXBlbmRlbmNpZXMiLCJhZGRTY2FsYXJEZXBlbmRlbmNpZXMiLCJyb3VuZERlcGVuZGVuY2llcyIsInplcm9zRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMiLCJzaXplRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlEZXBlbmRlbmNpZXMiLCJkb3REZXBlbmRlbmNpZXMiLCJjb25qRGVwZW5kZW5jaWVzIiwic3VidHJhY3REZXBlbmRlbmNpZXMiLCJsYXJnZXJEZXBlbmRlbmNpZXMiLCJpZGVudGl0eURlcGVuZGVuY2llcyIsIm51bWVyaWNEZXBlbmRlbmNpZXMiLCJiaWdudW1iZXJEZXBlbmRlbmNpZXMiLCJkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMiLCJzdWJzZXREZXBlbmRlbmNpZXMiLCJVbml0RGVwZW5kZW5jaWVzIiwiZXF1YWxEZXBlbmRlbmNpZXMiLCJmaXhEZXBlbmRlbmNpZXMiLCJjZWlsRGVwZW5kZW5jaWVzIiwiZmxvb3JEZXBlbmRlbmNpZXMiLCJmb3JtYXREZXBlbmRlbmNpZXMiLCJpc051bWVyaWNEZXBlbmRlbmNpZXMiLCJwb3dEZXBlbmRlbmNpZXMiLCJOb2RlRGVwZW5kZW5jaWVzIiwiU3ltYm9sTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZVN5bWJvbE5vZGUiLCJTeW1ib2xOb2RlIiwibWF0aDIiLCJwYXJzZURlcGVuZGVuY2llcyIsIkFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyIsIkFycmF5Tm9kZURlcGVuZGVuY2llcyIsIkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIiwiQmxvY2tOb2RlRGVwZW5kZW5jaWVzIiwiUmVzdWx0U2V0RGVwZW5kZW5jaWVzIiwiQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyIsIkZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZUZ1bmN0aW9uTm9kZSIsIkZ1bmN0aW9uTm9kZSIsInJhd0FyZ3MiLCJfcmF3QXJncyIsImV2YWxGbiIsIl9yYXdBcmdzMiIsIm5vZGVUb1N0cmluZyIsInRlbXBsYXRlIiwicmVnZXgiLCJpbnB1dFBvcyIsImV4ZWMiLCJSZWZlcmVuY2VFcnJvciIsIm5vZGVUb1RleCIsImxhdGV4Q29udmVydGVyIiwiY3VzdG9tVG9UZXgiLCJleHBhbmRUZW1wbGF0ZSIsIkluZGV4Tm9kZURlcGVuZGVuY2llcyIsIlJhbmdlRGVwZW5kZW5jaWVzIiwiT2JqZWN0Tm9kZURlcGVuZGVuY2llcyIsIk9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyIsIlBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyIsIlJhbmdlTm9kZURlcGVuZGVuY2llcyIsIlJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlUGFyc2UiLCJleHByZXNzaW9uIiwicGFyc2VTdGFydCIsImV4cHJlc3Npb25zIiwicGFyc2VNdWx0aXBsZSIsIkFycmF5IHwgTWF0cml4LCBPYmplY3QiLCJleHRyYU5vZGVzIiwiVE9LRU5UWVBFIiwiREVMSU1JVEVSUyIsIiwiLCIoIiwiKSIsIlsiLCJdIiwiXCIiLCInIiwiOyIsIisiLCItIiwiKiIsIi4qIiwiLyIsIi4vIiwiLl4iLCIhIiwifCIsIl58IiwiPSIsIjoiLCI/IiwiPT0iLCIhPSIsIjwiLCI+IiwiPD0iLCI+PSIsIjw8IiwiPj4iLCI+Pj4iLCJOQU1FRF9ERUxJTUlURVJTIiwiQ09OU1RBTlRTIiwiTlVNRVJJQ19DT05TVEFOVFMiLCJzdGF0ZSIsImN1cnJlbnRTdHJpbmciLCJ0b2tlblR5cGUiLCJ0b2tlbiIsImlzV2hpdGVzcGFjZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJuZXN0aW5nTGV2ZWwiLCJpc0RpZ2l0RG90IiwiaXNIZXhEaWdpdCIsImlzRGVjaW1hbE1hcmsiLCJuZXh0Q2hhcmFjdGVyIiwiY3JlYXRlU3ludGF4RXJyb3IiLCJpc0FscGhhIiwicHJldkNoYXJhY3RlciIsImNvbmRpdGlvbmFsTGV2ZWwiLCJwYXJzZUFzc2lnbm1lbnQiLCJwYXJzZUJsb2NrIiwidmFsaWQiLCJwYXJzZUxvZ2ljYWxYb3IiLCJwYXJzZUxvZ2ljYWxPciIsInBhcnNlQ29uZGl0aW9uYWwiLCJwYXJzZUxvZ2ljYWxBbmQiLCJwYXJzZUJpdHdpc2VPciIsInBhcnNlQml0d2lzZVhvciIsInBhcnNlQml0d2lzZUFuZCIsInBhcnNlUmVsYXRpb25hbCIsInBhcnNlU2hpZnQiLCJvcGVyYXRvcnMiLCJjb25kIiwicGFyc2VDb252ZXJzaW9uIiwicGFyc2VSYW5nZSIsInBhcnNlQWRkU3VidHJhY3QiLCJwYXJzZU11bHRpcGx5RGl2aWRlIiwicGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uIiwicGFyc2VSdWxlMiIsInBhcnNlVW5hcnkiLCJ0b2tlblN0YXRlcyIsIkN1c3RvbU5vZGUiLCJwYXJzZUFjY2Vzc29ycyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuIiwicGFyc2VSb3ciLCJudW1iZXJTdHIiLCJwYXJzZUVuZCIsInBhcnNlUGFyZW50aGVzZXMiLCJwYXJzZU9iamVjdCIsInBhcnNlTWF0cml4IiwicGFyc2VTaW5nbGVRdW90ZXNTdHJpbmciLCJwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyIsInBhcnNlU3ltYm9sIiwicGFyc2VDdXN0b21Ob2RlcyIsInBhcnNlTGVmdEhhbmRPcGVyYXRvcnMiLCJwYXJzZVBvdyIsImNvbCIsImNoYXIiLCJjUHJldiIsImNOZXh0IiwiaXNWYWxpZExhdGluT3JHcmVlayIsImlzVmFsaWRNYXRoU3ltYm9sIiwiY3JlYXRlRXZhbHVhdGUiLCJpbnZEZXBlbmRlbmNpZXMiLCJkZXREZXBlbmRlbmNpZXMiLCJsdXBEZXBlbmRlbmNpZXMiLCJTcGFEZXBlbmRlbmNpZXMiLCJGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIiwic21hbGxlckRlcGVuZGVuY2llcyIsImNyZWF0ZUx1cCIsIl9kZW5zZUxVUCIsImx2YWx1ZXMiLCJsaW5kZXgiLCJscHRyIiwibHNpemUiLCJ1dmFsdWVzIiwidWluZGV4IiwidXB0ciIsInVzaXplIiwicHZDbyIsInB2T2MiLCJzd2FwSW5kZWNlcyIsInNwYSIsImsyIiwidmtqIiwidmlrIiwidmpqIiwicGFic3YiLCJhYnN2IiwiVSIsIl9zcGFyc2VMVVAiLCJsZGF0YSIsInVkYXRhIiwidmlqIiwiY3JlYXRlRGV0IiwibHVwIiwibWF0cml4MiIsImRlY29tcCIsImV2ZW5DeWNsZXMiLCJ2aXNpdGVkIiwiX2RldCIsImNyZWF0ZUludiIsIl9pbnYiLCJtYXQiLCJBQmlnIiwickJpZyIsIkFjIiwiQmMiLCJBciIsIkJyIiwiY3JlYXRlRGl2aWRlIiwiQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4IiwiYW55LCBBcnJheSB8IE1hdHJpeCIsImN0eCIsIm9uY2UiLCJvZmYiLCJsaXN0ZW5lciIsImVtaXQiLCJldnRBcnIiLCJldnRzIiwibGl2ZUV2ZW50cyIsInRpbnlFbWl0dGVyTW9kdWxlIiwiZWxlbWVudCIsImVhY2giLCJzaGFkb3dSb290IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhc3NpZ25lZFNsb3QiLCJhc3NpZ25lZEVsZW1lbnRzIiwiYXNzaWduZWQiLCJzaGVldCIsInNlbGVjdG9yIiwicnVsZXMiLCJpbnNlcnRSdWxlIiwiYWRkUnVsZSIsImZhdGFsIiwiVWludDE2QXJyYXkiLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJlbmNvZGUiLCJzdHJlYW0iLCJVaW50OEFycmF5IiwiQnVmZmVyIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInJlc3BvbnNlVGV4dCIsInJldm9rZU9iamVjdFVSTCIsImRlY29kZSIsIkFycmF5QnVmZmVyIiwid2luZG93IiwiZ2xvYmFsIiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiYm91bmRzIiwiQm91bmRzIiwicmVmZXJlbmNlRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkb2NFbCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJkb2N1bWVudDIiLCJkb2N1bWVudEVsZW1lbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJib2R5U3R5bGUiLCJvZmZzZXRUb3AiLCJtYXJnaW5Ub3AiLCJvZmZzZXRMZWZ0IiwibWFyZ2luTGVmdCIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImNsaWVudEhlaWdodCIsImdldERvY3VtZW50Qm91bmRzIiwiZGVmYXVsdFZpZXciLCJjb21wdXRlZFN0eWxlIiwiZWwiLCJvZmZzZXRQYXJlbnQiLCJwcmV2Q29tcHV0ZWRTdHlsZSIsImNvbnRhaW5zIiwicGFyZW50RWxlbWVudCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsInZpZXdwb3J0VGVzdGVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHRtbCIsIndyYXBwZXIiLCJpbm5lckhUTUwiLCJyZW1vdmVDaGlsZCIsInN0eWxlIiwidmlzaWJpbGl0eSIsInBvaW50ZXJFdmVudHMiLCJleHBvcnRzMiIsIk5FV0VSIiwiT0xERVIiLCJvbGRlc3QiLCJuZXdlc3QiLCJfa2V5bWFwIiwib2xkZXN0RW50cnkiLCJMUlVNYXAiLCJfbWFya0VudHJ5QXNVc2VkIiwiTUFYX1ZBTFVFIiwiaXQiLCJpdGVyYXRvciIsIml0diIsImRvbmUiLCJFbnRyeSIsImVudCIsIktleUl0ZXJhdG9yIiwiVmFsdWVJdGVyYXRvciIsIkVudHJ5SXRlcmF0b3IiLCJmdW4iLCJ0aGlzT2JqIiwic2VyaWFsaXplQXR0cmlidXRlVmFsdWUiLCJ0YWdOYW1lIiwibmFtZXNwYWNlVVJJIiwib3V0cHV0IiwiY2hpbGROb2RlcyIsIm5vZGVUcmVlVG9YSFRNTCIsInJlcGxhY2VkIiwicmVwbGFjZXIiLCJub2RlTmFtZSIsInNlcmlhbGl6ZUNoaWxkcmVuIiwiZ2V0VGFnTmFtZSIsImlzUm9vdE5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJzZXJpYWxpemVOYW1lc3BhY2UiLCJkZXB0aCIsImF0dHIiLCJhdHRyaWJ1dGVzIiwic2VyaWFsaXplQXR0cmlidXRlIiwic2VyaWFsaXplVGFnIiwibm9kZVZhbHVlIiwic2VyaWFsaXplVGV4dCIsInNlcmlhbGl6ZUNEQVRBIiwiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJkaWdlc3RMZW5ndGgiLCJibG9ja1NpemUiLCJwb3MiLCJIYXNoIiwiSW50MzJBcnJheSIsImJ1ZmZlckxlbmd0aCIsImJ5dGVzSGFzaGVkIiwiZmluaXNoZWQiLCJyZXNldCIsImNsZWFuIiwiZGF0YUxlbmd0aCIsImRhdGFQb3MiLCJoYXNoQmxvY2tzIiwiZmluaXNoIiwiYml0TGVuSGkiLCJiaXRMZW5MbyIsInBhZExlbmd0aCIsImRpZ2VzdCIsIl9zYXZlU3RhdGUiLCJfcmVzdG9yZVN0YXRlIiwiSGFzaDIiLCJITUFDIiwiaW5uZXIiLCJwYWQiLCJpc3RhdGUiLCJvc3RhdGUiLCJITUFDMiIsImhtYWMyIiwiaW5mbyIsImNvdW50ZXIiLCJobWFjIiwiaGtkZlNhbHQiLCJzYWx0Iiwib2ttIiwiaG1hY18iLCJidWZwb3MiLCJmaWxsIiwicGFzc3dvcmQiLCJpdGVyYXRpb25zIiwiZGtMZW4iLCJwcmYiLCJjdHIiLCJkayIsImhrZGYiLCJwYmtkZjIiLCJzaGEyNTYyIiwiZW5jb2RlciIsImV2ZW50Q2FsbGJhY2siLCJob3ZlciIsImFjdGl2ZSIsImZvY3VzIiwiSW1hZ2UiLCJFZGdlcyIsImVsZW1lbnQyIiwibGF5ZXIiLCJXZWJSZW5kZXJlciIsImxheWVycyIsImV4dHJhU3R5bGUiLCJhZGRlZFN0eWxlIiwidGFnIiwiZ2V0QXR0cmlidXRlIiwiRUxFTUVOVF9VSURfQVRUUklCVVRFIiwiZ2VuZXJhdGVFbGVtZW50VUlEIiwic2V0QXR0cmlidXRlIiwiTEFZRVJfQVRUUklCVVRFIiwicGFyZW50TGF5ZXIiLCJnZXRDbG9zZXN0TGF5ZXIiLCJjYWNoZWRDYW52YXNlcyIsIl9XZWJMYXllciIsIkRFRkFVTFRfQ0FDSEVfU0laRSIsIl9oYXNoaW5nQ2FudmFzIiwidmFsIiwiX2NhbnZhcyIsInJvb3RMYXllciIsInRyYXZlcnNlUGFyZW50TGF5ZXJzIiwidHJhdmVyc2VDaGlsZExheWVycyIsImNoaWxkTGF5ZXJzIiwidHJhdmVyc2VMYXllcnMiLCJuZWVkc1JlZnJlc2giLCJfdXBkYXRlUGFyZW50QW5kQ2hpbGRMYXllcnMiLCJhZGRUb1NlcmlhbGl6ZVF1ZXVlIiwib2xkQ2hpbGRMYXllcnMiLCJwcmV2aW91c1BhcmVudExheWVyIiwiX3RyeUNvbnZlcnRFbGVtZW50VG9XZWJMYXllciIsIm5lZWRzUmVtb3ZhbCIsInN0eWxlcyIsInBhZGRpbmciLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJib3JkZXIiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJlbGVtZW50QXR0cmlidXRlIiwiYXR0cmlidXRlSFRNTCIsImxheWVyRWxlbWVudCIsIm5lZWRzSW5saW5lQmxvY2siLCJkaXNwbGF5IiwidXBkYXRlSW5wdXRBdHRyaWJ1dGVzIiwibGF5ZXJIVE1MIiwic2VyaWFsaXphdGlvblJlcGxhY2VyIiwiUkVOREVSSU5HX0FUVFJJQlVURSIsIlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFIiwiZ2V0UHN1ZWRvQXR0cmlidXRlcyIsInBzZXVkb1N0YXRlcyIsInBhcmVudHNIVE1MIiwiX2dldFBhcmVudHNIVE1MIiwiUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSIsInN2Z0NTUyIsIlByb21pc2UiLCJhbGwiLCJnZXRSZW5kZXJpbmdDU1MiLCJlbWJlZEV4dGVybmFsUmVzb3VyY2VzIiwiZG9jU3RyaW5nIiwic3ZnRG9jIiwiX3N2Z0RvY3VtZW50Iiwic3ZnSGFzaCIsIl9zdmdIYXNoIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsInNoYTI1Ni5oYXNoIiwiY2FudmFzSGFzaCIsImNhbnZhc0hhc2hlcyIsImNhbnZhcyIsImNhY2hlZEJvdW5kcyIsImNhY2hlZE1hcmdpbiIsImFkZFRvUmFzdGVyaXplUXVldWUiLCJzdmdJbWFnZSIsIm9ubG9hZCIsImFkZFRvUmVuZGVyUXVldWUiLCJfc3ZnSGFzaFJhc3Rlcml6aW5nIiwic3JjIiwiX3N2Z1NyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbXBsZXRlIiwiY3VycmVudFNyYyIsImhhc2hpbmdDYW52YXMiLCJodyIsImhoIiwiaGN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJoYXNoRGF0YSIsImdldEltYWdlRGF0YSIsImJsYW5rUmV0cnlDb3VudCIsImJsYW5rUmV0cnlDb3VudHMiLCJpc0JsYW5rSW1hZ2UiLCJwaXhlbFJhdGlvIiwiUElYRUxfUkFUSU9fQVRUUklCVVRFIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm5ld0NhbnZhcyIsIm9wZW5zIiwiY2xvc2VzIiwiUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEUiLCJjbG9zZSIsIldlYkxheWVyIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zMiIsInJlc2l6ZU9ic2VydmVycyIsIm1zZyIsInRyaWdnZXIiLCJSZXNpemVPYnNlcnZlclNpemUiLCJpbmxpbmVTaXplIiwiRE9NUmVjdFJlYWRPbmx5IiwiZnJvbVJlY3QiLCJyZWN0YW5nbGUiLCJET01SZWN0UmVhZE9ubHkyIiwiaXNTVkciLCJTVkdFbGVtZW50IiwiaXNIaWRkZW4iLCJnZXRCQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VsZW1lbnQiLCJFbGVtZW50IiwiV2Vha01hcCIsInNjcm9sbFJlZ2V4cCIsInZlcnRpY2FsUmVnZXhwIiwiSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJzZURpbWVuc2lvbiIsInBpeGVsIiwic3dpdGNoU2l6ZXMiLCJ6ZXJvQm94ZXMiLCJkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplIiwiYm9yZGVyQm94U2l6ZSIsImNvbnRlbnRCb3hTaXplIiwiY29udGVudFJlY3QiLCJjYWxjdWxhdGVCb3hTaXplcyIsImZvcmNlUmVjYWxjdWxhdGlvbiIsImNzIiwic3ZnIiwib3duZXJTVkdFbGVtZW50IiwicmVtb3ZlUGFkZGluZyIsImJveFNpemluZyIsIndyaXRpbmdNb2RlIiwiY2FuU2Nyb2xsVmVydGljYWxseSIsIm92ZXJmbG93WSIsImNhblNjcm9sbEhvcml6b250YWxseSIsIm92ZXJmbG93WCIsImJvcmRlclRvcCIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJob3Jpem9udGFsQm9yZGVyQXJlYSIsInZlcnRpY2FsQm9yZGVyQXJlYSIsImhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MiLCJ2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyIsIndpZHRoUmVkdWN0aW9uIiwiaGVpZ2h0UmVkdWN0aW9uIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImJvcmRlckJveFdpZHRoIiwiYm9yZGVyQm94SGVpZ2h0IiwiYm94ZXMiLCJjYWxjdWxhdGVCb3hTaXplIiwib2JzZXJ2ZWRCb3giLCJERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1giLCJCT1JERVJfQk9YIiwiUmVzaXplT2JzZXJ2ZXJFbnRyeSIsImNhbGN1bGF0ZURlcHRoRm9yTm9kZSIsInBhcmVudE5vZGUiLCJicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMiLCJzaGFsbG93ZXN0RGVwdGgiLCJjYWxsYmFja3MyIiwicm8iLCJhY3RpdmVUYXJnZXRzIiwib3QiLCJ0YXJnZXREZXB0aCIsImxhc3RSZXBvcnRlZFNpemUiLCJvYnNlcnZlciIsImNhbGxiYWNrc18xIiwiZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCIsInNraXBwZWRUYXJnZXRzIiwib2JzZXJ2YXRpb25UYXJnZXRzIiwiaXNBY3RpdmUiLCJwcm9jZXNzIiwiZXZlbnQiLCJFcnJvckV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FsbGJhY2tzIiwicXVldWVNaWNyb1Rhc2siLCJ0b2dnbGVfMSIsImVsXzEiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYjIiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInRleHRDb250ZW50Iiwid2F0Y2hpbmciLCJvYnNlcnZlckNvbmZpZyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJldmVudHMiLCJ0aW1lIiwidGltZW91dCIsIm5vdyIsInNjaGVkdWxlZCIsInNjaGVkdWxlciIsIl90aGlzIiwic3RvcHBlZCIsInNjaGVkdWxlIiwicnVuIiwidW50aWwiLCJlbGVtZW50c0hhdmVSZXNpemVkIiwic3RvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNjaGVkdWxlcjIiLCJ1cGRhdGVDb3VudCIsIlJlc2l6ZU9ic2VydmF0aW9uIiwiQ09OVEVOVF9CT1giLCJpc1JlcGxhY2VkRWxlbWVudCIsIlJlc2l6ZU9ic2VydmF0aW9uMiIsIlJlc2l6ZU9ic2VydmVyRGV0YWlsIiwicmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlck1hcCIsImdldE9ic2VydmF0aW9uSW5kZXgiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0IiwiZGV0YWlsIiwiZmlyc3RPYnNlcnZhdGlvbiIsInVub2JzZXJ2ZSIsImxhc3RPYnNlcnZhdGlvbiIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIiLCJSZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyMiIsInNlbGYiLCJQb2x5ZmlsbCIsInNjcmF0Y2hNYXQxIiwic2NyYXRjaE1hdDIiLCJ0ZXh0RGVjb2RlciIsInJlc29sdmUiLCJBVFRSSUJVVEVfUFJFRklYIiwiX25leHRVSUQiLCJzdGF0ZXMiLCJIT1ZFUl9BVFRSSUJVVEUiLCJGT0NVU19BVFRSSUJVVEUiLCJBQ1RJVkVfQVRUUklCVVRFIiwiVEFSR0VUX0FUVFJJQlVURSIsInJvb3ROb2RlIiwiZ2V0Um9vdE5vZGUiLCJzdHlsZVJvb3QiLCJoZWFkIiwicm9vdE5vZGVPYnNlcnZlcnMiLCJyZW5kZXJpbmdTdHlsZUVsZW1lbnQiLCJhcHBlbmQiLCJfV2ViUmVuZGVyZXIiLCJwcmV2aW91c0hhc2giLCJvbkhhc2hDaGFuZ2UiLCJsb2NhdGlvbiIsInRhcmdldEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZXZ0IiwiZm9jdXNFbGVtZW50Iiwic2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMiLCJzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCIsIlNUWUxFX05PREVTIiwibXV0YXRpb25zIiwiZW1iZWRkZWRDU1MiLCJhZGRlZE5vZGVzIiwiYXR0cmlidXRlT2xkVmFsdWUiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJzZXJpYWxpemVRdWV1ZSIsInJhc3Rlcml6ZVF1ZXVlIiwicmVuZGVyUXVldWUiLCJ0YXNrc1BlbmRpbmciLCJtYXhTeW5jVGltZSIsIlRBU0tfU1lOQ19NQVhfVElNRSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwicmVuZGVyIiwic2VyaWFsaXplIiwicmFzdGVyaXplVGFza0NvdW50IiwiVEFTS19BU1lOQ19NQVhfQ09VTlQiLCJyYXN0ZXJpemUiLCJ0aGVuIiwic2NoZWR1bGVJZGxlIiwiX3J1blRhc2tzIiwiaG9zdGluZ09wdGlvbnMiLCJjb250YWluZXIiLCJSRU5ERVJJTkdfQ09OVEFJTkVSX0FUVFJJQlVURSIsInRvdWNoQWN0aW9uIiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImFwcGVuZENoaWxkIiwiaW5pdFJvb3ROb2RlT2JzZXJ2YXRpb24iLCJfaGFuZGxlTXV0YXRpb25zIiwibXV0YXRpb25PYnNlcnZlcnMiLCJzdGFydE11dGF0aW9uT2JzZXJ2ZXIiLCJyZWNvcmQiLCJyZWNvcmRzIiwibGF5ZXIyIiwic2V0TGF5ZXJOZWVkc1JlZnJlc2giLCJfdHJpZ2dlclJlZnJlc2giLCJjYXB0dXJlIiwicm9vdExheWVycyIsImluY2x1c2l2ZSIsImNsb3Nlc3RMYXllckVsZW1lbnQiLCJjbG9zZXN0IiwiaG9zdCIsInBpeGVsU2l6ZSIsInRyYW5zZm9ybU9yaWdpbiIsIm9yaWdpbiIsIm94Iiwib3kiLCJUMSIsIm1ha2VUcmFuc2xhdGlvbiIsIlQyIiwicHJlbXVsdGlwbHkiLCJwcm9taXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRBdHRyaWJ1dGVOUyIsImdldERhdGFVUkwiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsImRhdGFVUkwiLCJpbWdFbGVtZW50IiwiZ2VuZXJhdGVFbWJlZGRlZENTUyIsImhyZWYiLCJjc3MiLCJ0YWtlUmVjb3JkcyIsInNoZWV0cyIsInN0eWxlU2hlZXRzIiwiY3NzUnVsZXMiLCJuZXdSdWxlcyIsImNzc1RleHQiLCJiaW5hcnkiLCJidG9hIiwidXJsIiwiZm91bmQiLCJhdHRyaWJ1dGVDU1MiLCJyZWdFeCIsInJlc291cmNlVVJMIiwiYWNjZXB0IiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsIm9uZXJyb3IiLCJlbWJlZGRlZCIsInN0eWxlRWxlbWVudHMiLCJpblNoYWRvdyIsIlNoYWRvd1Jvb3QiLCJhbGxSdWxlcyIsImZvbnRSdWxlcyIsInJ1bGUiLCJDU1NSdWxlIiwiRk9OVF9GQUNFX1JVTEUiLCJsb2FkaW5nIiwic2V0SW50ZXJ2YWwiLCJwcm9jZXNzU2hlZXRSdWxlcyIsImZvbnRTdHlsZXMiLCJfYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMiLCJnZXRVUkwiLCJyZXNwb25zZSIsImNvbnRlbnRUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJiYXNlNjQiLCJzdGFydHNXaXRoIiwibG9hZGVkIiwicmVuZGVyZWQiLCJsb2FkZXIiLCJyZXNvbHZlUmVuZGVyZWQiLCJvblJlbmRlcmVkIiwiX3VwZGF0ZUlucHV0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnB1dEVsZW1lbnQiLCJjaGVja2VkIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1hZ2VEYXRhIiwiY29sb3IiLCJzZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsImFjdGl2ZUVsZW1lbnQiLCJhdHRyaWJ1dGVOYW1lIiwib2xkVmFsdWUiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsImNsYXNzTmFtZSIsImFzeW5jIiwiVEhSRUUiLCJfVEhSRUUiLCJzY3JhdGNoTWF0cml4Iiwic2NyYXRjaFZlY3RvciIsInNjcmF0Y2hWZWN0b3IyIiwic2NyYXRjaEJvdW5kcyIsInNjcmF0Y2hCb3VuZHMyIiwiT05fQkVGT1JFX1VQREFURSIsIk9iamVjdDNEIiwiTWVzaCIsIldlYkxheWVyM0QiLCJHRU9NRVRSWSIsIk1lc2hCYXNpY01hdGVyaWFsIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJkZXB0aFdyaXRlIiwidHJhbnNwYXJlbnQiLCJhbHBoYVRlc3QiLCJvcGFjaXR5IiwiTWVzaERlcHRoTWF0ZXJpYWwiLCJkZXB0aFBhY2tpbmciLCJSR0JBRGVwdGhQYWNraW5nIiwiX3dlYkxheWVyIiwiY29udGVudE1lc2giLCJfYm91bmRzTWVzaCIsImN1cnNvciIsIm1hdHJpeEF1dG9VcGRhdGUiLCJkZXB0aE1hdGVyaWFsIiwib25CZWZvcmVSZW5kZXIiLCJyZW5kZXJlciIsInNjZW5lIiwiX2NhbWVyYSIsImxheWVyc0J5RWxlbWVudCIsImxheWVyc0J5TWVzaCIsInZpZGVvIiwidGV4dHVyZXMiLCJWaWRlb1RleHR1cmUiLCJ3cmFwUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJ3cmFwVCIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsInRleHR1cmVFbmNvZGluZyIsImVuY29kaW5nIiwiVGV4dHVyZSIsIm5lZWRzVXBkYXRlIiwicGFyZW50V2ViTGF5ZXIiLCJjaGlsZFdlYkxheWVycyIsInJlZnJlc2giLCJfcmVmcmVzaFZpZGVvQm91bmRzIiwiX3JlZnJlc2hET01MYXlvdXQiLCJfbG9jYWxaIiwic2V0RnJvbU1hdHJpeFBvc2l0aW9uIiwiX3ZpZXdaIiwiZ2V0V29ybGRQb3NpdGlvbiIsInBhcmVudFJlbmRlcloiLCJfcmVuZGVyWiIsInJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXJPZmZzZXQiLCJtZXNoIiwidGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwibWF0ZXJpYWwiLCJpbWFnZSIsImNvbnRlbnRTY2FsZSIsImFzcGVjdCIsInRhcmdldEFzcGVjdCIsImRvbVNpemUiLCJ0ZXh0dXJlTmVlZHNVcGRhdGUiLCJpc0hpZGRlbjIiLCJkaXNwb3NlIiwidXBkYXRlQ29udGVudCIsInVwZGF0ZUxheW91dCIsImRvbUxheW91dCIsImF1dG9SZWZyZXNoIiwic2NoZWR1bGVUYXNrc0lmTmVlZGVkIiwidHJhdmVyc2VMYXllcnNQcmVPcmRlciIsIl9kb1VwZGF0ZSIsInRyYXZlcnNlTGF5ZXJBbmNlc3RvcnMiLCJ0cmF2ZXJzZUxheWVyc1Bvc3RPcmRlciIsImRpc3Bvc2VMYXllciIsIm9iamVjdEZpdCIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJ2aWRlb1JhdGlvIiwidmlld1JhdGlvIiwicmVwZWF0IiwiY2xhbXBTY2FsYXIiLCJERUZBVUxUX1BJWEVMU19QRVJfVU5JVCIsInNob3VsZEFwcGx5RE9NTGF5b3V0IiwicGFyZW50Qm91bmRzIiwiV2ViTGF5ZXIzRENvbnRlbnQiLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0IiwiZ2V0Vmlld3BvcnRCb3VuZHMiLCJsZWZ0RWRnZSIsInRvcEVkZ2UiLCJjc3NUcmFuc2Zvcm0iLCJwYXJzZUNTU1RyYW5zZm9ybSIsInVwZGF0ZU1hdHJpeCIsImRlY29tcG9zZSIsImVsZW1lbnRPckhUTUwiLCJSYXljYXN0ZXIiLCJTZXQiLCJfcHJldmlvdXNIb3ZlckxheWVycyIsIl9jb250ZW50TWVzaGVzIiwiRE9NIiwiY3JlYXRlTGF5ZXJUcmVlIiwiX3VwZGF0ZUludGVyYWN0aW9ucyIsImlzUm9vdCIsIm9uTGF5ZXJDcmVhdGUiLCJfV2ViTGF5ZXIzRCIsInNob3VsZCIsIl9pbnRlcmFjdGlvblJheXMiLCJyYXlzIiwiYUxheWVyIiwiYkxheWVyIiwicHJldkhvdmVyIiwiX3ByZXBhcmVIaXRUZXN0IiwicmF5IiwiUmF5IiwiX3JheWNhc3RlciIsImdldFdvcmxkRGlyZWN0aW9uIiwibmVnYXRlIiwiX2hpdEludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0T2JqZWN0cyIsIl9pbnRlcnNlY3Rpb25Tb3J0IiwiaW50ZXJzZWN0aW9uIiwic2V0TmVlZHNSZWZyZXNoIiwicmF5Y2FzdGVyIiwibWVzaE1hcCIsImludGVyc2VjdE9iamVjdCIsImxheWVyQm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRzIiwiY2xpZW50WCIsInV2IiwiY2xpZW50WSIsImVsZW1lbnRCb3VuZGluZ1JlY3QiLCJERUZBVUxUX0xBWUVSX1NFUEFSQVRJT04iLCJQbGFuZUdlb21ldHJ5Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRTtBQUN4QyxJQUFJLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEMsSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDMUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQzVCLEtBQUs7QUFDTCxJQUFJLE9BQU8sZ0JBQWdCLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEYsQ0FBQztBQThCRDtBQUNBLE1BQU0sb0JBQW9CLEdBQUcsc0VBQXNFO0FBQ25HLElBQUkseUVBQXlFO0FBQzdFLElBQUksdURBQXVELENBQUM7QUFDNUQsTUFBTSxxQkFBcUIsaUJBQWlCLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBbUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1CQUFtQixHQUFHLENBQUMsMkVBQTJFLENBQUMsQ0FBQztBQUMxRyxNQUFNLG9CQUFvQixpQkFBaUIsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUEyRHhFO0FBQ0EsU0FBUyxjQUFjLENBQUMsS0FBSyxFQUFFO0FBQy9CLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsUUFBUSxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDdkIsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMvQyxZQUFZLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxZQUFZLE1BQU0sVUFBVSxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDOUYsWUFBWSxJQUFJLFVBQVUsRUFBRTtBQUM1QixnQkFBZ0IsS0FBSyxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUU7QUFDOUMsb0JBQW9CLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLO0FBQ0wsU0FBUyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM5QixRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsTUFBTSxlQUFlLEdBQUcsZUFBZSxDQUFDO0FBQ3hDLE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDO0FBQ3BDLFNBQVMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO0FBQ25DLElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ25CLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJO0FBQ25ELFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEIsWUFBWSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDeEQsWUFBWSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDbkUsU0FBUztBQUNULEtBQUssQ0FBQyxDQUFDO0FBQ1AsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFpQkQsU0FBUyxjQUFjLENBQUMsS0FBSyxFQUFFO0FBQy9CLElBQUksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ2pCLElBQUksSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDekIsUUFBUSxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsWUFBWSxNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEQsWUFBWSxJQUFJLFVBQVUsRUFBRTtBQUM1QixnQkFBZ0IsR0FBRyxJQUFJLFVBQVUsR0FBRyxHQUFHLENBQUM7QUFDeEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM5QixRQUFRLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO0FBQ2xDLFlBQVksSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDN0IsZ0JBQWdCLEdBQUcsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xDLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDdEIsQ0FBQztBQTJIRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0ssTUFBQyxlQUFlLEdBQUcsQ0FBQyxHQUFHLEtBQUs7QUFDakMsSUFBSSxPQUFPLEdBQUcsSUFBSSxJQUFJO0FBQ3RCLFVBQVUsRUFBRTtBQUNaLFVBQVUsUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUN2QixjQUFjLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDOUMsY0FBYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDMUIsRUFBRTtBQUNGLE1BQU0sUUFBUSxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsS0FBSztBQUNoQyxJQUFJLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3BCLFFBQVEsT0FBTztBQUNmLFlBQVksQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEtBQUs7QUFDckYsZ0JBQWdCLE9BQU8sQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQzNDLGdCQUFnQixPQUFPLE9BQU8sQ0FBQztBQUMvQixhQUFhLEVBQUUsRUFBRSxDQUFDO0FBQ2xCLFNBQVMsQ0FBQztBQUNWLEtBQUs7QUFDTCxTQUFTLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsT0FBTztBQUNmLFlBQVksQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbkQsU0FBUyxDQUFDO0FBQ1YsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDcEUsUUFBUSxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzQixLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUMsQ0FBQztBQWFGLE1BQU0sU0FBUyxHQUVULEVBQUUsQ0FBQztBQUNULE1BQU0sU0FBUyxHQUFpRSxFQUFFLENBQUM7QUFDbkYsTUFBTSxJQUFJLEdBQUcsTUFBTSxHQUFHLENBQUM7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxFQUFFLEdBQUcsTUFBTSxLQUFLLENBQUM7QUFDdkIsTUFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO0FBQ3pCLE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM3RCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQzdCLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxFQUFFLEVBQUUsS0FBSztBQUM1QixJQUFJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDOUIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUNoQixRQUFRLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNQSxnQkFBYyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDO0FBQ3ZELE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBS0EsZ0JBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzNELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7QUFDOUIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGNBQWMsQ0FBQztBQUM1RCxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssY0FBYyxDQUFDO0FBRTVELE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxLQUFLLE9BQU8sR0FBRyxLQUFLLFVBQVUsQ0FBQztBQUN0RCxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxRQUFRLENBQUM7QUFDbEQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0FBQ2xELE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDO0FBQ2xFLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxLQUFLO0FBQzNCLElBQUksT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzFFLENBQUMsQ0FBQztBQUNGLE1BQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO0FBQ2pELE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBSyxLQUFLLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0QsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFLLEtBQUs7QUFDN0I7QUFDQSxJQUFJLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFDRixNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsS0FBSyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssaUJBQWlCLENBQUM7QUFDdkUsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFHLEtBQUssUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUMzQyxJQUFJLEdBQUcsS0FBSyxLQUFLO0FBQ2pCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUc7QUFDbEIsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUM7QUFDbkMsTUFBTSxjQUFjLGlCQUFpQixPQUFPO0FBQzVDO0FBQ0EsV0FBVztBQUNYLElBQUksb0NBQW9DO0FBQ3hDLElBQUkscUNBQXFDO0FBQ3pDLElBQUksdUNBQXVDLENBQUMsQ0FBQztBQUM3QyxNQUFNLG1CQUFtQixHQUFHLENBQUMsRUFBRSxLQUFLO0FBQ3BDLElBQUksTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QyxJQUFJLFFBQVEsQ0FBQyxHQUFHLEtBQUs7QUFDckIsUUFBUSxNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0IsUUFBUSxPQUFPLEdBQUcsS0FBSyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDN0MsS0FBSyxFQUFFO0FBQ1AsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sUUFBUSxHQUFHLG1CQUFtQixDQUFDLENBQUMsR0FBRyxLQUFLO0FBQzlDLElBQUksT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3pFLENBQUMsQ0FBQyxDQUFDO0FBQ0gsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLE1BQU0sU0FBUyxHQUFHLG1CQUFtQixDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUY7QUFDQTtBQUNBO0FBQ0EsTUFBTSxZQUFZLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZGO0FBQ0EsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFLLEVBQUUsUUFBUSxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssSUFBSSxRQUFRLEtBQUssUUFBUSxDQUFDLENBQUM7QUFDekcsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLO0FBQ3JDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDekMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDcEIsS0FBSztBQUNMLENBQUMsQ0FBQztBQUNGLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEtBQUs7QUFDakMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDcEMsUUFBUSxZQUFZLEVBQUUsSUFBSTtBQUMxQixRQUFRLFVBQVUsRUFBRSxLQUFLO0FBQ3pCLFFBQVEsS0FBSztBQUNiLEtBQUssQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEtBQUs7QUFDMUIsSUFBSSxNQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUIsSUFBSSxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQzlCLENBQUMsQ0FBQztBQUNGLElBQUksV0FBVyxDQUFDO0FBQ2hCLE1BQU0sYUFBYSxHQUFHLE1BQU07QUFDNUIsSUFBSSxRQUFRLFdBQVc7QUFDdkIsU0FBUyxXQUFXO0FBQ3BCLFlBQVksT0FBTyxVQUFVLEtBQUssV0FBVztBQUM3QyxrQkFBa0IsVUFBVTtBQUM1QixrQkFBa0IsT0FBTyxJQUFJLEtBQUssV0FBVztBQUM3QyxzQkFBc0IsSUFBSTtBQUMxQixzQkFBc0IsT0FBTyxNQUFNLEtBQUssV0FBVztBQUNuRCwwQkFBMEIsTUFBTTtBQUNoQywwQkFBMEIsT0FBTyxNQUFNLEtBQUssV0FBVztBQUN2RCw4QkFBOEIsTUFBTTtBQUNwQyw4QkFBOEIsRUFBRSxDQUFDLEVBQUU7QUFDbkMsQ0FBQzs7QUM5ZUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNoQyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDdkIsSUFBSSxZQUFZLENBQUM7QUFDakIsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUF1RCxFQUFFLENBQUMsQ0FBQztBQUNyRixNQUFNLG1CQUFtQixHQUFHLE1BQU0sQ0FBK0QsRUFBRSxDQUFDLENBQUM7QUFDckcsU0FBUyxRQUFRLENBQUMsRUFBRSxFQUFFO0FBQ3RCLElBQUksT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUM7QUFDdkMsQ0FBQztBQUNELFNBQVMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLEdBQUcsU0FBUyxFQUFFO0FBQ3pDLElBQUksSUFBSSxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEIsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQztBQUNwQixLQUFLO0FBQ0wsSUFBSSxNQUFNLE1BQU0sR0FBRyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDckQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRTtBQUN2QixRQUFRLE1BQU0sRUFBRSxDQUFDO0FBQ2pCLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDdEIsSUFBSSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDdkIsUUFBUSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEIsUUFBUSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ25DLFlBQVksTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNwQyxTQUFTO0FBQ1QsUUFBUSxNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztBQUM5QixLQUFLO0FBQ0wsQ0FBQztBQUNELElBQUlDLEtBQUcsR0FBRyxDQUFDLENBQUM7QUFDWixTQUFTLG9CQUFvQixDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUU7QUFDM0MsSUFBSSxNQUFNLE1BQU0sR0FBRyxTQUFTLGNBQWMsR0FBRztBQUM3QyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzVCLFlBQVksT0FBTyxFQUFFLEVBQUUsQ0FBQztBQUN4QixTQUFTO0FBQ1QsUUFBUSxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMzQyxZQUFZLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM1QixZQUFZLElBQUk7QUFDaEIsZ0JBQWdCLGNBQWMsRUFBRSxDQUFDO0FBQ2pDLGdCQUFnQixXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pDLGdCQUFnQixZQUFZLEdBQUcsTUFBTSxDQUFDO0FBQ3RDLGdCQUFnQixPQUFPLEVBQUUsRUFBRSxDQUFDO0FBQzVCLGFBQWE7QUFDYixvQkFBb0I7QUFDcEIsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNsQyxnQkFBZ0IsYUFBYSxFQUFFLENBQUM7QUFDaEMsZ0JBQWdCLFlBQVksR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNuRSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxDQUFDLEVBQUUsR0FBR0EsS0FBRyxFQUFFLENBQUM7QUFDdEIsSUFBSSxNQUFNLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ2pELElBQUksTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDNUIsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztBQUN6QixJQUFJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLElBQUksTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7QUFDckIsSUFBSSxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUM3QixJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDekIsSUFBSSxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDO0FBQzVCLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ3JCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDOUMsWUFBWSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLFNBQVM7QUFDVCxRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUN0QixTQUFTLGFBQWEsR0FBRztBQUN6QixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBQ3hCLENBQUM7QUFDRCxTQUFTLGNBQWMsR0FBRztBQUMxQixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakMsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLENBQUM7QUFDRCxTQUFTLGFBQWEsR0FBRztBQUN6QixJQUFJLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNsQyxJQUFJLFdBQVcsR0FBRyxJQUFJLEtBQUssU0FBUyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7QUFDbkQsQ0FBQztBQUNELFNBQVMsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO0FBQ2xDLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxZQUFZLEtBQUssU0FBUyxFQUFFO0FBQ3BELFFBQVEsT0FBTztBQUNmLEtBQUs7QUFDTCxJQUFJLElBQUksT0FBTyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2xCLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsT0FBTyxHQUFHLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUNyRCxLQUFLO0FBQ0wsSUFBSSxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9CLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNkLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQztBQUM1QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRTtBQUNoQyxRQUFRLEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDOUIsUUFBUSxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQVNwQyxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsT0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFO0FBQ25FLElBQUksTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDbEI7QUFDQSxRQUFRLE9BQU87QUFDZixLQUFLO0FBQ0wsSUFBSSxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQzlCLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxZQUFZLEtBQUs7QUFDbEMsUUFBUSxJQUFJLFlBQVksRUFBRTtBQUMxQixZQUFZLFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJO0FBQzNDLGdCQUFnQixJQUFJLE1BQU0sS0FBSyxZQUFZLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRTtBQUNwRSxvQkFBb0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN4QyxpQkFBaUI7QUFDakIsYUFBYSxDQUFDLENBQUM7QUFDZixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxJQUFJLElBQUksS0FBSyxPQUFPLGNBQWM7QUFDdEM7QUFDQTtBQUNBLFFBQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QixLQUFLO0FBQ0wsU0FBUyxJQUFJLEdBQUcsS0FBSyxRQUFRLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ2xELFFBQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUs7QUFDdEMsWUFBWSxJQUFJLEdBQUcsS0FBSyxRQUFRLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRTtBQUNyRCxnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLGFBQWE7QUFDYixTQUFTLENBQUMsQ0FBQztBQUNYLEtBQUs7QUFDTCxTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksR0FBRyxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQzVCLFlBQVksR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNsQyxTQUFTO0FBQ1Q7QUFDQSxRQUFRLFFBQVEsSUFBSTtBQUNwQixZQUFZLEtBQUssS0FBSztBQUN0QixnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN0QyxvQkFBb0IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUNsRCxvQkFBb0IsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDdkMsd0JBQXdCLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztBQUM5RCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUM1QztBQUNBLG9CQUFvQixHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQy9DLGlCQUFpQjtBQUNqQixnQkFBZ0IsTUFBTTtBQUN0QixZQUFZLEtBQUssUUFBUTtBQUN6QixnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN0QyxvQkFBb0IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUNsRCxvQkFBb0IsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDdkMsd0JBQXdCLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztBQUM5RCxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGdCQUFnQixNQUFNO0FBQ3RCLFlBQVksS0FBSyxLQUFLO0FBQ3RCLGdCQUFnQixJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNuQyxvQkFBb0IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUNsRCxpQkFBaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxLQUFLO0FBWTVCLFFBQVEsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtBQUN0QyxZQUFZLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdDLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxNQUFNLEVBQUUsQ0FBQztBQUNyQixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLENBQUM7QUFDRDtBQUNBLE1BQU0sa0JBQWtCLGlCQUFpQixPQUFPLENBQUMsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUM7QUFDaEYsTUFBTSxjQUFjLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQztBQUNqRSxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLEtBQUssTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdkIsTUFBTSxHQUFHLGlCQUFpQixZQUFZLEVBQUUsQ0FBQztBQUN6QyxNQUFNLFVBQVUsaUJBQWlCLFlBQVksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0QsTUFBTSxXQUFXLGlCQUFpQixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckQsTUFBTSxrQkFBa0IsaUJBQWlCLFlBQVksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbEUsTUFBTSxxQkFBcUIsR0FBRyxFQUFFLENBQUM7QUFDakMsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7QUFDdEQsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDLElBQUkscUJBQXFCLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxHQUFHLElBQUksRUFBRTtBQUNwRCxRQUFRLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoQyxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDckQsWUFBWSxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDaEQsU0FBUztBQUNUO0FBQ0EsUUFBUSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QyxRQUFRLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxLQUFLLEVBQUU7QUFDekM7QUFDQSxZQUFZLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3RELFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxPQUFPLEdBQUcsQ0FBQztBQUN2QixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQUM7QUFDSCxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO0FBQzdELElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QyxJQUFJLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFDcEQsUUFBUSxhQUFhLEVBQUUsQ0FBQztBQUN4QixRQUFRLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzdDLFFBQVEsYUFBYSxFQUFFLENBQUM7QUFDeEIsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLLENBQUM7QUFDTixDQUFDLENBQUMsQ0FBQztBQUNILFNBQVMsWUFBWSxDQUFDLFVBQVUsR0FBRyxLQUFLLEVBQUUsT0FBTyxHQUFHLEtBQUssRUFBRTtBQUMzRCxJQUFJLE9BQU8sU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7QUFDL0MsUUFBUSxJQUFJLEdBQUcsS0FBSyxnQkFBZ0Isb0JBQW9CO0FBQ3hELFlBQVksT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUMvQixTQUFTO0FBQ1QsYUFBYSxJQUFJLEdBQUcsS0FBSyxnQkFBZ0Isb0JBQW9CO0FBQzdELFlBQVksT0FBTyxVQUFVLENBQUM7QUFDOUIsU0FBUztBQUNULGFBQWEsSUFBSSxHQUFHLEtBQUssU0FBUztBQUNsQyxZQUFZLFFBQVE7QUFDcEIsZ0JBQWdCLENBQUMsVUFBVTtBQUMzQixzQkFBc0IsT0FBTztBQUM3QiwwQkFBMEIsa0JBQWtCO0FBQzVDLDBCQUEwQixXQUFXO0FBQ3JDLHNCQUFzQixPQUFPO0FBQzdCLDBCQUEwQixrQkFBa0I7QUFDNUMsMEJBQTBCLFdBQVcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDcEQsWUFBWSxPQUFPLE1BQU0sQ0FBQztBQUMxQixTQUFTO0FBQ1QsUUFBUSxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDOUMsUUFBUSxJQUFJLENBQUMsVUFBVSxJQUFJLGFBQWEsSUFBSSxNQUFNLENBQUMscUJBQXFCLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDaEYsWUFBWSxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3JFLFNBQVM7QUFDVCxRQUFRLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN2RCxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDL0UsWUFBWSxPQUFPLEdBQUcsQ0FBQztBQUN2QixTQUFTO0FBQ1QsUUFBUSxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ3pCLFlBQVksS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLFlBQVksR0FBRyxDQUFDLENBQUM7QUFDaEQsU0FBUztBQUNULFFBQVEsSUFBSSxPQUFPLEVBQUU7QUFDckIsWUFBWSxPQUFPLEdBQUcsQ0FBQztBQUN2QixTQUFTO0FBQ1QsUUFBUSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN4QjtBQUNBLFlBQVksTUFBTSxZQUFZLEdBQUcsQ0FBQyxhQUFhLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdEUsWUFBWSxPQUFPLFlBQVksR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztBQUNsRCxTQUFTO0FBQ1QsUUFBUSxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU8sVUFBVSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUQsU0FBUztBQUNULFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELE1BQU0sR0FBRyxpQkFBaUIsWUFBWSxFQUFFLENBQUM7QUFDekMsTUFBTSxVQUFVLGlCQUFpQixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEQsU0FBUyxZQUFZLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRTtBQUN2QyxJQUFJLE9BQU8sU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO0FBQ3RELFFBQVEsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25DLFFBQVEsSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUN0QixZQUFZLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakMsWUFBWSxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZDLFlBQVksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDdEUsZ0JBQWdCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ3ZDLGdCQUFnQixPQUFPLElBQUksQ0FBQztBQUM1QixhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFlBQVksQ0FBQyxHQUFHLENBQUM7QUFDM0QsY0FBYyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU07QUFDekMsY0FBYyxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLFFBQVEsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNqRTtBQUNBLFFBQVEsSUFBSSxNQUFNLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ3hDLFlBQVksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUN6QixnQkFBZ0IsT0FBTyxDQUFDLE1BQU0sRUFBRSxLQUFLLFlBQVksR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzdELGFBQWE7QUFDYixpQkFBaUIsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxFQUFFO0FBQ2xELGdCQUFnQixPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssWUFBWSxHQUFHLEVBQUUsS0FBZSxDQUFDLENBQUM7QUFDdkUsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxTQUFTLGNBQWMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3JDLElBQUksTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxJQUFxQixNQUFNLENBQUMsR0FBRyxFQUFFO0FBQ2pDLElBQUksTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdkQsSUFBSSxJQUFJLE1BQU0sSUFBSSxNQUFNLEVBQUU7QUFDMUIsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLFFBQVEsZUFBZSxHQUFHLEVBQUUsU0FBbUIsQ0FBQyxDQUFDO0FBQ3pFLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQzFCLElBQUksTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDNUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNwRCxRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxZQUFZLEdBQUcsQ0FBQyxDQUFDO0FBQzVDLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDekIsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsZ0JBQWdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUM7QUFDckYsSUFBSSxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUNELE1BQU0sZUFBZSxHQUFHO0FBQ3hCLElBQUksR0FBRztBQUNQLElBQUksR0FBRztBQUNQLElBQUksY0FBYztBQUNsQixJQUFJLEdBQUc7QUFDUCxJQUFJLE9BQU87QUFDWCxDQUFDLENBQUM7QUFDRixNQUFNLGdCQUFnQixHQUFHO0FBQ3pCLElBQUksR0FBRyxFQUFFLFdBQVc7QUFDcEIsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUlyQixRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLGNBQWMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBSWhDLFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLENBQUMsQ0FBQztBQUNGLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUU7QUFDNUQsSUFBSSxHQUFHLEVBQUUsVUFBVTtBQUNuQixJQUFJLEdBQUcsRUFBRSxVQUFVO0FBQ25CLENBQUMsQ0FBQyxDQUFDO0FBQ0g7QUFDQTtBQUNBO0FBQ2dDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLEVBQUU7QUFDN0QsSUFBSSxHQUFHLEVBQUUsa0JBQWtCO0FBQzNCLENBQUMsRUFBRTtBQUNIO0FBQ0EsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDeEUsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDeEUsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDO0FBQ25DLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxLQUFLLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEQsU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxVQUFVLEdBQUcsS0FBSyxFQUFFLFNBQVMsR0FBRyxLQUFLLEVBQUU7QUFDbkU7QUFDQTtBQUNBLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLFdBQVcsQ0FBQztBQUN6QyxJQUFJLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QixJQUFJLElBQUksR0FBRyxLQUFLLE1BQU0sRUFBRTtBQUN4QixRQUFRLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLEdBQUcsQ0FBQyxDQUFDO0FBQzlELEtBQUs7QUFDTCxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLE1BQU0sQ0FBQyxDQUFDO0FBQzdELElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4QyxJQUFJLE1BQU0sSUFBSSxHQUFHLFNBQVMsR0FBRyxTQUFTLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDOUUsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ2xDLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLEtBQUs7QUFDTCxTQUFTLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDMUMsUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDeEMsS0FBSztBQUNMLFNBQVMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO0FBQ25DO0FBQ0E7QUFDQSxRQUFRLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEIsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsVUFBVSxHQUFHLEtBQUssRUFBRTtBQUN4QyxJQUFJLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLFdBQVcsQ0FBQztBQUM3QyxJQUFJLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QixJQUFJLElBQUksR0FBRyxLQUFLLE1BQU0sRUFBRTtBQUN4QixRQUFRLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLEdBQUcsQ0FBQyxDQUFDO0FBQzlELEtBQUs7QUFDTCxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxZQUFZLE1BQU0sQ0FBQyxDQUFDO0FBQzdELElBQUksT0FBTyxHQUFHLEtBQUssTUFBTTtBQUN6QixVQUFVLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0FBQ3pCLFVBQVUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2hELENBQUM7QUFDRCxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLEtBQUssRUFBRTtBQUMxQyxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDekMsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFNBQVMsZ0JBQWdCLFdBQVcsQ0FBQyxDQUFDO0FBQzlFLElBQUksT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUNELFNBQVMsR0FBRyxDQUFDLEtBQUssRUFBRTtBQUNwQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekIsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsSUFBSSxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbkMsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDakQsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2pCLFFBQVEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMxQixRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxZQUFZLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN2RCxLQUFLO0FBQ0wsSUFBSSxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBQ0QsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUMzQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekIsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsSUFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQyxJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNqQixRQUFRLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsUUFBUSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdkMsS0FHSztBQUNMLElBQUksTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDM0MsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDakIsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssWUFBWSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDckQsS0FBSztBQUNMLFNBQVMsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxFQUFFO0FBQzFDLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxLQUFLLFlBQVksR0FBRyxFQUFFLEtBQWUsQ0FBQyxDQUFDO0FBQy9ELEtBQUs7QUFDTCxJQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFDRCxTQUFTLFdBQVcsQ0FBQyxHQUFHLEVBQUU7QUFDMUIsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsSUFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMxQyxJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNqQixRQUFRLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsUUFBUSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDdkMsS0FHSztBQUNMLElBQXFCLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxVQUFVO0FBQzdEO0FBQ0EsSUFBSSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3RDLElBQUksSUFBSSxNQUFNLEVBQUU7QUFDaEIsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFLFFBQVEsZUFBZSxHQUFHLEVBQUUsU0FBbUIsQ0FBQyxDQUFDO0FBQ3pFLEtBQUs7QUFDTCxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRCxTQUFTLEtBQUssR0FBRztBQUNqQixJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvQixJQUFJLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDO0FBTXZDO0FBQ0EsSUFBSSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDbEMsSUFBSSxJQUFJLFFBQVEsRUFBRTtBQUNsQixRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxjQUFjLFNBQVMsRUFBRSxTQUFvQixDQUFDLENBQUM7QUFDOUUsS0FBSztBQUNMLElBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUNELFNBQVMsYUFBYSxDQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUU7QUFDOUMsSUFBSSxPQUFPLFNBQVMsT0FBTyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDL0MsUUFBUSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDOUIsUUFBUSxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsU0FBUyxXQUFXLENBQUM7QUFDckQsUUFBUSxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsUUFBUSxNQUFNLElBQUksR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLFVBQVUsR0FBRyxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQ2xGLFFBQVEsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRSxTQUFTLGdCQUFnQixXQUFXLENBQUMsQ0FBQztBQUM5RSxRQUFRLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLEtBQUs7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDNUUsU0FBUyxDQUFDLENBQUM7QUFDWCxLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLE9BQU8sVUFBVSxHQUFHLElBQUksRUFBRTtBQUM5QixRQUFRLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLFdBQVcsQ0FBQztBQUNqRCxRQUFRLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN4QyxRQUFRLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3QyxRQUFRLE1BQU0sTUFBTSxHQUFHLE1BQU0sS0FBSyxTQUFTLEtBQUssTUFBTSxLQUFLLE1BQU0sQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDLENBQUM7QUFDM0YsUUFBUSxNQUFNLFNBQVMsR0FBRyxNQUFNLEtBQUssTUFBTSxJQUFJLFdBQVcsQ0FBQztBQUMzRCxRQUFRLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3RELFFBQVEsTUFBTSxJQUFJLEdBQUcsU0FBUyxHQUFHLFNBQVMsR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQztBQUNsRixRQUFRLENBQUMsVUFBVTtBQUNuQixZQUFZLEtBQUssQ0FBQyxTQUFTLEVBQUUsU0FBUyxnQkFBZ0IsU0FBUyxHQUFHLG1CQUFtQixHQUFHLFdBQVcsQ0FBQyxDQUFDO0FBQ3JHO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZjtBQUNBLFlBQVksSUFBSSxHQUFHO0FBQ25CLGdCQUFnQixNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxHQUFHLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM3RCxnQkFBZ0IsT0FBTyxJQUFJO0FBQzNCLHNCQUFzQixFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUU7QUFDckMsc0JBQXNCO0FBQ3RCLHdCQUF3QixLQUFLLEVBQUUsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDdEYsd0JBQXdCLElBQUk7QUFDNUIscUJBQXFCLENBQUM7QUFDdEIsYUFBYTtBQUNiO0FBQ0EsWUFBWSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRztBQUNoQyxnQkFBZ0IsT0FBTyxJQUFJLENBQUM7QUFDNUIsYUFBYTtBQUNiLFNBQVMsQ0FBQztBQUNWLEtBQUssQ0FBQztBQUNOLENBQUM7QUFDRCxTQUFTLG9CQUFvQixDQUFDLElBQUksRUFBRTtBQUNwQyxJQUFJLE9BQU8sVUFBVSxHQUFHLElBQUksRUFBRTtBQUs5QixRQUFRLE9BQU8sSUFBSSxLQUFLLFFBQVEsZ0JBQWdCLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDN0QsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELE1BQU0sdUJBQXVCLEdBQUc7QUFDaEMsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2IsUUFBUSxPQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDaEMsS0FBSztBQUNMLElBQUksSUFBSSxJQUFJLEdBQUc7QUFDZixRQUFRLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFCLEtBQUs7QUFDTCxJQUFJLEdBQUcsRUFBRSxLQUFLO0FBQ2QsSUFBSSxHQUFHO0FBQ1AsSUFBSSxHQUFHLEVBQUUsS0FBSztBQUNkLElBQUksTUFBTSxFQUFFLFdBQVc7QUFDdkIsSUFBSSxLQUFLO0FBQ1QsSUFBSSxPQUFPLEVBQUUsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUM7QUFDeEMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSx1QkFBdUIsR0FBRztBQUNoQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDYixRQUFRLE9BQU8sS0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzdDLEtBQUs7QUFDTCxJQUFJLElBQUksSUFBSSxHQUFHO0FBQ2YsUUFBUSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxQixLQUFLO0FBQ0wsSUFBSSxHQUFHLEVBQUUsS0FBSztBQUNkLElBQUksR0FBRztBQUNQLElBQUksR0FBRyxFQUFFLEtBQUs7QUFDZCxJQUFJLE1BQU0sRUFBRSxXQUFXO0FBQ3ZCLElBQUksS0FBSztBQUNULElBQUksT0FBTyxFQUFFLGFBQWEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUNGLE1BQU0sd0JBQXdCLEdBQUc7QUFDakMsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2IsUUFBUSxPQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3RDLEtBQUs7QUFDTCxJQUFJLElBQUksSUFBSSxHQUFHO0FBQ2YsUUFBUSxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDaEMsS0FBSztBQUNMLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUNiLFFBQVEsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0MsS0FBSztBQUNMLElBQUksR0FBRyxFQUFFLG9CQUFvQixDQUFDLEtBQUssV0FBVztBQUM5QyxJQUFJLEdBQUcsRUFBRSxvQkFBb0IsQ0FBQyxLQUFLLFdBQVc7QUFDOUMsSUFBSSxNQUFNLEVBQUUsb0JBQW9CLENBQUMsUUFBUSxjQUFjO0FBQ3ZELElBQUksS0FBSyxFQUFFLG9CQUFvQixDQUFDLE9BQU8sYUFBYTtBQUNwRCxJQUFJLE9BQU8sRUFBRSxhQUFhLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFDRixNQUFNLCtCQUErQixHQUFHO0FBQ3hDLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRTtBQUNiLFFBQVEsT0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUMsS0FBSztBQUNMLElBQUksSUFBSSxJQUFJLEdBQUc7QUFDZixRQUFRLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNoQyxLQUFLO0FBQ0wsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2IsUUFBUSxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzQyxLQUFLO0FBQ0wsSUFBSSxHQUFHLEVBQUUsb0JBQW9CLENBQUMsS0FBSyxXQUFXO0FBQzlDLElBQUksR0FBRyxFQUFFLG9CQUFvQixDQUFDLEtBQUssV0FBVztBQUM5QyxJQUFJLE1BQU0sRUFBRSxvQkFBb0IsQ0FBQyxRQUFRLGNBQWM7QUFDdkQsSUFBSSxLQUFLLEVBQUUsb0JBQW9CLENBQUMsT0FBTyxhQUFhO0FBQ3BELElBQUksT0FBTyxFQUFFLGFBQWEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO0FBQ3RDLENBQUMsQ0FBQztBQUNGLE1BQU0sZUFBZSxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZFLGVBQWUsQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJO0FBQ2xDLElBQUksdUJBQXVCLENBQUMsTUFBTSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqRixJQUFJLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDakYsSUFBSSx1QkFBdUIsQ0FBQyxNQUFNLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2hGLElBQUksK0JBQStCLENBQUMsTUFBTSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2RixDQUFDLENBQUMsQ0FBQztBQUNILFNBQVMsMkJBQTJCLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRTtBQUMxRCxJQUFJLE1BQU0sZ0JBQWdCLEdBQUcsT0FBTztBQUNwQyxVQUFVLFVBQVU7QUFDcEIsY0FBYywrQkFBK0I7QUFDN0MsY0FBYyx1QkFBdUI7QUFDckMsVUFBVSxVQUFVO0FBQ3BCLGNBQWMsd0JBQXdCO0FBQ3RDLGNBQWMsdUJBQXVCLENBQUM7QUFDdEMsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEtBQUs7QUFDdEMsUUFBUSxJQUFJLEdBQUcsS0FBSyxnQkFBZ0Isb0JBQW9CO0FBQ3hELFlBQVksT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUMvQixTQUFTO0FBQ1QsYUFBYSxJQUFJLEdBQUcsS0FBSyxnQkFBZ0Isb0JBQW9CO0FBQzdELFlBQVksT0FBTyxVQUFVLENBQUM7QUFDOUIsU0FBUztBQUNULGFBQWEsSUFBSSxHQUFHLEtBQUssU0FBUyxZQUFZO0FBQzlDLFlBQVksT0FBTyxNQUFNLENBQUM7QUFDMUIsU0FBUztBQUNULFFBQVEsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksTUFBTTtBQUN6RSxjQUFjLGdCQUFnQjtBQUM5QixjQUFjLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDckMsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELE1BQU0seUJBQXlCLEdBQUc7QUFDbEMsSUFBSSxHQUFHLEVBQUUsMkJBQTJCLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQztBQUNsRCxDQUFDLENBQUM7QUFDRixNQUFNLHlCQUF5QixHQUFHO0FBQ2xDLElBQUksR0FBRyxFQUFFLDJCQUEyQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7QUFDakQsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwwQkFBMEIsR0FBRztBQUNuQyxJQUFJLEdBQUcsRUFBRSwyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQWVGO0FBQ0EsTUFBTSxXQUFXLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNsQyxNQUFNLGtCQUFrQixHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7QUFDekMsTUFBTSxXQUFXLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNsQyxNQUFNLGtCQUFrQixHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7QUFDekMsU0FBUyxhQUFhLENBQUMsT0FBTyxFQUFFO0FBQ2hDLElBQUksUUFBUSxPQUFPO0FBQ25CLFFBQVEsS0FBSyxRQUFRLENBQUM7QUFDdEIsUUFBUSxLQUFLLE9BQU87QUFDcEIsWUFBWSxPQUFPLENBQUMsY0FBYztBQUNsQyxRQUFRLEtBQUssS0FBSyxDQUFDO0FBQ25CLFFBQVEsS0FBSyxLQUFLLENBQUM7QUFDbkIsUUFBUSxLQUFLLFNBQVMsQ0FBQztBQUN2QixRQUFRLEtBQUssU0FBUztBQUN0QixZQUFZLE9BQU8sQ0FBQyxrQkFBa0I7QUFDdEMsUUFBUTtBQUNSLFlBQVksT0FBTyxDQUFDLGVBQWU7QUFDbkMsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUU7QUFDOUIsSUFBSSxPQUFPLEtBQUssQ0FBQyxVQUFVLFlBQVksSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO0FBQ3RFLFVBQVUsQ0FBQztBQUNYLFVBQVUsYUFBYSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzFDLENBQUM7QUFDRCxTQUFTLFFBQVEsQ0FBQyxNQUFNLEVBQUU7QUFDMUI7QUFDQSxJQUFJLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsbUJBQW1CLEVBQUU7QUFDOUQsUUFBUSxPQUFPLE1BQU0sQ0FBQztBQUN0QixLQUFLO0FBQ0wsSUFBSSxPQUFPLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLHlCQUF5QixFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ3hHLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFO0FBQ2pDLElBQUksT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLHVCQUF1QixFQUFFLHlCQUF5QixFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFDdkgsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQzFCLElBQUksT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLDBCQUEwQixFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ3pHLENBQUM7QUFVRCxTQUFTLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLGtCQUFrQixFQUFFLFFBQVEsRUFBRTtBQUM5RixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFJM0IsUUFBUSxPQUFPLE1BQU0sQ0FBQztBQUN0QixLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUksSUFBSSxNQUFNLENBQUMsU0FBUyxXQUFXO0FBQ25DLFFBQVEsRUFBRSxVQUFVLElBQUksTUFBTSxDQUFDLGdCQUFnQixtQkFBbUIsQ0FBQyxFQUFFO0FBQ3JFLFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMO0FBQ0EsSUFBSSxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLElBQUksSUFBSSxhQUFhLEVBQUU7QUFDdkIsUUFBUSxPQUFPLGFBQWEsQ0FBQztBQUM3QixLQUFLO0FBQ0w7QUFDQSxJQUFJLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QyxJQUFJLElBQUksVUFBVSxLQUFLLENBQUMsZ0JBQWdCO0FBQ3hDLFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMLElBQUksTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsS0FBSyxDQUFDLG9CQUFvQixrQkFBa0IsR0FBRyxZQUFZLENBQUMsQ0FBQztBQUMzRyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRTtBQUMzQixJQUFJLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzNCLFFBQVEsT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsV0FBVyxDQUFDLENBQUM7QUFDdEQsS0FBSztBQUNMLElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsbUJBQW1CLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFO0FBQzNCLElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsbUJBQW1CLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBQ0QsU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQ3hCLElBQUksT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2xELENBQUM7QUFDRCxTQUFTLEtBQUssQ0FBQyxRQUFRLEVBQUU7QUFDekIsSUFBSSxRQUFRLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxXQUFXLENBQUMsS0FBSyxRQUFRLEVBQUU7QUFDNUUsQ0FBQztBQU9ELFNBQVMsS0FBSyxDQUFDLENBQUMsRUFBRTtBQUNsQixJQUFJLE9BQU8sT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDO0FBQzlDLENBQUM7QUFtQ0QsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFO0FBQ3BCLElBQUksT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7QUFDeEMsQ0FBQztBQUNELE1BQU0scUJBQXFCLEdBQUc7QUFDOUIsSUFBSSxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsS0FBSyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzdFLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxLQUFLO0FBQzNDLFFBQVEsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLFFBQVEsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDOUMsWUFBWSxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQyxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDN0QsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixTQUFTLFNBQVMsQ0FBQyxjQUFjLEVBQUU7QUFDbkMsSUFBSSxPQUFPLFVBQVUsQ0FBQyxjQUFjLENBQUM7QUFDckMsVUFBVSxjQUFjO0FBQ3hCLFVBQVUsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFLHFCQUFxQixDQUFDLENBQUM7QUFDM0QsQ0FBQztBQTRCRCxNQUFNLGFBQWEsQ0FBQztBQUNwQixJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFO0FBQy9CLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDL0IsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUN6QixRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQzlCLEtBQUs7QUFDTCxJQUFJLElBQUksS0FBSyxHQUFHO0FBQ2hCLFFBQVEsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDdEIsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDekMsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQzVCLElBQUksT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdCLFVBQVUsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNyQixVQUFVLElBQUksYUFBYSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBQ0Q7QUFDQSxNQUFNLGVBQWUsQ0FBQztBQUN0QixJQUFJLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRTtBQUM3QyxRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQy9CLFFBQVEsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDM0IsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUM5QixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNyQyxZQUFZLElBQUksRUFBRSxJQUFJO0FBQ3RCLFlBQVksU0FBUyxFQUFFLE1BQU07QUFDN0IsZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xDLG9CQUFvQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztBQUN2QyxvQkFBb0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLFlBQVksT0FBTyxDQUFDLENBQUM7QUFDbkUsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTLENBQUMsQ0FBQztBQUNYLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixtQkFBbUIsR0FBRyxVQUFVLENBQUM7QUFDOUQsS0FBSztBQUNMLElBQUksSUFBSSxLQUFLLEdBQUc7QUFDaEI7QUFDQSxRQUFRLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqQyxRQUFRLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUN6QixZQUFZLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3hDLFlBQVksSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDaEMsU0FBUztBQUNULFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLFlBQVksT0FBTyxDQUFDLENBQUM7QUFDOUMsUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IsS0FBSztBQUNMLElBQUksSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ3hCLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQixLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVNDLFVBQVEsQ0FBQyxlQUFlLEVBQUU7QUFDbkMsSUFBSSxJQUFJLE1BQU0sQ0FBQztBQUNmLElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLElBQUksVUFBVSxDQUFDLGVBQWUsQ0FBQyxFQUFFO0FBQ3JDLFFBQVEsTUFBTSxHQUFHLGVBQWUsQ0FBQztBQUNqQyxRQUFRLE1BQU0sR0FJQSxJQUFJLENBQUM7QUFDbkIsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLE1BQU0sR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDO0FBQ3JDLFFBQVEsTUFBTSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUM7QUFDckMsS0FBSztBQUNMLElBQUksT0FBTyxJQUFJLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwRzs7QUNwM0JBLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQU9qQixTQUFTLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLEVBQUU7QUFDNUI7QUFDQTtBQUNBLElBQUksYUFBYSxFQUFFLENBQUM7QUFDcEIsSUFBSSxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDN0UsSUFBSSxNQUFNLGNBQWMsR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO0FBQzlFLElBQUksTUFBTSxLQUFLLEdBQUcsaUJBQWlCLEVBQUUsQ0FBQztBQUN0QyxJQUFJLElBQUksY0FBYyxFQUFFO0FBQ3hCLFFBQVEscUJBQXFCLENBQUMsY0FBYyxFQUFFLFFBQVEsRUFBRSxFQUFFLHlCQUF5QjtBQUNuRixZQUFZLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUMvQixZQUFZLFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSztBQUN0QyxZQUFZLEtBQUs7QUFDakIsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsbUJBQW1CLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4RixpQkFBaUIsSUFBSSxDQUFDLElBQUksQ0FBQztBQUMzQixZQUFZLEtBQUs7QUFDakIsU0FBUyxDQUFDLENBQUM7QUFDWCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDekQ7QUFDQSxRQUFRLElBQUksS0FBSyxDQUFDLE1BQU07QUFDeEI7QUFDQSxZQUFZLENBQUMsS0FBSyxFQUFFO0FBQ3BCLFlBQVksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDdkQsU0FBUztBQUNULFFBQVEsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO0FBQ2xDLEtBQUs7QUFDTCxJQUFJLGFBQWEsRUFBRSxDQUFDO0FBQ3BCLENBQUM7QUFDRCxTQUFTLGlCQUFpQixHQUFHO0FBQzdCLElBQUksSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDL0MsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO0FBQ3ZCLFFBQVEsT0FBTyxFQUFFLENBQUM7QUFDbEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUksTUFBTSxlQUFlLEdBQUcsRUFBRSxDQUFDO0FBQy9CLElBQUksT0FBTyxZQUFZLEVBQUU7QUFDekIsUUFBUSxNQUFNLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFlBQVksRUFBRTtBQUNqRCxZQUFZLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUNoQyxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksZUFBZSxDQUFDLElBQUksQ0FBQztBQUNqQyxnQkFBZ0IsS0FBSyxFQUFFLFlBQVk7QUFDbkMsZ0JBQWdCLFlBQVksRUFBRSxDQUFDO0FBQy9CLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsU0FBUztBQUNULFFBQVEsTUFBTSxjQUFjLEdBQUcsWUFBWSxDQUFDLFNBQVMsSUFBSSxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztBQUN2RixRQUFRLFlBQVksR0FBRyxjQUFjLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQztBQUM5RCxLQUFLO0FBQ0wsSUFBSSxPQUFPLGVBQWUsQ0FBQztBQUMzQixDQUFDO0FBQ0Q7QUFDQSxTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDNUIsSUFBSSxNQUFNLElBQUksR0FBRyxFQUFFLENBQUM7QUFDcEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSztBQUNoQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMxRSxLQUFLLENBQUMsQ0FBQztBQUNQLElBQUksT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUNELFNBQVMsZ0JBQWdCLENBQUMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUU7QUFDbkQsSUFBSSxNQUFNLE9BQU8sR0FBRyxZQUFZLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3BGLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDO0FBQzVFLElBQUksTUFBTSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsbUJBQW1CLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRixJQUFJLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2hDLElBQUksT0FBTyxLQUFLLENBQUMsS0FBSztBQUN0QixVQUFVLENBQUMsSUFBSSxFQUFFLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUM7QUFDcEQsVUFBVSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN6QixDQUFDO0FBQ0Q7QUFDQSxTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDNUIsSUFBSSxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDbkIsSUFBSSxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtBQUNwQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakQsS0FBSyxDQUFDLENBQUM7QUFDUCxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7QUFDekIsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN6QixLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFDRDtBQUNBLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO0FBQ3JDLElBQUksSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDekIsUUFBUSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN0QyxRQUFRLE9BQU8sR0FBRyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRCxLQUFLO0FBQ0wsU0FBUyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7QUFDdEMsUUFBUSxPQUFPLEtBQUssS0FBSyxTQUFTO0FBQ2xDLFFBQVEsS0FBSyxJQUFJLElBQUksRUFBRTtBQUN2QixRQUFRLE9BQU8sR0FBRyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRCxLQUFLO0FBQ0wsU0FBUyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUMzQixRQUFRLEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDMUQsUUFBUSxPQUFPLEdBQUcsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekQsS0FBSztBQUNMLFNBQVMsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDaEMsUUFBUSxPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25FLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzdCLFFBQVEsT0FBTyxHQUFHLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNoRCxLQUFLO0FBQ0wsQ0FBQztBQWlDRCxTQUFTLHFCQUFxQixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUN6RCxJQUFJLElBQUksR0FBRyxDQUFDO0FBQ1osSUFBSSxJQUFJO0FBQ1IsUUFBUSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQ3hDLEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxFQUFFO0FBQ2hCLFFBQVEsV0FBVyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDekMsS0FBSztBQUNMLElBQUksT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBQ0QsU0FBUywwQkFBMEIsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDOUQsSUFBSSxJQUFJLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUN4QixRQUFRLE1BQU0sR0FBRyxHQUFHLHFCQUFxQixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BFLFFBQVEsSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ25DLFlBQVksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUk7QUFDN0IsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2pELGFBQWEsQ0FBQyxDQUFDO0FBQ2YsU0FBUztBQUNULFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSztBQUNMLElBQUksTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDeEMsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDN0UsS0FBSztBQUNMLElBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUNELFNBQVMsV0FBVyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFVBQVUsR0FBRyxJQUFJLEVBQUU7QUFDN0QsSUFBSSxNQUFNLFlBQVksR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDMUQsSUFBSSxJQUFJLFFBQVEsRUFBRTtBQUNsQixRQUFRLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUM7QUFDbEM7QUFDQSxRQUFRLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDL0M7QUFDQSxRQUFRLE1BQU0sU0FBUyxHQUFzRSxJQUFJLENBQUM7QUFDbEcsUUFBUSxPQUFPLEdBQUcsRUFBRTtBQUNwQixZQUFZLE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUM5QyxZQUFZLElBQUksa0JBQWtCLEVBQUU7QUFDcEMsZ0JBQWdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDcEUsb0JBQW9CLElBQUksa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDMUYsd0JBQXdCLE9BQU87QUFDL0IscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsWUFBWSxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztBQUM3QixTQUFTO0FBQ1Q7QUFDQSxRQUFRLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztBQUN4RSxRQUFRLElBQUksZUFBZSxFQUFFO0FBQzdCLFlBQVkscUJBQXFCLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxFQUFFLDBCQUEwQixDQUFDLEdBQUcsRUFBRSxlQUFlLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUN4SCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNsRCxDQUFDO0FBQ0QsU0FBUyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsVUFBVSxHQUFHLElBQUksRUFBRTtBQUM5RCxJQWlCUztBQUNUO0FBQ0EsUUFBUSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDdkIsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFDO0FBQzNCLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNqQixJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDbkIsTUFBTSxrQkFBa0IsR0FBRyxFQUFFLENBQUM7QUFDOUIsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFDN0IsSUFBSSxhQUFhLEdBQUcsQ0FBQyxDQUFDO0FBQ3RCLE1BQU0sbUJBQW1CLEdBQUcsRUFBRSxDQUFDO0FBQy9CLElBQUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDO0FBQzlCLElBQUksY0FBYyxHQUFHLENBQUMsQ0FBQztBQUN2QixNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDMUMsSUFBSSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7QUFDL0IsSUFBSSx3QkFBd0IsR0FBRyxJQUFJLENBQUM7QUFDcEMsTUFBTSxlQUFlLEdBQUcsR0FBRyxDQUFDO0FBQzVCLFNBQVMsUUFBUSxDQUFDLEVBQUUsRUFBRTtBQUN0QixJQUFJLE1BQU0sQ0FBQyxHQUFHLG1CQUFtQixJQUFJLGVBQWUsQ0FBQztBQUNyRCxJQUFJLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3RELENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0JBQWtCLENBQUMsR0FBRyxFQUFFO0FBQ2pDO0FBQ0EsSUFBSSxJQUFJLEtBQUssR0FBRyxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQy9CLElBQUksSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztBQUMzQixJQUFJLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QixJQUFJLE9BQU8sS0FBSyxHQUFHLEdBQUcsRUFBRTtBQUN4QixRQUFRLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDM0MsUUFBUSxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDakQsUUFBUSxXQUFXLEdBQUcsS0FBSyxJQUFJLEtBQUssR0FBRyxNQUFNLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQztBQUNwRSxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBQ0QsU0FBUyxRQUFRLENBQUMsR0FBRyxFQUFFO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU07QUFDdEIsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFVBQVUsSUFBSSxHQUFHLENBQUMsWUFBWSxHQUFHLFVBQVUsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzFGLFFBQVEsR0FBRyxLQUFLLHdCQUF3QixFQUFFO0FBQzFDLFFBQVEsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUMsUUFBUSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUN0QixZQUFZLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0QyxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QixTQUFTO0FBQ1QsUUFBUSxVQUFVLEVBQUUsQ0FBQztBQUNyQixLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsVUFBVSxHQUFHO0FBQ3RCLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLGNBQWMsRUFBRTtBQUN4QyxRQUFRLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDOUIsUUFBUSxtQkFBbUIsR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzlELEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxhQUFhLENBQUMsR0FBRyxFQUFFO0FBQzVCLElBQUksTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQyxJQUFJLElBQUksQ0FBQyxHQUFHLFVBQVUsRUFBRTtBQUN4QixRQUFRLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzNCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxPQUFPLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFO0FBQ3ZELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUN0QixRQUFRLElBQUksQ0FBQyxXQUFXO0FBQ3hCLFlBQVksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsWUFBWSxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUU7QUFDNUUsWUFBWSxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2xDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ2pDLEtBQUs7QUFDTCxJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQ2pCLENBQUM7QUFDRCxTQUFTLGVBQWUsQ0FBQyxFQUFFLEVBQUU7QUFDN0IsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RFLENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLEVBQUUsRUFBRTtBQUM5QixJQUFJLE9BQU8sQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsbUJBQW1CLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDekUsQ0FBQztBQUNELFNBQVMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLFNBQVMsR0FBRyxJQUFJLEVBQUU7QUFDbEQsSUFBSSxJQUFJLGtCQUFrQixDQUFDLE1BQU0sRUFBRTtBQUNuQyxRQUFRLHdCQUF3QixHQUFHLFNBQVMsQ0FBQztBQUM3QyxRQUFRLGlCQUFpQixHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7QUFDN0QsUUFBUSxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBSXRDLFFBQVEsS0FBSyxhQUFhLEdBQUcsQ0FBQyxFQUFFLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLEVBQUU7QUFLM0YsWUFBWSxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0FBQy9DLFNBQVM7QUFDVCxRQUFRLGlCQUFpQixHQUFHLElBQUksQ0FBQztBQUNqQyxRQUFRLGFBQWEsR0FBRyxDQUFDLENBQUM7QUFDMUIsUUFBUSx3QkFBd0IsR0FBRyxJQUFJLENBQUM7QUFDeEM7QUFDQSxRQUFRLGdCQUFnQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMxQyxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsaUJBQWlCLENBQUMsSUFBSSxFQUFFO0FBQ2pDLElBQUksSUFBSSxtQkFBbUIsQ0FBQyxNQUFNLEVBQUU7QUFDcEMsUUFBUSxNQUFNLE9BQU8sR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0FBQzFELFFBQVEsbUJBQW1CLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN2QztBQUNBLFFBQVEsSUFBSSxrQkFBa0IsRUFBRTtBQUNoQyxZQUFZLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxrQkFBa0IsR0FBRyxPQUFPLENBQUM7QUFJckMsUUFBUSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvRCxRQUFRLEtBQUssY0FBYyxHQUFHLENBQUMsRUFBRSxjQUFjLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxFQUFFO0FBSy9GLFlBQVksa0JBQWtCLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQztBQUNqRCxTQUFTO0FBQ1QsUUFBUSxrQkFBa0IsR0FBRyxJQUFJLENBQUM7QUFDbEMsUUFBUSxjQUFjLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxJQUFJLEdBQUcsUUFBUSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFDMUQsU0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFO0FBQ3pCLElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQztBQUMzQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUM7QUFJdEIsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzlDLElBQUksSUFBSTtBQUNSLFFBQVEsS0FBSyxVQUFVLEdBQUcsQ0FBQyxFQUFFLFVBQVUsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxFQUFFO0FBQ3RFLFlBQVksTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzFDLFlBQVksSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxLQUFLLEVBQUU7QUFDN0MsZ0JBQWdCLElBQUksQ0FBQyxZQUFvQixLQUFLLFlBQVksS0FBSyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FFaEY7QUFDakIsZ0JBQWdCLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQztBQUNyRSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxZQUFZO0FBQ1osUUFBUSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLFFBQVEsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDekIsUUFBUSxpQkFBaUIsQ0FBSyxDQUFDLENBQUM7QUFDaEMsUUFBUSxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQzNCLFFBQVEsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0FBQ25DO0FBQ0E7QUFDQSxRQUFRLElBQUksS0FBSyxDQUFDLE1BQU07QUFDeEIsWUFBWSxrQkFBa0IsQ0FBQyxNQUFNO0FBQ3JDLFlBQVksbUJBQW1CLENBQUMsTUFBTSxFQUFFO0FBQ3hDLFlBQVksU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzVCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMscUJBQXFCLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUN6QyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDeEIsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkMsUUFBUSxJQUFJLEtBQUssR0FBRyxlQUFlLEVBQUU7QUFDckMsWUFBWSxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDO0FBQzlDLFlBQVksTUFBTSxhQUFhLEdBQUcsUUFBUSxJQUFJLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5RSxZQUFZLElBQUksQ0FBQyxDQUFDLGtDQUFrQyxFQUFFLGFBQWEsR0FBRyxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ2pILGdCQUFnQixDQUFDLCtEQUErRCxDQUFDO0FBQ2pGLGdCQUFnQixDQUFDLHNFQUFzRSxDQUFDO0FBQ3hGLGdCQUFnQixDQUFDLDZEQUE2RCxDQUFDO0FBQy9FLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztBQUM1QyxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDO0FBZ0lEO0FBQ0EsSUFBSSxRQUFRLENBQUM7QUFDYixTQUFTLGVBQWUsQ0FBQyxJQUFJLEVBQUU7QUFDL0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLENBQUM7QUFDRCxTQUFTLGVBQWUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDO0FBQ0EsSUFBSSxJQUFJLENBQUMsUUFBUTtBQUNqQixRQUFRLE9BQU87QUFDZixJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxpQkFBaUIsR0FBRyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFRLFFBQVE7QUFDaEIsUUFBUSxJQUFJO0FBQ1osUUFBUSxPQUFPLEVBQUUsU0FBUztBQUMxQixRQUFRLE1BQU07QUFDZCxLQUFLLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRCxTQUFTLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtBQUNqQyxJQUFJLElBQUksQ0FBQyxRQUFRO0FBQ2pCLFFBQVEsT0FBTztBQUNmLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLG9CQUFvQixHQUFHLENBQUMsQ0FBQztBQUN4RCxDQUFDO0FBQ0QsTUFBTSxzQkFBc0IsaUJBQWlCLDJCQUEyQixDQUFDLGlCQUFpQix1QkFBdUIsQ0FBQztBQUNsSCxNQUFNLHdCQUF3QixpQkFBaUIsMkJBQTJCLENBQUMsbUJBQW1CLHlCQUF5QixDQUFDO0FBQ3hILE1BQU0sd0JBQXdCLGlCQUFpQiwyQkFBMkIsQ0FBQyxtQkFBbUIseUJBQXlCLENBQUM7QUFDeEgsU0FBUywyQkFBMkIsQ0FBQyxJQUFJLEVBQUU7QUFDM0MsSUFBSSxPQUFPLENBQUMsU0FBUyxLQUFLO0FBQzFCLFFBQVEsSUFBSSxDQUFDLFFBQVE7QUFDckIsWUFBWSxPQUFPO0FBQ25CLFFBQVEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNySSxLQUFLLENBQUM7QUFDTixDQUFDO0FBVUQsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtBQUN6RCxJQUFJLElBQUksQ0FBQyxRQUFRO0FBQ2pCLFFBQVEsT0FBTztBQUNmLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsdUJBQXVCLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDN0csQ0FBQztBQWtURCxNQUFNLGtCQUFrQixHQUFHO0FBQzNCLElBQUksSUFBSSxFQUFFLENBQUM7QUFDWCxDQUFDLENBQUM7QUFDRixTQUFTLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7QUFDOUMsSUFBSSxNQUFNLGNBQWMsR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7QUFDbEUsSUFBSSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxFQUFFO0FBQ2pELFFBQVEsT0FBTyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkMsS0FBSztBQUNMLElBQUksT0FBTyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNuQyxDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUU7QUFDbEU7QUFDQSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7QUFDcEUsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLO0FBQ0wsSUFBSSxNQUFNLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pFLElBQUksTUFBTSxHQUFHLEdBQUcscUJBQXFCLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3JELElBQUksTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztBQUNwQyxVQUFVLE9BQU8sQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQztBQUM1QyxVQUFVLE9BQU8sQ0FBQztBQUNsQixJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsRUFBRTtBQUNwQixRQUFRLE9BQU8sR0FBRyxLQUFLLEtBQUssQ0FBQztBQUM3QixLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsT0FBTyxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsS0FBSyxrQkFBa0IsQ0FBQztBQUMxRCxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsU0FBUyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLE9BQU8sRUFBRTtBQUMzQyxJQUFJLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQztBQXNCcEQsSUFBSSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUM7QUFDdkIsSUFBSSxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3hEO0FBQ0EsSUFBSSxNQUFNLFFBQVEsR0FBRyxlQUFlLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RCxJQUFJLElBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxLQUFLLEVBQUU7QUFDdkMsUUFBUSxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQUUsUUFBUSxLQUFLLFlBQVksR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFGLFFBQVEsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksU0FBUyxDQUFDO0FBQ2xFLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEIsWUFBWSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDOUMsU0FBUztBQUNULGFBQWEsSUFBSSxNQUFNLEVBQUU7QUFDekIsWUFBWSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN6QyxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBK0MscUJBQXFCLEVBQUU7QUFDMUUsUUFBUSxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JELEtBQUs7QUFXTCxJQUFJLElBQUksV0FBVyxDQUFDO0FBQ3BCLElBQUksSUFBSSxPQUFPLEdBQUcsS0FBSyxFQUFFLFdBQVcsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDNUQ7QUFDQSxRQUFRLEtBQUssRUFBRSxXQUFXLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDN0Q7QUFDQTtBQUNBLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxlQUFlLEVBQUU7QUFDckMsUUFBUSxPQUFPLEdBQUcsS0FBSyxFQUFFLFdBQVcsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUN4RSxLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sRUFBRTtBQUNqQixRQUFRLDBCQUEwQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsQ0FBQyxnQ0FBZ0MsSUFBSSxDQUFDLENBQUM7QUFDN0YsS0FBSztBQUNMLElBQUksTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDcEQsSUFBSSxJQUFJLFdBQVcsRUFBRTtBQUNyQixRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFO0FBQy9CLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBTyxHQUFHLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDeEQsU0FBUztBQUNULGFBQWEsSUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFO0FBQ2hELFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSwwQkFBMEIsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsZ0NBQWdDLElBQUksQ0FBQyxDQUFDO0FBQ2pHLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDbEUsSUFBSSxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDO0FBQ3hDLElBQUksTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxJQUFJLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtBQUM5QixRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUs7QUFDTCxJQUFJLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDM0IsSUFBSSxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDeEI7QUFDQSxJQUFJLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztBQUMzQixJQUFJLElBQUksbUJBQW1CLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDbEQsUUFBUSxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQUcsS0FBSztBQUNyQyxZQUFZLE1BQU0sb0JBQW9CLEdBQUcscUJBQXFCLENBQUMsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RixZQUFZLElBQUksb0JBQW9CLEVBQUU7QUFDdEMsZ0JBQWdCLFVBQVUsR0FBRyxJQUFJLENBQUM7QUFDbEMsZ0JBQWdCLE1BQU0sQ0FBQyxVQUFVLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztBQUN6RCxhQUFhO0FBQ2IsU0FBUyxDQUFDO0FBQ1YsUUFBUSxJQUFJLENBQUMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ2xELFlBQVksVUFBVSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDbkQsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQzFCLFlBQVksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN0QyxTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDekIsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM3QyxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUM3QixRQUFRLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzlCLFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDdEIsUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNyRCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNoQyxLQUFLO0FBQ0wsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNoQyxJQUFJLE9BQU8sVUFBVSxDQUFDO0FBQ3RCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGNBQWMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0FBQ3RDLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNoQyxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDNUMsSUFBSSxRQUFRLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEUsUUFBUSxNQUFNLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QyxRQUFRLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDOUIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdCQUF3QixHQUFHLElBQUksQ0FBQztBQUNwQyxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJCQUEyQixDQUFDLFFBQVEsRUFBRTtBQUMvQyxJQUFJLE1BQU0sSUFBSSxHQUFHLHdCQUF3QixDQUFDO0FBQzFDLElBQUksd0JBQXdCLEdBQUcsUUFBUSxDQUFDO0FBQ3hDLElBQUksY0FBYyxHQUFHLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQztBQUNuRSxJQUFJLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBVyxDQUFDLEVBQUUsRUFBRTtBQUN6QixJQUFJLGNBQWMsR0FBRyxFQUFFLENBQUM7QUFDeEIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFVBQVUsR0FBRztBQUN0QixJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDMUIsQ0FBQztBQU1EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsR0FBRyx3QkFBd0IsRUFBRSxlQUFlO0FBQ3BFLEVBQUU7QUFDRixJQUFJLElBQUksQ0FBQyxHQUFHO0FBQ1osUUFBUSxPQUFPLEVBQUUsQ0FBQztBQUNsQjtBQUNBLElBQUksSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ2YsUUFBUSxPQUFPLEVBQUUsQ0FBQztBQUNsQixLQUFLO0FBQ0wsSUFBSSxNQUFNLG1CQUFtQixHQUFHLENBQUMsR0FBRyxJQUFJLEtBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxtQkFBbUIsQ0FBQyxFQUFFLEVBQUU7QUFDcEMsWUFBWSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLFNBQVM7QUFDVCxRQUFRLE1BQU0sWUFBWSxHQUFHLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlELFFBQVEsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDaEMsUUFBUSwyQkFBMkIsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNsRCxRQUFRLElBQUksbUJBQW1CLENBQUMsRUFBRSxFQUFFO0FBQ3BDLFlBQVksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEMsU0FBUztBQUNULFFBQVEsSUFBK0MscUJBQXFCLEVBQUU7QUFDOUUsWUFBWSx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLLENBQUM7QUFDTjtBQUNBLElBQUksbUJBQW1CLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxJQUFJLG1CQUFtQixDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDbEM7QUFDQSxJQUFJLG1CQUFtQixDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDbEMsSUFBSSxPQUFPLG1CQUFtQixDQUFDO0FBQy9CLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUM7QUFDMUIsU0FBUyxpQkFBaUIsR0FBRztBQUM3QixJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDekIsQ0FBQztBQUNELFNBQVMsbUJBQW1CLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLElBQUksTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ3JMLElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLE1BQU0sSUFBSSxHQUFHLDJCQUEyQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBSXZELElBQUksSUFBSTtBQUNSLFFBQVEsSUFBSSxnQkFBZ0IsQ0FBQztBQUM3QixRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLDJCQUEyQjtBQUMxRDtBQUNBO0FBQ0EsWUFBWSxNQUFNLFVBQVUsR0FBRyxTQUFTLElBQUksS0FBSyxDQUFDO0FBQ2xELFlBQVksTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEgsWUFBWSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7QUFDckMsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ3JDO0FBQ0EsWUFBWSxJQUFJLENBQUMsWUFBb0IsS0FBSyxZQUFZLEtBQUssS0FBSyxLQUFLLEtBQUssRUFBRSxDQUUvRDtBQUNiLFlBQVksTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUM7QUFDckQsa0JBQWtCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFvQixLQUFLLFlBQVk7QUFDdEUsc0JBQXNCO0FBQ3RCLHdCQUF3QixJQUFJLEtBQUssR0FBRztBQUNwQyw0QkFBNEIsaUJBQWlCLEVBQUUsQ0FBQztBQUNoRCw0QkFBNEIsT0FBTyxLQUFLLENBQUM7QUFDekMseUJBQXlCO0FBQ3pCLHdCQUF3QixLQUFLO0FBQzdCLHdCQUF3QixJQUFJO0FBQzVCLHFCQUFxQjtBQUNyQixzQkFBc0IsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO0FBQzdDLGtCQUFrQixNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksa0NBQWtDLENBQUMsQ0FBQztBQUN4RSxZQUFZLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxLQUFLO0FBQzlDLGtCQUFrQixLQUFLO0FBQ3ZCLGtCQUFrQix3QkFBd0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUM7QUFDMUIsUUFBUSxJQUFJLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDaEMsUUFBUSxJQUFJLENBQUMsWUFBb0IsS0FBSyxZQUFZO0FBQ2xELFlBQVksTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDO0FBQ2hDLFlBQVksTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLDBCQUEwQixDQUdwRDtBQUNULFFBQVEsSUFBSSxnQkFBZ0IsSUFBSSxZQUFZLEtBQUssS0FBSyxFQUFFO0FBQ3hELFlBQVksTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3ZELFlBQVksTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUN2QyxZQUFZLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUM3QixnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQztBQUNqQyxvQkFBb0IsU0FBUyxHQUFHLENBQUMsa0JBQWtCO0FBQ25ELG9CQUFvQixJQUFJLFlBQVksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLGdCQUFnQixFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2hHLHFCQUFxQjtBQUNyQixvQkFBb0IsSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUM5RCxpQkFBaUI7QUFDakIscUJBQXFCLElBQUksQ0FBQyxZQUFvQixLQUFLLFlBQVksS0FBSyxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRSxDQWdDOUY7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQUksS0FBSztBQUNqQixZQUFZLGVBQWUsQ0FBQyw0QkFBNEIsbUNBQW1DLFFBQVEsQ0FBQztBQUNwRyxZQUFZLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixhQUFhLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixnQkFBZ0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUM7QUFDdEQ7QUFDQSxRQUFRLElBQUksS0FBSyxDQUFDLElBQUksRUFBRTtBQUN4QixZQUFZLElBQUksQ0FBQyxZQUFvQixLQUFLLFlBQVksS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUdwRTtBQUNiLFlBQVksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQzlFLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFO0FBQzlCLFlBQVksSUFBSSxDQUFDLFlBQW9CLEtBQUssWUFBWSxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLENBR3BFO0FBQ2IsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFDL0MsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFlBQW9CLEtBQUssWUFBWSxLQUFLLE9BQU8sRUFBRSxDQUV2RDtBQUNULGFBQWE7QUFDYixZQUFZLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDMUIsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxFQUFFO0FBQ2hCLFFBQVEsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDOUIsUUFBUSxXQUFXLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxDQUFDLHVCQUF1QixDQUFDO0FBQzVELFFBQVEsTUFBTSxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4QyxLQUFLO0FBQ0wsSUFBSSwyQkFBMkIsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQUssS0FBSztBQUNoQyxJQUFJLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7QUFDdkMsSUFBSSxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQ2xELElBQUksTUFBTSxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDcEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQ3BCLFFBQVEsT0FBTyxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsQyxLQUFLO0FBQ0wsSUFBSSxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELElBQUksTUFBTSxZQUFZLEdBQUcsZUFBZSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbkYsSUFBSSxNQUFNLE9BQU8sR0FBRyxDQUFDLFdBQVcsS0FBSztBQUNyQyxRQUFRLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDekMsUUFBUSxJQUFJLGVBQWUsRUFBRTtBQUM3QixZQUFZLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ25DLGdCQUFnQixlQUFlLENBQUMsWUFBWSxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQzVELGFBQWE7QUFDYixpQkFBaUIsSUFBSSxXQUFXLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRTtBQUNoRCxnQkFBZ0IsS0FBSyxDQUFDLGVBQWUsR0FBRyxDQUFDLEdBQUcsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzFFLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUNGLFNBQVMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO0FBQ3BDLElBQUksSUFBSSxVQUFVLENBQUM7QUFDbkIsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM5QyxRQUFRLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxRQUFRLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzVCO0FBQ0EsWUFBWSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO0FBQ3ZFLGdCQUFnQixJQUFJLFVBQVUsRUFBRTtBQUNoQztBQUNBLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDdkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxVQUFVLENBQUM7QUFDdEIsQ0FBQztBQUNELE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxLQUFLLEtBQUs7QUFDNUMsSUFBSSxJQUFJLEdBQUcsQ0FBQztBQUNaLElBQUksS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDN0IsUUFBUSxJQUFJLEdBQUcsS0FBSyxPQUFPLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDN0QsWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xELFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUMsQ0FBQztBQUNGLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxLQUFLO0FBQy9DLElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ25CLElBQUksS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDN0IsUUFBUSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtBQUMvRCxZQUFZLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFLLEtBQUs7QUFDakMsSUFBSSxRQUFRLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMvQixRQUFRLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMzQixRQUFRLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUztBQUNoQyxNQUFNO0FBQ04sQ0FBQyxDQUFDO0FBQ0YsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRTtBQUNoRSxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLEdBQUcsU0FBUyxDQUFDO0FBQzlFLElBQUksTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsR0FBRyxTQUFTLENBQUM7QUFDOUUsSUFBSSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDO0FBT3pDO0FBQ0EsSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLFVBQVUsRUFBRTtBQUNoRCxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLElBQUksU0FBUyxJQUFJLFNBQVMsSUFBSSxDQUFDLEVBQUU7QUFDckMsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0EsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBQ1QsUUFBUSxJQUFJLFNBQVMsR0FBRyxFQUFFLG1CQUFtQjtBQUM3QyxZQUFZLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDNUIsZ0JBQWdCLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNuQyxhQUFhO0FBQ2I7QUFDQSxZQUFZLE9BQU8sZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEUsU0FBUztBQUNULGFBQWEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQzVDLFlBQVksTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQztBQUN4RCxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzFELGdCQUFnQixNQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDckQsb0JBQW9CLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNqRCxvQkFBb0IsT0FBTyxJQUFJLENBQUM7QUFDaEMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxJQUFJLFlBQVksSUFBSSxZQUFZLEVBQUU7QUFDMUMsWUFBWSxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRTtBQUN4RCxnQkFBZ0IsT0FBTyxJQUFJLENBQUM7QUFDNUIsYUFBYTtBQUNiLFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxLQUFLLFNBQVMsRUFBRTtBQUNyQyxZQUFZLE9BQU8sS0FBSyxDQUFDO0FBQ3pCLFNBQVM7QUFDVCxRQUFRLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDeEIsWUFBWSxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDL0IsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUN4QixZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxRQUFRLE9BQU8sZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDNUQsS0FBSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFO0FBQzdELElBQUksTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM1QyxJQUFJLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUMzRCxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BCLEtBQUs7QUFDTCxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFFBQVEsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLFFBQVEsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQztBQUM3QyxZQUFZLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNoRCxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtBQUM5QyxFQUFFO0FBQ0YsSUFBSSxPQUFPLE1BQU0sSUFBSSxNQUFNLENBQUMsT0FBTyxLQUFLLEtBQUssRUFBRTtBQUMvQyxRQUFRLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUN2QyxRQUFRLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQy9CLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDO0FBcVovQyxTQUFTLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUU7QUFDL0MsSUFBSSxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsYUFBYSxFQUFFO0FBQzVDLFFBQVEsSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDekIsWUFBWSxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ3pDLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN0QyxTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdCLEtBQUs7QUFDTCxDQUFDO0FBWUQ7QUFDQSxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQzdCLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUlyQjtBQUNMLFNBQVM7QUFDVCxRQUFRLElBQUksUUFBUSxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsTUFBTSxjQUFjLEdBQUcsZUFBZSxDQUFDLE1BQU0sSUFBSSxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUN6RixRQUFRLElBQUksY0FBYyxLQUFLLFFBQVEsRUFBRTtBQUN6QyxZQUFZLFFBQVEsR0FBRyxlQUFlLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDaEYsU0FBUztBQUNUO0FBQ0EsUUFBUSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzlCLEtBQUs7QUFDTCxDQUFDO0FBQ0QsU0FBUyxNQUFNLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxxQkFBcUIsR0FBRyxLQUFLLEVBQUU7QUFDbEU7QUFDQTtBQUNBLElBQUksTUFBTSxRQUFRLEdBQUcsZUFBZSxJQUFJLHdCQUF3QixDQUFDO0FBQ2pFLElBQUksSUFBSSxRQUFRLEVBQUU7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsUUFBUSxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsTUFBTSxJQUFJLElBQUk7QUFDaEQsY0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRO0FBQzdFLGNBQWMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDdkMsUUFBUSxJQUFJLFFBQVEsSUFBSSxHQUFHLElBQUksUUFBUSxFQUFFO0FBQ3pDO0FBQ0EsWUFBWSxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQyxTQUFTO0FBQ1QsYUFBYSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZDLFlBQVksT0FBTyxxQkFBcUIsSUFBSSxVQUFVLENBQUMsWUFBWSxDQUFDO0FBQ3BFLGtCQUFrQixZQUFZLEVBQUU7QUFDaEMsa0JBQWtCLFlBQVksQ0FBQztBQUMvQixTQUFTO0FBQ1QsYUFBYSxDQUVKO0FBQ1QsS0FHSztBQUNMLENBQUM7QUFNRDtBQUNBLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ2pDO0FBQ0EsU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUU7QUFNcEMsSUFBSSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLFNBQVMsRUFBRSxRQUFRLEdBQUcsZUFBZSxFQUFFO0FBZXJILElBQUksSUFBSSxNQUFNLENBQUM7QUFDZixJQUFJLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQztBQUM3QixJQUFJLElBQUksYUFBYSxHQUFHLEtBQUssQ0FBQztBQUM5QixJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNwQyxRQUFRLFlBQVksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUN6QyxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNqQyxRQUFRLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQztBQUM5QixRQUFRLElBQUksR0FBRyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLFNBQVMsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDOUIsUUFBUSxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLFFBQVEsWUFBWSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDL0MsUUFBUSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSTtBQUN2QyxZQUFZLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzFCLGdCQUFnQixPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDL0IsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNwQyxnQkFBZ0IsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbkMsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNwQyxnQkFBZ0IsT0FBTyxxQkFBcUIsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsb0JBQW9CLENBQUM7QUFDaEYsYUFBYTtBQUNiLGlCQUFpQixDQUVKO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUNqQyxRQUFRLElBQUksRUFBRSxFQUFFO0FBQ2hCO0FBQ0EsWUFBWSxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsb0JBQW9CLENBQUM7QUFDekYsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFlBQVksTUFBTSxHQUFHLE1BQU07QUFDM0IsZ0JBQWdCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUU7QUFDdEQsb0JBQW9CLE9BQU87QUFDM0IsaUJBQWlCO0FBQ2pCLGdCQUFnQixJQUFJLE9BQU8sRUFBRTtBQUM3QixvQkFBb0IsT0FBTyxFQUFFLENBQUM7QUFDOUIsaUJBQWlCO0FBQ2pCLGdCQUFnQixPQUFPLDBCQUEwQixDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0FBQzVHLGFBQWEsQ0FBQztBQUNkLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsTUFBTSxHQUFHLElBQUksQ0FBQztBQUV0QixLQUFLO0FBQ0wsSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDcEIsUUFBUSxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDbEMsUUFBUSxNQUFNLEdBQUcsTUFBTSxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztBQUM5QyxLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sQ0FBQztBQUNoQixJQUFJLElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxLQUFLO0FBQy9CLFFBQVEsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLE1BQU07QUFDaEQsWUFBWSxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMscUJBQXFCLENBQUM7QUFDdkUsU0FBUyxDQUFDO0FBQ1YsS0FBSyxDQUFDO0FBQ04sSUFBSSxJQUFJLFFBQVEsR0FBRyxhQUFhLEdBQUcsRUFBRSxHQUFHLHFCQUFxQixDQUFDO0FBQzlELElBQUksTUFBTSxHQUFHLEdBQUcsTUFBTTtBQUN0QixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzVCLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLEVBQUUsRUFBRTtBQUNoQjtBQUNBLFlBQVksTUFBTSxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDdEMsWUFBWSxJQUFJLElBQUk7QUFDcEIsZ0JBQWdCLFlBQVk7QUFDNUIsaUJBQWlCLGFBQWE7QUFDOUIsc0JBQXNCLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekUsc0JBQXNCLFVBQVUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDckQsaUJBQWlCLEtBQUssR0FBRyxFQUFFO0FBQzNCO0FBQ0EsZ0JBQWdCLElBQUksT0FBTyxFQUFFO0FBQzdCLG9CQUFvQixPQUFPLEVBQUUsQ0FBQztBQUM5QixpQkFBaUI7QUFDakIsZ0JBQWdCLDBCQUEwQixDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyx1QkFBdUI7QUFDakYsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQSxvQkFBb0IsUUFBUSxLQUFLLHFCQUFxQixHQUFHLFNBQVMsR0FBRyxRQUFRO0FBQzdFLG9CQUFvQixZQUFZO0FBQ2hDLGlCQUFpQixDQUFDLENBQUM7QUFDbkIsZ0JBQWdCLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDcEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2I7QUFDQSxZQUFZLE1BQU0sRUFBRSxDQUFDO0FBQ3JCLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTjtBQUNBO0FBQ0EsSUFBSSxHQUFHLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDNUIsSUFBSSxJQUFJLFNBQVMsQ0FBQztBQUNsQixJQUFJLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRTtBQUMxQixRQUFRLFNBQVMsR0FBRyxHQUFHLENBQUM7QUFDeEIsS0FBSztBQUNMLFNBQVMsSUFBSSxLQUFLLEtBQUssTUFBTSxFQUFFO0FBQy9CLFFBQVEsU0FBUyxHQUFHLE1BQU0scUJBQXFCLENBQUMsR0FBRyxFQUFFLFFBQVEsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDcEYsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBLFFBQVEsU0FBUyxHQUFHLE1BQU07QUFDMUIsWUFBWSxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUU7QUFDakQsZ0JBQWdCLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQyxhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7QUFDdEIsYUFBYTtBQUNiLFNBQVMsQ0FBQztBQUNWLEtBQUs7QUFDTCxJQUFJLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDbEMsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQixRQUFRLE9BQU87QUFDZixRQUFRLFNBQVM7QUFDakIsUUFBUSxTQUFTO0FBQ2pCLEtBQUssQ0FBQyxDQUFDO0FBQ1AsSUFBSSx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDaEQ7QUFDQSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQ1osUUFBUSxJQUFJLFNBQVMsRUFBRTtBQUN2QixZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ2xCLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDaEMsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRTtBQUMvQixRQUFRLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3JFLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxNQUFNLEVBQUUsQ0FBQztBQUNqQixLQUFLO0FBQ0wsSUFBSSxPQUFPLE1BQU07QUFDakIsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckIsUUFBUSxJQUFJLFFBQVEsRUFBRTtBQUN0QixZQUFZLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzdDLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0Q7QUFDQSxTQUFTLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUMvQyxJQUFJLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDbEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBQ25DLFVBQVUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDOUIsY0FBYyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDO0FBQ2xELGNBQWMsTUFBTSxVQUFVLENBQUMsTUFBTSxDQUFDO0FBQ3RDLFVBQVUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDOUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUNYLElBQUksSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDM0IsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ25CLEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUMzQixRQUFRLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDeEIsS0FBSztBQUNMLElBQUksT0FBTyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9ELENBQUM7QUFDRCxTQUFTLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUU7QUFDckMsSUFBSSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLElBQUksT0FBTyxNQUFNO0FBQ2pCLFFBQVEsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ3RCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3pELFlBQVksR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRSxFQUFFO0FBQzNDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDeEIsUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztBQUN2QixRQUFRLEtBQUssQ0FBQyxVQUFVLFlBQVksRUFBRTtBQUN0QyxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEIsSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN0QixRQUFRLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BDLEtBQUs7QUFDTCxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsWUFBWSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDM0MsUUFBUSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLO0FBQzdCLFlBQVksUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM5QixTQUFTLENBQUMsQ0FBQztBQUNYLEtBQUs7QUFDTCxTQUFTLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ25DLFFBQVEsS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDakMsWUFBWSxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBOFREO0FBQ0EsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBd0lyRDtBQUNBLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBOE54RCxTQUFTLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ25DLElBQUkscUJBQXFCLENBQUMsSUFBSSxFQUFFLEdBQUcsa0JBQWtCLE1BQU0sQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ3JDLElBQUkscUJBQXFCLENBQUMsSUFBSSxFQUFFLElBQUksb0JBQW9CLE1BQU0sQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxHQUFHLGVBQWUsRUFBRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxJQUFJLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLO0FBQ2xDLFNBQVMsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNO0FBQzVCO0FBQ0EsWUFBWSxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDakMsWUFBWSxPQUFPLE9BQU8sRUFBRTtBQUM1QixnQkFBZ0IsSUFBSSxPQUFPLENBQUMsYUFBYSxFQUFFO0FBQzNDLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQixnQkFBZ0IsT0FBTyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDekMsYUFBYTtBQUNiLFlBQVksSUFBSSxFQUFFLENBQUM7QUFDbkIsU0FBUyxDQUFDLENBQUM7QUFDWCxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUNwQyxRQUFRLE9BQU8sT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDMUMsWUFBWSxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ25ELGdCQUFnQixxQkFBcUIsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMxRSxhQUFhO0FBQ2IsWUFBWSxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUNyQyxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtBQUNsRTtBQUNBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxlQUFlLENBQUM7QUFDL0UsSUFBSSxXQUFXLENBQUMsTUFBTTtBQUN0QixRQUFRLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDOUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2YsQ0FBQztBQWNEO0FBQ0EsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEdBQUcsZUFBZSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDM0UsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQixRQUFRLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSztBQUN0QyxhQUFhLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksS0FBSztBQUN2QyxnQkFBZ0IsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFO0FBQ3hDLG9CQUFvQixPQUFPO0FBQzNCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsRUFBRSxDQUFDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQyxnQkFBZ0IsTUFBTSxHQUFHLEdBQUcsMEJBQTBCLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDakYsZ0JBQWdCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pDLGdCQUFnQixhQUFhLEVBQUUsQ0FBQztBQUNoQyxnQkFBZ0IsT0FBTyxHQUFHLENBQUM7QUFDM0IsYUFBYSxDQUFDLENBQUM7QUFDZixRQUFRLElBQUksT0FBTyxFQUFFO0FBQ3JCLFlBQVksS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN2QyxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNwQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLFdBQVcsQ0FBQztBQUMzQixLQVNLO0FBQ0wsQ0FBQztBQUNELE1BQU0sVUFBVSxHQUFHLENBQUMsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sR0FBRyxlQUFlO0FBQ2pFO0FBQ0EsQ0FBQyxDQUFDLHFCQUFxQixJQUFJLFNBQVMsS0FBSyxJQUFJO0FBQzdDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEMsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLElBQUksb0JBQW9CLENBQUM7QUFDMUQsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLEdBQUcsZUFBZSxDQUFDO0FBQ2hELE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxJQUFJLHFCQUFxQixDQUFDO0FBQzVELE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxHQUFHLGVBQWUsQ0FBQztBQUNoRCxNQUFNLGVBQWUsR0FBRyxVQUFVLENBQUMsS0FBSyxzQkFBc0IsQ0FBQztBQUMvRCxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNyRCxNQUFNLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxJQUFJLHVCQUF1QixDQUFDO0FBQ2hFLE1BQU0saUJBQWlCLEdBQUcsVUFBVSxDQUFDLEtBQUssd0JBQXdCLENBQUM7QUFDbkUsTUFBTSxlQUFlLEdBQUcsVUFBVSxDQUFDLEtBQUssc0JBQXNCLENBQUM7QUFDL0QsU0FBUyxlQUFlLENBQUMsSUFBSSxFQUFFLE1BQU0sR0FBRyxlQUFlLEVBQUU7QUFDekQsSUFBSSxVQUFVLENBQUMsSUFBSSx1QkFBdUIsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFhRCxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQztBQUM3QixTQUFTLFlBQVksQ0FBQyxRQUFRLEVBQUU7QUFDaEMsSUFBSSxNQUFNLE9BQU8sR0FBRyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNuRCxJQUFJLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDdEMsSUFBSSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQzdCO0FBQ0EsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUM7QUFDOUI7QUFDQTtBQUNBLElBQUksSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFO0FBQzlCLFFBQVEsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLElBQUkscUJBQXFCLENBQUM7QUFDM0UsS0FBSztBQUNMLElBQUksTUFBTTtBQUNWO0FBQ0EsSUFBSSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsYUFBYTtBQUM5SDtBQUNBLElBQUksT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUUsY0FBYztBQUMzTTtBQUNBLElBQUksTUFBTSxFQUFFLFlBQVk7QUFDeEI7QUFDQSxJQUFJLFVBQVUsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDO0FBQ2hELElBQUksTUFBTSx3QkFBd0IsR0FBd0UsSUFBSSxDQUFDO0FBUy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJLGFBQWEsRUFBRTtBQUN2QixRQUFRLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztBQUN4RSxLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sRUFBRTtBQUNqQixRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFO0FBQ25DLFlBQVksTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9DLFlBQVksSUFBSSxVQUFVLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDM0M7QUFDQTtBQUNBLGdCQVFxQjtBQUNyQixvQkFBb0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDOUQsaUJBQWlCO0FBSWpCLGFBSWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxXQUFXLEVBQUU7QUFLckIsUUFBUSxNQUFNLElBQUksR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQU05RCxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FFcEI7QUFDVCxhQUFhO0FBQ2IsWUFBWSxRQUFRLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQWUzQyxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFDN0IsSUFBSSxJQUFJLGVBQWUsRUFBRTtBQUN6QixRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksZUFBZSxFQUFFO0FBQzNDLFlBQVksTUFBTSxHQUFHLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdDLFlBQVksTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztBQUN2QyxrQkFBa0IsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDO0FBQ2xELGtCQUFrQixVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztBQUNyQyxzQkFBc0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztBQUMxRCxzQkFBc0IsSUFBSSxDQUFDO0FBSTNCLFlBQVksTUFBTSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7QUFDL0Qsa0JBQWtCLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUMxQyxrQkFJc0IsSUFBSSxDQUFDO0FBQzNCLFlBQVksTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQy9CLGdCQUFnQixHQUFHO0FBQ25CLGdCQUFnQixHQUFHO0FBQ25CLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsWUFBWSxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDNUMsZ0JBQWdCLFVBQVUsRUFBRSxJQUFJO0FBQ2hDLGdCQUFnQixZQUFZLEVBQUUsSUFBSTtBQUNsQyxnQkFBZ0IsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEtBQUs7QUFDbEMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDdkMsYUFBYSxDQUFDLENBQUM7QUFJZixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxZQUFZLEVBQUU7QUFDdEIsUUFBUSxLQUFLLE1BQU0sR0FBRyxJQUFJLFlBQVksRUFBRTtBQUN4QyxZQUFZLGFBQWEsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNuRSxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxjQUFjLEVBQUU7QUFDeEIsUUFBUSxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsY0FBYyxDQUFDO0FBQ25ELGNBQWMsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDN0MsY0FBYyxjQUFjLENBQUM7QUFDN0IsUUFBUSxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7QUFDakQsWUFBWSxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLFNBQVMsQ0FBQyxDQUFDO0FBQ1gsS0FBSztBQUNMLElBQUksSUFBSSxPQUFPLEVBQUU7QUFDakIsUUFBUSxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxHQUFHLGVBQWUsQ0FBQztBQUN2RCxLQUFLO0FBQ0wsSUFBSSxTQUFTLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUU7QUFDbkQsUUFBUSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUMzQixZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRSxTQUFTO0FBQ1QsYUFBYSxJQUFJLElBQUksRUFBRTtBQUN2QixZQUFZLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDNUMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RCxJQUFJLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxJQUFJLHFCQUFxQixDQUFDLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN4RCxJQUFJLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxJQUFJLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNsRCxJQUFJLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RCxJQUFJLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUMxRCxJQUFJLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUMxRCxJQUFJLHFCQUFxQixDQUFDLGlCQUFpQixFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQzlELElBQUkscUJBQXFCLENBQUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQzFELElBQUkscUJBQXFCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2xELElBQUkscUJBQXFCLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDNUQsSUFBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN6QixRQUFRLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixZQUFZLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuRixZQUFZLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO0FBQ2xDLGdCQUFnQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0RCxhQUFhLENBQUMsQ0FBQztBQUNmLFNBQVM7QUFDVCxhQUFhLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFO0FBQ3BDLFlBQVksUUFBUSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDekMsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSSxJQUFJLE1BQU0sSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUksRUFBRTtBQUM1QyxRQUFRLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ2pDLEtBQUs7QUFDTCxJQUFJLElBQUksWUFBWSxJQUFJLElBQUksRUFBRTtBQUM5QixRQUFRLFFBQVEsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBQzdDLEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxVQUFVO0FBQ2xCLFFBQVEsUUFBUSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDekMsSUFBSSxJQUFJLFVBQVU7QUFDbEIsUUFBUSxRQUFRLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztBQUN6QyxDQUFDO0FBQ0QsU0FBUyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFLHdCQUF3QixHQUFHLElBQUksRUFBRTtBQUNoRixJQUFJLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2hDLFFBQVEsYUFBYSxHQUFHLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2RCxLQUFLO0FBQ0wsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLGFBQWEsRUFBRTtBQUNyQyxRQUFRLE1BQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzNCLFlBQVksSUFBSSxTQUFTLElBQUksR0FBRyxFQUFFO0FBQ2xDLGdCQUFnQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSx5Q0FBeUMsQ0FBQztBQUM5RyxhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCLGdCQUFnQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7QUFDbkQsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25DLFNBQVM7QUFJVCxLQUFLO0FBQ0wsQ0FBQztBQUNELFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0FBQ3hDLElBQUksMEJBQTBCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztBQUM1QyxVQUFVLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9DLFVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFDRCxTQUFTLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUU7QUFDbEQsSUFBSSxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUNwQyxVQUFVLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUM7QUFDM0MsVUFBVSxNQUFNLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxJQUFJLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLFFBQVEsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDakMsWUFBWSxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLFNBR1M7QUFDVCxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUM5QixRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQzVDLEtBQUs7QUFDTCxTQUFTLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzVCLFFBQVEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDMUIsWUFBWSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxhQUFhLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNyRSxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7QUFDbkQsa0JBQWtCLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUM5QyxrQkFBa0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNuQyxZQUFZLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQ3JDLGdCQUFnQixLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM1QyxhQUdhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLENBRUo7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0JBQW9CLENBQUMsUUFBUSxFQUFFO0FBQ3hDLElBQUksTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztBQUMvQixJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNyRCxJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDakgsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLElBQUksSUFBSSxRQUFRLENBQUM7QUFDakIsSUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQixRQUFRLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDMUIsS0FBSztBQUNMLFNBQVMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxjQUFjLEVBQUU7QUFDakUsUUFBUTtBQUNSLFlBQVksUUFBUSxHQUFHLElBQUksQ0FBQztBQUM1QixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDdEIsUUFBUSxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUU7QUFDakMsWUFBWSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxxQkFBcUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzlGLFNBQVM7QUFDVCxRQUFRLFlBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixDQUFDLENBQUM7QUFDNUQsS0FBSztBQUNMLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDOUIsSUFBSSxPQUFPLFFBQVEsQ0FBQztBQUNwQixDQUFDO0FBQ0QsU0FBUyxZQUFZLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxHQUFHLEtBQUssRUFBRTtBQUN6RCxJQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNyRCxJQUFJLElBQUksY0FBYyxFQUFFO0FBQ3hCLFFBQVEsWUFBWSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZELEtBQUs7QUFDTCxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNqRSxLQUFLO0FBQ0wsSUFBSSxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtBQUM1QixRQUFRLElBQUksT0FBTyxJQUFJLEdBQUcsS0FBSyxRQUFRLEVBQUUsQ0FJaEM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxNQUFNLEtBQUssR0FBRyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEYsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BFLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNkLENBQUM7QUFDRCxNQUFNLHlCQUF5QixHQUFHO0FBQ2xDLElBQUksSUFBSSxFQUFFLFdBQVc7QUFDckIsSUFBSSxLQUFLLEVBQUUsa0JBQWtCO0FBQzdCLElBQUksS0FBSyxFQUFFLGtCQUFrQjtBQUM3QjtBQUNBLElBQUksT0FBTyxFQUFFLGtCQUFrQjtBQUMvQixJQUFJLFFBQVEsRUFBRSxrQkFBa0I7QUFDaEM7QUFDQSxJQUFJLFlBQVksRUFBRSxTQUFTO0FBQzNCLElBQUksT0FBTyxFQUFFLFNBQVM7QUFDdEIsSUFBSSxXQUFXLEVBQUUsU0FBUztBQUMxQixJQUFJLE9BQU8sRUFBRSxTQUFTO0FBQ3RCLElBQUksWUFBWSxFQUFFLFNBQVM7QUFDM0IsSUFBSSxPQUFPLEVBQUUsU0FBUztBQUN0QixJQUFJLGFBQWEsRUFBRSxTQUFTO0FBQzVCLElBQUksU0FBUyxFQUFFLFNBQVM7QUFDeEIsSUFBSSxTQUFTLEVBQUUsU0FBUztBQUN4QixJQUFJLFdBQVcsRUFBRSxTQUFTO0FBQzFCLElBQUksYUFBYSxFQUFFLFNBQVM7QUFDNUIsSUFBSSxjQUFjLEVBQUUsU0FBUztBQUM3QjtBQUNBLElBQUksVUFBVSxFQUFFLGtCQUFrQjtBQUNsQyxJQUFJLFVBQVUsRUFBRSxrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsSUFBSSxLQUFLLEVBQUUsa0JBQWtCO0FBQzdCO0FBQ0EsSUFBSSxPQUFPLEVBQUUsV0FBVztBQUN4QixJQUFJLE1BQU0sRUFBRSxXQUFXO0FBQ3ZCLENBQUMsQ0FBQztBQUNGLFNBQVMsV0FBVyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUU7QUFDL0IsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO0FBQ2YsUUFBUSxPQUFPLEVBQUUsQ0FBQztBQUNsQixLQUFLO0FBQ0wsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFO0FBQ2IsUUFBUSxPQUFPLElBQUksQ0FBQztBQUNwQixLQUFLO0FBQ0wsSUFBSSxPQUFPLFNBQVMsWUFBWSxHQUFHO0FBQ25DLFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNwSCxLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsU0FBUyxXQUFXLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRTtBQUMvQixJQUFJLE9BQU8sa0JBQWtCLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxFQUFFLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzFFLENBQUM7QUFDRCxTQUFTLGVBQWUsQ0FBQyxHQUFHLEVBQUU7QUFDOUIsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QixRQUFRLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUN2QixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzdDLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxTQUFTO0FBQ1QsUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUNuQixLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFDRCxTQUFTLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQzdCLElBQUksT0FBTyxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDekQsQ0FBQztBQUNELFNBQVMsa0JBQWtCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRTtBQUN0QyxJQUFJLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDckUsQ0FBQztBQUNEO0FBQ0EsU0FBUyxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFVO0FBQ2pELEtBQUssR0FBRyxLQUFLLEVBQUU7QUFDZixJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNyQixJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNyQixJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDckMsSUFBSSxRQUFRLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakQsSUFBSSxZQUFZLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbkQ7QUFDQSxJQUFJLEtBQUssTUFBTSxHQUFHLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNoRCxRQUFRLElBQUksRUFBRSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUU7QUFDN0IsWUFBWSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQ25DLFNBQVM7QUFDVCxLQUFLO0FBS0wsSUFBSSxJQUFJLFVBQVUsRUFBRTtBQUNwQjtBQUNBLFFBQVEsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNoRSxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ2xDO0FBQ0EsWUFBWSxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQyxTQUFTO0FBQ1QsYUFBYTtBQUNiO0FBQ0EsWUFBWSxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQyxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDM0IsQ0FBQztBQUNELFNBQVMsV0FBVyxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRTtBQUNsRSxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQzVELElBQUksTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUM7QUFDNUMsSUFBSSxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7QUFDaEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBR1EsQ0FBQyxTQUFTLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNwQyxRQUFRLEVBQUUsU0FBUyxHQUFHLEVBQUUsa0JBQWtCLEVBQUU7QUFDNUMsUUFBUSxJQUFJLFNBQVMsR0FBRyxDQUFDLGNBQWM7QUFDdkM7QUFDQTtBQUNBLFlBQVksTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7QUFDOUQsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMzRCxnQkFBZ0IsSUFBSSxHQUFHLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNDO0FBQ0EsZ0JBQWdCLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QyxnQkFBZ0IsSUFBSSxPQUFPLEVBQUU7QUFDN0I7QUFDQTtBQUNBLG9CQUFvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDNUMsd0JBQXdCLElBQUksS0FBSyxLQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNsRCw0QkFBNEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUMvQyw0QkFBNEIsZUFBZSxHQUFHLElBQUksQ0FBQztBQUNuRCx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qix3QkFBd0IsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNELHdCQUF3QixLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLGdCQUFnQixDQUFDO0FBQzlJLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLG9CQUFvQixJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDOUMsd0JBQXdCLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDM0Msd0JBQXdCLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDL0MscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQzVELFlBQVksZUFBZSxHQUFHLElBQUksQ0FBQztBQUNuQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFDckIsUUFBUSxLQUFLLE1BQU0sR0FBRyxJQUFJLGVBQWUsRUFBRTtBQUMzQyxZQUFZLElBQUksQ0FBQyxRQUFRO0FBQ3pCO0FBQ0EsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUM7QUFDdkM7QUFDQTtBQUNBLHFCQUFxQixDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDM0YsZ0JBQWdCLElBQUksT0FBTyxFQUFFO0FBQzdCLG9CQUFvQixJQUFJLFlBQVk7QUFDcEM7QUFDQSx5QkFBeUIsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLFNBQVM7QUFDeEQ7QUFDQSw0QkFBNEIsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxFQUFFO0FBQ25FLHdCQUF3QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxJQUFJLGdCQUFnQixDQUFDO0FBQy9ILHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLG9CQUFvQixPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0QyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxJQUFJLEtBQUssS0FBSyxlQUFlLEVBQUU7QUFDdkMsWUFBWSxLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBRTtBQUNyQyxnQkFBZ0IsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDekQsb0JBQW9CLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3RDLG9CQUFvQixlQUFlLEdBQUcsSUFBSSxDQUFDO0FBQzNDLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxlQUFlLEVBQUU7QUFDekIsUUFBUSxPQUFPLENBQUMsUUFBUSxFQUFFLEtBQUssWUFBWSxRQUFRLENBQUMsQ0FBQztBQUNyRCxLQUFLO0FBSUwsQ0FBQztBQUNELFNBQVMsWUFBWSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUN4RCxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQztBQUMxRCxJQUFJLElBQUksZUFBZSxHQUFHLEtBQUssQ0FBQztBQUNoQyxJQUFJLElBQUksYUFBYSxDQUFDO0FBQ3RCLElBQUksSUFBSSxRQUFRLEVBQUU7QUFDbEIsUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRTtBQUNsQztBQUNBLFlBQVksSUFBSSxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDckMsZ0JBQWdCLFNBQVM7QUFDekIsYUFBYTtBQUNiLFlBQVksTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDO0FBQ0E7QUFDQSxZQUFZLElBQUksUUFBUSxDQUFDO0FBQ3pCLFlBQVksSUFBSSxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7QUFDeEUsZ0JBQWdCLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ3ZFLG9CQUFvQixLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzVDLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLENBQUMsYUFBYSxLQUFLLGFBQWEsR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDOUUsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ2xFLGdCQUFnQixJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDMUMsb0JBQW9CLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDdkMsb0JBQW9CLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDM0MsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksSUFBSSxZQUFZLEVBQUU7QUFDdEIsUUFBUSxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0MsUUFBUSxNQUFNLFVBQVUsR0FBRyxhQUFhLElBQUksU0FBUyxDQUFDO0FBQ3RELFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDdEQsWUFBWSxNQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEMsWUFBWSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5SCxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxlQUFlLENBQUM7QUFDM0IsQ0FBQztBQUNELFNBQVMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUU7QUFDMUUsSUFBSSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7QUFDckIsUUFBUSxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2xEO0FBQ0EsUUFBUSxJQUFJLFVBQVUsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO0FBQy9DLFlBQVksTUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztBQUM3QyxZQUFZLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLElBQUksVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFO0FBQ25FLGdCQUFnQixNQUFNLEVBQUUsYUFBYSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ25ELGdCQUFnQixJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUU7QUFDMUMsb0JBQW9CLEtBQUssR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQixvQkFBb0Isa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakQsb0JBQW9CLEtBQUssR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEYsb0JBQW9CLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdDLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCLGdCQUFnQixLQUFLLEdBQUcsWUFBWSxDQUFDO0FBQ3JDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksR0FBRyxDQUFDLENBQUMsa0JBQWtCLEVBQUU7QUFDckMsWUFBWSxJQUFJLFFBQVEsSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUN6QyxnQkFBZ0IsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUM5QixhQUFhO0FBQ2IsaUJBQWlCLElBQUksR0FBRyxDQUFDLENBQUMsc0JBQXNCO0FBQ2hELGlCQUFpQixLQUFLLEtBQUssRUFBRSxJQUFJLEtBQUssS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtBQUM1RCxnQkFBZ0IsS0FBSyxHQUFHLElBQUksQ0FBQztBQUM3QixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFDRCxTQUFTLHFCQUFxQixDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLEtBQUssRUFBRTtBQUNsRSxJQUFJLE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUM7QUFDeEMsSUFBSSxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLElBQUksSUFBSSxNQUFNLEVBQUU7QUFDaEIsUUFBUSxPQUFPLE1BQU0sQ0FBQztBQUN0QixLQUFLO0FBQ0wsSUFBSSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQzNCLElBQUksTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQzFCLElBQUksTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQzVCO0FBQ0EsSUFBSSxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDM0IsSUFBSSxJQUFJLG1CQUFtQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ2xELFFBQVEsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFHLEtBQUs7QUFDckMsWUFBWSxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQzlCLFlBQVksTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9FLFlBQVksTUFBTSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0QyxZQUFZLElBQUksSUFBSTtBQUNwQixnQkFBZ0IsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzNDLFNBQVMsQ0FBQztBQUNWLFFBQVEsSUFBSSxDQUFDLE9BQU8sSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNsRCxZQUFZLFVBQVUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ25ELFNBQVM7QUFDVCxRQUFRLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUMxQixZQUFZLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdEMsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ3pCLFlBQVksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDN0MsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUU7QUFDN0IsUUFBUSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNuQyxRQUFRLE9BQU8sU0FBUyxDQUFDO0FBQ3pCLEtBQUs7QUFDTCxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFJN0MsWUFBWSxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbkQsWUFBWSxJQUFJLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2pELGdCQUFnQixVQUFVLENBQUMsYUFBYSxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQ3RELGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMsSUFBSSxHQUFHLEVBQUU7QUFJbEIsUUFBUSxLQUFLLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRTtBQUMvQixZQUFZLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoRCxZQUFZLElBQUksZ0JBQWdCLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDakQsZ0JBQWdCLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQyxnQkFBZ0IsTUFBTSxJQUFJLElBQUksVUFBVSxDQUFDLGFBQWEsQ0FBQztBQUN2RCxvQkFBb0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUMzRSxnQkFBZ0IsSUFBSSxJQUFJLEVBQUU7QUFDMUIsb0JBQW9CLE1BQU0sWUFBWSxHQUFHLFlBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFFLG9CQUFvQixNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4RSxvQkFBb0IsSUFBSSxDQUFDLENBQUMsa0JBQWtCLEdBQUcsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2pFLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxzQkFBc0I7QUFDaEQsd0JBQXdCLFdBQVcsR0FBRyxDQUFDLElBQUksWUFBWSxHQUFHLFdBQVcsQ0FBQztBQUN0RTtBQUNBLG9CQUFvQixJQUFJLFlBQVksR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQ3RFLHdCQUF3QixZQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3pELHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUMzQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLElBQUksT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDO0FBQ0QsU0FBUyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUU7QUFDL0IsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7QUFDeEIsUUFBUSxPQUFPLElBQUksQ0FBQztBQUNwQixLQUdLO0FBQ0wsSUFBSSxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBQ0Q7QUFDQTtBQUNBLFNBQVMsT0FBTyxDQUFDLElBQUksRUFBRTtBQUN2QixJQUFJLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDdEUsSUFBSSxPQUFPLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLENBQUM7QUFDRCxTQUFTLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQzFCLElBQUksT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFDRCxTQUFTLFlBQVksQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFO0FBQzNDLElBQUksSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUU7QUFDaEMsUUFBUSxPQUFPLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNqRSxLQUFLO0FBQ0wsU0FBUyxJQUFJLFVBQVUsQ0FBQyxhQUFhLENBQUMsRUFBRTtBQUN4QyxRQUFRLE9BQU8sVUFBVSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDeEQsS0FBSztBQUNMLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNkLENBQUM7QUFnSUQ7QUFDQSxNQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUM7QUFDbkUsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3BELE1BQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDL0IsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzlCLE1BQU0sYUFBYSxHQUFHLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEtBQUs7QUFDN0MsSUFBSSxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUs7QUFNMUMsUUFBUSxPQUFPLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ2xELEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNaLElBQUksVUFBVSxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDMUIsSUFBSSxPQUFPLFVBQVUsQ0FBQztBQUN0QixDQUFDLENBQUM7QUFDRixNQUFNLG9CQUFvQixHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxRQUFRLEtBQUs7QUFDNUQsSUFBSSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0FBQzlCLElBQUksS0FBSyxNQUFNLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDaEMsUUFBUSxJQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUM7QUFDOUIsWUFBWSxTQUFTO0FBQ3JCLFFBQVEsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLFFBQVEsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDL0IsWUFBWSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsYUFBYSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDeEQsU0FBUztBQUNULGFBQWEsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBTWhDLFlBQVksTUFBTSxVQUFVLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekQsWUFBWSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxVQUFVLENBQUM7QUFDMUMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLG1CQUFtQixHQUFHLENBQUMsUUFBUSxFQUFFLFFBQVEsS0FBSztBQU9wRCxJQUFJLE1BQU0sVUFBVSxHQUFHLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3BELElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxVQUFVLENBQUM7QUFDOUMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxTQUFTLEdBQUcsQ0FBQyxRQUFRLEVBQUUsUUFBUSxLQUFLO0FBQzFDLElBQUksSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLHVCQUF1QjtBQUM1RCxRQUFRLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDaEMsUUFBUSxJQUFJLElBQUksRUFBRTtBQUNsQjtBQUNBO0FBQ0EsWUFBWSxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM3QztBQUNBLFlBQVksR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDckMsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLG9CQUFvQixDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsS0FBSyxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQ2xFLFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsUUFBUSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDNUIsUUFBUSxJQUFJLFFBQVEsRUFBRTtBQUN0QixZQUFZLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNwRCxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDOUMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxXQUFXLEdBQUcsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsS0FBSztBQUN2RCxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ3RDLElBQUksSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUM7QUFDakMsSUFBSSxJQUFJLHdCQUF3QixHQUFHLFNBQVMsQ0FBQztBQUM3QyxJQUFJLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLHVCQUF1QjtBQUNuRCxRQUFRLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDaEMsUUFBUSxJQUFJLElBQUksRUFBRTtBQUNsQjtBQUNBLFlBS2lCLElBQUksU0FBUyxJQUFJLElBQUksS0FBSyxDQUFDLGVBQWU7QUFDM0Q7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUIsR0FBRyxLQUFLLENBQUM7QUFDMUMsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLEtBQUssQ0FBQyxlQUFlO0FBQzNELG9CQUFvQixPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDbkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksaUJBQWlCLEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO0FBQ2xELFlBQVksb0JBQW9CLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2xELFNBQVM7QUFDVCxRQUFRLHdCQUF3QixHQUFHLFFBQVEsQ0FBQztBQUM1QyxLQUFLO0FBQ0wsU0FBUyxJQUFJLFFBQVEsRUFBRTtBQUN2QjtBQUNBLFFBQVEsbUJBQW1CLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ2hELFFBQVEsd0JBQXdCLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDbEQsS0FBSztBQUNMO0FBQ0EsSUFBSSxJQUFJLGlCQUFpQixFQUFFO0FBQzNCLFFBQVEsS0FBSyxNQUFNLEdBQUcsSUFBSSxLQUFLLEVBQUU7QUFDakMsWUFBWSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLHdCQUF3QixDQUFDLEVBQUU7QUFDM0UsZ0JBQWdCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUMsQ0FBQztBQWtERixTQUFTLG1CQUFtQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtBQUMvRCxJQUFJLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDaEMsSUFBSSxNQUFNLFdBQVcsR0FBRyxTQUFTLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQztBQUNwRCxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFFBQVEsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLFFBQVEsSUFBSSxXQUFXLEVBQUU7QUFDekIsWUFBWSxPQUFPLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDcEQsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQyxRQUFRLElBQUksSUFBSSxFQUFFO0FBQ2xCO0FBQ0E7QUFDQSxZQUFZLGFBQWEsRUFBRSxDQUFDO0FBQzVCLFlBQVksMEJBQTBCLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLHVCQUF1QjtBQUMvRSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUU7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLEtBQUs7QUFDckIsZ0JBQWdCLFNBQVM7QUFDekIsYUFBYSxDQUFDLENBQUM7QUFDZixZQUFZLGFBQWEsRUFBRSxDQUFDO0FBQzVCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsU0FBUyxnQkFBZ0IsR0FBRztBQUM1QixJQUFJLE9BQU87QUFDWCxRQUFRLEdBQUcsRUFBRSxJQUFJO0FBQ2pCLFFBQVEsTUFBTSxFQUFFO0FBQ2hCLFlBQVksV0FBVyxFQUFFLEVBQUU7QUFDM0IsWUFBWSxXQUFXLEVBQUUsS0FBSztBQUM5QixZQUFZLGdCQUFnQixFQUFFLEVBQUU7QUFDaEMsWUFBWSxxQkFBcUIsRUFBRSxFQUFFO0FBQ3JDLFlBQVksWUFBWSxFQUFFLFNBQVM7QUFDbkMsWUFBWSxXQUFXLEVBQUUsU0FBUztBQUNsQyxZQUFZLGVBQWUsRUFBRSxFQUFFO0FBQy9CLFNBQVM7QUFDVCxRQUFRLE1BQU0sRUFBRSxFQUFFO0FBQ2xCLFFBQVEsVUFBVSxFQUFFLEVBQUU7QUFDdEIsUUFBUSxVQUFVLEVBQUUsRUFBRTtBQUN0QixRQUFRLFFBQVEsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNyQyxRQUFRLFlBQVksRUFBRSxJQUFJLE9BQU8sRUFBRTtBQUNuQyxRQUFRLFVBQVUsRUFBRSxJQUFJLE9BQU8sRUFBRTtBQUNqQyxRQUFRLFVBQVUsRUFBRSxJQUFJLE9BQU8sRUFBRTtBQUNqQyxLQUFLLENBQUM7QUFDTixDQUFDO0FBQ0QsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ1osU0FBUyxZQUFZLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtBQUN2QyxJQUFJLE9BQU8sU0FBUyxTQUFTLENBQUMsYUFBYSxFQUFFLFNBQVMsR0FBRyxJQUFJLEVBQUU7QUFDL0QsUUFBUSxJQUFJLFNBQVMsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7QUFFdkQsWUFBWSxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQzdCLFNBQVM7QUFDVCxRQUFRLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixFQUFFLENBQUM7QUFDM0MsUUFBUSxNQUFNLGdCQUFnQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDM0MsUUFBUSxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7QUFDOUIsUUFBUSxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsR0FBRyxHQUFHO0FBQ25DLFlBQVksSUFBSSxFQUFFLEdBQUcsRUFBRTtBQUN2QixZQUFZLFVBQVUsRUFBRSxhQUFhO0FBQ3JDLFlBQVksTUFBTSxFQUFFLFNBQVM7QUFDN0IsWUFBWSxVQUFVLEVBQUUsSUFBSTtBQUM1QixZQUFZLFFBQVEsRUFBRSxPQUFPO0FBQzdCLFlBQVksT0FBTztBQUNuQixZQUFZLElBQUksTUFBTSxHQUFHO0FBQ3pCLGdCQUFnQixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDdEMsYUFBYTtBQUNiLFlBQVksSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFFO0FBSTFCLGFBQWE7QUFDYixZQUFZLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxPQUFPLEVBQUU7QUFDcEMsZ0JBQWdCLElBQUksZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBRWpDO0FBQ2pCLHFCQUFxQixJQUFJLE1BQU0sSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQy9ELG9CQUFvQixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDakQsb0JBQW9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUM7QUFDcEQsaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUM3QyxvQkFBb0IsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2pELG9CQUFvQixNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUM7QUFDNUMsaUJBQWlCO0FBQ2pCLHFCQUFxQixDQUdKO0FBQ2pCLGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsWUFBWSxLQUFLLENBQUMsS0FBSyxFQUFFO0FBQ3pCLGdCQUFnQixJQUFJLG1CQUFtQixFQUFFO0FBQ3pDLG9CQUFvQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDekQsd0JBQXdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELHFCQUlxQjtBQUNyQixpQkFHaUI7QUFDakIsZ0JBQWdCLE9BQU8sR0FBRyxDQUFDO0FBQzNCLGFBQWE7QUFDYixZQUFZLFNBQVMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFO0FBSXZDLGdCQUFnQixJQUFJLENBQUMsU0FBUyxFQUFFO0FBQ2hDLG9CQUFvQixPQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEQsaUJBQWlCO0FBSWpCLGdCQUFnQixPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUNyRCxnQkFBZ0IsT0FBTyxHQUFHLENBQUM7QUFDM0IsYUFBYTtBQUNiLFlBQVksU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUU7QUFJdkMsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDaEMsb0JBQW9CLE9BQU8sT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwRCxpQkFBaUI7QUFJakIsZ0JBQWdCLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQ3JELGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsWUFBWSxLQUFLLENBQUMsYUFBYSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7QUFDbkQsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDaEMsb0JBQW9CLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEU7QUFDQTtBQUNBLG9CQUFvQixLQUFLLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztBQU8vQyxvQkFBb0IsSUFBSSxTQUFTLElBQUksT0FBTyxFQUFFO0FBQzlDLHdCQUF3QixPQUFPLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ3RELHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzVELHFCQUFxQjtBQUNyQixvQkFBb0IsU0FBUyxHQUFHLElBQUksQ0FBQztBQUNyQyxvQkFBb0IsR0FBRyxDQUFDLFVBQVUsR0FBRyxhQUFhLENBQUM7QUFDbkQsb0JBQW9CLGFBQWEsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO0FBQ3BELG9CQUFvQixJQUErQyxxQkFBcUIsRUFBRTtBQUMxRix3QkFBd0IsZUFBZSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN0RCxxQkFBcUI7QUFDckIsb0JBQW9CLE9BQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7QUFDakQsaUJBTWlCO0FBQ2pCLGFBQWE7QUFDYixZQUFZLE9BQU8sR0FBRztBQUN0QixnQkFBZ0IsSUFBSSxTQUFTLEVBQUU7QUFDL0Isb0JBQW9CLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2pELG9CQUFvQixJQUErQyxxQkFBcUIsRUFBRTtBQUMxRix3QkFBd0Isa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEQscUJBQXFCO0FBQ3JCLG9CQUFvQixPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDO0FBQ3RELGlCQUdpQjtBQUNqQixhQUFhO0FBQ2IsWUFBWSxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUtoQztBQUNBO0FBQ0EsZ0JBQWdCLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzlDLGdCQUFnQixPQUFPLEdBQUcsQ0FBQztBQUMzQixhQUFhO0FBQ2IsU0FBUyxDQUFDLENBQUM7QUFDWCxRQUFRLE9BQU8sR0FBRyxDQUFDO0FBQ25CLEtBQUssQ0FBQztBQUNOLENBQUM7QUF3V0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCLEdBQUc7QUFFNUIsSUFBSSxJQUFJLE9BQU8sbUJBQW1CLEtBQUssU0FBUyxFQUFFO0FBRWxELFFBQVEsYUFBYSxFQUFFLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0FBQ25ELEtBQUs7QUFDTCxJQUFJLElBQUksT0FBTyxxQkFBcUIsS0FBSyxTQUFTLEVBQUU7QUFFcEQsUUFBUSxhQUFhLEVBQUUsQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDdEQsS0FBSztBQU9MLENBQUM7QUFDRDtBQUNBLE1BQU0saUJBQWlCLEdBQUc7QUFDMUIsSUFBSSxTQUFTLEVBQUUsUUFBUTtBQUN2QjtBQUNBLElBQUksWUFBWSxFQUFFLElBQUk7QUFDdEIsQ0FBQyxDQUFDO0FBU0YsTUFBTSxxQkFBcUIsR0FBRyx1QkFBdUI7QUFDckQsS0FBSztBQUNMLE1BQU0sTUFBTSxHQUFHLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBRyxLQUFLLEtBQUs7QUFDaEYsSUFBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUN6QixRQUFRLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLEVBQUUsU0FBUyxLQUFLLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzVJLFFBQVEsT0FBTztBQUNmLEtBQUs7QUFDTCxJQUFJLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQzdDO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZixLQUFLO0FBQ0wsSUFBSSxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUM7QUFDeEMsVUFBVSxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUs7QUFDMUQsVUFBVSxLQUFLLENBQUMsRUFBRSxDQUFDO0FBQ25CLElBQUksTUFBTSxLQUFLLEdBQUcsU0FBUyxHQUFHLElBQUksR0FBRyxRQUFRLENBQUM7QUFDOUMsSUFBSSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDO0FBTXhDLElBQUksTUFBTSxNQUFNLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsSUFBSSxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQzNFLElBQUksTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztBQUN4QztBQUNBLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUU7QUFDMUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUM5QixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDaEMsWUFBWSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDNUMsZ0JBQWdCLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDMUMsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ2hDLFlBQVksTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDaEMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsTUFBTSxLQUFLLEdBQUcsTUFBTTtBQUM1QixZQUFZO0FBQ1osZ0JBQWdCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbEMsYUFBYTtBQUNiLFlBQVksSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ3pDLGdCQUFnQixVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3hDLGFBQWE7QUFDYixTQUFTLENBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksS0FBSyxFQUFFO0FBQ25CLFlBQVksS0FBSyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMxQixZQUFZLHFCQUFxQixDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN6RCxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksS0FBSyxFQUFFLENBQUM7QUFDcEIsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3pCLFFBQVEsTUFBTSxLQUFLLEdBQUcsTUFBTTtBQUM1QixZQUFZLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzlCLFNBQVMsQ0FBQztBQUNWLFFBQVEsSUFBSSxLQUFLLEVBQUU7QUFDbkIsWUFBWSxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzFCLFlBQVkscUJBQXFCLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pELFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxLQUFLLEVBQUUsQ0FBQztBQUNwQixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDOUIsUUFBUSxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUscUJBQXFCLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDaEYsS0FBSztBQUNMLFNBQVMsQ0FFSjtBQUNMLENBQUMsQ0FBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsY0FBYyxDQUFDLE9BQU8sRUFBRTtBQUNqQyxJQUFJLE9BQU8sa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkMsQ0FBQztBQU9EO0FBQ0EsU0FBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUU7QUFDekQ7QUFDQSxJQUFJO0FBQ0osUUFBUSxnQkFBZ0IsRUFBRSxDQUFDO0FBQzNCLEtBQUs7QUFDTCxJQUFJLElBQStDLHFCQUFxQixFQUFFO0FBQzFFLFFBQVEsTUFBTSxNQUFNLEdBQUcsYUFBYSxFQUFFLENBQUM7QUFDdkMsUUFBUSxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztBQUM5QixRQUFRLGVBQWUsQ0FBQyxNQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQztBQUM3RCxLQUFLO0FBQ0wsSUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLGNBQWMsR0FBRyxJQUFJLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxtQkFBbUIsRUFBRSx1QkFBdUIsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUM1YjtBQUNBO0FBQ0EsSUFBSSxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sR0FBRyxJQUFJLEVBQUUsZUFBZSxHQUFHLElBQUksRUFBRSxjQUFjLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsWUFBWSxHQUFHLElBQUksRUFBRSxTQUFTLEdBQUcsS0FBSyxLQUFLO0FBQzlKO0FBQ0EsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDNUMsWUFBWSxNQUFNLEdBQUcsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pDLFlBQVksT0FBTyxDQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9ELFlBQVksRUFBRSxHQUFHLElBQUksQ0FBQztBQUN0QixTQUFTO0FBQ1QsUUFBUSxJQUFJLEVBQUUsQ0FBQyxTQUFTLEtBQUssQ0FBQyxDQUFDLGFBQWE7QUFDNUMsWUFBWSxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQzlCLFlBQVksRUFBRSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDdEMsU0FBUztBQUNULFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBQzVDLFFBQVEsUUFBUSxJQUFJO0FBQ3BCLFlBQVksS0FBSyxJQUFJO0FBQ3JCLGdCQUFnQixXQUFXLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDdkQsZ0JBQWdCLE1BQU07QUFDdEIsWUFBWSxLQUFLLFNBQVM7QUFDMUIsZ0JBQWdCLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzlELGdCQUFnQixNQUFNO0FBQ3RCLFlBQVksS0FBSyxNQUFNO0FBQ3ZCLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDaEMsb0JBQW9CLGVBQWUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRSxpQkFHaUI7QUFDakIsZ0JBQWdCLE1BQU07QUFDdEIsWUFBWSxLQUFLLFFBQVE7QUFDekIsZ0JBQWdCLGVBQWUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzVILGdCQUFnQixNQUFNO0FBQ3RCLFlBQVk7QUFDWixnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQyxnQkFBZ0I7QUFDakQsb0JBQW9CLGNBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQy9ILGlCQUFpQjtBQUNqQixxQkFBcUIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxrQkFBa0I7QUFDeEQsb0JBQW9CLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDakksaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLFNBQVMsR0FBRyxFQUFFLGlCQUFpQjtBQUN4RCxvQkFBb0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN4SSxpQkFBaUI7QUFDakIscUJBQXFCLElBQUksU0FBUyxHQUFHLEdBQUcsaUJBQWlCO0FBQ3pELG9CQUFvQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3hJLGlCQUFpQjtBQUNqQixxQkFBcUIsQ0FFSjtBQUNqQixTQUFTO0FBQ1Q7QUFDQSxRQUFRLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxlQUFlLEVBQUU7QUFDNUMsWUFBWSxNQUFNLENBQUMsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDckUsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxXQUFXLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEtBQUs7QUFDdkQsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxjQUFjLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNqRixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsWUFBWSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEtBQUssRUFBRSxDQUFDLFFBQVEsRUFBRTtBQUM3QyxnQkFBZ0IsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDN0MsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEtBQUs7QUFDOUQsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUMxRixTQUFTO0FBQ1QsYUFBYTtBQUNiO0FBQ0EsWUFBWSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDMUIsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxlQUFlLEdBQUcsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEtBQUs7QUFDOUQsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1RixLQUFLLENBQUM7QUFpQk4sSUFBSSxNQUFNLGNBQWMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEtBQUs7QUFDdkUsUUFBUSxJQUFJLElBQUksQ0FBQztBQUNqQixRQUFRLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUU7QUFDcEMsWUFBWSxJQUFJLEdBQUcsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLFlBQVksVUFBVSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDbkQsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLFNBQVM7QUFDVCxRQUFRLFVBQVUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ25ELEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLO0FBQ2pELFFBQVEsSUFBSSxJQUFJLENBQUM7QUFDakIsUUFBUSxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFO0FBQ3BDLFlBQVksSUFBSSxHQUFHLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN2QyxZQUFZLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMzQixZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7QUFDdEIsU0FBUztBQUNULFFBQVEsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNCLEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxjQUFjLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSztBQUMzSCxRQUFRLEtBQUssR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxLQUFLLENBQUM7QUFDM0MsUUFBUSxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIsWUFBWSxZQUFZLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2pILFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxZQUFZLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbEcsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLO0FBQ3hILFFBQVEsSUFBSSxFQUFFLENBQUM7QUFDZixRQUFRLElBQUksU0FBUyxDQUFDO0FBQ3RCLFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQzlFLFFBQVEsSUFDSSxLQUFLLENBQUMsRUFBRTtBQUNwQixZQUFZLGFBQWEsS0FBSyxTQUFTO0FBQ3ZDLFlBQVksU0FBUyxLQUFLLENBQUMsQ0FBQyxnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEVBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDcEQsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLEVBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssSUFBSSxLQUFLLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzNGO0FBQ0E7QUFDQSxZQUFZLElBQUksU0FBUyxHQUFHLENBQUMsc0JBQXNCO0FBQ25ELGdCQUFnQixrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZELGFBQWE7QUFDYixpQkFBaUIsSUFBSSxTQUFTLEdBQUcsRUFBRSx1QkFBdUI7QUFDMUQsZ0JBQWdCLGFBQWEsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLElBQUksSUFBSSxLQUFLLGVBQWUsRUFBRSxZQUFZLEVBQUUsU0FBUyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDaEwsYUFBYTtBQUNiLFlBQVksSUFBSSxJQUFJLEVBQUU7QUFDdEIsZ0JBQWdCLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzdFLGFBQWE7QUFDYjtBQUNBLFlBQVksSUFBSSxLQUFLLEVBQUU7QUFDdkIsZ0JBQWdCLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFO0FBQ3pDLG9CQUFvQixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzlDLHdCQUF3QixhQUFhLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDMUkscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixnQkFBZ0IsS0FBSyxTQUFTLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixHQUFHO0FBQzVELG9CQUFvQixlQUFlLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN2RSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsWUFBWSxVQUFVLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNoRixTQUFTO0FBQ1QsUUFBUSxJQUErQyxxQkFBcUIsRUFBRTtBQUM5RSxZQUFZLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRTtBQUNqRCxnQkFBZ0IsS0FBSyxFQUFFLEtBQUs7QUFDNUIsZ0JBQWdCLFVBQVUsRUFBRSxLQUFLO0FBQ2pDLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsWUFBWSxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBRSxzQkFBc0IsRUFBRTtBQUM5RCxnQkFBZ0IsS0FBSyxFQUFFLGVBQWU7QUFDdEMsZ0JBQWdCLFVBQVUsRUFBRSxLQUFLO0FBQ2pDLGFBQWEsQ0FBQyxDQUFDO0FBQ2YsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDbEIsWUFBWSxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUM3RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLENBQUMsY0FBYyxLQUFLLGNBQWMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUM7QUFDN0csWUFBWSxVQUFVO0FBQ3RCLFlBQVksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDO0FBQ2xDLFFBQVEsSUFBSSx1QkFBdUIsRUFBRTtBQUNyQyxZQUFZLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsU0FBUztBQUNULFFBQVEsVUFBVSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDMUMsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsY0FBYztBQUN0RCxZQUFZLHVCQUF1QjtBQUNuQyxZQUFZLElBQUksRUFBRTtBQUNsQixZQUFZLHFCQUFxQixDQUFDLE1BQU07QUFDeEMsZ0JBQWdCLFNBQVMsSUFBSSxlQUFlLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNoRixnQkFBZ0IsdUJBQXVCLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNoRSxnQkFBZ0IsSUFBSSxJQUFJLG1CQUFtQixDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3JGLGFBQWEsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMvQixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLFVBQVUsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxlQUFlLEtBQUs7QUFDOUUsUUFBUSxJQUFJLE9BQU8sRUFBRTtBQUNyQixZQUFZLGNBQWMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDeEMsU0FBUztBQUNULFFBQVEsSUFBSSxZQUFZLEVBQUU7QUFDMUIsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMxRCxnQkFBZ0IsY0FBYyxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRCxhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsSUFBSSxlQUFlLEVBQUU7QUFDN0IsWUFBWSxJQUFJLE9BQU8sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDO0FBT2xELFlBQVksSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFO0FBQ25DLGdCQUFnQixNQUFNLFdBQVcsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDO0FBQzFELGdCQUFnQixVQUFVLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ25ILGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGFBQWEsR0FBRyxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsS0FBSyxHQUFHLENBQUMsS0FBSztBQUN2SSxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3RELFlBQVksTUFBTSxLQUFLLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVM7QUFDbEQsa0JBQWtCLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0Msa0JBQWtCLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9DLFlBQVksS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkgsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxZQUFZLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDdEcsUUFBUSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNuQyxRQUFRLElBQUksRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUN0RDtBQUNBO0FBQ0EsUUFBUSxTQUFTLElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxFQUFFLGtCQUFrQjtBQUN4RCxRQUFRLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDO0FBQy9DLFFBQVEsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7QUFDL0MsUUFBUSxJQUFJLFNBQVMsQ0FBQztBQUN0QixRQUFRLEtBQUssU0FBUyxHQUFHLFFBQVEsQ0FBQyxtQkFBbUIsR0FBRztBQUN4RCxZQUFZLGVBQWUsQ0FBQyxTQUFTLEVBQUUsZUFBZSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNoRSxTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksRUFBRTtBQUNsQixZQUFZLG1CQUFtQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3pFLFNBQVM7QUFPVCxRQUFRLElBQUksU0FBUyxHQUFHLENBQUMsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBSSxTQUFTLEdBQUcsRUFBRSxtQkFBbUI7QUFDakQ7QUFDQSxnQkFBZ0IsVUFBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQy9GLGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdCQUFnQixJQUFJLFNBQVMsR0FBRyxDQUFDLGNBQWM7QUFDL0Msb0JBQW9CLElBQUksUUFBUSxDQUFDLEtBQUssS0FBSyxRQUFRLENBQUMsS0FBSyxFQUFFO0FBQzNELHdCQUF3QixhQUFhLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNoRixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxTQUFTLEdBQUcsQ0FBQyxjQUFjO0FBQy9DLG9CQUFvQixhQUFhLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdEYsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJLFNBQVMsR0FBRyxDQUFDLGNBQWM7QUFDL0M7QUFDQSxvQkFBb0IsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQztBQUMxRCxvQkFBb0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDbkUsd0JBQXdCLE1BQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyRCx3QkFBd0IsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25ELHdCQUF3QixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkQsd0JBQXdCLElBQUksSUFBSSxLQUFLLElBQUk7QUFDekMsNkJBQTZCLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ2pGLDRCQUE0QixhQUFhLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDckkseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLElBQUksU0FBUyxHQUFHLENBQUMsYUFBYTtBQUMxQyxnQkFBZ0IsSUFBSSxFQUFFLENBQUMsUUFBUSxLQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUU7QUFDakQsb0JBQW9CLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDeEQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYSxJQUFJLENBQUMsU0FBUyxJQUFJLGVBQWUsSUFBSSxJQUFJLEVBQUU7QUFDeEQ7QUFDQSxZQUFZLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzRixTQUFTO0FBQ1QsUUFBUSxNQUFNLGNBQWMsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxlQUFlLENBQUM7QUFDcEUsUUFBUSxJQUFJLGVBQWUsRUFBRTtBQUM3QixZQUFZLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsZUFBZSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUl2SSxTQUFTO0FBQ1QsYUFBYSxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQzdCO0FBQ0EsWUFBWSxhQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsSCxTQUFTO0FBQ1QsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFjLEtBQUssSUFBSSxFQUFFO0FBQzNELFlBQVkscUJBQXFCLENBQUMsTUFBTTtBQUN4QyxnQkFBZ0IsU0FBUyxJQUFJLGVBQWUsQ0FBQyxTQUFTLEVBQUUsZUFBZSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNqRixnQkFBZ0IsSUFBSSxJQUFJLG1CQUFtQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hGLGFBQWEsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMvQixTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ047QUFDQSxJQUFJLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksS0FBSztBQUN0SSxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JELFlBQVksTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVDLFlBQVksTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVDO0FBQ0EsWUFBWSxNQUFNLFNBQVM7QUFDM0I7QUFDQTtBQUNBLFlBQVksUUFBUSxDQUFDLEVBQUU7QUFDdkI7QUFDQTtBQUNBLGlCQUFpQixRQUFRLENBQUMsSUFBSSxLQUFLLFFBQVE7QUFDM0M7QUFDQTtBQUNBLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDO0FBQ3hEO0FBQ0Esb0JBQW9CLFFBQVEsQ0FBQyxTQUFTLEdBQUcsQ0FBQztBQUMxQyxvQkFBb0IsUUFBUSxDQUFDLFNBQVMsR0FBRyxFQUFFLGdCQUFnQjtBQUMzRCxrQkFBa0IsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7QUFDN0M7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUIsQ0FBQztBQUN0QyxZQUFZLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ25ILFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sVUFBVSxHQUFHLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxLQUFLO0FBQ2xHLFFBQVEsSUFBSSxRQUFRLEtBQUssUUFBUSxFQUFFO0FBQ25DLFlBQVksS0FBSyxNQUFNLEdBQUcsSUFBSSxRQUFRLEVBQUU7QUFDeEM7QUFDQSxnQkFBZ0IsSUFBSSxjQUFjLENBQUMsR0FBRyxDQUFDO0FBQ3ZDLG9CQUFvQixTQUFTO0FBQzdCLGdCQUFnQixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0MsZ0JBQWdCLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzQyxnQkFBZ0IsSUFBSSxJQUFJLEtBQUssSUFBSTtBQUNqQyxxQkFBcUIsa0JBQWtCLElBQUksa0JBQWtCLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDekUsb0JBQW9CLGFBQWEsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNoSSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFlBQVksSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQ3hDLGdCQUFnQixLQUFLLE1BQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtBQUM1QyxvQkFBb0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxRQUFRLENBQUMsRUFBRTtBQUNwRSx3QkFBd0IsYUFBYSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQzdJLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZUFBZSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEtBQUs7QUFDNUgsUUFBUSxNQUFNLG1CQUFtQixJQUFJLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDOUUsUUFBUSxNQUFNLGlCQUFpQixJQUFJLEVBQUUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDcEYsUUFBUSxJQUFJLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDcEYsUUFBUSxJQUFJLGVBQWUsRUFBRTtBQUM3QixZQUFZLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDN0IsU0FBUztBQUNUO0FBQ0EsUUFBUSxJQUFJLG9CQUFvQixFQUFFO0FBQ2xDLFlBQVksWUFBWSxHQUFHLFlBQVk7QUFDdkMsa0JBQWtCLFlBQVksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUM7QUFDM0Qsa0JBQWtCLG9CQUFvQixDQUFDO0FBQ3ZDLFNBQVM7QUFPVCxRQUFRLElBQUksRUFBRSxJQUFJLElBQUksRUFBRTtBQUN4QixZQUFZLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0QsWUFBWSxVQUFVLENBQUMsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN0SSxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksSUFBSSxTQUFTLEdBQUcsQ0FBQztBQUM3QixnQkFBZ0IsU0FBUyxHQUFHLEVBQUU7QUFDOUIsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBLGdCQUFnQixFQUFFLENBQUMsZUFBZSxFQUFFO0FBQ3BDO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3pJLGdCQUdxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixFQUFFLENBQUMsR0FBRyxJQUFJLElBQUk7QUFDOUIscUJBQXFCLGVBQWUsSUFBSSxFQUFFLEtBQUssZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQ3pFLG9CQUFvQixzQkFBc0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksZUFBZSxDQUFDO0FBQ3ZFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDckksYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSztBQUM3SCxRQUFRLEVBQUUsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBQ3ZDLFFBQVEsSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFO0FBQ3hCLFlBQVksSUFBSSxFQUFFLENBQUMsU0FBUyxHQUFHLEdBQUcsNkJBQTZCO0FBQy9ELGdCQUFnQixlQUFlLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDdEYsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixnQkFBZ0IsY0FBYyxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3pHLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksZUFBZSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDL0MsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxjQUFjLEdBQUcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLEtBQUs7QUFDbkgsUUFBUSxNQUFNLFFBQVEsSUFBSSxZQUFZLENBQUMsU0FBUyxHQUFHLHVCQUF1QixDQUFDLFlBQVksRUFBRSxlQUFlLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztBQVEzSDtBQUNBLFFBQVEsSUFBSSxXQUFXLENBQUMsWUFBWSxDQUFDLEVBQUU7QUFDdkMsWUFBWSxRQUFRLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUM7QUFDOUMsU0FBUztBQUNUO0FBQ0EsUUFBUTtBQUlSLFlBQVksY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBSXJDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxJQUFJLFFBQVEsQ0FBQyxRQUFRLEVBQUU7QUFDL0IsWUFBWSxjQUFjLElBQUksY0FBYyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUN0RjtBQUNBO0FBQ0EsWUFBWSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRTtBQUNsQyxnQkFBZ0IsTUFBTSxXQUFXLElBQUksUUFBUSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNoRixnQkFBZ0Isa0JBQWtCLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDekUsYUFBYTtBQUNiLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxpQkFBaUIsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztBQUt2RyxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZUFBZSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEtBQUs7QUFDbkQsUUFBUSxNQUFNLFFBQVEsSUFBSSxFQUFFLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN2RCxRQUFRLElBQUkscUJBQXFCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRTtBQUN0RCxZQUFZLElBQUksUUFBUSxDQUFDLFFBQVE7QUFDakMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRTtBQU16QyxnQkFBZ0Isd0JBQXdCLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUlsRSxnQkFBZ0IsT0FBTztBQUN2QixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLFFBQVEsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ25DO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMvQztBQUNBLGdCQUFnQixRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2I7QUFDQSxZQUFZLEVBQUUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQztBQUN4QyxZQUFZLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUMxQixZQUFZLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2hDLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLEtBQUs7QUFDL0c7QUFDQSxRQUFRLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsZUFBZSxHQUFHO0FBQzVELFlBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7QUFDckMsZ0JBQWdCLElBQUksU0FBUyxDQUFDO0FBQzlCLGdCQUFnQixNQUFNLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLFlBQVksQ0FBQztBQUNuRCxnQkFBZ0IsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ25EO0FBQ0EsZ0JBQWdCLElBQUksRUFBRSxFQUFFO0FBQ3hCLG9CQUFvQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLEtBQUssU0FBUyxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsa0JBQWtCLEdBQUc7QUFDckUsb0JBQW9CLGVBQWUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3JFLGlCQUFpQjtBQUNqQixnQkFBZ0IsSUFBSSxFQUFFLElBQUksV0FBVyxFQUFFO0FBQ3ZDO0FBQ0Esb0JBQW9CLE1BQU0sY0FBYyxHQUFHLE1BQU07QUFJakQsd0JBQXdCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7QUFPekUsd0JBQXdCLFdBQVcsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBSTFGLHFCQUFxQixDQUFDO0FBQ3RCLG9CQUFvQixJQUFJLGNBQWMsQ0FBQyxZQUFZLENBQUMsRUFBRTtBQUN0RCx3QkFBd0IsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE1BQU0sQ0FBQyxRQUFRLENBQUMsV0FBVyxJQUFJLGNBQWMsRUFBRSxDQUFDLENBQUM7QUFDekUscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qix3QkFBd0IsY0FBYyxFQUFFLENBQUM7QUFDekMscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixxQkFBcUI7QUFJckIsb0JBQW9CLE1BQU0sT0FBTyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQU92RixvQkFBb0IsS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBSTdGLG9CQUFvQixZQUFZLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7QUFDakQsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLElBQUksQ0FBQyxFQUFFO0FBQ3ZCLG9CQUFvQixxQkFBcUIsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCLEtBQUssU0FBUyxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsY0FBYyxHQUFHO0FBQ2pFLG9CQUFvQixNQUFNLGtCQUFrQixHQUFHLFlBQVksQ0FBQztBQUM1RCxvQkFBb0IscUJBQXFCLENBQUMsTUFBTSxlQUFlLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQ3hILGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxZQUFZLENBQUMsU0FBUyxHQUFHLEdBQUcsb0NBQW9DO0FBQ3BGLG9CQUFvQixRQUFRLENBQUMsQ0FBQyxJQUFJLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDcEYsaUJBQWlCO0FBQ2pCLGdCQUFnQixRQUFRLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUMxQyxnQkFBZ0IsSUFBK0MscUJBQXFCLEVBQUU7QUFDdEYsb0JBQW9CLHNCQUFzQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3JELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixZQUFZLEdBQUcsU0FBUyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDekQsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxRQUFRLENBQUM7QUFDOUQsZ0JBQWdCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQztBQUN0QyxnQkFBZ0IsSUFBSSxTQUFTLENBQUM7QUFJOUIsZ0JBQWdCLElBQUksSUFBSSxFQUFFO0FBQzFCLG9CQUFvQixJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUM7QUFDdkMsb0JBQW9CLHdCQUF3QixDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEUsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQixvQkFBb0IsSUFBSSxHQUFHLEtBQUssQ0FBQztBQUNqQyxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsSUFBSSxFQUFFLEVBQUU7QUFDeEIsb0JBQW9CLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0IsS0FBSyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixHQUFHO0FBQ2hGLG9CQUFvQixlQUFlLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDcEUsaUJBQWlCO0FBS2pCLGdCQUFnQixNQUFNLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUkvRCxnQkFBZ0IsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztBQUNsRCxnQkFBZ0IsUUFBUSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7QUFJNUMsZ0JBQWdCLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUTtBQUN4QztBQUNBLGdCQUFnQixjQUFjLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUMzQztBQUNBLGdCQUFnQixlQUFlLENBQUMsUUFBUSxDQUFDLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUk1RSxnQkFBZ0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO0FBQ3RDLGdCQUFnQixJQUFJLFVBQVUsS0FBSyxJQUFJLEVBQUU7QUFDekM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzNELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixJQUFJLENBQUMsRUFBRTtBQUN2QixvQkFBb0IscUJBQXFCLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQzdELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHO0FBQzNFLG9CQUFvQixxQkFBcUIsQ0FBQyxNQUFNLGVBQWUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNqSCxpQkFBaUI7QUFDakIsZ0JBQWdCLElBQStDLHFCQUFxQixFQUFFO0FBQ3RGLG9CQUFvQix3QkFBd0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2RCxpQkFBaUI7QUFJakIsYUFBYTtBQUNiLFNBQVMsRUFBK0UsaUJBQWlCLENBQUMsQ0FBQztBQUszRyxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVMsS0FBSztBQUN6RSxRQUFRLFNBQVMsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO0FBQ3ZDLFFBQVEsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7QUFDL0MsUUFBUSxRQUFRLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztBQUNuQyxRQUFRLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQzdCLFFBQVEsV0FBVyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNyRSxRQUFRLFdBQVcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM3RCxRQUFRLGFBQWEsRUFBRSxDQUFDO0FBQ3hCO0FBQ0E7QUFDQSxRQUFRLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckQsUUFBUSxhQUFhLEVBQUUsQ0FBQztBQUN4QixLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sYUFBYSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLEdBQUcsS0FBSyxLQUFLO0FBQ2xJLFFBQVEsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDckMsUUFBUSxNQUFNLGFBQWEsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7QUFDcEQsUUFBUSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQy9CLFFBQVEsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDNUM7QUFDQSxRQUFRLElBQUksU0FBUyxHQUFHLENBQUMsRUFBRTtBQUMzQixZQUFZLElBQUksU0FBUyxHQUFHLEdBQUcsdUJBQXVCO0FBQ3REO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMvSCxnQkFBZ0IsT0FBTztBQUN2QixhQUFhO0FBQ2IsaUJBQWlCLElBQUksU0FBUyxHQUFHLEdBQUcseUJBQXlCO0FBQzdEO0FBQ0EsZ0JBQWdCLG9CQUFvQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDakksZ0JBQWdCLE9BQU87QUFDdkIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxzQkFBc0I7QUFDL0M7QUFDQSxZQUFZLElBQUksYUFBYSxHQUFHLEVBQUUsdUJBQXVCO0FBQ3pELGdCQUFnQixlQUFlLENBQUMsRUFBRSxFQUFFLGVBQWUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNyRSxhQUFhO0FBQ2IsWUFBWSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7QUFDM0IsZ0JBQWdCLGtCQUFrQixDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNsRCxhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLElBQUksYUFBYSxHQUFHLEVBQUUsdUJBQXVCO0FBQ3pEO0FBQ0EsZ0JBQWdCLElBQUksU0FBUyxHQUFHLEVBQUUsdUJBQXVCO0FBQ3pEO0FBQ0Esb0JBQW9CLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDbkksaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQjtBQUNBLG9CQUFvQixlQUFlLENBQUMsRUFBRSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDL0UsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdCQUFnQixJQUFJLGFBQWEsR0FBRyxDQUFDLHNCQUFzQjtBQUMzRCxvQkFBb0Isa0JBQWtCLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3RELGlCQUFpQjtBQUNqQjtBQUNBLGdCQUFnQixJQUFJLFNBQVMsR0FBRyxFQUFFLHVCQUF1QjtBQUN6RCxvQkFBb0IsYUFBYSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMxSCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSztBQUNqSSxRQUFRLEVBQUUsR0FBRyxFQUFFLElBQUksU0FBUyxDQUFDO0FBQzdCLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxTQUFTLENBQUM7QUFDN0IsUUFBUSxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQ3BDLFFBQVEsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNwQyxRQUFRLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzVELFFBQVEsSUFBSSxDQUFDLENBQUM7QUFDZCxRQUFRLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzNDLFlBQVksTUFBTSxTQUFTLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVM7QUFDaEQsa0JBQWtCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkMsa0JBQWtCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pDLFlBQVksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDdEgsU0FBUztBQUNULFFBQVEsSUFBSSxTQUFTLEdBQUcsU0FBUyxFQUFFO0FBQ25DO0FBQ0EsWUFBWSxlQUFlLENBQUMsRUFBRSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztBQUM1RixTQUFTO0FBQ1QsYUFBYTtBQUNiO0FBQ0EsWUFBWSxhQUFhLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNoSSxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ047QUFDQSxJQUFJLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSztBQUNySSxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNsQixRQUFRLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7QUFDN0IsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUMvQixRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsUUFBUSxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNuQyxZQUFZLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QixZQUFZLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTO0FBQ3pDLGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QyxZQUFZLElBQUksZUFBZSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRTtBQUN6QyxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDaEgsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixnQkFBZ0IsTUFBTTtBQUN0QixhQUFhO0FBQ2IsWUFBWSxDQUFDLEVBQUUsQ0FBQztBQUNoQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUNuQyxZQUFZLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM5QixZQUFZLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTO0FBQzFDLGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3hDLGtCQUFrQixjQUFjLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQyxZQUFZLElBQUksZUFBZSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRTtBQUN6QyxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDaEgsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixnQkFBZ0IsTUFBTTtBQUN0QixhQUFhO0FBQ2IsWUFBWSxFQUFFLEVBQUUsQ0FBQztBQUNqQixZQUFZLEVBQUUsRUFBRSxDQUFDO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFO0FBQ3BCLFlBQVksSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ3pCLGdCQUFnQixNQUFNLE9BQU8sR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLGdCQUFnQixNQUFNLE1BQU0sR0FBRyxPQUFPLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDO0FBQzVFLGdCQUFnQixPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDaEMsb0JBQW9CLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVM7QUFDbEQsMEJBQTBCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0MsMEJBQTBCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN0SSxvQkFBb0IsQ0FBQyxFQUFFLENBQUM7QUFDeEIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtBQUN6QixZQUFZLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM1QixnQkFBZ0IsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3RFLGdCQUFnQixDQUFDLEVBQUUsQ0FBQztBQUNwQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLFlBQVksTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCO0FBQ0EsWUFBWSxNQUFNLGdCQUFnQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDL0MsWUFBWSxLQUFLLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxnQkFBZ0IsTUFBTSxTQUFTLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVM7QUFDcEQsc0JBQXNCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0Msc0JBQXNCLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdDLGdCQUFnQixJQUFJLFNBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFO0FBSTNDLG9CQUFvQixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMzRCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLElBQUksQ0FBQyxDQUFDO0FBQ2xCLFlBQVksSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLFlBQVksTUFBTSxXQUFXLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDNUMsWUFBWSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDOUI7QUFDQSxZQUFZLElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakUsWUFBWSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsRUFBRSxDQUFDLEVBQUU7QUFDNUMsZ0JBQWdCLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QyxZQUFZLEtBQUssQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLGdCQUFnQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEMsZ0JBQWdCLElBQUksT0FBTyxJQUFJLFdBQVcsRUFBRTtBQUM1QztBQUNBLG9CQUFvQixPQUFPLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUUsb0JBQW9CLFNBQVM7QUFDN0IsaUJBQWlCO0FBQ2pCLGdCQUFnQixJQUFJLFFBQVEsQ0FBQztBQUM3QixnQkFBZ0IsSUFBSSxTQUFTLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRTtBQUMzQyxvQkFBb0IsUUFBUSxHQUFHLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkUsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQjtBQUNBLG9CQUFvQixLQUFLLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMvQyx3QkFBd0IsSUFBSSxxQkFBcUIsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztBQUMvRCw0QkFBNEIsZUFBZSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUMvRCw0QkFBNEIsUUFBUSxHQUFHLENBQUMsQ0FBQztBQUN6Qyw0QkFBNEIsTUFBTTtBQUNsQyx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixnQkFBZ0IsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzVDLG9CQUFvQixPQUFPLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUUsaUJBQWlCO0FBQ2pCLHFCQUFxQjtBQUNyQixvQkFBb0IscUJBQXFCLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakUsb0JBQW9CLElBQUksUUFBUSxJQUFJLGdCQUFnQixFQUFFO0FBQ3RELHdCQUF3QixnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFDcEQscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qix3QkFBd0IsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNyQyxxQkFBcUI7QUFDckIsb0JBQW9CLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3JJLG9CQUFvQixPQUFPLEVBQUUsQ0FBQztBQUM5QixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLE1BQU0sMEJBQTBCLEdBQUcsS0FBSztBQUNwRCxrQkFBa0IsV0FBVyxDQUFDLHFCQUFxQixDQUFDO0FBQ3BELGtCQUFrQixTQUFTLENBQUM7QUFDNUIsWUFBWSxDQUFDLEdBQUcsMEJBQTBCLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN0RDtBQUNBLFlBQVksS0FBSyxDQUFDLEdBQUcsV0FBVyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ25ELGdCQUFnQixNQUFNLFNBQVMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLGdCQUFnQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDaEQsZ0JBQWdCLE1BQU0sTUFBTSxHQUFHLFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQztBQUN4RixnQkFBZ0IsSUFBSSxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDcEQ7QUFDQSxvQkFBb0IsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDL0gsaUJBQWlCO0FBQ2pCLHFCQUFxQixJQUFJLEtBQUssRUFBRTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUN0RSx3QkFBd0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsZUFBZSxDQUFDO0FBQzVFLHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsd0JBQXdCLENBQUMsRUFBRSxDQUFDO0FBQzVCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLGNBQWMsR0FBRyxJQUFJLEtBQUs7QUFDaEYsUUFBUSxNQUFNLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxHQUFHLEtBQUssQ0FBQztBQUNwRSxRQUFRLElBQUksU0FBUyxHQUFHLENBQUMsa0JBQWtCO0FBQzNDLFlBQVksSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDdkUsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxRQUFRLElBQUksU0FBUyxHQUFHLEdBQUcsaUJBQWlCO0FBQzVDLFlBQVksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUM3RCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsSUFBSSxTQUFTLEdBQUcsRUFBRSxpQkFBaUI7QUFDM0MsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzNELFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksS0FBSyxRQUFRLEVBQUU7QUFDL0IsWUFBWSxVQUFVLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM5QyxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3RELGdCQUFnQixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDL0QsYUFBYTtBQUNiLFlBQVksVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3hELFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksS0FBSyxNQUFNLEVBQUU7QUFDN0IsWUFBWSxjQUFjLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNyRCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNUO0FBQ0EsUUFBUSxNQUFNLGNBQWMsR0FBRyxRQUFRLEtBQUssQ0FBQztBQUM3QyxZQUFZLFNBQVMsR0FBRyxDQUFDO0FBQ3pCLFlBQVksVUFBVSxDQUFDO0FBQ3ZCLFFBQVEsSUFBSSxjQUFjLEVBQUU7QUFDNUIsWUFBWSxJQUFJLFFBQVEsS0FBSyxDQUFDLGNBQWM7QUFDNUMsZ0JBQWdCLFVBQVUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDM0MsZ0JBQWdCLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ2xELGdCQUFnQixxQkFBcUIsQ0FBQyxNQUFNLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDbEYsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixnQkFBZ0IsTUFBTSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLEdBQUcsVUFBVSxDQUFDO0FBQ3JFLGdCQUFnQixNQUFNLE1BQU0sR0FBRyxNQUFNLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZFLGdCQUFnQixNQUFNLFlBQVksR0FBRyxNQUFNO0FBQzNDLG9CQUFvQixLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU07QUFDcEMsd0JBQXdCLE1BQU0sRUFBRSxDQUFDO0FBQ2pDLHdCQUF3QixVQUFVLElBQUksVUFBVSxFQUFFLENBQUM7QUFDbkQscUJBQXFCLENBQUMsQ0FBQztBQUN2QixpQkFBaUIsQ0FBQztBQUNsQixnQkFBZ0IsSUFBSSxVQUFVLEVBQUU7QUFDaEMsb0JBQW9CLFVBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3pELGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLFlBQVksRUFBRSxDQUFDO0FBQ25DLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzlDLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sT0FBTyxHQUFHLENBQUMsS0FBSyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsUUFBUSxHQUFHLEtBQUssRUFBRSxTQUFTLEdBQUcsS0FBSyxLQUFLO0FBQ3JHLFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDbEc7QUFDQSxRQUFRLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtBQUN6QixZQUFZLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0QsU0FBUztBQUNULFFBQVEsSUFBSSxTQUFTLEdBQUcsR0FBRyxvQ0FBb0M7QUFDL0QsWUFBWSxlQUFlLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsRCxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsTUFBTSxnQkFBZ0IsR0FBRyxTQUFTLEdBQUcsQ0FBQyxrQkFBa0IsSUFBSSxDQUFDO0FBQ3JFLFFBQVEsSUFBSSxTQUFTLENBQUM7QUFDdEIsUUFBUSxLQUFLLFNBQVMsR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLG9CQUFvQixHQUFHO0FBQy9ELFlBQVksZUFBZSxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDL0QsU0FBUztBQUNULFFBQVEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxrQkFBa0I7QUFDM0MsWUFBWSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN4RSxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksSUFBSSxTQUFTLEdBQUcsR0FBRyxpQkFBaUI7QUFDaEQsZ0JBQWdCLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNqRSxnQkFBZ0IsT0FBTztBQUN2QixhQUFhO0FBQ2IsWUFBWSxJQUFJLGdCQUFnQixFQUFFO0FBQ2xDLGdCQUFnQixtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNuRixhQUFhO0FBQ2IsWUFBWSxJQUFJLFNBQVMsR0FBRyxFQUFFLGlCQUFpQjtBQUMvQyxnQkFBZ0IsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMxRyxhQUFhO0FBQ2IsaUJBQWlCLElBQUksZUFBZTtBQUNwQztBQUNBLGlCQUFpQixJQUFJLEtBQUssUUFBUTtBQUNsQyxxQkFBcUIsU0FBUyxHQUFHLENBQUMsSUFBSSxTQUFTLEdBQUcsRUFBRSx1QkFBdUIsQ0FBQyxFQUFFO0FBQzlFO0FBQ0EsZ0JBQWdCLGVBQWUsQ0FBQyxlQUFlLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDL0YsYUFBYTtBQUNiLGlCQUFpQixJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVE7QUFDdkMsaUJBQWlCLFNBQVMsR0FBRyxHQUFHO0FBQ2hDLG9CQUFvQixTQUFTLEdBQUcsR0FBRyx3QkFBd0I7QUFDM0QsaUJBQWlCLENBQUMsU0FBUyxJQUFJLFNBQVMsR0FBRyxFQUFFLHNCQUFzQixFQUFFO0FBQ3JFLGdCQUFnQixlQUFlLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMzRSxhQUFhO0FBQ2IsWUFBWSxJQUFJLFFBQVEsRUFBRTtBQUMxQixnQkFBZ0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlCLGFBQWE7QUFDYixTQUFTO0FBQ1QsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsZ0JBQWdCLEtBQUssZ0JBQWdCLEVBQUU7QUFDL0UsWUFBWSxxQkFBcUIsQ0FBQyxNQUFNO0FBQ3hDLGdCQUFnQixTQUFTLElBQUksZUFBZSxDQUFDLFNBQVMsRUFBRSxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEYsZ0JBQWdCLGdCQUFnQjtBQUNoQyxvQkFBb0IsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDbkYsYUFBYSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQy9CLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sTUFBTSxHQUFHLEtBQUssSUFBSTtBQUM1QixRQUFRLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDdkQsUUFBUSxJQUFJLElBQUksS0FBSyxRQUFRLEVBQUU7QUFDL0IsWUFBWSxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZDLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksS0FBSyxNQUFNLEVBQUU7QUFDN0IsWUFBWSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNwQyxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULFFBQVEsTUFBTSxhQUFhLEdBQUcsTUFBTTtBQUNwQyxZQUFZLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMzQixZQUFZLElBQUksVUFBVSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxFQUFFO0FBQzlFLGdCQUFnQixVQUFVLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDeEMsYUFBYTtBQUNiLFNBQVMsQ0FBQztBQUNWLFFBQVEsSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLENBQUM7QUFDL0IsWUFBWSxVQUFVO0FBQ3RCLFlBQVksQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFO0FBQ25DLFlBQVksTUFBTSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsR0FBRyxVQUFVLENBQUM7QUFDckQsWUFBWSxNQUFNLFlBQVksR0FBRyxNQUFNLEtBQUssQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDaEUsWUFBWSxJQUFJLFVBQVUsRUFBRTtBQUM1QixnQkFBZ0IsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsYUFBYSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ2xFLGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLFlBQVksRUFBRSxDQUFDO0FBQy9CLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksYUFBYSxFQUFFLENBQUM7QUFDNUIsU0FBUztBQUNULEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLO0FBQ3pDO0FBQ0E7QUFDQSxRQUFRLElBQUksSUFBSSxDQUFDO0FBQ2pCLFFBQVEsT0FBTyxHQUFHLEtBQUssR0FBRyxFQUFFO0FBQzVCLFlBQVksSUFBSSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QyxZQUFZLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QixZQUFZLEdBQUcsR0FBRyxJQUFJLENBQUM7QUFDdkIsU0FBUztBQUNULFFBQVEsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFFBQVEsRUFBRSxjQUFjLEVBQUUsUUFBUSxLQUFLO0FBSXJFLFFBQVEsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsR0FBRyxRQUFRLENBQUM7QUFDL0Q7QUFDQSxRQUFRLElBQUksR0FBRyxFQUFFO0FBQ2pCLFlBQVksY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLFNBQVM7QUFDVCxRQUFRLElBQUksT0FBTyxFQUFFO0FBQ3JCLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDckQsZ0JBQWdCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLElBQUksTUFBTSxFQUFFO0FBQ3BCLFlBQVksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pCLFlBQVksT0FBTyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ2pFLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxFQUFFLEVBQUU7QUFDaEIsWUFBWSxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdEQsU0FBUztBQUNULFFBQVEscUJBQXFCLENBQUMsTUFBTTtBQUNwQyxZQUFZLFFBQVEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3hDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksY0FBYztBQUMxQixZQUFZLGNBQWMsQ0FBQyxhQUFhO0FBQ3hDLFlBQVksQ0FBQyxjQUFjLENBQUMsV0FBVztBQUN2QyxZQUFZLFFBQVEsQ0FBQyxRQUFRO0FBQzdCLFlBQVksQ0FBQyxRQUFRLENBQUMsYUFBYTtBQUNuQyxZQUFZLFFBQVEsQ0FBQyxVQUFVLEtBQUssY0FBYyxDQUFDLFNBQVMsRUFBRTtBQUM5RCxZQUFZLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNsQyxZQUFZLElBQUksY0FBYyxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7QUFDM0MsZ0JBQWdCLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUN6QyxhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsSUFBK0MscUJBQXFCLEVBQUU7QUFDOUUsWUFBWSx3QkFBd0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxNQUFNLGVBQWUsR0FBRyxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLFFBQVEsR0FBRyxLQUFLLEVBQUUsU0FBUyxHQUFHLEtBQUssRUFBRSxLQUFLLEdBQUcsQ0FBQyxLQUFLO0FBQzNILFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDdEQsWUFBWSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3ZGLFNBQVM7QUFDVCxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sZUFBZSxHQUFHLEtBQUssSUFBSTtBQUNyQyxRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLGtCQUFrQjtBQUNqRCxZQUFZLE9BQU8sZUFBZSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDNUQsU0FBUztBQUNULFFBQVEsSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLEdBQUcsaUJBQWlCO0FBQ2xELFlBQVksT0FBTyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3pDLFNBQVM7QUFDVCxRQUFRLE9BQU8sZUFBZSxFQUFFLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQzNELEtBQUssQ0FBQztBQUNOLElBQUksTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLEtBQUssS0FBSztBQUNoRCxRQUFRLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQUMzQixZQUFZLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRTtBQUNsQyxnQkFBZ0IsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1RCxhQUFhO0FBQ2IsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxJQUFJLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3ZGLFNBQVM7QUFDVCxRQUFRLGlCQUFpQixFQUFFLENBQUM7QUFDNUIsUUFBUSxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztBQUNqQyxLQUFLLENBQUM7QUFDTixJQUFJLE1BQU0sU0FBUyxHQUFHO0FBQ3RCLFFBQVEsQ0FBQyxFQUFFLEtBQUs7QUFDaEIsUUFBUSxFQUFFLEVBQUUsT0FBTztBQUNuQixRQUFRLENBQUMsRUFBRSxJQUFJO0FBQ2YsUUFBUSxDQUFDLEVBQUUsTUFBTTtBQUNqQixRQUFRLEVBQUUsRUFBRSxjQUFjO0FBQzFCLFFBQVEsRUFBRSxFQUFFLGFBQWE7QUFDekIsUUFBUSxFQUFFLEVBQUUsYUFBYTtBQUN6QixRQUFRLEdBQUcsRUFBRSxrQkFBa0I7QUFDL0IsUUFBUSxDQUFDLEVBQUUsZUFBZTtBQUMxQixRQUFRLENBQUMsRUFBRSxPQUFPO0FBQ2xCLEtBQUssQ0FBQztBQUNOLElBQUksSUFBSSxPQUFPLENBQUM7QUFDaEIsSUFBSSxJQUFJLFdBQVcsQ0FBQztBQUNwQixJQUFJLElBQUksa0JBQWtCLEVBQUU7QUFDNUIsUUFBUSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMvRCxLQUFLO0FBQ0wsSUFBSSxPQUFPO0FBQ1gsUUFBUSxNQUFNO0FBQ2QsUUFBUSxPQUFPO0FBQ2YsUUFBUSxTQUFTLEVBQUUsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7QUFDaEQsS0FBSyxDQUFDO0FBQ04sQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBRyxJQUFJLEVBQUU7QUFDbEUsSUFBSSwwQkFBMEIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsbUJBQW1CO0FBQ25FLFFBQVEsS0FBSztBQUNiLFFBQVEsU0FBUztBQUNqQixLQUFLLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzQkFBc0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUU7QUFDekQsSUFBSSxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQzVCLElBQUksTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUM1QixJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QyxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzdDO0FBQ0E7QUFDQSxZQUFZLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM5QixZQUFZLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QixZQUFZLElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUU7QUFDdkUsZ0JBQWdCLElBQUksRUFBRSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsS0FBSyxFQUFFLHVCQUF1QjtBQUNuRixvQkFBb0IsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekQsb0JBQW9CLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNsQyxpQkFBaUI7QUFDakIsZ0JBQWdCLElBQUksQ0FBQyxPQUFPO0FBQzVCLG9CQUFvQixzQkFBc0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDbkQsYUFBYTtBQU1iLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsU0FBUyxXQUFXLENBQUMsR0FBRyxFQUFFO0FBQzFCLElBQUksTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQzFCLElBQUksTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN0QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDM0IsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM5QixRQUFRLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QixRQUFRLElBQUksSUFBSSxLQUFLLENBQUMsRUFBRTtBQUN4QixZQUFZLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMxQyxZQUFZLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRTtBQUMvQixnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QixnQkFBZ0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMvQixnQkFBZ0IsU0FBUztBQUN6QixhQUFhO0FBQ2IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLFlBQVksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLFlBQVksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzFCLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QyxnQkFBZ0IsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFO0FBQzNDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QixpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsWUFBWSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDdkMsZ0JBQWdCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUMzQixvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekMsaUJBQWlCO0FBQ2pCLGdCQUFnQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDdEIsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN0QixJQUFJLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQ3BCLFFBQVEsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0QixRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakIsS0FBSztBQUNMLElBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUNEO0FBQ0EsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLFlBQVksQ0FBQztBQTBNL0MsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLEVBQUUsQ0FBQztBQTREeEM7QUFDSyxNQUFDLFFBQVEsR0FBRyxNQUFNLENBQXdELFNBQVMsRUFBRTtBQUMxRixNQUFNLElBQUksR0FBRyxNQUFNLENBQW9ELFNBQVMsQ0FBQyxDQUFDO0FBQ2xGLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBdUQsU0FBUyxDQUFDLENBQUM7QUFDMUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFzRCxTQUFTLENBQUMsQ0FBQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUyxDQUFDLGVBQWUsR0FBRyxLQUFLLEVBQUU7QUFDNUMsSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFFLFlBQVksR0FBRyxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQUUsRUFBRSxDQUFDO0FBQ2xFLENBQUM7QUFDRCxTQUFTLFVBQVUsR0FBRztBQUN0QixJQUFJLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNyQixJQUFJLFlBQVksR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDN0QsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxrQkFBa0IsR0FBRyxDQUFDLENBQUM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQixDQUFDLEtBQUssRUFBRTtBQUNqQyxJQUFJLGtCQUFrQixJQUFJLEtBQUssQ0FBQztBQUNoQyxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFO0FBQ3JFLElBQUksTUFBTSxLQUFLLEdBQUcsV0FBVyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsSUFBSSxxREFBcUQsQ0FBQztBQUN4STtBQUNBLElBQUksS0FBSyxDQUFDLGVBQWU7QUFDekIsUUFBUSxrQkFBa0IsR0FBRyxDQUFDLEdBQUcsWUFBWSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDbEU7QUFDQSxJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQ2pCO0FBQ0E7QUFDQSxJQUFJLElBQUksa0JBQWtCLEdBQUcsQ0FBQyxJQUFJLFlBQVksRUFBRTtBQUNoRCxRQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakMsS0FBSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRTtBQUN4QixJQUFJLE9BQU8sS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLEtBQUssSUFBSSxHQUFHLEtBQUssQ0FBQztBQUN0RCxDQUFDO0FBQ0QsU0FBUyxlQUFlLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQU9qQyxJQUFJLE9BQU8sRUFBRSxDQUFDLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQztBQUNwRCxDQUFDO0FBZ0JELE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN4QyxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEtBQUssR0FBRyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0FBQzNELE1BQU0sWUFBWSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSztBQUNsQyxJQUFJLFFBQVEsR0FBRyxJQUFJLElBQUk7QUFDdkIsVUFBVSxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUM7QUFDeEQsY0FBYyxFQUFFLENBQUMsRUFBRSx3QkFBd0IsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO0FBQ3JELGNBQWMsR0FBRztBQUNqQixVQUFVLElBQUksRUFBRTtBQUNoQixDQUFDLENBQUM7QUFDRyxNQUFDLFdBQVcsSUFFWCxZQUFZLEVBQUU7QUFDcEIsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsUUFBUSxHQUFHLElBQUksRUFBRSxTQUFTLEdBQUcsQ0FBQyxFQUFFLFlBQVksR0FBRyxJQUFJLEVBQUUsV0FBVyxHQUFHLEtBQUssRUFBRTtBQUNwSCxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLHNCQUFzQixFQUFFO0FBSWxELFFBQVEsSUFBSSxHQUFHLFNBQVMsQ0FBQztBQUN6QixLQUFLO0FBQ0wsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxRQUFRLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksc0JBQXNCLENBQUM7QUFDMUUsUUFBUSxJQUFJLFFBQVEsRUFBRTtBQUN0QixZQUFZLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNoRCxTQUFTO0FBQ1QsUUFBUSxPQUFPLE1BQU0sQ0FBQztBQUN0QixLQUFLO0FBQ0w7QUFDQSxJQUFJLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDaEMsUUFBUSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUM5QixLQUFLO0FBQ0w7QUFDQSxJQUFJLElBQUksS0FBSyxFQUFFO0FBQ2Y7QUFDQSxRQUFRLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLGlCQUFpQixJQUFJLEtBQUssRUFBRTtBQUMxRCxZQUFZLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3RDLFNBQVM7QUFDVCxRQUFRLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEtBQUssQ0FBQztBQUM1QyxRQUFRLElBQUksS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3ZDLFlBQVksS0FBSyxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEQsU0FBUztBQUNULFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDN0I7QUFDQTtBQUNBLFlBQVksSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDbkQsZ0JBQWdCLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzFDLGFBQWE7QUFDYixZQUFZLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxJQUFJLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDcEMsVUFBVSxDQUFDO0FBQ1gsVUFBVSxVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzFCLGNBQWMsR0FBRztBQUNqQixjQUFjLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDOUIsa0JBQWtCLEVBQUU7QUFDcEIsa0JBQWtCLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDaEMsc0JBQXNCLENBQUM7QUFDdkIsc0JBQXNCLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDdEMsMEJBQTBCLENBQUM7QUFDM0IsMEJBQTBCLENBQUMsQ0FBQztBQVE1QixJQUFJLE1BQU0sS0FBSyxHQUFHO0FBQ2xCLFFBQVEsV0FBVyxFQUFFLElBQUk7QUFDekIsUUFBUSxRQUFRLEVBQUUsSUFBSTtBQUN0QixRQUFRLElBQUk7QUFDWixRQUFRLEtBQUs7QUFDYixRQUFRLEdBQUcsRUFBRSxLQUFLLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQztBQUN6QyxRQUFRLEdBQUcsRUFBRSxLQUFLLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQztBQUN6QyxRQUFRLE9BQU8sRUFBRSxjQUFjO0FBQy9CLFFBQVEsWUFBWSxFQUFFLElBQUk7QUFDMUIsUUFBUSxRQUFRLEVBQUUsSUFBSTtBQUN0QixRQUFRLFNBQVMsRUFBRSxJQUFJO0FBQ3ZCLFFBQVEsUUFBUSxFQUFFLElBQUk7QUFDdEIsUUFBUSxTQUFTLEVBQUUsSUFBSTtBQUN2QixRQUFRLFVBQVUsRUFBRSxJQUFJO0FBQ3hCLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEIsUUFBUSxVQUFVLEVBQUUsSUFBSTtBQUN4QixRQUFRLEVBQUUsRUFBRSxJQUFJO0FBQ2hCLFFBQVEsTUFBTSxFQUFFLElBQUk7QUFDcEIsUUFBUSxNQUFNLEVBQUUsSUFBSTtBQUNwQixRQUFRLFlBQVksRUFBRSxJQUFJO0FBQzFCLFFBQVEsV0FBVyxFQUFFLENBQUM7QUFDdEIsUUFBUSxTQUFTO0FBQ2pCLFFBQVEsU0FBUztBQUNqQixRQUFRLFlBQVk7QUFDcEIsUUFBUSxlQUFlLEVBQUUsSUFBSTtBQUM3QixRQUFRLFVBQVUsRUFBRSxJQUFJO0FBQ3hCLEtBQUssQ0FBQztBQUtOLElBQUksaUJBQWlCLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZDO0FBQ0EsSUFBSSxJQUFJLFNBQVMsR0FBRyxHQUFHLGlCQUFpQjtBQUN4QyxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDOUIsS0FBSztBQUNMLElBQUksSUFBSSxrQkFBa0IsR0FBRyxDQUFDO0FBQzlCO0FBQ0EsUUFBUSxDQUFDLFdBQVc7QUFDcEI7QUFDQSxRQUFRLFlBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVMsR0FBRyxDQUFDLElBQUksU0FBUyxHQUFHLENBQUMsaUJBQWlCO0FBQ3hEO0FBQ0E7QUFDQSxRQUFRLFNBQVMsS0FBSyxFQUFFLHVCQUF1QjtBQUMvQyxRQUFRLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakMsS0FBSztBQUNMLElBQUksT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUNELFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxHQUFHLEtBQUssRUFBRTtBQUN6RDtBQUNBO0FBQ0EsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ3RELElBQUksTUFBTSxXQUFXLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQyxLQUFLLElBQUksRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNqRixJQUFJLE1BQU0sTUFBTSxHQUFHO0FBQ25CLFFBQVEsV0FBVyxFQUFFLElBQUk7QUFDekIsUUFBUSxRQUFRLEVBQUUsSUFBSTtBQUN0QixRQUFRLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtBQUN4QixRQUFRLEtBQUssRUFBRSxXQUFXO0FBQzFCLFFBQVEsR0FBRyxFQUFFLFdBQVcsSUFBSSxZQUFZLENBQUMsV0FBVyxDQUFDO0FBQ3JELFFBQVEsR0FBRyxFQUFFLFVBQVUsSUFBSSxVQUFVLENBQUMsR0FBRztBQUN6QztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxJQUFJLEdBQUc7QUFDL0Isc0JBQXNCLE9BQU8sQ0FBQyxHQUFHLENBQUM7QUFDbEMsMEJBQTBCLEdBQUcsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzlELDBCQUEwQixDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDekQsc0JBQXNCLFlBQVksQ0FBQyxVQUFVLENBQUM7QUFDOUMsY0FBYyxHQUFHO0FBQ2pCLFFBQVEsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO0FBQzlCLFFBQVEsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO0FBQ3hDLFFBQVEsUUFBUSxFQUVGLFFBQVE7QUFDdEIsUUFBUSxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07QUFDNUIsUUFBUSxZQUFZLEVBQUUsS0FBSyxDQUFDLFlBQVk7QUFDeEMsUUFBUSxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7QUFDdEMsUUFBUSxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFNBQVMsRUFBRSxVQUFVLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRO0FBQ3hELGNBQWMsU0FBUyxLQUFLLENBQUMsQ0FBQztBQUM5QixrQkFBa0IsRUFBRTtBQUNwQixrQkFBa0IsU0FBUyxHQUFHLEVBQUU7QUFDaEMsY0FBYyxTQUFTO0FBQ3ZCLFFBQVEsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO0FBQ3hDLFFBQVEsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO0FBQzlDLFFBQVEsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO0FBQ3BDLFFBQVEsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJO0FBQ3hCLFFBQVEsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7QUFDbEMsUUFBUSxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7QUFDaEMsUUFBUSxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztBQUNqRSxRQUFRLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0FBQ3BFLFFBQVEsRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3BCLFFBQVEsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO0FBQzVCLEtBQUssQ0FBQztBQUNOLElBQUksT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQVlEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZUFBZSxDQUFDLElBQUksR0FBRyxHQUFHLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRTtBQUMvQyxJQUFJLE9BQU8sV0FBVyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFzQkQsU0FBUyxjQUFjLENBQUMsS0FBSyxFQUFFO0FBQy9CLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUNyRDtBQUNBLFFBQVEsT0FBTyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDdEMsS0FBSztBQUNMLFNBQVMsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDN0I7QUFDQSxRQUFRLE9BQU8sV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJO0FBQ3pDO0FBQ0EsUUFBUSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztBQUN2QixLQUFLO0FBQ0wsU0FBUyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUN4QztBQUNBO0FBQ0EsUUFBUSxPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxLQUFLO0FBQ0wsU0FBUztBQUNUO0FBQ0EsUUFBUSxPQUFPLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3RELEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSxTQUFTLGNBQWMsQ0FBQyxLQUFLLEVBQUU7QUFDL0IsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFLEtBQUssSUFBSSxHQUFHLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekQsQ0FBQztBQUNELFNBQVMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRTtBQUM1QyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztBQUNqQixJQUFJLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxLQUFLLENBQUM7QUFDaEMsSUFBSSxJQUFJLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDMUIsUUFBUSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3hCLEtBQUs7QUFDTCxTQUFTLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ2hDLFFBQVEsSUFBSSxHQUFHLEVBQUUsc0JBQXNCO0FBQ3ZDLEtBQUs7QUFDTCxTQUFTLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO0FBQzNDLFFBQVEsSUFBSSxTQUFTLEdBQUcsQ0FBQyxrQkFBa0IsU0FBUyxHQUFHLEVBQUUsaUJBQWlCO0FBQzFFO0FBQ0EsWUFBWSxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDO0FBQzFDLFlBQVksSUFBSSxJQUFJLEVBQUU7QUFDdEI7QUFDQSxnQkFBZ0IsSUFBSSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQzdDLGdCQUFnQixpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNqRCxnQkFBZ0IsSUFBSSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzVDLGFBQWE7QUFDYixZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLElBQUksR0FBRyxFQUFFLHNCQUFzQjtBQUMzQyxZQUFZLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDeEMsWUFBWSxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsaUJBQWlCLElBQUksUUFBUSxDQUFDLEVBQUU7QUFDL0QsZ0JBQWdCLFFBQVEsQ0FBQyxJQUFJLEdBQUcsd0JBQXdCLENBQUM7QUFDekQsYUFBYTtBQUNiLGlCQUFpQixJQUFJLFFBQVEsS0FBSyxDQUFDLG9CQUFvQix3QkFBd0IsRUFBRTtBQUNqRjtBQUNBO0FBQ0EsZ0JBQWdCLElBQUksd0JBQXdCLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLGVBQWU7QUFDekUsb0JBQW9CLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjO0FBQ2hELGlCQUFpQjtBQUNqQixxQkFBcUI7QUFDckIsb0JBQW9CLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxlQUFlO0FBQ2pELG9CQUFvQixLQUFLLENBQUMsU0FBUyxJQUFJLElBQUkscUJBQXFCO0FBQ2hFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ25DLFFBQVEsUUFBUSxHQUFHLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsd0JBQXdCLEVBQUUsQ0FBQztBQUN6RSxRQUFRLElBQUksR0FBRyxFQUFFLHNCQUFzQjtBQUN2QyxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNwQztBQUNBLFFBQVEsSUFBSSxTQUFTLEdBQUcsRUFBRSxpQkFBaUI7QUFDM0MsWUFBWSxJQUFJLEdBQUcsRUFBRSxzQkFBc0I7QUFDM0MsWUFBWSxRQUFRLEdBQUcsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNuRCxTQUFTO0FBQ1QsYUFBYTtBQUNiLFlBQVksSUFBSSxHQUFHLENBQUMscUJBQXFCO0FBQ3pDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxLQUFLLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDO0FBQzVCLENBQUM7QUFDRCxTQUFTLFVBQVUsQ0FBQyxHQUFHLElBQUksRUFBRTtBQUM3QixJQUFJLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMxQyxRQUFRLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQyxRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFO0FBQ25DLFlBQVksSUFBSSxHQUFHLEtBQUssT0FBTyxFQUFFO0FBQ2pDLGdCQUFnQixJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLEtBQUssRUFBRTtBQUNqRCxvQkFBb0IsR0FBRyxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzNFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCLElBQUksR0FBRyxLQUFLLE9BQU8sRUFBRTtBQUN0QyxnQkFBZ0IsR0FBRyxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ3ZFLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDaEMsZ0JBQWdCLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQyxnQkFBZ0IsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlDLGdCQUFnQixJQUFJLFFBQVEsS0FBSyxRQUFRLEVBQUU7QUFDM0Msb0JBQW9CLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRO0FBQ3ZDLDBCQUEwQixFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUM7QUFDdkQsMEJBQTBCLFFBQVEsQ0FBQztBQUNuQyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLGlCQUFpQixJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7QUFDakMsZ0JBQWdCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFnSUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUMsS0FBSztBQUNqQyxJQUFJLElBQUksQ0FBQyxDQUFDO0FBQ1YsUUFBUSxPQUFPLElBQUksQ0FBQztBQUNwQixJQUFJLElBQUksbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0FBQzlCLFFBQVEsT0FBTyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUMvQyxJQUFJLE9BQU8saUJBQWlCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUNGLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDeEQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFDYixJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3hCLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSTtBQUN0QixJQUFJLE1BQU0sRUFBRSxDQUFDLEtBQTBFLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDL0YsSUFBSSxNQUFNLEVBQUUsQ0FBQyxLQUEwRSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQy9GLElBQUksTUFBTSxFQUFFLENBQUMsS0FBMEUsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUMvRixJQUFJLEtBQUssRUFBRSxDQUFDLEtBQXlFLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDNUYsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDN0MsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDekMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJO0FBQ3RCLElBQUksUUFBUSxFQUFFLENBQUMsS0FBSyxtQkFBbUIsR0FBRyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzNFLElBQUksWUFBWSxFQUFFLENBQUMsSUFBSSxNQUFNLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQy9DLElBQUksU0FBUyxFQUFFLENBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDMUMsSUFBSSxNQUFNLEVBQUUsQ0FBQyxLQUFLLG1CQUFtQixHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3JFLENBQUMsQ0FBQyxDQUFDO0FBQ0gsTUFBTSwyQkFBMkIsR0FBRztBQUNwQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxHQUFHLEVBQUU7QUFDOUIsUUFBUSxNQUFNLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ3pGO0FBQ0EsUUFBUSxJQUFJLEdBQUcsS0FBSyxVQUFVLGFBQWE7QUFDM0MsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBS1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLGVBQWUsQ0FBQztBQUM1QixRQUFRLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtBQUM1QixZQUFZLE1BQU0sQ0FBQyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QyxZQUFZLElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtBQUNqQyxnQkFBZ0IsUUFBUSxDQUFDO0FBQ3pCLG9CQUFvQixLQUFLLENBQUM7QUFDMUIsd0JBQXdCLE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9DLG9CQUFvQixLQUFLLENBQUM7QUFDMUIsd0JBQXdCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLG9CQUFvQixLQUFLLENBQUM7QUFDMUIsd0JBQXdCLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDLG9CQUFvQixLQUFLLENBQUM7QUFDMUIsd0JBQXdCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFDO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxVQUFVLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDMUUsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWE7QUFDakQsZ0JBQWdCLE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxJQUFJLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDOUQsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFlBQVk7QUFDaEQsZ0JBQWdCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFlBQVksQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDdkQsZ0JBQWdCLE1BQU0sQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDOUMsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWE7QUFDakQsZ0JBQWdCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDNUQsZ0JBQWdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGVBQWU7QUFDbkQsZ0JBQWdCLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLGFBQWE7QUFDYixpQkFBaUIsSUFBSSxDQUFDLG1CQUFtQixJQUFJLGlCQUFpQixFQUFFO0FBQ2hFLGdCQUFnQixXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxhQUFhO0FBQ2pELGFBQWE7QUFDYixTQUFTO0FBQ1QsUUFBUSxNQUFNLFlBQVksR0FBRyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0RCxRQUFRLElBQUksU0FBUyxFQUFFLGdCQUFnQixDQUFDO0FBQ3hDO0FBQ0EsUUFBUSxJQUFJLFlBQVksRUFBRTtBQUMxQixZQUFZLElBQUksR0FBRyxLQUFLLFFBQVEsRUFBRTtBQUNsQyxnQkFBZ0IsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLFlBQVksR0FBRyxDQUFDLENBQUM7QUFFdEQsYUFBYTtBQUNiLFlBQVksT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDMUMsU0FBUztBQUNULGFBQWE7QUFDYjtBQUNBLFFBQVEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVk7QUFDdEMsYUFBYSxTQUFTLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDMUMsWUFBWSxPQUFPLFNBQVMsQ0FBQztBQUM3QixTQUFTO0FBQ1QsYUFBYSxJQUFJLEdBQUcsS0FBSyxTQUFTLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRTtBQUN4RDtBQUNBLFlBQVksV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsZUFBZTtBQUMvQyxZQUFZLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLFNBQVM7QUFDVCxhQUFhO0FBQ2I7QUFDQSxTQUFTLENBQUMsZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0I7QUFDL0QsWUFBWSxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUc7QUFDNUMsWUFBWTtBQUNaLGdCQUFnQixPQUFPLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzdDLGFBQWE7QUFDYixTQUFTO0FBQ1QsYUFBYSxDQWdCSjtBQUNULEtBQUs7QUFDTCxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3JDLFFBQVEsTUFBTSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDO0FBQ25ELFFBQVEsSUFBSSxVQUFVLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDakUsWUFBWSxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ3BDLFNBQVM7QUFDVCxhQUFhLElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQzFELFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUM5QixTQUFTO0FBQ1QsYUFBYSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBRzlDLFlBQVksT0FBTyxLQUFLLENBQUM7QUFDekIsU0FBUztBQUNULFFBQVEsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUSxFQUFFO0FBSXhELFlBQVksT0FBTyxLQUFLLENBQUM7QUFDekIsU0FBUztBQUNULGFBQWE7QUFDYixZQU9pQjtBQUNqQixnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNqQyxhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsS0FBSztBQUNMLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRTtBQUN0RixRQUFRLElBQUksZUFBZSxDQUFDO0FBQzVCLFFBQVEsUUFBUSxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUztBQUM5QyxhQUFhLElBQUksS0FBSyxTQUFTLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNyRCxhQUFhLFVBQVUsS0FBSyxTQUFTLElBQUksTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNqRSxhQUFhLENBQUMsZUFBZSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxNQUFNLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2pGLFlBQVksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7QUFDNUIsWUFBWSxNQUFNLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxDQUFDO0FBQzVDLFlBQVksTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDN0QsS0FBSztBQUNMLENBQUMsQ0FBQztBQVFGLE1BQU0sMENBQTBDLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSwyQkFBMkIsRUFBRTtBQUMzRixJQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3JCO0FBQ0EsUUFBUSxJQUFJLEdBQUcsS0FBSyxNQUFNLENBQUMsV0FBVyxFQUFFO0FBQ3hDLFlBQVksT0FBTztBQUNuQixTQUFTO0FBQ1QsUUFBUSxPQUFPLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3BFLEtBQUs7QUFDTCxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFO0FBQ2hCLFFBQVEsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBSWxFLFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBd0RIO0FBQ0EsTUFBTSxlQUFlLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztBQUMzQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxTQUFTLHVCQUF1QixDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFO0FBQzFELElBQUksTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztBQUM1QjtBQUNBLElBQUksTUFBTSxVQUFVLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVSxLQUFLLGVBQWUsQ0FBQztBQUMxRixJQUFJLE1BQU0sUUFBUSxHQUFHO0FBQ3JCLFFBQVEsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUNwQixRQUFRLEtBQUs7QUFDYixRQUFRLElBQUk7QUFDWixRQUFRLE1BQU07QUFDZCxRQUFRLFVBQVU7QUFDbEIsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQixRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xCLFFBQVEsT0FBTyxFQUFFLElBQUk7QUFDckIsUUFBUSxNQUFNLEVBQUUsSUFBSTtBQUNwQixRQUFRLE1BQU0sRUFBRSxJQUFJO0FBQ3BCLFFBQVEsS0FBSyxFQUFFLElBQUk7QUFDbkIsUUFBUSxPQUFPLEVBQUUsSUFBSTtBQUNyQixRQUFRLFNBQVMsRUFBRSxJQUFJO0FBQ3ZCLFFBQVEsT0FBTyxFQUFFLElBQUk7QUFDckIsUUFBUSxRQUFRLEVBQUUsTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO0FBQy9FLFFBQVEsV0FBVyxFQUFFLElBQUk7QUFDekIsUUFBUSxXQUFXLEVBQUUsRUFBRTtBQUN2QjtBQUNBLFFBQVEsVUFBVSxFQUFFLElBQUk7QUFDeEIsUUFBUSxVQUFVLEVBQUUsSUFBSTtBQUN4QjtBQUNBLFFBQVEsWUFBWSxFQUFFLHFCQUFxQixDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7QUFDN0QsUUFBUSxZQUFZLEVBQUUscUJBQXFCLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQztBQUM3RDtBQUNBLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEIsUUFBUSxPQUFPLEVBQUUsSUFBSTtBQUNyQjtBQUNBLFFBQVEsYUFBYSxFQUFFLFNBQVM7QUFDaEM7QUFDQSxRQUFRLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtBQUN2QztBQUNBLFFBQVEsR0FBRyxFQUFFLFNBQVM7QUFDdEIsUUFBUSxJQUFJLEVBQUUsU0FBUztBQUN2QixRQUFRLEtBQUssRUFBRSxTQUFTO0FBQ3hCLFFBQVEsS0FBSyxFQUFFLFNBQVM7QUFDeEIsUUFBUSxLQUFLLEVBQUUsU0FBUztBQUN4QixRQUFRLElBQUksRUFBRSxTQUFTO0FBQ3ZCLFFBQVEsVUFBVSxFQUFFLFNBQVM7QUFDN0IsUUFBUSxZQUFZLEVBQUUsSUFBSTtBQUMxQjtBQUNBLFFBQVEsUUFBUTtBQUNoQixRQUFRLFVBQVUsRUFBRSxRQUFRLEdBQUcsUUFBUSxDQUFDLFNBQVMsR0FBRyxDQUFDO0FBQ3JELFFBQVEsUUFBUSxFQUFFLElBQUk7QUFDdEIsUUFBUSxhQUFhLEVBQUUsS0FBSztBQUM1QjtBQUNBO0FBQ0EsUUFBUSxTQUFTLEVBQUUsS0FBSztBQUN4QixRQUFRLFdBQVcsRUFBRSxLQUFLO0FBQzFCLFFBQVEsYUFBYSxFQUFFLEtBQUs7QUFDNUIsUUFBUSxFQUFFLEVBQUUsSUFBSTtBQUNoQixRQUFRLENBQUMsRUFBRSxJQUFJO0FBQ2YsUUFBUSxFQUFFLEVBQUUsSUFBSTtBQUNoQixRQUFRLENBQUMsRUFBRSxJQUFJO0FBQ2YsUUFBUSxFQUFFLEVBQUUsSUFBSTtBQUNoQixRQUFRLENBQUMsRUFBRSxJQUFJO0FBQ2YsUUFBUSxFQUFFLEVBQUUsSUFBSTtBQUNoQixRQUFRLEdBQUcsRUFBRSxJQUFJO0FBQ2pCLFFBQVEsRUFBRSxFQUFFLElBQUk7QUFDaEIsUUFBUSxDQUFDLEVBQUUsSUFBSTtBQUNmLFFBQVEsR0FBRyxFQUFFLElBQUk7QUFDakIsUUFBUSxHQUFHLEVBQUUsSUFBSTtBQUNqQixRQUFRLEVBQUUsRUFBRSxJQUFJO0FBQ2hCLFFBQVEsRUFBRSxFQUFFLElBQUk7QUFDaEIsS0FBSyxDQUFDO0FBQ04sSUFHUztBQUNULFFBQVEsUUFBUSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQztBQUN2QyxLQUFLO0FBQ0wsSUFBSSxRQUFRLENBQUMsSUFBSSxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztBQUNwRCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDOUMsSUFBSSxPQUFPLFFBQVEsQ0FBQztBQUNwQixDQUFDO0FBQ0QsSUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFDO0FBRTNCLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxRQUFRLEtBQUs7QUFDekMsSUFBSSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQVFGLFNBQVMsbUJBQW1CLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLElBQUksT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLDBCQUEwQjtBQUNqRSxDQUFDO0FBQ0QsSUFBSSxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDbEMsU0FBUyxjQUFjLENBQUMsUUFBUSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUU7QUFDakQsSUFBSSxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDbEMsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDL0MsSUFBSSxNQUFNLFVBQVUsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNyRCxJQUFJLFNBQVMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRCxJQUFJLFNBQVMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDbEMsSUFBSSxNQUFNLFdBQVcsR0FBRyxVQUFVO0FBQ2xDLFVBQVUsc0JBQXNCLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztBQUNqRCxVQUFVLFNBQVMsQ0FBQztBQUNwQixJQUFJLHFCQUFxQixHQUFHLEtBQUssQ0FBQztBQUNsQyxJQUFJLE9BQU8sV0FBVyxDQUFDO0FBQ3ZCLENBQUM7QUFDRCxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUU7QUFDakQsSUFBSSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0FBdUJwQztBQUNBLElBQUksUUFBUSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9DO0FBQ0E7QUFDQSxJQUFJLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO0FBSTFFO0FBQ0EsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsU0FBUyxDQUFDO0FBQ2hDLElBQUksSUFBSSxLQUFLLEVBQUU7QUFDZixRQUFRLE1BQU0sWUFBWSxJQUFJLFFBQVEsQ0FBQyxZQUFZO0FBQ25ELFlBQVksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsa0JBQWtCLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDcEUsUUFBUSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBQ25DLFFBQVEsYUFBYSxFQUFFLENBQUM7QUFDeEIsUUFBUSxNQUFNLFdBQVcsR0FBRyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUMsdUJBQXVCLENBQTZFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUN2TSxRQUFRLGFBQWEsRUFBRSxDQUFDO0FBQ3hCLFFBQVEsZUFBZSxHQUFHLElBQUksQ0FBQztBQUMvQixRQUFRLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxFQUFFO0FBQ3BDLFlBQVksSUFBSSxLQUFLLEVBQUU7QUFDdkI7QUFDQSxnQkFBZ0IsT0FBTyxXQUFXO0FBQ2xDLHFCQUFxQixJQUFJLENBQUMsQ0FBQyxjQUFjLEtBQUs7QUFDOUMsb0JBQW9CLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxjQUFxQixDQUFDLENBQUM7QUFDdkUsaUJBQWlCLENBQUM7QUFDbEIscUJBQXFCLEtBQUssQ0FBQyxDQUFDLElBQUk7QUFDaEMsb0JBQW9CLFdBQVcsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsc0JBQXNCLENBQUM7QUFDckUsaUJBQWlCLENBQUMsQ0FBQztBQUNuQixhQUFhO0FBQ2IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUM7QUFDaEQsYUFBYTtBQUNiLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxpQkFBaUIsQ0FBQyxRQUFRLEVBQUUsV0FBa0IsQ0FBQyxDQUFDO0FBQzVELFNBQVM7QUFDVCxLQUFLO0FBQ0wsU0FBUztBQUNULFFBQVEsb0JBQW9CLENBQUMsUUFBZSxDQUFDLENBQUM7QUFDOUMsS0FBSztBQUNMLENBQUM7QUFDRCxTQUFTLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFO0FBQ3pELElBQUksSUFBSSxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7QUFDakM7QUFDQSxRQUFRO0FBQ1IsWUFBWSxRQUFRLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztBQUMxQyxTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7QUFLcEM7QUFDQTtBQUNBLFFBQVEsSUFBK0MscUJBQXFCLEVBQUU7QUFDOUUsWUFBWSxRQUFRLENBQUMscUJBQXFCLEdBQUcsV0FBVyxDQUFDO0FBQ3pELFNBQVM7QUFDVCxRQUFRLFFBQVEsQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBSXJELEtBQUs7QUFDTCxTQUFTLENBRUo7QUFDTCxJQUFJLG9CQUFvQixDQUFDLFFBQWUsQ0FBQyxDQUFDO0FBQzFDLENBQUM7QUFXRCxTQUFTLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO0FBQzVELElBQUksTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztBQUNwQztBQUNBLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7QUFvQjFCLFFBQVEsUUFBUSxDQUFDLE1BQU0sSUFBSSxTQUFTLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtBQUNqQyxZQUFZLFFBQVEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSwwQ0FBMEMsQ0FBQyxDQUFDO0FBQ3JHLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxJQUFJLElBQUksbUJBQW1CLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtBQUMxQyxRQUFRLGVBQWUsR0FBRyxRQUFRLENBQUM7QUFDbkMsUUFBUSxhQUFhLEVBQUUsQ0FBQztBQUN4QixRQUFRLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQixRQUFRLGFBQWEsRUFBRSxDQUFDO0FBQ3hCLFFBQVEsZUFBZSxHQUFHLElBQUksQ0FBQztBQUMvQixLQUFLO0FBZUwsQ0FBQztBQWlCRCxTQUFTLGtCQUFrQixDQUFDLFFBQVEsRUFBRTtBQUN0QyxJQUFJLE1BQU0sTUFBTSxHQUFHLE9BQU8sSUFBSTtBQUk5QixRQUFRLFFBQVEsQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLEtBQUssQ0FBQztBQUNOLElBZ0JTO0FBQ1QsUUFBUSxPQUFPO0FBQ2YsWUFBWSxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7QUFDakMsWUFBWSxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7QUFDakMsWUFBWSxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUk7QUFDL0IsWUFBWSxNQUFNO0FBQ2xCLFNBQVMsQ0FBQztBQUNWLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFNBQVMseUJBQXlCLENBQUMsTUFBTSxFQUFFLFFBQVEsR0FBRyxlQUFlLEVBQUU7QUFDdkUsSUFBSSxJQUFJLFFBQVEsRUFBRTtBQUNsQixRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sS0FBSyxRQUFRLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNuRSxLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0sVUFBVSxHQUFHLGlCQUFpQixDQUFDO0FBQ3JDLE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzdGLFNBQVMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFO0FBQ3JDLElBQUksT0FBTyxVQUFVLENBQUMsU0FBUyxDQUFDO0FBQ2hDLFVBQVUsU0FBUyxDQUFDLFdBQVcsSUFBSSxTQUFTLENBQUMsSUFBSTtBQUNqRCxVQUFVLFNBQVMsQ0FBQyxJQUFJLENBQUM7QUFDekIsQ0FBQztBQUNEO0FBQ0EsU0FBUyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sR0FBRyxLQUFLLEVBQUU7QUFDbEUsSUFBSSxJQUFJLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMzQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRTtBQUNuQyxRQUFRLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDaEUsUUFBUSxJQUFJLEtBQUssRUFBRTtBQUNuQixZQUFZLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUIsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7QUFDOUM7QUFDQSxRQUFRLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxRQUFRLEtBQUs7QUFDaEQsWUFBWSxLQUFLLE1BQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtBQUN4QyxnQkFBZ0IsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxFQUFFO0FBQ2pELG9CQUFvQixPQUFPLEdBQUcsQ0FBQztBQUMvQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVMsQ0FBQztBQUNWLFFBQVEsSUFBSTtBQUNaLFlBQVksaUJBQWlCLENBQUMsUUFBUSxDQUFDLFVBQVU7QUFDakQsZ0JBQWdCLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdEcsS0FBSztBQUNMLElBQUksT0FBTyxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDaEUsQ0FBQztBQUNELFNBQVMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFO0FBQ2pDLElBQUksT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLEtBQUssQ0FBQztBQUNyRCxDQUFDO0FBQ0Q7QUFDQSxTQUFTLFFBQVEsQ0FBQyxlQUFlLEVBQUU7QUFDbkMsSUFBSSxNQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDMUMsSUFBSSx5QkFBeUIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsSUFBSSxPQUFPLENBQUMsQ0FBQztBQUNiLENBQUM7QUFnUUQ7QUFDQTtBQUNBLE1BQU0sT0FBTyxHQUFHLE9BQU87O0FDaDZPdkIsTUFBTSxLQUFLLEdBQUcsNEJBQTRCLENBQUM7QUFDM0MsTUFBTSxHQUFHLElBQUksT0FBTyxRQUFRLEtBQUssV0FBVyxHQUFHLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNoRSxJQUFJLGFBQWEsQ0FBQztBQUNsQixJQUFJLGdCQUFnQixDQUFDO0FBQ3JCLE1BQU0sT0FBTyxHQUFHO0FBQ2hCLElBQUksTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEtBQUs7QUFDdkMsUUFBUSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxNQUFNLElBQUksSUFBSSxDQUFDLENBQUM7QUFDbkQsS0FBSztBQUNMLElBQUksTUFBTSxFQUFFLEtBQUssSUFBSTtBQUNyQixRQUFRLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFDeEMsUUFBUSxJQUFJLE1BQU0sRUFBRTtBQUNwQixZQUFZLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdEMsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLGFBQWEsRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssS0FBSztBQUM5QyxRQUFRLE1BQU0sRUFBRSxHQUFHLEtBQUs7QUFDeEIsY0FBYyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUM7QUFDN0MsY0FBYyxHQUFHLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLENBQUMsQ0FBQztBQUM5RCxRQUFRLElBQUksR0FBRyxLQUFLLFFBQVEsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFDakUsWUFBWSxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDeEQsU0FBUztBQUNULFFBQVEsT0FBTyxFQUFFLENBQUM7QUFDbEIsS0FBSztBQUNMLElBQUksVUFBVSxFQUFFLElBQUksSUFBSSxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQztBQUNoRCxJQUFJLGFBQWEsRUFBRSxJQUFJLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7QUFDbEQsSUFBSSxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxLQUFLO0FBQzdCLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDOUIsS0FBSztBQUNMLElBQUksY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksS0FBSztBQUNsQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQzlCLEtBQUs7QUFDTCxJQUFJLFVBQVUsRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVU7QUFDdkMsSUFBSSxXQUFXLEVBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxXQUFXO0FBQ3pDLElBQUksYUFBYSxFQUFFLFFBQVEsSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztBQUMxRCxJQUFJLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ3ZCLFFBQVEsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDaEMsS0FBSztBQUNMLElBQUksU0FBUyxDQUFDLEVBQUUsRUFBRTtBQUNsQixRQUFRLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQzVCLFlBQVksTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQ3RDLFNBQVM7QUFDVCxRQUFRLE9BQU8sTUFBTSxDQUFDO0FBQ3RCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksbUJBQW1CLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQ3hELFFBQVEsTUFBTSxJQUFJLEdBQUcsS0FBSztBQUMxQixjQUFjLGdCQUFnQjtBQUM5QixpQkFBaUIsZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdEUsY0FBYyxhQUFhLEtBQUssYUFBYSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMxRSxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO0FBQ2pDLFFBQVEsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUN0QyxRQUFRLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQztBQUN6QixRQUFRLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztBQUN4QixRQUFRLE9BQU8sSUFBSSxFQUFFO0FBQ3JCLFlBQVksSUFBSSxHQUFHLElBQUksQ0FBQztBQUN4QixZQUFZLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNqRCxZQUFZLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQ25DLFNBQVM7QUFDVCxRQUFRLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDN0IsS0FBSztBQUNMLENBQUMsQ0FBQztBQUNGO0FBQ0E7QUFDQTtBQUNBLFNBQVMsVUFBVSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ3RDLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3ZCLFFBQVEsS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNuQixLQUFLO0FBQ0wsSUFBSSxJQUFJLEtBQUssRUFBRTtBQUNmLFFBQVEsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDeEMsS0FBSztBQUNMLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLE1BQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztBQUMxQyxRQUFRLElBQUksaUJBQWlCLEVBQUU7QUFDL0IsWUFBWSxLQUFLLEdBQUcsQ0FBQyxLQUFLO0FBQzFCLGtCQUFrQixDQUFDLEtBQUssRUFBRSxHQUFHLGlCQUFpQixDQUFDO0FBQy9DLGtCQUFrQixDQUFDLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDcEQsU0FBUztBQUNULFFBQVEsRUFBRSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7QUFDN0IsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBLFNBQVMsVUFBVSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ3BDLElBQUksTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQztBQUMzQixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFDZixRQUFRLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDcEMsS0FBSztBQUNMLFNBQVMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDN0IsUUFBUSxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7QUFDM0IsWUFBWSxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0FBQzFDLFlBQVksS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDOUIsZ0JBQWdCLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQ3hDLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLEtBQUssTUFBTSxHQUFHLElBQUksSUFBSSxFQUFFO0FBQ2hDLFlBQVksUUFBUSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDNUMsU0FBUztBQUNULFFBQVEsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDckMsWUFBWSxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtBQUNwQyxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFO0FBQ3ZDLG9CQUFvQixRQUFRLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUM3QyxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDO0FBQ3JDLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO0FBQ3BDLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDdEIsUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25ELEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDbkM7QUFDQSxZQUFZLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3JELFlBQVksSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3ZDO0FBQ0EsZ0JBQWdCLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ2xHLGFBQWE7QUFDYixpQkFBaUI7QUFDakIsZ0JBQWdCLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDdEMsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0sUUFBUSxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN6QyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDdkIsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUNwQyxJQUFJLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN4QyxJQUFJLElBQUksTUFBTSxFQUFFO0FBQ2hCLFFBQVEsT0FBTyxNQUFNLENBQUM7QUFDdEIsS0FBSztBQUNMLElBQUksSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLElBQUksSUFBSSxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7QUFDNUMsUUFBUSxRQUFRLFdBQVcsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLEVBQUU7QUFDN0MsS0FBSztBQUNMLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM1QixJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFFBQVEsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUM1QyxRQUFRLElBQUksUUFBUSxJQUFJLEtBQUssRUFBRTtBQUMvQixZQUFZLFFBQVEsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsRUFBRTtBQUNyRCxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxPQUFPLENBQUM7QUFDbkIsQ0FBQztBQUNEO0FBQ0EsTUFBTSxPQUFPLEdBQUcsOEJBQThCLENBQUM7QUFDL0MsU0FBUyxTQUFTLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRTtBQUNwRCxJQUFJLElBQUksS0FBSyxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7QUFDM0MsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDM0IsWUFBWSxFQUFFLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3BFLFNBQVM7QUFDVCxhQUFhO0FBQ2IsWUFBWSxFQUFFLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbkQsU0FBUztBQUNULEtBQUs7QUFDTCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsTUFBTSxTQUFTLEdBQUcsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDcEQsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsRUFBRTtBQUM3RCxZQUFZLEVBQUUsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDcEMsU0FBUztBQUNULGFBQWE7QUFDYixZQUFZLEVBQUUsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLFNBQVMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDekQsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUyxZQUFZLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFlBQVksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRTtBQUNoRSxJQUFJLElBQUksR0FBRyxLQUFLLFdBQVcsSUFBSSxHQUFHLEtBQUssYUFBYSxFQUFFO0FBQ3RELFFBQVEsSUFBSSxZQUFZLEVBQUU7QUFDMUIsWUFBWSxlQUFlLENBQUMsWUFBWSxFQUFFLGVBQWUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMzRSxTQUFTO0FBQ1QsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQzdDLFFBQVEsT0FBTztBQUNmLEtBQUs7QUFDTCxJQUFJLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxFQUFFLENBQUMsT0FBTyxLQUFLLFVBQVUsRUFBRTtBQUN0RDtBQUNBO0FBQ0EsUUFBUSxFQUFFLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztBQUMxQixRQUFRLE1BQU0sUUFBUSxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQztBQUNwRCxRQUFRLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUU7QUFDbkMsWUFBWSxFQUFFLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQztBQUNoQyxTQUFTO0FBQ1QsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDM0IsWUFBWSxFQUFFLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLFNBQVM7QUFDVCxRQUFRLE9BQU87QUFDZixLQUFLO0FBQ0wsSUFBSSxJQUFJLEtBQUssS0FBSyxFQUFFLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQUN2QyxRQUFRLE1BQU0sSUFBSSxHQUFHLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLFFBQVEsSUFBSSxLQUFLLEtBQUssRUFBRSxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7QUFDaEQ7QUFDQSxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDM0IsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxhQUFhLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0FBQ3JEO0FBQ0EsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3pCLFlBQVksRUFBRSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwQyxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULGFBQWEsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0FBQ3BDO0FBQ0EsWUFBWSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLFlBQVksRUFBRSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwQyxZQUFZLE9BQU87QUFDbkIsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSTtBQUNSLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUN4QixLQUFLO0FBQ0wsSUFBSSxPQUFPLENBQUMsRUFBRTtBQUtkLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDdkIsSUFBSSxrQkFBa0IsR0FBRyxLQUFLLENBQUM7QUFDL0IsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUksT0FBTyxFQUFFLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxPQUFPLEdBQUcsTUFBTSxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDMUMsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDakUsSUFBSSxrQkFBa0IsR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNqRSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztBQUNsQixNQUFNQyxHQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzVCLE1BQU0sS0FBSyxHQUFHLE1BQU07QUFDcEIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUNGLE1BQU0sTUFBTSxHQUFHLE1BQU0sU0FBUyxLQUFLQSxHQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLFNBQVMsR0FBRyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0UsU0FBUyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDdkQsSUFBSSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqRCxDQUFDO0FBQ0QsU0FBUyxtQkFBbUIsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDMUQsSUFBSSxFQUFFLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNwRCxDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFFBQVEsR0FBRyxJQUFJLEVBQUU7QUFDeEU7QUFDQSxJQUFJLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztBQUMvQyxJQUFJLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5QyxJQUFJLElBQUksU0FBUyxJQUFJLGVBQWUsRUFBRTtBQUN0QztBQUNBLFFBQVEsZUFBZSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7QUFDMUMsS0FBSztBQUNMLFNBQVM7QUFDVCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ25ELFFBQVEsSUFBSSxTQUFTLEVBQUU7QUFDdkI7QUFDQSxZQUFZLE1BQU0sT0FBTyxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxhQUFhLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDckYsWUFBWSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN6RCxTQUFTO0FBQ1QsYUFBYSxJQUFJLGVBQWUsRUFBRTtBQUNsQztBQUNBLFlBQVksbUJBQW1CLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDcEUsWUFBWSxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzFDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQztBQUNELE1BQU0saUJBQWlCLEdBQUcsMkJBQTJCLENBQUM7QUFDdEQsU0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFO0FBQ3pCLElBQUksSUFBSSxPQUFPLENBQUM7QUFDaEIsSUFBSSxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUN0QyxRQUFRLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDckIsUUFBUSxJQUFJLENBQUMsQ0FBQztBQUNkLFFBQVEsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHO0FBQ3BELFlBQVksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzVELFlBQVksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMvQyxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUNELFNBQVMsYUFBYSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUU7QUFDL0MsSUFBSSxNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLElBQUksT0FBTyxFQUFFLENBQUM7QUFDbkQsUUFBUSxJQUFJLGtCQUFrQixJQUFJLFNBQVMsSUFBSSxPQUFPLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRTtBQUNyRSxZQUFZLDBCQUEwQixDQUFDLDZCQUE2QixDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNySSxTQUFTO0FBQ1QsS0FBSyxDQUFDO0FBQ04sSUFBSSxPQUFPLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQztBQUNqQyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDaEMsSUFBSSxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDO0FBQ0QsU0FBUyw2QkFBNkIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFO0FBQ2pELElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDeEIsUUFBUSxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsd0JBQXdCLENBQUM7QUFDeEQsUUFBUSxDQUFDLENBQUMsd0JBQXdCLEdBQUcsTUFBTTtBQUMzQyxZQUFZLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsWUFBWSxDQUFDLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztBQUM5QixTQUFTLENBQUM7QUFDVixRQUFRLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVELEtBQUs7QUFDTCxTQUFTO0FBQ1QsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQzlCLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsS0FBSyxHQUFHLEtBQUssT0FBTyxDQUFDO0FBQ25ELE1BQU0sU0FBUyxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsZUFBZSxLQUFLO0FBQ3BJLElBQUksUUFBUSxHQUFHO0FBQ2Y7QUFDQSxRQUFRLEtBQUssT0FBTztBQUNwQixZQUFZLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzdDLFlBQVksTUFBTTtBQUNsQixRQUFRLEtBQUssT0FBTztBQUNwQixZQUFZLFVBQVUsQ0FBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELFlBQVksTUFBTTtBQUNsQixRQUFRO0FBQ1IsWUFBWSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUMzQjtBQUNBLGdCQUFnQixJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQzNDLG9CQUFvQixVQUFVLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQy9FLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsaUJBQWlCLElBQUksZUFBZSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ2pFLGdCQUFnQixZQUFZLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDakgsYUFBYTtBQUNiLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJLEdBQUcsS0FBSyxZQUFZLEVBQUU7QUFDMUMsb0JBQW9CLEVBQUUsQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO0FBQzlDLGlCQUFpQjtBQUNqQixxQkFBcUIsSUFBSSxHQUFHLEtBQUssYUFBYSxFQUFFO0FBQ2hELG9CQUFvQixFQUFFLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztBQUMvQyxpQkFBaUI7QUFDakIsZ0JBQWdCLFNBQVMsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNyRCxhQUFhO0FBQ2IsWUFBWSxNQUFNO0FBQ2xCLEtBQUs7QUFDTCxDQUFDLENBQUM7QUFDRixTQUFTLGVBQWUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDaEQsSUFBSSxJQUFJLEtBQUssRUFBRTtBQUNmO0FBQ0E7QUFDQSxRQUFRLElBQUksR0FBRyxLQUFLLFdBQVcsRUFBRTtBQUNqQyxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVDtBQUNBLFFBQVEsSUFBSSxHQUFHLElBQUksRUFBRSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3BFLFlBQVksT0FBTyxJQUFJLENBQUM7QUFDeEIsU0FBUztBQUNULFFBQVEsT0FBTyxLQUFLLENBQUM7QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSSxHQUFHLEtBQUssWUFBWSxJQUFJLEdBQUcsS0FBSyxXQUFXLEVBQUU7QUFDckQsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUksSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFO0FBQ3hCLFFBQVEsT0FBTyxLQUFLLENBQUM7QUFDckIsS0FBSztBQUNMO0FBQ0EsSUFBSSxJQUFJLEdBQUcsS0FBSyxNQUFNLElBQUksRUFBRSxDQUFDLE9BQU8sS0FBSyxPQUFPLEVBQUU7QUFDbEQsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLO0FBQ0w7QUFDQSxJQUFJLElBQUksR0FBRyxLQUFLLE1BQU0sSUFBSSxFQUFFLENBQUMsT0FBTyxLQUFLLFVBQVUsRUFBRTtBQUNyRCxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNqRCxRQUFRLE9BQU8sS0FBSyxDQUFDO0FBQ3JCLEtBQUs7QUFDTCxJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQztBQUNyQixDQUFDO0FBMHlCRDtBQUNBLE1BQU0sZUFBZSxHQUFHLE1BQU0sQ0FBQyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN2RTtBQUNBO0FBQ0EsSUFBSSxRQUFRLENBQUM7QUFFYixTQUFTLGNBQWMsR0FBRztBQUMxQixJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsR0FBRyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztBQUNwRSxDQUFDO0FBZUksTUFBQyxTQUFTLElBQUksQ0FBQyxHQUFHLElBQUksS0FBSztBQUNoQyxJQUFJLE1BQU0sR0FBRyxHQUFHLGNBQWMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBS3BELElBQUksTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQztBQUMxQixJQUFJLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxtQkFBbUIsS0FBSztBQUN6QyxRQUFRLE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbEUsUUFBUSxJQUFJLENBQUMsU0FBUztBQUN0QixZQUFZLE9BQU87QUFDbkIsUUFBUSxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO0FBQ3pDLFFBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUM7QUFDckQsU0FBUztBQUNUO0FBQ0EsUUFBUSxTQUFTLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUNqQyxRQUFRLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsWUFBWSxVQUFVLENBQUMsQ0FBQztBQUMvRSxRQUFRLElBQUksU0FBUyxZQUFZLE9BQU8sRUFBRTtBQUMxQyxZQUFZLFNBQVMsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsWUFBWSxTQUFTLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNyRCxTQUFTO0FBQ1QsUUFBUSxPQUFPLEtBQUssQ0FBQztBQUNyQixLQUFLLENBQUM7QUFDTixJQUFJLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQyxFQUFFO0FBd0RILFNBQVMsa0JBQWtCLENBQUMsU0FBUyxFQUFFO0FBQ3ZDLElBQUksSUFBSSxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7QUFDN0IsUUFBUSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBSXRELFFBQVEsT0FBTyxHQUFHLENBQUM7QUFDbkIsS0FBSztBQU1MLElBQUksT0FBTyxTQUFTLENBQUM7QUFDckI7Ozs7Ozs7OztBQ3IxQ0EsUUFFQ0MsWUFBYUMsRUFBSSxFQUFHQyxFQUFJLFFBRWxCRCxFQUFJQSxPQUNKQyxFQUFJQSxzQkFNRkMsS0FBS0YsWUFJRkcsUUFFTEgsRUFBSUcsdUJBTUZELEtBQUtELGFBSURFLFFBRU5GLEVBQUlFLEdBSVZKLElBQUtDLEVBQUdDLGVBRUZELEVBQUlBLE9BQ0pDLEVBQUlBLEVBRUZDLEtBSVJILFVBQVdLLGVBRUxKLEVBQUlJLE9BQ0pILEVBQUlHLEVBRUZGLEtBSVJILEtBQU1DLGVBRUFBLEVBQUlBLEVBRUZFLEtBSVJILEtBQU1FLGVBRUFBLEVBQUlBLEVBRUZDLEtBSVJILGFBQWNNLEVBQU9GLFVBRVhFLFFBRUgsT0FBUUwsRUFBSUcsYUFDWixPQUFRRixFQUFJRSxzQkFDRixJQUFJRyxNQUFPLDBCQUE0QkQsVUFJaERILEtBSVJILGFBQWNNLFVBRUpBLFFBRUgsU0FBVUgsS0FBS0YsT0FDZixTQUFVRSxLQUFLRCxnQkFDTCxJQUFJSyxNQUFPLDBCQUE0QkQsSUFNeEROLGVBRVEsSUFBSUcsS0FBS0ssWUFBYUwsS0FBS0YsRUFBR0UsS0FBS0QsR0FJM0NGLEtBQU1TLGVBRUFSLEVBQUlRLEVBQUVSLE9BQ05DLEVBQUlPLEVBQUVQLEVBRUpDLEtBSVJILElBQUtTLEVBQUdDLGVBRUksSUFBTkEsV0FFSUMsS0FBTSx5RkFDUFIsS0FBS1MsV0FBWUgsRUFBR0MsVUFJdkJULEdBQUtRLEVBQUVSLE9BQ1BDLEdBQUtPLEVBQUVQLEVBRUxDLE1BSVJILFVBQVdhLGVBRUxaLEdBQUtZLE9BQ0xYLEdBQUtXLEVBRUhWLEtBSVJILFdBQVljLEVBQUdDLGVBRVRkLEVBQUlhLEVBQUViLEVBQUljLEVBQUVkLE9BQ1pDLEVBQUlZLEVBQUVaLEVBQUlhLEVBQUViLEVBRVZDLEtBSVJILGdCQUFpQlMsRUFBR0ksZUFFZFosR0FBS1EsRUFBRVIsRUFBSVksT0FDWFgsR0FBS08sRUFBRVAsRUFBSVcsRUFFVFYsS0FJUkgsSUFBS1MsRUFBR0MsZUFFSSxJQUFOQSxXQUVJQyxLQUFNLHlGQUNQUixLQUFLYSxXQUFZUCxFQUFHQyxVQUl2QlQsR0FBS1EsRUFBRVIsT0FDUEMsR0FBS08sRUFBRVAsRUFFTEMsTUFJUkgsVUFBV2EsZUFFTFosR0FBS1ksT0FDTFgsR0FBS1csRUFFSFYsS0FJUkgsV0FBWWMsRUFBR0MsZUFFVGQsRUFBSWEsRUFBRWIsRUFBSWMsRUFBRWQsT0FDWkMsRUFBSVksRUFBRVosRUFBSWEsRUFBRWIsRUFFVkMsS0FJUkgsU0FBVVMsZUFFSlIsR0FBS1EsRUFBRVIsT0FDUEMsR0FBS08sRUFBRVAsRUFFTEMsS0FJUkgsZUFBZ0JLLGVBRVZKLEdBQUtJLE9BQ0xILEdBQUtHLEVBRUhGLEtBSVJILE9BQVFTLGVBRUZSLEdBQUtRLEVBQUVSLE9BQ1BDLEdBQUtPLEVBQUVQLEVBRUxDLEtBSVJILGFBQWNLLFVBRU5GLEtBQUtjLGVBQWdCLEVBQUlaLEdBSWpDTCxhQUFja0IsU0FFUGpCLEVBQUlFLEtBQUtGLEVBQUdDLEVBQUlDLEtBQUtELEVBQ3JCaUIsRUFBSUQsRUFBRUUscUJBRVBuQixFQUFJa0IsRUFBRyxHQUFNbEIsRUFBSWtCLEVBQUcsR0FBTWpCLEVBQUlpQixFQUFHLFFBQ2pDakIsRUFBSWlCLEVBQUcsR0FBTWxCLEVBQUlrQixFQUFHLEdBQU1qQixFQUFJaUIsRUFBRyxHQUUvQmhCLEtBSVJILElBQUtTLGVBRUNSLEVBQUlvQixLQUFLQyxJQUFLbkIsS0FBS0YsRUFBR1EsRUFBRVIsUUFDeEJDLEVBQUltQixLQUFLQyxJQUFLbkIsS0FBS0QsRUFBR08sRUFBRVAsR0FFdEJDLEtBSVJILElBQUtTLGVBRUNSLEVBQUlvQixLQUFLRSxJQUFLcEIsS0FBS0YsRUFBR1EsRUFBRVIsUUFDeEJDLEVBQUltQixLQUFLRSxJQUFLcEIsS0FBS0QsRUFBR08sRUFBRVAsR0FFdEJDLEtBSVJILE1BQU93QixFQUFLQyxlQUlOeEIsRUFBSW9CLEtBQUtFLElBQUtDLEVBQUl2QixFQUFHb0IsS0FBS0MsSUFBS0csRUFBSXhCLEVBQUdFLEtBQUtGLFNBQzNDQyxFQUFJbUIsS0FBS0UsSUFBS0MsRUFBSXRCLEVBQUdtQixLQUFLQyxJQUFLRyxFQUFJdkIsRUFBR0MsS0FBS0QsSUFFekNDLEtBSVJILFlBQWEwQixFQUFRQyxlQUVmMUIsRUFBSW9CLEtBQUtFLElBQUtHLEVBQVFMLEtBQUtDLElBQUtLLEVBQVF4QixLQUFLRixTQUM3Q0MsRUFBSW1CLEtBQUtFLElBQUtHLEVBQVFMLEtBQUtDLElBQUtLLEVBQVF4QixLQUFLRCxJQUUzQ0MsS0FJUkgsWUFBYXdCLEVBQUtDLFNBRVhHLEVBQVN6QixLQUFLeUIsZ0JBRWJ6QixLQUFLMEIsYUFBY0QsR0FBVSxHQUFJWCxlQUFnQkksS0FBS0UsSUFBS0MsRUFBS0gsS0FBS0MsSUFBS0csRUFBS0csS0FJdkY1QixvQkFFTUMsRUFBSW9CLEtBQUtTLE1BQU8zQixLQUFLRixRQUNyQkMsRUFBSW1CLEtBQUtTLE1BQU8zQixLQUFLRCxHQUVuQkMsS0FJUkgsbUJBRU1DLEVBQUlvQixLQUFLVSxLQUFNNUIsS0FBS0YsUUFDcEJDLEVBQUltQixLQUFLVSxLQUFNNUIsS0FBS0QsR0FFbEJDLEtBSVJILG9CQUVNQyxFQUFJb0IsS0FBS1csTUFBTzdCLEtBQUtGLFFBQ3JCQyxFQUFJbUIsS0FBS1csTUFBTzdCLEtBQUtELEdBRW5CQyxLQUlSSCwwQkFFTUMsRUFBTUUsS0FBS0YsRUFBSSxFQUFNb0IsS0FBS1UsS0FBTTVCLEtBQUtGLEdBQU1vQixLQUFLUyxNQUFPM0IsS0FBS0YsUUFDNURDLEVBQU1DLEtBQUtELEVBQUksRUFBTW1CLEtBQUtVLEtBQU01QixLQUFLRCxHQUFNbUIsS0FBS1MsTUFBTzNCLEtBQUtELEdBRTFEQyxLQUlSSCxxQkFFTUMsR0FBTUUsS0FBS0YsT0FDWEMsR0FBTUMsS0FBS0QsRUFFVEMsS0FJUkgsSUFBS1MsVUFFR04sS0FBS0YsRUFBSVEsRUFBRVIsRUFBSUUsS0FBS0QsRUFBSU8sRUFBRVAsRUFJbENGLE1BQU9TLFVBRUNOLEtBQUtGLEVBQUlRLEVBQUVQLEVBQUlDLEtBQUtELEVBQUlPLEVBQUVSLEVBSWxDRCxrQkFFUUcsS0FBS0YsRUFBSUUsS0FBS0YsRUFBSUUsS0FBS0QsRUFBSUMsS0FBS0QsRUFJeENGLGdCQUVRcUIsS0FBS1ksS0FBTTlCLEtBQUtGLEVBQUlFLEtBQUtGLEVBQUlFLEtBQUtELEVBQUlDLEtBQUtELEdBSW5ERix5QkFFUXFCLEtBQUthLElBQUsvQixLQUFLRixHQUFNb0IsS0FBS2EsSUFBSy9CLEtBQUtELEdBSTVDRixtQkFFUUcsS0FBSzBCLGFBQWMxQixLQUFLeUIsVUFBWSxHQUk1QzVCLGVBSWVxQixLQUFLYyxPQUFTaEMsS0FBS0QsR0FBS0MsS0FBS0YsR0FBTW9CLEtBQUtlLEdBTXZEcEMsV0FBWVMsVUFFSlksS0FBS1ksS0FBTTlCLEtBQUtrQyxrQkFBbUI1QixJQUkzQ1Qsa0JBQW1CUyxTQUVaNkIsRUFBS25DLEtBQUtGLEVBQUlRLEVBQUVSLEVBQUdzQyxFQUFLcEMsS0FBS0QsRUFBSU8sRUFBRVAsU0FDbENvQyxFQUFLQSxFQUFLQyxFQUFLQSxFQUl2QnZDLG9CQUFxQlMsVUFFYlksS0FBS2EsSUFBSy9CLEtBQUtGLEVBQUlRLEVBQUVSLEdBQU1vQixLQUFLYSxJQUFLL0IsS0FBS0QsRUFBSU8sRUFBRVAsR0FJeERGLFVBQVc0QixVQUVIekIsS0FBS3FDLFlBQVl2QixlQUFnQlcsR0FJekM1QixLQUFNUyxFQUFHZ0MsZUFFSHhDLE1BQVNBLEVBQUlFLEtBQUtGLEdBQU13QyxPQUN4QnZDLE1BQVNBLEVBQUlDLEtBQUtELEdBQU11QyxFQUV0QnRDLEtBSVJILFlBQWEwQyxFQUFJQyxFQUFJRixlQUVmeEMsRUFBSXlDLEVBQUd6QyxLQUFTQSxFQUFJeUMsRUFBR3pDLEdBQU13QyxPQUM3QnZDLEVBQUl3QyxFQUFHeEMsS0FBU0EsRUFBSXdDLEVBQUd4QyxHQUFNdUMsRUFFM0J0QyxLQUlSSCxPQUFRUyxVQUVJQSxFQUFFUixJQUFNRSxLQUFLRixHQUFTUSxFQUFFUCxJQUFNQyxLQUFLRCxFQUkvQ0YsVUFBVzRDLEVBQU9DLEVBQVMsZUFFckI1QyxFQUFJMkMsRUFBT0MsUUFDWDNDLEVBQUkwQyxFQUFPQyxFQUFTLEdBRWxCMUMsS0FJUkgsUUFBUzRDLEVBQVEsR0FBSUMsRUFBUyxZQUV0QkEsR0FBVzFDLEtBQUtGLElBQ2hCNEMsRUFBUyxHQUFNMUMsS0FBS0QsRUFFcEIwQyxFQUlSNUMsb0JBQXFCOEMsRUFBV3hDLEVBQU91QyxlQUV0QixJQUFYQSxXQUVJbEMsS0FBTSw0RUFJVlYsRUFBSTZDLEVBQVVDLEtBQU16QyxRQUNwQkosRUFBSTRDLEVBQVVFLEtBQU0xQyxHQUVsQkgsS0FJUkgsYUFBY2lELEVBQVFDLFNBRWZDLEVBQUk5QixLQUFLK0IsSUFBS0YsR0FBU3JDLEVBQUlRLEtBQUtnQyxJQUFLSCxHQUVyQ2pELEVBQUlFLEtBQUtGLEVBQUlnRCxFQUFPaEQsRUFDcEJDLEVBQUlDLEtBQUtELEVBQUkrQyxFQUFPL0MsY0FFckJELEVBQUlBLEVBQUlrRCxFQUFJakQsRUFBSVcsRUFBSW9DLEVBQU9oRCxPQUMzQkMsRUFBSUQsRUFBSVksRUFBSVgsRUFBSWlELEVBQUlGLEVBQU8vQyxFQUV6QkMsS0FJUkgscUJBRU1DLEVBQUlvQixLQUFLaUMsY0FDVHBELEVBQUltQixLQUFLaUMsU0FFUG5ELE1BTVRvRCxFQUFRQyxVQUFVQyxXQUFZLEVDMWQ5QixNQUFNQyxFQUFPLEdBRWIsUUFBVUMsR0FBSSxFQUFHQSxHQUFJLElBQUtBLE9BRW5CQSxRQUFZLEdBQUssSUFBTSxJQUFTQSxHQUFJQyxTQUFVLElBSXJELElBQUlDLEVBQVEsUUFHWixNQUFNQyxFQUFVekMsS0FBS2UsR0FBSyxJQUNwQjJCLEVBQVUsSUFBTTFDLEtBQUtlLEdBbUIzQixXQUFnQmhDLEVBQU9vQixFQUFLQyxVQUVwQkosS0FBS0UsSUFBS0MsRUFBS0gsS0FBS0MsSUFBS0csRUFBS3JCLElBTXRDLFdBQTBCNEQsRUFBRzlDLGFBRWJBLEVBQU1BLEdBQU1BLEVBMkI1QixXQUFlakIsRUFBR0MsRUFBRytELGFBRVBBLEdBQU1oRSxFQUFJZ0UsRUFBSS9ELCtGQXZENUIsaUJBRU9nRSxFQUFxQixXQUFoQjdDLEtBQUtpQyxTQUF3QixFQUNsQ2EsRUFBcUIsV0FBaEI5QyxLQUFLaUMsU0FBd0IsRUFDbENjLEVBQXFCLFdBQWhCL0MsS0FBS2lDLFNBQXdCLEVBQ2xDZSxFQUFxQixXQUFoQmhELEtBQUtpQyxTQUF3QixVQUMzQkksRUFBVyxJQUFMUSxHQUFjUixFQUFNUSxHQUFNLEVBQUksS0FBU1IsRUFBTVEsR0FBTSxHQUFLLEtBQVNSLEVBQU1RLEdBQU0sR0FBSyxLQUFTLElBQzVHUixFQUFXLElBQUxTLEdBQWNULEVBQU1TLEdBQU0sRUFBSSxLQUFTLElBQU1ULEVBQU1TLEdBQU0sR0FBSyxHQUFPLElBQVNULEVBQU1TLEdBQU0sR0FBSyxLQUFTLElBQzlHVCxFQUFXLEdBQUxVLEVBQVksS0FBU1YsRUFBTVUsR0FBTSxFQUFJLEtBQVMsSUFBTVYsRUFBTVUsR0FBTSxHQUFLLEtBQVNWLEVBQU1VLEdBQU0sR0FBSyxLQUNyR1YsRUFBVyxJQUFMVyxHQUFjWCxFQUFNVyxHQUFNLEVBQUksS0FBU1gsRUFBTVcsR0FBTSxHQUFLLEtBQVNYLEVBQU1XLEdBQU0sR0FBSyxNQUc5RUMsbURBbUJiLFNBQW9CckUsRUFBR3NFLEVBQUl6RCxFQUFJMEQsRUFBSXpELFVBRTNCeUQsS0FBV0QsTUFBY0MsTUFBY0QsZ0JBSy9DLFNBQXNCdEUsRUFBR0MsRUFBR0UsVUFFdEJILElBQU1DLEtBRU9ELE1BQVlBLEdBSXRCLGVBY1QsU0FBZUEsRUFBR0MsRUFBR3VFLEVBQVFDLFVBRXJCQyxFQUFNMUUsRUFBR0MsRUFBRyxFQUFJbUIsS0FBS3VELEtBQU9ILEVBQVNDLGNBSzdDLFNBQW1CekUsRUFBRzJCLEVBQVMsVUFFdkJBLEVBQVNQLEtBQUthLElBQUsyQyxFQUFpQjVFLEVBQVksRUFBVDJCLEdBQWVBLGVBSzlELFNBQXFCM0IsRUFBR3VCLEVBQUtDLFVBRXZCeEIsR0FBS3VCLEVBQWEsRUFDbEJ2QixHQUFLd0IsRUFBYSxRQUViRCxNQUFnQkEsSUFFZnZCLEtBQVUsRUFBSUEsaUJBSTFCLFNBQXVCQSxFQUFHdUIsRUFBS0MsVUFFekJ4QixHQUFLdUIsRUFBYSxFQUNsQnZCLEdBQUt3QixFQUFhLFFBRWJELE1BQWdCQSxJQUVmdkIsRUFBSUEsTUFBZ0IsSUFBSSxJQUFPLGFBSzNDLFNBQWtCNkUsRUFBS0MsVUFFZkQsRUFBTXpELEtBQUtTLE1BQU9ULEtBQUtpQyxZQUFvQndCLEVBQU0sZUFLekQsU0FBb0JBLEVBQUtDLFVBRWpCRCxFQUFNekQsS0FBS2lDLFlBQW9Cd0Isb0JBS3ZDLFNBQTBCRSxVQUVsQkEsTUFBZ0IzRCxLQUFLaUMsd0JBSzdCLFNBQXVCekMsZUFFWCxJQUFOQSxNQUEwQkEsRUFBSSxjQUluQixNQUFSZ0QsRUFBZ0IsY0FFUCxHQUFNLHFCQUl4QixTQUFtQm9CLFVBRVhBLEVBQVVuQixZQUlsQixTQUFtQm9CLFVBRVhBLEVBQVVuQixnQkFJbEIsU0FBdUIzRCxVQUVlLE1BQWxCQSxFQUFRLElBQXlCLElBQVZBLGtCQUkzQyxTQUF5QkEsVUFFakJpQixLQUFLOEQsSUFBSyxFQUFHOUQsS0FBS1UsS0FBTVYsS0FBSytELElBQUtoRixHQUFVaUIsS0FBS2dFLHVCQUl6RCxTQUEwQmpGLFVBRWxCaUIsS0FBSzhELElBQUssRUFBRzlELEtBQUtTLE1BQU9ULEtBQUsrRCxJQUFLaEYsR0FBVWlCLEtBQUtnRSxvQ0FJMUQsU0FBdUNDLEVBQUd4RSxFQUFHQyxFQUFHb0MsRUFBR29DLFNBUTVDQyxFQUFNbkUsS0FBSytCLElBQ1hxQyxFQUFNcEUsS0FBS2dDLElBRVhxQyxFQUFLRixFQUFLekUsRUFBSSxHQUNkNEUsRUFBS0YsRUFBSzFFLEVBQUksR0FFZDZFLEVBQU1KLEtBQVdyQyxHQUFNLEdBQ3ZCMEMsRUFBTUosS0FBV3RDLEdBQU0sR0FFdkIyQyxFQUFPTixLQUFXckMsR0FBTSxHQUN4QjRDLEVBQU9OLEtBQVd0QyxHQUFNLEdBRXhCNkMsRUFBT1IsS0FBVzFFLEdBQU0sR0FDeEJtRixFQUFPUixLQUFXM0UsR0FBTSxVQUVyQnlFLE9BRUgsUUFDRlcsSUFBS1IsRUFBS0csRUFBS0YsRUFBS0csRUFBTUgsRUFBS0ksRUFBTUwsRUFBS0UsYUFHeEMsUUFDRk0sSUFBS1AsRUFBS0ksRUFBTUwsRUFBS0csRUFBS0YsRUFBS0csRUFBTUosRUFBS0UsYUFHeEMsUUFDRk0sSUFBS1AsRUFBS0csRUFBTUgsRUFBS0ksRUFBTUwsRUFBS0csRUFBS0gsRUFBS0UsYUFHeEMsUUFDRk0sSUFBS1IsRUFBS0csRUFBS0YsRUFBS00sRUFBTU4sRUFBS0ssRUFBTU4sRUFBS0UsYUFHeEMsUUFDRk0sSUFBS1AsRUFBS0ssRUFBTU4sRUFBS0csRUFBS0YsRUFBS00sRUFBTVAsRUFBS0UsYUFHeEMsUUFDRk0sSUFBS1AsRUFBS00sRUFBTU4sRUFBS0ssRUFBTU4sRUFBS0csRUFBS0gsRUFBS0UseUJBSXBDakYsS0FBTSxrRkFBb0Y0RSxRQy9OckcsUUFFQ3ZGLFlBQWFDLEVBQUksRUFBR0MsRUFBSSxFQUFHaUcsRUFBSSxFQUFHekYsRUFBSSxRQUVoQzBGLEdBQUtuRyxPQUNMb0csR0FBS25HLE9BQ0xvRyxHQUFLSCxPQUNMSSxHQUFLN0YsZ0JBSUc4RixFQUFJQyxFQUFJQyxFQUFJekMsa0JBRWpCdEQsS0FBTSx3R0FDUCtGLEVBQUdDLGlCQUFrQkgsRUFBSUMsRUFBSXhDLG9CQUluQjJDLEVBQUtDLEVBQVdDLEVBQU1DLEVBQVlDLEVBQU1DLEVBQVloRCxPQUlqRWlELEVBQUtKLEVBQU1DLEVBQWEsR0FDM0JJLEVBQUtMLEVBQU1DLEVBQWEsR0FDeEJLLEVBQUtOLEVBQU1DLEVBQWEsR0FDeEJNLEVBQUtQLEVBQU1DLEVBQWEsU0FFbkJPLEVBQUtOLEVBQU1DLEVBQWEsR0FDN0JNLEVBQUtQLEVBQU1DLEVBQWEsR0FDeEJPLEVBQUtSLEVBQU1DLEVBQWEsR0FDeEJRLEVBQUtULEVBQU1DLEVBQWEsTUFFZCxJQUFOaEQsV0FFQzRDLEVBQVksR0FBTUssSUFDbEJMLEVBQVksR0FBTU0sSUFDbEJOLEVBQVksR0FBTU8sU0FDbEJQLEVBQVksR0FBTVEsTUFLYixJQUFOcEQsV0FFQzRDLEVBQVksR0FBTVMsSUFDbEJULEVBQVksR0FBTVUsSUFDbEJWLEVBQVksR0FBTVcsU0FDbEJYLEVBQVksR0FBTVksTUFLbkJKLElBQU9JLEdBQU1QLElBQU9JLEdBQU1ILElBQU9JLEdBQU1ILElBQU9JLEVBQUssS0FFbkQzRyxFQUFJLEVBQUlvRCxRQUNOdUIsRUFBTTBCLEVBQUtJLEVBQUtILEVBQUtJLEVBQUtILEVBQUtJLEVBQUtILEVBQUtJLEVBQzlDQyxFQUFRbEMsR0FBTyxFQUFJLEtBQ25CbUMsRUFBUyxFQUFJbkMsRUFBTUEsS0FHZm1DLEVBQVNDLE9BQU9DLFFBQVUsT0FFeEJwQyxFQUFNcEUsS0FBS1ksS0FBTTBGLEdBQ3RCRyxFQUFNekcsS0FBS2MsTUFBT3NELEVBQUtELEVBQU1rQyxLQUUxQnJHLEtBQUtnQyxJQUFLeEMsRUFBSWlILEdBQVFyQyxJQUN0QnBFLEtBQUtnQyxJQUFLWSxFQUFJNkQsR0FBUXJDLFNBSXJCc0MsRUFBTzlELEVBQUl5RCxPQUVaUixFQUFLckcsRUFBSXlHLEVBQUtTLElBQ2RaLEVBQUt0RyxFQUFJMEcsRUFBS1EsSUFDZFgsRUFBS3ZHLEVBQUkyRyxFQUFLTyxJQUNkVixFQUFLeEcsRUFBSTRHLEVBQUtNLEVBR2RsSCxJQUFNLEVBQUlvRCxFQUFJLE9BRVorRCxFQUFJLEVBQUkzRyxLQUFLWSxLQUFNaUYsRUFBS0EsRUFBS0MsRUFBS0EsRUFBS0MsRUFBS0EsRUFBS0MsRUFBS0EsTUFFdERXLEtBQ0FBLEtBQ0FBLEtBQ0FBLE1BTUhuQixHQUFjSyxJQUNkTCxFQUFZLEdBQU1NLElBQ2xCTixFQUFZLEdBQU1PLElBQ2xCUCxFQUFZLEdBQU1RLGtDQUlRVCxFQUFLQyxFQUFXQyxFQUFNQyxFQUFZQyxFQUFNQyxTQUVqRUMsRUFBS0osRUFBTUMsR0FDWEksRUFBS0wsRUFBTUMsRUFBYSxHQUN4QkssRUFBS04sRUFBTUMsRUFBYSxHQUN4Qk0sRUFBS1AsRUFBTUMsRUFBYSxHQUV4Qk8sRUFBS04sRUFBTUMsR0FDWE0sRUFBS1AsRUFBTUMsRUFBYSxHQUN4Qk8sRUFBS1IsRUFBTUMsRUFBYSxHQUN4QlEsRUFBS1QsRUFBTUMsRUFBYSxZQUV6QkosR0FBY0ssRUFBS08sRUFBS0osRUFBS0MsRUFBS0gsRUFBS0ssRUFBS0osRUFBS0csSUFDakRWLEVBQVksR0FBTU0sRUFBS00sRUFBS0osRUFBS0UsRUFBS0gsRUFBS0UsRUFBS0osRUFBS00sSUFDckRYLEVBQVksR0FBTU8sRUFBS0ssRUFBS0osRUFBS0csRUFBS04sRUFBS0ssRUFBS0osRUFBS0csSUFDckRULEVBQVksR0FBTVEsRUFBS0ksRUFBS1AsRUFBS0ksRUFBS0gsRUFBS0ksRUFBS0gsRUFBS0ksRUFFbkRaLGlCQU1BekcsS0FBS2lHLFNBSU5oRyxRQUVEZ0csR0FBS2hHLE9BQ0w2SCxvQ0FNRTlILEtBQUtrRyxTQUlOakcsUUFFRGlHLEdBQUtqRyxPQUNMNkgsb0NBTUU5SCxLQUFLbUcsU0FJTmxHLFFBRURrRyxHQUFLbEcsT0FDTDZILG9DQU1FOUgsS0FBS29HLFNBSU5uRyxRQUVEbUcsR0FBS25HLE9BQ0w2SCxxQkFJTmpJLElBQUtDLEVBQUdDLEVBQUdpRyxFQUFHekYsZUFFUjBGLEdBQUtuRyxPQUNMb0csR0FBS25HLE9BQ0xvRyxHQUFLSCxPQUNMSSxHQUFLN0YsT0FFTHVILG9CQUVFOUgsS0FJUkgsZUFFUSxJQUFJRyxLQUFLSyxZQUFhTCxLQUFLaUcsR0FBSWpHLEtBQUtrRyxHQUFJbEcsS0FBS21HLEdBQUluRyxLQUFLb0csSUFJOUR2RyxLQUFNa0ksZUFFQTlCLEdBQUs4QixFQUFXakksT0FDaEJvRyxHQUFLNkIsRUFBV2hJLE9BQ2hCb0csR0FBSzRCLEVBQVcvQixPQUNoQkksR0FBSzJCLEVBQVd4SCxPQUVoQnVILG9CQUVFOUgsS0FJUkgsYUFBY21JLEVBQU9DLFdBRUZELEVBQU1FLGNBRWpCLElBQUk5SCxNQUFPLDBHQUlaTixFQUFJa0ksRUFBTS9CLEdBQUlsRyxFQUFJaUksRUFBTTlCLEdBQUlGLEVBQUlnQyxFQUFNN0IsR0FBSWYsRUFBUTRDLEVBQU1HLE9BTXhEOUMsRUFBTW5FLEtBQUsrQixJQUNYcUMsRUFBTXBFLEtBQUtnQyxJQUVYa0YsRUFBSy9DLEVBQUt2RixFQUFJLEdBQ2RrRCxFQUFLcUMsRUFBS3RGLEVBQUksR0FDZHNJLEVBQUtoRCxFQUFLVyxFQUFJLEdBRWRzQyxFQUFLaEQsRUFBS3hGLEVBQUksR0FDZDBGLEVBQUtGLEVBQUt2RixFQUFJLEdBQ2R3SSxFQUFLakQsRUFBS1UsRUFBSSxVQUVYWixPQUVILFdBQ0NhLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0MsWUFHL0IsV0FDQ3RDLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0MsWUFHL0IsV0FDQ3RDLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0MsWUFHL0IsV0FDQ3RDLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0MsWUFHL0IsV0FDQ3RDLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0MsWUFHL0IsV0FDQ3RDLEdBQUtxQyxFQUFLdEYsRUFBS3FGLEVBQUtELEVBQUs1QyxFQUFLK0MsT0FDOUJyQyxHQUFLa0MsRUFBSzVDLEVBQUs2QyxFQUFLQyxFQUFLdEYsRUFBS3VGLE9BQzlCcEMsR0FBS2lDLEVBQUtwRixFQUFLdUYsRUFBS0QsRUFBSzlDLEVBQUs2QyxPQUM5QmpDLEdBQUtnQyxFQUFLcEYsRUFBS3FGLEVBQUtDLEVBQUs5QyxFQUFLK0Msd0JBSTNCL0gsS0FBTSxtRUFBcUU0RSxZQUlyRSxJQUFYNkMsUUFBd0JILG9CQUV0QjlILEtBSVJILGlCQUFrQjJJLEVBQU16RixTQU1qQjBGLEVBQVkxRixFQUFRLEVBQUdyQyxFQUFJUSxLQUFLZ0MsSUFBS3VGLGVBRXRDeEMsR0FBS3VDLEVBQUsxSSxFQUFJWSxPQUNkd0YsR0FBS3NDLEVBQUt6SSxFQUFJVyxPQUNkeUYsR0FBS3FDLEVBQUt4QyxFQUFJdEYsT0FDZDBGLEdBQUtsRixLQUFLK0IsSUFBS3dGLFFBRWZYLG9CQUVFOUgsS0FJUkgsc0JBQXVCa0IsU0FNaEIySCxFQUFLM0gsRUFBRUUsU0FFWjBILEVBQU1ELEVBQUksR0FBS0UsRUFBTUYsRUFBSSxHQUFLRyxFQUFNSCxFQUFJLEdBQ3hDSSxFQUFNSixFQUFJLEdBQUtLLEVBQU1MLEVBQUksR0FBS00sRUFBTU4sRUFBSSxHQUN4Q08sRUFBTVAsRUFBSSxHQUFLUSxFQUFNUixFQUFJLEdBQUtTLEVBQU1ULEVBQUksSUFFeENVLEVBQVFULEVBQU1JLEVBQU1JLEtBRWhCQyxFQUFRLEVBQUksT0FFVjFJLEVBQUksR0FBTVEsS0FBS1ksS0FBTXNILEVBQVEsUUFFOUJoRCxHQUFLLElBQU8xRixPQUNadUYsTUFBYStDLEdBQVF0SSxPQUNyQndGLE1BQWErQyxHQUFRdkksT0FDckJ5RixNQUFheUMsR0FBUWxJLFdBRWZpSSxFQUFNSSxHQUFPSixFQUFNUSxFQUFNLE9BRTlCekksRUFBSSxFQUFNUSxLQUFLWSxLQUFNLEVBQU02RyxFQUFNSSxFQUFNSSxRQUV4Qy9DLE1BQWE0QyxHQUFRdEksT0FDckJ1RixHQUFLLElBQU92RixPQUNad0YsTUFBYTRDLEdBQVFwSSxPQUNyQnlGLE1BQWE4QyxHQUFRdkksV0FFZnFJLEVBQU1JLEVBQU0sT0FFakJ6SSxFQUFJLEVBQU1RLEtBQUtZLEtBQU0sRUFBTWlILEVBQU1KLEVBQU1RLFFBRXhDL0MsTUFBYTZDLEdBQVF2SSxPQUNyQnVGLE1BQWE2QyxHQUFRcEksT0FDckJ3RixHQUFLLElBQU94RixPQUNaeUYsTUFBYStDLEdBQVF4SSxRQUVwQixPQUVBQSxFQUFJLEVBQU1RLEtBQUtZLEtBQU0sRUFBTXFILEVBQU1SLEVBQU1JLFFBRXhDM0MsTUFBYXdDLEdBQVFsSSxPQUNyQnVGLE1BQWFnRCxHQUFRdkksT0FDckJ3RixNQUFhZ0QsR0FBUXhJLE9BQ3JCeUYsR0FBSyxJQUFPekYsZUFJYm9ILG9CQUVFOUgsS0FJUkgsbUJBQW9Cd0osRUFBT0MsT0FJdEJDLEVBQUlGLEVBQU1HLElBQUtGLEdBQVEsU0FFdEJDLEVBQUk5QixPQUFPQyxXQUlYLEVBRUN4RyxLQUFLYSxJQUFLc0gsRUFBTXZKLEdBQU1vQixLQUFLYSxJQUFLc0gsRUFBTXJELFNBRXJDQyxJQUFPb0QsRUFBTXRKLE9BQ2JtRyxHQUFLbUQsRUFBTXZKLE9BQ1hxRyxHQUFLLE9BQ0xDLEdBQUttRCxTQUlMdEQsR0FBSyxPQUNMQyxJQUFPbUQsRUFBTXJELE9BQ2JHLEdBQUtrRCxFQUFNdEosT0FDWHFHLEdBQUttRCxVQVFOdEQsR0FBS29ELEVBQU10SixFQUFJdUosRUFBSXRELEVBQUlxRCxFQUFNckQsRUFBSXNELEVBQUl2SixPQUNyQ21HLEdBQUttRCxFQUFNckQsRUFBSXNELEVBQUl4SixFQUFJdUosRUFBTXZKLEVBQUl3SixFQUFJdEQsT0FDckNHLEdBQUtrRCxFQUFNdkosRUFBSXdKLEVBQUl2SixFQUFJc0osRUFBTXRKLEVBQUl1SixFQUFJeEosT0FDckNzRyxHQUFLbUQsR0FJSnZKLEtBQUtxQyxZQUlieEMsUUFBU3NGLFVBRUQsRUFBSWpFLEtBQUt1SSxLQUFNdkksS0FBS2EsSUFBSzJILEVBQWlCMUosS0FBS3dKLElBQUtyRSxNQUFVLEtBSXRFdEYsY0FBZXNGLEVBQUd3RSxTQUVYNUcsRUFBUS9DLEtBQUs0SixRQUFTekUsTUFFYixJQUFWcEMsU0FBcUIvQyxXQUVwQjhELEVBQUk1QyxLQUFLQyxJQUFLLEVBQUd3SSxFQUFPNUcsZUFFekI4RyxNQUFPMUUsRUFBR3JCLEdBRVI5RCxLQUlSSCxrQkFFUUcsS0FBSytGLElBQUssRUFBRyxFQUFHLEVBQUcsR0FJM0JsRyxnQkFJUUcsS0FBSzhKLFlBSWJqSyx3QkFFTW9HLFlBQ0FDLFlBQ0FDLFlBRUEyQixvQkFFRTlILEtBSVJILElBQUtTLFVBRUdOLEtBQUtpRyxHQUFLM0YsRUFBRTJGLEdBQUtqRyxLQUFLa0csR0FBSzVGLEVBQUU0RixHQUFLbEcsS0FBS21HLEdBQUs3RixFQUFFNkYsR0FBS25HLEtBQUtvRyxHQUFLOUYsRUFBRThGLEdBSXZFdkcsa0JBRVFHLEtBQUtpRyxHQUFLakcsS0FBS2lHLEdBQUtqRyxLQUFLa0csR0FBS2xHLEtBQUtrRyxHQUFLbEcsS0FBS21HLEdBQUtuRyxLQUFLbUcsR0FBS25HLEtBQUtvRyxHQUFLcEcsS0FBS29HLEdBSW5GdkcsZ0JBRVFxQixLQUFLWSxLQUFNOUIsS0FBS2lHLEdBQUtqRyxLQUFLaUcsR0FBS2pHLEtBQUtrRyxHQUFLbEcsS0FBS2tHLEdBQUtsRyxLQUFLbUcsR0FBS25HLEtBQUttRyxHQUFLbkcsS0FBS29HLEdBQUtwRyxLQUFLb0csSUFJOUZ2RyxnQkFFS2tLLEVBQUkvSixLQUFLeUIsZ0JBRUYsSUFBTnNJLFFBRUM5RCxHQUFLLE9BQ0xDLEdBQUssT0FDTEMsR0FBSyxPQUNMQyxHQUFLLE1BSU4sRUFBSTJELE9BRUg5RCxHQUFLakcsS0FBS2lHLEdBQUs4RCxPQUNmN0QsR0FBS2xHLEtBQUtrRyxHQUFLNkQsT0FDZjVELEdBQUtuRyxLQUFLbUcsR0FBSzRELE9BQ2YzRCxHQUFLcEcsS0FBS29HLEdBQUsyRCxRQUloQmpDLG9CQUVFOUgsS0FJUkgsU0FBVXNGLEVBQUd2RixlQUVELElBQU5BLFdBRUlZLEtBQU0sMEdBQ1BSLEtBQUtnSyxvQkFBcUI3RSxFQUFHdkYsSUFJOUJJLEtBQUtnSyxvQkFBcUJoSyxLQUFNbUYsR0FJeEN0RixZQUFhc0YsVUFFTG5GLEtBQUtnSyxvQkFBcUI3RSxFQUFHbkYsTUFJckNILG9CQUFxQmMsRUFBR0MsU0FJakJxSixFQUFNdEosRUFBRXNGLEdBQUlpRSxFQUFNdkosRUFBRXVGLEdBQUlpRSxFQUFNeEosRUFBRXdGLEdBQUlpRSxFQUFNekosRUFBRXlGLEdBQzVDaUUsRUFBTXpKLEVBQUVxRixHQUFJcUUsRUFBTTFKLEVBQUVzRixHQUFJcUUsRUFBTTNKLEVBQUV1RixHQUFJcUUsRUFBTTVKLEVBQUV3RixlQUU3Q0gsR0FBS2dFLEVBQU1PLEVBQU1KLEVBQU1DLEVBQU1ILEVBQU1LLEVBQU1KLEVBQU1HLE9BQy9DcEUsR0FBS2dFLEVBQU1NLEVBQU1KLEVBQU1FLEVBQU1ILEVBQU1FLEVBQU1KLEVBQU1NLE9BQy9DcEUsR0FBS2dFLEVBQU1LLEVBQU1KLEVBQU1HLEVBQU1OLEVBQU1LLEVBQU1KLEVBQU1HLE9BQy9DakUsR0FBS2dFLEVBQU1JLEVBQU1QLEVBQU1JLEVBQU1ILEVBQU1JLEVBQU1ILEVBQU1JLE9BRS9DekMsb0JBRUU5SCxLQUlSSCxNQUFPeUcsRUFBSXhDLE1BRUMsSUFBTkEsU0FBaUI5RCxRQUNYLElBQU44RCxTQUFpQjlELEtBQUt5SyxLQUFNbkUsU0FFM0J4RyxFQUFJRSxLQUFLaUcsR0FBSWxHLEVBQUlDLEtBQUtrRyxHQUFJRixFQUFJaEcsS0FBS21HLEdBQUk1RixFQUFJUCxLQUFLb0csT0FJbERzRSxFQUFlbkssRUFBSStGLEVBQUdGLEdBQUt0RyxFQUFJd0csRUFBR0wsR0FBS2xHLEVBQUl1RyxFQUFHSixHQUFLRixFQUFJTSxFQUFHSCxNQUV6RHVFLEVBQWUsUUFFZHRFLElBQU9FLEVBQUdGLFFBQ1ZILElBQU9LLEVBQUdMLFFBQ1ZDLElBQU9JLEVBQUdKLFFBQ1ZDLElBQU9HLEVBQUdILE1BRUV1RSxRQUlaRCxLQUFNbkUsR0FJUG9FLEdBQWdCLGNBRWZ0RSxHQUFLN0YsT0FDTDBGLEdBQUtuRyxPQUNMb0csR0FBS25HLE9BQ0xvRyxHQUFLSCxFQUVIaEcsV0FJRjJLLEVBQWtCLEVBQU1ELEVBQWVBLEtBRXhDQyxHQUFtQmxELE9BQU9DLFFBQVUsT0FFbENoSCxFQUFJLEVBQUlvRCxjQUNUc0MsR0FBSzFGLEVBQUlILEVBQUl1RCxFQUFJOUQsS0FBS29HLFFBQ3RCSCxHQUFLdkYsRUFBSVosRUFBSWdFLEVBQUk5RCxLQUFLaUcsUUFDdEJDLEdBQUt4RixFQUFJWCxFQUFJK0QsRUFBSTlELEtBQUtrRyxRQUN0QkMsR0FBS3pGLEVBQUlzRixFQUFJbEMsRUFBSTlELEtBQUttRyxRQUV0QjlELGlCQUNBeUYsb0JBRUU5SCxXQUlGNEssRUFBZTFKLEtBQUtZLEtBQU02SSxHQUMxQkUsRUFBWTNKLEtBQUtjLE1BQU80SSxFQUFjRixHQUN0Q0ksRUFBUzVKLEtBQUtnQyxPQUFXWSxHQUFNK0csR0FBY0QsRUFDbERHLEVBQVM3SixLQUFLZ0MsSUFBS1ksRUFBSStHLEdBQWNELGNBRWpDeEUsR0FBTzdGLEVBQUl1SyxFQUFTOUssS0FBS29HLEdBQUsyRSxPQUM5QjlFLEdBQU9uRyxFQUFJZ0wsRUFBUzlLLEtBQUtpRyxHQUFLOEUsT0FDOUI3RSxHQUFPbkcsRUFBSStLLEVBQVM5SyxLQUFLa0csR0FBSzZFLE9BQzlCNUUsR0FBT0gsRUFBSThFLEVBQVM5SyxLQUFLbUcsR0FBSzRFLE9BRTlCakQsb0JBRUU5SCxLQUlSSCxpQkFBa0J3RyxFQUFJQyxFQUFJeEMsUUFFcEIyRyxLQUFNcEUsR0FBS3dELE1BQU92RCxFQUFJeEMsSUFJNUJqRSxPQUFRa0ksVUFFRUEsRUFBVzlCLEtBQU9qRyxLQUFLaUcsSUFBVThCLEVBQVc3QixLQUFPbEcsS0FBS2tHLElBQVU2QixFQUFXNUIsS0FBT25HLEtBQUttRyxJQUFVNEIsRUFBVzNCLEtBQU9wRyxLQUFLb0csR0FJcEl2RyxVQUFXNEMsRUFBT0MsRUFBUyxlQUVyQnVELEdBQUt4RCxFQUFPQyxRQUNad0QsR0FBS3pELEVBQU9DLEVBQVMsUUFDckJ5RCxHQUFLMUQsRUFBT0MsRUFBUyxRQUNyQjBELEdBQUszRCxFQUFPQyxFQUFTLFFBRXJCb0Ysb0JBRUU5SCxLQUlSSCxRQUFTNEMsRUFBUSxHQUFJQyxFQUFTLFlBRXRCQSxHQUFXMUMsS0FBS2lHLEtBQ2hCdkQsRUFBUyxHQUFNMUMsS0FBS2tHLEtBQ3BCeEQsRUFBUyxHQUFNMUMsS0FBS21HLEtBQ3BCekQsRUFBUyxHQUFNMUMsS0FBS29HLEdBRXBCM0QsRUFJUjVDLG9CQUFxQjhDLEVBQVd4QyxlQUUxQjhGLEdBQUt0RCxFQUFVQyxLQUFNekMsUUFDckIrRixHQUFLdkQsRUFBVUUsS0FBTTFDLFFBQ3JCZ0csR0FBS3hELEVBQVVxSSxLQUFNN0ssUUFDckJpRyxHQUFLekQsRUFBVXNJLEtBQU05SyxHQUVuQkgsS0FJUkgsVUFBV3FMLGVBRUxwRCxrQkFBb0JvRCxFQUVsQmxMLEtBSVJILHNCQUlEc0wsRUFBVzlILFVBQVUrSCxjQUFlLEVDcHBCcEMsUUFFQ3ZMLFlBQWFDLEVBQUksRUFBR0MsRUFBSSxFQUFHaUcsRUFBSSxRQUV6QmxHLEVBQUlBLE9BQ0pDLEVBQUlBLE9BQ0ppRyxFQUFJQSxHQUlWbkcsSUFBS0MsRUFBR0MsRUFBR2lHLGVBRUMsSUFBTkEsTUFBc0JoRyxLQUFLZ0csUUFFM0JsRyxFQUFJQSxPQUNKQyxFQUFJQSxPQUNKaUcsRUFBSUEsRUFFRmhHLEtBSVJILFVBQVdLLGVBRUxKLEVBQUlJLE9BQ0pILEVBQUlHLE9BQ0o4RixFQUFJOUYsRUFFRkYsS0FJUkgsS0FBTUMsZUFFQUEsRUFBSUEsRUFFRkUsS0FJUkgsS0FBTUUsZUFFQUEsRUFBSUEsRUFFRkMsS0FJUkgsS0FBTW1HLGVBRUFBLEVBQUlBLEVBRUZoRyxLQUlSSCxhQUFjTSxFQUFPRixVQUVYRSxRQUVILE9BQVFMLEVBQUlHLGFBQ1osT0FBUUYsRUFBSUUsYUFDWixPQUFRK0YsRUFBSS9GLHNCQUNGLElBQUlHLE1BQU8sMEJBQTRCRCxVQUloREgsS0FJUkgsYUFBY00sVUFFSkEsUUFFSCxTQUFVSCxLQUFLRixPQUNmLFNBQVVFLEtBQUtELE9BQ2YsU0FBVUMsS0FBS2dHLGdCQUNMLElBQUk1RixNQUFPLDBCQUE0QkQsSUFNeEROLGVBRVEsSUFBSUcsS0FBS0ssWUFBYUwsS0FBS0YsRUFBR0UsS0FBS0QsRUFBR0MsS0FBS2dHLEdBSW5EbkcsS0FBTVMsZUFFQVIsRUFBSVEsRUFBRVIsT0FDTkMsRUFBSU8sRUFBRVAsT0FDTmlHLEVBQUkxRixFQUFFMEYsRUFFSmhHLEtBSVJILElBQUtTLEVBQUdDLGVBRUksSUFBTkEsV0FFSUMsS0FBTSx5RkFDUFIsS0FBS1MsV0FBWUgsRUFBR0MsVUFJdkJULEdBQUtRLEVBQUVSLE9BQ1BDLEdBQUtPLEVBQUVQLE9BQ1BpRyxHQUFLMUYsRUFBRTBGLEVBRUxoRyxNQUlSSCxVQUFXYSxlQUVMWixHQUFLWSxPQUNMWCxHQUFLVyxPQUNMc0YsR0FBS3RGLEVBRUhWLEtBSVJILFdBQVljLEVBQUdDLGVBRVRkLEVBQUlhLEVBQUViLEVBQUljLEVBQUVkLE9BQ1pDLEVBQUlZLEVBQUVaLEVBQUlhLEVBQUViLE9BQ1ppRyxFQUFJckYsRUFBRXFGLEVBQUlwRixFQUFFb0YsRUFFVmhHLEtBSVJILGdCQUFpQlMsRUFBR0ksZUFFZFosR0FBS1EsRUFBRVIsRUFBSVksT0FDWFgsR0FBS08sRUFBRVAsRUFBSVcsT0FDWHNGLEdBQUsxRixFQUFFMEYsRUFBSXRGLEVBRVRWLEtBSVJILElBQUtTLEVBQUdDLGVBRUksSUFBTkEsV0FFSUMsS0FBTSx5RkFDUFIsS0FBS2EsV0FBWVAsRUFBR0MsVUFJdkJULEdBQUtRLEVBQUVSLE9BQ1BDLEdBQUtPLEVBQUVQLE9BQ1BpRyxHQUFLMUYsRUFBRTBGLEVBRUxoRyxNQUlSSCxVQUFXYSxlQUVMWixHQUFLWSxPQUNMWCxHQUFLVyxPQUNMc0YsR0FBS3RGLEVBRUhWLEtBSVJILFdBQVljLEVBQUdDLGVBRVRkLEVBQUlhLEVBQUViLEVBQUljLEVBQUVkLE9BQ1pDLEVBQUlZLEVBQUVaLEVBQUlhLEVBQUViLE9BQ1ppRyxFQUFJckYsRUFBRXFGLEVBQUlwRixFQUFFb0YsRUFFVmhHLEtBSVJILFNBQVVTLEVBQUdDLGVBRUQsSUFBTkEsV0FFSUMsS0FBTSxtR0FDUFIsS0FBS3FMLGdCQUFpQi9LLEVBQUdDLFVBSTVCVCxHQUFLUSxFQUFFUixPQUNQQyxHQUFLTyxFQUFFUCxPQUNQaUcsR0FBSzFGLEVBQUUwRixFQUVMaEcsTUFJUkgsZUFBZ0JLLGVBRVZKLEdBQUtJLE9BQ0xILEdBQUtHLE9BQ0w4RixHQUFLOUYsRUFFSEYsS0FJUkgsZ0JBQWlCYyxFQUFHQyxlQUVkZCxFQUFJYSxFQUFFYixFQUFJYyxFQUFFZCxPQUNaQyxFQUFJWSxFQUFFWixFQUFJYSxFQUFFYixPQUNaaUcsRUFBSXJGLEVBQUVxRixFQUFJcEYsRUFBRW9GLEVBRVZoRyxLQUlSSCxXQUFZbUksYUFFT0EsRUFBTUUsaUJBRWZvRCxNQUFPLCtGQUlUdEwsS0FBS3VMLGdCQUFpQkMsRUFBWUMsYUFBY3pELElBSXhEbkksZUFBZ0IySSxFQUFNekYsVUFFZC9DLEtBQUt1TCxnQkFBaUJDLEVBQVlFLGlCQUFrQmxELEVBQU16RixJQUlsRWxELGFBQWNrQixTQUVQakIsRUFBSUUsS0FBS0YsRUFBR0MsRUFBSUMsS0FBS0QsRUFBR2lHLEVBQUloRyxLQUFLZ0csRUFDakNoRixFQUFJRCxFQUFFRSxxQkFFUG5CLEVBQUlrQixFQUFHLEdBQU1sQixFQUFJa0IsRUFBRyxHQUFNakIsRUFBSWlCLEVBQUcsR0FBTWdGLE9BQ3ZDakcsRUFBSWlCLEVBQUcsR0FBTWxCLEVBQUlrQixFQUFHLEdBQU1qQixFQUFJaUIsRUFBRyxHQUFNZ0YsT0FDdkNBLEVBQUloRixFQUFHLEdBQU1sQixFQUFJa0IsRUFBRyxHQUFNakIsRUFBSWlCLEVBQUcsR0FBTWdGLEVBRXJDaEcsS0FJUkgsa0JBQW1Ca0IsVUFFWGYsS0FBSzJMLGFBQWM1SyxHQUFJc0IsWUFJL0J4QyxhQUFja0IsU0FFUGpCLEVBQUlFLEtBQUtGLEVBQUdDLEVBQUlDLEtBQUtELEVBQUdpRyxFQUFJaEcsS0FBS2dHLEVBQ2pDaEYsRUFBSUQsRUFBRUUsU0FFTlYsRUFBSSxLQUFTLEdBQU1ULEVBQUlrQixFQUFHLEdBQU1qQixFQUFJaUIsRUFBRyxJQUFPZ0YsRUFBSWhGLEVBQUcsaUJBRXREbEIsS0FBUyxHQUFNQSxFQUFJa0IsRUFBRyxHQUFNakIsRUFBSWlCLEVBQUcsR0FBTWdGLEVBQUloRixFQUFHLEtBQVNULE9BQ3pEUixLQUFTLEdBQU1ELEVBQUlrQixFQUFHLEdBQU1qQixFQUFJaUIsRUFBRyxHQUFNZ0YsRUFBSWhGLEVBQUcsS0FBU1QsT0FDekR5RixLQUFTLEdBQU1sRyxFQUFJa0IsRUFBRyxHQUFNakIsRUFBSWlCLEVBQUcsSUFBT2dGLEVBQUloRixFQUFHLEtBQVNULEVBRXhEUCxLQUlSSCxnQkFBaUJzRixTQUVWckYsRUFBSUUsS0FBS0YsRUFBR0MsRUFBSUMsS0FBS0QsRUFBR2lHLEVBQUloRyxLQUFLZ0csRUFDakM0RixFQUFLekcsRUFBRXJGLEVBQUcrTCxFQUFLMUcsRUFBRXBGLEVBQUcrTCxFQUFLM0csRUFBRWEsRUFBRytGLEVBQUs1RyxFQUFFNUUsRUFJckN5TCxFQUFLRCxFQUFLak0sRUFBSStMLEVBQUs3RixFQUFJOEYsRUFBSy9MLEVBQzVCa00sRUFBS0YsRUFBS2hNLEVBQUkrTCxFQUFLaE0sRUFBSThMLEVBQUs1RixFQUM1QmtHLEVBQUtILEVBQUsvRixFQUFJNEYsRUFBSzdMLEVBQUk4TCxFQUFLL0wsRUFDNUJxTSxHQUFPUCxFQUFLOUwsRUFBSStMLEVBQUs5TCxFQUFJK0wsRUFBSzlGLGNBSS9CbEcsRUFBSWtNLEVBQUtELEVBQUtJLEdBQU9QLEVBQUtLLEdBQU9ILEVBQUtJLEdBQU9MLE9BQzdDOUwsRUFBSWtNLEVBQUtGLEVBQUtJLEdBQU9OLEVBQUtLLEdBQU9OLEVBQUtJLEdBQU9GLE9BQzdDOUYsRUFBSWtHLEVBQUtILEVBQUtJLEdBQU9MLEVBQUtFLEdBQU9ILEVBQUtJLEdBQU9MLEVBRTNDNUwsS0FJUkgsUUFBU3VNLFVBRURwTSxLQUFLcU0sYUFBY0QsRUFBT0Usb0JBQXFCRCxhQUFjRCxFQUFPRyxrQkFJNUUxTSxVQUFXdU0sVUFFSHBNLEtBQUtxTSxhQUFjRCxFQUFPSSx5QkFBMEJILGFBQWNELEVBQU9LLGFBSWpGNU0sbUJBQW9Ca0IsU0FLYmpCLEVBQUlFLEtBQUtGLEVBQUdDLEVBQUlDLEtBQUtELEVBQUdpRyxFQUFJaEcsS0FBS2dHLEVBQ2pDaEYsRUFBSUQsRUFBRUUscUJBRVBuQixFQUFJa0IsRUFBRyxHQUFNbEIsRUFBSWtCLEVBQUcsR0FBTWpCLEVBQUlpQixFQUFHLEdBQU1nRixPQUN2Q2pHLEVBQUlpQixFQUFHLEdBQU1sQixFQUFJa0IsRUFBRyxHQUFNakIsRUFBSWlCLEVBQUcsR0FBTWdGLE9BQ3ZDQSxFQUFJaEYsRUFBRyxHQUFNbEIsRUFBSWtCLEVBQUcsR0FBTWpCLEVBQUlpQixFQUFHLElBQU9nRixFQUV0Q2hHLEtBQUtxQyxZQUlieEMsT0FBUVMsZUFFRlIsR0FBS1EsRUFBRVIsT0FDUEMsR0FBS08sRUFBRVAsT0FDUGlHLEdBQUsxRixFQUFFMEYsRUFFTGhHLEtBSVJILGFBQWNLLFVBRU5GLEtBQUtjLGVBQWdCLEVBQUlaLEdBSWpDTCxJQUFLUyxlQUVDUixFQUFJb0IsS0FBS0MsSUFBS25CLEtBQUtGLEVBQUdRLEVBQUVSLFFBQ3hCQyxFQUFJbUIsS0FBS0MsSUFBS25CLEtBQUtELEVBQUdPLEVBQUVQLFFBQ3hCaUcsRUFBSTlFLEtBQUtDLElBQUtuQixLQUFLZ0csRUFBRzFGLEVBQUUwRixHQUV0QmhHLEtBSVJILElBQUtTLGVBRUNSLEVBQUlvQixLQUFLRSxJQUFLcEIsS0FBS0YsRUFBR1EsRUFBRVIsUUFDeEJDLEVBQUltQixLQUFLRSxJQUFLcEIsS0FBS0QsRUFBR08sRUFBRVAsUUFDeEJpRyxFQUFJOUUsS0FBS0UsSUFBS3BCLEtBQUtnRyxFQUFHMUYsRUFBRTBGLEdBRXRCaEcsS0FJUkgsTUFBT3dCLEVBQUtDLGVBSU54QixFQUFJb0IsS0FBS0UsSUFBS0MsRUFBSXZCLEVBQUdvQixLQUFLQyxJQUFLRyxFQUFJeEIsRUFBR0UsS0FBS0YsU0FDM0NDLEVBQUltQixLQUFLRSxJQUFLQyxFQUFJdEIsRUFBR21CLEtBQUtDLElBQUtHLEVBQUl2QixFQUFHQyxLQUFLRCxTQUMzQ2lHLEVBQUk5RSxLQUFLRSxJQUFLQyxFQUFJMkUsRUFBRzlFLEtBQUtDLElBQUtHLEVBQUkwRSxFQUFHaEcsS0FBS2dHLElBRXpDaEcsS0FJUkgsWUFBYTBCLEVBQVFDLGVBRWYxQixFQUFJb0IsS0FBS0UsSUFBS0csRUFBUUwsS0FBS0MsSUFBS0ssRUFBUXhCLEtBQUtGLFNBQzdDQyxFQUFJbUIsS0FBS0UsSUFBS0csRUFBUUwsS0FBS0MsSUFBS0ssRUFBUXhCLEtBQUtELFNBQzdDaUcsRUFBSTlFLEtBQUtFLElBQUtHLEVBQVFMLEtBQUtDLElBQUtLLEVBQVF4QixLQUFLZ0csSUFFM0NoRyxLQUlSSCxZQUFhd0IsRUFBS0MsU0FFWEcsRUFBU3pCLEtBQUt5QixnQkFFYnpCLEtBQUswQixhQUFjRCxHQUFVLEdBQUlYLGVBQWdCSSxLQUFLRSxJQUFLQyxFQUFLSCxLQUFLQyxJQUFLRyxFQUFLRyxLQUl2RjVCLG9CQUVNQyxFQUFJb0IsS0FBS1MsTUFBTzNCLEtBQUtGLFFBQ3JCQyxFQUFJbUIsS0FBS1MsTUFBTzNCLEtBQUtELFFBQ3JCaUcsRUFBSTlFLEtBQUtTLE1BQU8zQixLQUFLZ0csR0FFbkJoRyxLQUlSSCxtQkFFTUMsRUFBSW9CLEtBQUtVLEtBQU01QixLQUFLRixRQUNwQkMsRUFBSW1CLEtBQUtVLEtBQU01QixLQUFLRCxRQUNwQmlHLEVBQUk5RSxLQUFLVSxLQUFNNUIsS0FBS2dHLEdBRWxCaEcsS0FJUkgsb0JBRU1DLEVBQUlvQixLQUFLVyxNQUFPN0IsS0FBS0YsUUFDckJDLEVBQUltQixLQUFLVyxNQUFPN0IsS0FBS0QsUUFDckJpRyxFQUFJOUUsS0FBS1csTUFBTzdCLEtBQUtnRyxHQUVuQmhHLEtBSVJILDBCQUVNQyxFQUFNRSxLQUFLRixFQUFJLEVBQU1vQixLQUFLVSxLQUFNNUIsS0FBS0YsR0FBTW9CLEtBQUtTLE1BQU8zQixLQUFLRixRQUM1REMsRUFBTUMsS0FBS0QsRUFBSSxFQUFNbUIsS0FBS1UsS0FBTTVCLEtBQUtELEdBQU1tQixLQUFLUyxNQUFPM0IsS0FBS0QsUUFDNURpRyxFQUFNaEcsS0FBS2dHLEVBQUksRUFBTTlFLEtBQUtVLEtBQU01QixLQUFLZ0csR0FBTTlFLEtBQUtTLE1BQU8zQixLQUFLZ0csR0FFMURoRyxLQUlSSCxxQkFFTUMsR0FBTUUsS0FBS0YsT0FDWEMsR0FBTUMsS0FBS0QsT0FDWGlHLEdBQU1oRyxLQUFLZ0csRUFFVGhHLEtBSVJILElBQUtTLFVBRUdOLEtBQUtGLEVBQUlRLEVBQUVSLEVBQUlFLEtBQUtELEVBQUlPLEVBQUVQLEVBQUlDLEtBQUtnRyxFQUFJMUYsRUFBRTBGLEVBTWpEbkcsa0JBRVFHLEtBQUtGLEVBQUlFLEtBQUtGLEVBQUlFLEtBQUtELEVBQUlDLEtBQUtELEVBQUlDLEtBQUtnRyxFQUFJaEcsS0FBS2dHLEVBSTFEbkcsZ0JBRVFxQixLQUFLWSxLQUFNOUIsS0FBS0YsRUFBSUUsS0FBS0YsRUFBSUUsS0FBS0QsRUFBSUMsS0FBS0QsRUFBSUMsS0FBS2dHLEVBQUloRyxLQUFLZ0csR0FJckVuRyx5QkFFUXFCLEtBQUthLElBQUsvQixLQUFLRixHQUFNb0IsS0FBS2EsSUFBSy9CLEtBQUtELEdBQU1tQixLQUFLYSxJQUFLL0IsS0FBS2dHLEdBSWpFbkcsbUJBRVFHLEtBQUswQixhQUFjMUIsS0FBS3lCLFVBQVksR0FJNUM1QixVQUFXNEIsVUFFSHpCLEtBQUtxQyxZQUFZdkIsZUFBZ0JXLEdBSXpDNUIsS0FBTVMsRUFBR2dDLGVBRUh4QyxNQUFTQSxFQUFJRSxLQUFLRixHQUFNd0MsT0FDeEJ2QyxNQUFTQSxFQUFJQyxLQUFLRCxHQUFNdUMsT0FDeEIwRCxNQUFTQSxFQUFJaEcsS0FBS2dHLEdBQU0xRCxFQUV0QnRDLEtBSVJILFlBQWEwQyxFQUFJQyxFQUFJRixlQUVmeEMsRUFBSXlDLEVBQUd6QyxLQUFTQSxFQUFJeUMsRUFBR3pDLEdBQU13QyxPQUM3QnZDLEVBQUl3QyxFQUFHeEMsS0FBU0EsRUFBSXdDLEVBQUd4QyxHQUFNdUMsT0FDN0IwRCxFQUFJekQsRUFBR3lELEtBQVNBLEVBQUl6RCxFQUFHeUQsR0FBTTFELEVBRTNCdEMsS0FJUkgsTUFBT1MsRUFBR0MsZUFFRSxJQUFOQSxXQUVJQyxLQUFNLDZGQUNQUixLQUFLME0sYUFBY3BNLEVBQUdDLElBSXZCUCxLQUFLME0sYUFBYzFNLEtBQU1NLEdBSWpDVCxhQUFjYyxFQUFHQyxTQUVWK0wsRUFBS2hNLEVBQUViLEVBQUc4TSxFQUFLak0sRUFBRVosRUFBRzhNLEVBQUtsTSxFQUFFcUYsRUFDM0I4RyxFQUFLbE0sRUFBRWQsRUFBR2lOLEVBQUtuTSxFQUFFYixFQUFHaU4sRUFBS3BNLEVBQUVvRixjQUU1QmxHLEVBQUk4TSxFQUFLSSxFQUFLSCxFQUFLRSxPQUNuQmhOLEVBQUk4TSxFQUFLQyxFQUFLSCxFQUFLSyxPQUNuQmhILEVBQUkyRyxFQUFLSSxFQUFLSCxFQUFLRSxFQUVqQjlNLEtBSVJILGdCQUFpQlMsU0FFVjJNLEVBQWMzTSxFQUFFNE0sY0FFRCxJQUFoQkQsU0FBMkJqTixLQUFLK0YsSUFBSyxFQUFHLEVBQUcsU0FFMUM3RixFQUFTSSxFQUFFa0osSUFBS3hKLE1BQVNpTixTQUV4QmpOLEtBQUt5SyxLQUFNbkssR0FBSVEsZUFBZ0JaLEdBSXZDTCxlQUFnQnNOLFlBRVAxQyxLQUFNekssTUFBT29OLGdCQUFpQkQsR0FFL0JuTixLQUFLcU4sSUFBS0MsR0FJbEJ6TixRQUFTME4sVUFLRHZOLEtBQUtxTixJQUFLQyxFQUFRN0MsS0FBTThDLEdBQVN6TSxlQUFnQixFQUFJZCxLQUFLd0osSUFBSytELEtBSXZFMU4sUUFBU1MsU0FFRjJNLEVBQWMvTCxLQUFLWSxLQUFNOUIsS0FBS2tOLFdBQWE1TSxFQUFFNE0sZUFFOUIsSUFBaEJELFNBQTJCL0wsS0FBS2UsR0FBSyxRQUVwQ3VMLEVBQVF4TixLQUFLd0osSUFBS2xKLEdBQU0yTSxTQUl2Qi9MLEtBQUt1SSxLQUFNQyxFQUFpQjhELEtBQVksSUFJaEQzTixXQUFZUyxVQUVKWSxLQUFLWSxLQUFNOUIsS0FBS2tDLGtCQUFtQjVCLElBSTNDVCxrQkFBbUJTLFNBRVo2QixFQUFLbkMsS0FBS0YsRUFBSVEsRUFBRVIsRUFBR3NDLEVBQUtwQyxLQUFLRCxFQUFJTyxFQUFFUCxFQUFHME4sRUFBS3pOLEtBQUtnRyxFQUFJMUYsRUFBRTBGLFNBRXJEN0QsRUFBS0EsRUFBS0MsRUFBS0EsRUFBS3FMLEVBQUtBLEVBSWpDNU4sb0JBQXFCUyxVQUViWSxLQUFLYSxJQUFLL0IsS0FBS0YsRUFBSVEsRUFBRVIsR0FBTW9CLEtBQUthLElBQUsvQixLQUFLRCxFQUFJTyxFQUFFUCxHQUFNbUIsS0FBS2EsSUFBSy9CLEtBQUtnRyxFQUFJMUYsRUFBRTBGLEdBSW5GbkcsaUJBQWtCYSxVQUVWVixLQUFLME4sdUJBQXdCaE4sRUFBRWlOLE9BQVFqTixFQUFFa04sSUFBS2xOLEVBQUU4TSxPQUl4RDNOLHVCQUF3QjhOLEVBQVFDLEVBQUtKLFNBRTlCSyxFQUFlM00sS0FBS2dDLElBQUswSyxHQUFRRCxjQUVsQzdOLEVBQUkrTixFQUFlM00sS0FBS2dDLElBQUtzSyxRQUM3QnpOLEVBQUltQixLQUFLK0IsSUFBSzJLLEdBQVFELE9BQ3RCM0gsRUFBSTZILEVBQWUzTSxLQUFLK0IsSUFBS3VLLEdBRTNCeE4sS0FJUkgsbUJBQW9CbUQsVUFFWmhELEtBQUs4Tix5QkFBMEI5SyxFQUFFMkssT0FBUTNLLEVBQUV3SyxNQUFPeEssRUFBRWpELEdBSTVERix5QkFBMEI4TixFQUFRSCxFQUFPek4sZUFFbkNELEVBQUk2TixFQUFTek0sS0FBS2dDLElBQUtzSyxRQUN2QnpOLEVBQUlBLE9BQ0ppRyxFQUFJMkgsRUFBU3pNLEtBQUsrQixJQUFLdUssR0FFckJ4TixLQUlSSCxzQkFBdUJrQixTQUVoQkMsRUFBSUQsRUFBRUUscUJBRVBuQixFQUFJa0IsRUFBRyxTQUNQakIsRUFBSWlCLEVBQUcsU0FDUGdGLEVBQUloRixFQUFHLElBRUxoQixLQUlSSCxtQkFBb0JrQixTQUViZ04sRUFBSy9OLEtBQUtnTyxvQkFBcUJqTixFQUFHLEdBQUlVLFNBQ3RDd00sRUFBS2pPLEtBQUtnTyxvQkFBcUJqTixFQUFHLEdBQUlVLFNBQ3RDeU0sRUFBS2xPLEtBQUtnTyxvQkFBcUJqTixFQUFHLEdBQUlVLHFCQUV2QzNCLEVBQUlpTyxPQUNKaE8sRUFBSWtPLE9BQ0pqSSxFQUFJa0ksRUFFRmxPLEtBSVJILG9CQUFxQmtCLEVBQUdaLFVBRWhCSCxLQUFLbU8sVUFBV3BOLEVBQUVFLFNBQWtCLEVBQVJkLEdBSXBDTixxQkFBc0JrQixFQUFHWixVQUVqQkgsS0FBS21PLFVBQVdwTixFQUFFRSxTQUFrQixFQUFSZCxHQUlwQ04sT0FBUVMsVUFFSUEsRUFBRVIsSUFBTUUsS0FBS0YsR0FBU1EsRUFBRVAsSUFBTUMsS0FBS0QsR0FBU08sRUFBRTBGLElBQU1oRyxLQUFLZ0csRUFJckVuRyxVQUFXNEMsRUFBT0MsRUFBUyxlQUVyQjVDLEVBQUkyQyxFQUFPQyxRQUNYM0MsRUFBSTBDLEVBQU9DLEVBQVMsUUFDcEJzRCxFQUFJdkQsRUFBT0MsRUFBUyxHQUVsQjFDLEtBSVJILFFBQVM0QyxFQUFRLEdBQUlDLEVBQVMsWUFFdEJBLEdBQVcxQyxLQUFLRixJQUNoQjRDLEVBQVMsR0FBTTFDLEtBQUtELElBQ3BCMkMsRUFBUyxHQUFNMUMsS0FBS2dHLEVBRXBCdkQsRUFJUjVDLG9CQUFxQjhDLEVBQVd4QyxFQUFPdUMsZUFFdEIsSUFBWEEsV0FFSWxDLEtBQU0sNEVBSVZWLEVBQUk2QyxFQUFVQyxLQUFNekMsUUFDcEJKLEVBQUk0QyxFQUFVRSxLQUFNMUMsUUFDcEI2RixFQUFJckQsRUFBVXFJLEtBQU03SyxHQUVsQkgsS0FJUkgscUJBRU1DLEVBQUlvQixLQUFLaUMsY0FDVHBELEVBQUltQixLQUFLaUMsY0FDVDZDLEVBQUk5RSxLQUFLaUMsU0FFUG5ELE1BTVRvTyxFQUFRL0ssVUFBVWdMLFdBQVksRUFFOUIsTUFBTWYsTUFBNEJjLEVBQzVCNUMsTUFBZ0NMLEVDNXNCdEMsUUFFQ3RMLG1CQUVNb0IsU0FBVyxDQUVmLEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEdBSUxxTixVQUFVN00sT0FBUyxXQUVmNkosTUFBTyxrRkFNakJ6TCxJQUFLME8sRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsU0FFekU1RyxFQUFLMUksS0FBS2lCLGtCQUVaLEdBQU1zTixJQUFTLEdBQU1DLElBQVMsR0FBTUMsSUFBUyxJQUFPQyxJQUNwRCxHQUFNQyxJQUFTLEdBQU1DLElBQVMsR0FBTUMsSUFBUyxJQUFPQyxJQUNwRCxHQUFNQyxJQUFTLEdBQU1DLElBQVMsSUFBT0MsSUFBUyxJQUFPQyxJQUNyRCxHQUFNQyxJQUFTLEdBQU1DLElBQVMsSUFBT0MsSUFBUyxJQUFPQyxFQUVsRHRQLEtBSVJILHVCQUVNa0csSUFFSixFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxHQUlIL0YsS0FJUkgsZ0JBRVEsSUFBSTBQLEdBQVVwQixVQUFXbk8sS0FBS2lCLFVBSXRDcEIsS0FBTWtCLFNBRUMySCxFQUFLMUksS0FBS2lCLFNBQ1Z1TyxFQUFLek8sRUFBRUUsa0JBRVQsR0FBTXVPLEVBQUksS0FBUyxHQUFNQSxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUFTLEdBQU1BLEVBQUksS0FDbkUsR0FBTUEsRUFBSSxLQUFTLEdBQU1BLEVBQUksS0FBUyxHQUFNQSxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUNuRSxHQUFNQSxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUFTLElBQU9BLEVBQUksTUFBVSxJQUFPQSxFQUFJLE1BQ3RFLElBQU9BLEVBQUksTUFBVSxJQUFPQSxFQUFJLE1BQVUsSUFBT0EsRUFBSSxNQUFVLElBQU9BLEVBQUksSUFFdkV4UCxLQUlSSCxhQUFja0IsU0FFUDJILEVBQUsxSSxLQUFLaUIsU0FBVXVPLEVBQUt6TyxFQUFFRSxrQkFFN0IsSUFBT3VPLEVBQUksTUFDWCxJQUFPQSxFQUFJLE1BQ1gsSUFBT0EsRUFBSSxJQUVSeFAsS0FJUkgsZUFBZ0JrQixTQUVUeU8sRUFBS3pPLEVBQUVFLHFCQUVSOEUsSUFFSnlKLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFDM0JBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFDM0JBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFDM0IsRUFBRyxFQUFHLEVBQUcsR0FJSHhQLEtBSVJILGFBQWM0UCxFQUFPQyxFQUFPQyxZQUVyQjNCLG9CQUFxQmhPLEtBQU0sS0FDM0JnTyxvQkFBcUJoTyxLQUFNLEtBQzNCZ08sb0JBQXFCaE8sS0FBTSxHQUUxQkEsS0FJUkgsVUFBVzRQLEVBQU9DLEVBQU9DLGVBRW5CNUosSUFDSjBKLEVBQU0zUCxFQUFHNFAsRUFBTTVQLEVBQUc2UCxFQUFNN1AsRUFBRyxFQUMzQjJQLEVBQU0xUCxFQUFHMlAsRUFBTTNQLEVBQUc0UCxFQUFNNVAsRUFBRyxFQUMzQjBQLEVBQU16SixFQUFHMEosRUFBTTFKLEVBQUcySixFQUFNM0osRUFBRyxFQUMzQixFQUFHLEVBQUcsRUFBRyxHQUdIaEcsS0FJUkgsZ0JBQWlCa0IsU0FJVjJILEVBQUsxSSxLQUFLaUIsU0FDVnVPLEVBQUt6TyxFQUFFRSxTQUVQMk8sRUFBUyxFQUFJQyxFQUFJN0Isb0JBQXFCak4sRUFBRyxHQUFJVSxTQUM3Q3FPLEVBQVMsRUFBSUQsRUFBSTdCLG9CQUFxQmpOLEVBQUcsR0FBSVUsU0FDN0NzTyxFQUFTLEVBQUlGLEVBQUk3QixvQkFBcUJqTixFQUFHLEdBQUlVLGtCQUUvQyxHQUFNK04sRUFBSSxHQUFNSSxJQUNoQixHQUFNSixFQUFJLEdBQU1JLElBQ2hCLEdBQU1KLEVBQUksR0FBTUksSUFDaEIsR0FBTSxJQUVOLEdBQU1KLEVBQUksR0FBTU0sSUFDaEIsR0FBTU4sRUFBSSxHQUFNTSxJQUNoQixHQUFNTixFQUFJLEdBQU1NLElBQ2hCLEdBQU0sSUFFTixHQUFNTixFQUFJLEdBQU1PLElBQ2hCLEdBQU1QLEVBQUksR0FBTU8sSUFDaEIsSUFBT1AsRUFBSSxJQUFPTyxJQUNsQixJQUFPLElBRVAsSUFBTyxJQUNQLElBQU8sSUFDUCxJQUFPLElBQ1AsSUFBTyxFQUVKL1AsS0FJUkgsc0JBQXVCbUksTUFFSkEsRUFBTUUsaUJBRWZvRCxNQUFPLCtHQUlWNUMsRUFBSzFJLEtBQUtpQixTQUVWbkIsRUFBSWtJLEVBQU1sSSxFQUFHQyxFQUFJaUksRUFBTWpJLEVBQUdpRyxFQUFJZ0MsRUFBTWhDLEVBQ3BDckYsRUFBSU8sS0FBSytCLElBQUtuRCxHQUFLYyxFQUFJTSxLQUFLZ0MsSUFBS3BELEdBQ2pDa0QsRUFBSTlCLEtBQUsrQixJQUFLbEQsR0FBS2lRLEVBQUk5TyxLQUFLZ0MsSUFBS25ELEdBQ2pDaUIsRUFBSUUsS0FBSytCLElBQUsrQyxHQUFLNkIsRUFBSTNHLEtBQUtnQyxJQUFLOEMsTUFFbEIsUUFBaEJnQyxFQUFNNUMsTUFBa0IsT0FFdEI2SyxFQUFLdFAsRUFBSUssRUFBR2tQLEVBQUt2UCxFQUFJa0gsRUFBR3NJLEVBQUt2UCxFQUFJSSxFQUFHb1AsRUFBS3hQLEVBQUlpSCxJQUUvQyxHQUFNN0UsRUFBSWhDLElBQ1YsSUFBUWdDLEVBQUk2RSxJQUNaLEdBQU1tSSxJQUVOLEdBQU1FLEVBQUtDLEVBQUtILElBQ2hCLEdBQU1DLEVBQUtHLEVBQUtKLElBQ2hCLElBQVFwUCxFQUFJb0MsSUFFWixHQUFNb04sRUFBS0gsRUFBS0QsSUFDaEIsR0FBTUcsRUFBS0QsRUFBS0YsSUFDaEIsSUFBT3JQLEVBQUlxQyxXQUVZLFFBQWhCZ0YsRUFBTTVDLE1BQWtCLE9BRTdCaUwsRUFBS3JOLEVBQUloQyxFQUFHc1AsRUFBS3ROLEVBQUk2RSxFQUFHMEksRUFBS1AsRUFBSWhQLEVBQUd3UCxFQUFLUixFQUFJbkksSUFFL0MsR0FBTXdJLEVBQUtHLEVBQUs1UCxJQUNoQixHQUFNMlAsRUFBSzNQLEVBQUkwUCxJQUNmLEdBQU0zUCxFQUFJcVAsSUFFVixHQUFNclAsRUFBSWtILElBQ1YsR0FBTWxILEVBQUlLLElBQ1YsSUFBUUosSUFFUixHQUFNMFAsRUFBSzFQLEVBQUkyUCxJQUNmLEdBQU1DLEVBQUtILEVBQUt6UCxJQUNoQixJQUFPRCxFQUFJcUMsV0FFWSxRQUFoQmdGLEVBQU01QyxNQUFrQixPQUU3QmlMLEVBQUtyTixFQUFJaEMsRUFBR3NQLEVBQUt0TixFQUFJNkUsRUFBRzBJLEVBQUtQLEVBQUloUCxFQUFHd1AsRUFBS1IsRUFBSW5JLElBRS9DLEdBQU13SSxFQUFLRyxFQUFLNVAsSUFDaEIsSUFBUUQsRUFBSWtILElBQ1osR0FBTTBJLEVBQUtELEVBQUsxUCxJQUVoQixHQUFNMFAsRUFBS0MsRUFBSzNQLElBQ2hCLEdBQU1ELEVBQUlLLElBQ1YsR0FBTXdQLEVBQUtILEVBQUt6UCxJQUVoQixJQUFRRCxFQUFJcVAsSUFDWixHQUFNcFAsSUFDTixJQUFPRCxFQUFJcUMsV0FFWSxRQUFoQmdGLEVBQU01QyxNQUFrQixPQUU3QjZLLEVBQUt0UCxFQUFJSyxFQUFHa1AsRUFBS3ZQLEVBQUlrSCxFQUFHc0ksRUFBS3ZQLEVBQUlJLEVBQUdvUCxFQUFLeFAsRUFBSWlILElBRS9DLEdBQU03RSxFQUFJaEMsSUFDVixHQUFNbVAsRUFBS0gsRUFBSUUsSUFDZixHQUFNRCxFQUFLRCxFQUFJSSxJQUVmLEdBQU1wTixFQUFJNkUsSUFDVixHQUFNdUksRUFBS0osRUFBSUMsSUFDZixHQUFNQyxFQUFLRixFQUFJRyxJQUVmLElBQVFILElBQ1IsR0FBTXBQLEVBQUlvQyxJQUNWLElBQU9yQyxFQUFJcUMsV0FFWSxRQUFoQmdGLEVBQU01QyxNQUFrQixPQUU3QnFMLEVBQUs5UCxFQUFJcUMsRUFBRzBOLEVBQUsvUCxFQUFJcVAsRUFBR1csRUFBSy9QLEVBQUlvQyxFQUFHNE4sRUFBS2hRLEVBQUlvUCxJQUUvQyxHQUFNaE4sRUFBSWhDLElBQ1YsR0FBTTRQLEVBQUtILEVBQUs1SSxJQUNoQixHQUFNOEksRUFBSzlJLEVBQUk2SSxJQUVmLEdBQU03SSxJQUNOLEdBQU1sSCxFQUFJSyxJQUNWLElBQVFKLEVBQUlJLElBRVosSUFBUWdQLEVBQUloUCxJQUNaLEdBQU0wUCxFQUFLN0ksRUFBSThJLElBQ2YsSUFBT0YsRUFBS0csRUFBSy9JLFdBRU0sUUFBaEJHLEVBQU01QyxNQUFrQixPQUU3QnFMLEVBQUs5UCxFQUFJcUMsRUFBRzBOLEVBQUsvUCxFQUFJcVAsRUFBR1csRUFBSy9QLEVBQUlvQyxFQUFHNE4sRUFBS2hRLEVBQUlvUCxJQUUvQyxHQUFNaE4sRUFBSWhDLElBQ1YsSUFBUTZHLElBQ1IsR0FBTW1JLEVBQUloUCxJQUVWLEdBQU15UCxFQUFLNUksRUFBSStJLElBQ2YsR0FBTWpRLEVBQUlLLElBQ1YsR0FBTTBQLEVBQUs3SSxFQUFJOEksSUFFZixHQUFNQSxFQUFLOUksRUFBSTZJLElBQ2YsR0FBTTlQLEVBQUlJLElBQ1YsSUFBTzRQLEVBQUsvSSxFQUFJNEksWUFLakIsR0FBTSxJQUNOLEdBQU0sSUFDTixJQUFPLElBR1AsSUFBTyxJQUNQLElBQU8sSUFDUCxJQUFPLElBQ1AsSUFBTyxFQUVKelEsS0FJUkgsMkJBQTRCc0YsVUFFcEJuRixLQUFLNlEsUUFBU0MsRUFBTzNMLEVBQUc0TCxHQUloQ2xSLE9BQVFtUixFQUFLQyxFQUFRQyxTQUVkeEksRUFBSzFJLEtBQUtpQixrQkFFYkosV0FBWW1RLEVBQUtDLEdBRUcsSUFBbEI5SyxFQUFHK0csZUFJSmxILEVBQUksS0FJTDNELGNBQ0FxSyxhQUFjd0UsRUFBSS9LLEdBRUUsSUFBbEJGLEVBQUdpSCxhQUltQixJQUFyQmhNLEtBQUthLElBQUttUCxFQUFHbEwsS0FFZGxHLEdBQUssT0FJTGtHLEdBQUssT0FJTjNELGNBQ0FxSyxhQUFjd0UsRUFBSS9LLE1BSW5COUQsY0FDQXFLLGFBQWN2RyxFQUFJRixLQUVqQixHQUFNQSxFQUFHbkcsSUFBTyxHQUFNb0csRUFBR3BHLElBQU8sR0FBTXFHLEVBQUdyRyxJQUN6QyxHQUFNbUcsRUFBR2xHLElBQU8sR0FBTW1HLEVBQUduRyxJQUFPLEdBQU1vRyxFQUFHcEcsSUFDekMsR0FBTWtHLEVBQUdELElBQU8sR0FBTUUsRUFBR0YsSUFBTyxJQUFPRyxFQUFHSCxFQUV2Q2hHLEtBSVJILFNBQVVrQixFQUFHOEMsZUFFRCxJQUFOQSxXQUVJckQsS0FBTSxvR0FDUFIsS0FBS21SLGlCQUFrQnBRLEVBQUc4QyxJQUkzQjdELEtBQUttUixpQkFBa0JuUixLQUFNZSxHQUlyQ2xCLFlBQWFrQixVQUVMZixLQUFLbVIsaUJBQWtCcFEsRUFBR2YsTUFJbENILGlCQUFrQmMsRUFBR0MsU0FFZHFQLEVBQUt0UCxFQUFFTSxTQUNQa1AsRUFBS3ZQLEVBQUVLLFNBQ1B5SCxFQUFLMUksS0FBS2lCLFNBRVZtUSxFQUFNbkIsRUFBSSxHQUFLb0IsRUFBTXBCLEVBQUksR0FBS3FCLEVBQU1yQixFQUFJLEdBQUtzQixFQUFNdEIsRUFBSSxJQUN2RHVCLEVBQU12QixFQUFJLEdBQUt3QixFQUFNeEIsRUFBSSxHQUFLeUIsRUFBTXpCLEVBQUksR0FBSzBCLEVBQU0xQixFQUFJLElBQ3ZEMkIsRUFBTTNCLEVBQUksR0FBSzRCLEVBQU01QixFQUFJLEdBQUs2QixFQUFNN0IsRUFBSSxJQUFNOEIsRUFBTTlCLEVBQUksSUFDeEQrQixFQUFNL0IsRUFBSSxHQUFLZ0MsRUFBTWhDLEVBQUksR0FBS2lDLEVBQU1qQyxFQUFJLElBQU1rQyxFQUFNbEMsRUFBSSxJQUV4RG1DLEVBQU1qQyxFQUFJLEdBQUtrQyxFQUFNbEMsRUFBSSxHQUFLbUMsRUFBTW5DLEVBQUksR0FBS29DLEVBQU1wQyxFQUFJLElBQ3ZEcUMsRUFBTXJDLEVBQUksR0FBS3NDLEVBQU10QyxFQUFJLEdBQUt1QyxFQUFNdkMsRUFBSSxHQUFLd0MsRUFBTXhDLEVBQUksSUFDdkR5QyxFQUFNekMsRUFBSSxHQUFLMEMsRUFBTTFDLEVBQUksR0FBSzJDLEVBQU0zQyxFQUFJLElBQU00QyxFQUFNNUMsRUFBSSxJQUN4RDZDLEVBQU03QyxFQUFJLEdBQUs4QyxFQUFNOUMsRUFBSSxHQUFLK0MsRUFBTS9DLEVBQUksSUFBTWdELEVBQU1oRCxFQUFJLGFBRTFELEdBQU1pQixFQUFNZ0IsRUFBTWYsRUFBTW1CLEVBQU1sQixFQUFNc0IsRUFBTXJCLEVBQU15QixJQUNoRCxHQUFNNUIsRUFBTWlCLEVBQU1oQixFQUFNb0IsRUFBTW5CLEVBQU11QixFQUFNdEIsRUFBTTBCLElBQ2hELEdBQU03QixFQUFNa0IsRUFBTWpCLEVBQU1xQixFQUFNcEIsRUFBTXdCLEVBQU12QixFQUFNMkIsSUFDaEQsSUFBTzlCLEVBQU1tQixFQUFNbEIsRUFBTXNCLEVBQU1yQixFQUFNeUIsRUFBTXhCLEVBQU00QixJQUVqRCxHQUFNM0IsRUFBTVksRUFBTVgsRUFBTWUsRUFBTWQsRUFBTWtCLEVBQU1qQixFQUFNcUIsSUFDaEQsR0FBTXhCLEVBQU1hLEVBQU1aLEVBQU1nQixFQUFNZixFQUFNbUIsRUFBTWxCLEVBQU1zQixJQUNoRCxHQUFNekIsRUFBTWMsRUFBTWIsRUFBTWlCLEVBQU1oQixFQUFNb0IsRUFBTW5CLEVBQU11QixJQUNoRCxJQUFPMUIsRUFBTWUsRUFBTWQsRUFBTWtCLEVBQU1qQixFQUFNcUIsRUFBTXBCLEVBQU13QixJQUVqRCxHQUFNdkIsRUFBTVEsRUFBTVAsRUFBTVcsRUFBTVYsRUFBTWMsRUFBTWIsRUFBTWlCLElBQ2hELEdBQU1wQixFQUFNUyxFQUFNUixFQUFNWSxFQUFNWCxFQUFNZSxFQUFNZCxFQUFNa0IsSUFDaEQsSUFBT3JCLEVBQU1VLEVBQU1ULEVBQU1hLEVBQU1aLEVBQU1nQixFQUFNZixFQUFNbUIsSUFDakQsSUFBT3RCLEVBQU1XLEVBQU1WLEVBQU1jLEVBQU1iLEVBQU1pQixFQUFNaEIsRUFBTW9CLElBRWpELEdBQU1uQixFQUFNSSxFQUFNSCxFQUFNTyxFQUFNTixFQUFNVSxFQUFNVCxFQUFNYSxJQUNoRCxHQUFNaEIsRUFBTUssRUFBTUosRUFBTVEsRUFBTVAsRUFBTVcsRUFBTVYsRUFBTWMsSUFDaEQsSUFBT2pCLEVBQU1NLEVBQU1MLEVBQU1TLEVBQU1SLEVBQU1ZLEVBQU1YLEVBQU1lLElBQ2pELElBQU9sQixFQUFNTyxFQUFNTixFQUFNVSxFQUFNVCxFQUFNYSxFQUFNWixFQUFNZ0IsRUFFOUNuVCxLQUlSSCxlQUFnQmEsU0FFVGdJLEVBQUsxSSxLQUFLaUIsa0JBRVosSUFBT1AsSUFBTyxJQUFPQSxJQUFPLElBQU9BLElBQU8sS0FBUUEsSUFDbEQsSUFBT0EsSUFBTyxJQUFPQSxJQUFPLElBQU9BLElBQU8sS0FBUUEsSUFDbEQsSUFBT0EsSUFBTyxJQUFPQSxJQUFPLEtBQVFBLElBQU8sS0FBUUEsSUFDbkQsSUFBT0EsSUFBTyxJQUFPQSxJQUFPLEtBQVFBLElBQU8sS0FBUUEsRUFFaERWLEtBSVJILG9CQUVPNkksRUFBSzFJLEtBQUtpQixTQUVWc04sRUFBTTdGLEVBQUksR0FBSzhGLEVBQU05RixFQUFJLEdBQUsrRixFQUFNL0YsRUFBSSxHQUFLZ0csRUFBTWhHLEVBQUksSUFDdkRpRyxFQUFNakcsRUFBSSxHQUFLa0csRUFBTWxHLEVBQUksR0FBS21HLEVBQU1uRyxFQUFJLEdBQUtvRyxFQUFNcEcsRUFBSSxJQUN2RHFHLEVBQU1yRyxFQUFJLEdBQUtzRyxFQUFNdEcsRUFBSSxHQUFLdUcsRUFBTXZHLEVBQUksSUFBTXdHLEVBQU14RyxFQUFJLFdBQ2xEQSxFQUFJLEtBT1pnRyxFQUFNRyxFQUFNRyxFQUNYUCxFQUFNSyxFQUFNRSxFQUNaTixFQUFNRSxFQUFNSyxFQUNaVCxFQUFNTSxFQUFNRyxFQUNaUixFQUFNRyxFQUFNTSxFQUNaVixFQUFNSyxFQUFNSyxHQVpVeEcsRUFBSSxLQWUzQjZGLEVBQU1NLEVBQU1LLEVBQ1hYLEVBQU1PLEVBQU1HLEVBQ1pQLEVBQU1DLEVBQU1NLEVBQ1pSLEVBQU1FLEVBQU1PLEVBQ1pULEVBQU1LLEVBQU1DLEVBQ1pMLEVBQU1HLEVBQU1FLEdBcEJ5QnJHLEVBQUksTUF1QjFDNkYsRUFBTU8sRUFBTUUsRUFDWFQsRUFBTUssRUFBTU0sRUFDWlIsRUFBTUMsRUFBTUssRUFDWlIsRUFBTUcsRUFBTU8sRUFDWlIsRUFBTUUsRUFBTUcsRUFDWlAsRUFBTU0sRUFBTUMsR0E1QnlDckcsRUFBSSxNQStCMUQrRixFQUFNRyxFQUFNRyxFQUNYUixFQUFNTSxFQUFNRyxFQUNaVCxFQUFNSyxFQUFNSyxFQUNaUixFQUFNRSxFQUFNSyxFQUNaUixFQUFNRyxFQUFNTSxFQUNaVCxFQUFNSyxFQUFNRSxHQU9sQmxQLGtCQUVPNkksRUFBSzFJLEtBQUtpQixhQUNabVMsV0FFRTFLLEVBQUksS0FBUyxHQUFNQSxFQUFJLEtBQVMsR0FBTTBLLElBQ3RDMUssRUFBSSxLQUFTLEdBQU1BLEVBQUksS0FBUyxHQUFNMEssSUFDdEMxSyxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUFTLEdBQU0wSyxJQUV0QzFLLEVBQUksS0FBUyxHQUFNQSxFQUFJLE1BQVUsSUFBTzBLLElBQ3hDMUssRUFBSSxLQUFTLEdBQU1BLEVBQUksTUFBVSxJQUFPMEssSUFDeEMxSyxFQUFJLE1BQVUsSUFBT0EsRUFBSSxNQUFVLElBQU8wSyxFQUV6Q3BULEtBSVJILFlBQWFDLEVBQUdDLEVBQUdpRyxTQUVaMEMsRUFBSzFJLEtBQUtpQixnQkFFWG5CLEVBQUV1TyxhQUVGLElBQU92TyxFQUFFQSxJQUNULElBQU9BLEVBQUVDLElBQ1QsSUFBT0QsRUFBRWtHLE1BSVQsSUFBT2xHLElBQ1AsSUFBT0MsSUFDUCxJQUFPaUcsR0FJTGhHLEtBSVJILGVBR082SSxFQUFLMUksS0FBS2lCLFNBRWZzTixFQUFNN0YsRUFBSSxHQUFLaUcsRUFBTWpHLEVBQUksR0FBS3FHLEVBQU1yRyxFQUFJLEdBQUt5RyxFQUFNekcsRUFBSSxHQUN2RDhGLEVBQU05RixFQUFJLEdBQUtrRyxFQUFNbEcsRUFBSSxHQUFLc0csRUFBTXRHLEVBQUksR0FBSzBHLEVBQU0xRyxFQUFJLEdBQ3ZEK0YsRUFBTS9GLEVBQUksR0FBS21HLEVBQU1uRyxFQUFJLEdBQUt1RyxFQUFNdkcsRUFBSSxJQUFNMkcsRUFBTTNHLEVBQUksSUFDeERnRyxFQUFNaEcsRUFBSSxJQUFNb0csRUFBTXBHLEVBQUksSUFBTXdHLEVBQU14RyxFQUFJLElBQU00RyxFQUFNNUcsRUFBSSxJQUUxRDJLLEVBQU14RSxFQUFNSyxFQUFNRSxFQUFNTixFQUFNRyxFQUFNRyxFQUFNTixFQUFNRSxFQUFNSyxFQUFNVCxFQUFNTSxFQUFNRyxFQUFNUixFQUFNRyxFQUFNTSxFQUFNVixFQUFNSyxFQUFNSyxFQUM1R2dFLEVBQU01RSxFQUFNTyxFQUFNRyxFQUFNWCxFQUFNUyxFQUFNRSxFQUFNVixFQUFNTSxFQUFNSyxFQUFNYixFQUFNVSxFQUFNRyxFQUFNWixFQUFNTyxFQUFNTSxFQUFNZCxFQUFNUyxFQUFNSyxFQUM1R2lFLEVBQU05RSxFQUFNSyxFQUFNTSxFQUFNVixFQUFNRyxFQUFNTyxFQUFNVixFQUFNRSxFQUFNUyxFQUFNYixFQUFNTSxFQUFNTyxFQUFNWixFQUFNRyxFQUFNVSxFQUFNZCxFQUFNSyxFQUFNUyxFQUM1R2tFLEVBQU05RSxFQUFNRyxFQUFNRyxFQUFNUCxFQUFNSyxFQUFNRSxFQUFNTixFQUFNRSxFQUFNSyxFQUFNVCxFQUFNTSxFQUFNRyxFQUFNUixFQUFNRyxFQUFNTSxFQUFNVixFQUFNSyxFQUFNSyxFQUV2R3VFLEVBQU1sRixFQUFNOEUsRUFBTTFFLEVBQU0yRSxFQUFNdkUsRUFBTXdFLEVBQU1wRSxFQUFNcUUsS0FFekMsSUFBUkMsU0FBbUJ6VCxLQUFLK0YsSUFBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxTQUV6RTJOLEVBQVMsRUFBSUQsV0FFZixHQUFNSixFQUFNSyxJQUNaLE1BQWN6RSxFQUFNRSxFQUFNTixFQUFNSyxFQUFNQyxFQUFNTCxFQUFNQyxFQUFNTSxFQUFNVixFQUFNTyxFQUFNRyxFQUFNUixFQUFNRSxFQUFNTyxFQUFNWCxFQUFNTSxFQUFNSyxHQUFRb0UsSUFDdEgsTUFBY3hFLEVBQU1DLEVBQU1MLEVBQU1FLEVBQU1HLEVBQU1MLEVBQU1DLEVBQU1LLEVBQU1ULEVBQU1PLEVBQU1FLEVBQU1SLEVBQU1HLEVBQU1PLEVBQU1YLEVBQU1LLEVBQU1NLEdBQVFvRSxJQUN0SCxNQUFjMUUsRUFBTUcsRUFBTVAsRUFBTUssRUFBTUUsRUFBTU4sRUFBTUUsRUFBTUssRUFBTVQsRUFBTU0sRUFBTUcsRUFBTVIsRUFBTUcsRUFBTU0sRUFBTVYsRUFBTUssRUFBTUssR0FBUXFFLElBRXRILEdBQU1KLEVBQU1JLElBQ1osTUFBY3hFLEVBQU1DLEVBQU1ULEVBQU1PLEVBQU1FLEVBQU1ULEVBQU1LLEVBQU1NLEVBQU1kLEVBQU1XLEVBQU1HLEVBQU1aLEVBQU1NLEVBQU1PLEVBQU1mLEVBQU1VLEVBQU1LLEdBQVFvRSxJQUN0SCxNQUFjMUUsRUFBTUcsRUFBTVgsRUFBTVUsRUFBTUMsRUFBTVQsRUFBTUssRUFBTUssRUFBTWIsRUFBTVcsRUFBTUUsRUFBTVosRUFBTU8sRUFBTU8sRUFBTWYsRUFBTVMsRUFBTU0sR0FBUW9FLElBQ3RILE1BQWN6RSxFQUFNRSxFQUFNVixFQUFNTyxFQUFNRyxFQUFNVixFQUFNTSxFQUFNSyxFQUFNYixFQUFNVSxFQUFNRyxFQUFNWixFQUFNTyxFQUFNTSxFQUFNZCxFQUFNUyxFQUFNSyxHQUFRcUUsSUFFdEgsR0FBTUgsRUFBTUcsSUFDWixNQUFjN0UsRUFBTU0sRUFBTVYsRUFBTUssRUFBTUssRUFBTVQsRUFBTUMsRUFBTVUsRUFBTWQsRUFBTU8sRUFBTU8sRUFBTVosRUFBTUUsRUFBTVcsRUFBTWYsRUFBTU0sRUFBTVMsR0FBUW9FLElBQ3RILE9BQWU1RSxFQUFNSyxFQUFNVCxFQUFNRSxFQUFNTyxFQUFNVCxFQUFNQyxFQUFNUyxFQUFNYixFQUFNTyxFQUFNTSxFQUFNWixFQUFNRyxFQUFNVyxFQUFNZixFQUFNSyxFQUFNVSxHQUFRb0UsSUFDdkgsT0FBZTlFLEVBQU1PLEVBQU1YLEVBQU1LLEVBQU1NLEVBQU1WLEVBQU1FLEVBQU1TLEVBQU1iLEVBQU1NLEVBQU1PLEVBQU1aLEVBQU1HLEVBQU1VLEVBQU1kLEVBQU1LLEVBQU1TLEdBQVFxRSxJQUV2SCxJQUFPRixFQUFNRSxJQUNiLE9BQWU1RSxFQUFNQyxFQUFNTCxFQUFNRyxFQUFNRSxFQUFNTCxFQUFNQyxFQUFNTSxFQUFNVixFQUFNTyxFQUFNRyxFQUFNUixFQUFNRSxFQUFNTyxFQUFNWCxFQUFNTSxFQUFNSyxHQUFRd0UsSUFDdkgsT0FBZTlFLEVBQU1HLEVBQU1QLEVBQU1NLEVBQU1DLEVBQU1MLEVBQU1DLEVBQU1LLEVBQU1ULEVBQU1PLEVBQU1FLEVBQU1SLEVBQU1HLEVBQU1PLEVBQU1YLEVBQU1LLEVBQU1NLEdBQVF3RSxJQUN2SCxPQUFlN0UsRUFBTUUsRUFBTU4sRUFBTUcsRUFBTUcsRUFBTU4sRUFBTUUsRUFBTUssRUFBTVQsRUFBTU0sRUFBTUcsRUFBTVIsRUFBTUcsRUFBTU0sRUFBTVYsRUFBTUssRUFBTUssR0FBUXlFLEVBRXBIMVQsS0FJUkgsTUFBT1MsU0FFQW9JLEVBQUsxSSxLQUFLaUIsU0FDVm5CLEVBQUlRLEVBQUVSLEVBQUdDLEVBQUlPLEVBQUVQLEVBQUdpRyxFQUFJMUYsRUFBRTBGLFdBRTFCLElBQU9sRyxJQUFPLElBQU9DLElBQU8sSUFBT2lHLElBQ25DLElBQU9sRyxJQUFPLElBQU9DLElBQU8sSUFBT2lHLElBQ25DLElBQU9sRyxJQUFPLElBQU9DLElBQU8sS0FBUWlHLElBQ3BDLElBQU9sRyxJQUFPLElBQU9DLElBQU8sS0FBUWlHLEVBRWpDaEcsS0FJUkgsMEJBRU82SSxFQUFLMUksS0FBS2lCLFNBRVYwUyxFQUFXakwsRUFBSSxHQUFNQSxFQUFJLEdBQU1BLEVBQUksR0FBTUEsRUFBSSxHQUFNQSxFQUFJLEdBQU1BLEVBQUksR0FDakVrTCxFQUFXbEwsRUFBSSxHQUFNQSxFQUFJLEdBQU1BLEVBQUksR0FBTUEsRUFBSSxHQUFNQSxFQUFJLEdBQU1BLEVBQUksR0FDakVtTCxFQUFXbkwsRUFBSSxHQUFNQSxFQUFJLEdBQU1BLEVBQUksR0FBTUEsRUFBSSxHQUFNQSxFQUFJLElBQU9BLEVBQUksV0FFakV4SCxLQUFLWSxLQUFNWixLQUFLRSxJQUFLdVMsRUFBVUMsRUFBVUMsSUFJakRoVSxnQkFBaUJDLEVBQUdDLEVBQUdpRyxlQUVqQkQsSUFFSixFQUFHLEVBQUcsRUFBR2pHLEVBQ1QsRUFBRyxFQUFHLEVBQUdDLEVBQ1QsRUFBRyxFQUFHLEVBQUdpRyxFQUNULEVBQUcsRUFBRyxFQUFHLEdBSUhoRyxLQUlSSCxjQUFlMk4sU0FFUnhLLEVBQUk5QixLQUFLK0IsSUFBS3VLLEdBQVM5TSxFQUFJUSxLQUFLZ0MsSUFBS3NLLGVBRXRDekgsSUFFSixFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcvQyxHQUFLdEMsRUFBRyxFQUNYLEVBQUdBLEVBQUdzQyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsR0FJSGhELEtBSVJILGNBQWUyTixTQUVSeEssRUFBSTlCLEtBQUsrQixJQUFLdUssR0FBUzlNLEVBQUlRLEtBQUtnQyxJQUFLc0ssZUFFdEN6SCxJQUVIL0MsRUFBRyxFQUFHdEMsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEdBQ1JBLEVBQUcsRUFBR3NDLEVBQUcsRUFDVixFQUFHLEVBQUcsRUFBRyxHQUlKaEQsS0FJUkgsY0FBZTJOLFNBRVJ4SyxFQUFJOUIsS0FBSytCLElBQUt1SyxHQUFTOU0sRUFBSVEsS0FBS2dDLElBQUtzSyxlQUV0Q3pILElBRUovQyxHQUFLdEMsRUFBRyxFQUFHLEVBQ1hBLEVBQUdzQyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEdBSUhoRCxLQUlSSCxpQkFBa0IySSxFQUFNekYsU0FJakJDLEVBQUk5QixLQUFLK0IsSUFBS0YsR0FDZHJDLEVBQUlRLEtBQUtnQyxJQUFLSCxHQUNkZSxFQUFJLEVBQUlkLEVBQ1JsRCxFQUFJMEksRUFBSzFJLEVBQUdDLEVBQUl5SSxFQUFLekksRUFBR2lHLEVBQUl3QyxFQUFLeEMsRUFDakM4TixFQUFLaFEsRUFBSWhFLEVBQUdpVSxFQUFLalEsRUFBSS9ELGNBRXRCZ0csSUFFSitOLEVBQUtoVSxFQUFJa0QsRUFBRzhRLEVBQUsvVCxFQUFJVyxFQUFJc0YsRUFBRzhOLEVBQUs5TixFQUFJdEYsRUFBSVgsRUFBRyxFQUM1QytULEVBQUsvVCxFQUFJVyxFQUFJc0YsRUFBRytOLEVBQUtoVSxFQUFJaUQsRUFBRytRLEVBQUsvTixFQUFJdEYsRUFBSVosRUFBRyxFQUM1Q2dVLEVBQUs5TixFQUFJdEYsRUFBSVgsRUFBR2dVLEVBQUsvTixFQUFJdEYsRUFBSVosRUFBR2dFLEVBQUlrQyxFQUFJQSxFQUFJaEQsRUFBRyxFQUMvQyxFQUFHLEVBQUcsRUFBRyxHQUlIaEQsS0FJUkgsVUFBV0MsRUFBR0MsRUFBR2lHLGVBRVhELElBRUpqRyxFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUdDLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBR2lHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxHQUlIaEcsS0FJUkgsVUFBV21VLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLGVBRXpCdE8sSUFFSixFQUFHbU8sRUFBSUUsRUFBSSxFQUNYSixFQUFJLEVBQUdLLEVBQUksRUFDWEosRUFBSUUsRUFBSSxFQUFHLEVBQ1gsRUFBRyxFQUFHLEVBQUcsR0FJSG5VLEtBSVJILFFBQVN5VSxFQUFVdk0sRUFBWXdNLFNBRXhCN0wsRUFBSzFJLEtBQUtpQixTQUVWbkIsRUFBSWlJLEVBQVc5QixHQUFJbEcsRUFBSWdJLEVBQVc3QixHQUFJRixFQUFJK0IsRUFBVzVCLEdBQUk1RixFQUFJd0gsRUFBVzNCLEdBQ3hFb08sRUFBSzFVLEVBQUlBLEVBQUcyVSxFQUFLMVUsRUFBSUEsRUFBRzJVLEVBQUsxTyxFQUFJQSxFQUNqQzJPLEVBQUs3VSxFQUFJMFUsRUFBSVIsRUFBS2xVLEVBQUkyVSxFQUFJUixFQUFLblUsRUFBSTRVLEVBQ25DRSxFQUFLN1UsRUFBSTBVLEVBQUlOLEVBQUtwVSxFQUFJMlUsRUFBSUcsRUFBSzdPLEVBQUkwTyxFQUNuQ0ksRUFBS3ZVLEVBQUlpVSxFQUFJTyxFQUFLeFUsRUFBSWtVLEVBQUlPLEVBQUt6VSxFQUFJbVUsRUFFbkMzRyxFQUFLd0csRUFBTXpVLEVBQUdtTyxFQUFLc0csRUFBTXhVLEVBQUdtTyxFQUFLcUcsRUFBTXZPLFdBRXpDLFNBQW1CNk8sSUFBUzlHLElBQzVCLE1BQWFpSCxHQUFPakgsSUFDcEIsTUFBYWdILEdBQU9oSCxJQUNwQixHQUFNLElBRU4sTUFBYWlILEdBQU8vRyxJQUNwQixTQUFtQjRHLElBQVM1RyxJQUM1QixNQUFhNkcsR0FBTzdHLElBQ3BCLEdBQU0sSUFFTixNQUFhOEcsR0FBTzdHLElBQ3BCLE1BQWE0RyxHQUFPNUcsSUFDcEIsVUFBb0IwRyxJQUFTMUcsSUFDN0IsSUFBTyxJQUVQLElBQU9vRyxFQUFTeFUsSUFDaEIsSUFBT3dVLEVBQVN2VSxJQUNoQixJQUFPdVUsRUFBU3RPLElBQ2hCLElBQU8sRUFFSmhHLEtBSVJILFVBQVd5VSxFQUFVdk0sRUFBWXdNLFNBRTFCN0wsRUFBSzFJLEtBQUtpQixhQUVaOE0sRUFBSzhCLEVBQUk5SixJQUFLMkMsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksSUFBTWpILGVBQ3hDd00sRUFBSzRCLEVBQUk5SixJQUFLMkMsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksSUFBTWpILFNBQzFDeU0sRUFBSzJCLEVBQUk5SixJQUFLMkMsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksS0FBT2pILFNBR3JDekIsS0FBS2lWLGNBQ04sT0FBV2xILEtBRWJqTyxFQUFJNEksRUFBSSxNQUNSM0ksRUFBSTJJLEVBQUksTUFDUjFDLEVBQUkwQyxFQUFJLE1BR2IrQixLQUFNekssWUFFSmtWLEVBQVEsRUFBSW5ILEVBQ1pvSCxFQUFRLEVBQUlsSCxFQUNabUgsRUFBUSxFQUFJbEgsV0FFZGpOLFNBQVUsSUFBT2lVLElBQ2pCalUsU0FBVSxJQUFPaVUsSUFDakJqVSxTQUFVLElBQU9pVSxJQUVqQmpVLFNBQVUsSUFBT2tVLElBQ2pCbFUsU0FBVSxJQUFPa1UsSUFDakJsVSxTQUFVLElBQU9rVSxJQUVqQmxVLFNBQVUsSUFBT21VLElBQ2pCblUsU0FBVSxJQUFPbVUsSUFDakJuVSxTQUFVLEtBQVFtVSxJQUVYQyxzQkFBdUJDLEtBRTVCeFYsRUFBSWlPLElBQ0poTyxFQUFJa08sSUFDSmpJLEVBQUlrSSxFQUVIbE8sS0FJUkgsZ0JBQWlCMFYsRUFBTUMsRUFBT0MsRUFBS0MsRUFBUUMsRUFBTUMsUUFFbkMsSUFBUkEsV0FFSXBWLEtBQU0sOEdBSVRrSSxFQUFLMUksS0FBS2lCLFNBQ1ZuQixFQUFJLEVBQUk2VixLQUFpQkosR0FDekJ4VixFQUFJLEVBQUk0VixLQUFlRCxHQUV2Qi9VLEtBQWM0VSxNQUFtQkEsR0FDakMzVSxLQUFZOFUsTUFBbUJBLEdBQy9CMVMsTUFBYzJTLE1BQWlCQSxHQUMvQjNGLEtBQVU0RixFQUFNRCxLQUFlQSxZQUVqQyxHQUFNN1YsSUFBTyxHQUFNLElBQU8sR0FBTWEsSUFBTyxJQUFPLElBQzlDLEdBQU0sSUFBTyxHQUFNWixJQUFPLEdBQU1hLElBQU8sSUFBTyxJQUM5QyxHQUFNLElBQU8sR0FBTSxJQUFPLElBQU9vQyxJQUFPLElBQU9nTixJQUMvQyxHQUFNLElBQU8sR0FBTSxJQUFPLFNBQWdCLElBQU8sRUFFOUNoUSxLQUlSSCxpQkFBa0IwVixFQUFNQyxFQUFPQyxFQUFLQyxFQUFRQyxFQUFNQyxTQUUzQ2xOLEVBQUsxSSxLQUFLaUIsU0FDVlYsRUFBSSxLQUFnQmdWLEdBQ3BCTSxFQUFJLEtBQWNILEdBQ2xCOVYsRUFBSSxLQUFjK1YsR0FFbEI3VixLQUFjeVYsR0FBU2hWLEVBQ3ZCUixLQUFZMlYsR0FBV0csRUFDdkI3UCxLQUFZMlAsR0FBUy9WLFdBRXZCLEdBQU0sRUFBSVcsSUFBTyxHQUFNLElBQU8sR0FBTSxJQUFPLEtBQVNULElBQ3BELEdBQU0sSUFBTyxHQUFNLEVBQUkrVixJQUFPLEdBQU0sSUFBTyxLQUFTOVYsSUFDcEQsR0FBTSxJQUFPLEdBQU0sSUFBTyxPQUFhSCxJQUFPLEtBQVNvRyxJQUN2RCxHQUFNLElBQU8sR0FBTSxJQUFPLElBQU8sSUFBTyxJQUFPLEVBRTVDaEcsS0FJUkgsT0FBUWlXLFNBRURwTixFQUFLMUksS0FBS2lCLFNBQ1Z1TyxFQUFLc0csRUFBTzdVLGlCQUVSdUMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLE9BRW5Ca0YsRUFBSWxGLEtBQVFnTSxFQUFJaE0sV0FBYSxVQUk1QixFQUlSM0QsVUFBVzRDLEVBQU9DLEVBQVMsV0FFaEJjLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxTQUVuQnZDLFNBQVV1QyxHQUFNZixFQUFPZSxFQUFJZCxVQUkxQjFDLEtBSVJILFFBQVM0QyxFQUFRLEdBQUlDLEVBQVMsU0FFdkJnRyxFQUFLMUksS0FBS2lCLGtCQUVUeUIsR0FBV2dHLEVBQUksS0FDZmhHLEVBQVMsR0FBTWdHLEVBQUksS0FDbkJoRyxFQUFTLEdBQU1nRyxFQUFJLEtBQ25CaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUVuQmhHLEVBQVMsR0FBTWdHLEVBQUksS0FDbkJoRyxFQUFTLEdBQU1nRyxFQUFJLEtBQ25CaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUNuQmhHLEVBQVMsR0FBTWdHLEVBQUksS0FFbkJoRyxFQUFTLEdBQU1nRyxFQUFJLEtBQ25CaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUNuQmhHLEVBQVMsSUFBT2dHLEVBQUksTUFDcEJoRyxFQUFTLElBQU9nRyxFQUFJLE1BRXBCaEcsRUFBUyxJQUFPZ0csRUFBSSxNQUNwQmhHLEVBQVMsSUFBT2dHLEVBQUksTUFDcEJoRyxFQUFTLElBQU9nRyxFQUFJLE1BQ3BCaEcsRUFBUyxJQUFPZ0csRUFBSSxJQUVwQmpHLEdBTVQ4TSxFQUFRbE0sVUFBVTBTLFdBQVksUUFFeEJsRyxNQUF3QnpCLEVBQ3hCa0gsTUFBd0IvRixFQUN4QnVCLE1BQTBCMUMsRUFBUyxFQUFHLEVBQUcsR0FDekMyQyxNQUF5QjNDLEVBQVMsRUFBRyxFQUFHLEdBQ3hDbkksTUFBdUJtSSxFQUN2QmxJLE1BQXVCa0ksRUFDdkJqSSxNQUF1QmlJLE1DNzJCS21CLE1BQ0lwRSxFQ0p0QyxNQUFNbUMsTUFBNEJsSyxFQUVsQyxRQUVDdkQsWUFBYXdCLEVBQU0sSUFBSStCLEVBQVM0UyxFQUFBQSxFQUFZQSxFQUFBQSxHQUFjMVUsRUFBTSxJQUFJOEIsbUJBRTlEakMsSUFBTUUsT0FDTkQsSUFBTUUsR0FJWnpCLElBQUt3QixFQUFLQyxlQUVKSCxJQUFJc0osS0FBTXBKLFFBQ1ZELElBQUlxSixLQUFNbkosR0FFUnRCLEtBSVJILGNBQWVvVyxRQUVUQyxvQkFFSzFTLEVBQUksRUFBRzJTLEVBQUtGLEVBQU94VSxPQUFRK0IsRUFBSTJTLEVBQUkzUyxTQUV2QzRTLGNBQWVILEVBQVF6UyxXQUl0QnhELEtBSVJILHFCQUFzQmlELEVBQVF1VCxTQUV2QkMsRUFBV2hKLEVBQVE3QyxLQUFNNEwsR0FBT3ZWLGVBQWdCLGdCQUNqREssSUFBSXNKLEtBQU0zSCxHQUFTdUssSUFBS2lKLFFBQ3hCbFYsSUFBSXFKLEtBQU0zSCxHQUFTeVQsSUFBS0QsR0FFdEJ0VyxLQUlSSCxnQkFFUSxJQUFJRyxLQUFLSyxhQUFjb0ssS0FBTXpLLE1BSXJDSCxLQUFNMlcsZUFFQXJWLElBQUlzSixLQUFNK0wsRUFBSXJWLFVBQ2RDLElBQUlxSixLQUFNK0wsRUFBSXBWLEtBRVpwQixLQUlSSCx3QkFFTXNCLElBQUlyQixFQUFJRSxLQUFLbUIsSUFBSXBCLEVBQUlpVyxFQUFBQSxPQUNyQjVVLElBQUl0QixFQUFJRSxLQUFLb0IsSUFBSXJCLE9BRWZDLEtBSVJILGlCQUlVRyxLQUFLb0IsSUFBSXRCLEVBQUlFLEtBQUttQixJQUFJckIsR0FBU0UsS0FBS29CLElBQUlyQixFQUFJQyxLQUFLbUIsSUFBSXBCLEVBSS9ERixVQUFXb1IsZUFFTSxJQUFYQSxZQUVJelEsS0FBTSxxREFDTCxJQUFJNEMsR0FJUHBELEtBQUt5VyxVQUFZeEYsRUFBT2xMLElBQUssRUFBRyxHQUFNa0wsRUFBT3hRLFdBQVlULEtBQUttQixJQUFLbkIsS0FBS29CLEtBQU1OLGVBQWdCLElBSXRHakIsUUFBU29SLGVBRVEsSUFBWEEsWUFFSXpRLEtBQU0sbURBQ0wsSUFBSTRDLEdBSVBwRCxLQUFLeVcsVUFBWXhGLEVBQU9sTCxJQUFLLEVBQUcsR0FBTWtMLEVBQU9wUSxXQUFZYixLQUFLb0IsSUFBS3BCLEtBQUttQixLQUloRnRCLGNBQWU2VyxlQUVUdlYsSUFBSUEsSUFBS3VWLFFBQ1R0VixJQUFJQSxJQUFLc1YsR0FFUDFXLEtBSVJILGVBQWdCOFcsZUFFVnhWLElBQUlrTSxJQUFLc0osUUFDVHZWLElBQUltVixJQUFLSSxHQUVQM1csS0FJUkgsZUFBZ0JLLGVBRVZpQixJQUFJeVYsV0FBYTFXLFFBQ2pCa0IsSUFBSXdWLFVBQVcxVyxHQUViRixLQUlSSCxjQUFlNlcsWUFFUEEsRUFBTTVXLEVBQUlFLEtBQUttQixJQUFJckIsR0FBSzRXLEVBQU01VyxFQUFJRSxLQUFLb0IsSUFBSXRCLEdBQ2pENFcsRUFBTTNXLEVBQUlDLEtBQUttQixJQUFJcEIsR0FBSzJXLEVBQU0zVyxFQUFJQyxLQUFLb0IsSUFBSXJCLEdBSTdDRixZQUFhMlcsVUFFTHhXLEtBQUttQixJQUFJckIsR0FBSzBXLEVBQUlyVixJQUFJckIsR0FBSzBXLEVBQUlwVixJQUFJdEIsR0FBS0UsS0FBS29CLElBQUl0QixHQUN2REUsS0FBS21CLElBQUlwQixHQUFLeVcsRUFBSXJWLElBQUlwQixHQUFLeVcsRUFBSXBWLElBQUlyQixHQUFLQyxLQUFLb0IsSUFBSXJCLEVBSW5ERixhQUFjNlcsRUFBT3pGLGVBS0osSUFBWEEsWUFFSXpRLEtBQU0sd0RBQ0wsSUFBSTRDLEdBSVA2TixFQUFPbEwsT0FDTGpHLEVBQUlFLEtBQUttQixJQUFJckIsU0FBYXNCLElBQUl0QixFQUFJRSxLQUFLbUIsSUFBSXJCLE1BQzNDQyxFQUFJQyxLQUFLbUIsSUFBSXBCLFNBQWFxQixJQUFJckIsRUFBSUMsS0FBS21CLElBQUlwQixJQUtyREYsY0FBZTJXLFlBSVBBLEVBQUlwVixJQUFJdEIsRUFBSUUsS0FBS21CLElBQUlyQixHQUFLMFcsRUFBSXJWLElBQUlyQixFQUFJRSxLQUFLb0IsSUFBSXRCLEdBQ3JEMFcsRUFBSXBWLElBQUlyQixFQUFJQyxLQUFLbUIsSUFBSXBCLEdBQUt5VyxFQUFJclYsSUFBSXBCLEVBQUlDLEtBQUtvQixJQUFJckIsR0FJakRGLFdBQVk2VyxFQUFPekYsZUFFRixJQUFYQSxZQUVJelEsS0FBTSxzREFDTCxJQUFJNEMsR0FJUDZOLEVBQU94RyxLQUFNaU0sR0FBUUcsTUFBTzdXLEtBQUttQixJQUFLbkIsS0FBS29CLEtBSW5EdkIsZ0JBQWlCNlcsVUFFS3BKLEVBQVE3QyxLQUFNaU0sR0FBUUcsTUFBTzdXLEtBQUttQixJQUFLbkIsS0FBS29CLEtBQzdDaU0sSUFBS3FKLEdBQVFqVixTQUlsQzVCLFVBQVcyVyxlQUVMclYsSUFBSUMsSUFBS29WLEVBQUlyVixVQUNiQyxJQUFJRCxJQUFLcVYsRUFBSXBWLEtBRVhwQixLQUlSSCxNQUFPMlcsZUFFRHJWLElBQUlBLElBQUtxVixFQUFJclYsVUFDYkMsSUFBSUEsSUFBS29WLEVBQUlwVixLQUVYcEIsS0FJUkgsVUFBVzZDLGVBRUx2QixJQUFJb1YsSUFBSzdULFFBQ1R0QixJQUFJbVYsSUFBSzdULEdBRVAxQyxLQUlSSCxPQUFRMlcsVUFFQUEsRUFBSXJWLElBQUkyVixPQUFROVcsS0FBS21CLE1BQVNxVixFQUFJcFYsSUFBSTBWLE9BQVE5VyxLQUFLb0IsTUFNNUQyVixFQUFLMVQsVUFBVTJULFFBQVMsRUNsT3hCLFFBRUNuWCxZQUFhd0IsRUFBTSxJQUFJK00sRUFBUzRILEVBQUFBLEVBQVlBLEVBQUFBLEVBQVlBLEVBQUFBLEdBQWMxVSxFQUFNLElBQUk4TSx3QkFFMUVqTixJQUFNRSxPQUNORCxJQUFNRSxHQUlaekIsSUFBS3dCLEVBQUtDLGVBRUpILElBQUlzSixLQUFNcEosUUFDVkQsSUFBSXFKLEtBQU1uSixHQUVSdEIsS0FJUkgsYUFBYzRDLE9BRVR3VSxFQUFPakIsRUFBQUEsRUFDUGtCLEVBQU9sQixFQUFBQSxFQUNQbUIsRUFBT25CLEVBQUFBLEVBRVBvQixPQUNBQyxPQUNBQyxlQUVNOVQsRUFBSSxFQUFHdUcsRUFBSXRILEVBQU1oQixPQUFRK0IsRUFBSXVHLEVBQUd2RyxHQUFLLEVBQUksT0FFNUMxRCxFQUFJMkMsRUFBT2UsR0FDWHpELEVBQUkwQyxFQUFPZSxFQUFJLEdBQ2Z3QyxFQUFJdkQsRUFBT2UsRUFBSSxHQUVoQjFELEVBQUltWCxNQUFjblgsR0FDbEJDLEVBQUltWCxNQUFjblgsR0FDbEJpRyxFQUFJbVIsTUFBY25SLEdBRWxCbEcsRUFBSXNYLE1BQWN0WCxHQUNsQkMsRUFBSXNYLE1BQWN0WCxHQUNsQmlHLEVBQUlzUixNQUFjdFIsZ0JBSW5CN0UsSUFBSTRFLElBQUtrUixFQUFNQyxFQUFNQyxRQUNyQi9WLElBQUkyRSxJQUFLcVIsRUFBTUMsRUFBTUMsR0FFbkJ0WCxLQUlSSCx1QkFBd0I4QyxPQUVuQnNVLEVBQU9qQixFQUFBQSxFQUNQa0IsRUFBT2xCLEVBQUFBLEVBQ1BtQixFQUFPbkIsRUFBQUEsRUFFUG9CLE9BQ0FDLE9BQ0FDLGVBRU05VCxFQUFJLEVBQUd1RyxFQUFJcEgsRUFBVTRVLE1BQU8vVCxFQUFJdUcsRUFBR3ZHLElBQU8sT0FFN0MxRCxFQUFJNkMsRUFBVUMsS0FBTVksR0FDcEJ6RCxFQUFJNEMsRUFBVUUsS0FBTVcsR0FDcEJ3QyxFQUFJckQsRUFBVXFJLEtBQU14SCxHQUVyQjFELEVBQUltWCxNQUFjblgsR0FDbEJDLEVBQUltWCxNQUFjblgsR0FDbEJpRyxFQUFJbVIsTUFBY25SLEdBRWxCbEcsRUFBSXNYLE1BQWN0WCxHQUNsQkMsRUFBSXNYLE1BQWN0WCxHQUNsQmlHLEVBQUlzUixNQUFjdFIsZ0JBSW5CN0UsSUFBSTRFLElBQUtrUixFQUFNQyxFQUFNQyxRQUNyQi9WLElBQUkyRSxJQUFLcVIsRUFBTUMsRUFBTUMsR0FFbkJ0WCxLQUlSSCxjQUFlb1csUUFFVEMsb0JBRUsxUyxFQUFJLEVBQUcyUyxFQUFLRixFQUFPeFUsT0FBUStCLEVBQUkyUyxFQUFJM1MsU0FFdkM0UyxjQUFlSCxFQUFRelMsV0FJdEJ4RCxLQUlSSCxxQkFBc0JpRCxFQUFRdVQsU0FFdkJDLEVBQVdoSixFQUFRN0MsS0FBTTRMLEdBQU92VixlQUFnQixnQkFFakRLLElBQUlzSixLQUFNM0gsR0FBU3VLLElBQUtpSixRQUN4QmxWLElBQUlxSixLQUFNM0gsR0FBU3lULElBQUtELEdBRXRCdFcsS0FJUkgsY0FBZTJYLGVBRVR0QixZQUVFbFcsS0FBS3lYLGVBQWdCRCxHQUk3QjNYLGdCQUVRLElBQUlHLEtBQUtLLGFBQWNvSyxLQUFNekssTUFJckNILEtBQU0yVyxlQUVBclYsSUFBSXNKLEtBQU0rTCxFQUFJclYsVUFDZEMsSUFBSXFKLEtBQU0rTCxFQUFJcFYsS0FFWnBCLEtBSVJILHdCQUVNc0IsSUFBSXJCLEVBQUlFLEtBQUttQixJQUFJcEIsRUFBSUMsS0FBS21CLElBQUk2RSxFQUFJZ1EsRUFBQUEsT0FDbEM1VSxJQUFJdEIsRUFBSUUsS0FBS29CLElBQUlyQixFQUFJQyxLQUFLb0IsSUFBSTRFLE9BRTVCaEcsS0FJUkgsaUJBSVVHLEtBQUtvQixJQUFJdEIsRUFBSUUsS0FBS21CLElBQUlyQixHQUFTRSxLQUFLb0IsSUFBSXJCLEVBQUlDLEtBQUttQixJQUFJcEIsR0FBU0MsS0FBS29CLElBQUk0RSxFQUFJaEcsS0FBS21CLElBQUk2RSxFQUk5Rm5HLFVBQVdvUixlQUVNLElBQVhBLFlBRUl6USxLQUFNLHFEQUNMLElBQUk0TixHQUlQcE8sS0FBS3lXLFVBQVl4RixFQUFPbEwsSUFBSyxFQUFHLEVBQUcsR0FBTWtMLEVBQU94USxXQUFZVCxLQUFLbUIsSUFBS25CLEtBQUtvQixLQUFNTixlQUFnQixJQUl6R2pCLFFBQVNvUixlQUVRLElBQVhBLFlBRUl6USxLQUFNLG1EQUNMLElBQUk0TixHQUlQcE8sS0FBS3lXLFVBQVl4RixFQUFPbEwsSUFBSyxFQUFHLEVBQUcsR0FBTWtMLEVBQU9wUSxXQUFZYixLQUFLb0IsSUFBS3BCLEtBQUttQixLQUluRnRCLGNBQWU2VyxlQUVUdlYsSUFBSUEsSUFBS3VWLFFBQ1R0VixJQUFJQSxJQUFLc1YsR0FFUDFXLEtBSVJILGVBQWdCOFcsZUFFVnhWLElBQUlrTSxJQUFLc0osUUFDVHZWLElBQUltVixJQUFLSSxHQUVQM1csS0FJUkgsZUFBZ0JLLGVBRVZpQixJQUFJeVYsV0FBYTFXLFFBQ2pCa0IsSUFBSXdWLFVBQVcxVyxHQUViRixLQUlSSCxlQUFnQjJYLEtBS1JFLG1CQUFtQixHQUFPLFNBRTNCQyxFQUFXSCxFQUFPRyxjQUVOLElBQWJBLElBRTBCLE9BQXpCQSxFQUFTQyxlQUVKQyx1QkFJTHBOLEtBQU1rTixFQUFTQyxlQUNmdkwsYUFBY21MLEVBQU8vSyxrQkFFckJxTCxNQUFPQyxVQUlQQyxFQUFXUixFQUFPUSxpQkFFZHhVLEVBQUksRUFBR3VHLEVBQUlpTyxFQUFTdlcsT0FBUStCLEVBQUl1RyxFQUFHdkcsU0FFdkNpVSxlQUFnQk8sRUFBVXhVLFdBSXpCeEQsS0FJUkgsY0FBZTZXLFlBRVBBLEVBQU01VyxFQUFJRSxLQUFLbUIsSUFBSXJCLEdBQUs0VyxFQUFNNVcsRUFBSUUsS0FBS29CLElBQUl0QixHQUNqRDRXLEVBQU0zVyxFQUFJQyxLQUFLbUIsSUFBSXBCLEdBQUsyVyxFQUFNM1csRUFBSUMsS0FBS29CLElBQUlyQixHQUMzQzJXLEVBQU0xUSxFQUFJaEcsS0FBS21CLElBQUk2RSxHQUFLMFEsRUFBTTFRLEVBQUloRyxLQUFLb0IsSUFBSTRFLEdBSTdDbkcsWUFBYTJXLFVBRUx4VyxLQUFLbUIsSUFBSXJCLEdBQUswVyxFQUFJclYsSUFBSXJCLEdBQUswVyxFQUFJcFYsSUFBSXRCLEdBQUtFLEtBQUtvQixJQUFJdEIsR0FDdkRFLEtBQUttQixJQUFJcEIsR0FBS3lXLEVBQUlyVixJQUFJcEIsR0FBS3lXLEVBQUlwVixJQUFJckIsR0FBS0MsS0FBS29CLElBQUlyQixHQUNqREMsS0FBS21CLElBQUk2RSxHQUFLd1EsRUFBSXJWLElBQUk2RSxHQUFLd1EsRUFBSXBWLElBQUk0RSxHQUFLaEcsS0FBS29CLElBQUk0RSxFQUluRG5HLGFBQWM2VyxFQUFPekYsZUFLSixJQUFYQSxZQUVJelEsS0FBTSx3REFDTCxJQUFJNE4sR0FJUDZDLEVBQU9sTCxPQUNMakcsRUFBSUUsS0FBS21CLElBQUlyQixTQUFhc0IsSUFBSXRCLEVBQUlFLEtBQUttQixJQUFJckIsTUFDM0NDLEVBQUlDLEtBQUttQixJQUFJcEIsU0FBYXFCLElBQUlyQixFQUFJQyxLQUFLbUIsSUFBSXBCLE1BQzNDaUcsRUFBSWhHLEtBQUttQixJQUFJNkUsU0FBYTVFLElBQUk0RSxFQUFJaEcsS0FBS21CLElBQUk2RSxJQUtyRG5HLGNBQWUyVyxZQUdQQSxFQUFJcFYsSUFBSXRCLEVBQUlFLEtBQUttQixJQUFJckIsR0FBSzBXLEVBQUlyVixJQUFJckIsRUFBSUUsS0FBS29CLElBQUl0QixHQUNyRDBXLEVBQUlwVixJQUFJckIsRUFBSUMsS0FBS21CLElBQUlwQixHQUFLeVcsRUFBSXJWLElBQUlwQixFQUFJQyxLQUFLb0IsSUFBSXJCLEdBQy9DeVcsRUFBSXBWLElBQUk0RSxFQUFJaEcsS0FBS21CLElBQUk2RSxHQUFLd1EsRUFBSXJWLElBQUk2RSxFQUFJaEcsS0FBS29CLElBQUk0RSxHQUlqRG5HLGlCQUFrQm9ZLGVBR1pDLFdBQVlELEVBQU9uVixPQUFRd0ssR0FHekJBLEVBQVFwTCxrQkFBbUIrVixFQUFPblYsU0FBY21WLEVBQU90SyxPQUFTc0ssRUFBT3RLLE9BSS9FOU4sZ0JBQWlCc1ksT0FLWjlXLEVBQUtDLFNBRUo2VyxFQUFNNUssT0FBT3pOLEVBQUksS0FFZnFZLEVBQU01SyxPQUFPek4sRUFBSUUsS0FBS21CLElBQUlyQixJQUMxQnFZLEVBQU01SyxPQUFPek4sRUFBSUUsS0FBS29CLElBQUl0QixNQUkxQnFZLEVBQU01SyxPQUFPek4sRUFBSUUsS0FBS29CLElBQUl0QixJQUMxQnFZLEVBQU01SyxPQUFPek4sRUFBSUUsS0FBS21CLElBQUlyQixHQUk1QnFZLEVBQU01SyxPQUFPeE4sRUFBSSxNQUVkb1ksRUFBTTVLLE9BQU94TixFQUFJQyxLQUFLbUIsSUFBSXBCLEtBQzFCb1ksRUFBTTVLLE9BQU94TixFQUFJQyxLQUFLb0IsSUFBSXJCLE9BSTFCb1ksRUFBTTVLLE9BQU94TixFQUFJQyxLQUFLb0IsSUFBSXJCLEtBQzFCb1ksRUFBTTVLLE9BQU94TixFQUFJQyxLQUFLbUIsSUFBSXBCLEdBSTdCb1ksRUFBTTVLLE9BQU92SCxFQUFJLE1BRWRtUyxFQUFNNUssT0FBT3ZILEVBQUloRyxLQUFLbUIsSUFBSTZFLEtBQzFCbVMsRUFBTTVLLE9BQU92SCxFQUFJaEcsS0FBS29CLElBQUk0RSxPQUkxQm1TLEVBQU01SyxPQUFPdkgsRUFBSWhHLEtBQUtvQixJQUFJNEUsS0FDMUJtUyxFQUFNNUssT0FBT3ZILEVBQUloRyxLQUFLbUIsSUFBSTZFLEdBSXpCM0UsSUFBUzhXLEVBQU1DLFVBQVk5VyxJQUFTNlcsRUFBTUMsU0FJcER2WSxtQkFBb0J3WSxNQUVkclksS0FBS3lXLGtCQUVGLE9BS0g2QixVQUFXQyxLQUNQMVgsV0FBWWIsS0FBS29CLElBQUttWCxLQUczQjFYLFdBQVl3WCxFQUFTRyxFQUFHRCxLQUN4QjFYLFdBQVl3WCxFQUFTSSxFQUFHRixLQUN4QjFYLFdBQVl3WCxFQUFTSyxFQUFHSCxLQUd4QjFYLFdBQVlnUCxFQUFLOEksS0FDakI5WCxXQUFZK1gsRUFBSy9JLEtBQ2pCaFAsV0FBWThYLEVBQUtDLE9BS2pCQyxFQUFPLENBQ1YsR0FBS0MsRUFBSTlTLEVBQUc4UyxFQUFJL1ksRUFBRyxHQUFLZ1osRUFBSS9TLEVBQUcrUyxFQUFJaFosRUFBRyxHQUFLaVosRUFBSWhULEVBQUdnVCxFQUFJalosRUFDdEQrWSxFQUFJOVMsRUFBRyxHQUFLOFMsRUFBSWhaLEVBQUdpWixFQUFJL1MsRUFBRyxHQUFLK1MsRUFBSWpaLEVBQUdrWixFQUFJaFQsRUFBRyxHQUFLZ1QsRUFBSWxaLEdBQ3BEZ1osRUFBSS9ZLEVBQUcrWSxFQUFJaFosRUFBRyxHQUFLaVosRUFBSWhaLEVBQUdnWixFQUFJalosRUFBRyxHQUFLa1osRUFBSWpaLEVBQUdpWixFQUFJbFosRUFBRyxZQUVoRG1aLEVBQVlKLEVBQU1GLEVBQUs5SSxFQUFLK0ksRUFBS00sT0FPakMsQ0FBRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsS0FDMUJELEVBQVlKLEVBQU1GLEVBQUs5SSxFQUFLK0ksRUFBS00sT0FReEJ4TSxhQUFjb00sRUFBS0MsS0FDNUIsQ0FBRUksRUFBZ0JyWixFQUFHcVosRUFBZ0JwWixFQUFHb1osRUFBZ0JuVCxHQUV4RGlULEVBQVlKLEVBQU1GLEVBQUs5SSxFQUFLK0ksRUFBS00sS0FJekNyWixXQUFZNlcsRUFBT3pGLGVBRUYsSUFBWEEsWUFFSXpRLEtBQU0sc0RBQ0wsSUFBSTROLEdBSVA2QyxFQUFPeEcsS0FBTWlNLEdBQVFHLE1BQU83VyxLQUFLbUIsSUFBS25CLEtBQUtvQixLQUluRHZCLGdCQUFpQjZXLFVBRUtwSixFQUFRN0MsS0FBTWlNLEdBQVFHLE1BQU83VyxLQUFLbUIsSUFBS25CLEtBQUtvQixLQUU3Q2lNLElBQUtxSixHQUFRalYsU0FJbEM1QixrQkFBbUJvUixlQUVGLElBQVhBLFdBRUkzRixNQUFPLGdFQUtYZ04sVUFBV3JILEVBQU9uTyxVQUVoQjZLLE9BQTRDLEdBQW5DM04sS0FBS29aLFFBQVM5TCxHQUFVN0wsU0FFakN3UCxFQUlScFIsVUFBVzJXLGVBRUxyVixJQUFJQyxJQUFLb1YsRUFBSXJWLFVBQ2JDLElBQUlELElBQUtxVixFQUFJcFYsS0FHYnBCLEtBQUt5VyxnQkFBaUJQLFlBRXBCbFcsS0FJUkgsTUFBTzJXLGVBRURyVixJQUFJQSxJQUFLcVYsRUFBSXJWLFVBQ2JDLElBQUlBLElBQUtvVixFQUFJcFYsS0FFWHBCLEtBSVJILGFBQWNpVyxVQUdSOVYsS0FBS3lXLGNBR0QsR0FBSTFRLElBQUsvRixLQUFLbUIsSUFBSXJCLEVBQUdFLEtBQUttQixJQUFJcEIsRUFBR0MsS0FBS21CLElBQUk2RSxHQUFJcUcsYUFBY3lKLEtBQzVELEdBQUkvUCxJQUFLL0YsS0FBS21CLElBQUlyQixFQUFHRSxLQUFLbUIsSUFBSXBCLEVBQUdDLEtBQUtvQixJQUFJNEUsR0FBSXFHLGFBQWN5SixLQUM1RCxHQUFJL1AsSUFBSy9GLEtBQUttQixJQUFJckIsRUFBR0UsS0FBS29CLElBQUlyQixFQUFHQyxLQUFLbUIsSUFBSTZFLEdBQUlxRyxhQUFjeUosS0FDNUQsR0FBSS9QLElBQUsvRixLQUFLbUIsSUFBSXJCLEVBQUdFLEtBQUtvQixJQUFJckIsRUFBR0MsS0FBS29CLElBQUk0RSxHQUFJcUcsYUFBY3lKLEtBQzVELEdBQUkvUCxJQUFLL0YsS0FBS29CLElBQUl0QixFQUFHRSxLQUFLbUIsSUFBSXBCLEVBQUdDLEtBQUttQixJQUFJNkUsR0FBSXFHLGFBQWN5SixLQUM1RCxHQUFJL1AsSUFBSy9GLEtBQUtvQixJQUFJdEIsRUFBR0UsS0FBS21CLElBQUlwQixFQUFHQyxLQUFLb0IsSUFBSTRFLEdBQUlxRyxhQUFjeUosS0FDNUQsR0FBSS9QLElBQUsvRixLQUFLb0IsSUFBSXRCLEVBQUdFLEtBQUtvQixJQUFJckIsRUFBR0MsS0FBS21CLElBQUk2RSxHQUFJcUcsYUFBY3lKLEtBQzVELEdBQUkvUCxJQUFLL0YsS0FBS29CLElBQUl0QixFQUFHRSxLQUFLb0IsSUFBSXJCLEVBQUdDLEtBQUtvQixJQUFJNEUsR0FBSXFHLGFBQWN5SixRQUVoRXVELGNBQWVDLElBWlN0WixLQWtCOUJILFVBQVc2QyxlQUVMdkIsSUFBSW9WLElBQUs3VCxRQUNUdEIsSUFBSW1WLElBQUs3VCxHQUVQMUMsS0FJUkgsT0FBUTJXLFVBRUFBLEVBQUlyVixJQUFJMlYsT0FBUTlXLEtBQUttQixNQUFTcVYsRUFBSXBWLElBQUkwVixPQUFROVcsS0FBS29CLE1BTTVEbVksRUFBS2xXLFVBQVVtVyxRQUFTLEVBRXhCLE1BQU1GLEVBQVUsS0FDR2xMLE1BQ0FBLE1BQ0FBLE1BQ0FBLE1BQ0FBLE1BQ0FBLE1BQ0FBLE1BQ0FBLEdBR2JkLE1BQTRCYyxFQUU1QjJKLE1BQXlCd0IsRUFJekJaLE1BQXdCdkssRUFDeEJ5QixNQUF3QnpCLEVBQ3hCd0ssTUFBd0J4SyxFQUl4QjBLLE1BQXdCMUssRUFDeEIySyxNQUF3QjNLLEVBQ3hCNEssTUFBd0I1SyxFQUV4Qm1LLE1BQTRCbkssRUFDNUI4SyxNQUE2QjlLLEVBQzdCK0ssTUFBb0MvSyxFQUNwQ3FMLE1BQThCckwsRUFFcEMsV0FBcUJ5SyxFQUFNYSxFQUFJblgsRUFBSUMsRUFBSW1YLFdBRTVCblcsRUFBSSxFQUFHb1csRUFBSWYsRUFBS3BYLE9BQVMsRUFBRytCLEdBQUtvVyxFQUFHcFcsR0FBSyxFQUFJLEdBRTVDMkssVUFBVzBLLEVBQU1yVixTQUVyQitGLEVBQUlvUSxFQUFRN1osRUFBSW9CLEtBQUthLElBQUswWCxFQUFVM1osR0FBTTZaLEVBQVE1WixFQUFJbUIsS0FBS2EsSUFBSzBYLEVBQVUxWixHQUFNNFosRUFBUTNULEVBQUk5RSxLQUFLYSxJQUFLMFgsRUFBVXpULEdBRWhINlQsRUFBS0gsRUFBR2xRLElBQUtpUSxHQUNiSyxFQUFLdlgsRUFBR2lILElBQUtpUSxHQUNiTSxFQUFLdlgsRUFBR2dILElBQUtpUSxNQUVkdlksS0FBS0UsS0FBT0YsS0FBS0UsSUFBS3lZLEVBQUlDLEVBQUlDLEdBQU03WSxLQUFLQyxJQUFLMFksRUFBSUMsRUFBSUMsSUFBU3hRLFVBSTVELFVBTUYsTUNsaUIwQjZFLE1BQ0dBLE1BQ0hBLE1BQ0ZBLE1BRUNBLE1BQ0FBLE1BQ0NBLE1DTkFBLE1BQ0VBLEVDSnBDLFNBRUN2TyxtQkFFTW9CLFNBQVcsQ0FFZixFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsR0FJRnFOLFVBQVU3TSxPQUFTLFdBRWY2SixNQUFPLGtGQU1qQnpMLElBQUswTyxFQUFLQyxFQUFLQyxFQUFLRSxFQUFLQyxFQUFLQyxFQUFLRSxFQUFLQyxFQUFLQyxTQUV0Q3ZHLEVBQUsxSSxLQUFLaUIsa0JBRVosR0FBTXNOLElBQVMsR0FBTUksSUFBUyxHQUFNSSxJQUNwQyxHQUFNUCxJQUFTLEdBQU1JLElBQVMsR0FBTUksSUFDcEMsR0FBTVAsSUFBUyxHQUFNSSxJQUFTLEdBQU1JLEVBRWpDalAsS0FJUkgsdUJBRU1rRyxJQUVKLEVBQUcsRUFBRyxFQUNOLEVBQUcsRUFBRyxFQUNOLEVBQUcsRUFBRyxHQUlBL0YsS0FJUkgsS0FBTWtCLFNBRUMySCxFQUFLMUksS0FBS2lCLFNBQ1Z1TyxFQUFLek8sRUFBRUUsa0JBRVQsR0FBTXVPLEVBQUksS0FBUyxHQUFNQSxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUNoRCxHQUFNQSxFQUFJLEtBQVMsR0FBTUEsRUFBSSxLQUFTLEdBQU1BLEVBQUksS0FDaEQsR0FBTUEsRUFBSSxLQUFTLEdBQU1BLEVBQUksS0FBUyxHQUFNQSxFQUFJLEdBRTdDeFAsS0FJUkgsYUFBYzRQLEVBQU9DLEVBQU9DLFlBRXJCcUsscUJBQXNCaGEsS0FBTSxLQUM1QmdhLHFCQUFzQmhhLEtBQU0sS0FDNUJnYSxxQkFBc0JoYSxLQUFNLEdBRTNCQSxLQUlSSCxlQUFnQmtCLFNBRVR5TyxFQUFLek8sRUFBRUUscUJBRVI4RSxJQUVKeUosRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksR0FDdEJBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQ3RCQSxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxLQUloQnhQLEtBSVJILFNBQVVrQixVQUVGZixLQUFLbVIsaUJBQWtCblIsS0FBTWUsR0FJckNsQixZQUFha0IsVUFFTGYsS0FBS21SLGlCQUFrQnBRLEVBQUdmLE1BSWxDSCxpQkFBa0JjLEVBQUdDLFNBRWRxUCxFQUFLdFAsRUFBRU0sU0FDUGtQLEVBQUt2UCxFQUFFSyxTQUNQeUgsRUFBSzFJLEtBQUtpQixTQUVWbVEsRUFBTW5CLEVBQUksR0FBS29CLEVBQU1wQixFQUFJLEdBQUtxQixFQUFNckIsRUFBSSxHQUN4Q3VCLEVBQU12QixFQUFJLEdBQUt3QixFQUFNeEIsRUFBSSxHQUFLeUIsRUFBTXpCLEVBQUksR0FDeEMyQixFQUFNM0IsRUFBSSxHQUFLNEIsRUFBTTVCLEVBQUksR0FBSzZCLEVBQU03QixFQUFJLEdBRXhDbUMsRUFBTWpDLEVBQUksR0FBS2tDLEVBQU1sQyxFQUFJLEdBQUttQyxFQUFNbkMsRUFBSSxHQUN4Q3FDLEVBQU1yQyxFQUFJLEdBQUtzQyxFQUFNdEMsRUFBSSxHQUFLdUMsRUFBTXZDLEVBQUksR0FDeEN5QyxFQUFNekMsRUFBSSxHQUFLMEMsRUFBTTFDLEVBQUksR0FBSzJDLEVBQU0zQyxFQUFJLFlBRTFDLEdBQU1pQixFQUFNZ0IsRUFBTWYsRUFBTW1CLEVBQU1sQixFQUFNc0IsSUFDcEMsR0FBTXhCLEVBQU1pQixFQUFNaEIsRUFBTW9CLEVBQU1uQixFQUFNdUIsSUFDcEMsR0FBTXpCLEVBQU1rQixFQUFNakIsRUFBTXFCLEVBQU1wQixFQUFNd0IsSUFFcEMsR0FBTXRCLEVBQU1ZLEVBQU1YLEVBQU1lLEVBQU1kLEVBQU1rQixJQUNwQyxHQUFNcEIsRUFBTWEsRUFBTVosRUFBTWdCLEVBQU1mLEVBQU1tQixJQUNwQyxHQUFNckIsRUFBTWMsRUFBTWIsRUFBTWlCLEVBQU1oQixFQUFNb0IsSUFFcEMsR0FBTWxCLEVBQU1RLEVBQU1QLEVBQU1XLEVBQU1WLEVBQU1jLElBQ3BDLEdBQU1oQixFQUFNUyxFQUFNUixFQUFNWSxFQUFNWCxFQUFNZSxJQUNwQyxHQUFNakIsRUFBTVUsRUFBTVQsRUFBTWEsRUFBTVosRUFBTWdCLEVBRWpDOVMsS0FJUkgsZUFBZ0JhLFNBRVRnSSxFQUFLMUksS0FBS2lCLGtCQUVaLElBQU9QLElBQU8sSUFBT0EsSUFBTyxJQUFPQSxJQUNuQyxJQUFPQSxJQUFPLElBQU9BLElBQU8sSUFBT0EsSUFDbkMsSUFBT0EsSUFBTyxJQUFPQSxJQUFPLElBQU9BLEVBRWhDVixLQUlSSCxvQkFFTzZJLEVBQUsxSSxLQUFLaUIsU0FFVk4sRUFBSStILEVBQUksR0FBSzlILEVBQUk4SCxFQUFJLEdBQUsxRixFQUFJMEYsRUFBSSxHQUN2Q3NILEVBQUl0SCxFQUFJLEdBQUsxSCxFQUFJMEgsRUFBSSxHQUFLYixFQUFJYSxFQUFJLEdBQ2xDdVIsRUFBSXZSLEVBQUksR0FBS21OLEVBQUluTixFQUFJLEdBQUtsRixFQUFJa0YsRUFBSSxVQUU1Qi9ILEVBQUlLLEVBQUl3QyxFQUFJN0MsRUFBSWtILEVBQUlnTyxFQUFJalYsRUFBSW9QLEVBQUl4TSxFQUFJNUMsRUFBSWlILEVBQUlvUyxFQUFJalgsRUFBSWdOLEVBQUk2RixFQUFJN1MsRUFBSWhDLEVBQUlpWixFQUk1RXBhLGVBRU82SSxFQUFLMUksS0FBS2lCLFNBRWZzTixFQUFNN0YsRUFBSSxHQUFLaUcsRUFBTWpHLEVBQUksR0FBS3FHLEVBQU1yRyxFQUFJLEdBQ3hDOEYsRUFBTTlGLEVBQUksR0FBS2tHLEVBQU1sRyxFQUFJLEdBQUtzRyxFQUFNdEcsRUFBSSxHQUN4QytGLEVBQU0vRixFQUFJLEdBQUttRyxFQUFNbkcsRUFBSSxHQUFLdUcsRUFBTXZHLEVBQUksR0FFeEMySyxFQUFNcEUsRUFBTUwsRUFBTUksRUFBTUgsRUFDeEJ5RSxFQUFNdEUsRUFBTVAsRUFBTVEsRUFBTVQsRUFDeEIrRSxFQUFNMUUsRUFBTUwsRUFBTUksRUFBTUgsRUFFeEJnRixFQUFNbEYsRUFBTThFLEVBQU0xRSxFQUFNMkUsRUFBTXZFLEVBQU13RSxLQUV4QixJQUFSRSxTQUFtQnpULEtBQUsrRixJQUFLLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxTQUVwRDJOLEVBQVMsRUFBSUQsV0FFZixHQUFNSixFQUFNSyxJQUNaLE1BQWM3RSxFQUFNSSxFQUFNTixHQUFRK0UsSUFDbEMsTUFBYy9FLEVBQU1JLEVBQU1ILEdBQVE4RSxJQUVsQyxHQUFNSixFQUFNSSxJQUNaLE1BQWNuRixFQUFNUSxFQUFNTixHQUFRaUYsSUFDbEMsTUFBY2xGLEVBQU1RLEVBQU1ULEdBQVFtRixJQUVsQyxHQUFNSCxFQUFNRyxJQUNaLE1BQWNqRixFQUFNSSxFQUFNTixHQUFRbUYsSUFDbEMsTUFBY25GLEVBQU1JLEVBQU1ILEdBQVFrRixFQUUvQjFULEtBSVJILGdCQUVLdVQsUUFDRXJTLEVBQUlmLEtBQUtpQixrQkFFVEYsRUFBRyxLQUFRLEdBQU1BLEVBQUcsS0FBUSxHQUFNcVMsSUFDbENyUyxFQUFHLEtBQVEsR0FBTUEsRUFBRyxLQUFRLEdBQU1xUyxJQUNsQ3JTLEVBQUcsS0FBUSxHQUFNQSxFQUFHLEtBQVEsR0FBTXFTLEVBRWpDcFQsS0FJUkgsZ0JBQWlCcWEsVUFFVGxhLEtBQUttYSxlQUFnQkQsR0FBVUUsU0FBU0MsWUFJaER4YSxtQkFBb0IwSixTQUVieEksRUFBSWYsS0FBS2lCLGtCQUVaLEdBQU1GLEVBQUcsS0FDVCxHQUFNQSxFQUFHLEtBQ1QsR0FBTUEsRUFBRyxLQUNULEdBQU1BLEVBQUcsS0FDVCxHQUFNQSxFQUFHLEtBQ1QsR0FBTUEsRUFBRyxLQUNULEdBQU1BLEVBQUcsS0FDVCxHQUFNQSxFQUFHLEtBQ1QsR0FBTUEsRUFBRyxHQUVMZixLQUlSSCxlQUFnQmlVLEVBQUlDLEVBQUloRyxFQUFJRSxFQUFJcU0sRUFBVUMsRUFBSUMsU0FFdkN4WCxFQUFJOUIsS0FBSytCLElBQUtxWCxHQUNkNVosRUFBSVEsS0FBS2dDLElBQUtvWCxlQUVmdlUsSUFDSmdJLEVBQUsvSyxFQUFHK0ssRUFBS3JOLEdBQUtxTixLQUFXd00sRUFBSzdaLEVBQUk4WixHQUFPRCxFQUFLekcsR0FDaEQ3RixFQUFLdk4sRUFBR3VOLEVBQUtqTCxHQUFLaUwsSUFBU3ZOLEVBQUk2WixFQUFLdlgsRUFBSXdYLEdBQU9BLEVBQUt6RyxFQUN0RCxFQUFHLEVBQUcsR0FHQS9ULEtBSVJILE1BQU9rTyxFQUFJRSxTQUVKdkYsRUFBSzFJLEtBQUtpQixrQkFFWixJQUFPOE0sSUFBUSxJQUFPQSxJQUFRLElBQU9BLElBQ3JDLElBQU9FLElBQVEsSUFBT0EsSUFBUSxJQUFPQSxFQUVsQ2pPLEtBSVJILE9BQVEyTixTQUVEeEssRUFBSTlCLEtBQUsrQixJQUFLdUssR0FDZDlNLEVBQUlRLEtBQUtnQyxJQUFLc0ssR0FFZDlFLEVBQUsxSSxLQUFLaUIsU0FFVm1RLEVBQU0xSSxFQUFJLEdBQUsySSxFQUFNM0ksRUFBSSxHQUFLNEksRUFBTTVJLEVBQUksR0FDeEM4SSxFQUFNOUksRUFBSSxHQUFLK0ksRUFBTS9JLEVBQUksR0FBS2dKLEVBQU1oSixFQUFJLFlBRTFDLEdBQU0xRixFQUFJb08sRUFBTTFRLEVBQUk4USxJQUNwQixHQUFNeE8sRUFBSXFPLEVBQU0zUSxFQUFJK1EsSUFDcEIsR0FBTXpPLEVBQUlzTyxFQUFNNVEsRUFBSWdSLElBRXBCLElBQVFoUixFQUFJMFEsRUFBTXBPLEVBQUl3TyxJQUN0QixJQUFROVEsRUFBSTJRLEVBQU1yTyxFQUFJeU8sSUFDdEIsSUFBUS9RLEVBQUk0USxFQUFNdE8sRUFBSTBPLEVBRW5CMVIsS0FJUkgsVUFBV2lVLEVBQUlDLFNBRVJyTCxFQUFLMUksS0FBS2lCLGtCQUVaLElBQU82UyxFQUFLcEwsRUFBSSxLQUFTLElBQU9vTCxFQUFLcEwsRUFBSSxLQUFTLElBQU9vTCxFQUFLcEwsRUFBSSxLQUNsRSxJQUFPcUwsRUFBS3JMLEVBQUksS0FBUyxJQUFPcUwsRUFBS3JMLEVBQUksS0FBUyxJQUFPcUwsRUFBS3JMLEVBQUksR0FFL0QxSSxLQUlSSCxPQUFRaVcsU0FFRHBOLEVBQUsxSSxLQUFLaUIsU0FDVnVPLEVBQUtzRyxFQUFPN1UsaUJBRVJ1QyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsT0FFbEJrRixFQUFJbEYsS0FBUWdNLEVBQUloTSxXQUFhLFVBSTVCLEVBSVIzRCxVQUFXNEMsRUFBT0MsRUFBUyxXQUVoQmMsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLFNBRWxCdkMsU0FBVXVDLEdBQU1mLEVBQU9lLEVBQUlkLFVBSTFCMUMsS0FJUkgsUUFBUzRDLEVBQVEsR0FBSUMsRUFBUyxTQUV2QmdHLEVBQUsxSSxLQUFLaUIsa0JBRVR5QixHQUFXZ0csRUFBSSxLQUNmaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUNuQmhHLEVBQVMsR0FBTWdHLEVBQUksS0FFbkJoRyxFQUFTLEdBQU1nRyxFQUFJLEtBQ25CaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUNuQmhHLEVBQVMsR0FBTWdHLEVBQUksS0FFbkJoRyxFQUFTLEdBQU1nRyxFQUFJLEtBQ25CaEcsRUFBUyxHQUFNZ0csRUFBSSxLQUNuQmhHLEVBQVMsR0FBTWdHLEVBQUksR0FFbkJqRyxFQUlSNUMsZ0JBRVEsSUFBSUcsS0FBS0ssYUFBYzhOLFVBQVduTyxLQUFLaUIsV0FNaER3WixHQUFRcFgsVUFBVXFYLFdBQVksTUM3VUt0TSxNQUNBQSxNQUNLcU0sR0NzRXBCRSxPQUFPQyxPQUFPLElBQUl4WCxFQUFRLEVBQUUsSUFDNUJ1WCxPQUFPQyxPQUFPLElBQUl4WCxFQUFRLEVBQUUsSUFDM0J1WCxPQUFPQyxPQUFPLElBQUl4TSxFQUFRLEVBQUUsRUFBRSxJQUM5QnVNLE9BQU9DLE9BQU8sSUFBSXhNLEVBQVEsRUFBRSxFQUFFLElBQzlCdU0sT0FBT0MsT0FBTyxJQUFJeE0sRUFBUSxFQUFFLEVBQUUsSUFDOUJ1TSxPQUFPQyxPQUFPLElBQUl4TSxFQUFRLEVBQUUsRUFBRSxJQUM5QnVNLE9BQU9DLE9BQU8sSUFBSXhNLEVBQVEsRUFBRSxFQUFFLElBQ3pCdU0sT0FBT0MsT0FBTyxJQUFJelAsSUFFbkIsQ0FDckIwUCxNQUFPRixPQUFPQyxPQUFPLElBQUl4TSxFQUFRLEVBQUcsRUFBRyxJQUN2QzBNLEdBQUlILE9BQU9DLE9BQU8sSUFBSXhNLEVBQVEsRUFBRyxFQUFHLElBQ3BDMk0sS0FBTUosT0FBT0MsT0FBTyxJQUFJeE0sRUFBUSxFQUFHLEVBQUcsSUFDdEM0TSxLQUFNTCxPQUFPQyxPQUFPLElBQUl4TSxLQUFZLEVBQUcsSUFDdkM2TSxLQUFNTixPQUFPQyxPQUFPLElBQUl4TSxFQUFRLEtBQU8sSUFDdkM4TSxJQUFLUCxPQUFPQyxPQUFPLElBQUl4TSxFQUFRLEVBQUcsU0E4SXBCLElBQUlBLGNBZ0VaK00sRUFBaUIsRUFBVmphLEtBQUtlLEdBQ1ptWixFQUFRLElBQUloTixFQUFRLEVBQUUsRUFBRSxHQUN4QmlOLEVBQVEsSUFBSWxRLEVBQ1ptUSxFQUFRLElBQUluUSxFQUNab1EsRUFBWSxJQUFJbk4sRUFDaEJvTixFQUFNLElBQUlyUSxTQUNULFNBQTBCc1EsRUFBVyxFQUFHQyxFQUFXLE9BQ2xEQyxRQUF1QnhZLFNBQVcsSUFBT2dZLEVBQU9NLEVBQ2hERyxFQUFpQjFhLEtBQUtpQyxTQUFXZ1ksRUFDakNVLEVBQWlCM2EsS0FBS2lDLFNBQVdqQyxLQUFLZSxHQUFLeVosV0FDckMzVixJQUFJLEVBQUUsRUFBRSxHQUFHK1YsZUFBZVYsRUFBT1EsS0FDckNsUSxpQkFBaUIwUCxFQUFPTyxLQUN4QmpRLGlCQUFpQjZQLEVBQVdNLEdBQzNCTCxFQUFJeFIsb0JBQW9Cc1IsRUFBT0Qsb0JBeUJwQ1UsRUFBTSxJQUFJM04sU0FDVCxTQUFrQzROLEVBQWdCQyxFQUFtQlQsU0FDbEVVLEVBQVVILEVBQUloVyxJQUFJaVcsRUFBSWxjLEVBQUdrYyxFQUFJamMsRUFBR2ljLEVBQUloVyxHQUNwQ21XLEVBQVVGLEVBQVV6UyxJQUFJMFMsR0FFeEJFLEVBQWFMLEVBQUl0UixLQUFLd1IsR0FBV25iLGVBQWVxYixHQUNoRGQsRUFBUUcsRUFBSXpWLElBQUlxVyxFQUFXdGMsRUFBR3NjLEVBQVdyYyxFQUFHcWMsRUFBV3BXLEVBQUdnVyxFQUFJemIsR0FBRzhCLG1CQUNuRThaLEVBQVUsTUFFSnJjLEdBQUt1YixFQUFNdmIsSUFDWEMsR0FBS3NiLEVBQU10YixJQUNYaUcsR0FBS3FWLEVBQU1yVixJQUNYekYsR0FBSzhhLEVBQU05YSxHQUVkOGEsT0NzUFksSUFBSXRFLEVBQ0osSUFBSUEsRUFDSCxJQUFJM1QsRUFDSixJQUFJQSxFQ3ZOQSxJQUFJZ0wsRUFDSixJQUFJQSxFQThDSixJQUFJQSxFQUNQLElBQUlBLEVBQ04sSUFBSUEsRUFDRyxJQUFJQSxFQUNOLElBQUlBLEVDamJwQyxJQUNJaU8sR0FBVyxTQUFVQyxVQUNkLFNBQVUxYyxVQUNOLEVBQUkwYyxFQUFPLEVBQUkxYyxLQUcxQjJjLEdBQVcsU0FBVUQsVUFDZCxTQUFVMWMsVUFDTkEsR0FBSyxHQUFNMGMsRUFBTyxFQUFJMWMsR0FBSyxLQUFTMGMsRUFBTyxLQUFTMWMsS0FBTyxJQUd0RTRjLEdBQXVCSCxHQUN2QkksR0FBdUJGLEdBQ3ZCRyxHQUFlLFNBQVVDLFVBQ2xCLFNBQVUvYyxVQUNOc0IsS0FBSzhELElBQUlwRixFQUFHK2MsS0FHdkJDLEdBQWUsU0FBVUQsVUFDbEIsU0FBVS9jLFVBQ05BLEVBQUlBLE1BQWMsR0FBS0EsRUFBSStjLEtBR3RDRSxHQUF5QixTQUFVRixPQUMvQkcsRUFBYUYsR0FBYUQsVUFDdkIsU0FBVS9jLGNBQ0EsR0FBSyxFQUFJLEdBQU1rZCxFQUFXbGQsR0FBSyxNQUFXc0IsS0FBSzhELElBQUksU0FBYyxPQU1sRitYLE1BQW1DLEdBQ25DQyxNQUFnQ0QsSUFDaENFLE1BQWtDRixJQUNsQ0csR0FBUyxTQUFVdGQsVUFDWixFQUFJc0IsS0FBS2dDLElBQUloQyxLQUFLdUksS0FBSzdKLEtBRTlCdWQsTUFBZ0NELElBQ2hDRSxNQUFrQ0QsSUFDbENFLE1BeEM2QixPQXlDN0JDLE1BQWdDRCxJQUNoQ0UsTUFBa0NGLElBQ2xDRyxNQTNDNkIsT0FrRDdCQyxHQUFZLFNBQVU3ZCxPQUNsQm1hLEVBQUtuYSxFQUFJQSxTQUNOQSxFQVJrQixtQkFRVyxPQUFTbWEsRUFBS25hLEVBUHhCLGtCQU9zRCxNQUFRbWEsRUFBSyxJQUFNbmEsRUFBSSxJQUFNQSxFQU5wRixHQUNwQixtQkFLMEltYSxFQUoxSSxrQkFJb0puYSxFQUhwSixrQkFHNkosS0FBT0EsRUFBSUEsRUFBSSxNQUFRQSxFQUFJLE9BYzdMOGQsR0FBNkMsb0JBQWpCQyxhQUM1Qm5GLEdBQUksU0FBVXBVLEVBQUl6RCxVQUNYLEVBQU0sRUFBTUEsRUFBSyxFQUFNeUQsR0FFOUJxVSxHQUFJLFNBQVVyVSxFQUFJekQsVUFDWCxFQUFNQSxFQUFLLEVBQU15RCxHQUV4QnNVLEdBQUksU0FBVXRVLFVBQ1AsRUFBTUEsR0FFYndaLEdBQVcsU0FBVTlaLEVBQUdNLEVBQUl6RCxVQUNyQixFQUFNNlgsR0FBRXBVLEVBQUl6RCxHQUFNbUQsRUFBSUEsRUFBSSxFQUFNMlUsR0FBRXJVLEVBQUl6RCxHQUFNbUQsRUFBSTRVLEdBQUV0VSxJQUV6RHlaLEdBQWEsU0FBVS9aLEVBQUdNLEVBQUl6RCxlQUNuQnlELEVBQUl6RCxHQUFNbUQsRUFBSTJVLEdBQUVyVSxFQUFJekQsSUFBT21ELEVBQUk0VSxHQUFFdFUsSUFBT04sd01BbkQxQyxTQUFVbEUsVUFDWkEsNklBd0JJLFNBQVVBLFVBQ2QsRUFBTTZkLEdBQVUsRUFBTTdkLGdCQUVmLFNBQVVBLFVBQ2pCQSxFQUFJLEdBQU0sTUFBYTZkLEdBQVUsRUFBVSxFQUFKN2QsSUFBWSxHQUFNNmQsR0FBYyxFQUFKN2QsRUFBVSxHQUFPLGdCQXdCL0YsU0FBcUJrZSxFQUFLQyxFQUFLQyxFQUFLQyxPQUM1QkMsRUFBZVIsR0FBcUIsSUFBSUMsYUFuQnRCLElBbUIwRCxJQUFJUSxNQW5COUQsSUFzRGxCQyxFQUFXLFNBQVVDLFdBSWpCQyxFQUNBQyxFQUNBQyxFQUxBQyxFQUFnQixFQUNoQkMsRUFBZ0IsRUFDSEMsS0FJVkQsR0FBZ0NSLEVBQWFRLElBQWtCTCxJQUFNSyxLQTVEM0QsWUErRGZBLE9BQ1dSLEVBQWFRLE9BQWdDQSxFQUFnQixHQUFLUixFQUFhUSxPQUU3RWQsS0FESGEsRUFqRUssR0FpRVdILEVBQ09SLEVBQUtFLEtBdEV6QixLQXNDUSxTQUFVSyxFQUFJTyxXQUNqQ3BiLEVBQUksRUFDSnFiLEVBQWUsRUFFWnJiLEVBM0NTLElBMkNnQkEsRUFBRyxJQUVWLE9BRE5vYSxHQUFTZ0IsRUFBU2QsRUFBS0UsV0FFM0JZLE1BRUFmLEdBQVdlLEVBQVNkLEVBQUtFLEdBQU9LLEdBQ3JCUSxVQUVuQkQsRUFzQklFLENBQXFCVCxFQUFJRSxHQUNSLElBQWpCQyxFQUNBRCxFQW5ETyxTQUFVRixFQUFJVSxFQUFJQyxPQUVoQ0MsRUFDQUMsRUFGQTFiLEVBQUksUUFLT3FhLEtBREFrQixLQUFXQSxHQUFNLEVBQ0lqQixFQUFLRSxHQUFPSyxHQUM3QixJQUNOYSxJQUVBQSxTQUVKaGUsS0FBS2EsSUFBSWtkLEdBbENFLFFBa0NxQ3piLEVBakNoQyxXQWtDbEIwYixFQXdDSUMsQ0FBZ0JkLEVBQUlJLEVBQWVBLEVBeEU3QixZQWdERSxtQkFDVmpiLEVBQUksRUFBR0EsRUFsREUsS0FrRHlCQSxJQUMxQkEsR0FBS3FhLEdBbERMLEdBa0RnQnJhLEVBQXdCc2EsRUFBS0UsT0EwQm5ELFNBQVVLLFVBRWpCUCxJQUFRQyxHQUFPQyxJQUFRQyxFQUNUSSxFQUNBLElBQVBBLEVBQ08sRUFDQSxJQUFQQSxFQUNPLEVBRUFSLEdBQVdPLEVBQVNDLEdBQUtOLEVBQUtFLE9DeklqRCxZQUFrQm5lLFVBQ0gsaUJBQU5BLEVBRVQsWUFBcUJBLFVBQ25CQSxJQUE2QyxJQUF4Q0EsRUFBRU8sWUFBWWdELFVBQVUrYixjQUF3QixFQUV2RCxZQUFtQnRmLFVBQ2pCQSxHQUFrQixpQkFBTkEsSUFBeUQsSUFBdkM2YSxPQUFPMEUsZUFBZXZmLEdBQUd3ZixZQUFzQixFQUUvRSxZQUFvQnhmLFVBQ2xCQSxHQUFrQixpQkFBTkEsSUFBMEQsSUFBeEM2YSxPQUFPMEUsZUFBZXZmLEdBQUd5ZixhQUF1QixFQUVoRixZQUFnQnpmLFVBQ2RBLElBQXdDLElBQW5DQSxFQUFFTyxZQUFZZ0QsVUFBVW1jLFNBQW1CLEVBRWxELFlBQWtCMWYsVUFDSCxpQkFBTkEsRUFFVCxJQUFJMmYsR0FBVXRCLE1BQU1zQixRQUNwQixZQUFrQjNmLFVBQ2hCQSxJQUEwQyxJQUFyQ0EsRUFBRU8sWUFBWWdELFVBQVVxYyxXQUFxQixFQVFwRCxZQUFzQjVmLFVBQ3BCcWUsTUFBTXNCLFFBQVEzZixJQUFNNGYsR0FBUzVmLEdBRS9CLFlBQXVCQSxVQUNyQkEsR0FBS0EsRUFBRTZmLGdCQUFzRCxJQUFyQzdmLEVBQUVPLFlBQVlnRCxVQUFVcWMsV0FBcUIsRUFFdkUsWUFBd0I1ZixVQUN0QkEsR0FBS0EsRUFBRThmLGlCQUF1RCxJQUFyQzlmLEVBQUVPLFlBQVlnRCxVQUFVcWMsV0FBcUIsRUFFeEUsWUFBaUI1ZixVQUNmQSxJQUF5QyxJQUFwQ0EsRUFBRU8sWUFBWWdELFVBQVV3YyxVQUFvQixFQUVuRCxZQUFpQi9mLFVBQ2ZBLElBQXlDLElBQXBDQSxFQUFFTyxZQUFZZ0QsVUFBVXljLFVBQW9CLEVBRW5ELFlBQW1CaGdCLFVBQ0osa0JBQU5BLEVBRVQsWUFBcUJBLFVBQ25CQSxJQUE2QyxJQUF4Q0EsRUFBRU8sWUFBWWdELFVBQVUwYyxjQUF3QixFQUV2RCxZQUFnQmpnQixVQUNkQSxJQUF3QyxJQUFuQ0EsRUFBRU8sWUFBWWdELFVBQVUyYyxTQUFtQixFQUVsRCxZQUFvQmxnQixVQUNMLG1CQUFOQSxFQUVULFlBQWdCQSxVQUNkQSxhQUFhbWdCLEtBRWYsWUFBa0JuZ0IsVUFDaEJBLGFBQWFvZ0IsT0FFZixZQUFrQnBnQixnQkFDSyxpQkFBTkEsR0FBa0JBLEVBQUVPLGNBQWdCc2EsUUFBVzJFLEdBQVV4ZixJQUFPeWYsR0FBV3pmLElBRTVGLFlBQWdCQSxVQUNSLE9BQU5BLEVBRUYsWUFBcUJBLGVBQ2IsSUFBTkEsRUFFRixZQUF3QkEsVUFDdEJBLElBQTBCLElBQXJCQSxFQUFFcWdCLGlCQUE4RCxJQUFuQ3JnQixFQUFFTyxZQUFZZ0QsVUFBVStjLFNBQW1CLEVBRS9FLFlBQXFCdGdCLFVBQ25CQSxJQUF1QixJQUFsQkEsRUFBRXVnQixjQUEyRCxJQUFuQ3ZnQixFQUFFTyxZQUFZZ0QsVUFBVStjLFNBQW1CLEVBRTVFLFlBQTBCdGdCLFVBQ3hCQSxJQUE0QixJQUF2QkEsRUFBRXdnQixtQkFBZ0UsSUFBbkN4Z0IsRUFBRU8sWUFBWWdELFVBQVUrYyxTQUFtQixFQUVqRixZQUFxQnRnQixVQUNuQkEsSUFBdUIsSUFBbEJBLEVBQUV5Z0IsY0FBMkQsSUFBbkN6Z0IsRUFBRU8sWUFBWWdELFVBQVUrYyxTQUFtQixFQUU1RSxZQUEyQnRnQixVQUN6QkEsSUFBNkIsSUFBeEJBLEVBQUUwZ0Isb0JBQWlFLElBQW5DMWdCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFbEYsWUFBd0J0Z0IsVUFDdEJBLElBQTBCLElBQXJCQSxFQUFFMmdCLGlCQUE4RCxJQUFuQzNnQixFQUFFTyxZQUFZZ0QsVUFBVStjLFNBQW1CLEVBRS9FLFlBQWtDdGdCLFVBQ2hDQSxJQUFvQyxJQUEvQkEsRUFBRTRnQiwyQkFBd0UsSUFBbkM1Z0IsRUFBRU8sWUFBWWdELFVBQVUrYyxTQUFtQixFQUV6RixZQUF3QnRnQixVQUN0QkEsSUFBMEIsSUFBckJBLEVBQUU2Z0IsaUJBQThELElBQW5DN2dCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFL0UsWUFBcUJ0Z0IsVUFDbkJBLElBQXVCLElBQWxCQSxFQUFFOGdCLGNBQTJELElBQW5DOWdCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFNUUsWUFBZ0J0Z0IsVUFDZEEsSUFBa0IsSUFBYkEsRUFBRXNnQixTQUFzRCxJQUFuQ3RnQixFQUFFTyxZQUFZZ0QsVUFBVStjLFNBQW1CLEVBRXZFLFlBQXNCdGdCLFVBQ3BCQSxJQUF3QixJQUFuQkEsRUFBRStnQixlQUE0RCxJQUFuQy9nQixFQUFFTyxZQUFZZ0QsVUFBVStjLFNBQW1CLEVBRTdFLFlBQXdCdGdCLFVBQ3RCQSxJQUEwQixJQUFyQkEsRUFBRWdoQixpQkFBOEQsSUFBbkNoaEIsRUFBRU8sWUFBWWdELFVBQVUrYyxTQUFtQixFQUUvRSxZQUEyQnRnQixVQUN6QkEsSUFBNkIsSUFBeEJBLEVBQUVpaEIsb0JBQWlFLElBQW5DamhCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFbEYsWUFBcUJ0Z0IsVUFDbkJBLElBQXVCLElBQWxCQSxFQUFFa2hCLGNBQTJELElBQW5DbGhCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFNUUsWUFBc0J0Z0IsVUFDcEJBLElBQXdCLElBQW5CQSxFQUFFbWhCLGVBQTRELElBQW5DbmhCLEVBQUVPLFlBQVlnRCxVQUFVK2MsU0FBbUIsRUFFN0UsWUFBaUJ0Z0IsVUFDZkEsSUFBeUMsSUFBcENBLEVBQUVPLFlBQVlnRCxVQUFVNmQsVUFBb0IsRUFFbkQsWUFBZ0JwaEIsT0FDakJnRSxTQUFXaEUsU0FFTCxXQUFOZ0UsRUFFUSxPQUFOaEUsRUFBbUIsT0FDbkJxZSxNQUFNc0IsUUFBUTNmLEdBQVcsUUFDekJBLGFBQWFtZ0IsS0FBYSxPQUMxQm5nQixhQUFhb2dCLE9BQWUsU0FFNUJkLEdBQVl0ZixHQUFXLFlBQ3ZCd2YsR0FBVXhmLEdBQVcsVUFDckJ5ZixHQUFXemYsR0FBVyxXQUN0QjRmLEdBQVM1ZixHQUFXLFNBQ3BCMGYsR0FBTzFmLEdBQVcsT0FDbEJnZ0IsR0FBUWhnQixHQUFXLFFBQ25CK2YsR0FBUS9mLEdBQVcsUUFDbkJpZ0IsR0FBWWpnQixHQUFXLFlBQ3ZCc2dCLEdBQU90Z0IsR0FBV0EsRUFBRXFoQixLQUNwQkQsR0FBUXBoQixHQUFXLFFBQ25Ca2dCLEdBQU9sZ0IsR0FBVyxPQUNmLFNBR0MsYUFBTmdFLEVBQXlCLFdBQ3RCQSxFQy9JRixZQUFlaEUsT0FDaEJxaEIsU0FBY3JoQixLQUVMLFdBQVRxaEIsR0FBOEIsV0FBVEEsR0FBOEIsWUFBVEEsR0FBMUNBLE1BQWdFcmhCLFNBQzNEQSxLQUljLG1CQUFaQSxFQUFFc2hCLGFBQ0p0aEIsRUFBRXNoQixXQUlQakQsTUFBTXNCLFFBQVEzZixVQUNUQSxFQUFFdWhCLEtBQUksU0FBVXBoQixVQUNkbWhCLEdBQU1uaEIsU0FJYkgsYUFBYW1nQixZQUFhLElBQUlBLEtBQUtuZ0IsRUFBRXdoQixjQUNyQ2xDLEdBQVl0ZixVQUFXQSxLQUV2QkEsYUFBYW9nQixhQUFjLElBQUlxQixVQUFVLGdCQUFrQnpoQixVQUd4RDBoQixHQUFVMWhCLEVBQUdzaEIsSUFTZixZQUFtQjVKLEVBQVF0TSxPQUM1QnVXLEVBQVEsV0FFSEMsS0FBT2xLLEVBQ1YvWCxHQUFlK1gsRUFBUWtLLE9BQ25CQSxHQUFPeFcsRUFBU3NNLEVBQU9rSyxZQUkxQkQsRUFTRixZQUFnQjlnQixFQUFHQyxXQUNmK2dCLEtBQVEvZ0IsRUFDWG5CLEdBQWVtQixFQUFHK2dCLE9BQ2xCQSxHQUFRL2dCLEVBQUUrZ0IsV0FJVGhoQixFQStDRixZQUF5QkEsRUFBR0MsT0FDN0IrZ0IsRUFBTW5lLEVBQUdtRSxLQUVUd1csTUFBTXNCLFFBQVE5ZSxHQUFJLEtBQ2Z3ZCxNQUFNc0IsUUFBUTdlLFdBQ1YsS0FHTEQsRUFBRWMsU0FBV2IsRUFBRWEsZUFDVixNQUdKK0IsRUFBSSxFQUFHbUUsRUFBTWhILEVBQUVjLE9BQVErQixFQUFJbUUsRUFBS25FLFFBQzlCb2UsR0FBZ0JqaEIsRUFBRTZDLEdBQUk1QyxFQUFFNEMsWUFDcEIsVUFJSixLQUNlLG1CQUFON0MsU0FDVEEsSUFBTUMsS0FDSkQsYUFBYWdhLE9BQVEsSUFDMUJ3RCxNQUFNc0IsUUFBUTdlLG1CQUFxQitaLGdCQUM5QixNQUdKZ0gsS0FBUWhoQixZQUVHQyxLQUFPZ2hCLEdBQWdCamhCLEVBQUVnaEIsR0FBTy9nQixFQUFFK2dCLFlBQ3ZDLE1BSU5BLEtBQVEvZ0IsWUFFR0QsS0FBT2loQixHQUFnQmpoQixFQUFFZ2hCLEdBQU8vZ0IsRUFBRStnQixZQUN2QyxVQUlKLFNBRUFoaEIsSUFBTUMsRUFvSFYsWUFBd0I0VyxFQUFRcUssVUFDOUJySyxHQUFVbUQsT0FBT2xiLGVBQWVxaUIsS0FBS3RLLEVBQVFxSyxxUUNoUTlDLGdDQUdHLHVCQUlBLGlDQXlDSEUsRUFBUyxDQUNYLENBQUVDLEtBQU0sU0FBYUMsS0FBTSxTQUFVbmlCLFVBQXlCLGlCQUFOQSxJQUN4RCxDQUFFa2lCLEtBQU0sU0FBYUMsS0FBTSxTQUFVbmlCLFVBQXlCLGlCQUFOQSxJQUN4RCxDQUFFa2lCLEtBQU0sVUFBYUMsS0FBTSxTQUFVbmlCLFVBQXlCLGtCQUFOQSxJQUN4RCxDQUFFa2lCLEtBQU0sV0FBYUMsS0FBTSxTQUFVbmlCLFVBQXlCLG1CQUFOQSxJQUN4RCxDQUFFa2lCLEtBQU0sUUFBYUMsS0FBTTlELE1BQU1zQixTQUNqQyxDQUFFdUMsS0FBTSxPQUFhQyxLQUFNLFNBQVVuaUIsVUFBWUEsYUFBYW1nQixPQUM5RCxDQUFFK0IsS0FBTSxTQUFhQyxLQUFNLFNBQVVuaUIsVUFBWUEsYUFBYW9nQixTQUM5RCxDQUFFOEIsS0FBTSxTQUFhQyxLQUFNLFNBQVVuaUIsVUFDZixpQkFBTkEsR0FBd0IsT0FBTkEsR0FBY0EsRUFBRU8sY0FBZ0JzYSxTQUVsRSxDQUFFcUgsS0FBTSxPQUFhQyxLQUFNLFNBQVVuaUIsVUFBa0IsT0FBTkEsSUFDakQsQ0FBRWtpQixLQUFNLFlBQWFDLEtBQU0sU0FBVW5pQixlQUFrQixJQUFOQSxLQUcvQ29pQixFQUFVLENBQ1pGLEtBQU0sTUFDTkMsS0FBTUUsR0FJSkMsRUFBVSxHQUdWQyxFQUFlLEdBR2ZDLEVBQVEsQ0FDVkMsTUFBT1IsRUFDUFMsWUFBYUgsRUFDYkksT0FBUUwsY0FTZU0sT0FDbkJDLEVBQVFDLEVBQVlOLEVBQU1DLE9BQU8sU0FBVU0sVUFDdENBLEVBQU1iLE9BQVNVLFFBR3BCQyxTQUNLQSxLQUdRLFFBQWJELFNBQ0tSLE1BR0xZLEVBQU9GLEVBQVlOLEVBQU1DLE9BQU8sU0FBVU0sVUFDckNBLEVBQU1iLEtBQUtlLGdCQUFrQkwsRUFBU0ssdUJBR3pDLElBQUl4QixVQUFVLGlCQUFtQm1CLEVBQVcsT0FDckMsbUJBQXFCSSxFQUFLZCxLQUFPLEtBQVEsZ0JBUWpDYixVQUNqQkEsSUFBU2UsRUFDSixJQUdGSSxFQUFNQyxNQUFNUyxRQUFRN0IsY0FTUGxoQixPQUNoQjBpQixFQUFRQyxFQUFZTixFQUFNQyxPQUFPLFNBQVVNLFVBQ3RDQSxFQUFNWixLQUFLaGlCLFNBR2hCMGlCLFNBQ0tBLEVBQU1YLFdBR1QsSUFBSVQsVUFBVSxrQ0FBb0N0aEIsY0FrQjNDZ2pCLEVBQUlDLE9BQ1pELEVBQUdFLGlCQUNBLElBQUk1QixVQUFVLHFDQUlsQjZCLEtBQ3FCLGlCQUFkRixFQUF3QixHQUMzQkEsRUFBVUcsTUFBTSxhQUNiN2YsRUFBSSxFQUFHQSxFQUFJNGYsRUFBSTNoQixPQUFRK0IsTUFDMUJBLEdBQUs0ZixFQUFJNWYsR0FBRzhmLGtCQUdYbkYsTUFBTXNCLFFBQVF5RCxTQUlmLElBQUkzQixVQUFVLHVEQUhkMkIsT0FNSkssRUFBTUgsRUFBSUksS0FBSyxLQUdmQyxFQUFRUixFQUFHRSxXQUFXSSxNQUN0QkUsU0FDS0EsUUFLSCxJQUFJbEMsVUFBVSxzQ0FBeUNTLE1BQVEsV0FBYSxJQUFNb0IsRUFBSUksS0FBSyxNQUFRLGlCQVF6RnZqQixFQUFPa2hCLE9BQ25CdUMsRUFBT0MsRUFBYTFqQixNQUdwQmtoQixJQUFTdUMsU0FDSnpqQixVQUdBdUQsRUFBSSxFQUFHQSxFQUFJOGUsRUFBTUUsWUFBWS9nQixPQUFRK0IsSUFBSyxLQUM3Q29nQixFQUFhdEIsRUFBTUUsWUFBWWhmLE1BQy9Cb2dCLEVBQVdGLE9BQVNBLEdBQVFFLEVBQVdDLEtBQU8xQyxTQUN6Q3lDLEVBQVdFLFFBQVE3akIsU0FJeEIsSUFBSUcsTUFBTSx1QkFBeUJzakIsRUFBTyxPQUFTdkMsY0FRakM0QyxVQUNqQkEsRUFDRjFDLEtBQUksU0FBVTJDLE9BQ1RDLEVBQVlELEVBQU16QixNQUFNbEIsSUFBSTZDLGFBRWxCQyxVQUFZLE1BQVEsSUFBTUYsRUFBVVQsS0FBSyxRQUV4REEsS0FBSyxnQkFTU1EsRUFBT3hCLE9BQ3RCMkIsRUFBcUMsSUFBekJILEVBQU1oQixRQUFRLE9BTzFCaUIsR0FOVUUsRUFFUEgsRUFBTXZpQixPQUFTLEVBQ1p1aUIsRUFBTUksTUFBTSxHQUNaLE1BSEpKLEdBS2dCWCxNQUFNLEtBQUtoQyxJQUFJaUMsR0FDaENlLE9BQU9DLEdBQ1BELE9BQU9FLEdBRVJDLEVBQXNCQyxFQUFrQmpDLEVBQWF5QixHQUVyRFMsRUFBYVQsRUFBVTVDLEtBQUksU0FBVXFCLE9BQ25DdkIsRUFBT3dELEVBQWVqQyxVQUVuQixDQUNMVixLQUFNVSxFQUNOa0MsVUFBV0MsRUFBYzFELEdBQ3pCYyxLQUFNZCxFQUFLYyxLQUNYMkIsV0FBWSxLQUNaa0IsdUJBSUFDLEVBQW1CUCxFQUFvQm5ELEtBQUksU0FBVXVDLE9BQ25EekMsRUFBT3dELEVBQWVmLEVBQVdGLGFBRTlCLENBQ0wxQixLQUFNNEIsRUFBV0YsS0FDakJrQixVQUFXQyxFQUFjMUQsR0FDekJjLEtBQU1kLEVBQUtjLEtBQ1gyQixXQUFBQSxFQUNBa0IsZ0JBQWlCdEMsRUFBWVEsUUFBUVksY0FJbEMsQ0FDTHJCLE1BQU9tQyxFQUFXTSxPQUFPRCxHQUN6QlosVUFBQUEsY0FZcUJqQixFQUFXRCxFQUFJVCxPQUNsQ3VCLEVBQVMsVUFFWSxLQUFyQmIsRUFBVUksV0FDSEosRUFDSkcsTUFBTSxLQUNOaEMsSUFBSWlDLEdBQ0pqQyxLQUFJLFNBQVUyQyxFQUFPN2pCLEVBQU9zQyxPQUN2QndpQixFQUFjQyxFQUFXbEIsRUFBT3hCLE1BRWhDeUMsRUFBWWQsV0FBY2hrQixJQUFVc0MsRUFBTWhCLE9BQVMsUUFDL0MsSUFBSTBqQixZQUFZLDhCQUFnQ25CLEVBQVEsaURBSXpEaUIsTUFJWGxCLEVBQU9xQixLQUFLQyxHQUdQLEtBR0YsQ0FDTHRCLE9BQUFBLEVBQ0FkLEdBQUFBLGNBU2tCYyxPQUNoQkMsRUFBUXNCLEVBQUt2QixZQUNWQyxHQUFRQSxFQUFNRyxxQkFTQ0gsVUFDZkEsRUFBTXpCLE1BQU02QyxNQUFLLFNBQVVqRSxVQUNOLE1BQW5CQSxFQUFLeUMseUJBVUtJLE1BQ2RBLEdBQWdDLElBQXZCQSxFQUFNekIsTUFBTTlnQixXQUlNLElBQXZCdWlCLEVBQU16QixNQUFNOWdCLGNBQ1prakIsRUFBZVgsRUFBTXpCLE1BQU0sR0FBR1AsTUFBTUMsUUFFYixJQUF2QitCLEVBQU16QixNQUFNOWdCLE9BQWMsS0FDN0I4akIsRUFBUVosRUFBZVgsRUFBTXpCLE1BQU0sR0FBR1AsTUFBTUMsS0FDNUN1RCxFQUFRYixFQUFlWCxFQUFNekIsTUFBTSxHQUFHUCxNQUFNQyxZQUN6QyxTQUFZbmlCLFVBQ1Z5bEIsRUFBTXpsQixJQUFNMGxCLEVBQU0xbEIsUUFJdkIybEIsRUFBUXpCLEVBQU16QixNQUFNbEIsS0FBSSxTQUFVRixVQUM3QndELEVBQWV4RCxFQUFLYSxNQUFNQyxlQUU1QixTQUFZbmlCLFdBQ1IwRCxFQUFJLEVBQUdBLEVBQUlpaUIsRUFBTWhrQixPQUFRK0IsT0FDNUJpaUIsRUFBTWppQixHQUFHMUQsV0FDSixVQUdKLFVBdEJGcWlCLGFBZ0NXNEIsT0FDaEIwQixFQUFPRixFQUFPQyxLQUVkRSxFQUFhM0IsR0FBUyxLQUdwQjRCLEtBRElDLEVBQVE3QixHQUFRMUMsSUFBSXdFLElBQ1Bwa0IsT0FDakJxa0IsRUFBV0QsRUFBWVAsRUFBS3ZCLElBQzVCZ0MsRUFBZ0IsU0FBVUMsV0FDbkJ4aUIsRUFBSW1pQixFQUFVbmlCLEVBQUl3aUIsRUFBS3ZrQixPQUFRK0IsUUFDakNzaUIsRUFBU0UsRUFBS3hpQixZQUNWLFVBR0osVUFHRixTQUFrQndpQixXQUNkeGlCLEVBQUksRUFBR0EsRUFBSWlpQixFQUFNaGtCLE9BQVErQixRQUMzQmlpQixFQUFNamlCLEdBQUd3aUIsRUFBS3hpQixZQUNWLFNBR0p1aUIsRUFBY0MsSUFBVUEsRUFBS3ZrQixRQUFVa2tCLEVBQVcsVUFLckMsSUFBbEI1QixFQUFPdGlCLE9BQ0YsU0FBa0J1a0IsVUFDQSxJQUFoQkEsRUFBS3ZrQixRQUdXLElBQWxCc2lCLEVBQU90aUIsVUFDTm9rQixFQUFZOUIsRUFBTyxJQUNwQixTQUFrQmlDLFVBQ2hCVCxFQUFNUyxFQUFLLEtBQXVCLElBQWhCQSxFQUFLdmtCLFNBR1AsSUFBbEJzaUIsRUFBT3RpQixVQUNOb2tCLEVBQVk5QixFQUFPLE1BQ25COEIsRUFBWTlCLEVBQU8sSUFDcEIsU0FBa0JpQyxVQUNoQlQsRUFBTVMsRUFBSyxLQUFPUixFQUFNUSxFQUFLLEtBQXVCLElBQWhCQSxFQUFLdmtCLFlBSTFDc2lCLEVBQU8xQyxJQUFJd0UsR0FDWixTQUFrQkcsV0FDZHhpQixFQUFJLEVBQUdBLEVBQUlpaUIsRUFBTWhrQixPQUFRK0IsUUFDM0JpaUIsRUFBTWppQixHQUFHd2lCLEVBQUt4aUIsWUFDVixTQUdKd2lCLEVBQUt2a0IsU0FBV2drQixFQUFNaGtCLG9CQWNaeWhCLEVBQVcvaUIsVUFDM0JBLEVBQVEraUIsRUFBVWEsT0FBT3RpQixPQUMxQnloQixFQUFVYSxPQUFPNWpCLEdBQ2pCdWxCLEVBQWF4QyxFQUFVYSxRQUNuQnVCLEVBQUtwQyxFQUFVYSxRQUNmLGdCQVVtQmIsRUFBVy9pQixFQUFPOGxCLE9BQzNDakMsRUFBUWtDLEVBQWdCaEQsRUFBVy9pQixXQUMzQjZqQixFQUNOaUMsRUFDUWpDLEVBQU16QixNQUFNOEIsT0FBTzhCLEdBQ25CbkMsRUFBTXpCLE1BQ2QsSUFFT2xCLElBQUk2QyxjQVFFL0MsVUFDWkEsRUFBS2EsZ0JBUU9iLFVBQ1EsT0FBcEJBLEVBQUt5QyxpQkFBMkMsSUFBcEJ6QyxFQUFLeUMsc0JBVWJULEVBQVloakIsT0FDbkM4akIsRUFBWW1DLEVBQUtDLEVBQVFsRCxHQUFZLFNBQVVELFVBQzFDb0QsRUFBcUJwRCxFQUFXL2lCLEdBQU8sbUJBR3hDOGpCLEVBQVVqQixRQUFRLE9BQWlCLENBQUMsT0FBU2lCLGFBV2xDc0MsRUFBTVAsRUFBTTdDLE9BQzNCcUQsRUFBS0MsRUFLTHRtQixFQUpBdW1CLEVBQVFILEdBQVEsVUFHaEJJLEVBQXFCeEQsTUFFcEJoakIsRUFBUSxFQUFHQSxFQUFRNmxCLEVBQUt2a0IsT0FBUXRCLElBQVMsS0FDeEN5bUIsRUFBbUJELEVBQW1CdEMsUUFBTyxTQUFVbkIsT0FDckRqQixFQUFPNEQsRUFBWUssRUFBZ0JoRCxFQUFXL2lCLGNBQ2xDK2lCLEVBQVVhLE9BQU90aUIsUUFBVWlrQixFQUFheEMsRUFBVWEsVUFDOUQ5QixFQUFLK0QsRUFBSzdsQixVQUdnQixJQUE1QnltQixFQUFpQm5sQixjQUVSb2xCLEVBQW9CRixFQUFvQnhtQixJQUN0Q3NCLE9BQVMsRUFBRyxLQUNuQnFsQixFQUFhbkQsRUFBYXFDLEVBQUs3bEIsY0FFN0IsSUFBSW9oQixVQUFVLDJDQUE2Q21GLEVBQzdELGVBQWlCRCxFQUFTakQsS0FBSyxRQUMvQixhQUFlc0QsRUFBYSxZQUFjM21CLEVBQVEsTUFDbEQ0bUIsS0FBTyxDQUNUQyxTQUFVLFlBQ1YvRCxHQUFJeUQsRUFDSnZtQixNQUFBQSxFQUNBOG1CLE9BQVFILEVBQ1JMLFNBQUFBLEdBRUtELFVBSVlJLE9BS3JCTSxFQUFVUCxFQUFtQnRGLEtBQUksU0FBVTZCLFVBQ3RDd0MsRUFBYXhDLEVBQVVhLFFBQVUvTixFQUFBQSxFQUFXa04sRUFBVWEsT0FBT3RpQixhQUVsRXVrQixFQUFLdmtCLE9BQVNQLEtBQUtDLElBQUlnbUIsTUFBTSxLQUFNRCxZQUMxQkwsRUFBb0JGLEVBQW9CeG1CLE1BQzdDLElBQUlvaEIsVUFBVSxpQ0FBbUNtRixFQUNuRCxlQUFpQkQsRUFBU2pELEtBQUssUUFDL0IsWUFBY3dDLEVBQUt2a0IsT0FBUyxNQUM1QnNsQixLQUFPLENBQ1RDLFNBQVUsYUFDVi9ELEdBQUl5RCxFQUNKdm1CLE1BQU82bEIsRUFBS3ZrQixPQUNaZ2xCLFNBQUFBLEdBRUtELE1BSUxZLEVBQVlsbUIsS0FBS0UsSUFBSStsQixNQUFNLEtBQU1ELFVBQ2pDbEIsRUFBS3ZrQixPQUFTMmxCLE1BQ1YsSUFBSTdGLFVBQVUsa0NBQW9DbUYsRUFDcEQsZUFBaUJVLEVBQVksYUFBZXBCLEVBQUt2a0IsT0FBUyxNQUMxRHNsQixLQUFPLENBQ1RDLFNBQVUsY0FDVi9ELEdBQUl5RCxFQUNKdm1CLE1BQU82bEIsRUFBS3ZrQixPQUNaNGxCLGVBQWdCRCxHQUVYWixPQUdILElBQUlqRixVQUFVLHNCQUF3QnlFLEVBQUt4QyxLQUFLLE1BQ2xELDREQUE4RGtELEVBQVEsTUFDdEVLLEtBQU8sQ0FDVEMsU0FBVSxXQUNWQyxPQUFRakIsRUFBSzNFLElBQUlzQyxJQUVaNkMsY0FRb0J4QyxXQUN2QjNpQixFQUFNLElBRURtQyxFQUFJLEVBQUdBLEVBQUl3Z0IsRUFBTXpCLE1BQU05Z0IsT0FBUStCLElBQ2xDMmlCLEVBQVluQyxFQUFNekIsTUFBTS9lLFFBQ3BCdEMsS0FBS0MsSUFBSUUsRUFBSzJpQixFQUFNekIsTUFBTS9lLEdBQUdvaEIsbUJBSWhDdmpCLGFBUzBCMmlCLFdBQzdCM2lCLEVBQU0sSUFFRG1DLEVBQUksRUFBR0EsRUFBSXdnQixFQUFNekIsTUFBTTlnQixPQUFRK0IsSUFDakMyaUIsRUFBWW5DLEVBQU16QixNQUFNL2UsUUFDckJ0QyxLQUFLQyxJQUFJRSxFQUFLMmlCLEVBQU16QixNQUFNL2UsR0FBR3NoQix5QkFJaEN6akIsYUFXZWltQixFQUFRQyxPQUMxQnZrQixTQUlNLE1BRE5za0IsRUFBT25ELFVBQVlvRCxFQUFPcEQsWUFPcEIsTUFETnFELEVBQWVGLEdBQVVFLEVBQWVELEtBT2xDLE1BRE5FLEVBQW1CSCxHQUFVRyxFQUFtQkYsSUFWM0N2a0IsRUFnQkYwa0IsRUFBeUJKLEdBQVVJLEVBQXlCSCxjQVd6Q0ksRUFBWUMsT0FFbENwa0IsRUFDQVIsRUFGQTJFLEVBQU16RyxLQUFLQyxJQUFJd21CLEVBQVc1RCxPQUFPdGlCLE9BQVFtbUIsRUFBVzdELE9BQU90aUIsV0FNckQsTUFETmttQixFQUFXNUQsT0FBT3FCLEtBQUtvQyxHQUFrQkksRUFBVzdELE9BQU9xQixLQUFLb0MsV0FFM0R4a0IsTUFJSlEsRUFBSSxFQUFHQSxFQUFJbUUsRUFBS25FLE9BRVQsTUFETmdrQixFQUFlRyxFQUFXNUQsT0FBT3ZnQixJQUFNZ2tCLEVBQWVJLEVBQVc3RCxPQUFPdmdCLFlBRW5FUixNQUtOUSxFQUFJLEVBQUdBLEVBQUltRSxFQUFLbkUsT0FFVCxPQUROcWtCLEVBQWNGLEVBQVc1RCxPQUFPdmdCLEdBQUlva0IsRUFBVzdELE9BQU92Z0IsWUFFakRSLFNBS0oya0IsRUFBVzVELE9BQU90aUIsT0FBU21tQixFQUFXN0QsT0FBT3RpQixrQkFXM0IrZ0IsRUFBYXlCLE9BQ2xDNkQsRUFBVSxZQUVGQyxTQUFRLFNBQVVuRSxRQUN4QkssRUFBVWpCLFFBQVFZLEVBQVdGLFlBQzdCTyxFQUFVakIsUUFBUVksRUFBV0MsS0FDNUJpRSxFQUFRbEUsRUFBV0YsVUFDZEUsRUFBV0YsTUFBUUUsT0FJeEJqSixPQUFPcU4sS0FBS0YsR0FBU3pHLEtBQUksU0FBVXFDLFVBQ2pDb0UsRUFBUXBFLGlCQVllSyxFQUFRZCxPQUNwQ2dGLEVBQVloRixLQUlaYyxFQUFPcUIsS0FBS29DLEdBQWlCLEtBQzNCckQsRUFBWXVCLEVBQWEzQixHQUN6Qm1FLEVBQXNCbkUsRUFBTzFDLElBQUk4RyxLQUV6QixtQkFDTm5DLEVBQU8sR0FDUG9DLEVBQU9qRSxFQUFZN1YsVUFBVTdNLE9BQVMsRUFBSTZNLFVBQVU3TSxPQUMvQytCLEVBQUksRUFBR0EsRUFBSTRrQixFQUFNNWtCLE1BQ25CQSxHQUFLMGtCLEVBQW9CMWtCLEdBQUc4SyxVQUFVOUssV0FFekMyZ0IsTUFDR2lFLEdBQVE5WixVQUFVOFosR0FBTS9HLElBQUk2RyxFQUFvQkUsS0FHaERuRixFQUFHa0UsTUFBTW5uQixLQUFNZ21CLFNBSXRCcUMsRUFBZUosS0FDZnZDLEVBQWEzQixHQUFTLEtBQ3BCcmhCLEVBQVNxaEIsRUFBT3RpQixPQUFTLElBRWQsa0JBQ053bUIsRUFBVWQsTUFBTW5uQixLQUNuQm9rQixFQUFNOVYsVUFBVyxFQUFHNUwsR0FBUXNpQixPQUFPLENBQUNaLEVBQU05VixVQUFXNUwsZUFJdEQybEIsYUFTcUJyRSxPQUN4QnVCLEVBQU9DLEVBQU84QyxFQUFhQyxFQUMzQjlDLEVBQVEsR0FDUmpELEVBQWMsWUFFWkQsTUFBTXdGLFNBQVEsU0FBVTVHLEdBQ3hCQSxFQUFLeUMsZUFDRDRFLEtBQUs3RCxFQUFleEQsRUFBS3lDLFdBQVdGLE1BQU16QixRQUNwQ3VHLEtBQUtySCxFQUFLeUMsV0FBV0UsY0FLN0J0QixFQUFZL2dCLGFBQ2IsU0FDSSxTQUFvQmduQixVQUNsQkEsUUFHTixXQUNLaEQsRUFBTSxLQUNBakQsRUFBWSxHQUNuQixTQUFvQmlHLFVBQ3JCbEQsRUFBTWtELEdBQ0RILEVBQVlHLEdBRWRBLFFBR04sV0FDS2hELEVBQU0sS0FDTkEsRUFBTSxLQUNBakQsRUFBWSxLQUNaQSxFQUFZLEdBQ25CLFNBQW9CaUcsVUFDckJsRCxFQUFNa0QsR0FDREgsRUFBWUcsR0FFakJqRCxFQUFNaUQsR0FDREYsRUFBWUUsR0FFZEEsa0JBSUYsU0FBb0JBLFdBQ2hCamxCLEVBQUksRUFBR0EsRUFBSWdmLEVBQVkvZ0IsT0FBUStCLE9BQ2xDaWlCLEVBQU1qaUIsR0FBR2lsQixVQUNKakcsRUFBWWhmLEdBQUdpbEIsVUFHbkJBLGVBZ0JjdEYsT0FDdkJ1RixFQUFnQixZQUNUWCxTQUFRLFNBQVU3RSxHQUN0QkEsRUFBVWEsT0FBT3FCLEtBQUtvQyxNQUNidEUsRUFBVWEsUUFBUSxHQUFNZ0UsU0FBUSxTQUFVaEUsS0FDdEM0RSxFQUFnQjVFLElBQVdiLEVBQVVELFdBS2xEeUYsYUFxQlkzRSxFQUFRNkUsY0FDTEMsRUFBUTFvQixFQUFPb2lCLE1BQy9CcGlCLEVBQVEwb0IsRUFBT3BuQixPQUFRLEtBS3JCcW5CLEVBSkE5RSxFQUFRNkUsRUFBTzFvQixHQUNmNG9CLEVBQWdCSCxFQUNkNUUsRUFBTXpCLE1BQU04QixPQUFPOEIsR0FDbkJuQyxFQUFNekIsU0FHUnlCLEVBQU1HLFVBQVcsS0FHZk8sRUFBYXFFLEVBQWMxRSxPQUFPOEIsS0FDekJ6QixFQUFXampCLE9BQVNzbkIsRUFBY3RuQixPQUN6QyxDQUFDaWpCLEVBQVlxRSxHQUNiLENBQUNBLFdBS01BLEVBQWMxSCxLQUFJLFNBQVVGLFVBQ2hDLENBQUNBLGFBS0xrRixFQUFReUMsR0FBWSxTQUFVRSxVQUM1QkMsRUFBYUosRUFBUTFvQixFQUFRLEVBQUdvaUIsRUFBTXlDLE9BQU8sQ0FBQ2dFLGVBYWhELENBUGN6RyxFQUFNbEIsS0FBSSxTQUFVRixFQUFNeUQsVUFDdEMsQ0FDTHJDLE1BQU9wQixFQUNQZ0QsVUFBWVMsSUFBY2lFLEVBQU9wbkIsT0FBUyxHQUFNaWtCLEVBQWFtRCxlQVE5REksRUFBYWxGLEVBQVEsRUFBRyxlQVNINEQsRUFBWUMsV0FDcENzQixFQUFLaG9CLEtBQUtFLElBQUl1bUIsRUFBVzVELE9BQU90aUIsT0FBUW1tQixFQUFXN0QsT0FBT3RpQixRQUVyRCtCLEVBQUksRUFBR0EsRUFBSTBsQixFQUFJMWxCLFFBSWpCMmxCLEVBSGE3QyxFQUFxQnFCLEVBQVlua0IsR0FBRyxHQUNwQzhpQixFQUFxQnNCLEVBQVlwa0IsR0FBRyxZQUc3QyxNQUlQNGxCLEVBQU96QixFQUFXNUQsT0FBT3RpQixPQUN6QjRuQixFQUFPekIsRUFBVzdELE9BQU90aUIsT0FDekI2bkIsRUFBYTVELEVBQWFpQyxFQUFXNUQsUUFDckN3RixFQUFhN0QsRUFBYWtDLEVBQVc3RCxlQUVsQ3VGLEVBQ0RDLEVBQWNILElBQVNDLEVBQVNBLEdBQVFELEVBQ3hDRyxFQUFjSCxHQUFRQyxFQUFVRCxJQUFTQyxhQWFwQjlDLEVBQU1tQyxNQUNTLElBQXRDL04sT0FBT3FOLEtBQUtVLEdBQWVqbkIsYUFDdkIsSUFBSTBqQixZQUFZLDhCQUlwQnFFLEVBQW1CLFVBQ2hCeEIsS0FBS1UsR0FDUHJILEtBQUksU0FBVTZCLFVBQ051RyxFQUFldkcsRUFBV3dGLEVBQWN4RixHQUFZWixFQUFNRSxnQkFFbEU2QixPQUFPcUYsR0FDUDNCLFNBQVEsU0FBVTRCLE9BRWJDLEVBQXVCaEgsRUFBWTRHLEdBQWtCLFNBQVU5b0IsVUFDMURtcEIsRUFBcUJucEIsRUFBR2lwQixTQUU3QkMsUUFDSSxJQUFJckksVUFBVSwyQkFDaEJvSCxFQUFnQmlCLEVBQXFCN0YsUUFBVSxVQUMvQzRFLEVBQWdCZ0IsRUFBZ0I1RixRQUFVLFFBRy9CeUUsS0FBS21CLFdBSXhCeEcsRUFBYWtELEVBQVFtRCxHQUFrQixTQUFVRyxXQUN0Q0EsRUFBa0JHLEVBQVlILEVBQWdCNUYsUUFBUSxHQUFTLElBRTlEMUMsS0FBSSxTQUFVd0gsVUFDbkIsQ0FDTDlFLE9BQVE4RSxFQUNSNUYsR0FBSTBHLEVBQWdCMUcsVUFHdkJvQixPQUFPcUYsS0FFQ0ssS0FBS0MsT0FHWkMsRUFBTTlHLEVBQVcsSUFBTUEsRUFBVyxHQUFHWSxPQUFPdGlCLFFBQVUsSUFBTWlrQixFQUFhdkMsRUFBVyxHQUFHWSxRQUN2Rm1HLEVBQU0vRyxFQUFXLElBQU1BLEVBQVcsR0FBR1ksT0FBT3RpQixRQUFVLElBQU1pa0IsRUFBYXZDLEVBQVcsR0FBR1ksUUFDdkZvRyxFQUFNaEgsRUFBVyxJQUFNQSxFQUFXLEdBQUdZLE9BQU90aUIsUUFBVSxJQUFNaWtCLEVBQWF2QyxFQUFXLEdBQUdZLFFBQ3ZGcUcsRUFBTWpILEVBQVcsSUFBTUEsRUFBVyxHQUFHWSxPQUFPdGlCLFFBQVUsSUFBTWlrQixFQUFhdkMsRUFBVyxHQUFHWSxRQUN2RnNHLEVBQU1sSCxFQUFXLElBQU1BLEVBQVcsR0FBR1ksT0FBT3RpQixRQUFVLElBQU1pa0IsRUFBYXZDLEVBQVcsR0FBR1ksUUFDdkZ1RyxFQUFNbkgsRUFBVyxJQUFNQSxFQUFXLEdBQUdZLE9BQU90aUIsUUFBVSxJQUFNaWtCLEVBQWF2QyxFQUFXLEdBQUdZLFFBQ3ZGd0csRUFBUU4sR0FBT0MsR0FBT0MsR0FBT0MsR0FBT0MsR0FBT0MsRUFHM0M3RSxFQUFRdEMsRUFBVzlCLEtBQUksU0FBVTZCLFVBQzVCc0gsRUFBYXRILEVBQVVhLFdBRzVCMEcsRUFBU1IsRUFBTXBFLEVBQVkxQyxFQUFXLEdBQUdZLE9BQU8sSUFBTTJHLEVBQ3REQyxFQUFTVCxFQUFNckUsRUFBWTFDLEVBQVcsR0FBR1ksT0FBTyxJQUFNMkcsRUFDdERFLEVBQVNULEVBQU10RSxFQUFZMUMsRUFBVyxHQUFHWSxPQUFPLElBQU0yRyxFQUN0REcsRUFBU1QsRUFBTXZFLEVBQVkxQyxFQUFXLEdBQUdZLE9BQU8sSUFBTTJHLEVBQ3RESSxFQUFTVCxFQUFNeEUsRUFBWTFDLEVBQVcsR0FBR1ksT0FBTyxJQUFNMkcsRUFDdERLLEVBQVNULEVBQU16RSxFQUFZMUMsRUFBVyxHQUFHWSxPQUFPLElBQU0yRyxFQUV0RE0sRUFBU2YsRUFBTXBFLEVBQVkxQyxFQUFXLEdBQUdZLE9BQU8sSUFBTTJHLEVBQ3RETyxFQUFTZixFQUFNckUsRUFBWTFDLEVBQVcsR0FBR1ksT0FBTyxJQUFNMkcsRUFDdERRLEVBQVNmLEVBQU10RSxFQUFZMUMsRUFBVyxHQUFHWSxPQUFPLElBQU0yRyxFQUN0RFMsRUFBU2YsRUFBTXZFLEVBQVkxQyxFQUFXLEdBQUdZLE9BQU8sSUFBTTJHLEVBQ3REVSxFQUFTZixFQUFNeEUsRUFBWTFDLEVBQVcsR0FBR1ksT0FBTyxJQUFNMkcsRUFDdERXLEVBQVNmLEVBQU16RSxFQUFZMUMsRUFBVyxHQUFHWSxPQUFPLElBQU0yRyxFQUd0RFksRUFBTW5JLEVBQVc5QixLQUFJLFNBQVM2QixVQUN6QnFJLEVBQXlCckksRUFBVWEsT0FBUWIsRUFBVUQsT0FHMUR1SSxFQUFNdkIsRUFBTXFCLEVBQUksR0FBS0csRUFDckJDLEVBQU14QixFQUFNb0IsRUFBSSxHQUFLRyxFQUNyQkUsRUFBTXhCLEVBQU1tQixFQUFJLEdBQUtHLEVBQ3JCRyxFQUFNeEIsRUFBTWtCLEVBQUksR0FBS0csRUFDckJJLEVBQU14QixFQUFNaUIsRUFBSSxHQUFLRyxFQUNyQkssRUFBTXhCLEVBQU1nQixFQUFJLEdBQUtHLEVBRXJCTSxFQUFPOUIsRUFBTTlHLEVBQVcsR0FBR1ksT0FBT3RpQixVQUNsQzJuQixFQUFPYyxFQUFNL0csRUFBVyxHQUFHWSxPQUFPdGlCLFVBQ2xDNG5CLEVBQU9jLEVBQU1oSCxFQUFXLEdBQUdZLE9BQU90aUIsVUFDbEN1cUIsRUFBTzVCLEVBQU1qSCxFQUFXLEdBQUdZLE9BQU90aUIsVUFDbEN3cUIsRUFBTzVCLEVBQU1sSCxFQUFXLEdBQUdZLE9BQU90aUIsVUFDbEN5cUIsRUFBTzVCLEVBQU1uSCxFQUFXLEdBQUdZLE9BQU90aUIsVUFHbEMwcUIsR0FBUzVCLEVBQVEsRUFBSSxFQUNyQjZCLEdBQU9qSixFQUFXMWhCLE9BQ2xCNHFCLEdBQVUsbUJBR0g3b0IsRUFBSTJvQixHQUFRM29CLEVBQUk0b0IsR0FBTTVvQixPQUN6QmlpQixFQUFNamlCLEdBQUc4SyxrQkFDSmdkLEVBQUk5bkIsR0FBRzJqQixNQUFNbm5CLEtBQU1zTyxpQkFJeEJnZSxFQUFZL0YsRUFBTWpZLFVBQVc2VSxJQUtqQ0YsR0FBSyxXQUFZc0osRUFBTUMsVUFHckJsZSxVQUFVN00sU0FBV3NxQixHQUFRdEIsRUFBTzhCLElBQVN2QixFQUFPd0IsR0FBZ0JoQixFQUFJckUsTUFBTXNGLEVBQUluZSxXQUNsRkEsVUFBVTdNLFNBQVcybkIsR0FBUXVCLEVBQU80QixJQUFTdEIsRUFBT3VCLEdBQWdCZCxFQUFJdkUsTUFBTXNGLEVBQUluZSxXQUNsRkEsVUFBVTdNLFNBQVc0bkIsR0FBUXVCLEVBQU8yQixJQUFTckIsRUFBT3NCLEdBQWdCYixFQUFJeEUsTUFBTXNGLEVBQUluZSxXQUNsRkEsVUFBVTdNLFNBQVd1cUIsR0FBUW5CLEVBQU8wQixJQUFTcEIsRUFBT3FCLEdBQWdCWixFQUFJekUsTUFBTXNGLEVBQUluZSxXQUNsRkEsVUFBVTdNLFNBQVd3cUIsR0FBUW5CLEVBQU95QixJQUFTbkIsRUFBT29CLEdBQWdCWCxFQUFJMUUsTUFBTXNGLEVBQUluZSxXQUNsRkEsVUFBVTdNLFNBQVd5cUIsR0FBUW5CLEVBQU93QixJQUFTbEIsRUFBT21CLEdBQWdCVixFQUFJM0UsTUFBTXNGLEVBQUluZSxXQUUvRStkLEdBQVFsRixNQUFNc0YsRUFBSW5lLHVCQUtsQm9lLGVBQWV6SixHQUFJLE9BQVEsQ0FBQ2hqQixNQUFPc21CLFdBRXJDQyxlQU9KckQsV0FBYXdKLEVBQW9CeEosR0FFN0JGLGNBUVVQLGVBQ1ZKLEVBQU1HLE9BQU9PLFFBQVFOLGNBUWhCYSxVQUNMQSxFQUFJRCxrQkFRS0MsWUFDUEEsYUFRTXRqQixVQUNFLE9BQVZBLGFBUWdCK2pCLFVBQ08sSUFBdkJBLEVBQU16QixNQUFNOWdCLGtCQVFKMmhCLFVBQ1JBLEVBQUlnQixNQUFNLEVBQUdoQixFQUFJM2hCLE9BQVMsY0FRckIyaEIsVUFDTEEsRUFBSUEsRUFBSTNoQixPQUFTLGNBVVgyaEIsRUFBS3dKLEVBQU9DLFVBQ2xCMU8sTUFBTTlhLFVBQVUrZ0IsTUFBTXRDLEtBQUtzQixFQUFLd0osRUFBT0MsY0FTOUJwcUIsRUFBT3FxQixlQUNoQnJxQixFQUFNdWdCLFFBQVE4SixjQVNIQyxFQUFRQyxXQUNqQnhwQixFQUFJLEVBQUdBLEVBQUl1cEIsRUFBT3RyQixPQUFRK0IsT0FDN0J5cEIsRUFBU0QsRUFBUUQsRUFBT3ZwQixZQUNuQixVQUlKLGFBVVk0ZixFQUFLbkIsV0FDZnplLEVBQUksRUFBR0EsRUFBSTRmLEVBQUkzaEIsT0FBUStCLE9BQzFCeWUsRUFBS21CLEVBQUk1ZixXQUNKNGYsRUFBSTVmLGNBV0g0ZixXQUNSOEosRUFBVSxHQUNMMXBCLEVBQUksRUFBR0EsRUFBSTRmLEVBQUkzaEIsT0FBUStCLE1BQ3RCNGYsRUFBSTVmLEtBQU0sU0FFYm1YLE9BQU9xTixLQUFLa0YsY0FVSjlKLEVBQUtsWSxVQUNiaVQsTUFBTTlhLFVBQVUyaEIsT0FBT21DLE1BQU0sR0FBSS9ELEVBQUkvQixJQUFJblcsZUFRaENvZ0IsV0FDWi9FLEVBQU8sR0FFRi9pQixFQUFJLEVBQUdBLEVBQUk4bkIsRUFBSTdwQixPQUFRK0IsSUFBSyxLQUMvQnlmLEVBQUtxSSxFQUFJOW5CLE9BR2lCLGlCQUFsQnlmLEVBQUdFLFlBQW1ELGlCQUFqQkYsRUFBR0MsWUFBdUMsS0FBWkQsRUFBR2pCLFFBQ25FLEtBQVR1RSxJQUNLdEQsRUFBR2pCLGFBRUh1RSxJQUFTdEQsRUFBR2pCLEtBQU0sS0FDckJ3RSxFQUFNLElBQUlwbUIsTUFBTSwwQ0FBNENtbUIsRUFBTyxhQUFldEQsRUFBR2pCLEtBQU8sYUFDNUYrRSxLQUFPLENBQ1RFLE9BQVFoRSxFQUFHakIsS0FDWHlFLFNBQVVGLEdBRU5DLFVBS0xELGFBSWtCK0UsT0FDckI5RSxFQUNBa0MsRUFBZ0IsY0FFSXlFLEVBQVlDLE1BQzlCMUUsRUFBY2pwQixlQUFlMHRCLElBQWVDLElBQVExRSxFQUFjeUUsWUFDOUQsSUFBSS9zQixNQUFNLGNBQWdCK3NCLEVBQWEsdUJBQ3pDcEcsS0FBTyxDQUFDN0QsVUFBV2lLLEdBQ2pCM0csVUFLRGhqQixFQUFJLEVBQUdBLEVBQUk4bkIsRUFBSTdwQixPQUFRK0IsSUFBSyxLQUMvQnlmLEVBQUtxSSxFQUFJOW5CLE1BR2dCLGlCQUFsQnlmLEVBQUdFLG1CQUVIRCxLQUFhRCxFQUFHRSxXQUNuQkYsRUFBR0UsV0FBVzFqQixlQUFleWpCLE9BQ2hCQSxFQUFXRCxFQUFHRSxXQUFXRCxNQUMxQkEsR0FBYUQsRUFBR0UsV0FBV0QsYUFJZCxpQkFBakJELEVBQUdDLG1CQUtYLElBQUkzQixVQUFVLHlDQUEyQy9kLEVBQUksTUFDL0R1akIsS0FBTyxDQUFDNW1CLE1BQU9xRCxHQUNiZ2pCLElBTlN2RCxFQUFHQyxVQUFXRCxLQUNmQSxFQUFHQyxXQUFhRCxXQVMzQnlGLFlBR0QyRSxFQUFvQixRQUFTLENBQ25DQyxpQkFBa0JELEVBQ2xCMVMsT0FBVSxTQUFVK04sT0FFZDRDLEVBQU0sV0FDRHBJLEtBQWF3RixFQUNoQkEsRUFBY2pwQixlQUFleWpCLE1BQzNCc0YsS0FBS0UsRUFBY3hGLFdBSXBCbUssRUFESUUsRUFBUWpDLEdBQ2M1QyxJQUVuQzhFLGNBQWUsU0FBVWxDLFVBQ2hCK0IsRUFBb0JFLEVBQVFqQyxHQUFNbUMsRUFBa0JuQyxLQUU3RG9DLHNCQUF1QixTQUFVbkgsRUFBTStFLFVBQzlCK0IsRUFBb0I5RyxFQUFNa0gsRUFBa0JuQyxRQUlqRHFDLE9BQVNDLElBQ1RyTCxNQUFRUixJQUNSUyxZQUFjSCxJQUNkSSxPQUFTTCxJQUNUMEIsUUFBVUEsSUFDVitKLEtBQU9BLElBVVBDLFFBQVUsU0FBVTNNLEVBQU00TSxPQUN6QjVNLEdBQTZCLGlCQUFkQSxFQUFLYSxNQUEwQyxtQkFBZGIsRUFBS2MsV0FDbEQsSUFBSVYsVUFBVSxzRUFHRyxJQUFyQndNLFVBQ092cUIsRUFBSSxFQUFHQSxFQUFJOGUsRUFBTUMsTUFBTTlnQixPQUFRK0IsT0FDVixXQUF4QjhlLEVBQU1DLE1BQU0vZSxHQUFHd2UsbUJBQ1hPLE1BQU15TCxPQUFPeHFCLEVBQUcsRUFBRzJkLEtBTXpCb0IsTUFBTWlHLEtBQUtySCxPQUliOE0sY0FBZ0IsU0FBVXJLLE9BQ3pCQSxHQUM2QixpQkFBcEJBLEVBQVdGLE1BQ08saUJBQWxCRSxFQUFXQyxJQUNZLG1CQUF2QkQsRUFBV0UsY0FDakIsSUFBSXZDLFVBQVUsbUZBR2hCaUIsWUFBWWdHLEtBQUs1RSxLQUdsQnRCLFNBR0ZzTCxJQTUxQ1lNLEdDTmQsWUFBbUJqdUIsVUFDSCxrQkFBVkEsS0FJSmt1QixTQUFTbHVCLElBQVNBLElBQVVpQixLQUFLVyxNQUFNNUIsR0FRekMsSUFBSW11QixHQUFzQmx0QixLQUFLa3RCLE1BQVEsU0FBVXR1QixVQUNsREEsRUFBSSxFQUNDLEVBQ0VBLEVBQUksS0FHTixHQThJSixZQUFnQkcsRUFBT291QixNQUNMLG1CQUFaQSxTQUVGQSxFQUFRcHVCLE1BSWJBLElBQVUrVixFQUFBQSxTQUNMLGNBQ0UvVixnQkFDRixlQUNFcXVCLE1BQU1ydUIsVUFDUixVQUtMc3VCLEVBREFDLEVBQVcsY0FHWEgsSUFFRUEsRUFBUUcsYUFDQ0gsRUFBUUcsVUFJakJDLEdBQVNKLEtBQ0NBLEVBQ0hJLEdBQVNKLEVBQVFFLGVBQ2RGLEVBQVFFLFlBS2hCQyxPQUNELGVBQ0lFLEdBQVF6dUIsRUFBT3N1QixPQUVuQixxQkFDSUksR0FBYzF1QixFQUFPc3VCLE9BRXpCLHFCQThERixTQUF1QnR1QixFQUFPc3VCLE1BQy9CRCxNQUFNcnVCLEtBQVdrdUIsU0FBU2x1QixVQUNyQjJ1QixPQUFPM3VCLE9BSVo0dUIsRUFBVUMsR0FERkMsR0FBWTl1QixHQUNTc3VCLEdBQzdCdnRCLEVBQUk2dEIsRUFBUUcsU0FDWmhzQixFQUFJNnJCLEVBQVFJLGFBRVpDLEVBQVNsdUIsRUFBSSxHQUFNLEVBQUlBLEVBQUlBLEVBQUksRUFBSUEsRUFBSSxFQUFJQSxFQUFJLEVBQUlBLEVBQUlBLEVBQUksS0FFM0R5dEIsR0FBU0YsUUFFSkEsRUFBWXZyQixFQUFFdkIsUUFBVVQsRUFBSWt1QixFQUFTLEVBQUlsc0IsRUFBRXZCLFVBQzlDK21CLEtBQUssZ0JBS0wyRyxFQUFlanVCLEtBQUthLElBQUlmLEVBQUlrdUIsTUFBYXp0QixPQUFTLEdBRTdDK0IsRUFBSSxFQUFHQSxFQUFJMnJCLEVBQWMzckIsTUFDOUJnbEIsS0FBSyxPQUtQNEcsRUFBVWx1QixLQUFLYSxJQUFJZixFQUFJa3VCLEdBQ3ZCRyxFQUFhLE9BRVZELEVBQVUsZUFPYkUsRUFBV3RzQixFQUFFb2hCLE1BQU1pTCxHQUFZN0wsS0FBSyxJQUNwQytMLEVBQWFkLEdBQVNGLElBQWNlLEVBQVM3dEIsUUFBVTZ0QixFQUFTN0wsTUFBTSxTQUFXLElBQU02TCxFQUFXLEdBQ2xHL0wsRUFBTXZnQixFQUFFb2hCLE1BQU0sRUFBR2lMLEdBQVk3TCxLQUFLLElBQU0rTCxFQUFhLFFBQVksRUFBSSxJQUFNLElBQU1MLEVBQU96ckIsa0JBQ3JGb3JCLEVBQVFULEtBQU83SyxFQXRHWGlNLENBQWN2dkIsRUFBT3N1QixPQUV6QixjQWlMRixTQUFxQnR1QixFQUFPc3VCLEVBQVdGLE1BQ3hDQyxNQUFNcnVCLEtBQVdrdUIsU0FBU2x1QixVQUNyQjJ1QixPQUFPM3VCLE9BSVp3dkIsRUFBV3BCLFFBQWdDLElBQXJCQSxFQUFRb0IsU0FBeUJwQixFQUFRb0IsWUFDL0RDLEVBQVdyQixRQUFnQyxJQUFyQkEsRUFBUXFCLFNBQXlCckIsRUFBUXFCLFNBQVcsRUFDMUVyTSxFQUFRMEwsR0FBWTl1QixHQUNwQjR1QixFQUFVTixFQUFZTyxHQUFZekwsRUFBT2tMLEdBQWFsTCxLQUV0RHdMLEVBQVFHLFNBQVdTLEdBQVlaLEVBQVFHLFVBQVlVLFNBRTlDZixHQUFjMXVCLEVBQU9zdUIsT0FFeEJ2ckIsRUFBSTZyQixFQUFRSSxhQUNaanVCLEVBQUk2dEIsRUFBUUcsU0FFWmhzQixFQUFFdkIsT0FBUzhzQixNQUNUdnJCLEVBQUVnaUIsT0FBTzJLLEdBQU1wQixFQUFZdnJCLEVBQUV2QixZQUsvQnVCLEVBQUVnaUIsT0FBTzJLLEdBQU0zdUIsRUFBSWdDLEVBQUV2QixPQUFTLEtBQU9BLE9BQVM4c0IsRUFBWUEsRUFBWXZyQixFQUFFdkIsT0FBUyxTQUdqRitILEVBQU14SSxFQUFJLEVBQUlBLEVBQUksU0FFbEJ3SSxLQUhBbW1CLElBQU8zdUIsR0FBR2drQixPQUFPaGlCLElBR1R2QixPQUFTLEtBQ2pCdXNCLE9BQU94a0IsRUFBTSxFQUFHLEVBQUcsS0FHaEJxbEIsRUFBUVQsS0FBT3ByQixFQUFFd2dCLEtBQUssSUFoTnBCb00sQ0FBWTN2QixFQUFPc3VCLEVBQVdGLEdBQVdBLEdBQVN3QixRQUFRLHVCQUF1QixlQUNsRkMsRUFBU3hoQixVQUFVLEdBQ25CdE4sRUFBSXNOLFVBQVUsVUFDQSxNQUFYd2hCLEVBQWlCQSxFQUFTOXVCLEVBQUlBLG1CQUlqQyxJQUFJWixNQUFNLHFCQUF1Qm91QixFQUFXLGlEQVVqRCxZQUFxQnZ1QixPQUV0QndqQixFQUFRbUwsT0FBTzN1QixHQUFPOGlCLGNBQWNVLE1BQU0sMENBRXpDQSxRQUNHLElBQUkwQixZQUFZLGtCQUFvQmxsQixPQUd4Qzh2QixFQUFPdE0sRUFBTSxHQUNicU0sRUFBU3JNLEVBQU0sR0FDZnVMLEVBQVdnQixXQUFXdk0sRUFBTSxJQUFNLEtBQ2xDamEsRUFBTXNtQixFQUFPOU0sUUFBUSxhQUNieFosRUFBYUEsRUFBTSxFQUFJc21CLEVBQU9ydUIsT0FBUyxNQUMvQ3d0QixFQUFlYSxFQUFPRCxRQUFRLElBQUssSUFDdENBLFFBQVEsT0FBTyxTQUFVSSxhQUVaQSxFQUFNeHVCLE9BQ1gsTUFDTm91QixRQUFRLE1BQU8sSUFDakJ4TSxNQUFNLElBQUloQyxLQUFJLFNBQVVyUixVQUNoQmtnQixTQUFTbGdCLGFBR1UsSUFBeEJpZixFQUFheHRCLFdBQ0YrbUIsS0FBSyxRQUliLENBQ0w0RixLQUFNMkIsRUFDTmQsYUFBQUEsRUFDQUQsU0FBQUEsR0EyREcsWUFBaUIvdUIsRUFBT3N1QixNQUN6QkQsTUFBTXJ1QixLQUFXa3VCLFNBQVNsdUIsVUFDckIydUIsT0FBTzN1QixPQUdaa3dCLEVBQWFwQixHQUFZOXVCLEdBQ3pCNHVCLEVBQStCLGlCQUFkTixFQUF5Qk8sR0FBWXFCLEVBQVlBLEVBQVduQixTQUFXLEVBQUlULEdBQWE0QixFQUN6R250QixFQUFJNnJCLEVBQVFJLGFBQ1pydkIsRUFBSWl2QixFQUFRRyxTQUFXLEVBR3ZCb0IsRUFBS3h3QixNQUFrQixVQUV2Qm9ELEVBQUV2QixPQUFTMnVCLE1BQ1RwdEIsRUFBRWdpQixPQUFPMkssR0FBTVMsRUFBS3B0QixFQUFFdkIsVUFJeEI3QixFQUFJLE1BQ0YrdkIsR0FBVyxFQUFKL3ZCLEdBQU9vbEIsT0FBT2hpQixLQUNyQixHQUlGcEQsRUFBSW9ELEVBQUV2QixVQUNOdXNCLE9BQU9wdUIsRUFBRyxFQUFTLElBQU5BLEVBQVUsS0FBTyxLQUczQml2QixFQUFRVCxLQUFPcHJCLEVBQUV3Z0IsS0FBSyxJQVV4QixZQUF1QnZqQixFQUFPc3VCLE1BQy9CRCxNQUFNcnVCLEtBQVdrdUIsU0FBU2x1QixVQUNyQjJ1QixPQUFPM3VCLE9BSVpvakIsRUFBUTBMLEdBQVk5dUIsR0FDcEI0dUIsRUFBVU4sRUFBWU8sR0FBWXpMLEVBQU9rTCxHQUFhbEwsRUFDdERyZ0IsRUFBSTZyQixFQUFRSSxhQUNaanVCLEVBQUk2dEIsRUFBUUcsU0FFWmhzQixFQUFFdkIsT0FBUzhzQixNQUNUdnJCLEVBQUVnaUIsT0FBTzJLLEdBQU1wQixFQUFZdnJCLEVBQUV2QixjQUkvQjR1QixFQUFRcnRCLEVBQUVzdEIsZUFDUHpCLEVBQVFULEtBQU9pQyxLQUFXNXVCLE9BQVMsRUFBSSxJQUFNdUIsRUFBRXdnQixLQUFLLElBQU0sSUFBTSxRQUFZLEVBQUksSUFBTSxJQUFNeGlCLEVBMEQ5RixZQUFxQnFpQixFQUFPa0wsV0FFN0JNLEVBQVUsQ0FDWlQsS0FBTS9LLEVBQU0rSyxLQUNaYSxhQUFjNUwsRUFBTTRMLGFBQ3BCRCxTQUFVM0wsRUFBTTJMLFVBRWRoc0IsRUFBSTZyQixFQUFRSSxhQUVUVixHQUFhLEtBQ2hCZ0MsUUFBUSxLQUNGdkIsa0JBSU5oc0IsRUFBRXZCLE9BQVM4c0IsR0FDQ3ZyQixFQUFFZ3JCLE9BQU9PLEVBQVd2ckIsRUFBRXZCLE9BQVM4c0IsR0FFakMsSUFBTSxFQUFHLEtBQ2YvcUIsRUFBSStxQixFQUFZLFFBQ2xCL3FCLEtBRWMsS0FBVFIsRUFBRVEsTUFDTGd0QixNQUVRLElBQU5odEIsTUFDQStzQixRQUFRLEtBQ0Z2QixpQ0FVVEgsRUFRVCxZQUFlcHRCLFdBQ1QyaEIsRUFBTSxHQUVENWYsRUFBSSxFQUFHQSxFQUFJL0IsRUFBUStCLE1BQ3RCZ2xCLEtBQUssVUFHSnBGLEVBd0JGLElBQUlxTixHQUFjaHBCLE9BQU9DLFNBQVcscUJBV3BDLFlBQXFCNUgsRUFBR0MsRUFBRzJ3QixNQUU1QkEsTUFBQUEsU0FDSzV3QixJQUFNQyxLQUdYRCxJQUFNQyxVQUNELEtBSUx1dUIsTUFBTXh1QixJQUFNd3VCLE1BQU12dUIsV0FDYixLQUlMb3VCLFNBQVNydUIsSUFBTXF1QixTQUFTcHVCLEdBQUksS0FFMUI0d0IsRUFBT3p2QixLQUFLYSxJQUFJakMsRUFBSUMsVUFFcEI0d0IsRUFBT0YsSUFJRkUsR0FBUXp2QixLQUFLRSxJQUFJRixLQUFLYSxJQUFJakMsR0FBSW9CLEtBQUthLElBQUloQyxJQUFNMndCLFVBS2pELEVDdmVGLFlBQWdCendCLEVBQU9vdUIsTUFDTCxtQkFBWkEsU0FFRkEsRUFBUXB1QixPQUlaQSxFQUFNa3VCLGtCQUNGbHVCLEVBQU1xdUIsUUFBVSxNQUFRcnVCLEVBQU0yd0IsR0FBRyxHQUFLLFdBQWEsZ0JBS3hEckMsRUFEQUMsRUFBVyxtQkFHQyxJQUFaSCxJQUVFQSxFQUFRRyxhQUNDSCxFQUFRRyxVQUlFLGlCQUFaSCxJQUNHQSxFQUNIQSxFQUFRRSxjQUNMRixFQUFRRSxZQUtoQkMsT0FDRCxlQXFGRixTQUFpQnZ1QixFQUFPc3VCLFVBQ3RCdHVCLEVBQU15dUIsUUFBUUgsR0FyRlZHLENBQVF6dUIsRUFBT3N1QixPQUVuQixxQkFDSUksR0FBYzF1QixFQUFPc3VCLE9BRXpCLHFCQTBDRixTQUF1QnR1QixFQUFPc3VCLE9BRS9CdnRCLEVBQUlmLEVBQU1lLEVBQ1ZrdUIsRUFBU2x1QixFQUFJLEdBQU0sRUFBSUEsRUFBSUEsRUFBSSxFQUFJQSxFQUFJLEVBQUlBLEVBQUksRUFBSUEsRUFBSUEsRUFBSSxFQUUzRDZ2QixFQUFrQjV3QixFQUFNNndCLElBQUk1dkIsS0FBSzhELElBQUksSUFBS2txQixJQUMxQzZCLEVBQVdGLEVBQWdCakIsWUFBWXJCLFFBRXZDd0MsRUFBUy9OLFFBQVEsU0FDUjZOLEVBQWdCcHRCLG1CQUd0QnN0QixFQUFXLFFBQVksRUFBSSxJQUFNLElBQU03QixFQUFPenJCLFdBckQxQytyQixDQUFjdnZCLEVBQU9zdUIsT0FFekIsV0FJR2tCLEVBQVdwQixRQUFnQyxJQUFyQkEsRUFBUW9CLFNBQXlCcEIsRUFBUW9CLFlBQy9EQyxFQUFXckIsUUFBZ0MsSUFBckJBLEVBQVFxQixTQUF5QnJCLEVBQVFxQixTQUFXLEtBRTFFenZCLEVBQU0rd0IsZ0JBQWlCLFFBR3ZCbkMsRUFBVTV1QixFQUFNZ3hCLG9CQUFvQjFDLEdBQ3BDMkMsRUFBTXJDLEVBQVE3dEIsVUFFZGt3QixHQUFPekIsR0FBWXlCLEVBQU14QixFQUVyQmIsRUFBUUgsVUFHUkMsR0FBYzF1QixFQUFPc3VCLElBSWxCc0IsUUFBUSx1QkFBdUIsZUFDcENDLEVBQVN4aEIsVUFBVSxHQUNuQnROLEVBQUlzTixVQUFVLFVBQ0EsTUFBWHdoQixFQUFpQkEsRUFBUzl1QixFQUFJQSxtQkFLbkMsSUFBSVosTUFBTSxxQkFBdUJvdUIsRUFBVyxpREFnQ2pELFlBQXVCdnVCLEVBQU9zdUIsZUFDakIsSUFBZEEsRUFDS3R1QixFQUFNMHVCLGNBQWNKLEVBQVksR0FFaEN0dUIsRUFBTTB1QixnQkNwS1YsWUFBa0J3QyxFQUFNQyxPQUN6QnhFLEVBQVF1RSxFQUFLMXZCLE9BQVMydkIsRUFBTzN2QixPQUM3Qm9yQixFQUFNc0UsRUFBSzF2QixjQUNSMHZCLEVBQUtFLFVBQVV6RSxFQUFPQyxLQUFTdUUsRUFzQ2pDLFlBQWdCbnhCLEVBQU9vdUIsVUFDUCxpQkFBVnB1QixFQUNGcXhCLEdBQWFyeEIsRUFBT291QixHQUd6QmpQLEdBQVluZixHQUNQc3hCLEdBQWdCdHhCLEVBQU9vdUIsR0ErSGxDLFNBQTJCcHVCLFVBQ2xCQSxHQUEwQixpQkFBVkEsR0FBeUMsaUJBQVpBLEVBQU1TLEdBQXFDLGlCQUFaVCxFQUFNNEQsR0FBcUMsaUJBQVo1RCxFQUFNK1AsSUFBa0IsRUEzSHRJd2hCLENBQWtCdnhCLEdBQ2ZvdUIsR0FBZ0MsWUFBckJBLEVBQVFvRCxTQUtmeHhCLEVBQU13RCxXQUhOeEQsRUFBTVMsRUFBSVQsRUFBTTRELEVBQUksSUFBTTVELEVBQU0rUCxFQU92Q21PLE1BQU1zQixRQUFReGYsR0FDVHl4QixHQUFZenhCLEVBQU9vdUIsR0FHeEJzRCxHQUFTMXhCLEdBQ0osSUFBTUEsRUFBUSxJQUdGLG1CQUFWQSxFQUNGQSxFQUFNMnhCLE9BQVNoRCxPQUFPM3VCLEVBQU0yeEIsUUFBVSxXQUczQzN4QixHQUEwQixpQkFBVkEsRUFDVSxtQkFBakJBLEVBQU00eEIsT0FDUjV4QixFQUFNNHhCLE9BQU94RCxHQUNYcHVCLEdBQVNBLEVBQU13RCxTQUFTNHFCLEtBQWEsR0FBRzVxQixXQUUxQ3hELEVBQU13RCxTQUFTNHFCLEdBS2YsSUFITzFULE9BQU9xTixLQUFLL25CLEdBQU9vaEIsUUFDeEIsSUFBTUssRUFBTSxNQUFRbVEsR0FBTzV4QixFQUFNeWhCLEdBQU0yTSxLQUUzQjdLLEtBQUssTUFBUSxJQUkvQm9MLE9BQU8zdUIsR0FTVCxZQUFtQkEsV0FDcEJreEIsRUFBT3ZDLE9BQU8zdUIsR0FDZDZ4QixFQUFVLEdBQ1Z0dUIsRUFBSSxFQUVEQSxFQUFJMnRCLEVBQUsxdkIsUUFBUSxLQUNsQnVCLEVBQUltdUIsRUFBS1ksT0FBT3Z1QixHQUVWLE9BQU5SLE1BQ1NBLE1BSUQsUUFGTm11QixFQUFLWSxPQUFPdnVCLFVBRUEsYUFBYXdmLFFBQVFoZ0IsUUFDeEIsU0FHRkEsTUFDSSxNQUFOQSxFQUNFLE1BRUFBLGNBTVIsSUFBTTh1QixFQUFVLElBUWxCLFlBQWdCN3hCLE9BQ2pCa3hCLEVBQU92QyxPQUFPM3VCLFlBQ1hreEIsRUFBS3RCLFFBQVEsS0FBTSxTQUFTQSxRQUFRLEtBQU0sVUFBVUEsUUFBUSxLQUFNLFNBQVNBLFFBQVEsS0FBTSxRQUFRQSxRQUFRLEtBQU0sUUFjeEgsWUFBcUJwdEIsRUFBTzRyQixNQUN0QmxRLE1BQU1zQixRQUFRaGQsR0FBUSxTQUNwQjhnQixFQUFNLElBQ041YixFQUFNbEYsRUFBTWhCLE9BRVArQixFQUFJLEVBQUdBLEVBQUltRSxFQUFLbkUsSUFDYixJQUFOQSxPQUNLLFNBR0ZrdUIsR0FBWWp2QixFQUFNZSxHQUFJNnFCLGFBR3hCLFdBR0F3RCxHQUFPcHZCLEVBQU80ckIsR0NwS2xCLFlBQXdCcEgsRUFBUVIsRUFBVXVMLHdCQUN6QkMsVUFDZCxJQUFJOU0sWUFBWSx5REFHbkI4QixPQUFTQSxPQUNUUixTQUFXQSxPQUNYdUwsU0FBV0EsT0FDWEUsUUFBVSw4QkFBZ0N6UyxRQUFRd0gsR0FBVSxJQUFNQSxFQUFPekQsS0FBSyxNQUFRLElBQU15RCxHQUFVLFVBQVkrSyxVQUFZLE1BQVEsV0FBYXZTLFFBQVFnSCxHQUFZLElBQU1BLEVBQVNqRCxLQUFLLE1BQVEsSUFBTWlELEdBQVksU0FDck4wTCxPQUFRLElBQUkveEIsT0FBUSt4QixPQ1JwQixZQUFvQmh5QixFQUFPa0IsRUFBS0Msd0JBQ2Y4d0IsVUFDZCxJQUFJak4sWUFBWSx5REFHbkJobEIsTUFBUUEsRUFFVG1PLFVBQVU3TSxPQUFTLFFBQ2hCTixJQUFNLE9BQ05DLElBQU1DLFNBRU5GLElBQU1FLE9BQ05ELElBQU1FLFFBR0ksSUFBYnRCLEtBQUttQixLQUFxQm5CLEtBQUtHLE1BQVFILEtBQUttQixTQUN6Qyt3QixRQUFVLHVCQUF5Qmx5QixLQUFLRyxNQUFRLE1BQVFILEtBQUttQixJQUFNLFNBQ2xELElBQWJuQixLQUFLb0IsS0FBcUJwQixLQUFLRyxPQUFTSCxLQUFLb0IsU0FDakQ4d0IsUUFBVSx1QkFBeUJseUIsS0FBS0csTUFBUSxZQUFjaUIsSUFBTSxHQUFLLFNBRXpFOHdCLFFBQVUsdUJBQXlCbHlCLEtBQUtHLE1BQVEsU0FHbERneUIsT0FBUSxJQUFJL3hCLE9BQVEreEIsT0NwQnBCLFlBQW1CcnlCLFdBQ3BCWSxFQUFJLEdBRUR5ZCxNQUFNc0IsUUFBUTNmLE1BQ2pCMG9CLEtBQUsxb0IsRUFBRTJCLFVBQ0wzQixFQUFFLFVBR0RZLEVBWVQsWUFBbUIrQixFQUFPNFQsRUFBTWdjLE9BQzFCN3VCLEVBQ0FtRSxFQUFNbEYsRUFBTWhCLFVBRVprRyxJQUFRME8sRUFBS2djLFNBQ1QsSUFBSUosR0FBZXRxQixFQUFLME8sRUFBS2djLE9BR2pDQSxFQUFNaGMsRUFBSzVVLE9BQVMsRUFBRyxLQUVyQjZ3QixFQUFVRCxFQUFNLE1BRWY3dUIsRUFBSSxFQUFHQSxFQUFJbUUsRUFBS25FLElBQUssS0FDcEIrdUIsRUFBUTl2QixFQUFNZSxPQUViMmEsTUFBTXNCLFFBQVE4UyxTQUNYLElBQUlOLEdBQWU1YixFQUFLNVUsT0FBUyxFQUFHNFUsRUFBSzVVLE9BQVEsUUFHL0NnQixFQUFNZSxHQUFJNlMsRUFBTWljLGNBSXZCOXVCLEVBQUksRUFBR0EsRUFBSW1FLEVBQUtuRSxPQUNmMmEsTUFBTXNCLFFBQVFoZCxFQUFNZSxVQUNoQixJQUFJeXVCLEdBQWU1YixFQUFLNVUsT0FBUyxFQUFHNFUsRUFBSzVVLE9BQVEsS0FjeEQsWUFBa0JnQixFQUFPNFQsTUFDQyxJQUFoQkEsRUFBSzVVLFdBSWQwYyxNQUFNc0IsUUFBUWhkLFNBQ1YsSUFBSXd2QixHQUFleHZCLEVBQU1oQixPQUFRLFdBSS9CZ0IsRUFBTzRULEVBQU0sSUFVcEIsWUFBdUJsVyxFQUFPc0IsT0FDOUJndEIsR0FBU3R1QixLQUFXcXlCLEdBQVVyeUIsU0FDM0IsSUFBSW9oQixVQUFVLG9DQUFzQ3BoQixFQUFRLFFBR2hFQSxFQUFRLEdBQXVCLGlCQUFYc0IsR0FBdUJ0QixHQUFTc0IsUUFDaEQsSUFBSTJ3QixHQUFXanlCLEVBQU9zQixHQWN6QixZQUFnQmdCLEVBQU80VCxFQUFNb2MsT0FHN0J0VSxNQUFNc0IsUUFBUWhkLEtBQVcwYixNQUFNc0IsUUFBUXBKLFNBQ3BDLElBQUlrTCxVQUFVLHFCQUdGLElBQWhCbEwsRUFBSzVVLGFBQ0QsSUFBSXJCLE1BQU0sZ0RBSWIybkIsU0FBUSxTQUFVOW5CLE9BQ2hCd3VCLEdBQVN4dUIsS0FBV3V5QixHQUFVdnlCLElBQVVBLEVBQVEsUUFDN0MsSUFBSXNoQixVQUFVLHVEQUE4RHNRLEdBQU94YixHQUFRLFdBTTdGNVQsRUFBTzRULEVBQU0sT0FGZ0IsSUFBakJvYyxFQUE2QkEsRUFBZSxHQUl6RGh3QixFQVlULFlBQWlCQSxFQUFPNFQsRUFBTWdjLEVBQUtJLE9BQzdCanZCLEVBQ0FrdkIsRUFDQUMsRUFBU2x3QixFQUFNaEIsT0FDZm14QixFQUFTdmMsRUFBS2djLEdBQ2RRLEVBQVMzeEIsS0FBS0MsSUFBSXd4QixFQUFRQyxRQUV4Qm54QixPQUFTbXhCLEVBRVhQLEVBQU1oYyxFQUFLNVUsT0FBUyxFQUFHLEtBRXJCNndCLEVBQVVELEVBQU0sTUFFZjd1QixFQUFJLEVBQUdBLEVBQUlxdkIsRUFBUXJ2QixNQUVmZixFQUFNZSxHQUVSMmEsTUFBTXNCLFFBQVFpVCxPQUNWLENBQUNBLEtBRUZsdkIsR0FBS2t2QixNQUdMQSxFQUFNcmMsRUFBTWljLEVBQVNHLE9BSTFCanZCLEVBQUlxdkIsRUFBUXJ2QixFQUFJb3ZCLEVBQVFwdkIsTUFFcEIsS0FDREEsR0FBS2t2QixLQUVIQSxFQUFNcmMsRUFBTWljLEVBQVNHLFNBRTFCLEtBR0FqdkIsRUFBSSxFQUFHQSxFQUFJcXZCLEVBQVFydkIsU0FDZjJhLE1BQU1zQixRQUFRaGQsRUFBTWUsT0FDbkJBLEdBQUtmLEVBQU1lLEdBQUcsT0FLbkJBLEVBQUlxdkIsRUFBUXJ2QixFQUFJb3ZCLEVBQVFwdkIsTUFDckJBLEdBQUtpdkIsSUFnQlYsWUFBaUJod0IsRUFBT3F3QixPQUV6QkMsRUFEQUMsRUE4TEMsU0FBaUJ2d0IsT0FDakIwYixNQUFNc0IsUUFBUWhkLFVBRVZBLE1BR0x3d0IsRUFBTyxZQUNMbEwsU0FBUSxXQUFrQjluQixHQUMxQmtlLE1BQU1zQixRQUFReGYsS0FDVjhuQixRQUFRN2MsS0FFVHNkLEtBQUt2b0IsT0FHUGd6QixFQTVNU0MsQ0FBUXp3QixjQUdQMmdCLFVBQ1JBLEVBQUkrUCxRQUFPLENBQUNDLEVBQU1DLElBQVNELEVBQU9DLFFBR3RDbFYsTUFBTXNCLFFBQVFoZCxLQUFXMGIsTUFBTXNCLFFBQVFxVCxTQUNwQyxJQUFJdlIsVUFBVSxxQkFHRCxJQUFqQnVSLEVBQU1yeEIsYUFDRixJQUFJd3dCLEdBQWUsRUFBR3FCLEVBQVFDLEdBQVU5d0IsSUFBUyxjQUdyRCt3QixFQUFZLEVBRVBDLEVBQVksRUFBR0EsRUFBWVgsRUFBTXJ4QixPQUFRZ3lCLE9BQ25DWCxFQUFNVyxNQUdqQlQsRUFBVXZ4QixTQUFXK3hCLFFBQ2pCLElBQUl2QixHQUFlcUIsRUFBUVIsR0FBUVEsRUFBUUMsR0FBVTl3QixJQUFTLFlBdUJ4RSxTQUFrQkEsRUFBT3F3QixXQUduQlksRUFEQUMsRUFBV2x4QixFQUdOZ3hCLEVBQVlYLEVBQU1yeEIsT0FBUyxFQUFHZ3lCLEVBQVksRUFBR0EsSUFBYSxLQUM3RHBkLEVBQU95YyxFQUFNVyxLQUNMLFdBRVJoeUIsRUFBU2t5QixFQUFTbHlCLE9BQVM0VSxFQUV0QjdTLEVBQUksRUFBR0EsRUFBSS9CLEVBQVErQixNQUNoQmdsQixLQUFLbUwsRUFBU3ZQLE1BQU01Z0IsRUFBSTZTLEtBQVcsR0FBS0EsTUFJekNxZCxVQUdOQyxFQXRDTUMsQ0FBU1osRUFBV0YsVUFDeEI5eEIsTUFDSEEsYUFBYWl4QixTQUNULElBQUlBLEdBQWVxQixFQUFRUixHQUFRUSxFQUFRQyxHQUFVOXdCLElBQVMsWUFHaEV6QixTQUdEK3hCLEVBc0dGLFlBQW1CdHdCLEVBQU9veEIsRUFBTUMsRUFBT3pkLE9BQ3hDM1YsRUFBSTJWLEdBQVFrZCxHQUFVOXdCLE1BRXRCcXhCLFVBQ090d0IsRUFBSSxFQUFHQSxFQUFJc3dCLEVBQU90d0IsTUFDakIsQ0FBQ2YsS0FDUDh0QixRQUFRLFNBS053RCxHQUFXdHhCLEVBQU9veEIsRUFBTSxHQUV6Qm56QixFQUFFZSxPQUFTb3lCLEtBQ2RyTCxLQUFLLFVBR0YvbEIsRUFXVCxZQUFvQkEsRUFBT294QixFQUFNeEIsT0FDM0I3dUIsRUFBRzBsQixLQUVIL0ssTUFBTXNCLFFBQVFoZCxHQUFRLEtBQ3BCdXhCLEVBQU8zQixFQUFNLE1BRVo3dUIsRUFBSSxFQUFHMGxCLEVBQUt6bUIsRUFBTWhCLE9BQVErQixFQUFJMGxCLEVBQUkxbEIsTUFDL0JBLEdBQUt1d0IsR0FBV3R4QixFQUFNZSxHQUFJcXdCLEVBQU1HLGlCQUcvQmhrQixFQUFJcWlCLEVBQUtyaUIsRUFBSTZqQixFQUFNN2pCLE1BQ2xCLENBQUN2TixVQUlOQSxFQWdDRixZQUFhQSxFQUFPeUksVUFDbEJpVCxNQUFNOWEsVUFBVWdlLElBQUlTLEtBQUtyZixFQUFPeUksR0FRbEMsWUFBaUJ6SSxFQUFPeUksU0FDdkI3SCxVQUFVMGtCLFFBQVFqRyxLQUFLcmYsRUFBT3lJLElBb0MvQixZQUFjekksRUFBT3d4QixVQUNuQjlWLE1BQU05YSxVQUFVbWdCLEtBQUsxQixLQUFLcmYsRUFBT3d4QixHQXdFbkMsWUFBMEJ4eEIsRUFBT3l4QixXQUNsQy9TLEVBRUExZixFQUFTLEVBRUorQixFQUFJLEVBQUdBLEVBQUlmLEVBQU1oQixPQUFRK0IsSUFBSyxLQUNqQ3NwQixFQUFPcnFCLEVBQU1lLEdBQ2Iyd0IsRUFBVWhXLE1BQU1zQixRQUFRcU4sTUFFbEIsSUFBTnRwQixHQUFXMndCLE1BQ0pySCxFQUFLcnJCLFFBSVoweUIsR0FBV3JILEVBQUtyckIsU0FBV0EsYUFJM0IyeUIsRUFBV0QsRUFBVUUsR0FBaUJ2SCxFQUFNb0gsR0FDOUNBLEVBQU9wSCxXQUVJLElBQVQzTCxJQUNLaVQsVUFDRWpULElBQVNpVCxTQUNYLGVBS0pqVCxFQzdoQkYsWUFBaUJvRixFQUFNK04sRUFBYzFHLEVBQVEyRyxjQUN6QkMsT0FJbkJDLEVSc1dELFNBQXFCamQsRUFBUWtkLFdBQzlCanFCLEVBQU8sR0FFRmpILEVBQUksRUFBR0EsRUFBSWt4QixFQUFXanpCLE9BQVErQixJQUFLLEtBQ3RDa2UsRUFBTWdULEVBQVdseEIsR0FDakJ2RCxFQUFRdVgsRUFBT2tLLFFBRUwsSUFBVnpoQixNQUNHeWhCLEdBQU96aEIsV0FJVHdLLEVRbFhNa3FCLENBQVlILEVBQU9GLEVBQWFqVCxJQUFJdVQsWUF1RjVDLFNBQTRCck8sRUFBTStOLEVBQWNFLE9BQ3BDRixFQUFhalEsWUFTekIsU0FBOEJ3USxVQUM1QkEsR0FBZ0MsTUFBbEJBLEVBQVcsR0FWb0JDLENBQXFCRCxLQUN4RUUsZUFBMEMsSUFBdEJQLEVBQU1LLEtBRVYsS0FDWEcsRUFBc0JWLEVBQWFqUSxnQkFBMkMsSUFBdEJtUSxFQUFNSyxXQUU1RCxJQUFJejBCLE1BQU0sMkJBQTRCNGtCLE9BQU91QixFQUFNLE9BQVUsa0NBQWtDdkIsT0FBT2dRLEVBQW9CM1QsUUFBUyxJQUFLMkQsT0FBT2hWLEVBQUcsT0FBT3dULEtBQUssTUFBTyxRQTdGeEorQyxFQUFNK04sRUFBY0UsR0FDaEM1RyxFQUFPNkcsWUFHQVEsV0FBWSxJQUNaaFMsR0FBS3NELElBQ0wyTyxhQUFlWixFQUFhbFEsUUFBUTJGLE9BRWhEd0ssTUFDY0EsS0FBT0EsR0FHbEJZLEVBdUZGLFlBQStCTixVQUM3QkEsR0FBZ0MsTUFBbEJBLEVBQVcsR0FBYUEsRUFBV3pRLE1BQU0sR0FBS3lRLEVIakhyRTVDLEdBQWU1dUIsVUFBWSxJQUFJK3hCLFdBQy9CbkQsR0FBZTV1QixVQUFVaEQsWUFBYyswQixXQUN2Q25ELEdBQWU1dUIsVUFBVTJlLEtBQU8saUJBQ2hDaVEsR0FBZTV1QixVQUFVZ3lCLGtCQUFtQixFQ1k1Q2pELEdBQVcvdUIsVUFBWSxJQUFJK3hCLFdBQzNCaEQsR0FBVy91QixVQUFVaEQsWUFBYyswQixXQUNuQ2hELEdBQVcvdUIsVUFBVTJlLEtBQU8sYUFDNUJvUSxHQUFXL3VCLFVBQVVpeUIsY0FBZSxFR0lwQyxJQUFJQyxHQUFnQixxQkFHRkMsR0FBYzdILE9BQ3ZCNkgsSUFVRUMsTUFBcUMsUUFQN0IsQ0FBQyxhQUFjLFdBQVksZUFBZ0IsY0FPUyxTQUFxQkMsT0FDdEZDLFVBQ0ZBLEVBQ0FDLHNCQUNBQyxFQUNBQyxZQUNFSixFQUlBcFQsRUFBUWlULGNBS05oVCxNQUFRLENBQUMsQ0FDYlAsS0FBTSxTQUNOQyxLQUFNd00sSUFDTCxDQUNEek0sS0FBTSxVQUNOQyxLQUFNM0MsSUFDTCxDQUNEMEMsS0FBTSxZQUNOQyxLQUFNN0MsSUFDTCxDQUNENEMsS0FBTSxXQUNOQyxLQUFNMUMsSUFDTCxDQUNEeUMsS0FBTSxPQUNOQyxLQUFNekMsSUFDTCxDQUNEd0MsS0FBTSxTQUNOQyxLQUFNMFAsSUFDTCxDQUNEM1AsS0FBTSxRQUNOQyxLQUFNZixJQUNMLENBQ0RjLEtBQU0sUUFDTkMsS0FBTXhDLElBQ0wsQ0FDRHVDLEtBQU0sU0FDTkMsS0FBTXZDLElBQ0wsQ0FDRHNDLEtBQU0sY0FDTkMsS0FBTXRDLElBQ0wsQ0FDRHFDLEtBQU0sZUFDTkMsS0FBTXJDLElBQ0wsQ0FDRG9DLEtBQU0sUUFDTkMsS0FBTXBDLElBQ0wsQ0FDRG1DLEtBQU0sUUFDTkMsS0FBTW5DLElBQ0wsQ0FDRGtDLEtBQU0sVUFDTkMsS0FBTThULElBQ0wsQ0FDRC9ULEtBQU0sWUFDTkMsS0FBTWxDLElBQ0wsQ0FDRGlDLEtBQU0sT0FDTkMsS0FBTWpDLElBQ0wsQ0FDRGdDLEtBQU0sV0FDTkMsS0FBTStULElBQ0wsQ0FDRGhVLEtBQU0sT0FDTkMsS0FBTWdVLElBQ0wsQ0FDRGpVLEtBQU0sU0FDTkMsS0FBTWlVLElBQ0wsQ0FDRGxVLEtBQU0sT0FDTkMsS0FBTWtVLElBQ0wsQ0FDRG5VLEtBQU0sWUFDTkMsS0FBTW1VLElBQ0wsQ0FDRHBVLEtBQU0sZUFDTkMsS0FBTTlCLElBQ0wsQ0FDRDZCLEtBQU0sWUFDTkMsS0FBTTVCLElBQ0wsQ0FDRDJCLEtBQU0saUJBQ05DLEtBQU0zQixJQUNMLENBQ0QwQixLQUFNLFlBQ05DLEtBQU0xQixJQUNMLENBQ0R5QixLQUFNLGtCQUNOQyxLQUFNekIsSUFDTCxDQUNEd0IsS0FBTSxlQUNOQyxLQUFNeEIsSUFDTCxDQUNEdUIsS0FBTSxlQUNOQyxLQUFNdEIsSUFDTCxDQUNEcUIsS0FBTSx5QkFDTkMsS0FBTXZCLElBQ0wsQ0FDRHNCLEtBQU0sWUFDTkMsS0FBTXJCLElBQ0wsQ0FDRG9CLEtBQU0sT0FDTkMsS0FBTTdCLElBQ0wsQ0FDRDRCLEtBQU0sYUFDTkMsS0FBTXBCLElBQ0wsQ0FDRG1CLEtBQU0sZUFDTkMsS0FBTW5CLElBQ0wsQ0FDRGtCLEtBQU0sa0JBQ05DLEtBQU1sQixJQUNMLENBQ0RpQixLQUFNLFlBQ05DLEtBQU1qQixJQUNMLENBQ0RnQixLQUFNLGFBQ05DLEtBQU1oQixJQUNMLENBQ0RlLEtBQU0sU0FDTkMsS0FBTW9VLE9BR0Y3VCxZQUFjLENBQUMsQ0FDbkJrQixLQUFNLFNBQ05HLEdBQUksWUFDSkMsUUFBUyxTQUFpQmhrQixNQUNuQjYxQixNQUNjNzFCLEdBSVJBLEVQeVRGNnVCLGdCQUFnQmtCLFFBQVEsT0FBUSxJQUM1Q0EsUUFBUSxhQUFjLElBQ3RCcHVCLE9PM1RtQixTQUNSLElBQUk4ZixVQUFVLHVGQUE4RnpoQixFQUFJLGdFQUdqSCxJQUFJNjFCLEVBQVU3MUIsS0FFdEIsQ0FDRDRqQixLQUFNLFNBQ05HLEdBQUksVUFDSkMsUUFBUyxTQUFpQmhrQixVQUNuQncyQixNQUNZeDJCLEdBR1YsSUFBSXcyQixFQUFReDJCLEVBQUcsS0FFdkIsQ0FDRDRqQixLQUFNLFNBQ05HLEdBQUksU0FDSkMsUUFBUyxTQUFpQmhrQixVQUNqQkEsRUFBSSxLQUVaLENBQ0Q0akIsS0FBTSxZQUNORyxHQUFJLFVBQ0pDLFFBQVMsU0FBaUJoa0IsVUFDbkJ3MkIsTUFDWXgyQixHQUdWLElBQUl3MkIsRUFBUXgyQixFQUFFeTJCLFdBQVksS0FFbEMsQ0FDRDdTLEtBQU0sV0FDTkcsR0FBSSxZQUNKQyxRQUFTLFNBQWlCaGtCLFNBQ2xCLElBQUl5aEIsVUFBVSwrSkFFckIsQ0FDRG1DLEtBQU0sV0FDTkcsR0FBSSxVQUNKQyxRQUFTLFNBQWlCaGtCLFVBQ25CdzJCLE1BQ1l4MkIsR0FHVixJQUFJdzJCLEVBQVF4MkIsRUFBRXdoQixVQUFXLEtBRWpDLENBQ0RvQyxLQUFNLFNBQ05HLEdBQUksV0FDSkMsUUFBUyxTQUFpQmhrQixHQUNuQjAyQixNQUNhMTJCLE9BR2QrSCxFQUFJLElBQUkydUIsRUFBUzEyQixNQUVqQitILEVBQUV5WixZQUFjeGhCLFFBQ1osSUFBSXloQixVQUFVLG1HQUEwR3poQixFQUFJLDhEQUc3SCtILElBRVIsQ0FRRDZiLEtBQU0sU0FDTkcsR0FBSSxTQUNKQyxRQUFTLFNBQWlCaGtCLE9BQ3BCK0QsRUFBSTRELE9BQU8zSCxNQUVYd3VCLE1BQU16cUIsU0FDRixJQUFJekQsTUFBTSxtQkFBcUJOLEVBQUksd0JBR3BDK0QsSUFFUixDQUNENmYsS0FBTSxTQUNORyxHQUFJLFlBQ0pDLFFBQVMsU0FBaUJoa0IsR0FDbkI2MUIsTUFDYzcxQixjQUlWLElBQUk2MUIsRUFBVTcxQixTQUNkMG1CLFNBQ0QsSUFBSXBtQixNQUFNLG1CQUFxQk4sRUFBSSxxQkFHNUMsQ0FDRDRqQixLQUFNLFNBQ05HLEdBQUksV0FDSkMsUUFBUyxTQUFpQmhrQixHQUNuQjAyQixNQUNhMTJCLGNBSVQsSUFBSTAyQixFQUFTMTJCLFNBQ2IwbUIsU0FDRCxJQUFJcG1CLE1BQU0sbUJBQXFCTixFQUFJLG9CQUc1QyxDQUNENGpCLEtBQU0sU0FDTkcsR0FBSSxVQUNKQyxRQUFTLFNBQWlCaGtCLEdBQ25CdzJCLE1BQ1l4MkIsY0FJUixJQUFJdzJCLEVBQVF4MkIsU0FDWjBtQixTQUNELElBQUlwbUIsTUFBTSxtQkFBcUJOLEVBQUksbUJBRzVDLENBQ0Q0akIsS0FBTSxVQUNORyxHQUFJLFNBQ0pDLFFBQVMsU0FBaUJoa0IsV0FDaEJBLElBRVQsQ0FDRDRqQixLQUFNLFVBQ05HLEdBQUksWUFDSkMsUUFBUyxTQUFpQmhrQixVQUNuQjYxQixNQUNjNzFCLEdBR1osSUFBSTYxQixHQUFXNzFCLEtBRXZCLENBQ0Q0akIsS0FBTSxVQUNORyxHQUFJLFdBQ0pDLFFBQVMsU0FBaUJoa0IsVUFDbkIwMkIsTUFDYTEyQixHQUdYLElBQUkwMkIsR0FBVTEyQixLQUV0QixDQUNENGpCLEtBQU0sVUFDTkcsR0FBSSxTQUNKQyxRQUFTLFNBQWlCaGtCLFVBQ2pCOHVCLE9BQU85dUIsS0FFZixDQUNENGpCLEtBQU0sUUFDTkcsR0FBSSxTQUNKQyxRQUFTLFNBQWlCcmhCLFVBQ25Cb3pCLEdBd0JYLGlCQUNRLElBQUl6MUIsTUFBTSwwRUFyQkwsSUFBSXkxQixFQUFZcHpCLEtBRXhCLENBQ0RpaEIsS0FBTSxTQUNORyxHQUFJLFFBQ0pDLFFBQVMsU0FBaUJoTyxVQUNqQkEsRUFBT3dMLGFBR1hnQixLQUdULFlBQTBCeGlCLFNBQ2xCLElBQUlNLE1BQU0sd0JBQXdCNGtCLE9BQU9sbEIsRUFBRyxxREFHcEQsWUFBd0JBLFNBQ2hCLElBQUlNLE1BQU0sd0JBQXdCNGtCLE9BQU9sbEIsRUFBRyx3REFPcEQsWUFBeUJBLFNBQ2pCLElBQUlNLE1BQU0sd0JBQXdCNGtCLE9BQU9sbEIsRUFBRyxvREM5WHBELElDK0ZFMjJCLEdBQVNDLEdEN0ZBQyxNQUZBLFlBQ1EsSUFDcUQsZ0JBT25Eekosd0JBQ0swSixTQUNkLElBQUl6UixZQUFZLHlEQUduQitILFFBQVVBLEdBQVcsYUFPbEI3cEIsVUFBVThkLEtBQU8sY0FDakI5ZCxVQUFVMGMsYUFBYyxJQU94QjFjLFVBQVVpZSxRQUFVLGtCQUNyQnRoQixLQUFLa3RCLFdBU0o3cEIsVUFBVUksU0FBVyxrQkFDdEIsSUFBTXpELEtBQUtrdEIsUUFBUTFKLEtBQUssTUFBUSxPQVUvQm5nQixVQUFVd3pCLE9BQVMsa0JBQ3BCLENBQ0xDLE9BQVEsWUFDUjVKLFFBQVNsdEIsS0FBS2t0QixZQVlSNkosU0FBVyxTQUFVQyxVQUN0QixJQUFJSixFQUFVSSxFQUFLOUosVUFHckIwSixJQUNOLENBQ0RLLFNBQVMsSUMxRFBDLEdBQVksS0FPZEMsR0FBVyxtQkFHWEMsR0FBTyxxZ0NBR1BuMUIsR0FBSyxxZ0NBSUxvMUIsR0FBVyxDQU9UOUksVUFBVyxHQWlCWCtJLFNBQVUsRUFlVkMsT0FBUSxFQUlSQyxZQUlBQyxTQUFXLEdBSVhDLE1BQU9SLEdBSVBTLEtBQU1ULEdBR05VLFFBQVEsR0FRVkMsSUFBVyxFQUdYQyxHQUFrQkMsb0NBSWxCQyxHQUFZOTJCLEtBQUtTLE1BQ2pCczJCLEdBQVUvMkIsS0FBSzhELElBRWZrekIsR0FBVyw2Q0FDWEMsR0FBUSx5REFDUkMsR0FBVSxnREFDVkMsR0FBWSxxQ0FFWkMsR0FBTyxJQUlQQyxHQUFpQm5CLEdBQUszMUIsT0FBUyxFQUMvQisyQixHQUFldjJCLEdBQUdSLE9BQVMsRUFHM0JnM0IsR0FBSSxDQUFFelcsS0FBTSxvQkFnMUVkLFlBQXdCaFMsT0FDbEJ4TSxFQUFHazFCLEVBQUdDLEVBQ1JDLEVBQWtCNW9CLEVBQUV2TyxPQUFTLEVBQzdCOGhCLEVBQU0sR0FDTmhqQixFQUFJeVAsRUFBRSxNQUVKNG9CLEVBQWtCLEVBQUcsUUFDaEJyNEIsRUFDRmlELEVBQUksRUFBR0EsRUFBSW8xQixFQUFpQnAxQixPQS8xRXhCLEtBZzJFRndNLEVBQUV4TSxHQUFLLElBQ00vQixhQUNKbzNCLEdBQWNILE9BQ3JCQyxLQW4yRUEsUUFzMkVMM29CLEVBQUV4TSxJQUNHLElBQ1MvQixhQUNKbzNCLEdBQWNILGFBQ2IsSUFBTm40QixTQUNGLFNBSUZBLEVBQUksSUFBTyxNQUFTLFVBRXBCZ2pCLEVBQU1oakIsRUFJZixZQUFvQmlELEVBQUduQyxFQUFLQyxNQUN0QmtDLE1BQVFBLEdBQUtBLEVBQUluQyxHQUFPbUMsRUFBSWxDLFFBQ3hCbEIsTUFBTTAzQixHQUFrQnQwQixHQVVsQyxZQUE2QndNLEVBQUd4TSxFQUFHczFCLEVBQUlDLE9BQ2pDQyxFQUFJTixFQUFHbnZCLEVBQUcwdkIsTUFHVFAsRUFBSTFvQixFQUFFLEdBQUkwb0IsR0FBSyxHQUFJQSxHQUFLLEtBQU1sMUIsV0FHN0JBLEVBQUksTUF4NEVDLElBMDRFSixNQUVBdEMsS0FBS1UsUUFBVSxHQTU0RVgsTUFBQSxLQW01RVBxMkIsR0FBUSxHQW41RUQsRUFtNUVnQnowQixLQUN0QndNLEVBQUVncEIsR0FBTU4sRUFBSSxFQUVBLE1BQWJLLEVBQ0V2MUIsRUFBSSxHQUNHLEdBQUxBLElBQWF5MUIsRUFBSyxJQUFNLEVBQ2QsR0FBTHoxQixNQUFheTFCLEVBQUssR0FBSyxLQUM1QkgsRUFBSyxHQUFXLE9BQU5HLEdBQWVILEVBQUssR0FBVyxPQUFORyxHQUFxQixLQUFOQSxHQUFxQixHQUFOQSxRQUUzRCxHQUFLQSxFQUFLLEdBQUtQLEdBQUtJLEVBQUssR0FBS0csRUFBSyxHQUFLUCxFQUFJLE9BQ2pETSxFQUFLLEdBQUtOLEVBQUksSUFBTSxJQUFNVCxHQUFRLEdBQUl6MEIsRUFBSSxHQUFLLE9BQ3pDazFCLEVBQUksR0FBVyxHQUFOTyxJQUF5QyxNQUExQkQsRUFBSyxHQUFLTixFQUFJLElBQU0sR0FHckRsMUIsRUFBSSxHQUNHLEdBQUxBLElBQWF5MUIsRUFBSyxJQUFPLEVBQ2YsR0FBTHoxQixJQUFheTFCLEVBQUssSUFBTSxFQUNuQixHQUFMejFCLE1BQWF5MUIsRUFBSyxHQUFLLFNBQ2RILEVBQUssSUFBWSxNQUFORyxJQUFlRixHQUFhRCxFQUFLLEdBQVcsTUFBTkcsVUFFaERILEVBQUssSUFBTUcsRUFBSyxHQUFLUCxJQUN0Q0ssR0FBYUQsRUFBSyxHQUFNRyxFQUFLLEdBQUtQLEVBQUksT0FDbkNNLEVBQUssR0FBS04sRUFBSSxJQUFPLElBQU1ULEdBQVEsR0FBSXowQixFQUFJLEdBQUssRUFJbEQrRixFQU9ULFlBQXFCZ2EsRUFBSzJWLEVBQVFDLFdBQzVCdmYsRUFFRndmLEVBREFoVyxFQUFNLENBQUMsR0FFUDVmLEVBQUksRUFDSjYxQixFQUFPOVYsRUFBSTloQixPQUVOK0IsRUFBSTYxQixHQUFPLEtBQ1hELEVBQU9oVyxFQUFJM2hCLE9BQVEyM0IsT0FBYUEsSUFBU0YsUUFDMUMsSUFBTS9CLEdBQVNuVSxRQUFRTyxFQUFJd08sT0FBT3Z1QixNQUNqQ29XLEVBQUksRUFBR0EsRUFBSXdKLEVBQUkzaEIsT0FBUW1ZLElBQ3RCd0osRUFBSXhKLEdBQUt1ZixFQUFVLFNBQ0YsSUFBZi9WLEVBQUl4SixFQUFJLE9BQW1CQSxFQUFJLEdBQUssS0FDcENBLEVBQUksSUFBTXdKLEVBQUl4SixHQUFLdWYsRUFBVSxJQUM3QnZmLElBQU11ZixXQUtUL1YsRUFBSWtXLFVBdjNFYmIsR0FBRWMsY0FBZ0JkLEdBQUUxMkIsSUFBTSxlQUNwQmpDLEVBQUksSUFBSUUsS0FBS0ssWUFBWUwsYUFDekJGLEVBQUVZLEVBQUksTUFBS0EsRUFBSSxHQUNaODRCLEdBQVMxNUIsSUFTbEIyNEIsR0FBRTcyQixLQUFPLGtCQUNBNDNCLEdBQVMsSUFBSXg1QixLQUFLSyxZQUFZTCxNQUFPQSxLQUFLZ0IsRUFBSSxFQUFHLElBWTFEeTNCLEdBQUVnQixXQUFhaEIsR0FBRWlCLElBQU0sU0FBVTM1QixPQUMzQnlELEVBQUdvVyxFQUFHK2YsRUFBS0MsRUFDYjk1QixFQUFJRSxLQUNKNjVCLEVBQUsvNUIsRUFBRWtRLEVBQ1A4cEIsS0FBVSxJQUFJaDZCLEVBQUVPLFlBQVlOLElBQUlpUSxFQUNoQytwQixFQUFLajZCLEVBQUVZLEVBQ1BzNUIsRUFBS2o2QixFQUFFVyxNQUdKbTVCLElBQU9DLFNBQ0ZDLEdBQU9DLEVBQVdELElBQU9DLEVBQUtELEVBQUtGLElBQU9DLEVBQUssR0FBS0QsRUFBS0UsRUFBSyxFQUFJLEtBQXRERSxRQUlqQkosRUFBRyxLQUFPQyxFQUFHLFVBQVdELEVBQUcsR0FBS0UsRUFBS0QsRUFBRyxJQUFNRSxFQUFLLEtBR3BERCxJQUFPQyxTQUFXRCxLQUdsQmo2QixFQUFFa0IsSUFBTWpCLEVBQUVpQixTQUFVbEIsRUFBRWtCLEVBQUlqQixFQUFFaUIsRUFBSSs0QixFQUFLLEVBQUksU0FNeEN2MkIsRUFBSSxFQUFHb1csS0FKTmlnQixFQUFHcDRCLFdBQ0hxNEIsRUFBR3I0QixRQUdtQms0QixFQUFNQyxFQUFLcDJCLEVBQUlvVyxJQUFLcFcsS0FDMUNxMkIsRUFBR3IyQixLQUFPczJCLEVBQUd0MkIsVUFBV3EyQixFQUFHcjJCLEdBQUtzMkIsRUFBR3QyQixHQUFLdTJCLEVBQUssRUFBSSxZQUloREosSUFBUUMsRUFBTSxFQUFJRCxFQUFNQyxFQUFNRyxFQUFLLEVBQUksTUFpQmhEdEIsR0FBRXlCLE9BQVN6QixHQUFFeDFCLElBQU0sZUFDYmszQixFQUFJckIsRUFDTmg1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sbUJBRU5QLEVBQUVrUSxFQUdGbFEsRUFBRWtRLEVBQUUsTUFFSm9xQixFQUFLN0wsWUFDTDZMLEVBQUs5QyxXQUNML0ksVUFBWTRMLEVBQUtqNUIsS0FBS0UsSUFBSXRCLEVBQUVrQixFQUFHbEIsRUFBRXU2QixNQXJLM0IsSUFzS04vQyxTQUFXLElBMHlFbEIsU0FBZ0I4QyxFQUFNdDZCLE9BQ2hCNDRCLEVBQUczNEIsRUFDTDRILEVBQU03SCxFQUFFa1EsRUFBRXZPLE9BTVJrRyxFQUFNLFFBRUMyeUIsR0FBUSxJQURicDVCLEtBQUtVLEtBQUsrRixFQUFNLEtBQ0lsRSxjQUVwQixLQUNBLGtDQUdEOHFCLFdBQWFtSyxJQUVkNkIsR0FBYUgsRUFBTSxFQUFHdDZCLEVBQUUwNkIsTUFBTXo2QixHQUFJLElBQUlxNkIsRUFBSyxZQUd0QzUyQixFQUFJazFCLEVBQUdsMUIsS0FBTSxLQUNoQmkzQixFQUFRMzZCLEVBQUUwNkIsTUFBTTE2QixLQUNoQjI2QixFQUFNRCxNQUFNQyxHQUFPQyxNQUFNRCxHQUFPRCxNQUFNLEdBQUdHLEtBQUssYUFHL0NwTSxXQUFhbUssRUFFWDU0QixFQXAwRUhvNkIsQ0FBT0UsRUFBTVEsR0FBaUJSLEVBQU10NkIsTUFFbkN5dUIsVUFBWTRMLElBQ1o3QyxTQUFXd0IsRUFFVFUsR0FBcUIsR0FBWjlDLElBQTZCLEdBQVpBLEdBQWdCNTJCLEVBQUUrNkIsTUFBUS82QixFQUFHcTZCLEVBQUlyQixHQUFJLElBWmxELElBQUlzQixFQUFLLEdBSFosSUFBSUEsRUFBS0gsTUFtQzVCeEIsR0FBRXFDLFNBQVdyQyxHQUFFc0MsS0FBTyxlQUNoQi81QixFQUFHRCxFQUFHOEMsRUFBRzBGLEVBQUd5eEIsRUFBS3Q2QixFQUFHMjVCLEVBQUl2MkIsRUFBR20zQixFQUFJQyxFQUNqQ3A3QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sZ0JBRU5QLEVBQUVxdUIsWUFBY3J1QixFQUFFa3hCLGdCQUFpQixJQUFJb0osRUFBS3Q2QixXQUN0QyxLQUdQQSxFQUFFWSxFQUFJdTNCLEdBQVFuNEIsRUFBRVksRUFBSVosRUFBRyxFQUFJLEtBSXJCb0IsS0FBS2EsSUFBSXJCLElBQU0sRUFBQSxJQXFCbkIsSUFBSTA1QixFQUFLMTVCLEVBQUUrQyxlQXBCWDAzQixHQUFlcjdCLEVBQUVrUSxJQUlqQnRQLE1BSEFaLEVBQUVrQixHQUdPNkMsRUFBRXBDLE9BQVMsR0FBSyxRQUFjLEdBQUxmLE9BQVVBLEVBQVUsSUFBTSxRQUM1RHUzQixHQUFRcDBCLEVBQUcsRUFBSSxLQUdmbTBCLE1BQWUsR0FBSyxNQUFVLE1BQVUsS0FBUyxPQVNqRCxJQUFJb0MsSUFQSjE1QixHQUFLLEVBQUEsRUFDSCxLQUFPTSxLQUVQTixFQUFFaXVCLGlCQUNBdkssTUFBTSxFQUFHdmdCLEVBQUVtZixRQUFRLEtBQU8sR0FBS2hpQixJQUlyQ04sRUFBSVosRUFBRVksUUFLQTA1QixFQUFLN0wsV0FBYSxlQUt0QmhsQixHQUNHaXhCLE1BQU0xMkIsR0FBRzAyQixNQUFNMTJCLElBQ1Q2MkIsS0FBSzc2QixLQUNkczdCLEdBQU9GLEVBQVFQLEtBQUs3NkIsR0FBRzA2QixNQUFNMTJCLEdBQUlvM0IsRUFBUVAsS0FBS00sR0FBS1osRUFBSyxFQUFHLEdBRzNEYyxHQUFlcjNCLEVBQUVrTSxHQUFHb1UsTUFBTSxFQUFHaVcsUUFBYWMsR0FBZTV4QixFQUFFeUcsSUFBSW9VLE1BQU0sRUFBR2lXLEdBQUssSUFLdEUsV0FKTHgyQixFQUFFdWdCLE1BQU1pVyxFQUFLLEVBQUdBLEVBQUssTUFJTFcsR0FBWSxRQUFMbjNCLEdBZXBCLEVBSUNBLEtBQU9BLEVBQUV1Z0IsTUFBTSxJQUFxQixLQUFmdmdCLEVBQUVrdUIsT0FBTyxTQUd6QnhvQixFQUFHdkksRUFBSSxFQUFHLE1BQ2R1SSxFQUFFaXhCLE1BQU1qeEIsR0FBR2l4QixNQUFNanhCLEdBQUc4eEIsR0FBR3Y3QixjQW5CekJrN0IsT0FDTWwzQixFQUFHOUMsRUFBSSxFQUFHLEdBRWY4QyxFQUFFMDJCLE1BQU0xMkIsR0FBRzAyQixNQUFNMTJCLEdBQUd1M0IsR0FBR3Y3QixJQUFJLEdBQ3pCZ0UsV0FLRixJQUNBLGNBaUJELEVBRUowMUIsR0FBU2p3QixFQUFHdkksRUFBR281QixFQUFLOUMsU0FBVXYyQixJQVF2QzAzQixHQUFFNkMsY0FBZ0I3QyxHQUFFOEMsR0FBSyxlQUNuQmg3QixFQUNGeVAsRUFBSWhRLEtBQUtnUSxFQUNUbk0sRUFBSW8yQixPQUVGanFCLEVBQUcsTUFwU0ksTUFxU0xBLEVBQUV2TyxPQUFTLEdBQ051MkIsR0FBVWg0QixLQUFLZ0IsRUF0U2YsTUF5U0xnUCxFQUFFelAsUUFDUUEsRUFBSSxJQUFNLEVBQUdBLEdBQUssT0FDNUJzRCxFQUFJLE1BQU8sV0FHVkEsR0F5QlQ0MEIsR0FBRStDLFVBQVkvQyxHQUFFZ0QsSUFBTSxTQUFVMTdCLFVBQ3ZCcTdCLEdBQU9wN0IsS0FBTSxJQUFJQSxLQUFLSyxZQUFZTixLQVMzQzA0QixHQUFFaUQsbUJBQXFCakQsR0FBRWtELFNBQVcsU0FBVTU3QixPQUUxQ3E2QixFQURNcDZCLEtBQ0dLLG1CQUNKbTVCLEdBQVM0QixHQUZScDdCLEtBRWtCLElBQUlvNkIsRUFBS3I2QixHQUFJLEVBQUcsRUFBRyxHQUFJcTZCLEVBQUs3TCxVQUFXNkwsRUFBSzlDLFdBUXhFbUIsR0FBRTNoQixPQUFTMmhCLEdBQUU0QyxHQUFLLFNBQVV0N0IsVUFDSCxJQUFoQkMsS0FBSzA1QixJQUFJMzVCLElBU2xCMDRCLEdBQUU5MkIsTUFBUSxrQkFDRDYzQixHQUFTLElBQUl4NUIsS0FBS0ssWUFBWUwsTUFBT0EsS0FBS2dCLEVBQUksRUFBRyxJQVMxRHkzQixHQUFFbUQsWUFBY25ELEdBQUU3SCxHQUFLLFNBQVU3d0IsVUFDeEJDLEtBQUswNUIsSUFBSTM1QixHQUFLLEdBU3ZCMDRCLEdBQUVvRCxxQkFBdUJwRCxHQUFFcUQsSUFBTSxTQUFVLzdCLE9BQ3JDMjRCLEVBQUkxNEIsS0FBSzA1QixJQUFJMzVCLFVBQ0wsR0FBTDI0QixHQUFnQixJQUFOQSxHQTZCbkJELEdBQUVzRCxpQkFBbUJ0RCxHQUFFdUQsS0FBTyxlQUN4QnRELEVBQUc3MEIsRUFBR3MyQixFQUFJckIsRUFBSW54QixFQUNoQjdILEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyxZQUNUNDdCLEVBQU0sSUFBSTdCLEVBQUssT0FFWnQ2QixFQUFFcXVCLGtCQUFtQixJQUFJaU0sRUFBS3Q2QixFQUFFWSxFQUFJLEVBQUEsRUFBUXU1QixRQUM3Q242QixFQUFFa3hCLGdCQUFpQmlMLElBRWxCN0IsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsV0FDTC9JLFVBQVk0TCxFQUFLajVCLEtBQUtFLElBQUl0QixFQUFFa0IsRUFBR2xCLEVBQUV1NkIsTUFBUSxJQUN6Qy9DLFNBQVcsS0FDVngzQixFQUFFa1EsRUFBRXZPLFFBT0EsUUFFQzY0QixHQUFRLElBRGJwNUIsS0FBS1UsS0FBSytGLEVBQU0sS0FDSWxFLGNBRXBCLEtBQ0Esa0NBR0Y4MkIsR0FBYUgsRUFBTSxFQUFHdDZCLEVBQUUwNkIsTUFBTTMyQixHQUFJLElBQUl1MkIsRUFBSyxJQUFJLFdBRy9DOEIsRUFDRjE0QixFQUFJazFCLEVBQ0p5RCxFQUFLLElBQUkvQixFQUFLLEdBQ1Q1MkIsT0FDSzFELEVBQUUwNkIsTUFBTTE2QixLQUNkbThCLEVBQUl2QixNQUFNd0IsRUFBUTFCLE1BQU0yQixFQUFHekIsTUFBTXdCLEVBQVExQixNQUFNMkIsYUFHOUMzQyxHQUFTMTVCLEVBQUdzNkIsRUFBSzdMLFVBQVk0TCxFQUFJQyxFQUFLOUMsU0FBV3dCLEdBQUksSUFrQzlETCxHQUFFMkQsZUFBaUIzRCxHQUFFNEQsS0FBTyxlQUN0QjNELEVBQUd5QixFQUFJckIsRUFBSW54QixFQUNiN0gsRUFBSUUsS0FDSm82QixFQUFPdDZCLEVBQUVPLGdCQUVOUCxFQUFFcXVCLFlBQWNydUIsRUFBRWt4QixnQkFBaUIsSUFBSW9KLEVBQUt0NkIsUUFFNUNzNkIsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsV0FDTC9JLFVBQVk0TCxFQUFLajVCLEtBQUtFLElBQUl0QixFQUFFa0IsRUFBR2xCLEVBQUV1NkIsTUFBUSxJQUN6Qy9DLFNBQVcsS0FDVngzQixFQUFFa1EsRUFBRXZPLFFBRUEsSUFDSjg0QixHQUFhSCxFQUFNLEVBQUd0NkIsRUFBR0EsR0FBRyxRQUMzQixNQVdELElBQU1vQixLQUFLWSxLQUFLNkYsSUFDWixHQUFLLEdBQVMsRUFBSit3QixJQUdkNkIsR0FBYUgsRUFBTSxJQURuQnQ2QixFQUFFMDZCLE1BQU0sRUFBSUYsR0FBUSxFQUFHNUIsSUFDRTU0QixHQUFHLFdBRzVCdzhCLEVBQ0ZDLEVBQUssSUFBSW5DLEVBQUssR0FDZG9DLEVBQU0sSUFBSXBDLEVBQUssSUFDZnFDLEVBQU0sSUFBSXJDLEVBQUssSUFDVjFCLE9BQ0s1NEIsRUFBRTA2QixNQUFNMTZCLEtBQ2RBLEVBQUUwNkIsTUFBTStCLEVBQUc1QixLQUFLMkIsRUFBUTlCLE1BQU1nQyxFQUFJaEMsTUFBTThCLEdBQVMzQixLQUFLOEIsZ0JBSXpEbE8sVUFBWTRMLElBQ1o3QyxTQUFXd0IsRUFFVFUsR0FBUzE1QixFQUFHcTZCLEVBQUlyQixHQUFJLElBb0I3QkwsR0FBRWlFLGtCQUFvQmpFLEdBQUVrRSxLQUFPLGVBQ3pCeEMsRUFBSXJCLEVBQ05oNUIsRUFBSUUsS0FDSm82QixFQUFPdDZCLEVBQUVPLG1CQUVOUCxFQUFFcXVCLFdBQ0hydUIsRUFBRWt4QixTQUFpQixJQUFJb0osRUFBS3Q2QixNQUUzQnM2QixFQUFLN0wsWUFDTDZMLEVBQUs5QyxXQUNML0ksVUFBWTRMLEVBQUssSUFDakI3QyxTQUFXLEVBRVQ4RCxHQUFPdDdCLEVBQUV1OEIsT0FBUXY4QixFQUFFazhCLE9BQVE1QixFQUFLN0wsVUFBWTRMLEVBQUlDLEVBQUs5QyxTQUFXd0IsSUFSN0MsSUFBSXNCLEVBQUt0NkIsRUFBRVksSUErQnZDKzNCLEdBQUVtRSxjQUFnQm5FLEdBQUVodkIsS0FBTyxlQUNyQm96QixFQUNGLzhCLEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyxZQUNUcTRCLEVBQUk1NEIsRUFBRWlDLE1BQU0yM0IsSUFBSSxHQUNoQlMsRUFBS0MsRUFBSzdMLFVBQ1Z1SyxFQUFLc0IsRUFBSzlDLHFCQUVSb0IsRUFDVyxJQUFOQSxFQUVINTRCLEVBQUVnOUIsUUFBVUMsR0FBTTNDLEVBQU1ELEVBQUlyQixHQUFNLElBQUlzQixFQUFLLEdBRTNDLElBQUlBLEVBQUtILEtBR1huNkIsRUFBRWt4QixTQUFpQitMLEdBQU0zQyxFQUFNRCxFQUFLLEVBQUdyQixHQUFJMEIsTUFBTSxPQUloRGpNLFVBQVk0TCxFQUFLLElBQ2pCN0MsU0FBVyxJQUVaeDNCLEVBQUVrOUIsU0FDR0QsR0FBTTNDLEVBQU1ELEVBQUssRUFBR3JCLEdBQUkwQixNQUFNLE1BRWxDak0sVUFBWTRMLElBQ1o3QyxTQUFXd0IsRUFFVCtELEVBQU9uQyxNQUFNNTZCLEtBdUJ0QjI0QixHQUFFd0Usd0JBQTBCeEUsR0FBRXlFLE1BQVEsZUFDaEMvQyxFQUFJckIsRUFDTmg1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sbUJBRVBQLEVBQUVxOUIsSUFBSSxHQUFXLElBQUkvQyxFQUFLdDZCLEVBQUV1N0IsR0FBRyxHQUFLLEVBQUlwQixLQUN2Q242QixFQUFFcXVCLGNBRUZpTSxFQUFLN0wsWUFDTDZMLEVBQUs5QyxXQUNML0ksVUFBWTRMLEVBQUtqNUIsS0FBS0UsSUFBSUYsS0FBS2EsSUFBSWpDLEVBQUVrQixHQUFJbEIsRUFBRXU2QixNQUFRLElBQ25EL0MsU0FBVyxNQUNMLElBRVB4M0IsRUFBRTA2QixNQUFNMTZCLEdBQUc0NkIsTUFBTSxHQUFHNTRCLE9BQU82NEIsS0FBSzc2QixPQUV6QixJQUNOeXVCLFVBQVk0TCxJQUNaN0MsU0FBV3dCLEVBRVRoNUIsRUFBRXM5QixNQWRpQixJQUFJaEQsRUFBS3Q2QixJQWtDckMyNEIsR0FBRTRFLHNCQUF3QjVFLEdBQUU2RSxNQUFRLGVBQzlCbkQsRUFBSXJCLEVBQ05oNUIsRUFBSUUsS0FDSm82QixFQUFPdDZCLEVBQUVPLG9CQUVOUCxFQUFFcXVCLFlBQWNydUIsRUFBRWt4QixTQUFpQixJQUFJb0osRUFBS3Q2QixNQUU1Q3M2QixFQUFLN0wsWUFDTDZMLEVBQUs5QyxXQUNML0ksVUFBWTRMLEVBQUssRUFBSWo1QixLQUFLRSxJQUFJRixLQUFLYSxJQUFJakMsRUFBRWtCLEdBQUlsQixFQUFFdTZCLE1BQVEsSUFDdkQvQyxTQUFXLE1BQ0wsSUFFUHgzQixFQUFFMDZCLE1BQU0xNkIsR0FBRzY2QixLQUFLLEdBQUc3NEIsT0FBTzY0QixLQUFLNzZCLE9BRXhCLElBQ055dUIsVUFBWTRMLElBQ1o3QyxTQUFXd0IsRUFFVGg1QixFQUFFczlCLE9BdUJYM0UsR0FBRThFLHlCQUEyQjlFLEdBQUUrRSxNQUFRLGVBQ2pDckQsRUFBSXJCLEVBQUkyRSxFQUFLQyxFQUNmNTlCLEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyxtQkFFTlAsRUFBRXF1QixXQUNIcnVCLEVBQUVrQixHQUFLLEVBQVUsSUFBSW81QixFQUFLdDZCLEVBQUVpQyxNQUFNczVCLEdBQUcsR0FBS3Y3QixFQUFFWSxFQUFJLEVBQUlaLEVBQUVreEIsU0FBV2x4QixFQUFJbTZCLFFBRXBFRyxFQUFLN0wsWUFDTDZMLEVBQUs5QyxXQUNKeDNCLEVBQUV1NkIsS0FFSm41QixLQUFLRSxJQUFJczhCLEVBQUt2RCxHQUFNLEdBQUtyNkIsRUFBRWtCLEVBQUksRUFBVXc0QixHQUFTLElBQUlZLEVBQUt0NkIsR0FBSXE2QixFQUFJckIsR0FBSSxNQUV0RXZLLFVBQVlrUCxFQUFNQyxFQUFNNTlCLEVBQUVrQixJQUUzQm82QixHQUFPdDdCLEVBQUU2NkIsS0FBSyxHQUFJLElBQUlQLEVBQUssR0FBR00sTUFBTTU2QixHQUFJMjlCLEVBQU10RCxFQUFJLEtBRWpENUwsVUFBWTRMLEVBQUssSUFDakI3QyxTQUFXLElBRVp4M0IsRUFBRXM5QixPQUVEN08sVUFBWTRMLElBQ1o3QyxTQUFXd0IsRUFFVGg1QixFQUFFMDZCLE1BQU0sTUFyQlcsSUFBSUosRUFBS0gsTUE4Q3JDeEIsR0FBRWtGLFlBQWNsRixHQUFFdUUsS0FBTyxlQUNuQkgsRUFBUW5FLEVBQ1Z5QixFQUFJckIsRUFDSmg1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sbUJBRVBQLEVBQUVreEIsU0FBaUIsSUFBSW9KLEVBQUt0NkIsTUFFNUJBLEVBQUVpQyxNQUFNMjNCLElBQUksS0FDWFUsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsY0FFTm9CLEVBR1EsSUFBTkEsTUFDT3FFLEdBQU0zQyxFQUFNRCxFQUFLLEVBQUdyQixHQUFJMEIsTUFBTSxLQUNoQzk1QixFQUFJWixFQUFFWSxFQUNObThCLEdBSUYsSUFBSXpDLEVBQUtILFFBS2IxTCxVQUFZNEwsRUFBSyxJQUNqQjdDLFNBQVcsSUFFWngzQixFQUFFMjdCLElBQUksSUFBSXJCLEVBQUssR0FBR00sTUFBTTU2QixFQUFFMDZCLE1BQU0xNkIsSUFBSWdDLE9BQU82NEIsS0FBSyxJQUFJaUQsU0FFbkRyUCxVQUFZNEwsSUFDWjdDLFNBQVd3QixFQUVUaDVCLEVBQUUwNkIsTUFBTSxNQXNCakIvQixHQUFFb0YsZUFBaUJwRixHQUFFbUYsS0FBTyxlQUN0QnA2QixFQUFHb1csRUFBRzhlLEVBQUc3MEIsRUFBR2k2QixFQUFJaDZCLEVBQUd5RixFQUFHazBCLEVBQUtqcEIsRUFDN0IxVSxFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sWUFDVDg1QixFQUFLQyxFQUFLN0wsVUFDVnVLLEVBQUtzQixFQUFLOUMsWUFFUHgzQixFQUFFcXVCLGVBT0lydUIsRUFBRWt4QixnQkFDSixJQUFJb0osRUFBS3Q2QixNQUNQQSxFQUFFaUMsTUFBTXM1QixHQUFHLElBQU1sQixFQUFLLEdBQUszQixhQUNoQ3VFLEdBQU0zQyxFQUFNRCxFQUFLLEVBQUdyQixHQUFJMEIsTUFBTSxNQUNoQzk1QixFQUFJWixFQUFFWSxFQUNENkksT0FaVSxLQUNaekosRUFBRVksU0FBVSxJQUFJMDVCLEVBQUtILFFBQ3RCRSxFQUFLLEdBQUszQixhQUNSdUUsR0FBTTNDLEVBQU1ELEVBQUssRUFBR3JCLEdBQUkwQixNQUFNLEtBQ2hDOTVCLEVBQUlaLEVBQUVZLEVBQ0Q2SSxRQVVOZ2xCLFVBQVlrUCxFQUFNdEQsRUFBSyxLQUN2QjdDLFNBQVcsRUFVWDl6QixJQUZEdEMsS0FBS0MsSUFBSSxHQUFJczhCLEVBejFCTixFQXkxQnVCLEVBQUksR0FFMUJqNkIsSUFBS0EsSUFBTzFELEVBQUUyN0IsSUFBSTM3QixFQUFFMDZCLE1BQU0xNkIsR0FBRzY2QixLQUFLLEdBQUc3NEIsT0FBTzY0QixLQUFLLFlBRWxELElBRVB6NUIsS0FBS1UsS0FBSzY3QixFQS8xQkgsS0FnMkJQLElBQ0MzOUIsRUFBRTA2QixNQUFNMTZCLEtBQ1QsSUFBSXM2QixFQUFLdDZCLEtBQ1JBLE9BR0UwRCxRQUNBczZCLEVBQUd0RCxNQUFNaG1CLEtBQ1ZqTCxFQUFFbXhCLE1BQU1vRCxFQUFHckMsSUFBSTUzQixHQUFLLE1BRW5CaTZCLEVBQUd0RCxNQUFNaG1CLFFBR0MsT0FGWDFRLEVBQUU2MkIsS0FBS21ELEVBQUdyQyxJQUFJNTNCLEdBQUssS0FFakJtTSxFQUFFNEosT0FBb0JwVyxFQUFJb1csRUFBR3JRLEVBQUV5RyxFQUFFeE0sS0FBT00sRUFBRWtNLEVBQUV4TSxJQUFNQSxhQUd0RGsxQixNQUFPbnZCLEVBQUVpeEIsTUFBTSxHQUFNOUIsRUFBSSxRQUVsQixFQUVKYyxHQUFTandCLEVBQUc2d0IsRUFBSzdMLFVBQVk0TCxFQUFJQyxFQUFLOUMsU0FBV3dCLEdBQUksSUFROURMLEdBQUV0SyxTQUFXLG9CQUNGbnVCLEtBQUtnUSxHQVFoQnlvQixHQUFFakcsVUFBWWlHLEdBQUVzRixNQUFRLG9CQUNiLzlCLEtBQUtnUSxHQUFLZ29CLEdBQVVoNEIsS0FBS2dCLEVBdDRCdkIsR0FzNEJ1Q2hCLEtBQUtnUSxFQUFFdk8sT0FBUyxHQVFwRWczQixHQUFFbkssTUFBUSxtQkFDQXR1QixLQUFLVSxHQVFmKzNCLEdBQUV1RixXQUFhdkYsR0FBRXFFLE1BQVEsa0JBQ2hCOThCLEtBQUtVLEVBQUksR0FRbEIrM0IsR0FBRXdGLFdBQWF4RixHQUFFeUYsTUFBUSxrQkFDaEJsK0IsS0FBS1UsRUFBSSxHQVFsQiszQixHQUFFekgsT0FBUyxvQkFDQWh4QixLQUFLZ1EsR0FBbUIsSUFBZGhRLEtBQUtnUSxFQUFFLElBUTVCeW9CLEdBQUUwRixTQUFXMUYsR0FBRTJGLEdBQUssU0FBVXIrQixVQUNyQkMsS0FBSzA1QixJQUFJMzVCLEdBQUssR0FRdkIwNEIsR0FBRTRGLGtCQUFvQjVGLEdBQUUwRSxJQUFNLFNBQVVwOUIsVUFDL0JDLEtBQUswNUIsSUFBSTM1QixHQUFLLEdBa0N2QjA0QixHQUFFNkYsVUFBWTdGLEdBQUV4ekIsSUFBTSxTQUFVczVCLE9BQzFCQyxFQUFVeHVCLEVBQUcvQyxFQUFheXJCLEVBQUcrRixFQUFLQyxFQUFLckUsRUFBSTl3QixFQUM3Q2tmLEVBQU16b0IsS0FDTm82QixFQUFPM1IsRUFBSXBvQixZQUNYODVCLEVBQUtDLEVBQUs3TCxVQUNWdUssRUFBS3NCLEVBQUs5QyxZQUlBLE1BQVJpSCxJQUNLLElBQUluRSxFQUFLLE9BQ0wsT0FDTixTQUNFLElBQUlBLEVBQUttRSxJQUNQdnVCLEVBR0x1dUIsRUFBSzc5QixFQUFJLElBQU1zUCxJQUFNQSxFQUFFLElBQU11dUIsRUFBS2xELEdBQUcsVUFBVyxJQUFJakIsRUFBS0gsT0FFbERzRSxFQUFLbEQsR0FBRyxVQUdqQjVTLEVBQUl6WSxFQUdKeVksRUFBSS9uQixFQUFJLElBQU1zUCxJQUFNQSxFQUFFLElBQU15WSxFQUFJNFMsR0FBRyxVQUM5QixJQUFJakIsRUFBS3BxQixJQUFNQSxFQUFFLElBQUssRUFBQSxFQUFrQixHQUFUeVksRUFBSS9uQixFQUFTdTVCLElBQU1qcUIsRUFBSSxFQUFJLEVBQUEsTUFLL0R3dUIsS0FDRXh1QixFQUFFdk8sT0FBUyxLQUNQLE9BQ0QsS0FDQWkzQixFQUFJMW9CLEVBQUUsR0FBSTBvQixFQUFJLElBQU8sTUFBUyxLQUN2QixJQUFOQSxVQUlDLElBRUxpRyxHQUFpQmxXLElBRGxCMFIsRUFuQ0ssS0FxQ0lxRSxFQUFXSSxHQUFReEUsRUFBTUMsRUFBSyxJQUFNc0UsR0FBaUJKLEVBQU1sRSxHQW1CckV3RSxNQWhCQXpELEdBQU9zRCxFQUFLenhCLEVBQWFvdEIsRUFBSSxJQWdCUHJxQixFQUFHMG9CLEVBQUl5QixFQUFJckIsV0FJM0I2RixHQUFpQmxXLEtBRGpCLE1BRVErVixFQUFXSSxHQUFReEUsRUFBTUMsRUFBSyxJQUFNc0UsR0FBaUJKLEVBQU1sRSxLQUNyRWUsR0FBT3NELEVBQUt6eEIsRUFBYW90QixFQUFJLElBRTVCb0UsRUFBSyxFQUdIdEQsR0FBZTV4QixFQUFFeUcsR0FBR29VLE1BQU1zVSxFQUFJLEVBQUdBLEVBQUksSUFBTSxHQUFLLFNBQy9DYyxHQUFTandCLEVBQUc0d0IsRUFBSyxFQUFHLGlCQUtyQjBFLEdBQW9CdDFCLEVBQUV5RyxFQUFHMG9CLEdBQUssR0FBSUksZUFHbEMsRUFFSlUsR0FBU2p3QixFQUFHNHdCLEVBQUlyQixJQWlEekJMLEdBQUVpQyxNQUFRakMsR0FBRXByQixJQUFNLFNBQVV0TixPQUN0QmlRLEVBQUdoUCxFQUFHd0MsRUFBR29XLEVBQUc4ZSxFQUFHL3dCLEVBQUt3eUIsRUFBSXJCLEVBQUllLEVBQUlpRixFQUFJQyxFQUFNakYsRUFDNUNoNkIsRUFBSUUsS0FDSm82QixFQUFPdDZCLEVBQUVPLGlCQUVQLElBQUkrNUIsRUFBS3I2QixJQUdSRCxFQUFFa1EsSUFBTWpRLEVBQUVpUSxTQUdSbFEsRUFBRVksR0FBTVgsRUFBRVcsRUFHTlosRUFBRWtRLElBQUt0UCxHQUFLWCxFQUFFVyxJQUtkLElBQUkwNUIsRUFBS3I2QixFQUFFaVEsR0FBS2xRLEVBQUVZLElBQU1YLEVBQUVXLEVBQUlaLEVBQUltNkIsT0FSckIsSUFBSUcsRUFBS0gsS0FVeEJsNkIsS0FJTEQsRUFBRVksR0FBS1gsRUFBRVcsV0FDVEEsR0FBS1gsRUFBRVcsRUFDRlosRUFBRTY2QixLQUFLNTZCLFFBR1hELEVBQUVrUSxJQUNGalEsRUFBRWlRLElBQ0ZvcUIsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsVUFHTHVDLEVBQUcsS0FBT0MsRUFBRyxHQUFJLElBR2hCQSxFQUFHLEtBQU1wNUIsR0FBS1gsRUFBRVcsWUFHWG01QixFQUFHLFVBSUEsSUFBSU8sRUFBWSxJQUFQdEIsS0FBZ0IsS0FKakIsSUFBSXNCLEVBQUt0NkIsV0FNdEIrM0IsR0FBVzJCLEdBQVN6NUIsRUFBR282QixFQUFJckIsR0FBTS80QixPQU10Q2k0QixHQUFVajRCLEVBQUVpQixFQXpwQ0wsS0EwcENOZzNCLEdBQVVsNEIsRUFBRWtCLEVBMXBDTixLQTRwQ042NEIsRUFBR3pWLFVBQ0owYSxFQUFLOTlCLEVBR0YsUUFDRTAzQixFQUFJLE1BR0xtQixLQUNDbkIsSUFDQ29CLEVBQUdyNEIsV0FFTHE0QixJQUNBZ0YsSUFDRWpGLEVBQUdwNEIsUUFRUGkzQixLQUZBeDNCLEtBQUtFLElBQUlGLEtBQUtVLEtBQUt1NEIsRUFockNkLEdBZ3JDOEJ4eUIsR0FBTyxPQUd4Q25FLElBQ0YvQixPQUFTLEtBSVg2M0IsVUFDRzkxQixFQUFJazFCLEVBQUdsMUIsT0FBUWdsQixLQUFLLEtBQ3ZCOFEsZ0JBR0csV0FJRE8sRUFBR3A0QixXQUNEcTRCLEVBQUdyNEIsYUFFTytCLEdBRVhBLEVBQUksRUFBR0EsRUFBSW1FLEVBQUtuRSxPQUNmcTJCLEVBQUdyMkIsSUFBTXMyQixFQUFHdDJCLEdBQUksR0FDWHEyQixFQUFHcjJCLEdBQUtzMkIsRUFBR3QyQixXQUtsQixPQUdGdTdCLE1BQ0VsRixJQUNDQyxJQUNBOXBCLElBQ0h0UCxHQUFLWCxFQUFFVyxLQUdMbTVCLEVBQUdwNEIsT0FJSitCLEVBQUlzMkIsRUFBR3I0QixPQUFTa0csRUFBS25FLEVBQUksSUFBS0EsSUFBTW1FLEtBQVMsTUFHN0NuRSxFQUFJczJCLEVBQUdyNEIsT0FBUStCLEVBQUlrMUIsR0FBSSxJQUV0Qm1CLElBQUtyMkIsR0FBS3MyQixFQUFHdDJCLEdBQUksS0FDZG9XLEVBQUlwVyxFQUFHb1csR0FBaUIsSUFBWmlnQixJQUFLamdCLE1BQWNBLEdBQUswZSxHQUFPLElBQzlDdUIsRUFBR2pnQixLQUNGcFcsSUFBTTgwQixNQUdSOTBCLElBQU1zMkIsRUFBR3QyQixTQUlPLElBQWRxMkIsSUFBS2x5QixNQUFnQjZvQixXQUdYLElBQVZxSixFQUFHLEdBQVVBLEVBQUd2SixVQUFXdHZCLFNBRzdCNjRCLEVBQUcsTUFFTjdwQixFQUFJNnBCLElBQ0o3NEIsRUFBSWcrQixHQUFrQm5GLEVBQUk3NEIsR0FFckI2MkIsR0FBVzJCLEdBQVN6NUIsRUFBR282QixFQUFJckIsR0FBTS80QixHQUxyQixJQUFJcTZCLEVBQVksSUFBUHRCLEtBQWdCLElBaUM5Q0wsR0FBRWxCLE9BQVNrQixHQUFFd0csSUFBTSxTQUFVbC9CLE9BQ3ZCb0YsRUFDRnJGLEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyxxQkFFUCxJQUFJKzVCLEVBQUtyNkIsSUFHUkQsRUFBRWtRLElBQU1qUSxFQUFFVyxHQUFLWCxFQUFFaVEsSUFBTWpRLEVBQUVpUSxFQUFFLEdBQVcsSUFBSW9xQixFQUFLSCxNQUcvQ2w2QixFQUFFaVEsR0FBS2xRLEVBQUVrUSxJQUFNbFEsRUFBRWtRLEVBQUUsR0FDZndwQixHQUFTLElBQUlZLEVBQUt0NkIsR0FBSXM2QixFQUFLN0wsVUFBVzZMLEVBQUs5QyxlQUl6QyxFQUVRLEdBQWY4QyxFQUFLN0MsVUFJSDZELEdBQU90N0IsRUFBR0MsRUFBRWdDLE1BQU8sRUFBRyxFQUFHLElBQzNCckIsR0FBS1gsRUFBRVcsSUFFTDA2QixHQUFPdDdCLEVBQUdDLEVBQUcsRUFBR3E2QixFQUFLN0MsT0FBUSxLQUcvQnB5QixFQUFFcTFCLE1BQU16NkIsT0FFRCxFQUVKRCxFQUFFNDZCLE1BQU12MUIsS0FVakJzekIsR0FBRXlHLG1CQUFxQnpHLEdBQUVoMEIsSUFBTSxrQkFDdEJ5NkIsR0FBbUJsL0IsT0FTNUJ5NEIsR0FBRWtHLGlCQUFtQmxHLEdBQUUyRSxHQUFLLGtCQUNuQnVCLEdBQWlCMytCLE9BUzFCeTRCLEdBQUUwRyxRQUFVMUcsR0FBRW9DLElBQU0sZUFDZC82QixFQUFJLElBQUlFLEtBQUtLLFlBQVlMLGVBQzNCVSxHQUFLWixFQUFFWSxFQUNGODRCLEdBQVMxNUIsSUF5QmxCMjRCLEdBQUVrQyxLQUFPbEMsR0FBRWxpQixJQUFNLFNBQVV4VyxPQUNyQnEvQixFQUFPcHZCLEVBQUdoUCxFQUFHd0MsRUFBR2sxQixFQUFHL3dCLEVBQUt3eUIsRUFBSXJCLEVBQUllLEVBQUlDLEVBQ3RDaDZCLEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyxpQkFFUCxJQUFJKzVCLEVBQUtyNkIsSUFHUkQsRUFBRWtRLElBQU1qUSxFQUFFaVEsU0FHUmxRLEVBQUVZLEdBQU1YLEVBQUVXLEVBTUxaLEVBQUVrUSxNQUFPLElBQUlvcUIsRUFBS3I2QixFQUFFaVEsR0FBS2xRLEVBQUVZLElBQU1YLEVBQUVXLEVBQUlaLEVBQUltNkIsUUFOL0IsSUFBSUcsRUFBS0gsS0FReEJsNkIsS0FJTEQsRUFBRVksR0FBS1gsRUFBRVcsV0FDVEEsR0FBS1gsRUFBRVcsRUFDRlosRUFBRTQ2QixNQUFNMzZCLFFBR1pELEVBQUVrUSxJQUNGalEsRUFBRWlRLElBQ0ZvcUIsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsVUFHTHVDLEVBQUcsS0FBT0MsRUFBRyxVQUlYQSxFQUFHLE9BQVEsSUFBSU0sRUFBS3Q2QixJQUVsQiszQixHQUFXMkIsR0FBU3o1QixFQUFHbzZCLEVBQUlyQixHQUFNLzRCLE9BTXRDaTRCLEdBQVVsNEIsRUFBRWtCLEVBejVDTCxLQTA1Q1BnM0IsR0FBVWo0QixFQUFFaUIsRUExNUNMLEtBNDVDTjY0QixFQUFHelYsVUFDSnNVLEVBQUkxM0IsRUFHRCxLQUVEd0MsRUFBSSxLQUNGcTJCLEtBQ0NyMkIsSUFDQ3MyQixFQUFHcjRCLFdBRUxxNEIsSUFDQXBCLElBQ0VtQixFQUFHcDRCLFFBT1ArQixRQUhBdEMsS0FBS1UsS0FBS3U0QixFQTc2Q0wsSUE4NkNDeHlCLEVBQU0rd0IsRUFBSSxFQUFJL3dCLEVBQU0sT0FHeEJBLElBQ0ZsRyxPQUFTLEtBSVg2M0IsVUFDSzkxQixPQUFRZ2xCLEtBQUssS0FDbEI4USxrQkFHRU8sRUFBR3A0QixXQUNMcTRCLEVBQUdyNEIsUUFHTyxNQUNSa0csSUFDQW15QixJQUNDRCxJQUNBN3BCLEdBSUZvdkIsRUFBUSxFQUFHNTdCLFVBQ0FBLEdBQUtxMkIsRUFBR3IyQixHQUFLczJCLEVBQUd0MkIsR0FBSzQ3QixHQUFTOUcsR0FBTyxJQUNoRDkwQixJQUFNODBCLE9BR1A4RyxNQUNDN08sUUFBUTZPLEtBQ1RwK0IsR0FLQzJHLEVBQU1reUIsRUFBR3A0QixPQUFxQixHQUFibzRCLElBQUtseUIsTUFBZTZvQixlQUV4Q3hnQixFQUFJNnBCLElBQ0o3NEIsRUFBSWcrQixHQUFrQm5GLEVBQUk3NEIsR0FFckI2MkIsR0FBVzJCLEdBQVN6NUIsRUFBR282QixFQUFJckIsR0FBTS80QixHQVUxQzA0QixHQUFFbEssVUFBWWtLLEdBQUU0QixHQUFLLFNBQVVyMEIsT0FDekIweUIsRUFDRjU0QixFQUFJRSxhQUVJLElBQU5nRyxHQUFnQkEsTUFBUUEsR0FBVyxJQUFOQSxHQUFpQixJQUFOQSxRQUFlNUYsTUFBTTAzQixHQUFrQjl4QixVQUUvRWxHLEVBQUVrUSxLQUNBcXZCLEdBQWF2L0IsRUFBRWtRLEdBQ2ZoSyxHQUFLbEcsRUFBRWtCLEVBQUksRUFBSTAzQixNQUFPNTRCLEVBQUVrQixFQUFJLE1BRTVCaTVCLElBR0N2QixHQVNURCxHQUFFNTJCLE1BQVEsZUFDSi9CLEVBQUlFLEtBQ05vNkIsRUFBT3Q2QixFQUFFTyxtQkFFSm01QixHQUFTLElBQUlZLEVBQUt0NkIsR0FBSUEsRUFBRWtCLEVBQUksRUFBR281QixFQUFLOUMsV0FtQjdDbUIsR0FBRTZHLEtBQU83RyxHQUFFdjFCLElBQU0sZUFDWGkzQixFQUFJckIsRUFDTmg1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sbUJBRU5QLEVBQUVxdUIsV0FDSHJ1QixFQUFFa3hCLFNBQWlCLElBQUlvSixFQUFLdDZCLE1BRTNCczZCLEVBQUs3TCxZQUNMNkwsRUFBSzlDLFdBQ0wvSSxVQUFZNEwsRUFBS2o1QixLQUFLRSxJQUFJdEIsRUFBRWtCLEVBQUdsQixFQUFFdTZCLE1BemhEM0IsSUEwaEROL0MsU0FBVyxJQSs3RGxCLFNBQWM4QyxFQUFNdDZCLE9BQ2Q0NEIsRUFDRi93QixFQUFNN0gsRUFBRWtRLEVBQUV2TyxVQUVSa0csRUFBTSxTQUFVNHlCLEdBQWFILEVBQU0sRUFBR3Q2QixFQUFHQSxRQU96QyxJQUFNb0IsS0FBS1ksS0FBSzZGLElBQ1osR0FBSyxHQUFTLEVBQUord0IsSUFFZDU0QixFQUFFMDZCLE1BQU0sRUFBSUYsR0FBUSxFQUFHNUIsTUFDdkI2QixHQUFhSCxFQUFNLEVBQUd0NkIsRUFBR0EsV0FHekJ5L0IsRUFDRmhELEVBQUssSUFBSW5DLEVBQUssR0FDZG9DLEVBQU0sSUFBSXBDLEVBQUssSUFDZnFDLEVBQU0sSUFBSXJDLEVBQUssSUFDVjFCLE9BQ0k1NEIsRUFBRTA2QixNQUFNMTZCLEtBQ2JBLEVBQUUwNkIsTUFBTStCLEVBQUc1QixLQUFLNEUsRUFBTy9FLE1BQU1nQyxFQUFJaEMsTUFBTStFLEdBQVE3RSxNQUFNK0IsYUFHcEQzOEIsRUF4OURIdy9CLENBQUtsRixFQUFNUSxHQUFpQlIsRUFBTXQ2QixNQUVqQ3l1QixVQUFZNEwsSUFDWjdDLFNBQVd3QixFQUVUVSxHQUFTOUMsR0FBVyxFQUFJNTJCLEVBQUUrNkIsTUFBUS82QixFQUFHcTZCLEVBQUlyQixHQUFJLElBYjFCLElBQUlzQixFQUFLSCxNQTZCckN4QixHQUFFK0csV0FBYS9HLEdBQUUzMkIsS0FBTyxlQUNsQmYsRUFBRzhDLEVBQUd3MkIsRUFBSTl3QixFQUFHeXhCLEVBQUtsM0IsRUFDcEJoRSxFQUFJRSxLQUNKZ1EsRUFBSWxRLEVBQUVrUSxFQUNOaFAsRUFBSWxCLEVBQUVrQixFQUNOTixFQUFJWixFQUFFWSxFQUNOMDVCLEVBQU90NkIsRUFBRU8sZUFHRCxJQUFOSyxJQUFZc1AsSUFBTUEsRUFBRSxVQUNmLElBQUlvcUIsR0FBTTE1QixHQUFLQSxFQUFJLEtBQU9zUCxHQUFLQSxFQUFFLElBQU1pcUIsSUFBTWpxQixFQUFJbFEsRUFBSSxFQUFBLFdBR25ELEVBT0YsTUFKTG9CLEtBQUtZLE1BQU1oQyxLQUlEWSxHQUFLLEVBQUEsT0FDYnk2QixHQUFlbnJCLElBRVp2TyxPQUFTVCxHQUFLLEdBQUssT0FBUSxPQUM5QkUsS0FBS1ksS0FBSytCLEtBQ1ZtMEIsTUFBZSxHQUFLLE1BQVUsR0FBS2gzQixFQUFJLEtBU3ZDLElBQUlvNUIsSUFQSjE1QixHQUFLLEVBQUEsRUFDSCxLQUFPTSxLQUVQTixFQUFFaXVCLGlCQUNBdkssTUFBTSxFQUFHdmdCLEVBQUVtZixRQUFRLEtBQU8sR0FBS2hpQixNQUtuQyxJQUFJbzVCLEVBQUsxNUIsRUFBRStDLGlCQUdQMjJCLEVBQUs3TCxXQUFhLFlBSXRCaGxCLEdBQ0VveEIsS0FBS1MsR0FBT3Q3QixFQUFHZ0UsRUFBR3UyQixFQUFLLEVBQUcsSUFBSUcsTUFBTSxJQUd0Q1csR0FBZXIzQixFQUFFa00sR0FBR29VLE1BQU0sRUFBR2lXLFFBQWFjLEdBQWU1eEIsRUFBRXlHLElBQUlvVSxNQUFNLEVBQUdpVyxHQUFLLElBS3RFLFdBSkx4MkIsRUFBRXVnQixNQUFNaVcsRUFBSyxFQUFHQSxFQUFLLE1BSUxXLEdBQVksUUFBTG4zQixHQWVwQixFQUlDQSxLQUFPQSxFQUFFdWdCLE1BQU0sSUFBcUIsS0FBZnZnQixFQUFFa3VCLE9BQU8sU0FHekJ4b0IsRUFBR3ZJLEVBQUksRUFBRyxNQUNkdUksRUFBRWl4QixNQUFNanhCLEdBQUc4eEIsR0FBR3Y3QixjQW5CaEJrN0IsT0FDTWwzQixFQUFHOUMsRUFBSSxFQUFHLEdBRWY4QyxFQUFFMDJCLE1BQU0xMkIsR0FBR3UzQixHQUFHdjdCLElBQUksR0FDaEJnRSxXQUtGLElBQ0EsY0FpQkQsRUFFSjAxQixHQUFTandCLEVBQUd2SSxFQUFHbzVCLEVBQUs5QyxTQUFVdjJCLElBaUJ2QzAzQixHQUFFZ0gsUUFBVWhILEdBQUVpSCxJQUFNLGVBQ2R2RixFQUFJckIsRUFDTmg1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sbUJBRU5QLEVBQUVxdUIsV0FDSHJ1QixFQUFFa3hCLFNBQWlCLElBQUlvSixFQUFLdDZCLE1BRTNCczZCLEVBQUs3TCxZQUNMNkwsRUFBSzlDLFdBQ0wvSSxVQUFZNEwsRUFBSyxLQUNqQjdDLFNBQVcsS0FFWngzQixFQUFFb0QsT0FDSnhDLEVBQUksSUFDRjA2QixHQUFPdDdCLEVBQUcsSUFBSXM2QixFQUFLLEdBQUdNLE1BQU01NkIsRUFBRTA2QixNQUFNMTZCLElBQUlnQyxPQUFRcTRCLEVBQUssR0FBSSxLQUV4RDVMLFVBQVk0TCxJQUNaN0MsU0FBV3dCLEVBRVRVLEdBQXFCLEdBQVo5QyxJQUE2QixHQUFaQSxHQUFnQjUyQixFQUFFKzZCLE1BQVEvNkIsRUFBR3E2QixFQUFJckIsR0FBSSxJQWY1QyxJQUFJc0IsRUFBS0gsTUF3Q3JDeEIsR0FBRStCLE1BQVEvQixHQUFFM0gsSUFBTSxTQUFVL3dCLE9BQ3RCcS9CLEVBQU9wK0IsRUFBR3dDLEVBQUdrMUIsRUFBR252QixFQUFHbzJCLEVBQUk3N0IsRUFBRzYxQixFQUFLQyxFQUNqQzk1QixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sWUFDVHc1QixFQUFLLzVCLEVBQUVrUSxFQUNQOHBCLEtBQVUsSUFBSU0sRUFBS3I2QixJQUFJaVEsT0FFdkJ0UCxHQUFLWixFQUFFWSxJQUdKbTVCLEdBQU9BLEVBQUcsSUFBT0MsR0FBT0EsRUFBRyxXQUV2QixJQUFJTSxHQUFNcjZCLEVBQUVXLEdBQUttNUIsSUFBT0EsRUFBRyxLQUFPQyxHQUFNQSxJQUFPQSxFQUFHLEtBQU9ELEVBSTVESSxJQUlDSixHQUFPQyxFQUFxQixFQUFOLzVCLEVBQUVXLEVBQVpYLEVBQUVXLEVBQUksU0FHckJzM0IsR0FBVWw0QixFQUFFa0IsRUEzdERMLEdBMnREcUJnM0IsR0FBVWo0QixFQUFFaUIsRUEzdERqQyxNQTR0REw2NEIsRUFBR3A0QixXQUNIcTRCLEVBQUdyNEIsWUFJSG80QixJQUNDQyxJQUNBdndCLElBQ0Fvd0IsSUFDQ0MsSUFDQStGLEtBSUosR0FFQ244QixJQURBbTJCLEVBQU1DLEVBQ0VwMkIsT0FBUWdsQixLQUFLLE9BR3JCaGxCLEVBQUlvMkIsSUFBT3AyQixHQUFLLEdBQUksT0FDZixFQUNIazFCLEVBQUlpQixFQUFNbjJCLEVBQUdrMUIsRUFBSWwxQixLQUNoQitGLEVBQUVtdkIsR0FBS29CLEVBQUd0MkIsR0FBS3EyQixFQUFHbkIsRUFBSWwxQixFQUFJLEdBQUs0N0IsSUFDakMxRyxLQUFPNTBCLEVBQUl3MEIsR0FBTyxJQUNaeDBCLEVBQUl3MEIsR0FBTyxJQUduQkksTUFBUUEsR0FBSzBHLEdBQVM5RyxHQUFPLFNBSXpCL3VCLElBQUlvMkIsTUFBUW5QLGFBRWhCNE8sSUFBU3ArQixJQUNOc3ZCLFVBRUx0Z0IsRUFBSXpHLElBQ0p2SSxFQUFJZytCLEdBQWtCejFCLEVBQUd2SSxHQUVwQjYyQixHQUFXMkIsR0FBU3o1QixFQUFHcTZCLEVBQUs3TCxVQUFXNkwsRUFBSzlDLFVBQVl2M0IsR0FjakUwNEIsR0FBRW1ILFNBQVcsU0FBVXZGLEVBQUl2QixVQUNsQitHLEdBQWU3L0IsS0FBTSxFQUFHcTZCLEVBQUl2QixJQWNyQ0wsR0FBRXFILGdCQUFrQnJILEdBQUVzSCxLQUFPLFNBQVV4RSxFQUFJekMsT0FDckNoNUIsRUFBSUUsS0FDTm82QixFQUFPdDZCLEVBQUVPLHFCQUVQLElBQUkrNUIsRUFBS3Q2QixRQUNGLElBQVB5N0IsRUFBc0J6N0IsTUFFZnk3QixFQUFJLEVBdDRERixVQXc0REYsSUFBUHpDLElBQW9Cc0IsRUFBSzlDLFlBQ2J3QixFQUFJLEVBQUcsR0FFaEJVLEdBQVMxNUIsRUFBR3k3QixFQUFLejdCLEVBQUVrQixFQUFJLEVBQUc4M0IsS0FZbkNMLEdBQUU5SixjQUFnQixTQUFVNE0sRUFBSXpDLE9BQzFCdlYsRUFDRnpqQixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sd0JBRUEsSUFBUGs3QixJQUNJeUUsR0FBZWxnQyxHQUFHLE9BRWJ5N0IsRUFBSSxFQS81REosVUFpNkRBLElBQVB6QyxJQUFvQnNCLEVBQUs5QyxZQUNid0IsRUFBSSxFQUFHLEtBR2pCa0gsS0FERnhHLEdBQVMsSUFBSVksRUFBS3Q2QixHQUFJeTdCLEVBQUssRUFBR3pDLElBQ1YsRUFBTXlDLEVBQUssSUFHOUJ6N0IsRUFBRWc5QixVQUFZaDlCLEVBQUVreEIsU0FBVyxJQUFNek4sRUFBTUEsR0FvQmhEa1YsR0FBRS9KLFFBQVUsU0FBVTZNLEVBQUl6QyxPQUNwQnZWLEVBQUt4akIsRUFDUEQsRUFBSUUsS0FDSm82QixFQUFPdDZCLEVBQUVPLHdCQUVBLElBQVBrN0IsSUFDSXlFLEdBQWVsZ0MsT0FFVnk3QixFQUFJLEVBcDhESixVQXM4REEsSUFBUHpDLElBQW9Cc0IsRUFBSzlDLFlBQ2J3QixFQUFJLEVBQUcsS0FHakJrSCxLQURGeEcsR0FBUyxJQUFJWSxFQUFLdDZCLEdBQUl5N0IsRUFBS3o3QixFQUFFa0IsRUFBSSxFQUFHODNCLElBQ2hCLEVBQU95QyxFQUFLeDdCLEVBQUVpQixFQUFJLElBS3JDbEIsRUFBRWc5QixVQUFZaDlCLEVBQUVreEIsU0FBVyxJQUFNek4sRUFBTUEsR0FlaERrVixHQUFFd0gsV0FBYSxTQUFVQyxPQUNuQmx3QixFQUFHak0sRUFBSUMsRUFBSUMsRUFBSWpELEVBQUcwM0IsRUFBRzcwQixFQUFHczhCLEVBQUkzeEIsRUFBSTJyQixFQUFJaDFCLEVBQUdvRSxFQUN6Q3pKLEVBQUlFLEtBQ0o2NUIsRUFBSy81QixFQUFFa1EsRUFDUG9xQixFQUFPdDZCLEVBQUVPLGdCQUVOdzVCLFNBQVcsSUFBSU8sRUFBS3Q2QixRQUVwQmlFLEVBQUssSUFBSXEyQixFQUFLLEtBQ2QrRixFQUFLLElBQUkvRixFQUFLLFdBRWYsSUFBSUEsRUFBS3AyQixJQUNQaEQsRUFBSXErQixHQUFheEYsR0FBTS81QixFQUFFa0IsRUFBSSxHQTM0RHhCLElBNjREVGdQLEVBQUUsR0FBS2lvQixHQUFRLEdBQUlTLEVBQUksRUE3NERkLEVBNjRENkJBLEVBQUlBLEdBRWhDLE1BQVJ3SCxJQUdLbC9CLEVBQUksRUFBSWdQLEVBQUl4QixPQUNkLFFBQ0QsSUFBSTRyQixFQUFLOEYsSUFDTm5DLFNBQVdsNkIsRUFBRXU2QixHQUFHNXZCLFNBQVdwTyxNQUFNMDNCLEdBQWtCajBCLEtBQ25EQSxFQUFFK3NCLEdBQUc1Z0IsR0FBTWhQLEVBQUksRUFBSWdQLEVBQUl4QixFQUFNM0ssV0FHM0IsSUFDUCxJQUFJdTJCLEVBQUtlLEdBQWV0QixNQUN2Qk8sRUFBSzdMLFlBQ0xBLFVBQVl2dEIsRUE1NUROLEVBNDVEVTY0QixFQUFHcDRCLE9BQW9CLElBR3RDMjVCLEdBQU92M0IsRUFBR21NLEVBQUcsRUFBRyxFQUFHLEdBRUgsTUFEZmpNLEVBQUc0MkIsS0FBS3gxQixFQUFFcTFCLE1BQU14MkIsS0FDZDAxQixJQUFJd0csTUFDTmw4QixJQUNBQyxJQUNBdUssSUFDQTJ4QixFQUFHeEYsS0FBS3gxQixFQUFFcTFCLE1BQU12MkIsTUFDaEJBLElBQ0ErTCxJQUNEbk0sRUFBRTYyQixNQUFNdjFCLEVBQUVxMUIsTUFBTXYyQixNQUNoQkEsV0FHRG0zQixHQUFPOEUsRUFBS3hGLE1BQU0zMkIsR0FBS0MsRUFBSSxFQUFHLEVBQUcsS0FDakNtOEIsRUFBR3hGLEtBQUsxMkIsRUFBR3UyQixNQUFNaHNCLE1BQ2pCekssRUFBRzQyQixLQUFLMTJCLEVBQUd1MkIsTUFBTXgyQixNQUNuQnRELEVBQUk4TixFQUFHOU4sRUFBSVosRUFBRVksSUFHWjA2QixHQUFPNXNCLEVBQUl4SyxFQUFJaEQsRUFBRyxHQUFHMDVCLE1BQU01NkIsR0FBR2lDLE1BQU0yM0IsSUFBSTBCLEdBQU8rRSxFQUFJcDhCLEVBQUkvQyxFQUFHLEdBQUcwNUIsTUFBTTU2QixHQUFHaUMsT0FBUyxFQUM3RSxDQUFDeU0sRUFBSXhLLEdBQU0sQ0FBQ204QixFQUFJcDhCLEtBRWpCd3FCLFVBQVk0TCxNQUNOLEVBRUo1d0IsR0FjVGt2QixHQUFFMkgsY0FBZ0IzSCxHQUFFNEgsTUFBUSxTQUFVaEcsRUFBSXZCLFVBQ2pDK0csR0FBZTcvQixLQUFNLEdBQUlxNkIsRUFBSXZCLElBb0J0Q0wsR0FBRTZILFVBQVksU0FBVXZnQyxFQUFHKzRCLE9BQ3JCaDVCLEVBQUlFLEtBQ05vNkIsRUFBT3Q2QixFQUFFTyxpQkFFUCxJQUFJKzVCLEVBQUt0NkIsR0FFSixNQUFMQyxFQUFXLEtBR1JELEVBQUVrUSxTQUFVbFEsSUFFYixJQUFJczZCLEVBQUssS0FDUkEsRUFBSzlDLGVBQ0wsTUFDRCxJQUFJOEMsRUFBS3I2QixRQUNGLElBQVArNEIsSUFDR3NCLEVBQUs5QyxZQUVDd0IsRUFBSSxFQUFHLElBSWZoNUIsRUFBRWtRLFNBQVVqUSxFQUFFVyxFQUFJWixFQUFJQyxNQUd0QkEsRUFBRWlRLFNBQ0RqUSxFQUFFVyxNQUFLQSxFQUFJWixFQUFFWSxHQUNWWCxTQUtQQSxFQUFFaVEsRUFBRSxRQUNLLElBQ1BvckIsR0FBT3Q3QixFQUFHQyxFQUFHLEVBQUcrNEIsRUFBSSxHQUFHMEIsTUFBTXo2QixPQUN0QixLQUNGRCxPQUlQWSxFQUFJWixFQUFFWSxJQUNKWCxHQUdDRCxHQVNUMjRCLEdBQUVsQyxTQUFXLG1CQUNIdjJCLE1BY1Z5NEIsR0FBRThILFFBQVUsU0FBVWxHLEVBQUl2QixVQUNqQitHLEdBQWU3L0IsS0FBTSxFQUFHcTZCLEVBQUl2QixJQStDckNMLEdBQUUrSCxRQUFVL0gsR0FBRXp6QixJQUFNLFNBQVVqRixPQUN4QmlCLEVBQUcwM0IsRUFBR3lCLEVBQUk1d0IsRUFBR3V2QixFQUFJcDRCLEVBQ25CWixFQUFJRSxLQUNKbzZCLEVBQU90NkIsRUFBRU8sWUFDVG9nQyxNQUFXLElBQUlyRyxFQUFLcjZCLFNBR2pCRCxFQUFFa1EsR0FBTWpRLEVBQUVpUSxHQUFNbFEsRUFBRWtRLEVBQUUsSUFBT2pRLEVBQUVpUSxFQUFFLFdBQVcsSUFBSW9xQixFQUFLbkMsSUFBU240QixFQUFHMmdDLFVBRWhFLElBQUlyRyxFQUFLdDZCLElBRVB1N0IsR0FBRyxVQUFXdjdCLE9BRWZzNkIsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsU0FFTnYzQixFQUFFczdCLEdBQUcsVUFBVzdCLEdBQVMxNUIsRUFBR3E2QixFQUFJckIsU0FHaENkLEdBQVVqNEIsRUFBRWlCLEVBbG1FTCxLQXFtRUZqQixFQUFFaVEsRUFBRXZPLE9BQVMsTUFBVWcvQixFQUFLLEdBQUtBLEVBQUtBLElBcG1FNUIsMEJBcW1FYkMsR0FBT3RHLEVBQU10NkIsRUFBRzQ0QixFQUFHeUIsR0FDaEJwNkIsRUFBRVcsRUFBSSxFQUFJLElBQUkwNUIsRUFBSyxHQUFHcUIsSUFBSWx5QixHQUFLaXdCLEdBQVNqd0IsRUFBRzR3QixFQUFJckIsU0FHcERoNUIsRUFBRVksR0FHRSxFQUFHLElBR0xNLEVBQUlqQixFQUFFaVEsRUFBRXZPLE9BQVMsU0FBVSxJQUFJMjRCLEVBQUtILFFBR3BCLElBQU4sSUFBUGpxQixFQUFFaFAsUUFBa0IsR0FHaEIsR0FBUGxCLEVBQUVrQixHQUFvQixHQUFWbEIsRUFBRWtRLEVBQUUsSUFBeUIsR0FBZGxRLEVBQUVrUSxFQUFFdk8sZ0JBQy9CZixFQUFJQSxFQUNDWixZQVNGLE1BRExtNEIsSUFBU240QixFQUFHMmdDLEtBQ0R0UyxTQUFTdUssR0FFcEIsSUFBSTBCLEVBQUsxQixFQUFJLElBQUkxM0IsRUFEakJnM0IsR0FBVXlJLFFBQVd4N0IsSUFBSSxLQUFPazJCLEdBQWVyN0IsRUFBRWtRLElBQU05TyxLQUFLazJCLEtBQU90M0IsRUFBRWtCLEVBQUksS0FNckVvNUIsRUFBS3pDLEtBQU8sR0FBSzMyQixFQUFJbzVCLEVBQUsxQyxLQUFPLEVBQVUsSUFBSTBDLEVBQUtwNUIsRUFBSSxFQUFJTixFQUFJLEVBQUksUUFFakUsSUFDTjQyQixTQUFXeDNCLEVBQUVZLEVBQUksSUFNbEJRLEtBQUtDLElBQUksTUFBUyxJQUFJTSxXQUd0Qnk5QixHQUFtQm4vQixFQUFFeTZCLE1BQU1tRSxHQUFpQjcrQixFQUFHcTZCLEVBQUt6QixJQUFLeUIsSUFHdkRucUIsR0FPQTZ1QixNQUpBckYsR0FBU2p3QixFQUFHNHdCLEVBQUssRUFBRyxJQUlFbnFCLEVBQUdtcUIsRUFBSXJCLE9BQzNCcUIsRUFBSyxJQU1KZ0IsTUFIRDNCLEdBQVMwRixHQUFtQm4vQixFQUFFeTZCLE1BQU1tRSxHQUFpQjcrQixFQUFHa0IsRUFBSTAzQixJQUFLMTNCLEdBQUlBLEVBQUksRUFBRyxJQUcxRGdQLEdBQUdvVSxNQUFNK1YsRUFBSyxFQUFHQSxFQUFLLElBQU0sR0FBSyxTQUNqRFgsR0FBU2p3QixFQUFHNHdCLEVBQUssRUFBRyxPQUs1Qno1QixFQUFJQSxNQUNLLElBQ040MkIsU0FBV3dCLEVBRVRVLEdBQVNqd0IsRUFBRzR3QixFQUFJckIsS0FlekJMLEdBQUU3SSxZQUFjLFNBQVV5SyxFQUFJdkIsT0FDeEJ2VixFQUNGempCLEVBQUlFLEtBQ0pvNkIsRUFBT3Q2QixFQUFFTyx3QkFFQSxJQUFQZzZCLElBQ0kyRixHQUFlbGdDLEVBQUdBLEVBQUVrQixHQUFLbzVCLEVBQUs1QyxVQUFZMTNCLEVBQUVrQixHQUFLbzVCLEVBQUszQyxjQUVqRDRDLEVBQUksRUFyeUVKLFVBdXlFQSxJQUFQdkIsSUFBb0JzQixFQUFLOUMsWUFDYndCLEVBQUksRUFBRyxLQUdqQmtILEtBREZ4RyxHQUFTLElBQUlZLEVBQUt0NkIsR0FBSXU2QixFQUFJdkIsR0FDTnVCLEdBQU12NkIsRUFBRWtCLEdBQUtsQixFQUFFa0IsR0FBS281QixFQUFLNUMsU0FBVTZDLElBR3REdjZCLEVBQUVnOUIsVUFBWWg5QixFQUFFa3hCLFNBQVcsSUFBTXpOLEVBQU1BLEdBa0JoRGtWLEdBQUV4SCxvQkFBc0J3SCxHQUFFa0ksS0FBTyxTQUFVdEcsRUFBSXZCLE9BRTNDc0IsRUFETXA2QixLQUNHSyx3QkFFQSxJQUFQZzZCLEtBQ0dELEVBQUs3TCxZQUNMNkwsRUFBSzlDLGNBRUMrQyxFQUFJLEVBeDBFSixVQTAwRUEsSUFBUHZCLElBQW9Cc0IsRUFBSzlDLFlBQ2J3QixFQUFJLEVBQUcsSUFHbEJVLEdBQVMsSUFBSVksRUFiWnA2QixNQWFxQnE2QixFQUFJdkIsSUFXbkNMLEdBQUVoMUIsU0FBVyxlQUNQM0QsRUFBSUUsS0FDTm82QixFQUFPdDZCLEVBQUVPLFlBQ1RrakIsRUFBTXljLEdBQWVsZ0MsRUFBR0EsRUFBRWtCLEdBQUtvNUIsRUFBSzVDLFVBQVkxM0IsRUFBRWtCLEdBQUtvNUIsRUFBSzNDLGlCQUV2RDMzQixFQUFFZzlCLFVBQVloOUIsRUFBRWt4QixTQUFXLElBQU16TixFQUFNQSxHQVFoRGtWLEdBQUVtSSxVQUFZbkksR0FBRW9JLE1BQVEsa0JBQ2ZySCxHQUFTLElBQUl4NUIsS0FBS0ssWUFBWUwsTUFBT0EsS0FBS2dCLEVBQUksRUFBRyxJQVMxRHkzQixHQUFFblgsUUFBVW1YLEdBQUU1QixPQUFTLGVBQ2pCLzJCLEVBQUlFLEtBQ05vNkIsRUFBT3Q2QixFQUFFTyxZQUNUa2pCLEVBQU15YyxHQUFlbGdDLEVBQUdBLEVBQUVrQixHQUFLbzVCLEVBQUs1QyxVQUFZMTNCLEVBQUVrQixHQUFLbzVCLEVBQUszQyxpQkFFdkQzM0IsRUFBRWc5QixRQUFVLElBQU12WixFQUFNQSxHQTZOakMsSUFBSTZYLEdBQVUsc0JBR2F0N0IsRUFBRzQ0QixFQUFHNkYsT0FDekJ1QyxFQUNGMUIsRUFBUSxFQUNSNTdCLEVBQUkxRCxFQUFFMkIsV0FFSDNCLEVBQUlBLEVBQUVza0IsUUFBUzVnQixPQUNYMUQsRUFBRTBELEdBQUtrMUIsRUFBSTBHLElBQ2hCNTdCLEdBQUtzOUIsRUFBT3ZDLEVBQU8sSUFDYnVDLEVBQU92QyxFQUFPLFNBR3BCYSxLQUFTN08sUUFBUTZPLEdBRWR0L0IsYUFHUWEsRUFBR0MsRUFBR21nQyxFQUFJQyxPQUNyQng5QixFQUFHK0YsS0FFSHczQixHQUFNQyxJQUNKRCxFQUFLQyxFQUFLLGNBRVR4OUIsRUFBSStGLEVBQUksRUFBRy9GLEVBQUl1OUIsRUFBSXY5QixPQUNsQjdDLEVBQUU2QyxJQUFNNUMsRUFBRTRDLEdBQUksR0FDWjdDLEVBQUU2QyxHQUFLNUMsRUFBRTRDLEdBQUssa0JBTWpCK0YsYUFHUzVJLEVBQUdDLEVBQUdtZ0MsRUFBSXhDLFdBQ3RCLzZCLEVBQUksRUFHRHU5QixPQUNIQSxJQUFPdjlCLElBQ0w3QyxFQUFFb2dDLEdBQU1uZ0MsRUFBRW1nQyxHQUFNLEVBQUksSUFDdEJBLEdBQU12OUIsRUFBSSs2QixFQUFPNTlCLEVBQUVvZ0MsR0FBTW5nQyxFQUFFbWdDLFNBSXZCcGdDLEVBQUUsSUFBTUEsRUFBRWMsT0FBUyxLQUFNNnVCLGdCQUc1QixTQUFVeHdCLEVBQUdDLEVBQUdvNkIsRUFBSXJCLEVBQUl5QyxFQUFJZ0QsT0FDN0I3RSxFQUFLMTRCLEVBQUd3QyxFQUFHazFCLEVBQUd1SSxFQUFTQyxFQUFNQyxFQUFNQyxFQUFPajhCLEVBQUdrOEIsRUFBSUMsRUFBS0MsRUFBTUMsRUFBTW5ILEVBQUl2MkIsRUFBRzI5QixFQUFJQyxFQUFJQyxFQUNuRkMsRUFBSXp0QixFQUNKaW1CLEVBQU90NkIsRUFBRU8sWUFDVDB2QixFQUFPandCLEVBQUVZLEdBQUtYLEVBQUVXLEVBQUksS0FDcEJtNUIsRUFBSy81QixFQUFFa1EsRUFDUDhwQixFQUFLLzVCLEVBQUVpUSxPQUdKNnBCLEdBQU9BLEVBQUcsSUFBT0MsR0FBT0EsRUFBRyxXQUV2QixJQUFJTSxFQUNSdDZCLEVBQUVZLEdBQU1YLEVBQUVXLE9BQVdvNUIsR0FBTUQsRUFBRyxJQUFNQyxFQUFHLEdBQU1BLEdBRzlDRCxHQUFlLEdBQVRBLEVBQUcsS0FBWUMsRUFBWSxFQUFQL0osRUFBV0EsRUFBTyxFQUhRa0ssU0FNcERzRSxLQUNRLElBQ056K0IsRUFBRWtCLEVBQUlqQixFQUFFaUIsTUFFTHMzQixLQTNqRkEsSUE2akZITixHQUFVbDRCLEVBQUVrQixFQUFJaWdDLEdBQVdqSixHQUFVajRCLEVBQUVpQixFQUFJaWdDLE1BRzVDbkgsRUFBR3I0QixTQUNIbzRCLEVBQUdwNEIsWUFDSixJQUFJMjRCLEVBQUtySyxJQUNOL2YsRUFBSSxHQUlOeE0sRUFBSSxFQUFHczJCLEVBQUd0MkIsT0FBVUEsSUFBTSxHQUFJQSxRQUUvQnMyQixFQUFHdDJCLE1BQVNBLElBQU0sUUFFWixNQUFOMjJCLEtBQ0dBLEVBQUtDLEVBQUs3TCxZQUNWNkwsRUFBSzlDLFlBQ0RpRSxFQUNKcEIsS0FBUW41QixFQUFJakIsRUFBRWlCLEdBQUssRUFFbkJtNUIsRUFHSEUsRUFBSyxJQUNKN1IsS0FBSyxNQUNELE9BQ0YsTUFHQTZSLEVBQUs0RyxFQUFVLEVBQUksSUFDcEIsRUFHTSxHQUFOVyxFQUFTLE9BQ1AsSUFDQzlILEVBQUcsVUFJSTRILEdBQU1oSixJQUFNMkIsSUFBTTcyQixNQUN4QmsxQixFQUFJNkYsS0FBVy82QixJQUFNLEtBQ3RCQSxHQUFLTSxFQUFJZzJCLEVBQUssSUFDYmgyQixFQUFJZzJCLEVBQUssSUFHUnBCLEdBQUtsMUIsRUFBSWsrQixRQUdYLFFBR0RuRCxLQUFXLEdBQUssR0FBSyxHQUVqQixNQUNEc0QsRUFBZ0IvSCxFQUFJcEIsRUFBRzZGLEtBQ3ZCc0QsRUFBZ0JoSSxFQUFJbkIsRUFBRzZGLEtBQ3ZCekUsRUFBR3I0QixTQUNIbzRCLEVBQUdwNEIsVUFHTG1nQyxPQUNDL0gsRUFBR3pWLE1BQU0sRUFBR3dkLElBQ1BuZ0MsT0FHSjgvQixFQUFPSyxLQUFTTCxLQUFVLEtBRTVCekgsRUFBRzFWLFNBQ0xtTSxRQUFRLEtBQ0x1SixFQUFHLEdBRUxBLEVBQUcsSUFBTXlFLEVBQU8sS0FBS29ELE9BR25CLEtBR0VHLEVBQVFoSSxFQUFJd0gsRUFBS00sRUFBSUwsSUFHakIsS0FHREQsRUFBSSxHQUNQTSxHQUFNTCxNQUFhQyxFQUFPakQsS0FBWSxJQUFNLE9BRzVDaUQsRUFBT0csRUFBTSxHQVVULEdBQ0ZqSixHQUFLNkYsTUFBVUEsRUFBTyxHQVdmLE1BSEx1RCxJQUxDRCxFQUFnQi9ILEVBQUlwQixFQUFHNkYsR0FLVitDLElBSlpILEVBQUsxL0IsU0FDTjYvQixFQUFJNy9CLGlCQVVBMC9CLEVBQU1TLEVBQUtSLEVBQVFqdEIsRUFBSzJsQixFQUFJc0gsRUFBTzdDLE1BT3JDLEdBQUw3RixNQUFjQSxFQUFJLEtBQ2ZvQixFQUFHMVYsWUFHSitjLEVBQUsxL0IsUUFDRDgvQixLQUFXaFIsUUFBUSxLQUd0QitRLEVBQUtILEVBQU1JLEVBQU1oRCxPQUd0QjdFLE1BSUlvSSxFQUFRaEksRUFBSXdILEVBQUtNLElBSGhCTixFQUFJNy9CLFNBTUQsVUFJQzYvQixFQUFLTSxFQUFLTCxFQUFPcHRCLEVBQUsybEIsRUFBSXlILEVBQU1oRCxNQUl0QytDLEVBQUk3L0IsUUFDTSxJQUFSaTRCLFVBRUgsQ0FBQyxNQUlObDJCLEtBQU9rMUIsRUFHTmdCLEdBQU80SCxFQUFJLEtBQ1RDLEtBQVUxSCxFQUFHNEgsSUFBTyxLQUVsQixDQUFDNUgsRUFBRzRILE1BQ0gsZUFHTUMsUUFBaUIsSUFBWEosRUFBSSxLQUFrQmpILFlBRTNCLElBQVhpSCxFQUFJLElBSVJELEVBQUcsTUFBTy9RLFlBSUYsR0FBWDJRLElBQ0FqZ0MsRUFBSUEsS0FDSWtnQyxPQUNMLEtBR0ExOUIsRUFBSSxFQUFHazFCLEVBQUkySSxFQUFHLEdBQUkzSSxHQUFLLEdBQUlBLEdBQUssU0FDbkMxM0IsRUFBSXdDLEVBQUl4QyxFQUFJaWdDLEVBQVUsS0FFZjk3QixFQUFHbzJCLEVBQUtwQixFQUFLaDFCLEVBQUVuRSxFQUFJLEVBQUltNUIsRUFBSXJCLEVBQUlvSSxXQUduQy83QixHQW5RRyxHQTRRYixZQUFrQnJGLEVBQUd1NkIsRUFBSXZCLEVBQUlpSixPQUN4QmpTLEVBQVF0c0IsRUFBR29XLEVBQUc4ZSxFQUFHTyxFQUFJK0ksRUFBU3poQyxFQUFHczVCLEVBQUlvSSxFQUN2QzdILEVBQU90NkIsRUFBRU8saUJBR0ksTUFBTmc2QixFQUFZLFFBQ2R2NkIsRUFBRWtRLFVBR1NsUSxNQVdYZ3dCLEVBQVMsRUFBRzRJLEVBQUltQixFQUFHLEdBQUluQixHQUFLLEdBQUlBLEdBQUssYUFDdEMyQixFQUFLdkssR0FHRCxLQXZ4RkMsSUF5eEZIdUssT0FDQVIsRUFBR29JLEVBQU0sSUFHSmhLLEdBQVEsR0FBSW5JLEVBQVNsVyxFQUFJLEdBQUssR0FBSyxhQUV0QzFZLEtBQUtVLFFBQVUsR0EveEZkLFFBZ3lGSGk0QixFQUFHcDRCLFFBQ08sS0FDUnNnQyxlQUdLckosS0FBT3VKLEtBQVN6WixLQUFLLEtBQ3hCeVEsRUFBSyxJQUNBLFFBdnlGTixHQUFBLEVBeXlGZ0IsUUFJaEIsT0FDRFAsRUFBSW1CLEVBQUdvSSxHQUdOblMsRUFBUyxFQUFHNEksR0FBSyxHQUFJQSxHQUFLLGdCQWp6RjFCLEdBQUEsRUF3ekZjNUksR0FHVixFQUFJLEVBQUl2dkIsRUFBSTAzQixHQUFRLEdBQUluSSxFQUFTbFcsRUFBSSxHQUFLLEdBQUssUUFLOUNtb0IsR0FBZTFILEVBQUssUUFDaEIsSUFBaEJSLEVBQUdvSSxFQUFNLE9BQXNCLEVBQUkxaEMsRUFBSUEsRUFBSTAzQixHQUFRLEdBQUluSSxFQUFTbFcsRUFBSSxNQU01RGtmLEVBQUssTUFDSmlKLEtBQXVCLE1BQUtqSixNQUFTcDRCLEVBQUksRUFBSSxFQUFJLElBQ3hEdTRCLEVBQUssR0FBVyxHQUFOQSxJQUFrQixNQUFLOEksR0FBcUIsR0FBTmpKLE1BRzFDLEVBQUlsZixFQUFJLEVBQUlyWixFQUFJMDNCLEdBQVEsR0FBSW5JLEVBQVNsVyxHQUFLLEVBQUlpZ0IsRUFBR29JLEVBQU0sSUFBTSxHQUFNLEdBQ3ZFbkosTUFBU3A0QixFQUFJLEVBQUksRUFBSSxJQUV2QjI1QixFQUFLLElBQU1SLEVBQUcsWUFDYnA0QixPQUFTLEVBQ1J1Z0MsTUFHSWxpQyxFQUFFa0IsRUFBSSxJQUdULEdBQUtpM0IsR0FBUSxJQXYxRlgsRUF1MUYyQm9DLEVBdjFGM0IsR0FBQSxLQXcxRkhyNUIsR0FBS3E1QixHQUFNLEtBSVYsR0FBS3Y2QixFQUFFa0IsRUFBSSxFQUdUbEIsS0FJQSxHQUFMMEQsS0FDQy9CLE9BQVN3Z0MsSUFDUixVQUdEeGdDLE9BQVN3Z0MsRUFBTSxJQUNkaEssR0FBUSxHQXoyRkwsRUF5MkZvQnowQixLQUl4QnkrQixHQUFPcm9CLEVBQUksS0FBU3FlLEdBQVEsR0FBSW5JLEVBQVNsVyxHQUFLcWUsR0FBUSxHQUFJcmUsR0FBSyxHQUFLOGUsRUFBSSxHQUd6RXNKLFNBQ08sSUFHSSxHQUFQQyxFQUFVLEtBR1B6K0IsRUFBSSxFQUFHb1csRUFBSWlnQixFQUFHLEdBQUlqZ0IsR0FBSyxHQUFJQSxHQUFLLGFBQ2pDaWdCLEVBQUcsSUFBTW5CLEVBQ1JBLEVBQUksRUFBRzllLEdBQUssR0FBSUEsR0FBSyxPQUd0QnBXLEdBQUtrMUIsTUFDTDEzQixJQUNFNjRCLEVBQUcsSUFBTXZCLE9BQVMsR0FBSyxlQUsxQjJKLElBQVF2SixFQUNQbUIsRUFBR29JLElBQVEzSixXQUNaMkosS0FBUyxJQUNSLE9BTUx6K0IsRUFBSXEyQixFQUFHcDRCLE9BQW9CLElBQVpvNEIsSUFBS3IyQixNQUFjZ3RCLGNBR3JDcUgsS0FHRS8zQixFQUFFa0IsRUFBSW81QixFQUFLekMsUUFHWDNuQixFQUFJLE9BQ0poUCxFQUFJaTVCLEtBR0duNkIsRUFBRWtCLEVBQUlvNUIsRUFBSzFDLFNBR2xCMTJCLEVBQUksSUFDSmdQLEVBQUksQ0FBQyxLQUtKbFEsRUFJVCxZQUF3QkEsRUFBR29pQyxFQUFPN0gsT0FDM0J2NkIsRUFBRXF1QixrQkFBbUJnVSxHQUFrQnJpQyxPQUN4QzQ0QixFQUNGMTNCLEVBQUlsQixFQUFFa0IsRUFDTnVpQixFQUFNNFgsR0FBZXI3QixFQUFFa1EsR0FDdkJySSxFQUFNNGIsRUFBSTloQixjQUVSeWdDLEdBQ0U3SCxNQUFXQSxFQUFLMXlCLEdBQU8sSUFDbkI0YixFQUFJd08sT0FBTyxHQUFLLElBQU14TyxFQUFJYSxNQUFNLEdBQUt5VSxHQUFjSCxHQUNoRC93QixFQUFNLE1BQ1Q0YixFQUFJd08sT0FBTyxHQUFLLElBQU14TyxFQUFJYSxNQUFNLE1BR2xDYixLQUFTdmlCLEVBQUksRUFBSSxJQUFNLE1BQVFsQixFQUFFa0IsR0FDOUJBLEVBQUksS0FDUCxLQUFPNjNCLElBQWU3M0IsRUFBSSxHQUFLdWlCLEVBQ2pDOFcsTUFBV0EsRUFBSzF5QixHQUFPLE9BQVVreEIsR0FBY0gsS0FDMUMxM0IsR0FBSzJHLE1BQ1BreEIsR0FBYzczQixFQUFJLEVBQUkyRyxHQUN6QjB5QixNQUFXQSxFQUFLcjVCLEVBQUksR0FBSyxNQUFTdWlCLEVBQU0sSUFBTXNWLEdBQWNILFNBRXZEMTNCLEVBQUksR0FBSzJHLE1BQVc0YixFQUFJYSxNQUFNLEVBQUdzVSxHQUFLLElBQU1uVixFQUFJYSxNQUFNc1UsSUFDM0QyQixNQUFXQSxFQUFLMXlCLEdBQU8sSUFDckIzRyxFQUFJLElBQU0yRyxPQUFZLFFBQ25Ca3hCLEdBQWNILEtBSWxCblYsRUFLVCxZQUEyQnVNLEVBQVE5dUIsT0FDN0JULEVBQUl1dkIsRUFBTyxPQUdUOXVCLEdBNThGSyxFQTQ4RlVULEdBQUssR0FBSUEsR0FBSyxjQUM1QlMsRUFJVCxZQUFpQm81QixFQUFNQyxFQUFJRixNQUNyQkUsRUFBSzlCLGFBR0ksRUFDUDRCLE1BQVM1TCxVQUFZNEwsR0FDbkIvNUIsTUFuK0ZpQjIzQixrREFxK0ZsQnlCLEdBQVMsSUFBSVksRUFBS2hELElBQU9pRCxFQUFJLEdBQUcsR0FJekMsWUFBZUQsRUFBTUMsRUFBSXZCLE1BQ25CdUIsRUFBSzdCLFNBQW9CcDRCLE1BMStGSjIzQixrREEyK0ZsQnlCLEdBQVMsSUFBSVksRUFBS240QixJQUFLbzRCLEVBQUl2QixHQUFJLEdBSXhDLFlBQXNCaEosT0FDaEJ2dkIsRUFBSXV2QixFQUFPcnVCLE9BQVMsRUFDdEJrRyxFQXIrRlMsRUFxK0ZIcEgsRUFBZSxPQUVuQnV2QixFQUFPdnZCLEdBR0osTUFHRUEsRUFBSSxJQUFNLEVBQUdBLEdBQUssV0FHcEJBLEVBQUl1dkIsRUFBTyxHQUFJdnZCLEdBQUssR0FBSUEsR0FBSyxlQUc3Qm9ILEVBSVQsWUFBdUIrd0IsV0FDakIwSixFQUFLLEdBQ0YxSixRQUFZLFdBQ1owSixFQVdULFlBQWdCaEksRUFBTXQ2QixFQUFHK0QsRUFBR3MyQixPQUN0QjRILEVBQ0Z4NEIsRUFBSSxJQUFJNndCLEVBQUssR0FJYjFCLEVBQUl4M0IsS0FBS1UsS0FBS3U0QixFQTNnR0wsRUEyZ0dxQixXQUVyQixJQUVGLElBQ0h0MkIsRUFBSSxHQUVGdytCLE1BREE5NEIsRUFBRWl4QixNQUFNMTZCLElBQ0drUSxFQUFHMG9CLFFBQWtCLEdBSTVCLE9BRE5WLEdBQVVuMEIsRUFBSSxJQUNMLEdBR1AwRixFQUFFeUcsRUFBRXZPLE9BQVMsRUFDYnNnQyxHQUEwQixJQUFYeDRCLEVBQUV5RyxFQUFFbk0sTUFBWTBGLEVBQUV5RyxFQUFFbk0sZUFJckMvRCxFQUFFMDZCLE1BQU0xNkIsSUFDRGtRLEVBQUcwb0IsZUFHTCxFQUVKbnZCLEVBSVQsWUFBZTFGLFVBQ2dCLEVBQXRCQSxFQUFFbU0sRUFBRW5NLEVBQUVtTSxFQUFFdk8sT0FBUyxHQU8xQixZQUFrQjI0QixFQUFNcFUsRUFBTXNjLFdBQ3hCdmlDLEVBQ0ZELEVBQUksSUFBSXM2QixFQUFLcFUsRUFBSyxJQUNsQnhpQixFQUFJLElBRUdBLEVBQUl3aUIsRUFBS3ZrQixRQUFTLFFBQ3JCLElBQUkyNEIsRUFBS3BVLEVBQUt4aUIsS0FDWDlDLEVBQUcsR0FDSlgsUUFFS0QsRUFBRXdpQyxHQUFNdmlDLE9BQ2JBLFdBSURELEVBbUNULFlBQTRCQSxFQUFHdTZCLE9BQ3pCcHRCLEVBQWFzMUIsRUFBTzNvQixFQUFHNG9CLEVBQUtDLEVBQUszK0IsRUFBRzI1QixFQUN0Q3pDLEVBQU0sRUFDTngzQixFQUFJLEVBQ0prMUIsRUFBSSxFQUNKMEIsRUFBT3Q2QixFQUFFTyxZQUNUeTRCLEVBQUtzQixFQUFLOUMsU0FDVjZDLEVBQUtDLEVBQUs3TCxjQUdQenVCLEVBQUVrUSxJQUFNbFEsRUFBRWtRLEVBQUUsSUFBTWxRLEVBQUVrQixFQUFJLFVBRXBCLElBQUlvNUIsRUFBS3Q2QixFQUFFa1EsRUFDYmxRLEVBQUVrUSxFQUFFLEdBQVNsUSxFQUFFWSxFQUFJLEVBQUksRUFBSSxFQUFBLEVBQWxCLEVBQ1ZaLEVBQUVZLEVBQUlaLEVBQUVZLEVBQUksRUFBSSxFQUFJWixFQUFJLFNBR3BCLE1BQU51NkIsT0FDUyxJQUNMRixLQUVBRSxJQUdKLElBQUlELEVBQUssUUFHTnQ2QixFQUFFa0IsUUFHSGxCLEVBQUUwNkIsTUFBTTEyQixNQUNQLFdBS0M1QyxLQUFLK0QsSUFBSWd6QixHQUFRLEVBQUdTLElBQU14M0IsS0FBS2syQixLQUFPLEVBQUksRUFBSSxJQUV4Q29MLEVBQU1DLEVBQU0sSUFBSXJJLEVBQUssS0FDOUI3TCxVQUFZa1AsSUFFUixNQUNEakUsR0FBU2dKLEVBQUloSSxNQUFNMTZCLEdBQUkyOUIsRUFBSyxLQUNwQnh3QixFQUFZdXRCLFFBQVFoM0IsR0FHOUIyM0IsTUFGQXNILEVBQUk5SCxLQUFLUyxHQUFPb0gsRUFBS3YxQixFQUFhd3dCLEVBQUssS0FFdEJ6dEIsR0FBR29VLE1BQU0sRUFBR3FaLEtBQVN0QyxHQUFlc0gsRUFBSXp5QixHQUFHb1UsTUFBTSxFQUFHcVosR0FBTSxPQUN6RS9FLEVBQ0c5ZSxPQUFXNGYsR0FBU2lKLEVBQUlqSSxNQUFNaUksR0FBTWhGLEVBQUssTUFPdEMsTUFBTnBELFdBV0c5TCxVQUFZNEwsRUFDVnNJLE9BVkh6SCxFQUFNLEdBQUs2RCxHQUFvQjRELEVBQUl6eUIsRUFBR3l0QixFQUFNOEUsRUFBT3pKLEVBQUlrQyxXQU1sRHhCLEdBQVNpSixFQUFLckksRUFBSzdMLFVBQVk0TCxFQUFJckIsRUFBSWpCLElBQVcsS0FMcER0SixVQUFZa1AsR0FBTyxLQUNWK0UsRUFBTTErQixFQUFJLElBQUlzMkIsRUFBSyxLQUM3QixTQVdKdDJCLElBb0JWLFlBQTBCL0QsRUFBR3M2QixPQUN2QnIzQixFQUFHMC9CLEVBQUl6MUIsRUFBYWpNLEVBQUcyaEMsRUFBVzNILEVBQUt5SCxFQUFLMytCLEVBQUcyNUIsRUFBS3QyQixFQUFJcU4sRUFDMUQzUSxFQUFJLEVBRUovRCxFQUFJQyxFQUNKODVCLEVBQUsvNUIsRUFBRWtRLEVBQ1BvcUIsRUFBT3Q2QixFQUFFTyxZQUNUeTRCLEVBQUtzQixFQUFLOUMsU0FDVjZDLEVBQUtDLEVBQUs3TCxhQUdSenVCLEVBQUVZLEVBQUksSUFBTW01QixJQUFPQSxFQUFHLEtBQU8vNUIsRUFBRWtCLEdBQWMsR0FBVDY0QixFQUFHLElBQXdCLEdBQWJBLEVBQUdwNEIsY0FDaEQsSUFBSTI0QixFQUFLUCxJQUFPQSxFQUFHLElBQUssRUFBQSxFQUFnQixHQUFQLzVCLEVBQUVZLEVBQVN1NUIsSUFBTUosRUFBSyxFQUFJLzVCLE1BRzFELE1BQU51NkIsT0FDUyxJQUNMRixLQUVBRSxJQUdIOUwsVUFBWWtQLEdBbkJQLFFBb0JOdEMsR0FBZXRCLElBQ1o5SCxPQUFPLEtBRVY3d0IsS0FBS2EsSUFBSWYsRUFBSWxCLEVBQUVrQixHQUFLLGdCQWlDbEI0OUIsR0FBUXhFLEVBQU1xRCxFQUFNLEVBQUd0RCxHQUFJSyxNQUFNeDVCLEVBQUksTUFDckMyOUIsR0FBaUIsSUFBSXZFLEVBQUtzSSxFQUFLLElBQU0xL0IsRUFBRW9oQixNQUFNLElBQUtxWixFQXpEOUMsSUF5RDJEOUMsS0FBSzcyQixLQUNuRXlxQixVQUFZNEwsRUFFSixNQUFORSxFQUFhYixHQUFTMTVCLEVBQUdxNkIsRUFBSXJCLEVBQUlqQixJQUFXLEdBQVEvM0IsT0F4QnBENGlDLEVBQUssR0FBVyxHQUFOQSxHQUFpQixHQUFOQSxHQUFXMS9CLEVBQUUrdUIsT0FBTyxHQUFLLFFBRS9Db0osTUFEQXI3QixFQUFFMDZCLE1BQU16NkIsSUFDU2lRLElBQ2QraEIsT0FBTyxhQUlaanlCLEVBQUVrQixFQUVGMGhDLEVBQUssS0FDSCxJQUFJdEksRUFBSyxLQUFPcDNCLFVBR2hCLElBQUlvM0IsRUFBS3NJLEVBQUssSUFBTTEvQixFQUFFb2hCLE1BQU0sTUFlL0J0a0IsSUFLQzZpQyxFQUFZN2lDLEVBQUlzN0IsR0FBT3Q3QixFQUFFNDZCLE1BQU0sR0FBSTU2QixFQUFFNjZCLEtBQUssR0FBSThDLEVBQUssS0FDcERqRSxHQUFTMTVCLEVBQUUwNkIsTUFBTTE2QixHQUFJMjlCLEVBQUssS0FDakIsSUFFTCxNQUNLakUsR0FBU21KLEVBQVVuSSxNQUFNaG1CLEdBQUtpcEIsRUFBSyxHQUczQ3RDLE1BRkFzSCxFQUFJOUgsS0FBS1MsR0FBT3VILEVBQVcsSUFBSXZJLEVBQUtudEIsR0FBY3d3QixFQUFLLEtBRXRDenRCLEdBQUdvVSxNQUFNLEVBQUdxWixLQUFTdEMsR0FBZXNILEVBQUl6eUIsR0FBR29VLE1BQU0sRUFBR3FaLEdBQU0sTUFDdkVnRixFQUFJakksTUFBTSxHQUlOLElBQU54NUIsTUFBZXloQyxFQUFJOUgsS0FBS2lFLEdBQVF4RSxFQUFNcUQsRUFBTSxFQUFHdEQsR0FBSUssTUFBTXg1QixFQUFJLFFBQzNEbzZCLEdBQU9xSCxFQUFLLElBQUlySSxFQUFLdjJCLEdBQUk0NUIsRUFBSyxHQVExQixNQUFOcEQsV0FVRzlMLFVBQVk0TCxFQUNWc0ksTUFWSDVELEdBQW9CNEQsRUFBSXp5QixFQUFHeXRCLEVBNUYzQixHQTRGd0MzRSxFQUFJa0MsVUFNdkN4QixHQUFTaUosRUFBS3JJLEVBQUs3TCxVQUFZNEwsRUFBSXJCLEVBQUlqQixJQUFXLEtBTHBEdEosVUFBWWtQLEdBN0ZmLEtBOEZFa0YsRUFBWTdpQyxFQUFJczdCLEdBQU9qMEIsRUFBR3V6QixNQUFNLEdBQUl2ekIsRUFBR3d6QixLQUFLLEdBQUk4QyxFQUFLLEtBQ3BEakUsR0FBUzE1QixFQUFFMDZCLE1BQU0xNkIsR0FBSTI5QixFQUFLLEtBQ2pCekMsRUFBTSxLQVVwQmwzQixLQUNTLElBTW5CLFlBQTJCaEUsVUFFbEI4dUIsT0FBTzl1QixFQUFFWSxFQUFJWixFQUFFWSxFQUFJLEdBTzVCLFlBQXNCWixFQUFHeWpCLE9BQ25CdmlCLEVBQUd3QyxFQUFHbUUsU0FHRDRiLEVBQUlQLFFBQVEsYUFBa0JPLEVBQUlzTSxRQUFRLElBQUssUUFHL0N0TSxFQUFJNk4sT0FBTyxPQUFTLEdBR3ZCcHdCLEVBQUksTUFBT3dDLE9BQ1QrZixFQUFJYSxNQUFNNWdCLEVBQUksS0FDZCtmLEVBQUk4TixVQUFVLEVBQUc3dEIsSUFDZHhDLEVBQUksTUFHVHVpQixFQUFJOWhCLFFBSUwrQixFQUFJLEVBQXlCLEtBQXRCK2YsRUFBSXFmLFdBQVdwL0IsR0FBV0EsU0FHakNtRSxFQUFNNGIsRUFBSTloQixPQUFvQyxLQUE1QjhoQixFQUFJcWYsV0FBV2o3QixFQUFNLEtBQWFBLFFBQ25ENGIsRUFBSWEsTUFBTTVnQixFQUFHbUUsR0FFVixPQUNBbkUsSUFDTHhDLEVBQUlBLEVBQUlBLEVBQUl3QyxFQUFJLElBQ2hCd00sRUFBSSxRQU1HLEdBNzFHQSxFQTgxR0xoUCxFQUFJLE9BOTFHQyxHQWcyR0x3QyxFQUFJbUUsRUFBSyxLQUNQbkUsS0FBS3dNLEVBQUV3WSxNQUFNakYsRUFBSWEsTUFBTSxFQUFHNWdCLElBQ3pCbUUsR0FsMkdFLEVBazJHZW5FLEVBQUltRSxLQUFRcUksRUFBRXdZLE1BQU1qRixFQUFJYSxNQUFNNWdCLEVBQUdBLEdBbDJHaEQsTUFBQSxLQW0yR0QrZixFQUFJYSxNQUFNNWdCLElBQ0cvQixnQkFFZGtHLE9BR0FuRSxRQUFhLE1BQ2xCd00sRUFBRXdZLE1BQU1qRixHQUVOc1UsS0FHRS8zQixFQUFFa0IsRUFBSWxCLEVBQUVPLFlBQVlzM0IsUUFHcEIzbkIsRUFBSSxPQUNKaFAsRUFBSWk1QixLQUdHbjZCLEVBQUVrQixFQUFJbEIsRUFBRU8sWUFBWXEzQixTQUczQjEyQixFQUFJLElBQ0pnUCxFQUFJLENBQUMsYUFPVGhQLEVBQUksSUFDSmdQLEVBQUksQ0FBQyxVQUdGbFEsRUFvSFQsWUFBc0JzNkIsRUFBTXYyQixFQUFHL0QsRUFBR0MsRUFBRzhpQyxPQUMvQmpwQixFQUFHOVYsRUFBR2cvQixFQUFHdHVCLEVBRVgybEIsRUFBS0MsRUFBSzdMLFVBQ1ZtSyxFQUFJeDNCLEtBQUtVLEtBQUt1NEIsRUE3L0dMLFdBKy9HQSxJQUNOcjZCLEVBQUUwNkIsTUFBTTE2QixLQUNULElBQUlzNkIsRUFBS3I2QixLQUVKLE1BQ0hxN0IsR0FBTzBILEVBQUV0SSxNQUFNaG1CLEdBQUssSUFBSTRsQixFQUFLdjJCLElBQU1BLEtBQU1zMkIsRUFBSSxLQUM3QzBJLEVBQWU5aUMsRUFBRTQ2QixLQUFLNzJCLEdBQUsvRCxFQUFFMjZCLE1BQU01MkIsS0FDbkNzM0IsR0FBT3QzQixFQUFFMDJCLE1BQU1obUIsR0FBSyxJQUFJNGxCLEVBQUt2MkIsSUFBTUEsS0FBTXMyQixFQUFJLFFBR2xDLE9BRlgySSxFQUFFbkksS0FBSzU2QixJQUVMaVEsRUFBRTBvQixHQUFlLEtBQ2hCOWUsRUFBSThlLEVBQUc1MEIsRUFBRWtNLEVBQUU0SixLQUFPa3BCLEVBQUU5eUIsRUFBRTRKLElBQU1BLGFBQzdCQSxVQUdGa3BCLElBQ0EvaUMsSUFDQStELElBQ0E4VixjQUlLLElBQ1Q1SixFQUFFdk8sT0FBU2kzQixFQUFJLEVBRVY1MEIsRUFLVCxZQUFpQmxELEVBQUdJLFdBQ2Q2QyxFQUFJakQsSUFDQ0ksTUFBUUosU0FDVmlELEVBS1QsWUFBMEJ1MkIsRUFBTXQ2QixPQUMxQmdFLEVBQ0ZnNUIsRUFBUWg5QixFQUFFWSxFQUFJLEVBQ2RxaUMsRUFBS2hHLEdBQU0zQyxFQUFNQSxFQUFLN0wsVUFBVyxHQUNqQ3NPLEVBQVNrRyxFQUFHdkksTUFBTSxVQUVoQjE2QixFQUFFaUMsT0FFQW83QixJQUFJTixhQUNHQyxFQUFRLEVBQUksRUFDaEJoOUIsUUFHTEEsRUFBRTY3QixTQUFTb0gsSUFFVC9SLFlBQ084TCxFQUFRLEVBQUksT0FDbEIsT0FDRGg5QixFQUFFNDZCLE1BQU01MkIsRUFBRTAyQixNQUFNdUksS0FHZDVGLElBQUlOLGFBQ0dtRyxHQUFNbC9CLEdBQU1nNUIsRUFBUSxFQUFJLEVBQU1BLEVBQVEsRUFBSSxFQUM5Q2g5QixLQUdFa2pDLEdBQU1sL0IsR0FBTWc1QixFQUFRLEVBQUksRUFBTUEsRUFBUSxFQUFJLFVBR2hEaDlCLEVBQUU0NkIsTUFBTXFJLEdBQUloaEMsTUFTckIsWUFBd0JqQyxFQUFHcTVCLEVBQVNrQixFQUFJdkIsT0FDbEN5RixFQUFNdjlCLEVBQUd3QyxFQUFHazFCLEVBQUcvd0IsRUFBS3E2QixFQUFTemUsRUFBS3NXLEVBQUk5NUIsRUFDeENxNkIsRUFBT3Q2QixFQUFFTyxZQUNUNmhDLE9BQWUsSUFBUDdILEtBRU42SCxNQUNTN0gsRUFBSSxFQWhySEosVUFpckhBLElBQVB2QixJQUFvQnNCLEVBQUs5QyxZQUNid0IsRUFBSSxFQUFHLE9BRWxCc0IsRUFBSzdMLFlBQ0w2TCxFQUFLOUMsVUFHUHgzQixFQUFFcXVCLFdBRUEsS0FTRCtULEtBQ0ssRUFDUSxJQUFYL0ksSUFDUSxFQUFMa0IsRUFBUyxFQUNNLEdBQVhsQixNQUNDLEVBQUxrQixFQUFTLE1BR1RsQixRQWhCSDZHLEdBQWVsZ0MsSUFDYmtqQixRQUFRLE9Bc0JQLE1BQ0RPLEVBQUlzTSxRQUFRLElBQUssT0FDbkIsSUFBSXVLLEVBQUssSUFDWHA1QixFQUFJdWlCLEVBQUk5aEIsT0FBUytCLElBQ2pCd00sRUFBSWl6QixHQUFZakQsR0FBZWpnQyxHQUFJLEdBQUl3K0IsS0FDdkN2OUIsRUFBSWpCLEVBQUVpUSxFQUFFdk8sVUFJUmtHLEtBRENzN0IsR0FBWTFmLEVBQUssR0FBSWdiLElBQ2I5OEIsT0FHTyxHQUFibzRCLElBQUtseUIsTUFBZTZvQixTQUV0QnFKLEVBQUcsR0FFRCxJQUNEcjJCLEVBQUksVUFHRixJQUFJNDJCLEVBQUt0NkIsSUFDWGtRLEVBQUk2cEIsSUFDSjc0QixFQUFJQSxPQUNGbzZCLEdBQU90N0IsRUFBR0MsRUFBR3M2QixFQUFJdkIsRUFBSSxFQUFHeUYsSUFDckJ2dUIsSUFDSGxRLEVBQUVrQixJQUNJeTFCLE1BSVJvRCxFQUFHUSxLQUNIa0UsRUFBTyxJQUNEeUQsUUFBMEIsSUFBZm5JLEVBQUdRLEVBQUssS0FFbkJ2QixFQUFLLFFBQ0osT0FBVWtKLEtBQW9CLE9BQUtsSixPQUFVcDRCLEVBQUksRUFBSSxFQUFJLElBQ2hFOEMsRUFBSWsxQixHQUFLbDFCLElBQU1rMUIsSUFBYSxPQUFLc0osR0FBa0IsSUFBUGxKLEdBQXlCLEVBQWJlLEVBQUdRLEVBQUssSUFDaEV2QixPQUFVcDRCLEVBQUksRUFBSSxFQUFJLE1BRXZCZSxPQUFTNDRCLEVBRVIySCxTQUdPbkksSUFBS1EsR0FBTWtFLEVBQU8sS0FDdEJsRSxHQUFNLEVBQ0pBLE1BQ0RyNUIsSUFDQ3V2QixRQUFRLFFBTVo1b0IsRUFBTWt5QixFQUFHcDRCLFFBQVNvNEIsRUFBR2x5QixFQUFNLEtBQU1BLE9BR2pDbkUsRUFBSSxFQUFHK2YsRUFBTSxHQUFJL2YsRUFBSW1FLEVBQUtuRSxPQUFZMnpCLEdBQVNwRixPQUFPOEgsRUFBR3IyQixPQUcxRDArQixFQUFPLElBQ0x2NkIsRUFBTSxLQUNPLElBQVh3eEIsR0FBNEIsR0FBWEEsRUFBYyxPQUNsQixJQUFYQSxFQUFnQixFQUFJLElBQ2pCeHhCLEVBQUtBLEVBQU1uRSxFQUFHbUUsT0FBYyxRQUU5QkEsS0FEQXM3QixHQUFZMWYsRUFBS2diLEVBQU1wRixJQUNkMTNCLFFBQVNvNEIsRUFBR2x5QixFQUFNLEtBQU1BLE9BR2pDbkUsRUFBSSxFQUFHK2YsRUFBTSxLQUFNL2YsRUFBSW1FLEVBQUtuRSxPQUFZMnpCLEdBQVNwRixPQUFPOEgsRUFBR3IyQixZQUUxRCtmLEVBQUl3TyxPQUFPLEdBQUssSUFBTXhPLEVBQUlhLE1BQU0sS0FJbkNiLEtBQVcsRUFBSSxJQUFNLE1BQVF2aUIsV0FDM0JBLEVBQUksRUFBRyxRQUNQQSxLQUFVLElBQU11aUIsSUFDbkIsS0FBT0EsYUFFUHZpQixFQUFJMkcsTUFBVTNHLEdBQUsyRyxFQUFLM0csUUFBYyxTQUNuQ0EsRUFBSTJHLE1BQVc0YixFQUFJYSxNQUFNLEVBQUdwakIsR0FBSyxJQUFNdWlCLEVBQUlhLE1BQU1wakIsWUFsRXREa2hDLEVBQVEsT0FBUyxPQXNFUCxNQUFLLEtBQWtCLEdBQVgvSSxFQUFlLEtBQWtCLEdBQVhBLEVBQWUsS0FBTyxJQUFNNVYsVUE5RzFFNGUsR0FBa0JyaUMsVUFpSG5CQSxFQUFFWSxFQUFJLEVBQUksSUFBTTZpQixFQUFNQSxFQUsvQixZQUFrQkgsRUFBS3piLE1BQ2pCeWIsRUFBSTNoQixPQUFTa0csV0FDWGxHLE9BQVNrRyxHQUNOLEVBeURYLFlBQWE3SCxVQUNKLElBQUlFLEtBQUtGLEdBQUdpQyxNQVVyQixZQUFjakMsVUFDTCxJQUFJRSxLQUFLRixHQUFHMkosT0FXckIsWUFBZTNKLFVBQ04sSUFBSUUsS0FBS0YsR0FBR285QixRQVlyQixZQUFhcDlCLEVBQUdDLFVBQ1AsSUFBSUMsS0FBS0YsR0FBRzY2QixLQUFLNTZCLEdBVzFCLFlBQWNELFVBQ0wsSUFBSUUsS0FBS0YsR0FBR2s5QixPQVdyQixZQUFlbDlCLFVBQ04sSUFBSUUsS0FBS0YsR0FBR3c5QixRQVdyQixZQUFjeDlCLFVBQ0wsSUFBSUUsS0FBS0YsR0FBRzg5QixPQVdyQixZQUFlOTlCLFVBQ04sSUFBSUUsS0FBS0YsR0FBRzA5QixRQTZCckIsWUFBZXo5QixFQUFHRCxLQUNaLElBQUlFLEtBQUtELEtBQ1QsSUFBSUMsS0FBS0YsT0FDVHlKLEVBQ0Y0d0IsRUFBS242QixLQUFLdXVCLFVBQ1Z1SyxFQUFLOTRCLEtBQUtzM0IsU0FDVm1HLEVBQU10RCxFQUFLLFNBR1JwNkIsRUFBRVcsR0FBTVosRUFBRVksRUFJSFgsRUFBRWlRLEdBQU1sUSxFQUFFa1EsR0FLVmxRLEVBQUVrUSxHQUFLalEsRUFBRWl4QixZQUNmbHhCLEVBQUVZLEVBQUksRUFBSXE4QixHQUFNLzhCLEtBQU1tNkIsRUFBSXJCLEdBQU0sSUFBSTk0QixLQUFLLElBQzNDVSxFQUFJWCxFQUFFVyxHQUdFWCxFQUFFaVEsR0FBS2xRLEVBQUVreEIsWUFDZitMLEdBQU0vOEIsS0FBTXk5QixFQUFLLEdBQUdqRCxNQUFNLEtBQzVCOTVCLEVBQUlYLEVBQUVXLEVBR0NaLEVBQUVZLEVBQUksUUFDVjZ0QixVQUFZa1AsT0FDWm5HLFNBQVcsSUFDWnQzQixLQUFLNDlCLEtBQUt4QyxHQUFPcjdCLEVBQUdELEVBQUcyOUIsRUFBSyxNQUM1QlYsR0FBTS84QixLQUFNeTlCLEVBQUssUUFDaEJsUCxVQUFZNEwsT0FDWjdDLFNBQVd3QixJQUNaLzRCLEVBQUVXLEVBQUksRUFBSTZJLEVBQUVteEIsTUFBTTU2QixHQUFLeUosRUFBRW94QixLQUFLNzZCLE1BRTlCRSxLQUFLNDlCLEtBQUt4QyxHQUFPcjdCLEVBQUdELEVBQUcyOUIsRUFBSyxPQXZCNUJWLEdBQU0vOEIsS0FBTXk5QixFQUFLLEdBQUdqRCxNQUFNMTZCLEVBQUVZLEVBQUksRUFBSSxJQUFPLE1BQzdDQSxFQUFJWCxFQUFFVyxJQUxKLElBQUlWLEtBQUtpNkIsS0E4QlIxd0IsRUFXVCxZQUFjekosVUFDTCxJQUFJRSxLQUFLRixHQUFHaTdCLE9BVXJCLFlBQWNqN0IsVUFDTDA1QixHQUFTMTVCLEVBQUksSUFBSUUsS0FBS0YsR0FBSUEsRUFBRWtCLEVBQUksRUFBRyxHQXNCNUMsWUFBZ0JraUMsT0FDVEEsR0FBc0IsaUJBQVJBLFFBQXdCOWlDLE1BQU0yM0Isc0NBQzdDdjBCLEVBQUc1RCxFQUFHVSxFQUNSNmlDLEdBQStCLElBQWpCRCxFQUFJRSxTQUNsQkMsRUFBSyxDQUNILFlBQWEsRUF2aklKLElBd2pJVCxXQUFZLEVBQUcsRUFDZixZQUFhbk0sR0FBVyxFQUN4QixXQUFZLEVBQUdBLEdBQ2YsT0FBUSxFQUFHQSxHQUNYLFFBQVNBLEdBQVcsRUFDcEIsU0FBVSxFQUFHLE9BR1oxekIsRUFBSSxFQUFHQSxFQUFJNi9CLEVBQUc1aEMsT0FBUStCLEdBQUssS0FDMUI1RCxFQUFJeWpDLEVBQUc3L0IsR0FBSTIvQixTQUFrQnZqQyxHQUFLeTNCLEdBQVN6M0IsU0FDMUIsT0FBWnNqQyxFQUFJdGpDLElBQWdCLE1BQ3ZCbzRCLEdBQVUxM0IsS0FBT0EsR0FBS0EsR0FBSytpQyxFQUFHNy9CLEVBQUksSUFBTWxELEdBQUsraUMsRUFBRzcvQixFQUFJLFVBQzdDcEQsTUFBTTAzQixHQUFrQmw0QixFQUFJLEtBQU9VLFFBRG1CVixHQUFLVSxNQUt0RVYsRUFBSSxTQUFVdWpDLFNBQWtCdmpDLEdBQUt5M0IsR0FBU3ozQixTQUM3QixPQUFac2pDLEVBQUl0akMsSUFBZ0IsS0FDakIsSUFBTlUsSUFBb0IsSUFBTkEsR0FBcUIsSUFBTkEsR0FBaUIsSUFBTkEsUUFZcENGLE1BQU0wM0IsR0FBa0JsNEIsRUFBSSxLQUFPVSxNQVhyQ0EsRUFBRyxJQUNnQixvQkFBVnMzQixTQUF5QkEsZ0JBQzFCMEwsa0JBQW1CMUwsT0FBTzJMLGtCQUc1Qm5qQyxNQTUvSE0yM0IsMENBMC9IUG40QixJQUFLLGFBS1BBLElBQUssVUFPVEksS0FXVCxZQUFhRixVQUNKLElBQUlFLEtBQUtGLEdBQUdtRCxNQVdyQixZQUFjbkQsVUFDTCxJQUFJRSxLQUFLRixHQUFHazhCLE9BdU1yQixZQUFhbDhCLEVBQUdDLFVBQ1AsSUFBSUMsS0FBS0YsR0FBRzI3QixJQUFJMTdCLEdBV3pCLFlBQWFELFVBQ0osSUFBSUUsS0FBS0YsR0FBRzJFLE1BVXJCLFlBQWUzRSxVQUNOMDVCLEdBQVMxNUIsRUFBSSxJQUFJRSxLQUFLRixHQUFJQSxFQUFFa0IsRUFBSSxFQUFHLEdBYTVDLGtCQUNNd0MsRUFBR0ssRUFDTEMsRUFBSSxJQUFJOUQsS0FBSyxXQUVKLEVBRU53RCxFQUFJLEVBQUdBLEVBQUk4SyxVQUFVN00sY0FDcEIsSUFBSXpCLEtBQUtzTyxVQUFVOUssT0FDaEJ3TSxFQU1JbE0sRUFBRWtNLE1BQ1BsTSxFQUFFNjJCLEtBQUs5MkIsRUFBRTIyQixNQUFNMzJCLFVBUFgsSUFDSkEsRUFBRW5ELGFBQ08sRUFDSixJQUFJVixLQUFLLEVBQUEsS0FFZDZELGNBTUcsRUFFSkMsRUFBRWhDLE9BU1gsWUFBMkJvaEMsVUFDbEJBLGFBQWVNLElBQVdOLEdBQW9CLHFCQUFiQSxFQUFJbGhCLE9BQStCLEVBVzdFLFlBQVlsaUIsVUFDSCxJQUFJRSxLQUFLRixHQUFHczlCLEtBY3JCLFlBQWF0OUIsRUFBR0MsVUFDUCxJQUFJQyxLQUFLRixHQUFHbUYsSUFBSWxGLEdBV3pCLFlBQWNELFVBQ0wsSUFBSUUsS0FBS0YsR0FBR21GLElBQUksR0FXekIsWUFBZW5GLFVBQ04sSUFBSUUsS0FBS0YsR0FBR21GLElBQUksSUFVekIscUJBQ1N3K0IsR0FBU3pqQyxLQUFNc08sVUFBVyxNQVVuQyxxQkFDU20xQixHQUFTempDLEtBQU1zTyxVQUFXLE1BWW5DLFlBQWF4TyxFQUFHQyxVQUNQLElBQUlDLEtBQUtGLEdBQUdtL0IsSUFBSWwvQixHQVl6QixZQUFhRCxFQUFHQyxVQUNQLElBQUlDLEtBQUtGLEdBQUdneEIsSUFBSS93QixHQVl6QixZQUFhRCxFQUFHQyxVQUNQLElBQUlDLEtBQUtGLEdBQUdrRixJQUFJakYsR0FZekIsWUFBZ0JzNkIsT0FDVnJxQixFQUFHaFAsRUFBRzAzQixFQUFHNzBCLEVBQ1hMLEVBQUksRUFDSitGLEVBQUksSUFBSXZKLEtBQUssR0FDYmk1QixFQUFLLFdBRUksSUFBUG9CLElBQW9CcjZCLEtBQUt1dUIsYUFDYjhMLEVBQUksRUFoZ0pQLE9Ba2dKVG41QixLQUFLVSxLQUFLeTRCLEVBbjZJSCxHQXE2SU5yNkIsS0FBSzQzQixVQUlDQSxPQUFPMEwsc0JBQ1oxTCxPQUFPMEwsZ0JBQWdCLElBQUlJLFlBQVloTCxJQUVwQ2wxQixFQUFJazFCLE1BQ0wxb0IsRUFBRXhNLEtBSUcsUUFDTEEsR0FBS28wQixPQUFPMEwsZ0JBQWdCLElBQUlJLFlBQVksSUFBSSxLQUsvQ2xnQyxLQUFPSyxFQUFJLGNBS1QrekIsT0FBTzJMLGtCQXdCVm5qQyxNQS85SVkyM0IsMkNBMDhJZEgsT0FBTzJMLFlBQVk3SyxHQUFLLEdBRXJCbDFCLEVBQUlrMUIsTUFHTDFvQixFQUFFeE0sTUFBUUEsRUFBSSxJQUFNLE1BQVFBLEVBQUksSUFBTSxNQUFtQixNQUFUQSxFQUFJLEtBQWMsTUFHN0QsYUFDQSsvQixZQUFZLEdBQUc5NEIsS0FBS3VGLEVBQUd4TSxNQUszQmdsQixLQUFLM2tCLEVBQUksUUFDUCxLQUlMNjBCLEVBQUksYUE1Q0RsMUIsRUFBSWsxQixLQUFPbDFCLEtBQXVCLElBQWhCdEMsS0FBS2lDLFNBQWlCLFNBdDZJdEMsS0F1OUlQODFCLElBQUt6MUIsS0FJQTYyQixNQUNIcEMsR0FBUSxHQTU5SUgsRUE0OUlrQm9DLEtBQ3hCNzJCLE1BQVVLLEVBQUksR0FBS0EsR0FJUCxJQUFWbzFCLEVBQUd6MUIsR0FBVUEsTUFBUWd0QixTQUd4Qmh0QixFQUFJLElBQ0YsSUFDQyxDQUFDLFFBQ0QsVUFJWSxJQUFWeTFCLEVBQUcsR0FBVWo0QixHQTMrSVgsSUEyK0k2QnN2QixZQUdqQ29JLEVBQUksRUFBRzcwQixFQUFJbzFCLEVBQUcsR0FBSXAxQixHQUFLLEdBQUlBLEdBQUssT0FHakM2MEIsRUFqL0lLLE9BQUEsRUFpL0l5QkEsYUFHbEMxM0IsRUFBSUEsSUFDSmdQLEVBQUlpcEIsRUFFQzF2QixFQVlULFlBQWV6SixVQUNOMDVCLEdBQVMxNUIsRUFBSSxJQUFJRSxLQUFLRixHQUFJQSxFQUFFa0IsRUFBSSxFQUFHaEIsS0FBS3MzQixVQWVqRCxZQUFjeDNCLGFBQ1IsSUFBSUUsS0FBS0YsSUFDSmtRLEVBQUtsUSxFQUFFa1EsRUFBRSxHQUFLbFEsRUFBRVksRUFBSSxFQUFJWixFQUFFWSxFQUFLWixFQUFFWSxHQUFLdTVCLElBV2pELFlBQWFuNkIsVUFDSixJQUFJRSxLQUFLRixHQUFHb0QsTUFXckIsWUFBY3BELFVBQ0wsSUFBSUUsS0FBS0YsR0FBR3U4QixPQVdyQixZQUFjdjhCLFVBQ0wsSUFBSUUsS0FBS0YsR0FBR2dDLE9BWXJCLFlBQWFoQyxFQUFHQyxVQUNQLElBQUlDLEtBQUtGLEdBQUd1TixJQUFJdE4sR0FXekIsWUFBYUQsVUFDSixJQUFJRSxLQUFLRixHQUFHNC9CLE1BV3JCLFlBQWM1L0IsVUFDTCxJQUFJRSxLQUFLRixHQUFHNjhCLE9BVXJCLFlBQWU3OEIsVUFDTjA1QixHQUFTMTVCLEVBQUksSUFBSUUsS0FBS0YsR0FBSUEsRUFBRWtCLEVBQUksRUFBRyxHQUk1Q3kzQixHQUFFa0wsT0FBT0MsSUFBSSwrQkFBaUNuTCxHQUFFaDFCLFNBQ2hEZzFCLEdBQUVrTCxPQUFPRSxhQUFlLFVBR2pCLElBQUlMLEdBcmxCWCxXQUFlTixPQUNUMS9CLEVBQUc1RCxFQUFHeWpDLGFBU08vaUMsT0FDWFUsRUFBRzhpQyxFQUFHaGdDLEVBQ1JoRSxFQUFJRSx1QkFHYStqQyxVQUFpQixJQUFJQSxFQUFRempDLFFBSTlDRCxZQUFjMGpDLEVBR1p6akMsYUFBYXlqQyxXQUNicmpDLEVBQUlKLEVBQUVJLE9BRUptM0IsSUFDR3YzQixFQUFFMFAsR0FBSzFQLEVBQUVVLEVBQUkraUMsRUFBUXBNLFFBR3RCMzJCLEVBQUlpNUIsTUFDSmpxQixFQUFJLE1BQ0cxUCxFQUFFVSxFQUFJK2lDLEVBQVFyTSxRQUdyQjEyQixFQUFJLElBQ0pnUCxFQUFJLENBQUMsT0FFTGhQLEVBQUlWLEVBQUVVLElBQ05nUCxFQUFJMVAsRUFBRTBQLEVBQUVvVSxZQUdWcGpCLEVBQUlWLEVBQUVVLElBQ05nUCxFQUFJMVAsRUFBRTBQLEVBQUkxUCxFQUFFMFAsRUFBRW9VLFFBQVU5akIsRUFBRTBQLE9BUXRCLHFCQUZDMVAsR0FFUyxJQUNSLElBQU5BLFdBQ0FJLEVBQUksRUFBSUosRUFBSSxLQUFTLElBQ3JCVSxFQUFJLFNBQ0pnUCxFQUFJLENBQUMsT0FJTDFQLEVBQUksTUFDREEsSUFDSEksUUFFQUEsRUFBSSxFQUlKSixNQUFRQSxHQUFLQSxFQUFJLElBQUssS0FDbkJVLEVBQUksRUFBRzhpQyxFQUFJeGpDLEVBQUd3akMsR0FBSyxHQUFJQSxHQUFLLG1CQUU3QmpNLEdBQ0U3MkIsRUFBSStpQyxFQUFRcE0sUUFDWjMyQixFQUFJaTVCLE1BQ0pqcUIsRUFBSSxNQUNHaFAsRUFBSStpQyxFQUFRck0sUUFDbkIxMkIsRUFBSSxJQUNKZ1AsRUFBSSxDQUFDLE9BRUxoUCxFQUFJQSxJQUNKZ1AsRUFBSSxDQUFDMVAsT0FHUFUsRUFBSUEsSUFDSmdQLEVBQUksQ0FBQzFQLFlBTUksRUFBSkEsR0FBVSxHQUNkQSxNQUFLSSxFQUFJdTVCLE9BQ1pqNUIsRUFBSWk1QixXQUNKanFCLEVBQUksT0FJRGcwQixHQUFhbGtDLEVBQUdRLEVBQUVtRCxlQUVWLFdBQU5LLFFBQ0gxRCxNQUFNMDNCLEdBQWtCeDNCLFVBSUYsUUFBckJBLEVBQUVzaUMsV0FBVyxPQUNoQnRpQyxFQUFFOGpCLE1BQU0sS0FDVjFqQixPQUdRLEtBQU5vakMsTUFBY3hqQyxFQUFFOGpCLE1BQU0sTUFDeEIxakIsRUFBSSxHQUdEMjNCLEdBQVVwVyxLQUFLM2hCLEdBQUswakMsR0FBYWxrQyxFQUFHUSxHQS92Qi9DLFNBQW9CUixFQUFHeWpCLE9BQ2pCZ2IsRUFBTW5FLEVBQU02SixFQUFTemdDLEVBQUcwZ0MsRUFBU3Y4QixFQUFLL0gsRUFBR2k2QixFQUFJaUYsS0FFckMsYUFBUnZiLEdBQThCLFFBQVJBLFVBQ2xCQSxNQUFPN2lCLEVBQUl1NUIsT0FDZmo1QixFQUFJaTVCLE1BQ0pqcUIsRUFBSSxLQUNDbFEsS0FHTHE0QixHQUFNbFcsS0FBS3NCLEtBQ04sS0FDREEsRUFBSVIsc0JBQ0RtVixHQUFTalcsS0FBS3NCLEtBQ2hCLFlBQ0U2VSxHQUFRblcsS0FBS3NCLFNBR2hCbmpCLE1BQU0wM0IsR0FBa0J2VSxLQUZ2QixVQU1MQSxFQUFJNk4sT0FBTyxPQUVQLE1BQ0Q3TixFQUFJYSxNQUFNNWdCLEVBQUksS0FDYitmLEVBQUk4TixVQUFVLEVBQUc3dEIsTUFFakIrZixFQUFJYSxNQUFNLFFBS2RiLEVBQUlQLFFBQVEsT0FDRCxJQUNSbGpCLEVBQUVPLFlBRUw2akMsWUFDSTNnQixFQUFJc00sUUFBUSxJQUFLLEtBQ2JwdUIsUUFDQStCLElBR0FrOUIsR0FBT3RHLEVBQU0sSUFBSUEsRUFBS21FLEdBQU8vNkIsRUFBTyxFQUFKQSxJQU92Q0EsT0FKQXkvQixHQUFZMWYsRUFBS2diLEVBQU1qRyxLQUNwQjcyQixPQUFTLEVBR00sSUFBVm80QixFQUFHcjJCLEtBQVlBLElBQU1ndEIsYUFDOUJodEIsRUFBSSxFQUFVLElBQUk0MkIsRUFBVyxFQUFOdDZCLEVBQUVZLE1BQzNCTSxFQUFJZytCLEdBQWtCbkYsRUFBSWlGLEtBQzFCOXVCLEVBQUk2cEIsTUFDSyxFQVFQcUssTUFBYTlJLEdBQU90N0IsRUFBR21rQyxFQUFlLEVBQU50OEIsSUFHaEMvSCxNQUFPRSxFQUFFMDZCLE1BQU10NUIsS0FBS2EsSUFBSW5DLEdBQUssR0FBS3E0QixHQUFRLEVBQUdyNEIsR0FBSzRqQyxHQUFReCtCLElBQUksRUFBR3BGLFNBQzFELEVBRUpFLEdBMnJCMkNxa0MsQ0FBV3JrQyxFQUFHUSxRQUd4RCtDLFVBQVlvMUIsS0FFWjJMLFNBQVcsSUFDWEMsV0FBYSxJQUNiQyxXQUFhLElBQ2JDLFlBQWMsSUFDZEMsY0FBZ0IsSUFDaEJDLGdCQUFrQixJQUNsQkMsZ0JBQWtCLElBQ2xCQyxnQkFBa0IsSUFDbEJDLGlCQUFtQixJQUNuQkMsT0FBUyxJQUVUQyxPQUFTZixFQUFRaCtCLElBQU0rK0IsS0FDdkIxakIsTUFBUUEsSUFDUmlYLFVBQVkwTSxLQUVaaGpDLElBQU1BLEtBQ04wSCxLQUFPQSxLQUNQeXpCLE1BQVFBLEtBQ1IzbUIsSUFBTUEsS0FDTnltQixLQUFPQSxLQUNQTSxNQUFRQSxLQUNSTSxLQUFPQSxLQUNQSixNQUFRQSxLQUNSeDdCLE1BQVFBLEtBQ1IrNEIsS0FBT0EsS0FDUG41QixLQUFPQSxLQUNQcUIsSUFBTUEsS0FDTis0QixLQUFPQSxLQUNQUCxJQUFNQSxLQUNOaDNCLElBQU1BLEtBQ045QyxNQUFRQSxLQUNScWpDLE1BQVFBLEtBQ1I1SCxHQUFLQSxLQUNMbjRCLElBQU1BLEtBQ05nZ0MsTUFBUUEsS0FDUkMsS0FBT0EsS0FDUDlqQyxJQUFNQSxLQUNORCxJQUFNQSxLQUNOODlCLElBQU1BLEtBQ05uTyxJQUFNQSxLQUNOOXJCLElBQU1BLEtBQ043QixPQUFTQSxLQUNUdEIsTUFBUUEsS0FDUnVzQixLQUFPQSxLQUNQbHJCLElBQU1BLEtBQ05tNUIsS0FBT0EsS0FDUHY2QixLQUFPQSxLQUNQdUwsSUFBTUEsS0FDTnF5QixJQUFNQSxLQUNOL0MsS0FBT0EsS0FDUGtFLE1BQVFBLFFBRUosSUFBUnFDLE1BQXNCLElBQ3RCQSxJQUNtQixJQUFqQkEsRUFBSUUsZUFDRCxDQUFDLFlBQWEsV0FBWSxXQUFZLFdBQVksT0FBUSxPQUFRLFNBQVUsVUFDNUU1L0IsRUFBSSxFQUFHQSxFQUFJNi9CLEVBQUc1aEMsUUFBY3loQyxFQUFJempDLGVBQWVHLEVBQUl5akMsRUFBRzcvQixVQUFXNUQsR0FBS0ksS0FBS0osYUFJNUVrbEMsT0FBTzVCLEdBRVJhLEVBbWFZM2lCLENBQU1pVyxJQUczQkQsR0FBTyxJQUFJb00sR0FBUXBNLElBQ25CbjFCLEdBQUssSUFBSXVoQyxHQUFRdmhDLElDcHVKakIsT0FFV2tqQyxNQUZBLFlBQ1EsQ0FBQyxNQUFPLFdBQ21EelAsUUFDeEUwUCxHQUNGQSxFQUNBTixVQUNFcFAsRUFHQUMsRUFBWTZOLEdBQVFwaUIsTUFBTSxDQUM1Qm1OLFVBQVc4VyxFQUFPOVcsVUFDbEJnSixPQUpXLGFBVUhsMEIsVUFBVThkLEtBQU8sY0FDakI5ZCxVQUFVK2IsYUFBYyxJQVF4Qi9iLFVBQVV3ekIsT0FBUyxrQkFDcEIsQ0FDTEMsT0FBUSxZQUNSNzJCLE1BQU9ELEtBQUt5RCxlQVdOc3pCLFNBQVcsU0FBVUMsVUFDdEIsSUFBSXJCLEVBQVVxQixFQUFLLzJCLFFBR3hCbWxDLEtBRUMsVUFBVSxTQUFVL1IsRUFBTUQsR0FDdkJDLEVBQUs5RSxZQUFjNkUsRUFBSzdFLGFBQ2hCdVcsT0FBTyxDQUNmdlcsVUFBVzhFLEVBQUs5RSxnQkFNakJvSCxJQUNOLENBQ0RzQixTQUFTOzs7Ozs7O01DeEJWLFNBQVNxTyxPQUlKQyxFQUFPLFNBQVN6bEMsVUFDb0IsU0FBekIyRSxJQUFJM0UsR0FBS29CLEtBQUt1RCxLQUFLM0UsS0FHOUIwbEMsRUFBTyxTQUFTMWxDLFVBQ29CLFNBQXpCMkUsSUFBSTNFLEdBQUtvQixLQUFLdUQsS0FBSzNFLEtBcUQ5QjJsQyxFQUFjLGlCQUNWdGdCLFlBQVksNkJBVUZ4a0IsRUFBR0MsT0FFZjhrQyxFQUFLeGtDLEtBQUthLElBQUlwQixHQUNkZ2xDLEVBQUt6a0MsS0FBS2EsSUFBSW5CLFVBRVIsSUFBTkQsRUFDS08sS0FBSytELElBQUkwZ0MsR0FHUixJQUFOL2tDLEVBQ0tNLEtBQUsrRCxJQUFJeWdDLEdBR2RBLEVBQUssS0FBUUMsRUFBSyxJQUNhLEdBQTFCemtDLEtBQUsrRCxJQUFJdEUsRUFBSUEsRUFBSUMsRUFBSUEsR0FtQ3ZCTSxLQUFLK0QsSUFBSXRFLEVBQUlPLEtBQUsrQixJQUFJL0IsS0FBS2MsTUFBTXBCLEVBQUdELGdCQXlINUJBLEVBQUdDLHdCQUVJMDFCLFVBQ2IsSUFBSUEsRUFBUTMxQixFQUFHQyxPQUdwQm9GLEVBNUhNLFNBQVNyRixFQUFHQyxPQUVsQm9GLEVBQUksQ0FBQzQvQixHQUFNLEVBQUdDLEdBQU0sTUFFcEJsbEMsTUFBQUEsT0FFTXFGLEtBQVUsZUFDSCxJQUFOcEYsT0FDQ0QsT0FDQUMscUJBRUtELE9BRVIsWUFFQyxPQUFRQSxHQUFLLE9BQVFBLE9BQ2JBLFVBQ0FBLGFBQ0QsUUFBU0EsR0FBSyxRQUFTQSxFQUFHLEtBQzlCOEcsT0FBTzBtQixTQUFTeHRCLFFBQWE4RyxPQUFPMG1CLFNBQVN4dEIsY0FDekMyMUIsZ0JBRUMzMUIsTUFBV08sS0FBSytCLElBQUl0QyxZQUNwQkEsTUFBV08sS0FBS2dDLElBQUl2QyxnQkFDckIsTUFBT0EsR0FBSyxRQUFTQSxFQUFHLEtBQzVCOEcsT0FBTzBtQixTQUFTeHRCLE1BQVc4RyxPQUFPMG1CLFNBQVN4dEIsY0FDdkMyMUIsZ0JBRUMzMUIsSUFBU08sS0FBSytCLElBQUl0QyxZQUNsQkEsSUFBU08sS0FBS2dDLElBQUl2QyxhQUNOLElBQWJBLEVBQUVjLGFBQ0RkLEVBQUUsUUFDRkEsRUFBRSxrQkFNWCxjQUdLcUYsS0FBVSxNQUVkOC9CLEVBQVNubEMsRUFBRThpQixNQUFNLHlDQUNqQmtYLEVBQU8sRUFDUEQsRUFBUSxFQUVHLE9BQVhvTCxlQUlLdGlDLEVBQUksRUFBR0EsRUFBSXNpQyxFQUFPcmtDLE9BQVErQixJQUFLLEtBRWxDUixFQUFJOGlDLEVBQU90aUMsR0FFTCxNQUFOUixHQUFtQixPQUFOQSxHQUFvQixPQUFOQSxJQUVkLE1BQU5BLE1BRU0sTUFBTkEsTUFFTSxNQUFOQSxHQUFtQixNQUFOQSxHQUVsQjIzQixFQUFPRCxJQUFVLE9BSUMsTUFBbEJvTCxFQUFPdGlDLEVBQUksSUFBZThxQixNQUFNd1gsRUFBT3RpQyxFQUFJLFVBSWxDd3NCLGNBQW9CLEVBQUksSUFBTSxJQUFNLFlBSHBDQSxjQUFvQixFQUFJLElBQU0sSUFBTThWLEVBQU90aUMsRUFBSSxXQUtyRGszQixFQUFRLEtBSVhDLEVBQU9ELElBQVUsR0FBS3BNLE1BQU10ckIsU0FJVixNQUFsQjhpQyxFQUFPdGlDLEVBQUksSUFBZ0MsTUFBbEJzaUMsRUFBT3RpQyxFQUFJLFVBQzNCd3NCLGNBQW9CLEVBQUksSUFBTSxJQUFNaHRCLGNBR3BDZ3RCLGNBQW9CLEVBQUksSUFBTSxJQUFNaHRCLEtBRTFDMDNCLEVBQVEsS0FLZkMsRUFBT0QsRUFBUSxpQkFLaEIsY0FDTyxPQUNBLzVCLDRCQU9aMnRCLE1BQU10b0IsT0FBWXNvQixNQUFNdG9CLE1BS3JCQSxFQWFDKy9CLENBQU1wbEMsRUFBR0MsV0FFSm9GLGFBQ0FBLFFBR1AzQyxVQUFZLENBRWxCdWlDLEdBQU0sRUFDTkMsR0FBTSxFQU9OelgsS0FBUSxlQUVGNFgsRUFBTWhtQyxrQkFFSCxJQUFJczJCLEVBQ0h0MkIsUUFBYWdtQyxFQUNiaG1DLFFBQWFnbUMsSUFRdkJ6dkIsSUFBTyxTQUFTNVYsRUFBR0MsT0FFYm9GLEVBQUksSUFBSXN3QixFQUFRMzFCLEVBQUdDLFVBR25CWixtQkFBd0JnRyxlQUNuQnN3QixNQUlMdDJCLG1CQUF3QmdHLGVBQ25Cc3dCLFdBR0YsSUFBSUEsRUFDSHQyQixRQUFhZ0csS0FDYmhHLFFBQWFnRyxPQVF2QnFILElBQU8sU0FBUzFNLEVBQUdDLE9BRWJvRixFQUFJLElBQUlzd0IsRUFBUTMxQixFQUFHQyxVQUduQlosbUJBQXdCZ0csZUFDbkJzd0IsTUFJTHQyQixtQkFBd0JnRyxlQUNuQnN3QixXQUdGLElBQUlBLEVBQ0h0MkIsUUFBYWdHLEtBQ2JoRyxRQUFhZ0csT0FRdkI4cUIsSUFBTyxTQUFTbndCLEVBQUdDLE9BRWJvRixFQUFJLElBQUlzd0IsRUFBUTMxQixFQUFHQyxVQUdsQlosbUJBQXdCZ0csWUFBbUJoRyxlQUFvQmdHLGVBQzNEc3dCLE1BSUx0MkIsbUJBQXdCZ0csZUFDbkJzd0IsV0FJTyxJQUFadHdCLE1BQWdDLElBQWZoRyxRQUNaLElBQUlzMkIsRUFBUXQyQixRQUFhZ0csS0FBUyxHQUdwQyxJQUFJc3dCLEVBQ0h0MkIsUUFBYWdHLEtBQVVoRyxRQUFhZ0csS0FDcENoRyxRQUFhZ0csS0FBVWhHLFFBQWFnRyxPQVE5Q3kxQixJQUFPLFNBQVM5NkIsRUFBR0MsT0FFYm9GLEVBQUksSUFBSXN3QixFQUFRMzFCLEVBQUdDLE1BR2xCWixlQUFvQmdHLFlBQW1CaEcsbUJBQXdCZ0csc0JBQzNEc3dCLFNBSUx0MkIsbUJBQXdCZ0csa0JBQ25Cc3dCLGNBSUx0MkIsZUFBb0JnRyxzQkFDZnN3QixTQUdMdDJCLFVBQ0FBLFlBSUE4RCxFQUFHaEUsRUFGSGtELEVBQUlnRCxLQUNKZ0ssRUFBSWhLLFlBR0osSUFBTWdLLEVBRUQsSUFBSXNtQixFQUFRMzFCLEVBQUlxQyxFQUFHcEMsRUFBSW9DLEdBRzVCOUIsS0FBS2EsSUFBSWlCLEdBQUs5QixLQUFLYSxJQUFJaU8sR0FLbEIsSUFBSXNtQixRQUhQdHpCLEVBQUlnTixHQUlTcFAsTUFIYm9DLEVBQUlsRCxFQUFJa1EsTUFJQ2xRLEVBQUlhLEdBQUttRCxHQU9mLElBQUl3eUIsS0FDRTExQixLQUpUb1AsRUFBSWhOLE9BQ0pnTixFQUFJbFEsRUFBSWtELE1BSUNyQyxFQUFJYixHQUFLZ0UsSUFTMUJrQixJQUFPLFNBQVNyRSxFQUFHQyxPQUVib0YsRUFBSSxJQUFJc3dCLEVBQVEzMUIsRUFBR0MsUUFFbkJaLFVBQ0FBLFFBRUFnRyxrQkFDS3N3QixTQUlPLElBQVp0d0IsS0FBZSxJQUVQLElBQU5wRixHQUFXRCxFQUFJLFNBRVYsSUFBSTIxQixFQUFRcDFCLEtBQUs4RCxJQUFJckUsRUFBR3FGLE1BQVUsTUFFMUIsSUFBTnJGLGVBRVUsRUFBSSxHQUFLLFFBQ3JCLFNBQ0ksSUFBSTIxQixFQUFRcDFCLEtBQUs4RCxJQUFJcEUsRUFBR29GLE1BQVUsUUFDdEMsU0FDSSxJQUFJc3dCLEVBQVEsRUFBR3AxQixLQUFLOEQsSUFBSXBFLEVBQUdvRixZQUMvQixTQUNJLElBQUlzd0IsR0FBU3AxQixLQUFLOEQsSUFBSXBFLEVBQUdvRixNQUFVLFFBQ3ZDLFNBQ0ksSUFBSXN3QixFQUFRLEdBQUlwMUIsS0FBSzhELElBQUlwRSxFQUFHb0YsV0F3QmpDLElBQU5yRixHQUFpQixJQUFOQyxHQUFXb0YsS0FBVSxHQUFLQSxNQUFXLFNBQzNDc3dCLFdBR0w3TixFQUFNdm5CLEtBQUtjLE1BQU1wQixFQUFHRCxHQUNwQnNsQyxFQUFNQyxFQUFTdmxDLEVBQUdDLFlBRWxCTSxLQUFLdUQsSUFBSXVCLEtBQVVpZ0MsRUFBTWpnQyxLQUFVeWlCLEtBQ25DemlCLEtBQVVpZ0MsRUFBTWpnQyxLQUFVeWlCLEVBQ3ZCLElBQUk2TixFQUNIMzFCLEVBQUlPLEtBQUsrQixJQUFJckMsR0FDYkQsRUFBSU8sS0FBS2dDLElBQUl0QyxLQVF2QmtCLEtBQVEsZUFNRjhqQyxFQUFJQyxFQUpKbGxDLEVBQUlYLFFBQ0pZLEVBQUlaLFFBQ0p1SixFQUFJdkosY0FJSlcsR0FBSyxFQUFHLElBRUEsSUFBTkMsU0FDSyxJQUFJMDFCLEVBQVFwMUIsS0FBS1ksS0FBS25CLEdBQUksS0FHOUIsR0FBTU8sS0FBS1ksS0FBSyxLQUFXbkIsWUFFM0JPLEtBQUthLElBQUluQixHQUFLTSxLQUFLWSxLQUFLLEtBQVNuQixhQUdwQ0EsR0FBSyxFQUNGLEdBQU1PLEtBQUtZLEtBQUssS0FBV25CLElBRTNCTyxLQUFLYSxJQUFJbkIsR0FBS00sS0FBS1ksS0FBSyxLQUFTbkIsSUFHakMsSUFBSTIxQixFQUFRc1AsRUFBSWhsQyxFQUFJLEdBQUtpbEMsRUFBS0EsSUFRdkNwaEMsSUFBTyxlQUVEMk8sRUFBTWxTLEtBQUt1RCxJQUFJekUsZ0JBRWZBLFFBR0csSUFBSXMyQixFQUNIbGpCLEVBQU1sUyxLQUFLK0IsSUFBSWpELFNBQ2ZvVCxFQUFNbFMsS0FBS2dDLElBQUlsRCxXQVd6Qm1tQyxNQUFTLGVBUUh4bEMsRUFBSVgsUUFDSlksRUFBSVosZUFFRCxJQUFJczJCLEVBQ0hwMUIsS0FBS2lsQyxNQUFNeGxDLEdBQUtPLEtBQUsrQixJQUFJckMsR0FqaEJ6QixTQUFTZCxPQUNmc21DLEVBQVFsbEMsS0FBS2UsR0FBRyxLQUNoQm5DLEdBQUtzbUMsR0FBU3RtQyxFQUFJc21DLFNBQ1psbEMsS0FBSytCLElBQUluRCxHQUFLLE1BR3BCNlUsRUFBSzdVLEVBQUlBLFNBQ042VSxHQUNHQSxLQUNILEdBQUtBLE1BQ0YsSUFBTUEsS0FDTCxNQUFRQSxNQUNMLFFBQVVBLEtBQ1QsV0FBYUEsTUFDVixZQUFjQSxLQUNiLHlCQWtnQnFCMHhCLENBQU16bEMsR0FDcENNLEtBQUt1RCxJQUFJOUQsR0FBS08sS0FBS2dDLElBQUl0QyxLQVFqQ3FFLElBQU8sZUFFRHRFLEVBQUlYLFFBQ0pZLEVBQUlaLGVBTUQsSUFBSXMyQixFQUNINFAsRUFBU3ZsQyxFQUFHQyxHQUNaTSxLQUFLYyxNQUFNcEIsRUFBR0QsS0FReEJvQixJQUFPLGtCQXBoQllqQyxFQXNoQkpFLFFBdGhCT0QsRUFzaEJLQyxRQXBoQnZCVyxFQUFJTyxLQUFLYSxJQUFJakMsR0FDYmMsRUFBSU0sS0FBS2EsSUFBSWhDLEdBRWJZLEVBQUksS0FBUUMsRUFBSSxJQUNYTSxLQUFLWSxLQUFLbkIsRUFBSUEsRUFBSUMsRUFBSUEsSUFHM0JELEVBQUlDLEtBQ0ZBLElBQ0FkLEVBQUlDLEtBRUpBLEVBQUlELEVBRUhhLEVBQUlPLEtBQUtZLEtBQUssRUFBSWxCLEVBQUlBLElBZm5CLElBQVNkLEVBQUdDLEVBRWxCWSxFQUNBQyxJQTJoQko2bkIsSUFBTyxrQkFFRXZuQixLQUFLYyxNQUFNaEMsUUFBWUEsVUFRaENrRCxJQUFPLGVBSUR2QyxFQUFJWCxRQUNKWSxFQUFJWixlQUVELElBQUlzMkIsRUFDSHAxQixLQUFLZ0MsSUFBSXZDLEdBQUs0a0MsRUFBSzNrQyxHQUNuQk0sS0FBSytCLElBQUl0QyxHQUFLNmtDLEVBQUs1a0MsS0FRN0JxQyxJQUFPLGVBSUR0QyxFQUFJWCxRQUNKWSxFQUFJWixlQUVELElBQUlzMkIsRUFDSHAxQixLQUFLK0IsSUFBSXRDLEdBQUs0a0MsRUFBSzNrQyxJQUNsQk0sS0FBS2dDLElBQUl2QyxHQUFLNmtDLEVBQUs1a0MsS0FROUI4K0IsSUFBTyxlQUlELytCLEVBQUksRUFBSVgsUUFDUlksRUFBSSxFQUFJWixRQUNSZ1EsRUFBSTlPLEtBQUsrQixJQUFJdEMsR0FBSzRrQyxFQUFLM2tDLFVBRXBCLElBQUkwMUIsRUFDSHAxQixLQUFLZ0MsSUFBSXZDLEdBQUtxUCxFQUNkdzFCLEVBQUs1a0MsR0FBS29QLElBUXBCczJCLElBQU8sZUFJRDNsQyxFQUFJLEVBQUlYLFFBQ1JZLEVBQUksRUFBSVosUUFDUmdRLEVBQUk5TyxLQUFLK0IsSUFBSXRDLEdBQUs0a0MsRUFBSzNrQyxVQUVwQixJQUFJMDFCLEdBQ0ZwMUIsS0FBS2dDLElBQUl2QyxHQUFLcVAsRUFDZncxQixFQUFLNWtDLEdBQUtvUCxJQVFwQnUyQixJQUFPLGVBSUQ1bEMsRUFBSVgsUUFDSlksRUFBSVosUUFDSmdRLEVBQUksR0FBTXUxQixFQUFLLEVBQUkza0MsR0FBSyxHQUFNTSxLQUFLK0IsSUFBSSxFQUFJdEMsVUFFeEMsSUFBSTIxQixFQUNIcDFCLEtBQUsrQixJQUFJdEMsR0FBSzRrQyxFQUFLM2tDLEdBQUtvUCxFQUN4QjlPLEtBQUtnQyxJQUFJdkMsR0FBSzZrQyxFQUFLNWtDLEdBQUtvUCxJQVFsQ3cyQixJQUFPLGVBSUQ3bEMsRUFBSVgsUUFDSlksRUFBSVosUUFDSmdRLEVBQUksR0FBTXUxQixFQUFLLEVBQUkza0MsR0FBSyxHQUFNTSxLQUFLK0IsSUFBSSxFQUFJdEMsVUFFeEMsSUFBSTIxQixFQUNIcDFCLEtBQUtnQyxJQUFJdkMsR0FBSzRrQyxFQUFLM2tDLEdBQUtvUCxHQUN2QjlPLEtBQUsrQixJQUFJdEMsR0FBSzZrQyxFQUFLNWtDLEdBQUtvUCxJQVFuQ2d0QixLQUFRLGVBSUZyOEIsRUFBSVgsUUFDSlksRUFBSVosUUFFSnltQyxFQUFLLElBQUluUSxFQUNMMTFCLEVBQUlBLEVBQUlELEVBQUlBLEVBQUksS0FDWEEsRUFBSUMsVUFFYjhsQyxFQUFLLElBQUlwUSxFQUNMbVEsS0FBVzdsQyxFQUNYNmxDLEtBQVc5bEMsZ0JBRVosSUFBSTIxQixFQUFRb1EsTUFBV0EsT0FRaENqOUIsS0FBUSxlQUlGOUksRUFBSVgsUUFDSlksRUFBSVosUUFFSnltQyxFQUFLLElBQUluUSxFQUNMMTFCLEVBQUlBLEVBQUlELEVBQUlBLEVBQUksS0FDWEEsRUFBSUMsVUFFYjhsQyxFQUFLLElBQUlwUSxFQUNMbVEsS0FBVzdsQyxFQUNYNmxDLEtBQVc5bEMsZ0JBRVosSUFBSTIxQixFQUFRcDFCLEtBQUtlLEdBQUssRUFBSXlrQyxLQUFVQSxPQVE3QzlJLEtBQVEsZUFJRmo5QixFQUFJWCxRQUNKWSxFQUFJWixXQUVFLElBQU5XLEVBQVMsSUFFRCxJQUFOQyxTQUNLLElBQUkwMUIsRUFBUSxFQUFHdGdCLEVBQUFBLFdBR3BCcFYsU0FDSyxJQUFJMDFCLEVBQVEsR0FBRyxFQUFBLE9BSXRCdG1CLEVBQUlyUCxFQUFJQSxLQUFXQyxNQUFZQSxHQUUvQjZsQyxFQUFLLElBQUluUSxLQUNBMTFCLEVBQUlBLEVBQUlELEVBQUlBLEdBQUtxUCxLQUNqQnJQLEVBQUlxUCxHQUFHL0ssYUFFYixJQUFJcXhCLE1BQWVtUSxLQUFVLEdBQU1BLE9BUTVDRSxLQUFRLGVBSUZobUMsRUFBSVgsUUFDSlksRUFBSVosV0FFRSxJQUFOWSxTQUNLLElBQUkwMUIsRUFBUXAxQixLQUFLYyxNQUFNLEVBQUdyQixHQUFJLE9BR25DcVAsRUFBSXJQLEVBQUlBLEVBQUlDLEVBQUlBLFNBQ04sSUFBTm9QLEVBQ0UsSUFBSXNtQixFQUNFMzFCLEVBQUlxUCxHQUNIcFAsRUFBSW9QLEdBQUc0dEIsT0FDZCxJQUFJdEgsRUFDUyxJQUFOMzFCLEVBQVdBLEVBQUksRUFBSSxFQUNiLElBQU5DLEdBQVlBLEVBQUksRUFBSSxHQUFHZzlCLFFBUTFDZ0osS0FBUSxlQUlGam1DLEVBQUlYLFFBQ0pZLEVBQUlaLFdBRUUsSUFBTlcsR0FBaUIsSUFBTkMsU0FDTixJQUFJMDFCLEVBQVEsRUFBR3RnQixFQUFBQSxPQUdwQmhHLEVBQUlyUCxFQUFJQSxFQUFJQyxFQUFJQSxTQUNOLElBQU5vUCxFQUNFLElBQUlzbUIsRUFDRTMxQixFQUFJcVAsR0FDSHBQLEVBQUlvUCxHQUFHdkcsT0FDZCxJQUFJNnNCLEVBQ1MsSUFBTjMxQixFQUFXQSxFQUFJLEVBQUksRUFDYixJQUFOQyxHQUFZQSxFQUFJLEVBQUksR0FBRzZJLFFBUTFDbzlCLEtBQVEsZUFJRmxtQyxFQUFJWCxRQUNKWSxFQUFJWixXQUVFLElBQU5XLEdBQWlCLElBQU5DLFNBQ04sSUFBSTAxQixFQUFRcDFCLEtBQUtlLEdBQUssRUFBRytULEVBQUFBLE9BRzlCaEcsRUFBSXJQLEVBQUlBLEVBQUlDLEVBQUlBLFNBQ04sSUFBTm9QLEVBQ0UsSUFBSXNtQixFQUNFMzFCLEVBQUlxUCxHQUNIcFAsRUFBSW9QLEdBQUdndEIsT0FDZCxJQUFJMUcsRUFDUyxJQUFOMzFCLEVBQVdBLEVBQUksRUFBSSxFQUNiLElBQU5DLEdBQVlBLEVBQUksRUFBSSxHQUFHbzhCLFFBUTFDWCxLQUFRLGVBSUYxN0IsRUFBSVgsUUFDSlksRUFBSVosZUFFRCxJQUFJczJCLEVBQ0hrUCxFQUFLN2tDLEdBQUtPLEtBQUsrQixJQUFJckMsR0FDbkIya0MsRUFBSzVrQyxHQUFLTyxLQUFLZ0MsSUFBSXRDLEtBUTdCbzdCLEtBQVEsZUFJRnI3QixFQUFJWCxRQUNKWSxFQUFJWixlQUVELElBQUlzMkIsRUFDSGlQLEVBQUs1a0MsR0FBS08sS0FBSytCLElBQUlyQyxHQUNuQjRrQyxFQUFLN2tDLEdBQUtPLEtBQUtnQyxJQUFJdEMsS0FRN0IrN0IsS0FBUSxlQUlGaDhCLEVBQUksRUFBSVgsUUFDUlksRUFBSSxFQUFJWixRQUNSZ1EsRUFBSXUxQixFQUFLNWtDLEdBQUtPLEtBQUsrQixJQUFJckMsVUFFcEIsSUFBSTAxQixFQUNIa1AsRUFBSzdrQyxHQUFLcVAsRUFDVjlPLEtBQUtnQyxJQUFJdEMsR0FBS29QLElBUXhCODJCLEtBQVEsZUFJRm5tQyxFQUFJLEVBQUlYLFFBQ1JZLEVBQUksRUFBSVosUUFDUmdRLEVBQUl1MUIsRUFBSzVrQyxHQUFLTyxLQUFLK0IsSUFBSXJDLFVBRXBCLElBQUkwMUIsRUFDSGtQLEVBQUs3a0MsR0FBS3FQLEdBQ1Q5TyxLQUFLZ0MsSUFBSXRDLEdBQUtvUCxJQVF6QisyQixLQUFRLGVBSUZwbUMsRUFBSVgsUUFDSlksRUFBSVosUUFDSmdRLEVBQUk5TyxLQUFLK0IsSUFBSSxFQUFJckMsR0FBSzJrQyxFQUFLLEVBQUk1a0MsVUFFNUIsSUFBSTIxQixLQUNFa1AsRUFBSzdrQyxHQUFLTyxLQUFLK0IsSUFBSXJDLEdBQUtvUCxFQUM3QixFQUFJdTFCLEVBQUs1a0MsR0FBS08sS0FBS2dDLElBQUl0QyxHQUFLb1AsSUFRdENnM0IsS0FBUSxlQUlGcm1DLEVBQUlYLFFBQ0pZLEVBQUlaLFFBQ0pnUSxFQUFJOU8sS0FBSytCLElBQUksRUFBSXJDLEdBQUsya0MsRUFBSyxFQUFJNWtDLFVBRTVCLElBQUkyMUIsRUFDSCxFQUFJaVAsRUFBSzVrQyxHQUFLTyxLQUFLK0IsSUFBSXJDLEdBQUtvUCxLQUN2QncxQixFQUFLN2tDLEdBQUtPLEtBQUtnQyxJQUFJdEMsR0FBS29QLElBUXZDc3RCLE1BQVMsZUFJSGxxQixFQUFNcFQsaUJBQ0lBLGdCQUNEb1QsTUFDVDZ6QixFQUFNam5DLDRCQUVJQSxnQkFDRG9ULElBQ1A2ekIsV0FFT0EsVUFDRDd6QixFQUNMNnpCLEdBUVQvSixNQUFTLGVBSUgrSixFQUFNam5DLGVBQ05pbkMsTUFBYSxFQUFHLEtBQ2Q3ekIsRUFBTTZ6QixXQUNHQSxVQUNEN3pCLFFBRVJBLEVBQU02ekIsV0FDR0EsVUFDRDd6QixTQUVQNnpCLEdBUVR6SixNQUFTLGVBSUg3OEIsRUFBSVgsUUFDSlksRUFBSVosUUFFSmtuQyxFQUFPdm1DLEVBQUksR0FBVyxJQUFOQyxFQUNoQnVtQyxFQUFXLEVBQUl4bUMsRUFDZnltQyxFQUFVLEVBQUl6bUMsRUFDZHFQLEVBQUltM0IsRUFBV0EsRUFBV3ZtQyxFQUFJQSxFQUU5QmQsRUFBVyxJQUFOa1EsRUFDQyxJQUFJc21CLEtBQ2E2USxFQUFXdm1DLEVBQUlBLEdBQUtvUCxLQUMxQm0zQixFQUFXQyxFQUFVeG1DLEdBQUtvUCxHQUNyQyxJQUFJc21CLE9BQ0czMUIsRUFBYUEsRUFBSSxFQUFLLEVBQ2hCLElBQU5DLEVBQVlBLEVBQUksRUFBSyxHQUVsQ2tnQyxFQUFPaGhDLGlCQUNEb21DLEVBQVNwbUMsS0FBU0EsTUFBVyxPQUM3Qm9CLEtBQUtjLE1BQU1sQyxLQUFTZ2hDLEdBQVEsRUFDbENvRyxVQUNTcG5DLE1BRU5BLEdBUVR1bkMsTUFBUyxlQUlIMW1DLEVBQUlYLFFBQ0pZLEVBQUlaLFdBRUUsSUFBTlcsR0FBaUIsSUFBTkMsU0FDTixJQUFJMDFCLEVBQVEsRUFBR3AxQixLQUFLZSxHQUFLLE9BRzlCK04sRUFBSXJQLEVBQUlBLEVBQUlDLEVBQUlBLFNBQ04sSUFBTm9QLEVBQ0UsSUFBSXNtQixFQUNFMzFCLEVBQUlxUCxHQUNIcFAsRUFBSW9QLEdBQUd3dEIsUUFDZCxJQUFJbEgsRUFDUyxJQUFOMzFCLEVBQVdBLEVBQUksRUFBSSxFQUNiLElBQU5DLEdBQVlBLEVBQUksRUFBSSxHQUFHNDhCLFNBUTFDOEosTUFBUyxlQUlIM21DLEVBQUlYLFFBQ0pZLEVBQUlaLFdBRUUsSUFBTlksU0FFSyxJQUFJMDFCLEVBQ0ksSUFBTjMxQixFQUNDTyxLQUFLK0QsSUFBSXRFLEVBQUlPLEtBQUtZLEtBQUtuQixFQUFJQSxFQUFJLElBQy9CcVYsRUFBQUEsRUFBVSxPQUdsQmhHLEVBQUlyUCxFQUFJQSxFQUFJQyxFQUFJQSxTQUNOLElBQU5vUCxFQUNFLElBQUlzbUIsRUFDRTMxQixFQUFJcVAsR0FDSHBQLEVBQUlvUCxHQUFHc3RCLFFBQ2QsSUFBSWhILEVBQ1MsSUFBTjMxQixFQUFXQSxFQUFJLEVBQUksRUFDYixJQUFOQyxHQUFZQSxFQUFJLEVBQUksR0FBRzA4QixTQVExQ2lLLE1BQVMsZUFJSDVtQyxFQUFJWCxRQUNKWSxFQUFJWixXQUVKQSxxQkFDS3MyQixlQUdMdG1CLEVBQUlyUCxFQUFJQSxFQUFJQyxFQUFJQSxTQUNOLElBQU5vUCxFQUNFLElBQUlzbUIsRUFDRTMxQixFQUFJcVAsR0FDSHBQLEVBQUlvUCxHQUFHa3RCLFFBQ2QsSUFBSTVHLEVBQ1MsSUFBTjMxQixFQUFXQSxFQUFJLEVBQUksRUFDYixJQUFOQyxHQUFZQSxFQUFJLEVBQUksR0FBR3M4QixTQVExQ3NLLFFBQVcsY0FHTHhuQyxxQkFDS3MyQixjQUdMdDJCLHlCQUNLczJCLFdBR0wzMUIsRUFBSVgsUUFDSlksRUFBSVosUUFFSmdRLEVBQUlyUCxFQUFJQSxFQUFJQyxFQUFJQSxTQUViLElBQUkwMUIsRUFBUTMxQixFQUFJcVAsR0FBSXBQLEVBQUlvUCxJQVFqQ2xHLFVBQWEsa0JBRUosSUFBSXdzQixFQUFRdDJCLFNBQWFBLFVBUWxDNjZCLElBQU8sa0JBRUUsSUFBSXZFLEdBQVN0MkIsU0FBYUEsVUFRbkM0QixLQUFRLFNBQVM2bEMsWUFFTnZtQyxLQUFLOEQsSUFBSSxHQUFJeWlDLEdBQVUsR0FFekIsSUFBSW5SLEVBQ0hwMUIsS0FBS1UsS0FBSzVCLFFBQWF5bkMsR0FBVUEsRUFDakN2bUMsS0FBS1UsS0FBSzVCLFFBQWF5bkMsR0FBVUEsSUFRM0M5bEMsTUFBUyxTQUFTOGxDLFlBRVB2bUMsS0FBSzhELElBQUksR0FBSXlpQyxHQUFVLEdBRXpCLElBQUluUixFQUNIcDFCLEtBQUtTLE1BQU0zQixRQUFheW5DLEdBQVVBLEVBQ2xDdm1DLEtBQUtTLE1BQU0zQixRQUFheW5DLEdBQVVBLElBUTVDNWxDLE1BQVMsU0FBUzRsQyxZQUVQdm1DLEtBQUs4RCxJQUFJLEdBQUl5aUMsR0FBVSxHQUV6QixJQUFJblIsRUFDSHAxQixLQUFLVyxNQUFNN0IsUUFBYXluQyxHQUFVQSxFQUNsQ3ZtQyxLQUFLVyxNQUFNN0IsUUFBYXluQyxHQUFVQSxJQVU1QzN3QixPQUFVLFNBQVNuVyxFQUFHQyxPQUVoQm9GLEVBQUksSUFBSXN3QixFQUFRMzFCLEVBQUdDLFVBRWhCTSxLQUFLYSxJQUFJaUUsS0FBVWhHLFVBQWVzMkIsV0FDakNwMUIsS0FBS2EsSUFBSWlFLEtBQVVoRyxVQUFlczJCLFdBUTVDbFYsTUFBUyxrQkFFQSxJQUFJa1YsRUFBUXQyQixRQUFZQSxVQVFqQ3lELFNBQVksZUFFTjlDLEVBQUlYLFFBQ0pZLEVBQUlaLFFBQ0owbkMsRUFBTSxVQUVOMW5DLGFBQ0ssTUFHTEEsa0JBQ0ssWUFHTGtCLEtBQUthLElBQUlwQixHQUFLMjFCLGNBQ1osR0FHRnAxQixLQUFLYSxJQUFJbkIsR0FBSzAxQixjQUNaLEdBSUksSUFBTjExQixFQUNLOG1DLEVBQU0vbUMsR0FHTCxJQUFOQSxNQUNJQSxLQUNBLElBQ0ZDLEVBQUksTUFDREEsS0FDQyxRQUVBLE9BRUYsS0FDR0EsRUFBSSxPQUNSQSxLQUNDLEtBR0osSUFBTUEsT0FDRkEsR0FFRDhtQyxFQUFNLE9BUWZDLFNBQVksa0JBRUgsQ0FBQzNuQyxRQUFZQSxVQVF0QnNoQixRQUFXLGtCQUVVLElBQWZ0aEIsUUFDS0EsUUFFRixNQVFUc3VCLE1BQVMsa0JBQ0FBLE1BQU10dUIsVUFBZXN1QixNQUFNdHVCLFVBU3BDZ3hCLE9BQVUsa0JBQ2MsSUFBZmh4QixTQUFtQyxJQUFmQSxTQVM3Qm11QixTQUFZLGtCQUNIQSxTQUFTbnVCLFVBQWVtdUIsU0FBU251QixVQVMxQzRuQyxXQUFjLGtDQUNnQjVuQywwQkFJZCxJQUFJczJCLEVBQVEsRUFBRyxTQUNoQixJQUFJQSxFQUFRLEVBQUcsT0FDakIsSUFBSUEsRUFBUSxFQUFHLFFBQ2QsSUFBSUEsRUFBUXAxQixLQUFLZSxHQUFJLE9BQ3RCLElBQUlxMEIsRUFBUXAxQixLQUFLMm1DLEVBQUcsY0FDYixJQUFJdlIsRUFBUXRnQixFQUFBQSxFQUFVQSxFQUFBQSxTQUMzQixJQUFJc2dCLEVBQVEyRCxJQUFLQSxlQUNiLGFBT1p2TixlQUFlNEosRUFBUyxhQUFjLENBQUNyMkIsT0FBUyxjQUNsQ3EyQixZQUNBQSxhQUNEQSxHQXAxQ3ZCLHlCQzdCVXdSLE1BRkEsVUFDUSxJQUN3RCxRQUlqRXprQyxVQUFVOGQsS0FBTyxhQUNqQjlkLFVBQVVpYyxXQUFZLEtBT3RCamMsVUFBVXd6QixPQUFTLGtCQUNsQixDQUNMQyxPQUFRLFVBQ1I4TyxHQUFJNWxDLEtBQUs0bEMsR0FDVEMsR0FBSTdsQyxLQUFLNmxDLFFBVUx4aUMsVUFBVTBrQyxRQUFVLGtCQUNuQixDQUNMeCtCLEVBQUd2SixLQUFLK0IsTUFDUjZMLElBQUs1TixLQUFLeW9CLFdBY05wbEIsVUFBVXd1QixPQUFTLFNBQVV4RCxPQUUvQndYLEVBQUs3bEMsS0FBSzZsQyxHQUNWRCxFQUFLNWxDLEtBQUs0bEMsR0FDVm9DLEVBQVFuVyxHQUFPN3hCLEtBQUs0bEMsR0FBSXZYLEdBQ3hCNFosRUFBUXBXLEdBQU83eEIsS0FBSzZsQyxHQUFJeFgsR0FFeEJFLEVBQVlFLEdBQVNKLEdBQVdBLEVBQVVBLEVBQVVBLEVBQVFFLFVBQVksUUFFMUQsT0FBZEEsRUFBb0IsS0FDbEJtQyxFQUFVeHZCLEtBQUs4RCxJQUFJLElBQUt1cEIsR0FFeEJydEIsS0FBS2EsSUFBSTZqQyxFQUFLQyxHQUFNblYsTUFDakIsR0FHSHh2QixLQUFLYSxJQUFJOGpDLEVBQUtELEdBQU1sVixNQUNqQixXQUlFLElBQVBtVixFQUVJbUMsRUFDVSxJQUFQcEMsRUFFRSxJQUFQQyxFQUNJLFNBQ0dBLEVBQ0gsS0FFQW9DLEVBQVEsSUFJWnBDLEVBQUssT0FDSEEsRUFDSW1DLEVBQVEsT0FFUkEsRUFBUSxNQUFRQyxFQUFNNVcsVUFBVSxHQUFLLElBR2xDLElBQVB3VSxFQUNJbUMsRUFBUSxPQUVSQSxFQUFRLE1BQVFDLEVBQVEsUUFvQjlCQyxVQUFZLFNBQVVsaUIsVUFDcEIxWCxVQUFVN00sYUFDWCxNQUVHZ25CLEVBQU1uYSxVQUFVLE1BRUQsaUJBQVJtYSxTQUNGbU4sR0FBUW5OLFNBRVQsSUFBSWxILFVBQVUsdURBSXJCLE1BRUdoWSxFQUFJK0UsVUFBVSxHQUNkVixFQUFNVSxVQUFVLE1BRWhCbWdCLEdBQVNsbEIsR0FBSSxJQUNYaVcsR0FBTzVSLElBQVFBLEVBQUl1NkIsUUFBUSxhQUV2QnY2QixFQUFJMm9CLFNBQVMsUUFHakI5SCxHQUFTN2dCLFVBQ0osSUFBSWdvQixHQUFRLENBQ2pCcnNCLEVBQUFBLEVBQ0FxRSxJQUFBQSxVQUlFLElBQUkyVCxVQUFVLGdEQUVkLElBQUlBLFVBQVUsMkNBS2xCLElBQUk0RCxZQUFZLHdEQUlwQjloQixVQUFVaWUsUUFBVXNVLEdBQVF2eUIsVUFBVUksWUFVdENzekIsU0FBVyxTQUFVQyxVQUNwQixJQUFJcEIsR0FBUW9CLE9BbUJiOEssUUFBVSxTQUFVbmhDLEVBQUdDLFVBQ3pCRCxFQUFFaWxDLEdBQUtobEMsRUFBRWdsQyxHQUNKLEVBR0xqbEMsRUFBRWlsQyxHQUFLaGxDLEVBQUVnbEMsTUFJVGpsQyxFQUFFa2xDLEdBQUtqbEMsRUFBRWlsQyxHQUNKLEVBR0xsbEMsRUFBRWtsQyxHQUFLamxDLEVBQUVpbEMsTUFJTixHQUdGalEsS0FDTixDQUNEcUIsU0FBUzs7Ozs7Ozs7Z0JDektWLFNBQVNxTyxPQVVKOEMsRUFBSSxDQUNOMW5DLEVBQUssRUFDTG1ELEVBQUssRUFDTG1NLEVBQUssY0FHY3VXLG9CQUdidWEsRUFBTzFnQyxNQUFNK21CLE1BQU1ubkIsS0FBTXNPLGtCQUNkdE8sVUFBZXVtQixhQUNkdWEscUJBQ0VBLGtDQVNFejlCLFVBQVlqRCxNQUFNaUQsWUFDdkJBLFVBQVksSUFBSWdsQyxFQUUxQkMsTUFHTEMsRUFBaUIvUixpQkFBNkJsSyxFQUFZLGtCQUMxRGtjLEVBQW1CaFMsbUJBQStCbEssRUFBWSwrQkFFbER6b0IsRUFBR25ELFVBRWI0dEIsTUFBTXpxQixFQUFJcXNCLFNBQVNyc0IsRUFBRyxVQUduQkEsRUFBSW5ELHFCQUlMLElBQUk4bkMsYUFHTzlKLFdBRWIrSixFQUFVLEdBRVY1a0MsRUFBSTY2QixFQUNKbDdCLEVBQUksRUFDSjlDLEVBQUksRUFFREEsR0FBS21ELEdBQUcsTUFFTkEsRUFBSUwsR0FBTSxNQUNWQSxJQUNHQSxNQUFjQSxJQUFNLEdBQUssS0FFOUIsRUFBSSxFQUFJQSxZQUdYSyxJQUFNNjZCLEVBQ0o3NkIsRUFBSSxNQUNBQSxNQUFjQSxJQUFNLEdBQUssS0FFekI2NkIsTUFBZ0JBLElBQVEsR0FBSyxFQUVoQytKLE1BR0wxQyxFQUFRLFNBQVNqc0IsRUFBSUMsT0FTbkIydUIsRUFQQTdrQyxFQUFJLEVBQUdtTSxFQUFJLEVBQUd0UCxFQUFJLEVBQ2xCSixFQUFJLEVBQUdDLEVBQUksRUFBR1QsRUFBSSxFQUFHQyxFQUFJLEVBQUdpRyxFQUFJLEVBRWhDMmlDLEVBQUksRUFBR0MsRUFBSSxFQUNYQyxFQUFJLEVBQUdDLEVBQUksRUFFWEMsRUFBSSxPQUdKanZCLE1BQUFBLGdCQUVjLElBQVBDLE9BQ0xELE1BQ0FDLHNCQUdXRCxPQUVSLFNBRUcsTUFBT0EsR0FBTSxNQUFPQSxLQUNsQkEsTUFDQUEsSUFDQSxNQUFPQSxPQUNKQSxNQUNFLEtBQUtBLEtBQ1ZBLEVBQUcsR0FDSCxLQUFLQSxNQUNIQSxFQUFHLFdBSVBqVyxFQUFJbU0sWUFHUCxZQUVHOEosRUFBSyxNQUNIQSxLQUNFQSxHQUdKQSxFQUFLLEdBQU0sSUFDVEEsVUFDS0EsRUFBSyxFQUFHLEtBRWJBLEdBQU0sU0FDSjVZLEtBQUs4RCxJQUFJLEdBQUk5RCxLQUFLUyxNQUFNLEVBQUlULEtBQUsrRCxJQUFJNlUsR0FBTTVZLEtBQUtrMkIsUUFPL0N3UixHQUFLRyxHQUFLRCxHQUFLQyxHQUFHLElBR25CanZCLFVBRksrdUIsTUFBVUMsSUFFTCxDQUNSRixFQUFJRSxHQUFLQyxLQUNQSixFQUFJRSxJQUNKRCxFQUFJRSxHQUNDQSxFQUFJRixLQUNUQyxJQUNBQyxNQUVBSCxJQUNBQyxTQU1GOXVCLEVBQUs0dUIsTUFDRkcsS0FDQUMsT0FFQUgsS0FDQUMsR0FHSEEsRUFBSUcsS0FDRkYsSUFDQUMsTUFFQUgsSUFDQUMsT0FJTDVpQyxTQUNJc29CLE1BQU14VSxJQUFPd1UsTUFBTXZVLFFBQ3hCbFcsRUFBSW8yQixlQUlULFlBSVMsVUFGTm5nQixFQUFHMkosTUFBTSxnQkFLQSxNQUFUbWxCLEVBQUVELGNBR2MsTUFBVEMsRUFBRUQsUUFJVEMsRUFBRW5uQyxTQUFXa25DLEVBQUksSUFDZkssRUFBT0osRUFBRUQsS0FBTWpvQyxHQUNHLE1BQWJrb0MsRUFBRUQsRUFBSSxJQUF1QixNQUFUQyxFQUFFRCxJQUVsQixNQUFUQyxFQUFFRCxPQUNBSyxFQUFPSixFQUFFRCxLQUFNam9DLFNBS2IsSUFBTWtvQyxFQUFFbm5DLFFBQXVCLE1BQWJtbkMsRUFBRUQsRUFBSSxJQUEyQixNQUFiQyxFQUFFRCxFQUFJLElBQTJCLE1BQWJDLEVBQUVELEVBQUksSUFBMkIsTUFBYkMsRUFBRUQsRUFBSSxRQUN0RkssRUFBT0osRUFBRUQsR0FBSWpvQyxLQUNiUSxLQUFLOEQsSUFBSSxHQUFJNGpDLEVBQUVELEdBQUdsbkMsY0FLWCxNQUFUbW5DLEVBQUVELElBQTJCLE1BQWJDLEVBQUVELEVBQUksSUFBdUIsTUFBVEMsRUFBRUQsSUFBMkIsTUFBYkMsRUFBRUQsRUFBSSxRQUN4REssRUFBT0osRUFBRUQsRUFBSSxHQUFJam9DLEtBQ2pCUSxLQUFLOEQsSUFBSSxHQUFJNGpDLEVBQUVELEVBQUksR0FBR2xuQyxRQUFVLEtBQy9CLElBR2UsTUFBYm1uQyxFQUFFRCxFQUFJLElBQTJCLE1BQWJDLEVBQUVELEVBQUksTUFDL0JLLEVBQU9KLEVBQUVELEdBQUlqb0MsS0FDYnNvQyxFQUFPSixFQUFFRCxFQUFJLEdBQUksTUFDaEIsR0FDaUIsTUFBYkMsRUFBRUQsRUFBSSxJQUEyQixNQUFiQyxFQUFFRCxFQUFJLE9BQy9CSyxFQUFPSixFQUFFRCxHQUFJam9DLEtBQ2Jzb0MsRUFBT0osRUFBRUQsRUFBSSxHQUFJam9DLEtBQ2pCc29DLEVBQU9KLEVBQUVELEVBQUksR0FBSSxNQUNoQixHQUdIQyxFQUFFbm5DLFFBQVVrbkMsRUFBRyxHQUdqQjlrQyxFQUFJL0QsS0FGQUMsRUFBSWlHLEdBRUkxRixFQUFJMEYsRUFBSXpGLHdCQVVwQixJQUFOeVAsUUFDSSxJQUFJdTRCLE1BR0g3bkMsRUFBSSxLQUFTLE1BQ2JRLEtBQUthLElBQUk4QixPQUNUM0MsS0FBS2EsSUFBSWlPLGdCQWdFUHJQLEVBQUdDLE9BRVRELFNBQ0lDLE1BQ0pBLFNBQ0lELFNBRUMsU0FDSEMsVUFFSUEsVUFDSkQsVUFFSUEsY0FXS0EsRUFBR0Msd0JBRUc0MUIsVUFDYixJQUFJQSxFQUFTNzFCLEVBQUdDLEtBR25CRCxFQUFHQyxLQUVMNDFCLFNBQ0V5UyxFQUFJYixJQUFRQSxLQUVaLFNBR01BLFdBQ0FBLElBQVN6bkMsU0FDVHluQyxJQUFTem5DLFlBT0YsSUFFWjBDLFVBQVksQ0FFbkIzQyxFQUFLLEVBQ0xtRCxFQUFLLEVBQ0xtTSxFQUFLLEVBT0xqTyxJQUFPLGtCQUVFLElBQUl5MEIsRUFBU3gyQixPQUFXQSxTQVFqQzY2QixJQUFPLGtCQUVFLElBQUlyRSxHQUFVeDJCLE9BQVlBLE9BQVdBLFNBUTlDdVcsSUFBTyxTQUFTNVYsRUFBR0MsWUFFWEQsRUFBR0MsR0FDRixJQUFJNDFCLEVBQ1R4MkIsT0FBWUEsT0FBWW9vQyxJQUFTQSxJQUFTcG9DLE9BQVlvb0MsSUFDdERwb0MsT0FBWW9vQyxNQVNoQi82QixJQUFPLFNBQVMxTSxFQUFHQyxZQUVYRCxFQUFHQyxHQUNGLElBQUk0MUIsRUFDVHgyQixPQUFZQSxPQUFZb29DLElBQVNBLElBQVNwb0MsT0FBWW9vQyxJQUN0RHBvQyxPQUFZb29DLE1BU2hCdFgsSUFBTyxTQUFTbndCLEVBQUdDLFlBRVhELEVBQUdDLEdBQ0YsSUFBSTQxQixFQUNUeDJCLE9BQVlvb0MsSUFBU3BvQyxPQUFZb29DLElBQ2pDcG9DLE9BQVlvb0MsTUFTaEIzTSxJQUFPLFNBQVM5NkIsRUFBR0MsWUFFWEQsRUFBR0MsR0FDRixJQUFJNDFCLEVBQ1R4MkIsT0FBWW9vQyxJQUFTcG9DLE9BQVlvb0MsSUFDakNwb0MsT0FBWW9vQyxNQVNoQmhuQixNQUFTLGtCQUNBLElBQUlvVixFQUFTeDJCLE9BUXRCaS9CLElBQU8sU0FBU3QrQixFQUFHQyxVQUViMHRCLE1BQU10dUIsU0FBY3N1QixNQUFNdHVCLFFBQ3JCLElBQUl3MkIsRUFBU3lELFVBR1osSUFBTnQ1QixFQUNLLElBQUk2MUIsRUFBU3gyQixPQUFZQSxPQUFZQSxPQUFXLE1BR25EVyxFQUFHQyxHQUNMLElBQUF3bkMsS0FBZ0IsSUFBQXBvQyxVQUNULEVBQUcsR0FpQlAsSUFBSXcyQixFQUNUeDJCLFlBQXNCQSxhQUF1QkEsUUFDN0Nvb0MsSUFBU3BvQyxVQVNiaXBDLElBQU8sU0FBU3RvQyxFQUFHQyxZQUVYRCxFQUFHQyxHQUlGLElBQUk0MUIsRUFBU3lTLEVBQUliLElBQVFwb0MsUUFBYWlwQyxFQUFJYixJQUFRcG9DLFFBQVlvb0MsSUFBU3BvQyxTQVFoRmtwQyxJQUFPLFNBQVN2b0MsRUFBR0MsWUFFWEQsRUFBR0MsR0FJTSxJQUFYd25DLEtBQThCLElBQWRwb0MsT0FDWCxJQUFJdzJCLEVBRU4sSUFBSUEsRUFBUzRSLElBQVNwb0MsT0FBV2lwQyxFQUFJYixJQUFRcG9DLFFBQWFpcEMsRUFBSWIsSUFBUXBvQyxVQVEvRTRCLEtBQVEsU0FBUzZsQyxZQUVOdm1DLEtBQUs4RCxJQUFJLEdBQUl5aUMsR0FBVSxHQUU1Qm5aLE1BQU10dUIsU0FBY3N1QixNQUFNdHVCLFFBQ3JCLElBQUl3MkIsRUFBU3lELEtBRWYsSUFBSXpELEVBQVN0MUIsS0FBS1UsS0FBSzZsQyxFQUFTem5DLE9BQVlBLE9BQVlBLFFBQVl5bkMsSUFRN0U5bEMsTUFBUyxTQUFTOGxDLFlBRVB2bUMsS0FBSzhELElBQUksR0FBSXlpQyxHQUFVLEdBRTVCblosTUFBTXR1QixTQUFjc3VCLE1BQU10dUIsUUFDckIsSUFBSXcyQixFQUFTeUQsS0FFZixJQUFJekQsRUFBU3QxQixLQUFLUyxNQUFNOGxDLEVBQVN6bkMsT0FBWUEsT0FBWUEsUUFBWXluQyxJQVE5RTVsQyxNQUFTLFNBQVM0bEMsWUFFUHZtQyxLQUFLOEQsSUFBSSxHQUFJeWlDLEdBQVUsR0FFNUJuWixNQUFNdHVCLFNBQWNzdUIsTUFBTXR1QixRQUNyQixJQUFJdzJCLEVBQVN5RCxLQUVmLElBQUl6RCxFQUFTdDFCLEtBQUtXLE1BQU00bEMsRUFBU3puQyxPQUFZQSxPQUFZQSxRQUFZeW5DLElBUTlFRCxRQUFXLGtCQUVGLElBQUloUixFQUFTeDJCLE9BQVlBLE9BQVdBLFNBUTdDZ0YsSUFBTyxTQUFTckUsRUFBR0MsUUFFWEQsRUFBR0MsR0FJTSxJQUFYd25DLFdBRUVBLElBQVMsRUFDSixJQUFJNVIsRUFBU3QxQixLQUFLOEQsSUFBSWhGLE9BQVlBLE9BQVdvb0MsS0FBU2xuQyxLQUFLOEQsSUFBSWhGLE9BQVdvb0MsTUFFMUUsSUFBSTVSLEVBQVN0MUIsS0FBSzhELElBQUloRixPQUFZQSxPQUFXb29DLEtBQVNsbkMsS0FBSzhELElBQUloRixPQUFXb29DLFNBVWpGcG9DLE9BQVksU0FBVSxTQUd0QitvQyxFQUFJSSxFQUFVbnBDLFFBQ2Q4b0MsRUFBSUssRUFBVW5wQyxRQUdkNkQsRUFBSSxFQUNKbU0sRUFBSSxVQUNDMG9CLEtBQUtxUSxLQUNGLE1BQU5yUSxNQUNNLE1BQU5BLEVBQVcsR0FDVCxhQUdKQSxJQUFLMFAsSUFFSFcsRUFBRXJRLEdBQUswUCxLQUFXLFNBRVIsT0FEVjFQLElBQUswUCxPQUVMbG5DLEtBQUs4RCxJQUFJMHpCLEVBQUdxUSxFQUFFclEsYUFHWEEsS0FBS29RLEtBQ0YsTUFBTnBRLFFBQ0ZBLElBQUswUCxJQUVIVSxFQUFFcFEsR0FBSzBQLEtBQVcsU0FFUixPQURWMVAsSUFBSzBQLE9BRUxsbkMsS0FBSzhELElBQUkwekIsRUFBR29RLEVBQUVwUSxZQUdoQjBQLElBQVMsRUFDSixJQUFJNVIsRUFBU3htQixFQUFHbk0sR0FFbEIsSUFBSTJ5QixFQUFTM3lCLEVBQUdtTSxJQVF6QjhHLE9BQVUsU0FBU25XLEVBQUdDLFlBRWRELEVBQUdDLEdBQ0ZaLE9BQVlBLE9BQVlvb0MsS0FBV0EsSUFBU0EsSUFBU3BvQyxRQVE5RDhoQyxRQUFXLFNBQVNuaEMsRUFBR0MsS0FFZkQsRUFBR0MsT0FDTGtELEVBQUs5RCxPQUFZQSxPQUFZb29DLElBQVNBLElBQVNBLElBQVNwb0MsaUJBQ2hEOEQsTUFBVSxJQUd4QnNsQyxTQUFZLFNBQVNDLE1BSWYvYSxNQUFNdHVCLFNBQWNzdUIsTUFBTXR1QixlQUNyQkEsU0FHTHNwQyxFQUFPdHBDLG9DQUlFVyxVQUNNLElBQWJBLEVBQUVjLE9BQ0csSUFBSSswQixFQUFTNzFCLEVBQUUsSUFDakI0b0MsRUFBSTVvQyxFQUFFeWpCLE1BQU0sa0JBQXdCempCLEVBQUUsTUFMekMwb0MsR0FBTyxhQVFKN2xDLEVBQUksRUFBR0EsRUFBSThsQyxFQUFLN25DLE9BQVErQixJQUFLLEtBQ2hDNFAsRUFBTW0yQixFQUFJRCxFQUFLbGxCLE1BQU0sRUFBRzVnQixFQUFJLE9BQzVCNFAsTUFBV3BULGtCQUF3QnNoQixVQUFZK25CLFNBQzFDajJCLE1BQVdwVCxlQUdmQSxNQVFUd3BDLFVBQWEsU0FBUzdvQyxFQUFHQyxZQUVqQkQsRUFBR0MsV0FDV1osU0FBZ0JBLE9BQVlvb0MsU0FBb0Jwb0MsVUFRdEVzaEIsUUFBVyxrQkFFRnRoQixPQUFZQSxPQUFZQSxRQVFqQ2lnQyxXQUFjLFNBQVN3SixPQUVqQkMsRUFBT25tQixFQUFNLEdBQ2IxZixFQUFJN0QsT0FDSmdRLEVBQUloUSxjQUNKQSxPQUFZLE9BQ1AsS0FHQyxJQUFOZ1EsS0FDS25NLEdBR0g0bEMsTUFBeUJ2b0MsS0FBS1MsTUFBTWtDLEVBQUltTSxJQUFNLE9BQ3pDMDVCLEtBQ0EsT0FDRjE1QixNQUdBbk0sS0FDQSxPQUNBbU0sR0FFRnVULEdBUVRvbUIsUUFBVyxTQUFTRixPQUVkQyxFQUFPbm1CLEVBQU0sR0FDYjFmLEVBQUk3RCxPQUNKZ1EsRUFBSWhRLGNBQ0pBLE9BQVksT0FDUCxLQUdDLElBQU5nUSxLQUNLbk0sR0FHSDRsQyxNQUF5QnZvQyxLQUFLUyxNQUFNa0MsRUFBSW1NLElBQU0sT0FDekMwNUIsS0FDRjE1QixNQUdBLGFBQ0FuTSxLQUNBLFFBQ0FtTSxLQUNBLEtBRUZ1VCxHQVFUcW1CLFlBQWUsZUFFVDlsQyxFQUNBbkQsRUFBSVgsT0FDSlksRUFBSVosT0FDSmluQyxFQUFNLE1BRU4zWSxNQUFNM3RCLElBQU0ydEIsTUFBTTF0QixVQUNicW1DLE9BSUh6ZSxLQUFLdG5CLEtBQUtTLE1BQU1oQixFQUFJQyxNQUNwQkQsRUFBSUMsSUFDSkEsSUFDQWtELFNBQ1MsSUFBTm5ELFVBRUZzbUMsR0FRVHhqQyxTQUFZLFNBQVNvbUMsT0FFZjV2QixFQUNBOHVCLEVBQUkvb0MsT0FDSjhvQyxFQUFJOW9DLFVBRUpzdUIsTUFBTXlhLElBQU16YSxNQUFNd2EsVUFDYixNQUdKdFMsZ0JBQ0N5UyxFQUFJRixFQUFHRCxNQUVON3VCLEtBR0Q0dkIsR0FBTyxPQUVUQyxXQWxqQlVqbUMsRUFBR21NLFFBRVpBLEVBQUksR0FBTSxFQUNmQSxHQUFLLFFBR0FBLEVBQUksR0FBTSxFQUNmQSxHQUFLLE1BR0csSUFBTkEsU0FDSyxVQU9Mc3hCLEVBQU0sR0FBS3R4QixFQUNYbE0sRUFBSSxFQUVPLElBQVJ3OUIsRUFBV3g5QixTQUNKLEdBQU53OUIsRUFBV3R4QixFQUVibE0sRUFuUlksV0FvUlAsU0FFSkEsRUF1aEJRaW1DLENBQVNoQixFQUFHRCxHQUNyQmtCLFdBcGhCWW5tQyxFQUFHbU0sRUFBR3JJLFdBRXBCc2lDLEVBQU8sRUFDUEMsV0EvQ1V0cEMsRUFBR0ksRUFBR0QsV0FFaEJ3SSxFQUFJLEVBQ0R2SSxFQUFJLEVBQUdKLEVBQUtBLEVBQUlBLEVBQUtHLEVBQUdDLElBQU0sRUFFM0IsRUFBSkEsTUFDR3VJLEVBQUkzSSxFQUFLRyxVQUdYd0ksRUFzQ0k0Z0MsQ0FBTyxHQUFJeGlDLEVBQUtxSSxHQUVsQmxNLEVBQUksRUFBR0EsRUFBSSxJQUFLQSxJQUFLLElBR3hCbW1DLElBQVNDLFNBQ0pwbUMsSUFFSyxHQUFQbW1DLEVBQVlqNkIsSUFDTCxHQUFQazZCLEVBQVlsNkIsVUFFZCxFQXNnQlFvNkIsQ0FBV3JCLEVBQUdELEVBQUdnQixHQUUxQnZtQixPQUFNdmpCLE9BQW1CLElBQU0sU0FFNUIrb0MsRUFBSUQsRUFBSSxLQUVWQSxNQUNBLFNBR0ksS0FFTGdCLEVBQVEsU0FFRHRtQyxFQUFJd21DLEVBQVF4bUMsUUFDWnVsQyxFQUFJRCxFQUFJLEtBQ1ZBLEtBQ0EsTUFFQSxRQUNFdGxDLEVBQUlzbUMsRUFBUXRtQyxRQUNadWxDLEVBQUlELEVBQUksS0FDVkEsS0FDQSxNQUVBLGNBRUV0bEMsRUFBSXFtQyxFQUFLZCxHQUFLdmxDLFFBQ2R1bEMsRUFBSUQsRUFBSSxLQUNWQSxLQUNBLFVBR0Z2bEIsV0FTRm1KLGVBQWU4SixFQUFVLGFBQWMsQ0FBRXYyQixPQUFTLGNBQ25DdTJCLGFBQ0NBLFlBQ0hBLEdBbDJCdkIsK0JDbkNVNlQsTUFGQSxXQUNRLElBQ3lELFFBSWpFaG5DLFVBQVU4ZCxLQUFPLGNBQ2pCOWQsVUFBVWtjLFlBQWEsS0FPdkJsYyxVQUFVd3pCLE9BQVMsa0JBQ25CLENBQ0xDLE9BQVEsV0FDUmp6QixFQUFHN0QsS0FBS1UsRUFBSVYsS0FBSzZELEVBQ2pCbU0sRUFBR2hRLEtBQUtnUSxPQVdIK21CLFNBQVcsU0FBVUMsVUFDckIsSUFBSWxCLEdBQVNrQixJQUdmbEIsS0FDTixDQUNEbUIsU0FBUyxJQ2hDQXFULE1BRkEsUUFDUSxJQUNzRCxnQkFnQ3hEMWQsRUFBT0MsRUFBS2xqQix3QkFDSDRnQyxTQUNkLElBQUlwbEIsWUFBWSx3REFHcEJxbEIsRUFBVzVkLE1BQUFBLEVBQ1g2ZCxFQUFTNWQsTUFBQUEsRUFDVDZkLEVBQVUvZ0MsTUFBQUEsS0FFVjZnQyxLQUNFcHJCLEdBQVl3TixLQUNOQSxFQUFNMkosbUJBQ1ksaUJBQVYzSixRQUNWLElBQUlyTCxVQUFVLHVDQUlwQmtwQixLQUNFcnJCLEdBQVl5TixLQUNSQSxFQUFJMEosbUJBQ2MsaUJBQVIxSixRQUNWLElBQUl0TCxVQUFVLHFDQUlwQm1wQixLQUNFdHJCLEdBQVl6VixLQUNQQSxFQUFLNHNCLG1CQUNhLGlCQUFUNXNCLFFBQ1YsSUFBSTRYLFVBQVUsd0NBSW5CcUwsTUFBUTRkLEVBQVd4YSxXQUFXcEQsR0FBUyxPQUN2Q0MsSUFBTTRkLEVBQVN6YSxXQUFXbkQsR0FBTyxPQUNqQ2xqQixLQUFPK2dDLEVBQVUxYSxXQUFXcm1CLEdBQVEsWUFPckN0RyxVQUFVOGQsS0FBTyxVQUNqQjlkLFVBQVV3YyxTQUFVLElBV3BCa21CLE1BQVEsU0FBVXhpQixNQUNILGlCQUFSQSxTQUNGLFNBSUxvbkIsRUFET3BuQixFQUFJRixNQUFNLEtBQ0xoQyxLQUFJLFNBQVVvSCxVQUNyQnVILFdBQVd2SCxTQUVOa2lCLEVBQUt2bEIsTUFBSyxTQUFVc1osVUFDekJwUSxNQUFNb1EsYUFJTixZQUdEaU0sRUFBS2xwQyxhQUNOLFNBQ0ksSUFBSThvQyxFQUFNSSxFQUFLLEdBQUlBLEVBQUssU0FFNUIsU0FDSSxJQUFJSixFQUFNSSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxtQkFHakMsU0FTUHRuQyxVQUFVK2QsTUFBUSxrQkFDZixJQUFJbXBCLEVBQU12cUMsS0FBSzRzQixNQUFPNXNCLEtBQUs2c0IsSUFBSzdzQixLQUFLMkosU0FVeEN0RyxVQUFVdW5DLEtBQU8sZUFDakJqakMsRUFBTSxFQUNOaWxCLEVBQVE1c0IsS0FBSzRzQixNQUNiampCLEVBQU8zSixLQUFLMkosS0FFWmduQixFQURNM3dCLEtBQUs2c0IsSUFDRUQsU0FFYndCLEdBQUt6a0IsS0FBVXlrQixHQUFLdUMsS0FDaEJ6dkIsS0FBS1UsS0FBSyt1QixFQUFPaG5CLEdBQ0wsSUFBVGduQixNQUNILEdBR0pyQyxNQUFNM21CLE9BQ0YsR0FHRCxDQUFDQSxNQVNKdEUsVUFBVWxDLElBQU0sZUFDaEJrVixFQUFPclcsS0FBSzRxQyxPQUFPLFVBRW5CdjBCLEVBQU8sRUFDTHJXLEtBQUsySixLQUFPLEVBRVAzSixLQUFLNHNCLE1BR0w1c0IsS0FBSzRzQixTQUFnQixHQUFLNXNCLEtBQUsySixlQWF0Q3RHLFVBQVVqQyxJQUFNLGVBQ2hCaVYsRUFBT3JXLEtBQUs0cUMsT0FBTyxVQUVuQnYwQixFQUFPLEVBQ0xyVyxLQUFLMkosS0FBTyxFQUVQM0osS0FBSzRzQixTQUFnQixHQUFLNXNCLEtBQUsySixLQUcvQjNKLEtBQUs0c0IsZ0JBZVp2cEIsVUFBVTBrQixRQUFVLFNBQVU3YyxPQUM5QnBMLEVBQUlFLEtBQUs0c0IsTUFDVGpqQixFQUFPM0osS0FBSzJKLEtBQ1prakIsRUFBTTdzQixLQUFLNnNCLElBQ1hycEIsRUFBSSxLQUVKbUcsRUFBTyxPQUNGN0osRUFBSStzQixLQUNBL3NCLEVBQUcsQ0FBQzBELEdBQUl4RCxTQUNaMkosY0FHRUEsRUFBTyxPQUNUN0osRUFBSStzQixLQUNBL3NCLEVBQUcsQ0FBQzBELEdBQUl4RCxTQUNaMkosVUFnQkx0RyxVQUFVZ2UsSUFBTSxTQUFVblcsT0FDMUJ6SSxFQUFRLGVBQ1BzbEIsU0FBUSxTQUFVOW5CLEVBQU9FLEVBQU8raUMsS0FDN0IvaUMsRUFBTSxJQUFNK0ssRUFBU2pMLEVBQU9FLEVBQU8raUMsT0FFcEN6Z0MsS0FTSFksVUFBVXduQyxRQUFVLGVBQ3BCcG9DLEVBQVEsZUFDUHNsQixTQUFRLFNBQVU5bkIsRUFBT0UsS0FDdEJBLEVBQU0sSUFBTUYsTUFFYndDLEtBU0hZLFVBQVVpZSxRQUFVLGtCQUVqQnRoQixLQUFLNnFDLGFBY1J4bkMsVUFBVXd1QixPQUFTLFNBQVV4RCxPQUM3QjlLLEVBQU1zTyxHQUFPN3hCLEtBQUs0c0IsTUFBT3lCLFVBRVgsSUFBZHJ1QixLQUFLMkosVUFDQSxJQUFNa29CLEdBQU83eEIsS0FBSzJKLEtBQU0wa0IsT0FHMUIsSUFBTXdELEdBQU83eEIsS0FBSzZzQixJQUFLd0IsTUFVMUJockIsVUFBVUksU0FBVyxrQkFDbEJ6RCxLQUFLNnhCLFlBVVJ4dUIsVUFBVXd6QixPQUFTLGtCQUNoQixDQUNMQyxPQUFRLFFBQ1JsSyxNQUFPNXNCLEtBQUs0c0IsTUFDWkMsSUFBSzdzQixLQUFLNnNCLElBQ1ZsakIsS0FBTTNKLEtBQUsySixTQVlUb3RCLFNBQVcsU0FBVUMsVUFDbEIsSUFBSXVULEVBQU12VCxFQUFLcEssTUFBT29LLEVBQUtuSyxJQUFLbUssRUFBS3J0QixPQUd2QzRnQyxJQUNOLENBQ0R0VCxTQUFTLElDM1VBNlQsTUFGQSxTQUNRLElBQ3VELHVDQXdCaERDLFNBQ2QsSUFBSTVsQixZQUFZLDZEQVFuQjloQixVQUFVOGQsS0FBTyxXQUNqQjlkLFVBQVVxYyxVQUFXLElBVXJCcmMsVUFBVTJuQyxRQUFVLGlCQUVuQixJQUFJNXFDLE1BQU0sa0RBWVhpRCxVQUFVNG5DLFNBQVcsaUJBRXBCLElBQUk3cUMsTUFBTSxtREFTWGlELFVBQVVzcUIsT0FBUyxTQUFVNUcsRUFBTWtrQixTQUNsQyxJQUFJN3FDLE1BQU0saURBaUJYaUQsVUFBVTZuQyxPQUFTLFNBQVUvcUMsRUFBT2dyQyxFQUFhMVksU0FFaEQsSUFBSXJ5QixNQUFNLGlEQVNYaUQsVUFBVStuQyxJQUFNLFNBQVVqckMsU0FFekIsSUFBSUMsTUFBTSw4Q0FhWGlELFVBQVUwQyxJQUFNLFNBQVU1RixFQUFPRixFQUFPd3lCLFNBRXZDLElBQUlyeUIsTUFBTSw4Q0FnQlhpRCxVQUFVZ29DLE9BQVMsU0FBVWgxQixFQUFNb2MsU0FFbEMsSUFBSXJ5QixNQUFNLGlEQWFYaUQsVUFBVWlvQyxRQUFVLFNBQVVqMUIsRUFBTW9jLFNBRW5DLElBQUlyeUIsTUFBTSxrREFRWGlELFVBQVUrZCxNQUFRLGlCQUVqQixJQUFJaGhCLE1BQU0sZ0RBUVhpRCxVQUFVdW5DLEtBQU8saUJBRWhCLElBQUl4cUMsTUFBTSwrQ0FjWGlELFVBQVVnZSxJQUFNLFNBQVVuVyxFQUFVcWdDLFNBRW5DLElBQUluckMsTUFBTSw4Q0FVWGlELFVBQVUwa0IsUUFBVSxTQUFVN2MsU0FFN0IsSUFBSTlLLE1BQU0sa0RBUVhpRCxVQUFVd25DLFFBQVUsaUJBRW5CLElBQUl6cUMsTUFBTSxrREFRWGlELFVBQVVpZSxRQUFVLGlCQUVuQixJQUFJbGhCLE1BQU0sa0RBWVhpRCxVQUFVd3VCLE9BQVMsU0FBVXhELFNBRTVCLElBQUlqdUIsTUFBTSxpREFRWGlELFVBQVVJLFNBQVcsaUJBRXBCLElBQUlyRCxNQUFNLGlEQUdYMnFDLElBQ04sQ0FDRDlULFNBQVMsSUMvT0F1VSxNQUZBLGNBQ1EsQ0FBQyxXQUM0RDlWLFFBQzFFcVYsT0FDRkEsR0FDRXJWLGFBTWlCM08sRUFBTWtrQix3QkFDSHBWLFNBQ2QsSUFBSTFRLFlBQVksdURBR3BCOGxCLElBQWF0WixHQUFTc1osU0FDbEIsSUFBSTdxQyxNQUFNLHFCQUF1QjZxQyxNQUdyQ3ZyQixHQUFTcUgsR0FFTyxnQkFBZEEsRUFBSzVGLFdBRUZzcUIsTUFBUXJxQixHQUFNMkYsRUFBSzBrQixZQUNuQkMsTUFBUXRxQixHQUFNMkYsRUFBSzJrQixZQUNuQkMsVUFBWVYsR0FBWWxrQixFQUFLNGtCLGlCQUc3QkYsTUFBUTFrQixFQUFLOGpCLGVBQ2JhLE1BQVEza0IsRUFBSzZqQixZQUNiZSxVQUFZVixHQUFZbGtCLEVBQUs0a0IsbUJBRTNCNWtCLEdBQVF0SCxHQUFRc0gsRUFBS0EsT0FBU3RILEdBQVFzSCxFQUFLNmpCLFdBRS9DYSxNQUFRMWtCLEVBQUtBLFVBQ2Iya0IsTUFBUTNrQixFQUFLNmpCLFFBRVQ1cUMsS0FBS3lyQyxNQUFPenJDLEtBQUswckMsWUFDckJDLFVBQVlWLEdBQVlsa0IsRUFBS2trQixpQkFDekJ4ckIsR0FBUXNILFFBRVowa0IsTUFBUUcsRUFBVzdrQixRQUVuQjJrQixNQUFRblksR0FBVXZ6QixLQUFLeXJDLFVBRW5CenJDLEtBQUt5ckMsTUFBT3pyQyxLQUFLMHJDLFlBRXJCQyxVQUFZVixXQUNSbGtCLFFBRUgsSUFBSXhGLFVBQVUsNkJBQStCc3FCLEdBQU85a0IsR0FBUSxVQUc3RDBrQixNQUFRLFFBQ1JDLE1BQVEsQ0FBQyxRQUNUQyxVQUFZVixlQTBMUG4xQixFQUFRM1YsT0FDZjJmLEdBQVEzZixTQUNMLElBQUlvaEIsVUFBVSxvQkFHUHBoQixFQUFNMnJDLGtCQUlaaDJCLEVBQU9zMUIsSUFBSWpyQyxFQUFNZ0IsV0FHcEJrVixFQUFPbFcsRUFBTXlxQyxVQUVidjBCLEVBQUs1VSxTQUFXcVUsRUFBTzQxQixNQUFNanFDLGFBQ3pCLElBQUl3d0IsR0FBZTViLEVBQUs1VSxPQUFRcVUsRUFBTzQxQixNQUFNanFDLGdCQUlqREosRUFBTWxCLEVBQU1nQixNQUNaRyxFQUFNbkIsRUFBTWlCLE1BRVBvQyxFQUFJLEVBQUcwbEIsRUFBS3BULEVBQU80MUIsTUFBTWpxQyxPQUFRK0IsRUFBSTBsQixFQUFJMWxCLE9BQ2xDbkMsRUFBSW1DLEdBQUlzUyxFQUFPNDFCLE1BQU1sb0MsT0FDckJsQyxFQUFJa0MsR0FBSXNTLEVBQU80MUIsTUFBTWxvQyxXQUs5QixJQUFJcXlCLEVBQVlrVyxFQUFjajJCLEVBQU8yMUIsTUFBT3RyQyxFQUFPa1csRUFBSzVVLE9BQVEsR0FBSXFVLEVBQU82MUIsc0JBZ0IvRDVrQixFQUFNNW1CLEVBQU8wekIsRUFBTXhCLE9BQ3BDL00sRUFBTytNLElBQVF3QixFQUFPLEVBQ3RCaHZCLEVBQVExRSxFQUFNNnJDLFVBQVUzWixVQUV4Qi9NLEVBQ0t6Z0IsRUFBTXdjLEtBQUksU0FBVTdkLGFBQ1hBLEVBQUd1akIsRUFBS3RsQixRQUNmc2xCLEVBQUt2akIsTUFDWDhkLFVBRUl6YyxFQUFNd2MsS0FBSSxTQUFVN2QsYUFDWEEsRUFBR3VqQixFQUFLdGxCLFFBRWZzcUMsRUFES2hsQixFQUFLdmpCLEdBQ1dyRCxFQUFPMHpCLEVBQU14QixFQUFNLE1BQzlDL1EscUJBaUJPeEwsRUFBUTNWLEVBQU84ckMsRUFBV3haLE9BQ2pDdHlCLElBQTJCLElBQWxCQSxFQUFNMmYsY0FDWixJQUFJeUIsVUFBVSxxQkFPbEIycUIsRUFIQUMsRUFBUWhzQyxFQUFNeXFDLE9BQ2RrQixFQUFXM3JDLEVBQU0yckMsY0FJakJwc0IsR0FBU3VzQixNQUNIQSxFQUFVckIsU0FDTnFCLEVBQVUzcUIsYUFFZGlTLEdBQVUwWSxHQUdoQkgsRUFBVSxJQUdTLElBQWpCSSxFQUFNenFDLGFBQ0YsSUFBSThmLFVBQVUscUJBR2Z4YixJQUFJNUYsRUFBTWdCLE1BQU84cUMsRUFBV3haLFNBQzlCLElBR0QwWixFQUFNMXFDLE9BQVNxVSxFQUFPNDFCLE1BQU1qcUMsYUFDeEIsSUFBSXd3QixHQUFla2EsRUFBTTFxQyxPQUFRcVUsRUFBTzQxQixNQUFNanFDLE9BQVEsUUFHMUR5cUMsRUFBTXpxQyxPQUFTMHFDLEVBQU0xcUMsT0FBUSxTQUUzQitCLEVBQUksRUFDSnN3QixFQUFRLEVBRVEsSUFBYnFZLEVBQU0zb0MsSUFBeUIsSUFBYjBvQyxFQUFNMW9DLGFBSVgsSUFBYjJvQyxFQUFNM29DLGNBTUQ0b0MsR0FBVUgsRUFBV0UsRUFBTTFxQyxPQUFRcXlCLEVBQU9vWSxRQUluRHRxQixHQUFnQnVxQixFQUFPRCxTQUNwQixJQUFJamEsR0FBZWthLEVBQU9ELEVBQU8sT0FRcENwMkIsRUFKTTNWLEVBQU1pQixNQUFNaWdCLEtBQUksU0FBVXlpQixVQUM1QkEsRUFBSSxLQUdNclIsT0FHZm9CLEVBQU9zWSxFQUFNMXFDLFNBR0hxVSxFQUFPMjFCLE1BQU90ckMsRUFBTzhyQyxFQUFXcFksRUFGcEMsV0FLTC9kLGFBY2NpUixFQUFNNW1CLEVBQU84ckMsRUFBV3BZLEVBQU14QixPQUMvQy9NLEVBQU8rTSxJQUFRd0IsRUFBTyxFQUN0Qmh2QixFQUFRMUUsRUFBTTZyQyxVQUFVM1osR0FFeEIvTSxJQUNJeUMsU0FBUSxTQUFVc2tCLEVBQVdDLE1BQ25CRCxLQUNUQSxHQUFhSixFQUFVSyxFQUFTLFVBR2pDdmtCLFNBQVEsU0FBVXNrQixFQUFXQyxNQUNuQkQsS0FFQXRsQixFQUFLc2xCLEdBQVlsc0MsRUFBTzhyQyxFQUFVSyxFQUFTLElBQUt6WSxFQUFNeEIsRUFBTSxtQkFtQy9EdmMsRUFBUU8sRUFBTW9jLE1BRVQsSUFBaEJwYyxFQUFLNVUsT0FBYyxTQUVqQm5CLEVBQUl3VixFQUFPMjFCLE1BRVJoc0IsR0FBUW5mLE1BQ1RBLEVBQUUsVUFHREEsV0FJRm9yQyxNQUFRcjFCLEVBQUsrTixNQUFNLEtBRW5CcW5CLE1BQVFKLEdBQU92MUIsRUFBTzIxQixNQUFPMzFCLEVBQU80MUIsTUFBT2paLEdBRTNDM2MsYUFtQ0tBLEVBQVFPLEVBQU1vYyxXQUUxQjhaLEVBQVV6MkIsRUFBTzQxQixNQUFNdG5CLE1BQU0sR0FFekJvb0IsR0FBVSxFQUVQRCxFQUFROXFDLE9BQVM0VSxFQUFLNVUsVUFDbkIrbUIsS0FBSyxNQUNILFVBSUhobEIsRUFBSSxFQUFHMGxCLEVBQUs3UyxFQUFLNVUsT0FBUStCLEVBQUkwbEIsRUFBSTFsQixJQUNwQzZTLEVBQUs3UyxHQUFLK29DLEVBQVEvb0MsT0FDWkEsR0FBSzZTLEVBQUs3UyxNQUNSLEdBSVZncEMsS0FFTTEyQixFQUFReTJCLEVBQVM5WixlQWdZVDFMLFdBQ1R2akIsRUFBSSxFQUFHMGxCLEVBQUtuQyxFQUFLdGxCLE9BQVErQixFQUFJMGxCLEVBQUkxbEIsSUFBSyxLQUN6Q2t2QixFQUFPM0wsRUFBS3ZqQixHQUVaaWMsR0FBUWlULEtBQ0xsdkIsR0FBS29vQyxFQUFXbFosR0FDWkEsSUFBMEIsSUFBbEJBLEVBQUtoVCxhQUNqQmxjLEdBQUtvb0MsRUFBV2xaLEVBQUtwUixvQkFJdkJ5RixXQTMxQkcxakIsVUFBWSxJQUFJMG5DLElBS2hCMW5DLFVBQVVvcEMsa0JBQW9CLFNBQVUxbEIsRUFBTWtrQixVQUNqRCxJQUFJcFYsRUFBWTlPLEVBQU1ra0IsTUFPbkI1bkMsVUFBVThkLEtBQU8sZ0JBQ2pCOWQsVUFBVXNjLGVBQWdCLElBVzFCdGMsVUFBVXFwQyxZQUFjLGtCQUMzQnJZLEdBQWlCcjBCLEtBQUt5ckMsTUFBT0ksT0FhMUJ4b0MsVUFBVTJuQyxRQUFVLGtCQUN2QixXQWFHM25DLFVBQVU0bkMsU0FBVyxrQkFDeEJqckMsS0FBSzJyQyxhQVVGdG9DLFVBQVVzcUIsT0FBUyxTQUFVNUcsRUFBTWtrQixVQUN0QyxJQUFJcFYsRUFBWTlPLEVBQU1ra0IsTUFrQm5CNW5DLFVBQVU2bkMsT0FBUyxTQUFVL3FDLEVBQU9nckMsRUFBYTFZLFVBQ25EbmtCLFVBQVU3TSxhQUNYLFNBQ0lrckMsRUFBSzNzQyxLQUFNRyxRQUdmLE9BQ0EsU0FDSXlzQyxFQUFLNXNDLEtBQU1HLEVBQU9nckMsRUFBYTFZLGlCQUdoQyxJQUFJdE4sWUFBWSxpQ0FXaEI5aEIsVUFBVStuQyxJQUFNLFNBQVVqckMsT0FDL0JzZixHQUFRdGYsU0FDTCxJQUFJb2hCLFVBQVUscUJBR2xCcGhCLEVBQU1zQixTQUFXekIsS0FBSzByQyxNQUFNanFDLGFBQ3hCLElBQUl3d0IsR0FBZTl4QixFQUFNc0IsT0FBUXpCLEtBQUswckMsTUFBTWpxQyxnQkFJM0MzQixFQUFJLEVBQUdBLEVBQUlLLEVBQU1zQixPQUFRM0IsT0FDbEJLLEVBQU1MLEdBQUlFLEtBQUswckMsTUFBTTVyQyxZQUdqQ2luQixFQUFPL21CLEtBQUt5ckMsTUFFUGpvQyxFQUFJLEVBQUcwbEIsRUFBSy9vQixFQUFNc0IsT0FBUStCLEVBQUkwbEIsRUFBSTFsQixJQUFLLEtBQzFDcXBDLEVBQVMxc0MsRUFBTXFELE1BQ0xxcEMsRUFBUTlsQixFQUFLdGxCLFVBQ3BCc2xCLEVBQUs4bEIsV0FHUDlsQixLQWNHMWpCLFVBQVUwQyxJQUFNLFNBQVU1RixFQUFPRixFQUFPd3lCLE9BQzdDaFQsR0FBUXRmLFNBQ0wsSUFBSW9oQixVQUFVLHFCQUdsQnBoQixFQUFNc0IsT0FBU3pCLEtBQUswckMsTUFBTWpxQyxhQUN0QixJQUFJd3dCLEdBQWU5eEIsRUFBTXNCLE9BQVF6QixLQUFLMHJDLE1BQU1qcUMsT0FBUSxTQUd4RCtCLEVBQUcwbEIsRUFBSTJqQixJQU1ON3NDLEtBSk1HLEVBQU1raEIsS0FBSSxTQUFVeWlCLFVBQ3RCQSxFQUFJLEtBR0lyUixPQUdiMUwsRUFBTy9tQixLQUFLeXJDLFVBRVhqb0MsRUFBSSxFQUFHMGxCLEVBQUsvb0IsRUFBTXNCLE9BQVMsRUFBRytCLEVBQUkwbEIsRUFBSTFsQixTQUNoQ3JELEVBQU1xRCxHQUNPdWpCLEVBQUt0bEIsVUFDcEJzbEIsRUFBSzhsQixlQUlMMXNDLEVBQU1BLEVBQU1zQixPQUFTLEdBQ1JzbEIsRUFBS3RsQixVQUN0Qm9yQyxHQUFVNXNDLEVBQ1JELFFBMk1HcUQsVUFBVWdvQyxPQUFTLFNBQVVoMUIsRUFBTW9jLEVBQWNob0IsT0FFdERxaUMsR0FBYXoyQixTQUNWLElBQUlrTCxVQUFVLGdDQUlsQndyQixFQUFZMTJCLEVBQUtpTCxVQUFVRCxRQUN0QmxELE1BQU1zQixRQUFReGYsSUFBMkIsSUFBakJBLEVBQU13QixPQUFleEIsRUFBTSxHQUFLQSxXQUsxRCtzQyxFQUZDdmlDLEVBQU96SyxLQUFLb2hCLFFBQVVwaEIsS0FFWitzQyxFQUFXdGEsTUF1Q25CcHZCLFVBQVVpb0MsUUFBVSxTQUFVajFCLEVBQU01TCxPQUMxQzFKLEVBQUkwSixFQUFPekssS0FBS29oQixRQUFVcGhCLGNBQzVCeXJDLE1BQVFILEdBQVF2cUMsRUFBRTBxQyxNQUFPcDFCLEtBQ3pCcTFCLE1BQVFyMUIsRUFBSytOLE1BQU0sR0FDZHJqQixLQTRDR3NDLFVBQVUrZCxNQUFRLGtCQUNwQixJQUFJeVUsRUFBWSxDQUN0QjlPLEtBQU0zRixHQUFNcGhCLEtBQUt5ckMsT0FDakJiLEtBQU14cEIsR0FBTXBoQixLQUFLMHJDLE9BQ2pCVCxTQUFVanJDLEtBQUsyckMsZUFXUHRvQyxVQUFVdW5DLEtBQU8sa0JBQ3BCNXFDLEtBQUswckMsTUFBTXRuQixNQUFNLE1BY2QvZ0IsVUFBVWdlLElBQU0sU0FBVW5XLE9BRWhDc0UsRUFBS3hQLEtBY0wrbUIsRUFaVSxXQUFpQjltQixFQUFPRSxVQUNoQ3NmLEdBQVF4ZixHQUNIQSxFQUFNb2hCLEtBQUksU0FBVWtSLEVBQU8vdUIsVUFDekJ5cEMsRUFBUTFhLEVBQU9weUIsRUFBTTZrQixPQUFPeGhCLE9BRzlCMEgsRUFBU2pMLEVBQU9FLEVBQU9xUCxHQU12QjA5QixDQUFRbHRDLEtBQUt5ckMsTUFBTyxXQUV4QixJQUFJNVYsRUFBWTlPLE9BRFcsSUFBbkIvbUIsS0FBSzJyQyxVQUEwQnRYLEdBQWlCdE4sRUFBTThrQixTQUFVLE1BWXJFeG9DLFVBQVUwa0IsUUFBVSxTQUFVN2MsT0FFcENzRSxFQUFLeFAsTUFFSyxXQUFpQkMsRUFBT0UsR0FDaENzZixHQUFReGYsS0FDSjhuQixTQUFRLFNBQVV3SyxFQUFPL3VCLEtBQ3JCK3VCLEVBQU9weUIsRUFBTTZrQixPQUFPeGhCLFVBR3JCdkQsRUFBT0UsRUFBT3FQLEtBSW5CeFAsS0FBS3lyQyxNQUFPLFFBU1Zwb0MsVUFBVXduQyxRQUFVLGtCQUN2QnpwQixHQUFNcGhCLEtBQUt5ckMsVUFTUnBvQyxVQUFVaWUsUUFBVSxrQkFDdkJ0aEIsS0FBS3lyQyxTQWFGcG9DLFVBQVV3dUIsT0FBUyxTQUFVeEQsVUFDaEN3RCxHQUFPN3hCLEtBQUt5ckMsTUFBT3BkLE1BU2hCaHJCLFVBQVVJLFNBQVcsa0JBQ3hCb3VCLEdBQU83eEIsS0FBS3lyQyxVQVNUcG9DLFVBQVV3ekIsT0FBUyxrQkFDdEIsQ0FDTEMsT0FBUSxjQUNSL1AsS0FBTS9tQixLQUFLeXJDLE1BQ1hiLEtBQU01cUMsS0FBSzByQyxNQUNYVCxTQUFVanJDLEtBQUsyckMsY0FhUHRvQyxVQUFVOHBDLFNBQVcsU0FBVXpVLE1BRXJDQSxNQUVFdFosR0FBWXNaLE9BQ1ZBLEVBQUVuQyxhQUlIOUgsR0FBU2lLLEtBQU9sRyxHQUFVa0csU0FDdkIsSUFBSW5YLFVBQVUsb0RBSWxCLFVBR0Y2ckIsRUFBUzFVLEVBQUksRUFBSUEsRUFBSSxFQUNyQjJVLEVBQU8zVSxFQUFJLEdBQUtBLEVBQUksRUFFcEI0VSxFQUFPdHRDLEtBQUswckMsTUFBTSxHQUNsQjZCLEVBQVV2dEMsS0FBSzByQyxNQUFNLEdBRXJCN25DLEVBQUkzQyxLQUFLQyxJQUFJbXNDLEVBQU9ELEVBQU1FLEVBQVVILEdBRXBDcm1CLEVBQU8sR0FFRnZqQixFQUFJLEVBQUdBLEVBQUlLLEVBQUdMLE1BQ2hCQSxHQUFLeEQsS0FBS3lyQyxNQUFNam9DLEVBQUk2cEMsR0FBTTdwQyxFQUFJNHBDLFVBSTlCLElBQUl2WCxFQUFZLENBQ3JCOU8sS0FBQUEsRUFDQTZqQixLQUFNLENBQUMvbUMsR0FDUG9uQyxTQUFVanJDLEtBQUsyckMsZUFpQlB3QixTQUFXLFNBQVU5MkIsRUFBTXBXLEVBQU95NEIsRUFBR2pHLE9BQzFDaFQsR0FBUXBKLFNBQ0wsSUFBSWtMLFVBQVUscUNBR0YsSUFBaEJsTCxFQUFLNVUsYUFDRCxJQUFJckIsTUFBTSxpREFJWGlXLEVBQUtnTCxLQUFJLFNBQVUzZ0IsTUFFcEIwZSxHQUFZMWUsT0FFVkEsRUFBRTYxQixhQUlIOUgsR0FBUy90QixLQUFPOHhCLEdBQVU5eEIsSUFBTUEsRUFBSSxRQUNqQyxJQUFJTixNQUFNLGdEQUdYTSxLQUdMZzRCLE1BRUV0WixHQUFZc1osT0FDVkEsRUFBRW5DLGFBSUg5SCxHQUFTaUssS0FBT2xHLEdBQVVrRyxTQUN2QixJQUFJblgsVUFBVSxvREFJbEIsTUFXRmlzQixFQVJBSixFQUFTMVUsRUFBSSxFQUFJQSxFQUFJLEVBQ3JCMlUsRUFBTzNVLEVBQUksR0FBS0EsRUFBSSxFQUVwQjRVLEVBQU9qM0IsRUFBSyxHQUNaazNCLEVBQVVsM0IsRUFBSyxHQUVmeFMsRUFBSTNDLEtBQUtDLElBQUltc0MsRUFBT0QsRUFBTUUsRUFBVUgsTUFLcEMzdEIsR0FBUXhmLEdBQVEsSUFFZEEsRUFBTXdCLFNBQVdvQyxRQUViLElBQUl6RCxNQUFNLGdDQUlULFNBQWdCb0QsVUFFaEJ2RCxFQUFNdUQsYUFFTmtjLEdBQVN6ZixHQUFRLEtBRXRCd3RDLEVBQUt4dEMsRUFBTTJxQyxVQUVHLElBQWQ2QyxFQUFHaHNDLFFBQWdCZ3NDLEVBQUcsS0FBTzVwQyxRQUV6QixJQUFJekQsTUFBTSwyQkFJVCxTQUFnQm9ELFVBRWhCdkQsRUFBTW1yQyxJQUFJLENBQUM1bkMsYUFJWCxrQkFFQXZELEdBS053eUIsTUFFWXJULEdBQVlvdUIsRUFBTyxJQUFNQSxFQUFPLEdBQUcxYyxJQUFJLEdBQ3BELE9BSUEvSixFQUFPLE1BRVAxUSxFQUFLNVUsT0FBUyxFQUFHLEdBRVo0cEMsR0FBT3RrQixFQUFNMVEsRUFBTW9jLFdBRWpCemlCLEVBQUksRUFBR0EsRUFBSW5NLEVBQUdtTSxNQUNoQkEsRUFBSXE5QixHQUFNcjlCLEVBQUlvOUIsR0FBVUksRUFBT3g5QixXQUtqQyxJQUFJNmxCLEVBQVksQ0FDckI5TyxLQUFBQSxFQUNBNmpCLEtBQU0sQ0FBQzBDLEVBQU1DLFFBYUx4VyxTQUFXLFNBQVVDLFVBQ3hCLElBQUluQixFQUFZbUIsTUFhYjN6QixVQUFVcXFDLFNBQVcsU0FBVWxxQyxFQUFHb1csUUFFdkM2VSxHQUFTanJCLElBQU9ndkIsR0FBVWh2QixJQUFPaXJCLEdBQVM3VSxJQUFPNFksR0FBVTVZLFVBQ3hELElBQUl4WixNQUFNLDBDQUlRLElBQXRCSixLQUFLMHJDLE1BQU1qcUMsYUFDUCxJQUFJckIsTUFBTSxzREFJSm9ELEVBQUd4RCxLQUFLMHJDLE1BQU0sT0FDZDl4QixFQUFHNVosS0FBSzByQyxNQUFNLE1BRWhCaUMsVUFBVW5xQyxFQUFHb1csRUFBRzVaLEtBQUt5ckMsT0FHMUJ6ckMsUUFXRzJ0QyxVQUFZLFNBQVVucUMsRUFBR29XLEVBQUdtTixPQUVsQzZtQixFQUFLN21CLEVBQUt2akIsS0FDVEEsR0FBS3VqQixFQUFLbk4sS0FDVkEsR0FBS2cwQixJQXlCTC9YLElBQ04sQ0FDRG9CLFNBQVMsSUM1MkJKLFlBQWlCeDBCLEVBQU95SSxFQUFVcWdDLFVBQ25DOW9DLEdBQThCLG1CQUFkQSxFQUFNNGUsSUFFakI1ZSxFQUFNNGUsS0FBSSxTQUFVdmhCLFVBQ2xCK3RDLEdBQVEvdEMsRUFBR29MLE1BR2JBLEVBQVN6SSxHQzdEcEIsSUFBSXFyQyxHQUFLLFNBQ0xDLEdBQUssaUJBQ0YsWUFBbUJwdEMsVUFDakJPLEtBQUthLElBQUlwQixHQUdYLFlBQW1CQSxFQUFHQyxVQUNwQkQsRUFBSUMsRUFPTixZQUF3QkQsRUFBR0MsVUFDekJELEVBQUlDLEVBT04sWUFBMEJkLFdBQ3ZCQSxFQVdILFlBQW9CQSxVQUNsQm9CLEtBQUtVLEtBQUs5QixHQTZIWixZQUFtQkEsRUFBR0MsTUFDdkJBLEVBQUksU0FJQ0QsRUFBSUMsRUFBSW1CLEtBQUtTLE1BQU03QixFQUFJQyxNQUNmLElBQU5BLFNBQ0ZELFFBSUQsSUFBSU0sTUFBTSwrQ0FtSWIsWUFBbUJOLEVBQUdDLFVBR3ZCRCxFQUFJQSxFQUFJLEdBQUtDLElBQU1pVyxFQUFBQSxHQUFZbFcsRUFBSUEsRUFBSSxHQUFLQyxTQUN2QyxFQUdGbUIsS0FBSzhELElBQUlsRixFQUFHQyxHQVdkLFlBQXFCRSxPQUN0QnF2QixFQUFXaGhCLFVBQVU3TSxPQUFTLFFBQXNCLElBQWpCNk0sVUFBVSxHQUFtQkEsVUFBVSxHQUFLLFNBQzVFMGhCLFdBQVd0QixHQUFRenVCLEVBQU9xdkIsSUE3VG5DMGUsR0FBVTlxQixVQUFZNHFCLEdBSXRCRyxHQUFVL3FCLFVBQVk2cUIsR0FRdEJHLEdBQWVockIsVUFBWTZxQixHQVEzQkksR0FBaUJqckIsVUFBWTRxQixHQVk3Qk0sR0FBV2xyQixVQUFZNHFCLEdBeUl2Qk8sR0FBVW5yQixVQUFZNnFCLEdBeUl0Qk8sR0FBVXByQixVQUFZNnFCLEdBYXRCUSxHQUFZcnJCLFVBQVk2cUIsR0NuVXhCLElBRVdTLE1BRkEsWUFDUSxDQUFDLFVBQ3FEOVksUUFDbkVwVCxNQUNGQSxHQUNFb1QsU0ErQkdwVCxFQXBDRSxZQW9DVSxDQUNqQm1zQiwwQ0FBMkMsbUJBQ2xDLEdBRVRDLG9EQUFxRCxtQkFDNUMsR0FFVEMsaUJBQWtCLFNBQXFCN3VDLFVBQzlCK3RDLEdBQVEvdEMsRUFBR0UsWUNyQ2pCLFlBQXFCRixFQUFHQyxFQUFHMndCLE1BRTVCQSxNQUFBQSxTQUNLNXdCLEVBQUV1N0IsR0FBR3Q3QixNQUlWRCxFQUFFdTdCLEdBQUd0N0IsV0FDQSxLQUlMRCxFQUFFd3VCLFNBQVd2dUIsRUFBRXV1QixnQkFDVixLQUlMeHVCLEVBQUVxdUIsWUFBY3B1QixFQUFFb3VCLFdBQVksS0FFNUJ3QyxFQUFPN3dCLEVBQUU0NkIsTUFBTTM2QixHQUFHZ0MsU0FFbEI0dUIsRUFBS0ssaUJBQ0EsTUFHSDF2QixFQUFNeEIsRUFBRU8sWUFBWWUsSUFBSXRCLEVBQUVpQyxNQUFPaEMsRUFBRWdDLGNBQ2hDNHVCLEVBQUt3TSxJQUFJNzdCLEVBQUlrNUIsTUFBTTlKLFlBS3ZCLEVDcENULElBQUkxTyxHQUFPLGNBRUE0c0IsTUFBMkM1c0IsR0FEbkMsQ0FBQyxRQUFTLFdBQzhDMFQsUUFDckVwVCxNQUNGQSxFQUNBd2lCLFVBQ0VwUCxTQVVHcFQsRUFBTU4sR0FBTSxDQUNqQjZzQixtQkFBb0IsU0FBd0IvdUMsRUFBR0MsVUFDdENELElBQU1DLEdBRWYrdUMsaUJBQWtCLFNBQXNCaHZDLEVBQUdDLFVBQ2xDZ3ZDLEdBQVlqdkMsRUFBR0MsRUFBR3NsQyxFQUFPM1UsVUFFbENzZSx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUV1N0IsR0FBR3Q3QixJQUFNa3ZDLEdBQWVudkMsRUFBR0MsRUFBR3NsQyxFQUFPM1UsVUFFaER3ZSxxQkFBc0IsU0FBMEJwdkMsRUFBR0MsVUFDMUNELEVBQUVnWCxPQUFPL1csSUFFbEJvdkMsbUJBQW9CLFNBQXdCcnZDLEVBQUdDLFVDdkI1QyxTQUF1QkQsRUFBR0MsRUFBRzJ3QixVQUMzQnFlLEdBQVlqdkMsRUFBRThsQyxHQUFJN2xDLEVBQUU2bEMsR0FBSWxWLElBQVlxZSxHQUFZanZDLEVBQUUrbEMsR0FBSTlsQyxFQUFFOGxDLEdBQUluVixHRHVCeEQwZSxDQUFjdHZDLEVBQUdDLEVBQUdzbEMsRUFBTzNVLFVBRXBDMmUsYUFBYyxTQUFrQnZ2QyxFQUFHQyxPQUM1QkQsRUFBRXd2QyxVQUFVdnZDLFNBQ1QsSUFBSUssTUFBTSxtREFHWEosS0FBS0YsRUFBRUcsTUFBT0YsRUFBRUUsYUFJUXN2QyxHQUFRdnRCLEdBQU0sQ0FBQyxRQUFTLFdBQVl3dEIsUUFDbkVsdEIsTUFDRkEsRUFDQXdpQixVQUNFMEssU0FDR2x0QixFQUFNTixHQUFNLENBQ2pCOHNCLGlCQUFrQixTQUFzQmh2QyxFQUFHQyxVQUNsQ2d2QyxHQUFZanZDLEVBQUdDLEVBQUdzbEMsRUFBTzNVLG1CRTNDM0IrZSxNQUZBLGVBQ1EsQ0FBQyxRQUFTLGNBQWUsV0FDcUMvWixRQUMzRXBULE1BQ0ZBLGNBQ0FvdEIsU0FDQTNFLEdBQ0VyVixhQU9rQjNPLEVBQU1ra0Isd0JBQ0owRSxTQUNkLElBQUl4cUIsWUFBWSx1REFHcEI4bEIsSUFBYXRaLEdBQVNzWixTQUNsQixJQUFJN3FDLE1BQU0scUJBQXVCNnFDLE1BR3JDdnJCLEdBQVNxSCxhQTBCWWpSLEVBQVE4NUIsRUFBUTNFLEdBRXJCLGlCQUFoQjJFLEVBQU96dUIsUUFFRjB1QixRQUFVRCxFQUFPQyxRQUFVenVCLEdBQU13dUIsRUFBT0MsY0FBVyxJQUNuREMsT0FBUzF1QixHQUFNd3VCLEVBQU9FLFVBQ3RCQyxLQUFPM3VCLEdBQU13dUIsRUFBT0csUUFDcEJyRSxNQUFRdHFCLEdBQU13dUIsRUFBT2xFLFNBQ3JCQyxVQUFZVixHQUFZMkUsRUFBT2pFLGFBR3JCNzFCLEVBQVE4NUIsRUFBT3R1QixVQUFXMnBCLEdBQVkyRSxFQUFPakUsYUFuQzVDM3JDLEtBQU0rbUIsRUFBTWtrQixXQUNyQmxrQixHQUFRdEgsR0FBUXNILEVBQUs1bUIsUUFBVXNmLEdBQVFzSCxFQUFLaXBCLE1BQVF2d0IsR0FBUXNILEVBQUs2akIsV0FFckVpRixRQUFVOW9CLEVBQUtrcEIsWUFDZkgsT0FBUy9vQixFQUFLNW1CLFdBQ2Q0dkMsS0FBT2hwQixFQUFLaXBCLFNBQ1p0RSxNQUFRM2tCLEVBQUs2akIsVUFDYmUsVUFBWVYsR0FBWWxrQixFQUFLa2tCLGlCQUN6QnhyQixHQUFRc0gsS0FFQS9tQixLQUFNK21CLEVBQU1ra0IsWUFDcEJsa0IsUUFFSCxJQUFJeEYsVUFBVSw2QkFBK0JzcUIsR0FBTzlrQixHQUFRLFVBRzdEOG9CLFFBQVUsUUFDVkMsT0FBUyxRQUNUQyxLQUFPLENBQUMsUUFDUnJFLE1BQVEsQ0FBQyxFQUFHLFFBQ1pDLFVBQVlWLGVBbUJLbjFCLEVBQVFpUixFQUFNa2tCLEtBRS9CNEUsUUFBVSxLQUNWQyxPQUFTLEtBQ1RDLEtBQU8sS0FDUHBFLFVBQVlWLE1BRWZxQyxFQUFPdm1CLEVBQUt0bEIsT0FDWjhyQyxFQUFVLEVBRVZsUyxFQUFLcVUsRUFFTFEsRUFBTyxLQUVQdmUsR0FBU3NaLE9BRU4zb0IsRUFBTXVMLEtBQUs2aEIsRUFBYSxDQUFDekUsRUFBVUEsS0FBY3lFLElBRS9DcHRCLEVBQU13QixRQUFRLEVBQUdtbkIsSUFJdEJxQyxFQUFPLEVBQUcsS0FFUjF6QixFQUFJLElBRUwsR0FFTW0yQixLQUFLdm5CLEtBQUsxUyxFQUFPZzZCLE9BQU9ydUMsZ0JBR3RCK0IsRUFBSSxFQUFHQSxFQUFJOHBDLEVBQU05cEMsSUFBSyxLQUV6QjJzQyxFQUFNcHBCLEVBQUt2akIsTUFFWGljLEdBQVEwd0IsT0FFQSxJQUFOdjJCLEdBQVcyekIsRUFBVTRDLEVBQUkxdUMsV0FDakIwdUMsRUFBSTF1QyxRQUlabVksRUFBSXUyQixFQUFJMXVDLE9BQVEsS0FFZG5CLEVBQUk2dkMsRUFBSXYyQixHQUVQeWhCLEVBQUcvNkIsRUFBRzR2QyxPQUVGTCxRQUFRcm5CLEtBQUtsb0IsS0FHYnd2QyxPQUFPdG5CLEtBQUtobEIsV0FLYixJQUFOb1csR0FBVzJ6QixFQUFVLE1BQ2IsR0FJUGxTLEVBQUc4VSxFQUFLRCxPQUVKTCxRQUFRcm5CLEtBQUsybkIsS0FHYkwsT0FBT3RuQixLQUFLaGxCLGdCQU9sQm9XLEVBQUkyekIsS0FJUndDLEtBQUt2bkIsS0FBSzFTLEVBQU9nNkIsT0FBT3J1QyxVQUd4QmlxQyxNQUFRLENBQUM0QixFQUFNQyxlQTZISnozQixFQUFRczZCLE9BRXJCdHdCLEdBQVFzd0IsU0FDTCxJQUFJN3VCLFVBQVUsb0JBR1A2dUIsRUFBSXRFLGtCQUlWaDJCLEVBQU9zMUIsSUFBSWdGLEVBQUlqdkMsV0FXcEJxQyxFQUFHMGxCLEVBQUl3UCxFQUFHMlgsRUFQVmg2QixFQUFPKzVCLEVBQUl4RixVQUVYdjBCLEVBQUs1VSxTQUFXcVUsRUFBTzQxQixNQUFNanFDLGFBQ3pCLElBQUl3d0IsR0FBZTViLEVBQUs1VSxPQUFRcVUsRUFBTzQxQixNQUFNanFDLFlBTWpESixFQUFNK3VDLEVBQUlqdkMsTUFDVkcsRUFBTTh1QyxFQUFJaHZDLFVBRVRvQyxFQUFJLEVBQUcwbEIsRUFBS3BULEVBQU80MUIsTUFBTWpxQyxPQUFRK0IsRUFBSTBsQixFQUFJMWxCLE9BQzlCbkMsRUFBSW1DLEdBQUlzUyxFQUFPNDFCLE1BQU1sb0MsT0FDckJsQyxFQUFJa0MsR0FBSXNTLEVBQU80MUIsTUFBTWxvQyxRQUlqQzhzQyxFQUFVeDZCLEVBQU8rNUIsUUFDakJVLEVBQVN6NkIsRUFBT2c2QixPQUNoQlUsRUFBTzE2QixFQUFPaTZCLEtBRWR6QyxFQUFPOEMsRUFBSXBFLFVBQVUsR0FDckJ1QixFQUFVNkMsRUFBSXBFLFVBQVUsR0FFeEJ6ckMsRUFBSSxHQUNKa3dDLEVBQUssS0FFSjFvQixTQUFRLFNBQVUrYixFQUFHdjZCLEtBRXJCdTZCLEdBQUt2NkIsRUFBRSxLQUVSdTZCLElBQUssVUFHTDRNLEVBQVNKLEVBQVUsUUFBSyxFQUN4Qm53QyxFQUFRLEdBQ1I2dkMsRUFBTSxZQUVGam9CLFNBQVEsU0FBVW5PLFNBRXBCNE8sS0FBS3JvQixFQUFNc0IsUUFFVmkzQixFQUFJOFgsRUFBSzUyQixHQUFJeTJCLEVBQUtHLEVBQUs1MkIsRUFBSSxHQUFJOGUsRUFBSTJYLEVBQUkzWCxNQUV0QzZYLEVBQU83WCxJQUVFLElBQVRuNEIsRUFBRWlELE9BRUVnbEIsS0FBS2lvQixFQUFHanRDLElBRVZrdEMsS0FDS2xvQixLQUFLOG5CLEVBQVE1WCxXQU14QmxRLEtBQUtyb0IsRUFBTXNCLFFBRVIsSUFBSWt1QyxFQUFhLENBQ3RCTSxPQUFRUyxFQUNSdndDLE1BQUFBLEVBQ0E2dkMsSUFBQUEsRUFDQXBGLEtBQU12MEIsRUFDTjQwQixTQUFVbjFCLEVBQU82MUIsdUJBSUQ3MUIsRUFBUTNWLEVBQU84ckMsRUFBV3haLE9BRXZDdHlCLElBQTJCLElBQWxCQSxFQUFNMmYsY0FDWixJQUFJeUIsVUFBVSxxQkFPbEIycUIsRUFIQUMsRUFBUWhzQyxFQUFNeXFDLE9BQ2RrQixFQUFXM3JDLEVBQU0yckMsY0FJakJwc0IsR0FBU3VzQixNQUVIQSxFQUFVckIsU0FFTnFCLEVBQVVwQixhQUdkdFgsR0FBVTBZLEdBSWhCSCxFQUFVLElBRVMsSUFBakJJLEVBQU16cUMsYUFDRixJQUFJOGYsVUFBVSxxQkFJZnhiLElBQUk1RixFQUFNZ0IsTUFBTzhxQyxFQUFXeFosU0FDOUIsSUFFZ0IsSUFBakIwWixFQUFNMXFDLFFBQWlDLElBQWpCMHFDLEVBQU0xcUMsYUFDeEIsSUFBSXd3QixHQUFla2EsRUFBTTFxQyxPQUFRcVUsRUFBTzQxQixNQUFNanFDLE9BQVEsUUFJMUR5cUMsRUFBTXpxQyxPQUFTMHFDLEVBQU0xcUMsT0FBUSxTQUUzQitCLEVBQUksRUFDSnN3QixFQUFRLEVBRVEsSUFBYnFZLEVBQU0zb0MsSUFBeUIsSUFBYjBvQyxFQUFNMW9DLGFBSVgsSUFBYjJvQyxFQUFNM29DLGNBTUQ0b0MsR0FBVUgsRUFBV0UsRUFBTTFxQyxPQUFRcXlCLEVBQU9vWSxRQUluRHRxQixHQUFnQnVxQixFQUFPRCxTQUNwQixJQUFJamEsR0FBZWthLEVBQU9ELEVBQU8sYUFJckNubEMsRUFBSzVHLEVBQU1nQixNQUFNLEdBQ2pCNkYsRUFBSzdHLEVBQU1nQixNQUFNLEdBRWpCSixFQUFJbXJDLEVBQU0sR0FDVnJvQyxFQUFJcW9DLEVBQU0sR0FFTHBzQyxFQUFJLEVBQUdBLEVBQUlpQixFQUFHakIsWUFFWkMsRUFBSSxFQUFHQSxFQUFJOEQsRUFBRzlELElBQUssS0FFdEJPLEVBQUkyckMsRUFBVW5zQyxHQUFHQyxLQUVkZ0csSUFBSSxDQUFDakcsRUFBSWlILEVBQUloSCxFQUFJaUgsR0FBSzFHLEVBQUdteUIsWUFLL0IzYyxhQXNIZXRTLEVBQUdpUyxFQUFLQyxFQUFRdlYsTUFFbEN1VixFQUFTRCxHQUFRLFNBQ1pDLFVBSUFuTSxFQUFJa00sRUFBS2xNLEVBQUltTSxFQUFRbk0sT0FFeEJwSixFQUFNb0osS0FBTy9GLFNBQ1IrRixTQUtKa00sYUFhUWlqQixFQUFHbDFCLEVBQUdvVyxFQUFHdFosRUFBR293QyxFQUFRdndDLEVBQU82dkMsS0FFbkNoaUIsT0FBTzBLLEVBQUcsRUFBR3A0QixLQUVkMHRCLE9BQU8wSyxFQUFHLEVBQUdsMUIsV0FFVjFELEVBQUk4WixFQUFJLEVBQUc5WixFQUFJa3dDLEVBQUl2dUMsT0FBUTNCLE1BQzlCQSxpQkE2Q1NnVyxFQUFRdzNCLEVBQU1DLEVBQVM5YSxPQUVsQ3h5QixFQUFRd3lCLEdBQWdCLEVBRXhCNEksRUFBS3FVLEVBRUxRLEVBQU8sRUFFUHZlLEdBQVM3YixFQUFPNjFCLGVBRWJycEIsRUFBTXVMLEtBQUs2aEIsRUFBYSxDQUFDNTVCLEVBQU82MUIsVUFBVzcxQixFQUFPNjFCLGFBQWUrRCxJQUUvRHB0QixFQUFNd0IsUUFBUSxFQUFHaE8sRUFBTzYxQixhQUV2QnJwQixFQUFNd0IsUUFBUTdqQixFQUFPNlYsRUFBTzYxQixnQkFRbENub0MsRUFBR29XLEVBQUc4ZSxFQUpOaVksR0FBT3RWLEVBQUdwN0IsRUFBT2l3QyxHQUVqQjNtQyxFQUFJdU0sRUFBTzQxQixNQUFNLEdBQ2pCMW9DLEVBQUk4UyxFQUFPNDFCLE1BQU0sTUFHakI2QixFQUFVdnFDLEVBQUcsS0FFVjRXLEVBQUk1VyxFQUFHNFcsRUFBSTJ6QixFQUFTM3pCLFNBRWhCbTJCLEtBQUtuMkIsR0FBSzlELEVBQU8rNUIsUUFBUXB1QyxPQUU1Qmt2QyxNQUVHbnRDLEVBQUksRUFBR0EsRUFBSStGLEVBQUcvRixNQUVWcXNDLFFBQVFybkIsS0FBS3ZvQixLQUdiNnZDLE9BQU90bkIsS0FBS2hsQixLQU1sQnVzQyxLQUFLeEMsR0FBV3ozQixFQUFPKzVCLFFBQVFwdUMsYUFDN0I4ckMsRUFBVXZxQyxNQUVaK3NDLEtBQUsvaEIsT0FBT3VmLEVBQVUsRUFBR3ZxQyxFQUFJdXFDLEtBRzdCc0MsUUFBUTdoQixPQUFPbFksRUFBT2k2QixLQUFLeEMsR0FBVXozQixFQUFPKzVCLFFBQVFwdUMsVUFFcERxdUMsT0FBTzloQixPQUFPbFksRUFBT2k2QixLQUFLeEMsR0FBVXozQixFQUFPZzZCLE9BQU9ydUMsY0FJdkQ4ckMsRUFFQUQsRUFBTy9qQyxNQUVMb25DLEVBQUssS0FFSDlzQyxFQUFJLE1BRUgrVixFQUFJLEVBQUdBLEVBQUk1VyxFQUFHNFcsSUFBSyxHQUVmbTJCLEtBQUtuMkIsR0FBSzlELEVBQU9pNkIsS0FBS24yQixHQUFLL1YsSUFFOUJpUyxFQUFPaTZCLEtBQUtuMkIsRUFBSSxHQUFLL1YsTUFFckJqRSxFQUFJLE1BRUg0RCxFQUFJK0YsRUFBRy9GLEVBQUk4cEMsRUFBTTlwQyxJQUFLNUQsTUFFbEJpd0MsUUFBUTdoQixPQUFPMEssRUFBSTk0QixFQUFHLEVBQUdLLEtBR3pCNnZDLE9BQU85aEIsT0FBTzBLLEVBQUk5NEIsRUFBRyxFQUFHNEQsVUFRNUJ1c0MsS0FBSy9zQyxHQUFLOFMsRUFBTys1QixRQUFRcHVDLGlCQUV6QjZyQyxFQUFPL2pDLEVBQUcsS0FFZnlHLEVBQUksTUFFSDRKLEVBQUksRUFBR0EsRUFBSTVXLEVBQUc0VyxJQUFLLEdBRWZtMkIsS0FBS24yQixHQUFLOUQsRUFBT2k2QixLQUFLbjJCLEdBQUs1SixNQUU5QjRnQyxFQUFLOTZCLEVBQU9pNkIsS0FBS24yQixHQUNqQmkzQixFQUFLLzZCLEVBQU9pNkIsS0FBS24yQixFQUFJLEdBQUs1SixNQUV6QjBvQixFQUFJa1ksRUFBSWxZLEVBQUltWSxFQUFJblksT0FFZjVpQixFQUFPZzZCLE9BQU9wWCxJQUVWNFUsRUFBTyxNQUVOdUMsUUFBUTdoQixPQUFPMEssRUFBRyxLQUdsQm9YLE9BQU85aEIsT0FBTzBLLEVBQUcsV0FTdkJxWCxLQUFLbjJCLEdBQUs5RCxFQUFPKzVCLFFBQVFwdUMsaUJBSTNCaXFDLE1BQU0sR0FBSzRCLElBQ1g1QixNQUFNLEdBQUs2QixFQUVYejNCLGFBNFRTNDZCLEVBQVF2d0MsRUFBTzZ2QyxFQUFLMzVCLEVBQU01TCxPQU90Q2pILEVBQUdvVyxFQUxIMHpCLEVBQU9qM0IsRUFBSyxHQUNaazNCLEVBQVVsM0IsRUFBSyxHQUVmMVYsRUFBSSxPQUlINkMsRUFBSSxFQUFHQSxFQUFJOHBDLEVBQU05cEMsVUFDbEJBLEdBQUssR0FFRm9XLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLE1BQ3JCcFcsR0FBR29XLEdBQUssTUFLVEEsRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsWUFFbkJnM0IsRUFBS1osRUFBSXAyQixHQUNUaTNCLEVBQUtiLEVBQUlwMkIsRUFBSSxHQUVSOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLFFBRW5CdjRCLEVBQU11NEIsSUFFTDllLEdBQUs4MkIsRUFBU2ptQyxFQUFPMlcsR0FBTXN2QixFQUFPaFksSUFBTWdZLEVBQU9oWSxHQUFLLFNBSXRELzNCLFdBdjdCSTBDLFVBQVksSUFBSTBuQyxJQUtoQjFuQyxVQUFVeXRDLG1CQUFxQixTQUFVL3BCLEVBQU1ra0IsVUFDbkQsSUFBSTBFLEVBQWE1b0IsRUFBTWtrQixNQU9uQjVuQyxVQUFVOGQsS0FBTyxpQkFDakI5ZCxVQUFVdWMsZ0JBQWlCLElBVzNCdmMsVUFBVXFwQyxZQUFjLGtCQUM1QnJZLEdBQWlCcjBCLEtBQUs2dkMsUUFBU2hFLE9BYTNCeG9DLFVBQVUybkMsUUFBVSxrQkFDeEIsWUFhSTNuQyxVQUFVNG5DLFNBQVcsa0JBQ3pCanJDLEtBQUsyckMsYUFVRHRvQyxVQUFVc3FCLE9BQVMsU0FBVTVHLEVBQU1ra0IsVUFDdkMsSUFBSTBFLEVBQWE1b0IsRUFBTWtrQixNQWFuQjVuQyxVQUFVMHRDLFFBQVUsZUFFM0J6RCxFQUFPdHRDLEtBQUswckMsTUFBTSxHQUNsQjZCLEVBQVV2dEMsS0FBSzByQyxNQUFNLFVBRVQsSUFBVDRCLEdBQTBCLElBQVpDLEVBQWdCdnRDLEtBQUs4dkMsT0FBT3J1QyxVQUFpQjhyQyxHQUFXLEtBa0JsRWxxQyxVQUFVNm5DLE9BQVMsU0FBVS9xQyxFQUFPZ3JDLEVBQWExWSxPQUV2RHp5QixLQUFLNnZDLGNBQ0YsSUFBSXp2QyxNQUFNLHdEQUlWa08sVUFBVTdNLGFBQ1gsU0FDSXV2QyxFQUFXaHhDLEtBQU1HLFFBR3JCLE9BQ0EsU0FDSTh3QyxFQUFXanhDLEtBQU1HLEVBQU9nckMsRUFBYTFZLGlCQUd0QyxJQUFJdE4sWUFBWSxpQ0FnTGY5aEIsVUFBVStuQyxJQUFNLFNBQVVqckMsT0FDaENzZixHQUFRdGYsU0FDTCxJQUFJb2hCLFVBQVUscUJBR2xCcGhCLEVBQU1zQixTQUFXekIsS0FBSzByQyxNQUFNanFDLGFBQ3hCLElBQUl3d0IsR0FBZTl4QixFQUFNc0IsT0FBUXpCLEtBQUswckMsTUFBTWpxQyxZQUkvQ3pCLEtBQUs2dkMsY0FDRixJQUFJenZDLE1BQU0sa0RBSWRvRCxFQUFJckQsRUFBTSxHQUNWeVosRUFBSXpaLEVBQU0sTUFFQXFELEVBQUd4RCxLQUFLMHJDLE1BQU0sT0FDZDl4QixFQUFHNVosS0FBSzByQyxNQUFNLFFBRXhCaFQsRUFBSXdZLEVBQWUxdEMsRUFBR3hELEtBQUsrdkMsS0FBS24yQixHQUFJNVosS0FBSyt2QyxLQUFLbjJCLEVBQUksR0FBSTVaLEtBQUs4dkMsZUFHM0RwWCxFQUFJMTRCLEtBQUsrdkMsS0FBS24yQixFQUFJLElBQU01WixLQUFLOHZDLE9BQU9wWCxLQUFPbDFCLEVBQ3RDeEQsS0FBSzZ2QyxRQUFRblgsR0FHZixLQWNJcjFCLFVBQVUwQyxJQUFNLFNBQVU1RixFQUFPRyxFQUFHbXlCLE9BQzFDaFQsR0FBUXRmLFNBQ0wsSUFBSW9oQixVQUFVLHFCQUdsQnBoQixFQUFNc0IsU0FBV3pCLEtBQUswckMsTUFBTWpxQyxhQUN4QixJQUFJd3dCLEdBQWU5eEIsRUFBTXNCLE9BQVF6QixLQUFLMHJDLE1BQU1qcUMsWUFJL0N6QixLQUFLNnZDLGNBQ0YsSUFBSXp2QyxNQUFNLGtEQUlkb0QsRUFBSXJELEVBQU0sR0FDVnlaLEVBQUl6WixFQUFNLEdBRVZtdEMsRUFBT3R0QyxLQUFLMHJDLE1BQU0sR0FDbEI2QixFQUFVdnRDLEtBQUswckMsTUFBTSxHQUVyQnJRLEVBQUtxVSxFQUVMUSxFQUFPLEVBRVB2ZSxHQUFTM3hCLEtBQUsyckMsZUFFWHJwQixFQUFNdUwsS0FBSzZoQixFQUFhLENBQUMxdkMsS0FBSzJyQyxVQUFXM3JDLEtBQUsyckMsYUFBZStELElBRTNEcHRCLEVBQU13QixRQUFRLEVBQUc5akIsS0FBSzJyQyxhQUkzQm5vQyxFQUFJOHBDLEVBQU8sR0FBSzF6QixFQUFJMnpCLEVBQVUsT0FFeEJ2dEMsS0FBTWtCLEtBQUtFLElBQUlvQyxFQUFJLEVBQUc4cEMsR0FBT3BzQyxLQUFLRSxJQUFJd1ksRUFBSSxFQUFHMnpCLEdBQVU5YSxLQUd4RHp5QixLQUFLMHJDLE1BQU0sS0FDUjFyQyxLQUFLMHJDLE1BQU0sT0FJVGxvQyxFQUFHOHBDLE1BQ0gxekIsRUFBRzJ6QixPQUViN1UsRUFBSXdZLEVBQWUxdEMsRUFBR3hELEtBQUsrdkMsS0FBS24yQixHQUFJNVosS0FBSyt2QyxLQUFLbjJCLEVBQUksR0FBSTVaLEtBQUs4dkMsZUFHM0RwWCxFQUFJMTRCLEtBQUsrdkMsS0FBS24yQixFQUFJLElBQU01WixLQUFLOHZDLE9BQU9wWCxLQUFPbDFCLEVBRXhDNjNCLEVBQUcvNkIsRUFBRzR2QyxZQWlDRXhYLEVBQUc5ZSxFQUFHODJCLEVBQVF2d0MsRUFBTzZ2QyxLQUU3QmhpQixPQUFPMEssRUFBRyxLQUNYMUssT0FBTzBLLEVBQUcsV0FFUDU0QixFQUFJOFosRUFBSSxFQUFHOVosRUFBSWt3QyxFQUFJdnVDLE9BQVEzQixNQUM5QkEsT0FsQ000NEIsRUFBRzllLEVBQUc1WixLQUFLNnZDLFFBQVM3dkMsS0FBSzh2QyxPQUFROXZDLEtBQUsrdkMsV0FIekNGLFFBQVFuWCxHQUFLcDRCLElBT1pvNEIsRUFBR2wxQixFQUFHb1csRUFBR3RaLEVBQUdOLEtBQUs2dkMsUUFBUzd2QyxLQUFLOHZDLE9BQVE5dkMsS0FBSyt2QyxNQUcvQy92QyxRQXdESXFELFVBQVVnb0MsT0FBUyxTQUFVaDFCLEVBQU1vYyxFQUFjaG9CLE9BRXZEcWlDLEdBQWF6MkIsU0FDVixJQUFJa0wsVUFBVSxnQ0FJbEJ3ckIsRUFBWTEyQixFQUFLaUwsVUFBVUQsUUFDdEJsRCxNQUFNc0IsUUFBUXhmLElBQTJCLElBQWpCQSxFQUFNd0IsT0FBZXhCLEVBQU0sR0FBS0EsT0FHeEMsSUFBckI4c0MsRUFBVXRyQyxhQUNOLElBQUlyQixNQUFNLHFEQUlSMm5CLFNBQVEsU0FBVTluQixPQUNyQnd1QixHQUFTeHVCLEtBQVd1eUIsR0FBVXZ5QixJQUFVQSxFQUFRLFFBQzdDLElBQUlzaEIsVUFBVSx1REFBOERzUSxHQUFPa2IsR0FBYSxRQU1uR0MsRUFGQ3ZpQyxFQUFPekssS0FBS29oQixRQUFVcGhCLEtBRVorc0MsRUFBVSxHQUFJQSxFQUFVLEdBQUl0YSxNQStJbkNwdkIsVUFBVWlvQyxRQUFVLFNBQVVqMUIsRUFBTTVMLE9BRTFDZ1YsR0FBUXBKLFNBQ0wsSUFBSWtMLFVBQVUscUJBR0YsSUFBaEJsTCxFQUFLNVUsYUFDRCxJQUFJckIsTUFBTSwrREFJYjJuQixTQUFRLFNBQVU5bkIsT0FDaEJ3dUIsR0FBU3h1QixLQUFXdXlCLEdBQVV2eUIsSUFBVUEsRUFBUSxRQUM3QyxJQUFJc2hCLFVBQVUsdURBQThEc1EsR0FBT3hiLEdBQVEsUUFJakdyVyxLQUFLMHJDLE1BQU0sR0FBSzFyQyxLQUFLMHJDLE1BQU0sSUFBT3IxQixFQUFLLEdBQUtBLEVBQUssU0FDN0MsSUFBSWpXLE1BQU0sMkVBSWRXLEVBQUkwSixFQUFPekssS0FBS29oQixRQUFVcGhCLFFBRTFCQSxLQUFLMHJDLE1BQU0sS0FBT3IxQixFQUFLLElBQU1yVyxLQUFLMHJDLE1BQU0sS0FBT3IxQixFQUFLLFVBQy9DdFYsVUFJTG93QyxFQUFXLEdBRU4zdEMsRUFBSSxFQUFHQSxFQUFJekMsRUFBRWd2QyxLQUFLdHVDLE9BQVErQixZQUN4Qm9XLEVBQUksRUFBR0EsRUFBSTdZLEVBQUVndkMsS0FBS3ZzQyxFQUFJLEdBQUt6QyxFQUFFZ3ZDLEtBQUt2c0MsR0FBSW9XLE1BQ3BDNE8sS0FBS2hsQixXQUtka3RDLEVBQVMzdkMsRUFBRTh1QyxRQUFRenJCLFFBR25CZ3RCLEVBQVdyd0MsRUFBRSt1QyxPQUFPMXJCLFFBR2ZpdEIsRUFBSyxFQUFHQSxFQUFLdHdDLEVBQUUrdUMsT0FBT3J1QyxPQUFRNHZDLElBQU0sS0FDdkNDLEVBQUtGLEVBQVNDLEdBQ2RqcEMsRUFBSytvQyxFQUFTRSxHQUNkcGUsRUFBT3FlLEVBQUt2d0MsRUFBRTJxQyxNQUFNLEdBQUt0akMsSUFDcEJpcEMsR0FBTXBlLEVBQU81YyxFQUFLLEtBQ2xCZzdCLEdBQU1ud0MsS0FBS1MsTUFBTXN4QixFQUFPNWMsRUFBSyxPQVF0Q3c1QixRQUFRcHVDLE9BQVMsSUFDakJxdUMsT0FBT3J1QyxPQUFTLElBQ2hCc3VDLEtBQUt0dUMsT0FBUzRVLEVBQUssR0FBSyxJQUN4QnExQixNQUFRcjFCLEVBQUsrTixnQkFFTm10QixFQUFNLEVBQUdBLEVBQU14d0MsRUFBRWd2QyxLQUFLdHVDLE9BQVE4dkMsTUFDbkN4QixLQUFLd0IsR0FBTyxVQUtQMTdCLEVBQUksRUFBR0EsRUFBSTY2QixFQUFPanZDLE9BQVFvVSxJQUFLLEtBQ2xDMjdCLEVBQU1KLEVBQVN2N0IsR0FDZjQ3QixFQUFLTixFQUFTdDdCLEdBQ2R2VixFQUFJb3dDLEVBQU83NkIsS0FFUHE3QixFQUFlTSxFQUFLendDLEVBQUVndkMsS0FBSzBCLEdBQUsxd0MsRUFBRWd2QyxLQUFLMEIsRUFBSyxHQUFJMXdDLEVBQUUrdUMsUUFFL0MwQixFQUFLQyxFQUFJbnhDLEVBQUdTLEVBQUU4dUMsUUFBUzl1QyxFQUFFK3VDLE9BQVEvdUMsRUFBRWd2QyxjQUl6Q2h2QyxLQVNJc0MsVUFBVStkLE1BQVEsa0JBQ3JCLElBQUl1dUIsRUFBYSxDQUN2Qk0sT0FBUWp3QyxLQUFLNnZDLFFBQVV6dUIsR0FBTXBoQixLQUFLNnZDLGNBQVcsRUFDN0MxdkMsTUFBT2loQixHQUFNcGhCLEtBQUs4dkMsUUFDbEJFLElBQUs1dUIsR0FBTXBoQixLQUFLK3ZDLE1BQ2hCbkYsS0FBTXhwQixHQUFNcGhCLEtBQUswckMsT0FDakJULFNBQVVqckMsS0FBSzJyQyxlQVdOdG9DLFVBQVV1bkMsS0FBTyxrQkFDckI1cUMsS0FBSzByQyxNQUFNdG5CLE1BQU0sTUFlYi9nQixVQUFVZ2UsSUFBTSxTQUFVblcsRUFBVXFnQyxPQUUxQ3ZyQyxLQUFLNnZDLGNBQ0YsSUFBSXp2QyxNQUFNLGtEQUlkb1AsRUFBS3hQLHFCQW1CRzhWLEVBQVE0N0IsRUFBUUMsRUFBUUMsRUFBV0MsRUFBVzNtQyxFQUFVcWdDLE9BRWhFbUYsRUFBUyxHQUNUdndDLEVBQVEsR0FDUjZ2QyxFQUFNLEdBRU4zVSxFQUFLcVUsRUFFTFEsRUFBTyxFQUVQdmUsR0FBUzdiLEVBQU82MUIsZUFFYnJwQixFQUFNdUwsS0FBSzZoQixFQUFhLENBQUM1NUIsRUFBTzYxQixVQUFXNzFCLEVBQU82MUIsYUFBZStELElBRS9EcHRCLEVBQU13QixRQUFRLEVBQUdoTyxFQUFPNjFCLG9CQUk3Qm1HLEVBQVMsU0FBZ0J4eEMsRUFBR1IsRUFBR0MsS0FFN0JtTCxFQUFTNUssRUFBR1IsRUFBR0MsR0FFZHM3QixFQUFHLzZCLEVBQUc0dkMsT0FFRjFuQixLQUFLbG9CLEtBRU5rb0IsS0FBSzFvQixNQUtOOFosRUFBSWc0QixFQUFXaDRCLEdBQUtpNEIsRUFBV2o0QixJQUFLLEdBRXZDNE8sS0FBS2tvQixFQUFPanZDLFlBRVptdkMsRUFBSzk2QixFQUFPaTZCLEtBQUtuMkIsR0FDakJpM0IsRUFBSy82QixFQUFPaTZCLEtBQUtuMkIsRUFBSSxNQUVyQjJ4QixVQUVPN1MsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLElBQUssS0FFeEJsMUIsRUFBSXNTLEVBQU9nNkIsT0FBT3BYLEdBRWxCbDFCLEdBQUtrdUMsR0FBVWx1QyxHQUFLbXVDLEtBRWY3N0IsRUFBTys1QixRQUFRblgsR0FBSWwxQixFQUFJa3VDLEVBQVE5M0IsRUFBSWc0QixTQUd6QyxTQUVEL0IsRUFBVSxHQUVMa0MsRUFBS25CLEVBQUltQixFQUFLbEIsRUFBSWtCLElBQU0sR0FDckJqOEIsRUFBT2c2QixPQUFPaUMsSUFDVGo4QixFQUFPKzVCLFFBQVFrQyxZQUt2QkMsRUFBTU4sRUFBUU0sR0FBT0wsRUFBUUssSUFBTyxHQUMvQkEsS0FBT25DLEVBQVVBLEVBQVFtQyxHQUFPLEVBQzlCQSxFQUFNTixFQUFROTNCLEVBQUlnNEIsZUFNbENwcEIsS0FBS2tvQixFQUFPanZDLFFBRVQsSUFBSWt1QyxFQUFhLENBQ3RCTSxPQUFRUyxFQUNSdndDLE1BQUFBLEVBQ0E2dkMsSUFBQUEsRUFDQXBGLEtBQU0sQ0FBQytHLEVBQVNELEVBQVMsRUFBR0csRUFBWUQsRUFBWSxLQWxGL0NLLENBQUtqeUMsS0FBTSxFQVRQQSxLQUFLMHJDLE1BQU0sR0FTTSxFQUFHLEVBUmpCMXJDLEtBQUswckMsTUFBTSxHQVFtQixHQU4vQixTQUFnQnByQyxFQUFHa0QsRUFBR29XLFVBRTFCMU8sRUFBUzVLLEVBQUcsQ0FBQ2tELEVBQUdvVyxHQUFJcEssS0FJMEIrN0IsTUErRjVDbG9DLFVBQVUwa0IsUUFBVSxTQUFVN2MsRUFBVXFnQyxPQUU5Q3ZyQyxLQUFLNnZDLGNBQ0YsSUFBSXp2QyxNQUFNLDBEQU1ka3RDLEVBQU90dEMsS0FBSzByQyxNQUFNLEdBQ2xCNkIsRUFBVXZ0QyxLQUFLMHJDLE1BQU0sR0FFaEI5eEIsRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsSUFBSyxLQUU1QmczQixFQUFLNXdDLEtBQUsrdkMsS0FBS24yQixHQUNmaTNCLEVBQUs3d0MsS0FBSyt2QyxLQUFLbjJCLEVBQUksTUFFbkIyeEIsVUFFTzdTLEVBQUlrWSxFQUFJbFksRUFBSW1ZLEVBQUluWSxJQUFLLEtBRXhCbDFCLEVBQUl4RCxLQUFLOHZDLE9BQU9wWCxLQUVYMTRCLEtBQUs2dkMsUUFBUW5YLEdBQUksQ0FBQ2wxQixFQUFHb1csR0FoQjNCNVosWUFrQkEsU0FFRDB3QyxFQUFTLEdBRUp3QixFQUFNdEIsRUFBSXNCLEVBQU1yQixFQUFJcUIsSUFBTyxHQUN4Qmx5QyxLQUFLOHZDLE9BQU9vQyxJQUNSbHlDLEtBQUs2dkMsUUFBUXFDLFlBS3BCQyxFQUFNLEVBQUdBLEVBQU03RSxFQUFNNkUsSUFBTyxHQUN2QkEsS0FBT3pCLEVBQVNBLEVBQU95QixHQUFPLEVBQzFCLENBQUNBLEVBQUt2NEIsR0EvQm5CNVosYUEyQ0VxRCxVQUFVd25DLFFBQVUsa0JBQ3hCdUgsRUFBU3B5QyxLQUFLNnZDLFFBQVM3dkMsS0FBSzh2QyxPQUFROXZDLEtBQUsrdkMsS0FBTS92QyxLQUFLMHJDLE9BQU8sTUFTdkRyb0MsVUFBVWllLFFBQVUsa0JBQ3hCOHdCLEVBQVNweUMsS0FBSzZ2QyxRQUFTN3ZDLEtBQUs4dkMsT0FBUTl2QyxLQUFLK3ZDLEtBQU0vdkMsS0FBSzByQyxPQUFPLE1BK0N2RHJvQyxVQUFVd3VCLE9BQVMsU0FBVXhELFdBRXBDaWYsRUFBT3R0QyxLQUFLMHJDLE1BQU0sR0FDbEI2QixFQUFVdnRDLEtBQUswckMsTUFBTSxHQUVyQnFGLEVBQVUvd0MsS0FBSyt3QyxVQUVmeHRCLEVBQU0sa0JBQW9Cc08sR0FBT3liLEVBQU1qZixHQUFXLE1BQVF3RCxHQUFPMGIsRUFBU2xmLEdBQVcsY0FBZ0J3RCxHQUFPa2YsRUFBUzFpQixHQUFXLEtBRTNIelUsRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsWUFFdkJnM0IsRUFBSzV3QyxLQUFLK3ZDLEtBQUtuMkIsR0FDZmkzQixFQUFLN3dDLEtBQUsrdkMsS0FBS24yQixFQUFJLEdBRWQ4ZSxFQUFJa1ksRUFBSWxZLEVBQUltWSxFQUFJblksSUFBSyxJQUlyQixVQUFZN0csR0FGWDd4QixLQUFLOHZDLE9BQU9wWCxHQUVTckssR0FBVyxLQUFPd0QsR0FBT2pZLEVBQUd5VSxHQUFXLGVBQWlCd2hCLFFBQVVoZSxHQUFPN3hCLEtBQUs2dkMsUUFBUW5YLEdBQUlySyxHQUFXLGFBSS9IOUssS0FTSWxnQixVQUFVSSxTQUFXLGtCQUN6Qm91QixHQUFPN3hCLEtBQUs2cUMsY0FTUnhuQyxVQUFVd3pCLE9BQVMsa0JBQ3ZCLENBQ0xDLE9BQVEsZUFDUm1aLE9BQVFqd0MsS0FBSzZ2QyxRQUNiMXZDLE1BQU9ILEtBQUs4dkMsT0FDWkUsSUFBS2h3QyxLQUFLK3ZDLEtBQ1ZuRixLQUFNNXFDLEtBQUswckMsTUFDWFQsU0FBVWpyQyxLQUFLMnJDLGNBYU50b0MsVUFBVThwQyxTQUFXLFNBQVV6VSxNQUV0Q0EsTUFFRXRaLEdBQVlzWixPQUNWQSxFQUFFbkMsYUFJSDlILEdBQVNpSyxLQUFPbEcsR0FBVWtHLFNBQ3ZCLElBQUluWCxVQUFVLG9EQUlsQixNQUdGNnJCLEVBQVMxVSxFQUFJLEVBQUlBLEVBQUksRUFDckIyVSxFQUFPM1UsRUFBSSxHQUFLQSxFQUFJLEVBRXBCNFUsRUFBT3R0QyxLQUFLMHJDLE1BQU0sR0FDbEI2QixFQUFVdnRDLEtBQUswckMsTUFBTSxHQUVyQjduQyxFQUFJM0MsS0FBS0MsSUFBSW1zQyxFQUFPRCxFQUFNRSxFQUFVSCxHQUVwQ3NELEVBQVMsR0FDVHZ3QyxFQUFRLEdBQ1I2dkMsRUFBTSxLQUVOLEdBQUssVUFFQXAyQixFQUFJd3pCLEVBQVF4ekIsRUFBSTJ6QixHQUFXbUQsRUFBT2p2QyxPQUFTb0MsRUFBRytWLFlBRWpEZzNCLEVBQUs1d0MsS0FBSyt2QyxLQUFLbjJCLEdBQ2ZpM0IsRUFBSzd3QyxLQUFLK3ZDLEtBQUtuMkIsRUFBSSxHQUVkOVosRUFBSTh3QyxFQUFJOXdDLEVBQUkrd0MsRUFBSS93QyxJQUFLLEtBRXhCMEQsRUFBSXhELEtBQUs4dkMsT0FBT2h3QyxNQUVoQjBELElBQU1vVyxFQUFJd3pCLEVBQVNDLEVBQU0sR0FFcEI3a0IsS0FBS3hvQixLQUFLNnZDLFFBQVEvdkMsTUFFbkI0d0MsRUFBT2p2QyxPQUFTLEdBQUsrQixFQUFJNnBDLGtCQVFqQzdrQixLQUFLa29CLEVBQU9qdkMsUUFFVCxJQUFJa3VDLEVBQWEsQ0FDdEJNLE9BQVFTLEVBQ1J2d0MsTUFBQUEsRUFDQTZ2QyxJQUFBQSxFQUNBcEYsS0FBTSxDQUFDL21DLEVBQUcsUUFhRGt6QixTQUFXLFNBQVVDLFVBQ3pCLElBQUkyWSxFQUFhM1ksTUFnQmJtVyxTQUFXLFNBQVU5MkIsRUFBTXBXLEVBQU95NEIsRUFBR2pHLEVBQWN3WSxPQUN6RHhyQixHQUFRcEosU0FDTCxJQUFJa0wsVUFBVSxxQ0FHRixJQUFoQmxMLEVBQUs1VSxhQUNELElBQUlyQixNQUFNLGlEQUlYaVcsRUFBS2dMLEtBQUksU0FBVTNnQixNQUVwQjBlLEdBQVkxZSxPQUVWQSxFQUFFNjFCLGFBSUg5SCxHQUFTL3RCLEtBQU84eEIsR0FBVTl4QixJQUFNQSxFQUFJLFFBQ2pDLElBQUlOLE1BQU0sZ0RBR1hNLEtBR0xnNEIsTUFFRXRaLEdBQVlzWixPQUNWQSxFQUFFbkMsYUFJSDlILEdBQVNpSyxLQUFPbEcsR0FBVWtHLFNBQ3ZCLElBQUluWCxVQUFVLG9EQUlsQixNQUlGOFosRUFBS3FVLEVBRUxRLEVBQU8sRUFFUHZlLEdBQVNzWixPQUVOM29CLEVBQU11TCxLQUFLNmhCLEVBQWEsQ0FBQ3pFLEVBQVVBLEtBQWN5RSxJQUUvQ3B0QixFQUFNd0IsUUFBUSxFQUFHbW5CLFFBV3RCdUMsRUFSQUosRUFBUzFVLEVBQUksRUFBSUEsRUFBSSxFQUNyQjJVLEVBQU8zVSxFQUFJLEdBQUtBLEVBQUksRUFFcEI0VSxFQUFPajNCLEVBQUssR0FDWmszQixFQUFVbDNCLEVBQUssR0FFZnhTLEVBQUkzQyxLQUFLQyxJQUFJbXNDLEVBQU9ELEVBQU1FLEVBQVVILE1BS3BDM3RCLEdBQVF4ZixHQUFRLElBRWRBLEVBQU13QixTQUFXb0MsUUFFYixJQUFJekQsTUFBTSxnQ0FJVCxTQUFnQjBqQyxVQUVoQjdqQyxFQUFNNmpDLGFBRU5wa0IsR0FBU3pmLEdBQVEsS0FFdEJ3dEMsRUFBS3h0QyxFQUFNMnFDLFVBRUcsSUFBZDZDLEVBQUdoc0MsUUFBZ0Jnc0MsRUFBRyxLQUFPNXBDLFFBRXpCLElBQUl6RCxNQUFNLDJCQUlULFNBQWdCMGpDLFVBRWhCN2pDLEVBQU1tckMsSUFBSSxDQUFDdEgsYUFJWCxrQkFFQTdqQyxXQUtQeXdDLEVBQVMsR0FDVHZ3QyxFQUFRLEdBQ1I2dkMsRUFBTSxHQUVEcDJCLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLElBQUssR0FFNUI0TyxLQUFLa29CLEVBQU9qdkMsWUFFWitCLEVBQUlvVyxFQUFJd3pCLEtBRVI1cEMsR0FBSyxHQUFLQSxFQUFJSyxFQUFHLEtBRWZ2RCxFQUFJa3RDLEVBQU9ocUMsR0FHVjYzQixFQUFHLzZCLEVBQUc0dkMsT0FFSDFuQixLQUFLaGxCLEVBQUk2cEMsS0FFUjdrQixLQUFLbG9CLGVBTWRrb0IsS0FBS2tvQixFQUFPanZDLFFBRVQsSUFBSWt1QyxFQUFhLENBQ3RCTSxPQUFRUyxFQUNSdndDLE1BQUFBLEVBQ0E2dkMsSUFBQUEsRUFDQXBGLEtBQU0sQ0FBQzBDLEVBQU1DLFFBY0pscUMsVUFBVXFxQyxTQUFXLFNBQVVscUMsRUFBR29XLFFBRXhDNlUsR0FBU2pyQixJQUFPZ3ZCLEdBQVVodkIsSUFBT2lyQixHQUFTN1UsSUFBTzRZLEdBQVU1WSxVQUN4RCxJQUFJeFosTUFBTSwwQ0FJUSxJQUF0QkosS0FBSzByQyxNQUFNanFDLGFBQ1AsSUFBSXJCLE1BQU0sc0RBSUpvRCxFQUFHeEQsS0FBSzByQyxNQUFNLE9BQ2Q5eEIsRUFBRzVaLEtBQUswckMsTUFBTSxNQUVmaUMsVUFBVW5xQyxFQUFHb1csRUFBRzVaLEtBQUswckMsTUFBTSxHQUFJMXJDLEtBQUs2dkMsUUFBUzd2QyxLQUFLOHZDLE9BQVE5dkMsS0FBSyt2QyxNQUdyRS92QyxRQWFJcXlDLFlBQWMsU0FBVXo0QixFQUFHODJCLEVBQVF2d0MsRUFBTzZ2QyxFQUFLOWtDLFdBRXREMGxDLEVBQUtaLEVBQUlwMkIsR0FDVGkzQixFQUFLYixFQUFJcDJCLEVBQUksR0FFUjhlLEVBQUlrWSxFQUFJbFksRUFBSW1ZLEVBQUluWSxNQUVkdjRCLEVBQU11NEIsR0FBSWdZLEVBQU9oWSxRQWVqQmlWLFVBQVksU0FBVTd0QyxFQUFHQyxFQUFHd3RDLEVBQVNtRCxFQUFRdndDLEVBQU82dkMsV0FFdERwMkIsRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsSUFBSyxLQUU1QmczQixFQUFLWixFQUFJcDJCLEdBQ1RpM0IsRUFBS2IsRUFBSXAyQixFQUFJLEdBRWIwNEIsRUFBS3BCLEVBQWVweEMsRUFBRzh3QyxFQUFJQyxFQUFJMXdDLEdBRy9Cb3lDLEVBQUtyQixFQUFlbnhDLEVBQUc2d0MsRUFBSUMsRUFBSTF3QyxNQUcvQm15QyxFQUFLekIsR0FBTTBCLEVBQUsxQixHQUFNMXdDLEVBQU1teUMsS0FBUXh5QyxHQUFLSyxFQUFNb3lDLEtBQVF4eUMsTUFFckQyd0MsRUFBUSxLQUNOcHdDLEVBQUlvd0MsRUFBTzRCLEtBQ1JBLEdBQU01QixFQUFPNkIsS0FDYkEsR0FBTWp5QyxZQVFiZ3lDLEVBQUt6QixHQUFNMXdDLEVBQU1teUMsS0FBUXh5QyxPQUFZK3dDLEdBQU0xd0MsRUFBTW95QyxLQUFReHlDLFFBRXZEeXlDLEVBQUs5QixFQUFTQSxFQUFPNEIsUUFBTSxJQUV6QnRrQixPQUFPdWtCLEVBQUksRUFBR3h5QyxHQUVoQjJ3QyxLQUNLMWlCLE9BQU91a0IsRUFBSSxFQUFHQyxLQUlqQnhrQixPQUFPdWtCLEdBQU1ELEVBQUtBLEVBQUssRUFBSUEsRUFBSSxHQUVqQzVCLEtBQ0sxaUIsT0FBT3VrQixHQUFNRCxFQUFLQSxFQUFLLEVBQUlBLEVBQUksWUFRdENDLEVBQUsxQixHQUFNMXdDLEVBQU1veUMsS0FBUXh5QyxPQUFZOHdDLEdBQU0xd0MsRUFBTW15QyxLQUFReHlDLEdBQUksS0FFM0QyeUMsRUFBSy9CLEVBQVNBLEVBQU82QixRQUFNLElBRXpCdmtCLE9BQU9za0IsRUFBSSxFQUFHeHlDLEdBRWhCNHdDLEtBQ0sxaUIsT0FBT3NrQixFQUFJLEVBQUdHLEtBSWpCemtCLE9BQU9za0IsR0FBTUMsRUFBS0EsRUFBSyxFQUFJQSxFQUFJLEdBRWpDN0IsS0FDSzFpQixPQUFPc2tCLEdBQU1DLEVBQUtBLEVBQUssRUFBSUEsRUFBSSxPQU12QzVDLElBQ04sQ0FDRDFZLFNBQVMsSUN6L0NBeWIsTUFGQSxTQUNRLENBQUMsVUFDa0RoZCxRQUNoRXBULE1BQ0ZBLEdBQ0VvVCxFQTJCQWlkLEVBQVNyd0IsRUFBTSxTQUFVLENBQzNCLEdBQUksa0JBQ0ssR0FFVHF3QixPQUFRLFNBQWdCN3lDLFVBQ2ZBLEdBRVQ4eUMsT0FBUSxTQUFnQjl5QyxNQUNaLFFBQU5BLFNBQW9CbTZCLFFBQ3BCeUUsRUFBTWozQixPQUFPM0gsTUFFYnd1QixNQUFNb1EsU0FDRixJQUFJdlosWUFBWSxXQUFhcmxCLEVBQUksMkJBR3JDLENBQUMsS0FBTSxLQUFNLE1BQU0reUMsU0FBUy95QyxFQUFFdXhCLFVBQVUsRUFBRyxJQUFLLElBQzlDcU4sRUFBTSxHQUFLLEdBQUssUUFDWixJQUFJdlosWUFBWSxXQUFZSCxPQUFPbGxCLEVBQUcsc0JBR3BDLFdBQU40K0IsYUFDaUIsWUFJaEJBLEdBRVQvSSxVQUFXLFNBQW1CNzFCLFVBQ3JCQSxFQUFFeTJCLFlBRVhULFNBQVUsU0FBa0JoMkIsVUFDbkJBLEVBQUV3aEIsV0FFWHd4QixLQUFNLFNBQWNoekMsU0FDWixJQUFJTSxNQUFNLGlEQUVsQjJ5QyxLQUFNLFNBQWVqekMsVUFDWixHQUVUa3pDLHNCQUF1QixTQUF3QkMsRUFBTUMsVUFDNUNELEVBQUsxYyxTQUFTMmMsSUFFdkJ2RSxpQkFBa0IsU0FBcUI3dUMsVUFDOUIrdEMsR0FBUS90QyxFQUFHRSxrQkFRZisyQixTQUFXLFNBQVVDLFVBQ25CaEgsV0FBV2dILEVBQUsvMkIsUUFHbEIweUMsS0NyRkVRLE1BRkEsWUFDUSxDQUFDLFFBQVMsY0FDNEN6ZCxRQUNuRXBULE1BQ0ZBLFlBQ0FxVCxHQUNFRCxTQTJCR3BULEVBQU0sWUFBYSxDQUN4QixHQUFJLGtCQUNLLElBQUlxVCxFQUFVLElBRXZCZ2QsT0FBUSxTQUFnQjd5QyxVQUVmLElBQUk2MUIsRUFBVTcxQixFQUFJLEtBRTNCOHlDLE9BQVEsU0FBZ0I5eUMsVUFDZixJQUFJNjFCLEVBQVU3MUIsSUFFdkI2MUIsVUFBVyxTQUFtQjcxQixVQUVyQkEsR0FFVGcyQixTQUFVLFNBQWtCaDJCLFVBQ25CLElBQUk2MUIsRUFBVTcxQixFQUFFK0QsR0FBRzQzQixJQUFJMzdCLEVBQUVrUSxHQUFHd3FCLE1BQU0xNkIsRUFBRVksSUFFN0NxeUMsS0FBTSxTQUFlanpDLFVBQ1osSUFBSTYxQixFQUFVLElBRXZCZ1osaUJBQWtCLFNBQXFCN3VDLFVBQzlCK3RDLEdBQVEvdEMsRUFBR0UsWUNyRGJvekMsTUFGQSxXQUNRLENBQUMsUUFBUyxhQUMyQzFkLFFBQ2xFcFQsTUFDRkEsRUFDQXdULFlBQ0VKLFNBMkJHcFQsRUFBTSxXQUFZLENBQ3ZCcXdCLE9BQVEsU0FBZ0I3eUMsT0FDakJxdUIsU0FBU3J1QixJQUFNd3VCLE1BQU14dUIsU0FDbEIsSUFBSU0sTUFBTU4sRUFBSSwrQ0FHZixJQUFJMDJCLEVBQVMxMkIsSUFFdEI4eUMsT0FBUSxTQUFnQjl5QyxVQUNmLElBQUkwMkIsRUFBUzEyQixJQUV0Qmd2QyxpQkFBa0IsU0FBc0JuTSxFQUFXMTFCLFVBQzFDLElBQUl1cEIsRUFBU21NLEVBQVcxMUIsSUFFakM4bEMsS0FBTSxTQUFlanpDLFVBQ1osSUFBSTAyQixFQUFTLElBRXRCYixVQUFXLFNBQW1CNzFCLFVBQ3JCLElBQUkwMkIsRUFBUzEyQixFQUFFMkQsYUFFeEJxeUIsU0FBVSxTQUFrQmgyQixVQUNuQkEsR0FFVDZhLE9BQVEsU0FBZ0I3YSxVQUNmLElBQUkwMkIsRUFBUzEyQixJQUV0QjZ1QyxpQkFBa0IsU0FBcUI3dUMsVUFDOUIrdEMsR0FBUS90QyxFQUFHRSxZQzNEYnF6QyxNQUZBLFNBQ1EsQ0FBQyxRQUFTLFNBQVUsY0FBZSxpQkFDZ0IzZCxRQUNoRXBULE1BQ0ZBLFNBQ0F5b0IsY0FDQWxWLGVBQ0E4WixHQUNFamEsU0FrQ0dwVCxFQTFDRSxTQTBDVSxDQUNqQixHQUFJLGtCQUNLZ3hCLEVBQVEsS0FFakJWLE9BQVEsU0FBZ0JXLFVBQ2ZELEVBQVEsR0FBSUMsSUFFckJDLGlCQUFrQixTQUFzQkQsRUFBUXRJLFVBQ3ZDcUksRUFBUSxHQUFJQyxFQUFRdEksSUFFN0I5c0IsTUFBTyxTQUFlNEksVUFDYnVzQixFQUFRdnNCLElBRWpCZ2tCLE9BQVEsU0FBZ0Joa0IsVUFDZnVzQixFQUFRdnNCLEVBQU1BLEVBQUtpa0IsWUFFNUJ5SSx5QkFBMEJILEVBQzFCSSxpQ0FBa0NKLGVBV25CdnNCLEVBQU13c0IsRUFBUXRJLE1BRWQsVUFBWHNJLEdBQWlDLFlBQVhBLFFBQW1DLElBQVhBLFNBQ3pDLElBQUkxZCxFQUFZOU8sRUFBTWtrQixNQUdoQixXQUFYc0ksU0FDSyxJQUFJNUQsRUFBYTVvQixFQUFNa2tCLFNBRzFCLElBQUkxcEIsVUFBVSx1QkFBeUJveUIsS0FBS0MsVUFBVUwsR0FBVSxTQzVFL0RNLE1BRkEsYUFDUSxDQUFDLFVBQ3NEbmUsUUFDcEVwVCxNQUNGQSxHQUNFb1QsU0F5QkdwVCxFQTlCRSxhQThCVSxDQUNqQnF3QixPQUFReEUsR0FDUnZZLFFBQVMsU0FBaUI5MUIsVUFDakJBLEVBQUUrNkIsT0FFWGxGLFVBQVcsU0FBbUI3MUIsVUFDckJBLEVBQUUrNkIsT0FFWC9FLFNBQVUsU0FBa0JoMkIsVUFDbkJBLEVBQUUrNkIsT0FFWGlZLEtBQU0sU0FBY2h6QyxPQUNkbW5DLEVBQU1ubkMsRUFBRXNoQixpQkFDUm5oQixNQUFRRCxLQUFLRixFQUFFRyxPQUNaZ25DLEdBRVQwSCxpQkFBa0IsU0FBcUI3dUMsVUFFOUIrdEMsR0FBUS90QyxFQUFHRSxZQzlDYjh6QyxNQUZBLE1BQ1EsQ0FBQyxVQUMrQ3BlLFFBQzdEcFQsTUFDRkEsR0FDRW9ULFNBMEJHcFQsRUEvQkUsTUErQlUsQ0FDakJxd0IsT0FBUTNFLEdBQ1JwWSxRQUFTLFNBQWlCOTFCLFVBQ2pCQSxFQUFFaUMsT0FFWDR6QixVQUFXLFNBQW1CNzFCLFVBQ3JCQSxFQUFFaUMsT0FFWCt6QixTQUFVLFNBQWtCaDJCLFVBQ25CQSxFQUFFaUMsT0FFWDRzQyxpQkFBa0IsU0FBcUI3dUMsVUFFOUIrdEMsR0FBUS90QyxFQUFHRSxPQUVwQjh5QyxLQUFNLFNBQWNoekMsVUFDWEEsRUFBRWlDLFlDOUNKZ3lDLE1BRkEsWUFDUSxDQUFDLFVBQ3FEcmUsUUFDbkVwVCxNQUNGQSxHQUNFb1QsU0FjR3BULEVBbkJFLFlBbUJVLENBQ2pCd3NCLGlCQUFrQmIsR0FDbEJrQixtQkFBb0IsU0FBd0JydkMsRUFBR0MsVUFDdENELEVBQUV5VyxJQUFJeFcsSUFFZml2Qyx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUU2NkIsS0FBSzU2QixJQUVoQm12QyxxQkFBc0IsU0FBMEJwdkMsRUFBR0MsVUFDMUNELEVBQUV5VyxJQUFJeFcsSUFFZnN2QyxhQUFjLFNBQWtCdnZDLEVBQUdDLE1BQ2pCLE9BQVpELEVBQUVHLFlBQThCLElBQVpILEVBQUVHLFlBQTJCLElBQUlHLE1BQU0sdURBQy9DLE9BQVpMLEVBQUVFLFlBQThCLElBQVpGLEVBQUVFLFlBQTJCLElBQUlHLE1BQU0sd0RBQzFETixFQUFFd3ZDLFVBQVV2dkMsU0FBVSxJQUFJSyxNQUFNLDBCQUNqQzZtQyxFQUFNbm5DLEVBQUVzaEIsaUJBQ1JuaEIsTUFBUUQsS0FBS2luQyxFQUFJaG5DLE1BQU9GLEVBQUVFLFNBQzFCK3pDLFdBQVksRUFDVC9NLFFDcENGZ04sTUFGQSxjQUNRLENBQUMsUUFBUyxnQkFDOEN2ZSxRQUNyRXBULE1BQ0ZBLGNBQ0FvdEIsR0FDRWhhLFNBcUJHLFNBQXFCaDFCLEVBQUdFLEVBQUdzSyxFQUFVczhCLE9BRXRDME0sRUFBVXh6QyxFQUFFbXZDLFFBQ1pzRSxFQUFTenpDLEVBQUVvdkMsT0FDWHNFLEVBQU8xekMsRUFBRXF2QyxLQUNUc0UsRUFBUTN6QyxFQUFFZ3JDLE1BQ1Y0SSxFQUFNNXpDLEVBQUVpckMsY0FFUHVJLFFBQ0csSUFBSTl6QyxNQUFNLDBFQU9kbUUsRUFIQStvQyxFQUFPK0csRUFBTSxHQUNiOUcsRUFBVThHLEVBQU0sR0FJaEJoWixFQUFLcVUsRUFFTFEsRUFBTyxFQUVQNS9CLEVBQUtwRixFQUVVLGlCQUFSb3BDLE1BRUpBLElBRUFoeUIsRUFBTXVMLEtBQUs2aEIsRUFBYSxDQUFDbnJDLEVBQUlBLE1BRTNCK2QsRUFBTXdCLFFBQVEsRUFBR3ZmLEtBRXBCK2QsRUFBTXdCLFFBQVFsakIsRUFBRzJELEtBRWhCK2QsRUFBTXVMLEtBQUszaUIsRUFBVSxDQUFDM0csRUFBSUEsYUFJN0Jnd0MsRUFBVSxHQUNWQyxFQUFTLEdBQ1RDLEVBQU8sR0FFRjc2QixFQUFJLEVBQUdBLEVBQUkyekIsRUFBUzN6QixJQUFLLEdBRTNCQSxHQUFLNDZCLEVBQU8veUMsZUFFUm12QyxFQUFLd0QsRUFBS3g2QixHQUFJaTNCLEVBQUt1RCxFQUFLeDZCLEVBQUksR0FBSThlLEVBQUlrWSxFQUFJbFksRUFBSW1ZLEVBQUluWSxJQUFLLEtBRXhEbDFCLEVBQUkyd0MsRUFBT3piLEdBRVhwNEIsRUFBSWtuQyxFQUFVbDNCLEVBQUcxUCxFQUFHc3pDLEVBQVF4YixJQUFNcG9CLEVBQUc0akMsRUFBUXhiLEdBQUk5M0IsR0FFaER5NkIsRUFBRy82QixFQUFHNHZDLE9BRUYxbkIsS0FBS2hsQixLQUNKZ2xCLEtBQUtsb0IsZUFNZGl0QyxHQUFXaUgsRUFBTy95QyxPQUVoQmYsRUFBRW93QyxtQkFBbUIsQ0FDMUJiLE9BQVFzRSxFQUNScDBDLE1BQU9xMEMsRUFDUHhFLElBQUt5RSxFQUNMN0osS0FBTSxDQUFDMEMsRUFBTUMsR0FDYnRDLFNBQVUxbUMsUUM1Rkxtd0MsTUFGQSxjQUNRLENBQUMsVUFDdURoZixRQUNyRXBULE1BQ0ZBLEdBQ0VvVCxTQWlCRyxTQUFxQi8wQixFQUFHQyxFQUFHc0ssRUFBVXM4QixPQU10Q2pqQyxFQUpBb3dDLEVBQVFoMEMsRUFBRThxQyxNQUNWNEksRUFBUTF6QyxFQUFFK3FDLE1BQ1Y0SSxFQUFNM3pDLEVBQUVnckMsVUFJUnI3QixFQUFLcEYsRUFFVSxpQkFBUm9wQyxNQUVKQSxJQUVEaHlCLEVBQU13QixRQUFRbGpCLEVBQUcyRCxLQUVoQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLFNBSTdCcXdDLEVBQVFQLEVBQU01eUMsT0FBUyxFQUFJb3pDLEVBQVN2a0MsRUFBSSxFQUFHK2pDLEVBQU9BLEVBQU0sR0FBSU0sRUFBTy96QyxFQUFHNG1DLEdBQVcsVUFFOUU3bUMsRUFBRThyQyxrQkFBa0IsQ0FDekIxbEIsS0FBTTZ0QixFQUNOaEssS0FBTXhwQixHQUFNaXpCLEdBQ1pwSixTQUFVMW1DLGdCQUlJc0QsRUFBR2l0QyxFQUFPcDBDLEVBQUdtRCxFQUFHa3hDLEVBQUlDLEVBQUl4TixPQUVwQ3lOLEVBQUssTUFFTEgsSUFBVXAwQyxFQUFFZSxPQUFTLFVBRWQrQixFQUFJLEVBQUdBLEVBQUlLLEVBQUdMLE1BRWxCQSxHQUFLZ2tDLEVBQVUzL0IsRUFBRW10QyxFQUFJRCxFQUFHdnhDLElBQU1xRSxFQUFFa3RDLEVBQUd2eEMsR0FBSXd4QyxnQkFJbkNwN0IsRUFBSSxFQUFHQSxFQUFJL1YsRUFBRytWLE1BRWxCQSxHQUFLaTdCLEVBQVNodEMsRUFBR2l0QyxFQUFRLEVBQUdwMEMsRUFBR0EsRUFBRW8wQyxFQUFRLEdBQUlDLEVBQUduN0IsR0FBSW83QixFQUFJeE4sVUFJeER5TixNQzdEQUMsTUFGQSxPQUNRLENBQUMsUUFBUyxTQUFVLFFBQVMsU0FBVSxnQkFDVXhmLFFBQzlEcFQsTUFDRkEsRUFDQXdpQixTQUNBampDLGVBQ0FpVSxjQUNBNDVCLEdBQ0VoYSxFQUNBeWYsRUFBY2xCLEdBQWtCLENBQ2xDM3hCLE1BQUFBLEVBQ0FvdEIsWUFBQUEsSUFFRTBGLEVBQWNWLEdBQWtCLENBQ2xDcHlCLE1BQUFBLFdBd0NLQSxFQUFNLE9BQVEsQ0FDbkJxd0IsT0FBUSxTQUFnQjd5QyxVQUNsQml2QyxHQUFZanZDLEVBQUd1MUMsRUFBTXYxQyxHQUFJdWxDLEVBQU8zVSxTQUMzQjJrQixFQUFNdjFDLEdBRU5zdUMsR0FBV3R1QyxJQUd0Qmd2QyxpQkFBa0IsU0FBc0JodkMsRUFBRytELE1BQ3JDa3JDLEdBQVlqdkMsRUFBR3UxQyxFQUFNdjFDLEVBQUcrRCxHQUFJd2hDLEVBQU8zVSxnQkFDOUIya0IsRUFBTXYxQyxFQUFHK0QsT0FFWDh1QyxFQUFRM2pCLEdBQVksR0FBR2hLLE9BQU9sbEIsRUFBRyxLQUFLdWpCLE1BQU0sS0FDN0NpeUIsRUFBU3AwQyxLQUFLVSxLQUFLNkYsT0FBTyxHQUFHdWQsT0FBTzJ0QixFQUFRLEtBQUszdEIsT0FBT3ZkLE9BQU91bkIsR0FBWW5yQixhQUM5RTh1QyxFQUFRM2pCLEdBQVksR0FBR2hLLE9BQU9zd0IsRUFBUSxLQUFLanlCLE1BQU0sS0FDM0M1YixPQUFPLEdBQUd1ZCxPQUFPMnRCLEVBQVEsS0FBSzN0QixPQUFPdmQsT0FBT3VuQixHQUFZbnJCLEtBR25FK3hCLFFBQVMsU0FBaUI5MUIsVUFDakJBLEVBQUU4QixRQUVYMnpDLGtCQUFtQixTQUF1QnoxQyxFQUFHK0QsVUFDcEMvRCxFQUFFOEIsS0FBS2lDLElBRWhCOHhCLFVBQVcsU0FBbUI3MUIsVUFDeEJtdkMsR0FBZW52QyxFQUFHdTFDLEVBQU12MUMsR0FBSXVsQyxFQUFPM1UsU0FDOUIya0IsRUFBTXYxQyxHQUVOQSxFQUFFOEIsUUFHYm90Qyx1QkFBd0IsU0FBNEJsdkMsRUFBRytELFVBQ2pEb3JDLEdBQWVudkMsRUFBR3UxQyxFQUFNdjFDLEVBQUcrRCxHQUFJd2hDLEVBQU8zVSxTQUNqQzJrQixFQUFNdjFDLEVBQUcrRCxHQUVUL0QsRUFBRWdnQyxnQkFBZ0JqOEIsRUFBRTB5QixXQUFZaU4sR0FBUWMsYUFHbkR4TyxTQUFVLFNBQWtCaDJCLFVBQ25CQSxFQUFFOEIsUUFFWDR6QyxtQkFBb0IsU0FBd0IxMUMsRUFBRytELFVBQ3RDL0QsRUFBRThCLEtBQUtpQyxJQUVoQjhxQyxpQkFBa0IsU0FBcUI3dUMsVUFFOUIrdEMsR0FBUS90QyxFQUFHRSxPQUVwQnkxQyx5QkFBMEIsU0FBMkIzMUMsRUFBRytELFVBRS9DZ3FDLEdBQVEvdEMsTUFBUUUsS0FBS3dELEVBQUdLLE1BRWpDNnhDLG1DQUFvQyxTQUFxQzUxQyxFQUFHQyxVQUNuRW8xQyxFQUFZcjFDLEVBQUdDLEVBQUdDLE1BQU0sSUFFakMyMUMsa0NBQW1DLFNBQW9DNzFDLEVBQUdDLFVBQ2pFcTFDLEVBQVl0MUMsRUFBR0MsRUFBR0MsTUFBTSxJQUVqQzQxQyxzQ0FBdUMsU0FBcUM5MUMsRUFBR0MsVUFFdEVxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBR0UsTUFBTSxHQUFNc2hCLGdCQ3RIeEN1MEIsTUFGQSxNQUNRLENBQUMsUUFBUyxVQUFXLFNBQVUsT0FBUSxVQUNTbmdCLFFBQzdEcFQsTUFDRkEsRUFDQXNULFFBQVNrZ0IsU0FDVGhnQyxFQUNBbFUsT0FDQUQsU0FDRSt6QixFQUNBMGYsRUFBY1YsR0FBa0IsQ0FDbENweUIsTUFBQUEsV0FzQ0tBLEVBQU0sTUFBTyxDQUNsQnF3QixPQUFRLFNBQWdCN3lDLFVBQ2ZBLEVBQUksRUFBSWkyQyxFQUFNajJDLEdBQUtrMkMsRUFBS2wyQyxJQUVqQ20yQyw2QkFBOEIsU0FBK0JuMkMsRUFBRytELFVBQ3ZEL0QsRUFBSSxFQUFJaTJDLEVBQU1qMkMsRUFBRytELEdBQUtteUMsRUFBS2wyQyxFQUFHK0QsSUFFdkMreEIsUUFBUyxTQUFpQjkxQixVQUNqQixJQUFJZzJDLEVBQVNoMkMsRUFBRThsQyxHQUFLLEVBQUkxa0MsS0FBS1MsTUFBTTdCLEVBQUU4bEMsSUFBTTFrQyxLQUFLVSxLQUFLOUIsRUFBRThsQyxJQUFLOWxDLEVBQUUrbEMsR0FBSyxFQUFJM2tDLEtBQUtTLE1BQU03QixFQUFFK2xDLElBQU0za0MsS0FBS1UsS0FBSzlCLEVBQUUrbEMsTUFFL0dxUSw4QkFBK0IsU0FBZ0NwMkMsRUFBRytELFVBQ3pELElBQUlpeUMsRUFBU2gyQyxFQUFFOGxDLEdBQUssRUFBSW1RLEVBQU1qMkMsRUFBRThsQyxHQUFJL2hDLEdBQUtteUMsRUFBS2wyQyxFQUFFOGxDLEdBQUkvaEMsR0FBSS9ELEVBQUUrbEMsR0FBSyxFQUFJa1EsRUFBTWoyQyxFQUFFK2xDLEdBQUloaUMsR0FBS215QyxFQUFLbDJDLEVBQUUrbEMsR0FBSWhpQyxLQUV4Rzh4QixVQUFXLFNBQW1CNzFCLFVBQ3JCQSxFQUFFaytCLGFBQWVnWSxFQUFLbDJDLEdBQUtpMkMsRUFBTWoyQyxJQUUxQ3EyQyxnQ0FBaUMsU0FBa0NyMkMsRUFBRytELFVBQzdEL0QsRUFBRWsrQixhQUFlZ1ksRUFBS2wyQyxFQUFHK0QsR0FBS2t5QyxFQUFNajJDLEVBQUcrRCxJQUVoRGl5QixTQUFVLFNBQWtCaDJCLFVBQ25CQSxFQUFFWSxFQUFJLEVBQUlaLEVBQUU4QixPQUFTOUIsRUFBRTZCLFNBRWhDeTBDLCtCQUFnQyxTQUFpQ3QyQyxFQUFHK0QsVUFDM0QvRCxFQUFFWSxFQUFJLEVBQUlaLEVBQUU4QixLQUFLaUMsR0FBSy9ELEVBQUU2QixNQUFNa0MsSUFFdkM4cUMsaUJBQWtCLFNBQXFCN3VDLFVBRTlCK3RDLEdBQVEvdEMsRUFBR0UsT0FFcEJxMkMscUNBQXNDLFNBQW9DdjJDLEVBQUcrRCxVQUVwRWdxQyxHQUFRL3RDLE1BQVFFLEtBQUt3RCxFQUFHSyxNQUVqQyt4QyxzQ0FBdUMsU0FBcUM5MUMsRUFBR0MsVUFFdEVxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBR0UsTUFBTSxHQUFNc2hCLGdCQzlFeENnMUIsTUFGQSxRQUNRLENBQUMsUUFBUyxTQUFVLFFBQVMsU0FBVSxnQkFDVzVnQixRQUMvRHBULE1BQ0ZBLEVBQ0F3aUIsU0FDQWpqQyxlQUNBaVUsY0FDQTQ1QixHQUNFaGEsRUFDQXlmLEVBQWNsQixHQUFrQixDQUNsQzN4QixNQUFBQSxFQUNBb3RCLFlBQUFBLElBRUUwRixFQUFjVixHQUFrQixDQUNsQ3B5QixNQUFBQSxXQXVDS0EsRUFBTSxRQUFTLENBQ3BCcXdCLE9BQVEsU0FBZ0I3eUMsVUFDbEJpdkMsR0FBWWp2QyxFQUFHdTFDLEVBQU12MUMsR0FBSXVsQyxFQUFPM1UsU0FDM0Iya0IsRUFBTXYxQyxHQUVOb0IsS0FBS1MsTUFBTTdCLElBR3RCZ3ZDLGlCQUFrQixTQUFzQmh2QyxFQUFHK0QsTUFDckNrckMsR0FBWWp2QyxFQUFHdTFDLEVBQU12MUMsRUFBRytELEdBQUl3aEMsRUFBTzNVLGdCQUM5QjJrQixFQUFNdjFDLEVBQUcrRCxPQUVYOHVDLEVBQVEzakIsR0FBWSxHQUFHaEssT0FBT2xsQixFQUFHLEtBQUt1akIsTUFBTSxLQUM3Q2l5QixFQUFTcDBDLEtBQUtTLE1BQU04RixPQUFPLEdBQUd1ZCxPQUFPMnRCLEVBQVEsS0FBSzN0QixPQUFPdmQsT0FBT3VuQixHQUFZbnJCLGFBQy9FOHVDLEVBQVEzakIsR0FBWSxHQUFHaEssT0FBT3N3QixFQUFRLEtBQUtqeUIsTUFBTSxLQUMzQzViLE9BQU8sR0FBR3VkLE9BQU8ydEIsRUFBUSxLQUFLM3RCLE9BQU92ZCxPQUFPdW5CLEdBQVluckIsS0FHbkUreEIsUUFBUyxTQUFpQjkxQixVQUNqQkEsRUFBRTZCLFNBRVg0ekMsa0JBQW1CLFNBQXVCejFDLEVBQUcrRCxVQUNwQy9ELEVBQUU2QixNQUFNa0MsSUFFakI4eEIsVUFBVyxTQUFtQjcxQixVQUN4Qm12QyxHQUFlbnZDLEVBQUd1MUMsRUFBTXYxQyxHQUFJdWxDLEVBQU8zVSxTQUM5QjJrQixFQUFNdjFDLEdBRU5BLEVBQUU2QixTQUdicXRDLHVCQUF3QixTQUE0Qmx2QyxFQUFHK0QsVUFDakRvckMsR0FBZW52QyxFQUFHdTFDLEVBQU12MUMsRUFBRytELEdBQUl3aEMsRUFBTzNVLFNBQ2pDMmtCLEVBQU12MUMsRUFBRytELEdBRVQvRCxFQUFFZ2dDLGdCQUFnQmo4QixFQUFFMHlCLFdBQVlpTixHQUFRZSxjQUduRHpPLFNBQVUsU0FBa0JoMkIsVUFDbkJBLEVBQUU2QixTQUVYNnpDLG1CQUFvQixTQUF3QjExQyxFQUFHK0QsVUFDdEMvRCxFQUFFNkIsTUFBTWtDLElBRWpCOHFDLGlCQUFrQixTQUFxQjd1QyxVQUU5Qit0QyxHQUFRL3RDLEVBQUdFLE9BRXBCeTFDLHlCQUEwQixTQUEyQjMxQyxFQUFHK0QsVUFFL0NncUMsR0FBUS90QyxNQUFRRSxLQUFLd0QsRUFBR0ssTUFFakM2eEMsbUNBQW9DLFNBQXFDNTFDLEVBQUdDLFVBQ25FbzFDLEVBQVlyMUMsRUFBR0MsRUFBR0MsTUFBTSxJQUVqQzIxQyxrQ0FBbUMsU0FBb0M3MUMsRUFBR0MsVUFDakVxMUMsRUFBWXQxQyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDNDFDLHNDQUF1QyxTQUFxQzkxQyxFQUFHQyxVQUV0RXExQyxFQUFZdC9CLEVBQU8vVixHQUFJRCxFQUFHRSxNQUFNLEdBQU1zaEIsZ0JDckh4Q2kxQixNQUZBLGNBQ1EsQ0FBQyxVQUN1RDdnQixRQUNyRXBULE1BQ0ZBLEdBQ0VvVCxTQXFCRyxTQUFvQjhnQixFQUFhQyxFQUFjdnJDLEVBQVVzOEIsT0FFMURtTixFQUFRNkIsRUFBWS9LLE1BQ3BCNEksRUFBUW1DLEVBQVk5SyxNQUNwQjRJLEVBQU1rQyxFQUFZN0ssVUFFbEIrSyxFQUFVRCxFQUFhNUcsUUFDdkI4RyxFQUFTRixFQUFhM0csT0FDdEI4RyxFQUFPSCxFQUFhMUcsS0FDcEI4RyxFQUFRSixFQUFhL0ssTUFDckJvTCxFQUFNTCxFQUFhOUssYUFFbkIwSSxFQUFNNXlDLFNBQVdvMUMsRUFBTXAxQyxhQUNuQixJQUFJd3dCLEdBQWVvaUIsRUFBTTV5QyxPQUFRbzFDLEVBQU1wMUMsV0FJM0M0eUMsRUFBTSxLQUFPd0MsRUFBTSxJQUFNeEMsRUFBTSxLQUFPd0MsRUFBTSxTQUN4QyxJQUFJemhCLFdBQVcsaUNBQW1DaWYsRUFBUSwwQkFBNEJ3QyxFQUFRLFNBSWpHSCxRQUNHLElBQUl0MkMsTUFBTSwwRUFXZG9ELEVBQUdvVyxFQVBIMHpCLEVBQU8rRyxFQUFNLEdBQ2I5RyxFQUFVOEcsRUFBTSxHQUVoQjl2QyxFQUFvQixpQkFBUit2QyxHQUFvQkEsSUFBUXdDLEVBQU14QyxPQUFNLEVBRXBEaGtDLEVBQUsvTCxFQUFLK2QsRUFBTXVMLEtBQUszaUIsRUFBVSxDQUFDM0csRUFBSUEsSUFBTzJHLEVBSTNDMHBDLEVBQVEsT0FFUHB4QyxFQUFJLEVBQUdBLEVBQUk4cEMsRUFBTTlwQyxNQUNkQSxHQUFLLE9BSVQxRCxFQUFJLEdBRUpTLEVBQUksT0FFSHFaLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLElBQUssU0FFeEJtOUIsRUFBT245QixFQUFJLEVBRU5nM0IsRUFBS2dHLEVBQUtoOUIsR0FBSWkzQixFQUFLK0YsRUFBS2g5QixFQUFJLEdBQUk4ZSxFQUFJa1ksRUFBSWxZLEVBQUltWSxFQUFJblksUUFFbkRpZSxFQUFPamUsSUFFSjhPLEVBQVVsM0IsRUFBR29tQyxFQUFRaGUsR0FBSWljLEVBQU1ueEMsR0FBR29XLElBQU10SixFQUFHcWtDLEVBQU1ueEMsR0FBR29XLEdBQUk4OEIsRUFBUWhlLE1BRXJFbDFCLEdBQUt1ekMsTUFJSnZ6QyxFQUFJLEVBQUdBLEVBQUk4cEMsRUFBTTlwQyxJQUVoQmpELEVBQUVpRCxLQUFPdXpDLElBRUx2ekMsR0FBR29XLEdBQUs5WixFQUFFMEQsS0FHVkEsR0FBR29XLEdBQUsrNkIsRUFBTW54QyxHQUFHb1csV0FNdEI0OEIsRUFBWS9KLGtCQUFrQixDQUNuQzFsQixLQUFNNnRCLEVBQ05oSyxLQUFNLENBQUMwQyxFQUFNQyxHQUNidEMsU0FBVTFtQyxRQ3JHTHl5QyxNQUZBLGNBQ1EsQ0FBQyxRQUFTLGdCQUM4Q3RoQixRQUNyRXBULE1BQ0ZBLGNBQ0FvdEIsR0FDRWhhLFNBb0JHLFNBQXFCLzBCLEVBQUdDLEVBQUdzSyxPQUU1QmdwQyxFQUFVdnpDLEVBQUVrdkMsUUFDWnNFLEVBQVN4ekMsRUFBRW12QyxPQUNYc0UsRUFBT3p6QyxFQUFFb3ZDLEtBQ1RzRSxFQUFRMXpDLEVBQUUrcUMsTUFDVjRJLEVBQU0zekMsRUFBRWdyQyxVQUVSK0ssRUFBVTkxQyxFQUFFaXZDLFFBQ1o4RyxFQUFTLzFDLEVBQUVrdkMsT0FDWDhHLEVBQU9oMkMsRUFBRW12QyxLQUNUOEcsRUFBUWoyQyxFQUFFOHFDLE1BQ1ZvTCxFQUFNbDJDLEVBQUUrcUMsYUFFUjBJLEVBQU01eUMsU0FBV28xQyxFQUFNcDFDLGFBQ25CLElBQUl3d0IsR0FBZW9pQixFQUFNNXlDLE9BQVFvMUMsRUFBTXAxQyxXQUkzQzR5QyxFQUFNLEtBQU93QyxFQUFNLElBQU14QyxFQUFNLEtBQU93QyxFQUFNLFNBQ3hDLElBQUl6aEIsV0FBVyxpQ0FBbUNpZixFQUFRLDBCQUE0QndDLEVBQVEsU0FPbEd0eUMsRUFIQStvQyxFQUFPK0csRUFBTSxHQUNiOUcsRUFBVThHLEVBQU0sR0FJaEJoWixFQUFLcVUsRUFFTFEsRUFBTyxFQUVQNS9CLEVBQUtwRixFQUVVLGlCQUFSb3BDLEdBQW9CQSxJQUFRd0MsTUFFaEN4QyxJQUVBaHlCLEVBQU11TCxLQUFLNmhCLEVBQWEsQ0FBQ25yQyxFQUFJQSxNQUUzQitkLEVBQU13QixRQUFRLEVBQUd2ZixLQUVuQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLFNBYzdCZixFQUFHb1csRUFBRzhlLEVBQUdrWSxFQUFJQyxFQVZiMEQsRUFBVUwsR0FBV3dDLEVBQVUsUUFBSyxFQUNwQ2xDLEVBQVMsR0FDVEMsRUFBTyxHQUVQd0MsRUFBSy9DLEdBQVd3QyxFQUFVLFFBQUssRUFDL0JRLEVBQUtoRCxHQUFXd0MsRUFBVSxRQUFLLEVBRS9CUyxFQUFLLEdBQ0xDLEVBQUssT0FJSng5QixFQUFJLEVBQUdBLEVBQUkyekIsRUFBUzN6QixJQUFLLEdBRXZCQSxHQUFLNDZCLEVBQU8veUMsV0FFYnMxQyxFQUFPbjlCLEVBQUksTUFFVmczQixFQUFLd0QsRUFBS3g2QixHQUFJaTNCLEVBQUt1RCxFQUFLeDZCLEVBQUksR0FBSThlLEVBQUlrWSxFQUFJbFksRUFBSW1ZLEVBQUluWSxNQUUvQ3liLEVBQU96YixLQUVKbFEsS0FBS2hsQixLQUVUQSxHQUFLdXpDLEVBRUpFLE1BQ0N6ekMsR0FBSzB3QyxFQUFReGIsUUFLZmtZLEVBQUtnRyxFQUFLaDlCLEdBQUlpM0IsRUFBSytGLEVBQUtoOUIsRUFBSSxHQUFJOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLE9BSS9DeWUsSUFGQVIsRUFBT2plLE1BRUdxZSxNQUVSRSxFQUFJLEtBRUYzMkMsRUFBSWdRLEVBQUcybUMsRUFBR3p6QyxHQUFJa3pDLEVBQVFoZSxJQUVyQjJDLEVBQUcvNkIsRUFBRzR2QyxLQUtOMXNDLEdBQUssT0FITEEsR0FBS2xELFdBUUxrb0IsS0FBS2hsQixLQUVUQSxHQUFLdXpDLEVBRUpHLE1BQ0MxekMsR0FBS2t6QyxFQUFRaGUsT0FNbEJ1ZSxHQUFNQyxRQUVKekMsRUFBSzc2QixHQUVGOGUsRUFBSThiLEVBQU8veUMsUUFJWjAxQyxJQUZBM0MsRUFBTzliLE1BRUdxZSxLQUVKcmUsR0FBS3VlLEVBQUd6ekMsUUFHUDR6QyxFQUFHNXpDLEtBQU91ekMsS0FFWHJlLEdBQUt3ZSxFQUFHMXpDLFVBS1R3cUIsT0FBTzBLLEVBQUcsYUFPcEI2VSxHQUFXaUgsRUFBTy95QyxPQUVoQmQsRUFBRW13QyxtQkFBbUIsQ0FDMUJiLE9BQVFzRSxFQUNScDBDLE1BQU9xMEMsRUFDUHhFLElBQUt5RSxFQUNMN0osS0FBTSxDQUFDMEMsRUFBTUMsR0FDYnRDLFNBQVUxbUMsUUN6S0w4eUMsTUFGQSxjQUNRLENBQUMsUUFBUyxnQkFDOEMzaEIsUUFDckVwVCxNQUNGQSxjQUNBdVQsR0FDRUgsU0FxQkcsU0FBcUJoMUIsRUFBR0UsRUFBR3NLLEVBQVVzOEIsT0FFdEMwTSxFQUFVeHpDLEVBQUVtdkMsUUFDWnNFLEVBQVN6ekMsRUFBRW92QyxPQUNYc0UsRUFBTzF6QyxFQUFFcXZDLEtBQ1RzRSxFQUFRM3pDLEVBQUVnckMsTUFDVjRJLEVBQU01ekMsRUFBRWlyQyxjQUVQdUksUUFDRyxJQUFJOXpDLE1BQU0sMEVBT2RtRSxFQUhBK29DLEVBQU8rRyxFQUFNLEdBQ2I5RyxFQUFVOEcsRUFBTSxHQUloQi9qQyxFQUFLcEYsRUFFVSxpQkFBUm9wQyxNQUVKQSxJQUVEaHlCLEVBQU13QixRQUFRbGpCLEVBQUcyRCxLQUVoQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLGFBSTdCcXdDLEVBQVEsR0FFUjkwQyxFQUFJLEdBRUpTLEVBQUksR0FFQ3FaLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLElBQUssU0FFNUJtOUIsRUFBT245QixFQUFJLEVBRU5nM0IsRUFBS3dELEVBQUt4NkIsR0FBSWkzQixFQUFLdUQsRUFBS3g2QixFQUFJLEdBQUk4ZSxFQUFJa1ksRUFBSWxZLEVBQUltWSxFQUFJblksSUFBSyxLQUV4RG52QixFQUFJNHFDLEVBQU96YixLQUVibnZCLEdBQUsycUMsRUFBUXhiLEtBQ2JudkIsR0FBS3d0QyxXQUlBdnpDLEVBQUksRUFBR0EsRUFBSThwQyxFQUFNOXBDLElBRWQsSUFBTm9XLE1BRUlwVyxHQUFLLElBSVRqRCxFQUFFaUQsS0FBT3V6QyxJQUVMdnpDLEdBQUdvVyxHQUFLNHRCLEVBQVVsM0IsRUFBRzFQLEVBQUdkLEVBQUUwRCxJQUFNOE0sRUFBR3hRLEVBQUUwRCxHQUFJNUMsS0FHekM0QyxHQUFHb1csR0FBS2haLFVBTWIsSUFBSWkxQixFQUFZLENBQ3JCOU8sS0FBTTZ0QixFQUNOaEssS0FBTSxDQUFDMEMsRUFBTUMsR0FDYnRDLFNBQVUxbUMsUUMvRkwreUMsTUFGQSxjQUNRLENBQUMsVUFDdUQ1aEIsUUFDckVwVCxNQUNGQSxHQUNFb1QsU0FnQkcsU0FBcUIvMEIsRUFBR0MsRUFBR3NLLE9BNEI1QjNHLEVBMUJBb3dDLEVBQVFoMEMsRUFBRThxQyxNQUNWNEksRUFBUTF6QyxFQUFFK3FDLE1BQ1Y0SSxFQUFNM3pDLEVBQUVnckMsVUFFUjRMLEVBQVEzMkMsRUFBRTZxQyxNQUNWb0wsRUFBUWoyQyxFQUFFOHFDLE1BQ1ZvTCxFQUFNbDJDLEVBQUUrcUMsVUFFUjZMLEVBQVEsTUFFUm5ELEVBQU01eUMsU0FBV28xQyxFQUFNcDFDLGFBQ25CLElBQUl3d0IsR0FBZW9pQixFQUFNNXlDLE9BQVFvMUMsRUFBTXAxQyxnQkFJdENmLEVBQUksRUFBR0EsRUFBSTJ6QyxFQUFNNXlDLE9BQVFmLElBQUssSUFFakMyekMsRUFBTTN6QyxLQUFPbTJDLEVBQU1uMkMsU0FDZixJQUFJMDBCLFdBQVcsaUNBQW1DaWYsRUFBUSwwQkFBNEJ3QyxFQUFRLE9BSWhHbjJDLEdBQUsyekMsRUFBTTN6QyxRQU1mNFAsRUFBS3BGLEVBRVUsaUJBQVJvcEMsR0FBb0JBLElBQVF3QyxNQUVoQ3hDLElBRUFoeUIsRUFBTXVMLEtBQUszaUIsRUFBVSxDQUFDM0csRUFBSUEsU0FJN0Jxd0MsRUFBUTRDLEVBQU0vMUMsT0FBUyxFQUFJb3pDLEVBQVN2a0MsRUFBSSxFQUFHa25DLEVBQU9BLEVBQU0sR0FBSTdDLEVBQU80QyxHQUFTLFVBRXpFNTJDLEVBQUU4ckMsa0JBQWtCLENBQ3pCMWxCLEtBQU02dEIsRUFDTmhLLEtBQU00TSxFQUNOdk0sU0FBVTFtQyxnQkFJSXNELEVBQUdpdEMsRUFBT3AwQyxFQUFHbUQsRUFBR2t4QyxFQUFJQyxPQUVoQ0MsRUFBSyxNQUVMSCxJQUFVcDBDLEVBQUVlLE9BQVMsVUFFZCtCLEVBQUksRUFBR0EsRUFBSUssRUFBR0wsTUFFbEJBLEdBQUtxRSxFQUFFa3RDLEVBQUd2eEMsR0FBSXd4QyxFQUFHeHhDLGlCQUlib1csRUFBSSxFQUFHQSxFQUFJL1YsRUFBRytWLE1BRWxCQSxHQUFLaTdCLEVBQVNodEMsRUFBR2l0QyxFQUFRLEVBQUdwMEMsRUFBR0EsRUFBRW8wQyxFQUFRLEdBQUlDLEVBQUduN0IsR0FBSW83QixFQUFHcDdCLFdBSXZEcTdCLE1DdEZBd0MsTUFGQSxjQUNRLENBQUMsUUFBUyxnQkFDOEMvaEIsUUFDckVwVCxNQUNGQSxjQUNBb3RCLEdBQ0VoYSxTQXFCRyxTQUFxQjhnQixFQUFhQyxFQUFjdnJDLEVBQVVzOEIsT0FFM0RtTixFQUFRNkIsRUFBWS9LLE1BQ3BCNEksRUFBUW1DLEVBQVk5SyxNQUNwQjRJLEVBQU1rQyxFQUFZN0ssVUFFbEIrSyxFQUFVRCxFQUFhNUcsUUFDdkI4RyxFQUFTRixFQUFhM0csT0FDdEI4RyxFQUFPSCxFQUFhMUcsS0FDcEI4RyxFQUFRSixFQUFhL0ssTUFDckJvTCxFQUFNTCxFQUFhOUssYUFFbkIwSSxFQUFNNXlDLFNBQVdvMUMsRUFBTXAxQyxhQUNuQixJQUFJd3dCLEdBQWVvaUIsRUFBTTV5QyxPQUFRbzFDLEVBQU1wMUMsV0FJM0M0eUMsRUFBTSxLQUFPd0MsRUFBTSxJQUFNeEMsRUFBTSxLQUFPd0MsRUFBTSxTQUN4QyxJQUFJemhCLFdBQVcsaUNBQW1DaWYsRUFBUSwwQkFBNEJ3QyxFQUFRLFNBSWpHSCxRQUNHLElBQUl0MkMsTUFBTSwwRUFPZG1FLEVBSEErb0MsRUFBTytHLEVBQU0sR0FDYjlHLEVBQVU4RyxFQUFNLEdBSWhCaFosRUFBS3FVLEVBRUxRLEVBQU8sRUFFUDUvQixFQUFLcEYsRUFFVSxpQkFBUm9wQyxHQUFvQkEsSUFBUXdDLE1BRWhDeEMsSUFFQWh5QixFQUFNdUwsS0FBSzZoQixFQUFhLENBQUNuckMsRUFBSUEsTUFFM0IrZCxFQUFNd0IsUUFBUSxFQUFHdmYsS0FFbkIrZCxFQUFNdUwsS0FBSzNpQixFQUFVLENBQUMzRyxFQUFJQSxhQUk3Qmd3QyxFQUFVLEdBQ1ZDLEVBQVMsR0FDVEMsRUFBTyxHQUVGNzZCLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLElBQUssR0FFM0JBLEdBQUs0NkIsRUFBTy95QyxlQUVSbXZDLEVBQUtnRyxFQUFLaDlCLEdBQUlpM0IsRUFBSytGLEVBQUtoOUIsRUFBSSxHQUFJOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLElBQUssS0FFeERsMUIsRUFBSW16QyxFQUFPamUsR0FFWGdmLEVBQU1sUSxFQUFVbDNCLEVBQUdvbUMsRUFBUWhlLEdBQUlpYyxFQUFNbnhDLEdBQUdvVyxJQUFNdEosRUFBR3FrQyxFQUFNbnhDLEdBQUdvVyxHQUFJODhCLEVBQVFoZSxJQUVyRTJDLEVBQUdxYyxFQUFLeEgsT0FFSjFuQixLQUFLaGxCLEtBQ0pnbEIsS0FBS2t2QixlQU1kbkssR0FBV2lILEVBQU8veUMsT0FFaEJnMUMsRUFBYTNGLG1CQUFtQixDQUNyQ2IsT0FBUXNFLEVBQ1JwMEMsTUFBT3EwQyxFQUNQeEUsSUFBS3lFLEVBQ0w3SixLQUFNLENBQUMwQyxFQUFNQyxHQUNidEMsU0FBVTFtQyxRQ3pHTG96QyxNQUZBLGNBQ1EsQ0FBQyxVQUN1RGppQixRQUNyRXBULE1BQ0ZBLEdBQ0VvVCxTQXFCRyxTQUFxQjhnQixFQUFhQyxFQUFjdnJDLEVBQVVzOEIsT0FFM0RtTixFQUFRNkIsRUFBWS9LLE1BQ3BCNEksRUFBUW1DLEVBQVk5SyxNQUNwQjRJLEVBQU1rQyxFQUFZN0ssVUFFbEIrSyxFQUFVRCxFQUFhNUcsUUFDdkI4RyxFQUFTRixFQUFhM0csT0FDdEI4RyxFQUFPSCxFQUFhMUcsS0FDcEI4RyxFQUFRSixFQUFhL0ssTUFDckJvTCxFQUFNTCxFQUFhOUssYUFFbkIwSSxFQUFNNXlDLFNBQVdvMUMsRUFBTXAxQyxhQUNuQixJQUFJd3dCLEdBQWVvaUIsRUFBTTV5QyxPQUFRbzFDLEVBQU1wMUMsV0FJM0M0eUMsRUFBTSxLQUFPd0MsRUFBTSxJQUFNeEMsRUFBTSxLQUFPd0MsRUFBTSxTQUN4QyxJQUFJemhCLFdBQVcsaUNBQW1DaWYsRUFBUSwwQkFBNEJ3QyxFQUFRLFNBSWpHSCxRQUNHLElBQUl0MkMsTUFBTSwwRUFPZG1FLEVBSEErb0MsRUFBTytHLEVBQU0sR0FDYjlHLEVBQVU4RyxFQUFNLEdBSWhCbkUsRUFBTyxFQUVQNS9CLEVBQUtwRixFQUVVLGlCQUFSb3BDLEdBQW9CQSxJQUFRd0MsTUFFaEN4QyxJQUVFaHlCLEVBQU13QixRQUFRLEVBQUd2ZixLQUVuQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLGFBSTdCcXdDLEVBQVEsR0FFSDV1QyxFQUFJLEVBQUdBLEVBQUlzbkMsRUFBTXRuQyxNQUVsQkEsR0FBSyxXQUlUbEcsRUFBSSxHQUVKUyxFQUFJLEdBRUNxWixFQUFJLEVBQUdBLEVBQUkyekIsRUFBUzN6QixJQUFLLFNBRTVCbTlCLEVBQU9uOUIsRUFBSSxFQUVOZzNCLEVBQUtnRyxFQUFLaDlCLEdBQUlpM0IsRUFBSytGLEVBQUtoOUIsRUFBSSxHQUFJOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLElBQUssS0FFeERsMUIsRUFBSW16QyxFQUFPamUsS0FFYmwxQixHQUFLZ2tDLEVBQVVsM0IsRUFBR29tQyxFQUFRaGUsR0FBSWljLEVBQU1ueEMsR0FBR29XLElBQU10SixFQUFHcWtDLEVBQU1ueEMsR0FBR29XLEdBQUk4OEIsRUFBUWhlLE1BQ3JFbDFCLEdBQUt1ekMsV0FJQWgzQyxFQUFJLEVBQUdBLEVBQUl1dEMsRUFBTXZ0QyxJQUVwQlEsRUFBRVIsS0FBT2czQyxJQUVMaDNDLEdBQUc2WixHQUFLOVosRUFBRUMsS0FHVkEsR0FBRzZaLEdBQUs0dEIsRUFBVWwzQixFQUFHNC9CLEVBQU15RSxFQUFNNTBDLEdBQUc2WixJQUFNdEosRUFBR3FrQyxFQUFNNTBDLEdBQUc2WixHQUFJczJCLFdBTS9Ec0csRUFBWS9KLGtCQUFrQixDQUNuQzFsQixLQUFNNnRCLEVBQ05oSyxLQUFNLENBQUMwQyxFQUFNQyxHQUNidEMsU0FBVTFtQyxRQy9HTHF6QyxNQUZBLGNBQ1EsQ0FBQyxRQUFTLGdCQUM4Q2xpQixRQUNyRXBULE1BQ0ZBLGNBQ0FvdEIsR0FDRWhhLFNBb0JHLFNBQXFCLzBCLEVBQUdDLEVBQUdzSyxPQUU1QmdwQyxFQUFVdnpDLEVBQUVrdkMsUUFDWnNFLEVBQVN4ekMsRUFBRW12QyxPQUNYc0UsRUFBT3p6QyxFQUFFb3ZDLEtBQ1RzRSxFQUFRMXpDLEVBQUUrcUMsTUFDVjRJLEVBQU0zekMsRUFBRWdyQyxVQUVSK0ssRUFBVTkxQyxFQUFFaXZDLFFBQ1o4RyxFQUFTLzFDLEVBQUVrdkMsT0FDWDhHLEVBQU9oMkMsRUFBRW12QyxLQUNUOEcsRUFBUWoyQyxFQUFFOHFDLE1BQ1ZvTCxFQUFNbDJDLEVBQUUrcUMsYUFFUjBJLEVBQU01eUMsU0FBV28xQyxFQUFNcDFDLGFBQ25CLElBQUl3d0IsR0FBZW9pQixFQUFNNXlDLE9BQVFvMUMsRUFBTXAxQyxXQUkzQzR5QyxFQUFNLEtBQU93QyxFQUFNLElBQU14QyxFQUFNLEtBQU93QyxFQUFNLFNBQ3hDLElBQUl6aEIsV0FBVyxpQ0FBbUNpZixFQUFRLDBCQUE0QndDLEVBQVEsU0FPbEd0eUMsRUFIQStvQyxFQUFPK0csRUFBTSxHQUNiOUcsRUFBVThHLEVBQU0sR0FJaEJoWixFQUFLcVUsRUFFTFEsRUFBTyxFQUVQNS9CLEVBQUtwRixFQUVVLGlCQUFSb3BDLEdBQW9CQSxJQUFRd0MsTUFFaEN4QyxJQUVBaHlCLEVBQU11TCxLQUFLNmhCLEVBQWEsQ0FBQ25yQyxFQUFJQSxNQUUzQitkLEVBQU13QixRQUFRLEVBQUd2ZixLQUVuQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLFNBYzdCZixFQUFHb1csRUFBRzhlLEVBQUdtWSxFQVZUMEQsRUFBVUwsR0FBV3dDLEVBQVUsUUFBSyxFQUNwQ2xDLEVBQVMsR0FDVEMsRUFBTyxHQUVQd0MsRUFBSzFDLEVBQVUsUUFBSyxFQUNwQjJDLEVBQUszQyxFQUFVLFFBQUssRUFFcEI0QyxFQUFLLEdBQ0xDLEVBQUssT0FJSng5QixFQUFJLEVBQUdBLEVBQUkyekIsRUFBUzN6QixJQUFLLEdBRXZCQSxHQUFLNDZCLEVBQU8veUMsV0FFYnMxQyxFQUFPbjlCLEVBQUksTUFFVjhlLEVBQUkwYixFQUFLeDZCLEdBQUlpM0IsRUFBS3VELEVBQUt4NkIsRUFBSSxHQUFJOGUsRUFBSW1ZLEVBQUluWSxNQUV0Q3liLEVBQU96YixLQUVKbFEsS0FBS2hsQixLQUVUQSxHQUFLdXpDLEVBRUpFLE1BQ0N6ekMsR0FBSzB3QyxFQUFReGIsUUFLZkEsRUFBSWtlLEVBQUtoOUIsR0FBSWkzQixFQUFLK0YsRUFBS2g5QixFQUFJLEdBQUk4ZSxFQUFJbVksRUFBSW5ZLElBSXRDeWUsSUFGQVIsRUFBT2plLE1BRUdxZSxLQUVMdnVCLEtBQUtobEIsS0FJWEEsR0FBS3V6QyxFQUVKRyxNQUNDMXpDLEdBQUtrekMsRUFBUWhlLE9BS2hCNmIsUUFFRUUsRUFBSzc2QixHQUVGOGUsRUFBSThiLEVBQU8veUMsUUFBUSxLQUlwQm8yQyxFQUFNVixJQUZOM0MsRUFBTzliLElBR1BvZixFQUFNVixFQUFHNXpDLE1BRVRxMEMsSUFBUWQsR0FBUWUsSUFBUWYsRUFBTSxLQUs1QmdCLEVBQUt6bkMsRUFIQXVuQyxJQUFRZCxFQUFPRSxFQUFHenpDLEdBQUswc0MsRUFDdkI0SCxJQUFRZixFQUFPRyxFQUFHMXpDLEdBQUswc0MsR0FJM0I3VSxFQUFHMGMsRUFBSTdILEtBT0hsaUIsT0FBTzBLLEVBQUcsTUFMVGxRLEtBQUt1dkIsb0JBYWxCeEssR0FBV2lILEVBQU8veUMsT0FFaEJkLEVBQUVtd0MsbUJBQW1CLENBQzFCYixPQUFRc0UsRUFDUnAwQyxNQUFPcTBDLEVBQ1B4RSxJQUFLeUUsRUFDTDdKLEtBQU0sQ0FBQzBDLEVBQU1DLEdBQ2J0QyxTQUFVMW1DLFFDbEtMeXpDLE1BRkEsY0FDUSxDQUFDLFFBQVMsZ0JBQzhDdGlCLFFBQ3JFcFQsTUFDRkEsY0FDQXVULEdBQ0VILFNBcUJHLFNBQXFCaDFCLEVBQUdFLEVBQUdzSyxFQUFVczhCLE9BRXRDME0sRUFBVXh6QyxFQUFFbXZDLFFBQ1pzRSxFQUFTenpDLEVBQUVvdkMsT0FDWHNFLEVBQU8xekMsRUFBRXF2QyxLQUNUc0UsRUFBUTN6QyxFQUFFZ3JDLE1BQ1Y0SSxFQUFNNXpDLEVBQUVpckMsY0FFUHVJLFFBQ0csSUFBSTl6QyxNQUFNLDBFQU9kbUUsRUFIQStvQyxFQUFPK0csRUFBTSxHQUNiOUcsRUFBVThHLEVBQU0sR0FJaEIvakMsRUFBS3BGLEVBRVUsaUJBQVJvcEMsTUFFSkEsSUFFRGh5QixFQUFNd0IsUUFBUWxqQixFQUFHMkQsS0FFaEIrZCxFQUFNdUwsS0FBSzNpQixFQUFVLENBQUMzRyxFQUFJQSxhQUk3QnF3QyxFQUFRLEdBRVI5MEMsRUFBSSxHQUVKUyxFQUFJLEdBRUNxWixFQUFJLEVBQUdBLEVBQUkyekIsRUFBUzN6QixJQUFLLFNBRTVCbTlCLEVBQU9uOUIsRUFBSSxFQUVOZzNCLEVBQUt3RCxFQUFLeDZCLEdBQUlpM0IsRUFBS3VELEVBQUt4NkIsRUFBSSxHQUFJOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLElBQUssS0FFeERudkIsRUFBSTRxQyxFQUFPemIsS0FFYm52QixHQUFLMnFDLEVBQVF4YixLQUNibnZCLEdBQUt3dEMsV0FJQXZ6QyxFQUFJLEVBQUdBLEVBQUk4cEMsRUFBTTlwQyxJQUVkLElBQU5vVyxNQUVJcFcsR0FBSyxJQUlUakQsRUFBRWlELEtBQU91ekMsSUFFTHZ6QyxHQUFHb1csR0FBSzR0QixFQUFVbDNCLEVBQUcxUCxFQUFHZCxFQUFFMEQsSUFBTThNLEVBQUd4USxFQUFFMEQsR0FBSTVDLEtBR3pDNEMsR0FBR29XLEdBQUs0dEIsRUFBVWwzQixFQUFHMVAsRUFBRyxHQUFLMFAsRUFBRyxFQUFHMVAsV0FNeEMsSUFBSWkxQixFQUFZLENBQ3JCOU8sS0FBTTZ0QixFQUNOaEssS0FBTSxDQUFDMEMsRUFBTUMsR0FDYnRDLFNBQVUxbUMsV0MxRkwsTUFDUSxDQUFDLFFBQVMsU0FBVSxjQUFlLGdCQUNhbXhCLFFBQzdEcFQsTUFDRkEsU0FDQXhNLGNBQ0E0NUIsY0FDQTdaLEdBQ0VILEVBQ0F1aUIsRUFBY1IsR0FBa0IsQ0FDbENuMUIsTUFBQUEsRUFDQW90QixZQUFBQSxJQUVFd0ksRUFBY1AsR0FBa0IsQ0FDbENyMUIsTUFBQUEsSUFFRTYxQixFQUFjUCxHQUFrQixDQUNsQ3QxQixNQUFBQSxFQUNBb3RCLFlBQUFBLElBRUV5RixFQUFjbEIsR0FBa0IsQ0FDbEMzeEIsTUFBQUEsRUFDQW90QixZQUFBQSxJQUVFMEksRUFBY0osR0FBa0IsQ0FDbEMxMUIsTUFBQUEsRUFDQXVULFlBQUFBLElBRUV3aUIsRUFBY2YsR0FBa0IsQ0FDbENoMUIsTUFBQUEsSUFFRTh5QixFQUFjVixHQUFrQixDQUNsQ3B5QixNQUFBQSxXQXNDS0EsRUF0RUUsTUFzRVUsQ0FDakJ3c0IsaUJBQWtCVCxHQUNsQlcsdUJBQXdCLFNBQTRCbHZDLEVBQUdDLE1BQ2pEQSxFQUFFKzhCLGNBQ0UsSUFBSTE4QixNQUFNLHNEQUdYTCxFQUFFaXhCLFNBQVdseEIsRUFBSUEsRUFBRW0vQixJQUFJbC9CLElBRWhDbXZDLHFCQUFzQixTQUEwQnB2QyxFQUFHQyxNQUM3Q0EsRUFBRStoQyxRQUFRLEdBQUssUUFDWCxJQUFJMWhDLE1BQU0sc0RBSVhOLEVBQUVnaUMsUUFBUSxJQUFNLEVBQUloaUMsRUFBRW0vQixJQUFJbC9CLEdBQUtELEVBQUVtL0IsSUFBSWwvQixHQUFHd1csSUFBSXhXLEdBQUdrL0IsSUFBSWwvQixJQUU1RHU0Qyw2QkFBOEIsU0FBa0N4NEMsRUFBR0MsVUFDMURvNEMsRUFBWXI0QyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDdTRDLDRCQUE2QixTQUFpQ3o0QyxFQUFHQyxVQUN4RGs0QyxFQUFZbDRDLEVBQUdELEVBQUdFLE1BQU0sSUFFakN3NEMsNEJBQTZCLFNBQWlDMTRDLEVBQUdDLFVBQ3hEbTRDLEVBQVlwNEMsRUFBR0MsRUFBR0MsTUFBTSxJQUVqQ3k0QywyQkFBNEIsU0FBZ0MzNEMsRUFBR0MsVUFDdERzNEMsRUFBWXY0QyxFQUFHQyxFQUFHQyxPQUUzQjA0QyxlQUFnQixTQUFvQjU0QyxFQUFHQyxVQUU5QkMsS0FBSzhWLEVBQU9oVyxHQUFJZ1csRUFBTy9WLElBQUl1aEIsV0FFcENxM0IsZ0JBQWlCLFNBQXFCNzRDLEVBQUdDLFVBRWhDQyxLQUFLOFYsRUFBT2hXLEdBQUlDLElBRXpCNjRDLGdCQUFpQixTQUFxQjk0QyxFQUFHQyxVQUVoQ0MsS0FBS0YsRUFBR2dXLEVBQU8vVixLQUV4Qjg0QyxvQkFBcUIsU0FBeUIvNEMsRUFBR0MsVUFDeENvMUMsRUFBWXIxQyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDODRDLG1CQUFvQixTQUF3Qmg1QyxFQUFHQyxVQUN0Q3ExQyxFQUFZdDFDLEVBQUdDLEVBQUdDLE1BQU0sSUFFakMrNEMsb0JBQXFCLFNBQXlCajVDLEVBQUdDLFVBQ3hDcTRDLEVBQVlyNEMsRUFBR0QsRUFBR0UsTUFBTSxJQUVqQ2c1QyxtQkFBb0IsU0FBd0JsNUMsRUFBR0MsVUFDdENxMUMsRUFBWXIxQyxFQUFHRCxFQUFHRSxNQUFNLElBRWpDaTVDLGFBQWMsU0FBa0JuNUMsRUFBR0MsVUFFMUJxMUMsRUFBWXQvQixFQUFPaFcsR0FBSUMsRUFBR0MsTUFBTSxHQUFPc2hCLFdBRWhENDNCLGFBQWMsU0FBa0JwNUMsRUFBR0MsVUFFMUJxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBR0UsTUFBTSxHQUFNc2hCLG9CQ3RJeEM2M0IsTUFGQSxpQkFDUSxDQUFDLFVBQzBEempCLFFBQ3hFcFQsTUFDRkEsR0FDRW9ULFNBY0dwVCxFQUFNLGlCQUFrQixDQUM3QndzQixpQkFBa0JaLEdBQ2xCaUIsbUJBQW9CLFNBQXdCcnZDLEVBQUdDLFVBQ3RDRCxFQUFFZ3hCLElBQUkvd0IsSUFFZml2Qyx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUUwNkIsTUFBTXo2QixJQUVqQm12QyxxQkFBc0IsU0FBMEJwdkMsRUFBR0MsVUFDMUNELEVBQUVneEIsSUFBSS93QixJQUVmcTVDLGdEQUFpRCxTQUE0Q3Q1QyxFQUFHQyxPQUMxRmtuQyxFQUFNbG5DLEVBQUVxaEIsaUJBQ1JuaEIsTUFBc0IsT0FBZGduQyxFQUFJaG5DLE1BQWlCZ25DLEVBQUlvUyxXQUFXdjVDLEdBQUtFLEtBQUtpbkMsRUFBSWhuQyxNQUFPSCxHQUM5RG1uQyxHQUVUcVMsZ0RBQWlELFNBQTRDeDVDLEVBQUdDLE9BQzFGa25DLEVBQU1ubkMsRUFBRXNoQixpQkFDUm5oQixNQUFzQixPQUFkZ25DLEVBQUlobkMsTUFBaUJnbkMsRUFBSW9TLFdBQVd0NUMsR0FBS0MsS0FBS2luQyxFQUFJaG5DLE1BQU9GLEdBQzlEa25DLEdBRVRvSSxhQUFjLFNBQWtCdnZDLEVBQUdDLFVBQzFCRCxFQUFFeTVDLFNBQVN4NUMsU0NuQ2J5NUMsTUFGQSxXQUNRLENBQUMsUUFBUyxTQUFVLFlBQWEsaUJBQWtCLGNBQWUsUUFDYjlqQixRQUNsRXBULE1BQ0ZBLFNBQ0F4TSxZQUNBYyxpQkFDQTlWLGNBQ0E0dUMsTUFDQWxtQyxHQUNFa3NCLEVBQ0F5ZixFQUFjbEIsR0FBa0IsQ0FDbEMzeEIsTUFBQUEsRUFDQW90QixZQUFBQSxJQUVFMEYsRUFBY1YsR0FBa0IsQ0FDbENweUIsTUFBQUEsZUFHaUNtM0IsRUFBT3BqQyxVQUVoQ29qQyxFQUFNaDRDLGFBQ1AsU0FFSzRVLEVBQU01VSxhQUNQLEtBRUNnNEMsRUFBTSxLQUFPcGpDLEVBQU0sU0FFZixJQUFJK2UsV0FBVyxzRkFLcEIsS0FFQ3FrQixFQUFNLEtBQU9wakMsRUFBTSxTQUVmLElBQUkrZSxXQUFXLHdEQUEwRHFrQixFQUFNLEdBQUssNkJBQStCcGpDLEVBQU0sR0FBSyx5QkFNaEksSUFBSWpXLE1BQU0sK0RBQWlFaVcsRUFBTTVVLE9BQVMsMkJBS2pHLFNBRUs0VSxFQUFNNVUsYUFDUCxLQUVDZzRDLEVBQU0sS0FBT3BqQyxFQUFNLFNBRWYsSUFBSStlLFdBQVcseURBQTJEcWtCLEVBQU0sR0FBSywrQkFBaUNwakMsRUFBTSxHQUFLLGdCQUt0SSxLQUVDb2pDLEVBQU0sS0FBT3BqQyxFQUFNLFNBRWYsSUFBSStlLFdBQVcsMkRBQTZEcWtCLEVBQU0sR0FBSywrQkFBaUNwakMsRUFBTSxHQUFLLHlCQU1ySSxJQUFJalcsTUFBTSwrREFBaUVpVyxFQUFNNVUsT0FBUyxvQ0FNOUYsSUFBSXJCLE1BQU0sK0RBQWlFcTVDLEVBQU1oNEMsT0FBUyw0QkErQnZFZCxFQUFHQyxNQUVaLFVBQWhCQSxFQUFFb3FDLGdCQUNFLElBQUk1cUMsTUFBTSw0REFlZ0JPLEVBQUdDLE9BYWpDMkQsRUFYQW93QyxFQUFRaDBDLEVBQUU4cUMsTUFDVjRJLEVBQVExekMsRUFBRStxQyxNQUNWNEksRUFBTTN6QyxFQUFFZ3JDLFVBRVI0TCxFQUFRMzJDLEVBQUU2cUMsTUFDVm9MLEVBQVFqMkMsRUFBRThxQyxNQUNWb0wsRUFBTWwyQyxFQUFFK3FDLFVBRVIrTixFQUFVckYsRUFBTSxHQUNoQnNGLEVBQVc5QyxFQUFNLEdBSWpCM21DLEVBQUswRyxFQUVMZ2pDLEVBQUs5NEMsRUFFTHd6QyxHQUFPd0MsR0FBT3hDLElBQVF3QyxHQUFzQixpQkFBUnhDLE1BRWpDQSxJQUVBaHlCLEVBQU11TCxLQUFLalgsRUFBVyxDQUFDclMsRUFBSUEsTUFDM0IrZCxFQUFNdUwsS0FBSy9zQixFQUFnQixDQUFDeUQsRUFBSUEsYUFJbkN2QixFQUFJLEdBRUM0VyxFQUFJLEVBQUdBLEVBQUkrL0IsRUFBVS8vQixJQUFLLFNBRTdCNm9CLEVBQU1tWCxFQUFHakYsRUFBTSxHQUFJNEMsRUFBTSxHQUFHMzlCLElBRXZCcFcsRUFBSSxFQUFHQSxFQUFJazJDLEVBQVNsMkMsTUFFckIwTSxFQUFHdXlCLEVBQUttWCxFQUFHakYsRUFBTW54QyxHQUFJK3pDLEVBQU0vekMsR0FBR29XLE9BR3BDQSxHQUFLNm9CLFVBSUY5aEMsRUFBRThyQyxrQkFBa0IsQ0FDekIxbEIsS0FBTS9qQixFQUNONG5DLEtBQU0sQ0FBQytPLEdBQ1AxTyxTQUFVMW1DLElBMURMczFDLENBQTJCbDVDLEVBQUdDLE9BdUVuQ2s1QyxFQUF3QngzQixFQUFNLHdCQUF5QixDQUN6RHcyQiw0QkE2QmtDbjRDLEVBQUdDLE9BWWpDMkQsRUFWQW93QyxFQUFRaDBDLEVBQUU4cUMsTUFDVjRJLEVBQVExekMsRUFBRStxQyxNQUNWNEksRUFBTTN6QyxFQUFFZ3JDLFVBRVI0TCxFQUFRMzJDLEVBQUU2cUMsTUFDVnFMLEVBQU1sMkMsRUFBRStxQyxVQUVSb08sRUFBUTFGLEVBQU0sR0FDZDJGLEVBQVczRixFQUFNLEdBSWpCbmtDLEVBQUswRyxFQUVMZ2pDLEVBQUs5NEMsRUFFTHd6QyxHQUFPd0MsR0FBT3hDLElBQVF3QyxHQUFzQixpQkFBUnhDLE1BRWpDQSxJQUVBaHlCLEVBQU11TCxLQUFLalgsRUFBVyxDQUFDclMsRUFBSUEsTUFDM0IrZCxFQUFNdUwsS0FBSy9zQixFQUFnQixDQUFDeUQsRUFBSUEsYUFJbkN2QixFQUFJLEdBRUNRLEVBQUksRUFBR0EsRUFBSXUyQyxFQUFPdjJDLElBQUssU0FFMUIyc0MsRUFBTXdFLEVBQU1ueEMsR0FFWmkvQixFQUFNbVgsRUFBR3pKLEVBQUksR0FBSW9ILEVBQU0sSUFFbEIzOUIsRUFBSSxFQUFHQSxFQUFJb2dDLEVBQVVwZ0MsTUFFdEIxSixFQUFHdXlCLEVBQUttWCxFQUFHekosRUFBSXYyQixHQUFJMjlCLEVBQU0zOUIsT0FHL0JwVyxHQUFLaS9CLFVBSUY5aEMsRUFBRThyQyxrQkFBa0IsQ0FDekIxbEIsS0FBTS9qQixFQUNONG5DLEtBQU0sQ0FBQ21QLEdBQ1A5TyxTQUFVMW1DLEtBM0VaczBDLDZCQTBRbUNsNEMsRUFBR0MsT0FFbENzekMsRUFBVXZ6QyxFQUFFa3ZDLFFBQ1pzRSxFQUFTeHpDLEVBQUVtdkMsT0FDWHNFLEVBQU96ekMsRUFBRW92QyxLQUNUdUUsRUFBTTN6QyxFQUFFZ3JDLGNBRVB1SSxRQUNHLElBQUk5ekMsTUFBTSw4REFjZG1FLEVBVkFnekMsRUFBUTMyQyxFQUFFNnFDLE1BQ1ZxTCxFQUFNbDJDLEVBQUUrcUMsVUFFUm9PLEVBQVFwNUMsRUFBRStxQyxNQUFNLEdBQ2hCdU8sRUFBUXI1QyxFQUFFOHFDLE1BQU0sR0FFaEI2SSxFQUFVLEdBQ1ZDLEVBQVMsR0FDVEMsRUFBTyxHQUlQdmtDLEVBQUswRyxFQUVMZ2pDLEVBQUs5NEMsRUFFTHU2QixFQUFLcVUsRUFFTFEsRUFBTyxFQUVQb0UsR0FBT3dDLEdBQU94QyxJQUFRd0MsR0FBc0IsaUJBQVJ4QyxNQUVqQ0EsSUFFQWh5QixFQUFNdUwsS0FBS2pYLEVBQVcsQ0FBQ3JTLEVBQUlBLE1BQzNCK2QsRUFBTXVMLEtBQUsvc0IsRUFBZ0IsQ0FBQ3lELEVBQUlBLE1BQ2hDK2QsRUFBTXVMLEtBQUs2aEIsRUFBYSxDQUFDbnJDLEVBQUlBLE1BRTNCK2QsRUFBTXdCLFFBQVEsRUFBR3ZmLFFBSXRCekUsRUFBSSxHQUVKUyxFQUFJLEtBRUgsR0FBSyxVQUVEMjVDLEVBQUssRUFBR0EsRUFBS0QsRUFBT0MsSUFBTSxLQUU3QkMsRUFBTTVDLEVBQU0yQyxPQUVYN2UsRUFBRzhlLEVBQUtqSyxXQUVGa0ssRUFBTWhHLEVBQUs4RixHQUFLRyxFQUFNakcsRUFBSzhGLEVBQUssR0FBSUksRUFBS0YsRUFBS0UsRUFBS0QsRUFBS0MsSUFBTSxLQUVqRUMsRUFBS3BHLEVBQU9tRyxHQUVYLzVDLEVBQUVnNkMsS0FTSEEsR0FBTXJxQyxFQUFHcFEsRUFBRXk2QyxHQUFLWCxFQUFHTyxFQUFLakcsRUFBUW9HLFFBUGhDQyxJQUFNLElBRUQveEIsS0FBSyt4QixLQUVWQSxHQUFNWCxFQUFHTyxFQUFLakcsRUFBUW9HLGVBVXZCeGdDLEVBQUswNkIsRUFBTy95QyxPQUFRN0IsRUFBSSxFQUFHQSxFQUFJa2EsRUFBSWxhLElBQUssS0FFM0M0NkMsRUFBS2hHLEVBQU81MEMsS0FFUkEsR0FBS0UsRUFBRTA2QyxhQUlaLEdBQUtoRyxFQUFPL3lDLE9BRVZkLEVBQUVtd0MsbUJBQW1CLENBQzFCYixPQUFRc0UsRUFDUnAwQyxNQUFPcTBDLEVBQ1B4RSxJQUFLeUUsRUFDTDdKLEtBQU0sQ0FBQ21QLEVBQU8sR0FDZDlPLFNBQVUxbUMsT0F6VlZrMkMsRUFBd0JuNEIsRUFBTSx3QkFBeUIsQ0FDekRtMkIsb0NBMkV1QzkzQyxFQUFHQyxPQWN0QzJELEVBWkFvd0MsRUFBUWgwQyxFQUFFOHFDLE1BQ1Y0SSxFQUFRMXpDLEVBQUUrcUMsTUFDVjRJLEVBQU0zekMsRUFBRWdyQyxVQUVSNEwsRUFBUTMyQyxFQUFFNnFDLE1BQ1ZvTCxFQUFRajJDLEVBQUU4cUMsTUFDVm9MLEVBQU1sMkMsRUFBRStxQyxVQUVSb08sRUFBUTFGLEVBQU0sR0FDZDJGLEVBQVczRixFQUFNLEdBQ2pCc0YsRUFBVzlDLEVBQU0sR0FJakIzbUMsRUFBSzBHLEVBRUxnakMsRUFBSzk0QyxFQUVMd3pDLEdBQU93QyxHQUFPeEMsSUFBUXdDLEdBQXNCLGlCQUFSeEMsTUFFakNBLElBRUFoeUIsRUFBTXVMLEtBQUtqWCxFQUFXLENBQUNyUyxFQUFJQSxNQUMzQitkLEVBQU11TCxLQUFLL3NCLEVBQWdCLENBQUN5RCxFQUFJQSxhQUluQ3ZCLEVBQUksR0FFQ1EsRUFBSSxFQUFHQSxFQUFJdTJDLEVBQU92MkMsSUFBSyxLQUUxQjJzQyxFQUFNd0UsRUFBTW54QyxLQUVkQSxHQUFLLFdBRUVvVyxFQUFJLEVBQUdBLEVBQUkrL0IsRUFBVS8vQixJQUFLLFNBRTdCNm9CLEVBQU1tWCxFQUFHekosRUFBSSxHQUFJb0gsRUFBTSxHQUFHMzlCLElBRXJCOVosRUFBSSxFQUFHQSxFQUFJazZDLEVBQVVsNkMsTUFFdEJvUSxFQUFHdXlCLEVBQUttWCxFQUFHekosRUFBSXJ3QyxHQUFJeTNDLEVBQU16M0MsR0FBRzhaLE9BR2xDcFcsR0FBR29XLEdBQUs2b0IsV0FLUDloQyxFQUFFOHJDLGtCQUFrQixDQUN6QjFsQixLQUFNL2pCLEVBQ040bkMsS0FBTSxDQUFDbVAsRUFBT0osR0FDZDFPLFNBQVUxbUMsS0FoSVppMEMscUNBNkl3QzczQyxFQUFHQyxPQUV2Qyt6QyxFQUFRaDBDLEVBQUU4cUMsTUFDVjRJLEVBQVExekMsRUFBRStxQyxNQUNWNEksRUFBTTN6QyxFQUFFZ3JDLFVBRVIrSyxFQUFVOTFDLEVBQUVpdkMsUUFDWjhHLEVBQVMvMUMsRUFBRWt2QyxPQUNYOEcsRUFBT2gyQyxFQUFFbXZDLEtBQ1Q4RyxFQUFRajJDLEVBQUU4cUMsTUFDVm9MLEVBQU1sMkMsRUFBRStxQyxjQUVQK0ssUUFDRyxJQUFJdDJDLE1BQU0sOERBT2RtRSxFQUhBdzFDLEVBQVExRixFQUFNLEdBQ2RzRixFQUFXOUMsRUFBTSxHQUlqQjNtQyxFQUFLMEcsRUFFTGdqQyxFQUFLOTRDLEVBRUx1NkIsRUFBS3FVLEVBRUxRLEVBQU8sRUFFUG9FLEdBQU93QyxHQUFPeEMsSUFBUXdDLEdBQXNCLGlCQUFSeEMsTUFFakNBLElBRUFoeUIsRUFBTXVMLEtBQUtqWCxFQUFXLENBQUNyUyxFQUFJQSxNQUMzQitkLEVBQU11TCxLQUFLL3NCLEVBQWdCLENBQUN5RCxFQUFJQSxNQUNoQytkLEVBQU11TCxLQUFLNmhCLEVBQWEsQ0FBQ25yQyxFQUFJQSxNQUUzQitkLEVBQU13QixRQUFRLEVBQUd2ZixZQUl0Qmd3QyxFQUFVLEdBQ1ZDLEVBQVMsR0FDVEMsRUFBTyxHQUVQenhDLEVBQUlwQyxFQUFFa3dDLG1CQUFtQixDQUMzQmIsT0FBUXNFLEVBQ1JwMEMsTUFBT3EwQyxFQUNQeEUsSUFBS3lFLEVBQ0w3SixLQUFNLENBQUNtUCxFQUFPSixHQUNkMU8sU0FBVTFtQyxJQUdIbTJDLEVBQUssRUFBR0EsRUFBS2YsRUFBVWUsSUFBTSxHQUUvQkEsR0FBTWxHLEVBQU8veUMsV0FFZGs1QyxFQUFNL0QsRUFBSzhELEdBQ1hFLEVBQU1oRSxFQUFLOEQsRUFBSyxNQUVoQkUsRUFBTUQsVUFFSnIxQixFQUFPLEVBRUY5aEIsRUFBSSxFQUFHQSxFQUFJdTJDLEVBQU92MkMsSUFBSyxTQUUxQnV6QyxFQUFPdnpDLEVBQUksRUFFWGswQyxPQUFNLEVBRURtRCxFQUFLRixFQUFLRSxFQUFLRCxFQUFLQyxJQUFNLEtBRTdCWCxFQUFLdkQsRUFBT2tFLEdBRVp2MUIsSUFBU3l4QixLQUVMNkMsRUFBR2pGLEVBQU1ueEMsR0FBRzAyQyxHQUFLeEQsRUFBUW1FLE1BRXhCOUQsS0FHRDdtQyxFQUFHd25DLEVBQUtrQyxFQUFHakYsRUFBTW54QyxHQUFHMDJDLEdBQUt4RCxFQUFRbUUsTUFLdkN2MUIsSUFBU3l4QixHQUFTMWIsRUFBR3FjLEVBQUt4SCxPQUVyQjFuQixLQUFLaGxCLEtBQ0pnbEIsS0FBS2t2QixlQU9oQmlDLEdBQVluRixFQUFPL3lDLE9BRWpCdUIsR0EvT1B1MUMscUNBbVd3QzUzQyxFQUFHQyxPQUV2Q3N6QyxFQUFVdnpDLEVBQUVrdkMsUUFDWnNFLEVBQVN4ekMsRUFBRW12QyxPQUNYc0UsRUFBT3p6QyxFQUFFb3ZDLEtBQ1R1RSxFQUFNM3pDLEVBQUVnckMsY0FFUHVJLFFBQ0csSUFBSTl6QyxNQUFNLDhEQVdkbUUsRUFQQWd6QyxFQUFRMzJDLEVBQUU2cUMsTUFDVnFMLEVBQU1sMkMsRUFBRStxQyxVQUVSb08sRUFBUXA1QyxFQUFFK3FDLE1BQU0sR0FDaEJ1TyxFQUFRcjVDLEVBQUU4cUMsTUFBTSxHQUNoQmlPLEVBQVcvNEMsRUFBRThxQyxNQUFNLEdBSW5CeDdCLEVBQUswRyxFQUVMZ2pDLEVBQUs5NEMsRUFFTHU2QixFQUFLcVUsRUFFTFEsRUFBTyxFQUVQb0UsR0FBT3dDLEdBQU94QyxJQUFRd0MsR0FBc0IsaUJBQVJ4QyxNQUVqQ0EsSUFFQWh5QixFQUFNdUwsS0FBS2pYLEVBQVcsQ0FBQ3JTLEVBQUlBLE1BQzNCK2QsRUFBTXVMLEtBQUsvc0IsRUFBZ0IsQ0FBQ3lELEVBQUlBLE1BQ2hDK2QsRUFBTXVMLEtBQUs2aEIsRUFBYSxDQUFDbnJDLEVBQUlBLE1BRTNCK2QsRUFBTXdCLFFBQVEsRUFBR3ZmLFlBSXRCZ3dDLEVBQVUsR0FDVkMsRUFBUyxHQUNUQyxFQUFPLEdBRVB6eEMsRUFBSXJDLEVBQUVtd0MsbUJBQW1CLENBQzNCYixPQUFRc0UsRUFDUnAwQyxNQUFPcTBDLEVBQ1B4RSxJQUFLeUUsRUFDTDdKLEtBQU0sQ0FBQ21QLEVBQU9KLEdBQ2QxTyxTQUFVMW1DLElBR1J6RSxFQUFJLEdBRUpTLEVBQUksR0FFQ202QyxFQUFLLEVBQUdBLEVBQUtmLEVBQVVlLElBQU0sR0FFL0JBLEdBQU1sRyxFQUFPL3lDLGVBRWRzMUMsRUFBTzJELEVBQUssRUFFUFIsRUFBSyxFQUFHQSxFQUFLRCxFQUFPQyxJQUFNLEtBRTdCWSxFQUFPdkQsRUFBTTJDLEdBQUlRLE9BRWhCcmYsRUFBR3lmLEVBQU01SyxXQUVIa0ssRUFBTWhHLEVBQUs4RixHQUFLRyxFQUFNakcsRUFBSzhGLEVBQUssR0FBSUksRUFBS0YsRUFBS0UsRUFBS0QsRUFBS0MsSUFBTSxLQUVqRUMsRUFBS3BHLEVBQU9tRyxHQUVaLzVDLEVBQUVnNkMsS0FBUXhELEtBRVZ3RCxHQUFNeEQsSUFFRHZ1QixLQUFLK3hCLEtBRVZBLEdBQU1YLEVBQUdrQixFQUFNNUcsRUFBUW9HLE9BR3ZCQyxHQUFNcnFDLEVBQUdwUSxFQUFFeTZDLEdBQUtYLEVBQUdrQixFQUFNNUcsRUFBUW9HLGVBT2xDemdDLEVBQUs0NkIsRUFBS2lHLEdBQUs1Z0MsRUFBSzA2QixFQUFPL3lDLE9BQVE3QixFQUFJaWEsRUFBSWphLEVBQUlrYSxFQUFJbGEsSUFBSyxLQUUzRDQ2QyxFQUFLaEcsRUFBTzUwQyxLQUVSQSxHQUFLRSxFQUFFMDZDLGNBS2RiLEdBQVluRixFQUFPL3lDLE9BRWpCdUIsR0F0Y1BzMUMsc0NBa2R5QzMzQyxFQUFHQyxPQWlCeEMyRCxFQWZBMnZDLEVBQVV2ekMsRUFBRWt2QyxRQUNac0UsRUFBU3h6QyxFQUFFbXZDLE9BQ1hzRSxFQUFPenpDLEVBQUVvdkMsS0FDVHVFLEVBQU0zekMsRUFBRWdyQyxVQUVSK0ssRUFBVTkxQyxFQUFFaXZDLFFBQ1o4RyxFQUFTLzFDLEVBQUVrdkMsT0FDWDhHLEVBQU9oMkMsRUFBRW12QyxLQUNUK0csRUFBTWwyQyxFQUFFK3FDLFVBRVJvTyxFQUFRcDVDLEVBQUUrcUMsTUFBTSxHQUNoQmlPLEVBQVcvNEMsRUFBRThxQyxNQUFNLEdBRW5CZ0YsRUFBU3dELEdBQVd3QyxFQUlwQnhtQyxFQUFLMEcsRUFFTGdqQyxFQUFLOTRDLEVBRUx3ekMsR0FBT3dDLEdBQU94QyxJQUFRd0MsR0FBc0IsaUJBQVJ4QyxNQUVqQ0EsSUFFQWh5QixFQUFNdUwsS0FBS2pYLEVBQVcsQ0FBQ3JTLEVBQUlBLE1BQzNCK2QsRUFBTXVMLEtBQUsvc0IsRUFBZ0IsQ0FBQ3lELEVBQUlBLGFBb0JuQysxQyxFQUFJRixFQUFLQyxFQUFLUSxFQUFJRixFQUFLQyxFQUFLTCxFQUFJTCxFQWhCaEMzRixFQUFVN0QsRUFBUyxRQUFLLEVBQ3hCOEQsRUFBUyxHQUNUQyxFQUFPLEdBRVB6eEMsRUFBSXJDLEVBQUVtd0MsbUJBQW1CLENBQzNCYixPQUFRc0UsRUFDUnAwQyxNQUFPcTBDLEVBQ1B4RSxJQUFLeUUsRUFDTDdKLEtBQU0sQ0FBQ21QLEVBQU9KLEdBQ2QxTyxTQUFVMW1DLElBR1J6RSxFQUFJNHdDLEVBQVMsUUFBSyxFQUVsQm53QyxFQUFJLEdBSUNtNkMsRUFBSyxFQUFHQSxFQUFLZixFQUFVZSxJQUFNLEdBRS9CQSxHQUFNbEcsRUFBTy95QyxXQUVkczFDLEVBQU8yRCxFQUFLLE1BRVhDLEVBQU0vRCxFQUFLOEQsR0FBS0UsRUFBTWhFLEVBQUs4RCxFQUFLLEdBQUlHLEVBQUtGLEVBQUtFLEVBQUtELEVBQUtDLFNBRXREbEUsRUFBT2tFLEdBRVJuSyxNQUVHMEosRUFBTWhHLEVBQUs4RixHQUFLRyxFQUFNakcsRUFBSzhGLEVBQUssR0FBSUksRUFBS0YsRUFBS0UsRUFBS0QsRUFBS0MsTUFFdERuRyxFQUFPbUcsR0FFUi81QyxFQUFFZzZDLEtBQVF4RCxLQUVWd0QsR0FBTXhELElBRUR2dUIsS0FBSyt4QixLQUVWQSxHQUFNWCxFQUFHbEQsRUFBUW1FLEdBQUszRyxFQUFRb0csT0FHOUJDLEdBQU1ycUMsRUFBR3BRLEVBQUV5NkMsR0FBS1gsRUFBR2xELEVBQVFtRSxHQUFLM0csRUFBUW9HLGNBS3pDRixFQUFNaEcsRUFBSzhGLEdBQUtHLEVBQU1qRyxFQUFLOEYsRUFBSyxHQUFJSSxFQUFLRixFQUFLRSxFQUFLRCxFQUFLQyxNQUV0RG5HLEVBQU9tRyxHQUVSLzVDLEVBQUVnNkMsS0FBUXhELE1BRVZ3RCxHQUFNeEQsSUFFRHZ1QixLQUFLK3hCLE9BT2hCN0osVUFFTzcyQixFQUFLNDZCLEVBQUtpRyxHQUFLNWdDLEVBQUswNkIsRUFBTy95QyxPQUFRN0IsRUFBSWlhLEVBQUlqYSxFQUFJa2EsRUFBSWxhLElBQUssS0FFM0Q0NkMsRUFBS2hHLEVBQU81MEMsS0FFUkEsR0FBS0UsRUFBRTA2QyxjQU1oQmIsR0FBWW5GLEVBQU8veUMsT0FFakJ1QixZQXFDRnNmLEVBL3lCRSxXQSt5QlV5NEIsR0FBTyxDQUV4QnJDLGVBQWdCLFNBQW9CNTRDLEVBQUdDLEtBRVh3ekIsR0FBVXp6QixHQUFJeXpCLEdBQVV4ekIsUUFHOUNnQixFQUFJZixLQUFLOFYsRUFBT2hXLEdBQUlnVyxFQUFPL1YsV0FFeEIyZixHQUFTM2UsR0FBS0EsRUFBRXVnQixVQUFZdmdCLEdBRXJDaTZDLGlCQUFrQixTQUFzQmw3QyxFQUFHQyxPQUVyQ2s3QyxFQUFRbjdDLEVBQUU4cUMsT0FDVnNRLEVBQVFuN0MsRUFBRTZxQyxnQkFFWXFRLEVBQU9DLEdBR1osSUFBakJELEVBQU14NUMsT0FFYSxJQUFqQnk1QyxFQUFNejVDLGdCQTF1QmVkLEVBQUdDLEVBQUdpRCxNQUV6QixJQUFOQSxRQUNJLElBQUl6RCxNQUFNLDRDQUdYb0osRUFBSTdJLEVBQUdDLEdBc3VCRHU2QyxDQUFzQnI3QyxFQUFHQyxFQUFHazdDLEVBQU0sSUFJcENHLEVBQXNCdDdDLEVBQUdDLEdBSWIsSUFBakJtN0MsRUFBTXo1QyxPQUVEcTRDLEVBQXNCaDZDLEVBQUdDLEdBSTNCMDZDLEVBQXNCMzZDLEVBQUdDLElBRWxDNjRDLGdCQUFpQixTQUFxQjk0QyxFQUFHQyxVQUVoQ0MsS0FBS0YsRUFBR2dXLEVBQU8vVixLQUV4QjQ0QyxnQkFBaUIsU0FBcUI3NEMsRUFBR0MsVUFFaENDLEtBQUs4VixFQUFPaFcsRUFBR0MsRUFBRWlyQyxXQUFZanJDLElBRXRDODRDLG9CQUFxQixTQUF5Qi80QyxFQUFHQyxVQUN4Q28xQyxFQUFZcjFDLEVBQUdDLEVBQUdlLEdBQWdCLElBRTNDZzRDLG1CQUFvQixTQUF3Qmg1QyxFQUFHQyxVQUN0Q3ExQyxFQUFZdDFDLEVBQUdDLEVBQUdlLEdBQWdCLElBRTNDaTRDLG9CQUFxQixTQUF5Qmo1QyxFQUFHQyxVQUN4Q28xQyxFQUFZcDFDLEVBQUdELEVBQUdnQixHQUFnQixJQUUzQ2s0QyxtQkFBb0IsU0FBd0JsNUMsRUFBR0MsVUFDdENxMUMsRUFBWXIxQyxFQUFHRCxFQUFHZ0IsR0FBZ0IsSUFFM0NtNEMsYUFBYyxTQUFrQm41QyxFQUFHQyxVQUUxQnExQyxFQUFZdC9CLEVBQU9oVyxHQUFJQyxFQUFHZSxHQUFnQixHQUFPd2dCLFdBRTFENDNCLGFBQWMsU0FBa0JwNUMsRUFBR0MsVUFFMUJxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBR2dCLEdBQWdCLEdBQU13Z0IsV0FFekQrNUIsV0FBWXY2QyxFQUNadzZDLG1CQUFvQixTQUFtQng3QyxFQUFHQyxFQUFHdzdDLFdBQ3ZDakcsRUFBU3QxQyxLQUFLRixFQUFHQyxHQUVaeUQsRUFBSSxFQUFHQSxFQUFJKzNDLEVBQUs5NUMsT0FBUStCLE1BQ3RCeEQsS0FBS3MxQyxFQUFRaUcsRUFBSy8zQyxXQUd0Qjh4QyxJQUVSeDBDLEVBQWVxaUIsZ0JDeDNCVHE0QixNQUZBLFdBQ1EsQ0FBQyxRQUFTLFNBQVUsY0FBZSxZQUFhLGFBQWMsZ0JBQ1Q5bEIsUUFDbEVwVCxNQUNGQSxTQUNBeE0sY0FDQTQ1QixZQUNBOTRCLGFBQ0E2a0MsY0FDQTVsQixHQUNFSCxFQUVBZ21CLEVBQWNuRixHQUFrQixDQUNsQ2owQixNQUFBQSxJQUVFNDFCLEVBQWNQLEdBQWtCLENBQ2xDcjFCLE1BQUFBLElBRUU2MUIsRUFBY1AsR0FBa0IsQ0FDbEN0MUIsTUFBQUEsRUFDQW90QixZQUFBQSxJQUVFaU0sRUFBY3RFLEdBQWtCLENBQ2xDLzBCLE1BQUFBLEVBQ0F1VCxZQUFBQSxJQUVFd2lCLEVBQWNmLEdBQWtCLENBQ2xDaDFCLE1BQUFBLElBRUU4eUIsRUFBY1YsR0FBa0IsQ0FDbENweUIsTUFBQUEsV0FvQ0tBLEVBbEVFLFdBa0VVLENBQ2pCd3NCLGlCQUFrQixTQUFzQmh2QyxFQUFHQyxVQUNsQ0QsRUFBSUMsR0FFYm92QyxtQkFBb0IsU0FBd0JydkMsRUFBR0MsVUFDdENELEVBQUV1TixJQUFJdE4sSUFFZml2Qyx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUU0NkIsTUFBTTM2QixJQUVqQm12QyxxQkFBc0IsU0FBMEJwdkMsRUFBR0MsVUFDMUNELEVBQUV1TixJQUFJdE4sSUFFZnN2QyxhQUFjLFNBQWtCdnZDLEVBQUdDLE1BQ2pCLE9BQVpELEVBQUVHLFlBQ0UsSUFBSUcsTUFBTSx1REFHRixPQUFaTCxFQUFFRSxZQUNFLElBQUlHLE1BQU0sd0RBR2JOLEVBQUV3dkMsVUFBVXZ2QyxTQUNULElBQUlLLE1BQU0sMEJBR2Q2bUMsRUFBTW5uQyxFQUFFc2hCLGlCQUNSbmhCLE1BQVFELEtBQUtpbkMsRUFBSWhuQyxNQUFPRixFQUFFRSxTQUMxQit6QyxXQUFZLEVBQ1QvTSxHQUVUcVIsNkJBQThCLFNBQWtDeDRDLEVBQUdDLGFBQzVDRCxFQUFHQyxHQUNqQm80QyxFQUFZcjRDLEVBQUdDLEVBQUdDLE9BRTNCdTRDLDRCQUE2QixTQUFpQ3o0QyxFQUFHQyxhQUMxQ0QsRUFBR0MsR0FDakJtNEMsRUFBWW40QyxFQUFHRCxFQUFHRSxNQUFNLElBRWpDdzRDLDRCQUE2QixTQUFpQzE0QyxFQUFHQyxhQUMxQ0QsRUFBR0MsR0FDakIyN0MsRUFBWTU3QyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDeTRDLDJCQUE0QixTQUFnQzM0QyxFQUFHQyxhQUN4Q0QsRUFBR0MsR0FDakJzNEMsRUFBWXY0QyxFQUFHQyxFQUFHQyxPQUUzQjA0QyxlQUFnQixTQUFvQjU0QyxFQUFHQyxVQUU5QkMsS0FBSzhWLEVBQU9oVyxHQUFJZ1csRUFBTy9WLElBQUl1aEIsV0FFcENxM0IsZ0JBQWlCLFNBQXFCNzRDLEVBQUdDLFVBRWhDQyxLQUFLOFYsRUFBT2hXLEdBQUlDLElBRXpCNjRDLGdCQUFpQixTQUFxQjk0QyxFQUFHQyxVQUVoQ0MsS0FBS0YsRUFBR2dXLEVBQU8vVixLQUV4Qjg0QyxvQkFBcUIsU0FBeUIvNEMsRUFBR0MsVUFDeEM0N0MsRUFBWTc3QyxFQUFHMjdDLEVBQVcxN0MsR0FBSTZXLElBRXZDa2lDLG1CQUFvQixTQUF3Qmg1QyxFQUFHQyxVQUN0Q3ExQyxFQUFZdDFDLEVBQUdDLEVBQUdDLE9BRTNCKzRDLG9CQUFxQixTQUF5Qmo1QyxFQUFHQyxVQUN4QzQ3QyxFQUFZNTdDLEVBQUdELEVBQUdFLE1BQU0sSUFFakNnNUMsbUJBQW9CLFNBQXdCbDVDLEVBQUdDLFVBQ3RDcTFDLEVBQVlyMUMsRUFBR0QsRUFBR0UsTUFBTSxJQUVqQ2k1QyxhQUFjLFNBQWtCbjVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBT2hXLEdBQUlDLEVBQUdDLE1BQU0sR0FBT3NoQixXQUVoRDQzQixhQUFjLFNBQWtCcDVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBTy9WLEdBQUlELEVBQUdFLE1BQU0sR0FBTXNoQixnQkFXbkQsWUFBOEJ4aEIsRUFBR0MsT0FDM0JrN0MsRUFBUW43QyxFQUFFOHFDLE9BQ1ZzUSxFQUFRbjdDLEVBQUU2cUMsVUFFVnFRLEVBQU14NUMsU0FBV3k1QyxFQUFNejVDLGFBQ25CLElBQUl3d0IsR0FBZWdwQixFQUFNeDVDLE9BQVF5NUMsRUFBTXo1QyxRQ3JLakQsSUFFV202QyxNQUZBLGNBQ1EsQ0FBQyxRQUFTLGdCQUM4Q2xtQixRQUNyRXBULE1BQ0ZBLGNBQ0F1VCxHQUNFSCxTQWdCRyxTQUFxQi8wQixFQUFHQyxFQUFHc0ssT0FFNUJtcEMsRUFBUTF6QyxFQUFFK3FDLE1BQ1Y0SSxFQUFNM3pDLEVBQUVnckMsVUFFUmtMLEVBQVFqMkMsRUFBRThxQyxNQUNWb0wsRUFBTWwyQyxFQUFFK3FDLGFBRVIwSSxFQUFNNXlDLFNBQVdvMUMsRUFBTXAxQyxhQUNuQixJQUFJd3dCLEdBQWVvaUIsRUFBTTV5QyxPQUFRbzFDLEVBQU1wMUMsV0FJM0M0eUMsRUFBTSxLQUFPd0MsRUFBTSxJQUFNeEMsRUFBTSxLQUFPd0MsRUFBTSxTQUN4QyxJQUFJemhCLFdBQVcsaUNBQW1DaWYsRUFBUSwwQkFBNEJ3QyxFQUFRLFNBT2xHdHlDLEVBZ0JBZixFQUFHb1csRUFuQkgwekIsRUFBTytHLEVBQU0sR0FDYjlHLEVBQVU4RyxFQUFNLEdBSWhCbkUsRUFBTyxFQUVQNS9CLEVBQUtwRixFQUVVLGlCQUFSb3BDLEdBQW9CQSxJQUFRd0MsTUFFaEN4QyxJQUVFaHlCLEVBQU13QixRQUFRLEVBQUd2ZixLQUVuQitkLEVBQU11TCxLQUFLM2lCLEVBQVUsQ0FBQzNHLEVBQUlBLFNBTTdCcXdDLEVBQVEsT0FFUHB4QyxFQUFJLEVBQUdBLEVBQUk4cEMsRUFBTTlwQyxNQUNkQSxHQUFLLE9BSVR5ekMsRUFBSyxHQUNMQyxFQUFLLEdBRUxDLEVBQUssR0FDTEMsRUFBSyxPQUVKeDlCLEVBQUksRUFBR0EsRUFBSTJ6QixFQUFTM3pCLElBQUssS0FFeEJtOUIsRUFBT245QixFQUFJLFFBRU5qWixFQUFHaVosRUFBR3U5QixFQUFJRixFQUFJRixLQUdkbjJDLEVBQUdnWixFQUFHdzlCLEVBQUlGLEVBQUlILEdBR2xCdnpDLEVBQUksRUFBR0EsRUFBSThwQyxFQUFNOXBDLElBQUssS0FFckJxNEMsRUFBSzFFLEVBQUczekMsS0FBT3V6QyxFQUFPRSxFQUFHenpDLEdBQUswc0MsRUFDOUI0TCxFQUFLMUUsRUFBRzV6QyxLQUFPdXpDLEVBQU9HLEVBQUcxekMsR0FBSzBzQyxJQUU1QjFzQyxHQUFHb1csR0FBS3RKLEVBQUd1ckMsRUFBSUMsWUFLbEIsSUFBSWptQixFQUFZLENBQ3JCOU8sS0FBTTZ0QixFQUNOaEssS0FBTSxDQUFDMEMsRUFBTUMsR0FDYnRDLFNBQVUxbUMsZ0JBSUl4RCxFQUFHNlksRUFBR3JaLEVBQUdULEVBQUdpM0MsV0FFeEJyRyxFQUFTM3ZDLEVBQUU4dUMsUUFDWDF2QyxFQUFRWSxFQUFFK3VDLE9BQ1ZFLEVBQU1qdkMsRUFBRWd2QyxLQUVIclgsRUFBSXNYLEVBQUlwMkIsR0FBSWkzQixFQUFLYixFQUFJcDJCLEVBQUksR0FBSThlLEVBQUltWSxFQUFJblksSUFBSyxLQUU3Q2wxQixFQUFJckQsRUFBTXU0QixLQUVabDFCLEdBQUt1ekMsSUFDTHZ6QyxHQUFLa3RDLEVBQU9oWSxTQzlHVHFqQixNQUZBLE9BQ1EsQ0FBQyxVQUNnRHJtQixRQUM5RHBULE1BQ0ZBLEdBQ0VvVCxTQTJCR3BULEVBaENFLE9BZ0NVLENBQ2pCcXdCLE9BQVEsU0FBZ0I3eUMsVUFDZkEsR0FFVDYxQixVQUFXLFNBQW1CNzFCLFVBQ3JCQSxHQUVUODFCLFFBQVMsU0FBaUI5MUIsVUFDakJBLEVBQUVnSyxhQUVYNmtDLGlCQUFrQixTQUFxQjd1QyxVQUM5Qit0QyxHQUFRL3RDLEVBQUdFLFlDMUNqQixZQUFrQm9tQyxPQUNuQi92QixFQUFPLEVBQ1Brb0IsRUFBTyxFQUNQeWQsRUFBUXJoQyxPQUFPZ1QsT0FBTyxNQUN0QnN1QixFQUFNdGhDLE9BQU9nVCxPQUFPLE1BQ3BCeHRCLEVBQVEsRUFFUis3QyxFQUFNLFNBQWFDLE9BQ2pCQyxFQUFXSCxFQUFJRSxNQUNkQyxXQUNFSixFQUFNSSxVQUNOSCxFQUFJRSxLQUNUOWxDLEVBQ0Vrb0IsSUFBUzZkLFFBRVIvbEMsV0FDSyxTQUNELFNBSUQ1VyxlQUFlcWlCLEtBQUtrNkIsSUFBU3pkLGlCQUsvQnI5QixLQUFLYSxJQUFJcWtDLEdBQ1YsQ0FDTGlXLElBQUssU0FBYUYsT0FDWkMsRUFBV0gsRUFBSUUsR0FDZkcsSUFBWW44QyxPQUNWbThDLEdBQVdILElBQ2JBLEdBQU1HLEdBRUxGLEVBQVUsTUFDWC9sQyxHQUNVK3ZCLGtCQUNQNFYsRUFBTXpkLEtBQ1A0ZCxHQUNHQSxZQUdGSCxFQUFNSSxHQUNUN2QsSUFBUzZkLFFBRUwzOEMsZUFBZXFpQixLQUFLazZCLElBQVN6ZCxPQU12Q2dlLE9BQVFMLEVBQ1JNLE1BQU8sYUFDRXI4QyxFQUFRLElBQ1IsSUFDQ3dhLE9BQU9nVCxPQUFPLFFBQ2hCaFQsT0FBT2dULE9BQU8sU0N6Q25CLFlBQWlCMUssT0FFcEJ3NUIsZUFDQXJXLEdBQ0U5M0IsVUFBVTdNLE9BQVMsUUFBc0IsSUFBakI2TSxVQUFVLEdBQW1CQSxVQUFVLEdBQUssWUFDdkQsTUFBVDgzQixFQUFnQjMrQixPQUFPaTFDLGtCQUFvQnRXLElBQ2hDLE1BQVZ1VyxFQUFpQmhKLEtBQUtDLFVBQVkrSSxFQUNwQyxhQUN3QixpQkFBbEJDLEVBQVFDLFVBQ1RBLE1BQVEsQ0FDZDVNLE9BQVEsSUFBSTZNLElBQ1pDLElBQUtDLEdBQVM1VyxHQUFTMytCLE9BQU9pMUMsNkJBSTlCMTJCLEVBQU8sR0FFRnhpQixFQUFJLEVBQUdBLEVBQUk4SyxVQUFVN00sT0FBUStCLE1BQy9CQSxHQUFLOEssVUFBVTlLLE9BR2xCeTVDLEVBQU9OLEVBQU8zMkIsTUFFZDQyQixFQUFRQyxNQUFNNU0sT0FBT2lOLElBQUlELFlBQ25CSixNQUFNRSxJQUFJVixJQUFJWSxHQUNmTCxFQUFRQyxNQUFNNU0sT0FBTzdFLElBQUk2UixPQUc5QkUsRUFBU2w2QixFQUFHa0UsTUFBTWxFLEVBQUkrQyxZQUNsQjYyQixNQUFNNU0sT0FBT2xxQyxJQUFJazNDLEVBQU1FLEtBQ3ZCTixNQUFNNU0sT0FBT3NNLE9BQU9LLEVBQVFDLE1BQU1FLElBQUlWLElBQUlZLElBQzNDRSxHQzdDWCxJQUVXQyxNQUZBLFdBQ1EsQ0FBQyxRQUFTLFNBQVUsU0FBVSxZQUFhLGNBQWUsaUJBQ0wxbkIsUUFDbEVwVCxNQUNGQSxFQUNBd2lCLGdCQUNBaHZCLFlBQ0E2ZixjQUNBRSxlQUNBOFosR0FDRWphLFNBZ0NHcFQsRUExQ0UsV0EwQ1UsQ0FDakIsR0FBSSxrQkFDdUIsV0FBbEIraUIsRUFBT3Z2QixPQUFzQkEsRUFBTyxJQUFNLElBRW5EODhCLE9BQVEsU0FBZ0JXLFVBQ2Z6OUIsRUFBT3k5QixJQUVoQjhKLHFCQUFzQixTQUF5Qi9QLFVBQ3RDZ1EsRUFBVWhRLEVBQU1BLEVBQXdCLFdBQWxCakksRUFBT3Z2QixPQUFzQixhQUFVLElBRXRFeW5DLDZCQUE4QixTQUErQmpRLEVBQU1pRyxVQUMxRCtKLEVBQVVoUSxFQUFNQSxFQUFNaUcsSUFFL0JpSyx5Q0FBMEMsU0FBd0NsUSxFQUFNbVEsVUFDL0VILEVBQVVoUSxFQUFNbVEsRUFBd0IsV0FBbEJwWSxFQUFPdnZCLE9BQXNCLGFBQVUsSUFFdEU0bkMsaURBQWtELFNBQThDcFEsRUFBTW1RLEVBQU1sSyxVQUNuRytKLEVBQVVoUSxFQUFNbVEsRUFBTWxLLElBRS9CcDFCLE1BQU8sU0FBZTlILFVBQ2JzbkMsRUFBZ0J0bkMsSUFFekJ1bkMsZ0JBQWlCLFNBQXFCdm5DLEVBQU1rOUIsVUFDbkNvSyxFQUFnQnRuQyxFQUFNazlCLElBRS9CeEksT0FBUSxTQUFnQjEwQixVQUNmc25DLEVBQWdCdG5DLEVBQUtpTCxVQUFXakwsRUFBSzIwQixZQUU5QzZTLGlCQUFrQixTQUFzQnhuQyxFQUFNazlCLFVBQ3JDb0ssRUFBZ0J0bkMsRUFBS2lMLFVBQVdpeUIsaUJBSWxCbDlCLEVBQU1rOUIsVUFDckJsOUIsRUFBSzVVLGFBQ04sU0FDSTh4QyxFQUFTejlCLEVBQU95OUIsR0FBVSxRQUU5QixTQUNJK0osRUFBVWpuQyxFQUFLLEdBQUlBLEVBQUssR0FBSWs5QixRQUVoQyxTQUNJK0osRUFBVWpuQyxFQUFLLEdBQUlBLEVBQUssR0FBSWs5QixpQkFHN0IsSUFBSW56QyxNQUFNLHFEQWFIa3RDLEVBQU1tUSxFQUFNbEssT0FFekJ1SyxFQUFNMStCLEdBQVlrdUIsSUFBU2x1QixHQUFZcStCLEdBQVE5bkIsRUFBWSxRQUMzRHZXLEdBQVlrdUIsT0FBY0EsRUFBSy9XLFlBQy9CblgsR0FBWXErQixPQUFjQSxFQUFLbG5CLGFBRTlCL0QsR0FBVThhLElBQVNBLEVBQU8sUUFDdkIsSUFBSWx0QyxNQUFNLGlFQUdib3lCLEdBQVVpckIsSUFBU0EsRUFBTyxRQUN2QixJQUFJcjlDLE1BQU0saUVBR2Q2N0IsRUFBTTZoQixFQUFNLElBQUlub0IsRUFBVSxHQUFLLEVBQy9CbEQsRUFBZXFyQixFQUFNLElBQUlBLEVBQUksR0FBSyxFQUNsQ3puQyxFQUFPLENBQUNpM0IsRUFBTW1RLE1BRWRsSyxFQUFRLElBRUssV0FBWEEsU0FDSzVELEVBQWF4QyxTQUFTOTJCLEVBQU00bEIsRUFBSyxFQUFHeEosTUFHOUIsVUFBWDhnQixTQUNLMWQsRUFBWXNYLFNBQVM5MkIsRUFBTTRsQixFQUFLLEVBQUd4SixTQUd0QyxJQUFJbFIsVUFBVSx3QkFBeUJ5RCxPQUFPdXVCLEVBQVEsY0FJMUR0TSxFQUFNb0UsR0FBTyxHQUFJaDFCLEVBQU1vYyxHQUV2QnNyQixFQUFVelEsRUFBT21RLEVBQU9uUSxFQUFPbVEsRUFFMUJ6dEMsRUFBSSxFQUFHQSxFQUFJK3RDLEVBQVMvdEMsTUFDdkJBLEdBQUdBLEdBQUtpc0IsU0FHUGdMLE1DaEpKLG9CQUNDLElBQUk3bUMsTUFBTSwyQ0FFWCxvQkFDQyxJQUFJQSxNQUFNLDBDQ0tYLFlBQXdCNmlCLEVBQUkxTCxFQUFPbFcsRUFBS0Msd0JBQ3ZCMDhDLFVBQ2QsSUFBSTc0QixZQUFZLHlEQUduQmxDLEdBQUtBLE9BQ0wxTCxNQUFRQSxPQUNScFcsSUFBTUUsT0FDTkQsSUFBTUUsT0FDTjR3QixRQUFVLHlDQUEyQ2pQLEVBQUssS0FBTzFMLEVBQVEsY0FBZ0JsVyxXQUEyQyxJQUFNQyxFQUFNLElBQU0sa0JBQ3RKNndCLE9BQVEsSUFBSS94QixPQUFRK3hCLE9BRTNCNnJCLEdBQWUzNkMsVUFBWSxJQUFJakQsTUFDL0I0OUMsR0FBZTM2QyxVQUFVaEQsWUFBY0QsTUFDdkM0OUMsR0FBZTM2QyxVQUFVMmUsS0FBTyxpQkFDaENnOEIsR0FBZTM2QyxVQUFVNDZDLGtCQUFtQixFQ3JCNUMsSUFFV0MsTUFGQSxPQUNRLENBQUMsUUFBUyxTQUFVLFlBQzZCeG9CLFFBQzlEcFQsTUFDRkEsRUFDQXdpQixnQkFDQWh2QixHQUNFNGYsU0F5QkdwVCxFQWhDRSxPQWdDVSxDQUNqQnlvQixPQUFRLFNBQWdCanJDLFVBQ2ZBLEVBQUU2dEIsT0FBTzd0QixFQUFFOHFDLFNBRXBCenNCLE1BQU9vVixHQUNQcWYsT0FBUSxTQUFnQjl5QyxVQUNHLFVBQWxCdWxDLEVBQU92dkIsT0FBcUIsQ0FBQ2hXLEVBQUUyQixRQUFVcVUsRUFBTyxDQUFDaFcsRUFBRTJCLFVBRTVEMDhDLHVEQUF3RCxTQUErQ3IrQyxVQUU1RSxVQUFsQnVsQyxFQUFPdnZCLE9BQXFCLEdBQUtBLEVBQVNBLEVBQU8sSUZ2Q3ZELGlCQUNDLElBQUkxVixNQUFNLHdDRXNDa0RnK0MsU0NuQ3BFLFlBQXlCNW1DLEVBQVFtSyxNQUUzQjA4QixHQUFjN21DLElBQVc4bUMsR0FBZTltQyxFQUFRbUssVUFDM0NuSyxFQUFPbUssTUFHWSxtQkFBakJuSyxFQUFPbUssSUFBd0I0OEIsR0FBYS9tQyxFQUFRbUssU0FDdkQsSUFBSXZoQixNQUFNLHlCQUEyQnVoQixFQUFPLHlCQUc5QyxJQUFJdmhCLE1BQU0sMEJBQTRCdWhCLEVBQU8sS0FjckQsWUFBeUJuSyxFQUFRbUssRUFBTTFoQixNQUVqQ28rQyxHQUFjN21DLElBQVc4bUMsR0FBZTltQyxFQUFRbUssWUFDM0NBLEdBQVExaEIsRUFDUkEsUUFHSCxJQUFJRyxNQUFNLDBCQUE0QnVoQixFQUFPLEtBVXJELFlBQXdCbkssRUFBUW1LLGFBQ3pCbkssR0FBNEIsaUJBQVhBLE9BTWxCL1gsR0FBZSsrQyxHQUFzQjc4QixNQU1yQ0EsS0FBUWhILE9BQU90WCxjQVNmc2UsS0FBUTg4QixTQUFTcDdDLFlBZ0N2QixZQUFzQm1VLEVBQVFrbkMsVUFDeEJsbkMsTUFBQUEsR0FBcUUsbUJBQW5CQSxFQUFPa25DLE9BT3pEai9DLEdBQWUrWCxFQUFRa25DLElBQVcvakMsT0FBTzBFLGdCQUFrQnEvQixLQUFVL2pDLE9BQU8wRSxlQUFlN0gsUUFNM0YvWCxHQUFlay9DLEdBQW1CRCxNQU1sQ0EsS0FBVS9qQyxPQUFPdFgsY0FTakJxN0MsS0FBVUQsU0FBU3A3QyxhQVV6QixZQUF1Qm1VLFVBQ0ksaUJBQVhBLEdBQXVCQSxHQUFVQSxFQUFPblgsY0FBZ0JzYSxPQUd4RSxJQUFJNmpDLEdBQXVCLENBQ3pCLzhDLFFBQVEsRUFDUnVnQixNQUFNLEdBRUoyOEIsR0FBb0IsQ0FDdEJsN0MsVUFBVSxFQUNWNmQsU0FBUyxFQUNUczlCLGdCQUFnQixHQ25KUEMsTUFGQSxTQUNRLENBQUMsUUFBUyxXQUN5Q25wQixRQUNoRXBULE1BQ0ZBLFNBQ0F4TSxHQUNFNGYsU0FvQ0dwVCxFQTFDRSxTQTBDVSxDQUVqQnc4QixlQUFnQixTQUFvQjcrQyxFQUFPRSxPQUVyQytxQyxFQURJcDFCLEVBQU83VixHQUNBaXJDLE9BQU8vcUMsVUFFZkEsRUFBTTJyQyxXQUFhWixFQUFTQSxFQUFPNXBCLFdBRTVDeTlCLGdCQUFpQixTQUFxQjkrQyxFQUFPRSxVQUNwQ0YsRUFBTWlyQyxPQUFPL3FDLElBRXRCNitDLGdCQUFpQkMsR0FDakJDLGdCQUFpQkMsR0FFakJDLG9CQUFxQixTQUF1Qm4vQyxFQUFPRSxFQUFPZ3JDLFVBQ2pEcjFCLEVBQU9zTCxHQUFNbmhCLElBQVFpckMsT0FBTy9xQyxFQUFPZ3JDLE9BQWEsR0FBVzdwQixXQUVwRSs5Qix5QkFBMEIsU0FBMEJwL0MsRUFBT0UsRUFBT2dyQyxFQUFhMVksVUFDdEUzYyxFQUFPc0wsR0FBTW5oQixJQUFRaXJDLE9BQU8vcUMsRUFBT2dyQyxFQUFhMVksR0FBY25SLFdBRXZFZytCLHFCQUFzQixTQUF3QnIvQyxFQUFPRSxFQUFPZ3JDLFVBQ25EbHJDLEVBQU1taEIsUUFBUThwQixPQUFPL3FDLEVBQU9nckMsSUFFckNvVSwwQkFBMkIsU0FBMkJ0L0MsRUFBT0UsRUFBT2dyQyxFQUFhMVksVUFDeEV4eUIsRUFBTW1oQixRQUFROHBCLE9BQU8vcUMsRUFBT2dyQyxFQUFhMVksSUFFbEQrc0Isd0JBQXlCQyxHQUN6QkMsZ0NBQWlDRCxHQUNqQ0UscUJBQXNCQyxRQVcxQixZQUF1QnI4QixFQUFLcGpCLE9BQ3JCMmYsR0FBUTNmLFNBRUwsSUFBSW9oQixVQUFVLHFCQUdNLElBQXhCcGhCLEVBQU15cUMsT0FBT25wQyxhQUNULElBQUl3d0IsR0FBZTl4QixFQUFNeXFDLE9BQU9ucEMsT0FBUSxPQUk1Q28rQyxFQUFTdDhCLEVBQUk5aEIsVUFDSHRCLEVBQU1nQixNQUFNLEdBQUkwK0MsTUFDaEIxL0MsRUFBTWlCLE1BQU0sR0FBSXkrQyxPQUMxQmg3QyxFQUFRMUUsRUFBTTZyQyxVQUFVLEdBQ3hCOFQsRUFBUyxZQUNQLzNCLFNBQVEsU0FBVXpuQixNQUNaaWpCLEVBQUl3TyxPQUFPenhCLE9BRWhCdy9DLEVBY1QsWUFBdUJ2OEIsRUFBS3BqQixFQUFPZ3JDLEVBQWExWSxPQUN6Q3R5QixJQUEyQixJQUFsQkEsRUFBTTJmLGNBRVosSUFBSXlCLFVBQVUscUJBR00sSUFBeEJwaEIsRUFBTXlxQyxPQUFPbnBDLGFBQ1QsSUFBSXd3QixHQUFlOXhCLEVBQU15cUMsT0FBT25wQyxPQUFRLFdBRzNCLElBQWpCZ3hCLE1BQzBCLGlCQUFqQkEsR0FBcUQsSUFBeEJBLEVBQWFoeEIsYUFDN0MsSUFBSThmLFVBQVUsb0RBR1AsUUFHYjFjLEVBQVExRSxFQUFNNnJDLFVBQVUsTUFDbEJubkMsRUFBTStsQyxPQUFPLEtBRVhPLEVBQVkxcEMsYUFDaEIsSUFBSXd3QixHQUFlcHRCLEVBQU0rbEMsT0FBTyxHQUFJTyxFQUFZMXBDLFlBSXBEbytDLEVBQVN0OEIsRUFBSTloQixVQUNIdEIsRUFBTWdCLE1BQU0sT0FDWmhCLEVBQU1pQixNQUFNLFlBRXRCMitDLEVBQVEsR0FFSHY4QyxFQUFJLEVBQUdBLEVBQUlxOEMsRUFBUXI4QyxNQUNwQkEsR0FBSytmLEVBQUl3TyxPQUFPdnVCLFFBR2xCdWtCLFNBQVEsU0FBVXpuQixFQUFHd2pDLEtBQ25CeGpDLEdBQUs2cUMsRUFBWXBaLE9BQU8rUixFQUFFLFFBRzlCaWMsRUFBTXQrQyxPQUFTbytDLFVBQ1J4TyxFQUFLd08sRUFBUyxFQUFHRyxFQUFPRCxFQUFNdCtDLE9BQVE0dkMsRUFBSzJPLEVBQU0zTyxJQUNuRDBPLEVBQU0xTyxPQUNIQSxHQUFNNWUsVUFLWHN0QixFQUFNdjhCLEtBQUssSUFXcEIsWUFBNEJoTSxFQUFRclgsTUFDTixJQUF4QkEsRUFBTXlxQyxPQUFPbnBDLGFBQ1QsSUFBSXd3QixHQUFlOXhCLEVBQU15cUMsT0FBUSxPQUdyQ2xwQixFQUFNdmhCLEVBQU02ckMsVUFBVSxNQUVQLGlCQUFSdHFCLFFBQ0gsSUFBSUgsVUFBVSxrRUFHZjArQixHQUFnQnpvQyxFQUFRa0ssR0FZakMsWUFBNEJsSyxFQUFRclgsRUFBT2dyQyxNQUNiLElBQXhCaHJDLEVBQU15cUMsT0FBT25wQyxhQUNULElBQUl3d0IsR0FBZTl4QixFQUFNeXFDLE9BQVEsT0FHckNscEIsRUFBTXZoQixFQUFNNnJDLFVBQVUsTUFFUCxpQkFBUnRxQixRQUNILElBQUlILFVBQVUsK0RBSWxCMitCLEVBQVU5K0IsR0FBTTVKLGFBQ0owb0MsRUFBU3grQixFQUFLeXBCLEdBQ3ZCK1UsRUNwTlQsSUFFV0MsTUFGQSxRQUNRLENBQUMsUUFBUyxTQUFVLFNBQVUsY0FDb0J6cUIsUUFDL0RwVCxNQUNGQSxFQUNBd2lCLGdCQUNBaHZCLFlBQ0E2ZixHQUNFRCxTQWlDR3BULEVBekNFLFFBeUNVLENBQ2pCLEdBQUksa0JBQ3VCLFVBQWxCK2lCLEVBQU92dkIsT0FBcUJzcUMsRUFBTyxJQUFNQSxFQUFPLEdBQUksWUFJN0RDLGlDQUFrQyxTQUErQmhxQyxNQUczQyxpQkFGVEEsRUFBS0EsRUFBSzVVLE9BQVMsR0FFQSxLQUN4Qjh4QyxFQUFTbDlCLEVBQUttYSxhQUNYNHZCLEVBQU8vcEMsRUFBTWs5QixVQUNPLFVBQWxCbE8sRUFBT3Z2QixPQUNUc3FDLEVBQU8vcEMsR0FFUCtwQyxFQUFPL3BDLEVBQU0sWUFHeEI4SCxNQUFPaWlDLEVBQ1ByVixPQUFRLFNBQWdCMTBCLE9BQ2xCazlCLEVBQVNsOUIsRUFBSzIwQixpQkFDWG9WLEVBQU8vcEMsRUFBS2lMLFVBQVdpeUIsSUFFaENFLHlCQUEwQixTQUEyQnA5QixFQUFNazlCLFVBQ2xENk0sRUFBTy9wQyxFQUFLaUwsVUFBV2l5QixpQkFXbEJsOUIsRUFBTWs5QixPQUdoQjlnQixXQTBCY3BjLE9BQ2RpcUMsR0FBZ0IsV0FDZnY0QixTQUFRLFNBQVU5bkIsRUFBT0UsRUFBT2lqQixHQUMvQmhFLEdBQVluZixRQUNFLElBQ1pFLEdBQVNGLEVBQU1zMkIsZ0JBR2hCK3BCLEVBcENhakgsQ0FBV2hqQyxHQUVJLElBQUlzZixFQUFVLEdBQUssY0FzQ3JDdGYsS0FDWjBSLFNBQVEsU0FBVTluQixNQUNBLGlCQUFWQSxJQUF1QnV5QixHQUFVdnlCLElBQVVBLEVBQVEsUUFDdEQsSUFBSUcsTUFBTSwrREF2Q1ZpVyxHQUVOazlCLEVBQVEsS0FFTnh5QyxFQUFJK1UsRUFBT3k5QixVQUVYbDlCLEVBQUs1VSxPQUFTLEVBQ1RWLEVBQUVzcUMsT0FBT2gxQixFQUFNb2MsR0FHakIxeEIsTUFHSHFpQixFQUFNLFVBRU4vTSxFQUFLNVUsT0FBUyxFQUNUNHBDLEdBQU9qb0IsRUFBSy9NLEVBQU1vYyxHQUdwQnJQLE1DcEdGbTlCLE1BRkEsU0FDUSxDQUFDLFVBQ2tEN3FCLFFBQ2hFcFQsTUFDRkEsR0FDRW9ULFNBdUdHcFQsRUE1R0UsU0E0R1UsQ0FDakJrK0IsSUFBS0MsR0FDTEMsa0NBQW1DRCxRQzNHNUJFLE1BRkEsVUFDUSxDQUFDLFNBQVUsYUFBYyxjQUMyQmpyQixRQUVuRWlkLE9BQVFpTyxZQUNSQyxFQUNBcHZCLFlBQ0VpRSxFQUNBb3JCLEVBQWtCLENBQ3BCbE8sUUFBUSxFQUNSRCxRQUFRLEVBQ1JoZCxXQUFXLEVBQ1hHLFVBQVUsR0FHUmlyQixFQUFtQixDQUNyQnBPLFVBQWFpTyxFQUFROWdELEdBQ3JCNjFCLFVBQVdrckIsS0FBaUJBLEVBQVUvZ0QsR0FBS2toRCxHQUMzQ2xyQixTQUFVbXJCLEtBQWdCQSxFQUFTbmhELEdBQUtvaEQsV0ErQm5DLFNBQWlCamhELEVBQU9raEQsT0FDekJDLEVBQVl2VixHQUFPNXJDLGFBRUo2Z0QsU0FDWCxJQUFJdi9CLFVBQVUsa0JBQW9CdGhCLEVBQVEsYUFBZW1oRCxFQUFZLDRCQUE4QnptQyxPQUFPcU4sS0FBSzg0QixHQUFpQnQ5QixLQUFLLGlCQUd6SHU5QixTQUNaLElBQUl4L0IsVUFBVSxrQkFBb0J0aEIsRUFBUSxhQUFla2hELEVBQWEsNkJBQStCeG1DLE9BQU9xTixLQUFLKzRCLEdBQWtCdjlCLEtBQUssY0FHNUkyOUIsSUFBZUMsRUFDVm5oRCxFQUVBOGdELEVBQWlCSSxHQUFZbGhELE9DOUQvQm9oRCxNQUZBLGVBQ1EsQ0FBQyxRQUFTLFlBQytDM3JCLFFBQ3RFcFQsTUFDRkEsRUFDQWcvQixXQUNFNXJCLFNBY0dwVCxFQXBCRSxlQW9CVSxDQUNqQndzQixpQkFBa0IsU0FBc0JodkMsRUFBR0MsVUFDbENELEVBQUlDLEdBRWJvdkMsbUJBQW9CLFNBQXdCcnZDLEVBQUdDLFVBQ3RDRCxFQUFFMjdCLElBQUkxN0IsSUFFZml2Qyx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUUyN0IsSUFBSTE3QixJQUVmbXZDLHFCQUFzQixTQUEwQnB2QyxFQUFHQyxVQUMxQ0QsRUFBRTI3QixJQUFJMTdCLElBRWZ3aEQsc0NBQXVDLFNBQXFDemhELEVBQUdDLE9BQ3pFa25DLEVBQU1ubkMsRUFBRXNoQixRQUVSNmEsRUFBTXVsQixFQUFRLEVBQUczVixHQUFPOXJDLGFBQ3hCRSxNQUFRRCxLQUFtQixPQUFkaW5DLEVBQUlobkMsTUFBaUJnbkMsRUFBSW9TLFdBQVdwZCxHQUFPZ0wsRUFBSWhuQyxNQUFPRixHQUNoRWtuQyxHQUVUd2Esc0NBQXVDLFNBQXFDM2hELEVBQUdDLE9BQ3pFa25DLEVBQU1sbkMsRUFBRXFoQixVQUNONmxCLEVBQUlqaUMsWUFFTmkzQixFQUFNdWxCLEVBQVEsRUFBRzNWLEdBQU8vckMsYUFDeEJHLE1BQVFELEtBQUtGLEVBQWUsT0FBWkMsRUFBRUUsTUFBaUJGLEVBQUVzNUMsV0FBV3BkLEdBQU9sOEIsRUFBRUUsT0FDdERnbkMsR0FFVG9JLGFBQWMsU0FBa0J2dkMsRUFBR0MsVUFDMUJELEVBQUVzN0IsT0FBT3I3QixTQzdDWDJoRCxNQUZBLE1BQ1EsQ0FBQyxRQUFTLFNBQVUsV0FBWSxXQUFZLFNBQVUsV0FBWSxTQUFVLFlBQzVCaHNCLFFBQzdEcFQsTUFDRkEsRUFDQXdpQixrQkFDQTZjLFdBQ0FwSSxTQUNBempDLFNBQ0E2OEIsRUFDQWxoQixXQUNBbUUsV0FDRUYsU0FrQ0dwVCxFQTlDRSxNQThDVSxDQUNqQndzQixpQkFBa0I4UyxFQUNsQnpTLG1CQUFvQixTQUF3QnJ2QyxFQUFHQyxVQUN0Q0QsRUFBRWtGLElBQUlqRixJQUVmaXZDLHVCQUF3QixTQUE0Qmx2QyxFQUFHQyxVQUNqREEsRUFBRXl5QixhQUFlMXlCLEdBQUssR0FBS3VsQyxFQUFPd2MsWUFDN0IvaEQsRUFBRWtGLElBQUlqRixHQUVOLElBQUl1MkIsRUFBUXgyQixFQUFFeTJCLFdBQVksR0FBR3Z4QixJQUFJakYsRUFBRXcyQixXQUFZLElBRzFEMlkscUJBQXNCLFNBQTBCcHZDLEVBQUdDLE1BQ3JDLElBQVJBLEVBQUVpUSxFQUFTLElBQ1RxMUIsRUFBT3djLGtCQUNILElBQUl6aEQsTUFBTSw2RUFFVHdoRCxFQUFLOWhELEVBQUV3aEIsVUFBV3ZoQixFQUFFdWhCLGtCQUd0QnhoQixFQUFFa0YsSUFBSWpGLElBR2pCK2hELGdCQUFpQkMsRUFDakJDLG1CQUFvQixTQUF3QmxpRCxFQUFHQyxVQUN0Q2dpRCxFQUFVamlELEVBQUdDLEVBQUV3MkIsYUFFeEIwckIsaUJBQWtCQyxFQUNsQkMsb0JBQXFCLFNBQXlCcmlELEVBQUdDLFVBQ3hDbWlELEVBQVdwaUQsRUFBR0MsRUFBRXcyQixhQUV6QjZyQiwyQkFBNEIsU0FBNkJ0aUQsRUFBR0MsVUFDbkRELEVBQUVrRixJQUFJakYsaUJBV0hELEVBQUdDLE1BR1hzbEMsRUFBT3djLGNBQWdCcnZCLEdBQVV6eUIsSUFBTUQsRUFBSSxVQUd2Q3VpRCxFQUFRcEIsRUFBU2xoRCxHQUNqQnVpRCxFQUFPM1AsRUFBTzBQLE9BRWR0aUQsSUFBTXVpRCxHQUFRcGhELEtBQUthLE9BQVN1Z0QsR0FBUXZpRCxHQUFLLFFBQ3ZDc2lELEVBQU1yeUMsRUFBSSxHQUFNLFlBQ0puTSxFQUFJLEdBQU0sRUFBSSxNQUFVM0MsS0FBSzhELEtBQUtsRixFQUFHQyxTQUdoRHdpRCxXQVFQbGQsRUFBT3djLG9CQUEwQjloRCxJQUFNaVcsRUFBQUEsR0FBWWxXLE1BQVVBLEVBQUksR0FBS0MsVUFDakVrNkIsSUFHTHpILEdBQVV6eUIsSUFBTUQsR0FBSyxHQUFLdWxDLEVBQU93YyxZQUM1QnZULEdBQVV4dUMsRUFBR0MsR0FLaEJELEVBQUlBLEVBQUksR0FBS0MsSUFBTWlXLEVBQUFBLEdBQVlsVyxFQUFJQSxFQUFJLEdBQUtDLFNBQ3ZDLEVBR0YsSUFBSXUyQixFQUFReDJCLEVBQUcsR0FBR2tGLElBQUlqRixFQUFHLGNBWWpCRCxFQUFHQyxPQUNmeXlCLEdBQVV6eUIsSUFBTUEsRUFBSSxRQUNqQixJQUFJd2hCLFVBQVUsbURBQXFEeGhCLEVBQUksU0FJM0VXLEVBQUlrcUMsR0FBSzlxQyxNQUVJLElBQWJZLEVBQUVlLGFBQ0UsSUFBSXJCLE1BQU0sMkNBQTZDTSxFQUFFZSxPQUFTLG1CQUd0RWYsRUFBRSxLQUFPQSxFQUFFLFNBQ1AsSUFBSU4sTUFBTSxzQ0FBd0NNLEVBQUUsR0FBSyxJQUFNQSxFQUFFLEdBQUssYUFHMUV1bUMsRUFBTTBhLEVBQVNqaEQsRUFBRSxJQUFJNGdCLFVBQ3JCd2MsRUFBS2grQixFQUVGQyxHQUFLLEdBQ00sSUFBUCxTQUNEdzVDLEVBQVN6YixFQUFJbUosUUFHZixJQUNEc1MsRUFBU3piLEVBQUlBLFVBR2JtSixhQVdXbm5DLEVBQUdDLFVBQ2QrVixFQUFPaXNDLEVBQVVqaUQsRUFBRXdoQixVQUFXdmhCLFFDckx6QyxZQUFpQnlYLEVBQVFnckMsT0FBc0J4NkIsRUFBT3JOLE9BQU9xTixLQUFLeFEsTUFBYW1ELE9BQU84bkMsc0JBQXVCLEtBQU1DLEVBQVUvbkMsT0FBTzhuQyxzQkFBc0JqckMsR0FBYWdyQyxNQUEwQkUsRUFBUXIrQixRQUFPLFNBQVVzK0IsVUFBY2hvQyxPQUFPaW9DLHlCQUF5QnByQyxFQUFRbXJDLEdBQUtFLGlCQUFxQnI2QixLQUFLckIsTUFBTWEsRUFBTTA2QixXQUFtQjE2QixFQUU5VSxZQUF1Qi9XLFdBQW1Cek4sRUFBSSxFQUFHQSxFQUFJOEssVUFBVTdNLE9BQVErQixJQUFLLEtBQU1vc0MsRUFBeUIsTUFBaEJ0aEMsVUFBVTlLLEdBQWE4SyxVQUFVOUssR0FBSyxHQUFRQSxFQUFJLEtBQWFtWCxPQUFPaTFCLElBQVMsR0FBTTduQixTQUFRLFNBQVVyRyxNQUF1QnpRLEVBQVF5USxFQUFLa3VCLEVBQU9sdUIsUUFBc0IvRyxPQUFPbW9DLGlDQUFvQ0MsaUJBQWlCOXhDLEVBQVEwSixPQUFPbW9DLDBCQUEwQmxULE9BQTJCajFCLE9BQU9pMUIsSUFBUzduQixTQUFRLFNBQVVyRyxVQUFjZ0wsZUFBZXpiLEVBQVF5USxFQUFLL0csT0FBT2lvQyx5QkFBeUJoVCxFQUFRbHVCLGdCQUFzQnpRLEVBRTdnQixZQUF5Qml5QixFQUFLeGhCLEVBQUt6aEIsVUFBYXloQixLQUFPd2hCLFNBQWN4VyxlQUFld1csRUFBS3hoQixFQUFLLENBQUV6aEIsTUFBQUEsRUFBYzRpRCxZQUFZLEVBQU1HLGNBQWMsRUFBTUMsVUFBVSxNQUFzQnZoQyxHQUFPemhCLEVBQWdCaWpDLEVBUzNNLElBQUlnZ0IsR0FBUywwREFHRkMsTUFGQSxRQUNRLENBQUMsUUFBUyxTQUFVLGNBQWUsUUFBUyxZQUFhLGdCQUNQenRCLFFBQy9EcFQsTUFDRkEsU0FDQXhNLGNBQ0E0NUIsRUFDQS9mLGtCQUNBZ0csY0FDQUUsR0FDRUgsRUFDQXlmLEVBQWNsQixHQUFrQixDQUNsQzN4QixNQUFBQSxFQUNBb3RCLFlBQUFBLElBRUUwSSxFQUFjSixHQUFrQixDQUNsQzExQixNQUFBQSxFQUNBdVQsWUFBQUEsSUFFRXVmLEVBQWNWLEdBQWtCLENBQ2xDcHlCLE1BQUFBLFdBc0NLQSxFQTFERSxRQTBEVThnQyxHQUFjQSxHQUFjLEdBQUlDLElBQXdCLEdBQUksQ0FDN0V6dEIsUUFBUyxTQUFpQjkxQixVQUNqQkEsRUFBRStCLFNBRVgwekMsa0JBQW1CLFNBQXVCejFDLEVBQUcrRCxNQUN2Q0EsRUFBSSxRQUNBLElBQUkwZCxVQUFVMmhDLFdBR2ZwakQsRUFBRStCLE1BQU1nQyxJQUVqQnkvQyxxQkFBc0IsU0FBMEJ4akQsRUFBRytELE9BQzVDQSxFQUFFMnVCLGtCQUNDLElBQUlqUixVQUFVMmhDLFFBR2xCSyxFQUFLMS9DLEVBQUUweUIsa0JBRUp6MkIsRUFBRStCLE1BQU0waEQsSUFFakJDLG9CQUFxQixTQUF5QjFqRCxFQUFHK0QsT0FDMUNBLEVBQUUydUIsa0JBQ0MsSUFBSWpSLFVBQVUyaEMsV0FHZixJQUFJdnRCLEVBQVU3MUIsR0FBR2dnQyxnQkFBZ0JqOEIsRUFBRTB5QixhQUU1Q1osVUFBVyxTQUFtQjcxQixVQUNyQkEsRUFBRWdnQyxnQkFBZ0IsSUFFM0JrUCx1QkFBd0IsU0FBNEJsdkMsRUFBRytELE9BQ2hEQSxFQUFFMnVCLGtCQUNDLElBQUlqUixVQUFVMmhDLFdBR2ZwakQsRUFBRWdnQyxnQkFBZ0JqOEIsRUFBRTB5QixhQUU3QlQsU0FBVSxTQUFrQmgyQixVQUNuQkEsRUFBRStCLFNBRVgyekMsbUJBQW9CLFNBQXdCMTFDLEVBQUcrRCxNQUN6Q0EsRUFBSSxRQUNBLElBQUkwZCxVQUFVMmhDLFdBR2ZwakQsRUFBRStCLE1BQU1nQyxJQUVqQjhxQyxpQkFBa0IsU0FBcUI3dUMsVUFFOUIrdEMsR0FBUS90QyxFQUFHRSxPQUVwQjAxQyxtQ0FBb0MsU0FBcUM1MUMsRUFBR0MsVUFDbkVvMUMsRUFBWXIxQyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDMjFDLGtDQUFtQyxTQUFvQzcxQyxFQUFHQyxVQUNqRXExQyxFQUFZdDFDLEVBQUdDLEVBQUdDLE1BQU0sSUFFakN5akQsNkNBQThDLFNBQTRDM2pELEVBQUdDLFVBRXZGMnZDLEVBQVk1dkMsRUFBRyxHQUVWbXdCLEVBQU1sd0IsRUFBRTZxQyxPQUFRN3FDLEVBQUVpckMsV0FHcEJvTixFQUFZcjRDLEVBQUdELEVBQUdFLE1BQU0sSUFFakMwakQsNENBQTZDLFNBQTJDNWpELEVBQUdDLFVBRXJGMnZDLEVBQVk1dkMsRUFBRyxHQUVWbXdCLEVBQU1sd0IsRUFBRTZxQyxPQUFRN3FDLEVBQUVpckMsV0FHcEJvSyxFQUFZcjFDLEVBQUdELEVBQUdFLE1BQU0sSUFFakMyakQsNEJBQTZCLFNBQThCN2pELEVBQUdDLFVBRXJEcTFDLEVBQVl0L0IsRUFBT2hXLEdBQUlDLEVBQUdDLE1BQU0sR0FBT3NoQixXQUVoRHMwQixzQ0FBdUMsU0FBcUM5MUMsRUFBR0MsVUFFdEVxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBR0UsTUFBTSxHQUFNc2hCLGlCQUkvQytoQyxHQUF3QixDQUMxQjFRLE9BQVFwRSxHQUNSTyxpQkFBa0IsU0FBc0JodkMsRUFBRytELE9BQ3BDMnVCLEdBQVUzdUIsU0FDUCxJQUFJMGQsVUFBVTJoQyxPQUdsQnIvQyxFQUFJLEdBQUtBLEVBQUksU0FDVCxJQUFJekQsTUFBTSwyRUFHWG11QyxHQUFZenVDLEVBQUcrRCxLQ2hLZisvQyxNQUZBLFFBQ1EsQ0FBQyxRQUFTLFNBQVUsY0FBZSxnQkFDZWx1QixRQUMvRHBULE1BQ0ZBLFNBQ0F4TSxjQUNBNDVCLGNBQ0E3WixHQUNFSCxFQUNBd2lCLEVBQWNQLEdBQWtCLENBQ2xDcjFCLE1BQUFBLElBRUV1aEMsRUFBY2pJLEdBQWtCLENBQ2xDdDVCLE1BQUFBLEVBQ0F1VCxZQUFBQSxJQUVFdWlCLEVBQWNKLEdBQWtCLENBQ2xDMTFCLE1BQUFBLEVBQ0F1VCxZQUFBQSxJQUVFd2lCLEVBQWNmLEdBQWtCLENBQ2xDaDFCLE1BQUFBLElBRUU4eUIsRUFBY1YsR0FBa0IsQ0FDbENweUIsTUFBQUEsV0ErQ0tBLEVBdkVFLFFBdUVVLENBQ2pCKzRCLFdBQVksU0FBZ0J2N0MsRUFBR0MsVUFFbkIsT0FBTkQsRUFDVyxPQUFOQyxFQUdDLE9BQU5BLEVBQ1csT0FBTkQsT0FHQyxJQUFOQSxPQUNXLElBQU5DLE9BR0MsSUFBTkEsT0FDVyxJQUFORCxFQUdGNHZDLEVBQVk1dkMsRUFBR0MsSUFFeEJ1NEMsNkJBQThCLFNBQWtDeDRDLEVBQUdDLFVBQzFEOGpELEVBQVkvakQsRUFBR0MsRUFBRzJ2QyxJQUUzQjZJLDRCQUE2QixTQUFpQ3o0QyxFQUFHQyxVQUN4RG00QyxFQUFZbjRDLEVBQUdELEVBQUc0dkMsR0FBYSxJQUV4QzhJLDRCQUE2QixTQUFpQzE0QyxFQUFHQyxVQUN4RG00QyxFQUFZcDRDLEVBQUdDLEVBQUcydkMsR0FBYSxJQUV4QytJLDJCQUE0QixTQUFnQzM0QyxFQUFHQyxVQUN0RHM0QyxFQUFZdjRDLEVBQUdDLEVBQUcydkMsSUFFM0JnSixlQUFnQixTQUFvQjU0QyxFQUFHQyxVQUU5QkMsS0FBSzhWLEVBQU9oVyxHQUFJZ1csRUFBTy9WLElBQUl1aEIsV0FFcENxM0IsZ0JBQWlCLFNBQXFCNzRDLEVBQUdDLFVBRWhDQyxLQUFLOFYsRUFBT2hXLEdBQUlDLElBRXpCNjRDLGdCQUFpQixTQUFxQjk0QyxFQUFHQyxVQUVoQ0MsS0FBS0YsRUFBR2dXLEVBQU8vVixLQUV4Qjg0QyxvQkFBcUIsU0FBeUIvNEMsRUFBR0MsVUFDeENxNEMsRUFBWXQ0QyxFQUFHQyxFQUFHMnZDLEdBQWEsSUFFeENvSixtQkFBb0IsU0FBd0JoNUMsRUFBR0MsVUFDdENxMUMsRUFBWXQxQyxFQUFHQyxFQUFHMnZDLEdBQWEsSUFFeENxSixvQkFBcUIsU0FBeUJqNUMsRUFBR0MsVUFDeENxNEMsRUFBWXI0QyxFQUFHRCxFQUFHNHZDLEdBQWEsSUFFeENzSixtQkFBb0IsU0FBd0JsNUMsRUFBR0MsVUFDdENxMUMsRUFBWXIxQyxFQUFHRCxFQUFHNHZDLEdBQWEsSUFFeEN1SixhQUFjLFNBQWtCbjVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBT2hXLEdBQUlDLEVBQUcydkMsR0FBYSxHQUFPcHVCLFdBRXZENDNCLGFBQWMsU0FBa0JwNUMsRUFBR0MsVUFFMUJxMUMsRUFBWXQvQixFQUFPL1YsR0FBSUQsRUFBRzR2QyxHQUFhLEdBQU1wdUIsZ0JBSTNCaXVCLEdBMUlwQixRQTBJa0MsQ0FBQyxRQUFTLGdCQUFpQkMsUUFDbEVsdEIsTUFDRkEsY0FDQW90QixHQUNFRixTQUNHbHRCLEVBL0lFLFFBK0lVLENBQ2pCKzRCLFdBQVksU0FBZ0J2N0MsRUFBR0MsVUFFbkIsT0FBTkQsRUFDVyxPQUFOQyxFQUdDLE9BQU5BLEVBQ1csT0FBTkQsT0FHQyxJQUFOQSxPQUNXLElBQU5DLE9BR0MsSUFBTkEsT0FDVyxJQUFORCxFQUdGNHZDLEVBQVk1dkMsRUFBR0MsU0NoSzVCLElBRVcrakQsTUFGQSxVQUNRLENBQUMsUUFBUyxTQUFVLFNBQVUsZ0JBQ3NCcHVCLFFBQ2pFcFQsTUFDRkEsRUFDQXdpQixnQkFDQWh2QixjQUNBK2YsR0FDRUgsRUFDQXdpQixFQUFjUCxHQUFrQixDQUNsQ3IxQixNQUFBQSxJQUVFdWhDLEVBQWNqSSxHQUFrQixDQUNsQ3Q1QixNQUFBQSxFQUNBdVQsWUFBQUEsSUFFRXVpQixFQUFjSixHQUFrQixDQUNsQzExQixNQUFBQSxFQUNBdVQsWUFBQUEsSUFFRXdpQixFQUFjZixHQUFrQixDQUNsQ2gxQixNQUFBQSxJQUVFOHlCLEVBQWNWLEdBQWtCLENBQ2xDcHlCLE1BQUFBLFdBa0NLQSxFQTFERSxVQTBEVSxDQUNqQnVzQixtQkFBb0IsU0FBd0IvdUMsRUFBR0MsVUFDdENELEVBQUlDLEdBRWIrdUMsaUJBQWtCLFNBQXNCaHZDLEVBQUdDLFVBQ2xDRCxFQUFJQyxJQUFNZ3ZDLEdBQVlqdkMsRUFBR0MsRUFBR3NsQyxFQUFPM1UsVUFFNUNzZSx1QkFBd0IsU0FBNEJsdkMsRUFBR0MsVUFDOUNELEVBQUVzK0IsR0FBR3IrQixLQUFPa3ZDLEdBQWVudkMsRUFBR0MsRUFBR3NsQyxFQUFPM1UsVUFFakR3ZSxxQkFBc0IsU0FBMEJwdkMsRUFBR0MsZUFDMUNELEVBQUVnaUMsUUFBUS9oQyxJQUVuQm92QyxtQkFBb0IsU0FBd0JydkMsRUFBR0MsU0FDdkMsSUFBSXdoQixVQUFVLHdEQUV0Qjh0QixhQUFjLFNBQWtCdnZDLEVBQUdDLE9BQzVCRCxFQUFFd3ZDLFVBQVV2dkMsU0FDVCxJQUFJSyxNQUFNLG1EQUdYSixLQUFLRixFQUFFRyxNQUFPRixFQUFFRSxRQUV6QnE0Qyw2QkFBOEIsU0FBa0N4NEMsRUFBR0MsVUFDMUQ4akQsRUFBWS9qRCxFQUFHQyxFQUFHQyxPQUUzQnU0Qyw0QkFBNkIsU0FBaUN6NEMsRUFBR0MsVUFDeERtNEMsRUFBWW40QyxFQUFHRCxFQUFHRSxNQUFNLElBRWpDdzRDLDRCQUE2QixTQUFpQzE0QyxFQUFHQyxVQUN4RG00QyxFQUFZcDRDLEVBQUdDLEVBQUdDLE1BQU0sSUFFakN5NEMsMkJBQTRCLFNBQWdDMzRDLEVBQUdDLFVBQ3REczRDLEVBQVl2NEMsRUFBR0MsRUFBR0MsT0FFM0IwNEMsZUFBZ0IsU0FBb0I1NEMsRUFBR0MsVUFFOUJDLEtBQUs4VixFQUFPaFcsR0FBSWdXLEVBQU8vVixJQUFJdWhCLFdBRXBDcTNCLGdCQUFpQixTQUFxQjc0QyxFQUFHQyxVQUVoQ0MsS0FBSzhWLEVBQU9oVyxHQUFJQyxJQUV6QjY0QyxnQkFBaUIsU0FBcUI5NEMsRUFBR0MsVUFFaENDLEtBQUtGLEVBQUdnVyxFQUFPL1YsS0FFeEI4NEMsb0JBQXFCLFNBQXlCLzRDLEVBQUdDLFVBQ3hDcTRDLEVBQVl0NEMsRUFBR0MsRUFBR0MsTUFBTSxJQUVqQzg0QyxtQkFBb0IsU0FBd0JoNUMsRUFBR0MsVUFDdENxMUMsRUFBWXQxQyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDKzRDLG9CQUFxQixTQUF5Qmo1QyxFQUFHQyxVQUN4Q3E0QyxFQUFZcjRDLEVBQUdELEVBQUdFLE1BQU0sSUFFakNnNUMsbUJBQW9CLFNBQXdCbDVDLEVBQUdDLFVBQ3RDcTFDLEVBQVlyMUMsRUFBR0QsRUFBR0UsTUFBTSxJQUVqQ2k1QyxhQUFjLFNBQWtCbjVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBT2hXLEdBQUlDLEVBQUdDLE1BQU0sR0FBT3NoQixXQUVoRDQzQixhQUFjLFNBQWtCcDVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBTy9WLEdBQUlELEVBQUdFLE1BQU0sR0FBTXNoQixnQkN6SHhDeWlDLE1BRkEsU0FDUSxDQUFDLFFBQVMsU0FBVSxTQUFVLGdCQUNxQnJ1QixRQUNoRXBULE1BQ0ZBLEVBQ0F3aUIsZ0JBQ0FodkIsY0FDQStmLEdBQ0VILEVBQ0F3aUIsRUFBY1AsR0FBa0IsQ0FDbENyMUIsTUFBQUEsSUFFRXVoQyxFQUFjakksR0FBa0IsQ0FDbEN0NUIsTUFBQUEsRUFDQXVULFlBQUFBLElBRUV1aUIsRUFBY0osR0FBa0IsQ0FDbEMxMUIsTUFBQUEsRUFDQXVULFlBQUFBLElBRUV3aUIsRUFBY2YsR0FBa0IsQ0FDbENoMUIsTUFBQUEsSUFFRTh5QixFQUFjVixHQUFrQixDQUNsQ3B5QixNQUFBQSxXQWtDS0EsRUExREUsU0EwRFUsQ0FDakJ1c0IsbUJBQW9CLFNBQXdCL3VDLEVBQUdDLFVBQ3RDRCxFQUFJQyxHQUViK3VDLGlCQUFrQixTQUFzQmh2QyxFQUFHQyxVQUNsQ0QsRUFBSUMsSUFBTWd2QyxHQUFZanZDLEVBQUdDLEVBQUdzbEMsRUFBTzNVLFVBRTVDc2UsdUJBQXdCLFNBQTRCbHZDLEVBQUdDLFVBQzlDRCxFQUFFOHdCLEdBQUc3d0IsS0FBT2t2QyxHQUFlbnZDLEVBQUdDLEVBQUdzbEMsRUFBTzNVLFVBRWpEd2UscUJBQXNCLFNBQTBCcHZDLEVBQUdDLFVBQ3pCLElBQWpCRCxFQUFFZ2lDLFFBQVEvaEMsSUFFbkJvdkMsbUJBQW9CLGlCQUNaLElBQUk1dEIsVUFBVSx3REFFdEI4dEIsYUFBYyxTQUFrQnZ2QyxFQUFHQyxPQUM1QkQsRUFBRXd2QyxVQUFVdnZDLFNBQ1QsSUFBSUssTUFBTSxtREFHWEosS0FBS0YsRUFBRUcsTUFBT0YsRUFBRUUsUUFFekJxNEMsNkJBQThCLFNBQWtDeDRDLEVBQUdDLFVBQzFEOGpELEVBQVkvakQsRUFBR0MsRUFBR0MsT0FFM0J1NEMsNEJBQTZCLFNBQWlDejRDLEVBQUdDLFVBQ3hEbTRDLEVBQVluNEMsRUFBR0QsRUFBR0UsTUFBTSxJQUVqQ3c0Qyw0QkFBNkIsU0FBaUMxNEMsRUFBR0MsVUFDeERtNEMsRUFBWXA0QyxFQUFHQyxFQUFHQyxNQUFNLElBRWpDeTRDLDJCQUE0QixTQUFnQzM0QyxFQUFHQyxVQUN0RHM0QyxFQUFZdjRDLEVBQUdDLEVBQUdDLE9BRTNCMDRDLGVBQWdCLFNBQW9CNTRDLEVBQUdDLFVBRTlCQyxLQUFLOFYsRUFBT2hXLEdBQUlnVyxFQUFPL1YsSUFBSXVoQixXQUVwQ3EzQixnQkFBaUIsU0FBcUI3NEMsRUFBR0MsVUFFaENDLEtBQUs4VixFQUFPaFcsR0FBSUMsSUFFekI2NEMsZ0JBQWlCLFNBQXFCOTRDLEVBQUdDLFVBRWhDQyxLQUFLRixFQUFHZ1csRUFBTy9WLEtBRXhCODRDLG9CQUFxQixTQUF5Qi80QyxFQUFHQyxVQUN4Q3E0QyxFQUFZdDRDLEVBQUdDLEVBQUdDLE1BQU0sSUFFakM4NEMsbUJBQW9CLFNBQXdCaDVDLEVBQUdDLFVBQ3RDcTFDLEVBQVl0MUMsRUFBR0MsRUFBR0MsTUFBTSxJQUVqQys0QyxvQkFBcUIsU0FBeUJqNUMsRUFBR0MsVUFDeENxNEMsRUFBWXI0QyxFQUFHRCxFQUFHRSxNQUFNLElBRWpDZzVDLG1CQUFvQixTQUF3Qmw1QyxFQUFHQyxVQUN0Q3ExQyxFQUFZcjFDLEVBQUdELEVBQUdFLE1BQU0sSUFFakNpNUMsYUFBYyxTQUFrQm41QyxFQUFHQyxVQUUxQnExQyxFQUFZdC9CLEVBQU9oVyxHQUFJQyxFQUFHQyxNQUFNLEdBQU9zaEIsV0FFaEQ0M0IsYUFBYyxTQUFrQnA1QyxFQUFHQyxVQUUxQnExQyxFQUFZdC9CLEVBQU8vVixHQUFJRCxFQUFHRSxNQUFNLEdBQU1zaEIsZ0JDaEl4QzBpQyxNQUZBLGdCQUNRLENBQUMsVUFBVyxXQUNtRHR1QixRQUM1RXV1QixRQUNGQSxTQUNBQyxHQUNFeHVCLEVBQ0F5dUIsRUFBZ0IsRUFBTWpqRCxLQUFLK0QsT0FBVy9ELEtBQUtZLEtBQUssSUFBUSxxQ0FRcENzaUQsU0FDZCxJQUFJai9CLFlBQVkseURBSW5Cay9CLFNBQVcsVUFDWDNZLE1BQVEsY0E4TERxUyxFQUFTdUcsRUFBTUMsS0FFdEJodkMsS0FBS0MsTUFBUTh1QyxFQUFLOXVDLFFBQ2xCQSxNQUFNRCxLQUFPK3VDLEVBQUsvdUMsT0FDaEJpdkMsU0FFSEQsRUFBT2h5QixRQUFVK3hCLE1BQ1oveEIsTUFBUSt4QixFQUFLOXVDLE9BSUEsSUFBbEIrdUMsRUFBT0MsV0FDRmp5QixNQUFRLFFBSVpoZCxLQUFPd29DLElBQ1B2b0MsTUFBUXVvQyxFQUFRdm9DLFFBQ2JBLE1BQVE4dUMsSUFDWDl1QyxNQUFNRCxLQUFPK3VDLElBRWJDLE9BQVMsT0FFVHhOLE1BQU8sY0FVU2dILEVBQVN1RyxPQUUxQkMsRUFBU0QsRUFBS0MsT0FFYkEsSUFLQUQsRUFBS3ZOLFFBSUhnSCxFQUFTdUcsRUFBTUMsS0FHTkEsTUFOVHhOLE1BQU8sTUFsT0YxekMsVUFBVThkLEtBQU8sa0JBQ2pCOWQsVUFBVW9oRCxpQkFBa0IsSUFRNUJwaEQsVUFBVXFoRCxPQUFTLFNBQVVoakMsRUFBS3poQixPQUUxQ3FrRCxFQUFPLENBQ1Q1aUMsSUFBQUEsRUFDQXpoQixNQUFBQSxFQUNBdWtELE9BQVEsTUFHTnhrRCxLQUFLcWtELFNBQVUsS0FFYnRHLEVBQVUvOUMsS0FBS3FrRCxXQUVkOXVDLEtBQU93b0MsSUFDUHZvQyxNQUFRdW9DLEVBQVF2b0MsUUFDYkEsTUFBUTh1QyxJQUNYOXVDLE1BQU1ELEtBQU8rdUMsRUFFZEwsRUFBUXZpQyxFQUFLcThCLEVBQVFyOEIsWUFFbEIyaUMsU0FBV0MsV0FJYi91QyxLQUFPK3VDLElBQ1A5dUMsTUFBUTh1QyxPQUVSRCxTQUFXQyxjQUliNVksUUFFRTRZLEtBUUtqaEQsVUFBVXVuQyxLQUFPLGtCQUN0QjVxQyxLQUFLMHJDLFNBUUFyb0MsVUFBVW01QyxNQUFRLGdCQUN6QjZILFNBQVcsVUFDWDNZLE1BQVEsTUFRRHJvQyxVQUFVb1QsUUFBVSxrQkFDVixJQUFmelcsS0FBSzByQyxTQVNBcm9DLFVBQVVzaEQsZUFBaUIsZUFFbkNMLEVBQU90a0QsS0FBS3FrRCxZQUVILE9BQVRDLFNBQ0tBLFVBSUx2RyxFQUFVLzlDLEtBQUtxa0QsU0FFZk8sRUFBbUJOLEVBQUtFLE9BRXhCMWtELEVBQUl3a0QsRUFBSy94QixNQUVOcXlCLEVBQW1CLEdBQUcsS0FFdkJDLEVBQVkva0QsRUFBRTBWLFFBRWhCRCxLQUFLQyxNQUFRMVYsRUFBRTBWLFFBQ2ZBLE1BQU1ELEtBQU96VixFQUFFeVYsT0FFZkEsS0FBT3dvQyxJQUNQdm9DLE1BQVF1b0MsRUFBUXZvQyxRQUNWQSxNQUFRMVYsSUFDZDBWLE1BQU1ELEtBQU96VixJQUVieWtELE9BQVMsT0FDUE0sZ0JBS0R0dkMsS0FBS0MsTUFBUTh1QyxFQUFLOXVDLFFBQ2xCQSxNQUFNRCxLQUFPK3VDLEVBQUsvdUMsT0FFbkIrdUMsSUFBU0EsRUFBSzl1QyxNQUVOLGNBcUpZdW9DLEVBQVMxbkMsT0FvQjdCdFcsRUFsQkEra0QsRUFBWTVqRCxLQUFLUyxNQUFNVCxLQUFLK0QsSUFBSW9SLEdBQVE4dEMsR0FBaUIsRUFFekQxaEQsRUFBUSxJQUFJMGIsTUFBTTJtQyxHQUVsQkMsRUFBVyxFQUNYamxELEVBQUlpK0MsS0FFSmorQyxZQUVFQSxFQUFFMFYsTUFFQzFWLElBQU1pK0MsU0FFUGorQyxFQUFFMFYsV0FPSHV2QyxFQUFXLEdBQUcsU0FFZi8wQyxFQUFJbFEsRUFBRTBrRCxPQUVOeHdCLEVBQU9sMEIsRUFBRTBWLFFBSVAvUyxFQUFNdU4sSUFGQyxJQVNQazBDLEVBQU9wa0QsRUFBRTRoQixJQUFLM2hCLEVBQUUyaEIsS0FBTSxLQUNwQm9mLEVBQU8vZ0MsSUFDUEQsSUFDQWdoQyxLQUlLL2dDLEVBQUdELEtBR1JrUSxHQUFLLFlBS1BBLEdBQUtsUSxJQUVQazBCLFNBS0ksYUFFRHh3QixFQUFJLEVBQUdBLEVBQUlzaEQsRUFBV3RoRCxPQUV6QmYsRUFBTWUsTUFPTnU2QyxLQUVBeG9DLEtBQUtDLE1BQVF6VixFQUFFeVYsUUFDZkEsTUFBTUQsS0FBT3hWLEVBQUV3VixPQUVmQSxLQUFPd29DLElBQ1B2b0MsTUFBUXVvQyxFQUFRdm9DLFFBQ1ZBLE1BQVF6VixJQUNkeVYsTUFBTUQsS0FBT3hWLEVBRVhra0QsRUFBUWxrRCxFQUFFMmhCLElBQUtxOEIsRUFBUXI4QixTQUNmM2hCLE1BR0ZBLFVBSVBnK0MsRUF4T0tpSCxHQUZBVixFQUFLOXVDLE1BRXFCeFYsS0FBSzByQyxZQUl0Q0EsYUFFQTJZLFNBQVd0RyxFQUVUdUcsS0FXS2poRCxVQUFVNGhELE9BQVMsU0FBVVgsUUFFcENELGtCQVlldEcsRUFBU3VHLEVBQU01aUMsS0FFOUJBLElBQU1BLE1BRVA2aUMsRUFBU0QsRUFBS0MsT0FFZEEsR0FBVU4sRUFBUUssRUFBSzVpQyxJQUFLNmlDLEVBQU83aUMsU0FFaENxOEIsRUFBU3VHLEVBQU1DLEtBR054RyxFQUFTd0csSUFJckJOLEVBQVFLLEVBQUs1aUMsSUFBS3E4QixFQUFRcjhCLFNBQ2xCNGlDLFVBSUx2RyxFQWhDU21ILENBQWFsbEQsS0FBS3FrRCxTQUFVQyxXQUV2Q0ssdUJBaUdIUSxFQUFhLFNBQW9CYixFQUFNQyxLQUVwQ2h2QyxLQUFLQyxNQUFROHVDLEVBQUs5dUMsUUFDbEJBLE1BQU1ELEtBQU8rdUMsRUFBSy91QyxPQUVsQmd2QyxPQUFTQSxFQUVUQSxFQUFPaHlCLFNBS0xoZCxLQUFPZ3ZDLEVBQU9oeUIsUUFDZC9jLE1BQVErdUMsRUFBT2h5QixNQUFNL2MsUUFDbkIrYyxNQUFNL2MsTUFBUTh1QyxJQUNoQjl1QyxNQUFNRCxLQUFPK3VDLE1BUFgveEIsTUFBUSt4QixJQUNWOXVDLE1BQVE4dUMsSUFDUi91QyxLQUFPK3VDLEtBU1BFLFdBRUZ6TixNQUFPLFdBOEZQcU4sSUFDTixDQUNEbnRCLFNBQVMsSUNoWUFtdUIsTUFGQSxNQUNRLENBQUMsWUFBYSxjQUFlLGtCQUN3QjF2QixRQUNsRTllLFVBQ0ZBLGNBQ0E4NEIsZ0JBQ0EwVSxHQUNFMXVCLG9DQU9vQjJ2QixTQUNkLElBQUlsZ0MsWUFBWSx5REFJbkIwcUIsUUFBVSxRQUNWeVYsTUFBUSxJQUFJbEIsWUFPZi9nRCxVQUFVOGQsS0FBTyxRQUNqQjlkLFVBQVVraUQsT0FBUSxJQVFsQmxpRCxVQUFVMEMsSUFBTSxTQUFVdkMsRUFBR2xELE1BRTFCTixLQUFLNnZDLFFBQVFyc0MsUUFRWHFzQyxRQUFRcnNDLEdBQUd2RCxNQUFRSyxPQVJKLEtBRWhCZ2tELEVBQU90a0QsS0FBS3NsRCxNQUFNWixPQUFPbGhELEVBQUdsRCxRQUczQnV2QyxRQUFRcnNDLEdBQUs4Z0QsT0FPbEJqaEQsVUFBVStuQyxJQUFNLFNBQVU1bkMsT0FDeEI4Z0QsRUFBT3RrRCxLQUFLNnZDLFFBQVFyc0MsVUFFcEI4Z0QsRUFDS0EsRUFBS3JrRCxNQUdQLEtBR0xvRCxVQUFVbWlELFdBQWEsU0FBVWhpRCxFQUFHbEQsT0FFbENna0QsRUFBT3RrRCxLQUFLNnZDLFFBQVFyc0MsR0FFbkI4Z0QsSUFPRXJrRCxNQUFRMlcsRUFBVTB0QyxFQUFLcmtELE1BQU9LLE1BTDVCTixLQUFLc2xELE1BQU1aLE9BQU9saEQsRUFBR2xELFFBRXZCdXZDLFFBQVFyc0MsR0FBSzhnRCxPQU9sQmpoRCxVQUFVMGtCLFFBQVUsU0FBVXJFLEVBQU1HLEVBQUkzWSxPQUV0Q3U2QyxFQUFPemxELEtBQUtzbEQsTUFDWjVVLEVBQVMxd0MsS0FBSzZ2QyxRQUVkNlYsRUFBUSxHQUVScEIsRUFBT21CLEVBQUtkLHFCQUVaTCxLQUNJOTdCLEtBQUs4N0IsR0FJTkEsR0FBUUEsRUFBSzVpQyxLQUFPbUMsR0FFckJ5Z0MsRUFBSzVpQyxLQUFPZ0MsSUFFVGdzQixFQUFZNFUsRUFBS3JrRCxNQUFPLE1BRWxCcWtELEVBQUs1aUMsSUFBSzRpQyxFQUFLcmtELE1BQU9ELFVBSzVCeWxELEVBQUtkLHFCQUdKbjhCLEtBQUs4N0IsV0FLTjlnRCxFQUFJLEVBQUdBLEVBQUlraUQsRUFBTWprRCxPQUFRK0IsSUFBSyxLQUVqQ0ssRUFBSTZoRCxFQUFNbGlELFFBRVBpaUQsRUFBS2YsT0FBTzdnRCxFQUFFNmQsSUFBSzdkLEVBQUU1RCxRQUVoQnloQixLQUFPNGlDLE9BSW5CamhELFVBQVVzaUQsS0FBTyxTQUFVbmlELEVBQUdvVyxPQUU1QmdzQyxFQUFRNWxELEtBQUs2dkMsUUFBUXJzQyxHQUNyQnFpRCxFQUFRN2xELEtBQUs2dkMsUUFBUWoyQixPQUVwQmdzQyxHQUFTQyxJQUVKN2xELEtBQUtzbEQsTUFBTVosT0FBT2xoRCxFQUFHcWlELEVBQU01bEQsWUFFOUJxbEQsTUFBTUwsT0FBT1ksUUFHYmhXLFFBQVFyc0MsR0FBS29pRCxPQUNiL1YsUUFBUWoyQixRQUFLLFVBQ1Rnc0MsSUFBVUMsSUFFWDdsRCxLQUFLc2xELE1BQU1aLE9BQU85cUMsRUFBR2dzQyxFQUFNM2xELFlBRTlCcWxELE1BQU1MLE9BQU9XLFFBR2IvVixRQUFRajJCLEdBQUtpc0MsT0FDYmhXLFFBQVFyc0MsUUFBSyxVQUNUb2lELEdBQVNDLEVBQU8sS0FFckJ2bEQsRUFBSXNsRCxFQUFNM2xELFFBQ1JBLE1BQVE0bEQsRUFBTTVsRCxRQUNkQSxNQUFRSyxLQUlYK2tELElBQ04sQ0FDRHB1QixTQUFTLElDakptQjZ1QixJQUFRLFNBQVVud0IsVUFDdkMsSUFBSUEsRUFBVSxHQUFHbHhCLFFBQ3ZCLENBQ0RnNEMsT0FBQUEsS0FROEJxSixJQUFRLFNBQVVud0IsVUFDekMsSUFBSUEsRUFBVSxHQUFHZ0YsS0FBSyxJQUFJaEYsRUFBVSxHQUFHN3pCLFFBQVEyNUIsSUFBSSxLQUN6RCxDQUNEZ2hCLE9BQUFBLEtBUUssSUFBSXNKLEdBQW9CRCxJQUFRLFNBQVVud0IsVUFDeENBLEVBQVVsc0IsV0FDaEIsQ0FDRGd6QyxPQUFBQSxLQXNCRixZQUFnQnoyQixVQUNQQSxFQUFLLEdBQUd1SSxVQ3ZEakIseUJBQWlDNVQsT0FBT3F1QixRQUFVLFNBQVUvM0IsV0FBbUJ6TixFQUFJLEVBQUdBLEVBQUk4SyxVQUFVN00sT0FBUStCLElBQUssS0FBTW9zQyxFQUFTdGhDLFVBQVU5SyxXQUFha2UsS0FBT2t1QixFQUFjajFCLE9BQU90WCxVQUFVNUQsZUFBZXFpQixLQUFLOHRCLEVBQVFsdUIsT0FBZUEsR0FBT2t1QixFQUFPbHVCLFlBQW1CelEsSUFBMkJrVyxNQUFNbm5CLEtBQU1zTyxXQUVoVCxZQUFpQmtKLEVBQVFnckMsT0FBc0J4NkIsRUFBT3JOLE9BQU9xTixLQUFLeFEsTUFBYW1ELE9BQU84bkMsc0JBQXVCLEtBQU1DLEVBQVUvbkMsT0FBTzhuQyxzQkFBc0JqckMsR0FBYWdyQyxNQUEwQkUsRUFBUXIrQixRQUFPLFNBQVVzK0IsVUFBY2hvQyxPQUFPaW9DLHlCQUF5QnByQyxFQUFRbXJDLEdBQUtFLGlCQUFxQnI2QixLQUFLckIsTUFBTWEsRUFBTTA2QixXQUFtQjE2QixFQUU5VSxZQUF1Qi9XLFdBQW1Cek4sRUFBSSxFQUFHQSxFQUFJOEssVUFBVTdNLE9BQVErQixJQUFLLEtBQU1vc0MsRUFBeUIsTUFBaEJ0aEMsVUFBVTlLLEdBQWE4SyxVQUFVOUssR0FBSyxHQUFRQSxFQUFJLEtBQWFtWCxPQUFPaTFCLElBQVMsR0FBTTduQixTQUFRLFNBQVVyRyxNQUF1QnpRLEVBQVF5USxFQUFLa3VCLEVBQU9sdUIsUUFBc0IvRyxPQUFPbW9DLGlDQUFvQ0MsaUJBQWlCOXhDLEVBQVEwSixPQUFPbW9DLDBCQUEwQmxULE9BQTJCajFCLE9BQU9pMUIsSUFBUzduQixTQUFRLFNBQVVyRyxVQUFjZ0wsZUFBZXpiLEVBQVF5USxFQUFLL0csT0FBT2lvQyx5QkFBeUJoVCxFQUFRbHVCLGdCQUFzQnpRLEVBRTdnQixZQUF5Qml5QixFQUFLeGhCLEVBQUt6aEIsVUFBYXloQixLQUFPd2hCLFNBQWN4VyxlQUFld1csRUFBS3hoQixFQUFLLENBQUV6aEIsTUFBQUEsRUFBYzRpRCxZQUFZLEVBQU1HLGNBQWMsRUFBTUMsVUFBVSxNQUFzQnZoQyxHQUFPemhCLEVBQWdCaWpDLEVEa0MzSzRpQixJQUFRLFNBQVVud0IsVUFDekNvd0IsR0FBa0Jwd0IsR0FBVzZFLE1BQU0sS0FDekMsQ0FDRGlpQixPQUFBQSxTQzNCU3VKLE1BRkEsT0FDUSxDQUFDLE1BQU8sU0FBVSxZQUFhLFdBQVksaUJBQWtCLGVBQWdCLE1BQU8sTUFBTyxNQUFPLFFBQVMsUUFBUyxZQUFhLFNBQVUsU0FBVSxVQUFXLFlBQWEsYUFDdkh0d0IsUUF5Rm5FdkUsRUFBTWh4QixFQUFPNkMsR0F4RmJvaUMsR0FDRkEsRUFDQU4sbUJBQ0FsdUIsV0FDQXF2QyxpQkFDQW5sRCxlQUNBWSxFQUNBc0QsTUFDQWpELFVBQ0Fta0QsRUFDQXJrRCxjQUNBc2tELFlBQ0FDLEVBQ0F2MEIsZ0JBQ0E4Z0IsRUFDQS9jLFVBQ0FELFVBQVcwd0IsRUFDWHZ3QixTQUFVd3dCLEdBQ1I1d0IsRUFDQWEsRUFBV29jLGFBcUJEMXlDLEVBQU9zbUIsd0JBQ0d1c0IsU0FDZCxJQUFJMXlDLE1BQU0saUVBRzZCZ21ELEVBQVVubUQsS0FBVXFmLEdBQVVyZixTQUNyRSxJQUFJc2hCLFVBQVUsMEdBR1QsSUFBVGdGLElBQXVDLGlCQUFUQSxHQUE4QixLQUFUQSxTQUMvQyxJQUFJaEYsVUFBVSxpRUFHVCxJQUFUZ0YsRUFBb0IsS0FDbEJ1YyxFQUFJZ1EsRUFBSy9NLE1BQU14ZixRQUNkZ2dDLE1BQVF6akIsRUFBRXlqQixXQUNWQyxXQUFhMWpCLEVBQUUwakIsaUJBQ2YsTUFDQUQsTUFBUSxDQUFDLENBQ1p0VCxLQUFNd1QsRUFDTkMsT0FBUUMsRUFBU0MsS0FFakJqcUMsTUFBTyxTQUVKNnBDLFdBQWEsV0FFVGhqRCxFQUFJLEVBQUdBLEVBQUlxakQsRUFBZ0JwbEQsT0FBUStCLFNBQ3JDZ2pELFdBQVdoakQsR0FBSyxRQUlwQnZELE1BQVFBLE1BQUFBLEVBQXdDRCxLQUFLcTVDLFdBQVdwNUMsR0FBUyxVQUN6RSt6QyxXQUFZLE9BTVo4Uyw2QkFBOEIscUJBYXRCLE1BQU45akQsR0FBbUIsT0FBTkEsbUJBU0xxRixVQUNSQSxHQUFLLEtBQU9BLEdBQUssdUJBS3BCOG9CLEVBQUtZLE9BQU81eEIsZUFHRmk4QyxLQUNOQSxJQUNKanJCLEVBQUtZLE9BQU81eEIscUJBZkVrSSxFQW1CZDArQyxFQUFTLEdBQ1QzSyxFQUFXajhDLEtBRUwsTUFBTjZDLE1BRWEsTUFBTkEsT0FDQ0EsVUF6Qk1xRixFQTZCRnJGLElBNUJKLEtBQU9xRixHQUFLLEtBQWEsTUFBTkEsWUE4QnRCK3pDLEdBQ0EsUUFJQyxNQUFOcDVDLFNBQ1FBLE9BR0xna0QsRUFBUWhrRCxZQUVKbzVDLEdBQ0EsVUFFSixNQUNFNEssRUFBUWhrRCxPQUNIQSxNQUlGLE1BQU5BLE9BQ1FBLGFBS1Bna0QsRUFBUWhrRCxPQUNIQSxTQUtGLE1BQU5BLEdBQW1CLE1BQU5BLEVBQVcsS0FFdEJpa0QsRUFBa0IsR0FDbEJDLEVBQWlCL21ELFFBQ0Y2QyxNQUdULE1BQU5BLEdBQW1CLE1BQU5BLE9BQ0lBLFFBS2hCZ2tELEVBQVFoa0QsWUFFSmtrRCxHQUNBSCxTQUlTRSxFQUVYRCxFQUFRaGtELE9BQ0hBLGNBS1ArakQsdUJBSUhJLEVBQVcsR0FFUkgsRUFBUWhrRCxJQUFNOHZDLEVBQUtzVSxhQUFhcGtELE9BQ3pCQSxVQUtWcWtELEVBQVNGLEVBQVNwMUIsT0FBTyxVQUV6QitnQixFQUFLc1UsYUFBYUMsR0FDYkYsRUFFQSxnQkFJYUcsVUFDbEJ0a0QsSUFBTXNrRCxPQUVEQSxHQUVBLE9BaElOamtELFVBQVU4ZCxLQUFPLFNBQ2pCOWQsVUFBVW1jLFFBQVMsSUE4SW5CdW1CLE1BQVEsU0FBVXhpQixFQUFLOEssUUFDaEJBLEdBQVcsVUFHakIsR0FFZ0IsbUJBSmI5SyxTQUtDLElBQUloQyxVQUFVLHVEQUdsQmdtQyxFQUFPLElBQUl6VSxJQUNWeVQsTUFBUSxPQUNUaUIsRUFBeUIsRUFDekJDLEdBQWdCLGNBZ0JoQjEyQixFQUFXMjJCLElBQ1h6bkQsRUFBUSxRQUVSOHdCLEVBQVUsSUFDVSxjQUFsQnNVLEVBQU9zTixTQUNELElBQUkwVCxFQUFXdDFCLFdBQ0ksYUFBbEJzVSxFQUFPc04sYUFHTixJQUFJMlQsRUFBVXYxQixVQUNmdkssS0FDQ3dKLFdBQVdlLFdBSWJmLFdBQVdlLE9BTWpCNDJCLEVBQWUsUUFDUSxLQUNULEdBQ1BBLEVBQWUsZUFFUixZQUtoQkMsRUFBdUIsR0FFdkJDLEVBQThCLElBRXJCLFNBSUUsTUFBTjdrRCxLQUNnQndsQixLQUFLZy9CLE1BQ0tBLElBQ04sY0FNdkJNLE9BQU8sTUFFUDlrRCxZQUNFK2tELEVBQU8va0QsS0FHRSxVQUZOZ2xELFdBR0MsSUFBSTdpQyxZQUFZLGVBQWlCNGlDLEVBQU8sU0FBVzUyQixFQUFPLGNBQWdCaHhCLEVBQU1zRCxnQkFRdEZ3akMsRUFBTWdoQixFQUFVSCxNQUVSLE9BQVI3Z0IsUUFFSSxJQUFJOWhCLFlBQVksU0FBVzJpQyxFQUFPLG9CQUd0Q25yQyxFQUFRNnFDLEVBQXlCSyxTQUlqQ0YsRUFBZSxLQUFNLFNBRW5CL25ELEVBQUk4bkQsT0FFRSxPQUFOOW5ELFFBRUksSUFBSXVsQixZQUFZLE9BQVM1QixFQUFNLHlEQUc5QjNqQixLQUlOMm1ELE1BQU0vOUIsS0FBSyxDQUNkeXFCLEtBQU1oTSxFQUFJZ00sS0FDVnlULE9BQVF6ZixFQUFJeWYsT0FDWi9wQyxNQUFBQSxZQUdPblosRUFBSSxFQUFHQSxFQUFJcWpELEVBQWdCcGxELE9BQVErQixNQUNyQ2dqRCxXQUFXaGpELE9BQVd5dkMsS0FBS3VULFdBQVdoakQsSUFBTSxHQUFLbVosVUFPM0MsTUFBTjNaLEdBQVcsSUFDb0IsSUFBaEM0a0QsRUFBcUJubUQsYUFDakIsSUFBSTBqQixZQUFZLHFCQUF1QmdNLEVBQU8sY0FBZ0JoeEIsRUFBTXNELGVBRzdDbWtELEVBQXFCcDNCLHFCQU90QyxFQUVabTNCLEVBQWUsUUFFUSxLQUNULEdBQ1BBLEVBQWUsY0FHUixLQUdTLEVBSXZCMWdCLEVBQUlnTSxLQUFLMVUsS0FBTSxLQUNiMnBCLEVBQVVqaEIsRUFBSWdNLEtBQUsxVSxLQUFLN2MsTUFDZnltQyxLQUFLRCxHQUFXLENBQzNCalYsS0FBTWhNLEVBQUlnTSxLQUNWeVQsT0FBUXpmLEVBQUl5ZixpQkFRZDFqRCxRQUNJLElBQUltaUIsWUFBWSxxQkFBdUI1QixFQUFNLFFBSWpEa2tDLFFBQ0ksSUFBSXRpQyxZQUFZLHlCQUEyQjVCLEVBQU0sUUFJckIsSUFBaENxa0MsRUFBcUJubUQsYUFDakIsSUFBSTBqQixZQUFZLHFCQUF1QmdNLEVBQU8sUUFJNUIsSUFBdEJvMkIsRUFBS2hCLE1BQU05a0QsU0FBaUI0c0IsRUFBUSs1QixtQkFDaEMsSUFBSWpqQyxZQUFZLElBQU01QixFQUFNLGdDQUcvQnRqQixXQUFrQixJQUFWQSxFQUFzQnNuRCxFQUFLbE8sV0FBV3A1QyxHQUFTLEtBQ3JEc25ELEtBU0psa0QsVUFBVStkLE1BQVEsZUFDakJtbUMsRUFBTyxJQUFJelUsSUFDVmtCLFVBQVloMEMsS0FBS2cwQyxZQUNqQjhTLDRCQUE4QjltRCxLQUFLOG1ELDhCQUNuQzdtRCxNQUFRbWhCLEdBQU1waEIsS0FBS0MsU0FDbkJ1bUQsV0FBYXhtRCxLQUFLd21ELFdBQVdwaUMsTUFBTSxLQUNuQ21pQyxNQUFRLFdBRUovaUQsRUFBSSxFQUFHQSxFQUFJeEQsS0FBS3VtRCxNQUFNOWtELE9BQVErQixZQUc1QjVELE9BRkoybUQsTUFBTS9pRCxHQUFLLEdBRUZ4RCxLQUFLdW1ELE1BQU0vaUQsR0FDbkIvRCxHQUFlTyxLQUFLdW1ELE1BQU0vaUQsR0FBSTVELE9BQzNCMm1ELE1BQU0vaUQsR0FBRzVELEdBQUtJLEtBQUt1bUQsTUFBTS9pRCxHQUFHNUQsV0FLaEMybkQsS0FTSmxrRCxVQUFVZ2xELFdBQWEsa0JBQ0EsSUFBdEJyb0QsS0FBS3VtRCxNQUFNOWtELFNBSVJ6QixLQUFLdW1ELE1BQU05a0QsT0FBUyxHQUFLUCxLQUFLYSxJQUFJL0IsS0FBS3VtRCxNQUFNLEdBQUc1cEMsTUFBUSxHQUFPLFVBV25FdFosVUFBVWcyQyxXQUFhLFNBQVVwNUMsT0FDaENxb0QsRUFBV0MsRUFBWUMsRUFBV0MsRUFDbEMza0MsS0FFQTdqQixNQUFBQSxHQUErRCxJQUF0QkQsS0FBS3VtRCxNQUFNOWtELGNBQy9DeEIsS0FDRUQsS0FBS3FvRCxhQUFjLEtBR3hCcGhCLEVBQU1obkMsSUFDQTZ5QyxFQUFLNFYsb0JBQW9CN2MsR0FBTzVyQyxZQUVqQ3VELEVBQUksRUFBR0EsRUFBSXhELEtBQUt1bUQsTUFBTTlrRCxPQUFRK0IsTUFDekJzZ0IsRUFBUTlqQixLQUFLdW1ELE1BQU0vaUQsR0FBR3l2QyxLQUFLaHpDLFNBQ3JCNmpCLEVBQVE5akIsS0FBS3VtRCxNQUFNL2lELEdBQUdrakQsT0FBT3ptRCxTQUNuQzZqQixFQUFROWpCLEtBQUt1bUQsTUFBTS9pRCxHQUFHbVosU0FDNUI3YixFQUFlbW1DLEVBQUt6RSxFQUFJMWhDLEVBQWV3bkQsRUFBV0csR0FBa0JELFdBR3JFdmhCLGNBR0c2TCxFQUFLNFYsb0JBQW9CN2MsR0FBTzVyQyxLQUV0QkQsS0FBS3VtRCxNQUFNLEdBQUd0VCxLQUFLaHpDLFNBQzFCNmpCLEVBQVE5akIsS0FBS3VtRCxNQUFNLEdBQUd0VCxLQUFLdndDLFVBQ3RCb2hCLEVBQVE5akIsS0FBS3VtRCxNQUFNLEdBQUdHLE9BQU96bUQsT0FDeENhLEVBQWU4VixFQUFVM1csRUFBT3NvRCxHQUFhem5ELEVBQWV3bkQsRUFBV0csT0FhN0VwbEQsVUFBVXNsRCxhQUFlLFNBQVUxb0QsRUFBTzJvRCxPQUN6Q04sRUFBV0MsRUFBWUMsRUFBV0MsRUFDbEMza0MsS0FFQTdqQixNQUFBQSxHQUErRCxJQUF0QkQsS0FBS3VtRCxNQUFNOWtELGNBQy9DeEIsS0FDRUQsS0FBS3FvRCxhQUFjLEtBSXhCcGhCLEVBQU1obkMsSUFDQTZ5QyxFQUFLNFYsb0JBQW9CN2MsR0FBTzVyQyxZQUVqQ3VELEVBQUksRUFBR0EsRUFBSXhELEtBQUt1bUQsTUFBTTlrRCxPQUFRK0IsTUFDekJzZ0IsRUFBUTlqQixLQUFLdW1ELE1BQU0vaUQsR0FBR3l2QyxLQUFLaHpDLFNBQ3JCNmpCLEVBQVE5akIsS0FBS3VtRCxNQUFNL2lELEdBQUdrakQsT0FBT3ptRCxTQUNuQzZqQixFQUFROWpCLEtBQUt1bUQsTUFBTS9pRCxHQUFHbVosU0FDNUJqYixFQUFhdWxDLEVBQUt6RSxFQUFJMWhDLEVBQWV3bkQsRUFBV0csR0FBa0JELFdBR25FdmhCLGNBR0c2TCxFQUFLNFYsb0JBQW9CN2MsR0FBTzVyQyxLQUV0QkQsS0FBS3VtRCxNQUFNLEdBQUd0VCxLQUFLaHpDLFNBQ3JCNmpCLEVBQVE5akIsS0FBS3VtRCxNQUFNLEdBQUdHLE9BQU96bUQsU0FDbEM2akIsRUFBUTlqQixLQUFLdW1ELE1BQU0sR0FBR3RULEtBQUt2d0MsUUFHL0J1akQsRUFBU3ZrRCxFQUFhQSxFQUFhekIsRUFBT3FvRCxHQUQvQ00sTUFBQUEsRUFDMkRILEVBRUFHLEdBRmtCTCxRQWdCakZOLEVBQVluQyxXQUVWcm1ELEdBQWVvcEQsRUFBT3RsQyxHQUFNLEtBQzFCZ2tDLEVBQU9zQixFQUFNdGxDLFVBRVYsQ0FDTDB2QixPQUNBeVQsT0FIV2EsRUFBS3VCLFNBQVMsYUFPcEJwaUMsS0FBU21pQyxLQUNacHBELEdBQWVvcEQsRUFBT25pQyxJQUNwQnFpQyxHQUFTeGxDLEVBQUttRCxHQUFRLEtBQ3BCc2lDLEVBQVFILEVBQU1uaUMsR0FDZHVpQyxFQUFZMWxDLEVBQUk5aEIsT0FBU2lsQixFQUFNamxCLE9BQy9CeW5ELEVBQWEzbEMsRUFBSThOLFVBQVUsRUFBRzQzQixHQUU5QkUsRUFBVTFwRCxHQUFldXBELEVBQU1GLFNBQVVJLEdBQWNGLEVBQU1GLFNBQVNJLFFBQWMsVUFFeEUsSUFBWkMsU0FFSyxDQUNMbFcsS0FBTStWLEVBQ050QyxPQUFReUMsVUFPWCxPQUNOLENBQ0QxTSxVQUFnQnoyQixFQUFLLEdBQ3JCb2dCLE1BQU8saUJBMExxQm1oQixVQUN4QkEsRUFBS2pZLFVBQVU4WixFQUFXeEMsT0FBd0IsT0FBZlcsRUFBS3RuRCxRQUFtQm9sQyxFQUFPd2MsWUFDN0QwRixFQUFLdG5ELE1BRUxzbkQsSUFsTE44QixnQkFBa0IsU0FBVTlpQyxVQUNKLE9BQXBCMGhDLEVBQVUxaEMsTUFVZGxqQixVQUFVOGtDLFFBQVUsU0FBVTVKLE1BQ2IsaUJBQVRBLE1BQ0Y2cUIsRUFBVzdxQixLQUdmQSxVQUNJLFVBSUEvNkIsRUFBSSxFQUFHQSxFQUFJcWpELEVBQWdCcGxELE9BQVErQixPQUN0Q3RDLEtBQUthLFVBQVV5a0QsV0FBV2hqRCxJQUFNLE1BQVdnakQsV0FBV2hqRCxJQUFNLElBQU0sY0FDN0QsVUFJSixLQVdKSCxVQUFVaXNDLFVBQVksU0FBVWdhLFdBRTFCOWxELEVBQUksRUFBR0EsRUFBSXFqRCxFQUFnQnBsRCxPQUFRK0IsT0FDdEN0QyxLQUFLYSxVQUFVeWtELFdBQVdoakQsSUFBTSxNQUFZZ2pELFdBQVdoakQsSUFBTSxJQUFNLGNBQzlELFVBSUosS0FVSkgsVUFBVXlULE9BQVMsU0FBVXd5QyxVQUN6QnRwRCxLQUFLc3ZDLFVBQVVnYSxJQUFVbkQsRUFBTW5tRCxLQUFLQyxNQUFPcXBELEVBQU1ycEQsVUFVckRvRCxVQUFVazJDLFNBQVcsU0FBVStQLFdBQzlCcmlCLEVBQU1qbkMsS0FBS29oQixRQUVONWQsRUFBSSxFQUFHQSxFQUFJcWpELEVBQWdCcGxELE9BQVErQixNQUV0Q2dqRCxXQUFXaGpELFNBQVdnakQsV0FBV2hqRCxJQUFNLE1BQVlnakQsV0FBV2hqRCxJQUFNLFdBSWpFNnRDLEVBQUssRUFBR0EsRUFBS2lZLEVBQU0vQyxNQUFNOWtELE9BQVE0dkMsSUFBTSxLQUUxQ2tZLEVBQVduRyxHQUFjLEdBQUlrRyxFQUFNL0MsTUFBTWxWLE1BRXpDa1YsTUFBTS85QixLQUFLK2dDLE9BSUUsT0FBZnZwRCxLQUFLQyxPQUFrQyxPQUFoQnFwRCxFQUFNcnBELE1BQWdCLEtBQzNDdXBELEVBQXlCLE9BQWZ4cEQsS0FBS0MsTUFBaUJELEtBQUtxNUMsV0FBVyxHQUFLcjVDLEtBQUtDLE1BQzFEd3BELEVBQTJCLE9BQWhCSCxFQUFNcnBELE1BQWlCcXBELEVBQU1qUSxXQUFXLEdBQUtpUSxFQUFNcnBELFFBQzlEQSxNQUFRYSxFQUFlMG9ELEVBQVNDLFdBRWhDeHBELE1BQVEsY0FHVjZtRCw2QkFBOEIsRUFDM0I0QyxFQUFxQnppQixNQVV6QjVqQyxVQUFVKzNCLE9BQVMsU0FBVWt1QixXQUM1QnJpQixFQUFNam5DLEtBQUtvaEIsUUFFTjVkLEVBQUksRUFBR0EsRUFBSXFqRCxFQUFnQnBsRCxPQUFRK0IsTUFFdENnakQsV0FBV2hqRCxTQUFXZ2pELFdBQVdoakQsSUFBTSxNQUFZZ2pELFdBQVdoakQsSUFBTSxXQUlqRSt0QyxFQUFNLEVBQUdBLEVBQU0rWCxFQUFNL0MsTUFBTTlrRCxPQUFROHZDLElBQU8sS0FFN0NnWSxFQUFXbkcsR0FBY0EsR0FBYyxHQUFJa0csRUFBTS9DLE1BQU1oVixJQUFPLEdBQUksQ0FDcEU1MEIsT0FBUTJzQyxFQUFNL0MsTUFBTWhWLEdBQUs1MEIsVUFHdkI0cEMsTUFBTS85QixLQUFLK2dDLE9BSUUsT0FBZnZwRCxLQUFLQyxPQUFrQyxPQUFoQnFwRCxFQUFNcnBELE1BQWdCLEtBQzNDdXBELEVBQXlCLE9BQWZ4cEQsS0FBS0MsTUFBaUJELEtBQUtxNUMsV0FBVyxHQUFLcjVDLEtBQUtDLE1BQzFEd3BELEVBQTJCLE9BQWhCSCxFQUFNcnBELE1BQWlCcXBELEVBQU1qUSxXQUFXLEdBQUtpUSxFQUFNcnBELFFBQzlEQSxNQUFReUIsRUFBYThuRCxFQUFTQyxXQUU5QnhwRCxNQUFRLGNBR1Y2bUQsNkJBQThCLEVBQzNCNEMsRUFBcUJ6aUIsTUFVekI1akMsVUFBVTJCLElBQU0sU0FBVXBGLFdBQ3pCcW5DLEVBQU1qbkMsS0FBS29oQixRQUVONWQsRUFBSSxFQUFHQSxFQUFJcWpELEVBQWdCcGxELE9BQVErQixNQUV0Q2dqRCxXQUFXaGpELFNBQVdnakQsV0FBV2hqRCxJQUFNLEdBQUs1RCxVQUl6QzR4QyxFQUFNLEVBQUdBLEVBQU12SyxFQUFJc2YsTUFBTTlrRCxPQUFRK3ZDLE1BQ3BDK1UsTUFBTS9VLEdBQUs3MEIsT0FBUy9jLFNBR1IsT0FBZHFuQyxFQUFJaG5DLFFBQ0ZBLE1BQVF1aUMsRUFBSXlFLEVBQUlobkMsTUFBT0wsS0FNdkJLLE1BQVEsT0FHVjZtRCw2QkFBOEIsRUFDM0I0QyxFQUFxQnppQixNQXdCekI1akMsVUFBVXRCLElBQU0sZUFHZjJsQyxFQUFNMW5DLEtBQUtvaEIsZ0JBR041ZCxPQUZMdkQsTUFBc0IsT0FBZHluQyxFQUFJem5DLE1BQWlCK2xDLEVBQUkwQixFQUFJem5DLE9BQVMsS0FFcEN5bkMsRUFBSTZlLE1BQ2UsT0FBM0I3ZSxFQUFJNmUsTUFBTS9pRCxHQUFHeXZDLEtBQUtqeEIsTUFBNEMsUUFBM0IwbEIsRUFBSTZlLE1BQU0vaUQsR0FBR3l2QyxLQUFLanhCLFNBQ25EdWtDLE1BQU0vaUQsR0FBR3l2QyxLQUFPNFYsRUFBTWMsVUFJdkJqaUIsS0FVSnJrQyxVQUFVd2dCLEdBQUssU0FBVXF2QixPQUN4Qm9XLEVBQ0FycEQsRUFBdUIsT0FBZkQsS0FBS0MsTUFBaUJELEtBQUtxNUMsV0FBVyxHQUFLcjVDLEtBQUtDLFNBRS9CLGlCQUFsQml6QyxFQUE0QixNQUU3QkosRUFBSy9NLE1BQU1tTixJQUVkbHpDLEtBQUtzdkMsVUFBVWdhLFNBQ1osSUFBSWxwRCxNQUFNLHdCQUF3QjRrQixPQUFPc2tDLEVBQU03bEQsV0FBWSxVQUFVdWhCLE9BQU9obEIsS0FBS3lELFdBQVksVUFHakYsT0FBaEI2bEQsRUFBTXJwRCxZQUNGLElBQUlHLE1BQU0sa0RBR1pILE1BQVFtaEIsR0FBTW5oQixLQUNkK3pDLFdBQVksSUFDWjhTLDZCQUE4QixFQUM3QndDLEtBQ0U5cEMsR0FBTzB6QixHQUFnQixLQUMzQmx6QyxLQUFLc3ZDLFVBQVU0RCxTQUNaLElBQUk5eUMsTUFBTSx3QkFBd0I0a0IsT0FBT2t1QixFQUFjenZDLFdBQVksVUFBVXVoQixPQUFPaGxCLEtBQUt5RCxXQUFZLFVBR2pGLE9BQXhCeXZDLEVBQWNqekMsWUFDVixJQUFJRyxNQUFNLG1EQUdWOHlDLEVBQWM5eEIsU0FDaEJuaEIsTUFBUW1oQixHQUFNbmhCLEtBQ2QrekMsV0FBWSxJQUNaOFMsNkJBQThCLEVBQzdCd0MsUUFFRCxJQUFJbHBELE1BQU0sMkNBWWZpRCxVQUFVa3pCLFNBQVcsU0FBVTJjLFVBQzNCM2MsRUFBU3YyQixLQUFLNHBELFVBQVUxVyxPQVU1Qjd2QyxVQUFVdW1ELFVBQVksU0FBVTFXLE9BQy9Cb1csWUFFQXBXLEVBRU1sekMsS0FBSzZqQixHQUFHcXZCLEdBRVJsekMsS0FBS29oQixTQUdMaW5DLGNBQXVDLElBQXZCaUIsRUFBTS9DLE1BQU05a0QsT0FDN0I2bkQsRUFBTVgsYUFBYVcsRUFBTXJwRCxPQUV6QnFwRCxFQUFNWCxhQUFhVyxFQUFNcnBELE1BQU9xcEQsRUFBTS9DLE1BQU0sR0FBR0csT0FBT3ptRCxVQVU1RG9ELFVBQVVJLFNBQVcsa0JBQ2pCekQsS0FBSzZ4QixZQVVUeHVCLFVBQVV3ekIsT0FBUyxrQkFDZixDQUNMQyxPQUFRLE9BQ1I3MkIsTUFBT0QsS0FBSzJvRCxhQUFhM29ELEtBQUtDLE9BQzlCZ3pDLEtBQU1qekMsS0FBSzZwRCxjQUNYN1YsVUFBV2gwQyxLQUFLZzBDLGNBWWZqZCxTQUFXLFNBQVVDLE9BQ3BCdXdCLEVBQU8sSUFBSXpVLEVBQUs5YixFQUFLLzJCLE1BQU8rMkIsRUFBS2ljLGVBQ2hDZSxVQUFZaGQsRUFBS2dkLFlBQWEsRUFDNUJ1VCxLQVNKbGtELFVBQVVpZSxRQUFVd3hCLEVBQUt6dkMsVUFBVUksV0FNbkNKLFVBQVUrbEMsU0FBVyxlQUlwQjBnQixFQWNFQyxFQWpCRnJpQixFQUFNMW5DLEtBQUtvaEIsUUFDWDRvQyxFQUFtQixXQUlkQyxLQUFPQyxLQUNWenFELEdBQWV5cUQsRUFBbUJELElBQ2hDdmlCLEVBQUlTLFFBQVFpaEIsRUFBV2EsSUFBTyxHQUNqQkEsV0FNQSxTQUFqQkgsSUFDRXZELE1BQVEsV0FJUnVELEdBRUVycUQsR0FBZXlxRCxFQUFtQkosT0FDckJJLEVBQWtCSixJQUlqQ0MsSUFDRXhELE1BQVEsQ0FBQyxDQUNYdFQsS0FBTThXLEVBQWE5VyxLQUNuQnlULE9BQVFxRCxFQUFhckQsT0FDckIvcEMsTUFBTyxTQUVKLFNBSUR3dEMsR0FBaUIsRUFFWjNtRCxFQUFJLEVBQUdBLEVBQUlxakQsRUFBZ0JwbEQsT0FBUStCLElBQUssS0FDM0Mwa0QsRUFBVXJCLEVBQWdCcmpELEdBRTFCdEMsS0FBS2EsSUFBSTJsQyxFQUFJOGUsV0FBV2hqRCxJQUFNLEdBQUssUUFDakMvRCxHQUFleXFELEVBQW1CaEMsS0FDbkIxL0IsS0FBSyxDQUNwQnlxQixLQUFNaVgsRUFBa0JoQyxHQUFTalYsS0FDakN5VCxPQUFRd0QsRUFBa0JoQyxHQUFTeEIsT0FDbkMvcEMsTUFBTytxQixFQUFJOGUsV0FBV2hqRCxJQUFNLE9BR2IsSUFNbkJ3bUQsRUFBaUJ2b0QsT0FBU2ltQyxFQUFJNmUsTUFBTTlrRCxTQUFXMG9ELE1BRTdDNUQsTUFBUXlELFdBS1h0aUIsS0FPSnJrQyxVQUFVK21ELEtBQU8sbUJBQ2hCMWlCLEVBQU0xbkMsS0FBS29oQixRQUNYNG9DLEVBQW1CLEdBSWR4bUQsRUFBSSxFQUFHQSxFQUFJcWpELEVBQWdCcGxELE9BQVErQixJQUFLLEtBQzNDMGtELEVBQVVyQixFQUFnQnJqRCxNQUUxQnRDLEtBQUthLElBQUkybEMsRUFBSThlLFdBQVdoakQsSUFBTSxHQUFLLE1BQU8sS0FDeEMvRCxHQUFlNHFELEVBQWFDLEdBQUlwQyxTQU81QixJQUFJOW5ELE1BQU0sOEJBQWdDOG5ELEVBQVUsa0JBTnpDMS9CLEtBQUssQ0FDcEJ5cUIsS0FBTW9YLEVBQWFDLEdBQUdwQyxHQUFTalYsS0FDL0J5VCxPQUFRMkQsRUFBYUMsR0FBR3BDLEdBQVN4QixPQUNqQy9wQyxNQUFPK3FCLEVBQUk4ZSxXQUFXaGpELElBQU0sZUFTaEMraUQsTUFBUXlELElBQ1JoVyxXQUFZLElBQ1o4Uyw2QkFBOEIsRUFDM0JwZixLQVNKcmtDLFVBQVV3bUQsWUFBYyxtQkFDdkJVLEVBQVMsR0FDVEMsRUFBUyxHQUNUQyxFQUFPLEVBQ1BDLEVBQU8sRUFFRmxuRCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLdW1ELE1BQU05a0QsT0FBUStCLElBQ2pDeEQsS0FBS3VtRCxNQUFNL2lELEdBQUdtWixNQUFRLFVBRWQsSUFBTTNjLEtBQUt1bUQsTUFBTS9pRCxHQUFHa2pELE9BQU8xa0MsS0FBT2hpQixLQUFLdW1ELE1BQU0vaUQsR0FBR3l2QyxLQUFLanhCLEtBRTNEOWdCLEtBQUthLElBQUkvQixLQUFLdW1ELE1BQU0vaUQsR0FBR21aLE1BQVEsR0FBTyxXQUM5QixJQUFNM2MsS0FBS3VtRCxNQUFNL2lELEdBQUdtWixRQUV2QjNjLEtBQUt1bUQsTUFBTS9pRCxHQUFHbVosTUFBUSxVQUsvQit0QyxFQUFPLFVBQ0FDLEVBQU0sRUFBR0EsRUFBTTNxRCxLQUFLdW1ELE1BQU05a0QsT0FBUWtwRCxJQUNyQzNxRCxLQUFLdW1ELE1BQU1vRSxHQUFLaHVDLE1BQVEsSUFDdEI4dEMsRUFBTyxNQUNDLElBQU16cUQsS0FBS3VtRCxNQUFNb0UsR0FBS2pFLE9BQU8xa0MsS0FBT2hpQixLQUFLdW1ELE1BQU1vRSxHQUFLMVgsS0FBS2p4QixLQUUvRDlnQixLQUFLYSxJQUFJL0IsS0FBS3VtRCxNQUFNb0UsR0FBS2h1QyxNQUFRLEdBQU8sV0FDaEMsS0FBTzNjLEtBQUt1bUQsTUFBTW9FLEdBQUtodUMsWUFHekIsSUFBTTNjLEtBQUt1bUQsTUFBTW9FLEdBQUtqRSxPQUFPMWtDLEtBQU9oaUIsS0FBS3VtRCxNQUFNb0UsR0FBSzFYLEtBQUtqeEIsUUFDekQsSUFBTWhpQixLQUFLdW1ELE1BQU1vRSxHQUFLaHVDLFVBTy9CNHRDLEVBQU96SyxPQUFPLEtBQ2QwSyxFQUFPMUssT0FBTyxHQUVuQjJLLEVBQU8sR0FBS0MsRUFBTyxNQUNaLElBQU1ILEVBQVMsS0FHdEJHLEVBQU8sR0FBS0QsRUFBTyxNQUNaLElBQU1ELEVBQVMsU0FHdEJqbkMsRUFBTWduQyxTQUVORSxFQUFPLEdBQUtDLEVBQU8sT0FDZCxVQUdGRixLQWNKbm5ELFVBQVV3dUIsT0FBUyxTQUFVeEQsT0FHNUJ1OEIsRUFBTzVxRCxLQUFLOG1ELDZCQUE4QyxPQUFmOW1ELEtBQUtDLE1BQWlCRCxLQUFLb2hCLFFBQVVwaEIsS0FBS29wQyxXQUVyRnloQixHQUFjLFVBT1RybkQsVUFMaUIsSUFBZm9uRCxFQUFLM3FELE9BQXdDLE9BQWYycUQsRUFBSzNxRCxPQUFrQnFmLEdBQVVzckMsRUFBSzNxRCxXQUUvRGlCLEtBQUthLElBQUk2b0QsRUFBSzNxRCxNQUFNMmxDLElBQU0sT0FHNUJnbEIsRUFBS3JFLE1BQ2I5bUQsR0FBZW1yRCxFQUFLckUsTUFBTy9pRCxJQUN6Qm9uRCxFQUFLckUsTUFBTS9pRCxHQUFHeXZDLE9BQ2dCLE9BQTVCMlgsRUFBS3JFLE1BQU0vaUQsR0FBR3l2QyxLQUFLanhCLE1BQWlCNm9DLElBQ2pDdEUsTUFBTS9pRCxHQUFHeXZDLEtBQU80VixFQUFNaUMsSUFDVSxRQUE1QkYsRUFBS3JFLE1BQU0vaUQsR0FBR3l2QyxLQUFLanhCLE1BQW1CNm9DLE1BQzFDdEUsTUFBTS9pRCxHQUFHeXZDLEtBQU80VixFQUFNa0MsS0FRVCxJQUF0QkgsRUFBS3JFLE1BQU05a0QsUUFBaUJtcEQsRUFBSzVXLFdBRy9COXlDLEtBQUthLElBQUk2b0QsRUFBS3JFLE1BQU0sR0FBRzVwQyxNQUFRemIsS0FBS1csTUFBTStvRCxFQUFLckUsTUFBTSxHQUFHNXBDLFFBQVUsVUFFL0Q0cEMsTUFBTSxHQUFHRyxPQUFTa0UsRUFBS0ksbUJBSTVCL3FELEVBQVEycUQsRUFBS2pDLGFBQWFpQyxFQUFLM3FELE9BRS9Cc2pCLEVBQXFCLE9BQWZxbkMsRUFBSzNxRCxNQUFpQnN6QyxFQUFPdHpDLEVBQU9vdUIsR0FBVyxJQUFNLEdBQzNENDhCLEVBQVVMLEVBQUtmLHFCQUVmZSxFQUFLM3FELE9BQVNxZixHQUFVc3JDLEVBQUszcUQsV0FDekIsSUFBTXNqQixFQUFNLEtBR2hCMG5DLEVBQVF4cEQsT0FBUyxHQUFLOGhCLEVBQUk5aEIsT0FBUyxPQUM5QixRQUdGd3BELEtBV0o1bkQsVUFBVTJuRCxZQUFjLGNBQ0QsSUFBdEJockQsS0FBS3VtRCxNQUFNOWtELGFBQ1AsSUFBSXJCLE1BQU0sK0dBR2RjLEtBQUthLElBQUkvQixLQUFLdW1ELE1BQU0sR0FBRzVwQyxNQUFRemIsS0FBS1csTUFBTTdCLEtBQUt1bUQsTUFBTSxHQUFHNXBDLFNBQVcsWUFDL0QsSUFBSXZjLE1BQU0sZ0hBVWQ4cUQsRUFBMEIsT0FBZmxyRCxLQUFLQyxNQUFpQitsQyxFQUFJaG1DLEtBQUtDLE9BQVMsRUFDbkRrckQsRUFBZW5sQixFQUFJaG1DLEtBQUt1bUQsTUFBTSxHQUFHdFQsS0FBS2h6QyxPQUN0Q21yRCxFQUFhcHJELEtBQUt1bUQsTUFBTSxHQUFHRyxVQUVkLElBQWJ3RSxTQUNLRSxNQUdMenVDLEVBQVEzYyxLQUFLdW1ELE1BQU0sR0FBRzVwQyxNQUN0QjB1QyxFQUFXbnFELEtBQUsrRCxJQUFJaW1ELEVBQVdocUQsS0FBSzhELElBQUlvbUQsRUFBV25yRCxNQUFRa3JELEVBQWN4dUMsSUFBVXpiLEtBQUtrMkIsS0FBTyxPQUMvRmkwQixhQUF3QkEsRUFBVyxnQkFBaUJELElBRTdDbHFELEtBQUthLElBQUlzcEQsT0FDaEJ2QyxFQUFXOW9ELEtBQUt1bUQsTUFBTSxHQUFHdFQsS0FBSzZWLGlCQUV6QmxwRCxLQUFLa3BELEtBQ1JycEQsR0FBZXFwRCxFQUFVbHBELEdBQUksS0FDM0I4bUQsRUFBU29DLEVBQVNscEQsTUFFbEI4bUQsRUFBTzRFLFdBQVksS0FDakIzNkIsRUFBT3p2QixLQUFLYSxJQUFJYixLQUFLK0QsSUFBSWltRCxFQUFXaHFELEtBQUs4RCxJQUFJMGhELEVBQU96bUQsTUFBUWtyRCxFQUFjeHVDLElBQVV6YixLQUFLazJCLEtBQU8sTUFFaEd6RyxFQUFPMDZCLEdBQVkxNkIsSUFBUzA2QixHQUFZM0UsRUFBTzFrQyxLQUFLdmdCLE9BQVMycEQsRUFBV3BwQyxLQUFLdmdCLFlBR2xFaWxELElBQ0YvMUIsWUFNWnk2QixLQWlCSi9uRCxVQUFVa29ELFVBQVksU0FBVUMsV0FDL0IxckQsRUFBSUUsS0FBS29oQixRQUNUc21CLEVBQU0sR0FFRGxrQyxFQUFJLEVBQUdBLEVBQUlnb0QsRUFBTS9wRCxXQUVwQjNCLEVBQUUrakIsR0FBRzJuQyxFQUFNaG9ELElBQ1hBLElBQU1nb0QsRUFBTS9wRCxPQUFTLEdBSE8rQixJQUFLLEtBS2pDaW9ELEVBQVczckQsRUFBRThwRCxZQUdiOEIsRUFBV3JXLEVBQU1vVyxHQVVqQjFyRCxFQUFJLElBQUkreUMsRUFSUXFULEVBQU11RixFQUFVRCxHQUd6QkMsRUFFQXhGLEVBQUlwbUQsRUFBRThwRCxhQUdRNEIsRUFBTWhvRCxHQUFHQyxjQUM5QitrQixLQUFLem9CLEtBQ0xrbUQsRUFBU25tRCxFQUFHQyxZQU9kNHJELEVBQVUsRUFFTDNaLEVBQU0sRUFBR0EsRUFBTXRLLEVBQUlqbUMsT0FBUXV3QyxNQUN4QnA3QixFQUFVKzBDLEVBQVNqa0IsRUFBSXNLLEdBQUsveEMsY0FHcENrbUQsRUFBTXdGLEVBQVMzckQsS0FBS0MsV0FDcEJBLE1BQVEsS0FHUnVvQixLQUFLMW9CLEdBQ0Y0bkMsT0FHTGlmLEVBQVcsQ0FDYkMsS0FBTSxDQUNKLEdBQUksQ0FDRjVrQyxLQUFNLEdBQ04vaEIsTUFBTyxFQUNQcXJELFlBQVksSUFHaEJNLE1BQU8sQ0FDTCxHQUFJLENBQ0Y1cEMsS0FBTSxHQUNOL2hCLE1BQU8sRUFDUHFyRCxZQUFZLEdBRWRPLEdBQUksQ0FDRjdwQyxLQUFNLEtBQ04vaEIsTUFBTyxHQUNQcXJELFlBQVksR0FFZHoxQyxFQUFHLENBQ0RtTSxLQUFNLElBQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZDV5QixFQUFHLENBQ0QxVyxLQUFNLElBQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZDVpQixFQUFHLENBQ0QxbUIsS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWRRLEVBQUcsQ0FDRDlwQyxLQUFNLElBQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZFMsRUFBRyxDQUNEL3BDLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkN3lCLEVBQUcsQ0FDRHpXLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkempCLEVBQUcsQ0FDRDdsQixLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZFUsRUFBRyxDQUNEaHFDLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkVyxFQUFHLENBQ0RqcUMsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWR0N0MsRUFBRyxDQUNEZ1MsS0FBTSxJQUNOL2hCLE1BQU8sR0FDUHFyRCxZQUFZLEdBRWQ1eUMsRUFBRyxDQUNEc0osS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWR2cUQsRUFBRyxDQUNEaWhCLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkeG9CLEVBQUcsQ0FDRDlnQixLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHpuRCxFQUFHLENBQ0RtZSxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDFyRCxFQUFHLENBQ0RvaUIsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWR6akQsRUFBRyxDQUNEbWEsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWQ5eUMsRUFBRyxDQUNEd0osS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWR0bEQsRUFBRyxDQUNEZ2MsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWR2ckQsRUFBRyxDQUNEaWlCLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxJQUdoQlksS0FBTSxDQUNKLEdBQUksQ0FDRmxxQyxLQUFNLEdBQ04vaEIsTUFBTyxFQUNQcXJELFlBQVksR0FFZGEsS0FBTSxDQUNKbnFDLEtBQU0sT0FDTi9oQixNQUFPLEdBQ1BxckQsWUFBWSxHQUVkYyxNQUFPLENBQ0xwcUMsS0FBTSxRQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWRlLEtBQU0sQ0FDSnJxQyxLQUFNLE9BQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZGdCLEtBQU0sQ0FDSnRxQyxLQUFNLE9BQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZGlCLEtBQU0sQ0FDSnZxQyxLQUFNLE9BQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZGtCLEtBQU0sQ0FDSnhxQyxLQUFNLE9BQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZG1CLEtBQU0sQ0FDSnpxQyxLQUFNLE9BQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZG9CLElBQUssQ0FDSDFxQyxLQUFNLE1BQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHFCLE1BQU8sQ0FDTDNxQyxLQUFNLFFBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHNCLE1BQU8sQ0FDTDVxQyxLQUFNLFFBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHVCLEtBQU0sQ0FDSjdxQyxLQUFNLE9BQ04vaEIsTUFBTyxHQUNQcXJELFlBQVksR0FFZHdCLE1BQU8sQ0FDTDlxQyxLQUFNLFFBQ04vaEIsTUFBTyxJQUNQcXJELFlBQVksR0FFZHlCLE1BQU8sQ0FDTC9xQyxLQUFNLFFBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDBCLE1BQU8sQ0FDTGhyQyxLQUFNLFFBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDJCLEtBQU0sQ0FDSmpyQyxLQUFNLE9BQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDRCLEtBQU0sQ0FDSmxyQyxLQUFNLE9BQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksR0FFZDZCLE1BQU8sQ0FDTG5yQyxLQUFNLFFBQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksR0FFZDhCLEtBQU0sQ0FDSnByQyxLQUFNLE9BQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksR0FFZCtCLE1BQU8sQ0FDTHJyQyxLQUFNLFFBQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksR0FFZGdDLE1BQU8sQ0FDTHRyQyxLQUFNLFFBQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksSUFHaEJpQyxRQUFTLENBQ1AsR0FBSSxDQUNGdnJDLEtBQU0sR0FDTi9oQixNQUFPLEVBQ1BxckQsWUFBWSxHQUVkTyxHQUFJLENBQ0Y3cEMsS0FBTSxLQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWR6MUMsRUFBRyxDQUNEbU0sS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWQ1eUIsRUFBRyxDQUNEMVcsS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWQ1aUIsRUFBRyxDQUNEMW1CLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkUSxFQUFHLENBQ0Q5cEMsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRTLEVBQUcsQ0FDRC9wQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDd5QixFQUFHLENBQ0R6VyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHpqQixFQUFHLENBQ0Q3bEIsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRVLEVBQUcsQ0FDRGhxQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZFcsRUFBRyxDQUNEanFDLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkdDdDLEVBQUcsQ0FDRGdTLEtBQU0sSUFDTi9oQixNQUFPLElBQ1BxckQsWUFBWSxHQUVkNXlDLEVBQUcsQ0FDRHNKLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkdnFELEVBQUcsQ0FDRGloQixLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHhvQixFQUFHLENBQ0Q5Z0IsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWR6bkQsRUFBRyxDQUNEbWUsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWQxckQsRUFBRyxDQUNEb2lCLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkempELEVBQUcsQ0FDRG1hLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkOXlDLEVBQUcsQ0FDRHdKLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkdGxELEVBQUcsQ0FDRGdjLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkdnJELEVBQUcsQ0FDRGlpQixLQUFNLElBQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksSUFHaEJrQyxNQUFPLENBQ0wsR0FBSSxDQUNGeHJDLEtBQU0sR0FDTi9oQixNQUFPLEVBQ1BxckQsWUFBWSxHQUVkTyxHQUFJLENBQ0Y3cEMsS0FBTSxLQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWR6MUMsRUFBRyxDQUNEbU0sS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWQ1eUIsRUFBRyxDQUNEMVcsS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWQ1aUIsRUFBRyxDQUNEMW1CLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkUSxFQUFHLENBQ0Q5cEMsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRTLEVBQUcsQ0FDRC9wQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDd5QixFQUFHLENBQ0R6VyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHpqQixFQUFHLENBQ0Q3bEIsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRVLEVBQUcsQ0FDRGhxQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZFcsRUFBRyxDQUNEanFDLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkdDdDLEVBQUcsQ0FDRGdTLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkNXlDLEVBQUcsQ0FDRHNKLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkdnFELEVBQUcsQ0FDRGloQixLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHhvQixFQUFHLENBQ0Q5Z0IsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWR6bkQsRUFBRyxDQUNEbWUsS0FBTSxJQUNOL2hCLE1BQU8sTUFDUHFyRCxZQUFZLEdBRWQxckQsRUFBRyxDQUNEb2lCLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkempELEVBQUcsQ0FDRG1hLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkOXlDLEVBQUcsQ0FDRHdKLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkdGxELEVBQUcsQ0FDRGdjLEtBQU0sSUFDTi9oQixNQUFPLE1BQ1BxckQsWUFBWSxHQUVkdnJELEVBQUcsQ0FDRGlpQixLQUFNLElBQ04vaEIsTUFBTyxNQUNQcXJELFlBQVksSUFHaEJtQyxnQkFBaUIsQ0FDZixHQUFJLENBQ0Z6ckMsS0FBTSxHQUNOL2hCLE1BQU8sRUFDUHFyRCxZQUFZLEdBRWQ1eUIsRUFBRyxDQUNEMVcsS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWQ1aUIsRUFBRyxDQUNEMW1CLEtBQU0sSUFDTi9oQixNQUFPLElBQ1BxckQsWUFBWSxHQUVkUSxFQUFHLENBQ0Q5cEMsS0FBTSxJQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLEdBRWRTLEVBQUcsQ0FDRC9wQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZDd5QixFQUFHLENBQ0R6VyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZHpqQixFQUFHLENBQ0Q3bEIsS0FBTSxJQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRVLEVBQUcsQ0FDRGhxQyxLQUFNLElBQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZFcsRUFBRyxDQUNEanFDLEtBQU0sSUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxJQUdoQm9DLGlCQUFrQixDQUNoQixHQUFJLENBQ0YxckMsS0FBTSxHQUNOL2hCLE1BQU8sRUFDUHFyRCxZQUFZLEdBRWRxQyxHQUFJLENBQ0YzckMsS0FBTSxLQUNOL2hCLE1BQU8sS0FDUHFyRCxZQUFZLEdBRWRzQyxHQUFJLENBQ0Y1ckMsS0FBTSxLQUNOL2hCLE1BQU9pQixLQUFLOEQsSUFBSSxLQUFNLEdBQ3RCc21ELFlBQVksR0FFZHVDLEdBQUksQ0FDRjdyQyxLQUFNLEtBQ04vaEIsTUFBT2lCLEtBQUs4RCxJQUFJLEtBQU0sR0FDdEJzbUQsWUFBWSxHQUVkd0MsR0FBSSxDQUNGOXJDLEtBQU0sS0FDTi9oQixNQUFPaUIsS0FBSzhELElBQUksS0FBTSxHQUN0QnNtRCxZQUFZLEdBRWR5QyxHQUFJLENBQ0YvckMsS0FBTSxLQUNOL2hCLE1BQU9pQixLQUFLOEQsSUFBSSxLQUFNLEdBQ3RCc21ELFlBQVksR0FFZDBDLEdBQUksQ0FDRmhzQyxLQUFNLEtBQ04vaEIsTUFBT2lCLEtBQUs4RCxJQUFJLEtBQU0sR0FDdEJzbUQsWUFBWSxHQUVkMkMsR0FBSSxDQUNGanNDLEtBQU0sS0FDTi9oQixNQUFPaUIsS0FBSzhELElBQUksS0FBTSxHQUN0QnNtRCxZQUFZLEdBRWQ0QyxHQUFJLENBQ0Zsc0MsS0FBTSxLQUNOL2hCLE1BQU9pQixLQUFLOEQsSUFBSSxLQUFNLEdBQ3RCc21ELFlBQVksSUFHaEI2QyxlQUFnQixDQUNkLEdBQUksQ0FDRm5zQyxLQUFNLEdBQ04vaEIsTUFBTyxFQUNQcXJELFlBQVksR0FFZGUsS0FBTSxDQUNKcnFDLEtBQU0sT0FDTi9oQixNQUFPLElBQ1BxckQsWUFBWSxHQUVkZ0IsS0FBTSxDQUNKdHFDLEtBQU0sT0FDTi9oQixNQUFPLElBQ1BxckQsWUFBWSxHQUVkaUIsS0FBTSxDQUNKdnFDLEtBQU0sT0FDTi9oQixNQUFPLElBQ1BxckQsWUFBWSxHQUVka0IsS0FBTSxDQUNKeHFDLEtBQU0sT0FDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkbUIsS0FBTSxDQUNKenFDLEtBQU0sT0FDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkb0IsSUFBSyxDQUNIMXFDLEtBQU0sTUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkcUIsTUFBTyxDQUNMM3FDLEtBQU0sUUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxHQUVkc0IsTUFBTyxDQUNMNXFDLEtBQU0sUUFDTi9oQixNQUFPLEtBQ1BxckQsWUFBWSxJQUdoQjhDLGdCQUFpQixDQUNmLEdBQUksQ0FDRnBzQyxLQUFNLEdBQ04vaEIsTUFBTyxFQUNQcXJELFlBQVksR0FFZCtDLEtBQU0sQ0FDSnJzQyxLQUFNLE9BQ04vaEIsTUFBTyxLQUNQcXJELFlBQVksR0FFZGdELEtBQU0sQ0FDSnRzQyxLQUFNLE9BQ04vaEIsTUFBT2lCLEtBQUs4RCxJQUFJLEtBQU0sR0FDdEJzbUQsWUFBWSxHQUVkaUQsS0FBTSxDQUNKdnNDLEtBQU0sT0FDTi9oQixNQUFPaUIsS0FBSzhELElBQUksS0FBTSxHQUN0QnNtRCxZQUFZLEdBRWRrRCxLQUFNLENBQ0p4c0MsS0FBTSxPQUNOL2hCLE1BQU9pQixLQUFLOEQsSUFBSSxLQUFNLEdBQ3RCc21ELFlBQVksR0FFZG1ELEtBQU0sQ0FDSnpzQyxLQUFNLE9BQ04vaEIsTUFBT2lCLEtBQUs4RCxJQUFJLEtBQU0sR0FDdEJzbUQsWUFBWSxHQUVkb0QsSUFBSyxDQUNIMXNDLEtBQU0sTUFDTi9oQixNQUFPaUIsS0FBSzhELElBQUksS0FBTSxHQUN0QnNtRCxZQUFZLEdBRWRxRCxLQUFNLENBQ0ozc0MsS0FBTSxPQUNOL2hCLE1BQU9pQixLQUFLOEQsSUFBSSxLQUFNLEdBQ3RCc21ELFlBQVksR0FFZHNELEtBQU0sQ0FDSjVzQyxLQUFNLE9BQ04vaEIsTUFBT2lCLEtBQUs4RCxJQUFJLEtBQU0sR0FDdEJzbUQsWUFBWSxJQUdoQnVELElBQUssQ0FDSCxHQUFJLENBQ0Y3c0MsS0FBTSxHQUNOL2hCLE1BQU8sRUFDUHFyRCxZQUFZLEdBRWR3RCxHQUFJLENBQ0Y5c0MsS0FBTSxLQUNOL2hCLE1BQU8sSUFDUHFyRCxZQUFZLE9BSVR5RCxVQUFZQyxHQUFTLEdBQUlySSxFQUFTaUYsTUFBT2pGLEVBQVN1RixRQUNsRCtDLGFBQWVELEdBQVMsR0FBSXJJLEVBQVM4RyxnQkFBaUI5RyxFQUFTK0csb0JBQy9Ed0IsWUFBY0YsR0FBUyxHQUFJckksRUFBU3dILGVBQWdCeEgsRUFBU3lILHFCQWlCbEV2SCxFQUFrQixDQUFDLE9BQVEsU0FBVSxPQUFRLFVBQVcsY0FBZSxxQkFBc0Isc0JBQXVCLFFBQVMsT0FDN0h1QyxFQUFhLENBQ2Z4QyxLQUFNLENBQ0pKLFdBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFdkMySSxLQUFNLENBQ0ozSSxXQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRXZDNEksT0FBUSxDQUNONUksV0FBWSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUV2QzZJLEtBQU0sQ0FDSjdJLFdBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFdkM4SSxRQUFTLENBQ1A5SSxXQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRXZDK0ksWUFBYSxDQUNYL0ksV0FBWSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUV2Q2dKLG1CQUFvQixDQUNsQmhKLFdBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFdkNpSixvQkFBcUIsQ0FDbkJqSixXQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRXZDa0osTUFBTyxDQUNMbEosV0FBWSxDQUFDLEVBQUcsS0FBTyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFeENtSixRQUFTLENBQ1BuSixXQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRXZDb0osT0FBUSxDQUNOcEosV0FBWSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUV2Q3FKLE9BQVEsQ0FDTnJKLFdBQVksQ0FBQyxFQUFHLEtBQU8sRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRXhDc0osTUFBTyxDQUNMdEosV0FBWSxDQUFDLEVBQUcsS0FBTyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFeEN1SixTQUFVLENBQ1J2SixXQUFZLENBQUMsUUFBVyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekN3SixnQkFBaUIsQ0FDZnhKLFdBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFdkN5SixxQkFBc0IsQ0FDcEJ6SixXQUFZLE9BQVMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekMwSixtQkFBb0IsQ0FDbEIxSixXQUFZLENBQUMsRUFBRyxRQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekMySixvQkFBcUIsQ0FDbkIzSixXQUFZLENBQUMsRUFBRyxRQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekM0SixvQkFBcUIsQ0FDbkI1SixXQUFZLENBQUMsRUFBRyxRQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekM2SixxQkFBc0IsQ0FDcEI3SixXQUFZLE9BQVMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekM4SixjQUFlLENBQ2I5SixXQUFZLENBQUMsRUFBRyxRQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekMrSixzQkFBdUIsQ0FDckIvSixXQUFZLENBQUMsRUFBRyxRQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFekNnSyxVQUFXLENBQ1RoSyxXQUFZLENBQUMsRUFBRyxLQUFPLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUV4Q2lLLE1BQU8sQ0FDTGpLLFdBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFFdkNrSyxJQUFLLENBQ0hsSyxXQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLGFBSWhDOWtDLEtBQU8wbkMsRUFDVjNwRCxHQUFlMnBELEVBQVkxbkMsT0FDbEJBLEdBQUtBLElBQU1BLE9BS3RCK2tDLEVBQVksQ0FDZHprQyxLQUFNLEdBQ051YyxLQUhtQixHQUluQnQrQixNQUFPLEVBQ1B5QyxPQUFRLEVBQ1I4akQsV0FBWUssRUFBZ0J4bEMsUUFBUyxLQUVuQ3duQyxFQUFRLENBRVY4SCxNQUFPLENBQ0wzdUMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sRUFDUHlDLE9BQVEsR0FFVmt1RCxLQUFNLENBQ0o1dUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxNQUNQeUMsT0FBUSxHQUVWbXVELEtBQU0sQ0FDSjd1QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLE1BQ1B5QyxPQUFRLEdBRVZvdUQsS0FBTSxDQUNKOXVDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV2dHLE9BQ2pCdEcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sTUFDUHlDLE9BQVEsR0FFVnF1RCxLQUFNLENBQ0ovdUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxTQUNQeUMsT0FBUSxHQUVWc3VELEtBQU0sQ0FDSmh2QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFFBQ1B5QyxPQUFRLEdBRVZ1dUQsSUFBSyxDQUNIanZDLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBV2dHLE9BQ2pCdEcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sT0FDUHlDLE9BQVEsR0FFVnd1RCxNQUFPLENBQ0xsdkMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxRQUNQeUMsT0FBUSxHQUVWeXVELFNBQVUsQ0FDUm52QyxLQUFNLFdBQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLE1BQ1B5QyxPQUFRLEdBRVYzQixFQUFHLENBQ0RpaEIsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVjB1RCxHQUFJLENBQ0ZwdkMsS0FBTSxLQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxNQUNQeUMsT0FBUSxHQUVWMnVELEdBQUksQ0FDRnJ2QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLE1BQ1B5QyxPQUFRLEdBRVZvM0IsR0FBSSxDQUNGOVgsS0FBTSxLQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxNQUNQeUMsT0FBUSxHQUVWNHVELEdBQUksQ0FDRnR2QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFNBQ1B5QyxPQUFRLEdBRVY2dUQsR0FBSSxDQUNGdnZDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV2dHLE9BQ2pCdEcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sUUFDUHlDLE9BQVEsR0FFVnUyQixHQUFJLENBQ0ZqWCxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVdnRyxPQUNqQnRHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFFBQ1B5QyxPQUFRLEdBRVY4dUQsR0FBSSxDQUNGeHZDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV2dHLE9BQ2pCdEcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sUUFDUHlDLE9BQVEsR0FFVit1RCxJQUFLLENBQ0h6dkMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXZ0csT0FDakJ0RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxPQUNQeUMsT0FBUSxHQUlWZ3ZELEdBQUksQ0FDRjF2QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVd1RyxRQUNqQjdHLFNBQVVuQyxFQUFTNEcsUUFDbkJ0dEQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWaXZELEtBQU0sQ0FDSjN2QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd1RyxRQUNqQjdHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFNBQ1B5QyxPQUFRLEdBR1ZrdkQsS0FBTSxDQUNKNXZDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3VHLFFBQ2pCN0csU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sVUFDUHlDLE9BQVEsR0FHVm12RCxLQUFNLENBQ0o3dkMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXdUcsUUFDakI3RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxVQUNQeUMsT0FBUSxHQUdWb3ZELEtBQU0sQ0FDSjl2QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd1RyxRQUNqQjdHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLGVBQ1B5QyxPQUFRLEdBR1ZxdkQsS0FBTSxDQUNKL3ZDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3VHLFFBQ2pCN0csU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sU0FDUHlDLE9BQVEsR0FHVnN2RCxLQUFNLENBQ0pod0MsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXdUcsUUFDakI3RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxTQUNQeUMsT0FBUSxHQUdWdXZELE1BQU8sQ0FDTGp3QyxLQUFNLFFBQ051YyxLQUFNNnFCLEVBQVd1RyxRQUNqQjdHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFdBQ1B5QyxPQUFRLEdBR1Z3dkQsS0FBTSxDQUNKbHdDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3VHLFFBQ2pCN0csU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sUUFDUHlDLE9BQVEsR0FHVnl2RCxRQUFTLENBQ1Bud0MsS0FBTSxVQUNOdWMsS0FBTTZxQixFQUFXdUcsUUFDakI3RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxJQUNQeUMsT0FBUSxHQUlWMHZELEdBQUksQ0FDRnB3QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTNkcsTUFDbkJ2dEQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWMnZELEVBQUcsQ0FDRHJ3QyxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxLQUNQeUMsT0FBUSxHQUdWcUgsRUFBRyxDQUNEaVksS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sS0FDUHlDLE9BQVEsR0FHVjR2RCxNQUFPLENBQ0x0d0MsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sS0FDUHlDLE9BQVEsR0FFVjZ2RCxLQUFNLENBQ0p2d0MsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxhQUNQeUMsT0FBUSxHQUdWOHZELEtBQU0sQ0FDSnh3QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLGNBQ1B5QyxPQUFRLEdBR1YrdkQsS0FBTSxDQUNKendDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sY0FDUHlDLE9BQVEsR0FHVmd3RCxTQUFVLENBQ1Ixd0MsS0FBTSxXQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxLQUNQeUMsT0FBUSxHQUdWaXdELFdBQVksQ0FDVjN3QyxLQUFNLGFBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLE1BQ1B5QyxPQUFRLEdBSVZrd0QsS0FBTSxDQUNKNXdDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sS0FDUHlDLE9BQVEsR0FHVm13RCxJQUFLLENBQ0g3d0MsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxLQUNQeUMsT0FBUSxHQUlWb3dELE1BQU8sQ0FDTDl3QyxLQUFNLFFBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFlBQ1B5QyxPQUFRLEdBR1Zxd0QsVUFBVyxDQUNUL3dDLEtBQU0sWUFDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sYUFDUHlDLE9BQVEsR0FHVnN3RCxXQUFZLENBQ1ZoeEMsS0FBTSxhQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxZQUNQeUMsT0FBUSxHQUdWdXdELEtBQU0sQ0FDSmp4QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFlBQ1B5QyxPQUFRLEdBR1Z3d0QsR0FBSSxDQUNGbHhDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sS0FDUHlDLE9BQVEsR0FHVnl3RCxJQUFLLENBQ0hueEMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxZQUNQeUMsT0FBUSxHQUdWMHdELEtBQU0sQ0FDSnB4QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFlBQ1B5QyxPQUFRLEdBR1Yyd0QsTUFBTyxDQUNMcnhDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sWUFDUHlDLE9BQVEsR0FHVjR3RCxPQUFRLENBQ050eEMsS0FBTSxTQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxXQUNQeUMsT0FBUSxHQUdWNndELFdBQVksQ0FDVnZ4QyxLQUFNLGFBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFNBQ1B5QyxPQUFRLEdBR1Y4d0QsVUFBVyxDQUNUeHhDLEtBQU0sWUFDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sU0FDUHlDLE9BQVEsR0FHVit3RCxTQUFVLENBQ1J6eEMsS0FBTSxXQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxRQUNQeUMsT0FBUSxHQUlWZ3hELEtBQU0sQ0FDSjF4QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLGFBQ1B5QyxPQUFRLEdBR1ZpeEQsS0FBTSxDQUNKM3hDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sWUFDUHlDLE9BQVEsR0FHVmt4RCxHQUFJLENBQ0Y1eEMsS0FBTSxLQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxZQUNQeUMsT0FBUSxHQUdWbXhELEdBQUksQ0FDRjd4QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFlBQ1B5QyxPQUFRLEdBR1ZveEQsR0FBSSxDQUNGOXhDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sWUFDUHlDLE9BQVEsR0FHVnF4RCxHQUFJLENBQ0YveEMsS0FBTSxLQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxZQUNQeUMsT0FBUSxHQUdWc3hELElBQUssQ0FDSGh5QyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVd3RyxPQUNqQjlHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFdBQ1B5QyxPQUFRLEdBR1Z1eEQsSUFBSyxDQUNIanlDLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBV3dHLE9BQ2pCOUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sU0FDUHlDLE9BQVEsR0FHVnd4RCxJQUFLLENBQ0hseUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXd0csT0FDakI5RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxTQUNQeUMsT0FBUSxHQUtWdVgsRUFBRyxDQUNEK0gsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sS0FDUHlDLE9BQVEsR0FFVnl4RCxLQUFNLENBQ0pueUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sS0FDUHlDLE9BQVEsR0FFVjB4RCxJQUFLLENBQ0hweUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sVUFDUHlDLE9BQVEsR0FFVm9CLEVBQUcsQ0FDRGtlLEtBQU0sSUFDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLElBQ1B5QyxPQUFRLEdBRVYyeEQsTUFBTyxDQUNMcnlDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLElBQ1B5QyxPQUFRLEdBRVY0eEQsTUFBTyxDQUNMdHlDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sWUFDUHlDLE9BQVEsR0FFVjZ4RCxLQUFNLENBQ0p2eUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxrQkFDUHlDLE9BQVEsR0FFVjh4RCxNQUFPLENBQ0x4eUMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxjQUNQeUMsT0FBUSxHQUVWK3hELFVBQVcsQ0FDVHp5QyxLQUFNLFlBQ051YyxLQUFNNnFCLEVBQVcrRixLQUNqQnJHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFVBQ1B5QyxPQUFRLEdBRVZneUQsY0FBZSxDQUNiMXlDLEtBQU0sZ0JBQ051YyxLQUFNNnFCLEVBQVcrRixLQUNqQnJHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFVBQ1B5QyxPQUFRLEdBRVZpeUQsTUFBTyxDQUNMM3lDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sS0FDUHlDLE9BQVEsR0FFVmt5RCxNQUFPLENBQ0w1eUMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxXQUNQeUMsT0FBUSxHQUVWbXlELEdBQUksQ0FDRjd5QyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVcrRixLQUNqQnJHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFlBQ1B5QyxPQUFRLEdBRVZveUQsR0FBSSxDQUNGOXlDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sa0JBQ1B5QyxPQUFRLEdBRVZxeUQsR0FBSSxDQUNGL3lDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBVytGLEtBQ2pCckcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sY0FDUHlDLE9BQVEsR0FFVnN5RCxJQUFLLENBQ0hoekMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXK0YsS0FDakJyRyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxVQUNQeUMsT0FBUSxHQUVWdXlELElBQUssQ0FDSGp6QyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVcrRixLQUNqQnJHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFVBQ1B5QyxPQUFRLEdBR1ZoQyxFQUFHLENBQ0RzaEIsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXaUcsS0FDakJ2RyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVnZCLElBQUssQ0FDSDZnQixLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVdpRyxLQUNqQnZHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLEdBQ1B5QyxPQUFRLEdBRVZtVCxFQUFHLENBQ0RtTSxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVdpRyxLQUNqQnZHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLEtBQ1B5QyxPQUFRLEdBRVZ3eUQsT0FBUSxDQUNObHpDLEtBQU0sU0FDTnVjLEtBQU02cUIsRUFBV2lHLEtBQ2pCdkcsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVY2akMsSUFBSyxDQUNIdmtCLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBV2lHLEtBQ2pCdkcsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZ5eUQsT0FBUSxDQUNObnpDLEtBQU0sU0FDTnVjLEtBQU02cUIsRUFBV2lHLEtBQ2pCdkcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sR0FDUHlDLE9BQVEsR0FFVjB5RCxLQUFNLENBQ0pwekMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXaUcsS0FDakJ2RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxLQUNQeUMsT0FBUSxHQUVWMnlELElBQUssQ0FDSHJ6QyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVdpRyxLQUNqQnZHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLE1BQ1B5QyxPQUFRLEdBRVY0eUQsS0FBTSxDQUNKdHpDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV2lHLEtBQ2pCdkcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sT0FDUHlDLE9BQVEsR0FFVjZ5RCxNQUFPLENBQ0x2ekMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXaUcsS0FDakJ2RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxRQUVQeUMsT0FBUSxHQUVWOHlELEtBQU0sQ0FDSnh6QyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVdpRyxLQUNqQnZHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFNBRVB5QyxPQUFRLEdBRVYreUQsT0FBUSxDQUNOenpDLEtBQU0sU0FDTnVjLEtBQU02cUIsRUFBV2lHLEtBQ2pCdkcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sU0FFUHlDLE9BQVEsR0FFVmd6RCxRQUFTLENBQ1AxekMsS0FBTSxVQUNOdWMsS0FBTTZxQixFQUFXaUcsS0FDakJ2RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxTQUVQeUMsT0FBUSxHQUVWaXpELFdBQVksQ0FDVjN6QyxLQUFNLGFBQ051YyxLQUFNNnFCLEVBQVdpRyxLQUNqQnZHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFNBRVB5QyxPQUFRLEdBR1ZrekQsTUFBTyxDQUNMNXpDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBV29ILFVBQ2pCMUgsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEVBQ1JtekQsWUFBWSxHQUVkQyxHQUFJLENBQ0Y5ekMsS0FBTSxLQUNOdWMsS0FBTTZxQixFQUFXb0gsVUFDakIxSCxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsRUFDUm16RCxZQUFZLEdBR2RFLElBQUssQ0FDSC96QyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWc3pELE9BQVEsQ0FDTmgwQyxLQUFNLFNBQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxFQUNQeUMsT0FBUSxHQUdWdXpELElBQUssQ0FDSGowQyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxLQUVQeUMsT0FBUSxHQUVWOGhELE9BQVEsQ0FDTnhpQyxLQUFNLFNBQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxLQUVQeUMsT0FBUSxHQUdWd3pELEtBQU0sQ0FDSmwwQyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxLQUVQeUMsT0FBUSxHQUVWeXpELFFBQVMsQ0FDUG4wQyxLQUFNLFVBQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxLQUVQeUMsT0FBUSxHQUdWMHpELE1BQU8sQ0FDTHAwQyxLQUFNLFFBQ051YyxLQUFNNnFCLEVBQVdxSCxNQUNqQjNILFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLEtBRVB5QyxPQUFRLEdBR1YyekQsT0FBUSxDQUNOcjBDLEtBQU0sU0FDTnVjLEtBQU02cUIsRUFBV3FILE1BQ2pCM0gsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sS0FFUHlDLE9BQVEsR0FHVjR6RCxPQUFRLENBQ050MEMsS0FBTSxTQUNOdWMsS0FBTTZxQixFQUFXcUgsTUFDakIzSCxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxLQUVQeUMsT0FBUSxHQUdWaW1DLEVBQUcsQ0FDRDNtQixLQUFNLElBQ051YyxLQUFNNnFCLEVBQVdrRyxRQUNqQnhHLFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWNnpELE9BQVEsQ0FDTnYwQyxLQUFNLFNBQ051YyxLQUFNNnFCLEVBQVdrRyxRQUNqQnhHLFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxFQUNQeUMsT0FBUSxHQU1WOHpELEVBQUcsQ0FDRHgwQyxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVdtRyxZQUNqQnpHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVYrekQsS0FBTSxDQUNKejBDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV21HLFlBQ2pCekcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sRUFDUHlDLE9BQVEsUUFFVmcwRCxLQUFNLENBQ0oxMEMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXbUcsWUFDakJ6RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxFQUFJLElBQ1h5QyxPQUFRLFFBRVZpMEQsS0FBTSxDQUNKMzBDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV21HLFlBQ2pCekcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sRUFBSSxJQUNYeUMsT0FBUSxHQUVWazBELE9BQVEsQ0FDTjUwQyxLQUFNLFNBQ051YyxLQUFNNnFCLEVBQVdtRyxZQUNqQnpHLFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZtMEQsUUFBUyxDQUNQNzBDLEtBQU0sVUFDTnVjLEtBQU02cUIsRUFBV21HLFlBQ2pCekcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sRUFDUHlDLE9BQVEsUUFFVm8wRCxXQUFZLENBQ1Y5MEMsS0FBTSxhQUNOdWMsS0FBTTZxQixFQUFXbUcsWUFDakJ6RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxFQUFJLElBQ1h5QyxPQUFRLFFBRVZxMEQsUUFBUyxDQUNQLzBDLEtBQU0sVUFDTnVjLEtBQU02cUIsRUFBV21HLFlBQ2pCekcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sRUFBSSxJQUNYeUMsT0FBUSxHQUdWczBELElBQUssQ0FDSGgxQyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVdxRyxvQkFDakIzRyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVnUwRCxLQUFNLENBQ0pqMUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXcUcsb0JBQ2pCM0csU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBR1Z3MEQsR0FBSSxDQUNGbDFDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV29HLG1CQUNqQjFHLFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWeTBELFFBQVMsQ0FDUG4xQyxLQUFNLFVBQ051YyxLQUFNNnFCLEVBQVdvRyxtQkFDakIxRyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sRUFDUHlDLE9BQVEsR0FNVnFtQyxFQUFHLENBQ0QvbUIsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVjAwRCxPQUFRLENBQ05wMUMsS0FBTSxTQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sRUFDUHlDLE9BQVEsR0FFVjIwRCxJQUFLLENBQ0hyMUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sS0FDUHlDLE9BQVEsR0FFVjQwRCxLQUFNLENBQ0p0MUMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sS0FDUHlDLE9BQVEsR0FFVjYwRCxJQUFLLENBQ0h2MUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxnQkFDUHlDLE9BQVEsR0FFVjgwRCxXQUFZLENBQ1Z4MUMsS0FBTSxhQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxnQkFDUHlDLE9BQVEsR0FFViswRCxJQUFLLENBQ0h6MUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXc0csTUFDakI1RyxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sVUFDUHlDLE9BQVEsR0FFVmcxRCxjQUFlLENBQ2IxMUMsS0FBTSxnQkFDTnVjLEtBQU02cUIsRUFBV3NHLE1BQ2pCNUcsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sUUFDUHlDLE9BQVEsR0FHVmkxRCxFQUFHLENBQ0QzMUMsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXeUcsT0FDakIvRyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVmsxRCxNQUFPLENBQ0w1MUMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXeUcsT0FDakIvRyxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FFVm0xRCxJQUFLLENBQ0g3MUMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXeUcsT0FDakIvRyxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxLQUNQeUMsT0FBUSxHQUVWbzFELEdBQUksQ0FDRjkxQyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVd5RyxPQUNqQi9HLFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxLQUNQeUMsT0FBUSxHQUVWbXNELElBQUssQ0FDSDdzQyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVd5RyxPQUNqQi9HLFNBQVVuQyxFQUFTa0ksSUFDbkI1dUQsTUFBTyxjQUNQeUMsT0FBUSxHQUVWcTFELEdBQUksQ0FDRi8xQyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVd5RyxPQUNqQi9HLFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxlQUNQeUMsT0FBUSxHQUVWczFELGFBQWMsQ0FDWmgyQyxLQUFNLGVBQ051YyxLQUFNNnFCLEVBQVd5RyxPQUNqQi9HLFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxlQUNQeUMsT0FBUSxHQUdWaW5ELEVBQUcsQ0FDRDNuQyxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVcwRyxNQUNqQmhILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUVWdTFELEtBQU0sQ0FDSmoyQyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVcwRyxNQUNqQmhILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxFQUNQeUMsT0FBUSxHQUVWdzFELEdBQUksQ0FDRmwyQyxLQUFNLEtBQ051YyxLQUFNNnFCLEVBQVcwRyxNQUNqQmhILFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLGVBQ1B5QyxPQUFRLEdBR1Zvb0QsSUFBSyxDQUNIOW9DLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBVzBHLE1BQ2pCaEgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPcTJCLEVBQVE2aEMsRUFDZnoxRCxPQUFRLEdBRVZxb0QsR0FBSSxDQUNGL29DLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBVzBHLE1BQ2pCaEgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLEVBQ1B5QyxPQUFRLEdBR1YwMUQsR0FBSSxDQUNGcDJDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBVzJHLFNBQ2pCakgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVYyMUQsSUFBSyxDQUNIcjJDLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBVzJHLFNBQ2pCakgsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8saUJBQ1B5QyxPQUFRLEdBRVY0MUQsSUFBSyxDQUNIdDJDLEtBQU0sTUFDTnVjLEtBQU02cUIsRUFBVzJHLFNBQ2pCakgsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sT0FDUHlDLE9BQVEsR0FFVjYxRCxJQUFLLENBQ0h2MkMsS0FBTSxNQUNOdWMsS0FBTTZxQixFQUFXMkcsU0FDakJqSCxTQUFVbkMsRUFBU29JLFVBQ25COXVELE1BQU8sSUFDUHlDLE9BQVEsR0FFVjgxRCxLQUFNLENBQ0p4MkMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXMkcsU0FDakJqSCxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxRQUNQeUMsT0FBUSxHQUVWKzFELEtBQU0sQ0FDSnoyQyxLQUFNLE9BQ051YyxLQUFNNnFCLEVBQVcyRyxTQUNqQmpILFNBQVVuQyxFQUFTQyxLQUNuQjNtRCxNQUFPLFFBQ1B5QyxPQUFRLEdBRVZnMkQsTUFBTyxDQUNMMTJDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBVzJHLFNBQ2pCakgsU0FBVW5DLEVBQVNDLEtBQ25CM21ELE1BQU8sUUFDUHlDLE9BQVEsR0FFVmkyRCxNQUFPLENBQ0wzMkMsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXMkcsU0FDakJqSCxTQUFVbkMsRUFBU0MsS0FDbkIzbUQsTUFBTyxRQUNQeUMsT0FBUSxHQUdWazJELFFBQVMsQ0FDUDUyQyxLQUFNLFVBQ051YyxLQUFNNnFCLEVBQVc0RyxnQkFDakJsSCxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sRUFDUHlDLE9BQVEsR0FFVm1tQyxFQUFHLENBQ0Q3bUIsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXNEcsZ0JBQ2pCbEgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLEVBQ1B5QyxPQUFRLEdBR1ZtMkQsTUFBTyxDQUNMNzJDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBVzZHLHFCQUNqQm5ILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxFQUNQeUMsT0FBUSxHQUVWbzJELEVBQUcsQ0FDRDkyQyxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVc2RyxxQkFDakJuSCxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FHVnEyRCxLQUFNLENBQ0ovMkMsS0FBTSxPQUNOdWMsS0FBTTZxQixFQUFXOEcsbUJBQ2pCcEgsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZzMkQsRUFBRyxDQUNEaDNDLEtBQU0sSUFDTnVjLEtBQU02cUIsRUFBVzhHLG1CQUNqQnBILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUdWdTJELElBQUssQ0FDSGozQyxLQUFNLE1BQ051YyxLQUFNNnFCLEVBQVcrRyxvQkFDakJySCxTQUFVbkMsRUFBU29JLFVBRW5COXVELE1BQU8sRUFDUHlDLE9BQVEsR0FjVncyRCxNQUFPLENBQ0xsM0MsS0FBTSxRQUNOdWMsS0FBTTZxQixFQUFXZ0gsb0JBQ2pCdEgsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZ5MkQsRUFBRyxDQUNEbjNDLEtBQU0sSUFDTnVjLEtBQU02cUIsRUFBV2dILG9CQUNqQnRILFNBQVVuQyxFQUFTaUYsTUFDbkIzckQsTUFBTyxFQUNQeUMsT0FBUSxHQUdWMDJELFFBQVMsQ0FDUHAzQyxLQUFNLFVBQ051YyxLQUFNNnFCLEVBQVdpSCxxQkFDakJ2SCxTQUFVbkMsRUFBU3VGLEtBQ25CanNELE1BQU8sRUFDUHlDLE9BQVEsR0FFVjIyRCxFQUFHLENBQ0RyM0MsS0FBTSxJQUNOdWMsS0FBTTZxQixFQUFXaUgscUJBQ2pCdkgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLEVBQ1B5QyxPQUFRLEdBR1Y0MkQsTUFBTyxDQUNMdDNDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBV2tILGNBQ2pCeEgsU0FBVW5DLEVBQVN1RixLQUNuQmpzRCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVY2MkQsR0FBSSxDQUNGdjNDLEtBQU0sS0FDTnVjLEtBQU02cUIsRUFBV2tILGNBQ2pCeEgsU0FBVW5DLEVBQVNpRixNQUNuQjNyRCxNQUFPLEVBQ1B5QyxPQUFRLEdBR1Y4MkQsTUFBTyxDQUNMeDNDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBV21ILHNCQUNqQnpILFNBQVVuQyxFQUFTdUYsS0FDbkJqc0QsTUFBTyxFQUNQeUMsT0FBUSxHQUVWcXBELEVBQUcsQ0FDRC9wQyxLQUFNLElBQ051YyxLQUFNNnFCLEVBQVdtSCxzQkFDakJ6SCxTQUFVbkMsRUFBU2lGLE1BQ25CM3JELE1BQU8sRUFDUHlDLE9BQVEsR0FHVitWLEVBQUcsQ0FDRHVKLEtBQU0sSUFDTnVjLEtBQU02cUIsRUFBV3NILElBQ2pCNUgsU0FBVW5DLEVBQVNzSSxhQUNuQmh2RCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVYrMkQsS0FBTSxDQUNKejNDLEtBQU0sT0FDTnVjLEtBQU02cUIsRUFBV3NILElBQ2pCNUgsU0FBVW5DLEVBQVN1SSxZQUNuQmp2RCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZrbUMsRUFBRyxDQUNENW1CLEtBQU0sSUFDTnVjLEtBQU02cUIsRUFBV3NILElBQ2pCNUgsU0FBVW5DLEVBQVNzSSxhQUNuQmh2RCxNQUFPLEVBQ1B5QyxPQUFRLEdBRVZnM0QsTUFBTyxDQUNMMTNDLEtBQU0sUUFDTnVjLEtBQU02cUIsRUFBV3NILElBQ2pCNUgsU0FBVW5DLEVBQVN1SSxZQUNuQmp2RCxNQUFPLEVBQ1B5QyxPQUFRLElBSVJpM0QsRUFBVSxDQUNaQyxPQUFRLFFBQ1JDLE9BQVEsT0FDUkMsS0FBTSxPQUNOQyxNQUFPLE9BQ1BDLE1BQU8sT0FDUEMsTUFBTyxPQUNQQyxLQUFNLE1BQ05DLE9BQVEsUUFDUkMsVUFBVyxXQUNYaDhCLEdBQUksSUFDSmk4QixPQUFRLFFBQ1JDLE1BQU8sUUFDUEMsT0FBUSxRQUNSQyxVQUFXLFdBQ1hDLFlBQWEsYUFDYkMsT0FBUSxRQUNSQyxXQUFZLFlBQ1pDLFlBQWEsYUFDYkMsTUFBTyxPQUNQQyxLQUFNLE1BQ05DLE1BQU8sT0FDUEMsT0FBUSxRQUNSQyxRQUFTLFNBQ1RDLFlBQWEsYUFDYkMsV0FBWSxZQUNaQyxVQUFXLFdBQ1hDLEtBQU0sTUFDTkMsTUFBTyxPQUNQQyxLQUFNLE1BQ05DLE9BQVEsUUFDUkMsT0FBUSxRQUNSQyxNQUFPLE9BQ1BDLE9BQVEsUUFDUkMsWUFBYSxZQUNiQyxlQUFnQixnQkFDaEJDLE9BQVEsUUFDUkMsR0FBSSxNQUNKQyxJQUFLLE1BQ0xDLEtBQU0sTUFDTkMsSUFBSyxnQkFDTEMsTUFBTyxPQUNQQyxTQUFVLFVBQ1ZDLE9BQVEsT0FDUkMsT0FBUSxPQUNSQyxPQUFRLE9BQ1JDLFFBQVMsT0FDVEMsS0FBTSxPQUNOQyxNQUFPLFFBQ1BDLE1BQU8sUUFDUEMsUUFBUyxTQUNUQyxLQUFNLFNBQ05DLFFBQVMsU0FDVEMsS0FBTSxTQUNOQyxNQUFPLE9BQ1BDLEdBQUksT0FDSkMsSUFBSyxPQUNMQyxLQUFNLE1BQ05DLE1BQU8sT0FDUEMsT0FBUSxRQUNSQyxNQUFPLE9BQ1BDLFFBQVMsU0FDVEMsVUFBVyxVQUNYQyxVQUFXLGFBQ1g3SCxNQUFPLFFBQ1A3d0QsUUFBUyxTQUNURCxRQUFTLFNBQ1Q0NEQsU0FBVSxVQUNWQyxPQUFRLFFBQ1JDLFVBQVcsU0FDWEMsV0FBWSxTQUNaQyxVQUFXLFNBQ1hDLFdBQVksU0FDWkMsS0FBTSxNQUNOQyxNQUFPLE9BQ1BDLE9BQVEsUUFDUkMsUUFBUyxTQUNUQyxTQUFVLFVBQ1ZDLE1BQU8sT0FDUEMsS0FBTSxNQUNOQyxPQUFRLFFBQ1JDLE9BQVEsUUFDUkMsT0FBUSxRQUNSQyxjQUFlLGVBQ2ZDLE1BQU8sT0FDUEMsSUFBSyxPQUNMQyxLQUFNLG9CQVFzQkMsTUFDTixjQUFsQkEsRUFBT25zQixPQUF3QixLQUM3QjVQLEVBQUtnOEIsR0FBUzFZLEtBQ1owUCxJQUFJOTFELE1BQVEsSUFBSW9tRCxFQUFXLEtBQzNCNFAsSUFBSWgyRCxNQUFROGlDLEVBQUd0SCxJQUFJLE9BRW5CeTZCLEtBQUtqMkQsTUFBUThpQyxFQUFHdEgsSUFBSSxPQUVwQjI2QixNQUFNbjJELE1BQVE4aUMsRUFBR3ZJLE1BQU0sS0FFdkI2N0IsT0FBT3AyRCxNQUFROGlDLEVBQUd0SCxJQUFJLFNBRXRCNjZCLE9BQU9yMkQsTUFBUThpQyxFQUFHdEgsSUFBSSxlQUd0QnM2QixJQUFJOTFELE1BQVEsSUFDWmcyRCxJQUFJaDJELE1BQVFpQixLQUFLZSxHQUFLLE1BRXRCaTBELEtBQUtqMkQsTUFBUWlCLEtBQUtlLEdBQUssTUFFdkJtMEQsTUFBTW4yRCxNQUFrQixFQUFWaUIsS0FBS2UsS0FFbkJvMEQsT0FBT3AyRCxNQUFRaUIsS0FBS2UsR0FBSyxRQUV6QnEwRCxPQUFPcjJELE1BQVFpQixLQUFLZSxHQUFLLFFBSTNCK3pELE9BQU8vMUQsTUFBUTRvRCxFQUFNa04sSUFBSTkxRCxRQUN6QnVrRCxPQUFPdmtELE1BQVE0b0QsRUFBTW9OLElBQUloMkQsUUFDekJrMkQsUUFBUWwyRCxNQUFRNG9ELEVBQU1xTixLQUFLajJELFNBSWRvbEMsR0FFakJELEtBRUMsVUFBVSxTQUFVL1IsRUFBTUQsR0FDdkJDLEVBQUtzZixTQUFXdmYsRUFBS3VmLFVBQ0Z0ZixXQVd2QmczQixFQUFlLENBQ2pCQyxHQUFJLENBRUYxRCxLQUFNLENBQ0ozVCxLQUFNd1QsRUFDTkMsT0FBUUMsRUFBU0MsS0FBSyxLQUV4QndJLE9BQVEsQ0FDTm5jLEtBQU00VixFQUFNOW5ELEVBQ1oybEQsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekJ1RCxLQUFNLENBQ0psYyxLQUFNNFYsRUFBTTV1QyxFQUNaeXNDLE9BQVFDLEVBQVNpRixNQUFNbHpCLEdBRXpCMjJCLEtBQU0sQ0FDSnBjLEtBQU00VixFQUFNbm9ELEVBQ1pnbUQsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekIwRCxRQUFTLENBQ1ByYyxLQUFNNFYsRUFBTWxnQixFQUNaK2QsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekIyRCxZQUFhLENBQ1h0YyxLQUFNNFYsRUFBTTJOLEVBQ1o5UCxPQUFRQyxFQUFTaUYsTUFBTSxLQUV6QjRELG1CQUFvQixDQUNsQnZjLEtBQU00VixFQUFNcU8sR0FDWnhRLE9BQVFDLEVBQVNpRixNQUFNLEtBRXpCNkQsb0JBQXFCLENBQ25CeGMsS0FBTTRWLEVBQU1tTyxJQUNadFEsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekI2RSxNQUFPLENBQ0x4ZCxLQUFNNFYsRUFBTWtOLElBQ1pyUCxPQUFRQyxFQUFTaUYsTUFBTSxLQUV6QjhFLElBQUssQ0FDSHpkLEtBQU00VixFQUFNNFEsS0FDWi9TLE9BQVFDLEVBQVNpRixNQUFNLEtBR3pCOEQsTUFBTyxDQUNMemMsS0FBTTRWLEVBQU05ZixFQUNaMmQsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekJpRSxPQUFRLENBQ041YyxLQUFNNFYsRUFBTThPLEVBQ1pqUixPQUFRQyxFQUFTaUYsTUFBTSxLQUV6QmtFLE1BQU8sQ0FDTDdjLEtBQU00VixFQUFNYyxFQUNaakQsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekJtRSxTQUFVLENBQ1I5YyxLQUFNNFYsRUFBTXVQLEdBQ1oxUixPQUFRQyxFQUFTaUYsTUFBTSxLQUV6Qm9FLGdCQUFpQixDQUNmL2MsS0FBTTRWLEVBQU1oZ0IsRUFDWjZkLE9BQVFDLEVBQVNpRixNQUFNLEtBRXpCcUUscUJBQXNCLENBQ3BCaGQsS0FBTTRWLEVBQU1pUSxFQUNacFMsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekJzRSxtQkFBb0IsQ0FDbEJqZCxLQUFNNFYsRUFBTW1RLEVBQ1p0UyxPQUFRQyxFQUFTaUYsTUFBTSxLQUV6QnVFLG9CQUFxQixDQUNuQmxkLEtBQU00VixFQUFNb1EsSUFDWnZTLE9BQVFDLEVBQVNpRixNQUFNLEtBRXpCd0Usb0JBQXFCLENBQ25CbmQsS0FBTTRWLEVBQU1zUSxFQUNaelMsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekJ5RSxxQkFBc0IsQ0FDcEJwZCxLQUFNNFYsRUFBTXdRLEVBQ1ozUyxPQUFRQyxFQUFTaUYsTUFBTSxLQUV6QjBFLGNBQWUsQ0FDYnJkLEtBQU00VixFQUFNMFEsR0FDWjdTLE9BQVFDLEVBQVNpRixNQUFNLEtBRXpCMkUsc0JBQXVCLENBQ3JCdGQsS0FBTTRWLEVBQU1rRCxFQUNackYsT0FBUUMsRUFBU2lGLE1BQU0sS0FFekI0RSxVQUFXLENBQ1R2ZCxLQUFNNFYsRUFBTWlOLEdBQ1pwUCxPQUFRQyxFQUFTaUYsTUFBTSxTQUtoQm9ULElBQU1yckIsS0FBSzVOLE1BQU00TixLQUFLQyxVQUFVeVcsRUFBYUMsT0FDN0MwVSxJQUFJNVAsT0FBUyxDQUN4Qm5jLEtBQU00VixFQUFNOW5ELEVBQ1oybEQsT0FBUUMsRUFBU2lGLE1BQU1sekMsS0FFWnNtRCxJQUFJN1AsS0FBTyxDQUN0QmxjLEtBQU00VixFQUFNNXVDLEVBQ1p5c0MsT0FBUUMsRUFBU2lGLE1BQU0sT0FFWm9ULElBQUl0UCxNQUFRLENBQ3ZCemMsS0FBTTRWLEVBQU13TyxJQUNaM1EsT0FBUUMsRUFBU2lGLE1BQU0sT0FFWm9ULElBQUluUCxPQUFTLENBQ3hCNWMsS0FBTTRWLEVBQU1nUCxJQUNablIsT0FBUUMsRUFBU0MsS0FBSyxPQUlYcVksR0FBS3RyQixLQUFLNU4sTUFBTTROLEtBQUtDLFVBQVV5VyxFQUFhQyxPQUM1QzJVLEdBQUc3UCxPQUFTLENBQ3ZCbmMsS0FBTTRWLEVBQU13SSxHQUNaM0ssT0FBUUMsRUFBU0MsS0FBSyxPQUVYcVksR0FBRzlQLEtBQU8sQ0FDckJsYyxLQUFNNFYsRUFBTW1NLElBQ1p0TyxPQUFRQyxFQUFTQyxLQUFLLE9BRVhxWSxHQUFHMVAsWUFBYyxDQUM1QnRjLEtBQU00VixFQUFNNk4sS0FDWmhRLE9BQVFDLEVBQVNDLEtBQUssT0FFWHFZLEdBQUd2UCxNQUFRLENBQ3RCemMsS0FBTTRWLEVBQU0wTyxJQUNaN1EsT0FBUUMsRUFBU0MsS0FBSyxPQUVYcVksR0FBR3BQLE9BQVMsQ0FDdkI1YyxLQUFNNFYsRUFBTWdHLElBQ1puSSxPQUFRQyxFQUFTa0ksSUFBSSxPQUVWb1EsR0FBR25QLE1BQVEsQ0FDdEI3YyxLQUFNNFYsRUFBTXFQLEdBQ1p4UixPQUFRQyxFQUFTQyxLQUFLLE9BRVhxWSxHQUFHbFAsU0FBVyxDQUN6QjljLEtBQU00VixFQUFNd1AsSUFDWjNSLE9BQVFDLEVBQVNDLEtBQUssT0FJWHVCLEtBQU94VSxLQUFLNU4sTUFBTTROLEtBQUtDLFVBQVV5VyxFQUFhQyxTQUV2REosRUFBb0JHLEVBQWFsQyxhQWtFNUIrVyxPQTVESkMsY0FBZ0IsU0FBVTU0QyxPQUN6QjltQixHQUFlNHFELEVBQWM5akMsU0FHekIsSUFBSW5tQixNQUFNLGVBQWlCbW1CLEVBQU8saUNBQW1DNUwsT0FBT3FOLEtBQUtxaUMsR0FBYzdtQyxLQUFLLFNBRnRGNm1DLEVBQWE5akMsT0FXaEM2NEMsY0FBZ0IsbUJBQ1ZDLEtBQVFoVixLQUNYNXFELEdBQWU0cUQsRUFBY2dWLElBQzNCaFYsRUFBYWdWLEtBQVVuVixTQUNsQm1WLEtBV1ZDLGVBQWlCLENBQ3BCM3BDLFVBQVcsU0FBbUI3MUIsVUFDckIsSUFBSXVtRCxFQUFXdm1ELEVBQUksS0FFNUJnMkIsU0FBVSxTQUFrQmgyQixVQUNuQixJQUFJd21ELEVBQVV4bUQsSUFFdkI4MUIsUUFBUyxTQUFpQjkxQixVQUNqQkEsR0FFVDZ5QyxPQUFRLFNBQWdCN3lDLFVBQ2ZBLE1BWU40b0Qsb0JBQXNCLFNBQVV2bkMsT0FDOUIyeEIsRUFBS3dzQixlQUFlbitDLFNBQ2pCLElBQUlJLFVBQVUscUJBQXVCSixFQUFPLFlBRzdDMnhCLEVBQUt3c0IsZUFBZW4rQyxJQUlYMG5DLEtBQ1pwcEQsR0FBZW9wRCxFQUFPcVcsR0FBUSxLQUM1QmpzQixFQUFPNFYsRUFBTXFXLEtBQ1oxWSxXQUFhdlQsRUFBSzFVLEtBQUtpb0Isb0JBS3ZCK1ksS0FBVTVGLEtBQ2JsNkQsR0FBZWs2RCxFQUFTNEYsR0FBUyxLQUMvQkMsRUFBUzNXLEVBQU04USxFQUFRNEYsSUFDdkJFLEVBQVEsV0FFSEMsS0FBU0YsRUFDWi8vRCxHQUFlKy9ELEVBQVFFLE9BQ25CQSxHQUFTRixFQUFPRSxNQUlwQjE5QyxLQUFPdTlDLElBQ1BBLEdBQVVFLFlBVWZyWSxhQUFlLFNBQXNCLytDLFVBQ2pDLGFBQWE0WixLQUFLNVosTUFvQ3RCczNELFdBQWEsU0FBVXo4QixFQUFLN1UsTUFDWixpQkFBUjZVLFFBQ0gsSUFBSTNoQixVQUFVLGdFQUlsQjhNLEdBQVdBLEVBQVF1eEMsaUJBQ1pDLEtBQVMzOEIsS0FDWnpqQyxHQUFleWpDLEVBQUsyOEIsTUFDakJDLFdBQVdELEdBR2QzOEIsRUFBSTI4QixHQUFPRSxnQkFDSnY4RCxFQUFJLEVBQUdBLEVBQUkwL0IsRUFBSTI4QixHQUFPRSxRQUFRdCtELE9BQVErQixNQUN4Q3M4RCxXQUFXNThCLEVBQUkyOEIsR0FBT0UsUUFBUXY4RCxRQU92Q3c4RCxVQUVLQyxLQUFTLzhCLEVBQ1p6akMsR0FBZXlqQyxFQUFLKzhCLE9BQ1hudEIsRUFBS290QixpQkFBaUJELEVBQU8vOEIsRUFBSSs4QixZQUl6Q0QsS0FnQ0pFLGlCQUFtQixTQUFVMzVDLEVBQU0yYyxFQUFLN1UsTUFDdkMsTUFBTzZVLE1BQ0gsSUFHWSxpQkFBVDNjLFFBQ0gsSUFBSWhGLFVBQVUsc0VBSWxCOWhCLEdBQWVvcEQsRUFBT3RpQyxTQUNsQixJQUFJbm1CLE1BQU0sdUJBQXlCbW1CLEVBQU8scURBekdyQkEsV0FDcEIvaUIsRUFBSSxFQUFHQSxFQUFJK2lCLEVBQUs5a0IsT0FBUStCLElBQUssTUFDaEMraUIsRUFBS3dMLE9BQU92dUIsR0FFTixJQUFOQSxJQUFZc3ZDLEVBQUtzVSxhQUFhcGtELFNBQzFCLElBQUk1QyxNQUFNLHlEQUEyRG1tQixFQUFPLFFBR2hGL2lCLEVBQUksTUFBWTRqRCxhQUFhcGtELEtBQU1na0QsRUFBUWhrRCxTQUN2QyxJQUFJNUMsTUFBTSxrRUFBb0VtbUIsRUFBTyxPQW9HekVBLE9BS2xCNDVDLEVBQ0FyWCxFQUNBc1gsRUFOQUMsRUFBVSxLQUVWTixFQUFVLEdBQ1ZyOUQsRUFBUyxLQUtUd2dDLEdBQW9CLFNBQWJBLEVBQUkvaEIsT0FDSCtoQixFQUFJOWhCLGdCQUNVLGlCQUFSOGhCLEVBQ0osS0FBUkEsTUFDV0EsWUFFUyxpQkFBUkEsUUFVVixJQUFJM2hCLFVBQVUsdUJBQXlCZ0YsRUFBTyxXQUFhMmMsRUFBSXovQixXQUFhLGlEQVRyRXkvQixFQUFJaTlCLGFBQ05qOUIsRUFBSTRsQixXQUNONWxCLEVBQUl4Z0MsU0FDRndnQyxFQUFJazlCLFNBRVhsOUIsRUFBSTY4QixZQUNJNzhCLEVBQUk2OEIsUUFBUXorQyxlQU10QnkrQyxVQUNPdjhELEVBQUksRUFBR0EsRUFBSXU4RCxFQUFRdCtELE9BQVErQixPQUM5Qi9ELEdBQWVvcEQsRUFBT2tYLEVBQVF2OEQsVUFDMUIsSUFBSXBELE1BQU0sd0JBQTBCMi9ELEVBQVF2OEQsR0FBSyw4Q0FLekQyOEQsR0FBb0MsaUJBQWZBLElBQTRCRSxRQUV2Q3Z0QixFQUFLL00sTUFBTW82QixFQUFZLENBQy9CL1gsY0FBYyxXQUVUN0YsV0FDSnJ3QixRQUFVLDBCQUE0QjNMLEVBQU8sV0FBYTQ1QyxFQUFhLE1BQVE1ZCxFQUFHcndCLFFBQy9FcXdCLE9BRUM0ZCxHQUFrQyxTQUFwQkEsRUFBV2gvQyxTQUN4QmcvQyxFQUFXLytDLFdBR2IyK0MsR0FBVyxLQUNacjlELEdBQVUsSUFFZm9tRCxHQUFZQSxFQUFTM2tELGFBQ1p3aUQsRUFBU21DLEVBQVMza0QsZ0JBRWxCd2lELEVBQVNDLFNBS2xCMFosRUFBVSxNQUVURCxFQXdDRSxHQUNLLENBQ1JyK0MsS0FBTXVFLEVBQ050bUIsTUFBT29nRSxFQUFRcGdFLE1BQ2Z1bUQsV0FBWTZaLEVBQVE3WixXQUFXcGlDLE1BQU0sR0FDckMwa0MsU0FBQUEsRUFDQXBtRCxPQUFBQSxPQUdFNjlELEdBQVcsVUFFTnB1QixLQUFPaVgsS0FDVjNwRCxHQUFlMnBELEVBQVlqWCxHQUFNLFNBQy9CMXVCLEdBQVEsRUFFSDdKLEVBQUksRUFBR0EsRUFBSWl0QyxFQUFnQnBsRCxPQUFRbVksT0FDdEMxWSxLQUFLYSxPQUFheWtELFdBQVc1c0MsSUFBTSxNQUFpQnU0QixHQUFLcVUsV0FBVzVzQyxJQUFNLElBQU0sTUFBTyxJQUNqRixXQUtSNkosRUFBTyxJQUNFLElBQ0g4YSxLQUFPNnFCLEVBQVdqWCxjQU0zQm91QixFQUFVLEdBQ0ZILEdBQVk3NUMsRUFBTyxhQUcxQmk2QyxFQUFlLENBQ2pCaGEsV0FBWTZaLEVBQVE3WixXQUFXcGlDLE1BQU0sTUFFMUIxQyxJQUFNMCtDLElBQ1JBLEdBQVlJLElBQ0xKLEdBQVksQ0FDNUJudEIsS0FBTXF0QixFQUNONVosT0FBUUMsRUFBU0MsS0FBSyxPQUVoQnJvQixLQUFPNnFCLEVBQVdnWCxVQW5GaEIsTUFFREEsR0FBWTc1QyxFQUFPLFNBRTFCc2dDLEVBQWdCN2pDLFFBQVFvOUMsSUFBYSxRQUNqQyxJQUFJaGdFLE1BQU0sZ0NBQWtDbW1CLEVBQU8sbUZBS2xEM2xCLE9BRk80bkIsS0FBSzQzQyxHQUVQaFgsRUFDUjNwRCxHQUFlMnBELEVBQVl4b0QsT0FDbEJBLEdBQUc0bEQsV0FBV0ssRUFBZ0JwbEQsT0FBUyxHQUFLLFdBS3ZEZy9ELEVBQWMsQ0FDaEJqYSxXQUFZLElBR0xrYSxFQUFNLEVBQUdBLEVBQU03WixFQUFnQnBsRCxPQUFRaS9ELE1BQ2xDbGEsV0FBV2thLEdBQU8sSUFHcEJsYSxXQUFXSyxFQUFnQnBsRCxPQUFTLEdBQUssSUFDekNpZ0IsSUFBTTArQyxJQUNQQSxHQUFZSyxJQUNiLENBQ1J6K0MsS0FBTXVFLEVBQ050bUIsTUFBTyxFQUNQdW1ELFdBQVk0QyxFQUFXZ1gsR0FBVTVaLFdBQVdwaUMsTUFBTSxHQUNsRDBrQyxTQUFBQSxFQUNBcG1ELE9BQUFBLEVBQ0E2N0IsS0FBTTZxQixFQUFXZ1gsTUFFREEsR0FBWSxDQUM1Qm50QixLQUFNcXRCLEVBQ041WixPQUFRQyxFQUFTQyxLQUFLLFFBaURyQmlDLE1BQU10aUMsR0FBUSs1QyxVQUVWSyxFQUFNLEVBQUdBLEVBQU1aLEVBQVF0K0QsT0FBUWsvRCxJQUFPLEtBQ3pDQyxFQUFZYixFQUFRWSxHQUNwQkUsRUFBUyxXQUVKQyxLQUFTUixFQUNaN2dFLEdBQWU2Z0UsRUFBU1EsT0FDbkJBLEdBQVNSLEVBQVFRLE1BSXJCOStDLEtBQU80K0MsSUFDVC9YLE1BQU0rWCxHQUFhQyxpQkFLbkI1WSxFQUFVcEwsTUFDVixJQUFJL0osRUFBSyxLQUFNdnNCLE1BR25CdTVDLFdBQWEsU0FBVXY1QyxVQUNuQnVzQixFQUFLK1YsTUFBTXRpQyxPQUlmb2dDLFNBQVdBLElBQ1hFLGdCQUFrQkEsSUFDbEJ1QyxXQUFhQSxJQUNiaUIsYUFBZUEsSUFDZnhCLE1BQVFBLEVBQ04vVixJQUNOLENBQ0Q3YixTQUFTLE9DaDVIQSxPQUNRLENBQUMsUUFBUyxTQUUrQ3ZCLFFBQ3RFcFQsTUFDRkEsT0FDQXd3QixHQUNFcGQsU0F5QkdwVCxFQWhDRSxPQWdDVSxDQUNqQnd3QixLQUFNLFNBQWNoekMsVUFDWEEsRUFBRXNoQixTQUVYd3hCLE9BQVEsU0FBZ0I5eUMsVUFDbEJnekMsRUFBS3VXLGdCQUFnQnZwRCxHQUNoQixJQUFJZ3pDLEVBQUssS0FBTWh6QyxHQUdqQmd6QyxFQUFLL00sTUFBTWptQyxFQUFHLENBQ25Cc29ELGNBQWMsS0FHbEIyWSxrREFBbUQsU0FBOEM5Z0UsRUFBT2d6QyxVQUMvRixJQUFJSCxFQUFLN3lDLEVBQU9nekMsSUFFekJ0RSxpQkFBa0IsU0FBcUI3dUMsVUFDOUIrdEMsR0FBUS90QyxFQUFHRSxlQ2xEYixhQUNRLENBQUMsUUFBUyxTQUM2QzAxQixRQUNwRXBULE1BQ0ZBLE9BQ0F3d0IsR0FDRXBkLFNBMkNHcFQsRUFqREUsYUFpRFUsQ0FFakIwK0MsaUJBQWtCLFNBQXNCOTlCLEVBQUs3VSxVQUNwQ3lrQixFQUFLNnNCLFdBQVd6OEIsRUFBSzdVLElBRzlCMVQsT0FBUSxTQUFnQnVvQixVQUNmNFAsRUFBSzZzQixXQUFXejhCLEVBQUssS0FHOUIrOUIseUNBQTBDLFNBQXNDMTZDLEVBQU0yNkMsRUFBSzd5QyxPQUNyRjZVLEVBQU0sWUFDTjNjLEdBQVEyNkMsRUFDTHB1QixFQUFLNnNCLFdBQVd6OEIsRUFBSzdVLElBRzlCOHlDLGlDQUFrQyxTQUFnQzU2QyxFQUFNMjZDLE9BQ2xFaCtCLEVBQU0sWUFDTjNjLEdBQVEyNkMsRUFDTHB1QixFQUFLNnNCLFdBQVd6OEIsRUFBSyxLQUc5QjBQLE9BQVEsU0FBZ0Jyc0IsT0FDbEIyYyxFQUFNLFlBQ04zYyxHQUFRLEdBQ0x1c0IsRUFBSzZzQixXQUFXejhCLEVBQUssYUNwRXZCLE1BQ1EsQ0FBQyxRQUFTLFNBQVUsWUFBYSxjQUFlLGNBQWUsaUJBQ2Z4TixRQUM3RHBULE1BQ0ZBLFNBQ0F4TSxZQUNBYyxjQUNBODRCLGNBQ0E3WixlQUNBOFosR0FDRWphLEVBQ0FnbUIsRUFBY25GLEdBQWtCLENBQ2xDajBCLE1BQUFBLElBRUU4K0MsRUFBY3BxQixHQUFrQixDQUNsQzEwQixNQUFBQSxFQUNBb3RCLFlBQUFBLElBRUVpTSxFQUFjdEUsR0FBa0IsQ0FDbEMvMEIsTUFBQUEsRUFDQXVULFlBQUFBLElBRUV3aUIsRUFBY2YsR0FBa0IsQ0FDbENoMUIsTUFBQUEsSUFFRTh5QixFQUFjVixHQUFrQixDQUNsQ3B5QixNQUFBQSxXQXFDS0EsRUEvREUsTUErRFV5NEIsR0FBTyxDQUV4QnRDLDJCQUE0QixTQUFnQzM0QyxFQUFHQyxVQUN0RHM0QyxFQUFZdjRDLEVBQUdDLEVBQUc2VyxJQUUzQjRoQyw0QkFBNkIsU0FBaUMxNEMsRUFBR0MsVUFDeEQyN0MsRUFBWTU3QyxFQUFHQyxFQUFHNlcsR0FBVyxJQUV0QzJoQyw0QkFBNkIsU0FBaUN6NEMsRUFBR0MsVUFDeEQyN0MsRUFBWTM3QyxFQUFHRCxFQUFHOFcsR0FBVyxJQUV0QzBoQyw2QkFBOEIsU0FBa0N4NEMsRUFBR0MsVUFDMURxaEUsRUFBWXRoRSxFQUFHQyxFQUFHNlcsSUFFM0I4aEMsZUFBZ0IsU0FBb0I1NEMsRUFBR0MsVUFFOUJDLEtBQUs4VixFQUFPaFcsR0FBSWdXLEVBQU8vVixJQUFJdWhCLFdBRXBDcTNCLGdCQUFpQixTQUFxQjc0QyxFQUFHQyxVQUVoQ0MsS0FBSzhWLEVBQU9oVyxHQUFJQyxJQUV6QjY0QyxnQkFBaUIsU0FBcUI5NEMsRUFBR0MsVUFFaENDLEtBQUtGLEVBQUdnVyxFQUFPL1YsS0FFeEIrNEMsbUJBQW9CLFNBQXdCaDVDLEVBQUdDLFVBQ3RDcTFDLEVBQVl0MUMsRUFBR0MsRUFBRzZXLEdBQVcsSUFFdENpaUMsb0JBQXFCLFNBQXlCLzRDLEVBQUdDLFVBQ3hDNDdDLEVBQVk3N0MsRUFBR0MsRUFBRzZXLEdBQVcsSUFFdENvaUMsbUJBQW9CLFNBQXdCbDVDLEVBQUdDLFVBQ3RDcTFDLEVBQVlyMUMsRUFBR0QsRUFBRzhXLEdBQVcsSUFFdENtaUMsb0JBQXFCLFNBQXlCajVDLEVBQUdDLFVBQ3hDNDdDLEVBQVk1N0MsRUFBR0QsRUFBRzhXLEdBQVcsSUFFdENxaUMsYUFBYyxTQUFrQm41QyxFQUFHQyxVQUUxQnExQyxFQUFZdC9CLEVBQU9oVyxHQUFJQyxFQUFHNlcsR0FBVyxHQUFPMEssV0FFckQ0M0IsYUFBYyxTQUFrQnA1QyxFQUFHQyxVQUUxQnExQyxFQUFZdC9CLEVBQU8vVixHQUFJRCxFQUFHOFcsR0FBVyxHQUFNMEssV0FFcEQrNUIsV0FBWXprQyxFQUNaMGtDLG1CQUFvQixTQUFtQng3QyxFQUFHQyxFQUFHdzdDLFdBQ3ZDakcsRUFBU3QxQyxLQUFLRixFQUFHQyxHQUVaeUQsRUFBSSxFQUFHQSxFQUFJKzNDLEVBQUs5NUMsT0FBUStCLE1BQ3RCeEQsS0FBS3MxQyxFQUFRaUcsRUFBSy8zQyxXQUd0Qjh4QyxJQUVSMStCLEVBQVV1TSxvQkMxSEprK0MsTUFGQSxNQUNRLENBQUMsUUFBUyxZQUFhLGlCQUFrQixPQUFRLFNBQ0QzckMsUUFDN0RwVCxNQUNGQSxZQUNBMUwsaUJBQ0E5VixPQUNBd2dFLEVBQ0ExMkIsUUFDRWxWLFNBeUJHcFQsRUFsQ0UsTUFrQ1UsQ0FDakJpL0Msb0RBZ0NpQjVnRSxFQUFHQyxPQUNoQm1vQyxFQUFJeTRCLEVBQWE3Z0UsRUFBR0MsR0FFcEIrekMsRUFBUWoxQixHQUFTL2UsR0FBS0EsRUFBRThxQyxNQUFROXFDLEVBQ2hDMnpDLEVBQU01MEIsR0FBUy9lLEdBQUtBLEVBQUVnckMsZUFBWSxFQUNsQzRMLEVBQVE3M0IsR0FBUzllLEdBQUtBLEVBQUU2cUMsTUFBUTdxQyxFQUNoQ2syQyxFQUFNcDNCLEdBQVM5ZSxHQUFLQSxFQUFFK3FDLGVBQVksRUFFbEM4MUIsRUFBZ0MsSUFBcEIvMUIsRUFBTS9xQyxHQUFHYyxPQUNyQmlnRSxFQUFnQyxJQUFwQmgyQixFQUFNOXFDLEdBQUdhLE9BQ3JCa2dFLEVBQU0vcUQsRUFDTmdyRCxFQUFNOWdFLEtBRU53ekMsR0FBT3dDLEdBQU94QyxJQUFRd0MsR0FBc0IsaUJBQVJ4QyxFQUFrQixLQUNwRC92QyxFQUFLK3ZDLElBRUhoeUIsRUFBTXVMLEtBQUtqWCxFQUFXLENBQUNyUyxFQUFJQSxNQUMzQitkLEVBQU11TCxLQUFLL3NCLEVBQWdCLENBQUN5RCxFQUFJQSxTQUluQ2s5RCxJQUFjQyxFQUFXLFNBQ3hCMStELEVBQUk0K0QsRUFBSU4sRUFBSzNzQixFQUFNLElBQUs0QyxFQUFNLElBRXpCL3pDLEVBQUksRUFBR0EsRUFBSXVsQyxFQUFHdmxDLE1BQ2pCbStELEVBQUkzK0QsRUFBRzQrRCxFQUFJTixFQUFLM3NCLEVBQU1ueEMsSUFBSyt6QyxFQUFNL3pDLFlBR2hDUixNQUlKeStELEdBQWFDLEVBQVcsU0FDdkJHLEVBQUtELEVBQUlOLEVBQUszc0IsRUFBTSxJQUFLNEMsRUFBTSxHQUFHLElBRTdCbEcsRUFBSyxFQUFHQSxFQUFLdEksRUFBR3NJLE1BQ2xCc3dCLEVBQUlFLEVBQUlELEVBQUlOLEVBQUszc0IsRUFBTXRELElBQU1rRyxFQUFNbEcsR0FBSSxZQUd2Q3d3QixLQUlMSixJQUFjQyxFQUFXLFNBQ3ZCSSxFQUFNRixFQUFJTixFQUFLM3NCLEVBQU0sR0FBRyxJQUFLNEMsRUFBTSxJQUU5QmhHLEVBQU0sRUFBR0EsRUFBTXhJLEVBQUd3SSxNQUNuQm93QixFQUFJRyxFQUFLRixFQUFJTixFQUFLM3NCLEVBQU1wRCxHQUFLLElBQUtnRyxFQUFNaEcsWUFHekN1d0IsS0FJTEwsR0FBYUMsRUFBVyxTQUN0QkssRUFBTUgsRUFBSU4sRUFBSzNzQixFQUFNLEdBQUcsSUFBSzRDLEVBQU0sR0FBRyxJQUVqQy9GLEVBQU0sRUFBR0EsRUFBTXpJLEVBQUd5SSxNQUNuQm13QixFQUFJSSxFQUFLSCxFQUFJTixFQUFLM3NCLEVBQU1uRCxHQUFLLElBQUsrRixFQUFNL0YsR0FBSyxZQUc5Q3V3QixJQTVGVHpwQixzQ0FnR2tCeDRDLEVBQUdDLEtBQ1JELEVBQUdDLE9BRVppaUUsRUFBU2xpRSxFQUFFZ3dDLE9BQ1hteUIsRUFBVW5pRSxFQUFFK3ZDLFFBQ1pxeUIsRUFBU25pRSxFQUFFK3ZDLE9BQ1hxeUIsRUFBVXBpRSxFQUFFOHZDLFFBRVo3c0MsRUFBSSxFQUNKMitELEVBQU0vcUQsRUFDTmdyRCxFQUFNOWdFLEVBQ04wQyxFQUFJLEVBQ0pvVyxFQUFJLE9BRURwVyxFQUFJdytELEVBQU92Z0UsUUFBVW1ZLEVBQUlzb0QsRUFBT3pnRSxRQUFRLEtBQ3pDMDJELEVBQUk2SixFQUFPeCtELEdBQ1htMEQsRUFBSXVLLEVBQU90b0QsR0FFWHUrQyxFQUFJUixNQUtKUSxFQUFJUixNQUtKUSxJQUFNUixNQUNKZ0ssRUFBSTMrRCxFQUFHNCtELEVBQUlLLEVBQVF6K0QsR0FBSTIrRCxFQUFRdm9ELHNCQU1oQzVXLGdCQWhJYWxELEVBQUdDLE9BS25CcWlFLEVBQU1DLEVBSk5DLEVBQVE1MkIsRUFBTTVyQyxHQUVkeWlFLEVBQVE3MkIsRUFBTTNyQyxNQUlHLElBQWpCdWlFLEVBQU03Z0UsU0FDRDZnRSxFQUFNLFlBQ2EsSUFBakJBLEVBQU03Z0UsUUFBNkIsSUFBYjZnRSxFQUFNLFNBRy9CLElBQUlsdEMsV0FBVywyREFBNkRrdEMsRUFBTTkrQyxLQUFLLE1BQVEsT0FGOUY4K0MsRUFBTSxPQUtNLElBQWpCQyxFQUFNOWdFLFNBQ0Q4Z0UsRUFBTSxZQUNhLElBQWpCQSxFQUFNOWdFLFFBQTZCLElBQWI4Z0UsRUFBTSxTQUcvQixJQUFJbnRDLFdBQVcsMkRBQTZEbXRDLEVBQU0vK0MsS0FBSyxNQUFRLE9BRjlGKytDLEVBQU0sT0FLWEgsSUFBU0MsUUFBWSxJQUFJanRDLFdBQVcsbUNBQXFDZ3RDLEVBQU8sT0FBU0MsRUFBTyxRQUN2RixJQUFURCxRQUFrQixJQUFJaHRDLFdBQVcsNERBQzlCZ3RDLGFBMkdNdGlFLFVBQ040ZixHQUFTNWYsR0FBS0EsRUFBRThxQyxPQUFTdjBCLEVBQUt2VyxPQzdLOUIwaUUsR0FBVyxDQUNwQjMxQyxLQUFLLEdDSUk0MUMsTUFGQSxPQUNRLENBQUMsc0JBQ2dEL3NDLFFBQzlEZ3RDLGtCQUNGQSxHQUNFaHRDLG9DQU1vQml0QyxTQUNkLElBQUl4OUMsWUFBWSw2REFVckI5aEIsVUFBVXUvRCxTQUFXLFNBQVVwdUMsVUFDM0J4MEIsS0FBSzZpRSxVQUFVRCxTQUFTcHVDLE1BRzVCbnhCLFVBQVU4ZCxLQUFPLFNBQ2pCOWQsVUFBVStjLFFBQVMsSUFDbkIvYyxVQUFVeS9ELFFBQVUsS0FVcEJ6L0QsVUFBVXcvRCxRQUFVLGVBQ25CRSxFQUFPL2lFLEtBQUtnakUsU0FBU04sRUFBbUIsSUFFeEMxOEMsRUFBTyxVQVdKLENBQ0w0OEMsa0JBVGdCcHVDLE9BQ1o5ekIsRUFBSTh6QixHQUFTLG1CQStXR0EsV0FDYnl1QyxLQUFVenVDLEtBQ2IvMEIsR0FBZSswQixFQUFPeXVDLElBQ3BCQSxLQUFVVCxTQUNOLElBQUlwaUUsTUFBTSxzQ0FBd0M2aUUsRUFBUyw0QkFqWHREdmlFLEdBRVJxaUUsRUFBS3JpRSxFQUFHc2xCLEVBUEgsV0E2QlgzaUIsVUFBVTIvRCxTQUFXLFNBQVVFLEVBQU1DLFNBQ2xDLElBQUkvaUUsTUFBTSxpREFBbURKLEtBQUttaEIsU0FRckU5ZCxVQUFVMGtCLFFBQVUsU0FBVTdjLFNBRTNCLElBQUk5SyxNQUFNLDZDQVViaUQsVUFBVWdlLElBQU0sU0FBVW5XLFNBRXZCLElBQUk5SyxNQUFNLHlDQVViaUQsVUFBVSsvRCxRQUFVLFNBQVU5ZSxPQUM1QmxrQyxHQUFPa2tDLFNBQ0osSUFBSS9pQyxVQUFVLCtDQUdmK2lDLEtBVUpqaEQsVUFBVWdnRSxTQUFXLFNBQVVuNEQsS0FHekJsTCxLQUFNLEtBQU0saUJBRUZza0QsRUFBTWdmLEtBQ2xCdjdDLFNBQVEsU0FBVXdLLEVBQU9neEMsRUFBTWhmLEtBQ3pCaHlCLEVBQU9neEMsRUFBTWhmLEtBRVpoeUIsRUFBTyt3QyxTQUlYdGpFLEtBQU1rTCxPQXlCYjdILFVBQVVtZ0UsVUFBWSxTQUFVdDRELHFCQUNmcW5CLEVBQU9neEMsRUFBTWhmLE9BQzNCcFosRUFBY2pnQyxFQUFTcW5CLEVBQU9neEMsRUFBTWhmLFVBRXBDcFosSUFBZ0I1WSxFQUVYNFksRUFHRjVZLEVBQU1sUixJQUFJb2lELEdBR1pBLENBQVd6akUsS0FBTSxLQUFNLFNBa0IzQnFELFVBQVVnaEIsT0FBUyxTQUFVblosT0FDNUJ3NkMsRUFBUSxlQUNQMmQsVUFBUyxTQUFVL2UsRUFBTWlmLEVBQU1oZixHQUM5QnI1QyxFQUFTbzVDLEVBQU1pZixFQUFNaGYsTUFDakIvN0IsS0FBSzg3QixPQUdSb0IsS0FRSnJpRCxVQUFVK2QsTUFBUSxpQkFFZixJQUFJaGhCLE1BQU0sb0NBUWJpRCxVQUFVcWdFLFVBQVksa0JBQ2xCMWpFLEtBQUtxaEIsS0FBSSxTQUFVaWpDLFVBQ2pCQSxFQUFLb2Ysa0JBV1hyZ0UsVUFBVXlULE9BQVMsU0FBVXd5QyxZQUN6QkEsR0FBUTFuQyxHQUFnQjVoQixLQUFNc3BELE1BbUJsQ2ptRCxVQUFVSSxTQUFXLFNBQVU0cUIsT0FDOUJzMUMsS0FFQXQxQyxHQUE4QixpQkFBWkEsZ0JBQ0xBLEVBQVF1MUMsYUFDaEIsYUFDQSxzQkFHQSxhQUNZdjFDLEVBQVF1MUMsUUFBUTVqRSxLQUFNcXVCLHVCQUkvQixJQUFJOU0sVUFBVSx1REFJRSxJQUFqQm9pRCxFQUNGQSxFQUdGM2pFLEtBQUs2akUsVUFBVXgxQyxNQVVuQmhyQixVQUFVd3pCLE9BQVMsaUJBQ2hCLElBQUl6MkIsTUFBTSxzREFBd0RKLEtBQUttaEIsU0FtQjFFOWQsVUFBVXlnRSxPQUFTLFNBQVV6MUMsT0FDNUJzMUMsS0FFQXQxQyxHQUE4QixpQkFBWkEsZ0JBQ0xBLEVBQVF1MUMsYUFDaEIsYUFDQSxzQkFHQSxhQUNZdjFDLEVBQVF1MUMsUUFBUTVqRSxLQUFNcXVCLHVCQUkvQixJQUFJOU0sVUFBVSx1REFJRSxJQUFqQm9pRCxFQUNGQSxFQUdGM2pFLEtBQUs4akUsT0FBT3oxQyxNQVVoQmhyQixVQUFVd2dFLFVBQVksaUJBRW5CLElBQUl6akUsTUFBTSxpQ0FBbUNKLEtBQUttaEIsU0FtQnJEOWQsVUFBVTBnRSxNQUFRLFNBQVUxMUMsT0FDM0IyMUMsS0FFQTMxQyxHQUE4QixpQkFBWkEsZ0JBQ0xBLEVBQVF1MUMsYUFDaEIsYUFDQSxzQkFHQSxhQUNTdjFDLEVBQVF1MUMsUUFBUTVqRSxLQUFNcXVCLHVCQUk1QixJQUFJOU0sVUFBVSx1REFJRCxJQUFkeWlELEVBQ0ZBLEVBR0Zoa0UsS0FBS2lrRSxPQUFPNTFDLE1BV2hCaHJCLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLFNBRTFCLElBQUlqdUIsTUFBTSw4QkFBZ0NKLEtBQUttaEIsU0FRbEQ5ZCxVQUFVNmdFLGNBQWdCLGtCQUN0QmxrRSxLQUFLbWhCLFFBUVQ5ZCxVQUFVOGdFLFdBQWEsa0JBQ25CbmtFLE1BbUJGMmlFLElBQ04sQ0FDRDFyQyxTQUFTLEVBQ1Q3VyxRQUFRLElDdGFILFlBQXdCb0csVUFDekJBLEdBQU9BLEVBQUk4TyxhQUNOLElBQUlsRCxHQUFXNUwsRUFBSXJtQixNQUFRLEVBQUdxbUIsRUFBSXJsQixJQUFNLE9BQWUsSUFBWnFsQixFQUFJcGxCLElBQW9Cb2xCLEVBQUlwbEIsSUFBTSxPQUFJLEdBR25Gb2xCLEVDVkYsWUFBdUJrUCxPQUN4QndWLE9BQ0ZBLEdBQ0V4VixTQWFHLFNBQWdCbGUsRUFBUXJYLFVBRXZCZ2UsTUFBTXNCLFFBQVFqSSxVQUNUMHpCLEVBQU8xekIsRUFBUXJYLE1BQ2JxWCxHQUFtQyxtQkFBbEJBLEVBQU8wekIsY0FFMUIxekIsRUFBTzB6QixPQUFPL3FDLE1BQ00saUJBQVhxWCxTQUVUMHpCLEVBQU8xekIsRUFBUXJYLE1BQ0ssaUJBQVhxWCxFQUFxQixLQUNoQ3JYLEVBQU1pa0UseUJBQ0gsSUFBSTdpRCxVQUFVLDBEQUdmMCtCLEdBQWdCem9DLEVBQVFyWCxFQUFNa2tFLDJCQUUvQixJQUFJOWlELFVBQVUsd0RBRWZpRixTQUNEODlDLEdBQWU5OUMsS0NsQzNCLElBRVcrOUMsTUFGQSxlQUNRLENBQUMsU0FBVSxTQUM4Qzd1QyxRQUN0RXdWLE9BQ0ZBLEVBQ0FzNUIsUUFDRTl1QyxFQUNBK3VDLEVBQVNDLEdBQWMsQ0FDekJ4NUIsT0FBQUEsZUFZb0IxekIsRUFBUXJYLHdCQUNOd2tFLFNBQ2QsSUFBSXgvQyxZQUFZLHdEQUduQi9FLEdBQU81SSxTQUNKLElBQUkrSixVQUFVLDRDQUdqQlgsR0FBWXpnQixTQUNULElBQUlvaEIsVUFBVSxpREFHakIvSixPQUFTQSxHQUFVLFVBQ25CclgsTUFBUUEsU0FFTnVzQixlQUFlMXNCLEtBQU0sT0FBUSxDQUNsQ29yQyxJQUFLLGtCQUNDcHJDLEtBQUtHLE1BQ0FILEtBQUtHLE1BQU1pa0UsbUJBQXFCcGtFLEtBQUtHLE1BQU1ra0Usb0JBQXNCLEdBRWpFcmtFLEtBQUt3WCxPQUFPd0ssTUFBUSxJQUU3QjRpRCxLQUFLNWtFLE1BQ1ArRixJQUFLLGlCQUNHLElBQUkzRixNQUFNLDhEQXNKR2trRCxlQUVDQSxJQUFTamtDLEdBQVlpa0MsSUFBUzdqQyxHQUFlNmpDLElBQVMzakMsR0FBZTJqQyxJQUFTempDLEdBQWF5akMsSUFBU3ZqQyxHQUFrQnVqQyxJQUFTcmpDLEdBQWFxakMsYUFuSnpKamhELFVBQVksSUFBSXMvRCxJQUNoQnQvRCxVQUFVOGQsS0FBTyxpQkFDakI5ZCxVQUFVOGMsZ0JBQWlCLElBZTNCOWMsVUFBVTIvRCxTQUFXLFNBQVVFLEVBQU1DLE9BQzVDMEIsRUFBYTdrRSxLQUFLd1gsT0FBT3dyRCxTQUFTRSxFQUFNQyxHQUV4QzJCLEVBQVk5a0UsS0FBS0csTUFBTTZpRSxTQUFTRSxFQUFNQyxNQUV0Q25qRSxLQUFLRyxNQUFNaWtFLG1CQUFvQixLQUM3QnppRCxFQUFPM2hCLEtBQUtHLE1BQU1ra0UsMkJBQ2YsU0FBMEI3dkMsRUFBT3hPLEVBQU0rK0MsVUFDckM5a0IsR0FBZ0I0a0IsRUFBV3J3QyxFQUFPeE8sRUFBTSsrQyxHQUFVcGpELFdBR3BELFNBQTBCNlMsRUFBT3hPLEVBQU0rK0MsT0FDeEN2dEQsRUFBU3F0RCxFQUFXcndDLEVBQU94TyxFQUFNKytDLEdBQ2pDNWtFLEVBQVEya0UsRUFBVXR3QyxFQUFPeE8sRUFBTXhPLFVBRTVCaXRELEVBQU9qdEQsRUFBUXJYLE9BVWZrRCxVQUFVMGtCLFFBQVUsU0FBVTdjLEtBQ2hDbEwsS0FBS3dYLE9BQVEsU0FBVXhYLFFBQ3ZCQSxLQUFLRyxNQUFPLFFBQVNILFVBVW5CcUQsVUFBVWdlLElBQU0sU0FBVW5XLFVBQzlCLElBQUl5NUQsRUFBYTNrRSxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUt3WCxPQUFRLFNBQVV4WCxPQUFRQSxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUtHLE1BQU8sUUFBU0gsV0FRN0dxRCxVQUFVK2QsTUFBUSxrQkFDdEIsSUFBSXVqRCxFQUFhM2tFLEtBQUt3WCxPQUFReFgsS0FBS0csVUFTL0JrRCxVQUFVd2dFLFVBQVksU0FBVXgxQyxPQUN2QzdXLEVBQVN4WCxLQUFLd1gsT0FBTy9ULFNBQVM0cUIsVUFFOUIyMkMsRUFBZ0JobEUsS0FBS3dYLFlBQ2QsSUFBTUEsRUFBUyxLQUduQkEsRUFBU3hYLEtBQUtHLE1BQU1zRCxTQUFTNHFCLE1BU3pCaHJCLFVBQVV5Z0UsT0FBUyxTQUFVejFDLE9BQ3BDN1csRUFBU3hYLEtBQUt3WCxPQUFPc3NELE9BQU96MUMsVUFFNUIyMkMsRUFBZ0JobEUsS0FBS3dYLFlBQ2QsaUVBQW1FQSxFQUFTLGtFQUdoRkEsRUFBU3hYLEtBQUtHLE1BQU0yakUsT0FBT3oxQyxNQVN2QmhyQixVQUFVNGdFLE9BQVMsU0FBVTUxQyxPQUNwQzdXLEVBQVN4WCxLQUFLd1gsT0FBT3VzRCxNQUFNMTFDLFVBRTNCMjJDLEVBQWdCaGxFLEtBQUt3WCxZQUNkLGlDQUdKQSxFQUFTeFgsS0FBS0csTUFBTTRqRSxNQUFNMTFDLE1BUXRCaHJCLFVBQVV3ekIsT0FBUyxrQkFDdkIsQ0FDTEMsT0FBUSxlQUNSdGYsT0FBUXhYLEtBQUt3WCxPQUNiclgsTUFBT0gsS0FBS0csVUFZSDQyQixTQUFXLFNBQVVDLFVBQ3pCLElBQUkydEMsRUFBYTN0QyxFQUFLeGYsT0FBUXdmLEVBQUs3MkIsUUFhckN3a0UsSUFDTixDQUNEMXRDLFNBQVMsRUFDVDdXLFFBQVEsSUMxTUM2a0QsTUFGQSxZQUNRLENBQUMsU0FDcUR2dkMsUUFFckU4dUMsUUFDRTl1QyxhQVFld3ZDLHdCQUNLQyxTQUNkLElBQUloZ0QsWUFBWSw0REFHbkIrL0MsTUFBUUEsR0FBUyxJQUVqQi9tRCxNQUFNc0IsUUFBUXpmLEtBQUtrbEUsU0FBV2xsRSxLQUFLa2xFLE1BQU1ud0MsTUFBTTNVLFVBQzVDLElBQUltQixVQUFVLDRDQUlkbGUsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGNBQ2pCOWQsVUFBVWdkLGFBQWMsSUFleEJoZCxVQUFVMi9ELFNBQVcsU0FBVUUsRUFBTUMsT0FDekNpQyxFQUFZL2pELEdBQUlyaEIsS0FBS2tsRSxPQUFPLFNBQVVwNEMsVUFDakNBLEVBQUtrMkMsU0FBU0UsRUFBTUMsU0FFUyxVQUF2QkQsRUFBS3ArQixPQUFPaHZCLE9BRWIsS0FDUkEsRUFBU290RCxFQUFLcHRELGNBQ1gsU0FBdUIwZSxFQUFPeE8sRUFBTSsrQyxVQUNsQ2p2RCxFQUFPdUwsR0FBSStqRCxHQUFXLFNBQVVDLFVBQzlCQSxFQUFTN3dDLEVBQU94TyxFQUFNKytDLGVBSTFCLFNBQXVCdndDLEVBQU94TyxFQUFNKytDLFVBQ2xDMWpELEdBQUkrakQsR0FBVyxTQUFVQyxVQUN2QkEsRUFBUzd3QyxFQUFPeE8sRUFBTSsrQyxVQVczQjFoRSxVQUFVMGtCLFFBQVUsU0FBVTdjLFdBQzdCMUgsRUFBSSxFQUFHQSxFQUFJeEQsS0FBS2tsRSxNQUFNempFLE9BQVErQixJQUFLLEdBQy9CeEQsS0FBS2tsRSxNQUFNMWhFLEdBQ1AsU0FBV0EsRUFBSSxJQUFLeEQsV0FXN0JxRCxVQUFVZ2UsSUFBTSxTQUFVblcsV0FDOUJnNkQsRUFBUSxHQUVIMWhFLEVBQUksRUFBR0EsRUFBSXhELEtBQUtrbEUsTUFBTXpqRSxPQUFRK0IsTUFDL0JBLEdBQUt4RCxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUtrbEUsTUFBTTFoRSxHQUFJLFNBQVdBLEVBQUksSUFBS3hELGNBRy9ELElBQUltbEUsRUFBVUQsTUFRYjdoRSxVQUFVK2QsTUFBUSxrQkFDbkIsSUFBSStqRCxFQUFVbmxFLEtBQUtrbEUsTUFBTTlnRCxNQUFNLE9BVTlCL2dCLFVBQVV3Z0UsVUFBWSxTQUFVeDFDLFVBSWpDLElBSEtydUIsS0FBS2tsRSxNQUFNN2pELEtBQUksU0FBVWlqQyxVQUM1QkEsRUFBSzdnRCxTQUFTNHFCLE1BRUo3SyxLQUFLLE1BQVEsT0FReEJuZ0IsVUFBVXd6QixPQUFTLGtCQUNwQixDQUNMQyxPQUFRLFlBQ1JvdUMsTUFBT2xsRSxLQUFLa2xFLFVBWU5udUMsU0FBVyxTQUFVQyxVQUN0QixJQUFJbXVDLEVBQVVudUMsRUFBS2t1QyxVQVVsQjdoRSxVQUFVeWdFLE9BQVMsU0FBVXoxQyxVQUk5QixrRUFIS3J1QixLQUFLa2xFLE1BQU03akQsS0FBSSxTQUFVaWpDLFVBQzVCQSxFQUFLd2YsT0FBT3oxQyxNQUU0RDdLLEtBQUsseUNBQTJDLHFFQVN6SG5nQixVQUFVNGdFLE9BQVMsU0FBVTUxQyxPQUNqQzN0QixFQUFJLCtCQUNId2tFLE1BQU1uOUMsU0FBUSxTQUFVdThCLEdBQ3ZCQSxFQUFLNGdCLFNBQ0Y1Z0IsRUFBSzRnQixNQUFNN2pELEtBQUksU0FBVWlrRCxVQUNyQkEsRUFBVXZCLE1BQU0xMUMsTUFDdEI3SyxLQUFLLFFBRUg4Z0MsRUFBS3lmLE1BQU0xMUMsTUFJYixjQUVGLGtCQUlBODJDLElBQ04sQ0FDRGx1QyxTQUFTLEVBQ1Q3VyxRQUFRLElDcktILElBQUltbEQsR0FBYSxDQUFDLENBRXZCQyxlQUFnQixHQUNoQkMsdUJBQXdCLElBQ3ZCLENBRURDLGdCQUFpQixDQUNmQyxpQkFBaUIsRUFDakJDLGtCQUFrQixFQUNsQkMsYUFBYSxJQUlkLENBRURDLGtCQUFtQixDQUNqQkMsY0FBZSxPQUNmQyxnQkFBaUIsS0FFbEIsQ0FFREMsbUJBQW9CLENBQ2xCRixjQUFlLE9BQ2ZDLGdCQUFpQixLQUVsQixDQUVERSxtQkFBb0IsQ0FDbEJILGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRURHLHFCQUFzQixDQUNwQkosY0FBZSxPQUNmQyxnQkFBaUIsS0FFbEIsQ0FFREksc0JBQXVCLENBQ3JCTCxjQUFlLE9BQ2ZDLGdCQUFpQixLQUVsQixDQUVESyxzQkFBdUIsQ0FDckJOLGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRURNLHFCQUFzQixDQUNwQlAsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJPLHVCQUF3QixDQUN0QlIsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJRLHVCQUF3QixDQUN0QlQsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJTLHNCQUF1QixDQUNyQlYsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJVLHlCQUEwQixDQUN4QlgsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJXLHdCQUF5QixDQUN2QlosY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJZLGVBQWdCLENBQ2RiLGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRURhLHlCQUEwQixDQUN4QmQsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJjLCtCQUFnQyxDQUM5QmYsY0FBZSxPQUNmQyxnQkFBaUIsSUFFbkJlLDZCQUE4QixDQUM1QmhCLGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRURnQixrQkFBbUIsQ0FDakJqQixjQUFlLE9BQ2ZDLGdCQUFpQixLQUVsQixDQUVEaUIsVUFBVyxJQUNWLENBRURDLG1CQUFvQixDQUNsQm5CLGNBQWUsT0FDZkMsZ0JBQWlCLENBQUMsbUJBQW9CLDBCQUV4Q21CLHdCQUF5QixDQUN2QnBCLGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRURvQix3QkFBeUIsQ0FDdkJyQixjQUFlLE9BQ2ZDLGdCQUFpQixDQUFDLHdCQUF5QixzQkFBdUIsdUJBQXdCLHVCQUU1RnFCLHNCQUF1QixDQUNyQnRCLGNBQWUsT0FDZkMsZ0JBQWlCLEdBQ2pCTCxpQkFBaUIsRUFDakJDLGtCQUFrQixFQUNsQkMsYUFBYSxHQUtmeUIsMkJBQTRCLENBQzFCdkIsY0FBZSxPQUNmQyxnQkFBaUIsQ0FBQyx3QkFBeUIsc0JBQXVCLDJCQUE0QiwwQkFFaEd1Qix5QkFBMEIsQ0FDeEJ4QixjQUFlLE9BQ2ZDLGdCQUFpQixJQUVuQndCLG1CQUFvQixDQUNsQnpCLGNBQWUsT0FDZkMsZ0JBQWlCLEtBRWxCLENBRUR5Qix5QkFBMEIsQ0FDeEIxQixjQUFlLFNBRWpCMkIsMEJBQTJCLENBQ3pCM0IsY0FBZSxTQUVqQjRCLHNCQUF1QixDQUNyQjVCLGNBQWUsU0FFakI2QixtQkFBb0IsQ0FDbEI3QixjQUFlLFVBRWhCLENBRUQ4QixtQkFBb0IsQ0FDbEI5QixjQUFlLFFBQ2ZDLGdCQUFpQixHQUNqQkosa0JBQWtCLEdBS3BCa0Msc0JBQXVCLENBQ3JCL0IsY0FBZSxRQUNmQyxnQkFBaUIsS0FFbEIsQ0FFRCtCLHlCQUEwQixDQUN4QmhDLGNBQWUsU0FFaEIsQ0FFRGlDLHlCQUEwQixDQUN4QmpDLGNBQWUsVUFhWixZQUF1QmtDLEVBQU9DLE9BQy9CNWpCLEVBQU8yakIsRUFFUyxTQUFoQkMsTUFFS0QsRUFBTTlELHNCQUdYZ0UsRUFBYTdqQixFQUFLNGYsZ0JBRWIxZ0UsRUFBSSxFQUFHQSxFQUFJK2hFLEdBQVc5akUsT0FBUStCLE9BQ2pDMmtFLEtBQWM1QyxHQUFXL2hFLFVBQ3BCQSxTQUlKLEtBYUYsWUFBMEJ5a0UsRUFBT0MsT0FDbEM1akIsRUFBTzJqQixFQUVTLFNBQWhCQyxNQUVLRCxFQUFNOUQsa0JBR1hnRSxFQUFhN2pCLEVBQUs0ZixnQkFDbEIvakUsRUFBUWlvRSxHQUFjOWpCLEVBQU00akIsTUFFbEIsT0FBVi9uRSxTQUVLLFNBR0wwaEIsRUFBVzBqRCxHQUFXcGxFLEdBQU9nb0UsTUFFN0Ixb0UsR0FBZW9pQixFQUFVLGlCQUFrQixJQUNkLFNBQTNCQSxFQUFTa2tELHFCQUNKLFVBR3NCLFVBQTNCbGtELEVBQVNra0QscUJBQ0osY0FJSDNsRSxNQUFNLElBQU8rbkUsRUFBYSxvQ0FBd0N0bUQsRUFBU2trRCxjQUFnQixhQUk1RixLQVlGLFlBQTJCc0MsRUFBT0MsRUFBT0osT0FFMUN2bkUsRUFBb0IsU0FBaEJ1bkUsRUFBeUJHLEVBQU1sRSxhQUFla0UsRUFDbER6bkUsRUFBb0IsU0FBaEJzbkUsRUFBeUJHLEVBQU1sRSxhQUFlbUUsRUFDbERDLEVBQWM1bkUsRUFBRXVqRSxnQkFDaEJzRSxFQUFjNW5FLEVBQUVzakUsZ0JBQ2hCL2pFLEVBQVFpb0UsR0FBY3puRSxFQUFHdW5FLE1BRWYsT0FBVi9uRSxTQUVLLFNBR0wwaEIsRUFBVzBqRCxHQUFXcGxFLEdBQU9vb0UsTUFFN0I5b0UsR0FBZW9pQixFQUFVLG9CQUFzQkEsRUFBU21rRCwyQkFBMkI3bkQsTUFBTyxTQUNuRjNhLEVBQUksRUFBR0EsRUFBSXFlLEVBQVNta0QsZ0JBQWdCdmtFLE9BQVErQixPQUMvQ3FlLEVBQVNta0QsZ0JBQWdCeGlFLEtBQU9nbEUsVUFDM0IsVUFJSixTQUlGLEtDN1NULElBR1dDLE1BSEEsaUJBQ1EsQ0FBQyxTQUFVLFVBQzlCLFNBQzhFL3lDLFFBQ3hFd1YsT0FDRkEsU0FDQXAxQixFQUNBMHVELFFBQ0U5dUMsRUFDQSt1QyxFQUFTQyxHQUFjLENBQ3pCeDVCLE9BQUFBLElBRUVsQyxFQ2hCQyxTQUF1QnRULE9BQ3hCd1YsT0FDRkEsU0FDQXAxQixHQUNFNGYsU0FnQkcsU0FBZ0JsZSxFQUFRclgsRUFBT0YsVUFFOUJrZSxNQUFNc0IsUUFBUWpJLFVBRVQxQixFQUFPMEIsR0FBUTB6QixPQUFPL3FDLEVBQU9GLEdBQU9xaEIsYUFDbEM5SixHQUFtQyxtQkFBbEJBLEVBQU8wekIsY0FFMUIxekIsRUFBTzB6QixPQUFPL3FDLEVBQU9GLE1BQ0QsaUJBQVh1WCxTQUVUMHpCLEVBQU8xekIsRUFBUXJYLEVBQU9GLE1BQ0YsaUJBQVh1WCxFQUFxQixLQUNoQ3JYLEVBQU1pa0UseUJBQ0g3aUQsVUFBVSw2REFHRi9KLEVBQVFyWCxFQUFNa2tFLG9CQUFxQnBrRSxHQUM1Q3VYLFFBRUQsSUFBSStKLFVBQVUsd0RBRWZpRixTQUNEODlDLEdBQWU5OUMsS0QxQlpraUQsQ0FBYyxDQUN6Qng5QixPQUFBQSxFQUNBcDFCLE9BQUFBLGVBNkJzQjBCLEVBQVFyWCxFQUFPRix3QkFDZnVsRSxTQUNkLElBQUlyZ0QsWUFBWSw0REFHbkIzTixPQUFTQSxPQUNUclgsTUFBUUYsRUFBUUUsRUFBUSxVQUN4QkYsTUFBUUEsR0FBU0UsR0FFakI4Z0IsR0FBYXpKLEtBQVkySSxHQUFlM0ksU0FDckMsSUFBSStKLFVBQVUsc0RBR2xCTixHQUFhekosSUFBMkIsUUFBaEJBLEVBQU93SyxXQUMzQixJQUFJNWhCLE1BQU0sb0NBR2RKLEtBQUtHLFFBQVV5Z0IsR0FBWTVnQixLQUFLRyxhQUU1QixJQUFJb2hCLFVBQVUscUNBR2pCbkIsR0FBT3BnQixLQUFLQyxhQUNULElBQUlzaEIsVUFBVSxtQ0FJZm1MLGVBQWUxc0IsS0FBTSxPQUFRLENBQ2xDb3JDLElBQUssa0JBQ0NwckMsS0FBS0csTUFDQUgsS0FBS0csTUFBTWlrRSxtQkFBcUJwa0UsS0FBS0csTUFBTWtrRSxvQkFBc0IsR0FFakVya0UsS0FBS3dYLE9BQU93SyxNQUFRLElBRTdCNGlELEtBQUs1a0UsTUFDUCtGLElBQUssaUJBQ0csSUFBSTNGLE1BQU0sOERBZ0pHa2tELEVBQU00akIsR0FDeEJBLE1BQ1csWUFHWlMsRUFBYVAsR0FBYzlqQixFQUFNNGpCLEdBQ2pDVSxFQUFpQlIsR0FBYzlqQixFQUFLcmtELE1BQU9pb0UsVUFDeEIsUUFBaEJBLEdBQTRDLE9BQW5CVSxHQUEyQkEsR0FBa0JELFdBbEpoRXRsRSxVQUFZLElBQUlzL0QsSUFDaEJ0L0QsVUFBVThkLEtBQU8sbUJBQ2pCOWQsVUFBVWlkLGtCQUFtQixJQWU3QmpkLFVBQVUyL0QsU0FBVyxTQUFVRSxFQUFNQyxPQUM5QzBCLEVBQWE3a0UsS0FBS3dYLE9BQU93ckQsU0FBU0UsRUFBTUMsR0FFeEMyQixFQUFZOWtFLEtBQUtHLE1BQVFILEtBQUtHLE1BQU02aUUsU0FBU0UsRUFBTUMsR0FBWSxLQUUvRDBGLEVBQVk3b0UsS0FBS0MsTUFBTStpRSxTQUFTRSxFQUFNQyxHQUV0QzU4QyxFQUFPdm1CLEtBQUt3WCxPQUFPd0ssUUFFbEJoaUIsS0FBS0csVUFTQ0gsS0FBS0csTUFBTWlrRSxtQkFBb0IsS0FFcEN6aUQsRUFBTzNoQixLQUFLRyxNQUFNa2tFLDJCQUNmLFNBQTRCN3ZDLEVBQU94TyxFQUFNKytDLE9BQzFDdnRELEVBQVNxdEQsRUFBV3J3QyxFQUFPeE8sRUFBTSsrQyxHQUNqQzlrRSxFQUFRNG9FLEVBQVVyMEMsRUFBT3hPLEVBQU0rK0MsVUFDNUIrRCxHQUFnQnR4RCxFQUFRbUssRUFBTTFoQixPQUU5QmdoQixHQUFhamhCLEtBQUt3WCxlQUVwQixTQUE0QmdkLEVBQU94TyxFQUFNKytDLE9BQzFDZ0UsRUFBY2xFLEVBQVdyd0MsRUFBT3hPLEVBQU0rK0MsR0FDdEM5a0UsRUFBUTRvRSxFQUFVcjBDLEVBQU94TyxFQUFNKytDLEdBQy9CNWtFLEVBQVEya0UsRUFBVXR3QyxFQUFPeE8sRUFBTStpRCxhQUVuQnYwQyxFQUFPak8sRUFBTXlpQixFQUFPKy9CLEVBQWE1b0UsRUFBT0YsSUFDakRBLE9BUUwrb0UsRUFBbUJocEUsS0FBS3dYLE9BQU9BLE9BQU93ckQsU0FBU0UsRUFBTUMsTUFFckRuakUsS0FBS3dYLE9BQU9yWCxNQUFNaWtFLG1CQUFvQixLQUNwQzZFLEVBQWFqcEUsS0FBS3dYLE9BQU9yWCxNQUFNa2tFLDJCQUM1QixTQUE0Qjd2QyxFQUFPeE8sRUFBTSsrQyxPQUMxQ3hnQixFQUFTeWtCLEVBQWlCeDBDLEVBQU94TyxFQUFNKytDLEdBQ3ZDZ0UsRUFBYzlvQixHQUFnQnNFLEVBQVEwa0IsR0FDdEM5b0UsRUFBUTJrRSxFQUFVdHdDLEVBQU94TyxFQUFNK2lELEdBRS9COW9FLEVBQVE0b0UsRUFBVXIwQyxFQUFPeE8sRUFBTSsrQyxhQUNuQnhnQixFQUFRMGtCLEVBQVlqZ0MsRUFBTysvQixFQUFhNW9FLEVBQU9GLElBQ3hEQSxPQUlMaXBFLEVBQWtCbHBFLEtBQUt3WCxPQUFPclgsTUFBTTZpRSxTQUFTRSxFQUFNQyxVQUVoRCxTQUE0QjN1QyxFQUFPeE8sRUFBTSsrQyxPQUMxQ3hnQixFQUFTeWtCLEVBQWlCeDBDLEVBQU94TyxFQUFNKytDLEdBQ3ZDb0UsRUFBY0QsRUFBZ0IxMEMsRUFBT3hPLEVBQU11K0IsR0FFM0N3a0IsRUFBY3RFLEVBQU9sZ0IsRUFBUTRrQixHQUM3QmhwRSxFQUFRMmtFLEVBQVV0d0MsRUFBT3hPLEVBQU0raUQsR0FFL0I5b0UsRUFBUTRvRSxFQUFVcjBDLEVBQU94TyxFQUFNKytDLFlBQzVCeGdCLEVBQVE0a0IsRUFBYW5nQyxFQUFPKy9CLEVBQWE1b0UsRUFBT0YsSUFDaERBLE9BekROZ2hCLEdBQWFqaEIsS0FBS3dYLGNBQ2YsSUFBSStKLFVBQVUsd0NBR2YsU0FBNEJpVCxFQUFPeE8sRUFBTSsrQyxVQUN2QytELEdBQWdCdDBDLEVBQU9qTyxFQUFNc2lELEVBQVVyMEMsRUFBT3hPLEVBQU0rK0MsUUErRGxEMWhFLFVBQVUwa0IsUUFBVSxTQUFVN2MsS0FDbENsTCxLQUFLd1gsT0FBUSxTQUFVeFgsTUFFNUJBLEtBQUtHLFNBQ0VILEtBQUtHLE1BQU8sUUFBU0gsUUFHdkJBLEtBQUtDLE1BQU8sUUFBU0QsVUFVakJxRCxVQUFVZ2UsSUFBTSxTQUFVblcsVUFPaEMsSUFBSXM2RCxFQU5FeGxFLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBS3dYLE9BQVEsU0FBVXhYLE9BRTlDQSxLQUFLRyxNQUFRSCxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUtHLE1BQU8sUUFBU0gsT0FBUyxLQUVqRUEsS0FBS29qRSxRQUFRbDRELEVBQVNsTCxLQUFLQyxNQUFPLFFBQVNELFdBVTFDcUQsVUFBVStkLE1BQVEsa0JBQ3hCLElBQUlva0QsRUFBZXhsRSxLQUFLd1gsT0FBUXhYLEtBQUtHLE1BQU9ILEtBQUtDLFVBMEIzQ29ELFVBQVV3Z0UsVUFBWSxTQUFVeDFDLE9BQ3pDN1csRUFBU3hYLEtBQUt3WCxPQUFPL1QsU0FBUzRxQixHQUM5Qmx1QixFQUFRSCxLQUFLRyxNQUFRSCxLQUFLRyxNQUFNc0QsU0FBUzRxQixHQUFXLEdBQ3BEcHVCLEVBQVFELEtBQUtDLE1BQU13RCxTQUFTNHFCLFVBRTVCMjJDLEVBQWdCaGxFLEtBQU1xdUIsR0FBV0EsRUFBUTY1QyxpQkFDbkMsSUFBTWpvRSxFQUFRLEtBR2pCdVgsRUFBU3JYLEVBQVEsTUFBUUYsS0FRbkJvRCxVQUFVd3pCLE9BQVMsa0JBQ3pCLENBQ0xDLE9BQVEsaUJBQ1J0ZixPQUFReFgsS0FBS3dYLE9BQ2JyWCxNQUFPSCxLQUFLRyxNQUNaRixNQUFPRCxLQUFLQyxVQVlEODJCLFNBQVcsU0FBVUMsVUFDM0IsSUFBSXd1QyxFQUFleHVDLEVBQUt4ZixPQUFRd2YsRUFBSzcyQixNQUFPNjJCLEVBQUsvMkIsVUFTM0NvRCxVQUFVeWdFLE9BQVMsU0FBVXoxQyxPQUN0QzdXLEVBQVN4WCxLQUFLd1gsT0FBT3NzRCxPQUFPejFDLEdBQzVCbHVCLEVBQVFILEtBQUtHLE1BQVFILEtBQUtHLE1BQU0yakUsT0FBT3oxQyxHQUFXLEdBQ2xEcHVCLEVBQVFELEtBQUtDLE1BQU02akUsT0FBT3oxQyxVQUUxQjIyQyxFQUFnQmhsRSxLQUFNcXVCLEdBQVdBLEVBQVE2NUMsaUJBQ25DLGlFQUFtRWpvRSxFQUFRLGtFQUc5RXVYLEVBQVNyWCxFQUFRLHVIQUF5SEYsS0FTcElvRCxVQUFVNGdFLE9BQVMsU0FBVTUxQyxPQUN0QzdXLEVBQVN4WCxLQUFLd1gsT0FBT3VzRCxNQUFNMTFDLEdBQzNCbHVCLEVBQVFILEtBQUtHLE1BQVFILEtBQUtHLE1BQU00akUsTUFBTTExQyxHQUFXLEdBQ2pEcHVCLEVBQVFELEtBQUtDLE1BQU04akUsTUFBTTExQyxVQUV6QjIyQyxFQUFnQmhsRSxLQUFNcXVCLEdBQVdBLEVBQVE2NUMsaUJBQ25DLFVBQVVsakQsT0FBTy9rQixFQUFPLGFBRzNCdVgsRUFBU3JYLEVBQVEsS0FBT0YsR0FHMUJ1bEUsSUFDTixDQUNEdnVDLFNBQVMsRUFDVDdXLFFBQVEsSUU3VENncEQsTUFGQSxZQUNRLENBQUMsWUFBYSxTQUN3QzF6QyxRQUNuRWtCLFVBQ0ZBLEVBQ0E0dEMsUUFDRTl1QyxhQVdlMnpDLHdCQUNLQyxTQUNkLElBQUlua0QsWUFBWSx3REFJbkJoSCxNQUFNc0IsUUFBUTRwRCxTQUFlLElBQUlqcEUsTUFBTSx1QkFDdkNpcEUsT0FBU0EsRUFBT2hvRCxLQUFJLFNBQVVrb0QsT0FDN0JqbEIsRUFBT2lsQixHQUFTQSxFQUFNamxCLEtBQ3RCa2xCLEdBQVVELFFBQTJCLElBQWxCQSxFQUFNQyxTQUF3QkQsRUFBTUMsWUFDdERwcEQsR0FBT2trQyxTQUFhLElBQUkvaUMsVUFBVSxxQ0FDaEIsa0JBQVppb0QsUUFBNkIsSUFBSWpvRCxVQUFVLCtDQUMvQyxDQUNMK2lDLEtBQUFBLEVBQ0FrbEIsUUFBQUEsZ0JBS0lubUUsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGNBQ2pCOWQsVUFBVWtkLGFBQWMsSUFleEJsZCxVQUFVMi9ELFNBQVcsU0FBVUUsRUFBTUMsT0FDekNzRyxFQUFhcG9ELEdBQUlyaEIsS0FBS3FwRSxRQUFRLFNBQVVFLFVBQ25DLENBQ0wzRyxTQUFVMkcsRUFBTWpsQixLQUFLMGUsU0FBU0UsRUFBTUMsR0FDcENxRyxRQUFTRCxFQUFNQyxtQkFHWixTQUF3QmgxQyxFQUFPeE8sRUFBTSsrQyxPQUN0QzJFLEVBQVUsYUFDTkQsR0FBWSxTQUF1QkYsT0FDckNqMEIsRUFBU2kwQixFQUFNM0csU0FBU3B1QyxFQUFPeE8sRUFBTSsrQyxHQUVyQ3dFLEVBQU1DLFdBQ0FoaEQsS0FBSzhzQixPQUdWLElBQUkxZSxFQUFVOHlDLE9BU2ZybUUsVUFBVTBrQixRQUFVLFNBQVU3YyxXQUM3QjFILEVBQUksRUFBR0EsRUFBSXhELEtBQUtxcEUsT0FBTzVuRSxPQUFRK0IsTUFDN0J4RCxLQUFLcXBFLE9BQU83bEUsR0FBRzhnRCxLQUFNLFVBQVk5Z0QsRUFBSSxTQUFVeEQsVUFXbERxRCxVQUFVZ2UsSUFBTSxTQUFVblcsV0FDOUJtK0QsRUFBUyxHQUVKN2xFLEVBQUksRUFBR0EsRUFBSXhELEtBQUtxcEUsT0FBTzVuRSxPQUFRK0IsSUFBSyxLQUN2QytsRSxFQUFRdnBFLEtBQUtxcEUsT0FBTzdsRSxHQUVwQjhnRCxFQUFPdGtELEtBQUtvakUsUUFBUWw0RCxFQUFTcStELEVBQU1qbEIsS0FBTSxVQUFZOWdELEVBQUksU0FBVXhELFNBRWhFd0QsR0FBSyxDQUNWOGdELEtBQUFBLEVBQ0FrbEIsUUFBU0QsRUFBTUMsaUJBSVosSUFBSUYsRUFBVUQsTUFRYmhtRSxVQUFVK2QsTUFBUSxrQkFPbkIsSUFBSWtvRCxFQU5FdHBFLEtBQUtxcEUsT0FBT2hvRCxLQUFJLFNBQVVrb0QsVUFDOUIsQ0FDTGpsQixLQUFNaWxCLEVBQU1qbEIsS0FDWmtsQixRQUFTRCxFQUFNQyxnQkFhWG5tRSxVQUFVd2dFLFVBQVksU0FBVXgxQyxVQUNqQ3J1QixLQUFLcXBFLE9BQU9ob0QsS0FBSSxTQUFVMkMsVUFDeEJBLEVBQU1zZ0MsS0FBSzdnRCxTQUFTNHFCLE1BQWtCbTdDLFFBQVUsR0FBSyxRQUMzRGhtRCxLQUFLLFNBUUFuZ0IsVUFBVXd6QixPQUFTLGtCQUNwQixDQUNMQyxPQUFRLFlBQ1J1eUMsT0FBUXJwRSxLQUFLcXBFLFdBWVB0eUMsU0FBVyxTQUFVQyxVQUN0QixJQUFJc3lDLEVBQVV0eUMsRUFBS3F5QyxXQVVsQmhtRSxVQUFVeWdFLE9BQVMsU0FBVXoxQyxVQUM5QnJ1QixLQUFLcXBFLE9BQU9ob0QsS0FBSSxTQUFVMkMsVUFDeEJBLEVBQU1zZ0MsS0FBS3dmLE9BQU96MUMsTUFBa0JtN0MsUUFBVSxHQUFLLDRDQUN6RGhtRCxLQUFLLGlEQVNBbmdCLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLFVBQzlCcnVCLEtBQUtxcEUsT0FBT2hvRCxLQUFJLFNBQVUyQyxVQUN4QkEsRUFBTXNnQyxLQUFLeWYsTUFBTTExQyxNQUFrQm03QyxRQUFVLEdBQUssUUFDeERobUQsS0FBSyxhQUdIOGxELElBQ04sQ0FDRHJ5QyxTQUFTLEVBQ1Q3VyxRQUFRLElDMUxDdXBELE1BRkEsa0JBQ1EsQ0FBQyxTQUMyRGowQyxRQUUzRTh1QyxRQUNFOXVDLGFBWXFCazBDLEVBQVdDLEVBQVVDLHdCQUN0QnBFLFNBQ2QsSUFBSXZnRCxZQUFZLHdEQUduQi9FLEdBQU93cEQsU0FBa0IsSUFBSXJvRCxVQUFVLDBDQUN2Q25CLEdBQU95cEQsU0FBaUIsSUFBSXRvRCxVQUFVLHlDQUN0Q25CLEdBQU8wcEQsU0FBa0IsSUFBSXZvRCxVQUFVLDJDQUN2Q3FvRCxVQUFZQSxPQUNaQyxTQUFXQSxPQUNYQyxVQUFZQSxZQUdIem1FLFVBQVksSUFBSXMvRCxJQUNoQnQvRCxVQUFVOGQsS0FBTyxvQkFDakI5ZCxVQUFVbWQsbUJBQW9CLElBZTlCbmQsVUFBVTIvRCxTQUFXLFNBQVVFLEVBQU1DLE9BQy9DNEcsRUFBZ0IvcEUsS0FBSzRwRSxVQUFVNUcsU0FBU0UsRUFBTUMsR0FFOUM2RyxFQUFlaHFFLEtBQUs2cEUsU0FBUzdHLFNBQVNFLEVBQU1DLEdBRTVDOEcsRUFBZ0JqcUUsS0FBSzhwRSxVQUFVOUcsU0FBU0UsRUFBTUMsVUFFM0MsU0FBNkIzdUMsRUFBT3hPLEVBQU0rK0MsbUJBd0o1QjZFLE1BQ0ksaUJBQWRBLEdBQStDLGtCQUFkQSxHQUFnRCxpQkFBZEEsV0FDbkVBLEtBR1BBLEVBQVcsSUFDVHhxRCxHQUFZd3FELFdBQ05BLEVBQVU1NEMsWUFHaEIxUixHQUFVc3FELGVBQ1Foa0MsS0FBTWdrQyxFQUFVL2pDLE9BR2xDcm1CLEdBQU9vcUQsWUFDQUEsRUFBVTNwRSxTQUluQjJwRSxNQUFBQSxVQUNLLFFBR0gsSUFBSXJvRCxVQUFVLGtDQUFvQ3NxQixHQUFPKzlCLEdBQWEsS0E5S25FTSxDQUFjSCxFQUFjdjFDLEVBQU94TyxFQUFNKytDLElBQVlpRixFQUFheDFDLEVBQU94TyxFQUFNKytDLEdBQVdrRixFQUFjejFDLEVBQU94TyxFQUFNKytDLE9BU2hIMWhFLFVBQVUwa0IsUUFBVSxTQUFVN2MsS0FDbkNsTCxLQUFLNHBFLFVBQVcsWUFBYTVwRSxRQUM3QkEsS0FBSzZwRSxTQUFVLFdBQVk3cEUsUUFDM0JBLEtBQUs4cEUsVUFBVyxZQUFhOXBFLFVBVXhCcUQsVUFBVWdlLElBQU0sU0FBVW5XLFVBQ2pDLElBQUl3NkQsRUFBZ0IxbEUsS0FBS29qRSxRQUFRbDRELEVBQVNsTCxLQUFLNHBFLFVBQVcsWUFBYTVwRSxPQUFRQSxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUs2cEUsU0FBVSxXQUFZN3BFLE9BQVFBLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBSzhwRSxVQUFXLFlBQWE5cEUsV0FRcExxRCxVQUFVK2QsTUFBUSxrQkFDekIsSUFBSXNrRCxFQUFnQjFsRSxLQUFLNHBFLFVBQVc1cEUsS0FBSzZwRSxTQUFVN3BFLEtBQUs4cEUsY0FTakR6bUUsVUFBVXdnRSxVQUFZLFNBQVV4MUMsT0FDMUM2NUMsRUFBYzc1QyxHQUFXQSxFQUFRNjVDLFlBQWM3NUMsRUFBUTY1QyxZQUFjLE9BQ3JFUyxFQUFhUCxHQUFjcG9FLEtBQU1rb0UsR0FLakMwQixFQUFZNXBFLEtBQUs0cEUsVUFBVW5tRSxTQUFTNHFCLEdBQ3BDODdDLEVBQXNCL0IsR0FBY3BvRSxLQUFLNHBFLFVBQVcxQixJQUVwQyxRQUFoQkEsR0FBaUQsaUJBQXhCbG9FLEtBQUs0cEUsVUFBVXpvRCxNQUFtRCxPQUF4QmdwRCxHQUFnQ0EsR0FBdUJ4QixPQUNoSCxJQUFNaUIsRUFBWSxTQUc1QkMsRUFBVzdwRSxLQUFLNnBFLFNBQVNwbUUsU0FBUzRxQixHQUNsQys3QyxFQUFpQmhDLEdBQWNwb0UsS0FBSzZwRSxTQUFVM0IsSUFFOUIsUUFBaEJBLEdBQWdELGlCQUF2QmxvRSxLQUFLNnBFLFNBQVMxb0QsTUFBOEMsT0FBbkJpcEQsR0FBMkJBLEdBQWtCekIsT0FDdEcsSUFBTWtCLEVBQVcsU0FHMUJDLEVBQVk5cEUsS0FBSzhwRSxVQUFVcm1FLFNBQVM0cUIsR0FDcENnOEMsRUFBa0JqQyxHQUFjcG9FLEtBQUs4cEUsVUFBVzVCLFdBRWhDLFFBQWhCQSxHQUFpRCxpQkFBeEJsb0UsS0FBSzhwRSxVQUFVM29ELE1BQStDLE9BQXBCa3BELEdBQTRCQSxHQUFtQjFCLE9BQ3hHLElBQU1tQixFQUFZLEtBR3pCRixFQUFZLE1BQVFDLEVBQVcsTUFBUUMsS0FRaEN6bUUsVUFBVXd6QixPQUFTLGtCQUMxQixDQUNMQyxPQUFRLGtCQUNSOHlDLFVBQVc1cEUsS0FBSzRwRSxVQUNoQkMsU0FBVTdwRSxLQUFLNnBFLFNBQ2ZDLFVBQVc5cEUsS0FBSzhwRSxjQVlKL3lDLFNBQVcsU0FBVUMsVUFDNUIsSUFBSTB1QyxFQUFnQjF1QyxFQUFLNHlDLFVBQVc1eUMsRUFBSzZ5QyxTQUFVN3lDLEVBQUs4eUMsY0FTakR6bUUsVUFBVXlnRSxPQUFTLFNBQVV6MUMsT0FDdkM2NUMsRUFBYzc1QyxHQUFXQSxFQUFRNjVDLFlBQWM3NUMsRUFBUTY1QyxZQUFjLE9BQ3JFUyxFQUFhUCxHQUFjcG9FLEtBQU1rb0UsR0FLakMwQixFQUFZNXBFLEtBQUs0cEUsVUFBVTlGLE9BQU96MUMsR0FDbEM4N0MsRUFBc0IvQixHQUFjcG9FLEtBQUs0cEUsVUFBVzFCLElBRXBDLFFBQWhCQSxHQUFpRCxpQkFBeEJsb0UsS0FBSzRwRSxVQUFVem9ELE1BQW1ELE9BQXhCZ3BELEdBQWdDQSxHQUF1QnhCLE9BQ2hILGlFQUFtRWlCLEVBQVksc0VBR3pGQyxFQUFXN3BFLEtBQUs2cEUsU0FBUy9GLE9BQU96MUMsR0FDaEMrN0MsRUFBaUJoQyxHQUFjcG9FLEtBQUs2cEUsU0FBVTNCLElBRTlCLFFBQWhCQSxHQUFnRCxpQkFBdkJsb0UsS0FBSzZwRSxTQUFTMW9ELE1BQThDLE9BQW5CaXBELEdBQTJCQSxHQUFrQnpCLE9BQ3RHLGlFQUFtRWtCLEVBQVcsc0VBR3ZGQyxFQUFZOXBFLEtBQUs4cEUsVUFBVWhHLE9BQU96MUMsR0FDbENnOEMsRUFBa0JqQyxHQUFjcG9FLEtBQUs4cEUsVUFBVzVCLFdBRWhDLFFBQWhCQSxHQUFpRCxpQkFBeEJsb0UsS0FBSzhwRSxVQUFVM29ELE1BQStDLE9BQXBCa3BELEdBQTRCQSxHQUFtQjFCLE9BQ3hHLGlFQUFtRW1CLEVBQVksa0VBR3RGRixFQUFZLGlFQUFtRUMsRUFBVyxpRUFBbUVDLEtBU3RKem1FLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLFVBQ3BDLG1CQUFxQnJ1QixLQUFLNnBFLFNBQVM5RixNQUFNMTFDLEdBQVcsNEJBQThCcnVCLEtBQUs0cEUsVUFBVTdGLE1BQU0xMUMsR0FBVyxTQUFXcnVCLEtBQUs4cEUsVUFBVS9GLE1BQU0xMUMsR0FBVyw2Q0FtQy9KcTNDLElBQ04sQ0FDRHp1QyxTQUFTLEVBQ1Q3VyxRQUFRLElDek9ONHVDLEdBQVdyMEMsT0FBT3F1QixRQUFVLFNBQVUvM0IsV0FBbUJ6TixFQUFJLEVBQUdBLEVBQUk4SyxVQUFVN00sT0FBUStCLElBQUssS0FBTW9zQyxFQUFTdGhDLFVBQVU5SyxXQUFha2UsS0FBT2t1QixFQUFjajFCLE9BQU90WCxVQUFVNUQsZUFBZXFpQixLQUFLOHRCLEVBQVFsdUIsT0FBZUEsR0FBT2t1QixFQUFPbHVCLFlBQW1CelEsR0FFblBxNUQsR0FBaUIsQ0FDbkJDLElBQUssTUFDTEMsSUFBSyxNQUNMQyxLQUFNLG9CQUNOQyxJQUFLLE1BQ0xDLEVBQUcsTUFDSEMsSUFBSyxNQUNMQyxJQUFLLE1BQ0xDLElBQUssc0JBQ0xDLEVBQUcsTUFDSEMsSUFBSyxzQkFFSEMsR0FBZ0IsQ0FDbEJDLElBQVUsT0FDVkMsSUFBVSxRQUNWQyxJQUFLLElBQ0xDLEtBQU0sWUFDTkMsT0FBUSxjQUNSQyxLQUFNLGVBR0pDLEdBQXFCLFNBQTRCQyxFQUFnQkMsVUFDNUQxYyxHQUFTLEdBQUl5YyxFQUFnQkMsSUMxQjNCQyxHQUFlLENBRXhCQyxNQUFPLElBQ1B0cEUsTUFBTyxVQUNQdXBFLEtBQU0sSUFDTkMsS0FBTSxTQUNOQyxNQUFPLFVBQ1BDLE1BQU8sVUFDUEMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLFFBQVMsSUFDVHo3QyxRQUFTLFlBQ1QwN0MsV0FBWSxlQUNaQyxLQUFNLElBQ05DLEtBQU0sU0FDTkMsSUFBSyxJQUNMQyxJQUFLLFFBQ0xDLE1BQU8sVUFDUGovRCxNQUFPLFVBQ1BrL0QsU0FBVSxhQUNWQyxLQUFNLElBQ05DLEtBQU0sU0FDTkMsTUFBTyxJQUNQQyxNQUFPLFVBQ1BDLFNBQVUsYUFDVkMsT0FBUSxXQUNSMW9FLE9BQVEsV0FDUjJvRSxHQUFJLElBQ0pDLEdBQUksT0FDSkMsR0FBSSxJQUNKQyxHQUFJLE9BQ0pDLEdBQUksT0FDSjVyQyxHQUFJLE9BQ0o2ckMsUUFBUyxJQUNUQyxRQUFTLElBQ1R4ZixHQUFJLE9BQ0pockIsR0FBSSxPQUNKeXFDLE1BQU8sVUFDUEMsSUFBSyxJQUNMQyxJQUFLLFFBQ0xDLE9BQVEsV0FDUkMsTUFBTyxVQUNQQyxNQUFPLFVBQ1BDLFNBQVUsYUFDVkMsSUFBSyxJQUNMQyxJQUFLLFFBQ0xDLFFBQVMsWUFDVEMsUUFBUyxZQUNUQyxJQUFLLFFBQ0x2Z0UsSUFBSyxRQUNMd2dFLE9BQVEsV0FDUkMsSUFBSyxJQUNMQyxJQUFLLFFBQ0xDLElBQUssUUFDTGxXLElBQUssUUFDTG1XLE1BQU8sVUFDUEMsTUFBTyxVQUVQQyxLQUFNLGlCQUNOQyxNQUFPLGtCQUVQbnJFLEVBQUcsSUFFSGk3QixJQUFLLFVBQ0xtd0MsSUFBSyxVQUNMQyxTQUFVLFVBQ1Y3NEQsU0FBVSxVQUNWODRELEdBQUksVUFDSkMsSUFBSyxRQUNMQyxVQUFXLGVBRUZDLEdBQWlCLENBQzFCNTBELFVBQVcsU0FDWDYwRCxXQUFZLEtBQ1pDLFVBQVcsSUFDWG5xRSxJQUFLLElBQ0xvcUUsT0FBUSxZQUVSQyxVQUFXLElBQ1g1ekIsV0FBWSxJQUNaNnpCLE9BQVEsTUFFUkMsSUFBSyxRQUNMaDJCLFNBQVUsU0FDVm5lLE9BQVEsU0FFUm8wQyxZQUFhLFVBRWJDLFVBQVcsS0FFWHh3QyxJQUFLLFFBQ0wxb0IsSUFBSyxJQUNMMHZDLFNBQVUsSUFDVnBpQyxHQUFJLGVBQ0o2ckQsVUFBVyxLQUNYQyxnQkFBaUIsS0FDakJDLGNBQWUsTUFDZnpwQixNQUFPLElBQ1AwcEIsUUFBUyxRQUNUNXJCLFFBQVMsSUFDVEMsT0FBUSxJQUNSNHJCLFVBQVcsUUFDWEMsU0FBVSxRQUNWQyxPQUFRLE1BQ1JDLE9BQVEsaUJBQ1JDLE1BQU8sSUFDUEMsSUFBSyxVQUNMQyxJQUFLLFdBQ0xDLEdBQUksU0FFS0MsR0FBaUIsQ0FFMUJ2dUUsSUFBSyxDQUNId3VFLEVBQUcsNkJBRUxoNkQsSUFBSyxDQUNIaTZELEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZTE0RCxJQUFLLHVCQUVwRHdrQixLQUFNLENBQ0p3MUMsRUFBRyx5QkFFTDN1RSxLQUFNLENBQ0oydUUsRUFBRyx5Q0FFTEUsS0FBTSxDQUNKRixFQUFHLCtCQUVMbjFDLE9BQVEsQ0FDTm8xQyxFQUFHLGtDQUVMZixVQUFXLENBQ1RlLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZVEsVUFBVyx1QkFFMURELFlBQWEsQ0FDWGdCLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZU8sWUFBYSx1QkFFNURKLE9BQVEsQ0FDTm9CLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZUcsT0FBUSx1QkFFdkQzcUUsSUFBSyxDQUNIOHJFLEVBQUcsa0NBRUxwcUMsTUFBTyxXQUFXbmhCLE9BQU9pcUQsR0FBZWpxRSxJQUFLLDBCQUM3Q2toRCxJQUFLLENBQ0hxcUIsRUFBRyw4Q0FFTDV1RSxNQUFPLENBQ0w0dUUsRUFBRywyQ0FFTHRuQyxJQUFLLDhCQUNMakUsTUFBTyxnQ0FDUC8vQixJQUFLLENBQ0hzckUsRUFBRyxnQ0FDSEMsRUFBRywrQ0FFTHZyQyxNQUFPLENBQ0xzckMsRUFBRyx1Q0FFTEcsTUFBTyxDQUNMSCxFQUFHLGtDQUNIQyxFQUFHLGlEQUVMdHJDLEtBQU0scUNBQ05qRyxJQUFLLENBQ0h1eEMsRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlaHdDLElBQUssdUJBRXBEc2EsU0FBVSxDQUNSaTNCLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZTExQixTQUFVLHVCQUV6RG8zQixLQUFNLENBQ0pKLEVBQUcsZ0NBQ0hDLE9BQUcsR0FHTEksUUFBUyxDQUNQSixFQUFHLGtDQUVMSyxTQUFVLENBQ1JMLEVBQUcseUNBRUx4ckUsSUFBSyxDQUNId3JFLEVBQUcsNEJBQTRCeHJELE9BQU9pcUQsR0FBZWpxRSxJQUFLLGlCQUU1RG5ELE1BQU8sQ0FDTDB1RSxFQUFHLHlDQUNIQyxPQUFHLEdBR0xwaUQsS0FBTSxDQUNKbWlELEVBQUcsOENBRUx6dUUsS0FBTSxDQUNKeXVFLEVBQUcsc0JBRUxPLE9BQVEsQ0FDTlAsRUFBRywrQkFFTHRxQixTQUFVLENBQ1J1cUIsRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlaHBCLFNBQVUsdUJBRXpEeEssV0FBWSxDQUNWODBCLEVBQUcsR0FBR3ZyRCxPQUFPaXFELEdBQWV4ekIsV0FBWSw4QkFFMUM0ekIsVUFBVyxDQUNUa0IsRUFBRyxHQUFHdnJELE9BQU9pcUQsR0FBZUksVUFBVyw4QkFHekNXLE9BQVEsQ0FDTlEsRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlZSxPQUFRLHVCQUV2RFYsT0FBUSxDQUNOaUIsRUFBR3RCLEdBQWVLLE9BQVMsNkJBRTdCWSxNQUFPLENBQ0xNLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZWlCLE1BQU8sdUJBRXRERCxPQUFRLENBQ05PLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZWdCLE9BQVEsdUJBRXZEUCxVQUFXLENBQ1RjLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZVMsVUFBVyx1QkFFMURDLGdCQUFpQixDQUNmYSxFQUFHLG9CQUFvQnhyRCxPQUFPaXFELEdBQWVVLGdCQUFpQix1QkFFaEVDLGNBQWUsQ0FDYlksRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlVyxjQUFlLHVCQUc5RG1CLFlBQWEsQ0FDWFIsRUFBRyw0QkFFTFMsUUFBUyxDQUNQVCxFQUFHLDRCQUVMVSxXQUFZLENBQ1ZULEVBQUcscUNBR0wvbkQsSUFBSyxDQUNIOG5ELEVBQUcsa0NBRUxqUCxLQUFNLENBQ0ppUCxFQUFHLCtCQUVMMXFDLEdBQUksQ0FDRjBxQyxFQUFHLCtDQUVMM3FDLEdBQUksQ0FDRjJxQyxFQUFHLCtDQUdMSixJQUFLLENBQ0hLLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZWtCLElBQUssdUJBRXBEWixJQUFLLENBQ0hnQixFQUFHdEIsR0FBZU0sSUFBTSw2QkFFMUJjLEdBQUksQ0FDRkcsRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlb0IsR0FBSSx1QkFFbkRELElBQUssQ0FDSEksRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlbUIsSUFBSyx1QkFHcERjLE1BQU8sQ0FDTFYsRUFBRyw2REFFTHRCLFdBQVksQ0FDVnFCLEVBQUcsNEJBQTRCdnJELE9BQU9pcUQsR0FBZUMsYUFFdkR6N0QsSUFBSyxDQUNIODhELEVBQUcsa0NBRUwvbUUsSUFBSyxDQUNIZ25FLEVBQUcsNkNBRUxXLEtBQU0sQ0FDSlosRUFBRyxrQ0FFTGEsSUFBSyxDQUNIYixFQUFHLGtDQUVMYyxNQUFPLENBQ0xkLEVBQUcsZUFBZXZyRCxPQUFPaXFELEdBQWVqcUUsSUFBSyxtQkFFL0NvRSxNQUFPLENBQ0xtbkUsRUFBRyx5Q0FFTGwyRCxVQUFXLENBQ1RrMkQsRUFBRyw0QkFBNEJ2ckQsT0FBT2lxRCxHQUFlNTBELFlBR3ZEaTNELGFBQWMsQ0FDWmQsRUFBRyxtQ0FFTGUsb0JBQXFCLENBQ25CZixFQUFHLGdFQUVMckIsVUFBVyxDQUNUb0IsRUFBRyw0QkFBNEJ2ckQsT0FBT2lxRCxHQUFlRSxZQUV2RG5ELE1BQU8sQ0FDTHVFLEVBQUcsb0NBR0xwcUIsTUFBTyxDQUNMcXFCLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZTlvQixNQUFPLHVCQUV0RGpDLE9BQVEsQ0FDTnNzQixFQUFHLG9CQUFvQnhyRCxPQUFPaXFELEdBQWUvcUIsT0FBUSx1QkFFdkQ2ckIsU0FBVSxDQUNSUyxFQUFHLG9CQUFvQnhyRCxPQUFPaXFELEdBQWVjLFNBQVUsdUJBRXpEOXJCLFFBQVMsQ0FDUHVzQixFQUFHLG9CQUFvQnhyRCxPQUFPaXFELEdBQWVockIsUUFBUyx1QkFFeEQ2ckIsVUFBVyxDQUNUVSxFQUFHLG9CQUFvQnhyRCxPQUFPaXFELEdBQWVhLFVBQVcsdUJBRTFERCxRQUFTLENBQ1BXLEVBQUcsb0JBQW9CeHJELE9BQU9pcUQsR0FBZVksUUFBUyx1QkFHeEQyQixJQUFLLENBQ0hqQixFQUFHLGdDQUdMbnZFLElBQUssOEJBQ0xELElBQUssOEJBQ0xzd0UsU0FBVSxzQ0FFVmhvRSxLQUFNLENBQ0o4bUUsRUFBRyx1Q0FFTHJ6QyxNQUFPLENBQ0xxekMsRUFBRyx3Q0FFTDVwQyxLQUFNLENBQ0o0cEMsRUFBRyx1Q0FFTGxwQyxNQUFPLENBQ0xrcEMsRUFBRyx3Q0FFTDFwQyxLQUFNLENBQ0owcEMsRUFBRyx1Q0FFTGpwQyxNQUFPLENBQ0xpcEMsRUFBRyxnREFFTDNwQyxLQUFNLENBQ0oycEMsRUFBRyx1Q0FFTGhwQyxNQUFPLENBQ0xncEMsRUFBRyxnREFFTHZ6QyxLQUFNLENBQ0p1ekMsRUFBRyx1Q0FFTGp6QyxNQUFPLENBQ0xpekMsRUFBRyx3Q0FFTDN5QyxLQUFNLENBQ0oyeUMsRUFBRyx1Q0FFTHZ1RSxNQUFPLENBQ0x3dUUsRUFBRyx5Q0FFTGh6QyxNQUFPLENBQ0wreUMsRUFBRyx3Q0FFTHR0RSxJQUFLLENBQ0hzdEUsRUFBRyxrQ0FFTHYwQyxLQUFNLENBQ0p1MEMsRUFBRyxtQ0FFTGpxQyxJQUFLLENBQ0hpcUMsRUFBRyxrQ0FFTHpwQyxLQUFNLENBQ0p5cEMsRUFBRyxtQ0FFTC9wQyxJQUFLLENBQ0grcEMsRUFBRyxrQ0FFTHhwQyxLQUFNLENBQ0p3cEMsRUFBRywyQ0FFTGhxQyxJQUFLLENBQ0hncUMsRUFBRyxrQ0FFTHZwQyxLQUFNLENBQ0p1cEMsRUFBRywyQ0FFTHJ0RSxJQUFLLENBQ0hxdEUsRUFBRyxrQ0FFTGwwQyxLQUFNLENBQ0prMEMsRUFBRyxtQ0FFTDd3QyxJQUFLLENBQ0g2d0MsRUFBRyxrQ0FFTDV6QyxLQUFNLENBQ0o0ekMsRUFBRyxtQ0FHTDFzRCxHQUFJLENBQ0Yyc0QsRUFBRyxvQkFBb0J4ckQsT0FBT2lxRCxHQUFlcHJELEdBQUksdUJBR25EeTlCLFFBQVMsU0FBaUJnRCxFQUFNajJCLFVBRXZCaTJCLEVBQUt0K0IsS0FBSyxHQUFHKzlDLFNBR3RCcHhCLE9BQVEsQ0FDTisrQixFQUFHLElBQ0huQixFQUFHLDRCQUNIQyxFQUFHLHNEQUVMNTlCLE9BQVEsQ0FDTjgrQixFQUFHLGVBQ0huQixFQUFHLDZDQUVMMXZCLFVBQVcsQ0FDVDZ3QixFQUFHLElBQ0huQixFQUFHLDZCQUVMb0IsUUFBUyxDQUNQRCxFQUFHLElBQ0huQixFQUFHLDRCQUNIQyxFQUFHLG9DQUFvQ3hyRCxPQUFPMm1ELEdBQWFub0UsRUFBRyw0Q0FFaEVzUyxPQUFRLENBQ040N0QsRUFBRyxpQ0FDSG5CLEVBQUcsNEJBQ0hDLEVBQUcsNkJBRUxvQixPQUFRLENBQ05GLEVBQUcsaUNBQ0huQixFQUFHLDZCQUVMdDlCLEtBQU0sQ0FDSnM5QixFQUFHLDRCQUNIQyxFQUFHLHVEQUlIcUIsR0FBYSxDQUNmNWIsSUFBSyxXQUVBLFlBQXFCcmpCLFVEamFYLFNBQVVydkIsV0FDckJtUyxFQUFPcG5CLFVBQVU3TSxPQUFTLFFBQXNCLElBQWpCNk0sVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBQzNFd2pFLEVBQXdCcDhDLEVBQUtxOEMsbUJBQzdCQSxPQUErQyxJQUExQkQsR0FBOENBLEVBQ25FRSxFQUFtQnQ4QyxFQUFLdThDLFlBQ3hCQSxPQUFtQyxJQUFyQkQsRUFBaUN4RyxHQUFxQndHLEVBRXBFRSxFQUFhdGpELE9BQU9yTCxHQUNwQit4QixFQUFTLEdBRVQ2OEIsRUFBVUYsRUFBWWpqQixHQUFTLEdBQUlzYixJQUFpQnlILEVBQXFCL2lCLEdBQVMsR0FBSWljLElBQWlCLElBQ3ZHbUgsRUFBYXozRCxPQUFPcU4sS0FBS21xRCxHQU16QkUsRUFBUSxlQUNOQyxHQUFtQixJQUNadnFELFNBQVEsU0FBVXJHLEVBQUt2aEIsR0FDNUJteUUsR0FHQUosRUFBV3p3RSxRQUFVaWdCLEVBQUlqZ0IsUUFBVXl3RSxFQUFXOXRELE1BQU0sRUFBRzFDLEVBQUlqZ0IsVUFBWWlnQixPQUMvRHl3RCxFQUFRQyxFQUFXanlFLE1BQ2hCK3hFLEVBQVc5dEQsTUFBTTFDLEVBQUlqZ0IsT0FBUXl3RSxFQUFXendFLFdBQ2xDLE9BR2xCNndFLE9BQ09KLEVBQVc5dEQsTUFBTSxFQUFHLEtBQ2pCOHRELEVBQVc5dEQsTUFBTSxFQUFHOHRELEVBQVd6d0UsV0FJekN5d0UsY0FHQTU4QixFQzRYQWk5QixDQUFlMy9CLEVBQVEsQ0FDNUJtL0Isb0JBQW9CLElBS2pCLFlBQWtCeHJELEVBQU1pc0Qsa0JBQ0YsSUFBWEEsR0FBaUNBLEdBRzNDL3lFLEdBQWVveUUsR0FBWXRyRCxHQUN0QnNyRCxHQUFXdHJELEdBR2IsWUFBY2tzRCxHQUFZbHNELEdBQVEsSUFHdkM5bUIsR0FBZWtzRSxHQUFjcGxELEdBQ3hCb2xELEdBQWFwbEQsR0FHZmtzRCxHQUFZbHNELEdDM2RyQixJQUVXbXNELE1BRkEsZUFDUSxDQUFDLFNBQ3dEaDlDLFFBRXhFOHVDLFFBQ0U5dUMsYUFja0J6MUIsd0JBQ0UweUUsU0FDZCxJQUFJeHRELFlBQVkseURBR25CbGxCLE1BQVFBLFlBR0ZvRCxVQUFZLElBQUlzL0QsSUFDaEJ0L0QsVUFBVThkLEtBQU8saUJBQ2pCOWQsVUFBVW9kLGdCQUFpQixJQWUzQnBkLFVBQVUyL0QsU0FBVyxTQUFVRSxFQUFNQyxPQUM1Q2xqRSxFQUFRRCxLQUFLQyxhQUNWLGtCQUNFQSxNQVNFb0QsVUFBVTBrQixRQUFVLFNBQVU3YyxPQVU5QjdILFVBQVVnZSxJQUFNLFNBQVVuVyxVQUM5QmxMLEtBQUtvaEIsV0FRRC9kLFVBQVUrZCxNQUFRLGtCQUN0QixJQUFJdXhELEVBQWEzeUUsS0FBS0MsVUFTbEJvRCxVQUFVd2dFLFVBQVksU0FBVXgxQyxVQUNwQ3dELEdBQU83eEIsS0FBS0MsTUFBT291QixNQVNmaHJCLFVBQVV5Z0UsT0FBUyxTQUFVejFDLE9BQ3BDcHVCLEVBQVFELEtBQUs2akUsVUFBVXgxQyxVQUVuQndkLEdBQU83ckMsS0FBS0MsWUFDYixhQUNBLGdCQUNBLGtCQUNJLDZCQUErQkEsRUFBUSxjQUUzQyxnQkFDSSw2QkFBK0JBLEVBQVEsY0FFM0MsaUJBQ0ksOEJBQWdDQSxFQUFRLGNBRTVDLGNBQ0ksa0NBQW9DQSxFQUFRLGNBRWhELG1CQUNJLGdDQUFrQ0EsRUFBUSx5QkFHMUMsNkJBQStCQSxFQUFRLGNBU3ZDb0QsVUFBVXd6QixPQUFTLGtCQUN2QixDQUNMQyxPQUFRLGVBQ1I3MkIsTUFBT0QsS0FBS0MsVUFZSDgyQixTQUFXLFNBQVVDLFVBQ3pCLElBQUkyN0MsRUFBYTM3QyxFQUFLLzJCLFVBU2xCb0QsVUFBVTRnRSxPQUFTLFNBQVU1MUMsT0FDcENwdUIsRUFBUUQsS0FBSzZqRSxVQUFVeDFDLFVBRW5Cd2QsR0FBTzdyQyxLQUFLQyxZQUNiLGdCQUNJLFlBQWN3eUUsR0FBWXh5RSxHQUFTLFFBRXZDLGFBQ0EsZ0JBRUlrdUIsU0FBU251QixLQUFLQyxjQUNWRCxLQUFLQyxNQUFNcWhCLFVBQVksRUFBSSxXQUFhLGNBRzdDbmhCLEVBQVFGLEVBQU04aUIsY0FBY0MsUUFBUSxpQkFFcEM3aUIsRUFDS0YsRUFBTW94QixVQUFVLEVBQUdseEIsR0FBUyxhQUFlRixFQUFNb3hCLFVBQVVseEIsRUFBUSxHQUFLLElBRzVFRixNQUVKLGtCQUNJRCxLQUFLQyxNQUFNMHBDLHlCQUdYMXBDLElBSU4weUUsSUFDTixDQUNEMTdDLFNBQVMsRUFDVDdXLFFBQVEsSUNsTEN3eUQsTUFGQSx5QkFDUSxDQUFDLFFBQVMsU0FDeURsOUMsUUFDaEZwVCxNQUNGQSxFQUNBa2lELFFBQ0U5dUMsYUFjNEJuUCxFQUFNeEMsRUFBUWcvQyx3QkFDdEIwQyxTQUNkLElBQUl0Z0QsWUFBWSx1REFJSixpQkFBVG9CLFFBQXlCLElBQUloRixVQUFVLDRDQUM3Q3BELE1BQU1zQixRQUFRc0UsU0FBZSxJQUFJeEMsVUFBVSwyRUFDM0NuQixHQUFPMmlELFNBQWEsSUFBSXhoRCxVQUFVLHlDQUNuQ2dGLEtBQVFpOEMsU0FBZ0IsSUFBSXBpRSxNQUFNLDJCQUE2Qm1tQixFQUFPLGdDQUNyRXZFLEtBQU91RSxPQUNQeEMsT0FBU0EsRUFBTzFDLEtBQUksU0FBVTJDLFVBQzFCQSxHQUFTQSxFQUFNaEMsTUFBUWdDLFVBRTNCekIsTUFBUXdCLEVBQU8xQyxLQUFJLFNBQVUyQyxVQUN6QkEsR0FBU0EsRUFBTTdDLE1BQVEsY0FFM0I0aEQsS0FBT0EsY0EwRld6ZSxFQUFNNGpCLE9BQ3pCUyxFQUFhUCxHQUFjOWpCLEVBQU00akIsR0FDakNVLEVBQWlCUixHQUFjOWpCLEVBQUt5ZSxLQUFNbUYsVUFDdkIsUUFBaEJBLEdBQTRDLE9BQW5CVSxHQUEyQkEsR0FBa0JELFdBMUZ4RHRsRSxVQUFZLElBQUlzL0QsSUFDaEJ0L0QsVUFBVThkLEtBQU8sMkJBQ2pCOWQsVUFBVXFkLDBCQUEyQixJQWVyQ3JkLFVBQVUyL0QsU0FBVyxTQUFVRSxFQUFNQyxPQUN0RDBQLEVBQWdCbDRELE9BQU9nVCxPQUFPdzFDLE1BQzFCbmpFLEtBQUsrakIsUUFBUSxTQUFVQyxLQUNmQSxJQUFTLFVBR3JCOHVELEVBQVc5eUUsS0FBSytpRSxLQUFLQyxTQUFTRSxFQUFNMlAsR0FFcEN0c0QsRUFBT3ZtQixLQUFLZ2lCLEtBQ1orQixFQUFTL2pCLEtBQUsrakIsT0FDZGIsRUFBWU0sR0FBS3hqQixLQUFLdWlCLE1BQU8sS0FDN0JxUCxFQUFTckwsRUFBTyxJQUFNL0MsR0FBS3hqQixLQUFLK2pCLE9BQVEsTUFBUSxXQUM3QyxTQUFvQ3lRLEVBQU94TyxFQUFNKytDLE9BQ2xENWhELEVBQWEsS0FFTkQsR0FBYSxtQkFDbEI2dkQsRUFBWXA0RCxPQUFPZ1QsT0FBTzNILEdBRXJCeGlCLEVBQUksRUFBR0EsRUFBSXVnQixFQUFPdGlCLE9BQVErQixNQUN2QnVnQixFQUFPdmdCLElBQU04SyxVQUFVOUssVUFHNUJzdkUsRUFBU3QrQyxFQUFPdStDLEVBQVdoTyxRQUdoQzloRCxFQUFLWCxFQUFNaUUsRUFBTXBELFlBQ2xCeU8sT0FBU0EsS0FDSTRDLEVBQU9qTyxFQUFNdEQsR0FDdEJBLE1BU1k1ZixVQUFVMGtCLFFBQVUsU0FBVTdjLEtBQzFDbEwsS0FBSytpRSxLQUFNLE9BQVEvaUUsVUFVUHFELFVBQVVnZSxJQUFNLFNBQVVuVyxPQUMzQzYzRCxFQUFPL2lFLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBSytpRSxLQUFNLE9BQVEvaUUsY0FFN0MsSUFBSXlsRSxFQUF1QnpsRSxLQUFLZ2lCLEtBQU1oaUIsS0FBSytqQixPQUFPSyxNQUFNLEdBQUkyK0MsTUFROUMxL0QsVUFBVStkLE1BQVEsa0JBQ2hDLElBQUlxa0QsRUFBdUJ6bEUsS0FBS2dpQixLQUFNaGlCLEtBQUsrakIsT0FBT0ssTUFBTSxHQUFJcGtCLEtBQUsraUUsU0FzQm5EMS9ELFVBQVV3Z0UsVUFBWSxTQUFVeDFDLE9BQ2pENjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRW5GLEVBQU8vaUUsS0FBSytpRSxLQUFLdC9ELFNBQVM0cUIsVUFFMUIyMkMsRUFBZ0JobEUsS0FBTWtvRSxPQUNqQixJQUFNbkYsRUFBTyxLQUdmL2lFLEtBQUtnaUIsS0FBTyxJQUFNaGlCLEtBQUsrakIsT0FBT1AsS0FBSyxNQUFRLE9BQVN1L0MsS0FRdEMxL0QsVUFBVXd6QixPQUFTLGVBQ3BDdFUsRUFBUXZpQixLQUFLdWlCLGFBQ1YsQ0FDTHVVLE9BQVEseUJBQ1I5VSxLQUFNaGlCLEtBQUtnaUIsS0FDWCtCLE9BQVEvakIsS0FBSytqQixPQUFPMUMsS0FBSSxTQUFVMkMsRUFBTzdqQixVQUNoQyxDQUNMNmhCLEtBQU1nQyxFQUNON0MsS0FBTW9CLEVBQU1waUIsT0FHaEI0aUUsS0FBTS9pRSxLQUFLK2lFLFNBWVFoc0MsU0FBVyxTQUFVQyxVQUNuQyxJQUFJeXVDLEVBQXVCenVDLEVBQUtoVixLQUFNZ1YsRUFBS2pULE9BQVFpVCxFQUFLK3JDLFNBUzFDMS9ELFVBQVV5Z0UsT0FBUyxTQUFVejFDLFdBQzlDNjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRW5rRCxFQUFTLEdBRUp2Z0IsRUFBSSxFQUFHQSxFQUFJeEQsS0FBSytqQixPQUFPdGlCLE9BQVErQixNQUMvQmdsQixLQUFLLDRDQUE4Q3dxRCxHQUFPaHpFLEtBQUsrakIsT0FBT3ZnQixJQUFNLGVBR2pGdS9ELEVBQU8vaUUsS0FBSytpRSxLQUFLZSxPQUFPejFDLFVBRXhCMjJDLEVBQWdCaGxFLEtBQU1rb0UsT0FDakIsaUVBQW1FbkYsRUFBTyxrRUFHNUUsK0JBQWlDaVEsR0FBT2h6RSxLQUFLZ2lCLE1BQVEsd0VBQStFK0IsRUFBT1AsS0FBSyx5Q0FBMkMscUxBQXVMdS9DLEtBU3BXMS9ELFVBQVU0Z0UsT0FBUyxTQUFVNTFDLE9BQzlDNjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRW5GLEVBQU8vaUUsS0FBSytpRSxLQUFLZ0IsTUFBTTExQyxVQUV2QjIyQyxFQUFnQmhsRSxLQUFNa29FLE9BQ2pCLFVBQVVsakQsT0FBTys5QyxFQUFNLGFBR3pCLFlBQWMvaUUsS0FBS2dpQixLQUFPLFdBQWFoaUIsS0FBSytqQixPQUFPMUMsSUFBSTR4RCxJQUFVenZELEtBQUssS0FBTyxhQUFldS9DLEdBRzlGMEMsSUFDTixDQUNEeHVDLFNBQVMsRUFDVDdXLFFBQVEsSUNsT0M4eUQsTUFGQSxZQUNRLENBQUMsUUFBUyxPQUFRLFNBQ29DeDlDLFFBQ25FNlUsTUFDRkEsRUFDQWk2QixPQUNBNTVCLFFBQ0VsVixhQWlCZTh3QixFQUFZMnNCLHdCQUNQQyxTQUNkLElBQUlqdUQsWUFBWSw0REFHbkJxaEMsV0FBYUEsT0FDYjJzQixZQUFjQSxJQUFlLEdBRTdCaDFELE1BQU1zQixRQUFRK21DLEtBQWdCQSxFQUFXenhCLE1BQU0zVSxVQUM1QyxJQUFJbUIsVUFBVSxpRUFHbEJ2aEIsS0FBS216RSxjQUFnQm56RSxLQUFLb2tFLHlCQUN0QixJQUFJaGtFLE1BQU0sZ0VBNE5Dd3NCLEVBQU9DLEVBQUtsakIsVUFDeEIsSUFBSTRnQyxFQUFNbnJCLEdBQVl3TixHQUFTQSxFQUFNMkosV0FBYTNKLEVBQU94TixHQUFZeU4sR0FBT0EsRUFBSTBKLFdBQWExSixFQUFLek4sR0FBWXpWLEdBQVFBLEVBQUs0c0IsV0FBYTVzQixZQXpOdkl0RyxVQUFZLElBQUlzL0QsSUFDaEJ0L0QsVUFBVThkLEtBQU8sY0FDakI5ZCxVQUFVdWQsYUFBYyxJQWV4QnZkLFVBQVUyL0QsU0FBVyxTQUFVRSxFQUFNQyxPQU16Q2tRLEVBQWlCaHlELEdBQUlyaEIsS0FBS3dtRCxZQUFZLFNBQVUzaEQsRUFBT3JCLE1BQ3JEd2QsR0FBWW5jLEdBQVEsSUFDbEJBLEVBQU15dUUsV0FBWSxLQUVoQlQsRUFBZ0JsNEQsT0FBT2dULE9BQU93MUMsS0FDcEJ0MkMsS0FBTSxNQUVoQjBtRCxFQUFZMXVFLEVBQU0rbkIsTUFBTW8yQyxTQUFTRSxFQUFNMlAsR0FFdkNXLEVBQVUzdUUsRUFBTWdvQixJQUFJbTJDLFNBQVNFLEVBQU0yUCxHQUVuQ1ksRUFBVzV1RSxFQUFNOEUsS0FBTzlFLEVBQU04RSxLQUFLcTVELFNBQVNFLEVBQU0yUCxHQUFpQixrQkFDOUQsVUFFRixTQUF1QnIrQyxFQUFPeE8sRUFBTSsrQyxPQUNyQ3JrRSxFQUFJMlYsRUFBSzB1RCxHQUFTempELFVBQ2xCeXhELEVBQVlwNEQsT0FBT2dULE9BQU8zSCxZQUNwQjZHLElBQU1uc0IsRUFBRThDLEdBQ1hrd0UsRUFBWUgsRUFBVS8rQyxFQUFPdStDLEVBQVdoTyxHQUFVeU8sRUFBUWgvQyxFQUFPdStDLEVBQVdoTyxHQUFVME8sRUFBU2ovQyxFQUFPdStDLEVBQVdoTyxTQUl0SDRPLEVBQWE5dUUsRUFBTStuQixNQUFNbzJDLFNBQVNFLEVBQU1DLEdBRXhDeVEsRUFBVy91RSxFQUFNZ29CLElBQUltMkMsU0FBU0UsRUFBTUMsR0FFcEMwUSxFQUFZaHZFLEVBQU04RSxLQUFPOUUsRUFBTThFLEtBQUtxNUQsU0FBU0UsRUFBTUMsR0FBWSxrQkFDMUQsVUFHRixTQUF1QjN1QyxFQUFPeE8sRUFBTSsrQyxVQUNsQzJPLEVBQVlDLEVBQVduL0MsRUFBT3hPLEVBQU0rK0MsR0FBVTZPLEVBQVNwL0MsRUFBT3hPLEVBQU0rK0MsR0FBVThPLEVBQVVyL0MsRUFBT3hPLEVBQU0rK0MsUUFHdkc5akQsR0FBYXBjLElBQXlCLFFBQWZBLEVBQU1tZCxLQUFnQixLQUVsRDh4RCxFQUFpQm41RCxPQUFPZ1QsT0FBT3cxQyxLQUVwQnQyQyxLQUFNLE1BRWpCa25ELEVBQVlsdkUsRUFBTW0rRCxTQUFTRSxFQUFNNFEsVUFFOUIsU0FBdUJ0L0MsRUFBT3hPLEVBQU0rK0MsT0FDckNya0UsRUFBSTJWLEVBQUswdUQsR0FBU3pqRCxVQUNsQnl4RCxFQUFZcDRELE9BQU9nVCxPQUFPM0gsWUFDcEI2RyxJQUFNbnNCLEVBQUU4QyxHQUNYdXdFLEVBQVV2L0MsRUFBT3UrQyxFQUFXaE8sUUFJakNpUCxFQUFhbnZFLEVBQU1tK0QsU0FBU0UsRUFBTUMsVUFFL0IsU0FBdUIzdUMsRUFBT3hPLEVBQU0rK0MsVUFDbENpUCxFQUFXeC9DLEVBQU94TyxFQUFNKytDLE9BSWpDNWtFLEVBQVE4L0MsR0FBZ0JpakIsRUFBTSxnQkFDM0IsU0FBdUIxdUMsRUFBT3hPLEVBQU0rK0MsT0FDckN2ZSxFQUFhbmxDLEdBQUlneUQsR0FBZ0IsU0FBVVksVUFDdENBLEVBQWN6L0MsRUFBT3hPLEVBQU0rK0MsYUFFN0I1a0UsS0FBU3FtRCxPQVNWbmpELFVBQVUwa0IsUUFBVSxTQUFVN2MsV0FDN0IxSCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLd21ELFdBQVcva0QsT0FBUStCLE1BQ2pDeEQsS0FBS3dtRCxXQUFXaGpELEdBQUksY0FBZ0JBLEVBQUksSUFBS3hELFVBV2hEcUQsVUFBVWdlLElBQU0sU0FBVW5XLFdBQzlCczdDLEVBQWEsR0FFUmhqRCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLd21ELFdBQVcva0QsT0FBUStCLE1BQy9CQSxHQUFLeEQsS0FBS29qRSxRQUFRbDRELEVBQVNsTCxLQUFLd21ELFdBQVdoakQsR0FBSSxjQUFnQkEsRUFBSSxJQUFLeEQsY0FHOUUsSUFBSW96RSxFQUFVNXNCLEVBQVl4bUQsS0FBS216RSxnQkFROUI5dkUsVUFBVStkLE1BQVEsa0JBQ25CLElBQUlneUQsRUFBVXB6RSxLQUFLd21ELFdBQVdwaUMsTUFBTSxHQUFJcGtCLEtBQUttekUsZ0JBUTVDOXZFLFVBQVUrZ0UsaUJBQW1CLGtCQUNILElBQTNCcGtFLEtBQUt3bUQsV0FBVy9rRCxRQUFnQmdmLEdBQWV6Z0IsS0FBS3dtRCxXQUFXLEtBQTJDLGlCQUE3QnhtRCxLQUFLd21ELFdBQVcsR0FBR3ZtRCxTQVMvRm9ELFVBQVVnaEUsa0JBQW9CLGtCQUMvQnJrRSxLQUFLb2tFLG1CQUFxQnBrRSxLQUFLd21ELFdBQVcsR0FBR3ZtRCxNQUFRLFFBU3BEb0QsVUFBVXdnRSxVQUFZLFNBQVV4MUMsVUFFakNydUIsS0FBS216RSxZQUFjLElBQU1uekUsS0FBS3FrRSxvQkFBc0IsSUFBTXJrRSxLQUFLd21ELFdBQVdoakMsS0FBSyxNQUFRLE9BUXRGbmdCLFVBQVV3ekIsT0FBUyxrQkFDcEIsQ0FDTEMsT0FBUSxZQUNSMHZCLFdBQVl4bUQsS0FBS3dtRCxXQUNqQjJzQixZQUFhbnpFLEtBQUttekUsZ0JBWVpwOEMsU0FBVyxTQUFVQyxVQUN0QixJQUFJbzhDLEVBQVVwOEMsRUFBS3d2QixXQUFZeHZCLEVBQUttOEMsZ0JBU25DOXZFLFVBQVV5Z0UsT0FBUyxTQUFVejFDLFdBRWpDbTRCLEVBQWEsR0FFUmhqRCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLd21ELFdBQVcva0QsT0FBUStCLE1BQy9CQSxHQUFLeEQsS0FBS3dtRCxXQUFXaGpELEdBQUdzZ0UsZ0JBR2pDOWpFLEtBQUttekUsWUFDQSxzR0FBNkdILEdBQU9oekUsS0FBS3FrRSxxQkFBdUIsVUFFaEosa0VBQW9FN2QsRUFBV2hqQyxLQUFLLHlDQUEyQyxxRUFVaEluZ0IsVUFBVTRnRSxPQUFTLFNBQVU1MUMsT0FDakNtNEIsRUFBYXhtRCxLQUFLd21ELFdBQVdubEMsS0FBSSxTQUFVeGMsVUFDdENBLEVBQU1rL0QsTUFBTTExQyxhQUVkcnVCLEtBQUttekUsWUFBYyxJQUFNbnpFLEtBQUtxa0Usb0JBQTJCLEtBQU83ZCxFQUFXaGpDLEtBQUssS0FBTyxLQVF6RjR2RCxJQUNOLENBQ0RuOEMsU0FBUyxFQUNUN1csUUFBUSxJQ3RRQzh6RCxNQUZBLGFBQ1EsQ0FBQyxTQUNzRHgrQyxRQUV0RTh1QyxRQUNFOXVDLGFBUWdCaEIsd0JBQ0l5L0MsU0FDZCxJQUFJaHZELFlBQVksNERBR25Cb2dELFdBQWE3d0MsR0FBYyxHQUU1QkEsSUFDMEIsaUJBQWZBLElBQTZCL1osT0FBT3FOLEtBQUswTSxHQUFZSyxPQUFNLFNBQVVyVCxVQUN6RXRCLEdBQU9zVSxFQUFXaFQsY0FFbkIsSUFBSUgsVUFBVSw2Q0FLZmxlLFVBQVksSUFBSXMvRCxJQUNoQnQvRCxVQUFVOGQsS0FBTyxlQUNqQjlkLFVBQVV3ZCxjQUFlLElBZXpCeGQsVUFBVTIvRCxTQUFXLFNBQVVFLEVBQU1DLE9BQzFDaVIsRUFBYyxXQUVUMXlELEtBQU8xaEIsS0FBS3VsRSxjQUNmOWxFLEdBQWVPLEtBQUt1bEUsV0FBWTdqRCxHQUFNLEtBR3BDMnlELEVBQWlCemdDLEdBQVVseUIsR0FDM0I0eUQsRUFBWTNnQyxLQUFLNU4sTUFBTXN1QyxPQUV0Qi8xQixHQUFldCtDLEtBQUt1bEUsV0FBWStPLFNBQzdCLElBQUlsMEUsTUFBTSwwQkFBNEJrMEUsRUFBWSxPQUc5Q0EsR0FBYXQwRSxLQUFLdWxFLFdBQVc3akQsR0FBS3NoRCxTQUFTRSxFQUFNQyxXQUkxRCxTQUF3QjN1QyxFQUFPeE8sRUFBTSsrQyxPQUN0QzdoQyxFQUFNLFdBRURtOEIsS0FBUStVLEVBQ1gzMEUsR0FBZTIwRSxFQUFhL1UsT0FDMUJBLEdBQVErVSxFQUFZL1UsR0FBTTdxQyxFQUFPeE8sRUFBTSsrQyxXQUl4QzdoQyxNQVNBNy9CLFVBQVUwa0IsUUFBVSxTQUFVN2MsV0FDOUJ3VyxLQUFPMWhCLEtBQUt1bEUsV0FDZjlsRSxHQUFlTyxLQUFLdWxFLFdBQVk3akQsTUFDekIxaEIsS0FBS3VsRSxXQUFXN2pELEdBQU0sY0FBZ0JreUIsR0FBVWx5QixHQUFPLElBQUsxaEIsVUFZaEVxRCxVQUFVZ2UsSUFBTSxTQUFVblcsT0FDL0J3cEIsRUFBYSxXQUVSaFQsS0FBTzFoQixLQUFLdWxFLFdBQ2Y5bEUsR0FBZU8sS0FBS3VsRSxXQUFZN2pELE9BQ3ZCQSxHQUFPMWhCLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBS3VsRSxXQUFXN2pELEdBQU0sY0FBZ0JreUIsR0FBVWx5QixHQUFPLElBQUsxaEIsZUFJakcsSUFBSW0wRSxFQUFXei9DLE1BUWJyeEIsVUFBVStkLE1BQVEsZUFDdkJzVCxFQUFhLFdBRVJoVCxLQUFPMWhCLEtBQUt1bEUsV0FDZjlsRSxHQUFlTyxLQUFLdWxFLFdBQVk3akQsT0FDdkJBLEdBQU8xaEIsS0FBS3VsRSxXQUFXN2pELFdBSS9CLElBQUl5eUQsRUFBV3ovQyxNQVVicnhCLFVBQVV3Z0UsVUFBWSxTQUFVeDFDLE9BQ3JDbkIsRUFBVSxXQUVMeEwsS0FBTzFoQixLQUFLdWxFLFdBQ2Y5bEUsR0FBZU8sS0FBS3VsRSxXQUFZN2pELE1BQzFCOEcsS0FBS29yQixHQUFVbHlCLEdBQU8sS0FBTzFoQixLQUFLdWxFLFdBQVc3akQsR0FBS2plLFNBQVM0cUIsV0FJaEUsSUFBTW5CLEVBQVExSixLQUFLLE1BQVEsT0FRekJuZ0IsVUFBVXd6QixPQUFTLGtCQUNyQixDQUNMQyxPQUFRLGFBQ1J5dUMsV0FBWXZsRSxLQUFLdWxFLGVBWVZ4dUMsU0FBVyxTQUFVQyxVQUN2QixJQUFJbTlDLEVBQVduOUMsRUFBS3V1QyxlQVVsQmxpRSxVQUFVeWdFLE9BQVMsU0FBVXoxQyxPQUNsQ25CLEVBQVUsV0FFTHhMLEtBQU8xaEIsS0FBS3VsRSxXQUNmOWxFLEdBQWVPLEtBQUt1bEUsV0FBWTdqRCxNQUMxQjhHLEtBQUssMkNBQTZDd3FELEdBQU90eEQsR0FBTyw4SEFBcUkxaEIsS0FBS3VsRSxXQUFXN2pELEdBQUtvaUQsT0FBT3oxQyxXQUl0TyxpRUFBbUVuQixFQUFRMUosS0FBSyx5Q0FBMkMsb0VBU3pIbmdCLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLE9BQ2xDbkIsRUFBVSxXQUVMeEwsS0FBTzFoQixLQUFLdWxFLFdBQ2Y5bEUsR0FBZU8sS0FBS3VsRSxXQUFZN2pELE1BQzFCOEcsS0FBSyxZQUFjOUcsRUFBTSxRQUFVMWhCLEtBQUt1bEUsV0FBVzdqRCxHQUFLcWlELE1BQU0xMUMsR0FBVyxlQUk5RSw4QkFBOEJySixPQUFPa0ksRUFBUTFKLEtBQUssTUFBTywyQkFHM0Qyd0QsSUFDTixDQUNEbDlDLFNBQVMsRUFDVDdXLFFBQVEsSUM3TUNtMEQsTUFGQSxlQUNRLENBQUMsU0FDd0Q3K0MsUUFFeEU4dUMsUUFDRTl1QyxhQVlrQjgrQyxFQUFJdnhELEVBQUkrQyxFQUFNeXVELHdCQUNaQyxTQUNkLElBQUl2dkQsWUFBWSx1REFJTixpQkFBUHF2RCxRQUNILElBQUlqekQsVUFBVSx5Q0FHSixpQkFBUDBCLFFBQ0gsSUFBSTFCLFVBQVUsMENBR2pCcEQsTUFBTXNCLFFBQVF1RyxLQUFVQSxFQUFLK08sTUFBTTNVLFVBQ2hDLElBQUltQixVQUFVLDZEQUdqQmt6RCxVQUF3QixJQUFiQSxPQUNYRCxHQUFLQSxPQUNMdnhELEdBQUtBLE9BQ0wrQyxLQUFPQSxHQUFRLGVBOEhpQnNmLEVBQU00aUMsRUFBYXVNLEVBQVV6dUQsRUFBTTJ1RCxPQXFCcEVyL0IsRUFuQkFxekIsRUFBYVAsR0FBYzlpQyxFQUFNNGlDLEdBQ2pDbkMsRUFBZ0I2TyxHQUFpQnR2QyxFQUFNNGlDLE1BRXZCLFFBQWhCQSxHQUF5QmxpRCxFQUFLdmtCLE9BQVMsR0FBOEIscUJBQXpCNmpDLEVBQUs0K0IsaUJBQW1FLDBCQUF6QjUrQixFQUFLNCtCLHVCQUMzRmwrQyxFQUFLM0UsS0FBSSxTQUFVb0gsVUFDaEJBLEVBQUkwN0MsYUFBYWhqRCxVQUVsQixnQkFDQSxtQkFDQSxpQkFDQSwwQkFDSSxrQkFHQSxhQU9QNkUsRUFBS3ZrQixhQUNOLElBQ00sY0FHTixNQUlHb3pFLEVBQW9Cek0sR0FBY3BpRCxFQUFLLEdBQUlraUQsTUFFM0N5TSxHQUErQixPQUF0QkUsRUFBNEIsS0FDbkNDLEVBQ0FDLEtBRWdCLFNBQWhCN00sS0FDa0JsaUQsRUFBSyxHQUFHaytDLGtCQUNYNStCLEVBQUs0K0Isb0JBR0ZsK0MsRUFBSyxHQUFHbStDLGFBQWFELGtCQUN4QjUrQixFQUFLNitCLGFBQWFELGtCQUcwQixJQUEzRHFCLEdBQVdvRCxHQUFZb00sR0FBZ0JwUCxnQkFBMkIsR0FDM0QsRUFBQyxhQUl5RCxJQUFqRUosR0FBV3NQLEdBQW1CQyxHQUFtQmpQLFlBQXVCLEdBQ2pFLEVBQUMsYUFLWSxPQUF0QmdQLEVBQTRCLEdBRXJCLEVBQUMsWUFJUkEsR0FBcUJsTSxFQUFZLEdBRTFCLEVBQUMsV0FLSCxFQUFDLGNBSVQsTUFHR3FNLEVBdUJBQyxFQXBCQUMsRUFBZ0I5TSxHQUFjcGlELEVBQUssR0FBSWtpRCxHQUV2Q2lOLEVBQWVDLEdBQWtCOXZDLEVBQU10ZixFQUFLLEdBQUlraUQsS0FFOUIsT0FBbEJnTixJQUlPQSxJQUFrQnZNLEdBQWdDLFVBQWxCNUMsSUFBOEJvUCxHQU05REQsRUFBZ0J2TSxPQStCckIwTSxFQUVBQyxFQUNBQyxFQXpCRkMsRUFBZ0JwTixHQUFjcGlELEVBQUssR0FBSWtpRCxHQUV2Q3VOLEVBQWVMLEdBQWtCOXZDLEVBQU10ZixFQUFLLEdBQUlraUQsUUFFOUIsT0FBbEJzTixJQUlPQSxJQUFrQjdNLEdBQWdDLFNBQWxCNUMsSUFBNkIwUCxHQU03REQsRUFBZ0I3TSxHQU92QmdNLEVBTWtCLFNBQWhCek0sS0FDZ0I1aUMsRUFBSzQrQixrQkFDUDUrQixFQUFLdGYsS0FBSyxHQUFHaytDLGtCQUNiNStCLEVBQUt0ZixLQUFLLEdBQUdrK0Msb0JBR1g1K0IsRUFBSzYrQixhQUFhRCxrQkFDcEI1K0IsRUFBS3RmLEtBQUssR0FBR20rQyxhQUFhRCxrQkFDMUI1K0IsRUFBS3RmLEtBQUssR0FBR20rQyxhQUFhRCxpQkFHdEIsT0FBbEJnUixLQUM4RCxJQUE1RDNQLEdBQVdvRCxHQUFZME0sR0FBaUIxUCxxQkFDOUIsSUFHK0MsSUFBekRKLEdBQVcyUCxHQUFlSSxHQUFlelAsaUJBQy9CLElBSU0sT0FBbEIyUCxLQUMrRCxJQUE3RGpRLEdBQVdvRCxHQUFZME0sR0FBaUJ6UCxzQkFDOUIsSUFHK0MsSUFBekRMLEdBQVdpUSxHQUFlRCxHQUFlMVAsaUJBQy9CLE1BS1QsQ0FBQ21QLEVBQVdDLGlCQUtNLHFCQUF6QjN2QyxFQUFLNCtCLGlCQUFtRSwwQkFBekI1K0IsRUFBSzQrQixvQkFDN0NsK0MsRUFBSzNFLEtBQUksU0FBVW9ILE9BQ3RCaXRELEVBQWdCdE4sR0FBYzMvQyxFQUFLeS9DLEdBQ25DeU4sRUFBZVAsR0FBa0I5dkMsRUFBTTdjLEVBQUt5L0MsR0FDNUMwTixFQUFtQmhCLEdBQWlCbnNELEVBQUt5L0MsVUFFdkIsT0FBbEJ3TixJQUdPL00sSUFBZStNLEdBQWlCM1AsSUFBa0I2UCxJQUFxQkQsR0FFdkVELEVBQWdCL00sZUFjL0IzaUQsRUFBS3ZrQixRQUFVLEdBQThCLDBCQUF6QjZqQyxFQUFLNCtCLGlCQUErQzUrQixFQUFLbXZDLFVBQTRCLFNBQWhCdk0sR0FBdUMsU0FBYnVNLE1BQzVHenVELEVBQUszRSxLQUFJLFNBQVVvSCxFQUFLdG9CLE9BQzNCMDFFLEVBQTRDLG9CQUF4QnB0RCxFQUFJeTdDLDBCQUV4QjV1QixFQUFPbjFDLEtBQVUwMUUsT0FTbEJ2Z0MsV0F6VUlqeUMsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGlCQUNqQjlkLFVBQVV5ZCxnQkFBaUIsSUFlM0J6ZCxVQUFVMi9ELFNBQVcsU0FBVUUsRUFBTUMsTUFFekIsaUJBQVpuakUsS0FBS2lqQixLQUFvQnM3QixHQUFhMmtCLEVBQU1sakUsS0FBS2lqQixVQUNyRGlnRCxFQUFLbGpFLEtBQUtpakIsSUFHUCxJQUFJN2lCLE1BQU0sMEJBQTRCSixLQUFLaWpCLEdBQUssS0FGaEQsSUFBSTdpQixNQUFNLFlBQWNKLEtBQUtpakIsR0FBSyw2Q0FNeENBLEVBQUtnOUIsR0FBZ0JpakIsRUFBTWxqRSxLQUFLaWpCLElBQ2hDNnlELEVBQVd6MEQsR0FBSXJoQixLQUFLZ21CLE1BQU0sU0FBVXlDLFVBQy9CQSxFQUFJdTZDLFNBQVNFLEVBQU1DLFNBR0osSUFBcEIyUyxFQUFTcjBFLE9BQWMsS0FDckJzMEUsRUFBV0QsRUFBUyxVQUNqQixTQUEwQnRoRCxFQUFPeE8sRUFBTSsrQyxVQUNyQzloRCxFQUFHOHlELEVBQVN2aEQsRUFBT3hPLEVBQU0rK0MsUUFFTCxJQUFwQitRLEVBQVNyMEUsT0FBYyxLQUM1QnUwRSxFQUFXRixFQUFTLEdBQ3BCRyxFQUFXSCxFQUFTLFVBQ2pCLFNBQTBCdGhELEVBQU94TyxFQUFNKytDLFVBQ3JDOWhELEVBQUcreUQsRUFBU3hoRCxFQUFPeE8sRUFBTSsrQyxHQUFVa1IsRUFBU3poRCxFQUFPeE8sRUFBTSsrQyxZQUczRCxTQUEwQnZ3QyxFQUFPeE8sRUFBTSsrQyxVQUNyQzloRCxFQUFHa0UsTUFBTSxLQUFNOUYsR0FBSXkwRCxHQUFVLFNBQVVJLFVBQ3JDQSxFQUFRMWhELEVBQU94TyxFQUFNKytDLFdBV3ZCMWhFLFVBQVUwa0IsUUFBVSxTQUFVN2MsV0FDaEMxSCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLZ21CLEtBQUt2a0IsT0FBUStCLE1BQzNCeEQsS0FBS2dtQixLQUFLeGlCLEdBQUksUUFBVUEsRUFBSSxJQUFLeEQsVUFXakNxRCxVQUFVZ2UsSUFBTSxTQUFVblcsV0FDakM4YSxFQUFPLEdBRUZ4aUIsRUFBSSxFQUFHQSxFQUFJeEQsS0FBS2dtQixLQUFLdmtCLE9BQVErQixNQUMvQkEsR0FBS3hELEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBS2dtQixLQUFLeGlCLEdBQUksUUFBVUEsRUFBSSxJQUFLeEQsY0FHNUQsSUFBSTAwRSxFQUFhMTBFLEtBQUt3MEUsR0FBSXgwRSxLQUFLaWpCLEdBQUkrQyxFQUFNaG1CLEtBQUt5MEUsYUFRMUNweEUsVUFBVStkLE1BQVEsa0JBQ3RCLElBQUlzekQsRUFBYTEwRSxLQUFLdzBFLEdBQUl4MEUsS0FBS2lqQixHQUFJampCLEtBQUtnbUIsS0FBSzVCLE1BQU0sR0FBSXBrQixLQUFLeTBFLGFBU3hEcHhFLFVBQVU4eUUsUUFBVSxrQkFDSCxJQUFyQm4yRSxLQUFLZ21CLEtBQUt2a0IsVUFTTjRCLFVBQVU2MEIsU0FBVyxrQkFDSixJQUFyQmw0QixLQUFLZ21CLEtBQUt2a0IsVUF3T040QixVQUFVd2dFLFVBQVksU0FBVXgxQyxPQUN2QzY1QyxFQUFjNzVDLEdBQVdBLEVBQVE2NUMsWUFBYzc1QyxFQUFRNjVDLFlBQWMsT0FDckV1TSxFQUFXcG1ELEdBQVdBLEVBQVFvbUQsU0FBV3BtRCxFQUFRb21ELFNBQVcsT0FDNUR6dUQsRUFBT2htQixLQUFLZ21CLEtBQ1pvd0QsRUFBU0MsRUFBOEJyMkUsS0FBTWtvRSxFQUFhdU0sRUFBVXp1RCxHQUFNLE1BRTFELElBQWhCQSxFQUFLdmtCLE9BQWMsS0FFakI2MEUsRUFBUTFCLEdBQWlCNTBFLEtBQU1rb0UsR0FDL0JxTyxFQUFVdndELEVBQUssR0FBR3ZpQixTQUFTNHFCLEdBRTNCK25ELEVBQU8sT0FDQyxJQUFNRyxFQUFVLFNBSXhCQyxFQUFZLFlBQVl2MEQsS0FBS2ppQixLQUFLdzBFLFdBRXhCLFVBQVY4QixFQUVLdDJFLEtBQUt3MEUsTUFBa0IsSUFBTSxJQUFNK0IsRUFDdkIsU0FBVkQsRUFFRkMsS0FBdUIsSUFBTSxJQUFNdjJFLEtBQUt3MEUsR0FJMUMrQixFQUFVdjJFLEtBQUt3MEUsTUFDRyxJQUFoQnh1RCxFQUFLdmtCLE9BQWMsS0FDeEJnMUUsRUFBTXp3RCxFQUFLLEdBQUd2aUIsU0FBUzRxQixHQUV2QnFvRCxFQUFNMXdELEVBQUssR0FBR3ZpQixTQUFTNHFCLFVBRXZCK25ELEVBQU8sT0FFSCxJQUFNSyxFQUFNLEtBR2hCTCxFQUFPLE9BRUgsSUFBTU0sRUFBTSxLQUdoQjEyRSxLQUFLeTBFLFVBQXFDLDBCQUF6QnowRSxLQUFLa2tFLGlCQUE0RCxTQUFidVEsRUFDaEVnQyxFQUFNLElBQU1DLEVBR2RELEVBQU0sSUFBTXoyRSxLQUFLdzBFLEdBQUssSUFBTWtDLEtBQzFCMXdELEVBQUt2a0IsT0FBUyxJQUErQiwwQkFBcEJ5aUUsaUJBQW1FLDBCQUF6QmxrRSxLQUFLa2tFLGlCQUE4QyxLQUMzSHlTLEVBQWtCM3dELEVBQUszRSxLQUFJLFNBQVVvSCxFQUFLdG9CLFlBQ3RDc29CLEVBQUlobEIsU0FBUzRxQixHQUVmK25ELEVBQU9qMkUsT0FFSCxJQUFNc29CLEVBQU0sS0FHYkEsWUFHTHpvQixLQUFLeTBFLFVBQXFDLDBCQUF6QnowRSxLQUFLa2tFLGlCQUE0RCxTQUFidVEsRUFDaEVrQyxFQUFnQm56RCxLQUFLLEtBR3ZCbXpELEVBQWdCbnpELEtBQUssSUFBTXhqQixLQUFLdzBFLEdBQUssWUFHckN4MEUsS0FBS2lqQixHQUFLLElBQU1qakIsS0FBS2dtQixLQUFLeEMsS0FBSyxNQUFRLE9BU3JDbmdCLFVBQVV3ekIsT0FBUyxrQkFDdkIsQ0FDTEMsT0FBUSxlQUNSMDlDLEdBQUl4MEUsS0FBS3cwRSxHQUNUdnhELEdBQUlqakIsS0FBS2lqQixHQUNUK0MsS0FBTWhtQixLQUFLZ21CLEtBQ1h5dUQsU0FBVXowRSxLQUFLeTBFLGFBWU4xOUMsU0FBVyxTQUFVQyxVQUN6QixJQUFJMDlDLEVBQWExOUMsRUFBS3c5QyxHQUFJeDlDLEVBQUsvVCxHQUFJK1QsRUFBS2hSLEtBQU1nUixFQUFLeTlDLGFBUy9DcHhFLFVBQVV5Z0UsT0FBUyxTQUFVejFDLE9BQ3BDNjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRXVNLEVBQVdwbUQsR0FBV0EsRUFBUW9tRCxTQUFXcG1ELEVBQVFvbUQsU0FBVyxPQUM1RHp1RCxFQUFPaG1CLEtBQUtnbUIsS0FDWm93RCxFQUFTQyxFQUE4QnIyRSxLQUFNa29FLEVBQWF1TSxFQUFVenVELEdBQU0sTUFFMUQsSUFBaEJBLEVBQUt2a0IsT0FBYyxLQUVqQjYwRSxFQUFRMUIsR0FBaUI1MEUsS0FBTWtvRSxHQUMvQnFPLEVBQVV2d0QsRUFBSyxHQUFHODlDLE9BQU96MUMsVUFFekIrbkQsRUFBTyxPQUNDLGlFQUFtRUcsRUFBVSxrRUFHM0UsVUFBVkQsRUFFSyxnRkFBa0Z0RCxHQUFPaHpFLEtBQUt3MEUsSUFBTSxVQUFZK0IsRUFHaEhBLEVBQVUsaUZBQW1GdkQsR0FBT2h6RSxLQUFLdzBFLElBQU0sYUFFL0YsSUFBaEJ4dUQsRUFBS3ZrQixPQUFjLEtBRXhCZzFFLEVBQU16d0QsRUFBSyxHQUFHODlDLE9BQU96MUMsR0FFckJxb0QsRUFBTTF3RCxFQUFLLEdBQUc4OUMsT0FBT3oxQyxVQUVyQituRCxFQUFPLE9BRUgsaUVBQW1FSyxFQUFNLGtFQUc3RUwsRUFBTyxPQUVILGlFQUFtRU0sRUFBTSxrRUFHN0UxMkUsS0FBS3kwRSxVQUFxQywwQkFBekJ6MEUsS0FBS2trRSxpQkFBNEQsU0FBYnVRLEVBQ2hFZ0MsRUFBTSx5RkFBMkZDLEVBR25HRCxFQUFNLGtGQUFvRnpELEdBQU9oekUsS0FBS3cwRSxJQUFNLFVBQVlrQyxNQUUzSEMsRUFBa0Izd0QsRUFBSzNFLEtBQUksU0FBVW9ILEVBQUt0b0IsWUFDdENzb0IsRUFBSXE3QyxPQUFPejFDLEdBRWIrbkQsRUFBT2oyRSxPQUVILGlFQUFtRXNvQixFQUFNLGtFQUcxRUEsWUFHTHpDLEVBQUt2a0IsT0FBUyxJQUErQiwwQkFBcEJ5aUUsaUJBQW1FLDBCQUF6QmxrRSxLQUFLa2tFLGlCQUN0RWxrRSxLQUFLeTBFLFVBQXFDLDBCQUF6QnowRSxLQUFLa2tFLGlCQUE0RCxTQUFidVEsRUFDaEVrQyxFQUFnQm56RCxLQUFLLDBGQUd2Qm16RCxFQUFnQm56RCxLQUFLLGtGQUFvRnd2RCxHQUFPaHpFLEtBQUt3MEUsSUFBTSxXQUczSCwrQkFBaUN4QixHQUFPaHpFLEtBQUtpakIsSUFBTSx3RUFBMEUwekQsRUFBZ0JuekQsS0FBSyx5Q0FBMkMsb0VBVzdMbmdCLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLE9BQ3BDNjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRXVNLEVBQVdwbUQsR0FBV0EsRUFBUW9tRCxTQUFXcG1ELEVBQVFvbUQsU0FBVyxPQUM1RHp1RCxFQUFPaG1CLEtBQUtnbUIsS0FDWm93RCxFQUFTQyxFQUE4QnIyRSxLQUFNa29FLEVBQWF1TSxFQUFVenVELEdBQU0sR0FDMUV3dUQsRUFBS3ZGLEdBQWVqdkUsS0FBS2lqQixjQUNWLElBQVB1eEQsRUFBcUJ4MEUsS0FBS3cwRSxHQUFLQSxFQUV2QixJQUFoQnh1RCxFQUFLdmtCLE9BQWMsS0FFakI2MEUsRUFBUTFCLEdBQWlCNTBFLEtBQU1rb0UsR0FDL0JxTyxFQUFVdndELEVBQUssR0FBRys5QyxNQUFNMTFDLFVBRXhCK25ELEVBQU8sT0FDQyxVQUFVcHhELE9BQU91eEQsRUFBUyxhQUd4QixVQUFWRCxFQUVLOUIsRUFBSytCLEVBR0xBLEVBQVUvQixLQUtNLElBQWhCeHVELEVBQUt2a0IsT0FBYyxLQUV4QmcxRSxFQUFNendELEVBQUssR0FFWDR3RCxFQUFTSCxFQUFJMVMsTUFBTTExQyxHQUVuQituRCxFQUFPLE9BQ0EsVUFBVXB4RCxPQUFPNHhELEVBQVEsaUJBWWhDdEIsRUFQQXVCLEVBRk03d0QsRUFBSyxHQUVFKzlDLE1BQU0xMUMsVUFFbkIrbkQsRUFBTyxPQUNBLFVBQVVweEQsT0FBTzZ4RCxFQUFRLGVBTWhCLFNBQWhCM08sRUFDY3VPLEVBQUl2UyxnQkFHSnVTLEVBQUl0UyxhQUFhRCxnQkFHM0Jsa0UsS0FBS2trRSxxQkFDTiw2QkFFSXNRLEVBQUssSUFBTW9DLEVBQVMsS0FBWUMsRUFBUyxRQUU3Qyw0QkFDTSxJQUFNRCxFQUFTLE1BQ2YsSUFBTUMsRUFBUyxJQUVoQnZCLE9BQ0Qsc0JBRUEsd0JBQ00sVUFBVXR3RCxPQUFPNHhELEVBQVEsdUJBS25DLDJCQUNDNTJFLEtBQUt5MEUsVUFBeUIsU0FBYkEsU0FDWm1DLEVBQVMsSUFBTUMsU0FLckJELEVBQVNwQyxFQUFLcUMsS0FDWjd3RCxFQUFLdmtCLE9BQVMsSUFBK0IsMEJBQXBCeWlFLGlCQUFtRSwwQkFBekJsa0UsS0FBS2trRSxpQkFBOEMsS0FDM0g0UyxFQUFlOXdELEVBQUszRSxLQUFJLFNBQVVvSCxFQUFLdG9CLFlBQ25Dc29CLEVBQUlzN0MsTUFBTTExQyxHQUVaK25ELEVBQU9qMkUsT0FDSCxVQUFVNmtCLE9BQU95RCxFQUFLLGFBR3ZCQSxZQUdvQiwwQkFBekJ6b0IsS0FBS2trRSxpQkFBK0Nsa0UsS0FBS3kwRSxTQUNwRHFDLEVBQWF0ekQsS0FBSyxLQUdwQnN6RCxFQUFhdHpELEtBQUtneEQsVUFLbEIsWUFBY3gwRSxLQUFLaWpCLEdBQUssV0FBYStDLEVBQUszRSxLQUFJLFNBQVVvSCxVQUN0REEsRUFBSXM3QyxNQUFNMTFDLE1BQ2hCN0ssS0FBSyxLQUFPLGNBU05uZ0IsVUFBVTZnRSxjQUFnQixrQkFDOUJsa0UsS0FBS21oQixLQUFPLElBQU1uaEIsS0FBS2lqQixJQUd6Qnl4RCxJQUNOLENBQ0R6OUMsU0FBUyxFQUNUN1csUUFBUSxJQ3ZxQkMyMkQsTUFGQSxrQkFDUSxDQUFDLFNBQzJEcmhELFFBRTNFOHVDLFFBQ0U5dUMsYUFTcUJzaEQsd0JBQ0RDLFNBQ2QsSUFBSTl4RCxZQUFZLHdEQUluQi9FLEdBQU80MkQsU0FDSixJQUFJejFELFVBQVUsOENBR2pCeTFELFFBQVVBLFlBR0QzekUsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLG9CQUNqQjlkLFVBQVUwZCxtQkFBb0IsSUFlOUIxZCxVQUFVMi9ELFNBQVcsU0FBVUUsRUFBTUMsVUFDNUNuakUsS0FBS2czRSxRQUFRaFUsU0FBU0UsRUFBTUMsTUFTckI5L0QsVUFBVThnRSxXQUFhLGtCQUM5Qm5rRSxLQUFLZzNFLFFBQVE3UyxnQkFRTjlnRSxVQUFVMGtCLFFBQVUsU0FBVTdjLEtBQ25DbEwsS0FBS2czRSxRQUFTLFVBQVdoM0UsVUFVcEJxRCxVQUFVZ2UsSUFBTSxTQUFVblcsVUFFakMsSUFBSStyRSxFQURHL3JFLEVBQVNsTCxLQUFLZzNFLFFBQVMsVUFBV2gzRSxVQVNsQ3FELFVBQVUrZCxNQUFRLGtCQUN6QixJQUFJNjFELEVBQWdCajNFLEtBQUtnM0UsWUFVbEIzekUsVUFBVXdnRSxVQUFZLFNBQVV4MUMsV0FDekNBLEdBQVdBLElBQVlBLEVBQVE2NUMsYUFBZTc1QyxHQUFtQyxTQUF4QkEsRUFBUTY1QyxZQUM3RCxJQUFNbG9FLEtBQUtnM0UsUUFBUXZ6RSxTQUFTNHFCLEdBQVcsSUFHekNydUIsS0FBS2czRSxRQUFRdnpFLFNBQVM0cUIsTUFRZmhyQixVQUFVd3pCLE9BQVMsa0JBQzFCLENBQ0xDLE9BQVEsa0JBQ1JrZ0QsUUFBU2gzRSxLQUFLZzNFLFlBWUZqZ0QsU0FBVyxTQUFVQyxVQUM1QixJQUFJaWdELEVBQWdCamdELEVBQUtnZ0QsWUFVbEIzekUsVUFBVXlnRSxPQUFTLFNBQVV6MUMsV0FDdENBLEdBQVdBLElBQVlBLEVBQVE2NUMsYUFBZTc1QyxHQUFtQyxTQUF4QkEsRUFBUTY1QyxZQUM3RCxpRUFBbUVsb0UsS0FBS2czRSxRQUFRbFQsT0FBT3oxQyxHQUFXLGlFQUdwR3J1QixLQUFLZzNFLFFBQVFsVCxPQUFPejFDLE1BVWJockIsVUFBVTRnRSxPQUFTLFNBQVU1MUMsV0FDdENBLEdBQVdBLElBQVlBLEVBQVE2NUMsYUFBZTc1QyxHQUFtQyxTQUF4QkEsRUFBUTY1QyxZQUM3RCxVQUFVbGpELE9BQU9obEIsS0FBS2czRSxRQUFRalQsTUFBTTExQyxHQUFVLFlBR2hEcnVCLEtBQUtnM0UsUUFBUWpULE1BQU0xMUMsSUFHckI0b0QsSUFDTixDQUNEaGdELFNBQVMsRUFDVDdXLFFBQVEsSUM3SkM4MkQsTUFGQSxZQUNRLENBQUMsU0FDcUR4aEQsUUFFckU4dUMsUUFDRTl1QyxhQVVlOUksRUFBT0MsRUFBS2xqQix3QkFDUHM5RCxTQUNkLElBQUk5aEQsWUFBWSx3REFJbkIvRSxHQUFPd00sU0FBYyxJQUFJckwsVUFBVSxxQkFDbkNuQixHQUFPeU0sU0FBWSxJQUFJdEwsVUFBVSxvQkFDbEM1WCxJQUFTeVcsR0FBT3pXLFNBQWEsSUFBSTRYLFVBQVUsb0JBQzNDalQsVUFBVTdNLE9BQVMsUUFBUyxJQUFJckIsTUFBTSwyQkFDckN3c0IsTUFBUUEsT0FFUkMsSUFBTUEsT0FFTmxqQixLQUFPQSxHQUFRLGlCQWdHaUIyNkMsRUFBTTRqQixPQUN2Q1MsRUFBYVAsR0FBYzlqQixFQUFNNGpCLEdBQ2pDa08sRUFBUyxHQUNUZSxFQUFrQi9PLEdBQWM5akIsRUFBSzEzQixNQUFPczdDLFFBQ3pDdDdDLE1BQTRCLE9BQXBCdXFELEdBQTRCQSxHQUFtQnhPLEdBQThCLFFBQWhCVCxFQUV4RTVqQixFQUFLMzZDLEtBQU0sS0FDVHl0RSxFQUFpQmhQLEdBQWM5akIsRUFBSzM2QyxLQUFNdStELEtBQ3ZDditELEtBQTBCLE9BQW5CeXRFLEdBQTJCQSxHQUFrQnpPLEdBQThCLFFBQWhCVCxPQUd2RW1QLEVBQWdCalAsR0FBYzlqQixFQUFLejNCLElBQUtxN0MsWUFDckNyN0MsSUFBd0IsT0FBbEJ3cUQsR0FBMEJBLEdBQWlCMU8sR0FBOEIsUUFBaEJULEVBQy9Ea08sV0ExR0MveUUsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGNBQ2pCOWQsVUFBVTJkLGFBQWMsSUFPeEIzZCxVQUFVaXdFLFNBQVcsa0JBRVp0ekUsS0FBS3FrQixRQUFPLFNBQVVpZ0MsVUFDOUJyakMsR0FBYXFqQyxJQUF1QixRQUFkQSxFQUFLdGlDLFFBRWxCdmdCLE9BQVMsS0FpQm5CNEIsVUFBVTIvRCxTQUFXLFNBQVVFLEVBQU1DLE9BQ3pDdCtELEVBQVFxK0QsRUFBS3IrRCxNQUViMHVFLEVBQVl2ekUsS0FBSzRzQixNQUFNbzJDLFNBQVNFLEVBQU1DLEdBRXRDcVEsRUFBVXh6RSxLQUFLNnNCLElBQUltMkMsU0FBU0UsRUFBTUMsTUFFbENuakUsS0FBSzJKLEtBQU0sS0FDVDhwRSxFQUFXenpFLEtBQUsySixLQUFLcTVELFNBQVNFLEVBQU1DLFVBRWpDLFNBQXVCM3VDLEVBQU94TyxFQUFNKytDLFVBQ2xDbGdFLEVBQU0wdUUsRUFBVS8rQyxFQUFPeE8sRUFBTSsrQyxHQUFVeU8sRUFBUWgvQyxFQUFPeE8sRUFBTSsrQyxHQUFVME8sRUFBU2ovQyxFQUFPeE8sRUFBTSsrQyxZQUc5RixTQUF1QnZ3QyxFQUFPeE8sRUFBTSsrQyxVQUNsQ2xnRSxFQUFNMHVFLEVBQVUvK0MsRUFBT3hPLEVBQU0rK0MsR0FBVXlPLEVBQVFoL0MsRUFBT3hPLEVBQU0rK0MsUUFVL0QxaEUsVUFBVTBrQixRQUFVLFNBQVU3YyxLQUM3QmxMLEtBQUs0c0IsTUFBTyxRQUFTNXNCLFFBQ3JCQSxLQUFLNnNCLElBQUssTUFBTzdzQixNQUV0QkEsS0FBSzJKLFFBQ0UzSixLQUFLMkosS0FBTSxPQUFRM0osVUFXdEJxRCxVQUFVZ2UsSUFBTSxTQUFVblcsVUFDM0IsSUFBSSs3RCxFQUFVam5FLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBSzRzQixNQUFPLFFBQVM1c0IsT0FBUUEsS0FBS29qRSxRQUFRbDRELEVBQVNsTCxLQUFLNnNCLElBQUssTUFBTzdzQixPQUFRQSxLQUFLMkosTUFBUTNKLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBSzJKLEtBQU0sT0FBUTNKLFdBUXJLcUQsVUFBVStkLE1BQVEsa0JBQ25CLElBQUk2bEQsRUFBVWpuRSxLQUFLNHNCLE1BQU81c0IsS0FBSzZzQixJQUFLN3NCLEtBQUsySixNQUFRM0osS0FBSzJKLFNBaUNyRHRHLFVBQVV3Z0UsVUFBWSxTQUFVeDFDLE9BSXBDOUssRUFGQTZ5RCxFQUFTQyxFQUE4QnIyRSxLQUR6QnF1QixHQUFXQSxFQUFRNjVDLFlBQWM3NUMsRUFBUTY1QyxZQUFjLFFBSXJFdDdDLEVBQVE1c0IsS0FBSzRzQixNQUFNbnBCLFNBQVM0cUIsTUFFNUIrbkQsRUFBT3hwRCxVQUNELElBQU1BLEVBQVEsT0FHbEJBLEVBRUY1c0IsS0FBSzJKLEtBQU0sS0FDVEEsRUFBTzNKLEtBQUsySixLQUFLbEcsU0FBUzRxQixHQUUxQituRCxFQUFPenNFLFNBQ0YsSUFBTUEsRUFBTyxRQUdmLElBQU1BLE9BR1hrakIsRUFBTTdzQixLQUFLNnNCLElBQUlwcEIsU0FBUzRxQixVQUV4QituRCxFQUFPdnBELFFBQ0gsSUFBTUEsRUFBTSxRQUdiLElBQU1BLEtBU0x4cEIsVUFBVXd6QixPQUFTLGtCQUNwQixDQUNMQyxPQUFRLFlBQ1JsSyxNQUFPNXNCLEtBQUs0c0IsTUFDWkMsSUFBSzdzQixLQUFLNnNCLElBQ1ZsakIsS0FBTTNKLEtBQUsySixTQVlMb3RCLFNBQVcsU0FBVUMsVUFDdEIsSUFBSWl3QyxFQUFVandDLEVBQUtwSyxNQUFPb0ssRUFBS25LLElBQUttSyxFQUFLcnRCLFNBU3hDdEcsVUFBVXlnRSxPQUFTLFNBQVV6MUMsT0FJakM5SyxFQUZBNnlELEVBQVNDLEVBQThCcjJFLEtBRHpCcXVCLEdBQVdBLEVBQVE2NUMsWUFBYzc1QyxFQUFRNjVDLFlBQWMsUUFJckV0N0MsRUFBUTVzQixLQUFLNHNCLE1BQU1rM0MsT0FBT3oxQyxNQUUxQituRCxFQUFPeHBELFVBQ0QsaUVBQW1FQSxFQUFRLG9FQUcvRUEsRUFFRjVzQixLQUFLMkosS0FBTSxLQUNUQSxFQUFPM0osS0FBSzJKLEtBQUttNkQsT0FBT3oxQyxHQUV4QituRCxFQUFPenNFLFNBQ0YsaUVBQW1FQSxFQUFPLHFFQUc1RSwyREFBNkRBLE9BR2xFa2pCLEVBQU03c0IsS0FBSzZzQixJQUFJaTNDLE9BQU96MUMsVUFFdEIrbkQsRUFBT3ZwRCxRQUNILGlFQUFtRUEsRUFBTSxxRUFHMUUsMkRBQTZEQSxLQVU1RHhwQixVQUFVNGdFLE9BQVMsU0FBVTUxQyxPQUVqQytuRCxFQUFTQyxFQUE4QnIyRSxLQUR6QnF1QixHQUFXQSxFQUFRNjVDLFlBQWM3NUMsRUFBUTY1QyxZQUFjLFFBRXJFM2tELEVBQU12akIsS0FBSzRzQixNQUFNbTNDLE1BQU0xMUMsTUFFdkIrbkQsRUFBT3hwRCxVQUNILFVBQVU1SCxPQUFPekIsRUFBSyxhQUcxQnZqQixLQUFLMkosS0FBTSxLQUNUQSxFQUFPM0osS0FBSzJKLEtBQUtvNkQsTUFBTTExQyxHQUV2QituRCxFQUFPenNFLFNBQ0YsVUFBVXFiLE9BQU9yYixFQUFNLGdCQUd6QixJQUFNQSxPQUdYa2pCLEVBQU03c0IsS0FBSzZzQixJQUFJazNDLE1BQU0xMUMsVUFFckIrbkQsRUFBT3ZwRCxRQUNILFVBQVU3SCxPQUFPNkgsRUFBSyxnQkFHdkIsSUFBTUEsR0FJUm82QyxJQUNOLENBQ0Rod0MsU0FBUyxFQUNUN1csUUFBUSxJQ3ZSQ2szRCxNQUZBLGlCQUNRLENBQUMsU0FDMEQ1aEQsUUFFMUU4dUMsUUFDRTl1QyxhQVdvQjZoRCxFQUFjeHpELHdCQUNkNmlELFNBQ2QsSUFBSXpoRCxZQUFZLHdEQUduQmhILE1BQU1zQixRQUFRODNELFNBQXFCLElBQUloMkQsVUFBVSwrQ0FDakRwRCxNQUFNc0IsUUFBUXNFLFNBQWUsSUFBSXhDLFVBQVUsd0NBQzVDZzJELEVBQWE5MUUsU0FBV3NpQixFQUFPdGlCLE9BQVMsUUFBUyxJQUFJOGYsVUFBVSwyRkFDOURnMkQsYUFBZUEsT0FDZnh6RCxPQUFTQSxZQUdEMWdCLFVBQVksSUFBSXMvRCxJQUNoQnQvRCxVQUFVOGQsS0FBTyxtQkFDakI5ZCxVQUFVbTBFLGtCQUFtQixJQWU3Qm4wRSxVQUFVMi9ELFNBQVcsU0FBVUUsRUFBTUMsT0FDOUNzVSxFQUFPejNFLEtBQ1AwM0UsRUFBVzEzRSxLQUFLK2pCLE9BQU8xQyxRQUFTemhCLEVBQUVvakUsU0FBU0UsRUFBTUMsWUFDOUMsU0FBNEIzdUMsRUFBT3hPLEVBQU0rK0MsV0FDMUM0UyxFQUNBQyxFQUFVRixFQUFTLEdBQUdsakQsRUFBT3hPLEVBQU0rK0MsR0FFOUJ2aEUsRUFBSSxFQUFHQSxFQUFJaTBFLEVBQUtGLGFBQWE5MUUsT0FBUStCLElBQUssTUFDdkNvMEUsSUFDQUYsRUFBU2wwRSxFQUFJLEdBQUdneEIsRUFBT3hPLEVBQU0rK0MsSUFDMUI5a0IsR0FBZ0JpakIsRUFBTXVVLEVBQUtGLGFBQWEvekUsR0FFaERxMEUsQ0FBT0YsRUFBU0MsV0FDWixVQUlKLE1BU0l2MEUsVUFBVTBrQixRQUFVLFNBQVU3YyxRQUN0QzZZLE9BQU9nRSxTQUFRLENBQUNsa0IsRUFBR0wsSUFBTTBILEVBQVNySCxFQUFHLFVBQVlMLEVBQUksSUFBS3hELE9BQU9BLFVBVXpEcUQsVUFBVWdlLElBQU0sU0FBVW5XLFVBQ2hDLElBQUkwN0QsRUFBZTVtRSxLQUFLdTNFLGFBQWFuekQsUUFBU3BrQixLQUFLK2pCLE9BQU8xQyxLQUFJLENBQUN4ZCxFQUFHTCxJQUFNeEQsS0FBS29qRSxRQUFRbDRELEVBQVNySCxFQUFHLFVBQVlMLEVBQUksSUFBS3hELFFBQVFBLFVBUXhIcUQsVUFBVStkLE1BQVEsa0JBQ3hCLElBQUl3bEQsRUFBZTVtRSxLQUFLdTNFLGFBQWN2M0UsS0FBSytqQixXQVNyQzFnQixVQUFVd2dFLFVBQVksU0FBVXgxQyxXQUN6QzY1QyxFQUFjNzVDLEdBQVdBLEVBQVE2NUMsWUFBYzc1QyxFQUFRNjVDLFlBQWMsT0FDckVTLEVBQWFQLEdBQWNwb0UsS0FBTWtvRSxHQUNqQzRQLEVBQWU5M0UsS0FBSytqQixPQUFPMUMsS0FBSSxTQUFVemhCLEVBQUdPLE9BQzFDNDNFLEVBQWtCM1AsR0FBY3hvRSxFQUFHc29FLFVBQ2hCLFFBQWhCQSxHQUE2QyxPQUFwQjZQLEdBQTRCQSxHQUFtQnBQLEVBQWEsSUFBTS9vRSxFQUFFNkQsU0FBUzRxQixHQUFXLElBQU16dUIsRUFBRTZELFNBQVM0cUIsTUFFdkkycEQsRUFBYyxDQUNoQjd4QixNQUFPLEtBQ1AwcEIsUUFBUyxLQUNUNXJCLFFBQVMsSUFDVEMsT0FBUSxJQUNSNHJCLFVBQVcsS0FDWEMsU0FBVSxNQUVScm9DLEVBQU1vd0MsRUFBYSxHQUVkdDBFLEVBQUksRUFBR0EsRUFBSXhELEtBQUt1M0UsYUFBYTkxRSxPQUFRK0IsT0FDckMsSUFBTXcwRSxFQUFZaDRFLEtBQUt1M0UsYUFBYS96RSxJQUFNLElBQU1zMEUsRUFBYXQwRSxFQUFJLFVBR25Fa2tDLEtBUU1ya0MsVUFBVXd6QixPQUFTLGtCQUN6QixDQUNMQyxPQUFRLGlCQUNSeWdELGFBQWN2M0UsS0FBS3UzRSxhQUNuQnh6RCxPQUFRL2pCLEtBQUsrakIsV0FZRmdULFNBQVcsU0FBVUMsVUFDM0IsSUFBSTR2QyxFQUFlNXZDLEVBQUt1Z0QsYUFBY3ZnRCxFQUFLalQsV0FTckMxZ0IsVUFBVXlnRSxPQUFTLFNBQVV6MUMsV0FDdEM2NUMsRUFBYzc1QyxHQUFXQSxFQUFRNjVDLFlBQWM3NUMsRUFBUTY1QyxZQUFjLE9BQ3JFUyxFQUFhUCxHQUFjcG9FLEtBQU1rb0UsR0FDakM0UCxFQUFlOTNFLEtBQUsrakIsT0FBTzFDLEtBQUksU0FBVXpoQixFQUFHTyxPQUMxQzQzRSxFQUFrQjNQLEdBQWN4b0UsRUFBR3NvRSxVQUNoQixRQUFoQkEsR0FBNkMsT0FBcEI2UCxHQUE0QkEsR0FBbUJwUCxFQUFhLGlFQUFtRS9vRSxFQUFFa2tFLE9BQU96MUMsR0FBVyxpRUFBbUV6dUIsRUFBRWtrRSxPQUFPejFDLE1BRTdQMnBELEVBQWMsQ0FDaEI3eEIsTUFBTyxLQUNQMHBCLFFBQVMsS0FDVDVyQixRQUFTLElBQ1RDLE9BQVEsSUFDUjRyQixVQUFXLEtBQ1hDLFNBQVUsTUFFUnJvQyxFQUFNb3dDLEVBQWEsR0FFZHQwRSxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLdTNFLGFBQWE5MUUsT0FBUStCLE9BQ3JDLGtGQUFvRnd2RSxHQUFPZ0YsRUFBWWg0RSxLQUFLdTNFLGFBQWEvekUsS0FBTyxVQUFZczBFLEVBQWF0MEUsRUFBSSxVQUcvSmtrQyxLQVNNcmtDLFVBQVU0Z0UsT0FBUyxTQUFVNTFDLFdBQ3RDNjVDLEVBQWM3NUMsR0FBV0EsRUFBUTY1QyxZQUFjNzVDLEVBQVE2NUMsWUFBYyxPQUNyRVMsRUFBYVAsR0FBY3BvRSxLQUFNa29FLEdBQ2pDNFAsRUFBZTkzRSxLQUFLK2pCLE9BQU8xQyxLQUFJLFNBQVV6aEIsRUFBR08sT0FDMUM0M0UsRUFBa0IzUCxHQUFjeG9FLEVBQUdzb0UsVUFDaEIsUUFBaEJBLEdBQTZDLE9BQXBCNlAsR0FBNEJBLEdBQW1CcFAsRUFBYSxVQUFZL29FLEVBQUVta0UsTUFBTTExQyxHQUFXLFVBQVl6dUIsRUFBRW1rRSxNQUFNMTFDLE1BRTdJcVosRUFBTW93QyxFQUFhLEdBRWR0MEUsRUFBSSxFQUFHQSxFQUFJeEQsS0FBS3UzRSxhQUFhOTFFLE9BQVErQixPQUNyQ3lyRSxHQUFlanZFLEtBQUt1M0UsYUFBYS96RSxJQUFNczBFLEVBQWF0MEUsRUFBSSxVQUcxRGtrQyxHQUdGay9CLElBQ04sQ0FDRDN2QyxTQUFTLEVBQ1Q3VyxRQUFRLElDbE5WLHlCQUFpQ3pGLE9BQU9xdUIsUUFBVSxTQUFVLzNCLFdBQW1Cek4sRUFBSSxFQUFHQSxFQUFJOEssVUFBVTdNLE9BQVErQixJQUFLLEtBQU1vc0MsRUFBU3RoQyxVQUFVOUssV0FBYWtlLEtBQU9rdUIsRUFBY2oxQixPQUFPdFgsVUFBVTVELGVBQWVxaUIsS0FBSzh0QixFQUFRbHVCLE9BQWVBLEdBQU9rdUIsRUFBT2x1QixZQUFtQnpRLElBQTJCa1csTUFBTW5uQixLQUFNc08sV0NBaFQseUJBQWlDcU0sT0FBT3F1QixRQUFVLFNBQVUvM0IsV0FBbUJ6TixFQUFJLEVBQUdBLEVBQUk4SyxVQUFVN00sT0FBUStCLElBQUssS0FBTW9zQyxFQUFTdGhDLFVBQVU5SyxXQUFha2UsS0FBT2t1QixFQUFjajFCLE9BQU90WCxVQUFVNUQsZUFBZXFpQixLQUFLOHRCLEVBQVFsdUIsT0FBZUEsR0FBT2t1QixFQUFPbHVCLFlBQW1CelEsSUFBMkJrVyxNQUFNbm5CLEtBQU1zTyxlQ0tyUzJwRSxHQUF3QixDQUNqQzl5QyxxQkFBQUEsSUNEUyt5QyxHQUFzQixDQUMvQnB3QyxtQkFBQUEsSUNEU3F3QyxHQUFxQixDQUM5QnJ0QyxrQkFBQUEsSUNBU3N0QyxHQUEwQixDQUNuQ0QsbUJBQUFBLEdBQ0Ezc0MsdUJBQUFBLElDSFM2c0MsR0FBdUIsQ0FDaENodUMsb0JBQUFBLElDR1NpdUMsR0FBb0IsQ0FDN0JMLHNCQUFBQSxHQUNBQyxvQkFBQUEsR0FDQUUsd0JBQUFBLEdBQ0FDLHFCQUFBQSxHQUNBNWlELFlBQUFBLElDUlM4aUQsR0FBMEIsQ0FDbkNELGtCQUFBQSxHQUNBMXBDLGtCQUFBQSxJQ0FTNHBDLEdBQTJCLENBQ3BDTCxtQkFBQUEsR0FDQUksd0JBQUFBLEdBQ0FELGtCQUFBQSxHQUNBN29DLHdCQUFBQSxJQ05TZ3BDLEdBQXFCLENBQzlCSCxrQkFBQUEsR0FDQTVsQyxhQUFBQSxJQ0RTZ21DLEdBQXVCLENBQ2hDTCxxQkFBQUEsR0FDQUMsa0JBQUFBLEdBQ0FsbEMsZUFBQUEsSUNEU3VsQyxHQUFxQixDQUM5QlAsd0JBQUFBLEdBQ0FELG1CQUFBQSxHQUNBSyx5QkFBQUEsR0FDQUYsa0JBQUFBLEdBQ0FqbEMsYUFBQUEsSUNSU3VsQyxHQUF5QixDQUNsQ04sa0JBQUFBLEdBQ0F6a0MsaUJBQUFBLElDRlNnbEMsR0FBa0IsQ0FDM0JQLGtCQUFBQSxHQUNBeGtDLFVBQUFBLElDRlNnbEMsR0FBd0IsQ0FDakNSLGtCQUFBQSxHQUNBdmtDLGdCQUFBQSxJQ0dTZ2xDLEdBQW9CLENBQzdCZCxzQkFBQUEsR0FDQUcsd0JBQUFBLEdBQ0FHLHdCQUFBQSxHQUNBSSxtQkFBQUEsR0FDQUwsa0JBQUFBLEdBQ0FVLGtCQ1Q2QixDQUM3QmYsc0JBQUFBLEdBQ0FVLG1CQUFBQSxHQUNBTCxrQkFBQUEsR0FDQW40QixZQUFBQSxJRE1BZ0QsWUFBQUEsSUVaUzgxQixHQUE2QixDQUN0Q1gsa0JBQUFBLEdBQ0FuL0IscUJBQUFBLElDRFMrL0IsR0FBbUIsQ0FDNUJQLG1CQUFBQSxHQUNBTCxrQkFBQUEsR0FDQXA2QixXQUFBQSxJQ0NTaTdCLEdBQXVCLENBQ2hDTCxzQkFBQUEsR0FDQU0sZ0JDSDJCLENBQzNCTixzQkFBQUEsR0FDQU8saUJDTjRCLENBQzVCZixrQkFBQUEsR0FDQXY4QixXQUFBQSxJREtBazlCLDJCQUFBQSxHQUNBQyxpQkFBQUEsR0FDQVosa0JBQUFBLEdBQ0FqWCxVQUFBQSxJREZBa1gsd0JBQUFBLEdBQ0FJLG1CQUFBQSxHQUNBTSwyQkFBQUEsR0FDQVgsa0JBQUFBLEdBQ0E5K0IsZUFBQUEsSUdQUzgvQixHQUF1QixDQUNoQ2xCLHdCQUFBQSxHQUNBVSxzQkFBQUEsR0FDQVAsd0JBQUFBLEdBQ0FJLG1CQUFBQSxHQUNBTCxrQkFBQUEsR0FDQU0sdUJBQUFBLEdBQ0FwOUIsZUFBQUEsSUNWUys5QixHQUFxQixDQUM5Qm5CLHdCQUFBQSxHQUNBTyxtQkFBQUEsR0FDQUwsa0JBQUFBLEdBQ0F2MEIsYUFBQUEsSUNGU3kxQixHQUF1QixDQUNoQ3ZCLHNCQUFBQSxHQUNBRyx3QkFBQUEsR0FDQUkseUJBQUFBLEdBQ0FHLG1CQUFBQSxHQUNBTCxrQkFBQUEsR0FDQWw3QixlQUFBQSxJQ1JTcThCLEdBQXNCLENBQy9CQyxzQkNGaUMsQ0FDakN6QixzQkFBQUEsR0FDQUssa0JBQUFBLEdBQ0FubEMsZ0JBQUFBLElEQUF1bEMscUJBQUFBLEdBQ0FELG1CQUFBQSxHQUNBOTNCLGNBQUFBLElFTFNnNUIsR0FBMkIsQ0FDcENGLG9CQUFBQSxHQUNBbkIsa0JBQUFBLEdBQ0FqM0IsbUJBQUFBLElDSFN1NEIsR0FBcUIsQ0FDOUJqQixtQkFBQUEsR0FDQUwsa0JBQUFBLEdBQ0F6NUIsYUFBQUEsSUNVU2c3QixHQUFtQixDQUM1QjVCLHNCQUFBQSxHQUNBQyxvQkFBQUEsR0FDQUcscUJBQUFBLEdBQ0FRLGdCQUFBQSxHQUNBQyxzQkFBQUEsR0FDQWEseUJBQUFBLEdBQ0FHLGtCQ2xCNkIsQ0FDN0IxQix3QkFBQUEsR0FDQUcsd0JBQUFBLEdBQ0FJLG1CQUFBQSxHQUNBTCxrQkFBQUEsR0FDQTEwQixZQUFBQSxJRGNBbTJCLGdCRWxCMkIsQ0FDM0I3QixvQkFBQUEsR0FDQThCLGlCQ0g0QixDQUM1QnpCLHdCQUFBQSxHQUNBSSxtQkFBQUEsR0FDQUksa0JBQUFBLEdBQ0FULGtCQUFBQSxHQUNBcGpDLFdBQUFBLElEREEra0Msa0JFSjZCLENBQzdCMUIsd0JBQUFBLEdBQ0FJLG1CQUFBQSxHQUNBSSxrQkFBQUEsR0FDQVQsa0JBQUFBLEdBQ0FoaUMsWUFBQUEsSUZBQXFpQyxtQkFBQUEsR0FDQUwsa0JBQUFBLEdBQ0F6aUMsVUFBQUEsSUZhQXFrQyxtQkt2QjhCLENBQzlCNUIsa0JBQUFBLEdBQ0EvM0IsYUFBQUEsSUxzQkE0NUIsc0JNeEJpQyxDQUNqQzdCLGtCQUFBQSxHQUNBOXBDLGdCQUFBQSxJTnVCQXlxQywyQkFBQUEsR0FDQVIsbUJBQUFBLEdBQ0EyQixnQk9yQjJCLENBQzNCbEMsb0JBQUFBLEdBQ0FRLHFCQUFBQSxHQUNBYyxxQkFBQUEsR0FDQWIsbUJBQUFBLEdBQ0FRLHFCQUFBQSxHQUNBVixtQkFBQUEsR0FDQUgsa0JBQUFBLEdBQ0E1MkIsVUFBQUEsSVBjQXEzQixrQkFBQUEsR0FDQU8scUJBQUFBLEdBQ0F0ekIsZ0JBQUFBLElRL0JTcTBCLEdBQW1CLENBQzVCNVgsV0FBQUEsSUNDUzZYLEdBQXlCLENBQ2xDVCxpQkFBQUEsR0FDQVEsaUJBQUFBLEdBQ0FFLG9CQ05TLGFBQ1EsQ0FBQyxPQUFRLFFBQVMsU0FDcUM3a0QsUUFDcEV3dEMsS0FDRkEsT0FDQXB3QixFQUNBMHhCLFFBQ0U5dUMsYUFPcUJuUCxZQUNoQnVzQixHQUFPQSxFQUFLdVcsZ0JBQWdCOWlDLGNBV2pCQSx3QkFDSWkwRCxTQUNkLElBQUlyMUQsWUFBWSx1REFJSixpQkFBVG9CLFFBQXlCLElBQUloRixVQUFVLDZDQUM3Q1MsS0FBT3VFLFlBR0hsakIsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGVBQ2pCOWQsVUFBVTRkLGNBQWUsSUFlekI1ZCxVQUFVMi9ELFNBQVcsU0FBVXlYLEVBQU10WCxPQUMxQzU4QyxFQUFPdm1CLEtBQUtnaUIsU0FFTyxJQUFuQm1oRCxFQUFTNThDLFVBR0osU0FBVWlPLEVBQU94TyxFQUFNKytDLFVBQ3JCLytDLEVBQUtPLE9BRUxBLEtBQVFrMEQsU0FDVixTQUFVam1ELEVBQU94TyxFQUFNKytDLFVBQ0w5a0IsR0FBaEIxNUIsS0FBUWlPLEVBQXdCQSxFQUErQmltRCxFQUF4QmwwRCxRQUc1Q2lzRCxFQUFTbnBCLEVBQWdCOWlDLFVBQ3RCLFNBQVVpTyxFQUFPeE8sRUFBTSsrQyxVQUNyQngrQyxLQUFRaU8sRUFBUXlyQixHQUFnQnpyQixFQUFPak8sR0FBUWlzRCxFQUFTLElBQUkxL0IsRUFBSyxLQUFNdnNCLFlBNkJyRUEsU0FDUCxJQUFJbm1CLE1BQU0sb0JBQXNCbW1CLEdBOUJvRGtGLENBQU1sRixPQVV2RmxqQixVQUFVMGtCLFFBQVUsU0FBVTdjLE9BVTlCN0gsVUFBVWdlLElBQU0sU0FBVW5XLFVBQzVCbEwsS0FBS29oQixXQWlCSC9kLFVBQVUrZCxNQUFRLGtCQUNwQixJQUFJbzVELEVBQVd4NkUsS0FBS2dpQixTQVVsQjNlLFVBQVV3Z0UsVUFBWSxTQUFVeDFDLFVBQ2xDcnVCLEtBQUtnaUIsUUFVSDNlLFVBQVV5Z0UsT0FBUyxTQUFVejFDLE9BQ2xDOUgsRUFBT3lzRCxHQUFPaHpFLEtBQUtnaUIsYUFFVixTQUFUdUUsR0FBNEIsVUFBVEEsRUFDZCwwQ0FBNENBLEVBQU8sVUFDeEMsTUFBVEEsRUFDRixtREFBcURBLEVBQU8sVUFDakQsYUFBVEEsRUFDRixrREFBb0RBLEVBQU8sVUFDaEQsUUFBVEEsRUFDRiw2Q0FBK0NBLEVBQU8sVUFDM0MsU0FBVEEsRUFDRiw4Q0FBZ0RBLEVBQU8sVUFDNUMsY0FBVEEsRUFDRixtREFBcURBLEVBQU8sVUFHOUQsNkJBQStCQSxFQUFPLGFBUXBDbGpCLFVBQVV3ekIsT0FBUyxrQkFDckIsQ0FDTEMsT0FBUSxhQUNSOVUsS0FBTWhpQixLQUFLZ2lCLFNBWUorVSxTQUFXLFNBQVVDLFVBQ3ZCLElBQUl3akQsRUFBV3hqRCxFQUFLaFYsU0FVbEIzZSxVQUFVNGdFLE9BQVMsU0FBVTUxQyxPQUNsQ21rRCxHQUFTLE9BRWtCLElBQXBCdFAsRUFBS2xqRSxLQUFLZ2lCLE9BQXlCcW5DLEVBQWdCcnBELEtBQUtnaUIsV0FDeEQsT0FHUGloRCxFQUFTZ1EsR0FBU2p6RSxLQUFLZ2lCLEtBQU13d0QsVUFFZixPQUFkdlAsRUFBTyxHQUVGQSxFQUlGLElBQU1BLEdBR1J1WCxJQUNOLENBQ0R2akQsU0FBUyxFQUNUN1csUUFBUSxNQ3RNd0IsQ0FDaENzNkQsa0JDYzZCLENBQzdCQyx5QkNoQm9DLENBQ3BDTixpQkFBQUEsR0FDQVQsbUJBQUFBLEdBQ0FyVixtQkFBQUEsSURjQXFXLHNCRWxCaUMsQ0FDakNQLGlCQUFBQSxHQUNBcFYsZ0JBQUFBLElGaUJBNFYsMkJHakJzQyxDQUN0Q2xDLG1CQUFBQSxHQUNBMEIsaUJBQUFBLEdBQ0FULG1CQUFBQSxHQUNBblIscUJBQUFBLElIY0FxUyxzQkluQmlDLENBQ2pDVCxpQkFBQUEsR0FDQVUsc0JDSmlDLENBQ2pDcGtELGdCQUFBQSxJRElBeXlDLGdCQUFBQSxJSmlCQTRSLDRCTXJCdUMsQ0FDdkNYLGlCQUFBQSxHQUNBMVEsc0JBQUFBLElOb0JBc1IseUJPdEJvQyxDQUNwQ1osaUJBQUFBLEdBQ0EzSCxtQkFBQUEsSVBxQkF3SSxtQ1F0QjhDLENBQzlDYixpQkFBQUEsR0FDQS9CLGtCQUFBQSxHQUNBMUYsNkJBQUFBLElSb0JBdUkseUJTdkJvQyxDQUNwQ2QsaUJBQUFBLEdBQ0FDLHVCQUFBQSxHQUNBYyxzQm5ERFMsZUFDUSxDQUFDLE9BQVEsT0FBUSxlQUN3QzFsRCxRQUN0RXd0QyxLQUNGQSxFQUNBc0Isa0JBQ0FnVyxHQUNFOWtELGFBVWtCelMsRUFBSStDLHdCQUNGcTFELFNBQ2QsSUFBSWwyRCxZQUFZLHVEQUdOLGlCQUFQbEMsTUFDSixJQUFJdTNELEVBQVd2M0QsS0FJakI3QyxHQUFPNkMsU0FBVyxJQUFJMUIsVUFBVSx1Q0FFaENwRCxNQUFNc0IsUUFBUXVHLEtBQVVBLEVBQUsrTyxNQUFNM1UsVUFDaEMsSUFBSW1CLFVBQVUsNkRBR2pCMEIsR0FBS0EsT0FDTCtDLEtBQU9BLEdBQVEsVUFFYjBHLGVBQWUxc0IsS0FBTSxPQUFRLENBQ2xDb3JDLElBQUssa0JBQ0lwckMsS0FBS2lqQixHQUFHakIsTUFBUSxJQUN2QjRpRCxLQUFLNWtFLE1BQ1ArRixJQUFLLGlCQUNHLElBQUkzRixNQUFNLHFEQUtUaUQsVUFBWSxJQUFJcy9ELElBQ2hCdC9ELFVBQVU4ZCxLQUFPLGlCQUNqQjlkLFVBQVVzZCxnQkFBaUIsSUFlM0J0ZCxVQUFVMi9ELFNBQVcsU0FBVXlYLEVBQU10WCx3QkFDMUJrWSxTQUNkLElBQUk5NUQsVUFBVSw2QkFJbEJ1MEQsRUFBV3owRCxHQUFJcmhCLEtBQUtnbUIsTUFBTSxTQUFVeUMsVUFDL0JBLEVBQUl1NkMsU0FBU3lYLEVBQU10WCxTQUd4QmxpRCxHQUFhamhCLEtBQUtpakIsSUFBSyxLQUVyQnlELEVBQVExbUIsS0FBS2lqQixHQUFHakIsS0FDaEJpQixFQUFLeUQsS0FBUyt6RCxFQUFPeDZCLEdBQWdCdzZCLEVBQU0vekQsUUFBUyxLQUM5QixtQkFBUHpELElBQW9DLElBQWZBLEVBQUdxNEQsUUFFaEMsS0FHTEEsRUFBVXQ3RSxLQUFLZ21CLFlBQ1osU0FBMEJ3TyxFQUFPeE8sRUFBTSsrQyxnQkFDM0J2d0MsRUFBUXlyQixHQUFnQnpyQixFQUFPOU4sR0FBU3pELEdBQUlxNEQsRUFBU2IsRUFBTXpyQixHQUFTLEdBQUl4NkIsRUFBT3hPLFFBSTFFLElBQXBCOHZELEVBQVNyMEUsT0FBYyxLQUNyQnMwRSxFQUFXRCxFQUFTLFVBQ2pCLFNBQTBCdGhELEVBQU94TyxFQUFNKytDLGdCQUMzQnZ3QyxFQUFReXJCLEdBQWdCenJCLEVBQU85TixHQUFTekQsR0FBSTh5RCxFQUFTdmhELEVBQU94TyxFQUFNKytDLFFBRXhELElBQXBCK1EsRUFBU3IwRSxPQUFjLEtBQzVCdTBFLEVBQVdGLEVBQVMsR0FDcEJHLEVBQVdILEVBQVMsVUFDakIsU0FBMEJ0aEQsRUFBT3hPLEVBQU0rK0MsZ0JBQzNCdndDLEVBQVF5ckIsR0FBZ0J6ckIsRUFBTzlOLEdBQVN6RCxHQUFJK3lELEVBQVN4aEQsRUFBT3hPLEVBQU0rK0MsR0FBVWtSLEVBQVN6aEQsRUFBT3hPLEVBQU0rK0MsWUFHOUcsU0FBMEJ2d0MsRUFBT3hPLEVBQU0rK0MsZ0JBQzNCdndDLEVBQVF5ckIsR0FBZ0J6ckIsRUFBTzlOLEdBQVN6RCxHQUFJa0UsTUFBTSxLQUFNOUYsR0FBSXkwRCxHQUFVLFNBQVVJLFVBQ3hGQSxFQUFRMWhELEVBQU94TyxFQUFNKytDLFdBSzNCNWtELEdBQWVuZ0IsS0FBS2lqQixLQUFPckMsR0FBWTVnQixLQUFLaWpCLEdBQUc5aUIsUUFBVUgsS0FBS2lqQixHQUFHOWlCLE1BQU1pa0UsbUJBQW9CLEtBRWhHUyxFQUFhN2tFLEtBQUtpakIsR0FBR3pMLE9BQU93ckQsU0FBU3lYLEVBQU10WCxHQUUzQ3hoRCxFQUFPM2hCLEtBQUtpakIsR0FBRzlpQixNQUFNa2tFLG9CQUNyQmtYLEVBQVd2N0UsS0FBS2dtQixZQUNiLFNBQTBCd08sRUFBT3hPLEVBQU0rK0MsT0FDeEN2dEQsRUFBU3F0RCxFQUFXcndDLEVBQU94TyxFQUFNKytDLFV4Q2hDN0MsU0FBNEJ2dEQsRUFBUWtuQyxPQUM3QkgsR0FBYS9tQyxFQUFRa25DLFNBQ2xCLElBQUl0K0MsTUFBTSx3QkFBMEJzK0MsRUFBUyxNd0MrQjVCbG5DLEVBQVFtSyxHQUNmbkssRUFBT21LLElBQVNuSyxFQUFPbUssR0FBTTI1RCxRQUMxQjlqRSxFQUFPbUssR0FBTTQ1RCxFQUFVZCxFQUFNenJCLEdBQVMsR0FBSXg2QixFQUFPeE8sSUFDOUR4TyxFQUFPbUssR0FBTXdGLE1BQU0zUCxFQUFRNkosR0FBSXkwRCxHQUFVLFNBQVVJLFVBRTVDQSxFQUFRMWhELEVBQU94TyxFQUFNKytDLFlBTTVCeVcsRUFBU3g3RSxLQUFLaWpCLEdBQUcrL0MsU0FBU3lYLEVBQU10WCxHQUVoQ3NZLEVBQVl6N0UsS0FBS2dtQixZQUNkLFNBQTBCd08sRUFBT3hPLEVBQU0rK0MsT0FDeENwNUMsRUFBSzZ2RCxFQUFPaG5ELEVBQU94TyxFQUFNKytDLFVBQ2pCcDVDLEdBQU1BLEVBQUcydkQsUUFDTjN2RCxFQUFHOHZELEVBQVdoQixFQUFNenJCLEdBQVMsR0FBSXg2QixFQUFPeE8sSUFDckQyRixFQUFHeEUsTUFBTXdFLEVBQUl0SyxHQUFJeTBELEdBQVUsU0FBVUksVUFFOUJBLEVBQVExaEQsRUFBT3hPLEVBQU0rK0MsV0FXdkIxaEUsVUFBVTBrQixRQUFVLFNBQVU3YyxLQUNoQ2xMLEtBQUtpakIsR0FBSSxLQUFNampCLGNBRWZ3RCxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLZ21CLEtBQUt2a0IsT0FBUStCLE1BQzNCeEQsS0FBS2dtQixLQUFLeGlCLEdBQUksUUFBVUEsRUFBSSxJQUFLeEQsVUFXakNxRCxVQUFVZ2UsSUFBTSxTQUFVblcsV0FDakMrWCxFQUFLampCLEtBQUtvakUsUUFBUWw0RCxFQUFTbEwsS0FBS2lqQixHQUFJLEtBQU1qakIsT0FFMUNnbUIsRUFBTyxHQUVGeGlCLEVBQUksRUFBR0EsRUFBSXhELEtBQUtnbUIsS0FBS3ZrQixPQUFRK0IsTUFDL0JBLEdBQUt4RCxLQUFLb2pFLFFBQVFsNEQsRUFBU2xMLEtBQUtnbUIsS0FBS3hpQixHQUFJLFFBQVVBLEVBQUksSUFBS3hELGNBRzVELElBQUlxN0UsRUFBYXA0RCxFQUFJK0MsTUFRakIzaUIsVUFBVStkLE1BQVEsa0JBQ3RCLElBQUlpNkQsRUFBYXI3RSxLQUFLaWpCLEdBQUlqakIsS0FBS2dtQixLQUFLNUIsTUFBTSxTQUsvQ3MzRCxFQUFlTCxFQUFhaDRFLFVBQVVJLG9CQThGbEJrNEUsRUFBVXIzQixFQUFNajJCLFdBT2xDNUssRUFOQWt4RCxFQUFRLEdBR1JpSCxFQUFRLHFEQUNSQyxFQUFXLEVBSTJCLFVBQTFCRCxFQUFNRSxLQUFLSCxXQUdoQkEsRUFBU3RxRCxVQUFVd3FELEVBQVVwNEQsRUFBTXRqQixTQUNqQ3NqQixFQUFNdGpCLE1BRUEsT0FBYnNqQixFQUFNLE1BRUMsYUFFSixJQUVPQSxFQUFNLEdBQUdoaUIsV0FDakJvZ0IsRUFBV3lpQyxFQUFLN2dDLEVBQU0sUUFFckI1QixRQUNHLElBQUlrNkQsZUFBZSxzQkFBd0J0NEQsRUFBTSxHQUFLLDRCQUc3QyxJQUFiQSxFQUFNLGlCQUVPNUIsT0FDUixZQUNNQSxZQUdOLFlBQ0N6QixHQUFPeUIsTUFDQUEsRUFBU2tpRCxNQUFNMTFDLGFBQ2ZsUSxNQUFNc0IsUUFBUW9DLFNBVWpCLElBQUlOLFVBQVUsYUFBZWtDLEVBQU0sR0FBSyxrREFSckM1QixFQUFTUixLQUFJLFNBQVVvSCxFQUFLdG9CLE1BQy9CaWdCLEdBQU9xSSxVQUNGQSxFQUFJczdDLE1BQU0xMUMsU0FHYixJQUFJOU0sVUFBVSxhQUFla0MsRUFBTSxHQUFLLElBQU10akIsRUFBUSx1QkFDM0RxakIsS0FBSywwQkFRSixJQUFJakMsVUFBVSxhQUFla0MsRUFBTSxHQUFLLG9EQUU3QyxLQUVEckQsR0FBT3lCLEVBQVM0QixFQUFNLEtBQU81QixFQUFTNEIsRUFBTSxXQUd4QyxJQUFJbEMsVUFBVSxhQUFla0MsRUFBTSxHQUFLLElBQU1BLEVBQU0sR0FBSyx1QkFGdEQ1QixFQUFTNEIsRUFBTSxJQUFJc2dELE1BQU0xMUMsZUFRakNzdEQsRUFBU3YzRCxNQUFNeTNELEtBbkpieDRFLFVBQVVJLFNBQVcsU0FBVTRxQixPQUN0Q3MxQyxFQUNBcDlDLEVBQU92bUIsS0FBS2lqQixHQUFHeGYsU0FBUzRxQixVQUV4QkEsR0FBc0MsaUJBQXBCQSxFQUFRdTFDLFNBQXdCbmtFLEdBQWU0dUIsRUFBUXUxQyxRQUFTcjlDLE9BRXJFOEgsRUFBUXUxQyxRQUFRcjlDLEdBQU12bUIsS0FBTXF1QixTQUdqQixJQUFqQnMxQyxFQUNGQSxFQUlGK1gsRUFBYTU1RCxLQUFLOWhCLEtBQU1xdUIsTUFTcEJockIsVUFBVXdnRSxVQUFZLFNBQVV4MUMsT0FDdkNySSxFQUFPaG1CLEtBQUtnbUIsS0FBSzNFLEtBQUksU0FBVW9ILFVBQzFCQSxFQUFJaGxCLFNBQVM0cUIsY0FFYjNOLEdBQXlCMWdCLEtBQUtpakIsSUFBTSxJQUFNampCLEtBQUtpakIsR0FBR3hmLFNBQVM0cUIsR0FBVyxJQUFNcnVCLEtBQUtpakIsR0FBR3hmLFNBQVM0cUIsSUFFMUYsSUFBTXJJLEVBQUt4QyxLQUFLLE1BQVEsT0FRekJuZ0IsVUFBVXd6QixPQUFTLGtCQUN2QixDQUNMQyxPQUFRLGVBQ1I3VCxHQUFJampCLEtBQUtpakIsR0FDVCtDLEtBQU1obUIsS0FBS2dtQixTQVlGK1EsU0FBVyxTQUFVQyxVQUN6QixJQUFJcWtELEVBQWFya0QsRUFBSy9ULEdBQUkrVCxFQUFLaFIsU0FTM0IzaUIsVUFBVXlnRSxPQUFTLFNBQVV6MUMsT0FDcENySSxFQUFPaG1CLEtBQUtnbUIsS0FBSzNFLEtBQUksU0FBVW9ILFVBQzFCQSxFQUFJcTdDLE9BQU96MUMsYUFHYiwrQkFBaUMya0QsR0FBT2h6RSxLQUFLaWpCLElBQU0sd0VBQTBFK0MsRUFBS3hDLEtBQUsseUNBQTJDLHNFQXNGdkx3NEQsRUFBWVgsRUFBYWg0RSxVQUFVMGdFLGVBYTFCMWdFLFVBQVUwZ0UsTUFBUSxTQUFVMTFDLE9BQ25DMjFDLFNBRUEzMUMsR0FBc0MsaUJBQXBCQSxFQUFRdTFDLFNBQXdCbmtFLEdBQWU0dUIsRUFBUXUxQyxRQUFTNWpFLEtBQUtnaUIsVUFFN0VxTSxFQUFRdTFDLFFBQVE1akUsS0FBS2dpQixNQUFNaGlCLEtBQU1xdUIsU0FHdEIsSUFBZDIxQyxFQUNGQSxFQUlGZ1ksRUFBVWw2RCxLQUFLOWhCLEtBQU1xdUIsTUFTakJockIsVUFBVTRnRSxPQUFTLFNBQVU1MUMsT0FLcEM0dEQsRUFZQUMsRUFoQkFsMkQsRUFBT2htQixLQUFLZ21CLEtBQUszRSxLQUFJLFNBQVVvSCxVQUUxQkEsRUFBSXM3QyxNQUFNMTFDLGFBSWZpaUQsR0FBZXR3RSxLQUFLZ2lCLFVBQ0xzdUQsR0FBZXR3RSxLQUFLZ2lCLFFBSW5Da2hELEVBQUtsakUsS0FBS2dpQixPQUEyQyxtQkFBMUJraEQsRUFBS2xqRSxLQUFLZ2lCLE1BQU0raEQsT0FBeUQsaUJBQTFCYixFQUFLbGpFLEtBQUtnaUIsTUFBTStoRCxPQUF1RCxpQkFBMUJiLEVBQUtsakUsS0FBS2dpQixNQUFNK2hELFVBRXhIYixFQUFLbGpFLEtBQUtnaUIsTUFBTStoRCxjQUtwQmtZLE9BQ1IsYUFFV0EsRUFBZWo4RSxLQUFNcXVCLGFBR2hDLFdBRVc4dEQsRUFBZUYsRUFBZ0JqOEUsS0FBTXF1QixhQUdoRCx1QkFFWTR0RCxFQUFlajJELEVBQUt2a0IsYUFDNUIsYUFDV3c2RSxFQUFlajJELEVBQUt2a0IsUUFBUXpCLEtBQU1xdUIsYUFHN0MsV0FDVzh0RCxFQUFlRixFQUFlajJELEVBQUt2a0IsUUFBU3pCLEtBQU1xdUIsaUJBTTdDLElBQWhCNnRELEVBQ0ZBLEVBR0ZDLEVUU2tCLDBDU1RjbjhFLEtBQU1xdUIsTUFRbENockIsVUFBVTZnRSxjQUFnQixrQkFDOUJsa0UsS0FBS21oQixLQUFPLElBQU1uaEIsS0FBS2dpQixNQUd6QnE1RCxJQUNOLENBQ0Rwa0QsU0FBUyxFQUNUN1csUUFBUSxLMEM1YVJnOEQsc0JVdkJpQyxDQUNqQy9CLGlCQUFBQSxHQUNBZ0Msa0JDTDZCLENBQzdCL3hDLGlCQUFBQSxJREtBNHVDLGlCQUFBQSxHQUNBaEcsZ0JBQUFBLElWb0JBb0osdUJZMUJrQyxDQUNsQ2pDLGlCQUFBQSxHQUNBbkcsaUJBQUFBLElaeUJBcUkseUJhM0JvQyxDQUNwQ2xDLGlCQUFBQSxHQUNBOUYsbUJBQUFBLEliMEJBaUksNEJjNUJ1QyxDQUN2Q25DLGlCQUFBQSxHQUNBdEQsc0JBQUFBLElkMkJBMEYsc0JlN0JpQyxDQUNqQ3BDLGlCQUFBQSxHQUNBbkQsZ0JBQUFBLElmNEJBd0YsMkJnQjlCc0MsQ0FDdENyQyxpQkFBQUEsR0FDQS9DLHFCQUFBQSxJaEI2QkFnRCx1QkFBQUEsR0FDQWIsb0JBQUFBLEdBQ0FuQixrQkFBQUEsR0FDQXFFLGV6Q2xDUyxRQUNRLENBQUMsUUFBUyxVQUFXLFNBQVUsZUFBZ0IsWUFBYSxpQkFBa0IsWUFBYSxrQkFBbUIsZUFBZ0IseUJBQTBCLGVBQWdCLFlBQWEsYUFBYyxlQUFnQixrQkFBbUIsWUFBYSxpQkFBa0IsZUFDbk5qbkQsUUFDL0RwVCxNQUNGQSxFQUNBZy9CLFVBQ0F4YyxzQkFDQTYvQixZQUNBUSxpQkFDQUssWUFDQThELGtCQUNBNUQsZUFDQWlOLHlCQUNBbE4sZUFDQTRWLFlBQ0FqSSxhQUNBZSxlQUNBTyxrQkFDQXVDLFlBQ0FoUSxpQkFDQUwsYUFDQTRULEdBQ0U5a0QsRUF5Q0FxUSxFQUFRempCLEVBL0RILFFBK0RlLENBQ3RCc3dCLE9BQVEsU0FBZ0JncUMsVUFDZkMsRUFBV0QsRUFBWSxLQUVoQ2p1QyxpQkFBa0IsU0FBcUJtdUMsVUFDOUJDLEVBQWNELEVBQWEsS0FFcEN4dkQsaUJBQWtCLFNBQXNCc3ZELEVBQVl2dUQsVUFFM0N3dUQsRUFBV0QsT0FEaUIsSUFBbEJ2dUQsRUFBUXEzQixNQUFzQnIzQixFQUFRcTNCLE1BQVEsS0FHakVzM0IseUJBQTBCRCxlQUdMRCxPQUNqQnp1RCxFQUFVL2YsVUFBVTdNLE9BQVMsUUFBc0IsSUFBakI2TSxVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FDOUUydUUsT0FBK0IsSUFBbEI1dUQsRUFBUXEzQixNQUFzQnIzQixFQUFRcTNCLE1BQVEsVUFFeEQ3WCxHQUFRaXZDLEdBQWEsU0FBVXBxRCxNQUNoQixpQkFBVEEsUUFBeUIsSUFBSW5SLFVBQVUsMEJBQzNDczdELEVBQVducUQsRUFBTXVxRCxVQUt4QkMsRUFDSSxFQURKQSxFQUVTLEVBRlRBLEVBR00sRUFITkEsRUFJTSxFQUpOQSxFQUtPLEVBR1BDLEVBQWEsQ0FDZkMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xqVCxLQUFLLEVBQ0xDLEtBQUssRUFDTGlULEtBQUssRUFDTEMsS0FBTSxFQUNOQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxNQUFNLEVBQ05yVCxLQUFLLEVBQ0xFLEtBQUssRUFDTG9ULE1BQU0sRUFDTmxULEtBQUssRUFDTG1ULEtBQUssRUFDTHRULEtBQUssRUFDTHVULEtBQUssRUFDTEMsTUFBTSxFQUNOQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsT0FBTyxHQUdMQyxFQUFtQixDQUNyQmpnRCxLQUFLLEVBQ0xwYixJQUFJLEVBQ0p1dEMsSUFBSSxFQUNKK2UsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLElBQUksRUFDSmQsS0FBSyxHQUVINFAsRUFBWSxDQUNkelEsTUFBTSxFQUNOQyxPQUFPLEVBQ1A1N0IsS0FBTSxLQUNOaThCLGVBQVcsR0FFVG9RLEVBQW9CLENBQUMsTUFBTyx1QkFnQ1RDLEVBQU81OUUsVUFDckI0OUUsRUFBTXpDLFdBQVc5OEIsT0FBT3UvQixFQUFNbC9FLE1BQU9zQixjQVdwQjQ5RSxVQUNqQkMsRUFBY0QsRUFBTyxjQVVoQkEsS0FDTmwvRSxvQkFTZWsvRSxVQUNkQSxFQUFNekMsV0FBVzdxRCxPQUFPc3RELEVBQU1sL0UsTUFBUSxjQVN4QmsvRSxVQUNkQSxFQUFNekMsV0FBVzdxRCxPQUFPc3RELEVBQU1sL0UsTUFBUSxjQVM3QmsvRSxTQUNWRSxVQUFZckMsSUFDWnNDLE1BQVEsS0FDUjFjLFFBQVUsR0FHVC84QixFQUFNMDVDLGFBQWFDLEVBQWlCTCxHQUFRQSxFQUFNTSxpQkFDbEROLE1BSXlCLE1BQTVCSyxFQUFpQkwsUUFDZ0IsT0FBNUJLLEVBQWlCTCxJQUErQyxLQUE1QkssRUFBaUJMLE1BQ3BEdmMsU0FBVzRjLEVBQWlCTCxLQUM3QkEsTUFLdUIsS0FBNUJLLEVBQWlCTCxPQU9XLE9BQTVCSyxFQUFpQkwsS0FBb0JBLEVBQU1NLHNCQUN2Q0osVUFBWXJDLElBQ1pzQyxNQUFRRSxFQUFpQkwsVUFDMUJBLE9BSUhqM0UsRUFBS3MzRSxFQUFpQkwsR0FDdEJyOEUsRUFBS3M4RSxFQUFjRCxFQUFPLEdBQzFCaDNFLEVBQUtpM0UsRUFBY0QsRUFBTyxNQUVaLElBQWRoM0UsRUFBRzVHLFFBQWdCMDdFLEVBQVc5MEUsWUFDMUJrM0UsVUFBWXJDLElBQ1pzQyxNQUFRbjNFLElBQ1RnM0UsS0FDQUEsVUFDQUEsTUFLVyxJQUFkcjhFLEVBQUd2QixRQUFnQjA3RSxFQUFXbjZFLFlBQzFCdThFLFVBQVlyQyxJQUNac0MsTUFBUXg4RSxJQUNUcThFLFVBQ0FBLE1BS0hsQyxFQUFXLzBFLFlBQ1BtM0UsVUFBWXJDLElBQ1pzQyxNQUFRcDNFLFNBQ1RpM0UsTUFLSHQ1QyxFQUFNNjVDLFdBQVd4M0UsTUFDYm0zRSxVQUFZckMsTUFFZHJiLEVBQUt5ZCxFQUFjRCxFQUFPLE1BRW5CLE9BQVB4ZCxHQUFzQixPQUFQQSxHQUFzQixPQUFQQSxFQUFhLE9BQ3ZDMmQsT0FBU0UsRUFBaUJMLEtBQzNCQSxLQUNDRyxPQUFTRSxFQUFpQkwsS0FDM0JBLEdBRUV0NUMsRUFBTTg1QyxXQUFXSCxFQUFpQkwsT0FDakNHLE9BQVNFLEVBQWlCTCxLQUMzQkEsYUFPdUIsTUFBNUJLLEVBQWlCTCxLQUNiRyxPQUFTRSxFQUFpQkwsS0FDM0JBLEdBRUF0NUMsRUFBTWloQixRQUFRMDRCLEVBQWlCTCxRQUU1QkUsVUFBWXJDLFFBRWYsTUFDRW4zQyxFQUFNaWhCLFFBQVEwNEIsRUFBaUJMLE9BQzlCRyxPQUFTRSxFQUFpQkwsS0FDM0JBLEdBR0h0NUMsRUFBTSs1QyxjQUFjSixFQUFpQkwsR0FBUVUsRUFBY1YsUUFDdkRHLE9BQVNFLEVBQWlCTCxLQUMzQkEsVUFJRnQ1QyxFQUFNaWhCLFFBQVEwNEIsRUFBaUJMLE9BQzlCRyxPQUFTRSxFQUFpQkwsS0FDM0JBLE1BSXlCLE1BQTVCSyxFQUFpQkwsSUFBOEMsTUFBNUJLLEVBQWlCTCxNQUNsRHQ1QyxFQUFNaWhCLFFBQVErNEIsRUFBY1YsS0FBb0MsTUFBekJVLEVBQWNWLElBQTJDLE1BQXpCVSxFQUFjVixHQUFnQixNQUNqR0csT0FBU0UsRUFBaUJMLEtBQzNCQSxHQUUyQixNQUE1QkssRUFBaUJMLElBQThDLE1BQTVCSyxFQUFpQkwsT0FDaERHLE9BQVNFLEVBQWlCTCxLQUMzQkEsS0FJRnQ1QyxFQUFNaWhCLFFBQVEwNEIsRUFBaUJMLFVBQzVCVyxHQUFrQlgsRUFBTyx3QkFBMEJLLEVBQWlCTCxHQUFTLFVBRzlFdDVDLEVBQU1paEIsUUFBUTA0QixFQUFpQkwsT0FDOUJHLE9BQVNFLEVBQWlCTCxLQUMzQkEsTUFHSHQ1QyxFQUFNKzVDLGNBQWNKLEVBQWlCTCxHQUFRVSxFQUFjVixVQUN2RFcsR0FBa0JYLEVBQU8sd0JBQTBCSyxFQUFpQkwsR0FBUyxhQUVuRCxNQUF6QlUsRUFBY1YsV0FDbEJBLEdBQ0NXLEdBQWtCWCxFQUFPLHdCQUEwQkssRUFBaUJMLEdBQVMsZUFRckZ0NUMsRUFBTWs2QyxRQUFRUCxFQUFpQkwsR0FBUWEsRUFBY2IsR0FBUVUsRUFBY1YsV0FnQnpFRSxVQUFZckMsRUFFaUIsS0FBNUJ3QyxFQUFpQkwsTUFDaEJHLE9BQVNFLEVBQWlCTCxLQUMzQkEsU0FHRFcsR0FBa0JYLEVBQU8seUJBQTJCQSxFQUFNRyxNQUFRLFVBdEIvRHo1QyxFQUFNazZDLFFBQVFQLEVBQWlCTCxHQUFRYSxFQUFjYixHQUFRVSxFQUFjVixLQUFXdDVDLEVBQU1paEIsUUFBUTA0QixFQUFpQkwsT0FDcEhHLE9BQVNFLEVBQWlCTCxLQUMzQkEsR0FHSDUvRSxHQUFleS9FLEVBQWtCRyxFQUFNRyxTQUNuQ0QsVUFBWXJDLElBRVpxQyxVQUFZckMsV0FuSWRxQyxVQUFZckMsY0F3Sk9tQyxRQUVoQkEsVUFDYyxPQUFoQkEsRUFBTUcsa0JBU0dILEtBQ1pNLDJCQVFhTixLQUNiTSwyQkFvSFkvQyxFQUFZSyxPQUMxQm9DLEVBMVlHLENBQ0xwQyxXQUFZLEdBRVpMLFdBQVksR0FFWjlaLFFBQVMsR0FFVDNpRSxNQUFPLEVBRVBxL0UsTUFBTyxHQUVQRCxVQUFXckMsRUFFWHlDLGFBQWMsRUFFZFEsaUJBQWtCLFNBNlhYZCxFQUFPLENBQ2R6QyxXQUFBQSxFQUNBSyxXQUFBQSxNQUdPb0MsT0FDTC82QixXQXdCYys2QixPQUNkLzZCLEVBRUFrbEIsRUFEQUgsRUFBUyxHQUdPLEtBQWhCZ1csRUFBTUcsT0FBZ0MsT0FBaEJILEVBQU1HLE9BQWtDLE1BQWhCSCxFQUFNRyxXQUMvQ1ksRUFBZ0JmLElBQ2xCdmMsUUFBVXVjLEVBQU12YyxjQUlBLE9BQWhCdWMsRUFBTUcsT0FBa0MsTUFBaEJILEVBQU1HLE9BRWIsSUFBbEJuVyxFQUFPNW5FLFFBQWdCNmlELE1BQ0MsTUFBaEIrNkIsRUFBTUcsUUFDVGgzRCxLQUFLLENBQ1Y4N0IsS0FBQUEsRUFDQWtsQixRQUFBQSxPQUlLNlYsR0FFVyxPQUFoQkEsRUFBTUcsT0FBa0MsTUFBaEJILEVBQU1HLE9BQWlDLEtBQWhCSCxFQUFNRyxXQUNoRFksRUFBZ0JmLElBQ2xCdmMsUUFBVXVjLEVBQU12YyxVQUNLLE1BQWhCdWMsRUFBTUcsUUFDVGgzRCxLQUFLLENBQ1Y4N0IsS0FBQUEsRUFDQWtsQixRQUFBQSxZQUtGSCxFQUFPNW5FLE9BQVMsRUFDWCxJQUFJNm5FLEVBQVVELElBRWhCL2tCLE9BQ0ksSUFBSXF1QixPQUFhLElBQ25CN1AsUUFBVXVjLEVBQU12YyxTQUdoQnhlLEdBbEVFKzdCLENBQVdoQixNQUdGLEtBQWhCQSxFQUFNRyxZQUNKSCxFQUFNRSxZQUFjckMsRUFHaEI1d0QsR0FBWSt5RCxFQUFPLHVCQUF5QkEsRUFBTUcsT0FFbERRLEdBQWtCWCxFQUFPLG9CQUFzQkEsRUFBTUcsTUFBUSxZQUloRWw3QixhQWtFZ0IrNkIsT0FDbkI5NEQsRUFBTVAsRUFBTS9sQixFQUFPcWdGLEVBQ25CaDhCLFdBbURvQis2QixPQUNwQi82QixXQThCa0IrNkIsT0FDbEIvNkIsRUFBT2k4QixFQUFnQmxCLFFBRUosT0FBaEJBLEVBQU1HLFNBRVNILEtBQ2IsSUFBSTNLLEVBQWEsS0FBTSxLQUFNLENBQUNwd0IsRUFBTWk4QixFQUFnQmxCLFlBR3RELzZCLEVBdkNJazhCLENBQWVuQixRQUVILE1BQWhCQSxFQUFNRyxPQUFlLEtBSXRCcHNELEVBQU9pc0QsRUFBTWMsbUJBQ1hBLGlCQUFtQmQsRUFBTU0sZUFDWE4sT0FDaEJ6VixFQUFZdGxCLEVBQ1p1bEIsRUFBV3VXLEVBQWdCZixNQUNYLE1BQWhCQSxFQUFNRyxZQUFxQlEsR0FBa0JYLEVBQU8sbURBQ2xEYyxpQkFBbUIsT0FDTGQsT0FDaEJ2VixFQUFZc1csRUFBZ0JmLEtBRXpCLElBQUkzWixFQUFnQmtFLEVBQVdDLEVBQVVDLEtBRTFDcVcsaUJBQW1CL3NELFVBR3BCa3hCLEVBekVJbThCLENBQWlCcEIsTUFFUixNQUFoQkEsRUFBTUcsTUFBZSxJQUNuQnYrRCxHQUFhcWpDLFlBRVJBLEVBQUt0aUMsT0FDUXE5RCxLQUNaZSxFQUFnQmYsR0FDakIsSUFBSTdaLEVBQWUsSUFBSWdWLEVBQVdqMEQsR0FBT3RtQixNQUN2Q2tnQixHQUFlbWtDLFlBRUorNkIsS0FDWmUsRUFBZ0JmLEdBQ2pCLElBQUk3WixFQUFlbGhCLEVBQUs5c0MsT0FBUThzQyxFQUFLbmtELE1BQU9GLE1BQzFDMGdCLEdBQWUyakMsSUFBU3JqQyxHQUFhcWpDLEVBQUtyaEMsU0FFM0MsSUFDRCxLQUNBcWhDLEVBQUt0aUMsT0FDUGdFLEtBQUsrQixTQUFRLFNBQVVVLEVBQUt0b0IsR0FDM0I4Z0IsR0FBYXdILEtBQ1Z0b0IsR0FBU3NvQixFQUFJekcsUUFFVixNQUlScytELFlBQ2tCakIsS0FDWmUsRUFBZ0JmLEdBQ2pCLElBQUk1WixFQUF1QmwvQyxFQUFNUCxFQUFNL2xCLFNBSTVDKy9FLEdBQWtCWCxFQUFPLDBEQUcxQi82QixhQStEZ0IrNkIsV0FDbkIvNkIsRUFBT284QixFQUFnQnJCLEdBRUosUUFBaEJBLEVBQU1HLFNBRVNILEtBQ2IsSUFBSTNLLEVBQWEsTUFBTyxNQUFPLENBQUNwd0IsRUFBTW84QixFQUFnQnJCLFlBR3hELzZCLGFBU2dCKzZCLFdBQ25CLzZCLEVBQU9xOEIsRUFBZXRCLEdBRUgsUUFBaEJBLEVBQU1HLFNBRVNILEtBQ2IsSUFBSTNLLEVBQWEsTUFBTyxNQUFPLENBQUNwd0IsRUFBTXE4QixFQUFldEIsWUFHdkQvNkIsYUFTZSs2QixXQUNsQi82QixFQUFPczhCLEVBQWdCdkIsR0FFSixNQUFoQkEsRUFBTUcsU0FFU0gsS0FDYixJQUFJM0ssRUFBYSxJQUFLLFFBQVMsQ0FBQ3B3QixFQUFNczhCLEVBQWdCdkIsWUFHeEQvNkIsYUFTZ0IrNkIsV0FDbkIvNkIsRUFBT3U4QixFQUFnQnhCLEdBRUosT0FBaEJBLEVBQU1HLFNBRVNILEtBQ2IsSUFBSTNLLEVBQWEsS0FBTSxTQUFVLENBQUNwd0IsRUFBTXU4QixFQUFnQnhCLFlBRzFELzZCLGFBU2dCKzZCLFdBQ25CLzZCLEVBQU93OEIsRUFBZ0J6QixHQUVKLE1BQWhCQSxFQUFNRyxTQUVTSCxLQUNiLElBQUkzSyxFQUFhLElBQUssU0FBVSxDQUFDcHdCLEVBQU13OEIsRUFBZ0J6QixZQUd6RC82QixhQVFnQis2QixXQUNuQnQ3RCxFQUFTLENBQUNnOUQsRUFBVzFCLElBQ3JCOUgsRUFBZSxHQUNmeUosRUFBWSxDQUNkdkMsS0FBTSxRQUNOQyxLQUFNLFVBQ05DLElBQUssVUFDTEMsSUFBSyxTQUNMQyxLQUFNLFlBQ05DLEtBQU0sWUFHRHIvRSxHQUFldWhGLEVBQVczQixFQUFNRyxRQUFRLEtBRXpDeUIsRUFBTyxDQUNUai9ELEtBQU1xOUQsRUFBTUcsTUFDWnY4RCxHQUFJKzlELEVBQVUzQixFQUFNRyxVQUVUaDNELEtBQUt5NEQsS0FDRTVCLEtBQ2I3MkQsS0FBS3U0RCxFQUFXMUIsWUFHSCxJQUFsQnQ3RCxFQUFPdGlCLE9BQ0ZzaUIsRUFBTyxHQUNhLElBQWxCQSxFQUFPdGlCLE9BQ1QsSUFBSWl6RSxFQUFhNkMsRUFBYSxHQUFHdjFELEtBQU11MUQsRUFBYSxHQUFHdDBELEdBQUljLEdBRTNELElBQUk2aUQsRUFBZTJRLEVBQWFsMkQsUUFBU3JlLEVBQUVpZ0IsS0FBS2MsY0FVdkNzN0QsT0FDZC82QixFQUFNLzlCLEVBQU10RCxFQUFJYyxJQUNibTlELEVBQWdCN0IsV0FDbkIyQixFQUFZLENBQ2RqQyxLQUFNLFlBQ05DLEtBQU0sa0JBQ05DLE1BQU8saUJBR0Z4L0UsR0FBZXVoRixFQUFXM0IsRUFBTUcsVUFFaEN3QixJQURFM0IsRUFBTUcsU0FFT0gsS0FDWCxDQUFDLzZCLEVBQU00OEIsRUFBZ0I3QixNQUN6QixJQUFJM0ssRUFBYW51RCxFQUFNdEQsRUFBSWMsVUFHN0J1Z0MsYUFTZ0IrNkIsT0FDbkIvNkIsRUFBTS85QixFQUFNdEQsRUFBSWMsSUFDYm85RCxFQUFXOUIsV0FDZDJCLEVBQVksQ0FDZG45RCxHQUFJLEtBQ0p1dEMsR0FBSSxNQUlDM3hELEdBQWV1aEYsRUFBVzNCLEVBQU1HLFVBRWhDd0IsSUFERTNCLEVBQU1HLFNBRU9ILEdBRVAsT0FBVDk0RCxHQUFpQyxLQUFoQjg0RCxFQUFNRyxRQUVsQixJQUFJOUssRUFBYSxJQUFLLFdBQVksQ0FBQ3B3QixFQUFNLElBQUlrMkIsRUFBVyxRQUFRLE1BRzlELENBQUNsMkIsRUFBTTY4QixFQUFXOUIsTUFDcEIsSUFBSTNLLEVBQWFudUQsRUFBTXRELEVBQUljLFdBSS9CdWdDLGFBU1crNkIsT0FDZC82QixFQUNBdmdDLEVBQVMsUUFFTyxNQUFoQnM3RCxFQUFNRyxNQUVELElBQUk3TSxFQUFhLEdBR2pCeU8sRUFBaUIvQixHQUdOLE1BQWhCQSxFQUFNRyxPQUFpQkgsRUFBTWMsbUJBQXFCZCxFQUFNTSxhQUFjLE9BRWpFbjNELEtBQUs4N0IsR0FFVyxNQUFoQis2QixFQUFNRyxPQUFpQno3RCxFQUFPdGlCLE9BQVMsS0FFeEI0OUUsR0FFQSxNQUFoQkEsRUFBTUcsT0FBaUMsTUFBaEJILEVBQU1HLE9BQWlDLE1BQWhCSCxFQUFNRyxPQUFpQyxLQUFoQkgsRUFBTUcsUUFFdEVoM0QsS0FBSyxJQUFJZ3lELEVBQVcsVUFHcEJoeUQsS0FBSzQ0RCxFQUFpQi9CLE1BSVgsSUFBbEJ0N0QsRUFBT3RpQixPQUVGLElBQUl3bEUsRUFBVWxqRCxFQUFPLEdBQUlBLEVBQU8sR0FBSUEsRUFBTyxJQUkzQyxJQUFJa2pELEVBQVVsakQsRUFBTyxHQUFJQSxFQUFPLFlBSXBDdWdDLGFBU2lCKzZCLE9BQ3BCLzZCLEVBQU0vOUIsRUFBTXRELEVBQUljLElBQ2JzOUQsRUFBb0JoQyxXQUN2QjJCLEVBQVksQ0FDZHBELElBQUssTUFDTEMsSUFBSyxZQUdBcCtFLEdBQWV1aEYsRUFBVzNCLEVBQU1HLFVBRWhDd0IsSUFERTNCLEVBQU1HLFNBRU9ILEtBQ1gsQ0FBQy82QixFQUFNKzhCLEVBQW9CaEMsTUFDN0IsSUFBSTNLLEVBQWFudUQsRUFBTXRELEVBQUljLFVBRzdCdWdDLGFBU29CKzZCLE9BQ3ZCLzZCLEVBQU1oL0IsRUFBTWlCLEVBQU10RCxNQUNmcStELEVBQTRCakMsV0FFL0IyQixFQUFZLENBQ2RsRCxJQUFLLFdBQ0xDLEtBQU0sY0FDTkMsSUFBSyxTQUNMQyxLQUFNLFlBQ05yVCxJQUFLLE1BQ0wzckMsSUFBSyxPQUlEeC9CLEdBQWV1aEYsRUFBVzNCLEVBQU1HLFVBRzdCd0IsSUFERTNCLEVBQU1HLFNBRU9ILEtBQ2JpQyxFQUE0QmpDLEtBQzVCLElBQUkzSyxFQUFhbnVELEVBQU10RCxFQUFJLENBQUNxaEMsRUFBTWgvQixXQU10Q2cvQixhQVM0Qis2QixPQUMvQi82QixFQUFNaC9CLFVBQ0hpOEQsRUFBV2xDLEdBSVpBLEVBQU1FLFlBQWNyQyxHQUFvQyxPQUFoQm1DLEVBQU1HLE9BQWtCLytELEdBQWU2akMsTUFBUys2QixFQUFNRSxZQUFjckMsR0FBcUJ6OEQsR0FBZTZFLElBQVd4RSxHQUFld0UsSUFBcUIsTUFBWkEsRUFBS2t2RCxLQUErQixNQUFoQjZLLEVBQU1HLFNBTXhNK0IsRUFBV2xDLEtBQ1gsSUFBSTNLLEVBQWEsSUFBSyxXQUFZLENBQUNwd0IsRUFBTWgvQixJQUFPLFVBUXBEZy9CLGFBV1crNkIsV0FDZC82QixFQUFPazlCLEdBQVduQyxHQUNsQi81RCxFQUFPZy9CLEVBQ1BtOUIsRUFBYyxHQUlJLE1BQWhCcEMsRUFBTUcsT0FBaUIvK0QsR0FBZTZFLElBRi9CLE1BSUdrRCxLQUFLd21DLEdBQVMsR0FBSXF3QixNQUNWQSxHQUVoQkEsRUFBTUUsWUFBY3JDLEVBcUJqQixJQUVJbUMsRUFBT29DLEVBQVlqeEQsa0JBckJoQmhJLEtBQUt3bUMsR0FBUyxHQUFJcXdCLE1BQ1ZBLEdBRWhCQSxFQUFNRSxZQUFjckMsR0FBb0MsTUFBaEJtQyxFQUFNRyxNQVEzQyxHQUVPaHZELFNBRUg2dUQsRUFBT29DLEVBQVlqeEQsZ0JBVG5CNnVELEVBQU9vQyxFQUFZanhELFNBRWhCQSxRQUNMZ3hELEdBQVduQyxLQUNYLElBQUkzSyxFQUFhLElBQUssU0FBVSxDQUFDcHdCLEVBQU1oL0IsWUFvQi9DZy9CLGNBU1crNkIsT0FDZDk0RCxFQUFNeEMsRUFBUWQsRUFDZCs5RCxFQUFZLENBQ2RuRCxJQUFLLGFBQ0xELElBQUssWUFDTDVTLElBQUssU0FDTHVFLElBQUssY0FHSDl2RSxHQUFldWhGLEVBQVczQixFQUFNRyxVQUM3QndCLEVBQVUzQixFQUFNRyxTQUNkSCxFQUFNRyxRQUNPSCxLQUNYLENBQUNtQyxHQUFXbkMsSUFDZCxJQUFJM0ssRUFBYW51RCxFQUFNdEQsRUFBSWMsYUFhcEJzN0QsT0FDWi82QixFQUFNLzlCLEVBQU10RCxFQUFJYyxhQXFCVXM3RCxPQUMxQi82QixFQUFNLzlCLEVBQU10RCxhQWdEUW84RCxPQUNwQnQ3RCxFQUFTLE1BRVRzN0QsRUFBTUUsWUFBY3JDLEdBQW9CejlFLEdBQWU0L0UsRUFBTXBDLFdBQVlvQyxFQUFNRyxPQUFRLEtBQ3JGa0MsRUFBYXJDLEVBQU1wQyxXQUFXb0MsRUFBTUcsWUFDL0JILEdBRVcsTUFBaEJBLEVBQU1HLE1BQWUsTUFDZCxLQUNFSCxLQUNGQSxHQUVXLE1BQWhCQSxFQUFNRyxZQUNEaDNELEtBQUs0M0QsRUFBZ0JmLElBRUwsTUFBaEJBLEVBQU1HLFNBRUZILEtBQ0Y3MkQsS0FBSzQzRCxFQUFnQmYsT0FJWixNQUFoQkEsRUFBTUcsWUFDRlEsR0FBa0JYLEVBQU8sNEJBR3JCQSxLQUNIQSxXQUtKLElBQUlxQyxFQUFXMzlELG1CQVlMczdELE9BQ1Q5NEQsS0FFTjg0RCxFQUFNRSxZQUFjckMsR0FBb0JtQyxFQUFNRSxZQUFjckMsR0FBdUJtQyxFQUFNRyxTQUFTTixXQUM3RkcsRUFBTUcsUUFDSkgsR0FhRnNDLEdBQWV0QyxFQVhsQjUvRSxHQUFlMC9FLEVBQVc1NEQsR0FFckIsSUFBSW9zRCxFQUFhd00sRUFBVTU0RCxTQUN6QjY0RCxFQUFrQnA4RCxRQUFRdUQsR0FFNUIsSUFBSW9zRCxFQUFhbnhCLEVBQVFqN0IsRUFBTSxXQUUvQixJQUFJaTBELEVBQVdqMEQsb0JBNEdLODRELE9BQ3JCOTdELEtBRVUsTUFBaEI4N0QsRUFBTUcsZUFDRm9DLEdBQTZCdkMsR0FJNUJzQyxHQUFldEMsRUFGZixJQUFJMU0sRUFBYXB2RCxvQkE2Q0s4N0QsT0FDckI5N0QsS0FFVSxNQUFoQjg3RCxFQUFNRyxlQUNGcUMsR0FBNkJ4QyxHQUk1QnNDLEdBQWV0QyxFQUZmLElBQUkxTSxFQUFhcHZELG9CQTZDUDg3RCxPQUNmNThFLEVBQU9zaEIsRUFBUXVwQixFQUFNbVEsS0FFTCxNQUFoQjRoQyxFQUFNRyxNQUFlLE1BRVpILEtBQ0ZBLEdBRVcsTUFBaEJBLEVBQU1HLE1BQWUsS0FFbkJydkMsRUFBTTJ4QyxHQUFTekMsTUFFQyxNQUFoQkEsRUFBTUcsTUFBZSxPQUVoQixJQUNFLENBQUNydkMsR0FFYSxNQUFoQmt2QyxFQUFNRyxTQUVGSCxLQUNGL3hDLEdBQVF3MEMsR0FBU3pDLFVBSU4sTUFBaEJBLEVBQU1HLFlBQ0ZRLEdBQWtCWCxFQUFPLDhCQUdyQkEsS0FDSEEsS0FFRnQ3RCxFQUFPLEdBQUdtaEQsTUFBTXpqRSxlQUVkOEgsRUFBSSxFQUFHQSxFQUFJK2pDLEVBQU0vakMsT0FDcEJ3YSxFQUFPeGEsR0FBRzI3RCxNQUFNempFLFNBQVdnOEMsUUFDdkJueEIsR0FBWSt5RCxFQUFPLCtCQUFzQ3Q3RCxFQUFPeGEsR0FBRzI3RCxNQUFNempFLE9BQVMsUUFBVWc4QyxFQUFPLE9BSXJHLElBQUkwbkIsRUFBVXBoRCxTQUNqQixJQUVlLE1BQWhCczdELEVBQU1HLFlBQ0ZRLEdBQWtCWCxFQUFPLDhCQUdyQkEsS0FDSEEsS0FDRGx2QyxXQUlFa3ZDLEtBQ0hBLEtBQ0QsSUFBSWxhLEVBQVUsV0FHakJ3YyxHQUFldEMsRUFBTzU4RSxtQkFnQ1o0OEUsTUFDQyxNQUFoQkEsRUFBTUcsTUFBZSxLQUVuQjk5RCxJQURPMjlELE9BRVAzcUQsRUFBYSxXQUdOMnFELEdBRVcsTUFBaEJBLEVBQU1HLE1BQWUsSUFFSCxNQUFoQkgsRUFBTUcsUUFDRm9DLEdBQTZCdkMsV0FDVixNQUFoQkEsRUFBTUcsUUFDVHFDLEdBQTZCeEMsY0FDMUJBLEVBQU1FLFlBQWNyQyxHQUFvQm1DLEVBQU1FLFlBQWNyQyxHQUF1Qm1DLEVBQU1HLFNBQVNOLFNBSXJHYyxHQUFrQlgsRUFBTyw2Q0FIekJBLEVBQU1HLFFBQ0hILE9BTVMsTUFBaEJBLEVBQU1HLFlBQ0ZRLEdBQWtCWCxFQUFPLHVDQUd4QkEsS0FFRTM5RCxHQUFPMCtELEVBQWdCZixXQUViLE1BQWhCQSxFQUFNRyxVQUdLLE1BQWhCSCxFQUFNRyxZQUNGUSxHQUFrQlgsRUFBTyxzREFHckJBLEtBQ0hBLE9BQ0wvNkIsRUFBTyxJQUFJNnZCLEVBQVd6L0MsWUFFbkJpdEQsR0FBZXRDLEVBQU8vNkIsbUJBYVorNkIsT0FDZjBDLEtBRUExQyxFQUFNRSxZQUFjckMsV0FFVm1DLEVBQU1HLFFBQ1RILEdBQ0YsSUFBSTFNLEVBQWFueEIsRUFBUXVnQyxFQUFXMThDLEVBQU9zTix5QkFZNUIwc0MsT0FDcEIvNkIsS0FFZ0IsTUFBaEIrNkIsRUFBTUcsTUFBZSxNQUVaSCxLQUNGQSxLQUNGZSxFQUFnQmYsR0FFSCxNQUFoQkEsRUFBTUcsWUFDRlEsR0FBa0JYLEVBQU8sbUNBR3JCQSxLQUNIQSxLQUVGc0MsR0FBZXRDLElBRGYsSUFBSXBJLEVBQWdCM3lCLG9CQWNiKzZCLFNBQ0ksS0FBaEJBLEVBQU1HLE1BRUZRLEdBQWtCWCxFQUFPLGdDQUV6QlcsR0FBa0JYLEVBQU8sa0JBZDFCMkMsQ0FBUzNDLEdBN0JUNEMsQ0FBaUI1QyxHQW5CakIzM0IsQ0FBWTIzQixHQTNFWjZDLENBQVk3QyxHQW5HWjhDLENBQVk5QyxHQW5EWitDLENBQXdCL0MsR0FoSHhCZ0QsQ0FBd0JoRCxHQS9CeEJpRCxDQUFZakQsR0FsRlprRCxDQUFpQmxELE9BQ3BCMkIsRUFBWSxDQUNkN0MsSUFBSyxZQUNMVCxJQUFNLG1CQUdEaitFLEdBQWV1aEYsRUFBVzNCLEVBQU1HLFVBRWhDd0IsSUFERTNCLEVBQU1HLFNBRUpILEtBR0ZzQyxHQUFldEMsSUFEZixJQUFJM0ssRUFBYW51RCxFQUFNdEQsRUFEckIsQ0FBQ3FoQyxZQUtMQSxFQXJDQWsrQixDQUF1Qm5ELElBRVYsTUFBaEJBLEVBQU1HLE9BQWlDLE9BQWhCSCxFQUFNRyxXQUVqQixTQURQSCxFQUFNRyxPQUNPLE1BQVEsV0FDUkgsS0FDWCxDQUFDLzZCLEVBQU1rOUIsR0FBV25DLE1BRXBCLElBQUkzSyxFQUFhbnVELEVBQU10RCxFQUFJYyxXQUc3QnVnQyxFQXZCQW0rQixDQUFTcEQsZUFxS01BLEVBQU8vNkIsRUFBTS9oQyxXQUMvQndCLElBRW9CLFFBQVZ5N0QsT0FBaUMsTUFBaEJILEVBQU1HLE9BQWlDLE1BQWhCSCxFQUFNRyxPQUFvQmo5RCxRQUFTQSxFQUFNUyxRQUFRcThELEVBQU1HLGNBRWxHLEdBRVcsTUFBaEJILEVBQU1HLE1BQWUsS0FDbkJ2K0QsR0FBYXFqQyxLQUFTbmtDLEdBQWVta0MsVUEwQmhDQSxPQXhCSSs2QixLQUNGQSxHQUVXLE1BQWhCQSxFQUFNRyxZQUNEaDNELEtBQUs0M0QsRUFBZ0JmLElBRUwsTUFBaEJBLEVBQU1HLFNBRUZILEtBQ0Y3MkQsS0FBSzQzRCxFQUFnQmYsT0FJWixNQUFoQkEsRUFBTUcsWUFDRlEsR0FBa0JYLEVBQU8sNEJBR3JCQSxLQUNIQSxLQUNGLElBQUloRSxFQUFhLzJCLEVBQU12Z0MsWUFPUCxNQUFoQnM3RCxFQUFNRyxNQUFlLE1BRW5CSCxLQUNGQSxHQUVXLE1BQWhCQSxFQUFNRyxZQUNEaDNELEtBQUs0M0QsRUFBZ0JmLElBRUwsTUFBaEJBLEVBQU1HLFNBRUZILEtBQ0Y3MkQsS0FBSzQzRCxFQUFnQmYsT0FJWixNQUFoQkEsRUFBTUcsWUFDRlEsR0FBa0JYLEVBQU8sNEJBR3JCQSxLQUNIQSxLQUNGLElBQUkxYSxFQUFhcmdCLEVBQU0sSUFBSTh1QixFQUFVcnZELFVBQ3ZDLE1BRUlzN0QsR0FFTEEsRUFBTUUsWUFBY3JDLFFBQ2hCOEMsR0FBa0JYLEVBQU8sc0NBRzFCNzJELEtBQUssSUFBSW1xRCxFQUFhME0sRUFBTUcsVUFDMUJILEtBRUYsSUFBSTFhLEVBQWFyZ0IsRUFBTSxJQUFJOHVCLEVBQVVydkQsR0FEMUIsWUFLZnVnQyxjQTZCNkIrNkIsV0FDaEM5N0QsRUFBTSxHQUV5QixLQUE1Qm04RCxFQUFpQkwsSUFBNkMsTUFBNUJLLEVBQWlCTCxJQUN4QixPQUE1QkssRUFBaUJMLFFBR1pLLEVBQWlCTCxLQUNuQkEsT0FHQUssRUFBaUJMLEtBQ25CQSxRQUdFQSxHQUVXLE1BQWhCQSxFQUFNRyxZQUNGUSxHQUFrQlgsRUFBTyxxQ0FHeEJBLEdBQ0YxckMsS0FBSzVOLE1BQU0sSUFBTXhpQixFQUFNLGlCQTZCTTg3RCxXQUNoQzk3RCxFQUFNLEdBRXlCLEtBQTVCbThELEVBQWlCTCxJQUE2QyxNQUE1QkssRUFBaUJMLElBQ3hCLE9BQTVCSyxFQUFpQkwsUUFHWkssRUFBaUJMLEtBQ25CQSxPQUdBSyxFQUFpQkwsS0FDbkJBLFFBR0VBLEdBRVcsTUFBaEJBLEVBQU1HLFlBQ0ZRLEdBQWtCWCxFQUFPLHFDQUd4QkEsR0FDRjFyQyxLQUFLNU4sTUFBTSxJQUFNeGlCLEVBQU0saUJBNkVkODdELFdBQ1p0N0QsRUFBUyxDQUFDcThELEVBQWdCZixJQUMxQjEzRSxFQUFNLEVBRWEsTUFBaEIwM0UsRUFBTUcsU0FFRkgsS0FFRjEzRSxHQUFPeTRFLEVBQWdCZixjQUl6QixJQUFJbGEsRUFBVXBoRCxlQTJJVnM3RCxVQUNKQSxFQUFNbC9FLE1BQVFrL0UsRUFBTUcsTUFBTS85RSxPQUFTLGNBV2pCNDlFLEVBQU9udEQsT0FDNUJsdkIsRUFBSTAvRSxHQUFJckQsR0FDUi96RSxFQUFRLElBQUk2WixZQUFZK00sRUFBVSxVQUFZbHZCLEVBQUksY0FDaEQyL0UsS0FBTzMvRSxFQUNOc0ksY0FXWSt6RSxFQUFPbnRELE9BQ3RCbHZCLEVBQUkwL0UsR0FBSXJELEdBQ1IvekUsRUFBUSxJQUFJNlosWUFBWStNLEVBQVUsVUFBWWx2QixFQUFJLGNBQ2hEMi9FLEtBQU8zL0UsRUFDTnNJLFdBL3ZDSDIwRSxRQUFVLFNBQWlCajlFLEVBQUc0L0UsRUFBT0MsVUFDbEM5OEMsRUFBTSs4QyxvQkFBb0I5L0UsSUFBTStpQyxFQUFNZzlDLGtCQUFrQi8vRSxFQUFHNi9FLElBQVU5OEMsRUFBTWc5QyxrQkFBa0JILEVBQU81L0UsTUFTdkc4L0Usb0JBQXNCLFNBQTZCOS9FLFVBQ2hELHNEQUFzRGlmLEtBQUtqZixNQW1COUQrL0Usa0JBQW9CLFNBQTJCbitFLEVBQU1ELFVBQ2xELGFBQWFzZCxLQUFLcmQsSUFBUyxvQkFBb0JxZCxLQUFLdGQsSUFBUSwyS0FBMktzZCxLQUFLdGQsTUFVL084NkUsYUFBZSxTQUFzQno4RSxFQUFHMjhFLFVBRS9CLE1BQU4zOEUsR0FBbUIsT0FBTkEsR0FBb0IsT0FBTkEsR0FBYzI4RSxFQUFlLEtBVzNERyxjQUFnQixTQUF1Qjk4RSxFQUFHNi9FLFVBQ2pDLE1BQU43L0UsR0FBdUIsTUFBVjYvRSxHQUEyQixNQUFWQSxHQUEyQixNQUFWQSxLQVNsRGpELFdBQWEsU0FBb0I1OEUsVUFDOUJBLEdBQUssS0FBT0EsR0FBSyxLQUFhLE1BQU5BLEtBUzNCZ2tELFFBQVUsU0FBaUJoa0QsVUFDeEJBLEdBQUssS0FBT0EsR0FBSyxPQVNwQjY4RSxXQUFhLFNBQW9CNzhFLFVBQzlCQSxHQUFLLEtBQU9BLEdBQUssS0FBT0EsR0FBSyxLQUFPQSxHQUFLLEtBQU9BLEdBQUssS0FBT0EsR0FBSyxLQTZxQ25FK2lDLE13Q25zRFB1eUMsa0JBQUFBLEdBQ0EwSyxrQmtCUlMsV0FDUSxDQUFDLFFBQVMsVUFDMkN0dEQsUUFDbEVwVCxNQUNGQSxRQUNBeWpCLEdBQ0VyUSxTQWtDR3BULEVBeENFLFdBd0NVLENBQ2pCc3dCLE9BQVEsU0FBZ0Jtd0IsVUFFZmg5QixFQUFNZzlCLEdBQU1GLFVBQVVELFNBRGpCLEtBR2R0MUMsaUJBQWtCLFNBQXNCeTFDLEVBQU12dUMsVUFDckN1UixFQUFNZzlCLEdBQU1GLFVBQVVELFNBQVNwdUMsSUFFeENtYSxpQkFBa0IsU0FBcUJvMEIsT0FDakN2dUMsRUFBUSxVQUNMcVosR0FBUWsxQixHQUFNLFNBQVVwZ0QsVUFDdEJvakIsRUFBTXBqQixHQUFPa2dELFVBQVVELFNBQVNwdUMsT0FHM0N3b0QseUJBQTBCLFNBQTJCamEsRUFBTXZ1QyxVQUNsRHFaLEdBQVFrMUIsR0FBTSxTQUFVcGdELFVBQ3RCb2pCLEVBQU1wakIsR0FBT2tnRCxVQUFVRCxTQUFTcHVDLGVDL0NmLENBQzlCbWxELHlCQUFBQSxHQUNBcEIsd0JBQUFBLEdBQ0EwSyxnQkNBMkIsQ0FDM0JwSyxnQkFBQUEsR0FDQUMsc0JBQUFBLEdBQ0FvSyxnQkNOMkIsQ0FDM0JDLGdCQ00yQixDQUMzQi9LLHdCQUFBQSxHQUNBZ0wsZ0JDWjJCLENBQzNCQywwQkNGcUMsQ0FDckM5SixtQkFBQUEsR0FDQStKLG9CQ0QrQixDQUMvQmxMLHdCQUFBQSxHQUNBTyxtQkFBQUEsR0FDQUwsa0JBQUFBLEdBQ0F4MEIsY0FBQUEsSURGQUUseUJBQUFBLElEQUE4MEIsc0JBQUFBLEdBQ0FQLHdCQUFBQSxHQUNBbnpCLGVBQUFBLElEU0FvekIseUJBQUFBLEdBQ0FLLGdCQUFBQSxHQUNBQyxzQkFBQUEsR0FDQWEseUJBQUFBLEdBQ0FwQix3QkFBQUEsR0FDQWdCLG1CQUFBQSxHQUNBWixtQkFBQUEsR0FDQU0sMkJBQUFBLEdBQ0FLLHFCQUFBQSxHQUNBaEIsa0JBQUFBLEdBQ0FNLHVCQUFBQSxHQUNBMkssYUk5QlMsTUFDUSxDQUFDLFFBQVMsU0FBVSxNQUFPLFlBQWEsZUFBZ0IsaUJBQWtCLFdBQVksU0FBVSxjQUFlLGFBQWMsY0FBZSxlQUFnQixRQUM1Rzd0RCxRQUM3RHBULE1BQ0ZBLFNBQ0F4TSxFQUNBL1QsZ0JBQ0E2VSxlQUNBbFYsaUJBQ0FaLFdBQ0FtbEQsU0FDQS9CLGNBQ0F4VSxhQUNBK0wsY0FDQTVsQixlQUNBOFosTUFDQTBWLEdBQ0UzdkIsU0E0QkdwVCxFQTdDRSxNQTZDVSxDQUNqQnVULFlBQWEsU0FBcUI5MEIsVUFDekJ5aUYsRUFBVXppRixJQUVuQjR1QyxhQUFjLFNBQXNCNXVDLG1CQXFNbEJBLE9BcUJkeUMsRUFBR29XLEVBQUc4ZSxFQW5CTjRVLEVBQU92c0MsRUFBRTJxQyxNQUFNLEdBQ2Y2QixFQUFVeHNDLEVBQUUycUMsTUFBTSxHQUVsQjduQyxFQUFJM0MsS0FBS0MsSUFBSW1zQyxFQUFNQyxHQUVuQm1ELEVBQVMzdkMsRUFBRTh1QyxRQUNYMXZDLEVBQVFZLEVBQUUrdUMsT0FDVkUsRUFBTWp2QyxFQUFFZ3ZDLEtBRVIwekMsRUFBVSxHQUNWQyxFQUFTLEdBQ1RDLEVBQU8sR0FDUEMsRUFBUSxDQUFDdDJDLEVBQU16cEMsR0FFZmdnRixFQUFVLEdBQ1ZDLEVBQVMsR0FDVEMsRUFBTyxHQUNQQyxFQUFRLENBQUNuZ0YsRUFBRzBwQyxHQUlaMDJDLEVBQU8sR0FDUEMsRUFBTyxPQUVOMWdGLEVBQUksRUFBR0EsRUFBSThwQyxFQUFNOXBDLE1BQ2ZBLEdBQUtBLElBQ0xBLEdBQUtBLE1BSVIyZ0YsRUFBYyxTQUFxQnJrRixFQUFHQyxPQUVwQ3V5QyxFQUFLNHhDLEVBQUtwa0YsR0FDVnl5QyxFQUFLMnhDLEVBQUtua0YsS0FFVHV5QyxHQUFNdnlDLElBQ053eUMsR0FBTXp5QyxJQUVOQSxHQUFLeXlDLElBQ0x4eUMsR0FBS3V5QyxJQUlSKy9CLEVBQVEsZUFFTitSLEVBQU0sSUFBSS8rQixFQUVWenJDLEVBQUkwekIsTUFFRDlrQixLQUFLaTdELEVBQVFoaUYsVUFFVittQixLQUFLLEtBQ05BLEtBQUs1TyxNQUlUNE8sS0FBS3E3RCxFQUFRcGlGLFlBRWRtdkMsRUFBS1osRUFBSXAyQixHQUNUaTNCLEVBQUtiLEVBQUlwMkIsRUFBSSxPQUVaOGUsRUFBSWtZLEVBQUlsWSxFQUFJbVksRUFBSW5ZLE1BRWZ2NEIsRUFBTXU0QixLQUVOM3lCLElBQUlrK0UsRUFBS3pnRixHQUFJa3RDLEVBQU9oWSxJQUl0QjllLEVBQUksS0FFRm1PLFFBQVEsRUFBR25PLEVBQUksR0FBRyxTQUFVeXFFLEVBQUdDLEtBRXBCanlDLFlBQVlneUMsRUFBR1osRUFBU0MsRUFBUUMsR0FBTSxTQUFVNy9DLEVBQUd5Z0QsR0FFMUR6Z0QsRUFBSXVnRCxLQUVGNytCLFdBQVcxaEIsRUFBRzJYLEVBQVczNkMsRUFBZXlqRixFQUFLRCxpQkFPckR2aEQsRUFBS25wQixFQUNMNHFFLEVBQU1KLEVBQUloNUMsSUFBSXh4QixHQUNkNnFFLEVBQVF6K0MsRUFBSXcrQyxLQUVaejhELFFBQVFuTyxFQUFJLEVBQUcwekIsRUFBTyxHQUFHLFNBQVV4dEMsRUFBR1EsT0FFcENva0YsRUFBTzErQyxFQUFJMWxDLEdBRVg0akQsRUFBT3dnQyxFQUFNRCxPQUVWM2tGLElBRUc0a0YsSUFFRnBrRixPQUlOc1osSUFBTW1wQixNQUVLNEssVUFBVS96QixFQUFHbXBCLEVBQUk2Z0QsRUFBTSxHQUFJSCxFQUFTQyxFQUFRQyxLQUc1Q2gyQyxVQUFVL3pCLEVBQUdtcEIsRUFBSWloRCxFQUFNLEdBQUlILEVBQVNDLEVBQVFDLEtBR3JEcCtCLEtBQUsvckMsRUFBR21wQixLQUVBbnBCLEVBQUdtcEIsTUFJYmhiLFFBQVEsRUFBR3VsQixFQUFPLEdBQUcsU0FBVXh0QyxFQUFHUSxHQUVoQ1IsR0FBSzhaLEtBRUM0TyxLQUFLbG9CLEtBQ05rb0IsS0FBSzFvQixPQUdSNEIsRUFBYXBCLEVBQUdra0YsR0FFZjkwQyxFQUFZcHZDLEVBQUcsT0FFVmtvQixLQUFLbG9CLEtBQ05rb0IsS0FBSzFvQixlQU1mOFosRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsaUJBS3BCNE8sS0FBS3E3RCxFQUFRcGlGLFVBQ2IrbUIsS0FBS2k3RCxFQUFRaGlGLFFBRVgsQ0FDTDR3RCxFQUFHLElBQUkxaUIsRUFBYSxDQUNsQk0sT0FBUXd6QyxFQUNSdGpGLE1BQU91akYsRUFDUDF6QyxJQUFLMnpDLEVBQ0wvNEMsS0FBTWc1QyxJQUVSZSxFQUFHLElBQUloMUMsRUFBYSxDQUNsQk0sT0FBUTR6QyxFQUNSMWpGLE1BQU8yakYsRUFDUDl6QyxJQUFLK3pDLEVBQ0xuNUMsS0FBTW81QyxJQUVScGtGLEVBQUdxa0YsRUFDSHhnRixTQUFVLGtCQUNELE1BQVF6RCxLQUFLcXlELEVBQUU1dUQsV0FBYSxRQUFVekQsS0FBSzJrRixFQUFFbGhGLFdBQWEsUUFBVXpELEtBQUtKLElBcFczRWdsRixDQUFXN2pGLElBRXBCb2QsTUFBTyxTQUFleGQsT0FJaEI0SSxFQUFJaTZFLEVBRkExdEUsRUFBT25WLFdBS1IsQ0FDTDB4RCxFQUFHOW9ELEVBQUU4b0QsRUFBRS93QyxVQUNQcWpFLEVBQUdwN0UsRUFBRW83RSxFQUFFcmpFLFVBQ1AxaEIsRUFBRzJKLEVBQUUzSixpQkFLUW1CLE9BZWJ5QyxFQUFHb1csRUFBRzhlLEVBYk40VSxFQUFPdnNDLEVBQUUycUMsTUFBTSxHQUNmNkIsRUFBVXhzQyxFQUFFMnFDLE1BQU0sR0FFbEI3bkMsRUFBSTNDLEtBQUtDLElBQUltc0MsRUFBTUMsR0FFbkJ4bUIsRUFBTzNGLEdBQU1yZ0IsRUFBRTBxQyxPQUVmbzVDLEVBQVEsR0FDUmpCLEVBQVEsQ0FBQ3QyQyxFQUFNenBDLEdBRWZpaEYsRUFBUSxHQUNSZCxFQUFRLENBQUNuZ0YsRUFBRzBwQyxHQUlaM3RDLEVBQUksT0FFSDRELEVBQUksRUFBR0EsRUFBSThwQyxFQUFNOXBDLE1BQ2xCQSxHQUFLQSxNQUlKb1csRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsSUFBSyxJQUV4QkEsRUFBSSxNQUVEcFcsRUFBSSxFQUFHQSxFQUFJOHBDLEVBQU05cEMsSUFBSyxLQUVyQm5DLEVBQU1ILEtBQUtDLElBQUlxQyxFQUFHb1csR0FFbEJsWixFQUFJLE1BRUhnNEIsRUFBSSxFQUFHQSxFQUFJcjNCLEVBQUtxM0IsTUFFZjloQixFQUFVbFcsRUFBR0ksRUFBZWltQixFQUFLdmpCLEdBQUdrMUIsR0FBSTNSLEVBQUsyUixHQUFHOWUsT0FHakRwVyxHQUFHb1csR0FBS3FzQyxFQUFTbC9CLEVBQUt2akIsR0FBR29XLEdBQUlsWixRQUtsQ3FpQyxFQUFLbnBCLEVBQ0w2cUUsRUFBUSxFQUNSRCxFQUFNLE1BRUxoaEYsRUFBSW9XLEVBQUdwVyxFQUFJOHBDLEVBQU05cEMsSUFBSyxLQUVyQmxELEVBQUl5bUIsRUFBS3ZqQixHQUFHb1csR0FFWjhxRSxFQUFPMStDLEVBQUkxbEMsR0FFWDRqRCxFQUFPd2dDLEVBQU1ELE9BRVZqaEYsSUFFR2toRixJQUVGcGtGLE9BS05zWixJQUFNbXBCLE1BRU5ucEIsR0FBSyxDQUFDaGEsRUFBRW1qQyxHQUFLbmpDLEVBQUVtakMsR0FBTW5qQyxFQUFFZ2EsSUFBSSxLQUVqQit6QixVQUFVL3pCLEVBQUdtcEIsRUFBSWhjLElBSTNCbk4sRUFBSTB6QixNQUVEOXBDLEVBQUlvVyxFQUFJLEVBQUdwVyxFQUFJOHBDLEVBQU05cEMsSUFBSyxLQUV6QnVoRixFQUFNaCtELEVBQUt2akIsR0FBR29XLEdBRWI4MUIsRUFBWXExQyxFQUFLLE9BRWZ2aEYsR0FBR29XLEdBQUtsWSxFQUFhcWxCLEVBQUt2akIsR0FBR29XLEdBQUk0cUUsVUFPekM1cUUsRUFBSSxFQUFHQSxFQUFJMnpCLEVBQVMzekIsUUFFbEJwVyxFQUFJLEVBQUdBLEVBQUk4cEMsRUFBTTlwQyxJQUVWLElBQU5vVyxJQUVFcFcsRUFBSStwQyxNQUVBL3BDLEdBQUssTUFJUEEsR0FBSyxJQUlUQSxFQUFJb1csR0FFRnBXLEVBQUkrcEMsTUFFQS9wQyxHQUFHb1csR0FBS21OLEVBQUt2akIsR0FBR29XLElBSXBCQSxFQUFJMHpCLE1BRUE5cEMsR0FBR29XLEdBQUssSUFPZHBXLElBQU1vVyxHQWlCTnBXLEVBQUkrcEMsTUFFQS9wQyxHQUFHb1csR0FBSyxHQUlaQSxFQUFJMHpCLE1BRUE5cEMsR0FBR29XLEdBQUttTixFQUFLdmpCLEdBQUdvVyxNQXZCbEJwVyxFQUFJK3BDLE1BRUEvcEMsR0FBR29XLEdBQUttTixFQUFLdmpCLEdBQUdvVyxJQUlwQkEsRUFBSTB6QixNQUVBOXBDLEdBQUdvVyxHQUFLLFFBcUJsQjdQLEVBQUksSUFBSThyQixFQUFZLENBQ3RCOU8sS0FBTTg5RCxFQUNOajZDLEtBQU1nNUMsSUFHSjlnRCxFQUFJLElBQUlqTixFQUFZLENBQ3RCOU8sS0FBTSs5RCxFQUNObDZDLEtBQU1vNUMsSUFHSnZ6QyxFQUFLLE9BRUpqdEMsRUFBSSxFQUFHSyxFQUFJakUsRUFBRTZCLE9BQVErQixFQUFJSyxFQUFHTCxNQUM1QjVELEVBQUU0RCxJQUFNQSxTQUlOLENBQ0w2dUQsRUFBR3RvRCxFQUNINDZFLEVBQUc3aEQsRUFDSGxqQyxFQUFHNndDLEVBQ0hodEMsU0FBVSxrQkFDRCxNQUFRekQsS0FBS3F5RCxFQUFFNXVELFdBQWEsUUFBVXpELEtBQUsya0YsRUFBRWxoRixXQUFhLFFBQVV6RCxLQUFLSixTTHRPdEYrNEUsbUJBQUFBLEdBQ0FRLHFCQUFBQSxHQUNBRyxxQkFBQUEsR0FDQWhCLGtCQUFBQSxHQUNBTSx1QkFBQUEsR0FDQW9NLGFNZFMsTUFDUSxDQUFDLFFBQVMsU0FBVSxXQUFZLFdBQVksYUFBYyxRQUNWdHZELFFBQzdEcFQsTUFDRkEsU0FDQXhNLFdBQ0Ftd0MsV0FDQTFNLGFBQ0FrQyxNQUNBd3BDLEdBQ0V2dkQsU0EyQkdwVCxFQXJDRSxNQXFDVSxDQUNqQmsrQixJQUFLLFNBQWExZ0QsVUFDVHNoQixHQUFNdGhCLElBRWY2dUMsaUJBQWtCLFNBQWE3dUMsT0FDekJ1VyxZQUVBcUosR0FBUzVmLEdBQ0pBLEVBQUU4cUMsT0FDQXpzQixNQUFNc0IsUUFBUTNmLE1BQ25CZ1csRUFBT2hXLElBQ0Y4cUMsT0FHRixJQUdJbnBDLGFBQ04sU0FFSTJmLEdBQU10aEIsUUFFVixLQUVhLElBQVp1VyxFQUFLLFVBQ0ErSyxHQUFNdGhCLEVBQUV3aEIsVUFBVSxVQUVuQixJQUFJOFQsV0FBVyxnQ0FBdUN2RCxHQUFPeGIsR0FBUSxVQUcxRSxNQUdHaTNCLEVBQU9qM0IsRUFBSyxNQUdaaTNCLElBRk9qM0IsRUFBSyxtQkF3Qlo2dUUsRUFBUTUzQyxFQUFNbVEsTUFDYixJQUFUblEsU0FFS2xzQixHQUFNOGpFLEVBQU8sR0FBRyxPQUNMLElBQVQ1M0MsU0FHRjJZLEVBQVMxTSxFQUFTMnJDLEVBQU8sR0FBRyxHQUFJQSxFQUFPLEdBQUcsSUFBSzNyQyxFQUFTMnJDLEVBQU8sR0FBRyxHQUFJQSxFQUFPLEdBQUcsYUFHbkZDLEVBQVNGLEVBQUlDLEdBRWJ6eEUsRUFBTTB4RSxFQUFPUixFQUFFLEdBQUcsR0FFYnR6QyxFQUFLLEVBQUdBLEVBQUsvRCxFQUFNK0QsTUFDcEJrSSxFQUFTOWxDLEVBQUsweEUsRUFBT1IsRUFBRXR6QyxHQUFJQSxZQUsvQit6QyxFQUFhLEVBQ2I1aEYsRUFBSSxFQUNKNmhGLEVBQVUsS0FFRCxNQUNKQSxFQUFRN2hGLFdBSVhBLEdBQUs4cEMsZ0JBQ0wxekIsRUFBSXBXLEVBQ0p1bUMsRUFBVyxHQUVQczdDLEVBQVFGLEVBQU92bEYsRUFBRWdhLE9BQ2Z1ckUsRUFBT3ZsRixFQUFFZ2EsS0FBTSxJQUNuQnVyRSxFQUFPdmxGLEVBQUVnYSxPQUlYbXdCLEVBQVcsR0FBTSxlQUtoQnE3QyxFQUFhLEdBQU0sRUFBSTN4RSxFQUFNZ29DLEVBQVdob0MsR0FqRWhDNnhFLENBQUt4bEYsRUFBRXNoQixRQUFRRSxVQUFXZ3NCLFNBRTNCLElBQUlsWSxXQUFXLGdDQUF1Q3ZELEdBQU94YixHQUFRLG1CQU16RSxJQUFJK2UsV0FBVyx5Q0FBZ0R2RCxHQUFPeGIsR0FBUSxhUHBFNUZzakUseUJBQUFBLEdBQ0FILHFCQUFBQSxHQUNBYixtQkFBQUEsR0FDQVEscUJBQUFBLEdBQ0FiLGtCQUFBQSxHQUNBTSx1QkFBQUEsR0FDQTJNLGFRcEJTLE1BQ1EsQ0FBQyxRQUFTLFNBQVUsZUFBZ0IsWUFBYSxXQUFZLGFBQWMsTUFBTyxXQUFZLFFBQzlDN3ZELFFBQzdEcFQsTUFDRkEsU0FDQXhNLGVBQ0FwVSxZQUNBa1YsV0FDQTJpQyxhQUNBa0MsTUFDQWhvQyxXQUNBa3VDLEVBQ0E1L0MsT0FDRTJ6QixTQXNCR3BULEVBbkNFLE1BbUNVLENBQ2pCcXNCLGlCQUFrQixTQUFxQjd1QyxPQUNqQ3VXLEVBQU9xSixHQUFTNWYsR0FBS0EsRUFBRThxQyxPQUFTclgsR0FBVXp6QixVQUV0Q3VXLEVBQUs1VSxhQUNOLEtBRWEsSUFBWjRVLEVBQUssVUFDSHFKLEdBQVM1ZixHQUNKZ1csRUFBTyxDQUFDcFUsRUFBYSxFQUFHNUIsRUFBRXdoQixVQUFVLE1BRXBDLENBQUM1ZixFQUFhLEVBQUc1QixFQUFFLFdBR3RCLElBQUlzMUIsV0FBVyxnQ0FBdUN2RCxHQUFPeGIsR0FBUSxVQUcxRSxNQUdHaTNCLEVBQU9qM0IsRUFBSyxHQUNab25DLEVBQU9wbkMsRUFBSyxNQUVaaTNCLElBQVNtUSxTQUNQLzlCLEdBQVM1ZixHQUNKZ1csRUFBTzB2RSxFQUFLMWxGLEVBQUV3aEIsVUFBV2dzQixFQUFNbVEsR0FBTzM5QyxFQUFFa3JDLFdBR3hDdzZDLEVBQUsxbEYsRUFBR3d0QyxFQUFNbVEsU0FHakIsSUFBSXJvQixXQUFXLGdDQUF1Q3ZELEdBQU94YixHQUFRLG1CQU16RSxJQUFJK2UsV0FBVyx5Q0FBZ0R2RCxHQUFPeGIsR0FBUSxPQUcxRm1xQyxJQUFLLFNBQWExZ0QsVUFFVDRCLEVBQWEsRUFBRzVCLGlCQVliMmxGLEVBQUtuNEMsRUFBTW1RLE9BQ25CbDBDLEVBQUc3SSxFQUFHbUgsRUFBRzVILEVBQU82Z0MsS0FFUCxJQUFUd00sRUFBWSxJQUlBLE9BRk5tNEMsRUFBSSxHQUFHLFVBR1BybEYsTUFBTSx3REFHUCxDQUFDLENBQUNzQixFQUFhLEVBQUd6QixRQUNQLElBQVRxdEMsRUFBWSxLQUVqQnQ5QixFQUFJeUQsRUFBSWd5RSxNQUVGLElBQU56MUUsUUFDSTVQLE1BQU0sd0RBR1AsQ0FBQyxDQUFDc0IsRUFBYStqRixFQUFJLEdBQUcsR0FBSXoxRSxHQUFJdE8sRUFBYSs1QyxFQUFXZ3FDLEVBQUksR0FBRyxJQUFLejFFLElBQUssQ0FBQ3RPLEVBQWErNUMsRUFBV2dxQyxFQUFJLEdBQUcsSUFBS3oxRSxHQUFJdE8sRUFBYStqRixFQUFJLEdBQUcsR0FBSXoxRSxTQVEzSTI0QixFQUFJODhDLEVBQUl6Z0UsYUFFUHpiLEVBQUksRUFBR0EsRUFBSStqQyxFQUFNL2pDLE1BQ2xCQSxHQUFLby9CLEVBQUVwL0IsR0FBR3liLGlCQUtWNGpCLEVBQUkrWSxFQUFTclUsR0FBTWhzQixVQUVkdGUsRUFBSSxFQUFHQSxFQUFJeTZDLEVBQU16NkMsSUFBSyxLQUV6QjBpRixFQUFPMS9DLEVBQUkyQyxFQUFFM2xDLEdBQUdBLElBQ2hCMmlGLEVBQU8zaUYsUUFDUEEsRUFBSSxFQUVEdUcsRUFBSStqQyxHQUNMdEgsRUFBSTJDLEVBQUVwL0IsR0FBR3ZHLElBQU0waUYsTUFDVjEvQyxFQUFJMkMsRUFBRXAvQixHQUFHdkcsTUFDVHVHLFVBTUUsSUFBVG04RSxRQUNJdGxGLE1BQU0sb0RBR1Z1bEYsS0FFTTNpRixNQUNEMmxDLEVBQUUzbEMsS0FDUEEsR0FBSzJsQyxFQUFFcC9CLEtBQ1BBLEdBQUt1M0IsSUFDQThILEVBQUU1bEMsS0FDUEEsR0FBSzRsQyxFQUFFci9CLEtBQ1BBLEdBQUt1M0IsT0FJTDhrRCxFQUFLajlDLEVBQUUzbEMsR0FDUDZpRixFQUFLajlDLEVBQUU1bEMsT0FFTnVHLEVBQUksRUFBR0EsRUFBSStqQyxFQUFNL2pDLElBQUssS0FDckJ1OEUsRUFBS245QyxFQUFFcC9CLEdBQ1B3OEUsRUFBS245QyxFQUFFci9CLE1BRVBBLElBQU12RyxNQUVNLElBQVY4aUYsRUFBRzlpRixHQUFVLE9BQ1h0QixFQUFhKzVDLEVBQVdxcUMsRUFBRzlpRixJQUFLNGlGLEVBQUc1aUYsSUFHbEN0QyxFQUFJc0MsRUFBR3RDLEVBQUkrOEMsRUFBTS84QyxNQUNqQkEsR0FBS2tXLEVBQVVrdkUsRUFBR3BsRixHQUFJNjRDLEVBQVMxeEMsRUFBRys5RSxFQUFHbGxGLFNBR3JDQSxFQUFJLEVBQUdBLEVBQUkrOEMsRUFBTS84QyxNQUNqQkEsR0FBS2tXLEVBQVVtdkUsRUFBR3JsRixHQUFJNjRDLEVBQVMxeEMsRUFBR2crRSxFQUFHbmxGLFlBR3ZDLE9BR0RrbEYsRUFBRzVpRixHQUVGdEMsRUFBSXNDLEVBQUd0QyxFQUFJKzhDLEVBQU0vOEMsTUFDakJBLEdBQUtnQixFQUFhb2tGLEVBQUdwbEYsR0FBSW1ILE9BR3pCbkgsRUFBSSxFQUFHQSxFQUFJKzhDLEVBQU0vOEMsTUFDakJBLEdBQUtnQixFQUFhcWtGLEVBQUdybEYsR0FBSW1ILGFBTTdCK2dDLE9UeExYK3ZDLG1CQUFBQSxHQUNBUSxxQkFBQUEsR0FDQWIsa0JBQUFBLEdBQ0EwTixnQlVkUyxTQUNRLENBQUMsUUFBUyxTQUFVLFdBQVksY0FBZSxlQUFnQixRQUNadHdELFFBQ2hFcFQsTUFDRkEsU0FDQXhNLFdBQ0F5akMsY0FDQTdKLGVBQ0FodUMsTUFDQTB2RSxHQUNFMTdDLEVBQ0F5ZixFQUFjbEIsR0FBa0IsQ0FDbEMzeEIsTUFBQUEsRUFDQW90QixZQUFBQSxJQUVFMEYsRUFBY1YsR0FBa0IsQ0FDbENweUIsTUFBQUEsV0FrQ0tBLEVBQU0sU0FBVXk0QixHQUFPLENBRTVCa3JDLGlDQUFrQyxTQUFnQ25tRixFQUFHQyxVQUs1RHc1QyxFQUFTejVDLEVBQUdzeEUsRUFBSXJ4RSxLQUV6Qis0QyxtQkFBb0IsU0FBd0JoNUMsRUFBR0MsVUFDdENxMUMsRUFBWXQxQyxFQUFHQyxFQUFHMkIsR0FBYyxJQUV6Q20zQyxvQkFBcUIsU0FBeUIvNEMsRUFBR0MsVUFDeENvMUMsRUFBWXIxQyxFQUFHQyxFQUFHMkIsR0FBYyxJQUV6Q3UzQyxhQUFjLFNBQWtCbjVDLEVBQUdDLFVBRTFCcTFDLEVBQVl0L0IsRUFBT2hXLEdBQUlDLEVBQUcyQixHQUFjLEdBQU80ZixXQUV4RDRrRSxzQkFBdUIsU0FBd0JwbUYsRUFBR0MsVUFDekN3NUMsRUFBU3o1QyxFQUFHc3hFLEVBQUlyeEUsTUFFeEIyQixFQUFheWhCLHNDQzVFbEIsZUFLQTBrQixHQUFFeGtDLFVBQVksQ0FDWitoQyxHQUFJLFNBQVU3ZSxFQUFNcmIsRUFBVWk3RSxPQUN4Qm5sRixFQUFJaEIsS0FBS2dCLFNBQVdBLEVBQUksY0FFekJ1bEIsT0FBWUEsR0FBUSxLQUFLaUMsS0FBSyxDQUMvQnZGLEdBQUkvWCxFQUNKaTdFLElBQUFBLElBR0tubUYsTUFHVG9tRixLQUFNLFNBQVU3L0QsRUFBTXJiLEVBQVVpN0UsT0FDMUIxTyxFQUFPejNFLG9CQUVKcW1GLElBQUk5L0QsRUFBTSsvRCxLQUNObi9ELE1BQU1nL0QsRUFBSzczRSxxQkFHYnk4RCxFQUFJNy9ELEVBQ05sTCxLQUFLb2xDLEdBQUc3ZSxFQUFNKy9ELEVBQVVILElBR2pDSSxLQUFNLFNBQVVoZ0UsV0FDVlEsRUFBTyxHQUFHM0MsTUFBTXRDLEtBQUt4VCxVQUFXLEdBQ2hDazRFLFNBQWdCeGxGLFNBQVdBLEVBQUksS0FBS3VsQixJQUFTLElBQUluQyxRQUNqRDVnQixFQUFJLEVBQ0ptRSxFQUFNNitFLEVBQU8va0YsT0FFVCtCLEVBQUltRSxFQUFLbkUsTUFDUkEsR0FBR3lmLEdBQUdrRSxNQUFNcS9ELEVBQU9oakYsR0FBRzJpRixJQUFLcC9ELFVBRzdCL21CLE1BR1RxbUYsSUFBSyxTQUFVOS9ELEVBQU1yYixPQUNmbEssRUFBSWhCLEtBQUtnQixTQUFXQSxFQUFJLElBQ3hCeWxGLEVBQU96bEYsRUFBRXVsQixHQUNUbWdFLEVBQWEsTUFFYkQsR0FBUXY3RSxVQUNEMUgsRUFBSSxFQUFHbUUsRUFBTTgrRSxFQUFLaGxGLE9BQVErQixFQUFJbUUsRUFBS25FLElBQ3RDaWpGLEVBQUtqakYsR0FBR3lmLEtBQU8vWCxHQUFZdTdFLEVBQUtqakYsR0FBR3lmLEdBQUc4bkQsSUFBTTcvRCxLQUNuQ3NkLEtBQUtpK0QsRUFBS2pqRixXQVExQmtqRixFQUFXamxGLE9BQ1JULEVBQUV1bEIsR0FBUW1nRSxTQUNIMWxGLEVBQUV1bEIsR0FFTnZtQixPQUlYMm1GLFdBQWlCOStDLDBCQUNZQSxHQzlETixJQUFJejVCLGNDeUN6Qnc0RSxFQUNBQyxFQUNBamlCLEVBQ0E5dkIsRUFBUSxxQkFJQ3ZpQixLQURFcTBELEVBQVFFLFlBQWNGLEdBQ1FHLGtCQUFtQngwRCxFQUFPQSxFQUFRQSxFQUFNeTBELG1CQUFvQixJQUM5RnowRCxFQUFzQjAwRCw0QkFDckJDLEVBQW9CLFdBQTBCQSxrQ0FBbUIsQ0FBQ2gwRCxTQUFRLE9BQzVFZzBELFlBQTZCQyxLQUFZRCxFQUN2Q0wsRUFBSy9rRSxLQUFLOGlELEVBQU11aUIsRUFBVXJ5QyxPQUNOdmlCLEVBQU9zMEQsRUFBTWppQixFQUFNOXZCLEdBR3pDK3hDLEVBQUsva0UsS0FBSzhpRCxFQUFNcnlDLEVBQU91aUIsT0FDSHZpQixFQUFPczBELEVBQU1qaUIsRUFBTTl2QixpQkFLcEJzeUMsRUFBV0MsRUFBaUJDLEVBQWNubkYsR0FDL0QsZUFBZ0JpbkYsSUFDWkcsV0FBV0YsRUFBVyxJQUFNQyxFQUFRLElBQUtubkYsR0FDdEMsWUFBYWluRixLQUNoQkksUUFBUUgsRUFBVUMsRUFBT25uRixLQ3RFbEMsU0FBUzRKLDRCQUE0QnBKLEVBQUVxQyxhQUFLLElBQVNyQyxFQUFFLFFBQVFBLFNBQUksSUFBQXFDLEVBQVcsQ0FBQ3lrRixPQUFNLEdBQUl6a0YsT0FBS3VHLEVBQU95WixRQUFRcmlCLEVBQUVvaUIscUJBQXFCLElBQUlxUyxXQUFXLG9FQUFvRXowQixFQUFFLHFCQUFxQnFDLEVBQUV5a0YsWUFBWXJuRixNQUFNLG9GQUNwSE8sV0FBV3FDLEVBQUUsRUFBRTZFLEVBQUUzRyxLQUFLQyxJQUFJLE1BQU1SLEVBQUVjLE9BQU8sR0FBR1QsRUFBRSxJQUFJMG1GLFlBQVk3L0UsR0FBR2dPLEVBQUUsR0FBRzdGLEVBQUUsSUFBSSxLQUFLcFAsRUFBRW9DLEVBQUVyQyxFQUFFYyxXQUFXYixHQUFHb1AsR0FBR25JLEVBQUUsRUFBRSxNQUFHMmdCLEtBQUtvRyxPQUFPKzRELGFBQWF4Z0UsTUFBTSxLQUFLbm1CLEVBQUU0bUYsU0FBUyxFQUFFNTNFLE1BQVNwUCxTQUFTaVYsRUFBRTJOLEtBQUssTUFBTTdpQixFQUFFaW5GLFNBQVM1a0YsS0FBS0EsRUFBRSxNQUFjLElBQU8sT0FBakJyQyxFQUFFcUMsU0FBc0JnTixLQUFLcFAsVUFBVSxNQUFTLE9BQUssS0FBS3FaLEVBQVMsR0FBUHRaLEVBQUVxQyxPQUFVZ04sTUFBUSxPQUFLLEVBQUVpSyxXQUFVLE1BQVMsT0FBSyxHQUFVLEdBQVB0WixFQUFFcUMsU0FBWWEsRUFBUyxHQUFQbEQsRUFBRXFDLE9BQVVnTixNQUMvZSxPQUFLLEdBQUdpSyxHQUFHLEVBQUVwVyxXQUFVLE1BQVMsT0FBSyxXQUE4QyxNQUFJLE1BQXhDLEdBQVBsRCxFQUFFcUMsT0FBbUQsTUFBbEMsR0FBUHJDLEVBQUVxQyxPQUE2QyxFQUF4QixHQUFQckMsRUFBRXFDLFdBQThDLE1BQU1oQyxFQUFFZ1AsS0FBS3BQLElBQUksR0FBRyxLQUFLLE1BQU1BLEVBQUUsTUFBUSxLQUFGQSxLQUFVb1AsS0FBS3BQLFFBQU9tSixFQUFFODlFLGFBQWE5OUUsRUFBRSs5RSxvQkFBa0IsTUFBT3YrRSxFQUFFLENBQUMsUUFBUSxPQUFPLDRCQUE0Qm1qQixlQUFlM3JCLEVBQUVzQyxVQUFVLFdBQVcsQ0FBQ3BELE1BQU0sWUFBWW9ELFVBQVUwa0YsT0FBTyxTQUFTcG5GLEVBQUVxQyxjQUFLLElBQUFBLEVBQVcsQ0FBQ2dsRixRQUFPLEdBQUlobEYsR0FBT2dsRixhQUFhNW5GLE1BQU0sMkRBQTJELFVBQVV5SCxFQUFFbEgsRUFBRWMsT0FBT1QsRUFBRSxFQUFFNlUsRUFBRTNVLEtBQUtFLElBQUksR0FDdGZ5RyxPQUFPLEdBQUcsR0FBR21JLEVBQUUsSUFBSWk0RSxXQUFXcHlFLElBQUksR0FBRyxHQUFHN1MsRUFBRTZFLEdBQUcsS0FBS2pILEVBQUVELEVBQUVpaUMsV0FBVzUvQixRQUFRLE9BQU9wQyxHQUFHLE9BQU9BLEVBQUUsSUFBSW9DLEVBQUU2RSxFQUFFLEtBQUtvUyxFQUFFdFosRUFBRWlpQyxXQUFXNS9CLEdBQUcsUUFBVyxhQUFXQSxFQUFFcEMsSUFBTSxTQUFPLEtBQU8sUUFBTSxXQUFVLE9BQU9BLEdBQUcsT0FBT0EsZ0JBQWEsRUFBRW9QLEVBQUV2TyxZQUFZLEVBQW9Cb1UsR0FBbEJBLEdBQUcsRUFBRTdTLEVBQUVyQyxFQUFFYyxPQUFPLEtBQVEsR0FBRyxHQUFFd1ksRUFBRSxJQUFJZ3VFLFdBQVdweUUsSUFBSzlQLElBQUlpSyxHQUFHQSxFQUFFaUssR0FBTSxJQUFPLGdCQUFjalosS0FBS0osT0FBTSxJQUFJLElBQU8sZ0JBQWNJLEtBQUtKLElBQUksRUFBRSxHQUFHLFlBQVksSUFBTyxnQkFBY0ksS0FBS0osSUFBSSxHQUFHLEdBQUcsSUFBSW9QLEVBQUVoUCxLQUFLSixJQUFJLEVBQUUsR0FBRyxhQUFZLElBQU8seUJBQWNJLEtBQUtKLElBQUksR0FBRyxFQUFFLElBQUlvUCxFQUFFaFAsS0FBS0osSUFBSSxHQUNsZixHQUFHLElBQUlvUCxFQUFFaFAsS0FBS0osSUFBSSxFQUFFLEdBQUcsT0FBb0JJLEtBQU8sR0FBRkosRUFBSyxhQUFZb1AsRUFBRW9VLE1BQU1wVSxFQUFFb1UsTUFBTSxFQUFFcGpCLEdBQUdnUCxFQUFFNDNFLFNBQVMsRUFBRTVtRixXQUFXMHJCLGVBQWVnTSxFQUFFcjFCLFVBQVUsV0FBVyxDQUFDcEQsTUFBTSxpQkFBaUJ5c0IsZUFBZWdNLEVBQUVyMUIsVUFBVSxRQUFRLENBQUNwRCxPQUFNLFdBQVl5c0IsZUFBZWdNLEVBQUVyMUIsVUFBVSxZQUFZLENBQUNwRCxPQUFNLFFBQVNMLEVBQUV1RixFQUFFLG1CQUFvQitpRixRQUFRQSxPQUFPeGtFLEtBQUs5akIsV0FKbUJlLFVBQVV1bkYsT0FBT3hrRSxLQUFLL2lCLEVBQUV3bkYsT0FBT3huRixFQUFFeW5GLFdBQVd6bkYsRUFBRTBuRixZQUFZNWtGLFNBQVMsVUFJbEYsbUJBQW9CNmtGLE1BQU0sbUJBQW9CQyxLQUFLLG1CQUFvQkEsSUFBSUMsNkJBSjJCN25GLE9BQU9xQyxFQUFFdWxGLElBQUlDLGdCQUFnQixJQUFJRixLQUFLLENBQUMzbkYsR0FBRyxDQUFDd2dCLEtBQUssc0NBQ3ZkdFosRUFBRSxJQUFJNGdGLHdCQUFpQkMsS0FBSyxNQUFNMWxGLEdBQUUsS0FBTTJsRixPQUFjOWdGLEVBQUUrZ0YsbUJBQW1CNW5GLFVBQVVtRSxFQUFFeEUsZUFBZWtvRixnQkFBZ0I3bEYsU0FHNlNLLFVBQVV5bEYsT0FBTyxTQUFTbm9GLEVBQUVxQyxjQUFLLElBQUFBLEVBQVcsQ0FBQ2dsRixRQUFPLEdBQUlobEYsR0FBT2dsRixhQUFhNW5GLE1BQU0sa0VBQzdmTyxhQUFhc25GLFdBQVd0bkYsRUFBRUEsRUFBRXduRixrQkFBa0JZLFlBQVksSUFBSWQsV0FBV3RuRixFQUFFd25GLFFBQVEsSUFBSUYsV0FBV3RuRixHQUFVZixFQUFFZSxNQUFNa25GLFlBQVk5bUYsSUFBSSttRixZQUFZcHZELEdBTGpKLENBS3FKLG9CQUFxQnN3RCxPQUFPQSxPQUFtQ0MsYURxRTlNcHBGLHdCQUNFLFdBQ0QsYUFDRSxjQUNDLEdBQ1RBLEtBQUtxcEYsZUFDRXp6RSxJQUFNeXpFLEVBQUt6ekUsU0FDWEYsS0FBTzJ6RSxFQUFLM3pFLFVBQ1o0ekUsTUFBUUQsRUFBS0MsV0FDYkMsT0FBU0YsRUFBS0UsT0FDWnBwRixlQUlKSCx3QkFDRSxXQUNELGFBQ0UsY0FDQyxHQUNUQSxLQUFLcXBGLGVBQ0V6ekUsSUFBTXl6RSxFQUFLenpFLFNBQ1hGLEtBQU8yekUsRUFBSzN6RSxVQUNaQyxNQUFRMHpFLEVBQUsxekUsV0FDYkUsT0FBU3d6RSxFQUFLeHpFLE9BQ1oxVixrQkFLVDRtRixFQUNBeUMsRUFBaUIsSUFBSUMsR0FDckJDLFNBRU1DLEVBQU01QyxFQUFRNkMsY0FDZEMsRUFBUUYsRUFBSUcsZ0JBQ1pDLEVBQU9KLEVBQUlJLFFBRWJoRCxJQUFZOEMsa0JBd0lnQkcsRUFBb0JSLFNBQzlDTSxFQUFrQkUsRUFBU0YsZ0JBQzNCQyxFQUFPQyxFQUFTRCxLQUNoQkUsRUFBdUJDLGlCQUFpQkosR0FDeENLLEVBQVlELGlCQUFpQkgsWUFDNUJuMEUsSUFDTG0wRSxFQUFLSyxVQUFZajZELFdBQVc4NUQsRUFBcUJJLFlBQ2pELEVBQUlsNkQsV0FBV2c2RCxFQUFVRSxZQUN6QixJQUNLMzBFLEtBQ0xxMEUsRUFBS08sV0FBYW42RCxXQUFXODVELEVBQXFCTSxhQUNsRCxFQUFJcDZELFdBQVdnNkQsRUFBVUksYUFDekIsSUFDS2pCLE1BQVFqb0YsS0FBS0UsSUFDbEJGLEtBQUtFLElBQUl3b0YsRUFBS1MsWUFBYVYsRUFBZ0JVLGFBQzNDbnBGLEtBQUtFLElBQUl3b0YsRUFBS1UsWUFBYVgsRUFBZ0JXLGFBQzNDcHBGLEtBQUtFLElBQUl3b0YsRUFBS1csWUFBYVosRUFBZ0JZLGdCQUV0Q25CLE9BQVNsb0YsS0FBS0UsSUFDbkJGLEtBQUtFLElBQUl3b0YsRUFBS1ksYUFBY2IsRUFBZ0JhLGNBQzVDdHBGLEtBQUtFLElBQUl3b0YsRUFBS2EsYUFBY2QsRUFBZ0JjLGNBQzVDdnBGLEtBQUtFLElBQUl3b0YsRUFBS2MsYUFBY2YsRUFBZ0JlLGVBRXZDckIsRUE5SkVzQixDQUFrQm5CLEVBQUtILE1BRzVCRSxJQUFxQjNDLFdBQ2hCcnhFLEtBQU8sSUFDUEUsSUFBTSxJQUNOMHpFLE1BQVN2QyxFQUF3QjBELG1CQUNqQ2xCLE9BQVV4QyxFQUF3QjZELG9CQUlyQ0csRUFBY2hFLEVBQVE2QyxjQUFlbUIsZ0JBR3ZDQyxFQUZBQyxFQUF5QmxFLEVBR3pCbUUsRUFBZUQsRUFBR0MsYUFDbEJDLEVBQW9CSixFQUFZYixpQkFBaUJlLEVBQUksTUFDckRyMUUsRUFBTXExRSxFQUFHYixVQUNUMTBFLEVBQU91MUUsRUFBR1gsZUFHWlksR0FDQXhCLEdBQ0F3QixFQUFhRSxTQUFTMUIsSUFDdEJ3QixJQUFpQnhCLE9BRVBBLEVBQWtCRixFQUFRMEIsTUFDNUIxQixFQUFPOXpFLFFBQ1I4ekUsRUFBTzV6RSxRQUlScTFFLEVBQUdJLGdCQUNUSixJQUFPbEIsR0FDUGtCLElBQU9wQixHQUNQb0IsSUFBT3ZCLEdBRTRCLFVBQS9CeUIsRUFBa0IxMkUsWUFJTnMyRSxFQUFZYixpQkFBaUJlLEVBQUksU0FDMUNBLEVBQUdLLGFBQ0ZMLEVBQUdNLFdBRVBOLElBQU9DLE9BQ0ZELEVBQUdiLGFBQ0ZhLEVBQUdYLGNBQ0puNkQsV0FBVzY2RCxFQUFjUSxpQkFBbUIsS0FDM0NyN0QsV0FBVzY2RCxFQUFjUyxrQkFBb0IsSUFDdENSLEVBQUdDLGdCQUdBRixTQVNhLFVBQS9CRyxFQUFrQjEyRSxjQUNicFQsS0FBS0UsSUFBSXNvRixFQUFNeUIsVUFBV3ZCLEVBQUt1QixjQUM5QmpxRixLQUFLRSxJQUFJc29GLEVBQU0wQixXQUFZeEIsRUFBS3dCLGVBbUJuQzcxRSxLQUFPQSxJQUNQRSxJQUFNQSxJQUNOMHpFLE1BQVN2QyxFQUF3QjBELGNBQ2pDbEIsT0FBVXhDLEVBQXdCNkQsYUFDbENwQixFQXdDVCxNQUFNa0MsR0FBaUJDLFNBQVNDLGNBQWMsbUJBbUMxQkMsU0FDWkMsRUFBVUgsU0FBU0MsY0FBYyxTQUMvQkcsVUFBWUYsUUFDZFosRUFBS2EsRUFBUTVFLDJCQUNYOEUsWUFBWWYsR0FDYkEsRUF2Q1RTLEdBQWVwdkMsR0FBSyxXQUNwQm92QyxHQUFlTyxNQUFNeDNFLFNBQVcsUUFDaENpM0UsR0FBZU8sTUFBTTNDLE1BQVEsUUFDN0JvQyxHQUFlTyxNQUFNMUMsT0FBUyxRQUM5Qm1DLEdBQWVPLE1BQU1DLFdBQWEsU0FDbENSLEdBQWVPLE1BQU1FLGNBQWdCLGtCRS9ONUIsU0FBU0MsU0FFWkMsRUFBUXZvRCxPQUFPLFNBQ2Z3b0QsRUFBUXhvRCxPQUFPLG9CQUVMeUMsRUFBT2xaLEdBQ0EsaUJBQVZrWixNQUVDQSxJQUNGLFFBR0x3RSxLQUFPLE9BQ1B4RSxNQUFRQSxPQUNSZ21ELE9BQVNwc0YsS0FBS3FzRixZQUFTLE9BQ3ZCQyxRQUFVLElBQUl4dkMsSUFFZjV2QixTQUNHOGIsT0FBTzliLEdBQ1JrWixFQUFRLFNBQ0xBLE1BQVFwbUMsS0FBSzRxQyxtQkFPVGxwQixFQUFLemhCLFFBQ2J5aEIsSUFBTUEsT0FDTnpoQixNQUFRQSxPQUNSaXNGLFFBQVMsT0FDVEMsUUFBUyxjQW1LT0ksUUFBb0I1cEUsTUFBUTRwRSxjQWE5QkEsUUFBb0I1cEUsTUFBUTRwRSxjQVkxQkEsUUFBb0I1cEUsTUFBUTRwRSxLQWxNM0NDLE9BQVNBLElBVVZucEYsVUFBVW9wRixpQkFBbUIsU0FBUzlwRSxHQUN2Q0EsSUFBVTNpQixLQUFLcXNGLFNBUWYxcEUsRUFBTXVwRSxLQUNKdnBFLElBQVUzaUIsS0FBS29zRixjQUNaQSxPQUFTenBFLEVBQU11cEUsTUFFaEJBLEdBQU9DLEdBQVN4cEUsRUFBTXdwRSxJQUUxQnhwRSxFQUFNd3BFLE9BQ0ZBLEdBQU9ELEdBQVN2cEUsRUFBTXVwRSxNQUV4QkEsUUFBUyxJQUNUQyxHQUFTbnNGLEtBQUtxc0YsT0FDaEJyc0YsS0FBS3FzRixjQUNGQSxPQUFPSCxHQUFTdnBFLFFBRWxCMHBFLE9BQVMxcEUsT0FHVHRmLFVBQVUybEMsT0FBUyxTQUFTOWIsT0FDN0J2SyxFQUFPeWpCLEVBQVFwbUMsS0FBS29tQyxPQUFTMytCLE9BQU9pbEYsZUFDbkNKLFFBQVE5dkMsWUFDVG13QyxFQUFLei9ELEVBQVF5VyxPQUFPaXBELG9CQUNmQyxFQUFNRixFQUFHMzRELFFBQVM2NEQsRUFBSUMsS0FBTUQsRUFBTUYsRUFBRzM0RCxPQUFRLEtBQ2hEaHpCLEVBQUksSUFBSStyRixFQUFNRixFQUFJNXNGLE1BQU0sR0FBSTRzRixFQUFJNXNGLE1BQU0sWUFDckNxc0YsUUFBUXZtRixJQUFJL0UsRUFBRTBnQixJQUFLMWdCLEdBQ25CMmhCLEtBR0d1cEUsR0FBU2xyRixJQUNibXJGLEdBQVN4cEUsUUFITnlwRSxPQUFTcHJGLElBS1JBLEVBQ08sR0FBWG9sQyxVQUNJLElBQUlobUMsTUFBTSxpQkFHZmlzRixPQUFTMXBFLE9BQ1Rpb0IsS0FBTzVxQyxLQUFLc3NGLFFBQVExaEQsU0FHcEJ2bkMsVUFBVStuQyxJQUFNLFNBQVMxcEIsT0FFMUJpQixFQUFRM2lCLEtBQUtzc0YsUUFBUWxoRCxJQUFJMXBCLE1BQ3hCaUIsY0FFQThwRSxpQkFBaUI5cEUsR0FDZkEsRUFBTTFpQixTQUdSb0QsVUFBVTBDLElBQU0sU0FBUzJiLEVBQUt6aEIsT0FDL0IwaUIsRUFBUTNpQixLQUFLc3NGLFFBQVFsaEQsSUFBSTFwQixVQUV6QmlCLEtBRUkxaUIsTUFBUUEsT0FDVHdzRixpQkFBaUI5cEUsR0FDZjNpQixZQUlKc3NGLFFBQVF2bUYsSUFBSTJiLEVBQU1pQixFQUFRLElBQUlvcUUsRUFBTXJyRSxFQUFLemhCLElBRTFDRCxLQUFLcXNGLGFBRUZBLE9BQU9ILEdBQVN2cEUsSUFDZndwRSxHQUFTbnNGLEtBQUtxc0YsYUFHZkQsT0FBU3pwRSxPQUlYMHBFLE9BQVMxcEUsSUFDWjNpQixLQUFLNHFDLEtBQ0g1cUMsS0FBSzRxQyxLQUFPNXFDLEtBQUtvbUMsWUFFZDlWLFFBR0F0d0IsU0FHRnFELFVBQVVpdEIsTUFBUSxlQUVuQjNOLEVBQVEzaUIsS0FBS29zRixVQUNienBFLFNBQ0UzaUIsS0FBS29zRixPQUFPRixTQUVURSxPQUFTcHNGLEtBQUtvc0YsT0FBT0YsUUFDckJFLE9BQU9ELFFBQVMsU0FHaEJDLFlBQVMsT0FDVEMsWUFBUyxLQUlWSCxHQUFTdnBFLEVBQU13cEUsUUFBUyxPQUN6QkcsUUFBUS92QyxPQUFPNTVCLEVBQU1qQixPQUN4QjFoQixLQUFLNHFDLEtBQ0EsQ0FBQ2pvQixFQUFNakIsSUFBS2lCLEVBQU0xaUIsVUFRdEJvRCxVQUFVd3FCLEtBQU8sU0FBU25NLE9BQzNCMWdCLEVBQUloQixLQUFLc3NGLFFBQVFsaEQsSUFBSTFwQixVQUNsQjFnQixFQUFJQSxFQUFFZixXQUFRLEtBR2hCb0QsVUFBVTY1QyxJQUFNLFNBQVN4N0IsVUFDdkIxaEIsS0FBS3NzRixRQUFRcHZDLElBQUl4N0IsTUFHbkJyZSxpQkFBc0IsU0FBU3FlLE9BQ2hDaUIsRUFBUTNpQixLQUFLc3NGLFFBQVFsaEQsSUFBSTFwQixNQUN4QmlCLGNBQ0EycEUsUUFBUS92QyxPQUFPNTVCLEVBQU1qQixLQUN0QmlCLEVBQU11cEUsSUFBVXZwRSxFQUFNd3BFLE1BRWxCQSxHQUFPRCxHQUFTdnBFLEVBQU11cEUsS0FDdEJBLEdBQU9DLEdBQVN4cEUsRUFBTXdwRSxJQUNuQnhwRSxFQUFNdXBFLE1BRVRBLEdBQU9DLFFBQVMsT0FFakJDLE9BQVN6cEUsRUFBTXVwRSxJQUNYdnBFLEVBQU13cEUsTUFFVEEsR0FBT0QsUUFBUyxPQUVqQkcsT0FBUzFwRSxFQUFNd3BFLFNBRWZDLE9BQVNwc0YsS0FBS3FzRixZQUFTLE9BR3pCemhELE9BQ0Vqb0IsRUFBTTFpQixTQUdSb0QsVUFBVW01QyxNQUFRLGdCQUVsQjR2QyxPQUFTcHNGLEtBQUtxc0YsWUFBUyxPQUN2QnpoRCxLQUFPLE9BQ1AwaEQsUUFBUTl2QyxZQUtEbjVDLFVBQVVzZ0MsT0FBT2lwRCxVQUFZLGtCQUFvQjVzRixRQUNqRHFELFVBQVUyd0IsS0FBTyxlQUN6Qmc1RCxFQUFNaHRGLEtBQUsyaUIsYUFDWHFxRSxRQUNHcnFFLE1BQVFxcUUsRUFBSWQsR0FDVixDQUFFWSxNQUFNLEVBQU83c0YsTUFBTyxDQUFDK3NGLEVBQUl0ckUsSUFBS3NyRSxFQUFJL3NGLFNBRXBDLENBQUU2c0YsTUFBTSxFQUFNN3NGLFdBQU8sTUFNcEJvRCxVQUFVc2dDLE9BQU9pcEQsVUFBWSxrQkFBb0I1c0YsUUFDakRxRCxVQUFVMndCLEtBQU8sZUFDdkJnNUQsRUFBTWh0RixLQUFLMmlCLGFBQ1hxcUUsUUFDR3JxRSxNQUFRcXFFLEVBQUlkLEdBQ1YsQ0FBRVksTUFBTSxFQUFPN3NGLE1BQU8rc0YsRUFBSXRyRSxNQUUxQixDQUFFb3JFLE1BQU0sRUFBTTdzRixXQUFPLE1BS2xCb0QsVUFBVXNnQyxPQUFPaXBELFVBQVksa0JBQW9CNXNGLFFBQ2pEcUQsVUFBVTJ3QixLQUFPLGVBQ3pCZzVELEVBQU1odEYsS0FBSzJpQixhQUNYcXFFLFFBQ0dycUUsTUFBUXFxRSxFQUFJZCxHQUNWLENBQUVZLE1BQU0sRUFBTzdzRixNQUFPK3NGLEVBQUkvc0YsUUFFMUIsQ0FBRTZzRixNQUFNLEVBQU03c0YsV0FBTyxNQUt6Qm9ELFVBQVUya0IsS0FBTyxrQkFDZixJQUFJaWxFLEVBQVlqdEYsS0FBS29zRixXQUd2Qi9vRixVQUFVNHNDLE9BQVMsa0JBQ2pCLElBQUlpOUMsRUFBY2x0RixLQUFLb3NGLFdBR3pCL29GLFVBQVU2cEIsUUFBVSxrQkFDbEJsdEIsUUFHRnFELFVBQVVzZ0MsT0FBT2lwRCxVQUFZLGtCQUMzQixJQUFJTyxFQUFjbnRGLEtBQUtvc0YsV0FHekIvb0YsVUFBVTBrQixRQUFVLFNBQVNxbEUsRUFBS0MsR0FDaEIsaUJBQVpBLE1BQ0NydEYsVUFFUjJpQixFQUFRM2lCLEtBQUtvc0YsWUFDVnpwRSxLQUNEYixLQUFLdXJFLEVBQVMxcUUsRUFBTTFpQixNQUFPMGlCLEVBQU1qQixJQUFLMWhCLFFBQ2xDMmlCLEVBQU11cEUsT0FLWDdvRixVQUFVd3pCLE9BQVMsbUJBQ3BCbjJCLEVBQUksSUFBSXlkLE1BQU1uZSxLQUFLNHFDLE1BQU9wbkMsRUFBSSxFQUFHbWYsRUFBUTNpQixLQUFLb3NGLE9BQzNDenBFLEtBQ0huZixLQUFPLENBQUVrZSxJQUFLaUIsRUFBTWpCLElBQUt6aEIsTUFBTzBpQixFQUFNMWlCLFNBQ2hDMGlCLEVBQU11cEUsVUFFVHhyRixLQUlGMkMsVUFBVUksU0FBVyxtQkFDdEIvQyxFQUFJLEdBQUlpaUIsRUFBUTNpQixLQUFLb3NGLE9BQ2xCenBFLE1BQ0FpTSxPQUFPak0sRUFBTWpCLEtBQUssSUFBSWlCLEVBQU0xaUIsU0FDekIwaUIsRUFBTXVwRSxTQUVQLGNBR0Z4ckYseUNDdFIyQjZsQixFQUFhdG1CLFVBQ3RDLElBQU1zbUIsRUFBTyxLQWpCeEIsU0FBa0N0bUIsVUFDdkJBLEVBQ0Y0dkIsUUFBUSxLQUFNLFNBQ2RBLFFBQVEsS0FBTSxRQUNkQSxRQUFRLEtBQU0sUUFDZEEsUUFBUSxLQUFNLFVBQ2RBLFFBQVEsS0FBTSxVQVdReTlELENBQXdCcnRGLEdBQVMsSUFHaEUsWUFBb0Jxa0QsT0FDWmlwQyxFQUFVanBDLEVBQUtpcEMsZUFFTyxpQ0FBdEJqcEMsRUFBS2twQyxpQkFDS0QsRUFBUXhxRSxlQUVmd3FFLEVBaUJYLFlBQTJCanBDLEVBQWNqMkIsT0FDakNvL0QsRUFBUyxhQUNGNXBGLEtBQUt5Z0QsRUFBS29wQyxjQUFzQkMsR0FBZ0I5cEYsRUFBR3dxQixVQUN2RG8vRCxFQXVDWCxZQUF5Qm5wQyxFQUFXajJCLGVBQzFCdS9ELEVBQVcsV0FBUUMsMEJBQVd2cEMsTUFDWixpQkFBYnNwQyxTQUNBQSxLQUNrQixjQUFsQnRwQyxFQUFLd3BDLFVBQ00sdUJBQWxCeHBDLEVBQUt3cEMsZ0JBQ0VDLEdBQWtCenBDLEVBQWlCajJCLE1BQ2xDaTJCLEVBQWlCaXBDLGVBM0NqQyxTQUFzQmpwQyxFQUFjajJCLE9BQzVCby9ELEVBQVMsSUFBTU8sR0FBVzFwQyxNQXJCbEMsU0FBNEJBLEVBQWMycEMsVUFDYjNwQyxFQUFLNHBDLGFBQWEsY0FNbkM1cEMsRUFBS2twQyxlQUFpQmxwQyxFQUFLNG1DLGNBQWVzQyxhQUd2QyxHQUZBLFdBQWFscEMsRUFBS2twQyxhQUFlLElBY2xDVyxDQUFtQjdwQyxFQUF3QixJQUFsQmoyQixFQUFRKy9ELGlCQUVoQ0MsS0FBUS9wQyxFQUFLZ3FDLGNBQ1ZDLEdBQW1CRixFQUFLcnNFLEtBQU1xc0UsRUFBS3B1RixjQUc3Q3FrRCxFQUFLb3BDLFdBQVdqc0YsT0FBUyxLQUNqQjJzRixXQUNFLE9BQ0FMLEdBQWtCenBDLEVBQU1qMkIsTUFDeEIsS0FBTzIvRCxHQUFXMXBDLEdBQVEsTUFDNUI4cEMsWUFFRSxLQUVQWCxFQTJCSWUsQ0FBYWxxQyxFQUFpQmoyQixNQUNaLFVBQWxCaTJCLEVBQUt3cEMsZ0JBekJwQixTQUF1QnhwQyxXQUNSQSxFQUFLbXFDLFdBQWEsSUEzRHhCNStELFFBQVEsS0FBTSxTQUNkQSxRQUFRLEtBQU0sUUFDZEEsUUFBUSxLQUFNLFFBa0ZSNitELENBQWNwcUMsTUFDSSxhQUFsQkEsRUFBS3dwQyxrQkFFYSxtQkFBbEJ4cEMsRUFBS3dwQyxnQkFqQnBCLFNBQXdCeHBDLFVBQ2IsWUFBY0EsRUFBS21xQyxVQUFZLE1BaUIzQkUsQ0FBZXJxQyxVQUVuQixpQkM1R1YsU0FBVWhmLEVBQU1wWCxPQUVUMGdFLEVBQVUsSUFjVCxTQUFTQSxLQUVWQyxZQUFhLElBaUJiQyxhQUFlLEtBQ2ZDLFVBQVksT0FFaEJ2NEIsRUFBSSxJQUFJOXlCLFlBQVksQ0FDcEIsV0FBWSxXQUFZLFdBQVksV0FBWSxVQUNoRCxXQUFZLFdBQVksV0FBWSxXQUFZLFVBQ2hELFVBQVksV0FBWSxXQUFZLFdBQVksV0FDaEQsV0FBWSxXQUFZLFdBQVksVUFBWSxVQUNoRCxVQUFZLFdBQVksV0FBWSxXQUFZLFdBQ2hELFdBQVksV0FBWSxXQUFZLFdBQVksV0FDaEQsVUFBWSxVQUFZLFVBQVksVUFBWSxXQUNoRCxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ2hELFdBQVksV0FBWSxXQUFZLFdBQVksV0FDaEQsV0FBWSxXQUFZLFVBQVksVUFBWSxVQUNoRCxVQUFZLFVBQVksVUFBWSxXQUFZLFdBQ2hELFdBQVksV0FBWSxXQUFZLFdBQVksV0FDaEQsV0FBWSxXQUFZLFdBQVksd0JBRXBCbmpDLEVBQUdELEVBQUdWLEVBQUdvdkYsRUFBS3JuRixXQUMxQmhILEVBQUdDLEVBQUdvQyxFQUFHZ04sRUFBR2hQLEVBQUc2RyxFQUFHb1MsRUFBR3BFLEVBQUdpdEIsRUFBR3QvQixFQUFHb1csRUFBRzZzQixFQUFJQyxFQUNsQy8rQixHQUFPLElBQUksT0FDVnJILEVBQUUsS0FDRkEsRUFBRSxLQUNGQSxFQUFFLEtBQ0ZBLEVBQUUsS0FDRkEsRUFBRSxLQUNGQSxFQUFFLEtBQ0ZBLEVBQUUsS0FDRkEsRUFBRSxHQUNEa0QsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLE1BQ1p3ckYsRUFBVSxFQUFKeHJGLElBQ1JBLElBQWUsTUFBTG9XLEtBQWMsSUFBbUIsTUFBVEEsRUFBSSxLQUFjLElBQ3JDLE1BQVRBLEVBQUksS0FBYyxFQUFpQixJQUFYaGEsRUFBRWdhLEVBQUksT0FFckNwVyxFQUFJLEdBQUlBLEVBQUksR0FBSUEsVUFDYmpELEVBQUVpRCxFQUFJLE1BQ0UsR0FBS3MvQixHQUFNLFNBQW1CLEdBQUtBLEdBQU0sSUFBYUEsSUFBTSxTQUNwRXZpQyxFQUFFaUQsRUFBSSxPQUNFLEVBQUlzL0IsR0FBTSxTQUFrQixHQUFLQSxHQUFNLElBQWFBLElBQU0sSUFDcEV0L0IsTUFBV2pELEVBQUVpRCxFQUFJLEdBQUssTUFBV2pELEVBQUVpRCxFQUFJLElBQU0sT0FFOUNBLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxhQUNBLEVBQUl4QyxHQUFNLFNBQWtCLEdBQUtBLEdBQU0sU0FDNUMsR0FBS0EsR0FBTSxPQUFtQjZHLEdBQU83RyxFQUFJaVosR0FBTyxTQUM3Q3pXLEdBQUtqRCxFQUFFaUQsR0FBTSxHQUFNLEdBQU0sVUFDekIsRUFBSTdDLEdBQU0sU0FBa0IsR0FBS0EsR0FBTSxTQUMxQyxHQUFLQSxHQUFNLFFBQW1CQyxFQUFNRCxFQUFJcUMsRUFBTXBDLEVBQUlvQyxHQUFPLElBQ2hFaVgsSUFDQXBTLElBQ0E3RyxJQUNDZ1AsRUFBSXkyQixFQUFNLElBQ1h6akMsSUFDQXBDLElBQ0FELElBQ0M4bEMsRUFBS0MsRUFBTSxJQUVsQixJQUFNL2xDLElBQ04sSUFBTUMsSUFDTixJQUFNb0MsSUFDTixJQUFNZ04sSUFDTixJQUFNaFAsSUFDTixJQUFNNkcsSUFDTixJQUFNb1MsSUFDTixJQUFNcEUsS0FDRCxNQUNBLFdBRUptNUUsTUFHUEMsRUFBc0IsNkJBRWJILGFBQWVGLEVBQVFFLGtCQUN2QkMsVUFBWUgsRUFBUUcsZUFFcEIxUCxNQUFRLElBQUk2UCxXQUFXLFFBQ3ZCcHVELEtBQU8sSUFBSW91RCxXQUFXLFNBQ3RCL0csT0FBUyxJQUFJRixXQUFXLFVBQ3hCa0gsYUFBZSxPQUNmQyxZQUFjLE9BQ2RDLFVBQVcsT0FDWEMsa0JBSUpqc0YsVUFBVWlzRixNQUFRLHVCQUNkalEsTUFBTSxHQUFLLGdCQUNYQSxNQUFNLEdBQUssZ0JBQ1hBLE1BQU0sR0FBSyxnQkFDWEEsTUFBTSxHQUFLLGdCQUNYQSxNQUFNLEdBQUssZ0JBQ1hBLE1BQU0sR0FBSyxnQkFDWEEsTUFBTSxHQUFLLGVBQ1hBLE1BQU0sR0FBSyxnQkFDWDhQLGFBQWUsT0FDZkMsWUFBYyxPQUNkQyxVQUFXLEVBQ1RydkYsUUFHTnFELFVBQVVrc0YsTUFBUSxtQkFDVi9yRixFQUFJLEVBQUdBLEVBQUl4RCxLQUFLbW9GLE9BQU8xbUYsT0FBUStCLFNBQy9CMmtGLE9BQU8za0YsR0FBSyxNQUVaQSxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLOGdDLEtBQUtyL0IsT0FBUStCLFNBQzdCczlCLEtBQUt0OUIsR0FBSyxPQUVkOHJGLFlBU0pqc0YsVUFBVTRFLE9BQVMsU0FBVThlLEVBQU15b0UsV0FDakIsSUFBZkEsTUFBc0N6b0UsRUFBS3RsQixRQUMzQ3pCLEtBQUtxdkYsZUFDQyxJQUFJanZGLE1BQU0sdURBRWhCcXZGLEVBQVUsVUFDVEwsYUFBZUksRUFDaEJ4dkYsS0FBS212RixhQUFlLEVBQUcsTUFDaEJudkYsS0FBS212RixhQUFlLElBQU1LLEVBQWEsUUFDckNySCxPQUFPbm9GLEtBQUttdkYsZ0JBQWtCcG9FLEVBQUswb0UsU0FHbEIsS0FBdEJ6dkYsS0FBS212RixpQkFDTW52RixLQUFLOGdDLEtBQU05Z0MsS0FBS3EvRSxNQUFPci9FLEtBQUttb0YsT0FBUSxFQUFHLFNBQzdDZ0gsYUFBZSxRQUd4QkssR0FBYyxPQUNKRSxFQUFXMXZGLEtBQUs4Z0MsS0FBTTlnQyxLQUFLcS9FLE1BQU90NEQsRUFBTTBvRSxFQUFTRCxNQUM3QyxJQUVYQSxFQUFhLFFBQ1hySCxPQUFPbm9GLEtBQUttdkYsZ0JBQWtCcG9FLEVBQUswb0UsZ0JBR3JDenZGLFFBS05xRCxVQUFVc3NGLE9BQVMsU0FBVW4wRSxPQUN6QnhiLEtBQUtxdkYsU0FBVSxLQUNaRCxFQUFjcHZGLEtBQUtvdkYsWUFDbkI3NUUsRUFBT3ZWLEtBQUttdkYsYUFDWlMsRUFBWVIsRUFBYyxVQUFjLEVBQ3hDUyxFQUFXVCxHQUFlLEVBQzFCVSxFQUFhVixFQUFjLEdBQUssR0FBTSxHQUFLLFNBQzFDakgsT0FBTzV5RSxHQUFRLFlBQ1gvUixFQUFJK1IsRUFBTyxFQUFHL1IsRUFBSXNzRixFQUFZLEVBQUd0c0YsU0FDakMya0YsT0FBTzNrRixHQUFLLE9BRWhCMmtGLE9BQU8ySCxFQUFZLEdBQU1GLElBQWEsR0FBTSxTQUM1Q3pILE9BQU8ySCxFQUFZLEdBQU1GLElBQWEsR0FBTSxTQUM1Q3pILE9BQU8ySCxFQUFZLEdBQU1GLElBQWEsRUFBSyxTQUMzQ3pILE9BQU8ySCxFQUFZLEdBQU1GLElBQWEsRUFBSyxTQUMzQ3pILE9BQU8ySCxFQUFZLEdBQU1ELElBQWEsR0FBTSxTQUM1QzFILE9BQU8ySCxFQUFZLEdBQU1ELElBQWEsR0FBTSxTQUM1QzFILE9BQU8ySCxFQUFZLEdBQU1ELElBQWEsRUFBSyxTQUMzQzFILE9BQU8ySCxFQUFZLEdBQU1ELElBQWEsRUFBSyxNQUNyQzd2RixLQUFLOGdDLEtBQU05Z0MsS0FBS3EvRSxNQUFPci9FLEtBQUttb0YsT0FBUSxFQUFHMkgsUUFDN0NULFVBQVcsT0FFWDdyRixFQUFJLEVBQUdBLEVBQUksRUFBR0EsTUFDWCxFQUFKQSxFQUFRLEdBQU14RCxLQUFLcS9FLE1BQU03N0UsS0FBTyxHQUFNLE1BQ2xDLEVBQUpBLEVBQVEsR0FBTXhELEtBQUtxL0UsTUFBTTc3RSxLQUFPLEdBQU0sTUFDbEMsRUFBSkEsRUFBUSxHQUFNeEQsS0FBS3EvRSxNQUFNNzdFLEtBQU8sRUFBSyxNQUNqQyxFQUFKQSxFQUFRLEdBQU14RCxLQUFLcS9FLE1BQU03N0UsS0FBTyxFQUFLLFdBRXRDeEQsUUFHTnFELFVBQVUwc0YsT0FBUyxlQUNoQnYwRSxFQUFNLElBQUl5c0UsV0FBV2pvRixLQUFLOHVGLDBCQUN6QmEsT0FBT24wRSxHQUNMQSxLQUdOblksVUFBVTJzRixXQUFhLFNBQVV4MEUsV0FDekJoWSxFQUFJLEVBQUdBLEVBQUl4RCxLQUFLcS9FLE1BQU01OUUsT0FBUStCLE1BQy9CQSxHQUFLeEQsS0FBS3EvRSxNQUFNNzdFLE9BSXZCSCxVQUFVNHNGLGNBQWdCLFNBQVV2c0UsRUFBTTByRSxXQUNsQzVyRixFQUFJLEVBQUdBLEVBQUl4RCxLQUFLcS9FLE1BQU01OUUsT0FBUStCLFNBQzlCNjdFLE1BQU03N0UsR0FBS2tnQixFQUFLbGdCLFFBRXBCNHJGLFlBQWNBLE9BQ2RDLFVBQVcsT0FDWEYsYUFBZSxJQUVqQmUsRUEvSGUsS0FpSWxCakIsS0FBT0EsTUFFWGtCLEVBQXNCLHNCQUNSenVFLFFBQ0wwdUUsTUFBUSxJQUFJbkIsT0FDWm43RCxNQUFRLElBQUltN0QsT0FDWkYsVUFBWS91RixLQUFLb3dGLE1BQU1yQixlQUN2QkQsYUFBZTl1RixLQUFLb3dGLE1BQU10QixpQkFDM0J1QixFQUFNLElBQUlwSSxXQUFXam9GLEtBQUsrdUYsY0FDMUJydEUsRUFBSWpnQixPQUFTekIsS0FBSyt1RixXQUNqQixJQUFJRSxHQUFRaG5GLE9BQU95WixHQUFLaXVFLE9BQU9VLEdBQUtkLHFCQUc1Qi9yRixFQUFJLEVBQUdBLEVBQUlrZSxFQUFJamdCLE9BQVErQixNQUN4QkEsR0FBS2tlLEVBQUlsZSxPQUdaQSxFQUFJLEVBQUdBLEVBQUk2c0YsRUFBSTV1RixPQUFRK0IsTUFDeEJBLElBQU0sUUFFVDRzRixNQUFNbm9GLE9BQU9vb0YsT0FDVDdzRixFQUFJLEVBQUdBLEVBQUk2c0YsRUFBSTV1RixPQUFRK0IsTUFDeEJBLElBQU0sU0FFVHN3QixNQUFNN3JCLE9BQU9vb0YsUUFDYkMsT0FBUyxJQUFJNXNELFlBQVksUUFDekI2c0QsT0FBUyxJQUFJN3NELFlBQVksUUFDekIwc0QsTUFBTUosV0FBV2h3RixLQUFLc3dGLGFBQ3RCeDhELE1BQU1rOEQsV0FBV2h3RixLQUFLdXdGLFlBQ2xCL3NGLEVBQUksRUFBR0EsRUFBSTZzRixFQUFJNXVGLE9BQVErQixNQUN4QkEsR0FBSyxZQU1aSCxVQUFVaXNGLE1BQVEsdUJBQ2RjLE1BQU1ILGNBQWNqd0YsS0FBS3N3RixPQUFRdHdGLEtBQUtvd0YsTUFBTXJCLGdCQUM1Q2o3RCxNQUFNbThELGNBQWNqd0YsS0FBS3V3RixPQUFRdndGLEtBQUs4ekIsTUFBTWk3RCxXQUMxQy91RixRQUdOcUQsVUFBVWtzRixNQUFRLG1CQUNWL3JGLEVBQUksRUFBR0EsRUFBSXhELEtBQUtzd0YsT0FBTzd1RixPQUFRK0IsU0FDL0Irc0YsT0FBTy9zRixHQUFLeEQsS0FBS3N3RixPQUFPOXNGLEdBQUssT0FFakM0c0YsTUFBTWIsYUFDTno3RCxNQUFNeTdELFlBR1Zsc0YsVUFBVTRFLE9BQVMsU0FBVThlLGVBQ3pCcXBFLE1BQU1ub0YsT0FBTzhlLEdBQ1gvbUIsUUFHTnFELFVBQVVzc0YsT0FBUyxTQUFVbjBFLFVBQzFCeGIsS0FBSzh6QixNQUFNdTdELGNBQ052N0QsTUFBTTY3RCxPQUFPbjBFLFNBR2I0MEUsTUFBTVQsT0FBT24wRSxRQUNic1ksTUFBTTdyQixPQUFPdVQsRUFBS3hiLEtBQUs4dUYsY0FBY2EsT0FBT24wRSxJQUU5Q3hiLFFBR05xRCxVQUFVMHNGLE9BQVMsZUFDaEJ2MEUsRUFBTSxJQUFJeXNFLFdBQVdqb0YsS0FBSzh1RiwwQkFDekJhLE9BQU9uMEUsR0FDTEEsR0FFSmcxRSxFQXJFZSxjQXlFWnpwRSxPQUNObFIsR0FBSyxJQUFJbzVFLEdBQVFobkYsT0FBTzhlLEdBQ3hCZ3BFLEVBQVNsNkUsRUFBRWs2RSxrQkFDYlIsUUFDS1EsYUFNR3J1RSxFQUFLcUYsT0FDWGxSLEVBQUssSUFBSXM2RSxFQUFLenVFLEdBQU16WixPQUFPOGUsR0FDM0JncEUsRUFBU2w2RSxFQUFFazZFLGtCQUNiUixRQUNLUSxhQUtTNUgsRUFBUXNJLEVBQU1DLEVBQU1DLE9BRWhDanlELEVBQU1peUQsRUFBUSxNQUNOLElBQVJqeUQsUUFDTSxJQUFJdCtCLE1BQU0sOEJBR2ZrdkYsUUFHRDV3RCxFQUFNLEtBQ0R6MkIsT0FBT2tnRixHQUdadUksS0FDS3pvRixPQUFPeW9GLEtBR1h6b0YsT0FBTzBvRixLQUVQaEIsT0FBT3hILEtBRUosUUEzQ0pnSSxLQUFPQSxJQVFQbHpDLEtBQU9BLFlBRU1BLElBUWIyekMsS0FBT0EsTUEyQlhDLEVBQVcsSUFBSTVJLFdBQVcyRyxFQUFRRSx5QkFDeEJwdEUsRUFBS292RSxFQUFNSixFQUFNanZGLFFBQ2QsSUFBVHF2RixNQUEwQkQsUUFDZixJQUFYcHZGLE1BQThCLFlBQzlCa3ZGLEVBQVUsSUFBSTFJLFdBQVcsQ0FBQyxJQUUxQjhJLEVBQU1ILEVBQUtFLEVBQU1wdkUsR0FHakJzdkUsRUFBUSxJQUFJYixFQUFLWSxHQUVqQjVJLEVBQVMsSUFBSUYsV0FBVytJLEVBQU1sQyxjQUM5Qm1DLEVBQVM5SSxFQUFPMW1GLE9BQ2hCK1osRUFBTSxJQUFJeXNFLFdBQVd4bUYsR0FDaEIrQixFQUFJLEVBQUdBLEVBQUkvQixFQUFRK0IsSUFDcEJ5dEYsSUFBVzlJLEVBQU8xbUYsV0FDUDBtRixFQUFRNkksRUFBT04sRUFBTUMsS0FDdkIsS0FFVG50RixHQUFLMmtGLEVBQU84SSxjQUVkMUIsVUFDQzJCLEtBQUssS0FDSkEsS0FBSyxHQUNOMTFFLGFBU0syMUUsRUFBVUwsRUFBTU0sRUFBWUMsV0FDcENDLEVBQU0sSUFBSW5CLEVBQUtnQixHQUNmeHBGLEVBQU0ycEYsRUFBSXhDLGFBQ1Z5QyxFQUFNLElBQUl0SixXQUFXLEdBQ3JCbmtGLEVBQUksSUFBSW1rRixXQUFXdGdGLEdBQ25CbTdCLEVBQUksSUFBSW1sRCxXQUFXdGdGLEdBQ25CNnBGLEVBQUssSUFBSXZKLFdBQVdvSixHQUNmN3RGLEVBQUksRUFBR0EsRUFBSW1FLEVBQU0wcEYsRUFBTzd0RixJQUFLLEtBQzlCUixFQUFJUSxFQUFJLElBQ1IsR0FBTVIsSUFBTSxHQUFNLE1BQ2xCLEdBQU1BLElBQU0sR0FBTSxNQUNsQixHQUFNQSxJQUFNLEVBQUssTUFDakIsR0FBTUEsSUFBTSxFQUFLLE1BQ2pCc3NGLFVBQ0FybkYsT0FBTzZvRixLQUNQN29GLE9BQU9zcEYsS0FDUDVCLE9BQU83c0QsV0FDRmxwQixFQUFJLEVBQUdBLEVBQUlqUyxFQUFLaVMsTUFDbkJBLEdBQUtrcEIsRUFBRWxwQixPQUVKQSxFQUFJLEVBQUdBLEdBQUt3M0UsRUFBWXgzRSxJQUFLLEdBQzlCMDFFLFVBQ0FybkYsT0FBTzY2QixHQUFHNnNELE9BQU83c0QsV0FDWnBLLEVBQUksRUFBR0EsRUFBSS93QixFQUFLK3dCLE1BQ25CQSxJQUFNb0ssRUFBRXBLLFFBR1Q5ZSxFQUFJLEVBQUdBLEVBQUlqUyxHQUFPbkUsRUFBSW1FLEVBQU1pUyxFQUFJeTNFLEVBQU96M0UsTUFDekNwVyxFQUFJbUUsRUFBTWlTLEdBQUs5VixFQUFFOFYsUUFHbkJwVyxFQUFJLEVBQUdBLEVBQUltRSxFQUFLbkUsTUFDbkJBLEdBQUtzL0IsRUFBRXQvQixHQUFLLE1BRVRBLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxNQUNmQSxHQUFLLFdBRVQrckYsUUFDR2lDLElBN0NIQyxLQUFPQSxJQStDUEMsT0FBU0EsSUF0YUw5QyxPQUNKK0MsRUFBUy9DLGtCQUNKbDJELEtBQUtrMkQsSUFDSGwyRCxHQUFLazJELEVBQVFsMkQsYUFJSGk1RCxHQVZ4QixTQzRCRCxNQUFNQyxHQUFVLElBQUkvSixxQkFVbEJob0YsWUFBbUIrbUYsRUFBeUJpTCwwREFZN0IscUJBQ0Esb0JBRUEsQ0FDYkMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUC9nRixRQUFRLGlCQUdtQixJQUFJZ2hGLGtCQUN4QixJQUFJM0ksZ0JBR0ssSUFBSTRJLGVBQ0wsSUFBSUEsZUFDSixJQUFJQSxvQkFFUCxxQkFHc0IsSUFBSXAxQyxzQkFDTCxJQUFJQSw0QkFFVixpQkFDVixxQkFDSSw0QkFDTyxnQkFDWix1QkFDTzB1QyxTQUFTQyxjQUFjLHFDQXlHdkJubkMsT0FDbkJ0a0QsS0FBSzRtRixVQUFZdGlDLGVBQ2Y2dEMsRUFBVTd0QyxFQUNWOHRDLEVBQVFDLEdBQVlDLE9BQU9sbkQsSUFBSSttRCxNQUNqQ0MsRUFBTyxPQUNIL0ksRUFBUytJLEVBQU0vSSxXQUNqQmlGLEVBQWEsU0FDWGlFLEVBQWEsYUFBYWxKLEVBQU9GLHNCQUFzQkUsRUFBT0QsaUNBQ2hFb0osR0FBYSxZQUNObkUsS0FBUStELEVBQU14TCxRQUFRMEgsV0FDYixRQUFkRCxFQUFLcnNFLE9BQ1EsU0FBYnFzRSxFQUFLcnNFLFNBQ091c0UsR0FBbUJGLEVBQUtyc0UsS0FBTXFzRSxFQUFLcHVGLE1BQVEsSUFBTXN5RixNQUNsRCxNQUVDaEUsR0FBbUJGLEVBQUtyc0UsS0FBTXFzRSxFQUFLcHVGLFFBR2hEdXlGLE9BQ1dqRSxHQUFtQixRQUFTZ0UsVUFFdENFLEVBQU1OLEVBQVE1RSxRQUFReHFFLHFCQUNyQixJQUFJMHZFLEtBQU9uRSxPQUFnQm1FLFVBdkt4QkgsT0FBT3ZzRixJQUFJNmdGLEVBQVM1bUYsV0FDM0JtOEMsR0FBS3lxQyxFQUFROEwsYUFBYUwsR0FBWU0sd0JBQTJCTixHQUFZTyx1QkFDMUVDLGFBQWFSLEdBQVlNLHNCQUF1QjN5RixLQUFLbThDLE1BQ3JEMDJDLGFBQWFSLEdBQVlTLGdCQUFnQixTQUM1Q0MsWUFBY1YsR0FBWVcsZ0JBQWdCaHpGLEtBQUs0bUYsU0FBUyxRQUN4RGlMLGNBQWMsZUFBZ0IsQ0FBRTVnRixPQUFRMjFFLE9BQ3BDcU0sZUFBZTdzRCxNQUFRaXNELEdBQVlDLE9BQU8xbkQsS0FBT3NvRCxHQUFTQyx3QkFDOURDLGVBQWVqSyxNQUFRLFFBQ3ZCaUssZUFBZWhLLE9BQVMsZUFvQ3BCaUssR0FDTHJ6RixLQUFLc3pGLFVBQVlELFNBQ2RDLFFBQVVELEVBQ1hyekYsS0FBSzZ4RixvQkFBb0JBLGNBQWMsZUFBZ0IsQ0FBRTVnRixPQUFRalIsS0FBSzRtRixnQ0FLckU1bUYsS0FBS3N6Rix3QkFJUmxGLEVBQVEsRUFDUmdFLEVBQVFweUYsVUFDTG95RixFQUFNVyxlQUNIWCxFQUFNVyx1QkFHVDNFLHNCQUlIbUYsRUFBWXZ6RixVQUNUdXpGLEVBQVVSLGVBQXlCUSxFQUFVUixtQkFDN0NRLEVBR1QxekYscUJBQ0VnbkYsU0FFTWtNLEVBQWMveUYsS0FBSyt5RixZQUNyQkEsTUFDVVMscUJBQXFCM00sS0FDNUJrTSxLQUlUbHpGLGVBQWVnbkYsS0FDUjdtRixXQUNBeXpGLG9CQUFvQjVNLElBRzNCaG5GLG9CQUNFZ25GLGFBRVd0MEQsS0FBU3Z5QixLQUFLMHpGLGNBQ2pCQyxlQUFlOU0sSUFJekJobkYsYUFDWUcsS0FBSzRtRixRQUFTNW1GLEtBQUtxcEYsT0FBUXJwRixLQUFLK3lGLGFBQWUveUYsS0FBSyt5RixZQUFZbk0sY0FDckVnTixjQUFlLE9BQ2ZDLGlDQUNPQyxvQkFBb0I5ekYsT0FHMUJILG9DQUNBK21GLEVBQVU1bUYsS0FBSzRtRixRQUNmOE0sRUFBYzF6RixLQUFLMHpGLFlBQ25CSyxFQUFpQkwsRUFBWXR2RSxRQUU3QjR2RSxFQUFzQmgwRixLQUFLK3lGLGlCQUM1QkEsWUFBY1YsR0FBWVcsZ0JBQWdCaHpGLEtBQUs0bUYsU0FBUyxHQUN6RG9OLElBQXdCaDBGLEtBQUsreUYsbUJBQzFCQSxhQUFlL3lGLEtBQUsreUYsWUFBWVcsWUFBWWxyRSxLQUFLeG9CLFdBQ2pENnhGLGNBQWMsYUFBYyxDQUFFNWdGLE9BQVEyMUUsT0FHakNubEYsT0FBUyxLQUNDbWxGLEVBQVM1bUYsS0FBS2kwRiw2QkFBOEJqMEYsZ0JBRXZEdXlCLEtBQVN3aEUsRUFBZ0IsQ0FDZDFCLEdBQVlXLGdCQUFnQnpnRSxFQUFNcTBELFNBQVMsT0FFdkRzTixjQUFlLElBQ1QxckUsS0FBSytKLE1BS2YxeUIsNkJBQTZCZ0UsTUFDL0I3RCxLQUFLazBGLHFCQUFxQixRQUN4QnBKLEVBQUtqbkYsRUFDTHN3RixFQUFTcEssaUJBQWlCZSxHQUNyQkEsRUFBRzRILGFBQWFMLEdBQVlNLDBCQUVoQ0UsYUFBYVIsR0FBWU0sc0JBQXVCTixHQUFZTyx5QkFFbkQ5SCxFQUFHb0QsYUFBYW1FLEdBQVlTLGtCQUNiLFVBQWhCaEksRUFBR2dELFVBQTZDLFNBQXJCcUcsRUFBTzN3QixVQUFzQixLQUNqRWp4QyxFQUFROC9ELEdBQVlDLE9BQU9sbkQsSUFBSTAvQyxVQUM5QnY0RCxNQUNLLElBQUkyZ0UsR0FBU3BJLEVBQUk5cUYsS0FBSzZ4RixxQkFFM0I2QixZQUFZbHJFLEtBQUsrSixJQUNmLFVBRUYsdUJBOEJ1QixVQUExQnZ5QixLQUFLNG1GLFFBQVFrSCxvQkFFYjNFLE1BQUVBLFNBQU9DLEdBQVdwcEYsS0FBS3FwRixVQUV6QkYsRUFBUUMsRUFBUyxFQUFHLFdMR0R4QyxFQUFrQndOLE9BQ3ZDdEksRUFBUS9CLGlCQUFpQm5ELEtBQ3JCcnhFLEtBQU95YSxXQUFXODdELEVBQU11SSxjQUFnQixJQUN4QzcrRSxNQUFRd2EsV0FBVzg3RCxFQUFNd0ksZUFBaUIsSUFDMUM3K0UsSUFBTXVhLFdBQVc4N0QsRUFBTXlJLGFBQWUsSUFDdEM3K0UsT0FBU3NhLFdBQVc4N0QsRUFBTTBJLGdCQUFrQixJS1ByQ3gwRixLQUFLNG1GLFFBQVM1bUYsS0FBS28wRixrQkxkVnhOLEVBQWtCNk4sT0FDdEMzSSxFQUFRL0IsaUJBQWlCbkQsS0FDdEJyeEUsS0FBT3lhLFdBQVc4N0QsRUFBTTFCLGFBQWUsSUFDdkM1MEUsTUFBUXdhLFdBQVc4N0QsRUFBTTRJLGNBQWdCLElBQ3pDai9FLElBQU11YSxXQUFXODdELEVBQU01QixZQUFjLElBQ3JDeDBFLE9BQVNzYSxXQUFXODdELEVBQU02SSxlQUFpQixJS1VwQzMwRixLQUFLNG1GLFFBQVM1bUYsS0FBS3kwRixpQkxQVDdOLEVBQWtCZ08sT0FDdEM5SSxFQUFRL0IsaUJBQWlCbkQsS0FDdEJyeEUsS0FBT3lhLFdBQVc4N0QsRUFBTVIsa0JBQW9CLElBQzVDOTFFLE1BQVF3YSxXQUFXODdELEVBQU0rSSxtQkFBcUIsSUFDOUNwL0UsSUFBTXVhLFdBQVc4N0QsRUFBTVQsaUJBQW1CLElBQzFDMzFFLE9BQVNzYSxXQUFXODdELEVBQU1nSixvQkFBc0IsSUtHekM5MEYsS0FBSzRtRixRQUFTNW1GLEtBQUs0MEYsV0FFcEIxekYsS0FBS0UsSUFBSXBCLEtBQUt5MEYsT0FBT2wvRSxLQUFNLEdBQUtyVSxLQUFLRSxJQUFJcEIsS0FBS3kwRixPQUFPai9FLE1BQU8sTUFDM0R0VSxLQUFLRSxJQUFJcEIsS0FBS3kwRixPQUFPaC9FLElBQUssR0FBS3ZVLEtBQUtFLElBQUlwQixLQUFLeTBGLE9BQU8vK0UsT0FBUSxTQUtoRXEvRSxFQUFtQjFDLEdBQVkyQyxjQUFjM0MsR0FBWU0sc0JBQXNCLEdBQUczeUYsS0FBS204QyxJQUN2Rjg0QyxFQUFlajFGLEtBQUs0bUYsUUFFcEJzTyxFQUE2QyxXQUQ3Qm5MLGlCQUFpQmtMLEdBQ0FFLFdBQzNCQyxzQkFBc0JILFNBQzVCSSxHRm5Ic0Ivd0MsRUVtSFEyd0MsRUZuSE1wSCxFRW1IUTd0RixLQUFLczFGLHNCRmxIMUIzSCxHQUFnQnJwQyxFQUFNLENBQUM4cEMsTUFBTyxFQUFHUCxTQUFBQSxJQWpIakRoK0QsUUFBUSxnQ0FBaUMsS0VtT3dCQSxRQUMxRWtsRSxFQUNFLEdBQUdBLEtBQW9CMUMsR0FBWWtELDBCQUNoQ0wsRUFBbUIsR0FBRzdDLEdBQVltRCxpQ0FBbUMsT0FDeEVuRCxHQUFZb0Qsb0JBQW9CejFGLEtBQUswMUYsZUFFckNDLEVBQWMzMUYsS0FBSzQxRixnQkFBZ0JYLEtBQzdCLEdBQUtVLEVBQVksR0FBRzlsRSxRQUM5QixPQUNBLFFBQVV3aUUsR0FBWXdELDZCQUErQixjQUdoREMsU0FBZ0JDLFFBQVFDLElBQUksQ0FDakMzRCxHQUFZNEQsZ0JBQWdCajJGLEtBQUs0bUYsU0FDakN5TCxHQUFZNkQsdUJBQXVCbDJGLEtBQUs0bUYsV0FFcEN1UCxFQUNKLGVBQ0FoTixFQUNBLGFBQ0FDLEVBQ0EsZ0ZBQ0EwTSxFQUFPdHlFLEtBQUssTUFDWix1REFDQTJsRSxFQUNBLGFBQ0FDLEVBQ0EsS0FDQXVNLEVBQVksR0FDWk4sRUFDQU0sRUFBWSxHQUNaLHlCQUNJUyxFQUFTcDJGLEtBQUtxMkYsYUFBZUYsRUFDN0JHLEVBQVV0MkYsS0FBS3UyRixTQUFXbEUsR0FBWW1FLG9CQUFvQkMsZ0JBQVk3RSxHQUFRN0osT0FBT3FPLEtBSXJGTSxFQUFheEQsR0FBU3lELGFBQWF2ckQsSUFBSWtyRCxNQUN6Q0ksR0FBY3hELEdBQVNELGVBQWUvMUMsSUFBSXc1QyxvQkFDdkNFLE9BQVMxRCxHQUFTRCxlQUFlN25ELElBQUlzckQsU0FLdkNHLGFBQWE5d0YsSUFBSXV3RixHQUFTLElBQUloTixJQUFTNytFLEtBQUt6SyxLQUFLcXBGLGNBQ2pEeU4sYUFBYS93RixJQUFJdXdGLEdBQVMsSUFBSXBFLElBQVF6bkYsS0FBS3pLLEtBQUt5MEYsWUFDekNzQyxvQkFBb0IvMkYsV0ZqS0pza0QsRUFBY3VwQyw0QkVzS3JDLElBQUlrSSxrQkFDSmlCLFNBQVNDLE9BQVMsUUFDVEMsaUJBQWlCbDNGLGlCQUcxQm0zRixvQkFBc0JuM0YsS0FBS3UyRixjQUMzQlMsU0FBU0ksSUFBT3AzRixLQUFLcTNGLFFBQVUsMkJBQTZCQyxtQkFBbUJ0M0YsS0FBS3EyRixjQUNyRnIyRixLQUFLZzNGLFNBQVNPLFVBQVl2M0YsS0FBS2czRixTQUFTUSxhQUFleDNGLEtBQUtnM0YsU0FBU0ksU0FDM0RGLGlCQUFpQmwzRixXQUN4QmczRixTQUFTQyxPQUFTLGNBTTdCcDNGLGVBQ1F5MkYsRUFBVXQyRixLQUFLbTNGLHdCQUVoQm4zRixLQUFLNjJGLGFBQWEzNUMsSUFBSW81QyxLQUFhdDJGLEtBQUs4MkYsYUFBYTU1QyxJQUFJbzVDLG9CQUN2RDFDLGNBQWUsT0FJakI1ekYsS0FBS2czRixTQUFTTyx3QkFDTEwsaUJBQWlCbDNGLFVBSTNCbXBGLE1BQUVBLFNBQU9DLEdBQVdwcEYsS0FBSzYyRixhQUFhenJELElBQUlrckQsSUFDMUMvZ0YsS0FBRUEsTUFBTUUsR0FBUXpWLEtBQUs4MkYsYUFBYTFyRCxJQUFJa3JELFNBRXBDbUIsRUFBZ0J6M0YsS0FBS296RixtQkFDdkJzRSxFQUFLRCxFQUFjdE8sTUFDbkJ3TyxFQUFLRixFQUFjck8sYUFDakJ3TyxFQUFPSCxFQUFjSSxXQUFXLFFBQ2pDQyxVQUFVLEVBQUcsRUFBR0osRUFBSUMsS0FDcEJJLHVCQUF3QixJQUN4QkMsVUFBVWg0RixLQUFLZzNGLFNBQVV6aEYsRUFBTUUsRUFBSzB6RSxFQUFPQyxFQUFRLEVBQUcsRUFBR3NPLEVBQUlDLFNBQzVETSxFQUFXTCxFQUFLTSxhQUFhLEVBQUcsRUFBR1IsRUFBSUMsR0FBSTV3RSxLQUMzQzJ2RSxFQUNKckUsR0FBWW1FLG9CQUFvQkMsZ0JBQVksSUFBSXhPLFdBQVdnUSxLQUMzRCxNQUNBOU8sRUFDQSxNQUNBQyxLQUNPdU4sYUFBYTV3RixJQUFJdXdGLEVBQVNJLFNBRTdCeUIsRUFBa0JqRixHQUFTa0YsaUJBQWlCaHRELElBQUlrckQsSUFBVSxLQUM1RGpFLEdBQVlnRyxhQUFhSixJQUFhRSxFQUFrQixhQUNqREMsaUJBQWlCcnlGLElBQUl1d0YsRUFBUTZCLEVBQWdCLG9CQUMzQyxJQUFNOUYsR0FBWTZFLGlCQUFpQmwzRixPQUFPLFFBSW5Ea3pGLEdBQVNELGVBQWUvMUMsSUFBSXc1QyxvQkFDekJFLE9BQVMxRCxHQUFTRCxlQUFlN25ELElBQUlzckQsVUFJdEM0QixFQUNKdDRGLEtBQUtzNEYsWUFDTHRvRSxXQUFXaHdCLEtBQUs0bUYsUUFBUThMLGFBQWFMLEdBQVlrRyx5QkFDakR2UCxPQUFPd1AsaUJBQ0hDLEVBQ0p2RixHQUFTRCxlQUFlcm9ELE9BQVNzb0QsR0FBU0QsZUFBZTdzRCxNQUNyRDhzRCxHQUFTRCxlQUFlM2lFLFFBQVMsR0FDakNrN0QsU0FBU0MsY0FBYyxjQUN6QmxyRixFQUFLazRGLEVBQVV0UCxNQUFRQSxFQUFRbVAsRUFDL0J6aUYsRUFBSzRpRixFQUFVclAsT0FBU0EsRUFBU2tQLFFBQy9CblMsRUFBTXNTLEVBQVVaLFdBQVcsUUFDN0JFLHVCQUF3QixJQUN4QkQsVUFBVSxFQUFHLEVBQUd2M0YsRUFBR3NWLEtBQ25CbWlGLFVBQVVoNEYsS0FBS2czRixTQUFVemhGLEVBQU1FLEVBQUswekUsRUFBT0MsRUFBUSxFQUFHLEVBQUc3b0YsRUFBR3NWLE1BQ3ZEbzlFLGVBQWVsdEYsSUFBSTJ3RixFQUFZK0IsUUFDbkM3QixPQUFTNkIsR0FJUjU0RixnQkFBZ0IrbUYsU0FDaEI4UixFQUFRLEdBQ1JDLEVBQVMsT0FDWHAwQyxFQUFTcWlDLEVBQVFzRSxjQUNoQjNtQyxNQUFpQmluQyxTQUFTN0IsbUJBQzVCLEtBQ0c4SSxFQUFNbHVDLEVBQU9ncEMsUUFBUXhxRSxjQUNyQnVyRSxFQUFhLGNBQ04zdEYsS0FBSzRqRCxFQUFPK3BDLFdBQ04sVUFBWDN0RixFQUFFcWhCLFVBRVEsR0FBR3JoQixFQUFFcWhCLFNBQVNyaEIsRUFBRVYsaUJBRTFCeW9GLEVBQ0osSUFDQStKLEdBQ1MsV0FDTCwwREFDRXp5RixLQUFLcXBGLE9BQU9GLHNCQUFzQm5wRixLQUFLcXBGLE9BQU9ELDJCQUM5Q3BwRixLQUFLNDBGLE9BQU9uL0UsSUFBTXpWLEtBQUt5MEYsT0FBT2gvRSxJQUFNelYsS0FBS28wRixRQUFRMytFLFVBQ25ELElBQ0o2NEUsRUFDQSxHQUFHK0QsR0FBWXVHLHFDQUdYcm9FLFFBQVFtNEQsU0FDUm1RLEVBQVEsS0FBT3BHLEVBQU0sU0FDcEJqcUUsS0FBS3F3RSxHQUNELFFBQVBwRyxjQUNJbHVDLEVBQVNBLElBQVdpbkMsU0FBUzdCLGdCQUFrQnBsQyxFQUFPMm1DLGVBQWlCTSxTQUFTN0IsZ0JBQWtCLGFBQ3JHLENBQUMrTyxFQUFNbDFFLEtBQUssSUFBS20xRSxFQUFPbjFFLEtBQUssaUJBeFdqQ3MxRSxHQUNFM0YsbUJBQXFCLEVBQ2IyRixHQUFBVixpQkFBd0MsSUFBSXQ3QyxJQUM1Q2c4QyxHQUFBbkMsYUFBdUMsSUFBSW5LLFVBQU8sS0FINURzTSxHQUlVN0YsZUFBb0QsSUFBSXpHLFVBQU8wRyxHQUFTQyxvQkNsQ3pGLElDQUk0RixHQUNPQyxHRERQQyxHQUFrQixHRUFsQkMsR0FBTSxpRURDQ0YsR0FJUkQsUUFBd0QsZ0JBSGQsNEJBQ0MsMENBQ2EsMkJFSnBELElDQUhJLEdEQU92K0UsR0FBUyxTQUFVc29CLFVBQWN2b0IsT0FBT0MsT0FBT3NvQixJRUN0RGsyRCxZQUM0QkMsRUFBWXRLLFFBQy9Cc0ssV0FBYUEsT0FDYnRLLFVBQVlBLEtBQ1YvdUYsUUNKWHM1RixHQUFtQixzQkFDTXg1RixFQUFHQyxFQUFHb3BGLEVBQU9DLGVBQzdCdHBGLEVBQUlBLE9BQ0pDLEVBQUlBLE9BQ0pvcEYsTUFBUUEsT0FDUkMsT0FBU0EsT0FDVDN6RSxJQUFNelYsS0FBS0QsT0FDWHdWLEtBQU92VixLQUFLRixPQUNaNFYsT0FBUzFWLEtBQUt5VixJQUFNelYsS0FBS29wRixZQUN6QjV6RSxNQUFReFYsS0FBS3VWLEtBQU92VixLQUFLbXBGLE1BQ3ZCdnVFLEdBQU81YSxlQUVGcUQsVUFBVXd6QixPQUFTLGVBQzNCNk8sRUFBSzFsQyxZQUNGLENBQUVGLEVBRFU0bEMsRUFBRzVsQyxFQUNQQyxFQURjMmxDLEVBQUczbEMsRUFDWDBWLElBRG9CaXdCLEVBQUdqd0IsSUFDYkQsTUFEMEJrd0IsRUFBR2x3QixNQUNmRSxPQUQrQmd3QixFQUFHaHdCLE9BQ2xCSCxLQURpQ213QixFQUFHbndCLEtBQ3hCNHpFLE1BRHNDempELEVBQUd5akQsTUFDM0JDLE9BRDJDMWpELEVBQUcwakQsV0FHekhtUSxTQUFXLFNBQVVDLFVBQzFCLElBQUlDLEVBQWdCRCxFQUFVMTVGLEVBQUcwNUYsRUFBVXo1RixFQUFHeTVGLEVBQVVyUSxNQUFPcVEsRUFBVXBRLFNBRTdFcVEsRUFuQlksR0NEbkJDLEdBQVEsU0FBVXpvRixVQUFpQkEsYUFBa0Iwb0YsWUFBYyxZQUFhMW9GLEdBQ2hGMm9GLEdBQVcsU0FBVTNvRixNQUNqQnlvRixHQUFNem9GLEdBQVMsS0FDWHkwQixFQUFLejBCLEVBQU80b0YsVUFBVzFRLEVBQVF6akQsRUFBR3lqRCxNQUFPQyxFQUFTMWpELEVBQUcwakQsZUFDakRELElBQVVDLE1BRWxCempELEVBQUsxMEIsRUFBUXE1RSxFQUFjM2tELEVBQUcya0QsWUFBYUcsRUFBZTlrRCxFQUFHOGtELHlCQUN6Q0EsR0FBZ0J4NUUsRUFBTzZvRixpQkFBaUJyNEYsU0FFaEVzNEYsR0FBWSxTQUFVNzJELE9BQ2xCd0MsRUFBSUMsS0FDSnpDLGFBQWU4MkQsZ0JBQ1IsTUFFUHhsRSxFQUFvRixVQUF2RCxVQUFUME8sU0FBd0IsSUFBUHdDLE9BQWdCLEVBQVNBLEVBQUcrakQscUJBQWtDLElBQVA5akQsT0FBZ0IsRUFBU0EsRUFBR2lsRCx5QkFDekcxbkQsYUFBZTFPLEVBQU13bEUsVUNmakMvUSxHQUEyQixvQkFBWEQsT0FBeUJBLE9BQVMsR0NNekRuc0MsR0FBUSxJQUFJbzlDLFFBQ1pDLEdBQWUsY0FDZkMsR0FBaUIsZUFDakJDLEdBQU0sZ0JBQWlCbjRFLEtBQUtnbkUsR0FBT29SLFdBQWFwUixHQUFPb1IsVUFBVUMsV0FDakVDLEdBQWlCLFNBQVVDLFVBQWdCeHFFLFdBQVd3cUUsR0FBUyxNQUMvRDV2RCxHQUFPLFNBQVV5dUQsRUFBWXRLLEVBQVcwTCxlQUNyQixJQUFmcEIsTUFBc0MsUUFDeEIsSUFBZHRLLE1BQW9DLFFBQ3BCLElBQWhCMEwsT0FBd0MsR0FDckMsSUFBSXJCLE1BQWtDckssRUFBWXNLLElBQWUsS0FBa0JBLEVBQWF0SyxJQUFjLElBRXJIMkwsR0FBWTkvRSxHQUFPLENBQ25CKy9FLDBCQUEyQi92RCxLQUMzQmd3RCxjQUFlaHdELEtBQ2Zpd0QsZUFBZ0Jqd0QsS0FDaEJrd0QsWUFBYSxJQUFJeEIsR0FBZ0IsRUFBRyxFQUFHLEVBQUcsS0FFMUN5QixHQUFvQixTQUFVOXBGLEVBQVErcEYsV0FDWCxJQUF2QkEsT0FBc0QsR0FDdERuK0MsR0FBTUssSUFBSWpzQyxLQUFZK3BGLFNBQ2ZuK0MsR0FBTXpSLElBQUluNkIsTUFFakIyb0YsR0FBUzNvRixhQUNIbEwsSUFBSWtMLEVBQVF5cEYsSUFDWEEsT0FFUE8sRUFBS2xSLGlCQUFpQjk0RSxHQUN0QmlxRixFQUFNeEIsR0FBTXpvRixJQUFXQSxFQUFPa3FGLGlCQUFtQmxxRixFQUFPNG9GLFVBQ3hEdUIsR0FBaUJoQixJQUF1QixlQUFqQmEsRUFBR0ksVUFDMUJaLEVBQWNOLEdBQWVsNEUsS0FBS2c1RSxFQUFHSyxhQUFlLElBQ3BEQyxHQUF1QkwsR0FBT2hCLEdBQWFqNEUsS0FBS2c1RSxFQUFHTyxXQUFhLElBQ2hFQyxHQUF5QlAsR0FBT2hCLEdBQWFqNEUsS0FBS2c1RSxFQUFHUyxXQUFhLElBQ2xFbkgsRUFBYTJHLEVBQU0sRUFBSVgsR0FBZVUsRUFBRzFHLFlBQ3pDRCxFQUFlNEcsRUFBTSxFQUFJWCxHQUFlVSxFQUFHM0csY0FDM0NFLEVBQWdCMEcsRUFBTSxFQUFJWCxHQUFlVSxFQUFHekcsZUFDNUNILEVBQWM2RyxFQUFNLEVBQUlYLEdBQWVVLEVBQUc1RyxhQUMxQ3NILEVBQVlULEVBQU0sRUFBSVgsR0FBZVUsRUFBRzVQLGdCQUN4Q3VRLEVBQWNWLEVBQU0sRUFBSVgsR0FBZVUsRUFBR3BHLGtCQUMxQ2dILEVBQWVYLEVBQU0sRUFBSVgsR0FBZVUsRUFBR25HLG1CQUUzQ2dILEVBQW9CekgsRUFBY0MsRUFDbEN5SCxFQUFrQnhILEVBQWFDLEVBQy9Cd0gsR0FIYWQsRUFBTSxFQUFJWCxHQUFlVSxFQUFHM1Asa0JBR0xzUSxFQUNwQ0ssRUFBcUJOLEVBQVlFLEVBQ2pDSyxFQUFnQ1QsRUFBNEJ4cUYsRUFBT3c1RSxhQUFld1IsRUFBcUJockYsRUFBT3k1RSxhQUF0RCxFQUN4RHlSLEVBQThCWixFQUEwQnRxRixFQUFPcTVFLFlBQWMwUixFQUF1Qi9xRixFQUFPczVFLFlBQXZELEVBQ3BENlIsRUFBaUJoQixFQUFnQlUsRUFBb0JFLEVBQXVCLEVBQzVFSyxFQUFrQmpCLEVBQWdCVyxFQUFrQkUsRUFBcUIsRUFDekVLLEVBQWVwQixFQUFNQSxFQUFJL1IsTUFBUW9SLEdBQWVVLEVBQUc5UixPQUFTaVQsRUFBaUJELEVBQzdFSSxFQUFnQnJCLEVBQU1BLEVBQUk5UixPQUFTbVIsR0FBZVUsRUFBRzdSLFFBQVVpVCxFQUFrQkgsRUFDakZNLEVBQWlCRixFQUFlUixFQUFvQkssRUFBNkJILEVBQ2pGUyxFQUFrQkYsRUFBZ0JSLEVBQWtCRyxFQUErQkQsRUFDbkZTLEVBQVE5aEYsR0FBTyxDQUNmKy9FLDBCQUEyQi92RCxHQUFLMXBDLEtBQUtXLE1BQU15NkYsRUFBZTlELGtCQUFtQnQzRixLQUFLVyxNQUFNMDZGLEVBQWdCL0Qsa0JBQW1CaUMsR0FDM0hHLGNBQWVod0QsR0FBSzR4RCxFQUFnQkMsRUFBaUJoQyxHQUNyREksZUFBZ0Jqd0QsR0FBSzB4RCxFQUFjQyxFQUFlOUIsR0FDbERLLFlBQWEsSUFBSXhCLEdBQWdCakYsRUFBYUUsRUFBWStILEVBQWNDLGVBRXRFeDJGLElBQUlrTCxFQUFReXJGLEdBQ1hBLEdBRVBDLEdBQW1CLFNBQVUxckYsRUFBUTJyRixFQUFhNUIsT0FDOUN0MUQsRUFBS3ExRCxHQUFrQjlwRixFQUFRK3BGLEdBQXFCSixFQUFnQmwxRCxFQUFHazFELGNBQWVDLEVBQWlCbjFELEVBQUdtMUQsZUFBZ0JGLEVBQTRCajFELEVBQUdpMUQsaUNBQ3JKaUMsUUFDQzdELEdBQXlCOEQsZ0NBQ25CbEMsT0FDTjVCLEdBQXlCK0Qsa0JBQ25CbEMsaUJBRUFDLElDekVma0MsWUFDNkI5ckYsT0FDckJ5ckYsRUFBUTNCLEdBQWtCOXBGLFFBQ3pCQSxPQUFTQSxPQUNUNnBGLFlBQWM0QixFQUFNNUIsaUJBQ3BCRixjQUFnQmhnRixHQUFPLENBQUM4aEYsRUFBTTlCLHFCQUM5QkMsZUFBaUJqZ0YsR0FBTyxDQUFDOGhGLEVBQU03QixzQkFDL0JGLDBCQUE0Qi8vRSxHQUFPLENBQUM4aEYsRUFBTS9CLDhCQ1JuRHFDLEdBQXdCLFNBQVUxNEMsTUFDOUJzMUMsR0FBU3QxQyxVQUNGdHVDLEVBQUFBLFVBRVBvNEUsRUFBUSxFQUNSN3BDLEVBQVNELEVBQUsyNEMsV0FDWDE0QyxNQUNNLElBQ0FBLEVBQU8wNEMsa0JBRWI3TyxHQ1BQOE8sR0FBOEIsZUFDMUJDLEVBQWtCbm5GLEVBQUFBLEVBQ2xCb25GLEVBQVksTUFDQXIxRSxTQUFRLFNBQXlCczFFLE1BQ2IsSUFBNUJBLEVBQUdDLGNBQWM3N0YsWUFHakJ5ckIsRUFBVSxLQUNYb3dFLGNBQWN2MUUsU0FBUSxTQUF1QncxRSxPQUN4QzU2RSxFQUFRLElBQUlvNkUsR0FBb0JRLEVBQUd0c0YsUUFDbkN1c0YsRUFBY1IsR0FBc0JPLEVBQUd0c0YsVUFDbkN1WCxLQUFLN0YsS0FDVjg2RSxpQkFBbUJkLEdBQWlCWSxFQUFHdHNGLE9BQVFzc0YsRUFBR1gsYUFDakRZLEVBQWNMLE1BQ0lLLFNBR2hCaDFFLE1BQUssYUFDUnRkLFNBQVM0VyxLQUFLdTdFLEVBQUdLLFNBQVV4d0UsRUFBU213RSxFQUFHSyxnQkFFM0NKLGNBQWN0dkUsT0FBTyxFQUFHcXZFLEVBQUdDLGNBQWM3N0YscUJBRXZDNHZDLEVBQUssRUFBR3NzRCxFQUFjUCxFQUFXL3JELEVBQUtzc0QsRUFBWWw4RixPQUFRNHZDLElBQU0sS0FDdERzc0QsRUFBWXRzRCxjQUd4QjhyRCxHQzVCUFMsR0FBa0MsU0FBVXhQLE1BQzVCcm1FLFNBQVEsU0FBeUJzMUUsS0FDMUNDLGNBQWN0dkUsT0FBTyxFQUFHcXZFLEVBQUdDLGNBQWM3N0YsVUFDekNvOEYsZUFBZTd2RSxPQUFPLEVBQUdxdkUsRUFBR1EsZUFBZXA4RixVQUMzQ3E4RixtQkFBbUIvMUUsU0FBUSxTQUF1QncxRSxHQUM3Q0EsRUFBR1EsYUFDQ2YsR0FBc0JPLEVBQUd0c0YsUUFBVW05RSxJQUNoQ2tQLGNBQWM5MEUsS0FBSyswRSxLQUduQk0sZUFBZXIxRSxLQUFLKzBFLGNDUHZDUyxHQUFVLGVaSE5DLEVZSUE3UCxFQUFRLFNBQ29CQSxHQ0x6QjZLLEdBQWdCN3pFLE1BQUssU0FBVWk0RSxVQUFhQSxFQUFHQyxjQUFjNzdGLE9BQVMsUURPakV5N0YsUUFDd0I5TyxVRVI3QjZLLEdBQWdCN3pFLE1BQUssU0FBVWk0RSxVQUFhQSxFQUFHUSxlQUFlcDhGLE9BQVMsT2RDcEQsbUJBQWZ5OEYsYUFDQyxJQUFJQSxXQUFXLFFBQVMsQ0FDNUJoc0UsUUFBU2duRSxTQUlMMU4sU0FBUzJTLFlBQVksVUFDdkJDLFVBQVUsU0FBUyxHQUFPLEtBQzFCbHNFLFFBQVVnbkUsV0FFYm1GLGNBQWNKLElZRWQ3UCxFQUFRLEdWZGZrUSxHQUFZLEdBRVpDLEdBQWlCLFNBQVVyekYsT0FDdEJpdUYsR0FBUyxLQUNOcUYsRUFBVyxFQUNYQyxFQUFPalQsU0FBU2tULGVBQWUsUUFFL0JDLGtCQUFpQixrQkFOS0wsR0FBVXR3RSxPQUFPLEdBQUdqRyxTQUFRLFNBQVU2MkUsVUFBYUEsVUFNdEJDLFFBQVFKLEVBRGxELENBQUVLLGVBQWUsT0FFcEIsYUFBbUJDLFlBQWMsTUFBaUJQLElBQWFBLFdBRW5FaDJFLEtBQUt0ZCxVYVJmOHpGLEdBQVcsRUFHWEMsR0FBaUIsQ0FBRTNRLFlBQVksRUFBTXdRLGVBQWUsRUFBTUksV0FBVyxFQUFNQyxTQUFTLEdBQ3BGQyxHQUFTLENBQ1QsU0FDQSxPQUNBLGdCQUNBLGVBQ0EsaUJBQ0EscUJBQ0EsUUFDQSxVQUNBLFVBQ0EsWUFDQSxZQUNBLFdBQ0EsT0FDQSxTQUVBQyxHQUFPLFNBQVVDLGVBQ0QsSUFBWkEsTUFBZ0MsR0FDN0JyL0UsS0FBS3MvRSxNQUFRRCxHQUVwQkUsSUFBWSxFQWtFWkMsR0FBWSxJQWpFQyw0QkFFTEMsRUFBUTEvRixVQUNQMi9GLFNBQVUsT0FDVnJaLFNBQVcsa0JBQXFCb1osRUFBTUUsc0JBRXJDdjhGLFVBQVV3OEYsSUFBTSxTQUFVUCxPQUM1QkksRUFBUTEvRixhQUNJLElBQVpzL0YsTUEvQk8sTUFnQ1BFLFFBR1EsTUN2Q2dCWixFRHdDeEJrQixFQUFRVCxHQUFLQyxHQ3hDV1YsRUR5Q1IsZUFDWm1CLEdBQXNCLFFBRUEvQixxQkFHVixJQUNGOEIsRUFBUVQsTUE3Q01MLFVBaURwQmUsSUFDTUYsSUFBSSxLQUVMUCxFQUFVLElBQ1RPLElBQUlQLEtBR0oxeUUsZUMxRFAsaUNBQ1dneUUsWUQ4RGhCdjdGLFVBQVV1OEYsU0FBVyxnQkFDdEJJLFlBQ0FILFVBRUN4OEYsVUFBVXc3RixRQUFVLGVBQ3RCYSxFQUFRMS9GLEtBQ1I0K0YsRUFBSyxrQkFBcUJjLEVBQU1oQyxVQUFZZ0MsRUFBTWhDLFNBQVNtQixRQUFRclQsU0FBUzVCLEtBQU1xVixjQUM3RXJWLEtBQU9nVixJQUFPM1YsR0FBT2dYLGlCQUFpQixtQkFBb0JyQixPQUU3RHY3RixVQUFVdXBCLE1BQVEsZUFDcEI4eUUsRUFBUTEvRixLQUNSQSxLQUFLMi9GLGVBQ0FBLFNBQVUsT0FDVmpDLFNBQVcsSUFBSWlCLGlCQUFpQjMrRixLQUFLc21GLGVBQ3JDdVksYUFDRTkyRSxTQUFRLFNBQVV4QixVQUFlMGlFLEdBQU9nWCxpQkFBaUIxNUUsRUFBTW01RSxFQUFNcFosVUFBVSxXQUdwRmpqRixVQUFVMjhGLEtBQU8sZUFDbkJOLEVBQVExL0YsS0FDUEEsS0FBSzIvRixlQUNEakMsVUFBWTE5RixLQUFLMDlGLFNBQVN3QyxnQkFDeEJuNEUsU0FBUSxTQUFVeEIsVUFBZTBpRSxHQUFPa1gsb0JBQW9CNTVFLEVBQU1tNUUsRUFBTXBaLFVBQVUsV0FDcEZxWixTQUFVLEtBR2hCUyxFQS9ETSxJQWtFYkMsR0FBYyxTQUFVeDhGLElBQ3ZCbTdGLElBQVluN0YsRUFBSSxHQUFLNDdGLEdBQVU3eUUsY0FDcEIvb0IsSUFDQzQ3RixHQUFVTyxTRXpGdkJNLEdBQXFCLHNCQUNNcnZGLEVBQVEyckYsUUFDMUIzckYsT0FBU0EsT0FDVDJyRixZQUFjQSxHQUFlN0QsR0FBeUJ3SCxpQkFDdEQ5QyxpQkFBbUIsQ0FDcEJwRSxXQUFZLEVBQ1p0SyxVQUFXLGFBR0QxckYsVUFBVTA2RixTQUFXLGVBZFA5c0YsRUFleEJvRixFQUFPc21GLEdBQWlCMzhGLEtBQUtpUixPQUFRalIsS0FBSzQ4RixhQUFhLFVBZi9CM3JGLEVBZ0JKalIsS0FBS2lSLE9BZnpCeW9GLEdBQU16b0YsSVphTSxTQUFVQSxVQUN0QkEsRUFBT3M4RSxhQUNOLFdBQ21CLFVBQWhCdDhFLEVBQU9rUSxlQUdWLFlBQ0EsWUFDQSxZQUNBLGFBQ0EsYUFDQSxhQUNBLGNBQ00sVUFFUixFWTNCQ3EvRSxDQUFrQnZ2RixJQUNrQixXQUFyQzg0RSxpQkFBaUI5NEUsR0FBUWtrRixlQWNuQnNJLGlCQUFtQnBuRixHQUV4QnJXLEtBQUt5OUYsaUJBQWlCcEUsYUFBZWhqRixFQUFLZ2pGLFlBQ3ZDcjVGLEtBQUt5OUYsaUJBQWlCMU8sWUFBYzE0RSxFQUFLMDRFLFdBSzdDMFIsRUFwQmMsR0NSckJDLFlBQzhCQyxFQUFnQnoxRixRQUNyQ295RixjQUFnQixRQUNoQk8sZUFBaUIsUUFDakJDLG1CQUFxQixRQUNyQkosU0FBV2lELE9BQ1h6MUYsU0FBV0EsSUNGcEIwMUYsR0FBYyxJQUFJM0csUUFDbEI0RyxHQUFzQixTQUFVL0MsRUFBb0I3c0YsV0FDM0N6TixFQUFJLEVBQUdBLEVBQUlzNkYsRUFBbUJyOEYsT0FBUStCLEdBQUssS0FDNUNzNkYsRUFBbUJ0NkYsR0FBR3lOLFNBQVdBLFNBQzFCek4sYUFLZnM5RixHQUE0QixrQ0FHSEMsUUFBVSxTQUFVSixFQUFnQnoxRixPQUNyRDgxRixFQUFTLElBQUlOLEdBQXFCQyxFQUFnQnoxRixNQUMxQ25GLElBQUk0NkYsRUFBZ0JLLE9BRVhuQyxRQUFVLFNBQVU4QixFQUFnQjF2RixFQUFRb2QsT0FDN0QyeUUsRUFBU0osR0FBWXgxRCxJQUFJdTFELEdBQ3pCTSxFQUF3RCxJQUFyQ0QsRUFBT2xELG1CQUFtQnI4RixPQUM3Q28vRixHQUFvQkcsRUFBT2xELG1CQUFvQjdzRixHQUFVLE9BQ3JDZ29GLEdBQWdCendFLEtBQUt3NEUsS0FDbENsRCxtQkFBbUJ0MUUsS0FBSyxJQUFJODNFLEdBQWtCcnZGLEVBQVFvZCxHQUFXQSxFQUFRN1gsU0FDcEUsTUFDRm9wRixnQkFHT3NCLFVBQVksU0FBVVAsRUFBZ0IxdkYsT0FDdkQrdkYsRUFBU0osR0FBWXgxRCxJQUFJdTFELEdBQ3pCeGdHLEVBQVEwZ0csR0FBb0JHLEVBQU9sRCxtQkFBb0I3c0YsR0FDdkRrd0YsRUFBdUQsSUFBckNILEVBQU9sRCxtQkFBbUJyOEYsT0FDNUN0QixHQUFTLE9BQ1U4NEYsR0FBZ0JqckUsT0FBT2lyRSxHQUFnQmoyRSxRQUFRZytFLEdBQVMsS0FDcEVsRCxtQkFBbUI5dkUsT0FBTzd0QixFQUFPLGVBSXZCKy9GLFdBQWEsU0FBVVMsT0FDeENqQixFQUFRMS9GLEtBQ1JnaEcsRUFBU0osR0FBWXgxRCxJQUFJdTFELEtBQ3RCN0MsbUJBQW1CMTVFLFFBQVEyRCxTQUFRLFNBQVV3MUUsVUFBYW1DLEVBQU13QixVQUFVUCxFQUFnQnBELEVBQUd0c0YsYUFDN0Zxc0YsY0FBY3R2RSxPQUFPLEVBQUdnekUsRUFBTzFELGNBQWM3N0YsVUFFakQyL0YsRUFqQ3FCLEdDWDVCQyxHQUFrQixzQkFDTW4yRixNQUNLLElBQXJCb0QsVUFBVTdNLGFBQ0osSUFBSThmLFVBQVUscUZBRUEsbUJBQWJyVyxRQUNELElBQUlxVyxVQUFVLG9HQUVDdy9FLFFBQVEvZ0csS0FBTWtMLGFBRTVCN0gsVUFBVXc3RixRQUFVLFNBQVU1dEYsRUFBUW9kLE1BQ3hCLElBQXJCL2YsVUFBVTdNLGFBQ0osSUFBSThmLFVBQVUsaUdBRW5CdzRFLEdBQVU5b0YsU0FDTCxJQUFJc1EsVUFBVSwyRkFFQ3M5RSxRQUFRNytGLEtBQU1pUixFQUFRb2QsT0FFcENockIsVUFBVTY5RixVQUFZLFNBQVVqd0YsTUFDbEIsSUFBckIzQyxVQUFVN00sYUFDSixJQUFJOGYsVUFBVSxtR0FFbkJ3NEUsR0FBVTlvRixTQUNMLElBQUlzUSxVQUFVLDZGQUVDMi9FLFVBQVVsaEcsS0FBTWlSLE9BRTlCNU4sVUFBVTY4RixXQUFhLGNBQ1RBLFdBQVdsZ0csVUFFekJ5RCxTQUFXLGtCQUNmLGtEQUVKNjlGLEVBbENXLEdDRXRCLE1BQU1ELEdBQWtDRSxLQUFhRixnQkFBa0JHLEdBa0R2RSxNQUFNQyxHQUFjLElBQUlseUYsRUFDbEJteUYsR0FBYyxJQUFJbnlGLEVBQ2xCb3lGLEdBQWMsSUFBSTdaLFlBQ05pTyxRQUFRNkwsVUFFbkIseURBRXVDNWhHLEtBQUs2aEcsaUJBQW1CLDJDQUM5QjdoRyxLQUFLNmhHLGlCQUFtQiw4Q0FDdkI3aEcsS0FBSzZoRyxpQkFBbUIsOENBQ3pCN2hHLEtBQUs2aEcsaUJBQW1CLDhDQUN2QjdoRyxLQUFLNmhHLGlCQUFtQiw4Q0FDekI3aEcsS0FBSzZoRyxpQkFBbUIsbURBQ2xCN2hHLEtBQUs2aEcsaUJBQW1CLHVEQUUxQjdoRyxLQUFLNmhHLGlCQUFtQiw0REFDakI3aEcsS0FBSzZoRyxpQkFBbUIsc0VBQ3JCN2hHLEtBQUs2aEcsaUJBQW1CLHNFQUMzQjdoRyxLQUFLNmhHLGlCQUFtQixxRUFDdEI3aEcsS0FBSzZoRyxpQkFBbUIseURBR3RDLEdBQU03aEcsS0FBSzhoRyxzQ0F3QnJCQyxVQUV2QixHQUFHQSxFQUFPalEsTUFBUSxHQUFHOXhGLEtBQUtnaUcsc0JBQXdCLE1BQy9DRCxFQUFPL1AsTUFBUSxHQUFHaHlGLEtBQUtpaUcsc0JBQXdCLE1BQy9DRixFQUFPaFEsT0FBUyxHQUFHL3hGLEtBQUtraUcsdUJBQXlCLE1BQ2pESCxFQUFPOXdGLE9BQVMsR0FBR2pSLEtBQUttaUcsdUJBQXlCLHFDQVV6QnZiLFNBQ3ZCaUQsRUFBV2pELEVBQVE2QyxjQUNuQjJZLEVBQVd4YixFQUFReWIsY0FDbkJDLEVBQVksU0FBVUYsRUFBV0EsRUFBU0csS0FBT0gsS0FDbkRwaUcsS0FBS3dpRyxrQkFBa0JwM0QsSUFBSWczRCxjQUUxQnBpRyxLQUFLeWlHLHNCQUF1QixPQUN6QjNXLEVBQVE5ckYsS0FBS3lpRyxzQkFBd0I1WSxFQUFTNEIsY0FBYyxXQUN4RGlYLE9BQU81VyxTQUNYMUUsRUFBUTBFLEVBQU0xRSxVQUNoQjVqRixFQUFJLEtBRU40akYsRUFDQSxJQUFJdWIsR0FBWTlNLGtDQUNoQiw4QkFDQXJ5RixRQUdBNGpGLEVBQ0EsSUFBSXViLEdBQVlwTiwwQkFBMEJvTixHQUFZcE4seUJBQ3RELGtDQUNBL3hGLFFBR0E0akYsRUFDQSxJQUFJdWIsR0FBWXBOLHlCQUF5Qm9OLEdBQVk3UCxzQkFDbkQ2UCxHQUFZcE4seUJBQXlCb04sR0FBWTdQLHFCQUNuRCxpQ0FDQXR2RixRQUdBNGpGLEVBQ0EsSUFBSXViLEdBQVlwTix1QkFDaEIsaUxBQ0EveEYsUUFHQTRqRixFQUNBLElBQUl1YixHQUFZbk4sOEJBQ2hCLDZEQUNBaHlGLFFBR0E0akYsRUFDQSxJQUFJdWIsR0FBWS9KLDhCQUNoQixxVEFDQXAxRixRQUdBNGpGLEVBQ0EsSUFBSXViLEdBQVkvSix5Q0FBeUMrSixHQUFZL0oscUNBQ3JFLHVEQUNBcDFGLFNBSUE0K0YsSUFBYXZZLEVBQVUsS0FDckIrWSxFQUFlLFNBQ2JDLEVBQWUsUUFDZkQsR0FBZ0I1WixPQUFPOFosU0FBUzdsRCxNQUM5QityQyxPQUFPOFosU0FBUzdsRCxjQUdYOGxELGNBQWdCWCxFQUFTWSxjQUFjaGEsT0FBTzhaLFNBQVM3bEQsZ0JBSW5EK3JDLE9BQU84WixTQUFTN2xELGNBRzFCZ2pELGlCQUFpQixhQUFjNEMsR0FBYyxjQUc3QzVDLGlCQUFpQixXQUFZZ0QsU0FFN0JDLGFBQWVELEVBQUloeUYsV0FDdkIsVUFFSWd2RixpQkFBaUIsWUFBYWdELFNBRTlCQyxhQUFlLFNBQ25CLFVBRUlqRCxpQkFBaUIsUUFBU2hDLG1CQUs3QmtGLEVBQTZCLGVBQ3JCbmlHLEVBQUUrSSxLQUFNL0osS0FBS3N5RixTQUFVc0IsY0FBZSxJQUc5Q3dQLEVBQThCOStDLFFBQzlCd3BDLEVBQVd4cEMsRUFBS3dwQyxTQUFTM3BGLG1CQUN6QmsvRixFQUFZcmdGLFFBQVE4cUUsTUFDakJtUyxpQkFBaUIsT0FBUWtELEtBRzVCRSxFQUFjLENBQUMsUUFBUyxRQUN4QjNGLEVBQVcsSUFBSWlCLGtCQUFrQjJFLG9CQUMxQnZpRyxLQUFLdWlHLEVBQVcsTUFDckJELEVBQVlyZ0YsUUFBUWppQixFQUFFa1EsT0FBTzY4RSxTQUFTM3BGLG1DQUVuQ28vRixZQUFZbjRELElBQUl5K0MsT0FBV3R0QyxPQUFPeDdDLEVBQUVrUSxtQkFFaENxekMsS0FBUXZqRCxFQUFFeWlHLGFBQXVDbC9DLFVBR3ZEdTZDLFFBQVFoVixFQUFVLENBQ3pCcVYsV0FBVyxFQUNYNVEsWUFBWSxFQUNad1EsZUFBZSxFQUNmSyxTQUFTLEVBQ1RzRSxtQkFBbUIsRUFDbkJDLHVCQUF1QixTQUdwQmxCLGtCQUFrQno4RixJQUFJcThGLEVBQVUxRSwrQkFHWnRMLFFBQ3JCcHlGLEtBQUsyakcsZUFBZTNnRixRQUFRb3ZFLFNBQW9CdVIsZUFBZW43RSxLQUFLNHBFLCtCQUcvQ0EsUUFDckJweUYsS0FBSzRqRyxlQUFlNWdGLFFBQVFvdkUsU0FBb0J3UixlQUFlcDdFLEtBQUs0cEUsNEJBR2xEQSxRQUNsQnB5RixLQUFLNmpHLFlBQVk3Z0YsUUFBUW92RSxTQUFvQnlSLFlBQVlyN0UsS0FBSzRwRSwwQkFPdEQwUixjQUFlLFFBQ3JCSCxFQUFpQmhCLEdBQVlnQixlQUM3QkMsRUFBaUJqQixHQUFZaUIsZUFDN0JDLEVBQWNsQixHQUFZa0IsWUFDMUJFLEVBQWNwQixHQUFZcUIsbUJBQXFCLE1BQ2pEQyxFQUFZQyxZQUFZM0UsV0FDckJzRSxFQUFZcGlHLFFBQVV5aUcsWUFBWTNFLE1BQVEwRSxFQUFZRixLQUMvQ3p6RSxRQUFTNnpFLGVBRVhELFlBQVkzRSxNQUNqQm9FLEVBQWVsaUcsUUFBVXlpRyxZQUFZM0UsTUFBUTBFLEVBQVlGLEtBQy9DenpFLFFBQVM4ekUsWUFHeEJSLEVBQWVuaUcsUUFDZmtoRyxHQUFZMEIsbUJBQXFCMUIsR0FBWTJCLDBCQUVqQ0QsdUJBRVQvekUsUUFDQWkwRSxZQUNBQyxNQUFLLFFBQ1FILDBEQVFkcmtHLEtBQUs4akcsY0FDa0MsSUFBdENuQixHQUFZZ0IsZUFBZWxpRyxRQUNPLElBQW5Da2hHLEdBQVlrQixZQUFZcGlHLFNBQ2UsT0FBMUJtaUcsZUFBZW5pRyxRQUM1QmtoRyxHQUFZMEIscUJBQXVCMUIsR0FBWTJCLDZCQUM5Q1IsY0FBZSxLQUNSVyxhQUFhOUIsR0FBWStCLGlDQUduQjlGLGNBSUxBLEVBQUcsZ0NBSVV4TSxLQUNwQndCLGNBQWUsMEJBR0FoTixFQUFrQitkLEVBQWdDOVMsTUFDbkU4USxHQUFZM1AsZ0JBQWdCcE0sU0FDeEIsSUFBSXhtRixNQUFNLHlEQTlRdEIsU0FBbUN3bUYsRUFBa0J2NEQsTUFDL0NtOUQsU0FBU1AsU0FBU3JFLFVBQ2JBLFFBRUhnZSxFQUFZcFosU0FBU0MsY0FBYyxTQUMvQm9ILGFBQWFSLEdBQVl3Uyw4QkFBK0IsTUFDeEQvWSxNQUFNeDNFLFNBQVcsVUFDakJ3M0UsTUFBTTNDLE1BQVEsU0FDZDJDLE1BQU0xQyxPQUFTLFNBQ2YwQyxNQUFNcjJFLElBQU0sUUFDWnEyRSxNQUFNQyxXQUFhLFdBQ25CRCxNQUFNRSxjQUFnQixTQUN0QkYsTUFBTWdaLFlBQWMsU0FDcEJoWixjQUEwQixTQUNaOFksRUFBVUcsYUFBYSxDQUFDQyxLQUFNLFNBQ3RDQyxZQUFZcmUsWUFDbkIrQyxnQkFBZ0JzYixZQUFZTCxLQWdRVGhlLE1BQ2RzZSx3QkFBd0J0ZSxTQUU5QjhXLEVBQVcsSUFBSWlCLGlCQUFpQmdFLEdBQVl3Qyx1QkFDN0NDLGtCQUFrQnIvRixJQUFJNmdGLEVBQVM4VyxRQUMvQjJILHNCQUFzQnplLFNBRXJCK1osRUFBaUIsSUFBSVUsa0JBQ2RpRSxLQUFVQyxFQUFTLE9BQ3RCQyxFQUFReGxHLEtBQUtnekYsZ0JBQWdCc1MsRUFBT3IwRixVQUNwQzBpRixlQUFlZ1AsR0FBWThDLHdCQUMzQmpTLHFCQUFxQm1QLEdBQVk4Qyw2QkFHNUI1RyxRQUFRalksUUFDbEJxUyxnQkFBZ0JsekYsSUFBSTZnRixFQUFTK1osS0FFMUJWLGlCQUFpQixRQUFTamdHLEtBQUswbEcsZ0JBQWlCLENBQUVDLFNBQVMsTUFDM0QxRixpQkFBaUIsVUFBV2pnRyxLQUFLMGxHLGdCQUFpQixDQUFFQyxTQUFTLE1BQzdEMUYsaUJBQWlCLFNBQVVqZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyxNQUM1RDFGLGlCQUFpQixTQUFVamdHLEtBQUswbEcsZ0JBQWlCLENBQUVDLFNBQVMsTUFDNUQxRixpQkFBaUIsUUFBU2pnRyxLQUFLMGxHLGdCQUFpQixDQUFFQyxTQUFTLE1BQzNEMUYsaUJBQWlCLE9BQVFqZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyxNQUMxRDFGLGlCQUFpQixnQkFBaUJqZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyxVQUVyRXZULEVBQVEsSUFBSTBHLEdBQVNsUyxFQUFTaUwsZUFDL0IrVCxXQUFXNy9GLElBQUk2Z0YsRUFBU3dMLEdBQ3RCQSxzQkFHV0EsTUFDZHB5RixLQUFLNGxHLFdBQVcxb0QsSUFBSWsxQyxFQUFNeEwsU0FBVSxNQUNqQ2dmLFdBQVdycEQsT0FBTzYxQyxFQUFNeEwsU0FDWjVtRixLQUFLb2xHLGtCQUFrQmg2RCxJQUFJZ25ELEVBQU14TCxTQUN6Q3NaLGtCQUNKa0Ysa0JBQWtCN29ELE9BQU82MUMsRUFBTXhMLFNBQ2I1bUYsS0FBS2k1RixnQkFBZ0I3dEQsSUFBSWduRCxFQUFNeEwsU0FDdkNzWixrQkFDVmpILGdCQUFnQjE4QyxPQUFPNjFDLEVBQU14TCxXQUM1QkEsUUFBUXVaLG9CQUFvQixRQUFTbmdHLEtBQUswbEcsZ0JBQWlCLENBQUVDLFNBQVMsTUFDdEUvZSxRQUFRdVosb0JBQW9CLFVBQVduZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyxNQUN4RS9lLFFBQVF1WixvQkFBb0IsU0FBVW5nRyxLQUFLMGxHLGdCQUFpQixDQUFFQyxTQUFTLE1BQ3ZFL2UsUUFBUXVaLG9CQUFvQixTQUFVbmdHLEtBQUswbEcsZ0JBQWlCLENBQUVDLFNBQVMsTUFDdkUvZSxRQUFRdVosb0JBQW9CLFFBQVNuZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyxNQUN0RS9lLFFBQVF1WixvQkFBb0IsT0FBUW5nRyxLQUFLMGxHLGdCQUFpQixDQUFFQyxTQUFTLE1BQ3JFL2UsUUFBUXVaLG9CQUFvQixnQkFBaUJuZ0csS0FBSzBsRyxnQkFBaUIsQ0FBRUMsU0FBUyw2QkFJakUvZSxFQUFrQmlmLEdBQVUsT0FDN0M5QyxFQUFnQjhDLEVBQVlqZixFQUFVQSxFQUFRc0Usb0JBQzVDNGEsUUFBc0IvQyxXQUFlZ0QsUUFBUSxJQUFJcEQsR0FBWTdQLHdCQUM5RGdULEVBQXFCLE9BQ2xCRSxvQkFBaUIzRCxlQUE2QjJELFFBQ2hEQSxTQUNLaG1HLEtBQUtnekYsZ0JBQWdCZ1QsRUFBTUgsVUFHL0I3bEcsS0FBS3N5RixPQUFPbG5ELElBQUkwNkQsNEJBR0FqYixFQUFtQzFCLEVBQWNDLEVBQWU2YyxFQUFrQnpxRixFQUFNLElBQUlqTSxTQUM3R2kwRCxFQUFZcW5CLEVBQWNybkIsVUFDMUIwaUMsRUFBa0JyYixFQUFjcWIsbUJBRUYsR0FBaEMxaUMsRUFBVXhnRCxRQUFRLFdBQWlCLEdBQ2pDMitCLGVBQ0E4akMsRUFBTWppQixFQUNQbnlDLFVBQVUsRUFBR215QyxFQUFVL2hFLE9BQVMsR0FDaEM0aEIsTUFBTSxNQUNOaEMsSUFBSTJPLGNBQ0gvdUIsU0FBUyxHQUFLd2tGLEVBQUksS0FDbEJ4a0YsU0FBUyxHQUFLd2tGLEVBQUksS0FDbEJ4a0YsU0FBUyxHQUFLd2tGLEVBQUksS0FDbEJ4a0YsU0FBUyxHQUFLd2tGLEVBQUksS0FDbEJ4a0YsU0FBUyxJQUFNd2tGLEVBQUksS0FDbkJ4a0YsU0FBUyxJQUFNd2tGLEVBQUksYUFDb0IsR0FBbENqaUIsRUFBVXhnRCxRQUFRLG9CQU9wQixLQU5IeWlFLEVBQU1qaUIsRUFDUG55QyxVQUFVLEVBQUdteUMsRUFBVS9oRSxPQUFTLEdBQ2hDNGhCLE1BQU0sTUFDTmhDLElBQUkyTyxjQUNIN2hCLFVBQVVzM0UsSUFLUSxJQUFwQmpxRSxFQUFJdmEsU0FBUyxPQUFjQSxTQUFTLEdBQUssT0FDckIsSUFBcEJ1YSxFQUFJdmEsU0FBUyxPQUFjQSxTQUFTLEdBQUssT0FDcEIsSUFBckJ1YSxFQUFJdmEsU0FBUyxRQUFlQSxTQUFTLElBQU0sU0FDM0NBLFNBQVMsS0FBT2dsRyxJQUNoQmhsRyxTQUFTLFFBQU9nbEcsTUFFaEJFLEVBQVNELEVBQWdCN2lGLE1BQU0sS0FBS2hDLElBQUkyTyxZQUV4Q28yRSxLQUFhLEdBQUtqZCxFQUFNLEdBQUs4YyxFQUM3QkksS0FBYSxHQUFLamQsRUFBTyxHQUFLNmMsS0FDOUJseEMsRUFBS294QyxFQUFPLElBQU0sRUFFbEJHLEVBQUs3RSxHQUFZOS9DLFdBQVc0a0QsaUJBQWlCSCxHQUFLQyxHQUFLdHhDLEdBQ3ZEeXhDLEVBQUs5RSxHQUFZLy9DLFdBQVc0a0QsZ0JBQWdCSCxFQUFJQyxFQUFJdHhDLGFBRTdDL3pELEtBQUt3YSxFQUFJdmEsWUFDZHF0QixNQUFNdHRCLFVBQVcsWUFHaEJ3YSxFQUFJaXJGLFlBQVlELEdBQUlqdEQsU0FBUytzRCx1Q0FHRjFmLFNBQzVCOGYsRUFBVyxHQUNYemxHLEVBQVcybEYsRUFBUStmLGlCQUFpQixlQUUvQnhVLEtBQVdseEYsRUFBVSxPQUN4Qit2RCxFQUFPbWhDLEVBQVF5VSxlQUFlLCtCQUFnQyxRQUNoRTUxQyxLQUNPeG9DLEtBQ1BtNkUsR0FBWWtFLFdBQVc3MUMsR0FBTXd6QyxZQUNuQnNDLGtCQUFrQiwrQkFBZ0MsVUFDbERqVSxhQUFhLE9BQVFrVSxjQUk3QkMsRUFBYTdVLEtBQ0ksT0FBbkJBLEVBQVE1RSxTQUFtRCxRQUEvQnlaLEVBQVc1UCxJQUFJdDNDLE9BQU8sRUFBRyxNQUM5Q3QzQixLQUNQbTZFLEdBQVlrRSxXQUFXRyxFQUFXNVAsS0FBS29OLFlBQzdCM1IsYUFBYSxNQUFPa1UsUUFJTixnQ0FBeEI1VSxFQUFRM0UsY0FBa0QyRSxFQUFRakUsYUFBYSxTQUFVLE9BQ3JGcEMsRUFBUXFHLEVBQVFPLGFBQWEsVUFBWSxLQUN0Q2xxRSxLQUNQbTZFLEdBQVlzRSxvQkFBb0JqZSxPQUFPOFosU0FBU29FLEtBQU1wYixHQUFPMFksVUFDdkQxWSxHQUFTcWIsS0FBYXRVLGFBQWEsUUFBU3NVLGdCQUtsRGhULEVBQVN2TixFQUFRK2YsaUJBQWlCLG1CQUM3QjdhLEtBQVNxSSxJQUNUM3JFLEtBQ1BtNkUsR0FBWXNFLG9CQUFvQmplLE9BQU84WixTQUFTb0UsS0FBTXBiLEVBQU1GLFdBQVc0WSxVQUNqRTFZLEVBQU1GLFdBQWF1YixNQUFXdmIsVUFBWXViLGVBSTdDcFIsUUFBUUMsSUFBSTBRLHlDQUlidEIsRUFBb0J6QyxHQUFZeUMsa0JBQWtCbjFELG1CQUM3Q2x2QyxLQUFLcWtHLEtBQ0ZELGlCQUFpQnBrRyxFQUFFcW1HLGlCQUM3QmxILHlEQUtRbC9GLEtBQU0yaEcsR0FBWXlDLHVCQUN2QkMsc0JBQXNCcmtHLGlDQUlNNGxGLEdBQ2xCK2IsR0FBWXlDLGtCQUFrQmg2RCxJQUFJdzdDLEdBQzFDaVksUUFBUWpZLEVBQVMsQ0FDeEIwSCxZQUFZLEVBQ1o0USxXQUFXLEVBQ1hDLFNBQVMsRUFDVEwsZUFBZSxFQUNmNEUsdUJBQXVCLEVBQ3ZCRCxtQkFBbUIsd0NBZ0RvQmphLFNBQ25DNmQsRUFBUzdkLEVBQUk4ZCxvQkFDVjlqRyxFQUFJLEVBQUdBLEVBQUk2akcsRUFBTzVsRyxPQUFRK0IsY0FFekI0akYsRUFBUWlnQixFQUFPN2pHLEdBQ2Y4akYsRUFBUUYsRUFBTW1nQixhQUNmamdCLGlCQUNDa2dCLEVBQVcsV0FDUjV0RixFQUFJLEVBQUdBLEVBQUkwdEUsRUFBTTdsRixPQUFRbVksSUFBSyxDQUNqQzB0RSxFQUFNMXRFLEdBQUc2dEYsUUFBUXprRixRQUFRLGdCQUNsQndGLEtBQUs4K0QsRUFBTTF0RSxHQUFHNnRGLFFBQVE1M0UsUUFBUSxJQUFJM1AsT0FBTyxTQUFVLEtBQU0sSUFBSXlpRixHQUFZWCxxQkFFaEYxYSxFQUFNMXRFLEdBQUc2dEYsUUFBUXprRixRQUFRLGlCQUNsQndGLEtBQ1A4K0QsRUFBTTF0RSxHQUFHNnRGLFFBQVE1M0UsUUFBUSxJQUFJM1AsT0FBTyxVQUFXLEtBQU0sSUFBSXlpRixHQUFZVCxzQkFHckU1YSxFQUFNMXRFLEdBQUc2dEYsUUFBUXprRixRQUFRLGdCQUNsQndGLEtBQUs4K0QsRUFBTTF0RSxHQUFHNnRGLFFBQVE1M0UsUUFBUSxJQUFJM1AsT0FBTyxTQUFVLEtBQU0sSUFBSXlpRixHQUFZVixxQkFFaEYzYSxFQUFNMXRFLEdBQUc2dEYsUUFBUXprRixRQUFRLGlCQUNsQndGLEtBQ1A4K0QsRUFBTTF0RSxHQUFHNnRGLFFBQVE1M0UsUUFBUSxJQUFJM1AsT0FBTyxVQUFXLEtBQU0sSUFBSXlpRixHQUFZUiwwQkFHckUveEQsRUFBTW8zRCxFQUFTeGtGLFFBQVFza0UsRUFBTTF0RSxHQUFHNnRGLFNBQ2hDcjNELFFBQ09waUIsT0FBT29pQixFQUFLLFFBR2hCeDJCLEVBQUksRUFBR0EsRUFBSTR0RixFQUFTL2xHLE9BQVFtWSxNQUM3QjJ0RSxXQUFXaWdCLEVBQVM1dEYsV0FFckI1WSxnQ0FJYzA0RCxXQUNyQmd1QyxFQUFTLEdBQ1QvL0YsRUFBTSt4RCxFQUFNMnVCLFdBQ1A3a0YsRUFBSSxFQUFHQSxFQUFJbUUsRUFBS25FLE9BQ2JvckIsT0FBTys0RCxhQUFhanVCLEVBQU1sMkQsV0FFL0J3bEYsT0FBTzJlLEtBQUtELHVCQUdEbmhGLEVBQWF0bUIsVUFDeEJBLEVBQVEsSUFBSXNtQixNQUFTdG1CLElBQVUsSUFBSXNtQiwwQkFHdkJBLEVBQWF0bUIsVUFDekJBLEVBQVEsR0FBR3NtQixNQUFTdG1CLEtBQVcsR0FBR3NtQix3Q0FHVnFoRixFQUFZVCxPQUN2Q1UsUUFDRW5CLEVBQVcsY0FHWFMsRUFBSXQzRSxRQUFRLElBQUkzUCxPQUFPLFNBQVUsS0FBTWxnQixLQUFLOG5HLGFBQWE5bkcsS0FBS2dpRyxtQkFDMURueUUsUUFBUSxJQUFJM1AsT0FBTyxVQUFXLEtBQU1sZ0IsS0FBSzhuRyxhQUFhOW5HLEtBQUtraUcsb0JBQzNEcnlFLFFBQVEsSUFBSTNQLE9BQU8sU0FBVSxLQUFNbGdCLEtBQUs4bkcsYUFBYTluRyxLQUFLaWlHLG1CQUMxRHB5RSxRQUFRLElBQUkzUCxPQUFPLFVBQVcsS0FBTWxnQixLQUFLOG5HLGFBQWE5bkcsS0FBS21pRyx5QkFHL0Q0RixFQUFRN25GLE9BQU8sd0RBQ2IybkYsRUFBUUUsRUFBTWpzQixLQUFLcXJCLElBQU8sT0FDMUJhLEVBQWNILEVBQU0sS0FDakJyL0UsS0FDUHhvQixLQUFLNm1HLFdBQVcsSUFBSXRlLElBQUl5ZixFQUFhSixHQUFLVixNQUFNMUMsWUFDeEMyQyxFQUFJdDNFLFFBQVFtNEUsRUFBYWpCLHNCQUsvQmhSLFFBQVFDLElBQUkwUSxHQUNYUyxzQkFHV1MsRUFBWUssWUFDeEIsSUFBSTFmLElBQUlxZixFQUFLNWUsT0FBTzhaLFNBQVNvRSxNQUFNQSxLQUNsQyxJQUFJblIsaUJBQ0xtUyxFQUFNLElBQUl6ZixpQkFFVkMsS0FBSyxNQUFPa2YsR0FBSyxHQUNqQkssS0FBWUUsaUJBQWlCLFNBQVVGLEtBRXZDRyxhQUFlLGdCQUVmblIsT0FBUyxPQUNIaVIsT0FHTkcsUUFBVSxPQUNKSCxPQUdOdmYsd0NBTXFCbUMsU0FDckJzWCxFQUFXdFgsRUFBR3VYLGNBQ2RpRyxFQUFXdG9HLEtBQUt1akcsWUFBWW40RCxJQUFJZzNELElBQWEsSUFBSXRsRCxTQUNsRHltRCxZQUFZeDlGLElBQUlxOEYsRUFBVWtHLFNBRXpCQyxFQUFnQnBxRixNQUFNdUYsS0FDMUIwK0UsRUFBU3VFLGlCQUFpQiwyREFFZG4rRSxLQUFLeG9CLEtBQUt5aUcsNkJBR2xCK0YsRUFBVzFkLEVBQUd1WCx3QkFBeUJvRyxzQkFFbEJuaEIsT0FDckJvaEIsRUFBVyxHQUNYQyxFQUFZLGFBQ0xDLEtBQVF0aEIsRUFDYnNoQixFQUFLem5GLE9BQVMwbkYsUUFBUUMsb0JBQ1gsT0FBU0YsRUFBS25CLFlBRWpCLE9BQVNtQixFQUFLbkIsZUFFckIsQ0FBQ2lCLFNBQUFBLEVBQVVDLFVBQUFBLGFBSVQvaEIsS0FBVzJoQixFQUNmRCxFQUFTcHJELElBQUkwcEMsTUFFUDdnRixJQUFJNmdGLEVBQVMsSUFBSW1QLG1CQUNsQmdULEVBQVVDLGFBQVksUUFDdEJwaUIsRUFBUVEsTUFBTyxlQUNIMmhCLFNBQ1J6ekQsRUFBUzJ6RCxFQUFrQnJpQixFQUFRUSxNQUFNRSxVQUMzQ2toQixHQUFZbHpELEVBQU9xekQsVUFBVyxPQUMxQk8sRUFBYTFkLFNBQVNDLGNBQWMsV0FDL0JHLFVBQVl0MkMsRUFBT3F6RCxtQkFDckJwRyxLQUFLMEMsWUFBWWlFLEtBQ2pCbmpHLElBQUltakcsRUFBWW5ULFFBQVE2TCxRQUFRLFdBRXRDdUgsNEJBQTRCL0csS0FDekI5c0QsRUFBT296RCxjQUVqQixRQUNEbEUsTUFBTWlELEdBQVl6bkcsS0FBS2luRyxvQkFBb0JqZSxPQUFPOFosU0FBU29FLEtBQU1PLGFBYWpFMVIsUUFBUUMsSUFBSXNTLEVBQVNyNEQsa0NBSU4yM0QsZUFDaEJNLFFBQVlsb0csS0FBS29wRyxPQUFPeEIsR0FDeEJ4a0YsRUFBTSxJQUFJNmtFLFdBQVdpZ0IsRUFBSW1CLFVBQ3pCQyxFQUFjLFdBQUlDLGtCQUFrQiwwQkFBaUJsbUYsTUFBTSxLQUFLLE1BQ25ELFlBQWZpbUYsRUFBMkIsS0FDekJuQyxFQUFNeEYsR0FBWTdZLE9BQU8xbEUsV0FDakJwakIsS0FBS2luRyxvQkFBb0JXLEVBQUtULFNBQ3BDcUMsRUFBU3hnQixPQUFPMmUsS0FBS1IsVUFDdkJxQyxFQUFPL25HLE9BQVMsRUFDWCxRQUFVNm5HLEVBQWMsV0FBYUUsRUFFckMsR0FFSixPQUNDekMsRUFBVSxRQUFVdUMsRUFBYyxXQUFhdHBHLEtBQUt3MkYsb0JBQW9CcHpFLFlBQzFFa21GLFdBQWFHLFdBQVcsU0FBVSxLQVUzQkMsRUFBVCxpQ0FDd0JDLEtBRWZBLEVBQVQsdUJBWE1DLEVBQVNwZSxTQUFTQyxjQUFjLFdBQ2xDb2UsUUFDRUMsRUFBYSxJQUFJL1QsZUFDSDZMLElBQ1gzSyxPQUFTLDJCQUNReVMsV0FTbkJ0UyxJQUFNMlAsUUFDUCtDLFVBRUQvQyxnQ0FJa0JuZ0IsR0FDdkJBLEVBQVE5K0QsUUFBUSxlQUFlaWlGLHNCQUFzQm5qQixhQUM5QzVsRixLQUFLNGxGLEVBQVFvakIscUJBQXFCLGNBQWVELHNCQUFzQi9vRyxpQ0FHdkRpcEcsR0FDdkJBLEVBQWEvYixhQUFhLFdBQ3ZCK2IsRUFBYUMsV0FBc0JDLGdCQUFnQixXQUVwREYsRUFBYUMsV0FBc0JyWCxhQUFhLFVBQVcsSUFFN0RvWCxFQUFhdlgsYUFBYSxXQUFhdVgsRUFBYWhxRyxTQUN6QzR5RixhQUFhLFFBQVNvWCxFQUFhaHFHLDRCQWNoQ21xRyxXQUNJLElBQUkxbUUsWUFBWTBtRSxFQUFVamlCLFFBQzFCL2lFLFNBQXdCLElBQVZpbEYsZ0JDbnZCeEMsR0R5RE9oWSxHQUNFd1AsaUJBQW1CLEtBRHJCeFAsR0FnQlV5UCxTQUFXLEVBR25CelAsR0FBQWlZLFdBQWEsSUFBSUMsY0FFakJsWSxHQUFBdVQsV0FBcUMsSUFBSTlvRCxJQUN6Q3UxQyxHQUFBQyxPQUFpQyxJQUFJeDFDLElBQzdCdTFDLEdBQUErUyxrQkFBb0QsSUFBSXRvRCxJQUN4RHUxQyxHQUFBNEcsZ0JBQTBDLElBQUluOEMsSUF4QnhEdTFDLEdBeUJFc1IsZUFBaUIsR0F6Qm5CdFIsR0EwQkV1UixlQUFpQixHQTFCbkJ2UixHQTJCRXdSLFlBQWMsR0EzQmhCeFIsR0E4Qlc2USxhQUFnQyxLQTlCM0M3USxHQStCV21ZLGNBQTZCLEtBL0J4Q25ZLEdBZ0NXMFEsY0FBNkIsS0FrQnRDMVEsR0FBQW1RLGtCQUFvQixJQUFJMWxELElBbEQxQnUxQyxHQTRMRWlTLHFCQUF1QixFQTVMekJqUyxHQTZMRTJSLG1CQUFxQixJQTdMdkIzUixHQThMRWdTLG1CQUFxQixFQTlMdkJoUyxHQTJORXlSLGNBQWUsRUE2TVB6UixHQUFBOFMsaUJBQW9CSSxjQUN0QkQsS0FBVUMsRUFBUyxJQUNSLGVBQWhCRCxFQUFPbmtGLEtBQXVCLElBQ2pCbWtGLEVBQU9yMEYsT0FDWHloRixhQUFhNFMsRUFBT21GLGlCQUFvQm5GLEVBQU9vRixxQkFJeEMsa0JBQWhCcEYsRUFBT25rRixLQUEwQixJQUNwQm1rRixFQUFPcjBGLE9BQ1g4VixPQUFTdStFLEVBQU9vRix3QkFJdkJ6NUYsRUFDSnEwRixFQUFPcjBGLE9BQU8wNUYsV0FBYW5tQyxLQUFLb21DLGFBQzNCdEYsRUFBT3IwRixPQUNScTBGLEVBQU9yMEYsT0FBT2k2RSxrQkFDZmo2RSxpQkFDQ21oRixFQUFRdVEsR0FBWTNQLGdCQUFnQi9oRixNQUNyQ21oRixNQUNlLGVBQWhCa1QsRUFBT25rRixNQUFrRCxVQUF6Qm1rRixFQUFPbUYsY0FBMkIsS0FDakRuRixFQUFPb0YsU0FBV3BGLEVBQU9vRixTQUFXLE1BQy9CcEYsRUFBT3IwRixPQUF1QjQ1RixxQkFJbEQ5WCxZQUNGWCxFQUFNVyxZQUFZVSxvQkFBb0JrUCxHQUFZOEMsc0JBQ2xEclQsRUFBTXVCLGVBQWVnUCxHQUFZOEMsMEJBSTFCcFQsR0FBQXFULGdCQUFrQm9GLE1BQU85cEcsVUFDaENveEYsRUFBUXVRLEdBQVkzUCxnQkFBZ0JoeUYsRUFBRWlRLFFBRXhDbWhGLE1BRUlXLFlBQ0ZYLEVBQU1XLFlBQVlVLG9CQUFvQmtQLEdBQVk4QyxzQkFDbERyVCxFQUFNdUIsZUFBZWdQLEdBQVk4Qyx5QkF5RzFCcFQsR0FBQWtSLFlBQWMsSUFBSXptRCxJQ2xuQi9CeWtELEtBQUt3SixVQUNIQSxHQUFReEosS0FBS3dKLFdBRWJBLEdBQVFDLEVBd0JkLE1BQU1DLEdBQWdCLElBQUlGLEdBQU14N0YsUUFDMUIyN0YsR0FBZ0IsSUFBSUgsR0FBTTM4RixRQUMxQis4RixHQUFpQixJQUFJSixHQUFNMzhGLFFBQzNCZzlGLEdBQWdCLElBQUk5aEIsR0FDcEIraEIsR0FBaUIsSUFBSS9oQixHQUVyQmdpQixHQUFtQjNuRSxPQUFPLHFDQUVPb25FLEdBQU1RLFNBTTNDMXJHLFlBQW1CK21GLEVBQXlCdjRELEVBQTZCLHVEQUp6RCxlQThCRSxjQUNELGdCQUNFLGdCQUVSLElBQUl5dUIsNkJBK0JNLG1CQUVQLElBQUlpdUQsR0FBTVMsS0FDdEJDLEdBQVdDLFNBQ1gsSUFBSVgsR0FBTVksa0JBQWtCLENBQzFCQyxLQUFNYixHQUFNYyxXQUNaQyxZQUFZLEVBQ1pDLGFBQWEsRUFDYkMsVUFBVyxLQUNYQyxRQUFTLHNCQVNTLElBQUlsQixHQUFNUyxLQUM5QkMsR0FBV0MsU0FDWCxJQUFJWCxHQUFNWSxrQkFBa0IsQ0FDMUJuaUMsU0FBUyxpQkFJSixJQUFJdWhDLEdBQU1RLDRCQUtILElBQUlSLEdBQU1tQixrQkFBa0IsQ0FDMUNDLGFBQWNwQixHQUFNcUIsaUJBQ3BCSixVQUFXLHNCQUdELElBQUlqQixHQUFNUSxzQkFDWixJQUFJUixHQUFNMzhGLFFBQVEsRUFBRSxFQUFFLHVCQStDTSw2QkFlUSxZQTdKdkM0VCxLQUFPNGtFLEVBQVF6cUMsUUFDZmt3RCxVQUFZaGEsR0FBWVcsZ0JBQWdCcE0sUUFFeENyd0UsSUFBSXZXLEtBQUtzc0csa0JBQ1QvMUYsSUFBSXZXLEtBQUt1c0csa0JBQ1RDLE9BQU9oakMsU0FBVSxPQUVqQmlqQyxrQkFBbUIsT0FFbkJILFlBQVlHLGtCQUFtQixPQUMvQkgsWUFBWTlpQyxTQUFVLE9BQ3RCOGlDLGdDQUFxQ3RzRyxLQUFLMHNHLG1CQUMxQ0osWUFBWUssZUFBaUIsQ0FBQ0MsRUFBVUMsRUFBT3pnRyxVQUM3QzBnRyxRQUFVMWdHLFNBR1ptZ0csWUFBWUUsa0JBQW1CLEtBRXpCTSxnQkFBZ0JobkcsSUFBSS9GLEtBQUs0bUYsUUFBUzVtRixTQUNsQ2d0RyxhQUFham5HLElBQUkvRixLQUFLc3NHLFlBQWF0c0csK0JBWVAsVUFBbkNBLEtBQUtxc0csVUFBVXpsQixRQUFRMkcsUUFBcUIsT0FDeEMwZixFQUFRanRHLEtBQUtxc0csVUFBVXpsQixZQUN6QmxnRCxFQUFJMW1DLEtBQUtrdEcsU0FBUzloRSxJQUFJNmhFLFVBQ3JCdm1FLE1BQ0MsSUFBSXFrRSxHQUFNb0MsYUFBYUYsS0FDekJHLE1BQVFyQyxHQUFNc0Msc0JBQ2RDLE1BQVF2QyxHQUFNc0Msc0JBQ2RFLFVBQVl4QyxHQUFNeUMsYUFDaEJ4dEcsS0FBS3F1QixRQUFRby9FLG9CQUFtQkMsU0FBVzF0RyxLQUFLcXVCLFFBQVFvL0Usc0JBQ3ZEUCxTQUFTbm5HLElBQUlrbkcsRUFBT3ZtRSxJQUVwQkEsUUFHSGt3RCxFQUFTNTJGLEtBQUtxc0csVUFBVXpWLFdBQzFCOXlGLEVBQUk5RCxLQUFLa3RHLFNBQVM5aEUsSUFBSXdyRCxVQUNyQjl5RixNQUNDLElBQUlpbkcsR0FBTTRDLFFBQVEvVyxLQUNwQmdYLGFBQWMsSUFDZFIsTUFBUXJDLEdBQU1zQyxzQkFDZEMsTUFBUXZDLEdBQU1zQyxzQkFDZEUsVUFBWXhDLEdBQU15QyxhQUNoQnh0RyxLQUFLcXVCLFFBQVFvL0Usb0JBQW1CQyxTQUFXMXRHLEtBQUtxdUIsUUFBUW8vRSxzQkFDdkRQLFNBQVNubkcsSUFBSTZ3RixFQUFROXlGLElBRXJCQSw0QkE2Q0E5RCxLQUFLcXNHLFVBQVUzVyxnQ0FPZjExRixLQUFLcXNHLFVBQVVqZSx5QkFPZnB1RixLQUFLNnRHLGVBQWlCN3RHLEtBQUs2dEcsZUFBZUMsZUFBZTlxRixRQUFRaGpCLE1BQVEsNEJBSXpFQSxLQUFLcXNHLFVBQVV6WSxhQUd4Qi96Rix1QkFDT3dzRyxVQUFVMVksZUFBZXRCLEdBQVlvVCxpREFLbkN6bEcsS0FBS3FzRyxVQUFVblksaUNBSWZsMEYsS0FBS3FzRyxVQUFVaGpCLG1DQUtwQnJwRixLQUFLcXNHLFVBQVV0WixhQUNmMFksR0FBV3NCLGdCQUFnQjNoRSxJQUFJcHJDLEtBQUtxc0csVUFBVXRaLFlBQVluTSxTQXdCdkQvbUYsUUFBUXF0QyxHQUFRLGNBQ2hCbS9ELFVBQVUwQixlQUNWRCxlQUFlcnNHLE9BQVMsWUFDbEJ1QixLQUFLaEQsS0FBS3FzRyxVQUFVM1ksWUFBYSxPQUNwQ25oRSxFQUFRazVFLEdBQVdzQixnQkFDdEIzaEUsSUFBSSxZQUFZNG5ELGdCQUFnQmh3RixFQUFFNGpGLG1CQUFVQSxTQUMxQ3IwRCxTQUNBdTdFLGVBQWV0bEYsS0FBSytKLEdBQ3JCMmEsS0FBZTZnRSxRQUFRN2dFLFVBRXhCOGdFLDJCQUNBQyxxQkFHQ3B1RyxrQkFFRkcsS0FBSzhzRyxRQUFTLE1BRVhvQixRQUFVaHRHLEtBQUthLElBQ2xCbXBHLEdBQWNpRCxzQkFBc0JudUcsS0FBSzhWLFFBQVE5UCxFQUNqRGtsRyxHQUFjaUQsc0JBQXNCbnVHLEtBQUtzc0csWUFBWXgyRixRQUFROVAsUUFDMURvb0csT0FBU2x0RyxLQUFLYSxJQUFJL0IsS0FBS3NzRyxZQUFZK0IsaUJBQWlCbkQsSUFBZTcrRixhQUFhck0sS0FBSzhzRyxRQUFReGdHLG9CQUFvQnRHLE9BRWxIc29HLEVBQWdCdHVHLEtBQUs2dEcsZUFBaUI3dEcsS0FBSzZ0RyxlQUFlVSxTQUFXdnVHLEtBQUtvdUcsT0FFMUVwdUcsS0FBS2t1RyxRQUFVLFVBQ1pLLFNBQVdELE9BRVhDLFNBQVd2dUcsS0FBS291RyxZQUdsQjlCLFlBQVlrQyxrQkFBb0JuZ0YsUUFBUW9nRixtQkFBcUIsTUFDM0R2dEcsS0FBSytELElBQUlqRixLQUFLdXVHLFNBQVcsR0FBS3J0RyxLQUFLK0QsSUFBSWpGLEtBQUs4c0csUUFBUWwzRixJQUFNLElBQzdCLFdBQTVCdzRFLE1BQXFCLEtBQWJwdUYsS0FBS0csU0FLakJOLHNCQUNBNnVHLEVBQU8xdUcsS0FBS3NzRyxZQUNacUMsRUFBVTN1RyxLQUFLNHVHLGVBQ2ZDLEVBQVdILEVBQUtHLFlBQ2xCRixFQUFRRyxPQUFTRCxFQUFTeHRGLE1BQVFzdEYsRUFBUyxPQUN2Q0ksRUFBZS91RyxLQUFLc3NHLFlBQVkvM0YsTUFDaEN5NkYsRUFBUzl0RyxLQUFLYSxJQUFJZ3RHLEVBQWFqdkcsRUFBSUUsS0FBS3VVLE1BQU16VSxFQUFJaXZHLEVBQWFodkcsRUFBSUMsS0FBS3VVLE1BQU14VSxHQUM5RWt2RyxFQUFlanZHLEtBQUtrdkcsUUFBUXB2RyxFQUFJRSxLQUFLa3ZHLFFBQVFudkcsRUFDL0NtQixLQUFLYSxJQUFJa3RHLEVBQWFELEdBQVUsUUFDekIzdEYsSUFBTXN0RixPQUNWakMsa0JBQXVCaUMsRUFDeEIzdUcsS0FBS212RywwQkFDRkEsb0JBQXFCLElBQ2pCdkIsYUFBYyxJQUNmQSxhQUFjLE9BQ2pCbEIsY0FBY2tCLGFBQWMsT0FJOUI3QixhQUFjLFFBSWpCcUQsRUFETVYsRUFBS0csU0FDSTVDLFFBQVUsS0FDM0JtRCxJQUFlNWxDLFNBQVUsRUFDcEJrbEMsRUFBS0csU0FBU3h0RixRQUFVbW9ELFNBQVUsR0FDdkN4cEUsS0FBS2swRixjQUFnQmtiLElBQ25CcHZHLEtBQUt1a0QsYUFBYUEsT0FBT1UsT0FBT2psRCxXQUMvQnF2RyxzQ0FLQTVELEdBQVdzQixnQkFBZ0IzaEUsSUFBSXByQyxLQUFLcXNHLFVBQVU5WSxVQUFVM00sVUFJeEQwa0IsT0FFQ3pyRyxpQkFDSHlyRyxXQUVBZ0UscUJBQ0FDLG9CQUVBajdGLFNBQVM3SixLQUFLekssS0FBS3d2RyxVQUFVbDdGLGVBQzdCdk0sV0FBVzBDLEtBQUt6SyxLQUFLd3ZHLFVBQVV6bkcsaUJBQy9Cd00sTUFBTTlKLEtBQUt6SyxLQUFLd3ZHLFVBQVVqN0YsWUFDMUIrM0YsWUFBWWg0RixTQUFTdk8sSUFBSSxFQUFFLEVBQUUsUUFDN0J1bUcsWUFBWS8zRixNQUFNOUosS0FBS3pLLEtBQUtrdkcsY0FDNUI1QyxZQUFZdmtHLFdBQVdoQyxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQ2pDd21HLFlBQVlqNEYsU0FBU3ZPLElBQUksRUFBRSxFQUFFLFFBQzdCd21HLFlBQVloNEYsTUFBTTlKLEtBQUt6SyxLQUFLa3ZHLGNBQzVCM0MsWUFBWXhrRyxXQUFXaEMsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUVsQy9GLEtBQUs0ekYsZUFBNkMsSUFBN0I1ekYsS0FBS3F1QixRQUFRb2hGLGtCQUMvQjFCLGFBQ0syQix5QkFHZDd2RyxPQUFPcXRDLEdBQVEsR0FDVEEsT0FBY3lpRSx1QkFBdUIzdkcsS0FBSzR2RyxnQkFDcENBLGFBR1ovdkcsY0FBY3duRixlQUNOVCxFQUFVNW1GLEtBQUs0bUYsUUFBUW9jLGNBQWMzYixLQUMzQixjQUFLVCxRQUFRRSxxQkFBWWtjLGNBQWMzYixPQUNuRFQsU0FDSzZrQixHQUFXc0IsZ0JBQWdCM2hFLElBQUl3N0MsR0FLMUMvbUYsdUJBQ0VnbkYsU0FFTWtNLEVBQWMveUYsS0FBSzZ0RyxlQUNyQjlhLE1BQ1U4Yyx1QkFBdUJocEIsS0FDOUIva0UsS0FBSzloQixLQUFNK3lGLEtBSXBCbHpGLHVCQUNFZ25GLE9BRThCLElBQTFCQSxFQUFLL2tFLEtBQUs5aEIsS0FBTUEsY0FBd0IsWUFDakN1eUIsS0FBU3Z5QixLQUFLOHRHLG1CQUNvQixJQUF2Q3Y3RSxFQUFNbzlFLHVCQUF1QjlvQixXQUF3QixVQUVwRCxFQUdUaG5GLHdCQUNFZ25GLGFBRVd0MEQsS0FBU3Z5QixLQUFLOHRHLG1CQUNxQixJQUF4Q3Y3RSxFQUFNdTlFLHdCQUF3QmpwQixXQUF3QixTQUVyREEsRUFBSy9rRSxLQUFLOWhCLEtBQU1BLFFBQVMsRUFHbENILG9CQUNhaUUsS0FBSzlELEtBQUtrdEcsU0FBU2o5RCxXQUMxQm8vRCxlQUVDL0MsWUFBWTMwRixTQUFTMDNGLGVBQ3JCOUMsWUFBWTUwRixTQUFTMDNGLGFBQ2RVLGFBQWEvdkcsS0FBS3FzRyxxQkFDbkI5NUUsS0FBU3Z5QixLQUFLOHRHLGlCQUFzQnVCLFdBR3pDeHZHLHlCQUN3QixVQUExQkcsS0FBSzRtRixRQUFRa0gsU0FBc0IsT0FDL0JtZixFQUFRanRHLEtBQUs0bUYsUUFDYituQixFQUFVM3VHLEtBQUs0dUcsZUFDZi9qQixFQUFnQmQsaUJBQWlCL3BGLEtBQUs0bUYsVUFDdENvcEIsVUFBRUEsR0FBY25sQixHQUNkMUIsTUFBTzhtQixFQUFXN21CLE9BQVE4bUIsR0FBZWx3RyxLQUFLcXBGLFFBQ2hEOG1CLFdBQUVBLGNBQVlDLEdBQWdCbkQsRUFDOUJvRCxFQUFhRixFQUFhQyxFQUMxQkUsRUFBWUwsRUFBWUMsV0FDdEJwdEcsT0FBT2lELElBQUksR0FBSyxJQUNoQmlxRyxPQUNELFNBQ0tPLE9BQU94cUcsSUFBSWtxRyxFQUFZRSxFQUFZRCxFQUFhRSxHQUFhSSxZQUFZLEVBQUcsYUFFakYsY0FDQSxrQkFDS0QsT0FBT3hxRyxJQUFJLEVBQUcsR0FDbEJ1cUcsRUFBWUQsRUFBWSxPQUNwQmxuQixFQUFRbnBGLEtBQUtxcEYsT0FBT0QsT0FBU2luQixHQUFjLE9BQzVDaG5CLE9BQU85ekUsWUFBYzh6RSxPQUFPRixNQUFRQSxHQUFTLE9BQzdDRSxPQUFPRixNQUFRQSxRQUNmLE9BQ0NDLEVBQVNwcEYsS0FBS3FwRixPQUFPRixNQUFRa25CLEdBQWMsT0FDNUNobkIsT0FBTzV6RSxXQUFhNHpFLE9BQU9ELE9BQVNBLEdBQVUsT0FDOUNDLE9BQU9ELE9BQVNBLGFBR3BCLGFBQ0ttbkIsT0FBT3hxRyxJQUFJa3FHLEVBQVlFLEVBQVlELEVBQWFFLEdBQ3BERSxFQUFZRCxFQUFZLE9BQ3BCbG5CLEVBQVFucEYsS0FBS3FwRixPQUFPRCxPQUFTaW5CLEdBQWMsT0FDNUNobkIsT0FBTzl6RSxZQUFjOHpFLE9BQU9GLE1BQVFBLEdBQVMsT0FDN0NFLE9BQU9GLE1BQVFBLFFBQ2YsT0FDQ0MsRUFBU3BwRixLQUFLcXBGLE9BQU9GLE1BQVFrbkIsR0FBYyxPQUM1Q2huQixPQUFPNXpFLFdBQWE0ekUsT0FBT0QsT0FBU0EsR0FBVSxPQUM5Q0MsT0FBT0QsT0FBU0EscUJBSXBCLFNBQ0ttbkIsT0FBT3hxRyxJQUFJLEVBQUcsTUFNdEJsRyx1QkFFRkcsS0FBS2swRix5QkFJSnNiLFVBQVVsN0YsU0FBU3ZPLElBQUksRUFBRSxFQUFFLFFBQzNCeXBHLFVBQVVqN0YsTUFBTXhPLElBQUksRUFBRyxFQUFHLFFBQzFCeXBHLFVBQVV6bkcsV0FBV2hDLElBQUksRUFBRyxFQUFHLEVBQUcsU0FFakNzakYsRUFBU3JwRixLQUFLcXBGLE9BQ2RGLEVBQVFFLEVBQU9GLE1BQ2ZDLEVBQVNDLEVBQU9ELE9BQ2hCNmMsRUFBWSxFQUFJd0YsR0FBV2dGLGdDQUU1QnZCLFFBQVFucEcsSUFDWDdFLEtBQUtFLElBQUk2a0csRUFBWTljLEVBQU8sTUFDNUJqb0YsS0FBS0UsSUFBSTZrRyxFQUFZN2MsRUFBUSxNQUM3QixJQUdHcWlCLEdBQVdpRixxQkFBcUIxd0csbUJBRS9CMndHLEVBQ0ozd0csS0FBSzZ0RywwQkFBMEIrQyxHQUMzQjV3RyxLQUFLNnRHLGVBQWV4a0IsZ0I5QnhNSUEsVUFDM0JrQyxHQUFlMFIscUJBQXFCdFQsZ0JBQWdCK1ksT0FBT25YLE1BQ3pEaDJFLEtBQU9zN0YsY0FDUHA3RixJQUFNcTdGLGNBQ04zbkIsTUFBUW9DLEdBQWVqQixjQUN2QmxCLE9BQVNtQyxHQUFlZCxhQUN4QnBCLEU4Qm1NQzBuQixDQUFrQjNGLElBSWxCNEYsR0FIY0wsRUFBYXhuQixNQUdELEVBQUlBLEVBQVEsRUFDdEM4bkIsRUFIZU4sRUFBYXZuQixPQUdILEVBQUlBLEVBQVMsT0FJdkNvbUIsVUFBVWw3RixTQUFTdk8sSUFDdEJrZ0csS0FBd0I1YyxFQUFPOXpFLE1BQy9CMHdGLEtBQXVCNWMsRUFBTzV6RSxLQUM5QixTQUdJbzFFLEVBQWdCZCxpQkFBaUIvcEYsS0FBSzRtRixTQUN0Q3BqQixFQUFZcW5CLEVBQWNybkIsYUFDNUJBLEdBQTJCLFNBQWRBLEVBQXNCLE9BQy9CMHRDLEVBQWU3ZSxHQUFZOGUsa0JBQWtCdG1CLEVBQWUxQixFQUFPQyxFQUFRNmMsRUFBV2dGLElBQ3hGaUcsU0FDRzFCLFVBQVU0QixvQkFDVjVCLFVBQVUxNUYsT0FBT3lqQyxTQUFTMjNELFFBQzFCMUIsVUFBVTE1RixPQUFPdTdGLFVBQVVyeEcsS0FBS3d2RyxVQUFVbDdGLFNBQVV0VSxLQUFLd3ZHLFVBQVV6bkcsV0FBWS9ILEtBQUt3dkcsVUFBVWo3RixXQXlCcEcsdUJBQXlCdzJGLEdBQU1RLFNBdUNwQzFyRyxZQUFZeXhHLEVBQXNDampGLEVBQTZCLGlEQUpwRCxtQkFDTixJQUFJMDhFLEdBQU13RyxpQ0FDSCw2QkFxRUcsSUFBSUMsd0JBQ1Ysd0JBRUVwZixJQUNyQkEsRUFBTXNELGFBQWE1RCxZQUFZMmYscUJBQXFCbDdGLElBQUk2N0UsS0FDdERvYSxPQUFPaGpDLFNBQVUsSUFDakJrc0IsYUFBYTVELE9BQVEsT0FDdEI0ZixlQUFlbHBGLEtBQUs0cEUsRUFBTWthLHFCQXZFekIxbEIsRUFBbUMsaUJBQWxCMHFCLEVBQTZCSyxHQUFJTCxHQUFpQkEsS0FFN0RNLGdCQUFnQmhyQixFQUFTdjRELEdBQVMsQ0FBQzR2RSxHQUFTaHRGLE9BQUFBLGlCQUN4QyxpQkFBVmd0RixFQUEwQixPQUN0QjdMLEVBQVEsSUFBSXdlLEdBQWtCMy9GLEVBQVFqUixLQUFLcXVCLFNBQzdDcGQsSUFBVzIxRSxLQUNQMGtCLElBQW9CLElBQU10ckcsS0FBSzZ4Ryx3QkFDL0JDLFFBQVMsT0FDVnZlLFVBQVluQixPQUNaNzdFLElBQUk2N0UsZUFDRXliLG1CQUFnQnQzRixJQUFJNjdFLEdBQzdCcHlGLEtBQUtxdUIsUUFBUTBqRixvQkFBb0IxakYsUUFBUTBqRixjQUFjM2YsWUFDeEMsaUJBQVY2TCxFQUEwQixPQUM3QjdMLEVBQVFDLEdBQVlDLE9BQU9sbkQsSUFBSW42QixHQUNyQitnRyxHQUFXakYsZ0JBQWdCM2hFLElBQUlnbkQsRUFBTXhMLFNBQzdDdW9CLG9CQUFxQixXQUNWLGVBQVZsUixFQUF3QixPQUMzQjdMLEVBQVE0ZixHQUFXakYsZ0JBQWdCM2hFLElBQUluNkIsY0FDdkM0OEYsbUJBQWdCdDNGLElBQUk2N0UsYUFJekIyYixlQUNBOWxHLHNDQXhDcUJtcUYsU0FDcEI2ZixFQUFTN2YsRUFBTXNlLDRCQUNHLFdBQW5CdUIsSUFBMEMsSUFBWEEsR0FDWixVQUFuQkEsSUFBeUMsSUFBWEEsS0FDcEIsU0FBWEEsSUFBcUI3ZixFQUFNeWIsZ0JBQWtCemIsRUFBTTd0QyxTQUFXNnRDLEVBQU15Yiw2Q0E0Q2pFN3RHLEtBQUtreUcscUNBRU1DLFFBQ2JELGlCQUFtQkMsR0FPMUJ0eUcsY0FBY3duRixVQUNMcm5GLEtBQUt1ekYsVUFBVXlQLGNBQWMzYixHQU10Q3huRixlQUNPMHpGLFVBQVV3YSxTQUFRLElBTXpCbHVHLGNBQ08wekYsVUFBVXRyRixRQUFPLDZCQUtmakksS0FBS3V6RixVQUFVK1ksWUFxQmhCenNHLGtCQUFrQmMsRUFBZUMsU0FDakN3eEcsRUFBU3p4RyxFQUFFNlcsT0FBTytzQyxPQUNsQjh0RCxFQUFTenhHLEVBQUU0VyxPQUFPK3NDLGNBQ3BCNnRELEVBQU9oa0IsUUFBVWlrQixFQUFPamtCLE1BQ25CaWtCLEVBQU9qa0IsTUFBUWdrQixFQUFPaGtCLE1BRXhCaWtCLEVBQU9seUcsTUFBUWl5RyxFQUFPanlHLE1BR3ZCTiw0QkFHQXl5RyxFQUFZdHlHLEtBQUt5eEcsdUJBQ2JqMUQsYUFDTGsxRCxlQUFlandHLE9BQVMsT0FDeEI4eEYsVUFBVW9jLHVCQUF1QjN2RyxLQUFLdXlHLDJCQUVoQ0MsS0FBT3h5RyxLQUFLa3lHLGlCQUFrQixDQUNuQ00sYUFBZXpILEdBQU0wSCxTQUFVQyxXQUFXRixJQUFJL25HLEtBQUsrbkcsUUFFaERFLFdBQVdGLElBQUl6c0csSUFDbEJ5c0csRUFBSW5FLGlCQUFpQm5ELElBQ3JCc0gsRUFBSUcsa0JBQWtCeEgsSUFBZ0J5SCxlQUVyQ0Msa0JBQWtCcHhHLE9BQVMsUUFDMUJxeEcsRUFBZ0I5eUcsS0FBSzB5RyxXQUFXSyxpQkFBaUIveUcsS0FBSzB4RyxnQkFBZ0IsRUFBTzF4RyxLQUFLNnlHLHFCQUUxRTlvRixLQUFLL3BCLEtBQUtnekcseUJBQ2xCQyxFQUFlSCxFQUFjLE1BQy9CRyxFQUFjLE9BQ1Y3Z0IsRUFBUTZnQixFQUFhejdGLE9BQU8rc0MsU0FDNUJpb0QsT0FBT2w0RixTQUFTN0osS0FBS3dvRyxFQUFhdjhGLFNBQ2xDODFGLE9BQU9oakMsU0FBVSxJQUNqQmtzQixhQUFhNUQsT0FBUSxFQUN0QndnQixFQUFVcDFELElBQUlrMUMsTUFDWDhnQiw4QkFLRDlnQixLQUFTa2dCLEVBQ2JsZ0IsRUFBTXNELGFBQWE1RCxTQUNoQm9oQixtQkFTWnJ6RyxRQUFRMnlHLFNBQ0FXLEVBQVluekcsS0FBSzB5RyxXQUNqQkksRUFBZ0I5eUcsS0FBSzZ5RyxrQkFDckJPLEVBQVVwQixHQUFXaEYsYUFDdkJ3RixhQUFlekgsR0FBTTBILFNBQ2xCQyxXQUFXRixJQUFJL25HLEtBQUsrbkcsUUFDakJFLFdBQVdGLElBQUl6c0csSUFDdkJ5c0csRUFBSW5FLGlCQUFpQm5ELElBQ3JCc0gsRUFBSUcsa0JBQWtCeEgsSUFBZ0J5SCxZQUUxQm54RyxPQUFTLElBQ2I0eEcsZ0JBQWdCcnpHLE1BQU0sRUFBTTh5RyxLQUV4Qi9vRixLQUFLL3BCLEtBQUtnekcsNkJBQ2JDLEtBQWdCSCxFQUFlLE9BQ2xDMWdCLEVBQVFnaEIsRUFBU2hvRSxJQUFJNm5FLEVBQWF6N0YsWUFDbkM0NkUsaUJBQ0NraEIsRUFBb0JDLEdBQVVuaEIsRUFBTXhMLFFBQVN3a0IsUUFDOUNrSSxFQUFrQm5xQixRQUFVbXFCLEVBQWtCbHFCLG9CQUMvQ240RSxFQUFTbWhGLEVBQU14TCxjQUNiNHNCLEVBQVVQLEVBQWFRLEdBQUkzekcsRUFBSXd6RyxFQUFrQm5xQixNQUNqRHVxQixLQUFlVCxFQUFhUSxHQUFJMXpHLEdBQUt1ekcsRUFBa0JscUIsaUJBQ3ZDZ0osRUFBTXhMLGlCQUNyQjMxRSxFQUFPZzZFLFNBQVNILFdBQVksUUFDM0I2b0IsRUFBc0JKLEdBQVV6b0IsRUFBSXVnQixJQUNwQ2xoQixFQUFhd3BCLEVBQW9CcCtGLEtBQU8rOUYsRUFBa0IvOUYsS0FDMUQwMEUsRUFBWTBwQixFQUFvQmwrRixJQUFNNjlGLEVBQWtCNzlGLEtBQ3hEMHpFLE1BQUVBLFNBQU9DLEdBQVd1cUIsU0FJeEJILEVBQVVycEIsR0FDVnFwQixFQUprQnJwQixFQUFhaEIsR0FLL0J1cUIsRUFBVXpwQixHQUNWeXBCLEVBTG1CenBCLEVBQVliLE1BT3RCMEIsR0FDRixNQUlKLENBQUVzSCxNQUFBQSxFQUFPNmdCLGFBQUFBLEVBQWNoaUcsT0FBQUEsZ0JBdE4zQnc2RixHQUFBc0IsZ0JBQWtCLElBQUk5UyxRQUN0QndSLEdBQUF1QixhQUFlLElBQUkvUyxRQUhyQndSLEdBS0VtSSx5QkFBMkIsS0FMN0JuSSxHQU1FZ0Ysd0JBQTBCLElBTjVCaEYsR0FPRUMsU0FBVyxJQUFJWCxHQUFNOEksY0FBYyxFQUFHLEVBQUcsRUFBRzs7OzsifQ==
